(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var Lx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function PB(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var a=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return r[s]}})}),t}var A1={exports:{}},Xf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function RB(){if(JE)return Xf;JE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:r,type:s,key:o,ref:a!==void 0?a:null,props:i}}return Xf.Fragment=e,Xf.jsx=t,Xf.jsxs=t,Xf}var eT;function IB(){return eT||(eT=1,A1.exports=RB()),A1.exports}var n=IB(),C1={exports:{}},rs={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function DB(){if(tT)return rs;tT=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function m(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function v(B,G,te){this.props=B,this.context=G,this.refs=x,this.updater=te||p}v.prototype.isReactComponent={},v.prototype.setState=function(B,G){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,G,"setState")},v.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=v.prototype;function k(B,G,te){this.props=B,this.context=G,this.refs=x,this.updater=te||p}var S=k.prototype=new N;S.constructor=k,y(S,v.prototype),S.isPureReactComponent=!0;var R=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function P(B,G,te,re,ie,he){return te=he.ref,{$$typeof:r,type:B,key:G,ref:te!==void 0?te:null,props:he}}function E(B,G){return P(B.type,G,void 0,void 0,void 0,B.props)}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function M(B){var G={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(te){return G[te]})}var L=/\/+/g;function z(B,G){return typeof B=="object"&&B!==null&&B.key!=null?M(""+B.key):G.toString(36)}function F(){}function V(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(F,F):(B.status="pending",B.then(function(G){B.status==="pending"&&(B.status="fulfilled",B.value=G)},function(G){B.status==="pending"&&(B.status="rejected",B.reason=G)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function $(B,G,te,re,ie){var he=typeof B;(he==="undefined"||he==="boolean")&&(B=null);var le=!1;if(B===null)le=!0;else switch(he){case"bigint":case"string":case"number":le=!0;break;case"object":switch(B.$$typeof){case r:case e:le=!0;break;case u:return le=B._init,$(le(B._payload),G,te,re,ie)}}if(le)return ie=ie(B),le=re===""?"."+z(B,0):re,R(ie)?(te="",le!=null&&(te=le.replace(L,"$&/")+"/"),$(ie,G,te,"",function(Be){return Be})):ie!=null&&(I(ie)&&(ie=E(ie,te+(ie.key==null||B&&B.key===ie.key?"":(""+ie.key).replace(L,"$&/")+"/")+le)),G.push(ie)),1;le=0;var De=re===""?".":re+":";if(R(B))for(var Oe=0;Oe<B.length;Oe++)re=B[Oe],he=De+z(re,Oe),le+=$(re,G,te,he,ie);else if(Oe=m(B),typeof Oe=="function")for(B=Oe.call(B),Oe=0;!(re=B.next()).done;)re=re.value,he=De+z(re,Oe++),le+=$(re,G,te,he,ie);else if(he==="object"){if(typeof B.then=="function")return $(V(B),G,te,re,ie);throw G=String(B),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return le}function Y(B,G,te){if(B==null)return B;var re=[],ie=0;return $(B,re,"","",function(he){return G.call(te,he,ie++)}),re}function X(B){if(B._status===-1){var G=B._result;G=G(),G.then(function(te){(B._status===0||B._status===-1)&&(B._status=1,B._result=te)},function(te){(B._status===0||B._status===-1)&&(B._status=2,B._result=te)}),B._status===-1&&(B._status=0,B._result=G)}if(B._status===1)return B._result.default;throw B._result}var ee=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function W(){}return rs.Children={map:Y,forEach:function(B,G,te){Y(B,function(){G.apply(this,arguments)},te)},count:function(B){var G=0;return Y(B,function(){G++}),G},toArray:function(B){return Y(B,function(G){return G})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},rs.Component=v,rs.Fragment=t,rs.Profiler=a,rs.PureComponent=k,rs.StrictMode=s,rs.Suspense=c,rs.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,rs.__COMPILER_RUNTIME={__proto__:null,c:function(B){return A.H.useMemoCache(B)}},rs.cache=function(B){return function(){return B.apply(null,arguments)}},rs.cloneElement=function(B,G,te){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var re=y({},B.props),ie=B.key,he=void 0;if(G!=null)for(le in G.ref!==void 0&&(he=void 0),G.key!==void 0&&(ie=""+G.key),G)!D.call(G,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&G.ref===void 0||(re[le]=G[le]);var le=arguments.length-2;if(le===1)re.children=te;else if(1<le){for(var De=Array(le),Oe=0;Oe<le;Oe++)De[Oe]=arguments[Oe+2];re.children=De}return P(B.type,ie,void 0,void 0,he,re)},rs.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:i,_context:B},B},rs.createElement=function(B,G,te){var re,ie={},he=null;if(G!=null)for(re in G.key!==void 0&&(he=""+G.key),G)D.call(G,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ie[re]=G[re]);var le=arguments.length-2;if(le===1)ie.children=te;else if(1<le){for(var De=Array(le),Oe=0;Oe<le;Oe++)De[Oe]=arguments[Oe+2];ie.children=De}if(B&&B.defaultProps)for(re in le=B.defaultProps,le)ie[re]===void 0&&(ie[re]=le[re]);return P(B,he,void 0,void 0,null,ie)},rs.createRef=function(){return{current:null}},rs.forwardRef=function(B){return{$$typeof:l,render:B}},rs.isValidElement=I,rs.lazy=function(B){return{$$typeof:u,_payload:{_status:-1,_result:B},_init:X}},rs.memo=function(B,G){return{$$typeof:d,type:B,compare:G===void 0?null:G}},rs.startTransition=function(B){var G=A.T,te={};A.T=te;try{var re=B(),ie=A.S;ie!==null&&ie(te,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(W,ee)}catch(he){ee(he)}finally{A.T=G}},rs.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},rs.use=function(B){return A.H.use(B)},rs.useActionState=function(B,G,te){return A.H.useActionState(B,G,te)},rs.useCallback=function(B,G){return A.H.useCallback(B,G)},rs.useContext=function(B){return A.H.useContext(B)},rs.useDebugValue=function(){},rs.useDeferredValue=function(B,G){return A.H.useDeferredValue(B,G)},rs.useEffect=function(B,G,te){var re=A.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(B,G)},rs.useId=function(){return A.H.useId()},rs.useImperativeHandle=function(B,G,te){return A.H.useImperativeHandle(B,G,te)},rs.useInsertionEffect=function(B,G){return A.H.useInsertionEffect(B,G)},rs.useLayoutEffect=function(B,G){return A.H.useLayoutEffect(B,G)},rs.useMemo=function(B,G){return A.H.useMemo(B,G)},rs.useOptimistic=function(B,G){return A.H.useOptimistic(B,G)},rs.useReducer=function(B,G,te){return A.H.useReducer(B,G,te)},rs.useRef=function(B){return A.H.useRef(B)},rs.useState=function(B){return A.H.useState(B)},rs.useSyncExternalStore=function(B,G,te){return A.H.useSyncExternalStore(B,G,te)},rs.useTransition=function(){return A.H.useTransition()},rs.version="19.1.1",rs}var sT;function Ry(){return sT||(sT=1,C1.exports=DB()),C1.exports}var C=Ry();const js=Dg(C);var E1={exports:{}},Kf={},T1={exports:{}},P1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function MB(){return rT||(rT=1,(function(r){function e(Y,X){var ee=Y.length;Y.push(X);e:for(;0<ee;){var W=ee-1>>>1,B=Y[W];if(0<a(B,X))Y[W]=X,Y[ee]=B,ee=W;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var X=Y[0],ee=Y.pop();if(ee!==X){Y[0]=ee;e:for(var W=0,B=Y.length,G=B>>>1;W<G;){var te=2*(W+1)-1,re=Y[te],ie=te+1,he=Y[ie];if(0>a(re,ee))ie<B&&0>a(he,re)?(Y[W]=he,Y[ie]=ee,W=ie):(Y[W]=re,Y[te]=ee,W=te);else if(ie<B&&0>a(he,ee))Y[W]=he,Y[ie]=ee,W=ie;else break e}}return X}function a(Y,X){var ee=Y.sortIndex-X.sortIndex;return ee!==0?ee:Y.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,p=!1,y=!1,x=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function R(Y){for(var X=t(d);X!==null;){if(X.callback===null)s(d);else if(X.startTime<=Y)s(d),X.sortIndex=X.expirationTime,e(c,X);else break;X=t(d)}}function A(Y){if(x=!1,R(Y),!y)if(t(c)!==null)y=!0,D||(D=!0,z());else{var X=t(d);X!==null&&$(A,X.startTime-Y)}}var D=!1,P=-1,E=5,I=-1;function M(){return v?!0:!(r.unstable_now()-I<E)}function L(){if(v=!1,D){var Y=r.unstable_now();I=Y;var X=!0;try{e:{y=!1,x&&(x=!1,k(P),P=-1),p=!0;var ee=m;try{t:{for(R(Y),f=t(c);f!==null&&!(f.expirationTime>Y&&M());){var W=f.callback;if(typeof W=="function"){f.callback=null,m=f.priorityLevel;var B=W(f.expirationTime<=Y);if(Y=r.unstable_now(),typeof B=="function"){f.callback=B,R(Y),X=!0;break t}f===t(c)&&s(c),R(Y)}else s(c);f=t(c)}if(f!==null)X=!0;else{var G=t(d);G!==null&&$(A,G.startTime-Y),X=!1}}break e}finally{f=null,m=ee,p=!1}X=void 0}}finally{X?z():D=!1}}}var z;if(typeof S=="function")z=function(){S(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=L,z=function(){V.postMessage(null)}}else z=function(){N(L,0)};function $(Y,X){P=N(function(){Y(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return m},r.unstable_next=function(Y){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var ee=m;m=X;try{return Y()}finally{m=ee}},r.unstable_requestPaint=function(){v=!0},r.unstable_runWithPriority=function(Y,X){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=m;m=Y;try{return X()}finally{m=ee}},r.unstable_scheduleCallback=function(Y,X,ee){var W=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?W+ee:W):ee=W,Y){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ee+B,Y={id:u++,callback:X,priorityLevel:Y,startTime:ee,expirationTime:B,sortIndex:-1},ee>W?(Y.sortIndex=ee,e(d,Y),t(c)===null&&Y===t(d)&&(x?(k(P),P=-1):x=!0,$(A,ee-W))):(Y.sortIndex=B,e(c,Y),y||p||(y=!0,D||(D=!0,z()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var X=m;return function(){var ee=m;m=X;try{return Y.apply(this,arguments)}finally{m=ee}}}})(P1)),P1}var aT;function OB(){return aT||(aT=1,T1.exports=MB()),T1.exports}var R1={exports:{}},Ca={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function LB(){if(nT)return Ca;nT=1;var r=Ry();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)d+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,d,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:c,containerInfo:d,implementation:u}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ca.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ca.createPortal=function(c,d){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(c,d,null,u)},Ca.flushSync=function(c){var d=o.T,u=s.p;try{if(o.T=null,s.p=2,c)return c()}finally{o.T=d,s.p=u,s.d.f()}},Ca.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(c,d))},Ca.prefetchDNS=function(c){typeof c=="string"&&s.d.D(c)},Ca.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var u=d.as,f=l(u,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,p=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;u==="style"?s.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:f,integrity:m,fetchPriority:p}):u==="script"&&s.d.X(c,{crossOrigin:f,integrity:m,fetchPriority:p,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ca.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var u=l(d.as,d.crossOrigin);s.d.M(c,{crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(c)},Ca.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var u=d.as,f=l(u,d.crossOrigin);s.d.L(c,u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ca.preloadModule=function(c,d){if(typeof c=="string")if(d){var u=l(d.as,d.crossOrigin);s.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(c)},Ca.requestFormReset=function(c){s.d.r(c)},Ca.unstable_batchedUpdates=function(c,d){return c(d)},Ca.useFormState=function(c,d,u){return o.H.useFormState(c,d,u)},Ca.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ca.version="19.1.1",Ca}var iT;function FB(){if(iT)return R1.exports;iT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),R1.exports=LB(),R1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function UB(){if(oT)return Kf;oT=1;var r=OB(),e=Ry(),t=FB();function s(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function i(h){var g=h,b=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(b=g.return),h=g.return;while(h)}return g.tag===3?b:null}function o(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function l(h){if(i(h)!==h)throw Error(s(188))}function c(h){var g=h.alternate;if(!g){if(g=i(h),g===null)throw Error(s(188));return g!==h?null:h}for(var b=h,w=g;;){var T=b.return;if(T===null)break;var O=T.alternate;if(O===null){if(w=T.return,w!==null){b=w;continue}break}if(T.child===O.child){for(O=T.child;O;){if(O===b)return l(T),h;if(O===w)return l(T),g;O=O.sibling}throw Error(s(188))}if(b.return!==w.return)b=T,w=O;else{for(var q=!1,K=T.child;K;){if(K===b){q=!0,b=T,w=O;break}if(K===w){q=!0,w=T,b=O;break}K=K.sibling}if(!q){for(K=O.child;K;){if(K===b){q=!0,b=O,w=T;break}if(K===w){q=!0,w=O,b=T;break}K=K.sibling}if(!q)throw Error(s(189))}}if(b.alternate!==w)throw Error(s(190))}if(b.tag!==3)throw Error(s(188));return b.stateNode.current===b?h:g}function d(h){var g=h.tag;if(g===5||g===26||g===27||g===6)return h;for(h=h.child;h!==null;){if(g=d(h),g!==null)return g;h=h.sibling}return null}var u=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(h){return h===null||typeof h!="object"?null:(h=L&&h[L]||h["@@iterator"],typeof h=="function"?h:null)}var F=Symbol.for("react.client.reference");function V(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===F?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case y:return"Fragment";case v:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList";case I:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case p:return"Portal";case S:return(h.displayName||"Context")+".Provider";case k:return(h._context.displayName||"Context")+".Consumer";case R:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case P:return g=h.displayName||null,g!==null?g:V(h.type)||"Memo";case E:g=h._payload,h=h._init;try{return V(h(g))}catch{}}return null}var $=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},W=[],B=-1;function G(h){return{current:h}}function te(h){0>B||(h.current=W[B],W[B]=null,B--)}function re(h,g){B++,W[B]=h.current,h.current=g}var ie=G(null),he=G(null),le=G(null),De=G(null);function Oe(h,g){switch(re(le,g),re(he,h),re(ie,null),g.nodeType){case 9:case 11:h=(h=g.documentElement)&&(h=h.namespaceURI)?AE(h):0;break;default:if(h=g.tagName,g=g.namespaceURI)g=AE(g),h=CE(g,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}te(ie),re(ie,h)}function Be(){te(ie),te(he),te(le)}function de(h){h.memoizedState!==null&&re(De,h);var g=ie.current,b=CE(g,h.type);g!==b&&(re(he,h),re(ie,b))}function Ye(h){he.current===h&&(te(ie),te(he)),De.current===h&&(te(De),$f._currentValue=ee)}var be=Object.prototype.hasOwnProperty,Q=r.unstable_scheduleCallback,me=r.unstable_cancelCallback,We=r.unstable_shouldYield,xe=r.unstable_requestPaint,Je=r.unstable_now,ot=r.unstable_getCurrentPriorityLevel,lt=r.unstable_ImmediatePriority,rt=r.unstable_UserBlockingPriority,et=r.unstable_NormalPriority,Rt=r.unstable_LowPriority,Tt=r.unstable_IdlePriority,ut=r.log,At=r.unstable_setDisableYieldValue,st=null,qe=null;function xt(h){if(typeof ut=="function"&&At(h),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(st,h)}catch{}}var Nt=Math.clz32?Math.clz32:Ft,_t=Math.log,jt=Math.LN2;function Ft(h){return h>>>=0,h===0?32:31-(_t(h)/jt|0)|0}var Zt=256,Xt=4194304;function ys(h){var g=h&42;if(g!==0)return g;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function It(h,g,b){var w=h.pendingLanes;if(w===0)return 0;var T=0,O=h.suspendedLanes,q=h.pingedLanes;h=h.warmLanes;var K=w&134217727;return K!==0?(w=K&~O,w!==0?T=ys(w):(q&=K,q!==0?T=ys(q):b||(b=K&~h,b!==0&&(T=ys(b))))):(K=w&~O,K!==0?T=ys(K):q!==0?T=ys(q):b||(b=w&~h,b!==0&&(T=ys(b)))),T===0?0:g!==0&&g!==T&&(g&O)===0&&(O=T&-T,b=g&-g,O>=b||O===32&&(b&4194048)!==0)?g:T}function Wt(h,g){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&g)===0}function sr(h,g){switch(h){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ms(){var h=Zt;return Zt<<=1,(Zt&4194048)===0&&(Zt=256),h}function Jt(){var h=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),h}function vs(h){for(var g=[],b=0;31>b;b++)g.push(h);return g}function ss(h,g){h.pendingLanes|=g,g!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function Ms(h,g,b,w,T,O){var q=h.pendingLanes;h.pendingLanes=b,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=b,h.entangledLanes&=b,h.errorRecoveryDisabledLanes&=b,h.shellSuspendCounter=0;var K=h.entanglements,oe=h.expirationTimes,Se=h.hiddenUpdates;for(b=q&~b;0<b;){var $e=31-Nt(b),Ke=1<<$e;K[$e]=0,oe[$e]=-1;var Ae=Se[$e];if(Ae!==null)for(Se[$e]=null,$e=0;$e<Ae.length;$e++){var Ee=Ae[$e];Ee!==null&&(Ee.lane&=-536870913)}b&=~Ke}w!==0&&gs(h,w,0),O!==0&&T===0&&h.tag!==0&&(h.suspendedLanes|=O&~(q&~g))}function gs(h,g,b){h.pendingLanes|=g,h.suspendedLanes&=~g;var w=31-Nt(g);h.entangledLanes|=g,h.entanglements[w]=h.entanglements[w]|1073741824|b&4194090}function Bt(h,g){var b=h.entangledLanes|=g;for(h=h.entanglements;b;){var w=31-Nt(b),T=1<<w;T&g|h[w]&g&&(h[w]|=g),b&=~T}}function es(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function pr(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function Vs(){var h=X.p;return h!==0?h:(h=window.event,h===void 0?32:YE(h.type))}function As(h,g){var b=X.p;try{return X.p=h,g()}finally{X.p=b}}var ws=Math.random().toString(36).slice(2),Us="__reactFiber$"+ws,Os="__reactProps$"+ws,Ls="__reactContainer$"+ws,_r="__reactEvents$"+ws,pe="__reactListeners$"+ws,Qe="__reactHandles$"+ws,tt="__reactResources$"+ws,Lt="__reactMarker$"+ws;function yt(h){delete h[Us],delete h[Os],delete h[_r],delete h[pe],delete h[Qe]}function ue(h){var g=h[Us];if(g)return g;for(var b=h.parentNode;b;){if(g=b[Ls]||b[Us]){if(b=g.alternate,g.child!==null||b!==null&&b.child!==null)for(h=RE(h);h!==null;){if(b=h[Us])return b;h=RE(h)}return g}h=b,b=h.parentNode}return null}function ge(h){if(h=h[Us]||h[Ls]){var g=h.tag;if(g===5||g===6||g===13||g===26||g===27||g===3)return h}return null}function Re(h){var g=h.tag;if(g===5||g===26||g===27||g===6)return h.stateNode;throw Error(s(33))}function ct(h){var g=h[tt];return g||(g=h[tt]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function nt(h){h[Lt]=!0}var He=new Set,ne={};function ze(h,g){ae(h,g),ae(h+"Capture",g)}function ae(h,g){for(ne[h]=g,h=0;h<g.length;h++)He.add(g[h])}var Ce=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),se={},ye={};function Le(h){return be.call(ye,h)?!0:be.call(se,h)?!1:Ce.test(h)?ye[h]=!0:(se[h]=!0,!1)}function ke(h,g,b){if(Le(g))if(b===null)h.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":h.removeAttribute(g);return;case"boolean":var w=g.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){h.removeAttribute(g);return}}h.setAttribute(g,""+b)}}function _e(h,g,b){if(b===null)h.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(g);return}h.setAttribute(g,""+b)}}function at(h,g,b,w){if(w===null)h.removeAttribute(b);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(b);return}h.setAttributeNS(g,b,""+w)}}var it,hs;function fr(h){if(it===void 0)try{throw Error()}catch(b){var g=b.stack.trim().match(/\n( *(at )?)/);it=g&&g[1]||"",hs=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+h+hs}var sl=!1;function no(h,g){if(!h||sl)return"";sl=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(g){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Ee){var Ae=Ee}Reflect.construct(h,[],Ke)}else{try{Ke.call()}catch(Ee){Ae=Ee}h.call(Ke.prototype)}}else{try{throw Error()}catch(Ee){Ae=Ee}(Ke=h())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Ee){if(Ee&&Ae&&typeof Ee.stack=="string")return[Ee.stack,Ae.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=w.DetermineComponentFrameRoot(),q=O[0],K=O[1];if(q&&K){var oe=q.split(`
`),Se=K.split(`
`);for(T=w=0;w<oe.length&&!oe[w].includes("DetermineComponentFrameRoot");)w++;for(;T<Se.length&&!Se[T].includes("DetermineComponentFrameRoot");)T++;if(w===oe.length||T===Se.length)for(w=oe.length-1,T=Se.length-1;1<=w&&0<=T&&oe[w]!==Se[T];)T--;for(;1<=w&&0<=T;w--,T--)if(oe[w]!==Se[T]){if(w!==1||T!==1)do if(w--,T--,0>T||oe[w]!==Se[T]){var $e=`
`+oe[w].replace(" at new "," at ");return h.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",h.displayName)),$e}while(1<=w&&0<=T);break}}}finally{sl=!1,Error.prepareStackTrace=b}return(b=h?h.displayName||h.name:"")?fr(b):""}function Kh(h){switch(h.tag){case 26:case 27:case 5:return fr(h.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return no(h.type,!1);case 11:return no(h.type.render,!1);case 1:return no(h.type,!0);case 31:return fr("Activity");default:return""}}function Hd(h){try{var g="";do g+=Kh(h),h=h.return;while(h);return g}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function Oa(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Zh(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Pv(h){var g=Zh(h)?"checked":"value",b=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),w=""+h[g];if(!h.hasOwnProperty(g)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var T=b.get,O=b.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return T.call(this)},set:function(q){w=""+q,O.call(this,q)}}),Object.defineProperty(h,g,{enumerable:b.enumerable}),{getValue:function(){return w},setValue:function(q){w=""+q},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function $d(h){h._valueTracker||(h._valueTracker=Pv(h))}function Qh(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var b=g.getValue(),w="";return h&&(w=Zh(h)?h.checked?"true":"false":h.value),h=w,h!==b?(g.setValue(h),!0):!1}function fc(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var Rv=/[\n"\\]/g;function Hr(h){return h.replace(Rv,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function dn(h,g,b,w,T,O,q,K){h.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?h.type=q:h.removeAttribute("type"),g!=null?q==="number"?(g===0&&h.value===""||h.value!=g)&&(h.value=""+Oa(g)):h.value!==""+Oa(g)&&(h.value=""+Oa(g)):q!=="submit"&&q!=="reset"||h.removeAttribute("value"),g!=null?rl(h,q,Oa(g)):b!=null?rl(h,q,Oa(b)):w!=null&&h.removeAttribute("value"),T==null&&O!=null&&(h.defaultChecked=!!O),T!=null&&(h.checked=T&&typeof T!="function"&&typeof T!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?h.name=""+Oa(K):h.removeAttribute("name")}function mc(h,g,b,w,T,O,q,K){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(h.type=O),g!=null||b!=null){if(!(O!=="submit"&&O!=="reset"||g!=null))return;b=b!=null?""+Oa(b):"",g=g!=null?""+Oa(g):b,K||g===h.value||(h.value=g),h.defaultValue=g}w=w??T,w=typeof w!="function"&&typeof w!="symbol"&&!!w,h.checked=K?h.checked:!!w,h.defaultChecked=!!w,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(h.name=q)}function rl(h,g,b){g==="number"&&fc(h.ownerDocument)===h||h.defaultValue===""+b||(h.defaultValue=""+b)}function io(h,g,b,w){if(h=h.options,g){g={};for(var T=0;T<b.length;T++)g["$"+b[T]]=!0;for(b=0;b<h.length;b++)T=g.hasOwnProperty("$"+h[b].value),h[b].selected!==T&&(h[b].selected=T),T&&w&&(h[b].defaultSelected=!0)}else{for(b=""+Oa(b),g=null,T=0;T<h.length;T++){if(h[T].value===b){h[T].selected=!0,w&&(h[T].defaultSelected=!0);return}g!==null||h[T].disabled||(g=h[T])}g!==null&&(g.selected=!0)}}function rr(h,g,b){if(g!=null&&(g=""+Oa(g),g!==h.value&&(h.value=g),b==null)){h.defaultValue!==g&&(h.defaultValue=g);return}h.defaultValue=b!=null?""+Oa(b):""}function gc(h,g,b,w){if(g==null){if(w!=null){if(b!=null)throw Error(s(92));if($(w)){if(1<w.length)throw Error(s(93));w=w[0]}b=w}b==null&&(b=""),g=b}b=Oa(g),h.defaultValue=b,w=h.textContent,w===b&&w!==""&&w!==null&&(h.value=w)}function Tn(h,g){if(g){var b=h.firstChild;if(b&&b===h.lastChild&&b.nodeType===3){b.nodeValue=g;return}}h.textContent=g}var pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Np(h,g,b){var w=g.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?w?h.setProperty(g,""):g==="float"?h.cssFloat="":h[g]="":w?h.setProperty(g,b):typeof b!="number"||b===0||pc.has(g)?g==="float"?h.cssFloat=b:h[g]=(""+b).trim():h[g]=b+"px"}function Jh(h,g,b){if(g!=null&&typeof g!="object")throw Error(s(62));if(h=h.style,b!=null){for(var w in b)!b.hasOwnProperty(w)||g!=null&&g.hasOwnProperty(w)||(w.indexOf("--")===0?h.setProperty(w,""):w==="float"?h.cssFloat="":h[w]="");for(var T in g)w=g[T],g.hasOwnProperty(T)&&b[T]!==w&&Np(h,T,w)}else for(var O in g)g.hasOwnProperty(O)&&Np(h,O,g[O])}function ef(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qd(h){return Dv.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var oo=null;function Pn(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var lo=null,co=null;function tf(h){var g=ge(h);if(g&&(h=g.stateNode)){var b=h[Os]||null;e:switch(h=g.stateNode,g.type){case"input":if(dn(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),g=b.name,b.type==="radio"&&g!=null){for(b=h;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+Hr(""+g)+'"][type="radio"]'),g=0;g<b.length;g++){var w=b[g];if(w!==h&&w.form===h.form){var T=w[Os]||null;if(!T)throw Error(s(90));dn(w,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(g=0;g<b.length;g++)w=b[g],w.form===h.form&&Qh(w)}break e;case"textarea":rr(h,b.value,b.defaultValue);break e;case"select":g=b.value,g!=null&&io(h,!!b.multiple,g,!1)}}}var wi=!1;function jp(h,g,b){if(wi)return h(g,b);wi=!0;try{var w=h(g);return w}finally{if(wi=!1,(lo!==null||co!==null)&&(px(),lo&&(g=lo,h=co,co=lo=null,tf(g),h)))for(g=0;g<h.length;g++)tf(h[g])}}function xc(h,g){var b=h.stateNode;if(b===null)return null;var w=b[Os]||null;if(w===null)return null;b=w[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(h=h.type,w=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!w;break e;default:h=!1}if(h)return null;if(b&&typeof b!="function")throw Error(s(231,g,typeof b));return b}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(ei)try{var bc={};Object.defineProperty(bc,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",bc,bc),window.removeEventListener("test",bc,bc)}catch{Rn=!1}var Ni=null,al=null,uo=null;function sf(){if(uo)return uo;var h,g=al,b=g.length,w,T="value"in Ni?Ni.value:Ni.textContent,O=T.length;for(h=0;h<b&&g[h]===T[h];h++);var q=b-h;for(w=1;w<=q&&g[b-w]===T[O-w];w++);return uo=T.slice(h,1<w?1-w:void 0)}function ji(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function ki(){return!0}function rf(){return!1}function oa(h){function g(b,w,T,O,q){this._reactName=b,this._targetInst=T,this.type=w,this.nativeEvent=O,this.target=q,this.currentTarget=null;for(var K in h)h.hasOwnProperty(K)&&(b=h[K],this[K]=b?b(O):O[K]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ki:rf,this.isPropagationStopped=rf,this}return u(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),g}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wd=oa(Ws),yc=u({},Ws,{view:0,detail:0}),kp=oa(yc),Yd,Gd,Si,vc=u({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jc,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Si&&(Si&&h.type==="mousemove"?(Yd=h.screenX-Si.screenX,Gd=h.screenY-Si.screenY):Gd=Yd=0,Si=h),Yd)},movementY:function(h){return"movementY"in h?h.movementY:Gd}}),In=oa(vc),Sp=u({},vc,{dataTransfer:0}),Mv=oa(Sp),wc=u({},yc,{relatedTarget:0}),Xd=oa(wc),af=u({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Kd=oa(af),_p=u({},Ws,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Zd=oa(_p),Ov=u({},Ws,{data:0}),nf=oa(Ov),Nc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function of(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=Cp[h])?!!g[h]:!1}function jc(){return of}var Ep=u({},yc,{key:function(h){if(h.key){var g=Nc[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=ji(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Ap[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jc,charCode:function(h){return h.type==="keypress"?ji(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?ji(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Qd=oa(Ep),Tp=u({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=oa(Tp),ho=u({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jc}),Pp=oa(ho),Rp=u({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ip=oa(Rp),Dp=u({},vc,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Jd=oa(Dp),La=u({},Ws,{newState:0,oldState:0}),Mp=oa(La),Op=[9,13,27,32],_i=ei&&"CompositionEvent"in window,_=null;ei&&"documentMode"in document&&(_=document.documentMode);var U=ei&&"TextEvent"in window&&!_,H=ei&&(!_i||_&&8<_&&11>=_),Z=" ",Ne=!1;function Fe(h,g){switch(h){case"keyup":return Op.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gt(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Cs=!1;function Jr(h,g){switch(h){case"compositionend":return gt(g);case"keypress":return g.which!==32?null:(Ne=!0,Z);case"textInput":return h=g.data,h===Z&&Ne?null:h;default:return null}}function Es(h,g){if(Cs)return h==="compositionend"||!_i&&Fe(h,g)?(h=sf(),uo=al=Ni=null,Cs=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return H&&g.locale!=="ko"?null:g.data;default:return null}}var la={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ea(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!la[h.type]:g==="textarea"}function fo(h,g,b,w){lo?co?co.push(w):co=[w]:lo=w,g=Nx(g,"onChange"),0<g.length&&(b=new Wd("onChange","change",null,b,w),h.push({event:b,listeners:g}))}var ga=null,Ai=null;function cf(h){NE(h,0)}function Lp(h){var g=Re(h);if(Qh(g))return h}function H_(h,g){if(h==="change")return g}var $_=!1;if(ei){var Lv;if(ei){var Fv="oninput"in document;if(!Fv){var q_=document.createElement("div");q_.setAttribute("oninput","return;"),Fv=typeof q_.oninput=="function"}Lv=Fv}else Lv=!1;$_=Lv&&(!document.documentMode||9<document.documentMode)}function W_(){ga&&(ga.detachEvent("onpropertychange",Y_),Ai=ga=null)}function Y_(h){if(h.propertyName==="value"&&Lp(Ai)){var g=[];fo(g,Ai,h,Pn(h)),jp(cf,g)}}function oz(h,g,b){h==="focusin"?(W_(),ga=g,Ai=b,ga.attachEvent("onpropertychange",Y_)):h==="focusout"&&W_()}function lz(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Lp(Ai)}function cz(h,g){if(h==="click")return Lp(g)}function dz(h,g){if(h==="input"||h==="change")return Lp(g)}function uz(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var un=typeof Object.is=="function"?Object.is:uz;function df(h,g){if(un(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var b=Object.keys(h),w=Object.keys(g);if(b.length!==w.length)return!1;for(w=0;w<b.length;w++){var T=b[w];if(!be.call(g,T)||!un(h[T],g[T]))return!1}return!0}function G_(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function X_(h,g){var b=G_(h);h=0;for(var w;b;){if(b.nodeType===3){if(w=h+b.textContent.length,h<=g&&w>=g)return{node:b,offset:g-h};h=w}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=G_(b)}}function K_(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?K_(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function Z_(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var g=fc(h.document);g instanceof h.HTMLIFrameElement;){try{var b=typeof g.contentWindow.location.href=="string"}catch{b=!1}if(b)h=g.contentWindow;else break;g=fc(h.document)}return g}function Uv(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}var hz=ei&&"documentMode"in document&&11>=document.documentMode,eu=null,zv=null,uf=null,Bv=!1;function Q_(h,g,b){var w=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Bv||eu==null||eu!==fc(w)||(w=eu,"selectionStart"in w&&Uv(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),uf&&df(uf,w)||(uf=w,w=Nx(zv,"onSelect"),0<w.length&&(g=new Wd("onSelect","select",null,g,b),h.push({event:g,listeners:w}),g.target=eu)))}function kc(h,g){var b={};return b[h.toLowerCase()]=g.toLowerCase(),b["Webkit"+h]="webkit"+g,b["Moz"+h]="moz"+g,b}var tu={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionrun:kc("Transition","TransitionRun"),transitionstart:kc("Transition","TransitionStart"),transitioncancel:kc("Transition","TransitionCancel"),transitionend:kc("Transition","TransitionEnd")},Vv={},J_={};ei&&(J_=document.createElement("div").style,"AnimationEvent"in window||(delete tu.animationend.animation,delete tu.animationiteration.animation,delete tu.animationstart.animation),"TransitionEvent"in window||delete tu.transitionend.transition);function Sc(h){if(Vv[h])return Vv[h];if(!tu[h])return h;var g=tu[h],b;for(b in g)if(g.hasOwnProperty(b)&&b in J_)return Vv[h]=g[b];return h}var eA=Sc("animationend"),tA=Sc("animationiteration"),sA=Sc("animationstart"),fz=Sc("transitionrun"),mz=Sc("transitionstart"),gz=Sc("transitioncancel"),rA=Sc("transitionend"),aA=new Map,Hv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hv.push("scrollEnd");function ti(h,g){aA.set(h,g),ze(g,[h])}var nA=new WeakMap;function Dn(h,g){if(typeof h=="object"&&h!==null){var b=nA.get(h);return b!==void 0?b:(g={value:h,source:g,stack:Hd(g)},nA.set(h,g),g)}return{value:h,source:g,stack:Hd(g)}}var Mn=[],su=0,$v=0;function Fp(){for(var h=su,g=$v=su=0;g<h;){var b=Mn[g];Mn[g++]=null;var w=Mn[g];Mn[g++]=null;var T=Mn[g];Mn[g++]=null;var O=Mn[g];if(Mn[g++]=null,w!==null&&T!==null){var q=w.pending;q===null?T.next=T:(T.next=q.next,q.next=T),w.pending=T}O!==0&&iA(b,T,O)}}function Up(h,g,b,w){Mn[su++]=h,Mn[su++]=g,Mn[su++]=b,Mn[su++]=w,$v|=w,h.lanes|=w,h=h.alternate,h!==null&&(h.lanes|=w)}function qv(h,g,b,w){return Up(h,g,b,w),zp(h)}function ru(h,g){return Up(h,null,null,g),zp(h)}function iA(h,g,b){h.lanes|=b;var w=h.alternate;w!==null&&(w.lanes|=b);for(var T=!1,O=h.return;O!==null;)O.childLanes|=b,w=O.alternate,w!==null&&(w.childLanes|=b),O.tag===22&&(h=O.stateNode,h===null||h._visibility&1||(T=!0)),h=O,O=O.return;return h.tag===3?(O=h.stateNode,T&&g!==null&&(T=31-Nt(b),h=O.hiddenUpdates,w=h[T],w===null?h[T]=[g]:w.push(g),g.lane=b|536870912),O):null}function zp(h){if(50<Of)throw Of=0,Zw=null,Error(s(185));for(var g=h.return;g!==null;)h=g,g=h.return;return h.tag===3?h.stateNode:null}var au={};function pz(h,g,b,w){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(h,g,b,w){return new pz(h,g,b,w)}function Wv(h){return h=h.prototype,!(!h||!h.isReactComponent)}function mo(h,g){var b=h.alternate;return b===null?(b=hn(h.tag,g,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=g,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&65011712,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,g=h.dependencies,b.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b.refCleanup=h.refCleanup,b}function oA(h,g){h.flags&=65011714;var b=h.alternate;return b===null?(h.childLanes=0,h.lanes=g,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,g=b.dependencies,h.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),h}function Bp(h,g,b,w,T,O){var q=0;if(w=h,typeof h=="function")Wv(h)&&(q=1);else if(typeof h=="string")q=bB(h,b,ie.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case I:return h=hn(31,b,g,T),h.elementType=I,h.lanes=O,h;case y:return _c(b.children,T,O,g);case x:q=8,T|=24;break;case v:return h=hn(12,b,g,T|2),h.elementType=v,h.lanes=O,h;case A:return h=hn(13,b,g,T),h.elementType=A,h.lanes=O,h;case D:return h=hn(19,b,g,T),h.elementType=D,h.lanes=O,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case N:case S:q=10;break e;case k:q=9;break e;case R:q=11;break e;case P:q=14;break e;case E:q=16,w=null;break e}q=29,b=Error(s(130,h===null?"null":typeof h,"")),w=null}return g=hn(q,b,g,T),g.elementType=h,g.type=w,g.lanes=O,g}function _c(h,g,b,w){return h=hn(7,h,w,g),h.lanes=b,h}function Yv(h,g,b){return h=hn(6,h,null,g),h.lanes=b,h}function Gv(h,g,b){return g=hn(4,h.children!==null?h.children:[],h.key,g),g.lanes=b,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}var nu=[],iu=0,Vp=null,Hp=0,On=[],Ln=0,Ac=null,go=1,po="";function Cc(h,g){nu[iu++]=Hp,nu[iu++]=Vp,Vp=h,Hp=g}function lA(h,g,b){On[Ln++]=go,On[Ln++]=po,On[Ln++]=Ac,Ac=h;var w=go;h=po;var T=32-Nt(w)-1;w&=~(1<<T),b+=1;var O=32-Nt(g)+T;if(30<O){var q=T-T%5;O=(w&(1<<q)-1).toString(32),w>>=q,T-=q,go=1<<32-Nt(g)+T|b<<T|w,po=O+h}else go=1<<O|b<<T|w,po=h}function Xv(h){h.return!==null&&(Cc(h,1),lA(h,1,0))}function Kv(h){for(;h===Vp;)Vp=nu[--iu],nu[iu]=null,Hp=nu[--iu],nu[iu]=null;for(;h===Ac;)Ac=On[--Ln],On[Ln]=null,po=On[--Ln],On[Ln]=null,go=On[--Ln],On[Ln]=null}var Fa=null,Ar=null,Hs=!1,Ec=null,Ci=!1,Zv=Error(s(519));function Tc(h){var g=Error(s(418,""));throw mf(Dn(g,h)),Zv}function cA(h){var g=h.stateNode,b=h.type,w=h.memoizedProps;switch(g[Us]=h,g[Os]=w,b){case"dialog":xs("cancel",g),xs("close",g);break;case"iframe":case"object":case"embed":xs("load",g);break;case"video":case"audio":for(b=0;b<Ff.length;b++)xs(Ff[b],g);break;case"source":xs("error",g);break;case"img":case"image":case"link":xs("error",g),xs("load",g);break;case"details":xs("toggle",g);break;case"input":xs("invalid",g),mc(g,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),$d(g);break;case"select":xs("invalid",g);break;case"textarea":xs("invalid",g),gc(g,w.value,w.defaultValue,w.children),$d(g)}b=w.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||g.textContent===""+b||w.suppressHydrationWarning===!0||_E(g.textContent,b)?(w.popover!=null&&(xs("beforetoggle",g),xs("toggle",g)),w.onScroll!=null&&xs("scroll",g),w.onScrollEnd!=null&&xs("scrollend",g),w.onClick!=null&&(g.onclick=jx),g=!0):g=!1,g||Tc(h)}function dA(h){for(Fa=h.return;Fa;)switch(Fa.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:Fa=Fa.return}}function hf(h){if(h!==Fa)return!1;if(!Hs)return dA(h),Hs=!0,!1;var g=h.tag,b;if((b=g!==3&&g!==27)&&((b=g===5)&&(b=h.type,b=!(b!=="form"&&b!=="button")||f1(h.type,h.memoizedProps)),b=!b),b&&Ar&&Tc(h),dA(h),g===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8)if(b=h.data,b==="/$"){if(g===0){Ar=ri(h.nextSibling);break e}g--}else b!=="$"&&b!=="$!"&&b!=="$?"||g++;h=h.nextSibling}Ar=null}}else g===27?(g=Ar,vl(h.type)?(h=x1,x1=null,Ar=h):Ar=g):Ar=Fa?ri(h.stateNode.nextSibling):null;return!0}function ff(){Ar=Fa=null,Hs=!1}function uA(){var h=Ec;return h!==null&&(Qa===null?Qa=h:Qa.push.apply(Qa,h),Ec=null),h}function mf(h){Ec===null?Ec=[h]:Ec.push(h)}var Qv=G(null),Pc=null,xo=null;function nl(h,g,b){re(Qv,g._currentValue),g._currentValue=b}function bo(h){h._currentValue=Qv.current,te(Qv)}function Jv(h,g,b){for(;h!==null;){var w=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,w!==null&&(w.childLanes|=g)):w!==null&&(w.childLanes&g)!==g&&(w.childLanes|=g),h===b)break;h=h.return}}function ew(h,g,b,w){var T=h.child;for(T!==null&&(T.return=h);T!==null;){var O=T.dependencies;if(O!==null){var q=T.child;O=O.firstContext;e:for(;O!==null;){var K=O;O=T;for(var oe=0;oe<g.length;oe++)if(K.context===g[oe]){O.lanes|=b,K=O.alternate,K!==null&&(K.lanes|=b),Jv(O.return,b,h),w||(q=null);break e}O=K.next}}else if(T.tag===18){if(q=T.return,q===null)throw Error(s(341));q.lanes|=b,O=q.alternate,O!==null&&(O.lanes|=b),Jv(q,b,h),q=null}else q=T.child;if(q!==null)q.return=T;else for(q=T;q!==null;){if(q===h){q=null;break}if(T=q.sibling,T!==null){T.return=q.return,q=T;break}q=q.return}T=q}}function gf(h,g,b,w){h=null;for(var T=g,O=!1;T!==null;){if(!O){if((T.flags&524288)!==0)O=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var q=T.alternate;if(q===null)throw Error(s(387));if(q=q.memoizedProps,q!==null){var K=T.type;un(T.pendingProps.value,q.value)||(h!==null?h.push(K):h=[K])}}else if(T===De.current){if(q=T.alternate,q===null)throw Error(s(387));q.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(h!==null?h.push($f):h=[$f])}T=T.return}h!==null&&ew(g,h,b,w),g.flags|=262144}function $p(h){for(h=h.firstContext;h!==null;){if(!un(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Rc(h){Pc=h,xo=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Aa(h){return hA(Pc,h)}function qp(h,g){return Pc===null&&Rc(h),hA(h,g)}function hA(h,g){var b=g._currentValue;if(g={context:g,memoizedValue:b,next:null},xo===null){if(h===null)throw Error(s(308));xo=g,h.dependencies={lanes:0,firstContext:g},h.flags|=524288}else xo=xo.next=g;return b}var xz=typeof AbortController<"u"?AbortController:function(){var h=[],g=this.signal={aborted:!1,addEventListener:function(b,w){h.push(w)}};this.abort=function(){g.aborted=!0,h.forEach(function(b){return b()})}},bz=r.unstable_scheduleCallback,yz=r.unstable_NormalPriority,ta={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tw(){return{controller:new xz,data:new Map,refCount:0}}function pf(h){h.refCount--,h.refCount===0&&bz(yz,function(){h.controller.abort()})}var xf=null,sw=0,ou=0,lu=null;function vz(h,g){if(xf===null){var b=xf=[];sw=0,ou=a1(),lu={status:"pending",value:void 0,then:function(w){b.push(w)}}}return sw++,g.then(fA,fA),g}function fA(){if(--sw===0&&xf!==null){lu!==null&&(lu.status="fulfilled");var h=xf;xf=null,ou=0,lu=null;for(var g=0;g<h.length;g++)(0,h[g])()}}function wz(h,g){var b=[],w={status:"pending",value:null,reason:null,then:function(T){b.push(T)}};return h.then(function(){w.status="fulfilled",w.value=g;for(var T=0;T<b.length;T++)(0,b[T])(g)},function(T){for(w.status="rejected",w.reason=T,T=0;T<b.length;T++)(0,b[T])(void 0)}),w}var mA=Y.S;Y.S=function(h,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&vz(h,g),mA!==null&&mA(h,g)};var Ic=G(null);function rw(){var h=Ic.current;return h!==null?h:mr.pooledCache}function Wp(h,g){g===null?re(Ic,Ic.current):re(Ic,g.pool)}function gA(){var h=rw();return h===null?null:{parent:ta._currentValue,pool:h}}var bf=Error(s(460)),pA=Error(s(474)),Yp=Error(s(542)),aw={then:function(){}};function xA(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Gp(){}function bA(h,g,b){switch(b=h[b],b===void 0?h.push(g):b!==g&&(g.then(Gp,Gp),g=b),g.status){case"fulfilled":return g.value;case"rejected":throw h=g.reason,vA(h),h;default:if(typeof g.status=="string")g.then(Gp,Gp);else{if(h=mr,h!==null&&100<h.shellSuspendCounter)throw Error(s(482));h=g,h.status="pending",h.then(function(w){if(g.status==="pending"){var T=g;T.status="fulfilled",T.value=w}},function(w){if(g.status==="pending"){var T=g;T.status="rejected",T.reason=w}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw h=g.reason,vA(h),h}throw yf=g,bf}}var yf=null;function yA(){if(yf===null)throw Error(s(459));var h=yf;return yf=null,h}function vA(h){if(h===bf||h===Yp)throw Error(s(483))}var il=!1;function nw(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iw(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function ol(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function ll(h,g,b){var w=h.updateQueue;if(w===null)return null;if(w=w.shared,(Zs&2)!==0){var T=w.pending;return T===null?g.next=g:(g.next=T.next,T.next=g),w.pending=g,g=zp(h),iA(h,null,b),g}return Up(h,w,g,b),zp(h)}function vf(h,g,b){if(g=g.updateQueue,g!==null&&(g=g.shared,(b&4194048)!==0)){var w=g.lanes;w&=h.pendingLanes,b|=w,g.lanes=b,Bt(h,b)}}function ow(h,g){var b=h.updateQueue,w=h.alternate;if(w!==null&&(w=w.updateQueue,b===w)){var T=null,O=null;if(b=b.firstBaseUpdate,b!==null){do{var q={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};O===null?T=O=q:O=O.next=q,b=b.next}while(b!==null);O===null?T=O=g:O=O.next=g}else T=O=g;b={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:O,shared:w.shared,callbacks:w.callbacks},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=g:h.next=g,b.lastBaseUpdate=g}var lw=!1;function wf(){if(lw){var h=lu;if(h!==null)throw h}}function Nf(h,g,b,w){lw=!1;var T=h.updateQueue;il=!1;var O=T.firstBaseUpdate,q=T.lastBaseUpdate,K=T.shared.pending;if(K!==null){T.shared.pending=null;var oe=K,Se=oe.next;oe.next=null,q===null?O=Se:q.next=Se,q=oe;var $e=h.alternate;$e!==null&&($e=$e.updateQueue,K=$e.lastBaseUpdate,K!==q&&(K===null?$e.firstBaseUpdate=Se:K.next=Se,$e.lastBaseUpdate=oe))}if(O!==null){var Ke=T.baseState;q=0,$e=Se=oe=null,K=O;do{var Ae=K.lane&-536870913,Ee=Ae!==K.lane;if(Ee?(Ts&Ae)===Ae:(w&Ae)===Ae){Ae!==0&&Ae===ou&&(lw=!0),$e!==null&&($e=$e.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var Yt=h,Vt=K;Ae=g;var ir=b;switch(Vt.tag){case 1:if(Yt=Vt.payload,typeof Yt=="function"){Ke=Yt.call(ir,Ke,Ae);break e}Ke=Yt;break e;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=Vt.payload,Ae=typeof Yt=="function"?Yt.call(ir,Ke,Ae):Yt,Ae==null)break e;Ke=u({},Ke,Ae);break e;case 2:il=!0}}Ae=K.callback,Ae!==null&&(h.flags|=64,Ee&&(h.flags|=8192),Ee=T.callbacks,Ee===null?T.callbacks=[Ae]:Ee.push(Ae))}else Ee={lane:Ae,tag:K.tag,payload:K.payload,callback:K.callback,next:null},$e===null?(Se=$e=Ee,oe=Ke):$e=$e.next=Ee,q|=Ae;if(K=K.next,K===null){if(K=T.shared.pending,K===null)break;Ee=K,K=Ee.next,Ee.next=null,T.lastBaseUpdate=Ee,T.shared.pending=null}}while(!0);$e===null&&(oe=Ke),T.baseState=oe,T.firstBaseUpdate=Se,T.lastBaseUpdate=$e,O===null&&(T.shared.lanes=0),pl|=q,h.lanes=q,h.memoizedState=Ke}}function wA(h,g){if(typeof h!="function")throw Error(s(191,h));h.call(g)}function NA(h,g){var b=h.callbacks;if(b!==null)for(h.callbacks=null,h=0;h<b.length;h++)wA(b[h],g)}var cu=G(null),Xp=G(0);function jA(h,g){h=So,re(Xp,h),re(cu,g),So=h|g.baseLanes}function cw(){re(Xp,So),re(cu,cu.current)}function dw(){So=Xp.current,te(cu),te(Xp)}var cl=0,ls=null,ar=null,$r=null,Kp=!1,du=!1,Dc=!1,Zp=0,jf=0,uu=null,Nz=0;function Or(){throw Error(s(321))}function uw(h,g){if(g===null)return!1;for(var b=0;b<g.length&&b<h.length;b++)if(!un(h[b],g[b]))return!1;return!0}function hw(h,g,b,w,T,O){return cl=O,ls=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Y.H=h===null||h.memoizedState===null?iC:oC,Dc=!1,O=b(w,T),Dc=!1,du&&(O=SA(g,b,w,T)),kA(h),O}function kA(h){Y.H=rx;var g=ar!==null&&ar.next!==null;if(cl=0,$r=ar=ls=null,Kp=!1,jf=0,uu=null,g)throw Error(s(300));h===null||ca||(h=h.dependencies,h!==null&&$p(h)&&(ca=!0))}function SA(h,g,b,w){ls=h;var T=0;do{if(du&&(uu=null),jf=0,du=!1,25<=T)throw Error(s(301));if(T+=1,$r=ar=null,h.updateQueue!=null){var O=h.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}Y.H=Ez,O=g(b,w)}while(du);return O}function jz(){var h=Y.H,g=h.useState()[0];return g=typeof g.then=="function"?kf(g):g,h=h.useState()[0],(ar!==null?ar.memoizedState:null)!==h&&(ls.flags|=1024),g}function fw(){var h=Zp!==0;return Zp=0,h}function mw(h,g,b){g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~b}function gw(h){if(Kp){for(h=h.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Kp=!1}cl=0,$r=ar=ls=null,du=!1,jf=Zp=0,uu=null}function Ka(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?ls.memoizedState=$r=h:$r=$r.next=h,$r}function qr(){if(ar===null){var h=ls.alternate;h=h!==null?h.memoizedState:null}else h=ar.next;var g=$r===null?ls.memoizedState:$r.next;if(g!==null)$r=g,ar=h;else{if(h===null)throw ls.alternate===null?Error(s(467)):Error(s(310));ar=h,h={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},$r===null?ls.memoizedState=$r=h:$r=$r.next=h}return $r}function pw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kf(h){var g=jf;return jf+=1,uu===null&&(uu=[]),h=bA(uu,h,g),g=ls,($r===null?g.memoizedState:$r.next)===null&&(g=g.alternate,Y.H=g===null||g.memoizedState===null?iC:oC),h}function Qp(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return kf(h);if(h.$$typeof===S)return Aa(h)}throw Error(s(438,String(h)))}function xw(h){var g=null,b=ls.updateQueue;if(b!==null&&(g=b.memoCache),g==null){var w=ls.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(g={data:w.data.map(function(T){return T.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),b===null&&(b=pw(),ls.updateQueue=b),b.memoCache=g,b=g.data[g.index],b===void 0)for(b=g.data[g.index]=Array(h),w=0;w<h;w++)b[w]=M;return g.index++,b}function yo(h,g){return typeof g=="function"?g(h):g}function Jp(h){var g=qr();return bw(g,ar,h)}function bw(h,g,b){var w=h.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=b;var T=h.baseQueue,O=w.pending;if(O!==null){if(T!==null){var q=T.next;T.next=O.next,O.next=q}g.baseQueue=T=O,w.pending=null}if(O=h.baseState,T===null)h.memoizedState=O;else{g=T.next;var K=q=null,oe=null,Se=g,$e=!1;do{var Ke=Se.lane&-536870913;if(Ke!==Se.lane?(Ts&Ke)===Ke:(cl&Ke)===Ke){var Ae=Se.revertLane;if(Ae===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),Ke===ou&&($e=!0);else if((cl&Ae)===Ae){Se=Se.next,Ae===ou&&($e=!0);continue}else Ke={lane:0,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},oe===null?(K=oe=Ke,q=O):oe=oe.next=Ke,ls.lanes|=Ae,pl|=Ae;Ke=Se.action,Dc&&b(O,Ke),O=Se.hasEagerState?Se.eagerState:b(O,Ke)}else Ae={lane:Ke,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},oe===null?(K=oe=Ae,q=O):oe=oe.next=Ae,ls.lanes|=Ke,pl|=Ke;Se=Se.next}while(Se!==null&&Se!==g);if(oe===null?q=O:oe.next=K,!un(O,h.memoizedState)&&(ca=!0,$e&&(b=lu,b!==null)))throw b;h.memoizedState=O,h.baseState=q,h.baseQueue=oe,w.lastRenderedState=O}return T===null&&(w.lanes=0),[h.memoizedState,w.dispatch]}function yw(h){var g=qr(),b=g.queue;if(b===null)throw Error(s(311));b.lastRenderedReducer=h;var w=b.dispatch,T=b.pending,O=g.memoizedState;if(T!==null){b.pending=null;var q=T=T.next;do O=h(O,q.action),q=q.next;while(q!==T);un(O,g.memoizedState)||(ca=!0),g.memoizedState=O,g.baseQueue===null&&(g.baseState=O),b.lastRenderedState=O}return[O,w]}function _A(h,g,b){var w=ls,T=qr(),O=Hs;if(O){if(b===void 0)throw Error(s(407));b=b()}else b=g();var q=!un((ar||T).memoizedState,b);q&&(T.memoizedState=b,ca=!0),T=T.queue;var K=EA.bind(null,w,T,h);if(Sf(2048,8,K,[h]),T.getSnapshot!==g||q||$r!==null&&$r.memoizedState.tag&1){if(w.flags|=2048,hu(9,ex(),CA.bind(null,w,T,b,g),null),mr===null)throw Error(s(349));O||(cl&124)!==0||AA(w,g,b)}return b}function AA(h,g,b){h.flags|=16384,h={getSnapshot:g,value:b},g=ls.updateQueue,g===null?(g=pw(),ls.updateQueue=g,g.stores=[h]):(b=g.stores,b===null?g.stores=[h]:b.push(h))}function CA(h,g,b,w){g.value=b,g.getSnapshot=w,TA(g)&&PA(h)}function EA(h,g,b){return b(function(){TA(g)&&PA(h)})}function TA(h){var g=h.getSnapshot;h=h.value;try{var b=g();return!un(h,b)}catch{return!0}}function PA(h){var g=ru(h,2);g!==null&&xn(g,h,2)}function vw(h){var g=Ka();if(typeof h=="function"){var b=h;if(h=b(),Dc){xt(!0);try{b()}finally{xt(!1)}}}return g.memoizedState=g.baseState=h,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:h},g}function RA(h,g,b,w){return h.baseState=b,bw(h,ar,typeof w=="function"?w:yo)}function kz(h,g,b,w,T){if(sx(h))throw Error(s(485));if(h=g.action,h!==null){var O={payload:T,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){O.listeners.push(q)}};Y.T!==null?b(!0):O.isTransition=!1,w(O),b=g.pending,b===null?(O.next=g.pending=O,IA(g,O)):(O.next=b.next,g.pending=b.next=O)}}function IA(h,g){var b=g.action,w=g.payload,T=h.state;if(g.isTransition){var O=Y.T,q={};Y.T=q;try{var K=b(T,w),oe=Y.S;oe!==null&&oe(q,K),DA(h,g,K)}catch(Se){ww(h,g,Se)}finally{Y.T=O}}else try{O=b(T,w),DA(h,g,O)}catch(Se){ww(h,g,Se)}}function DA(h,g,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(w){MA(h,g,w)},function(w){return ww(h,g,w)}):MA(h,g,b)}function MA(h,g,b){g.status="fulfilled",g.value=b,OA(g),h.state=b,g=h.pending,g!==null&&(b=g.next,b===g?h.pending=null:(b=b.next,g.next=b,IA(h,b)))}function ww(h,g,b){var w=h.pending;if(h.pending=null,w!==null){w=w.next;do g.status="rejected",g.reason=b,OA(g),g=g.next;while(g!==w)}h.action=null}function OA(h){h=h.listeners;for(var g=0;g<h.length;g++)(0,h[g])()}function LA(h,g){return g}function FA(h,g){if(Hs){var b=mr.formState;if(b!==null){e:{var w=ls;if(Hs){if(Ar){t:{for(var T=Ar,O=Ci;T.nodeType!==8;){if(!O){T=null;break t}if(T=ri(T.nextSibling),T===null){T=null;break t}}O=T.data,T=O==="F!"||O==="F"?T:null}if(T){Ar=ri(T.nextSibling),w=T.data==="F!";break e}}Tc(w)}w=!1}w&&(g=b[0])}}return b=Ka(),b.memoizedState=b.baseState=g,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LA,lastRenderedState:g},b.queue=w,b=rC.bind(null,ls,w),w.dispatch=b,w=vw(!1),O=_w.bind(null,ls,!1,w.queue),w=Ka(),T={state:g,dispatch:null,action:h,pending:null},w.queue=T,b=kz.bind(null,ls,T,O,b),T.dispatch=b,w.memoizedState=h,[g,b,!1]}function UA(h){var g=qr();return zA(g,ar,h)}function zA(h,g,b){if(g=bw(h,g,LA)[0],h=Jp(yo)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var w=kf(g)}catch(q){throw q===bf?Yp:q}else w=g;g=qr();var T=g.queue,O=T.dispatch;return b!==g.memoizedState&&(ls.flags|=2048,hu(9,ex(),Sz.bind(null,T,b),null)),[w,O,h]}function Sz(h,g){h.action=g}function BA(h){var g=qr(),b=ar;if(b!==null)return zA(g,b,h);qr(),g=g.memoizedState,b=qr();var w=b.queue.dispatch;return b.memoizedState=h,[g,w,!1]}function hu(h,g,b,w){return h={tag:h,create:b,deps:w,inst:g,next:null},g=ls.updateQueue,g===null&&(g=pw(),ls.updateQueue=g),b=g.lastEffect,b===null?g.lastEffect=h.next=h:(w=b.next,b.next=h,h.next=w,g.lastEffect=h),h}function ex(){return{destroy:void 0,resource:void 0}}function VA(){return qr().memoizedState}function tx(h,g,b,w){var T=Ka();w=w===void 0?null:w,ls.flags|=h,T.memoizedState=hu(1|g,ex(),b,w)}function Sf(h,g,b,w){var T=qr();w=w===void 0?null:w;var O=T.memoizedState.inst;ar!==null&&w!==null&&uw(w,ar.memoizedState.deps)?T.memoizedState=hu(g,O,b,w):(ls.flags|=h,T.memoizedState=hu(1|g,O,b,w))}function HA(h,g){tx(8390656,8,h,g)}function $A(h,g){Sf(2048,8,h,g)}function qA(h,g){return Sf(4,2,h,g)}function WA(h,g){return Sf(4,4,h,g)}function YA(h,g){if(typeof g=="function"){h=h();var b=g(h);return function(){typeof b=="function"?b():g(null)}}if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function GA(h,g,b){b=b!=null?b.concat([h]):null,Sf(4,4,YA.bind(null,g,h),b)}function Nw(){}function XA(h,g){var b=qr();g=g===void 0?null:g;var w=b.memoizedState;return g!==null&&uw(g,w[1])?w[0]:(b.memoizedState=[h,g],h)}function KA(h,g){var b=qr();g=g===void 0?null:g;var w=b.memoizedState;if(g!==null&&uw(g,w[1]))return w[0];if(w=h(),Dc){xt(!0);try{h()}finally{xt(!1)}}return b.memoizedState=[w,g],w}function jw(h,g,b){return b===void 0||(cl&1073741824)!==0?h.memoizedState=g:(h.memoizedState=b,h=JC(),ls.lanes|=h,pl|=h,b)}function ZA(h,g,b,w){return un(b,g)?b:cu.current!==null?(h=jw(h,b,w),un(h,g)||(ca=!0),h):(cl&42)===0?(ca=!0,h.memoizedState=b):(h=JC(),ls.lanes|=h,pl|=h,g)}function QA(h,g,b,w,T){var O=X.p;X.p=O!==0&&8>O?O:8;var q=Y.T,K={};Y.T=K,_w(h,!1,g,b);try{var oe=T(),Se=Y.S;if(Se!==null&&Se(K,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var $e=wz(oe,w);_f(h,g,$e,pn(h))}else _f(h,g,w,pn(h))}catch(Ke){_f(h,g,{then:function(){},status:"rejected",reason:Ke},pn())}finally{X.p=O,Y.T=q}}function _z(){}function kw(h,g,b,w){if(h.tag!==5)throw Error(s(476));var T=JA(h).queue;QA(h,T,g,ee,b===null?_z:function(){return eC(h),b(w)})}function JA(h){var g=h.memoizedState;if(g!==null)return g;g={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:ee},next:null};var b={};return g.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:b},next:null},h.memoizedState=g,h=h.alternate,h!==null&&(h.memoizedState=g),g}function eC(h){var g=JA(h).next.queue;_f(h,g,{},pn())}function Sw(){return Aa($f)}function tC(){return qr().memoizedState}function sC(){return qr().memoizedState}function Az(h){for(var g=h.return;g!==null;){switch(g.tag){case 24:case 3:var b=pn();h=ol(b);var w=ll(g,h,b);w!==null&&(xn(w,g,b),vf(w,g,b)),g={cache:tw()},h.payload=g;return}g=g.return}}function Cz(h,g,b){var w=pn();b={lane:w,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},sx(h)?aC(g,b):(b=qv(h,g,b,w),b!==null&&(xn(b,h,w),nC(b,g,w)))}function rC(h,g,b){var w=pn();_f(h,g,b,w)}function _f(h,g,b,w){var T={lane:w,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(sx(h))aC(g,T);else{var O=h.alternate;if(h.lanes===0&&(O===null||O.lanes===0)&&(O=g.lastRenderedReducer,O!==null))try{var q=g.lastRenderedState,K=O(q,b);if(T.hasEagerState=!0,T.eagerState=K,un(K,q))return Up(h,g,T,0),mr===null&&Fp(),!1}catch{}finally{}if(b=qv(h,g,T,w),b!==null)return xn(b,h,w),nC(b,g,w),!0}return!1}function _w(h,g,b,w){if(w={lane:2,revertLane:a1(),action:w,hasEagerState:!1,eagerState:null,next:null},sx(h)){if(g)throw Error(s(479))}else g=qv(h,b,w,2),g!==null&&xn(g,h,2)}function sx(h){var g=h.alternate;return h===ls||g!==null&&g===ls}function aC(h,g){du=Kp=!0;var b=h.pending;b===null?g.next=g:(g.next=b.next,b.next=g),h.pending=g}function nC(h,g,b){if((b&4194048)!==0){var w=g.lanes;w&=h.pendingLanes,b|=w,g.lanes=b,Bt(h,b)}}var rx={readContext:Aa,use:Qp,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useLayoutEffect:Or,useInsertionEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useSyncExternalStore:Or,useId:Or,useHostTransitionStatus:Or,useFormState:Or,useActionState:Or,useOptimistic:Or,useMemoCache:Or,useCacheRefresh:Or},iC={readContext:Aa,use:Qp,useCallback:function(h,g){return Ka().memoizedState=[h,g===void 0?null:g],h},useContext:Aa,useEffect:HA,useImperativeHandle:function(h,g,b){b=b!=null?b.concat([h]):null,tx(4194308,4,YA.bind(null,g,h),b)},useLayoutEffect:function(h,g){return tx(4194308,4,h,g)},useInsertionEffect:function(h,g){tx(4,2,h,g)},useMemo:function(h,g){var b=Ka();g=g===void 0?null:g;var w=h();if(Dc){xt(!0);try{h()}finally{xt(!1)}}return b.memoizedState=[w,g],w},useReducer:function(h,g,b){var w=Ka();if(b!==void 0){var T=b(g);if(Dc){xt(!0);try{b(g)}finally{xt(!1)}}}else T=g;return w.memoizedState=w.baseState=T,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:T},w.queue=h,h=h.dispatch=Cz.bind(null,ls,h),[w.memoizedState,h]},useRef:function(h){var g=Ka();return h={current:h},g.memoizedState=h},useState:function(h){h=vw(h);var g=h.queue,b=rC.bind(null,ls,g);return g.dispatch=b,[h.memoizedState,b]},useDebugValue:Nw,useDeferredValue:function(h,g){var b=Ka();return jw(b,h,g)},useTransition:function(){var h=vw(!1);return h=QA.bind(null,ls,h.queue,!0,!1),Ka().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,g,b){var w=ls,T=Ka();if(Hs){if(b===void 0)throw Error(s(407));b=b()}else{if(b=g(),mr===null)throw Error(s(349));(Ts&124)!==0||AA(w,g,b)}T.memoizedState=b;var O={value:b,getSnapshot:g};return T.queue=O,HA(EA.bind(null,w,O,h),[h]),w.flags|=2048,hu(9,ex(),CA.bind(null,w,O,b,g),null),b},useId:function(){var h=Ka(),g=mr.identifierPrefix;if(Hs){var b=po,w=go;b=(w&~(1<<32-Nt(w)-1)).toString(32)+b,g=""+g+"R"+b,b=Zp++,0<b&&(g+="H"+b.toString(32)),g+=""}else b=Nz++,g=""+g+"r"+b.toString(32)+"";return h.memoizedState=g},useHostTransitionStatus:Sw,useFormState:FA,useActionState:FA,useOptimistic:function(h){var g=Ka();g.memoizedState=g.baseState=h;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=b,g=_w.bind(null,ls,!0,b),b.dispatch=g,[h,g]},useMemoCache:xw,useCacheRefresh:function(){return Ka().memoizedState=Az.bind(null,ls)}},oC={readContext:Aa,use:Qp,useCallback:XA,useContext:Aa,useEffect:$A,useImperativeHandle:GA,useInsertionEffect:qA,useLayoutEffect:WA,useMemo:KA,useReducer:Jp,useRef:VA,useState:function(){return Jp(yo)},useDebugValue:Nw,useDeferredValue:function(h,g){var b=qr();return ZA(b,ar.memoizedState,h,g)},useTransition:function(){var h=Jp(yo)[0],g=qr().memoizedState;return[typeof h=="boolean"?h:kf(h),g]},useSyncExternalStore:_A,useId:tC,useHostTransitionStatus:Sw,useFormState:UA,useActionState:UA,useOptimistic:function(h,g){var b=qr();return RA(b,ar,h,g)},useMemoCache:xw,useCacheRefresh:sC},Ez={readContext:Aa,use:Qp,useCallback:XA,useContext:Aa,useEffect:$A,useImperativeHandle:GA,useInsertionEffect:qA,useLayoutEffect:WA,useMemo:KA,useReducer:yw,useRef:VA,useState:function(){return yw(yo)},useDebugValue:Nw,useDeferredValue:function(h,g){var b=qr();return ar===null?jw(b,h,g):ZA(b,ar.memoizedState,h,g)},useTransition:function(){var h=yw(yo)[0],g=qr().memoizedState;return[typeof h=="boolean"?h:kf(h),g]},useSyncExternalStore:_A,useId:tC,useHostTransitionStatus:Sw,useFormState:BA,useActionState:BA,useOptimistic:function(h,g){var b=qr();return ar!==null?RA(b,ar,h,g):(b.baseState=h,[h,b.queue.dispatch])},useMemoCache:xw,useCacheRefresh:sC},fu=null,Af=0;function ax(h){var g=Af;return Af+=1,fu===null&&(fu=[]),bA(fu,h,g)}function Cf(h,g){g=g.props.ref,h.ref=g!==void 0?g:null}function nx(h,g){throw g.$$typeof===f?Error(s(525)):(h=Object.prototype.toString.call(g),Error(s(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h)))}function lC(h){var g=h._init;return g(h._payload)}function cC(h){function g(we,fe){if(h){var je=we.deletions;je===null?(we.deletions=[fe],we.flags|=16):je.push(fe)}}function b(we,fe){if(!h)return null;for(;fe!==null;)g(we,fe),fe=fe.sibling;return null}function w(we){for(var fe=new Map;we!==null;)we.key!==null?fe.set(we.key,we):fe.set(we.index,we),we=we.sibling;return fe}function T(we,fe){return we=mo(we,fe),we.index=0,we.sibling=null,we}function O(we,fe,je){return we.index=je,h?(je=we.alternate,je!==null?(je=je.index,je<fe?(we.flags|=67108866,fe):je):(we.flags|=67108866,fe)):(we.flags|=1048576,fe)}function q(we){return h&&we.alternate===null&&(we.flags|=67108866),we}function K(we,fe,je,Ge){return fe===null||fe.tag!==6?(fe=Yv(je,we.mode,Ge),fe.return=we,fe):(fe=T(fe,je),fe.return=we,fe)}function oe(we,fe,je,Ge){var Pt=je.type;return Pt===y?$e(we,fe,je.props.children,Ge,je.key):fe!==null&&(fe.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===E&&lC(Pt)===fe.type)?(fe=T(fe,je.props),Cf(fe,je),fe.return=we,fe):(fe=Bp(je.type,je.key,je.props,null,we.mode,Ge),Cf(fe,je),fe.return=we,fe)}function Se(we,fe,je,Ge){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==je.containerInfo||fe.stateNode.implementation!==je.implementation?(fe=Gv(je,we.mode,Ge),fe.return=we,fe):(fe=T(fe,je.children||[]),fe.return=we,fe)}function $e(we,fe,je,Ge,Pt){return fe===null||fe.tag!==7?(fe=_c(je,we.mode,Ge,Pt),fe.return=we,fe):(fe=T(fe,je),fe.return=we,fe)}function Ke(we,fe,je){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Yv(""+fe,we.mode,je),fe.return=we,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case m:return je=Bp(fe.type,fe.key,fe.props,null,we.mode,je),Cf(je,fe),je.return=we,je;case p:return fe=Gv(fe,we.mode,je),fe.return=we,fe;case E:var Ge=fe._init;return fe=Ge(fe._payload),Ke(we,fe,je)}if($(fe)||z(fe))return fe=_c(fe,we.mode,je,null),fe.return=we,fe;if(typeof fe.then=="function")return Ke(we,ax(fe),je);if(fe.$$typeof===S)return Ke(we,qp(we,fe),je);nx(we,fe)}return null}function Ae(we,fe,je,Ge){var Pt=fe!==null?fe.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return Pt!==null?null:K(we,fe,""+je,Ge);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case m:return je.key===Pt?oe(we,fe,je,Ge):null;case p:return je.key===Pt?Se(we,fe,je,Ge):null;case E:return Pt=je._init,je=Pt(je._payload),Ae(we,fe,je,Ge)}if($(je)||z(je))return Pt!==null?null:$e(we,fe,je,Ge,null);if(typeof je.then=="function")return Ae(we,fe,ax(je),Ge);if(je.$$typeof===S)return Ae(we,fe,qp(we,je),Ge);nx(we,je)}return null}function Ee(we,fe,je,Ge,Pt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return we=we.get(je)||null,K(fe,we,""+Ge,Pt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case m:return we=we.get(Ge.key===null?je:Ge.key)||null,oe(fe,we,Ge,Pt);case p:return we=we.get(Ge.key===null?je:Ge.key)||null,Se(fe,we,Ge,Pt);case E:var fs=Ge._init;return Ge=fs(Ge._payload),Ee(we,fe,je,Ge,Pt)}if($(Ge)||z(Ge))return we=we.get(je)||null,$e(fe,we,Ge,Pt,null);if(typeof Ge.then=="function")return Ee(we,fe,je,ax(Ge),Pt);if(Ge.$$typeof===S)return Ee(we,fe,je,qp(fe,Ge),Pt);nx(fe,Ge)}return null}function Yt(we,fe,je,Ge){for(var Pt=null,fs=null,Dt=fe,$t=fe=0,ua=null;Dt!==null&&$t<je.length;$t++){Dt.index>$t?(ua=Dt,Dt=null):ua=Dt.sibling;var zs=Ae(we,Dt,je[$t],Ge);if(zs===null){Dt===null&&(Dt=ua);break}h&&Dt&&zs.alternate===null&&g(we,Dt),fe=O(zs,fe,$t),fs===null?Pt=zs:fs.sibling=zs,fs=zs,Dt=ua}if($t===je.length)return b(we,Dt),Hs&&Cc(we,$t),Pt;if(Dt===null){for(;$t<je.length;$t++)Dt=Ke(we,je[$t],Ge),Dt!==null&&(fe=O(Dt,fe,$t),fs===null?Pt=Dt:fs.sibling=Dt,fs=Dt);return Hs&&Cc(we,$t),Pt}for(Dt=w(Dt);$t<je.length;$t++)ua=Ee(Dt,we,$t,je[$t],Ge),ua!==null&&(h&&ua.alternate!==null&&Dt.delete(ua.key===null?$t:ua.key),fe=O(ua,fe,$t),fs===null?Pt=ua:fs.sibling=ua,fs=ua);return h&&Dt.forEach(function(Sl){return g(we,Sl)}),Hs&&Cc(we,$t),Pt}function Vt(we,fe,je,Ge){if(je==null)throw Error(s(151));for(var Pt=null,fs=null,Dt=fe,$t=fe=0,ua=null,zs=je.next();Dt!==null&&!zs.done;$t++,zs=je.next()){Dt.index>$t?(ua=Dt,Dt=null):ua=Dt.sibling;var Sl=Ae(we,Dt,zs.value,Ge);if(Sl===null){Dt===null&&(Dt=ua);break}h&&Dt&&Sl.alternate===null&&g(we,Dt),fe=O(Sl,fe,$t),fs===null?Pt=Sl:fs.sibling=Sl,fs=Sl,Dt=ua}if(zs.done)return b(we,Dt),Hs&&Cc(we,$t),Pt;if(Dt===null){for(;!zs.done;$t++,zs=je.next())zs=Ke(we,zs.value,Ge),zs!==null&&(fe=O(zs,fe,$t),fs===null?Pt=zs:fs.sibling=zs,fs=zs);return Hs&&Cc(we,$t),Pt}for(Dt=w(Dt);!zs.done;$t++,zs=je.next())zs=Ee(Dt,we,$t,zs.value,Ge),zs!==null&&(h&&zs.alternate!==null&&Dt.delete(zs.key===null?$t:zs.key),fe=O(zs,fe,$t),fs===null?Pt=zs:fs.sibling=zs,fs=zs);return h&&Dt.forEach(function(TB){return g(we,TB)}),Hs&&Cc(we,$t),Pt}function ir(we,fe,je,Ge){if(typeof je=="object"&&je!==null&&je.type===y&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case m:e:{for(var Pt=je.key;fe!==null;){if(fe.key===Pt){if(Pt=je.type,Pt===y){if(fe.tag===7){b(we,fe.sibling),Ge=T(fe,je.props.children),Ge.return=we,we=Ge;break e}}else if(fe.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===E&&lC(Pt)===fe.type){b(we,fe.sibling),Ge=T(fe,je.props),Cf(Ge,je),Ge.return=we,we=Ge;break e}b(we,fe);break}else g(we,fe);fe=fe.sibling}je.type===y?(Ge=_c(je.props.children,we.mode,Ge,je.key),Ge.return=we,we=Ge):(Ge=Bp(je.type,je.key,je.props,null,we.mode,Ge),Cf(Ge,je),Ge.return=we,we=Ge)}return q(we);case p:e:{for(Pt=je.key;fe!==null;){if(fe.key===Pt)if(fe.tag===4&&fe.stateNode.containerInfo===je.containerInfo&&fe.stateNode.implementation===je.implementation){b(we,fe.sibling),Ge=T(fe,je.children||[]),Ge.return=we,we=Ge;break e}else{b(we,fe);break}else g(we,fe);fe=fe.sibling}Ge=Gv(je,we.mode,Ge),Ge.return=we,we=Ge}return q(we);case E:return Pt=je._init,je=Pt(je._payload),ir(we,fe,je,Ge)}if($(je))return Yt(we,fe,je,Ge);if(z(je)){if(Pt=z(je),typeof Pt!="function")throw Error(s(150));return je=Pt.call(je),Vt(we,fe,je,Ge)}if(typeof je.then=="function")return ir(we,fe,ax(je),Ge);if(je.$$typeof===S)return ir(we,fe,qp(we,je),Ge);nx(we,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,fe!==null&&fe.tag===6?(b(we,fe.sibling),Ge=T(fe,je),Ge.return=we,we=Ge):(b(we,fe),Ge=Yv(je,we.mode,Ge),Ge.return=we,we=Ge),q(we)):b(we,fe)}return function(we,fe,je,Ge){try{Af=0;var Pt=ir(we,fe,je,Ge);return fu=null,Pt}catch(Dt){if(Dt===bf||Dt===Yp)throw Dt;var fs=hn(29,Dt,null,we.mode);return fs.lanes=Ge,fs.return=we,fs}finally{}}}var mu=cC(!0),dC=cC(!1),Fn=G(null),Ei=null;function dl(h){var g=h.alternate;re(sa,sa.current&1),re(Fn,h),Ei===null&&(g===null||cu.current!==null||g.memoizedState!==null)&&(Ei=h)}function uC(h){if(h.tag===22){if(re(sa,sa.current),re(Fn,h),Ei===null){var g=h.alternate;g!==null&&g.memoizedState!==null&&(Ei=h)}}else ul()}function ul(){re(sa,sa.current),re(Fn,Fn.current)}function vo(h){te(Fn),Ei===h&&(Ei=null),te(sa)}var sa=G(0);function ix(h){for(var g=h;g!==null;){if(g.tag===13){var b=g.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||p1(b)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function Aw(h,g,b,w){g=h.memoizedState,b=b(w,g),b=b==null?g:u({},g,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var Cw={enqueueSetState:function(h,g,b){h=h._reactInternals;var w=pn(),T=ol(w);T.payload=g,b!=null&&(T.callback=b),g=ll(h,T,w),g!==null&&(xn(g,h,w),vf(g,h,w))},enqueueReplaceState:function(h,g,b){h=h._reactInternals;var w=pn(),T=ol(w);T.tag=1,T.payload=g,b!=null&&(T.callback=b),g=ll(h,T,w),g!==null&&(xn(g,h,w),vf(g,h,w))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var b=pn(),w=ol(b);w.tag=2,g!=null&&(w.callback=g),g=ll(h,w,b),g!==null&&(xn(g,h,b),vf(g,h,b))}};function hC(h,g,b,w,T,O,q){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(w,O,q):g.prototype&&g.prototype.isPureReactComponent?!df(b,w)||!df(T,O):!0}function fC(h,g,b,w){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(b,w),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(b,w),g.state!==h&&Cw.enqueueReplaceState(g,g.state,null)}function Mc(h,g){var b=g;if("ref"in g){b={};for(var w in g)w!=="ref"&&(b[w]=g[w])}if(h=h.defaultProps){b===g&&(b=u({},b));for(var T in h)b[T]===void 0&&(b[T]=h[T])}return b}var ox=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function mC(h){ox(h)}function gC(h){console.error(h)}function pC(h){ox(h)}function lx(h,g){try{var b=h.onUncaughtError;b(g.value,{componentStack:g.stack})}catch(w){setTimeout(function(){throw w})}}function xC(h,g,b){try{var w=h.onCaughtError;w(b.value,{componentStack:b.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Ew(h,g,b){return b=ol(b),b.tag=3,b.payload={element:null},b.callback=function(){lx(h,g)},b}function bC(h){return h=ol(h),h.tag=3,h}function yC(h,g,b,w){var T=b.type.getDerivedStateFromError;if(typeof T=="function"){var O=w.value;h.payload=function(){return T(O)},h.callback=function(){xC(g,b,w)}}var q=b.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(h.callback=function(){xC(g,b,w),typeof T!="function"&&(xl===null?xl=new Set([this]):xl.add(this));var K=w.stack;this.componentDidCatch(w.value,{componentStack:K!==null?K:""})})}function Tz(h,g,b,w,T){if(b.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(g=b.alternate,g!==null&&gf(g,b,T,!0),b=Fn.current,b!==null){switch(b.tag){case 13:return Ei===null?Jw():b.alternate===null&&Cr===0&&(Cr=3),b.flags&=-257,b.flags|=65536,b.lanes=T,w===aw?b.flags|=16384:(g=b.updateQueue,g===null?b.updateQueue=new Set([w]):g.add(w),t1(h,w,T)),!1;case 22:return b.flags|=65536,w===aw?b.flags|=16384:(g=b.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([w])},b.updateQueue=g):(b=g.retryQueue,b===null?g.retryQueue=new Set([w]):b.add(w)),t1(h,w,T)),!1}throw Error(s(435,b.tag))}return t1(h,w,T),Jw(),!1}if(Hs)return g=Fn.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=T,w!==Zv&&(h=Error(s(422),{cause:w}),mf(Dn(h,b)))):(w!==Zv&&(g=Error(s(423),{cause:w}),mf(Dn(g,b))),h=h.current.alternate,h.flags|=65536,T&=-T,h.lanes|=T,w=Dn(w,b),T=Ew(h.stateNode,w,T),ow(h,T),Cr!==4&&(Cr=2)),!1;var O=Error(s(520),{cause:w});if(O=Dn(O,b),Mf===null?Mf=[O]:Mf.push(O),Cr!==4&&(Cr=2),g===null)return!0;w=Dn(w,b),b=g;do{switch(b.tag){case 3:return b.flags|=65536,h=T&-T,b.lanes|=h,h=Ew(b.stateNode,w,h),ow(b,h),!1;case 1:if(g=b.type,O=b.stateNode,(b.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(xl===null||!xl.has(O))))return b.flags|=65536,T&=-T,b.lanes|=T,T=bC(T),yC(T,h,b,w),ow(b,T),!1}b=b.return}while(b!==null);return!1}var vC=Error(s(461)),ca=!1;function pa(h,g,b,w){g.child=h===null?dC(g,null,b,w):mu(g,h.child,b,w)}function wC(h,g,b,w,T){b=b.render;var O=g.ref;if("ref"in w){var q={};for(var K in w)K!=="ref"&&(q[K]=w[K])}else q=w;return Rc(g),w=hw(h,g,b,q,O,T),K=fw(),h!==null&&!ca?(mw(h,g,T),wo(h,g,T)):(Hs&&K&&Xv(g),g.flags|=1,pa(h,g,w,T),g.child)}function NC(h,g,b,w,T){if(h===null){var O=b.type;return typeof O=="function"&&!Wv(O)&&O.defaultProps===void 0&&b.compare===null?(g.tag=15,g.type=O,jC(h,g,O,w,T)):(h=Bp(b.type,null,w,g,g.mode,T),h.ref=g.ref,h.return=g,g.child=h)}if(O=h.child,!Lw(h,T)){var q=O.memoizedProps;if(b=b.compare,b=b!==null?b:df,b(q,w)&&h.ref===g.ref)return wo(h,g,T)}return g.flags|=1,h=mo(O,w),h.ref=g.ref,h.return=g,g.child=h}function jC(h,g,b,w,T){if(h!==null){var O=h.memoizedProps;if(df(O,w)&&h.ref===g.ref)if(ca=!1,g.pendingProps=w=O,Lw(h,T))(h.flags&131072)!==0&&(ca=!0);else return g.lanes=h.lanes,wo(h,g,T)}return Tw(h,g,b,w,T)}function kC(h,g,b){var w=g.pendingProps,T=w.children,O=h!==null?h.memoizedState:null;if(w.mode==="hidden"){if((g.flags&128)!==0){if(w=O!==null?O.baseLanes|b:b,h!==null){for(T=g.child=h.child,O=0;T!==null;)O=O|T.lanes|T.childLanes,T=T.sibling;g.childLanes=O&~w}else g.childLanes=0,g.child=null;return SC(h,g,w,b)}if((b&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},h!==null&&Wp(g,O!==null?O.cachePool:null),O!==null?jA(g,O):cw(),uC(g);else return g.lanes=g.childLanes=536870912,SC(h,g,O!==null?O.baseLanes|b:b,b)}else O!==null?(Wp(g,O.cachePool),jA(g,O),ul(),g.memoizedState=null):(h!==null&&Wp(g,null),cw(),ul());return pa(h,g,T,b),g.child}function SC(h,g,b,w){var T=rw();return T=T===null?null:{parent:ta._currentValue,pool:T},g.memoizedState={baseLanes:b,cachePool:T},h!==null&&Wp(g,null),cw(),uC(g),h!==null&&gf(h,g,w,!0),null}function cx(h,g){var b=g.ref;if(b===null)h!==null&&h.ref!==null&&(g.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(s(284));(h===null||h.ref!==b)&&(g.flags|=4194816)}}function Tw(h,g,b,w,T){return Rc(g),b=hw(h,g,b,w,void 0,T),w=fw(),h!==null&&!ca?(mw(h,g,T),wo(h,g,T)):(Hs&&w&&Xv(g),g.flags|=1,pa(h,g,b,T),g.child)}function _C(h,g,b,w,T,O){return Rc(g),g.updateQueue=null,b=SA(g,w,b,T),kA(h),w=fw(),h!==null&&!ca?(mw(h,g,O),wo(h,g,O)):(Hs&&w&&Xv(g),g.flags|=1,pa(h,g,b,O),g.child)}function AC(h,g,b,w,T){if(Rc(g),g.stateNode===null){var O=au,q=b.contextType;typeof q=="object"&&q!==null&&(O=Aa(q)),O=new b(w,O),g.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Cw,g.stateNode=O,O._reactInternals=g,O=g.stateNode,O.props=w,O.state=g.memoizedState,O.refs={},nw(g),q=b.contextType,O.context=typeof q=="object"&&q!==null?Aa(q):au,O.state=g.memoizedState,q=b.getDerivedStateFromProps,typeof q=="function"&&(Aw(g,b,q,w),O.state=g.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(q=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),q!==O.state&&Cw.enqueueReplaceState(O,O.state,null),Nf(g,w,O,T),wf(),O.state=g.memoizedState),typeof O.componentDidMount=="function"&&(g.flags|=4194308),w=!0}else if(h===null){O=g.stateNode;var K=g.memoizedProps,oe=Mc(b,K);O.props=oe;var Se=O.context,$e=b.contextType;q=au,typeof $e=="object"&&$e!==null&&(q=Aa($e));var Ke=b.getDerivedStateFromProps;$e=typeof Ke=="function"||typeof O.getSnapshotBeforeUpdate=="function",K=g.pendingProps!==K,$e||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K||Se!==q)&&fC(g,O,w,q),il=!1;var Ae=g.memoizedState;O.state=Ae,Nf(g,w,O,T),wf(),Se=g.memoizedState,K||Ae!==Se||il?(typeof Ke=="function"&&(Aw(g,b,Ke,w),Se=g.memoizedState),(oe=il||hC(g,b,oe,w,Ae,Se,q))?($e||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(g.flags|=4194308)):(typeof O.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=w,g.memoizedState=Se),O.props=w,O.state=Se,O.context=q,w=oe):(typeof O.componentDidMount=="function"&&(g.flags|=4194308),w=!1)}else{O=g.stateNode,iw(h,g),q=g.memoizedProps,$e=Mc(b,q),O.props=$e,Ke=g.pendingProps,Ae=O.context,Se=b.contextType,oe=au,typeof Se=="object"&&Se!==null&&(oe=Aa(Se)),K=b.getDerivedStateFromProps,(Se=typeof K=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(q!==Ke||Ae!==oe)&&fC(g,O,w,oe),il=!1,Ae=g.memoizedState,O.state=Ae,Nf(g,w,O,T),wf();var Ee=g.memoizedState;q!==Ke||Ae!==Ee||il||h!==null&&h.dependencies!==null&&$p(h.dependencies)?(typeof K=="function"&&(Aw(g,b,K,w),Ee=g.memoizedState),($e=il||hC(g,b,$e,w,Ae,Ee,oe)||h!==null&&h.dependencies!==null&&$p(h.dependencies))?(Se||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(w,Ee,oe),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(w,Ee,oe)),typeof O.componentDidUpdate=="function"&&(g.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof O.componentDidUpdate!="function"||q===h.memoizedProps&&Ae===h.memoizedState||(g.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||q===h.memoizedProps&&Ae===h.memoizedState||(g.flags|=1024),g.memoizedProps=w,g.memoizedState=Ee),O.props=w,O.state=Ee,O.context=oe,w=$e):(typeof O.componentDidUpdate!="function"||q===h.memoizedProps&&Ae===h.memoizedState||(g.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||q===h.memoizedProps&&Ae===h.memoizedState||(g.flags|=1024),w=!1)}return O=w,cx(h,g),w=(g.flags&128)!==0,O||w?(O=g.stateNode,b=w&&typeof b.getDerivedStateFromError!="function"?null:O.render(),g.flags|=1,h!==null&&w?(g.child=mu(g,h.child,null,T),g.child=mu(g,null,b,T)):pa(h,g,b,T),g.memoizedState=O.state,h=g.child):h=wo(h,g,T),h}function CC(h,g,b,w){return ff(),g.flags|=256,pa(h,g,b,w),g.child}var Pw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rw(h){return{baseLanes:h,cachePool:gA()}}function Iw(h,g,b){return h=h!==null?h.childLanes&~b:0,g&&(h|=Un),h}function EC(h,g,b){var w=g.pendingProps,T=!1,O=(g.flags&128)!==0,q;if((q=O)||(q=h!==null&&h.memoizedState===null?!1:(sa.current&2)!==0),q&&(T=!0,g.flags&=-129),q=(g.flags&32)!==0,g.flags&=-33,h===null){if(Hs){if(T?dl(g):ul(),Hs){var K=Ar,oe;if(oe=K){e:{for(oe=K,K=Ci;oe.nodeType!==8;){if(!K){K=null;break e}if(oe=ri(oe.nextSibling),oe===null){K=null;break e}}K=oe}K!==null?(g.memoizedState={dehydrated:K,treeContext:Ac!==null?{id:go,overflow:po}:null,retryLane:536870912,hydrationErrors:null},oe=hn(18,null,null,0),oe.stateNode=K,oe.return=g,g.child=oe,Fa=g,Ar=null,oe=!0):oe=!1}oe||Tc(g)}if(K=g.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return p1(K)?g.lanes=32:g.lanes=536870912,null;vo(g)}return K=w.children,w=w.fallback,T?(ul(),T=g.mode,K=dx({mode:"hidden",children:K},T),w=_c(w,T,b,null),K.return=g,w.return=g,K.sibling=w,g.child=K,T=g.child,T.memoizedState=Rw(b),T.childLanes=Iw(h,q,b),g.memoizedState=Pw,w):(dl(g),Dw(g,K))}if(oe=h.memoizedState,oe!==null&&(K=oe.dehydrated,K!==null)){if(O)g.flags&256?(dl(g),g.flags&=-257,g=Mw(h,g,b)):g.memoizedState!==null?(ul(),g.child=h.child,g.flags|=128,g=null):(ul(),T=w.fallback,K=g.mode,w=dx({mode:"visible",children:w.children},K),T=_c(T,K,b,null),T.flags|=2,w.return=g,T.return=g,w.sibling=T,g.child=w,mu(g,h.child,null,b),w=g.child,w.memoizedState=Rw(b),w.childLanes=Iw(h,q,b),g.memoizedState=Pw,g=T);else if(dl(g),p1(K)){if(q=K.nextSibling&&K.nextSibling.dataset,q)var Se=q.dgst;q=Se,w=Error(s(419)),w.stack="",w.digest=q,mf({value:w,source:null,stack:null}),g=Mw(h,g,b)}else if(ca||gf(h,g,b,!1),q=(b&h.childLanes)!==0,ca||q){if(q=mr,q!==null&&(w=b&-b,w=(w&42)!==0?1:es(w),w=(w&(q.suspendedLanes|b))!==0?0:w,w!==0&&w!==oe.retryLane))throw oe.retryLane=w,ru(h,w),xn(q,h,w),vC;K.data==="$?"||Jw(),g=Mw(h,g,b)}else K.data==="$?"?(g.flags|=192,g.child=h.child,g=null):(h=oe.treeContext,Ar=ri(K.nextSibling),Fa=g,Hs=!0,Ec=null,Ci=!1,h!==null&&(On[Ln++]=go,On[Ln++]=po,On[Ln++]=Ac,go=h.id,po=h.overflow,Ac=g),g=Dw(g,w.children),g.flags|=4096);return g}return T?(ul(),T=w.fallback,K=g.mode,oe=h.child,Se=oe.sibling,w=mo(oe,{mode:"hidden",children:w.children}),w.subtreeFlags=oe.subtreeFlags&65011712,Se!==null?T=mo(Se,T):(T=_c(T,K,b,null),T.flags|=2),T.return=g,w.return=g,w.sibling=T,g.child=w,w=T,T=g.child,K=h.child.memoizedState,K===null?K=Rw(b):(oe=K.cachePool,oe!==null?(Se=ta._currentValue,oe=oe.parent!==Se?{parent:Se,pool:Se}:oe):oe=gA(),K={baseLanes:K.baseLanes|b,cachePool:oe}),T.memoizedState=K,T.childLanes=Iw(h,q,b),g.memoizedState=Pw,w):(dl(g),b=h.child,h=b.sibling,b=mo(b,{mode:"visible",children:w.children}),b.return=g,b.sibling=null,h!==null&&(q=g.deletions,q===null?(g.deletions=[h],g.flags|=16):q.push(h)),g.child=b,g.memoizedState=null,b)}function Dw(h,g){return g=dx({mode:"visible",children:g},h.mode),g.return=h,h.child=g}function dx(h,g){return h=hn(22,h,null,g),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function Mw(h,g,b){return mu(g,h.child,null,b),h=Dw(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function TC(h,g,b){h.lanes|=g;var w=h.alternate;w!==null&&(w.lanes|=g),Jv(h.return,g,b)}function Ow(h,g,b,w,T){var O=h.memoizedState;O===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:w,tail:b,tailMode:T}:(O.isBackwards=g,O.rendering=null,O.renderingStartTime=0,O.last=w,O.tail=b,O.tailMode=T)}function PC(h,g,b){var w=g.pendingProps,T=w.revealOrder,O=w.tail;if(pa(h,g,w.children,b),w=sa.current,(w&2)!==0)w=w&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&TC(h,b,g);else if(h.tag===19)TC(h,b,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}w&=1}switch(re(sa,w),T){case"forwards":for(b=g.child,T=null;b!==null;)h=b.alternate,h!==null&&ix(h)===null&&(T=b),b=b.sibling;b=T,b===null?(T=g.child,g.child=null):(T=b.sibling,b.sibling=null),Ow(g,!1,T,b,O);break;case"backwards":for(b=null,T=g.child,g.child=null;T!==null;){if(h=T.alternate,h!==null&&ix(h)===null){g.child=T;break}h=T.sibling,T.sibling=b,b=T,T=h}Ow(g,!0,b,null,O);break;case"together":Ow(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function wo(h,g,b){if(h!==null&&(g.dependencies=h.dependencies),pl|=g.lanes,(b&g.childLanes)===0)if(h!==null){if(gf(h,g,b,!1),(b&g.childLanes)===0)return null}else return null;if(h!==null&&g.child!==h.child)throw Error(s(153));if(g.child!==null){for(h=g.child,b=mo(h,h.pendingProps),g.child=b,b.return=g;h.sibling!==null;)h=h.sibling,b=b.sibling=mo(h,h.pendingProps),b.return=g;b.sibling=null}return g.child}function Lw(h,g){return(h.lanes&g)!==0?!0:(h=h.dependencies,!!(h!==null&&$p(h)))}function Pz(h,g,b){switch(g.tag){case 3:Oe(g,g.stateNode.containerInfo),nl(g,ta,h.memoizedState.cache),ff();break;case 27:case 5:de(g);break;case 4:Oe(g,g.stateNode.containerInfo);break;case 10:nl(g,g.type,g.memoizedProps.value);break;case 13:var w=g.memoizedState;if(w!==null)return w.dehydrated!==null?(dl(g),g.flags|=128,null):(b&g.child.childLanes)!==0?EC(h,g,b):(dl(g),h=wo(h,g,b),h!==null?h.sibling:null);dl(g);break;case 19:var T=(h.flags&128)!==0;if(w=(b&g.childLanes)!==0,w||(gf(h,g,b,!1),w=(b&g.childLanes)!==0),T){if(w)return PC(h,g,b);g.flags|=128}if(T=g.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),re(sa,sa.current),w)break;return null;case 22:case 23:return g.lanes=0,kC(h,g,b);case 24:nl(g,ta,h.memoizedState.cache)}return wo(h,g,b)}function RC(h,g,b){if(h!==null)if(h.memoizedProps!==g.pendingProps)ca=!0;else{if(!Lw(h,b)&&(g.flags&128)===0)return ca=!1,Pz(h,g,b);ca=(h.flags&131072)!==0}else ca=!1,Hs&&(g.flags&1048576)!==0&&lA(g,Hp,g.index);switch(g.lanes=0,g.tag){case 16:e:{h=g.pendingProps;var w=g.elementType,T=w._init;if(w=T(w._payload),g.type=w,typeof w=="function")Wv(w)?(h=Mc(w,h),g.tag=1,g=AC(null,g,w,h,b)):(g.tag=0,g=Tw(null,g,w,h,b));else{if(w!=null){if(T=w.$$typeof,T===R){g.tag=11,g=wC(null,g,w,h,b);break e}else if(T===P){g.tag=14,g=NC(null,g,w,h,b);break e}}throw g=V(w)||w,Error(s(306,g,""))}}return g;case 0:return Tw(h,g,g.type,g.pendingProps,b);case 1:return w=g.type,T=Mc(w,g.pendingProps),AC(h,g,w,T,b);case 3:e:{if(Oe(g,g.stateNode.containerInfo),h===null)throw Error(s(387));w=g.pendingProps;var O=g.memoizedState;T=O.element,iw(h,g),Nf(g,w,null,b);var q=g.memoizedState;if(w=q.cache,nl(g,ta,w),w!==O.cache&&ew(g,[ta],b,!0),wf(),w=q.element,O.isDehydrated)if(O={element:w,isDehydrated:!1,cache:q.cache},g.updateQueue.baseState=O,g.memoizedState=O,g.flags&256){g=CC(h,g,w,b);break e}else if(w!==T){T=Dn(Error(s(424)),g),mf(T),g=CC(h,g,w,b);break e}else{switch(h=g.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(Ar=ri(h.firstChild),Fa=g,Hs=!0,Ec=null,Ci=!0,b=dC(g,null,w,b),g.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling}else{if(ff(),w===T){g=wo(h,g,b);break e}pa(h,g,w,b)}g=g.child}return g;case 26:return cx(h,g),h===null?(b=OE(g.type,null,g.pendingProps,null))?g.memoizedState=b:Hs||(b=g.type,h=g.pendingProps,w=kx(le.current).createElement(b),w[Us]=g,w[Os]=h,ba(w,b,h),nt(w),g.stateNode=w):g.memoizedState=OE(g.type,h.memoizedProps,g.pendingProps,h.memoizedState),null;case 27:return de(g),h===null&&Hs&&(w=g.stateNode=IE(g.type,g.pendingProps,le.current),Fa=g,Ci=!0,T=Ar,vl(g.type)?(x1=T,Ar=ri(w.firstChild)):Ar=T),pa(h,g,g.pendingProps.children,b),cx(h,g),h===null&&(g.flags|=4194304),g.child;case 5:return h===null&&Hs&&((T=w=Ar)&&(w=nB(w,g.type,g.pendingProps,Ci),w!==null?(g.stateNode=w,Fa=g,Ar=ri(w.firstChild),Ci=!1,T=!0):T=!1),T||Tc(g)),de(g),T=g.type,O=g.pendingProps,q=h!==null?h.memoizedProps:null,w=O.children,f1(T,O)?w=null:q!==null&&f1(T,q)&&(g.flags|=32),g.memoizedState!==null&&(T=hw(h,g,jz,null,null,b),$f._currentValue=T),cx(h,g),pa(h,g,w,b),g.child;case 6:return h===null&&Hs&&((h=b=Ar)&&(b=iB(b,g.pendingProps,Ci),b!==null?(g.stateNode=b,Fa=g,Ar=null,h=!0):h=!1),h||Tc(g)),null;case 13:return EC(h,g,b);case 4:return Oe(g,g.stateNode.containerInfo),w=g.pendingProps,h===null?g.child=mu(g,null,w,b):pa(h,g,w,b),g.child;case 11:return wC(h,g,g.type,g.pendingProps,b);case 7:return pa(h,g,g.pendingProps,b),g.child;case 8:return pa(h,g,g.pendingProps.children,b),g.child;case 12:return pa(h,g,g.pendingProps.children,b),g.child;case 10:return w=g.pendingProps,nl(g,g.type,w.value),pa(h,g,w.children,b),g.child;case 9:return T=g.type._context,w=g.pendingProps.children,Rc(g),T=Aa(T),w=w(T),g.flags|=1,pa(h,g,w,b),g.child;case 14:return NC(h,g,g.type,g.pendingProps,b);case 15:return jC(h,g,g.type,g.pendingProps,b);case 19:return PC(h,g,b);case 31:return w=g.pendingProps,b=g.mode,w={mode:w.mode,children:w.children},h===null?(b=dx(w,b),b.ref=g.ref,g.child=b,b.return=g,g=b):(b=mo(h.child,w),b.ref=g.ref,g.child=b,b.return=g,g=b),g;case 22:return kC(h,g,b);case 24:return Rc(g),w=Aa(ta),h===null?(T=rw(),T===null&&(T=mr,O=tw(),T.pooledCache=O,O.refCount++,O!==null&&(T.pooledCacheLanes|=b),T=O),g.memoizedState={parent:w,cache:T},nw(g),nl(g,ta,T)):((h.lanes&b)!==0&&(iw(h,g),Nf(g,null,null,b),wf()),T=h.memoizedState,O=g.memoizedState,T.parent!==w?(T={parent:w,cache:w},g.memoizedState=T,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=T),nl(g,ta,w)):(w=O.cache,nl(g,ta,w),w!==T.cache&&ew(g,[ta],b,!0))),pa(h,g,g.pendingProps.children,b),g.child;case 29:throw g.pendingProps}throw Error(s(156,g.tag))}function No(h){h.flags|=4}function IC(h,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!BE(g)){if(g=Fn.current,g!==null&&((Ts&4194048)===Ts?Ei!==null:(Ts&62914560)!==Ts&&(Ts&536870912)===0||g!==Ei))throw yf=aw,pA;h.flags|=8192}}function ux(h,g){g!==null&&(h.flags|=4),h.flags&16384&&(g=h.tag!==22?Jt():536870912,h.lanes|=g,bu|=g)}function Ef(h,g){if(!Hs)switch(h.tailMode){case"hidden":g=h.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var w=null;b!==null;)b.alternate!==null&&(w=b),b=b.sibling;w===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:w.sibling=null}}function wr(h){var g=h.alternate!==null&&h.alternate.child===h.child,b=0,w=0;if(g)for(var T=h.child;T!==null;)b|=T.lanes|T.childLanes,w|=T.subtreeFlags&65011712,w|=T.flags&65011712,T.return=h,T=T.sibling;else for(T=h.child;T!==null;)b|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=h,T=T.sibling;return h.subtreeFlags|=w,h.childLanes=b,g}function Rz(h,g,b){var w=g.pendingProps;switch(Kv(g),g.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(g),null;case 1:return wr(g),null;case 3:return b=g.stateNode,w=null,h!==null&&(w=h.memoizedState.cache),g.memoizedState.cache!==w&&(g.flags|=2048),bo(ta),Be(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(hf(g)?No(g):h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,uA())),wr(g),null;case 26:return b=g.memoizedState,h===null?(No(g),b!==null?(wr(g),IC(g,b)):(wr(g),g.flags&=-16777217)):b?b!==h.memoizedState?(No(g),wr(g),IC(g,b)):(wr(g),g.flags&=-16777217):(h.memoizedProps!==w&&No(g),wr(g),g.flags&=-16777217),null;case 27:Ye(g),b=le.current;var T=g.type;if(h!==null&&g.stateNode!=null)h.memoizedProps!==w&&No(g);else{if(!w){if(g.stateNode===null)throw Error(s(166));return wr(g),null}h=ie.current,hf(g)?cA(g):(h=IE(T,w,b),g.stateNode=h,No(g))}return wr(g),null;case 5:if(Ye(g),b=g.type,h!==null&&g.stateNode!=null)h.memoizedProps!==w&&No(g);else{if(!w){if(g.stateNode===null)throw Error(s(166));return wr(g),null}if(h=ie.current,hf(g))cA(g);else{switch(T=kx(le.current),h){case 1:h=T.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:h=T.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":h=T.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":h=T.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":h=T.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof w.is=="string"?T.createElement("select",{is:w.is}):T.createElement("select"),w.multiple?h.multiple=!0:w.size&&(h.size=w.size);break;default:h=typeof w.is=="string"?T.createElement(b,{is:w.is}):T.createElement(b)}}h[Us]=g,h[Os]=w;e:for(T=g.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===g)break e;for(;T.sibling===null;){if(T.return===null||T.return===g)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}g.stateNode=h;e:switch(ba(h,b,w),b){case"button":case"input":case"select":case"textarea":h=!!w.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&No(g)}}return wr(g),g.flags&=-16777217,null;case 6:if(h&&g.stateNode!=null)h.memoizedProps!==w&&No(g);else{if(typeof w!="string"&&g.stateNode===null)throw Error(s(166));if(h=le.current,hf(g)){if(h=g.stateNode,b=g.memoizedProps,w=null,T=Fa,T!==null)switch(T.tag){case 27:case 5:w=T.memoizedProps}h[Us]=g,h=!!(h.nodeValue===b||w!==null&&w.suppressHydrationWarning===!0||_E(h.nodeValue,b)),h||Tc(g)}else h=kx(h).createTextNode(w),h[Us]=g,g.stateNode=h}return wr(g),null;case 13:if(w=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(T=hf(g),w!==null&&w.dehydrated!==null){if(h===null){if(!T)throw Error(s(318));if(T=g.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(s(317));T[Us]=g}else ff(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;wr(g),T=!1}else T=uA(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=T),T=!0;if(!T)return g.flags&256?(vo(g),g):(vo(g),null)}if(vo(g),(g.flags&128)!==0)return g.lanes=b,g;if(b=w!==null,h=h!==null&&h.memoizedState!==null,b){w=g.child,T=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(T=w.alternate.memoizedState.cachePool.pool);var O=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(O=w.memoizedState.cachePool.pool),O!==T&&(w.flags|=2048)}return b!==h&&b&&(g.child.flags|=8192),ux(g,g.updateQueue),wr(g),null;case 4:return Be(),h===null&&l1(g.stateNode.containerInfo),wr(g),null;case 10:return bo(g.type),wr(g),null;case 19:if(te(sa),T=g.memoizedState,T===null)return wr(g),null;if(w=(g.flags&128)!==0,O=T.rendering,O===null)if(w)Ef(T,!1);else{if(Cr!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(O=ix(h),O!==null){for(g.flags|=128,Ef(T,!1),h=O.updateQueue,g.updateQueue=h,ux(g,h),g.subtreeFlags=0,h=b,b=g.child;b!==null;)oA(b,h),b=b.sibling;return re(sa,sa.current&1|2),g.child}h=h.sibling}T.tail!==null&&Je()>mx&&(g.flags|=128,w=!0,Ef(T,!1),g.lanes=4194304)}else{if(!w)if(h=ix(O),h!==null){if(g.flags|=128,w=!0,h=h.updateQueue,g.updateQueue=h,ux(g,h),Ef(T,!0),T.tail===null&&T.tailMode==="hidden"&&!O.alternate&&!Hs)return wr(g),null}else 2*Je()-T.renderingStartTime>mx&&b!==536870912&&(g.flags|=128,w=!0,Ef(T,!1),g.lanes=4194304);T.isBackwards?(O.sibling=g.child,g.child=O):(h=T.last,h!==null?h.sibling=O:g.child=O,T.last=O)}return T.tail!==null?(g=T.tail,T.rendering=g,T.tail=g.sibling,T.renderingStartTime=Je(),g.sibling=null,h=sa.current,re(sa,w?h&1|2:h&1),g):(wr(g),null);case 22:case 23:return vo(g),dw(),w=g.memoizedState!==null,h!==null?h.memoizedState!==null!==w&&(g.flags|=8192):w&&(g.flags|=8192),w?(b&536870912)!==0&&(g.flags&128)===0&&(wr(g),g.subtreeFlags&6&&(g.flags|=8192)):wr(g),b=g.updateQueue,b!==null&&ux(g,b.retryQueue),b=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),w=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==b&&(g.flags|=2048),h!==null&&te(Ic),null;case 24:return b=null,h!==null&&(b=h.memoizedState.cache),g.memoizedState.cache!==b&&(g.flags|=2048),bo(ta),wr(g),null;case 25:return null;case 30:return null}throw Error(s(156,g.tag))}function Iz(h,g){switch(Kv(g),g.tag){case 1:return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return bo(ta),Be(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 26:case 27:case 5:return Ye(g),null;case 13:if(vo(g),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(s(340));ff()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return te(sa),null;case 4:return Be(),null;case 10:return bo(g.type),null;case 22:case 23:return vo(g),dw(),h!==null&&te(Ic),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 24:return bo(ta),null;case 25:return null;default:return null}}function DC(h,g){switch(Kv(g),g.tag){case 3:bo(ta),Be();break;case 26:case 27:case 5:Ye(g);break;case 4:Be();break;case 13:vo(g);break;case 19:te(sa);break;case 10:bo(g.type);break;case 22:case 23:vo(g),dw(),h!==null&&te(Ic);break;case 24:bo(ta)}}function Tf(h,g){try{var b=g.updateQueue,w=b!==null?b.lastEffect:null;if(w!==null){var T=w.next;b=T;do{if((b.tag&h)===h){w=void 0;var O=b.create,q=b.inst;w=O(),q.destroy=w}b=b.next}while(b!==T)}}catch(K){dr(g,g.return,K)}}function hl(h,g,b){try{var w=g.updateQueue,T=w!==null?w.lastEffect:null;if(T!==null){var O=T.next;w=O;do{if((w.tag&h)===h){var q=w.inst,K=q.destroy;if(K!==void 0){q.destroy=void 0,T=g;var oe=b,Se=K;try{Se()}catch($e){dr(T,oe,$e)}}}w=w.next}while(w!==O)}}catch($e){dr(g,g.return,$e)}}function MC(h){var g=h.updateQueue;if(g!==null){var b=h.stateNode;try{NA(g,b)}catch(w){dr(h,h.return,w)}}}function OC(h,g,b){b.props=Mc(h.type,h.memoizedProps),b.state=h.memoizedState;try{b.componentWillUnmount()}catch(w){dr(h,g,w)}}function Pf(h,g){try{var b=h.ref;if(b!==null){switch(h.tag){case 26:case 27:case 5:var w=h.stateNode;break;case 30:w=h.stateNode;break;default:w=h.stateNode}typeof b=="function"?h.refCleanup=b(w):b.current=w}}catch(T){dr(h,g,T)}}function Ti(h,g){var b=h.ref,w=h.refCleanup;if(b!==null)if(typeof w=="function")try{w()}catch(T){dr(h,g,T)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(T){dr(h,g,T)}else b.current=null}function LC(h){var g=h.type,b=h.memoizedProps,w=h.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":b.autoFocus&&w.focus();break e;case"img":b.src?w.src=b.src:b.srcSet&&(w.srcset=b.srcSet)}}catch(T){dr(h,h.return,T)}}function Fw(h,g,b){try{var w=h.stateNode;eB(w,h.type,b,g),w[Os]=g}catch(T){dr(h,h.return,T)}}function FC(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&vl(h.type)||h.tag===4}function Uw(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||FC(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&vl(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function zw(h,g,b){var w=h.tag;if(w===5||w===6)h=h.stateNode,g?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(h,g):(g=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,g.appendChild(h),b=b._reactRootContainer,b!=null||g.onclick!==null||(g.onclick=jx));else if(w!==4&&(w===27&&vl(h.type)&&(b=h.stateNode,g=null),h=h.child,h!==null))for(zw(h,g,b),h=h.sibling;h!==null;)zw(h,g,b),h=h.sibling}function hx(h,g,b){var w=h.tag;if(w===5||w===6)h=h.stateNode,g?b.insertBefore(h,g):b.appendChild(h);else if(w!==4&&(w===27&&vl(h.type)&&(b=h.stateNode),h=h.child,h!==null))for(hx(h,g,b),h=h.sibling;h!==null;)hx(h,g,b),h=h.sibling}function UC(h){var g=h.stateNode,b=h.memoizedProps;try{for(var w=h.type,T=g.attributes;T.length;)g.removeAttributeNode(T[0]);ba(g,w,b),g[Us]=h,g[Os]=b}catch(O){dr(h,h.return,O)}}var jo=!1,Lr=!1,Bw=!1,zC=typeof WeakSet=="function"?WeakSet:Set,da=null;function Dz(h,g){if(h=h.containerInfo,u1=Tx,h=Z_(h),Uv(h)){if("selectionStart"in h)var b={start:h.selectionStart,end:h.selectionEnd};else e:{b=(b=h.ownerDocument)&&b.defaultView||window;var w=b.getSelection&&b.getSelection();if(w&&w.rangeCount!==0){b=w.anchorNode;var T=w.anchorOffset,O=w.focusNode;w=w.focusOffset;try{b.nodeType,O.nodeType}catch{b=null;break e}var q=0,K=-1,oe=-1,Se=0,$e=0,Ke=h,Ae=null;t:for(;;){for(var Ee;Ke!==b||T!==0&&Ke.nodeType!==3||(K=q+T),Ke!==O||w!==0&&Ke.nodeType!==3||(oe=q+w),Ke.nodeType===3&&(q+=Ke.nodeValue.length),(Ee=Ke.firstChild)!==null;)Ae=Ke,Ke=Ee;for(;;){if(Ke===h)break t;if(Ae===b&&++Se===T&&(K=q),Ae===O&&++$e===w&&(oe=q),(Ee=Ke.nextSibling)!==null)break;Ke=Ae,Ae=Ke.parentNode}Ke=Ee}b=K===-1||oe===-1?null:{start:K,end:oe}}else b=null}b=b||{start:0,end:0}}else b=null;for(h1={focusedElem:h,selectionRange:b},Tx=!1,da=g;da!==null;)if(g=da,h=g.child,(g.subtreeFlags&1024)!==0&&h!==null)h.return=g,da=h;else for(;da!==null;){switch(g=da,O=g.alternate,h=g.flags,g.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&O!==null){h=void 0,b=g,T=O.memoizedProps,O=O.memoizedState,w=b.stateNode;try{var Yt=Mc(b.type,T,b.elementType===b.type);h=w.getSnapshotBeforeUpdate(Yt,O),w.__reactInternalSnapshotBeforeUpdate=h}catch(Vt){dr(b,b.return,Vt)}}break;case 3:if((h&1024)!==0){if(h=g.stateNode.containerInfo,b=h.nodeType,b===9)g1(h);else if(b===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":g1(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(s(163))}if(h=g.sibling,h!==null){h.return=g.return,da=h;break}da=g.return}}function BC(h,g,b){var w=b.flags;switch(b.tag){case 0:case 11:case 15:fl(h,b),w&4&&Tf(5,b);break;case 1:if(fl(h,b),w&4)if(h=b.stateNode,g===null)try{h.componentDidMount()}catch(q){dr(b,b.return,q)}else{var T=Mc(b.type,g.memoizedProps);g=g.memoizedState;try{h.componentDidUpdate(T,g,h.__reactInternalSnapshotBeforeUpdate)}catch(q){dr(b,b.return,q)}}w&64&&MC(b),w&512&&Pf(b,b.return);break;case 3:if(fl(h,b),w&64&&(h=b.updateQueue,h!==null)){if(g=null,b.child!==null)switch(b.child.tag){case 27:case 5:g=b.child.stateNode;break;case 1:g=b.child.stateNode}try{NA(h,g)}catch(q){dr(b,b.return,q)}}break;case 27:g===null&&w&4&&UC(b);case 26:case 5:fl(h,b),g===null&&w&4&&LC(b),w&512&&Pf(b,b.return);break;case 12:fl(h,b);break;case 13:fl(h,b),w&4&&$C(h,b),w&64&&(h=b.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(b=Hz.bind(null,b),oB(h,b))));break;case 22:if(w=b.memoizedState!==null||jo,!w){g=g!==null&&g.memoizedState!==null||Lr,T=jo;var O=Lr;jo=w,(Lr=g)&&!O?ml(h,b,(b.subtreeFlags&8772)!==0):fl(h,b),jo=T,Lr=O}break;case 30:break;default:fl(h,b)}}function VC(h){var g=h.alternate;g!==null&&(h.alternate=null,VC(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&yt(g)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var yr=null,Za=!1;function ko(h,g,b){for(b=b.child;b!==null;)HC(h,g,b),b=b.sibling}function HC(h,g,b){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(st,b)}catch{}switch(b.tag){case 26:Lr||Ti(b,g),ko(h,g,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:Lr||Ti(b,g);var w=yr,T=Za;vl(b.type)&&(yr=b.stateNode,Za=!1),ko(h,g,b),zf(b.stateNode),yr=w,Za=T;break;case 5:Lr||Ti(b,g);case 6:if(w=yr,T=Za,yr=null,ko(h,g,b),yr=w,Za=T,yr!==null)if(Za)try{(yr.nodeType===9?yr.body:yr.nodeName==="HTML"?yr.ownerDocument.body:yr).removeChild(b.stateNode)}catch(O){dr(b,g,O)}else try{yr.removeChild(b.stateNode)}catch(O){dr(b,g,O)}break;case 18:yr!==null&&(Za?(h=yr,PE(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,b.stateNode),Gf(h)):PE(yr,b.stateNode));break;case 4:w=yr,T=Za,yr=b.stateNode.containerInfo,Za=!0,ko(h,g,b),yr=w,Za=T;break;case 0:case 11:case 14:case 15:Lr||hl(2,b,g),Lr||hl(4,b,g),ko(h,g,b);break;case 1:Lr||(Ti(b,g),w=b.stateNode,typeof w.componentWillUnmount=="function"&&OC(b,g,w)),ko(h,g,b);break;case 21:ko(h,g,b);break;case 22:Lr=(w=Lr)||b.memoizedState!==null,ko(h,g,b),Lr=w;break;default:ko(h,g,b)}}function $C(h,g){if(g.memoizedState===null&&(h=g.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Gf(h)}catch(b){dr(g,g.return,b)}}function Mz(h){switch(h.tag){case 13:case 19:var g=h.stateNode;return g===null&&(g=h.stateNode=new zC),g;case 22:return h=h.stateNode,g=h._retryCache,g===null&&(g=h._retryCache=new zC),g;default:throw Error(s(435,h.tag))}}function Vw(h,g){var b=Mz(h);g.forEach(function(w){var T=$z.bind(null,h,w);b.has(w)||(b.add(w),w.then(T,T))})}function fn(h,g){var b=g.deletions;if(b!==null)for(var w=0;w<b.length;w++){var T=b[w],O=h,q=g,K=q;e:for(;K!==null;){switch(K.tag){case 27:if(vl(K.type)){yr=K.stateNode,Za=!1;break e}break;case 5:yr=K.stateNode,Za=!1;break e;case 3:case 4:yr=K.stateNode.containerInfo,Za=!0;break e}K=K.return}if(yr===null)throw Error(s(160));HC(O,q,T),yr=null,Za=!1,O=T.alternate,O!==null&&(O.return=null),T.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)qC(g,h),g=g.sibling}var si=null;function qC(h,g){var b=h.alternate,w=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:fn(g,h),mn(h),w&4&&(hl(3,h,h.return),Tf(3,h),hl(5,h,h.return));break;case 1:fn(g,h),mn(h),w&512&&(Lr||b===null||Ti(b,b.return)),w&64&&jo&&(h=h.updateQueue,h!==null&&(w=h.callbacks,w!==null&&(b=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=b===null?w:b.concat(w))));break;case 26:var T=si;if(fn(g,h),mn(h),w&512&&(Lr||b===null||Ti(b,b.return)),w&4){var O=b!==null?b.memoizedState:null;if(w=h.memoizedState,b===null)if(w===null)if(h.stateNode===null){e:{w=h.type,b=h.memoizedProps,T=T.ownerDocument||T;t:switch(w){case"title":O=T.getElementsByTagName("title")[0],(!O||O[Lt]||O[Us]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=T.createElement(w),T.head.insertBefore(O,T.querySelector("head > title"))),ba(O,w,b),O[Us]=h,nt(O),w=O;break e;case"link":var q=UE("link","href",T).get(w+(b.href||""));if(q){for(var K=0;K<q.length;K++)if(O=q[K],O.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&O.getAttribute("rel")===(b.rel==null?null:b.rel)&&O.getAttribute("title")===(b.title==null?null:b.title)&&O.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){q.splice(K,1);break t}}O=T.createElement(w),ba(O,w,b),T.head.appendChild(O);break;case"meta":if(q=UE("meta","content",T).get(w+(b.content||""))){for(K=0;K<q.length;K++)if(O=q[K],O.getAttribute("content")===(b.content==null?null:""+b.content)&&O.getAttribute("name")===(b.name==null?null:b.name)&&O.getAttribute("property")===(b.property==null?null:b.property)&&O.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&O.getAttribute("charset")===(b.charSet==null?null:b.charSet)){q.splice(K,1);break t}}O=T.createElement(w),ba(O,w,b),T.head.appendChild(O);break;default:throw Error(s(468,w))}O[Us]=h,nt(O),w=O}h.stateNode=w}else zE(T,h.type,h.stateNode);else h.stateNode=FE(T,w,h.memoizedProps);else O!==w?(O===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):O.count--,w===null?zE(T,h.type,h.stateNode):FE(T,w,h.memoizedProps)):w===null&&h.stateNode!==null&&Fw(h,h.memoizedProps,b.memoizedProps)}break;case 27:fn(g,h),mn(h),w&512&&(Lr||b===null||Ti(b,b.return)),b!==null&&w&4&&Fw(h,h.memoizedProps,b.memoizedProps);break;case 5:if(fn(g,h),mn(h),w&512&&(Lr||b===null||Ti(b,b.return)),h.flags&32){T=h.stateNode;try{Tn(T,"")}catch(Ee){dr(h,h.return,Ee)}}w&4&&h.stateNode!=null&&(T=h.memoizedProps,Fw(h,T,b!==null?b.memoizedProps:T)),w&1024&&(Bw=!0);break;case 6:if(fn(g,h),mn(h),w&4){if(h.stateNode===null)throw Error(s(162));w=h.memoizedProps,b=h.stateNode;try{b.nodeValue=w}catch(Ee){dr(h,h.return,Ee)}}break;case 3:if(Ax=null,T=si,si=Sx(g.containerInfo),fn(g,h),si=T,mn(h),w&4&&b!==null&&b.memoizedState.isDehydrated)try{Gf(g.containerInfo)}catch(Ee){dr(h,h.return,Ee)}Bw&&(Bw=!1,WC(h));break;case 4:w=si,si=Sx(h.stateNode.containerInfo),fn(g,h),mn(h),si=w;break;case 12:fn(g,h),mn(h);break;case 13:fn(g,h),mn(h),h.child.flags&8192&&h.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(Gw=Je()),w&4&&(w=h.updateQueue,w!==null&&(h.updateQueue=null,Vw(h,w)));break;case 22:T=h.memoizedState!==null;var oe=b!==null&&b.memoizedState!==null,Se=jo,$e=Lr;if(jo=Se||T,Lr=$e||oe,fn(g,h),Lr=$e,jo=Se,mn(h),w&8192)e:for(g=h.stateNode,g._visibility=T?g._visibility&-2:g._visibility|1,T&&(b===null||oe||jo||Lr||Oc(h)),b=null,g=h;;){if(g.tag===5||g.tag===26){if(b===null){oe=b=g;try{if(O=oe.stateNode,T)q=O.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{K=oe.stateNode;var Ke=oe.memoizedProps.style,Ae=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;K.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(Ee){dr(oe,oe.return,Ee)}}}else if(g.tag===6){if(b===null){oe=g;try{oe.stateNode.nodeValue=T?"":oe.memoizedProps}catch(Ee){dr(oe,oe.return,Ee)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===h)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break e;for(;g.sibling===null;){if(g.return===null||g.return===h)break e;b===g&&(b=null),g=g.return}b===g&&(b=null),g.sibling.return=g.return,g=g.sibling}w&4&&(w=h.updateQueue,w!==null&&(b=w.retryQueue,b!==null&&(w.retryQueue=null,Vw(h,b))));break;case 19:fn(g,h),mn(h),w&4&&(w=h.updateQueue,w!==null&&(h.updateQueue=null,Vw(h,w)));break;case 30:break;case 21:break;default:fn(g,h),mn(h)}}function mn(h){var g=h.flags;if(g&2){try{for(var b,w=h.return;w!==null;){if(FC(w)){b=w;break}w=w.return}if(b==null)throw Error(s(160));switch(b.tag){case 27:var T=b.stateNode,O=Uw(h);hx(h,O,T);break;case 5:var q=b.stateNode;b.flags&32&&(Tn(q,""),b.flags&=-33);var K=Uw(h);hx(h,K,q);break;case 3:case 4:var oe=b.stateNode.containerInfo,Se=Uw(h);zw(h,Se,oe);break;default:throw Error(s(161))}}catch($e){dr(h,h.return,$e)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function WC(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var g=h;WC(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),h=h.sibling}}function fl(h,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)BC(h,g.alternate,g),g=g.sibling}function Oc(h){for(h=h.child;h!==null;){var g=h;switch(g.tag){case 0:case 11:case 14:case 15:hl(4,g,g.return),Oc(g);break;case 1:Ti(g,g.return);var b=g.stateNode;typeof b.componentWillUnmount=="function"&&OC(g,g.return,b),Oc(g);break;case 27:zf(g.stateNode);case 26:case 5:Ti(g,g.return),Oc(g);break;case 22:g.memoizedState===null&&Oc(g);break;case 30:Oc(g);break;default:Oc(g)}h=h.sibling}}function ml(h,g,b){for(b=b&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var w=g.alternate,T=h,O=g,q=O.flags;switch(O.tag){case 0:case 11:case 15:ml(T,O,b),Tf(4,O);break;case 1:if(ml(T,O,b),w=O,T=w.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Se){dr(w,w.return,Se)}if(w=O,T=w.updateQueue,T!==null){var K=w.stateNode;try{var oe=T.shared.hiddenCallbacks;if(oe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<oe.length;T++)wA(oe[T],K)}catch(Se){dr(w,w.return,Se)}}b&&q&64&&MC(O),Pf(O,O.return);break;case 27:UC(O);case 26:case 5:ml(T,O,b),b&&w===null&&q&4&&LC(O),Pf(O,O.return);break;case 12:ml(T,O,b);break;case 13:ml(T,O,b),b&&q&4&&$C(T,O);break;case 22:O.memoizedState===null&&ml(T,O,b),Pf(O,O.return);break;case 30:break;default:ml(T,O,b)}g=g.sibling}}function Hw(h,g){var b=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),h=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(h=g.memoizedState.cachePool.pool),h!==b&&(h!=null&&h.refCount++,b!=null&&pf(b))}function $w(h,g){h=null,g.alternate!==null&&(h=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==h&&(g.refCount++,h!=null&&pf(h))}function Pi(h,g,b,w){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)YC(h,g,b,w),g=g.sibling}function YC(h,g,b,w){var T=g.flags;switch(g.tag){case 0:case 11:case 15:Pi(h,g,b,w),T&2048&&Tf(9,g);break;case 1:Pi(h,g,b,w);break;case 3:Pi(h,g,b,w),T&2048&&(h=null,g.alternate!==null&&(h=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==h&&(g.refCount++,h!=null&&pf(h)));break;case 12:if(T&2048){Pi(h,g,b,w),h=g.stateNode;try{var O=g.memoizedProps,q=O.id,K=O.onPostCommit;typeof K=="function"&&K(q,g.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(oe){dr(g,g.return,oe)}}else Pi(h,g,b,w);break;case 13:Pi(h,g,b,w);break;case 23:break;case 22:O=g.stateNode,q=g.alternate,g.memoizedState!==null?O._visibility&2?Pi(h,g,b,w):Rf(h,g):O._visibility&2?Pi(h,g,b,w):(O._visibility|=2,gu(h,g,b,w,(g.subtreeFlags&10256)!==0)),T&2048&&Hw(q,g);break;case 24:Pi(h,g,b,w),T&2048&&$w(g.alternate,g);break;default:Pi(h,g,b,w)}}function gu(h,g,b,w,T){for(T=T&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var O=h,q=g,K=b,oe=w,Se=q.flags;switch(q.tag){case 0:case 11:case 15:gu(O,q,K,oe,T),Tf(8,q);break;case 23:break;case 22:var $e=q.stateNode;q.memoizedState!==null?$e._visibility&2?gu(O,q,K,oe,T):Rf(O,q):($e._visibility|=2,gu(O,q,K,oe,T)),T&&Se&2048&&Hw(q.alternate,q);break;case 24:gu(O,q,K,oe,T),T&&Se&2048&&$w(q.alternate,q);break;default:gu(O,q,K,oe,T)}g=g.sibling}}function Rf(h,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var b=h,w=g,T=w.flags;switch(w.tag){case 22:Rf(b,w),T&2048&&Hw(w.alternate,w);break;case 24:Rf(b,w),T&2048&&$w(w.alternate,w);break;default:Rf(b,w)}g=g.sibling}}var If=8192;function pu(h){if(h.subtreeFlags&If)for(h=h.child;h!==null;)GC(h),h=h.sibling}function GC(h){switch(h.tag){case 26:pu(h),h.flags&If&&h.memoizedState!==null&&vB(si,h.memoizedState,h.memoizedProps);break;case 5:pu(h);break;case 3:case 4:var g=si;si=Sx(h.stateNode.containerInfo),pu(h),si=g;break;case 22:h.memoizedState===null&&(g=h.alternate,g!==null&&g.memoizedState!==null?(g=If,If=16777216,pu(h),If=g):pu(h));break;default:pu(h)}}function XC(h){var g=h.alternate;if(g!==null&&(h=g.child,h!==null)){g.child=null;do g=h.sibling,h.sibling=null,h=g;while(h!==null)}}function Df(h){var g=h.deletions;if((h.flags&16)!==0){if(g!==null)for(var b=0;b<g.length;b++){var w=g[b];da=w,ZC(w,h)}XC(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)KC(h),h=h.sibling}function KC(h){switch(h.tag){case 0:case 11:case 15:Df(h),h.flags&2048&&hl(9,h,h.return);break;case 3:Df(h);break;case 12:Df(h);break;case 22:var g=h.stateNode;h.memoizedState!==null&&g._visibility&2&&(h.return===null||h.return.tag!==13)?(g._visibility&=-3,fx(h)):Df(h);break;default:Df(h)}}function fx(h){var g=h.deletions;if((h.flags&16)!==0){if(g!==null)for(var b=0;b<g.length;b++){var w=g[b];da=w,ZC(w,h)}XC(h)}for(h=h.child;h!==null;){switch(g=h,g.tag){case 0:case 11:case 15:hl(8,g,g.return),fx(g);break;case 22:b=g.stateNode,b._visibility&2&&(b._visibility&=-3,fx(g));break;default:fx(g)}h=h.sibling}}function ZC(h,g){for(;da!==null;){var b=da;switch(b.tag){case 0:case 11:case 15:hl(8,b,g);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var w=b.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:pf(b.memoizedState.cache)}if(w=b.child,w!==null)w.return=b,da=w;else e:for(b=h;da!==null;){w=da;var T=w.sibling,O=w.return;if(VC(w),w===b){da=null;break e}if(T!==null){T.return=O,da=T;break e}da=O}}}var Oz={getCacheForType:function(h){var g=Aa(ta),b=g.data.get(h);return b===void 0&&(b=h(),g.data.set(h,b)),b}},Lz=typeof WeakMap=="function"?WeakMap:Map,Zs=0,mr=null,ps=null,Ts=0,Qs=0,gn=null,gl=!1,xu=!1,qw=!1,So=0,Cr=0,pl=0,Lc=0,Ww=0,Un=0,bu=0,Mf=null,Qa=null,Yw=!1,Gw=0,mx=1/0,gx=null,xl=null,xa=0,bl=null,yu=null,vu=0,Xw=0,Kw=null,QC=null,Of=0,Zw=null;function pn(){if((Zs&2)!==0&&Ts!==0)return Ts&-Ts;if(Y.T!==null){var h=ou;return h!==0?h:a1()}return Vs()}function JC(){Un===0&&(Un=(Ts&536870912)===0||Hs?ms():536870912);var h=Fn.current;return h!==null&&(h.flags|=32),Un}function xn(h,g,b){(h===mr&&(Qs===2||Qs===9)||h.cancelPendingCommit!==null)&&(wu(h,0),yl(h,Ts,Un,!1)),ss(h,b),((Zs&2)===0||h!==mr)&&(h===mr&&((Zs&2)===0&&(Lc|=b),Cr===4&&yl(h,Ts,Un,!1)),Ri(h))}function eE(h,g,b){if((Zs&6)!==0)throw Error(s(327));var w=!b&&(g&124)===0&&(g&h.expiredLanes)===0||Wt(h,g),T=w?zz(h,g):e1(h,g,!0),O=w;do{if(T===0){xu&&!w&&yl(h,g,0,!1);break}else{if(b=h.current.alternate,O&&!Fz(b)){T=e1(h,g,!1),O=!1;continue}if(T===2){if(O=g,h.errorRecoveryDisabledLanes&O)var q=0;else q=h.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){g=q;e:{var K=h;T=Mf;var oe=K.current.memoizedState.isDehydrated;if(oe&&(wu(K,q).flags|=256),q=e1(K,q,!1),q!==2){if(qw&&!oe){K.errorRecoveryDisabledLanes|=O,Lc|=O,T=4;break e}O=Qa,Qa=T,O!==null&&(Qa===null?Qa=O:Qa.push.apply(Qa,O))}T=q}if(O=!1,T!==2)continue}}if(T===1){wu(h,0),yl(h,g,0,!0);break}e:{switch(w=h,O=T,O){case 0:case 1:throw Error(s(345));case 4:if((g&4194048)!==g)break;case 6:yl(w,g,Un,!gl);break e;case 2:Qa=null;break;case 3:case 5:break;default:throw Error(s(329))}if((g&62914560)===g&&(T=Gw+300-Je(),10<T)){if(yl(w,g,Un,!gl),It(w,0,!0)!==0)break e;w.timeoutHandle=EE(tE.bind(null,w,b,Qa,gx,Yw,g,Un,Lc,bu,gl,O,2,-0,0),T);break e}tE(w,b,Qa,gx,Yw,g,Un,Lc,bu,gl,O,0,-0,0)}}break}while(!0);Ri(h)}function tE(h,g,b,w,T,O,q,K,oe,Se,$e,Ke,Ae,Ee){if(h.timeoutHandle=-1,Ke=g.subtreeFlags,(Ke&8192||(Ke&16785408)===16785408)&&(Hf={stylesheets:null,count:0,unsuspend:yB},GC(g),Ke=wB(),Ke!==null)){h.cancelPendingCommit=Ke(lE.bind(null,h,g,O,b,w,T,q,K,oe,$e,1,Ae,Ee)),yl(h,O,q,!Se);return}lE(h,g,O,b,w,T,q,K,oe)}function Fz(h){for(var g=h;;){var b=g.tag;if((b===0||b===11||b===15)&&g.flags&16384&&(b=g.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var w=0;w<b.length;w++){var T=b[w],O=T.getSnapshot;T=T.value;try{if(!un(O(),T))return!1}catch{return!1}}if(b=g.child,g.subtreeFlags&16384&&b!==null)b.return=g,g=b;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function yl(h,g,b,w){g&=~Ww,g&=~Lc,h.suspendedLanes|=g,h.pingedLanes&=~g,w&&(h.warmLanes|=g),w=h.expirationTimes;for(var T=g;0<T;){var O=31-Nt(T),q=1<<O;w[O]=-1,T&=~q}b!==0&&gs(h,b,g)}function px(){return(Zs&6)===0?(Lf(0),!1):!0}function Qw(){if(ps!==null){if(Qs===0)var h=ps.return;else h=ps,xo=Pc=null,gw(h),fu=null,Af=0,h=ps;for(;h!==null;)DC(h.alternate,h),h=h.return;ps=null}}function wu(h,g){var b=h.timeoutHandle;b!==-1&&(h.timeoutHandle=-1,sB(b)),b=h.cancelPendingCommit,b!==null&&(h.cancelPendingCommit=null,b()),Qw(),mr=h,ps=b=mo(h.current,null),Ts=g,Qs=0,gn=null,gl=!1,xu=Wt(h,g),qw=!1,bu=Un=Ww=Lc=pl=Cr=0,Qa=Mf=null,Yw=!1,(g&8)!==0&&(g|=g&32);var w=h.entangledLanes;if(w!==0)for(h=h.entanglements,w&=g;0<w;){var T=31-Nt(w),O=1<<T;g|=h[T],w&=~O}return So=g,Fp(),b}function sE(h,g){ls=null,Y.H=rx,g===bf||g===Yp?(g=yA(),Qs=3):g===pA?(g=yA(),Qs=4):Qs=g===vC?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,gn=g,ps===null&&(Cr=1,lx(h,Dn(g,h.current)))}function rE(){var h=Y.H;return Y.H=rx,h===null?rx:h}function aE(){var h=Y.A;return Y.A=Oz,h}function Jw(){Cr=4,gl||(Ts&4194048)!==Ts&&Fn.current!==null||(xu=!0),(pl&134217727)===0&&(Lc&134217727)===0||mr===null||yl(mr,Ts,Un,!1)}function e1(h,g,b){var w=Zs;Zs|=2;var T=rE(),O=aE();(mr!==h||Ts!==g)&&(gx=null,wu(h,g)),g=!1;var q=Cr;e:do try{if(Qs!==0&&ps!==null){var K=ps,oe=gn;switch(Qs){case 8:Qw(),q=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(g=!0);var Se=Qs;if(Qs=0,gn=null,Nu(h,K,oe,Se),b&&xu){q=0;break e}break;default:Se=Qs,Qs=0,gn=null,Nu(h,K,oe,Se)}}Uz(),q=Cr;break}catch($e){sE(h,$e)}while(!0);return g&&h.shellSuspendCounter++,xo=Pc=null,Zs=w,Y.H=T,Y.A=O,ps===null&&(mr=null,Ts=0,Fp()),q}function Uz(){for(;ps!==null;)nE(ps)}function zz(h,g){var b=Zs;Zs|=2;var w=rE(),T=aE();mr!==h||Ts!==g?(gx=null,mx=Je()+500,wu(h,g)):xu=Wt(h,g);e:do try{if(Qs!==0&&ps!==null){g=ps;var O=gn;t:switch(Qs){case 1:Qs=0,gn=null,Nu(h,g,O,1);break;case 2:case 9:if(xA(O)){Qs=0,gn=null,iE(g);break}g=function(){Qs!==2&&Qs!==9||mr!==h||(Qs=7),Ri(h)},O.then(g,g);break e;case 3:Qs=7;break e;case 4:Qs=5;break e;case 7:xA(O)?(Qs=0,gn=null,iE(g)):(Qs=0,gn=null,Nu(h,g,O,7));break;case 5:var q=null;switch(ps.tag){case 26:q=ps.memoizedState;case 5:case 27:var K=ps;if(!q||BE(q)){Qs=0,gn=null;var oe=K.sibling;if(oe!==null)ps=oe;else{var Se=K.return;Se!==null?(ps=Se,xx(Se)):ps=null}break t}}Qs=0,gn=null,Nu(h,g,O,5);break;case 6:Qs=0,gn=null,Nu(h,g,O,6);break;case 8:Qw(),Cr=6;break e;default:throw Error(s(462))}}Bz();break}catch($e){sE(h,$e)}while(!0);return xo=Pc=null,Y.H=w,Y.A=T,Zs=b,ps!==null?0:(mr=null,Ts=0,Fp(),Cr)}function Bz(){for(;ps!==null&&!We();)nE(ps)}function nE(h){var g=RC(h.alternate,h,So);h.memoizedProps=h.pendingProps,g===null?xx(h):ps=g}function iE(h){var g=h,b=g.alternate;switch(g.tag){case 15:case 0:g=_C(b,g,g.pendingProps,g.type,void 0,Ts);break;case 11:g=_C(b,g,g.pendingProps,g.type.render,g.ref,Ts);break;case 5:gw(g);default:DC(b,g),g=ps=oA(g,So),g=RC(b,g,So)}h.memoizedProps=h.pendingProps,g===null?xx(h):ps=g}function Nu(h,g,b,w){xo=Pc=null,gw(g),fu=null,Af=0;var T=g.return;try{if(Tz(h,T,g,b,Ts)){Cr=1,lx(h,Dn(b,h.current)),ps=null;return}}catch(O){if(T!==null)throw ps=T,O;Cr=1,lx(h,Dn(b,h.current)),ps=null;return}g.flags&32768?(Hs||w===1?h=!0:xu||(Ts&536870912)!==0?h=!1:(gl=h=!0,(w===2||w===9||w===3||w===6)&&(w=Fn.current,w!==null&&w.tag===13&&(w.flags|=16384))),oE(g,h)):xx(g)}function xx(h){var g=h;do{if((g.flags&32768)!==0){oE(g,gl);return}h=g.return;var b=Rz(g.alternate,g,So);if(b!==null){ps=b;return}if(g=g.sibling,g!==null){ps=g;return}ps=g=h}while(g!==null);Cr===0&&(Cr=5)}function oE(h,g){do{var b=Iz(h.alternate,h);if(b!==null){b.flags&=32767,ps=b;return}if(b=h.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!g&&(h=h.sibling,h!==null)){ps=h;return}ps=h=b}while(h!==null);Cr=6,ps=null}function lE(h,g,b,w,T,O,q,K,oe){h.cancelPendingCommit=null;do bx();while(xa!==0);if((Zs&6)!==0)throw Error(s(327));if(g!==null){if(g===h.current)throw Error(s(177));if(O=g.lanes|g.childLanes,O|=$v,Ms(h,b,O,q,K,oe),h===mr&&(ps=mr=null,Ts=0),yu=g,bl=h,vu=b,Xw=O,Kw=T,QC=w,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,qz(et,function(){return fE(),null})):(h.callbackNode=null,h.callbackPriority=0),w=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||w){w=Y.T,Y.T=null,T=X.p,X.p=2,q=Zs,Zs|=4;try{Dz(h,g,b)}finally{Zs=q,X.p=T,Y.T=w}}xa=1,cE(),dE(),uE()}}function cE(){if(xa===1){xa=0;var h=bl,g=yu,b=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||b){b=Y.T,Y.T=null;var w=X.p;X.p=2;var T=Zs;Zs|=4;try{qC(g,h);var O=h1,q=Z_(h.containerInfo),K=O.focusedElem,oe=O.selectionRange;if(q!==K&&K&&K.ownerDocument&&K_(K.ownerDocument.documentElement,K)){if(oe!==null&&Uv(K)){var Se=oe.start,$e=oe.end;if($e===void 0&&($e=Se),"selectionStart"in K)K.selectionStart=Se,K.selectionEnd=Math.min($e,K.value.length);else{var Ke=K.ownerDocument||document,Ae=Ke&&Ke.defaultView||window;if(Ae.getSelection){var Ee=Ae.getSelection(),Yt=K.textContent.length,Vt=Math.min(oe.start,Yt),ir=oe.end===void 0?Vt:Math.min(oe.end,Yt);!Ee.extend&&Vt>ir&&(q=ir,ir=Vt,Vt=q);var we=X_(K,Vt),fe=X_(K,ir);if(we&&fe&&(Ee.rangeCount!==1||Ee.anchorNode!==we.node||Ee.anchorOffset!==we.offset||Ee.focusNode!==fe.node||Ee.focusOffset!==fe.offset)){var je=Ke.createRange();je.setStart(we.node,we.offset),Ee.removeAllRanges(),Vt>ir?(Ee.addRange(je),Ee.extend(fe.node,fe.offset)):(je.setEnd(fe.node,fe.offset),Ee.addRange(je))}}}}for(Ke=[],Ee=K;Ee=Ee.parentNode;)Ee.nodeType===1&&Ke.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Ke.length;K++){var Ge=Ke[K];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}Tx=!!u1,h1=u1=null}finally{Zs=T,X.p=w,Y.T=b}}h.current=g,xa=2}}function dE(){if(xa===2){xa=0;var h=bl,g=yu,b=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||b){b=Y.T,Y.T=null;var w=X.p;X.p=2;var T=Zs;Zs|=4;try{BC(h,g.alternate,g)}finally{Zs=T,X.p=w,Y.T=b}}xa=3}}function uE(){if(xa===4||xa===3){xa=0,xe();var h=bl,g=yu,b=vu,w=QC;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?xa=5:(xa=0,yu=bl=null,hE(h,h.pendingLanes));var T=h.pendingLanes;if(T===0&&(xl=null),pr(b),g=g.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(st,g,void 0,(g.current.flags&128)===128)}catch{}if(w!==null){g=Y.T,T=X.p,X.p=2,Y.T=null;try{for(var O=h.onRecoverableError,q=0;q<w.length;q++){var K=w[q];O(K.value,{componentStack:K.stack})}}finally{Y.T=g,X.p=T}}(vu&3)!==0&&bx(),Ri(h),T=h.pendingLanes,(b&4194090)!==0&&(T&42)!==0?h===Zw?Of++:(Of=0,Zw=h):Of=0,Lf(0)}}function hE(h,g){(h.pooledCacheLanes&=g)===0&&(g=h.pooledCache,g!=null&&(h.pooledCache=null,pf(g)))}function bx(h){return cE(),dE(),uE(),fE()}function fE(){if(xa!==5)return!1;var h=bl,g=Xw;Xw=0;var b=pr(vu),w=Y.T,T=X.p;try{X.p=32>b?32:b,Y.T=null,b=Kw,Kw=null;var O=bl,q=vu;if(xa=0,yu=bl=null,vu=0,(Zs&6)!==0)throw Error(s(331));var K=Zs;if(Zs|=4,KC(O.current),YC(O,O.current,q,b),Zs=K,Lf(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(st,O)}catch{}return!0}finally{X.p=T,Y.T=w,hE(h,g)}}function mE(h,g,b){g=Dn(b,g),g=Ew(h.stateNode,g,2),h=ll(h,g,2),h!==null&&(ss(h,2),Ri(h))}function dr(h,g,b){if(h.tag===3)mE(h,h,b);else for(;g!==null;){if(g.tag===3){mE(g,h,b);break}else if(g.tag===1){var w=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(xl===null||!xl.has(w))){h=Dn(b,h),b=bC(2),w=ll(g,b,2),w!==null&&(yC(b,w,g,h),ss(w,2),Ri(w));break}}g=g.return}}function t1(h,g,b){var w=h.pingCache;if(w===null){w=h.pingCache=new Lz;var T=new Set;w.set(g,T)}else T=w.get(g),T===void 0&&(T=new Set,w.set(g,T));T.has(b)||(qw=!0,T.add(b),h=Vz.bind(null,h,g,b),g.then(h,h))}function Vz(h,g,b){var w=h.pingCache;w!==null&&w.delete(g),h.pingedLanes|=h.suspendedLanes&b,h.warmLanes&=~b,mr===h&&(Ts&b)===b&&(Cr===4||Cr===3&&(Ts&62914560)===Ts&&300>Je()-Gw?(Zs&2)===0&&wu(h,0):Ww|=b,bu===Ts&&(bu=0)),Ri(h)}function gE(h,g){g===0&&(g=Jt()),h=ru(h,g),h!==null&&(ss(h,g),Ri(h))}function Hz(h){var g=h.memoizedState,b=0;g!==null&&(b=g.retryLane),gE(h,b)}function $z(h,g){var b=0;switch(h.tag){case 13:var w=h.stateNode,T=h.memoizedState;T!==null&&(b=T.retryLane);break;case 19:w=h.stateNode;break;case 22:w=h.stateNode._retryCache;break;default:throw Error(s(314))}w!==null&&w.delete(g),gE(h,b)}function qz(h,g){return Q(h,g)}var yx=null,ju=null,s1=!1,vx=!1,r1=!1,Fc=0;function Ri(h){h!==ju&&h.next===null&&(ju===null?yx=ju=h:ju=ju.next=h),vx=!0,s1||(s1=!0,Yz())}function Lf(h,g){if(!r1&&vx){r1=!0;do for(var b=!1,w=yx;w!==null;){if(h!==0){var T=w.pendingLanes;if(T===0)var O=0;else{var q=w.suspendedLanes,K=w.pingedLanes;O=(1<<31-Nt(42|h)+1)-1,O&=T&~(q&~K),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(b=!0,yE(w,O))}else O=Ts,O=It(w,w===mr?O:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(O&3)===0||Wt(w,O)||(b=!0,yE(w,O));w=w.next}while(b);r1=!1}}function Wz(){pE()}function pE(){vx=s1=!1;var h=0;Fc!==0&&(tB()&&(h=Fc),Fc=0);for(var g=Je(),b=null,w=yx;w!==null;){var T=w.next,O=xE(w,g);O===0?(w.next=null,b===null?yx=T:b.next=T,T===null&&(ju=b)):(b=w,(h!==0||(O&3)!==0)&&(vx=!0)),w=T}Lf(h)}function xE(h,g){for(var b=h.suspendedLanes,w=h.pingedLanes,T=h.expirationTimes,O=h.pendingLanes&-62914561;0<O;){var q=31-Nt(O),K=1<<q,oe=T[q];oe===-1?((K&b)===0||(K&w)!==0)&&(T[q]=sr(K,g)):oe<=g&&(h.expiredLanes|=K),O&=~K}if(g=mr,b=Ts,b=It(h,h===g?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),w=h.callbackNode,b===0||h===g&&(Qs===2||Qs===9)||h.cancelPendingCommit!==null)return w!==null&&w!==null&&me(w),h.callbackNode=null,h.callbackPriority=0;if((b&3)===0||Wt(h,b)){if(g=b&-b,g===h.callbackPriority)return g;switch(w!==null&&me(w),pr(b)){case 2:case 8:b=rt;break;case 32:b=et;break;case 268435456:b=Tt;break;default:b=et}return w=bE.bind(null,h),b=Q(b,w),h.callbackPriority=g,h.callbackNode=b,g}return w!==null&&w!==null&&me(w),h.callbackPriority=2,h.callbackNode=null,2}function bE(h,g){if(xa!==0&&xa!==5)return h.callbackNode=null,h.callbackPriority=0,null;var b=h.callbackNode;if(bx()&&h.callbackNode!==b)return null;var w=Ts;return w=It(h,h===mr?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),w===0?null:(eE(h,w,g),xE(h,Je()),h.callbackNode!=null&&h.callbackNode===b?bE.bind(null,h):null)}function yE(h,g){if(bx())return null;eE(h,g,!0)}function Yz(){rB(function(){(Zs&6)!==0?Q(lt,Wz):pE()})}function a1(){return Fc===0&&(Fc=ms()),Fc}function vE(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:qd(""+h)}function wE(h,g){var b=g.ownerDocument.createElement("input");return b.name=g.name,b.value=g.value,h.id&&b.setAttribute("form",h.id),g.parentNode.insertBefore(b,g),h=new FormData(h),b.parentNode.removeChild(b),h}function Gz(h,g,b,w,T){if(g==="submit"&&b&&b.stateNode===T){var O=vE((T[Os]||null).action),q=w.submitter;q&&(g=(g=q[Os]||null)?vE(g.formAction):q.getAttribute("formAction"),g!==null&&(O=g,q=null));var K=new Wd("action","action",null,w,T);h.push({event:K,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Fc!==0){var oe=q?wE(T,q):new FormData(T);kw(b,{pending:!0,data:oe,method:T.method,action:O},null,oe)}}else typeof O=="function"&&(K.preventDefault(),oe=q?wE(T,q):new FormData(T),kw(b,{pending:!0,data:oe,method:T.method,action:O},O,oe))},currentTarget:T}]})}}for(var n1=0;n1<Hv.length;n1++){var i1=Hv[n1],Xz=i1.toLowerCase(),Kz=i1[0].toUpperCase()+i1.slice(1);ti(Xz,"on"+Kz)}ti(eA,"onAnimationEnd"),ti(tA,"onAnimationIteration"),ti(sA,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(fz,"onTransitionRun"),ti(mz,"onTransitionStart"),ti(gz,"onTransitionCancel"),ti(rA,"onTransitionEnd"),ae("onMouseEnter",["mouseout","mouseover"]),ae("onMouseLeave",["mouseout","mouseover"]),ae("onPointerEnter",["pointerout","pointerover"]),ae("onPointerLeave",["pointerout","pointerover"]),ze("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ze("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ze("onBeforeInput",["compositionend","keypress","textInput","paste"]),ze("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ze("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ze("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ff="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ff));function NE(h,g){g=(g&4)!==0;for(var b=0;b<h.length;b++){var w=h[b],T=w.event;w=w.listeners;e:{var O=void 0;if(g)for(var q=w.length-1;0<=q;q--){var K=w[q],oe=K.instance,Se=K.currentTarget;if(K=K.listener,oe!==O&&T.isPropagationStopped())break e;O=K,T.currentTarget=Se;try{O(T)}catch($e){ox($e)}T.currentTarget=null,O=oe}else for(q=0;q<w.length;q++){if(K=w[q],oe=K.instance,Se=K.currentTarget,K=K.listener,oe!==O&&T.isPropagationStopped())break e;O=K,T.currentTarget=Se;try{O(T)}catch($e){ox($e)}T.currentTarget=null,O=oe}}}}function xs(h,g){var b=g[_r];b===void 0&&(b=g[_r]=new Set);var w=h+"__bubble";b.has(w)||(jE(g,h,2,!1),b.add(w))}function o1(h,g,b){var w=0;g&&(w|=4),jE(b,h,w,g)}var wx="_reactListening"+Math.random().toString(36).slice(2);function l1(h){if(!h[wx]){h[wx]=!0,He.forEach(function(b){b!=="selectionchange"&&(Zz.has(b)||o1(b,!1,h),o1(b,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[wx]||(g[wx]=!0,o1("selectionchange",!1,g))}}function jE(h,g,b,w){switch(YE(g)){case 2:var T=kB;break;case 8:T=SB;break;default:T=N1}b=T.bind(null,g,b,h),T=void 0,!Rn||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(T=!0),w?T!==void 0?h.addEventListener(g,b,{capture:!0,passive:T}):h.addEventListener(g,b,!0):T!==void 0?h.addEventListener(g,b,{passive:T}):h.addEventListener(g,b,!1)}function c1(h,g,b,w,T){var O=w;if((g&1)===0&&(g&2)===0&&w!==null)e:for(;;){if(w===null)return;var q=w.tag;if(q===3||q===4){var K=w.stateNode.containerInfo;if(K===T)break;if(q===4)for(q=w.return;q!==null;){var oe=q.tag;if((oe===3||oe===4)&&q.stateNode.containerInfo===T)return;q=q.return}for(;K!==null;){if(q=ue(K),q===null)return;if(oe=q.tag,oe===5||oe===6||oe===26||oe===27){w=O=q;continue e}K=K.parentNode}}w=w.return}jp(function(){var Se=O,$e=Pn(b),Ke=[];e:{var Ae=aA.get(h);if(Ae!==void 0){var Ee=Wd,Yt=h;switch(h){case"keypress":if(ji(b)===0)break e;case"keydown":case"keyup":Ee=Qd;break;case"focusin":Yt="focus",Ee=Xd;break;case"focusout":Yt="blur",Ee=Xd;break;case"beforeblur":case"afterblur":Ee=Xd;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=Pp;break;case eA:case tA:case sA:Ee=Kd;break;case rA:Ee=Ip;break;case"scroll":case"scrollend":Ee=kp;break;case"wheel":Ee=Jd;break;case"copy":case"cut":case"paste":Ee=Zd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=lf;break;case"toggle":case"beforetoggle":Ee=Mp}var Vt=(g&4)!==0,ir=!Vt&&(h==="scroll"||h==="scrollend"),we=Vt?Ae!==null?Ae+"Capture":null:Ae;Vt=[];for(var fe=Se,je;fe!==null;){var Ge=fe;if(je=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||je===null||we===null||(Ge=xc(fe,we),Ge!=null&&Vt.push(Uf(fe,Ge,je))),ir)break;fe=fe.return}0<Vt.length&&(Ae=new Ee(Ae,Yt,null,b,$e),Ke.push({event:Ae,listeners:Vt}))}}if((g&7)===0){e:{if(Ae=h==="mouseover"||h==="pointerover",Ee=h==="mouseout"||h==="pointerout",Ae&&b!==oo&&(Yt=b.relatedTarget||b.fromElement)&&(ue(Yt)||Yt[Ls]))break e;if((Ee||Ae)&&(Ae=$e.window===$e?$e:(Ae=$e.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Ee?(Yt=b.relatedTarget||b.toElement,Ee=Se,Yt=Yt?ue(Yt):null,Yt!==null&&(ir=i(Yt),Vt=Yt.tag,Yt!==ir||Vt!==5&&Vt!==27&&Vt!==6)&&(Yt=null)):(Ee=null,Yt=Se),Ee!==Yt)){if(Vt=In,Ge="onMouseLeave",we="onMouseEnter",fe="mouse",(h==="pointerout"||h==="pointerover")&&(Vt=lf,Ge="onPointerLeave",we="onPointerEnter",fe="pointer"),ir=Ee==null?Ae:Re(Ee),je=Yt==null?Ae:Re(Yt),Ae=new Vt(Ge,fe+"leave",Ee,b,$e),Ae.target=ir,Ae.relatedTarget=je,Ge=null,ue($e)===Se&&(Vt=new Vt(we,fe+"enter",Yt,b,$e),Vt.target=je,Vt.relatedTarget=ir,Ge=Vt),ir=Ge,Ee&&Yt)t:{for(Vt=Ee,we=Yt,fe=0,je=Vt;je;je=ku(je))fe++;for(je=0,Ge=we;Ge;Ge=ku(Ge))je++;for(;0<fe-je;)Vt=ku(Vt),fe--;for(;0<je-fe;)we=ku(we),je--;for(;fe--;){if(Vt===we||we!==null&&Vt===we.alternate)break t;Vt=ku(Vt),we=ku(we)}Vt=null}else Vt=null;Ee!==null&&kE(Ke,Ae,Ee,Vt,!1),Yt!==null&&ir!==null&&kE(Ke,ir,Yt,Vt,!0)}}e:{if(Ae=Se?Re(Se):window,Ee=Ae.nodeName&&Ae.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&Ae.type==="file")var Pt=H_;else if(ea(Ae))if($_)Pt=dz;else{Pt=lz;var fs=oz}else Ee=Ae.nodeName,!Ee||Ee.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?Se&&ef(Se.elementType)&&(Pt=H_):Pt=cz;if(Pt&&(Pt=Pt(h,Se))){fo(Ke,Pt,b,$e);break e}fs&&fs(h,Ae,Se),h==="focusout"&&Se&&Ae.type==="number"&&Se.memoizedProps.value!=null&&rl(Ae,"number",Ae.value)}switch(fs=Se?Re(Se):window,h){case"focusin":(ea(fs)||fs.contentEditable==="true")&&(eu=fs,zv=Se,uf=null);break;case"focusout":uf=zv=eu=null;break;case"mousedown":Bv=!0;break;case"contextmenu":case"mouseup":case"dragend":Bv=!1,Q_(Ke,b,$e);break;case"selectionchange":if(hz)break;case"keydown":case"keyup":Q_(Ke,b,$e)}var Dt;if(_i)e:{switch(h){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Cs?Fe(h,b)&&($t="onCompositionEnd"):h==="keydown"&&b.keyCode===229&&($t="onCompositionStart");$t&&(H&&b.locale!=="ko"&&(Cs||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Cs&&(Dt=sf()):(Ni=$e,al="value"in Ni?Ni.value:Ni.textContent,Cs=!0)),fs=Nx(Se,$t),0<fs.length&&($t=new nf($t,h,null,b,$e),Ke.push({event:$t,listeners:fs}),Dt?$t.data=Dt:(Dt=gt(b),Dt!==null&&($t.data=Dt)))),(Dt=U?Jr(h,b):Es(h,b))&&($t=Nx(Se,"onBeforeInput"),0<$t.length&&(fs=new nf("onBeforeInput","beforeinput",null,b,$e),Ke.push({event:fs,listeners:$t}),fs.data=Dt)),Gz(Ke,h,Se,b,$e)}NE(Ke,g)})}function Uf(h,g,b){return{instance:h,listener:g,currentTarget:b}}function Nx(h,g){for(var b=g+"Capture",w=[];h!==null;){var T=h,O=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||O===null||(T=xc(h,b),T!=null&&w.unshift(Uf(h,T,O)),T=xc(h,g),T!=null&&w.push(Uf(h,T,O))),h.tag===3)return w;h=h.return}return[]}function ku(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function kE(h,g,b,w,T){for(var O=g._reactName,q=[];b!==null&&b!==w;){var K=b,oe=K.alternate,Se=K.stateNode;if(K=K.tag,oe!==null&&oe===w)break;K!==5&&K!==26&&K!==27||Se===null||(oe=Se,T?(Se=xc(b,O),Se!=null&&q.unshift(Uf(b,Se,oe))):T||(Se=xc(b,O),Se!=null&&q.push(Uf(b,Se,oe)))),b=b.return}q.length!==0&&h.push({event:g,listeners:q})}var Qz=/\r\n?/g,Jz=/\u0000|\uFFFD/g;function SE(h){return(typeof h=="string"?h:""+h).replace(Qz,`
`).replace(Jz,"")}function _E(h,g){return g=SE(g),SE(h)===g}function jx(){}function nr(h,g,b,w,T,O){switch(b){case"children":typeof w=="string"?g==="body"||g==="textarea"&&w===""||Tn(h,w):(typeof w=="number"||typeof w=="bigint")&&g!=="body"&&Tn(h,""+w);break;case"className":_e(h,"class",w);break;case"tabIndex":_e(h,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":_e(h,b,w);break;case"style":Jh(h,w,O);break;case"data":if(g!=="object"){_e(h,"data",w);break}case"src":case"href":if(w===""&&(g!=="a"||b!=="href")){h.removeAttribute(b);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){h.removeAttribute(b);break}w=qd(""+w),h.setAttribute(b,w);break;case"action":case"formAction":if(typeof w=="function"){h.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(b==="formAction"?(g!=="input"&&nr(h,g,"name",T.name,T,null),nr(h,g,"formEncType",T.formEncType,T,null),nr(h,g,"formMethod",T.formMethod,T,null),nr(h,g,"formTarget",T.formTarget,T,null)):(nr(h,g,"encType",T.encType,T,null),nr(h,g,"method",T.method,T,null),nr(h,g,"target",T.target,T,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){h.removeAttribute(b);break}w=qd(""+w),h.setAttribute(b,w);break;case"onClick":w!=null&&(h.onclick=jx);break;case"onScroll":w!=null&&xs("scroll",h);break;case"onScrollEnd":w!=null&&xs("scrollend",h);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(s(61));if(b=w.__html,b!=null){if(T.children!=null)throw Error(s(60));h.innerHTML=b}}break;case"multiple":h.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":h.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){h.removeAttribute("xlink:href");break}b=qd(""+w),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?h.setAttribute(b,""+w):h.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?h.setAttribute(b,""):h.removeAttribute(b);break;case"capture":case"download":w===!0?h.setAttribute(b,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?h.setAttribute(b,w):h.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?h.setAttribute(b,w):h.removeAttribute(b);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?h.removeAttribute(b):h.setAttribute(b,w);break;case"popover":xs("beforetoggle",h),xs("toggle",h),ke(h,"popover",w);break;case"xlinkActuate":at(h,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":at(h,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":at(h,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":at(h,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":at(h,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":at(h,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":at(h,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":at(h,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":at(h,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":ke(h,"is",w);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=Iv.get(b)||b,ke(h,b,w))}}function d1(h,g,b,w,T,O){switch(b){case"style":Jh(h,w,O);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(s(61));if(b=w.__html,b!=null){if(T.children!=null)throw Error(s(60));h.innerHTML=b}}break;case"children":typeof w=="string"?Tn(h,w):(typeof w=="number"||typeof w=="bigint")&&Tn(h,""+w);break;case"onScroll":w!=null&&xs("scroll",h);break;case"onScrollEnd":w!=null&&xs("scrollend",h);break;case"onClick":w!=null&&(h.onclick=jx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ne.hasOwnProperty(b))e:{if(b[0]==="o"&&b[1]==="n"&&(T=b.endsWith("Capture"),g=b.slice(2,T?b.length-7:void 0),O=h[Os]||null,O=O!=null?O[b]:null,typeof O=="function"&&h.removeEventListener(g,O,T),typeof w=="function")){typeof O!="function"&&O!==null&&(b in h?h[b]=null:h.hasAttribute(b)&&h.removeAttribute(b)),h.addEventListener(g,w,T);break e}b in h?h[b]=w:w===!0?h.setAttribute(b,""):ke(h,b,w)}}}function ba(h,g,b){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xs("error",h),xs("load",h);var w=!1,T=!1,O;for(O in b)if(b.hasOwnProperty(O)){var q=b[O];if(q!=null)switch(O){case"src":w=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,g));default:nr(h,g,O,q,b,null)}}T&&nr(h,g,"srcSet",b.srcSet,b,null),w&&nr(h,g,"src",b.src,b,null);return;case"input":xs("invalid",h);var K=O=q=T=null,oe=null,Se=null;for(w in b)if(b.hasOwnProperty(w)){var $e=b[w];if($e!=null)switch(w){case"name":T=$e;break;case"type":q=$e;break;case"checked":oe=$e;break;case"defaultChecked":Se=$e;break;case"value":O=$e;break;case"defaultValue":K=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(s(137,g));break;default:nr(h,g,w,$e,b,null)}}mc(h,O,K,oe,Se,q,T,!1),$d(h);return;case"select":xs("invalid",h),w=q=O=null;for(T in b)if(b.hasOwnProperty(T)&&(K=b[T],K!=null))switch(T){case"value":O=K;break;case"defaultValue":q=K;break;case"multiple":w=K;default:nr(h,g,T,K,b,null)}g=O,b=q,h.multiple=!!w,g!=null?io(h,!!w,g,!1):b!=null&&io(h,!!w,b,!0);return;case"textarea":xs("invalid",h),O=T=w=null;for(q in b)if(b.hasOwnProperty(q)&&(K=b[q],K!=null))switch(q){case"value":w=K;break;case"defaultValue":T=K;break;case"children":O=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(91));break;default:nr(h,g,q,K,b,null)}gc(h,w,T,O),$d(h);return;case"option":for(oe in b)if(b.hasOwnProperty(oe)&&(w=b[oe],w!=null))switch(oe){case"selected":h.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:nr(h,g,oe,w,b,null)}return;case"dialog":xs("beforetoggle",h),xs("toggle",h),xs("cancel",h),xs("close",h);break;case"iframe":case"object":xs("load",h);break;case"video":case"audio":for(w=0;w<Ff.length;w++)xs(Ff[w],h);break;case"image":xs("error",h),xs("load",h);break;case"details":xs("toggle",h);break;case"embed":case"source":case"link":xs("error",h),xs("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in b)if(b.hasOwnProperty(Se)&&(w=b[Se],w!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,g));default:nr(h,g,Se,w,b,null)}return;default:if(ef(g)){for($e in b)b.hasOwnProperty($e)&&(w=b[$e],w!==void 0&&d1(h,g,$e,w,b,void 0));return}}for(K in b)b.hasOwnProperty(K)&&(w=b[K],w!=null&&nr(h,g,K,w,b,null))}function eB(h,g,b,w){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,O=null,q=null,K=null,oe=null,Se=null,$e=null;for(Ee in b){var Ke=b[Ee];if(b.hasOwnProperty(Ee)&&Ke!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":oe=Ke;default:w.hasOwnProperty(Ee)||nr(h,g,Ee,null,w,Ke)}}for(var Ae in w){var Ee=w[Ae];if(Ke=b[Ae],w.hasOwnProperty(Ae)&&(Ee!=null||Ke!=null))switch(Ae){case"type":O=Ee;break;case"name":T=Ee;break;case"checked":Se=Ee;break;case"defaultChecked":$e=Ee;break;case"value":q=Ee;break;case"defaultValue":K=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(s(137,g));break;default:Ee!==Ke&&nr(h,g,Ae,Ee,w,Ke)}}dn(h,q,K,oe,Se,$e,O,T);return;case"select":Ee=q=K=Ae=null;for(O in b)if(oe=b[O],b.hasOwnProperty(O)&&oe!=null)switch(O){case"value":break;case"multiple":Ee=oe;default:w.hasOwnProperty(O)||nr(h,g,O,null,w,oe)}for(T in w)if(O=w[T],oe=b[T],w.hasOwnProperty(T)&&(O!=null||oe!=null))switch(T){case"value":Ae=O;break;case"defaultValue":K=O;break;case"multiple":q=O;default:O!==oe&&nr(h,g,T,O,w,oe)}g=K,b=q,w=Ee,Ae!=null?io(h,!!b,Ae,!1):!!w!=!!b&&(g!=null?io(h,!!b,g,!0):io(h,!!b,b?[]:"",!1));return;case"textarea":Ee=Ae=null;for(K in b)if(T=b[K],b.hasOwnProperty(K)&&T!=null&&!w.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:nr(h,g,K,null,w,T)}for(q in w)if(T=w[q],O=b[q],w.hasOwnProperty(q)&&(T!=null||O!=null))switch(q){case"value":Ae=T;break;case"defaultValue":Ee=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:T!==O&&nr(h,g,q,T,w,O)}rr(h,Ae,Ee);return;case"option":for(var Yt in b)if(Ae=b[Yt],b.hasOwnProperty(Yt)&&Ae!=null&&!w.hasOwnProperty(Yt))switch(Yt){case"selected":h.selected=!1;break;default:nr(h,g,Yt,null,w,Ae)}for(oe in w)if(Ae=w[oe],Ee=b[oe],w.hasOwnProperty(oe)&&Ae!==Ee&&(Ae!=null||Ee!=null))switch(oe){case"selected":h.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:nr(h,g,oe,Ae,w,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in b)Ae=b[Vt],b.hasOwnProperty(Vt)&&Ae!=null&&!w.hasOwnProperty(Vt)&&nr(h,g,Vt,null,w,Ae);for(Se in w)if(Ae=w[Se],Ee=b[Se],w.hasOwnProperty(Se)&&Ae!==Ee&&(Ae!=null||Ee!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(s(137,g));break;default:nr(h,g,Se,Ae,w,Ee)}return;default:if(ef(g)){for(var ir in b)Ae=b[ir],b.hasOwnProperty(ir)&&Ae!==void 0&&!w.hasOwnProperty(ir)&&d1(h,g,ir,void 0,w,Ae);for($e in w)Ae=w[$e],Ee=b[$e],!w.hasOwnProperty($e)||Ae===Ee||Ae===void 0&&Ee===void 0||d1(h,g,$e,Ae,w,Ee);return}}for(var we in b)Ae=b[we],b.hasOwnProperty(we)&&Ae!=null&&!w.hasOwnProperty(we)&&nr(h,g,we,null,w,Ae);for(Ke in w)Ae=w[Ke],Ee=b[Ke],!w.hasOwnProperty(Ke)||Ae===Ee||Ae==null&&Ee==null||nr(h,g,Ke,Ae,w,Ee)}var u1=null,h1=null;function kx(h){return h.nodeType===9?h:h.ownerDocument}function AE(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CE(h,g){if(h===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&g==="foreignObject"?0:h}function f1(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var m1=null;function tB(){var h=window.event;return h&&h.type==="popstate"?h===m1?!1:(m1=h,!0):(m1=null,!1)}var EE=typeof setTimeout=="function"?setTimeout:void 0,sB=typeof clearTimeout=="function"?clearTimeout:void 0,TE=typeof Promise=="function"?Promise:void 0,rB=typeof queueMicrotask=="function"?queueMicrotask:typeof TE<"u"?function(h){return TE.resolve(null).then(h).catch(aB)}:EE;function aB(h){setTimeout(function(){throw h})}function vl(h){return h==="head"}function PE(h,g){var b=g,w=0,T=0;do{var O=b.nextSibling;if(h.removeChild(b),O&&O.nodeType===8)if(b=O.data,b==="/$"){if(0<w&&8>w){b=w;var q=h.ownerDocument;if(b&1&&zf(q.documentElement),b&2&&zf(q.body),b&4)for(b=q.head,zf(b),q=b.firstChild;q;){var K=q.nextSibling,oe=q.nodeName;q[Lt]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&q.rel.toLowerCase()==="stylesheet"||b.removeChild(q),q=K}}if(T===0){h.removeChild(O),Gf(g);return}T--}else b==="$"||b==="$?"||b==="$!"?T++:w=b.charCodeAt(0)-48;else w=0;b=O}while(b);Gf(g)}function g1(h){var g=h.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var b=g;switch(g=g.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":g1(b),yt(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}h.removeChild(b)}}function nB(h,g,b,w){for(;h.nodeType===1;){var T=b;if(h.nodeName.toLowerCase()!==g.toLowerCase()){if(!w&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(w){if(!h[Lt])switch(g){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(O=h.getAttribute("rel"),O==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(O!==T.rel||h.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||h.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||h.getAttribute("title")!==(T.title==null?null:T.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(O=h.getAttribute("src"),(O!==(T.src==null?null:T.src)||h.getAttribute("type")!==(T.type==null?null:T.type)||h.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&O&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(g==="input"&&h.type==="hidden"){var O=T.name==null?null:""+T.name;if(T.type==="hidden"&&h.getAttribute("name")===O)return h}else return h;if(h=ri(h.nextSibling),h===null)break}return null}function iB(h,g,b){if(g==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!b||(h=ri(h.nextSibling),h===null))return null;return h}function p1(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function oB(h,g){var b=h.ownerDocument;if(h.data!=="$?"||b.readyState==="complete")g();else{var w=function(){g(),b.removeEventListener("DOMContentLoaded",w)};b.addEventListener("DOMContentLoaded",w),h._reactRetry=w}}function ri(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?"||g==="F!"||g==="F")break;if(g==="/$")return null}}return h}var x1=null;function RE(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var b=h.data;if(b==="$"||b==="$!"||b==="$?"){if(g===0)return h;g--}else b==="/$"&&g++}h=h.previousSibling}return null}function IE(h,g,b){switch(g=kx(b),h){case"html":if(h=g.documentElement,!h)throw Error(s(452));return h;case"head":if(h=g.head,!h)throw Error(s(453));return h;case"body":if(h=g.body,!h)throw Error(s(454));return h;default:throw Error(s(451))}}function zf(h){for(var g=h.attributes;g.length;)h.removeAttributeNode(g[0]);yt(h)}var zn=new Map,DE=new Set;function Sx(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var _o=X.d;X.d={f:lB,r:cB,D:dB,C:uB,L:hB,m:fB,X:gB,S:mB,M:pB};function lB(){var h=_o.f(),g=px();return h||g}function cB(h){var g=ge(h);g!==null&&g.tag===5&&g.type==="form"?eC(g):_o.r(h)}var Su=typeof document>"u"?null:document;function ME(h,g,b){var w=Su;if(w&&typeof g=="string"&&g){var T=Hr(g);T='link[rel="'+h+'"][href="'+T+'"]',typeof b=="string"&&(T+='[crossorigin="'+b+'"]'),DE.has(T)||(DE.add(T),h={rel:h,crossOrigin:b,href:g},w.querySelector(T)===null&&(g=w.createElement("link"),ba(g,"link",h),nt(g),w.head.appendChild(g)))}}function dB(h){_o.D(h),ME("dns-prefetch",h,null)}function uB(h,g){_o.C(h,g),ME("preconnect",h,g)}function hB(h,g,b){_o.L(h,g,b);var w=Su;if(w&&h&&g){var T='link[rel="preload"][as="'+Hr(g)+'"]';g==="image"&&b&&b.imageSrcSet?(T+='[imagesrcset="'+Hr(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(T+='[imagesizes="'+Hr(b.imageSizes)+'"]')):T+='[href="'+Hr(h)+'"]';var O=T;switch(g){case"style":O=_u(h);break;case"script":O=Au(h)}zn.has(O)||(h=u({rel:"preload",href:g==="image"&&b&&b.imageSrcSet?void 0:h,as:g},b),zn.set(O,h),w.querySelector(T)!==null||g==="style"&&w.querySelector(Bf(O))||g==="script"&&w.querySelector(Vf(O))||(g=w.createElement("link"),ba(g,"link",h),nt(g),w.head.appendChild(g)))}}function fB(h,g){_o.m(h,g);var b=Su;if(b&&h){var w=g&&typeof g.as=="string"?g.as:"script",T='link[rel="modulepreload"][as="'+Hr(w)+'"][href="'+Hr(h)+'"]',O=T;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Au(h)}if(!zn.has(O)&&(h=u({rel:"modulepreload",href:h},g),zn.set(O,h),b.querySelector(T)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(Vf(O)))return}w=b.createElement("link"),ba(w,"link",h),nt(w),b.head.appendChild(w)}}}function mB(h,g,b){_o.S(h,g,b);var w=Su;if(w&&h){var T=ct(w).hoistableStyles,O=_u(h);g=g||"default";var q=T.get(O);if(!q){var K={loading:0,preload:null};if(q=w.querySelector(Bf(O)))K.loading=5;else{h=u({rel:"stylesheet",href:h,"data-precedence":g},b),(b=zn.get(O))&&b1(h,b);var oe=q=w.createElement("link");nt(oe),ba(oe,"link",h),oe._p=new Promise(function(Se,$e){oe.onload=Se,oe.onerror=$e}),oe.addEventListener("load",function(){K.loading|=1}),oe.addEventListener("error",function(){K.loading|=2}),K.loading|=4,_x(q,g,w)}q={type:"stylesheet",instance:q,count:1,state:K},T.set(O,q)}}}function gB(h,g){_o.X(h,g);var b=Su;if(b&&h){var w=ct(b).hoistableScripts,T=Au(h),O=w.get(T);O||(O=b.querySelector(Vf(T)),O||(h=u({src:h,async:!0},g),(g=zn.get(T))&&y1(h,g),O=b.createElement("script"),nt(O),ba(O,"link",h),b.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},w.set(T,O))}}function pB(h,g){_o.M(h,g);var b=Su;if(b&&h){var w=ct(b).hoistableScripts,T=Au(h),O=w.get(T);O||(O=b.querySelector(Vf(T)),O||(h=u({src:h,async:!0,type:"module"},g),(g=zn.get(T))&&y1(h,g),O=b.createElement("script"),nt(O),ba(O,"link",h),b.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},w.set(T,O))}}function OE(h,g,b,w){var T=(T=le.current)?Sx(T):null;if(!T)throw Error(s(446));switch(h){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(g=_u(b.href),b=ct(T).hoistableStyles,w=b.get(g),w||(w={type:"style",instance:null,count:0,state:null},b.set(g,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){h=_u(b.href);var O=ct(T).hoistableStyles,q=O.get(h);if(q||(T=T.ownerDocument||T,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(h,q),(O=T.querySelector(Bf(h)))&&!O._p&&(q.instance=O,q.state.loading=5),zn.has(h)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},zn.set(h,b),O||xB(T,h,b,q.state))),g&&w===null)throw Error(s(528,""));return q}if(g&&w!==null)throw Error(s(529,""));return null;case"script":return g=b.async,b=b.src,typeof b=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=Au(b),b=ct(T).hoistableScripts,w=b.get(g),w||(w={type:"script",instance:null,count:0,state:null},b.set(g,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,h))}}function _u(h){return'href="'+Hr(h)+'"'}function Bf(h){return'link[rel="stylesheet"]['+h+"]"}function LE(h){return u({},h,{"data-precedence":h.precedence,precedence:null})}function xB(h,g,b,w){h.querySelector('link[rel="preload"][as="style"]['+g+"]")?w.loading=1:(g=h.createElement("link"),w.preload=g,g.addEventListener("load",function(){return w.loading|=1}),g.addEventListener("error",function(){return w.loading|=2}),ba(g,"link",b),nt(g),h.head.appendChild(g))}function Au(h){return'[src="'+Hr(h)+'"]'}function Vf(h){return"script[async]"+h}function FE(h,g,b){if(g.count++,g.instance===null)switch(g.type){case"style":var w=h.querySelector('style[data-href~="'+Hr(b.href)+'"]');if(w)return g.instance=w,nt(w),w;var T=u({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return w=(h.ownerDocument||h).createElement("style"),nt(w),ba(w,"style",T),_x(w,b.precedence,h),g.instance=w;case"stylesheet":T=_u(b.href);var O=h.querySelector(Bf(T));if(O)return g.state.loading|=4,g.instance=O,nt(O),O;w=LE(b),(T=zn.get(T))&&b1(w,T),O=(h.ownerDocument||h).createElement("link"),nt(O);var q=O;return q._p=new Promise(function(K,oe){q.onload=K,q.onerror=oe}),ba(O,"link",w),g.state.loading|=4,_x(O,b.precedence,h),g.instance=O;case"script":return O=Au(b.src),(T=h.querySelector(Vf(O)))?(g.instance=T,nt(T),T):(w=b,(T=zn.get(O))&&(w=u({},b),y1(w,T)),h=h.ownerDocument||h,T=h.createElement("script"),nt(T),ba(T,"link",w),h.head.appendChild(T),g.instance=T);case"void":return null;default:throw Error(s(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(w=g.instance,g.state.loading|=4,_x(w,b.precedence,h));return g.instance}function _x(h,g,b){for(var w=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=w.length?w[w.length-1]:null,O=T,q=0;q<w.length;q++){var K=w[q];if(K.dataset.precedence===g)O=K;else if(O!==T)break}O?O.parentNode.insertBefore(h,O.nextSibling):(g=b.nodeType===9?b.head:b,g.insertBefore(h,g.firstChild))}function b1(h,g){h.crossOrigin==null&&(h.crossOrigin=g.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=g.referrerPolicy),h.title==null&&(h.title=g.title)}function y1(h,g){h.crossOrigin==null&&(h.crossOrigin=g.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=g.referrerPolicy),h.integrity==null&&(h.integrity=g.integrity)}var Ax=null;function UE(h,g,b){if(Ax===null){var w=new Map,T=Ax=new Map;T.set(b,w)}else T=Ax,w=T.get(b),w||(w=new Map,T.set(b,w));if(w.has(h))return w;for(w.set(h,null),b=b.getElementsByTagName(h),T=0;T<b.length;T++){var O=b[T];if(!(O[Lt]||O[Us]||h==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var q=O.getAttribute(g)||"";q=h+q;var K=w.get(q);K?K.push(O):w.set(q,[O])}}return w}function zE(h,g,b){h=h.ownerDocument||h,h.head.insertBefore(b,g==="title"?h.querySelector("head > title"):null)}function bB(h,g,b){if(b===1||g.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return h=g.disabled,typeof g.precedence=="string"&&h==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function BE(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var Hf=null;function yB(){}function vB(h,g,b){if(Hf===null)throw Error(s(475));var w=Hf;if(g.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var T=_u(b.href),O=h.querySelector(Bf(T));if(O){h=O._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(w.count++,w=Cx.bind(w),h.then(w,w)),g.state.loading|=4,g.instance=O,nt(O);return}O=h.ownerDocument||h,b=LE(b),(T=zn.get(T))&&b1(b,T),O=O.createElement("link"),nt(O);var q=O;q._p=new Promise(function(K,oe){q.onload=K,q.onerror=oe}),ba(O,"link",b),g.instance=O}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(g,h),(h=g.state.preload)&&(g.state.loading&3)===0&&(w.count++,g=Cx.bind(w),h.addEventListener("load",g),h.addEventListener("error",g))}}function wB(){if(Hf===null)throw Error(s(475));var h=Hf;return h.stylesheets&&h.count===0&&v1(h,h.stylesheets),0<h.count?function(g){var b=setTimeout(function(){if(h.stylesheets&&v1(h,h.stylesheets),h.unsuspend){var w=h.unsuspend;h.unsuspend=null,w()}},6e4);return h.unsuspend=g,function(){h.unsuspend=null,clearTimeout(b)}}:null}function Cx(){if(this.count--,this.count===0){if(this.stylesheets)v1(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var Ex=null;function v1(h,g){h.stylesheets=null,h.unsuspend!==null&&(h.count++,Ex=new Map,g.forEach(NB,h),Ex=null,Cx.call(h))}function NB(h,g){if(!(g.state.loading&4)){var b=Ex.get(h);if(b)var w=b.get(null);else{b=new Map,Ex.set(h,b);for(var T=h.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<T.length;O++){var q=T[O];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(b.set(q.dataset.precedence,q),w=q)}w&&b.set(null,w)}T=g.instance,q=T.getAttribute("data-precedence"),O=b.get(q)||w,O===w&&b.set(null,T),b.set(q,T),this.count++,w=Cx.bind(this),T.addEventListener("load",w),T.addEventListener("error",w),O?O.parentNode.insertBefore(T,O.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(T,h.firstChild)),g.state.loading|=4}}var $f={$$typeof:S,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function jB(h,g,b,w,T,O,q,K){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.hiddenUpdates=vs(null),this.identifierPrefix=w,this.onUncaughtError=T,this.onCaughtError=O,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function VE(h,g,b,w,T,O,q,K,oe,Se,$e,Ke){return h=new jB(h,g,b,q,K,oe,Se,Ke),g=1,O===!0&&(g|=24),O=hn(3,null,null,g),h.current=O,O.stateNode=h,g=tw(),g.refCount++,h.pooledCache=g,g.refCount++,O.memoizedState={element:w,isDehydrated:b,cache:g},nw(O),h}function HE(h){return h?(h=au,h):au}function $E(h,g,b,w,T,O){T=HE(T),w.context===null?w.context=T:w.pendingContext=T,w=ol(g),w.payload={element:b},O=O===void 0?null:O,O!==null&&(w.callback=O),b=ll(h,w,g),b!==null&&(xn(b,h,g),vf(b,h,g))}function qE(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<g?b:g}}function w1(h,g){qE(h,g),(h=h.alternate)&&qE(h,g)}function WE(h){if(h.tag===13){var g=ru(h,67108864);g!==null&&xn(g,h,67108864),w1(h,67108864)}}var Tx=!0;function kB(h,g,b,w){var T=Y.T;Y.T=null;var O=X.p;try{X.p=2,N1(h,g,b,w)}finally{X.p=O,Y.T=T}}function SB(h,g,b,w){var T=Y.T;Y.T=null;var O=X.p;try{X.p=8,N1(h,g,b,w)}finally{X.p=O,Y.T=T}}function N1(h,g,b,w){if(Tx){var T=j1(w);if(T===null)c1(h,g,w,Px,b),GE(h,w);else if(AB(T,h,g,b,w))w.stopPropagation();else if(GE(h,w),g&4&&-1<_B.indexOf(h)){for(;T!==null;){var O=ge(T);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var q=ys(O.pendingLanes);if(q!==0){var K=O;for(K.pendingLanes|=2,K.entangledLanes|=2;q;){var oe=1<<31-Nt(q);K.entanglements[1]|=oe,q&=~oe}Ri(O),(Zs&6)===0&&(mx=Je()+500,Lf(0))}}break;case 13:K=ru(O,2),K!==null&&xn(K,O,2),px(),w1(O,2)}if(O=j1(w),O===null&&c1(h,g,w,Px,b),O===T)break;T=O}T!==null&&w.stopPropagation()}else c1(h,g,w,null,b)}}function j1(h){return h=Pn(h),k1(h)}var Px=null;function k1(h){if(Px=null,h=ue(h),h!==null){var g=i(h);if(g===null)h=null;else{var b=g.tag;if(b===13){if(h=o(g),h!==null)return h;h=null}else if(b===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null)}}return Px=h,null}function YE(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ot()){case lt:return 2;case rt:return 8;case et:case Rt:return 32;case Tt:return 268435456;default:return 32}default:return 32}}var S1=!1,wl=null,Nl=null,jl=null,qf=new Map,Wf=new Map,kl=[],_B="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GE(h,g){switch(h){case"focusin":case"focusout":wl=null;break;case"dragenter":case"dragleave":Nl=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":qf.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wf.delete(g.pointerId)}}function Yf(h,g,b,w,T,O){return h===null||h.nativeEvent!==O?(h={blockedOn:g,domEventName:b,eventSystemFlags:w,nativeEvent:O,targetContainers:[T]},g!==null&&(g=ge(g),g!==null&&WE(g)),h):(h.eventSystemFlags|=w,g=h.targetContainers,T!==null&&g.indexOf(T)===-1&&g.push(T),h)}function AB(h,g,b,w,T){switch(g){case"focusin":return wl=Yf(wl,h,g,b,w,T),!0;case"dragenter":return Nl=Yf(Nl,h,g,b,w,T),!0;case"mouseover":return jl=Yf(jl,h,g,b,w,T),!0;case"pointerover":var O=T.pointerId;return qf.set(O,Yf(qf.get(O)||null,h,g,b,w,T)),!0;case"gotpointercapture":return O=T.pointerId,Wf.set(O,Yf(Wf.get(O)||null,h,g,b,w,T)),!0}return!1}function XE(h){var g=ue(h.target);if(g!==null){var b=i(g);if(b!==null){if(g=b.tag,g===13){if(g=o(b),g!==null){h.blockedOn=g,As(h.priority,function(){if(b.tag===13){var w=pn();w=es(w);var T=ru(b,w);T!==null&&xn(T,b,w),w1(b,w)}});return}}else if(g===3&&b.stateNode.current.memoizedState.isDehydrated){h.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Rx(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var b=j1(h.nativeEvent);if(b===null){b=h.nativeEvent;var w=new b.constructor(b.type,b);oo=w,b.target.dispatchEvent(w),oo=null}else return g=ge(b),g!==null&&WE(g),h.blockedOn=b,!1;g.shift()}return!0}function KE(h,g,b){Rx(h)&&b.delete(g)}function CB(){S1=!1,wl!==null&&Rx(wl)&&(wl=null),Nl!==null&&Rx(Nl)&&(Nl=null),jl!==null&&Rx(jl)&&(jl=null),qf.forEach(KE),Wf.forEach(KE)}function Ix(h,g){h.blockedOn===g&&(h.blockedOn=null,S1||(S1=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,CB)))}var Dx=null;function ZE(h){Dx!==h&&(Dx=h,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dx===h&&(Dx=null);for(var g=0;g<h.length;g+=3){var b=h[g],w=h[g+1],T=h[g+2];if(typeof w!="function"){if(k1(w||b)===null)continue;break}var O=ge(b);O!==null&&(h.splice(g,3),g-=3,kw(O,{pending:!0,data:T,method:b.method,action:w},w,T))}}))}function Gf(h){function g(oe){return Ix(oe,h)}wl!==null&&Ix(wl,h),Nl!==null&&Ix(Nl,h),jl!==null&&Ix(jl,h),qf.forEach(g),Wf.forEach(g);for(var b=0;b<kl.length;b++){var w=kl[b];w.blockedOn===h&&(w.blockedOn=null)}for(;0<kl.length&&(b=kl[0],b.blockedOn===null);)XE(b),b.blockedOn===null&&kl.shift();if(b=(h.ownerDocument||h).$$reactFormReplay,b!=null)for(w=0;w<b.length;w+=3){var T=b[w],O=b[w+1],q=T[Os]||null;if(typeof O=="function")q||ZE(b);else if(q){var K=null;if(O&&O.hasAttribute("formAction")){if(T=O,q=O[Os]||null)K=q.formAction;else if(k1(T)!==null)continue}else K=q.action;typeof K=="function"?b[w+1]=K:(b.splice(w,3),w-=3),ZE(b)}}}function _1(h){this._internalRoot=h}Mx.prototype.render=_1.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(s(409));var b=g.current,w=pn();$E(b,w,h,g,null,null)},Mx.prototype.unmount=_1.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;$E(h.current,2,null,h,null,null),px(),g[Ls]=null}};function Mx(h){this._internalRoot=h}Mx.prototype.unstable_scheduleHydration=function(h){if(h){var g=Vs();h={blockedOn:null,target:h,priority:g};for(var b=0;b<kl.length&&g!==0&&g<kl[b].priority;b++);kl.splice(b,0,h),b===0&&XE(h)}};var QE=e.version;if(QE!=="19.1.1")throw Error(s(527,QE,"19.1.1"));X.findDOMNode=function(h){var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(s(188)):(h=Object.keys(h).join(","),Error(s(268,h)));return h=c(g),h=h!==null?d(h):null,h=h===null?null:h.stateNode,h};var EB={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ox=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ox.isDisabled&&Ox.supportsFiber)try{st=Ox.inject(EB),qe=Ox}catch{}}return Kf.createRoot=function(h,g){if(!a(h))throw Error(s(299));var b=!1,w="",T=mC,O=gC,q=pC,K=null;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(w=g.identifierPrefix),g.onUncaughtError!==void 0&&(T=g.onUncaughtError),g.onCaughtError!==void 0&&(O=g.onCaughtError),g.onRecoverableError!==void 0&&(q=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(K=g.unstable_transitionCallbacks)),g=VE(h,1,!1,null,null,b,w,T,O,q,K,null),h[Ls]=g.current,l1(h),new _1(g)},Kf.hydrateRoot=function(h,g,b){if(!a(h))throw Error(s(299));var w=!1,T="",O=mC,q=gC,K=pC,oe=null,Se=null;return b!=null&&(b.unstable_strictMode===!0&&(w=!0),b.identifierPrefix!==void 0&&(T=b.identifierPrefix),b.onUncaughtError!==void 0&&(O=b.onUncaughtError),b.onCaughtError!==void 0&&(q=b.onCaughtError),b.onRecoverableError!==void 0&&(K=b.onRecoverableError),b.unstable_transitionCallbacks!==void 0&&(oe=b.unstable_transitionCallbacks),b.formState!==void 0&&(Se=b.formState)),g=VE(h,1,!0,g,b??null,w,T,O,q,K,oe,Se),g.context=HE(null),b=g.current,w=pn(),w=es(w),T=ol(w),T.callback=null,ll(b,T,w),b=w,g.current.lanes=b,ss(g,b),Ri(g),h[Ls]=g.current,l1(h),new Mx(g)},Kf.version="19.1.1",Kf}var lT;function zB(){if(lT)return E1.exports;lT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),E1.exports=UB(),E1.exports}var BB=zB();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cT="popstate";function VB(r={}){function e(s,a){let{pathname:i,search:o,hash:l}=s.location;return lj("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:tg(a)}return $B(e,t,null,r)}function kr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ji(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HB(){return Math.random().toString(36).substring(2,10)}function dT(r,e){return{usr:r.state,key:r.key,idx:e}}function lj(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Sh(e):e,state:t,key:e&&e.key||s||HB()}}function tg({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Sh(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function $B(r,e,t,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function f(){l="POP";let v=u(),N=v==null?null:v-d;d=v,c&&c({action:l,location:x.location,delta:N})}function m(v,N){l="PUSH";let k=lj(x.location,v,N);d=u()+1;let S=dT(k,d),R=x.createHref(k);try{o.pushState(S,"",R)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(R)}i&&c&&c({action:l,location:x.location,delta:1})}function p(v,N){l="REPLACE";let k=lj(x.location,v,N);d=u();let S=dT(k,d),R=x.createHref(k);o.replaceState(S,"",R),i&&c&&c({action:l,location:x.location,delta:0})}function y(v){return qB(v)}let x={get action(){return l},get location(){return r(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(cT,f),c=v,()=>{a.removeEventListener(cT,f),c=null}},createHref(v){return e(a,v)},createURL:y,encodeLocation(v){let N=y(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:p,go(v){return o.go(v)}};return x}function qB(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),kr(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:tg(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function iM(r,e,t="/"){return WB(r,e,t,!1)}function WB(r,e,t,s){let a=typeof e=="string"?Sh(e):e,i=Vo(a.pathname||"/",t);if(i==null)return null;let o=oM(r);YB(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=aV(i);l=sV(o[c],d,s)}return l}function oM(r,e=[],t=[],s="",a=!1){let i=(o,l,c=a,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(s)&&c)return;kr(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length)}let f=Uo([s,u.relativePath]),m=t.concat(u);o.children&&o.children.length>0&&(kr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),oM(o.children,e,m,f,c)),!(o.path==null&&!o.index)&&e.push({path:f,score:eV(f,o.index),routesMeta:m})};return r.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let c of lM(o.path))i(o,l,!0,c)}),e}function lM(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=lM(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function YB(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:tV(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var GB=/^:[\w-]+$/,XB=3,KB=2,ZB=1,QB=10,JB=-2,uT=r=>r==="*";function eV(r,e){let t=r.split("/"),s=t.length;return t.some(uT)&&(s+=JB),e&&(s+=KB),t.filter(a=>!uT(a)).reduce((a,i)=>a+(GB.test(i)?XB:i===""?ZB:QB),s)}function tV(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function sV(r,e,t=!1){let{routesMeta:s}=r,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=Fb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f&&d&&t&&!s[s.length-1].route.index&&(f=Fb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Uo([i,f.pathname]),pathnameBase:lV(Uo([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Uo([i,f.pathnameBase]))}return o}function Fb(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=rV(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,{paramName:u,isOptional:f},m)=>{if(u==="*"){let y=l[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[m];return f&&!p?d[u]=void 0:d[u]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:r}}function rV(r,e=!1,t=!0){Ji(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function aV(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ji(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Vo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function nV(r,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof r=="string"?Sh(r):r;return{pathname:t?t.startsWith("/")?t:iV(t,e):e,search:cV(s),hash:dV(a)}}function iV(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function I1(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oV(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cM(r){let e=oV(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function dM(r,e,t,s=!1){let a;typeof r=="string"?a=Sh(r):(a={...r},kr(!a.pathname||!a.pathname.includes("?"),I1("?","pathname","search",a)),kr(!a.pathname||!a.pathname.includes("#"),I1("#","pathname","hash",a)),kr(!a.search||!a.search.includes("#"),I1("#","search","hash",a)));let i=r===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=t;else{let f=e.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=nV(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Uo=r=>r.join("/").replace(/\/\/+/g,"/"),lV=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),cV=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,dV=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uV(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var uM=["POST","PUT","PATCH","DELETE"];new Set(uM);var hV=["GET",...uM];new Set(hV);var _h=C.createContext(null);_h.displayName="DataRouter";var Iy=C.createContext(null);Iy.displayName="DataRouterState";C.createContext(!1);var hM=C.createContext({isTransitioning:!1});hM.displayName="ViewTransition";var fV=C.createContext(new Map);fV.displayName="Fetchers";var mV=C.createContext(null);mV.displayName="Await";var so=C.createContext(null);so.displayName="Navigation";var Mg=C.createContext(null);Mg.displayName="Location";var ro=C.createContext({outlet:null,matches:[],isDataRoute:!1});ro.displayName="Route";var Yk=C.createContext(null);Yk.displayName="RouteError";function gV(r,{relative:e}={}){kr(Og(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=C.useContext(so),{hash:a,pathname:i,search:o}=Lg(r,{relative:e}),l=i;return t!=="/"&&(l=i==="/"?t:Uo([t,i])),s.createHref({pathname:l,search:o,hash:a})}function Og(){return C.useContext(Mg)!=null}function Qr(){return kr(Og(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Mg).location}var fM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mM(r){C.useContext(so).static||C.useLayoutEffect(r)}function _s(){let{isDataRoute:r}=C.useContext(ro);return r?CV():pV()}function pV(){kr(Og(),"useNavigate() may be used only in the context of a <Router> component.");let r=C.useContext(_h),{basename:e,navigator:t}=C.useContext(so),{matches:s}=C.useContext(ro),{pathname:a}=Qr(),i=JSON.stringify(cM(s)),o=C.useRef(!1);return mM(()=>{o.current=!0}),C.useCallback((c,d={})=>{if(Ji(o.current,fM),!o.current)return;if(typeof c=="number"){t.go(c);return}let u=dM(c,JSON.parse(i),a,d.relative==="path");r==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Uo([e,u.pathname])),(d.replace?t.replace:t.push)(u,d.state,d)},[e,t,i,a,r])}C.createContext(null);function Zo(){let{matches:r}=C.useContext(ro),e=r[r.length-1];return e?e.params:{}}function Lg(r,{relative:e}={}){let{matches:t}=C.useContext(ro),{pathname:s}=Qr(),a=JSON.stringify(cM(t));return C.useMemo(()=>dM(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function xV(r,e){return gM(r,e)}function gM(r,e,t,s,a){kr(Og(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(so),{matches:o}=C.useContext(ro),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",f=l&&l.route;{let k=f&&f.path||"";pM(d,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let m=Qr(),p;if(e){let k=typeof e=="string"?Sh(e):e;kr(u==="/"||k.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${k.pathname}" was given in the \`location\` prop.`),p=k}else p=m;let y=p.pathname||"/",x=y;if(u!=="/"){let k=u.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=iM(r,{pathname:x});Ji(f||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ji(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=NV(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:Uo([u,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:Uo([u,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,t,s,a);return e&&N?C.createElement(Mg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},N):N}function bV(){let r=AV(),e=uV(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:a},t):null,o)}var yV=C.createElement(bV,null),vV=class extends C.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?C.createElement(ro.Provider,{value:this.props.routeContext},C.createElement(Yk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wV({routeContext:r,match:e,children:t}){let s=C.useContext(_h);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ro.Provider,{value:r},t)}function NV(r,e=[],t=null,s=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,o=t?.errors;if(o!=null){let d=i.findIndex(u=>u.route.id&&o?.[u.route.id]!==void 0);kr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:f,errors:m}=t,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||p){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,f)=>{let m,p=!1,y=null,x=null;t&&(m=o&&u.route.id?o[u.route.id]:void 0,y=u.route.errorElement||yV,l&&(c<0&&f===0?(pM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):c===f&&(p=!0,x=u.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,f+1)),N=()=>{let k;return m?k=y:p?k=x:u.route.Component?k=C.createElement(u.route.Component,null):u.route.element?k=u.route.element:k=d,C.createElement(wV,{match:u,routeContext:{outlet:d,matches:v,isDataRoute:t!=null},children:k})};return t&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?C.createElement(vV,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:N(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:s}):N()},null)}function Gk(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jV(r){let e=C.useContext(_h);return kr(e,Gk(r)),e}function kV(r){let e=C.useContext(Iy);return kr(e,Gk(r)),e}function SV(r){let e=C.useContext(ro);return kr(e,Gk(r)),e}function Xk(r){let e=SV(r),t=e.matches[e.matches.length-1];return kr(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function _V(){return Xk("useRouteId")}function AV(){let r=C.useContext(Yk),e=kV("useRouteError"),t=Xk("useRouteError");return r!==void 0?r:e.errors?.[t]}function CV(){let{router:r}=jV("useNavigate"),e=Xk("useNavigate"),t=C.useRef(!1);return mM(()=>{t.current=!0}),C.useCallback(async(a,i={})=>{Ji(t.current,fM),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...i}))},[r,e])}var hT={};function pM(r,e,t){!e&&!hT[r]&&(hT[r]=!0,Ji(!1,t))}C.memo(EV);function EV({routes:r,future:e,state:t,unstable_onError:s}){return gM(r,void 0,t,s,e)}function mt(r){kr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TV({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:i=!1}){kr(!Og(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof t=="string"&&(t=Sh(t));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:m="default"}=t,p=C.useMemo(()=>{let y=Vo(c,o);return y==null?null:{location:{pathname:y,search:d,hash:u,state:f,key:m},navigationType:s}},[o,c,d,u,f,m,s]);return Ji(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:C.createElement(so.Provider,{value:l},C.createElement(Mg.Provider,{children:e,value:p}))}function PV({children:r,location:e}){return xV(cj(r),e)}function cj(r,e=[]){let t=[];return C.Children.forEach(r,(s,a)=>{if(!C.isValidElement(s))return;let i=[...e,a];if(s.type===C.Fragment){t.push.apply(t,cj(s.props.children,i));return}kr(s.type===mt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kr(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=cj(s.props.children,i)),t.push(o)}),t}var ib="get",ob="application/x-www-form-urlencoded";function Dy(r){return r!=null&&typeof r.tagName=="string"}function RV(r){return Dy(r)&&r.tagName.toLowerCase()==="button"}function IV(r){return Dy(r)&&r.tagName.toLowerCase()==="form"}function DV(r){return Dy(r)&&r.tagName.toLowerCase()==="input"}function MV(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function OV(r,e){return r.button===0&&(!e||e==="_self")&&!MV(r)}var Fx=null;function LV(){if(Fx===null)try{new FormData(document.createElement("form"),0),Fx=!1}catch{Fx=!0}return Fx}var FV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function D1(r){return r!=null&&!FV.has(r)?(Ji(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ob}"`),null):r}function UV(r,e){let t,s,a,i,o;if(IV(r)){let l=r.getAttribute("action");s=l?Vo(l,e):null,t=r.getAttribute("method")||ib,a=D1(r.getAttribute("enctype"))||ob,i=new FormData(r)}else if(RV(r)||DV(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||l.getAttribute("action");if(s=c?Vo(c,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||ib,a=D1(r.getAttribute("formenctype"))||D1(l.getAttribute("enctype"))||ob,i=new FormData(l,r),!LV()){let{name:d,type:u,value:f}=r;if(u==="image"){let m=d?`${d}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else d&&i.append(d,f)}}else{if(Dy(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ib,s=null,a=ob,o=r}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kk(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zV(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Vo(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function BV(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VV(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function HV(r,e,t){let s=await Promise.all(r.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await BV(i,t);return o.links?o.links():[]}return[]}));return YV(s.flat(1).filter(VV).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function fT(r,e,t,s,a,i){let o=(c,d)=>t[d]?c.route.id!==t[d].route.id:!0,l=(c,d)=>t[d].pathname!==c.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==c.params["*"];return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function $V(r,e,{includeHydrateFallback:t}={}){return qV(r.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function qV(r){return[...new Set(r)]}function WV(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function YV(r,e){let t=new Set;return new Set(e),r.reduce((s,a)=>{let i=JSON.stringify(WV(a));return t.has(i)||(t.add(i),s.push({key:i,link:a})),s},[])}function xM(){let r=C.useContext(_h);return Kk(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function GV(){let r=C.useContext(Iy);return Kk(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zk=C.createContext(void 0);Zk.displayName="FrameworkContext";function bM(){let r=C.useContext(Zk);return Kk(r,"You must render this element inside a <HydratedRouter> element"),r}function XV(r,e){let t=C.useContext(Zk),[s,a]=C.useState(!1),[i,o]=C.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=e,m=C.useRef(null);C.useEffect(()=>{if(r==="render"&&o(!0),r==="viewport"){let x=N=>{N.forEach(k=>{o(k.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[r]),C.useEffect(()=>{if(s){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[s]);let p=()=>{a(!0)},y=()=>{a(!1),o(!1)};return t?r!=="intent"?[i,m,{}]:[i,m,{onFocus:Zf(l,p),onBlur:Zf(c,y),onMouseEnter:Zf(d,p),onMouseLeave:Zf(u,y),onTouchStart:Zf(f,p)}]:[!1,m,{}]}function Zf(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function KV({page:r,...e}){let{router:t}=xM(),s=C.useMemo(()=>iM(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?C.createElement(QV,{page:r,matches:s,...e}):null}function ZV(r){let{manifest:e,routeModules:t}=bM(),[s,a]=C.useState([]);return C.useEffect(()=>{let i=!1;return HV(r,e,t).then(o=>{i||a(o)}),()=>{i=!0}},[r,e,t]),s}function QV({page:r,matches:e,...t}){let s=Qr(),{manifest:a,routeModules:i}=bM(),{basename:o}=xM(),{loaderData:l,matches:c}=GV(),d=C.useMemo(()=>fT(r,e,c,a,s,"data"),[r,e,c,a,s]),u=C.useMemo(()=>fT(r,e,c,a,s,"assets"),[r,e,c,a,s]),f=C.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let y=new Set,x=!1;if(e.forEach(N=>{let k=a.routes[N.route.id];!k||!k.hasLoader||(!d.some(S=>S.route.id===N.route.id)&&N.route.id in l&&i[N.route.id]?.shouldRevalidate||k.hasClientLoader?x=!0:y.add(N.route.id))}),y.size===0)return[];let v=zV(r,o,"data");return x&&y.size>0&&v.searchParams.set("_routes",e.filter(N=>y.has(N.route.id)).map(N=>N.route.id).join(",")),[v.pathname+v.search]},[o,l,s,a,d,e,r,i]),m=C.useMemo(()=>$V(u,a),[u,a]),p=ZV(u);return C.createElement(C.Fragment,null,f.map(y=>C.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),m.map(y=>C.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),p.map(({key:y,link:x})=>C.createElement("link",{key:y,nonce:t.nonce,...x})))}function JV(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var yM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yM&&(window.__reactRouterVersion="7.8.2")}catch{}function e7({basename:r,children:e,window:t}){let s=C.useRef();s.current==null&&(s.current=VB({window:t,v5Compat:!0}));let a=s.current,[i,o]=C.useState({action:a.action,location:a.location}),l=C.useCallback(c=>{C.startTransition(()=>o(c))},[o]);return C.useLayoutEffect(()=>a.listen(l),[a,l]),C.createElement(TV,{basename:r,children:e,location:i.location,navigationType:i.action,navigator:a})}var vM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=C.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f,...m},p){let{basename:y}=C.useContext(so),x=typeof d=="string"&&vM.test(d),v,N=!1;if(typeof d=="string"&&x&&(v=d,yM))try{let I=new URL(window.location.href),M=d.startsWith("//")?new URL(I.protocol+d):new URL(d),L=Vo(M.pathname,y);M.origin===I.origin&&L!=null?d=L+M.search+M.hash:N=!0}catch{Ji(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=gV(d,{relative:a}),[S,R,A]=XV(s,m),D=a7(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function P(I){e&&e(I),I.defaultPrevented||D(I)}let E=C.createElement("a",{...m,...A,href:v||k,onClick:N||i?e:P,ref:JV(p,R),target:c,"data-discover":!x&&t==="render"?"true":void 0});return S&&!x?C.createElement(C.Fragment,null,E,C.createElement(KV,{page:k})):E});ve.displayName="Link";var t7=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let f=Lg(o,{relative:d.relative}),m=Qr(),p=C.useContext(Iy),{navigator:y,basename:x}=C.useContext(so),v=p!=null&&c7(f)&&l===!0,N=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,k=m.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(k=k.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&x&&(S=Vo(S,x)||S);const R=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let A=k===N||!a&&k.startsWith(N)&&k.charAt(R)==="/",D=S!=null&&(S===N||!a&&S.startsWith(N)&&S.charAt(N.length)==="/"),P={isActive:A,isPending:D,isTransitioning:v},E=A?e:void 0,I;typeof s=="function"?I=s(P):I=[s,A?"active":null,D?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let M=typeof i=="function"?i(P):i;return C.createElement(ve,{...d,"aria-current":E,className:I,ref:u,style:M,to:o,viewTransition:l},typeof c=="function"?c(P):c)});t7.displayName="NavLink";var s7=C.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:i,method:o=ib,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f,...m},p)=>{let y=o7(),x=l7(l,{relative:d}),v=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&vM.test(l),k=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let R=S.nativeEvent.submitter,A=R?.getAttribute("formmethod")||o;y(R||S.currentTarget,{fetcherKey:e,method:A,navigate:t,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:f})};return C.createElement("form",{ref:p,method:v,action:x,onSubmit:s?c:k,...m,"data-discover":!N&&r==="render"?"true":void 0})});s7.displayName="Form";function r7(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wM(r){let e=C.useContext(_h);return kr(e,r7(r)),e}function a7(r,{target:e,replace:t,state:s,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=_s(),c=Qr(),d=Lg(r,{relative:i});return C.useCallback(u=>{if(OV(u,e)){u.preventDefault();let f=t!==void 0?t:tg(c)===tg(d);l(r,{replace:f,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,t,s,e,r,a,i,o])}var n7=0,i7=()=>`__${String(++n7)}__`;function o7(){let{router:r}=wM("useSubmit"),{basename:e}=C.useContext(so),t=_V();return C.useCallback(async(s,a={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=UV(s,e);if(a.navigate===!1){let u=a.fetcherKey||i7();await r.fetch(u,t,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await r.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function l7(r,{relative:e}={}){let{basename:t}=C.useContext(so),s=C.useContext(ro);kr(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...Lg(r||".",{relative:e})},o=Qr();if(r==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let u=l.toString();i.search=u?`?${u}`:""}}return(!r||r===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Uo([t,i.pathname])),tg(i)}function c7(r,{relative:e}={}){let t=C.useContext(hM);kr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wM("useViewTransitionState"),a=Lg(r,{relative:e});if(!t.isTransitioning)return!1;let i=Vo(t.currentLocation.pathname,s)||t.currentLocation.pathname,o=Vo(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Fb(a.pathname,o)!=null||Fb(a.pathname,i)!=null}const d7="/assets/logo-Bi-0vyp2.png";function u7(){const r=()=>{const e="/agreement.pdf",t=document.createElement("a");t.href=e,t.download="FOREMADE_Vendor_Agreement.pdf",document.body.appendChild(t),t.click(),document.body.removeChild(t)};return n.jsxs("div",{className:"min-h-screen bg-white flex flex-col font-serif text-gray-800",children:[n.jsx("header",{className:"pt-16 pb-8 text-center border-b border-gray-300",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("img",{src:d7,alt:"Formade logo",className:"h-16 mx-auto mb-4"}),n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Vendor User Agreement"}),n.jsx("p",{className:"text-lg mb-2",children:"Workbay, 2nd Floor, Lagos City Mall, Onikan, TBS Lagos"}),n.jsxs("p",{className:"text-lg mb-2",children:["Contact:"," ",n.jsx("a",{href:"mailto:info@foremade.com",className:"underline hover:text-blue-600",children:"info@foremade.com"})]}),n.jsx("p",{className:"text-lg mb-4",children:"Tel: +234 9126866984, +44 7481841132 (WhatsApp)"}),n.jsx("p",{className:"text-lg",children:"Effective Date: _________________________"})]})}),n.jsxs("main",{className:"max-w-4xl mx-auto p-8 my-8 border border-gray-200",children:[n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"Introduction"}),n.jsx("p",{className:"text-justify",children:"Welcome to FOREMADE. This Vendor User Agreement (Agreement) governs your participation as a seller (Vendor, You, Your) on the FOREMADE Online Marketplace (FOREMADE, Platform, We, Us, Our). By registering and listing products on FOREMADE, you agree to be bound by the terms and conditions set forth below."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"1. Purpose of the Platform"}),n.jsx("p",{className:"text-justify",children:"FOREMADE provides Vendors with a free, professional online platform to sell their products to buyers both locally and internationally. FOREMADE offers unmatched visibility, access to a growing customer base, and a seamless transaction experience."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"2. Platform Usage Rights"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Vendors are granted the right to list, market, and sell products on the FOREMADE marketplace."}),n.jsx("li",{children:"Vendors retain full ownership of their products but grant FOREMADE a non-exclusive, royalty-free license to display, market, and promote the products across the platform and its promotional channels."}),n.jsx("li",{children:"Vendors must provide accurate product descriptions, pricing, and images."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"3. Free Access & Seller Costs"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"As of the effective date of this agreement, FOREMADE does not charge Vendors any listing fees or commissions to sell products on the platform."}),n.jsx("li",{children:"Visibility on FOREMADE is free of charge."}),n.jsx("li",{children:"FOREMADE reserves the right to introduce optional paid promotional services to Vendors for enhanced visibility."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"4. Pricing, Taxes, and Shipping Structure"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Vendors set their base product prices."}),n.jsx("li",{children:"FOREMADE may add applicable government taxes and shipping fees to the listed price for the buyer."}),n.jsx("li",{children:"Example: If you price an item at 200, the displayed price to the buyer may be 220 (which includes tax and delivery). You will always receive 200 per unit sold."}),n.jsx("li",{children:"Buyers, not Vendors, pay for delivery."}),n.jsx("li",{children:"FOREMADE manages shipping logistics to ensure professional delivery and compliance."}),n.jsx("li",{children:"FOREMADE may generate revenue from buyer protection fees and optional Vendor promotions."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"5. Vendor Responsibilities"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Maintain product quality and provide accurate product listings."}),n.jsx("li",{children:"Keep product prices competitive, ideally lower than your in-store prices, to attract more customers and stay ahead of competition."}),n.jsx("li",{children:"Comply with all applicable laws, including product safety, labelling, and intellectual property rights."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"6. Prohibited Activities"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Direct private interactions between Vendors and customers outside the FOREMADE platform are strictly prohibited to maintain professionalism and platform integrity."}),n.jsx("li",{children:"Personal deliveries by Vendors are not allowed. All items must pass through FOREMADEs logistics system for quality control and tracking."}),n.jsx("li",{children:"Any attempt to bypass the platforms payment or shipping process will result in immediate termination of your account."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"7. Returns, Damages, and Loss"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Refer to the FOREMADE Return Policy published on our website for details on customer returns."}),n.jsx("li",{children:"Any product lost or damaged while in the custody of FOREMADE will be replaced or reimbursed by FOREMADE."}),n.jsx("li",{children:"Products are inspected at collection to ensure compliance with the listing description."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"8. Payment to Vendors"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Payment for products sold will be processed and released upon the successful pickup of the item from the Vendors shop by FOREMADEs logistics team."}),n.jsx("li",{children:"FOREMADE provides transparent statements of sales and payments to Vendors."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"9. Transparency & Trust"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"FOREMADE is committed to operating with honesty, fairness, and full disclosure."}),n.jsx("li",{children:"We encourage open communication regarding your concerns and we are dedicated to building long-term partnerships with all Vendors."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"10. Modifications to Agreement"}),n.jsx("p",{className:"text-justify",children:"FOREMADE may update this Agreement periodically. You will be notified of any significant changes, and continued use of the platform constitutes acceptance of the revised terms."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"11. Termination"}),n.jsx("p",{className:"text-justify",children:"FOREMADE reserves the right to suspend or terminate any Vendor account found to be in violation of this Agreement or applicable laws."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"12. Governing Law"}),n.jsx("p",{className:"text-justify",children:"This Agreement shall be governed and interpreted under the laws of the Federal Republic of Nigeria."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"Acceptance"}),n.jsx("p",{className:"text-justify mb-4",children:"By registering and selling on FOREMADE, you acknowledge that you have read, understood, and agreed to all the terms of this Agreement."}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t border-gray-300 pt-4",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Vendors Name:"})," _______________________________"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Position:"})," _____________________________________"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Business Name:"})," _______________________________"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," _____________________________________"]})]}),n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Signature:"})," _____________________________"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ________________________________"]})]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("button",{onClick:r,className:"bg-slate-600 text-white px-4 py-2 rounded hover:bg-slate-800 transition duration-200",children:"Download Agreement"})})]}),n.jsxs("footer",{className:"border-t border-gray-300 p-6 text-center text-gray-800",children:[n.jsx("p",{children:"Workbay, 2nd Floor, Lagos City Mall, Onikan, TBS Lagos"}),n.jsxs("p",{children:["Contact:"," ",n.jsx("a",{href:"mailto:info@foremade.com",className:"underline hover:text-blue-600",children:"info@foremade.com"})]}),n.jsx("p",{children:"Tel: +234 9126866984, +44 7481841132 (WhatsApp)"}),n.jsx("p",{className:"mt-2",children:n.jsx(ve,{to:"/seller/register",className:"underline hover:text-blue-600",children:"Back to Vendor Registration"})})]})]})}function h7(){return n.jsxs("div",{className:"max-w-3xl mx-auto py-10 px-4",children:[n.jsx("h1",{className:"text-3xl font-extrabold text-blue-700 mb-6",children:"FOREMADE Product Upload Guidelines"}),n.jsx("p",{className:"mb-6 text-gray-700",children:"To ensure quality and consistency across our marketplace, please follow these standards when uploading products:"}),n.jsx("hr",{className:"my-6"}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"1. Product Images & Videos"}),n.jsxs("ul",{className:"list-disc ml-6 text-gray-800 space-y-2",children:[n.jsx("li",{children:"Upload at least 4 different images of your product."}),n.jsx("li",{children:"You may add up to 8 images plus 1 video per product."}),n.jsx("li",{children:"Images must be clear, sharp, and high-quality."}),n.jsx("li",{children:"Use a plain, neutral background (preferably white or light)."}),n.jsx("li",{children:"Show multiple angles: front, back, side, and close-up."}),n.jsx("li",{children:"If possible, add a 360 video to enhance customer trust."}),n.jsx("li",{children:"Display the product in use (e.g., worn, hanging, or placed naturally) where relevant."})]})]}),n.jsx("hr",{className:"my-6"}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"2. Product Description"}),n.jsxs("ul",{className:"list-disc ml-6 text-gray-800 space-y-2",children:[n.jsx("li",{children:"Provide a detailed and accurate description."}),n.jsx("li",{children:"Include size, color, material, weight, and key features."}),n.jsx("li",{children:"Write in a way that gives buyers full clarity about the item."}),n.jsx("li",{children:"Avoid vague terms  always be specific and transparent."})]})]}),n.jsx("hr",{className:"my-6"}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"3. Compliance for Consumable Goods"}),n.jsxs("ul",{className:"list-disc ml-6 text-gray-800 space-y-2",children:[n.jsx("li",{children:"All consumables (food, beverages, cosmetics, etc.) must meet food safety standards."}),n.jsx("li",{children:"NAFDAC registration number (or equivalent certification in your country) must be clearly printed on packaging."}),n.jsx("li",{children:"Products without proper certification will not be approved for sale."})]})]}),n.jsx("hr",{className:"my-6"}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"4. General Standards"}),n.jsxs("ul",{className:"list-disc ml-6 text-gray-800 space-y-2",children:[n.jsx("li",{children:"Only upload products you own or are authorized to sell."}),n.jsx("li",{children:"All content (images, text, videos) must be original."}),n.jsx("li",{children:"Products must be authentic and not counterfeit."})]})]}),n.jsx("hr",{className:"my-6"}),n.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg mt-8",children:n.jsx("span",{className:"text-green-700 font-semibold",children:" By following these guidelines, your products will gain better visibility, higher approval chances, and increased customer trust on FOREMADE."})})]})}const f7=()=>n.jsx("div",{className:"min-h-screen bg-background-light py-10",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-20 h-20 mb-4 flex items-center justify-center bg-primary/10 rounded-full",children:n.jsx("i",{className:"bx bx-package text-5xl text-primary"})}),n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-primary mb-2",children:"FOREMADE Shipping Policy"}),n.jsx("p",{className:"text-secondary max-w-xl",children:"Learn about our shipping methods, fees, and delivery timeframes for FOREMADE Marketplace."})]}),n.jsxs("div",{className:"bg-background-light rounded-xl shadow-lg p-6 md:p-10 border border-border-light",children:[n.jsxs("p",{className:"mb-2 text-secondary",children:[n.jsx("strong",{children:"Last Updated:"})," July 5, 2024"]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"1. Shipping Methods"}),n.jsx("p",{className:"mb-4 text-secondary",children:"FOREMADE offers multiple shipping options depending on the location of the buyer and seller:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Local Delivery:"})," Available for buyers and sellers within the same country or region."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Standard Shipping:"})," Carried out through our partnered courier services with tracking provided."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Express Shipping:"})," Optional faster delivery for eligible items at an additional cost."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Pick-Up Options:"})," In some locations, buyers may choose to collect items directly from sellers or drop-off points."]})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"2. Shipping Fees"}),n.jsx("p",{className:"mb-4 text-secondary",children:"Shipping fees are automatically calculated at checkout based on item size, weight, and destination. Multi-item discounts may apply when purchasing several products from the same seller. Sellers are responsible for accurately entering item weight and dimensions to ensure correct fee calculation."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"3. Order Processing Time"}),n.jsxs("p",{className:"mb-4 text-secondary",children:["Sellers must ship items within ",n.jsx("strong",{children:"2 business days"})," of receiving an order. Failure to ship within the required time may lead to order cancellation and account penalties."]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"4. Delivery Timeframes"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Local Delivery:"})," 25 business days"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Domestic Standard Shipping:"})," 37 business days"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"International Shipping:"})," 721 business days (depending on destination and customs)"]})]}),n.jsx("p",{className:"mb-4 text-secondary",children:"Delivery times may vary based on the courier and unforeseen circumstances such as weather or strikes."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"5. Tracking & Confirmation"}),n.jsx("p",{className:"mb-4 text-secondary",children:"All shipped orders must include tracking information. Buyers will receive tracking updates and can monitor delivery progress through their FOREMADE account."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"6. Shipping Responsibility"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Sellers:"})," Responsible for packaging items securely and dispatching within the stated timeframe."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Buyers:"})," Responsible for providing a complete and accurate delivery address."]})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"7. Lost or Delayed Shipments"}),n.jsxs("p",{className:"mb-4 text-secondary",children:["If an item hasnt arrived within the expected timeframe, buyers should contact the seller first via the platform. If unresolved, buyers can raise an issue within ",n.jsx("strong",{children:"7 days after the estimated delivery date"})," for further investigation and support."]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"8. International Shipping & Customs"}),n.jsx("p",{className:"mb-4 text-secondary",children:"International orders may be subject to customs fees, import duties, or taxes depending on the destination country. These charges are the responsibility of the buyer unless otherwise stated."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"9. Non-Delivery or Return to Sender"}),n.jsx("p",{className:"mb-4 text-secondary",children:"If an order is returned due to incorrect address or non-collection, the buyer may be responsible for re-shipping costs."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"10. Prohibited Items"}),n.jsxs("p",{className:"mb-4 text-secondary",children:["Items that violate FOREMADE's ",n.jsx(ve,{to:"/terms-conditions",className:"policy-link",children:"Prohibited Products Policy"})," or applicable shipping laws will not be permitted."]}),n.jsxs("p",{className:"mb-4 text-secondary",children:["If you need help with your shipment, contact our support team via the ",n.jsx(ve,{to:"/support",className:"policy-link",children:"Help Centre"})," on your dashboard."]})]})]})}),m7=()=>{};var mT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},g7=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const i=r[t++];e[s++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=r[t++],o=r[t++],l=r[t++],c=((a&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=r[t++],o=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const i=r[a],o=a+1<r.length,l=o?r[a+1]:0,c=a+2<r.length,d=c?r[a+2]:0,u=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|d>>6,p=d&63;c||(p=64,o||(m=64)),s.push(t[u],t[f],t[m],t[p])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(NM(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):g7(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const i=t[r.charAt(a++)],l=a<r.length?t[r.charAt(a)]:0;++a;const d=a<r.length?t[r.charAt(a)]:64;++a;const f=a<r.length?t[r.charAt(a)]:64;if(++a,i==null||l==null||d==null||f==null)throw new p7;const m=i<<2|l>>4;if(s.push(m),d!==64){const p=l<<4&240|d>>2;if(s.push(p),f!==64){const y=d<<6&192|f;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class p7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x7=function(r){const e=NM(r);return jM.encodeByteArray(e,!0)},Ub=function(r){return x7(r).replace(/\./g,"")},kM=function(r){try{return jM.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=()=>b7().__FIREBASE_DEFAULTS__,v7=()=>{if(typeof process>"u"||typeof mT>"u")return;const r=mT.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},w7=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&kM(r[1]);return e&&JSON.parse(e)},My=()=>{try{return m7()||y7()||v7()||w7()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},SM=r=>{var e,t;return(t=(e=My())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},_M=r=>{const e=SM(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},AM=()=>{var r;return(r=My())===null||r===void 0?void 0:r.config},CM=r=>{var e;return(e=My())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qk(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,i=r.sub||r.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ub(JSON.stringify(t)),Ub(JSON.stringify(o)),""].join(".")}const Im={};function j7(){const r={prod:[],emulator:[]};for(const e of Object.keys(Im))Im[e]?r.emulator.push(e):r.prod.push(e);return r}function k7(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let gT=!1;function Jk(r,e){if(typeof window>"u"||typeof document>"u"||!oc(window.location.host)||Im[r]===e||Im[r]||gT)return;Im[r]=e;function t(m){return`__firebase__banner__${m}`}const s="__firebase__banner",i=j7().prod.length>0;function o(){const m=document.getElementById(s);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{gT=!0,o()},m}function u(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=k7(s),p=t("text"),y=document.getElementById(p)||document.createElement("span"),x=t("learnmore"),v=document.getElementById(x)||document.createElement("a"),N=t("preprendIcon"),k=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;l(S),u(v,x);const R=d();c(k,N),S.append(k,y,v,R),document.body.appendChild(S)}i?(y.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ma())}function _7(){var r;const e=(r=My())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C7(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function E7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T7(){const r=Ma();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function P7(){return!_7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R7(){try{return typeof indexedDB=="object"}catch{return!1}}function I7(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var i;e(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7="FirebaseError";class ao extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=D7,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fg.prototype.create)}}class Fg{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,i=this.errors[e],o=i?M7(i,s):"Error",l=`${this.serviceName}: ${o} (${a}).`;return new ao(a,l,s)}}function M7(r,e){return r.replace(O7,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const O7=/\{\$([^}]+)}/g;function L7(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ho(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const i=r[a],o=e[a];if(pT(i)&&pT(o)){if(!Ho(i,o))return!1}else if(i!==o)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function pT(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jm(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,i]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function km(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function F7(r,e){const t=new U7(r,e);return t.subscribe.bind(t)}class U7{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");z7(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=M1),a.error===void 0&&(a.error=M1),a.complete===void 0&&(a.complete=M1);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z7(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function M1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(r){return r&&r._delegate?r._delegate:r}class ql{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new N7;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H7(e))try{this.getOrInitializeService({instanceIdentifier:Gc})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:a});s.resolve(i)}catch{}}}}clearInstance(e=Gc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gc){return this.instances.has(e)}getOptions(e=Gc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&o.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),i=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(a,i);const o=this.instances.get(a);return o&&e(o,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:V7(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gc){return this.component?this.component.multipleInstances?e:Gc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V7(r){return r===Gc?void 0:r}function H7(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new B7(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ns;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ns||(Ns={}));const q7={debug:Ns.DEBUG,verbose:Ns.VERBOSE,info:Ns.INFO,warn:Ns.WARN,error:Ns.ERROR,silent:Ns.SILENT},W7=Ns.INFO,Y7={[Ns.DEBUG]:"log",[Ns.VERBOSE]:"log",[Ns.INFO]:"info",[Ns.WARN]:"warn",[Ns.ERROR]:"error"},G7=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=Y7[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e2{constructor(e){this.name=e,this._logLevel=W7,this._logHandler=G7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ns))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ns.DEBUG,...e),this._logHandler(this,Ns.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ns.VERBOSE,...e),this._logHandler(this,Ns.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ns.INFO,...e),this._logHandler(this,Ns.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ns.WARN,...e),this._logHandler(this,Ns.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ns.ERROR,...e),this._logHandler(this,Ns.ERROR,...e)}}const X7=(r,e)=>e.some(t=>r instanceof t);let xT,bT;function K7(){return xT||(xT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z7(){return bT||(bT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TM=new WeakMap,dj=new WeakMap,PM=new WeakMap,O1=new WeakMap,t2=new WeakMap;function Q7(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",i),r.removeEventListener("error",o)},i=()=>{t(Fl(r.result)),a()},o=()=>{s(r.error),a()};r.addEventListener("success",i),r.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&TM.set(t,r)}).catch(()=>{}),t2.set(e,r),e}function J7(r){if(dj.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",o),r.removeEventListener("abort",o)},i=()=>{t(),a()},o=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",i),r.addEventListener("error",o),r.addEventListener("abort",o)});dj.set(r,e)}let uj={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return dj.get(r);if(e==="objectStoreNames")return r.objectStoreNames||PM.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fl(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function e9(r){uj=r(uj)}function t9(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(L1(this),e,...t);return PM.set(s,e.sort?e.sort():[e]),Fl(s)}:Z7().includes(r)?function(...e){return r.apply(L1(this),e),Fl(TM.get(this))}:function(...e){return Fl(r.apply(L1(this),e))}}function s9(r){return typeof r=="function"?t9(r):(r instanceof IDBTransaction&&J7(r),X7(r,K7())?new Proxy(r,uj):r)}function Fl(r){if(r instanceof IDBRequest)return Q7(r);if(O1.has(r))return O1.get(r);const e=s9(r);return e!==r&&(O1.set(r,e),t2.set(e,r)),e}const L1=r=>t2.get(r);function r9(r,e,{blocked:t,upgrade:s,blocking:a,terminated:i}={}){const o=indexedDB.open(r,e),l=Fl(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Fl(o.result),c.oldVersion,c.newVersion,Fl(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),a&&c.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const a9=["get","getKey","getAll","getAllKeys","count"],n9=["put","add","delete","clear"],F1=new Map;function yT(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(F1.get(e))return F1.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=n9.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||a9.includes(t)))return;const i=async function(o,...l){const c=this.transaction(o,a?"readwrite":"readonly");let d=c.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[t](...l),a&&c.done]))[0]};return F1.set(e,i),i}e9(r=>({...r,get:(e,t,s)=>yT(e,t)||r.get(e,t,s),has:(e,t)=>!!yT(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(o9(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function o9(r){const e=r.getComponent();return e?.type==="VERSION"}const hj="@firebase/app",vT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new e2("@firebase/app"),l9="@firebase/app-compat",c9="@firebase/analytics-compat",d9="@firebase/analytics",u9="@firebase/app-check-compat",h9="@firebase/app-check",f9="@firebase/auth",m9="@firebase/auth-compat",g9="@firebase/database",p9="@firebase/data-connect",x9="@firebase/database-compat",b9="@firebase/functions",y9="@firebase/functions-compat",v9="@firebase/installations",w9="@firebase/installations-compat",N9="@firebase/messaging",j9="@firebase/messaging-compat",k9="@firebase/performance",S9="@firebase/performance-compat",_9="@firebase/remote-config",A9="@firebase/remote-config-compat",C9="@firebase/storage",E9="@firebase/storage-compat",T9="@firebase/firestore",P9="@firebase/ai",R9="@firebase/firestore-compat",I9="firebase",D9="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="[DEFAULT]",M9={[hj]:"fire-core",[l9]:"fire-core-compat",[d9]:"fire-analytics",[c9]:"fire-analytics-compat",[h9]:"fire-app-check",[u9]:"fire-app-check-compat",[f9]:"fire-auth",[m9]:"fire-auth-compat",[g9]:"fire-rtdb",[p9]:"fire-data-connect",[x9]:"fire-rtdb-compat",[b9]:"fire-fn",[y9]:"fire-fn-compat",[v9]:"fire-iid",[w9]:"fire-iid-compat",[N9]:"fire-fcm",[j9]:"fire-fcm-compat",[k9]:"fire-perf",[S9]:"fire-perf-compat",[_9]:"fire-rc",[A9]:"fire-rc-compat",[C9]:"fire-gcs",[E9]:"fire-gcs-compat",[T9]:"fire-fst",[R9]:"fire-fst-compat",[P9]:"fire-vertex","fire-js":"fire-js",[I9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Map,O9=new Map,mj=new Map;function wT(r,e){try{r.container.addComponent(e)}catch(t){$o.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function yd(r){const e=r.name;if(mj.has(e))return $o.debug(`There were multiple attempts to register component ${e}.`),!1;mj.set(e,r);for(const t of zb.values())wT(t,r);for(const t of O9.values())wT(t,r);return!0}function Oy(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function sn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ul=new Fg("app","Firebase",L9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ul.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=D9;function RM(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:fj,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Ul.create("bad-app-name",{appName:String(a)});if(t||(t=AM()),!t)throw Ul.create("no-options");const i=zb.get(a);if(i){if(Ho(t,i.options)&&Ho(s,i.config))return i;throw Ul.create("duplicate-app",{appName:a})}const o=new $7(a);for(const c of mj.values())o.addComponent(c);const l=new F9(t,s,o);return zb.set(a,l),l}function s2(r=fj){const e=zb.get(r);if(!e&&r===fj&&AM())return RM();if(!e)throw Ul.create("no-app",{appName:r});return e}function Bi(r,e,t){var s;let a=(s=M9[r])!==null&&s!==void 0?s:r;t&&(a+=`-${t}`);const i=a.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${a}" with version "${e}":`];i&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$o.warn(l.join(" "));return}yd(new ql(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9="firebase-heartbeat-database",z9=1,sg="firebase-heartbeat-store";let U1=null;function IM(){return U1||(U1=r9(U9,z9,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(sg)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ul.create("idb-open",{originalErrorMessage:r.message})})),U1}async function B9(r){try{const t=(await IM()).transaction(sg),s=await t.objectStore(sg).get(DM(r));return await t.done,s}catch(e){if(e instanceof ao)$o.warn(e.message);else{const t=Ul.create("idb-get",{originalErrorMessage:e?.message});$o.warn(t.message)}}}async function NT(r,e){try{const s=(await IM()).transaction(sg,"readwrite");await s.objectStore(sg).put(e,DM(r)),await s.done}catch(t){if(t instanceof ao)$o.warn(t.message);else{const s=Ul.create("idb-set",{originalErrorMessage:t?.message});$o.warn(s.message)}}}function DM(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=1024,H9=30;class $9{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new W9(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>H9){const o=Y9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$o.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jT(),{heartbeatsToSend:s,unsentEntries:a}=q9(this._heartbeatsCache.heartbeats),i=Ub(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return $o.warn(t),""}}}function jT(){return new Date().toISOString().substring(0,10)}function q9(r,e=V9){const t=[];let s=r.slice();for(const a of r){const i=t.find(o=>o.agent===a.agent);if(i){if(i.dates.push(a.date),kT(t)>e){i.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),kT(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class W9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R7()?I7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await B9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return NT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return NT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function kT(r){return Ub(JSON.stringify({version:2,heartbeats:r})).length}function Y9(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(r){yd(new ql("platform-logger",e=>new i9(e),"PRIVATE")),yd(new ql("heartbeat",e=>new $9(e),"PRIVATE")),Bi(hj,vT,r),Bi(hj,vT,"esm2017"),Bi("fire-js","")}G9("");var X9="firebase",K9="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(X9,K9,"app");function r2(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t}function MM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z9=MM,OM=new Fg("auth","Firebase",MM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new e2("@firebase/auth");function Q9(r,...e){Bb.logLevel<=Ns.WARN&&Bb.warn(`Auth (${Dd}): ${r}`,...e)}function lb(r,...e){Bb.logLevel<=Ns.ERROR&&Bb.error(`Auth (${Dd}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r,...e){throw n2(r,...e)}function fi(r,...e){return n2(r,...e)}function a2(r,e,t){const s=Object.assign(Object.assign({},Z9()),{[e]:t});return new Fg("auth","Firebase",s).create(e,{appName:r.name})}function zo(r){return a2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J9(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Kn(r,"argument-error"),a2(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function n2(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return OM.create(r,...e)}function Ht(r,e,...t){if(!r)throw n2(e,...t)}function Io(r){const e="INTERNAL ASSERTION FAILED: "+r;throw lb(e),new Error(e)}function qo(r,e){r||Io(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function eH(){return ST()==="http:"||ST()==="https:"}function ST(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eH()||C7()||"connection"in navigator)?navigator.onLine:!0}function sH(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t){this.shortDelay=e,this.longDelay=t,qo(t>e,"Short delay should be less than long delay!"),this.isMobile=S7()||E7()}get(){return tH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(r,e){qo(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nH=new zg(3e4,6e4);function Qo(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function yi(r,e,t,s,a={}){return FM(r,a,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const l=Ug(Object.assign({key:r.config.apiKey},o)).slice(1),c=await r._getAdditionalHeaders();c["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode);const d=Object.assign({method:e,headers:c},i);return A7()||(d.referrerPolicy="no-referrer"),r.emulatorConfig&&oc(r.emulatorConfig.host)&&(d.credentials="include"),LM.fetch()(await UM(r,r.config.apiHost,t,l),d)})}async function FM(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},rH),e);try{const a=new oH(r),i=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ux(r,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ux(r,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ux(r,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ux(r,"user-disabled",o);const u=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw a2(r,u,d);Kn(r,u)}}catch(a){if(a instanceof ao)throw a;Kn(r,"network-request-failed",{message:String(a)})}}async function Bg(r,e,t,s,a={}){const i=await yi(r,e,t,s,a);return"mfaPendingCredential"in i&&Kn(r,"multi-factor-auth-required",{_serverResponse:i}),i}async function UM(r,e,t,s){const a=`${e}${t}?${s}`,i=r,o=i.config.emulator?i2(r.config,a):`${r.config.apiScheme}://${a}`;return aH.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function iH(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(fi(this.auth,"network-request-failed")),nH.get())})}}function Ux(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=fi(r,e,s);return a.customData._tokenResponse=t,a}function _T(r){return r!==void 0&&r.enterprise!==void 0}class lH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cH(r,e){return yi(r,"GET","/v2/recaptchaConfig",Qo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dH(r,e){return yi(r,"POST","/v1/accounts:delete",e)}async function Vb(r,e){return yi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(r,e=!1){return Bs(r).getIdToken(e)}async function uH(r,e=!1){const t=Bs(r),s=await t.getIdToken(e),a=o2(s);Ht(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,o=i?.sign_in_provider;return{claims:a,token:s,authTime:Dm(z1(a.auth_time)),issuedAtTime:Dm(z1(a.iat)),expirationTime:Dm(z1(a.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function z1(r){return Number(r)*1e3}function o2(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return lb("JWT malformed, contained fewer than 3 sections"),null;try{const a=kM(t);return a?JSON.parse(a):(lb("Failed to decode base64 JWT payload"),null)}catch(a){return lb("Caught error parsing JWT payload as JSON",a?.toString()),null}}function CT(r){const e=o2(r);return Ht(e,"internal-error"),Ht(typeof e.exp<"u","internal-error"),Ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ao&&hH(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function hH({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dm(this.lastLoginAt),this.creationTime=Dm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(r){var e;const t=r.auth,s=await r.getIdToken(),a=await vd(r,Vb(t,{idToken:s}));Ht(a?.users.length,t,"internal-error");const i=a.users[0];r._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?zM(i.providerUserInfo):[],l=gH(r.providerData,o),c=r.isAnonymous,d=!(r.email&&i.passwordHash)&&!l?.length,u=c?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new pj(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(r,f)}async function mH(r){const e=Bs(r);await Hb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gH(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function zM(r){return r.map(e=>{var{providerId:t}=e,s=r2(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pH(r,e){const t=await FM(r,{},async()=>{const s=Ug({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=r.config,o=await UM(r,a,"/v1/token",`key=${i}`),l=await r._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return r.emulatorConfig&&oc(r.emulatorConfig.host)&&(c.credentials="include"),LM.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xH(r,e){return yi(r,"POST","/v2/accounts:revokeToken",Qo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ht(e.idToken,"internal-error"),Ht(typeof e.idToken<"u","internal-error"),Ht(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ht(e.length!==0,"internal-error");const t=CT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:i}=await pH(e,t);this.updateTokensAndExpiration(s,a,Number(i))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:i}=t,o=new Ku;return s&&(Ht(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),a&&(Ht(typeof a=="string","internal-error",{appName:e}),o.accessToken=a),i&&(Ht(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ku,this.toJSON())}_performRefresh(){return Io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(r,e){Ht(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ci{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,i=r2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pj(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await vd(this,this.stsTokenManager.getToken(this.auth,e));return Ht(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uH(this,e)}reload(){return mH(this)}_assign(e){this!==e&&(Ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Hb(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(zo(this.auth));const e=await this.getIdToken();return await vd(this,dH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,i,o,l,c,d,u;const f=(s=t.displayName)!==null&&s!==void 0?s:void 0,m=(a=t.email)!==null&&a!==void 0?a:void 0,p=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=t.photoURL)!==null&&o!==void 0?o:void 0,x=(l=t.tenantId)!==null&&l!==void 0?l:void 0,v=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,N=(d=t.createdAt)!==null&&d!==void 0?d:void 0,k=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:R,isAnonymous:A,providerData:D,stsTokenManager:P}=t;Ht(S&&P,e,"internal-error");const E=Ku.fromJSON(this.name,P);Ht(typeof S=="string",e,"internal-error"),_l(f,e.name),_l(m,e.name),Ht(typeof R=="boolean",e,"internal-error"),Ht(typeof A=="boolean",e,"internal-error"),_l(p,e.name),_l(y,e.name),_l(x,e.name),_l(v,e.name),_l(N,e.name),_l(k,e.name);const I=new ci({uid:S,auth:e,email:m,emailVerified:R,displayName:f,isAnonymous:A,photoURL:y,phoneNumber:p,tenantId:x,stsTokenManager:E,createdAt:N,lastLoginAt:k});return D&&Array.isArray(D)&&(I.providerData=D.map(M=>Object.assign({},M))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,t,s=!1){const a=new Ku;a.updateFromServerResponse(t);const i=new ci({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Hb(i),i}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Ht(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?zM(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!i?.length,l=new Ku;l.updateFromIdToken(s);const c=new ci({uid:a.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new pj(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!i?.length};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;function Do(r){qo(r instanceof Function,"Expected a class definition");let e=ET.get(r);return e?(qo(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ET.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}BM.type="NONE";const TT=BM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r,e,t){return`firebase:${r}:${e}:${t}`}class Zu{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:i}=this.auth;this.fullUserKey=cb(this.userKey,a.apiKey,i),this.fullPersistenceKey=cb("persistence",a.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Vb(this.auth,{idToken:e}).catch(()=>{});return t?ci._fromGetAccountInfoResponse(this.auth,t,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Zu(Do(TT),e,s);const a=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=a[0]||Do(TT);const o=cb(s,e.config.apiKey,e.name);let l=null;for(const d of t)try{const u=await d._get(o);if(u){let f;if(typeof u=="string"){const m=await Vb(e,{idToken:u}).catch(()=>{});if(!m)break;f=await ci._fromGetAccountInfoResponse(e,m,u)}else f=ci._fromJSON(e,u);d!==i&&(l=f),i=d;break}}catch{}const c=a.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Zu(i,e,s):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(t.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Zu(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YM(e))return"Blackberry";if(GM(e))return"Webos";if(HM(e))return"Safari";if((e.includes("chrome/")||$M(e))&&!e.includes("edge/"))return"Chrome";if(WM(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function VM(r=Ma()){return/firefox\//i.test(r)}function HM(r=Ma()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $M(r=Ma()){return/crios\//i.test(r)}function qM(r=Ma()){return/iemobile/i.test(r)}function WM(r=Ma()){return/android/i.test(r)}function YM(r=Ma()){return/blackberry/i.test(r)}function GM(r=Ma()){return/webos/i.test(r)}function l2(r=Ma()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bH(r=Ma()){var e;return l2(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yH(){return T7()&&document.documentMode===10}function XM(r=Ma()){return l2(r)||WM(r)||GM(r)||YM(r)||/windows phone/i.test(r)||qM(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(r,e=[]){let t;switch(r){case"Browser":t=PT(Ma());break;case"Worker":t=`${PT(Ma())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Dd}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wH(r,e={}){return yi(r,"GET","/v2/passwordPolicy",Qo(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=6;class jH{constructor(e){var t,s,a,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:NH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsLowercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RT(this),this.idTokenSubscription=new RT(this),this.beforeStateQueue=new vH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Do(t)),this._initializationPromise=this.queue(async()=>{var s,a,i;if(!this._deleted&&(this.persistenceManager=await Zu.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vb(this,{idToken:e}),s=await ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(sn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=a?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(a=c.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(o){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hb(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sn(this.app))return Promise.reject(zo(this));const t=e?Bs(e):null;return t&&Ht(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sn(this.app)?Promise.reject(zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Do(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wH(this),t=new jH(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fg("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await xH(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Do(e)||this._popupRedirectResolver;Ht(t,this,"argument-error"),this.redirectPersistenceManager=await Zu.create(this,[Do(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,s,a);return()=>{o=!0,c()}}else{const c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Q9(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Jo(r){return Bs(r)}class RT{constructor(e){this.auth=e,this.observer=null,this.addObserver=F7(t=>this.observer=t)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SH(r){Ly=r}function ZM(r){return Ly.loadJS(r)}function _H(){return Ly.recaptchaEnterpriseScript}function AH(){return Ly.gapiScript}function CH(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class EH{constructor(){this.enterprise=new TH}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class TH{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const PH="recaptcha-enterprise",QM="NO_RECAPTCHA";class RH{constructor(e){this.type=PH,this.auth=Jo(e)}async verify(e="verify",t=!1){async function s(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{cH(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new lH(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function a(i,o,l){const c=window.grecaptcha;_T(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(QM)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EH().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(l=>{if(!t&&_T(window.grecaptcha))a(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=_H();c.length!==0&&(c+=l),ZM(c).then(()=>{a(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function IT(r,e,t,s=!1,a=!1){const i=new RH(r);let o;if(a)o=QM;else try{o=await i.verify(t)}catch{o=await i.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function $b(r,e,t,s,a){var i;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await IT(r,e,t,t==="getOobCode");return s(r,o)}else return s(r,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await IT(r,e,t,t==="getOobCode");return s(r,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(r,e){const t=Oy(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),i=t.getOptions();if(Ho(i,e??{}))return a;Kn(a,"already-initialized")}return t.initialize({options:e})}function DH(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Do);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function MH(r,e,t){const s=Jo(r);Ht(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,i=JM(e),{host:o,port:l}=OH(e),c=l===null?"":`:${l}`,d={url:`${i}//${o}${c}/`},u=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ht(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ht(Ho(d,s.config.emulator)&&Ho(u,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=u,s.settings.appVerificationDisabledForTesting=!0,oc(o)?(Qk(`${i}//${o}${c}`),Jk("Auth",!0)):LH()}function JM(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function OH(r){const e=JM(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const i=a[1];return{host:i,port:DT(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:DT(o)}}}function DT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function LH(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Io("not implemented")}_getIdTokenResponse(e){return Io("not implemented")}_linkToIdToken(e,t){return Io("not implemented")}_getReauthenticationResolver(e){return Io("not implemented")}}async function FH(r,e){return yi(r,"POST","/v1/accounts:update",e)}async function UH(r,e){return yi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zH(r,e){return Bg(r,"POST","/v1/accounts:signInWithPassword",Qo(r,e))}async function eO(r,e){return yi(r,"POST","/v1/accounts:sendOobCode",Qo(r,e))}async function BH(r,e){return eO(r,e)}async function VH(r,e){return eO(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HH(r,e){return Bg(r,"POST","/v1/accounts:signInWithEmailLink",Qo(r,e))}async function $H(r,e){return Bg(r,"POST","/v1/accounts:signInWithEmailLink",Qo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends c2{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new rg(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new rg(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $b(e,t,"signInWithPassword",zH);case"emailLink":return HH(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $b(e,s,"signUpPassword",UH);case"emailLink":return $H(e,{idToken:t,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(r,e){return Bg(r,"POST","/v1/accounts:signInWithIdp",Qo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH="http://localhost";class Wo extends c2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,i=r2(t,["providerId","signInMethod"]);if(!s||!a)return null;const o=new Wo(s,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Qu(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Qu(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qu(e,t)}buildRequest(){const e={requestUri:qH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ug(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YH(r){const e=jm(km(r)).link,t=e?jm(km(e)).deep_link_id:null,s=jm(km(r)).deep_link_id;return(s?jm(km(s)).link:null)||s||t||e||r}class d2{constructor(e){var t,s,a,i,o,l;const c=jm(km(e)),d=(t=c.apiKey)!==null&&t!==void 0?t:null,u=(s=c.oobCode)!==null&&s!==void 0?s:null,f=WH((a=c.mode)!==null&&a!==void 0?a:null);Ht(d&&u&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=YH(e);try{return new d2(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.providerId=lc.PROVIDER_ID}static credential(e,t){return rg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=d2.parseLink(t);return Ht(s,"argument-error"),rg._fromEmailAndCode(e,s.code,s.tenantId)}}lc.PROVIDER_ID="password";lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends u2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ju extends Ah{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Ht("providerId"in t&&"signInMethod"in t,"argument-error"),Wo._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ht(e.idToken||e.accessToken,"argument-error"),Wo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ju.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ju.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:i,nonce:o,providerId:l}=e;if(!s&&!a&&!t&&!i||!l)return null;try{return new Ju(l)._credential({idToken:t,accessToken:s,nonce:o,pendingToken:i})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Ah{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wo._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return zi.credential(t,s)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Ah{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:Cl.PROVIDER_ID,signInMethod:Cl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cl.credentialFromTaggedObject(e)}static credentialFromError(e){return Cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cl.credential(e.oauthAccessToken)}catch{return null}}}Cl.GITHUB_SIGN_IN_METHOD="github.com";Cl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Ah{constructor(){super("twitter.com")}static credential(e,t){return Wo._fromParams({providerId:El.PROVIDER_ID,signInMethod:El.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return El.credentialFromTaggedObject(e)}static credentialFromError(e){return El.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return El.credential(t,s)}catch{return null}}}El.TWITTER_SIGN_IN_METHOD="twitter.com";El.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GH(r,e){return Bg(r,"POST","/v1/accounts:signUp",Qo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const i=await ci._fromIdTokenResponse(e,s,a),o=MT(s);return new wd({user:i,providerId:o,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=MT(s);return new wd({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function MT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb extends ao{constructor(e,t,s,a){var i;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,qb.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new qb(e,t,s,a)}}function tO(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?qb._fromErrorAndOperation(r,i,e,s):i})}async function XH(r,e,t=!1){const s=await vd(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return wd._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(r,e,t=!1){const{auth:s}=r;if(sn(s.app))return Promise.reject(zo(s));const a="reauthenticate";try{const i=await vd(r,tO(s,a,e,r),t);Ht(i.idToken,s,"internal-error");const o=o2(i.idToken);Ht(o,s,"internal-error");const{sub:l}=o;return Ht(r.uid===l,s,"user-mismatch"),wd._forOperation(r,a,i)}catch(i){throw i?.code==="auth/user-not-found"&&Kn(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(r,e,t=!1){if(sn(r.app))return Promise.reject(zo(r));const s="signIn",a=await tO(r,s,e),i=await wd._fromIdTokenResponse(r,s,a);return t||await r._updateCurrentUser(i.user),i}async function KH(r,e){return rO(Jo(r),e)}async function aO(r,e){return sO(Bs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(r){const e=Jo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZH(r,e,t){const s=Jo(r);await $b(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",VH)}async function Wb(r,e,t){if(sn(r.app))return Promise.reject(zo(r));const s=Jo(r),o=await $b(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GH).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&nO(r),c}),l=await wd._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function QH(r,e,t){return sn(r.app)?Promise.reject(zo(r)):KH(Bs(r),lc.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&nO(r),s})}async function JH(r,e){const t=Bs(r),a={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:i}=await BH(t.auth,a);i!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e$(r,e){return yi(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Bs(r),i={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await vd(s,e$(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function t$(r,e){return s$(Bs(r),null,e)}async function s$(r,e,t){const{auth:s}=r,i={idToken:await r.getIdToken(),returnSecureToken:!0};t&&(i.password=t);const o=await vd(r,FH(s,i));await r._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(r,e){return Bs(r).setPersistence(e)}function r$(r,e,t,s){return Bs(r).onIdTokenChanged(e,t,s)}function a$(r,e,t){return Bs(r).beforeAuthStateChanged(e,t)}function eo(r,e,t,s){return Bs(r).onAuthStateChanged(e,t,s)}async function n$(r){return Bs(r).delete()}const Yb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yb,"1"),this.storage.removeItem(Yb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=1e3,o$=10;class lO extends oO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(s);!t&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);yH()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,o$):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},i$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lO.type="LOCAL";const cO=lO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO extends oO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dO.type="SESSION";const h2=dO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Fy(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:i}=t.data,o=this.handlersMap[a];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const l=Array.from(o).map(async d=>d(t.origin,i)),c=await l$(l);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=f2("",20);a.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:a,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function d$(r){Vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function u$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h$(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function f$(){return uO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="firebaseLocalStorageDb",m$=1,Gb="firebaseLocalStorage",fO="fbase_key";class Vg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uy(r,e){return r.transaction([Gb],e?"readwrite":"readonly").objectStore(Gb)}function g$(){const r=indexedDB.deleteDatabase(hO);return new Vg(r).toPromise()}function xj(){const r=indexedDB.open(hO,m$);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Gb,{keyPath:fO})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Gb)?e(s):(s.close(),await g$(),e(await xj()))})})}async function OT(r,e,t){const s=Uy(r,!0).put({[fO]:e,value:t});return new Vg(s).toPromise()}async function p$(r,e){const t=Uy(r,!1).get(e),s=await new Vg(t).toPromise();return s===void 0?null:s.value}function LT(r,e){const t=Uy(r,!0).delete(e);return new Vg(t).toPromise()}const x$=800,b$=3;class mO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xj(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>b$)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fy._getInstance(f$()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await u$(),!this.activeServiceWorker)return;this.sender=new c$(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xj();return await OT(e,Yb,"1"),await LT(e,Yb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>OT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>p$(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>LT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=Uy(a,!1).getAll();return new Vg(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mO.type="LOCAL";const y$=mO;new zg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(r,e){return e?Do(e):(Ht(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2 extends c2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function v$(r){return rO(r.auth,new m2(r),r.bypassAuthState)}function w$(r){const{auth:e,user:t}=r;return Ht(t,e,"internal-error"),sO(t,new m2(r),r.bypassAuthState)}async function N$(r){const{auth:e,user:t}=r;return Ht(t,e,"internal-error"),XH(t,new m2(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t,s,a,i=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:t,sessionId:s,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v$;case"linkViaPopup":case"linkViaRedirect":return N$;case"reauthViaPopup":case"reauthViaRedirect":return w$;default:Kn(this.auth,"internal-error")}}resolve(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=new zg(2e3,1e4);async function db(r,e,t){if(sn(r.app))return Promise.reject(fi(r,"operation-not-supported-in-this-environment"));const s=Jo(r);J9(r,e,u2);const a=gO(s,t);return new td(s,"signInViaPopup",e,a).executeNotNull()}class td extends pO{constructor(e,t,s,a,i){super(e,t,a,i),this.provider=s,this.authWindow=null,this.pollId=null,td.currentPopupAction&&td.currentPopupAction.cancel(),td.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ht(e,this.auth,"internal-error"),e}async onExecution(){qo(this.filter.length===1,"Popup operations only handle one event");const e=f2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,td.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j$.get())};e()}}td.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="pendingRedirect",ub=new Map;class S$ extends pO{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ub.get(this.auth._key());if(!e){try{const s=await _$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ub.set(this.auth._key(),e)}return this.bypassAuthState||ub.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _$(r,e){const t=E$(e),s=C$(r);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function A$(r,e){ub.set(r._key(),e)}function C$(r){return Do(r._redirectPersistence)}function E$(r){return cb(k$,r.config.apiKey,r.name)}async function T$(r,e,t=!1){if(sn(r.app))return Promise.reject(zo(r));const s=Jo(r),a=gO(s,e),o=await new S$(s,a,t).execute();return o&&!t&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=600*1e3;class R${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!xO(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(fi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=P$&&this.cachedEventUids.clear(),this.cachedEventUids.has(FT(e))}saveEventToCache(e){this.cachedEventUids.add(FT(e)),this.lastProcessedEventTime=Date.now()}}function FT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function xO({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function I$(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xO(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(r,e={}){return yi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O$=/^https?/;async function L$(r){if(r.config.emulator)return;const{authorizedDomains:e}=await D$(r);for(const t of e)try{if(F$(t))return}catch{}Kn(r,"unauthorized-domain")}function F$(r){const e=gj(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const o=new URL(r);return o.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===s}if(!O$.test(t))return!1;if(M$.test(r))return s===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=new zg(3e4,6e4);function UT(){const r=Vi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function z$(r){return new Promise((e,t)=>{var s,a,i;function o(){UT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UT(),t(fi(r,"network-request-failed"))},timeout:U$.get()})}if(!((a=(s=Vi().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((i=Vi().gapi)===null||i===void 0)&&i.load)o();else{const l=CH("iframefcb");return Vi()[l]=()=>{gapi.load?o():t(fi(r,"network-request-failed"))},ZM(`${AH()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw hb=null,e})}let hb=null;function B$(r){return hb=hb||z$(r),hb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=new zg(5e3,15e3),H$="__/auth/iframe",$$="emulator/auth/iframe",q$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y$(r){const e=r.config;Ht(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?i2(e,$$):`https://${r.config.authDomain}/${H$}`,s={apiKey:e.apiKey,appName:r.name,v:Dd},a=W$.get(r.config.apiHost);a&&(s.eid=a);const i=r._getFrameworks();return i.length&&(s.fw=i.join(",")),`${t}?${Ug(s).slice(1)}`}async function G$(r){const e=await B$(r),t=Vi().gapi;return Ht(t,r,"internal-error"),e.open({where:document.body,url:Y$(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q$,dontclear:!0},s=>new Promise(async(a,i)=>{await s.restyle({setHideOnLeave:!1});const o=fi(r,"network-request-failed"),l=Vi().setTimeout(()=>{i(o)},V$.get());function c(){Vi().clearTimeout(l),a(s)}s.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K$=500,Z$=600,Q$="_blank",J$="http://localhost";class zT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eq(r,e,t,s=K$,a=Z$){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},X$),{width:s.toString(),height:a.toString(),top:i,left:o}),d=Ma().toLowerCase();t&&(l=$M(d)?Q$:t),VM(d)&&(e=e||J$,c.scrollbars="yes");const u=Object.entries(c).reduce((m,[p,y])=>`${m}${p}=${y},`,"");if(bH(d)&&l!=="_self")return tq(e||"",l),new zT(null);const f=window.open(e||"",l,u);Ht(f,r,"popup-blocked");try{f.focus()}catch{}return new zT(f)}function tq(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq="__/auth/handler",rq="emulator/auth/handler",aq=encodeURIComponent("fac");async function BT(r,e,t,s,a,i){Ht(r.config.authDomain,r,"auth-domain-config-required"),Ht(r.config.apiKey,r,"invalid-api-key");const o={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Dd,eventId:a};if(e instanceof u2){e.setDefaultLanguage(r.languageCode),o.providerId=e.providerId||"",L7(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof Ah){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}r.tenantId&&(o.tid=r.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await r._getAppCheckToken(),d=c?`#${aq}=${encodeURIComponent(c)}`:"";return`${nq(r)}?${Ug(l).slice(1)}${d}`}function nq({config:r}){return r.emulator?i2(r,rq):`https://${r.authDomain}/${sq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="webStorageSupport";class iq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h2,this._completeRedirectFn=T$,this._overrideRedirectResult=A$}async _openPopup(e,t,s,a){var i;qo((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await BT(e,t,s,gj(),a);return eq(e,o,f2())}async _openRedirect(e,t,s,a){await this._originValidation(e);const i=await BT(e,t,s,gj(),a);return d$(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:i}=this.eventManagers[t];return a?Promise.resolve(a):(qo(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await G$(e),s=new R$(e);return t.register("authEvent",a=>(Ht(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(B1,{type:B1},a=>{var i;const o=(i=a?.[0])===null||i===void 0?void 0:i[B1];o!==void 0&&t(!!o),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=L$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return XM()||HM()||l2()}}const oq=iq;var VT="@firebase/auth",HT="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dq(r){yd(new ql("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Ht(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KM(r)},d=new kH(s,a,i,c);return DH(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),yd(new ql("auth-internal",e=>{const t=Jo(e.getProvider("auth").getImmediate());return(s=>new lq(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(VT,HT,cq(r)),Bi(VT,HT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=300,hq=CM("authIdTokenMaxAge")||uq;let $T=null;const fq=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>hq)return;const a=t?.token;$T!==a&&($T=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Hg(r=s2()){const e=Oy(r,"auth");if(e.isInitialized())return e.getImmediate();const t=IH(r,{popupRedirectResolver:oq,persistence:[y$,cO,h2]}),s=CM("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=fq(i.toString());a$(t,o,()=>o(t.currentUser)),r$(t,l=>o(l))}}const a=SM("auth");return a&&MH(t,`http://${a}`),t}function mq(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}SH({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{const i=fi("internal-error");i.customData=a,t(i)},s.type="text/javascript",s.charset="UTF-8",mq().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dq("Browser");var qT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zl,bO;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,E){function I(){}I.prototype=E.prototype,P.D=E.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(M,L,z){for(var F=Array(arguments.length-2),V=2;V<arguments.length;V++)F[V-2]=arguments[V];return E.prototype[L].apply(M,F)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,E,I){I||(I=0);var M=Array(16);if(typeof E=="string")for(var L=0;16>L;++L)M[L]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(L=0;16>L;++L)M[L]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=P.g[0],I=P.g[1],L=P.g[2];var z=P.g[3],F=E+(z^I&(L^z))+M[0]+3614090360&4294967295;E=I+(F<<7&4294967295|F>>>25),F=z+(L^E&(I^L))+M[1]+3905402710&4294967295,z=E+(F<<12&4294967295|F>>>20),F=L+(I^z&(E^I))+M[2]+606105819&4294967295,L=z+(F<<17&4294967295|F>>>15),F=I+(E^L&(z^E))+M[3]+3250441966&4294967295,I=L+(F<<22&4294967295|F>>>10),F=E+(z^I&(L^z))+M[4]+4118548399&4294967295,E=I+(F<<7&4294967295|F>>>25),F=z+(L^E&(I^L))+M[5]+1200080426&4294967295,z=E+(F<<12&4294967295|F>>>20),F=L+(I^z&(E^I))+M[6]+2821735955&4294967295,L=z+(F<<17&4294967295|F>>>15),F=I+(E^L&(z^E))+M[7]+4249261313&4294967295,I=L+(F<<22&4294967295|F>>>10),F=E+(z^I&(L^z))+M[8]+1770035416&4294967295,E=I+(F<<7&4294967295|F>>>25),F=z+(L^E&(I^L))+M[9]+2336552879&4294967295,z=E+(F<<12&4294967295|F>>>20),F=L+(I^z&(E^I))+M[10]+4294925233&4294967295,L=z+(F<<17&4294967295|F>>>15),F=I+(E^L&(z^E))+M[11]+2304563134&4294967295,I=L+(F<<22&4294967295|F>>>10),F=E+(z^I&(L^z))+M[12]+1804603682&4294967295,E=I+(F<<7&4294967295|F>>>25),F=z+(L^E&(I^L))+M[13]+4254626195&4294967295,z=E+(F<<12&4294967295|F>>>20),F=L+(I^z&(E^I))+M[14]+2792965006&4294967295,L=z+(F<<17&4294967295|F>>>15),F=I+(E^L&(z^E))+M[15]+1236535329&4294967295,I=L+(F<<22&4294967295|F>>>10),F=E+(L^z&(I^L))+M[1]+4129170786&4294967295,E=I+(F<<5&4294967295|F>>>27),F=z+(I^L&(E^I))+M[6]+3225465664&4294967295,z=E+(F<<9&4294967295|F>>>23),F=L+(E^I&(z^E))+M[11]+643717713&4294967295,L=z+(F<<14&4294967295|F>>>18),F=I+(z^E&(L^z))+M[0]+3921069994&4294967295,I=L+(F<<20&4294967295|F>>>12),F=E+(L^z&(I^L))+M[5]+3593408605&4294967295,E=I+(F<<5&4294967295|F>>>27),F=z+(I^L&(E^I))+M[10]+38016083&4294967295,z=E+(F<<9&4294967295|F>>>23),F=L+(E^I&(z^E))+M[15]+3634488961&4294967295,L=z+(F<<14&4294967295|F>>>18),F=I+(z^E&(L^z))+M[4]+3889429448&4294967295,I=L+(F<<20&4294967295|F>>>12),F=E+(L^z&(I^L))+M[9]+568446438&4294967295,E=I+(F<<5&4294967295|F>>>27),F=z+(I^L&(E^I))+M[14]+3275163606&4294967295,z=E+(F<<9&4294967295|F>>>23),F=L+(E^I&(z^E))+M[3]+4107603335&4294967295,L=z+(F<<14&4294967295|F>>>18),F=I+(z^E&(L^z))+M[8]+1163531501&4294967295,I=L+(F<<20&4294967295|F>>>12),F=E+(L^z&(I^L))+M[13]+2850285829&4294967295,E=I+(F<<5&4294967295|F>>>27),F=z+(I^L&(E^I))+M[2]+4243563512&4294967295,z=E+(F<<9&4294967295|F>>>23),F=L+(E^I&(z^E))+M[7]+1735328473&4294967295,L=z+(F<<14&4294967295|F>>>18),F=I+(z^E&(L^z))+M[12]+2368359562&4294967295,I=L+(F<<20&4294967295|F>>>12),F=E+(I^L^z)+M[5]+4294588738&4294967295,E=I+(F<<4&4294967295|F>>>28),F=z+(E^I^L)+M[8]+2272392833&4294967295,z=E+(F<<11&4294967295|F>>>21),F=L+(z^E^I)+M[11]+1839030562&4294967295,L=z+(F<<16&4294967295|F>>>16),F=I+(L^z^E)+M[14]+4259657740&4294967295,I=L+(F<<23&4294967295|F>>>9),F=E+(I^L^z)+M[1]+2763975236&4294967295,E=I+(F<<4&4294967295|F>>>28),F=z+(E^I^L)+M[4]+1272893353&4294967295,z=E+(F<<11&4294967295|F>>>21),F=L+(z^E^I)+M[7]+4139469664&4294967295,L=z+(F<<16&4294967295|F>>>16),F=I+(L^z^E)+M[10]+3200236656&4294967295,I=L+(F<<23&4294967295|F>>>9),F=E+(I^L^z)+M[13]+681279174&4294967295,E=I+(F<<4&4294967295|F>>>28),F=z+(E^I^L)+M[0]+3936430074&4294967295,z=E+(F<<11&4294967295|F>>>21),F=L+(z^E^I)+M[3]+3572445317&4294967295,L=z+(F<<16&4294967295|F>>>16),F=I+(L^z^E)+M[6]+76029189&4294967295,I=L+(F<<23&4294967295|F>>>9),F=E+(I^L^z)+M[9]+3654602809&4294967295,E=I+(F<<4&4294967295|F>>>28),F=z+(E^I^L)+M[12]+3873151461&4294967295,z=E+(F<<11&4294967295|F>>>21),F=L+(z^E^I)+M[15]+530742520&4294967295,L=z+(F<<16&4294967295|F>>>16),F=I+(L^z^E)+M[2]+3299628645&4294967295,I=L+(F<<23&4294967295|F>>>9),F=E+(L^(I|~z))+M[0]+4096336452&4294967295,E=I+(F<<6&4294967295|F>>>26),F=z+(I^(E|~L))+M[7]+1126891415&4294967295,z=E+(F<<10&4294967295|F>>>22),F=L+(E^(z|~I))+M[14]+2878612391&4294967295,L=z+(F<<15&4294967295|F>>>17),F=I+(z^(L|~E))+M[5]+4237533241&4294967295,I=L+(F<<21&4294967295|F>>>11),F=E+(L^(I|~z))+M[12]+1700485571&4294967295,E=I+(F<<6&4294967295|F>>>26),F=z+(I^(E|~L))+M[3]+2399980690&4294967295,z=E+(F<<10&4294967295|F>>>22),F=L+(E^(z|~I))+M[10]+4293915773&4294967295,L=z+(F<<15&4294967295|F>>>17),F=I+(z^(L|~E))+M[1]+2240044497&4294967295,I=L+(F<<21&4294967295|F>>>11),F=E+(L^(I|~z))+M[8]+1873313359&4294967295,E=I+(F<<6&4294967295|F>>>26),F=z+(I^(E|~L))+M[15]+4264355552&4294967295,z=E+(F<<10&4294967295|F>>>22),F=L+(E^(z|~I))+M[6]+2734768916&4294967295,L=z+(F<<15&4294967295|F>>>17),F=I+(z^(L|~E))+M[13]+1309151649&4294967295,I=L+(F<<21&4294967295|F>>>11),F=E+(L^(I|~z))+M[4]+4149444226&4294967295,E=I+(F<<6&4294967295|F>>>26),F=z+(I^(E|~L))+M[11]+3174756917&4294967295,z=E+(F<<10&4294967295|F>>>22),F=L+(E^(z|~I))+M[2]+718787259&4294967295,L=z+(F<<15&4294967295|F>>>17),F=I+(z^(L|~E))+M[9]+3951481745&4294967295,P.g[0]=P.g[0]+E&4294967295,P.g[1]=P.g[1]+(L+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+z&4294967295}s.prototype.u=function(P,E){E===void 0&&(E=P.length);for(var I=E-this.blockSize,M=this.B,L=this.h,z=0;z<E;){if(L==0)for(;z<=I;)a(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<E;)if(M[L++]=P.charCodeAt(z++),L==this.blockSize){a(this,M),L=0;break}}else for(;z<E;)if(M[L++]=P[z++],L==this.blockSize){a(this,M),L=0;break}}this.h=L,this.o+=E},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var E=1;E<P.length-8;++E)P[E]=0;var I=8*this.o;for(E=P.length-8;E<P.length;++E)P[E]=I&255,I/=256;for(this.u(P),P=Array(16),E=I=0;4>E;++E)for(var M=0;32>M;M+=8)P[I++]=this.g[E]>>>M&255;return P};function i(P,E){var I=l;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=E(P)}function o(P,E){this.h=E;for(var I=[],M=!0,L=P.length-1;0<=L;L--){var z=P[L]|0;M&&z==E||(I[L]=z,M=!1)}this.g=I}var l={};function c(P){return-128<=P&&128>P?i(P,function(E){return new o([E|0],0>E?-1:0)}):new o([P|0],0>P?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return f;if(0>P)return v(d(-P));for(var E=[],I=1,M=0;P>=I;M++)E[M]=P/I|0,I*=4294967296;return new o(E,0)}function u(P,E){if(P.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(P.charAt(0)=="-")return v(u(P.substring(1),E));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(E,8)),M=f,L=0;L<P.length;L+=8){var z=Math.min(8,P.length-L),F=parseInt(P.substring(L,L+z),E);8>z?(z=d(Math.pow(E,z)),M=M.j(z).add(d(F))):(M=M.j(I),M=M.add(d(F)))}return M}var f=c(0),m=c(1),p=c(16777216);r=o.prototype,r.m=function(){if(x(this))return-v(this).m();for(var P=0,E=1,I=0;I<this.g.length;I++){var M=this.i(I);P+=(0<=M?M:4294967296+M)*E,E*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(y(this))return"0";if(x(this))return"-"+v(this).toString(P);for(var E=d(Math.pow(P,6)),I=this,M="";;){var L=R(I,E).g;I=N(I,L.j(E));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=L,y(I))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function y(P){if(P.h!=0)return!1;for(var E=0;E<P.g.length;E++)if(P.g[E]!=0)return!1;return!0}function x(P){return P.h==-1}r.l=function(P){return P=N(this,P),x(P)?-1:y(P)?0:1};function v(P){for(var E=P.g.length,I=[],M=0;M<E;M++)I[M]=~P.g[M];return new o(I,~P.h).add(m)}r.abs=function(){return x(this)?v(this):this},r.add=function(P){for(var E=Math.max(this.g.length,P.g.length),I=[],M=0,L=0;L<=E;L++){var z=M+(this.i(L)&65535)+(P.i(L)&65535),F=(z>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);M=F>>>16,z&=65535,F&=65535,I[L]=F<<16|z}return new o(I,I[I.length-1]&-2147483648?-1:0)};function N(P,E){return P.add(v(E))}r.j=function(P){if(y(this)||y(P))return f;if(x(this))return x(P)?v(this).j(v(P)):v(v(this).j(P));if(x(P))return v(this.j(v(P)));if(0>this.l(p)&&0>P.l(p))return d(this.m()*P.m());for(var E=this.g.length+P.g.length,I=[],M=0;M<2*E;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<P.g.length;L++){var z=this.i(M)>>>16,F=this.i(M)&65535,V=P.i(L)>>>16,$=P.i(L)&65535;I[2*M+2*L]+=F*$,k(I,2*M+2*L),I[2*M+2*L+1]+=z*$,k(I,2*M+2*L+1),I[2*M+2*L+1]+=F*V,k(I,2*M+2*L+1),I[2*M+2*L+2]+=z*V,k(I,2*M+2*L+2)}for(M=0;M<E;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=E;M<2*E;M++)I[M]=0;return new o(I,0)};function k(P,E){for(;(P[E]&65535)!=P[E];)P[E+1]+=P[E]>>>16,P[E]&=65535,E++}function S(P,E){this.g=P,this.h=E}function R(P,E){if(y(E))throw Error("division by zero");if(y(P))return new S(f,f);if(x(P))return E=R(v(P),E),new S(v(E.g),v(E.h));if(x(E))return E=R(P,v(E)),new S(v(E.g),E.h);if(30<P.g.length){if(x(P)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var I=m,M=E;0>=M.l(P);)I=A(I),M=A(M);var L=D(I,1),z=D(M,1);for(M=D(M,2),I=D(I,2);!y(M);){var F=z.add(M);0>=F.l(P)&&(L=L.add(I),z=F),M=D(M,1),I=D(I,1)}return E=N(P,L.j(E)),new S(L,E)}for(L=f;0<=P.l(E);){for(I=Math.max(1,Math.floor(P.m()/E.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=d(I),F=z.j(E);x(F)||0<F.l(P);)I-=M,z=d(I),F=z.j(E);y(z)&&(z=m),L=L.add(z),P=N(P,F)}return new S(L,P)}r.A=function(P){return R(this,P).h},r.and=function(P){for(var E=Math.max(this.g.length,P.g.length),I=[],M=0;M<E;M++)I[M]=this.i(M)&P.i(M);return new o(I,this.h&P.h)},r.or=function(P){for(var E=Math.max(this.g.length,P.g.length),I=[],M=0;M<E;M++)I[M]=this.i(M)|P.i(M);return new o(I,this.h|P.h)},r.xor=function(P){for(var E=Math.max(this.g.length,P.g.length),I=[],M=0;M<E;M++)I[M]=this.i(M)^P.i(M);return new o(I,this.h^P.h)};function A(P){for(var E=P.g.length+1,I=[],M=0;M<E;M++)I[M]=P.i(M)<<1|P.i(M-1)>>>31;return new o(I,P.h)}function D(P,E){var I=E>>5;E%=32;for(var M=P.g.length-I,L=[],z=0;z<M;z++)L[z]=0<E?P.i(z+I)>>>E|P.i(z+I+1)<<32-E:P.i(z+I);return new o(L,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,bO=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=u,zl=o}).apply(typeof qT<"u"?qT:typeof self<"u"?self:typeof window<"u"?window:{});var zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yO,Sm,vO,fb,bj,wO,NO,jO;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,U,H){return _==Array.prototype||_==Object.prototype||(_[U]=H.value),_};function t(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof zx=="object"&&zx];for(var U=0;U<_.length;++U){var H=_[U];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var s=t(this);function a(_,U){if(U)e:{var H=s;_=_.split(".");for(var Z=0;Z<_.length-1;Z++){var Ne=_[Z];if(!(Ne in H))break e;H=H[Ne]}_=_[_.length-1],Z=H[_],U=U(Z),U!=Z&&U!=null&&e(H,_,{configurable:!0,writable:!0,value:U})}}function i(_,U){_ instanceof String&&(_+="");var H=0,Z=!1,Ne={next:function(){if(!Z&&H<_.length){var Fe=H++;return{value:U(Fe,_[Fe]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return Ne[Symbol.iterator]=function(){return Ne},Ne}a("Array.prototype.values",function(_){return _||function(){return i(this,function(U,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(_){var U=typeof _;return U=U!="object"?U:_?Array.isArray(_)?"array":U:"null",U=="array"||U=="object"&&typeof _.length=="number"}function d(_){var U=typeof _;return U=="object"&&_!=null||U=="function"}function u(_,U,H){return _.call.apply(_.bind,arguments)}function f(_,U,H){if(!_)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var Ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ne,Z),_.apply(U,Ne)}}return function(){return _.apply(U,arguments)}}function m(_,U,H){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,m.apply(null,arguments)}function p(_,U){var H=Array.prototype.slice.call(arguments,1);return function(){var Z=H.slice();return Z.push.apply(Z,arguments),_.apply(this,Z)}}function y(_,U){function H(){}H.prototype=U.prototype,_.aa=U.prototype,_.prototype=new H,_.prototype.constructor=_,_.Qb=function(Z,Ne,Fe){for(var gt=Array(arguments.length-2),Cs=2;Cs<arguments.length;Cs++)gt[Cs-2]=arguments[Cs];return U.prototype[Ne].apply(Z,gt)}}function x(_){const U=_.length;if(0<U){const H=Array(U);for(let Z=0;Z<U;Z++)H[Z]=_[Z];return H}return[]}function v(_,U){for(let H=1;H<arguments.length;H++){const Z=arguments[H];if(c(Z)){const Ne=_.length||0,Fe=Z.length||0;_.length=Ne+Fe;for(let gt=0;gt<Fe;gt++)_[Ne+gt]=Z[gt]}else _.push(Z)}}class N{constructor(U,H){this.i=U,this.j=H,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function k(_){return/^[\s\xa0]*$/.test(_)}function S(){var _=l.navigator;return _&&(_=_.userAgent)?_:""}function R(_){return R[" "](_),_}R[" "]=function(){};var A=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function D(_,U,H){for(const Z in _)U.call(H,_[Z],Z,_)}function P(_,U){for(const H in _)U.call(void 0,_[H],H,_)}function E(_){const U={};for(const H in _)U[H]=_[H];return U}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(_,U){let H,Z;for(let Ne=1;Ne<arguments.length;Ne++){Z=arguments[Ne];for(H in Z)_[H]=Z[H];for(let Fe=0;Fe<I.length;Fe++)H=I[Fe],Object.prototype.hasOwnProperty.call(Z,H)&&(_[H]=Z[H])}}function L(_){var U=1;_=_.split(":");const H=[];for(;0<U&&_.length;)H.push(_.shift()),U--;return _.length&&H.push(_.join(":")),H}function z(_){l.setTimeout(()=>{throw _},0)}function F(){var _=W;let U=null;return _.g&&(U=_.g,_.g=_.g.next,_.g||(_.h=null),U.next=null),U}class V{constructor(){this.h=this.g=null}add(U,H){const Z=$.get();Z.set(U,H),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var $=new N(()=>new Y,_=>_.reset());class Y{constructor(){this.next=this.g=this.h=null}set(U,H){this.h=U,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ee=!1,W=new V,B=()=>{const _=l.Promise.resolve(void 0);X=()=>{_.then(G)}};var G=()=>{for(var _;_=F();){try{_.h.call(_.g)}catch(H){z(H)}var U=$;U.j(_),100>U.h&&(U.h++,_.next=U.g,U.g=_)}ee=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(_,U){this.type=_,this.g=this.target=U,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ie=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _=!1,U=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const H=()=>{};l.addEventListener("test",H,U),l.removeEventListener("test",H,U)}catch{}return _})();function he(_,U){if(re.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var H=this.type=_.type,Z=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=U,U=_.relatedTarget){if(A){e:{try{R(U.nodeName);var Ne=!0;break e}catch{}Ne=!1}Ne||(U=null)}}else H=="mouseover"?U=_.fromElement:H=="mouseout"&&(U=_.toElement);this.relatedTarget=U,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:le[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&he.aa.h.call(this)}}y(he,re);var le={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Be(_,U,H,Z,Ne){this.listener=_,this.proxy=null,this.src=U,this.type=H,this.capture=!!Z,this.ha=Ne,this.key=++Oe,this.da=this.fa=!1}function de(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Ye(_){this.src=_,this.g={},this.h=0}Ye.prototype.add=function(_,U,H,Z,Ne){var Fe=_.toString();_=this.g[Fe],_||(_=this.g[Fe]=[],this.h++);var gt=Q(_,U,Z,Ne);return-1<gt?(U=_[gt],H||(U.fa=!1)):(U=new Be(U,this.src,Fe,!!Z,Ne),U.fa=H,_.push(U)),U};function be(_,U){var H=U.type;if(H in _.g){var Z=_.g[H],Ne=Array.prototype.indexOf.call(Z,U,void 0),Fe;(Fe=0<=Ne)&&Array.prototype.splice.call(Z,Ne,1),Fe&&(de(U),_.g[H].length==0&&(delete _.g[H],_.h--))}}function Q(_,U,H,Z){for(var Ne=0;Ne<_.length;++Ne){var Fe=_[Ne];if(!Fe.da&&Fe.listener==U&&Fe.capture==!!H&&Fe.ha==Z)return Ne}return-1}var me="closure_lm_"+(1e6*Math.random()|0),We={};function xe(_,U,H,Z,Ne){if(Array.isArray(U)){for(var Fe=0;Fe<U.length;Fe++)xe(_,U[Fe],H,Z,Ne);return null}return H=At(H),_&&_[De]?_.K(U,H,d(Z)?!!Z.capture:!1,Ne):Je(_,U,H,!1,Z,Ne)}function Je(_,U,H,Z,Ne,Fe){if(!U)throw Error("Invalid event type");var gt=d(Ne)?!!Ne.capture:!!Ne,Cs=Tt(_);if(Cs||(_[me]=Cs=new Ye(_)),H=Cs.add(U,H,Z,gt,Fe),H.proxy)return H;if(Z=ot(),H.proxy=Z,Z.src=_,Z.listener=H,_.addEventListener)ie||(Ne=gt),Ne===void 0&&(Ne=!1),_.addEventListener(U.toString(),Z,Ne);else if(_.attachEvent)_.attachEvent(et(U.toString()),Z);else if(_.addListener&&_.removeListener)_.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return H}function ot(){function _(H){return U.call(_.src,_.listener,H)}const U=Rt;return _}function lt(_,U,H,Z,Ne){if(Array.isArray(U))for(var Fe=0;Fe<U.length;Fe++)lt(_,U[Fe],H,Z,Ne);else Z=d(Z)?!!Z.capture:!!Z,H=At(H),_&&_[De]?(_=_.i,U=String(U).toString(),U in _.g&&(Fe=_.g[U],H=Q(Fe,H,Z,Ne),-1<H&&(de(Fe[H]),Array.prototype.splice.call(Fe,H,1),Fe.length==0&&(delete _.g[U],_.h--)))):_&&(_=Tt(_))&&(U=_.g[U.toString()],_=-1,U&&(_=Q(U,H,Z,Ne)),(H=-1<_?U[_]:null)&&rt(H))}function rt(_){if(typeof _!="number"&&_&&!_.da){var U=_.src;if(U&&U[De])be(U.i,_);else{var H=_.type,Z=_.proxy;U.removeEventListener?U.removeEventListener(H,Z,_.capture):U.detachEvent?U.detachEvent(et(H),Z):U.addListener&&U.removeListener&&U.removeListener(Z),(H=Tt(U))?(be(H,_),H.h==0&&(H.src=null,U[me]=null)):de(_)}}}function et(_){return _ in We?We[_]:We[_]="on"+_}function Rt(_,U){if(_.da)_=!0;else{U=new he(U,this);var H=_.listener,Z=_.ha||_.src;_.fa&&rt(_),_=H.call(Z,U)}return _}function Tt(_){return _=_[me],_ instanceof Ye?_:null}var ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(_){return typeof _=="function"?_:(_[ut]||(_[ut]=function(U){return _.handleEvent(U)}),_[ut])}function st(){te.call(this),this.i=new Ye(this),this.M=this,this.F=null}y(st,te),st.prototype[De]=!0,st.prototype.removeEventListener=function(_,U,H,Z){lt(this,_,U,H,Z)};function qe(_,U){var H,Z=_.F;if(Z)for(H=[];Z;Z=Z.F)H.push(Z);if(_=_.M,Z=U.type||U,typeof U=="string")U=new re(U,_);else if(U instanceof re)U.target=U.target||_;else{var Ne=U;U=new re(Z,_),M(U,Ne)}if(Ne=!0,H)for(var Fe=H.length-1;0<=Fe;Fe--){var gt=U.g=H[Fe];Ne=xt(gt,Z,!0,U)&&Ne}if(gt=U.g=_,Ne=xt(gt,Z,!0,U)&&Ne,Ne=xt(gt,Z,!1,U)&&Ne,H)for(Fe=0;Fe<H.length;Fe++)gt=U.g=H[Fe],Ne=xt(gt,Z,!1,U)&&Ne}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var _=this.i,U;for(U in _.g){for(var H=_.g[U],Z=0;Z<H.length;Z++)de(H[Z]);delete _.g[U],_.h--}}this.F=null},st.prototype.K=function(_,U,H,Z){return this.i.add(String(_),U,!1,H,Z)},st.prototype.L=function(_,U,H,Z){return this.i.add(String(_),U,!0,H,Z)};function xt(_,U,H,Z){if(U=_.i.g[String(U)],!U)return!0;U=U.concat();for(var Ne=!0,Fe=0;Fe<U.length;++Fe){var gt=U[Fe];if(gt&&!gt.da&&gt.capture==H){var Cs=gt.listener,Jr=gt.ha||gt.src;gt.fa&&be(_.i,gt),Ne=Cs.call(Jr,Z)!==!1&&Ne}}return Ne&&!Z.defaultPrevented}function Nt(_,U,H){if(typeof _=="function")H&&(_=m(_,H));else if(_&&typeof _.handleEvent=="function")_=m(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:l.setTimeout(_,U||0)}function _t(_){_.g=Nt(()=>{_.g=null,_.i&&(_.i=!1,_t(_))},_.l);const U=_.h;_.h=null,_.m.apply(null,U)}class jt extends te{constructor(U,H){super(),this.m=U,this.l=H,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ft(_){te.call(this),this.h=_,this.g={}}y(Ft,te);var Zt=[];function Xt(_){D(_.g,function(U,H){this.g.hasOwnProperty(H)&&rt(U)},_),_.g={}}Ft.prototype.N=function(){Ft.aa.N.call(this),Xt(this)},Ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ys=l.JSON.stringify,It=l.JSON.parse,Wt=class{stringify(_){return l.JSON.stringify(_,void 0)}parse(_){return l.JSON.parse(_,void 0)}};function sr(){}sr.prototype.h=null;function ms(_){return _.h||(_.h=_.i())}function Jt(){}var vs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ss(){re.call(this,"d")}y(ss,re);function Ms(){re.call(this,"c")}y(Ms,re);var gs={},Bt=null;function es(){return Bt=Bt||new st}gs.La="serverreachability";function pr(_){re.call(this,gs.La,_)}y(pr,re);function Vs(_){const U=es();qe(U,new pr(U))}gs.STAT_EVENT="statevent";function As(_,U){re.call(this,gs.STAT_EVENT,_),this.stat=U}y(As,re);function ws(_){const U=es();qe(U,new As(U,_))}gs.Ma="timingevent";function Us(_,U){re.call(this,gs.Ma,_),this.size=U}y(Us,re);function Os(_,U){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_()},U)}function Ls(){this.g=!0}Ls.prototype.xa=function(){this.g=!1};function _r(_,U,H,Z,Ne,Fe){_.info(function(){if(_.g)if(Fe)for(var gt="",Cs=Fe.split("&"),Jr=0;Jr<Cs.length;Jr++){var Es=Cs[Jr].split("=");if(1<Es.length){var la=Es[0];Es=Es[1];var ea=la.split("_");gt=2<=ea.length&&ea[1]=="type"?gt+(la+"="+Es+"&"):gt+(la+"=redacted&")}}else gt=null;else gt=Fe;return"XMLHTTP REQ ("+Z+") [attempt "+Ne+"]: "+U+`
`+H+`
`+gt})}function pe(_,U,H,Z,Ne,Fe,gt){_.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+Ne+"]: "+U+`
`+H+`
`+Fe+" "+gt})}function Qe(_,U,H,Z){_.info(function(){return"XMLHTTP TEXT ("+U+"): "+Lt(_,H)+(Z?" "+Z:"")})}function tt(_,U){_.info(function(){return"TIMEOUT: "+U})}Ls.prototype.info=function(){};function Lt(_,U){if(!_.g)return U;if(!U)return null;try{var H=JSON.parse(U);if(H){for(_=0;_<H.length;_++)if(Array.isArray(H[_])){var Z=H[_];if(!(2>Z.length)){var Ne=Z[1];if(Array.isArray(Ne)&&!(1>Ne.length)){var Fe=Ne[0];if(Fe!="noop"&&Fe!="stop"&&Fe!="close")for(var gt=1;gt<Ne.length;gt++)Ne[gt]=""}}}}return ys(H)}catch{return U}}var yt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ge;function Re(){}y(Re,sr),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},ge=new Re;function ct(_,U,H,Z){this.j=_,this.i=U,this.l=H,this.R=Z||1,this.U=new Ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nt}function nt(){this.i=null,this.g="",this.h=!1}var He={},ne={};function ze(_,U,H){_.L=1,_.v=gc(dn(U)),_.m=H,_.P=!0,ae(_,null)}function ae(_,U){_.F=Date.now(),ye(_),_.A=dn(_.v);var H=_.A,Z=_.R;Array.isArray(Z)||(Z=[String(Z)]),tf(H.i,"t",Z),_.C=0,H=_.j.J,_.h=new nt,_.g=Ip(_.j,H?U:null,!_.m),0<_.O&&(_.M=new jt(m(_.Y,_,_.g),_.O)),U=_.U,H=_.g,Z=_.ca;var Ne="readystatechange";Array.isArray(Ne)||(Ne&&(Zt[0]=Ne.toString()),Ne=Zt);for(var Fe=0;Fe<Ne.length;Fe++){var gt=xe(H,Ne[Fe],Z||U.handleEvent,!1,U.h||U);if(!gt)break;U.g[gt.key]=gt}U=_.H?E(_.H):{},_.m?(_.u||(_.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,U)):(_.u="GET",_.g.ea(_.A,_.u,null,U)),Vs(),_r(_.i,_.u,_.A,_.l,_.R,_.m)}ct.prototype.ca=function(_){_=_.target;const U=this.M;U&&In(_)==3?U.j():this.Y(_)},ct.prototype.Y=function(_){try{if(_==this.g)e:{const ea=In(this.g);var U=this.g.Ba();const fo=this.g.Z();if(!(3>ea)&&(ea!=3||this.g&&(this.h.h||this.g.oa()||Sp(this.g)))){this.J||ea!=4||U==7||(U==8||0>=fo?Vs(3):Vs(2)),ke(this);var H=this.g.Z();this.X=H;t:if(Ce(this)){var Z=Sp(this.g);_="";var Ne=Z.length,Fe=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){at(this),_e(this);var gt="";break t}this.h.i=new l.TextDecoder}for(U=0;U<Ne;U++)this.h.h=!0,_+=this.h.i.decode(Z[U],{stream:!(Fe&&U==Ne-1)});Z.length=0,this.h.g+=_,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=H==200,pe(this.i,this.u,this.A,this.l,this.R,ea,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Cs,Jr=this.g;if((Cs=Jr.g?Jr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Cs)){var Es=Cs;break t}}Es=null}if(H=Es)Qe(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,H);else{this.o=!1,this.s=3,ws(12),at(this),_e(this);break e}}if(this.P){H=!0;let ga;for(;!this.J&&this.C<gt.length;)if(ga=se(this,gt),ga==ne){ea==4&&(this.s=4,ws(14),H=!1),Qe(this.i,this.l,null,"[Incomplete Response]");break}else if(ga==He){this.s=4,ws(15),Qe(this.i,this.l,gt,"[Invalid Chunk]"),H=!1;break}else Qe(this.i,this.l,ga,null),it(this,ga);if(Ce(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ea!=4||gt.length!=0||this.h.h||(this.s=1,ws(16),H=!1),this.o=this.o&&H,!H)Qe(this.i,this.l,gt,"[Invalid Chunked Response]"),at(this),_e(this);else if(0<gt.length&&!this.W){this.W=!0;var la=this.j;la.g==this&&la.ba&&!la.M&&(la.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),jc(la),la.M=!0,ws(11))}}else Qe(this.i,this.l,gt,null),it(this,gt);ea==4&&at(this),this.o&&!this.J&&(ea==4?Tp(this.j,this):(this.o=!1,ye(this)))}else Mv(this.g),H==400&&0<gt.indexOf("Unknown SID")?(this.s=3,ws(12)):(this.s=0,ws(13)),at(this),_e(this)}}}catch{}finally{}};function Ce(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function se(_,U){var H=_.C,Z=U.indexOf(`
`,H);return Z==-1?ne:(H=Number(U.substring(H,Z)),isNaN(H)?He:(Z+=1,Z+H>U.length?ne:(U=U.slice(Z,Z+H),_.C=Z+H,U)))}ct.prototype.cancel=function(){this.J=!0,at(this)};function ye(_){_.S=Date.now()+_.I,Le(_,_.I)}function Le(_,U){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Os(m(_.ba,_),U)}function ke(_){_.B&&(l.clearTimeout(_.B),_.B=null)}ct.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(tt(this.i,this.A),this.L!=2&&(Vs(),ws(17)),at(this),this.s=2,_e(this)):Le(this,this.S-_)};function _e(_){_.j.G==0||_.J||Tp(_.j,_)}function at(_){ke(_);var U=_.M;U&&typeof U.ma=="function"&&U.ma(),_.M=null,Xt(_.U),_.g&&(U=_.g,_.g=null,U.abort(),U.ma())}function it(_,U){try{var H=_.j;if(H.G!=0&&(H.g==_||Kh(H.h,_))){if(!_.K&&Kh(H.h,_)&&H.G==3){try{var Z=H.Da.g.parse(U)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var Ne=Z;if(Ne[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<_.F)Qd(H),Kd(H);else break e;of(H),ws(18)}}else H.za=Ne[1],0<H.za-H.T&&37500>Ne[2]&&H.F&&H.v==0&&!H.C&&(H.C=Os(m(H.Za,H),6e3));if(1>=no(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else ho(H,11)}else if((_.K||H.g==_)&&Qd(H),!k(U))for(Ne=H.Da.g.parse(U),U=0;U<Ne.length;U++){let Es=Ne[U];if(H.T=Es[0],Es=Es[1],H.G==2)if(Es[0]=="c"){H.K=Es[1],H.ia=Es[2];const la=Es[3];la!=null&&(H.la=la,H.j.info("VER="+H.la));const ea=Es[4];ea!=null&&(H.Aa=ea,H.j.info("SVER="+H.Aa));const fo=Es[5];fo!=null&&typeof fo=="number"&&0<fo&&(Z=1.5*fo,H.L=Z,H.j.info("backChannelRequestTimeoutMs_="+Z)),Z=H;const ga=_.g;if(ga){const Ai=ga.g?ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var Fe=Z.h;Fe.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(Fe.j=Fe.l,Fe.g=new Set,Fe.h&&(Hd(Fe,Fe.h),Fe.h=null))}if(Z.D){const cf=ga.g?ga.g.getResponseHeader("X-HTTP-Session-Id"):null;cf&&(Z.ya=cf,rr(Z.I,Z.D,cf))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-_.F,H.j.info("Handshake RTT: "+H.R+"ms")),Z=H;var gt=_;if(Z.qa=Rp(Z,Z.J?Z.ia:null,Z.W),gt.K){Oa(Z.h,gt);var Cs=gt,Jr=Z.L;Jr&&(Cs.I=Jr),Cs.B&&(ke(Cs),ye(Cs)),Z.g=gt}else Cp(Z);0<H.i.length&&Zd(H)}else Es[0]!="stop"&&Es[0]!="close"||ho(H,7);else H.G==3&&(Es[0]=="stop"||Es[0]=="close"?Es[0]=="stop"?ho(H,7):af(H):Es[0]!="noop"&&H.l&&H.l.ta(Es),H.v=0)}}Vs(4)}catch{}}var hs=class{constructor(_,U){this.g=_,this.map=U}};function fr(_){this.l=_||10,l.PerformanceNavigationTiming?(_=l.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sl(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function no(_){return _.h?1:_.g?_.g.size:0}function Kh(_,U){return _.h?_.h==U:_.g?_.g.has(U):!1}function Hd(_,U){_.g?_.g.add(U):_.h=U}function Oa(_,U){_.h&&_.h==U?_.h=null:_.g&&_.g.has(U)&&_.g.delete(U)}fr.prototype.cancel=function(){if(this.i=Zh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Zh(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let U=_.i;for(const H of _.g.values())U=U.concat(H.D);return U}return x(_.i)}function Pv(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var U=[],H=_.length,Z=0;Z<H;Z++)U.push(_[Z]);return U}U=[],H=0;for(Z in _)U[H++]=_[Z];return U}function $d(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var U=[];_=_.length;for(var H=0;H<_;H++)U.push(H);return U}U=[],H=0;for(const Z in _)U[H++]=Z;return U}}}function Qh(_,U){if(_.forEach&&typeof _.forEach=="function")_.forEach(U,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,U,void 0);else for(var H=$d(_),Z=Pv(_),Ne=Z.length,Fe=0;Fe<Ne;Fe++)U.call(void 0,Z[Fe],H&&H[Fe],_)}var fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rv(_,U){if(_){_=_.split("&");for(var H=0;H<_.length;H++){var Z=_[H].indexOf("="),Ne=null;if(0<=Z){var Fe=_[H].substring(0,Z);Ne=_[H].substring(Z+1)}else Fe=_[H];U(Fe,Ne?decodeURIComponent(Ne.replace(/\+/g," ")):"")}}}function Hr(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Hr){this.h=_.h,mc(this,_.j),this.o=_.o,this.g=_.g,rl(this,_.s),this.l=_.l;var U=_.i,H=new oo;H.i=U.i,U.g&&(H.g=new Map(U.g),H.h=U.h),io(this,H),this.m=_.m}else _&&(U=String(_).match(fc))?(this.h=!1,mc(this,U[1]||"",!0),this.o=Tn(U[2]||""),this.g=Tn(U[3]||"",!0),rl(this,U[4]),this.l=Tn(U[5]||"",!0),io(this,U[6]||"",!0),this.m=Tn(U[7]||"")):(this.h=!1,this.i=new oo(null,this.h))}Hr.prototype.toString=function(){var _=[],U=this.j;U&&_.push(pc(U,Jh,!0),":");var H=this.g;return(H||U=="file")&&(_.push("//"),(U=this.o)&&_.push(pc(U,Jh,!0),"@"),_.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&_.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&_.push("/"),_.push(pc(H,H.charAt(0)=="/"?Iv:ef,!0))),(H=this.i.toString())&&_.push("?",H),(H=this.m)&&_.push("#",pc(H,qd)),_.join("")};function dn(_){return new Hr(_)}function mc(_,U,H){_.j=H?Tn(U,!0):U,_.j&&(_.j=_.j.replace(/:$/,""))}function rl(_,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);_.s=U}else _.s=null}function io(_,U,H){U instanceof oo?(_.i=U,jp(_.i,_.h)):(H||(U=pc(U,Dv)),_.i=new oo(U,_.h))}function rr(_,U,H){_.i.set(U,H)}function gc(_){return rr(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Tn(_,U){return _?U?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function pc(_,U,H){return typeof _=="string"?(_=encodeURI(_).replace(U,Np),H&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Np(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Jh=/[#\/\?@]/g,ef=/[#\?:]/g,Iv=/[#\?]/g,Dv=/[#\?@]/g,qd=/#/g;function oo(_,U){this.h=this.g=null,this.i=_||null,this.j=!!U}function Pn(_){_.g||(_.g=new Map,_.h=0,_.i&&Rv(_.i,function(U,H){_.add(decodeURIComponent(U.replace(/\+/g," ")),H)}))}r=oo.prototype,r.add=function(_,U){Pn(this),this.i=null,_=wi(this,_);var H=this.g.get(_);return H||this.g.set(_,H=[]),H.push(U),this.h+=1,this};function lo(_,U){Pn(_),U=wi(_,U),_.g.has(U)&&(_.i=null,_.h-=_.g.get(U).length,_.g.delete(U))}function co(_,U){return Pn(_),U=wi(_,U),_.g.has(U)}r.forEach=function(_,U){Pn(this),this.g.forEach(function(H,Z){H.forEach(function(Ne){_.call(U,Ne,Z,this)},this)},this)},r.na=function(){Pn(this);const _=Array.from(this.g.values()),U=Array.from(this.g.keys()),H=[];for(let Z=0;Z<U.length;Z++){const Ne=_[Z];for(let Fe=0;Fe<Ne.length;Fe++)H.push(U[Z])}return H},r.V=function(_){Pn(this);let U=[];if(typeof _=="string")co(this,_)&&(U=U.concat(this.g.get(wi(this,_))));else{_=Array.from(this.g.values());for(let H=0;H<_.length;H++)U=U.concat(_[H])}return U},r.set=function(_,U){return Pn(this),this.i=null,_=wi(this,_),co(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[U]),this.h+=1,this},r.get=function(_,U){return _?(_=this.V(_),0<_.length?String(_[0]):U):U};function tf(_,U,H){lo(_,U),0<H.length&&(_.i=null,_.g.set(wi(_,U),x(H)),_.h+=H.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],U=Array.from(this.g.keys());for(var H=0;H<U.length;H++){var Z=U[H];const Fe=encodeURIComponent(String(Z)),gt=this.V(Z);for(Z=0;Z<gt.length;Z++){var Ne=Fe;gt[Z]!==""&&(Ne+="="+encodeURIComponent(String(gt[Z]))),_.push(Ne)}}return this.i=_.join("&")};function wi(_,U){return U=String(U),_.j&&(U=U.toLowerCase()),U}function jp(_,U){U&&!_.j&&(Pn(_),_.i=null,_.g.forEach(function(H,Z){var Ne=Z.toLowerCase();Z!=Ne&&(lo(this,Z),tf(this,Ne,H))},_)),_.j=U}function xc(_,U){const H=new Ls;if(l.Image){const Z=new Image;Z.onload=p(Rn,H,"TestLoadImage: loaded",!0,U,Z),Z.onerror=p(Rn,H,"TestLoadImage: error",!1,U,Z),Z.onabort=p(Rn,H,"TestLoadImage: abort",!1,U,Z),Z.ontimeout=p(Rn,H,"TestLoadImage: timeout",!1,U,Z),l.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=_}else U(!1)}function ei(_,U){const H=new Ls,Z=new AbortController,Ne=setTimeout(()=>{Z.abort(),Rn(H,"TestPingServer: timeout",!1,U)},1e4);fetch(_,{signal:Z.signal}).then(Fe=>{clearTimeout(Ne),Fe.ok?Rn(H,"TestPingServer: ok",!0,U):Rn(H,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(Ne),Rn(H,"TestPingServer: error",!1,U)})}function Rn(_,U,H,Z,Ne){try{Ne&&(Ne.onload=null,Ne.onerror=null,Ne.onabort=null,Ne.ontimeout=null),Z(H)}catch{}}function bc(){this.g=new Wt}function Ni(_,U,H){const Z=H||"";try{Qh(_,function(Ne,Fe){let gt=Ne;d(Ne)&&(gt=ys(Ne)),U.push(Z+Fe+"="+encodeURIComponent(gt))})}catch(Ne){throw U.push(Z+"type="+encodeURIComponent("_badmap")),Ne}}function al(_){this.l=_.Ub||null,this.j=_.eb||!1}y(al,sr),al.prototype.g=function(){return new uo(this.l,this.j)},al.prototype.i=(function(_){return function(){return _}})({});function uo(_,U){st.call(this),this.D=_,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(uo,st),r=uo.prototype,r.open=function(_,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=U,this.readyState=1,ki(this)},r.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(U.body=_),(this.D||l).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},r.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sf(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function sf(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}r.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var U=_.value?_.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!_.done}))&&(this.response=this.responseText+=U)}_.done?ji(this):ki(this),this.readyState==3&&sf(this)}},r.Ra=function(_){this.g&&(this.response=this.responseText=_,ji(this))},r.Qa=function(_){this.g&&(this.response=_,ji(this))},r.ga=function(){this.g&&ji(this)};function ji(_){_.readyState=4,_.l=null,_.j=null,_.v=null,ki(_)}r.setRequestHeader=function(_,U){this.u.append(_,U)},r.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],U=this.h.entries();for(var H=U.next();!H.done;)H=H.value,_.push(H[0]+": "+H[1]),H=U.next();return _.join(`\r
`)};function ki(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function rf(_){let U="";return D(_,function(H,Z){U+=Z,U+=":",U+=H,U+=`\r
`}),U}function oa(_,U,H){e:{for(Z in H){var Z=!1;break e}Z=!0}Z||(H=rf(H),typeof _=="string"?H!=null&&encodeURIComponent(String(H)):rr(_,U,H))}function Ws(_){st.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Ws,st);var Wd=/^https?$/i,yc=["POST","PUT"];r=Ws.prototype,r.Ha=function(_){this.J=_},r.ea=function(_,U,H,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);U=U?U.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ge.g(),this.v=this.o?ms(this.o):ms(ge),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(U,String(_),!0),this.B=!1}catch(Fe){kp(this,Fe);return}if(_=H||"",H=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var Ne in Z)H.set(Ne,Z[Ne]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const Fe of Z.keys())H.set(Fe,Z.get(Fe));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(H.keys()).find(Fe=>Fe.toLowerCase()=="content-type"),Ne=l.FormData&&_ instanceof l.FormData,!(0<=Array.prototype.indexOf.call(yc,U,void 0))||Z||Ne||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Fe,gt]of H)this.g.setRequestHeader(Fe,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vc(this),this.u=!0,this.g.send(_),this.u=!1}catch(Fe){kp(this,Fe)}};function kp(_,U){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=U,_.m=5,Yd(_),Si(_)}function Yd(_){_.A||(_.A=!0,qe(_,"complete"),qe(_,"error"))}r.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,qe(this,"complete"),qe(this,"abort"),Si(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Ws.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Gd(this):this.bb())},r.bb=function(){Gd(this)};function Gd(_){if(_.h&&typeof o<"u"&&(!_.v[1]||In(_)!=4||_.Z()!=2)){if(_.u&&In(_)==4)Nt(_.Ea,0,_);else if(qe(_,"readystatechange"),In(_)==4){_.h=!1;try{const gt=_.Z();e:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var H;if(!(H=U)){var Z;if(Z=gt===0){var Ne=String(_.D).match(fc)[1]||null;!Ne&&l.self&&l.self.location&&(Ne=l.self.location.protocol.slice(0,-1)),Z=!Wd.test(Ne?Ne.toLowerCase():"")}H=Z}if(H)qe(_,"complete"),qe(_,"success");else{_.m=6;try{var Fe=2<In(_)?_.g.statusText:""}catch{Fe=""}_.l=Fe+" ["+_.Z()+"]",Yd(_)}}finally{Si(_)}}}}function Si(_,U){if(_.g){vc(_);const H=_.g,Z=_.v[0]?()=>{}:null;_.g=null,_.v=null,U||qe(_,"ready");try{H.onreadystatechange=Z}catch{}}}function vc(_){_.I&&(l.clearTimeout(_.I),_.I=null)}r.isActive=function(){return!!this.g};function In(_){return _.g?_.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(_){if(this.g){var U=this.g.responseText;return _&&U.indexOf(_)==0&&(U=U.substring(_.length)),It(U)}};function Sp(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Mv(_){const U={};_=(_.g&&2<=In(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<_.length;Z++){if(k(_[Z]))continue;var H=L(_[Z]);const Ne=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const Fe=U[Ne]||[];U[Ne]=Fe,Fe.push(H)}P(U,function(Z){return Z.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wc(_,U,H){return H&&H.internalChannelParams&&H.internalChannelParams[_]||U}function Xd(_){this.Aa=0,this.i=[],this.j=new Ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wc("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wc("baseRetryDelayMs",5e3,_),this.cb=wc("retryDelaySeedMs",1e4,_),this.Wa=wc("forwardChannelMaxRetries",2,_),this.wa=wc("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new fr(_&&_.concurrentRequestLimit),this.Da=new bc,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Xd.prototype,r.la=8,r.G=1,r.connect=function(_,U,H,Z){ws(0),this.W=_,this.H=U||{},H&&Z!==void 0&&(this.H.OSID=H,this.H.OAID=Z),this.F=this.X,this.I=Rp(this,null,this.W),Zd(this)};function af(_){if(_p(_),_.G==3){var U=_.U++,H=dn(_.I);if(rr(H,"SID",_.K),rr(H,"RID",U),rr(H,"TYPE","terminate"),Nc(_,H),U=new ct(_,_.j,U),U.L=2,U.v=gc(dn(H)),H=!1,l.navigator&&l.navigator.sendBeacon)try{H=l.navigator.sendBeacon(U.v.toString(),"")}catch{}!H&&l.Image&&(new Image().src=U.v,H=!0),H||(U.g=Ip(U.j,null),U.g.ea(U.v)),U.F=Date.now(),ye(U)}Pp(_)}function Kd(_){_.g&&(jc(_),_.g.cancel(),_.g=null)}function _p(_){Kd(_),_.u&&(l.clearTimeout(_.u),_.u=null),Qd(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&l.clearTimeout(_.s),_.s=null)}function Zd(_){if(!sl(_.h)&&!_.s){_.s=!0;var U=_.Ga;X||B(),ee||(X(),ee=!0),W.add(U,_),_.B=0}}function Ov(_,U){return no(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=U.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Os(m(_.Ga,_,U),lf(_,_.B)),_.B++,!0)}r.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Ne=new ct(this,this.j,_);let Fe=this.o;if(this.S&&(Fe?(Fe=E(Fe),M(Fe,this.S)):Fe=this.S),this.m!==null||this.O||(Ne.H=Fe,Fe=null),this.P)e:{for(var U=0,H=0;H<this.i.length;H++){t:{var Z=this.i[H];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(U+=Z,4096<U){U=H;break e}if(U===4096||H===this.i.length-1){U=H+1;break e}}U=1e3}else U=1e3;U=Ap(this,Ne,U),H=dn(this.I),rr(H,"RID",_),rr(H,"CVER",22),this.D&&rr(H,"X-HTTP-Session-Id",this.D),Nc(this,H),Fe&&(this.O?U="headers="+encodeURIComponent(String(rf(Fe)))+"&"+U:this.m&&oa(H,this.m,Fe)),Hd(this.h,Ne),this.Ua&&rr(H,"TYPE","init"),this.P?(rr(H,"$req",U),rr(H,"SID","null"),Ne.T=!0,ze(Ne,H,null)):ze(Ne,H,U),this.G=2}}else this.G==3&&(_?nf(this,_):this.i.length==0||sl(this.h)||nf(this))};function nf(_,U){var H;U?H=U.l:H=_.U++;const Z=dn(_.I);rr(Z,"SID",_.K),rr(Z,"RID",H),rr(Z,"AID",_.T),Nc(_,Z),_.m&&_.o&&oa(Z,_.m,_.o),H=new ct(_,_.j,H,_.B+1),_.m===null&&(H.H=_.o),U&&(_.i=U.D.concat(_.i)),U=Ap(_,H,1e3),H.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Hd(_.h,H),ze(H,Z,U)}function Nc(_,U){_.H&&D(_.H,function(H,Z){rr(U,Z,H)}),_.l&&Qh({},function(H,Z){rr(U,Z,H)})}function Ap(_,U,H){H=Math.min(_.i.length,H);var Z=_.l?m(_.l.Na,_.l,_):null;e:{var Ne=_.i;let Fe=-1;for(;;){const gt=["count="+H];Fe==-1?0<H?(Fe=Ne[0].g,gt.push("ofs="+Fe)):Fe=0:gt.push("ofs="+Fe);let Cs=!0;for(let Jr=0;Jr<H;Jr++){let Es=Ne[Jr].g;const la=Ne[Jr].map;if(Es-=Fe,0>Es)Fe=Math.max(0,Ne[Jr].g-100),Cs=!1;else try{Ni(la,gt,"req"+Es+"_")}catch{Z&&Z(la)}}if(Cs){Z=gt.join("&");break e}}}return _=_.i.splice(0,H),U.D=_,Z}function Cp(_){if(!_.g&&!_.u){_.Y=1;var U=_.Fa;X||B(),ee||(X(),ee=!0),W.add(U,_),_.v=0}}function of(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Os(m(_.Fa,_),lf(_,_.v)),_.v++,!0)}r.Fa=function(){if(this.u=null,Ep(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Os(m(this.ab,this),_)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ws(10),Kd(this),Ep(this))};function jc(_){_.A!=null&&(l.clearTimeout(_.A),_.A=null)}function Ep(_){_.g=new ct(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var U=dn(_.qa);rr(U,"RID","rpc"),rr(U,"SID",_.K),rr(U,"AID",_.T),rr(U,"CI",_.F?"0":"1"),!_.F&&_.ja&&rr(U,"TO",_.ja),rr(U,"TYPE","xmlhttp"),Nc(_,U),_.m&&_.o&&oa(U,_.m,_.o),_.L&&(_.g.I=_.L);var H=_.g;_=_.ia,H.L=1,H.v=gc(dn(U)),H.m=null,H.P=!0,ae(H,_)}r.Za=function(){this.C!=null&&(this.C=null,Kd(this),of(this),ws(19))};function Qd(_){_.C!=null&&(l.clearTimeout(_.C),_.C=null)}function Tp(_,U){var H=null;if(_.g==U){Qd(_),jc(_),_.g=null;var Z=2}else if(Kh(_.h,U))H=U.D,Oa(_.h,U),Z=1;else return;if(_.G!=0){if(U.o)if(Z==1){H=U.m?U.m.length:0,U=Date.now()-U.F;var Ne=_.B;Z=es(),qe(Z,new Us(Z,H)),Zd(_)}else Cp(_);else if(Ne=U.s,Ne==3||Ne==0&&0<U.X||!(Z==1&&Ov(_,U)||Z==2&&of(_)))switch(H&&0<H.length&&(U=_.h,U.i=U.i.concat(H)),Ne){case 1:ho(_,5);break;case 4:ho(_,10);break;case 3:ho(_,6);break;default:ho(_,2)}}}function lf(_,U){let H=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(H*=2),H*U}function ho(_,U){if(_.j.info("Error code "+U),U==2){var H=m(_.fb,_),Z=_.Xa;const Ne=!Z;Z=new Hr(Z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||mc(Z,"https"),gc(Z),Ne?xc(Z.toString(),H):ei(Z.toString(),H)}else ws(2);_.G=0,_.l&&_.l.sa(U),Pp(_),_p(_)}r.fb=function(_){_?(this.j.info("Successfully pinged google.com"),ws(2)):(this.j.info("Failed to ping google.com"),ws(1))};function Pp(_){if(_.G=0,_.ka=[],_.l){const U=Zh(_.h);(U.length!=0||_.i.length!=0)&&(v(_.ka,U),v(_.ka,_.i),_.h.i.length=0,x(_.i),_.i.length=0),_.l.ra()}}function Rp(_,U,H){var Z=H instanceof Hr?dn(H):new Hr(H);if(Z.g!="")U&&(Z.g=U+"."+Z.g),rl(Z,Z.s);else{var Ne=l.location;Z=Ne.protocol,U=U?U+"."+Ne.hostname:Ne.hostname,Ne=+Ne.port;var Fe=new Hr(null);Z&&mc(Fe,Z),U&&(Fe.g=U),Ne&&rl(Fe,Ne),H&&(Fe.l=H),Z=Fe}return H=_.D,U=_.ya,H&&U&&rr(Z,H,U),rr(Z,"VER",_.la),Nc(_,Z),Z}function Ip(_,U,H){if(U&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=_.Ca&&!_.pa?new Ws(new al({eb:H})):new Ws(_.pa),U.Ha(_.J),U}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dp(){}r=Dp.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Jd(){}Jd.prototype.g=function(_,U){return new La(_,U)};function La(_,U){st.call(this),this.g=new Xd(U),this.l=_,this.h=U&&U.messageUrlParams||null,_=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(_?_["X-WebChannel-Content-Type"]=U.messageContentType:_={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(_?_["X-WebChannel-Client-Profile"]=U.va:_={"X-WebChannel-Client-Profile":U.va}),this.g.S=_,(_=U&&U.Sb)&&!k(_)&&(this.g.m=_),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!k(U)&&(this.g.D=U,_=this.h,_!==null&&U in _&&(_=this.h,U in _&&delete _[U])),this.j=new _i(this)}y(La,st),La.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},La.prototype.close=function(){af(this.g)},La.prototype.o=function(_){var U=this.g;if(typeof _=="string"){var H={};H.__data__=_,_=H}else this.u&&(H={},H.__data__=ys(_),_=H);U.i.push(new hs(U.Ya++,_)),U.G==3&&Zd(U)},La.prototype.N=function(){this.g.l=null,delete this.j,af(this.g),delete this.g,La.aa.N.call(this)};function Mp(_){ss.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var U=_.__sm__;if(U){e:{for(const H in U){_=H;break e}_=void 0}(this.i=_)&&(_=this.i,U=U!==null&&_ in U?U[_]:void 0),this.data=U}else this.data=_}y(Mp,ss);function Op(){Ms.call(this),this.status=1}y(Op,Ms);function _i(_){this.g=_}y(_i,Dp),_i.prototype.ua=function(){qe(this.g,"a")},_i.prototype.ta=function(_){qe(this.g,new Mp(_))},_i.prototype.sa=function(_){qe(this.g,new Op)},_i.prototype.ra=function(){qe(this.g,"b")},Jd.prototype.createWebChannel=Jd.prototype.g,La.prototype.send=La.prototype.o,La.prototype.open=La.prototype.m,La.prototype.close=La.prototype.close,jO=function(){return new Jd},NO=function(){return es()},wO=gs,bj={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,fb=yt,ue.COMPLETE="complete",vO=ue,Jt.EventType=vs,vs.OPEN="a",vs.CLOSE="b",vs.ERROR="c",vs.MESSAGE="d",st.prototype.listen=st.prototype.K,Sm=Jt,Ws.prototype.listenOnce=Ws.prototype.L,Ws.prototype.getLastError=Ws.prototype.Ka,Ws.prototype.getLastErrorCode=Ws.prototype.Ba,Ws.prototype.getStatus=Ws.prototype.Z,Ws.prototype.getResponseJson=Ws.prototype.Oa,Ws.prototype.getResponseText=Ws.prototype.oa,Ws.prototype.send=Ws.prototype.ea,Ws.prototype.setWithCredentials=Ws.prototype.Ha,yO=Ws}).apply(typeof zx<"u"?zx:typeof self<"u"?self:typeof window<"u"?window:{});const WT="@firebase/firestore",YT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ta.UNAUTHENTICATED=new Ta(null),Ta.GOOGLE_CREDENTIALS=new Ta("google-credentials-uid"),Ta.FIRST_PARTY=new Ta("first-party-uid"),Ta.MOCK_USER=new Ta("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new e2("@firebase/firestore");function Fu(){return Nd.logLevel}function Ct(r,...e){if(Nd.logLevel<=Ns.DEBUG){const t=e.map(g2);Nd.debug(`Firestore (${Ch}): ${r}`,...t)}}function Yo(r,...e){if(Nd.logLevel<=Ns.ERROR){const t=e.map(g2);Nd.error(`Firestore (${Ch}): ${r}`,...t)}}function Wl(r,...e){if(Nd.logLevel<=Ns.WARN){const t=e.map(g2);Nd.warn(`Firestore (${Ch}): ${r}`,...t)}}function g2(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,kO(r,s,t)}function kO(r,e,t){let s=`FIRESTORE (${Ch}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Yo(s),new Error(s)}function Is(r,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,r||kO(e,a,s)}function Kt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends ao{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ta.UNAUTHENTICATED)))}shutdown(){}}class pq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class xq{constructor(e){this.t=e,this.currentUser=Ta.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Is(this.o===void 0,42304);let s=this.i;const a=c=>this.i!==s?(s=this.i,t(c)):Promise.resolve();let i=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hi,e.enqueueRetryable((()=>a(this.currentUser)))};const o=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await a(this.currentUser)}))},l=c=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hi)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Is(typeof s.accessToken=="string",31837,{l:s}),new SO(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Is(e===null||typeof e=="string",2055,{h:e}),new Ta(e)}}class bq{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Ta.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yq{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new bq(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ta.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class GT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vq{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Is(this.o===void 0,3512);const s=i=>{i.error!=null&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Ct("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>s(i)))};const a=i=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>a(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new GT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Is(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new GT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=wq(40);for(let i=0;i<a.length;++i)s.length<20&&a[i]<t&&(s+=e.charAt(a[i]%62))}return s}}function ds(r,e){return r<e?-1:r>e?1:0}function yj(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return ds(s,a);{const i=_O(),o=Nq(i.encode(XT(r,t)),i.encode(XT(e,t)));return o!==0?o:ds(s,a)}}t+=s>65535?2:1}return ds(r.length,e.length)}function XT(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Nq(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return ds(r[t],e[t]);return ds(r.length,e.length)}function oh(r,e,t){return r.length===e.length&&r.every(((s,a)=>t(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="__name__";class Fi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ut(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ut(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const i=Fi.compareSegments(e.get(a),t.get(a));if(i!==0)return i}return ds(e.length,t.length)}static compareSegments(e,t){const s=Fi.isNumericId(e),a=Fi.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Fi.extractNumericId(e).compare(Fi.extractNumericId(t)):yj(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zl.fromString(e.substring(4,e.length-2))}}class or extends Fi{construct(e,t,s){return new or(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new pt(Ve.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new or(t)}static emptyPath(){return new or([])}}const jq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ja extends Fi{construct(e,t,s){return new ja(e,t,s)}static isValidIdentifier(e){return jq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ja.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KT}static keyField(){return new ja([KT])}static fromServerFormat(e){const t=[];let s="",a=0;const i=()=>{if(s.length===0)throw new pt(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let o=!1;for(;a<e.length;){const l=e[a];if(l==="\\"){if(a+1===e.length)throw new pt(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new pt(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,a+=2}else l==="`"?(o=!o,a++):l!=="."||o?(s+=l,a++):(i(),a++)}if(i(),o)throw new pt(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ja(t)}static emptyPath(){return new ja([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(or.fromString(e))}static fromName(e){return new Ot(or.fromString(e).popFirst(5))}static empty(){return new Ot(or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&or.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return or.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new or(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(r,e,t){if(!t)throw new pt(Ve.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function kq(r,e,t,s){if(e===!0&&s===!0)throw new pt(Ve.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function ZT(r){if(!Ot.isDocumentKey(r))throw new pt(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function QT(r){if(Ot.isDocumentKey(r))throw new pt(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function CO(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zy(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ut(12329,{type:typeof r})}function Da(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pt(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zy(r);throw new pt(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Sq(r,e){if(e<=0)throw new pt(Ve.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(r,e){const t={typeString:r};return e&&(t.value=e),t}function $g(r,e){if(!CO(r))throw new pt(Ve.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const o=r[s];if(a&&typeof o!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(i!==void 0&&o!==i.value){t=`Expected '${s}' field to equal '${i.value}'`;break}}if(t)throw new pt(Ve.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=-62135596800,eP=1e6;class br{static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*eP);return new br(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<JT)throw new pt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eP}_compareTo(e){return this.seconds===e.seconds?ds(this.nanoseconds,e.nanoseconds):ds(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:br._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($g(e,br._jsonSchema))return new br(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}br._jsonSchemaVersion="firestore/timestamp/1.0",br._jsonSchema={type:Kr("string",br._jsonSchemaVersion),seconds:Kr("number"),nanoseconds:Kr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{static fromTimestamp(e){return new qt(e)}static min(){return new qt(new br(0,0))}static max(){return new qt(new br(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=-1;function _q(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=qt.fromTimestamp(s===1e9?new br(t+1,0):new br(t,s));return new Yl(a,Ot.empty(),e)}function Aq(r){return new Yl(r.readTime,r.key,ng)}class Yl{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Yl(qt.min(),Ot.empty(),ng)}static max(){return new Yl(qt.max(),Ot.empty(),ng)}}function Cq(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ot.comparator(r.documentKey,e.documentKey),t!==0?t:ds(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(r){if(r.code!==Ve.FAILED_PRECONDITION||r.message!==Eq)throw r;Ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ze(((s,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,a)},this.catchCallback=i=>{this.wrapFailure(t,i).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ze?t:Ze.resolve(t)}catch(t){return Ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ze.reject(t)}static resolve(e){return new Ze(((t,s)=>{t(e)}))}static reject(e){return new Ze(((t,s)=>{s(e)}))}static waitFor(e){return new Ze(((t,s)=>{let a=0,i=0,o=!1;e.forEach((l=>{++a,l.next((()=>{++i,o&&i===a&&t()}),(c=>s(c)))})),o=!0,i===a&&t()}))}static or(e){let t=Ze.resolve(!1);for(const s of e)t=t.next((a=>a?Ze.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,i)=>{s.push(t.call(this,a,i))})),this.waitFor(s)}static mapArray(e,t){return new Ze(((s,a)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;t(e[d]).next((u=>{o[d]=u,++l,l===i&&s(o)}),(u=>a(u)))}}))}static doWhile(e,t){return new Ze(((s,a)=>{const i=()=>{e()===!0?t().next((()=>{i()}),a):s()};i()}))}}function Pq(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Th(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}By.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=-1;function qg(r){return r==null}function Xb(r){return r===0&&1/r==-1/0}function Rq(r){return typeof r=="number"&&Number.isInteger(r)&&!Xb(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="";function Iq(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=tP(e)),e=Dq(r.get(t),e);return tP(e)}function Dq(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const i=r.charAt(a);switch(i){case"\0":t+="";break;case EO:t+="";break;default:t+=i}}return t}function tP(r){return r+EO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function cc(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function TO(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,t){this.comparator=e,this.root=t||wa.EMPTY}insert(e,t){return new Sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wa.BLACK,null,null))}remove(e){return new Sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bx(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bx(this.root,e,this.comparator,!0)}}class Bx{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?s(e.key,t):1,t&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wa{constructor(e,t,s,a,i){this.key=e,this.value=t,this.color=s??wa.RED,this.left=a??wa.EMPTY,this.right=i??wa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,i){return new wa(e??this.key,t??this.value,s??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const i=s(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,t,s),null):i===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return wa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return wa.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ut(27949);return e+(this.isRed()?0:1)}}wa.EMPTY=null,wa.RED=!0,wa.BLACK=!1;wa.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(e,t,s,a,i){return this}insert(e,t,s){return new wa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.comparator=e,this.data=new Sr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rP(this.data.getIterator())}getIteratorFrom(e){return new rP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof ia)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,i=s.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ia(this.comparator);return t.data=e,t}}class rP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(ja.comparator)}static empty(){return new jn([])}unionWith(e){let t=new ia(ja.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oh(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new PO("Invalid base64 string: "+i):i}})(e);return new Sa(t)}static fromUint8Array(e){const t=(function(a){let i="";for(let o=0;o<a.length;++o)i+=String.fromCharCode(a[o]);return i})(e);return new Sa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ds(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sa.EMPTY_BYTE_STRING=new Sa("");const Mq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gl(r){if(Is(!!r,39018),typeof r=="string"){let e=0;const t=Mq.exec(r);if(Is(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ur(r.seconds),nanos:Ur(r.nanos)}}function Ur(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xl(r){return typeof r=="string"?Sa.fromBase64String(r):Sa.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="server_timestamp",IO="__type__",DO="__previous_value__",MO="__local_write_time__";function b2(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[IO])===null||t===void 0?void 0:t.stringValue)===RO}function Vy(r){const e=r.mapValue.fields[DO];return b2(e)?Vy(e):e}function ig(r){const e=Gl(r.mapValue.fields[MO].timestampValue);return new br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,t,s,a,i,o,l,c,d,u){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=u}}const Kb="(default)";class og{constructor(e,t){this.projectId=e,this.database=t||Kb}static empty(){return new og("","")}get isDefaultDatabase(){return this.database===Kb}isEqual(e){return e instanceof og&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="__type__",Lq="__max__",Vx={mapValue:{}},LO="__vector__",Zb="value";function Kl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?b2(r)?4:Uq(r)?9007199254740991:Fq(r)?10:11:Ut(28295,{value:r})}function to(r,e){if(r===e)return!0;const t=Kl(r);if(t!==Kl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ig(r).isEqual(ig(e));case 3:return(function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const o=Gl(a.timestampValue),l=Gl(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,i){return Xl(a.bytesValue).isEqual(Xl(i.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,i){return Ur(a.geoPointValue.latitude)===Ur(i.geoPointValue.latitude)&&Ur(a.geoPointValue.longitude)===Ur(i.geoPointValue.longitude)})(r,e);case 2:return(function(a,i){if("integerValue"in a&&"integerValue"in i)return Ur(a.integerValue)===Ur(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const o=Ur(a.doubleValue),l=Ur(i.doubleValue);return o===l?Xb(o)===Xb(l):isNaN(o)&&isNaN(l)}return!1})(r,e);case 9:return oh(r.arrayValue.values||[],e.arrayValue.values||[],to);case 10:case 11:return(function(a,i){const o=a.mapValue.fields||{},l=i.mapValue.fields||{};if(sP(o)!==sP(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!to(o[c],l[c])))return!1;return!0})(r,e);default:return Ut(52216,{left:r})}}function lg(r,e){return(r.values||[]).find((t=>to(t,e)))!==void 0}function lh(r,e){if(r===e)return 0;const t=Kl(r),s=Kl(e);if(t!==s)return ds(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ds(r.booleanValue,e.booleanValue);case 2:return(function(i,o){const l=Ur(i.integerValue||i.doubleValue),c=Ur(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(r,e);case 3:return aP(r.timestampValue,e.timestampValue);case 4:return aP(ig(r),ig(e));case 5:return yj(r.stringValue,e.stringValue);case 6:return(function(i,o){const l=Xl(i),c=Xl(o);return l.compareTo(c)})(r.bytesValue,e.bytesValue);case 7:return(function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const u=ds(l[d],c[d]);if(u!==0)return u}return ds(l.length,c.length)})(r.referenceValue,e.referenceValue);case 8:return(function(i,o){const l=ds(Ur(i.latitude),Ur(o.latitude));return l!==0?l:ds(Ur(i.longitude),Ur(o.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return nP(r.arrayValue,e.arrayValue);case 10:return(function(i,o){var l,c,d,u;const f=i.fields||{},m=o.fields||{},p=(l=f[Zb])===null||l===void 0?void 0:l.arrayValue,y=(c=m[Zb])===null||c===void 0?void 0:c.arrayValue,x=ds(((d=p?.values)===null||d===void 0?void 0:d.length)||0,((u=y?.values)===null||u===void 0?void 0:u.length)||0);return x!==0?x:nP(p,y)})(r.mapValue,e.mapValue);case 11:return(function(i,o){if(i===Vx.mapValue&&o===Vx.mapValue)return 0;if(i===Vx.mapValue)return 1;if(o===Vx.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},u=Object.keys(d);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){const m=yj(c[f],u[f]);if(m!==0)return m;const p=lh(l[c[f]],d[u[f]]);if(p!==0)return p}return ds(c.length,u.length)})(r.mapValue,e.mapValue);default:throw Ut(23264,{le:t})}}function aP(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ds(r,e);const t=Gl(r),s=Gl(e),a=ds(t.seconds,s.seconds);return a!==0?a:ds(t.nanos,s.nanos)}function nP(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const i=lh(t[a],s[a]);if(i)return i}return ds(t.length,s.length)}function ch(r){return vj(r)}function vj(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=Gl(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Xl(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ot.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",a=!0;for(const i of t.values||[])a?a=!1:s+=",",s+=vj(i);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",i=!0;for(const o of s)i?i=!1:a+=",",a+=`${o}:${vj(t.fields[o])}`;return a+"}"})(r.mapValue):Ut(61005,{value:r})}function mb(r){switch(Kl(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vy(r);return e?16+mb(e):16;case 5:return 2*r.stringValue.length;case 6:return Xl(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,i)=>a+mb(i)),0)})(r.arrayValue);case 10:case 11:return(function(s){let a=0;return cc(s.fields,((i,o)=>{a+=i.length+mb(o)})),a})(r.mapValue);default:throw Ut(13486,{value:r})}}function iP(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function wj(r){return!!r&&"integerValue"in r}function y2(r){return!!r&&"arrayValue"in r}function oP(r){return!!r&&"nullValue"in r}function lP(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gb(r){return!!r&&"mapValue"in r}function Fq(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[OO])===null||t===void 0?void 0:t.stringValue)===LO}function Mm(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return cc(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Mm(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mm(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Uq(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Lq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.value=e}static empty(){return new Ha({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!gb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mm(t)}setAll(e){let t=ja.emptyPath(),s={},a=[];e.forEach(((o,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,s,a),s={},a=[],t=l.popLast()}o?s[l.lastSegment()]=Mm(o):a.push(l.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,s,a)}delete(e){const t=this.field(e.popLast());gb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return to(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];gb(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){cc(t,((a,i)=>e[a]=i));for(const a of s)delete e[a]}clone(){return new Ha(Mm(this.value))}}function FO(r){const e=[];return cc(r.fields,((t,s)=>{const a=new ja([t]);if(gb(s)){const i=FO(s.mapValue).fields;if(i.length===0)e.push(a);else for(const o of i)e.push(a.child(o))}else e.push(a)})),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t,s,a,i,o,l){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new fa(e,0,qt.min(),qt.min(),qt.min(),Ha.empty(),0)}static newFoundDocument(e,t,s,a){return new fa(e,1,t,qt.min(),s,a,0)}static newNoDocument(e,t){return new fa(e,2,t,qt.min(),qt.min(),Ha.empty(),0)}static newUnknownDocument(e,t){return new fa(e,3,t,qt.min(),qt.min(),Ha.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ha.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ha.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,t){this.position=e,this.inclusive=t}}function cP(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const i=e[a],o=r.position[a];if(i.field.isKeyField()?s=Ot.comparator(Ot.fromName(o.referenceValue),t.key):s=lh(o,t.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function dP(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!to(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t="asc"){this.field=e,this.dir=t}}function zq(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{}class Gr extends UO{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new Vq(e,t,s):t==="array-contains"?new qq(e,s):t==="in"?new Wq(e,s):t==="not-in"?new Yq(e,s):t==="array-contains-any"?new Gq(e,s):new Gr(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Hq(e,s):new $q(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(lh(t,this.value)):t!==null&&Kl(this.value)===Kl(t)&&this.matchesComparison(lh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends UO{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new pi(e,t)}matches(e){return zO(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function zO(r){return r.op==="and"}function BO(r){return Bq(r)&&zO(r)}function Bq(r){for(const e of r.filters)if(e instanceof pi)return!1;return!0}function Nj(r){if(r instanceof Gr)return r.field.canonicalString()+r.op.toString()+ch(r.value);if(BO(r))return r.filters.map((e=>Nj(e))).join(",");{const e=r.filters.map((t=>Nj(t))).join(",");return`${r.op}(${e})`}}function VO(r,e){return r instanceof Gr?(function(s,a){return a instanceof Gr&&s.op===a.op&&s.field.isEqual(a.field)&&to(s.value,a.value)})(r,e):r instanceof pi?(function(s,a){return a instanceof pi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((i,o,l)=>i&&VO(o,a.filters[l])),!0):!1})(r,e):void Ut(19439)}function HO(r){return r instanceof Gr?(function(t){return`${t.field.canonicalString()} ${t.op} ${ch(t.value)}`})(r):r instanceof pi?(function(t){return t.op.toString()+" {"+t.getFilters().map(HO).join(" ,")+"}"})(r):"Filter"}class Vq extends Gr{constructor(e,t,s){super(e,t,s),this.key=Ot.fromName(s.referenceValue)}matches(e){const t=Ot.comparator(e.key,this.key);return this.matchesComparison(t)}}class Hq extends Gr{constructor(e,t){super(e,"in",t),this.keys=$O("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class $q extends Gr{constructor(e,t){super(e,"not-in",t),this.keys=$O("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $O(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>Ot.fromName(s.referenceValue)))}class qq extends Gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return y2(t)&&lg(t.arrayValue,this.value)}}class Wq extends Gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&lg(this.value.arrayValue,t)}}class Yq extends Gr{constructor(e,t){super(e,"not-in",t)}matches(e){if(lg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lg(this.value.arrayValue,t)}}class Gq extends Gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!y2(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>lg(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,t=null,s=[],a=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=i,this.startAt=o,this.endAt=l,this.Pe=null}}function uP(r,e=null,t=[],s=[],a=null,i=null,o=null){return new Xq(r,e,t,s,a,i,o)}function v2(r){const e=Kt(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Nj(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(i){return i.field.canonicalString()+i.dir})(s))).join(","),qg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>ch(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>ch(s))).join(",")),e.Pe=t}return e.Pe}function w2(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!zq(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!VO(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dP(r.startAt,e.startAt)&&dP(r.endAt,e.endAt)}function jj(r){return Ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t=null,s=[],a=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Kq(r,e,t,s,a,i,o,l){return new Ph(r,e,t,s,a,i,o,l)}function Hy(r){return new Ph(r)}function hP(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function qO(r){return r.collectionGroup!==null}function Om(r){const e=Kt(r);if(e.Te===null){e.Te=[];const t=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),t.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ia(ja.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Te.push(new cg(i,s))})),t.has(ja.keyField().canonicalString())||e.Te.push(new cg(ja.keyField(),s))}return e.Te}function $i(r){const e=Kt(r);return e.Ie||(e.Ie=Zq(e,Om(r))),e.Ie}function Zq(r,e){if(r.limitType==="F")return uP(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const i=a.dir==="desc"?"asc":"desc";return new cg(a.field,i)}));const t=r.endAt?new Qb(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Qb(r.startAt.position,r.startAt.inclusive):null;return uP(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function kj(r,e){const t=r.filters.concat([e]);return new Ph(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Jb(r,e,t){return new Ph(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function $y(r,e){return w2($i(r),$i(e))&&r.limitType===e.limitType}function WO(r){return`${v2($i(r))}|lt:${r.limitType}`}function Uu(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>HO(a))).join(", ")}]`),qg(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>ch(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>ch(a))).join(",")),`Target(${s})`})($i(r))}; limitType=${r.limitType})`}function qy(r,e){return e.isFoundDocument()&&(function(s,a){const i=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):Ot.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)})(r,e)&&(function(s,a){for(const i of Om(s))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0})(r,e)&&(function(s,a){for(const i of s.filters)if(!i.matches(a))return!1;return!0})(r,e)&&(function(s,a){return!(s.startAt&&!(function(o,l,c){const d=cP(o,l,c);return o.inclusive?d<=0:d<0})(s.startAt,Om(s),a)||s.endAt&&!(function(o,l,c){const d=cP(o,l,c);return o.inclusive?d>=0:d>0})(s.endAt,Om(s),a))})(r,e)}function Qq(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function YO(r){return(e,t)=>{let s=!1;for(const a of Om(r)){const i=Jq(a,e,t);if(i!==0)return i;s=s||a.field.isKeyField()}return 0}}function Jq(r,e,t){const s=r.field.isKeyField()?Ot.comparator(e.key,t.key):(function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?lh(c,d):Ut(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ut(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,i]of s)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){cc(this.inner,((t,s)=>{for(const[a,i]of s)e(a,i)}))}isEmpty(){return TO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW=new Sr(Ot.comparator);function Go(){return eW}const GO=new Sr(Ot.comparator);function _m(...r){let e=GO;for(const t of r)e=e.insert(t.key,t);return e}function XO(r){let e=GO;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function sd(){return Lm()}function KO(){return Lm()}function Lm(){return new Md((r=>r.toString()),((r,e)=>r.isEqual(e)))}const tW=new Sr(Ot.comparator),sW=new ia(Ot.comparator);function ks(...r){let e=sW;for(const t of r)e=e.add(t);return e}const rW=new ia(ds);function aW(){return rW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xb(e)?"-0":e}}function ZO(r){return{integerValue:""+r}}function nW(r,e){return Rq(e)?ZO(e):N2(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this._=void 0}}function iW(r,e,t){return r instanceof dg?(function(a,i){const o={fields:{[IO]:{stringValue:RO},[MO]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&b2(i)&&(i=Vy(i)),i&&(o.fields[DO]=i),{mapValue:o}})(t,e):r instanceof dh?JO(r,e):r instanceof uh?e5(r,e):(function(a,i){const o=QO(a,i),l=fP(o)+fP(a.Ee);return wj(o)&&wj(a.Ee)?ZO(l):N2(a.serializer,l)})(r,e)}function oW(r,e,t){return r instanceof dh?JO(r,e):r instanceof uh?e5(r,e):t}function QO(r,e){return r instanceof ey?(function(s){return wj(s)||(function(i){return!!i&&"doubleValue"in i})(s)})(e)?e:{integerValue:0}:null}class dg extends Wy{}class dh extends Wy{constructor(e){super(),this.elements=e}}function JO(r,e){const t=t5(e);for(const s of r.elements)t.some((a=>to(a,s)))||t.push(s);return{arrayValue:{values:t}}}class uh extends Wy{constructor(e){super(),this.elements=e}}function e5(r,e){let t=t5(e);for(const s of r.elements)t=t.filter((a=>!to(a,s)));return{arrayValue:{values:t}}}class ey extends Wy{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function fP(r){return Ur(r.integerValue||r.doubleValue)}function t5(r){return y2(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,t){this.field=e,this.transform=t}}function lW(r,e){return r.field.isEqual(e.field)&&(function(s,a){return s instanceof dh&&a instanceof dh||s instanceof uh&&a instanceof uh?oh(s.elements,a.elements,to):s instanceof ey&&a instanceof ey?to(s.Ee,a.Ee):s instanceof dg&&a instanceof dg})(r.transform,e.transform)}class cW{constructor(e,t){this.version=e,this.transformResults=t}}class Xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pb(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Yy{}function s5(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Yg(r.key,Xr.none()):new Wg(r.key,r.data,Xr.none());{const t=r.data,s=Ha.empty();let a=new ia(ja.comparator);for(let i of e.fields)if(!a.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?s.delete(i):s.set(i,o),a=a.add(i)}return new dc(r.key,s,new jn(a.toArray()),Xr.none())}}function dW(r,e,t){r instanceof Wg?(function(a,i,o){const l=a.value.clone(),c=gP(a.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(r,e,t):r instanceof dc?(function(a,i,o){if(!pb(a.precondition,i))return void i.convertToUnknownDocument(o.version);const l=gP(a.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(r5(a)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(r,e,t):(function(a,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Fm(r,e,t,s){return r instanceof Wg?(function(i,o,l,c){if(!pb(i.precondition,o))return l;const d=i.value.clone(),u=pP(i.fieldTransforms,c,o);return d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(r,e,t,s):r instanceof dc?(function(i,o,l,c){if(!pb(i.precondition,o))return l;const d=pP(i.fieldTransforms,c,o),u=o.data;return u.setAll(r5(i)),u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((f=>f.field)))})(r,e,t,s):(function(i,o,l){return pb(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(r,e,t)}function uW(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),i=QO(s.transform,a||null);i!=null&&(t===null&&(t=Ha.empty()),t.set(s.field,i))}return t||null}function mP(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&oh(s,a,((i,o)=>lW(i,o)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wg extends Yy{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class dc extends Yy{constructor(e,t,s,a,i=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function r5(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function gP(r,e,t){const s=new Map;Is(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let a=0;a<t.length;a++){const i=r[a],o=i.transform,l=e.data.field(i.field);s.set(i.field,oW(o,l,t[a]))}return s}function pP(r,e,t){const s=new Map;for(const a of r){const i=a.transform,o=t.data.field(a.field);s.set(a.field,iW(i,o,e))}return s}class Yg extends Yy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a5 extends Yy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&dW(i,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Fm(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Fm(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=KO();return this.mutations.forEach((a=>{const i=e.get(a.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=t.has(a.key)?null:l;const c=s5(o,l);c!==null&&s.set(a.key,c),o.isValidDocument()||o.convertToNoDocument(qt.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ks())}isEqual(e){return this.batchId===e.batchId&&oh(this.mutations,e.mutations,((t,s)=>mP(t,s)))&&oh(this.baseMutations,e.baseMutations,((t,s)=>mP(t,s)))}}class k2{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Is(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let a=(function(){return tW})();const i=e.mutations;for(let o=0;o<i.length;o++)a=a.insert(i[o].key,s[o].version);return new k2(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr,Ps;function n5(r){switch(r){case Ve.OK:return Ut(64938);case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return Ut(15467,{code:r})}}function i5(r){if(r===void 0)return Yo("GRPC error has no .code"),Ve.UNKNOWN;switch(r){case Wr.OK:return Ve.OK;case Wr.CANCELLED:return Ve.CANCELLED;case Wr.UNKNOWN:return Ve.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return Ve.INTERNAL;case Wr.UNAVAILABLE:return Ve.UNAVAILABLE;case Wr.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case Wr.NOT_FOUND:return Ve.NOT_FOUND;case Wr.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case Wr.ABORTED:return Ve.ABORTED;case Wr.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case Wr.DATA_LOSS:return Ve.DATA_LOSS;default:return Ut(39323,{code:r})}}(Ps=Wr||(Wr={}))[Ps.OK=0]="OK",Ps[Ps.CANCELLED=1]="CANCELLED",Ps[Ps.UNKNOWN=2]="UNKNOWN",Ps[Ps.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ps[Ps.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ps[Ps.NOT_FOUND=5]="NOT_FOUND",Ps[Ps.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ps[Ps.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ps[Ps.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ps[Ps.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ps[Ps.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ps[Ps.ABORTED=10]="ABORTED",Ps[Ps.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ps[Ps.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ps[Ps.INTERNAL=13]="INTERNAL",Ps[Ps.UNAVAILABLE=14]="UNAVAILABLE",Ps[Ps.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=new zl([4294967295,4294967295],0);function xP(r){const e=_O().encode(r),t=new bO;return t.update(e),new Uint8Array(t.digest())}function bP(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new zl([t,s],0),new zl([a,i],0)]}class S2{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Am(`Invalid padding: ${t}`);if(s<0)throw new Am(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Am(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Am(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=zl.fromNumber(this.fe)}pe(e,t,s){let a=e.add(t.multiply(zl.fromNumber(s)));return a.compare(gW)===1&&(a=new zl([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=xP(e),[s,a]=bP(t);for(let i=0;i<this.hashCount;i++){const o=this.pe(s,a,i);if(!this.ye(o))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new S2(i,a,t);return s.forEach((l=>o.insert(l))),o}insert(e){if(this.fe===0)return;const t=xP(e),[s,a]=bP(t);for(let i=0;i<this.hashCount;i++){const o=this.pe(s,a,i);this.we(o)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Am extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t,s,a,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Gg.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Gy(qt.min(),a,new Sr(ds),Go(),ks())}}class Gg{constructor(e,t,s,a,i){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Gg(s,t,ks(),ks(),ks())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t,s,a){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=a}}class o5{constructor(e,t){this.targetId=e,this.De=t}}class l5{constructor(e,t,s=Sa.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class yP{constructor(){this.ve=0,this.Ce=vP(),this.Fe=Sa.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ks(),t=ks(),s=ks();return this.Ce.forEach(((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ut(38017,{changeType:i})}})),new Gg(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=vP()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Is(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class pW{constructor(e){this.We=e,this.Ge=new Map,this.ze=Go(),this.je=Hx(),this.Je=Hx(),this.He=new Sr(ds)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Ut(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((s,a)=>{this.nt(a)&&t(a)}))}it(e){const t=e.targetId,s=e.De.count,a=this.st(t);if(a){const i=a.target;if(jj(i))if(s===0){const o=new Ot(i.path);this.Xe(t,o,fa.newNoDocument(o,qt.min()))}else Is(s===1,20013,{expectedCount:s});else{const o=this.ot(t);if(o!==s){const l=this._t(e),c=l?this.ut(l,e,o):1;if(c!==0){this.rt(t);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,d)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:i=0}=t;let o,l;try{o=Xl(s).toUint8Array()}catch(c){if(c instanceof PO)return Wl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new S2(o,a,i)}catch(c){return Wl(c instanceof Am?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let a=0;return s.forEach((i=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Xe(t,i,null),a++)})),a}Pt(e){const t=new Map;this.Ge.forEach(((i,o)=>{const l=this.st(o);if(l){if(i.current&&jj(l.target)){const c=new Ot(l.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,fa.newNoDocument(c,e))}i.Ne&&(t.set(o,i.Le()),i.ke())}}));let s=ks();this.Je.forEach(((i,o)=>{let l=!0;o.forEachWhile((c=>{const d=this.st(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(s=s.add(i))})),this.ze.forEach(((i,o)=>o.setReadTime(e)));const a=new Gy(e,t,this.He,this.ze,s);return this.ze=Go(),this.je=Hx(),this.Je=Hx(),this.He=new Sr(ds),a}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const a=this.tt(e);this.It(e,t)?a.qe(t,1):a.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new yP,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ia(ds),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ia(ds),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Ct("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new yP),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Hx(){return new Sr(Ot.comparator)}function vP(){return new Sr(Ot.comparator)}const xW={asc:"ASCENDING",desc:"DESCENDING"},bW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yW={and:"AND",or:"OR"};class vW{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sj(r,e){return r.useProto3Json||qg(e)?e:{value:e}}function ty(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c5(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wW(r,e){return ty(r,e.toTimestamp())}function Sn(r){return Is(!!r,49232),qt.fromTimestamp((function(t){const s=Gl(t);return new br(s.seconds,s.nanos)})(r))}function _2(r,e){return _j(r,e).canonicalString()}function _j(r,e){const t=(function(a){return new or(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function d5(r){const e=or.fromString(r);return Is(p5(e),10190,{key:e.toString()}),e}function sy(r,e){return _2(r.databaseId,e.path)}function Um(r,e){const t=d5(e);if(t.get(1)!==r.databaseId.projectId)throw new pt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new pt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ot(h5(t))}function u5(r,e){return _2(r.databaseId,e)}function NW(r){const e=d5(r);return e.length===4?or.emptyPath():h5(e)}function Aj(r){return new or(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function h5(r){return Is(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function wP(r,e,t){return{name:sy(r,e),fields:t.value.mapValue.fields}}function jW(r,e){return"found"in e?(function(s,a){Is(!!a.found,43571),a.found.name,a.found.updateTime;const i=Um(s,a.found.name),o=Sn(a.found.updateTime),l=a.found.createTime?Sn(a.found.createTime):qt.min(),c=new Ha({mapValue:{fields:a.found.fields}});return fa.newFoundDocument(i,o,l,c)})(r,e):"missing"in e?(function(s,a){Is(!!a.missing,3894),Is(!!a.readTime,22933);const i=Um(s,a.missing),o=Sn(a.readTime);return fa.newNoDocument(i,o)})(r,e):Ut(7234,{result:e})}function kW(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ut(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=(function(d,u){return d.useProto3Json?(Is(u===void 0||typeof u=="string",58123),Sa.fromBase64String(u||"")):(Is(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Sa.fromUint8Array(u||new Uint8Array))})(r,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const u=d.code===void 0?Ve.UNKNOWN:i5(d.code);return new pt(u,d.message||"")})(o);t=new l5(s,a,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Um(r,s.document.name),i=Sn(s.document.updateTime),o=s.document.createTime?Sn(s.document.createTime):qt.min(),l=new Ha({mapValue:{fields:s.document.fields}}),c=fa.newFoundDocument(a,i,o,l),d=s.targetIds||[],u=s.removedTargetIds||[];t=new xb(d,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Um(r,s.document),i=s.readTime?Sn(s.readTime):qt.min(),o=fa.newNoDocument(a,i),l=s.removedTargetIds||[];t=new xb([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Um(r,s.document),i=s.removedTargetIds||[];t=new xb([],i,a,null)}else{if(!("filter"in e))return Ut(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:i}=s,o=new mW(a,i),l=s.targetId;t=new o5(l,o)}}return t}function f5(r,e){let t;if(e instanceof Wg)t={update:wP(r,e.key,e.value)};else if(e instanceof Yg)t={delete:sy(r,e.key)};else if(e instanceof dc)t={update:wP(r,e.key,e.data),updateMask:IW(e.fieldMask)};else{if(!(e instanceof a5))return Ut(16599,{Rt:e.type});t={verify:sy(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(i,o){const l=o.transform;if(l instanceof dg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof dh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof uh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ey)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw Ut(20930,{transform:o.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,i){return i.updateTime!==void 0?{updateTime:wW(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ut(27497)})(r,e.precondition)),t}function SW(r,e){return r&&r.length>0?(Is(e!==void 0,14353),r.map((t=>(function(a,i){let o=a.updateTime?Sn(a.updateTime):Sn(i);return o.isEqual(qt.min())&&(o=Sn(i)),new cW(o,a.transformResults||[])})(t,e)))):[]}function _W(r,e){return{documents:[u5(r,e.path)]}}function AW(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=u5(r,a);const i=(function(d){if(d.length!==0)return g5(pi.create(d,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const o=(function(d){if(d.length!==0)return d.map((u=>(function(m){return{field:zu(m.field),direction:TW(m.dir)}})(u)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=Sj(r,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:t,parent:a}}function CW(r){let e=NW(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Is(s===1,65062);const u=t.from[0];u.allDescendants?a=u.collectionId:e=e.child(u.collectionId)}let i=[];t.where&&(i=(function(f){const m=m5(f);return m instanceof pi&&BO(m)?m.getFilters():[m]})(t.where));let o=[];t.orderBy&&(o=(function(f){return f.map((m=>(function(y){return new cg(Bu(y.field),(function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(m)))})(t.orderBy));let l=null;t.limit&&(l=(function(f){let m;return m=typeof f=="object"?f.value:f,qg(m)?null:m})(t.limit));let c=null;t.startAt&&(c=(function(f){const m=!!f.before,p=f.values||[];return new Qb(p,m)})(t.startAt));let d=null;return t.endAt&&(d=(function(f){const m=!f.before,p=f.values||[];return new Qb(p,m)})(t.endAt)),Kq(e,a,o,i,l,"F",c,d)}function EW(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function m5(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Bu(t.unaryFilter.field);return Gr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Bu(t.unaryFilter.field);return Gr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bu(t.unaryFilter.field);return Gr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bu(t.unaryFilter.field);return Gr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Gr.create(Bu(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return pi.create(t.compositeFilter.filters.map((s=>m5(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}})(t.compositeFilter.op))})(r):Ut(30097,{filter:r})}function TW(r){return xW[r]}function PW(r){return bW[r]}function RW(r){return yW[r]}function zu(r){return{fieldPath:r.canonicalString()}}function Bu(r){return ja.fromServerFormat(r.fieldPath)}function g5(r){return r instanceof Gr?(function(t){if(t.op==="=="){if(lP(t.value))return{unaryFilter:{field:zu(t.field),op:"IS_NAN"}};if(oP(t.value))return{unaryFilter:{field:zu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lP(t.value))return{unaryFilter:{field:zu(t.field),op:"IS_NOT_NAN"}};if(oP(t.value))return{unaryFilter:{field:zu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zu(t.field),op:PW(t.op),value:t.value}}})(r):r instanceof pi?(function(t){const s=t.getFilters().map((a=>g5(a)));return s.length===1?s[0]:{compositeFilter:{op:RW(t.op),filters:s}}})(r):Ut(54877,{filter:r})}function IW(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function p5(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t,s,a,i=qt.min(),o=qt.min(),l=Sa.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Rl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e){this.gt=e}}function MW(r){const e=CW({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(){this.Dn=new LW}addToCollectionParentIndex(e,t){return this.Dn.add(t),Ze.resolve()}getCollectionParents(e,t){return Ze.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Ze.resolve()}deleteFieldIndex(e,t){return Ze.resolve()}deleteAllFieldIndexes(e){return Ze.resolve()}createTargetIndexes(e,t){return Ze.resolve()}getDocumentsMatchingTarget(e,t){return Ze.resolve(null)}getIndexType(e,t){return Ze.resolve(0)}getFieldIndexes(e,t){return Ze.resolve([])}getNextCollectionGroupToUpdate(e){return Ze.resolve(null)}getMinOffset(e,t){return Ze.resolve(Yl.min())}getMinOffsetFromCollectionGroup(e,t){return Ze.resolve(Yl.min())}updateCollectionGroup(e,t,s){return Ze.resolve()}updateIndexEntries(e,t){return Ze.resolve()}}class LW{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new ia(or.comparator),i=!a.has(s);return this.index[t]=a.add(s),i}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ia(or.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x5=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(x5,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new hh(0)}static ur(){return new hh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="LruGarbageCollector",FW=1048576;function kP([r,e],[t,s]){const a=ds(r,t);return a===0?ds(e,s):a}class UW{constructor(e){this.Tr=e,this.buffer=new ia(kP),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();kP(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zW{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ct(jP,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Th(t)?Ct(jP,"Ignoring IndexedDB error during garbage collection: ",t):await Eh(t)}await this.Rr(3e5)}))}}class BW{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Ze.resolve(By.ue);const s=new UW(t);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.gr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),Ze.resolve(NP)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NP):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,a,i,o,l,c,d;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,o=Date.now(),this.nthSequenceNumber(e,a)))).next((f=>(s=f,l=Date.now(),this.removeTargets(e,s,t)))).next((f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,s)))).next((f=>(d=Date.now(),Fu()<=Ns.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${a} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-u}ms`),Ze.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f}))))}}function VW(r,e){return new BW(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(){this.changes=new Md((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Ze.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&Fm(s.mutation,a,jn.empty(),br.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ks()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ks()){const a=sd();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((i=>{let o=_m();return i.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const s=sd();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ks())))}populateOverlays(e,t,s){const a=[];return s.forEach((i=>{t.has(i)||a.push(i)})),this.documentOverlayCache.getOverlays(e,a).next((i=>{i.forEach(((o,l)=>{t.set(o,l)}))}))}computeViews(e,t,s,a){let i=Go();const o=Lm(),l=(function(){return Lm()})();return t.forEach(((c,d)=>{const u=s.get(d.key);a.has(d.key)&&(u===void 0||u.mutation instanceof dc)?i=i.insert(d.key,d):u!==void 0?(o.set(d.key,u.mutation.getFieldMask()),Fm(u.mutation,d,u.mutation.getFieldMask(),br.now())):o.set(d.key,jn.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((d,u)=>o.set(d,u))),t.forEach(((d,u)=>{var f;return l.set(d,new $W(u,(f=o.get(d))!==null&&f!==void 0?f:null))})),l)))}recalculateAndSaveOverlays(e,t){const s=Lm();let a=new Sr(((o,l)=>o-l)),i=ks();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const l of o)l.keys().forEach((c=>{const d=t.get(c);if(d===null)return;let u=s.get(c)||jn.empty();u=l.applyToLocalView(d,u),s.set(c,u);const f=(a.get(l.batchId)||ks()).add(c);a=a.insert(l.batchId,f)}))})).next((()=>{const o=[],l=a.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,u=c.value,f=KO();u.forEach((m=>{if(!i.has(m)){const p=s5(t.get(m),s.get(m));p!==null&&f.set(m,p),i=i.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return Ze.waitFor(o)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(o){return Ot.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((i=>{const o=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-i.size):Ze.resolve(sd());let l=ng,c=i;return o.next((d=>Ze.forEach(d,((u,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(u)?Ze.resolve():this.remoteDocumentCache.getEntry(e,u).next((m=>{c=c.insert(u,m)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,c,d,ks()))).next((u=>({batchId:l,changes:XO(u)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ot(t)).next((s=>{let a=_m();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const i=t.collectionGroup;let o=_m();return this.indexManager.getCollectionParents(e,i).next((l=>Ze.forEach(l,(c=>{const d=(function(f,m){return new Ph(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,s,a).next((u=>{u.forEach(((f,m)=>{o=o.insert(f,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,i,a)))).next((o=>{i.forEach(((c,d)=>{const u=d.getKey();o.get(u)===null&&(o=o.insert(u,fa.newInvalidDocument(u)))}));let l=_m();return o.forEach(((c,d)=>{const u=i.get(c);u!==void 0&&Fm(u.mutation,d,jn.empty(),br.now()),qy(t,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Ze.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Sn(a.createTime)}})(t)),Ze.resolve()}getNamedQuery(e,t){return Ze.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(a){return{name:a.name,query:MW(a.bundledQuery),readTime:Sn(a.readTime)}})(t)),Ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(){this.overlays=new Sr(Ot.comparator),this.kr=new Map}getOverlay(e,t){return Ze.resolve(this.overlays.get(t))}getOverlays(e,t){const s=sd();return Ze.forEach(t,(a=>this.getOverlay(e,a).next((i=>{i!==null&&s.set(a,i)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,i)=>{this.wt(e,t,i)})),Ze.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.kr.get(s);return a!==void 0&&(a.forEach((i=>this.overlays=this.overlays.remove(i))),this.kr.delete(s)),Ze.resolve()}getOverlaysForCollection(e,t,s){const a=sd(),i=t.length+1,o=new Ot(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>s&&a.set(c.getKey(),c)}return Ze.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let i=new Sr(((d,u)=>d-u));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>s){let u=i.get(d.largestBatchId);u===null&&(u=sd(),i=i.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}const l=sd(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,u)=>l.set(d,u))),!(l.size()>=a)););return Ze.resolve(l)}wt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const o=this.kr.get(a.largestBatchId).delete(s.key);this.kr.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new fW(t,s));let i=this.kr.get(t);i===void 0&&(i=ks(),this.kr.set(t,i)),this.kr.set(t,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(){this.sessionToken=Sa.EMPTY_BYTE_STRING}getSessionToken(e){return Ze.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.qr=new ia(ha.Qr),this.$r=new ia(ha.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new ha(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new ha(e,t))}Gr(e,t){e.forEach((s=>this.removeReference(s,t)))}zr(e){const t=new Ot(new or([])),s=new ha(t,e),a=new ha(t,e+1),i=[];return this.$r.forEachInRange([s,a],(o=>{this.Wr(o),i.push(o.key)})),i}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ot(new or([])),s=new ha(t,e),a=new ha(t,e+1);let i=ks();return this.$r.forEachInRange([s,a],(o=>{i=i.add(o.key)})),i}containsKey(e){const t=new ha(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class ha{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ot.comparator(e.key,t.key)||ds(e.Hr,t.Hr)}static Ur(e,t){return ds(e.Hr,t.Hr)||Ot.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ia(ha.Qr)}checkEmpty(e){return Ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hW(i,t,s,a);this.mutationQueue.push(o);for(const l of a)this.Yr=this.Yr.add(new ha(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ze.resolve(o)}lookupMutationBatch(e,t){return Ze.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Xr(s),i=a<0?0:a;return Ze.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(this.mutationQueue.length===0?x2:this.er-1)}getAllMutationBatches(e){return Ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new ha(t,0),a=new ha(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([s,a],(o=>{const l=this.Zr(o.Hr);i.push(l)})),Ze.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ia(ds);return t.forEach((a=>{const i=new ha(a,0),o=new ha(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],(l=>{s=s.add(l.Hr)}))})),Ze.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let i=s;Ot.isDocumentKey(i)||(i=i.child(""));const o=new ha(new Ot(i),0);let l=new ia(ds);return this.Yr.forEachWhile((c=>{const d=c.key.path;return!!s.isPrefixOf(d)&&(d.length===a&&(l=l.add(c.Hr)),!0)}),o),Ze.resolve(this.ei(l))}ei(e){const t=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Is(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Ze.forEach(t.mutations,(a=>{const i=new ha(a.key,t.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,t){const s=new ha(t,0),a=this.Yr.firstAfterOrEqual(s);return Ze.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ze.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.ni=e,this.docs=(function(){return new Sr(Ot.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),i=a?a.size:0,o=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ze.resolve(s?s.document.mutableCopy():fa.newInvalidDocument(t))}getEntries(e,t){let s=Go();return t.forEach((a=>{const i=this.docs.get(a);s=s.insert(a,i?i.document.mutableCopy():fa.newInvalidDocument(a))})),Ze.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let i=Go();const o=t.path,l=new Ot(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:u}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Cq(Aq(u),s)<=0||(a.has(u.key)||qy(t,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Ze.resolve(i)}getAllFromCollectionGroup(e,t,s,a){Ut(9500)}ri(e,t){return Ze.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new ZW(this)}getSize(e){return Ze.resolve(this.size)}}class ZW extends HW{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Or.addEntry(e,a)):this.Or.removeEntry(s)})),Ze.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.persistence=e,this.ii=new Md((t=>v2(t)),w2),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.si=0,this.oi=new A2,this.targetCount=0,this._i=hh.ar()}forEachTarget(e,t){return this.ii.forEach(((s,a)=>t(a))),Ze.resolve()}getLastRemoteSnapshotVersion(e){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ze.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),Ze.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new hh(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Ze.resolve()}updateTargetData(e,t){return this.hr(t),Ze.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(e,t,s){let a=0;const i=[];return this.ii.forEach(((o,l)=>{l.sequenceNumber<=t&&s.get(l.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),a++)})),Ze.waitFor(i).next((()=>a))}getTargetCount(e){return Ze.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return Ze.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),Ze.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const a=this.persistence.referenceDelegate,i=[];return a&&t.forEach((o=>{i.push(a.markPotentiallyOrphaned(e,o))})),Ze.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Ze.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return Ze.resolve(s)}containsKey(e,t){return Ze.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,t){this.ai={},this.overlays={},this.ui=new By(0),this.ci=!1,this.ci=!0,this.li=new GW,this.referenceDelegate=e(this),this.hi=new QW(this),this.indexManager=new OW,this.remoteDocumentCache=(function(a){return new KW(a)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new DW(t),this.Ti=new WW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YW,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new XW(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){Ct("MemoryPersistence","Starting transaction:",e);const a=new JW(this.ui.next());return this.referenceDelegate.Ii(),s(a).next((i=>this.referenceDelegate.di(a).next((()=>i)))).toPromise().then((i=>(a.raiseOnCommittedEvent(),i)))}Ei(e,t){return Ze.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,t))))}}class JW extends Tq{constructor(e){super(),this.currentSequenceNumber=e}}class C2{constructor(e){this.persistence=e,this.Ai=new A2,this.Ri=null}static Vi(e){return new C2(e)}get mi(){if(this.Ri)return this.Ri;throw Ut(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),Ze.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),Ze.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Ze.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((a=>this.mi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((i=>this.mi.add(i.toString())))})).next((()=>s.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.mi,(s=>{const a=Ot.fromPath(s);return this.fi(e,a).next((i=>{i||t.removeEntry(a,qt.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return Ze.or([()=>Ze.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class ry{constructor(e,t){this.persistence=e,this.gi=new Md((s=>Iq(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=VW(this,t)}static Vi(e,t){return new ry(e,t)}Ii(){}di(e){return Ze.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}yr(e){let t=0;return this.gr(e,(s=>{t++})).next((()=>t))}gr(e,t){return Ze.forEach(this.gi,((s,a)=>this.Sr(e,s,a).next((i=>i?Ze.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ri(e,(o=>this.Sr(e,o,t).next((l=>{l||(s++,i.removeEntry(o,qt.min()))})))).next((()=>i.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Ze.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),Ze.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),Ze.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Ze.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mb(e.data.value)),t}Sr(e,t,s){return Ze.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.gi.get(t);return Ze.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=a}static Es(e,t){let s=ks(),a=ks();for(const i of t.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new E2(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return P7()?8:Pq(Ma())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,a){const i={result:null};return this.ps(e,t).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ys(e,t,a,s).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new eY;return this.ws(e,t,o).next((l=>{if(i.result=l,this.Rs)return this.Ss(e,t,o,l.size)}))})).next((()=>i.result))}Ss(e,t,s,a){return s.documentReadCount<this.Vs?(Fu()<=Ns.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",Uu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ze.resolve()):(Fu()<=Ns.DEBUG&&Ct("QueryEngine","Query:",Uu(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.fs*a?(Fu()<=Ns.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",Uu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(t))):Ze.resolve())}ps(e,t){if(hP(t))return Ze.resolve(null);let s=$i(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Jb(t,null,"F"),s=$i(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((i=>{const o=ks(...i);return this.gs.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,s).next((c=>{const d=this.bs(t,l);return this.Ds(t,d,o,c.readTime)?this.ps(e,Jb(t,null,"F")):this.vs(e,d,t,c)}))))})))))}ys(e,t,s,a){return hP(t)||a.isEqual(qt.min())?Ze.resolve(null):this.gs.getDocuments(e,s).next((i=>{const o=this.bs(t,i);return this.Ds(t,o,s,a)?Ze.resolve(null):(Fu()<=Ns.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Uu(t)),this.vs(e,o,t,_q(a,ng)).next((l=>l)))}))}bs(e,t){let s=new ia(YO(e));return t.forEach(((a,i)=>{qy(e,i)&&(s=s.add(i))})),s}Ds(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}ws(e,t,s){return Fu()<=Ns.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",Uu(t)),this.gs.getDocumentsMatchingQuery(e,t,Yl.min(),s)}vs(e,t,s,a){return this.gs.getDocumentsMatchingQuery(e,s,a).next((i=>(t.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="LocalStore",sY=3e8;class rY{constructor(e,t,s,a){this.persistence=e,this.Cs=t,this.serializer=a,this.Fs=new Sr(ds),this.Ms=new Md((i=>v2(i)),w2),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qW(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function aY(r,e,t,s){return new rY(r,e,t,s)}async function y5(r,e){const t=Kt(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((i=>(a=i,t.Ns(e),t.mutationQueue.getAllMutationBatches(s)))).next((i=>{const o=[],l=[];let c=ks();for(const d of a){o.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}for(const d of i){l.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(s,c).next((d=>({Bs:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function nY(r,e){const t=Kt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),i=t.Os.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,u){const f=d.batch,m=f.keys();let p=Ze.resolve();return m.forEach((y=>{p=p.next((()=>u.getEntry(c,y))).next((x=>{const v=d.docVersions.get(y);Is(v!==null,48541),x.version.compareTo(v)<0&&(f.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),u.addEntry(x)))}))})),p.next((()=>l.mutationQueue.removeMutationBatch(c,f)))})(t,s,e,i).next((()=>i.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(l){let c=ks();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function v5(r){const e=Kt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function iY(r,e){const t=Kt(r),s=e.snapshotVersion;let a=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=t.Os.newChangeBuffer({trackRemovals:!0});a=t.Fs;const l=[];e.targetChanges.forEach(((u,f)=>{const m=a.get(f);if(!m)return;l.push(t.hi.removeMatchingKeys(i,u.removedDocuments,f).next((()=>t.hi.addMatchingKeys(i,u.addedDocuments,f))));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Sa.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,s)),a=a.insert(f,p),(function(x,v,N){return x.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=sY?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(m,p,u)&&l.push(t.hi.updateTargetData(i,p))}));let c=Go(),d=ks();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(i,u))})),l.push(oY(i,o,e.documentUpdates).next((u=>{c=u.Ls,d=u.ks}))),!s.isEqual(qt.min())){const u=t.hi.getLastRemoteSnapshotVersion(i).next((f=>t.hi.setTargetsMetadata(i,i.currentSequenceNumber,s)));l.push(u)}return Ze.waitFor(l).next((()=>o.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,c,d))).next((()=>c))})).then((i=>(t.Fs=a,i)))}function oY(r,e,t){let s=ks(),a=ks();return t.forEach((i=>s=s.add(i))),e.getEntries(r,s).next((i=>{let o=Go();return t.forEach(((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(l)),c.isNoDocument()&&c.version.isEqual(qt.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ct(T2,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{Ls:o,ks:a}}))}function lY(r,e){const t=Kt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=x2),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function cY(r,e){const t=Kt(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.hi.getTargetData(s,e).next((i=>i?(a=i,Ze.resolve(a)):t.hi.allocateTargetId(s).next((o=>(a=new Rl(e,o,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Fs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s}))}async function Cj(r,e,t){const s=Kt(r),a=s.Fs.get(e),i=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",i,(o=>s.persistence.referenceDelegate.removeTarget(o,a)))}catch(o){if(!Th(o))throw o;Ct(T2,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(a.target)}function SP(r,e,t){const s=Kt(r);let a=qt.min(),i=ks();return s.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,d,u){const f=Kt(c),m=f.Ms.get(u);return m!==void 0?Ze.resolve(f.Fs.get(m)):f.hi.getTargetData(d,u)})(s,o,$i(e)).next((l=>{if(l)return a=l.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{i=c}))})).next((()=>s.Cs.getDocumentsMatchingQuery(o,e,t?a:qt.min(),t?i:ks()))).next((l=>(dY(s,Qq(e),l),{documents:l,qs:i})))))}function dY(r,e,t){let s=r.xs.get(e)||qt.min();t.forEach(((a,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)})),r.xs.set(e,s)}class _P{constructor(){this.activeTargetIds=aW()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uY{constructor(){this.Fo=new _P,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new _P,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="ConnectivityMonitor";class CP{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ct(AP,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ct(AP,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $x=null;function Ej(){return $x===null?$x=(function(){return 268435456+Math.round(2147483648*Math.random())})():$x++,"0x"+$x.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="RestConnection",fY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mY{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.Ko=this.databaseId.database===Kb?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,t,s,a,i){const o=Ej(),l=this.Go(e,t.toUriEncodedString());Ct(V1,`Sending RPC '${e}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,a,i);const{host:d}=new URL(l),u=oc(d);return this.jo(e,l,c,s,u).then((f=>(Ct(V1,`Received RPC '${e}' ${o}: `,f),f)),(f=>{throw Wl(V1,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",s),f}))}Jo(e,t,s,a,i,o){return this.Wo(e,t,s,a,i)}zo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ch})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,i)=>e[i]=a)),s&&s.headers.forEach(((a,i)=>e[i]=a))}Go(e,t){const s=fY[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="WebChannelConnection";class pY extends mY{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,a,i){const o=Ej();return new Promise(((l,c)=>{const d=new yO;d.setWithCredentials(!0),d.listenOnce(vO.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case fb.NO_ERROR:const f=d.getResponseJson();Ct(Ea,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case fb.TIMEOUT:Ct(Ea,`RPC '${e}' ${o} timed out`),c(new pt(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case fb.HTTP_ERROR:const m=d.getStatus();if(Ct(Ea,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let p=d.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p?.error;if(y&&y.status&&y.message){const x=(function(N){const k=N.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(k)>=0?k:Ve.UNKNOWN})(y.status);c(new pt(x,y.message))}else c(new pt(Ve.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new pt(Ve.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{Ct(Ea,`RPC '${e}' ${o} completed.`)}}));const u=JSON.stringify(a);Ct(Ea,`RPC '${e}' ${o} sending request:`,a),d.send(t,"POST",u,s,15)}))}P_(e,t,s){const a=Ej(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jO(),l=NO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,s),c.encodeInitMessageHeaders=!0;const u=i.join("");Ct(Ea,`Creating RPC '${e}' stream ${a}: ${u}`,c);const f=o.createWebChannel(u,c);this.T_(f);let m=!1,p=!1;const y=new gY({Ho:v=>{p?Ct(Ea,`Not sending because RPC '${e}' stream ${a} is closed:`,v):(m||(Ct(Ea,`Opening RPC '${e}' stream ${a} transport.`),f.open(),m=!0),Ct(Ea,`RPC '${e}' stream ${a} sending:`,v),f.send(v))},Yo:()=>f.close()}),x=(v,N,k)=>{v.listen(N,(S=>{try{k(S)}catch(R){setTimeout((()=>{throw R}),0)}}))};return x(f,Sm.EventType.OPEN,(()=>{p||(Ct(Ea,`RPC '${e}' stream ${a} transport opened.`),y.s_())})),x(f,Sm.EventType.CLOSE,(()=>{p||(p=!0,Ct(Ea,`RPC '${e}' stream ${a} transport closed`),y.__(),this.I_(f))})),x(f,Sm.EventType.ERROR,(v=>{p||(p=!0,Wl(Ea,`RPC '${e}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),y.__(new pt(Ve.UNAVAILABLE,"The operation could not be completed")))})),x(f,Sm.EventType.MESSAGE,(v=>{var N;if(!p){const k=v.data[0];Is(!!k,16349);const S=k,R=S?.error||((N=S[0])===null||N===void 0?void 0:N.error);if(R){Ct(Ea,`RPC '${e}' stream ${a} received error:`,R);const A=R.status;let D=(function(I){const M=Wr[I];if(M!==void 0)return i5(M)})(A),P=R.message;D===void 0&&(D=Ve.INTERNAL,P="Unknown error status: "+A+" with message "+R.message),p=!0,y.__(new pt(D,P)),f.close()}else Ct(Ea,`RPC '${e}' stream ${a} received:`,k),y.a_(k)}})),x(l,wO.STAT_EVENT,(v=>{v.stat===bj.PROXY?Ct(Ea,`RPC '${e}' stream ${a} detected buffering proxy`):v.stat===bj.NOPROXY&&Ct(Ea,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{y.o_()}),0),y}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function H1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(r){return new vW(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t,s=1e3,a=1.5,i=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=a,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),a=Math.max(0,t-s);a>0&&Ct("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="PersistentStream";class w5{constructor(e,t,s,a,i,o,l,c){this.Fi=e,this.w_=s,this.S_=a,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new P2(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Ve.RESOURCE_EXHAUSTED?(Yo(t.toString()),Yo("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.b_===t&&this.W_(s,a)}),(s=>{e((()=>{const a=new pt(Ve.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(a)}))}))}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((a=>{s((()=>this.G_(a)))})),this.stream.onMessage((a=>{s((()=>++this.C_==1?this.j_(a):this.onNext(a)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Ct(EP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(Ct(EP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xY extends w5{constructor(e,t,s,a,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,o),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=kW(this.serializer,e),s=(function(i){if(!("targetChange"in i))return qt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?qt.min():o.readTime?Sn(o.readTime):qt.min()})(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=Aj(this.serializer),t.addTarget=(function(i,o){let l;const c=o.target;if(l=jj(c)?{documents:_W(i,c)}:{query:AW(i,c).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=c5(i,o.resumeToken);const d=Sj(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(qt.min())>0){l.readTime=ty(i,o.snapshotVersion.toTimestamp());const d=Sj(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const s=EW(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=Aj(this.serializer),t.removeTarget=e,this.k_(t)}}class bY extends w5{constructor(e,t,s,a,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Is(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Is(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Is(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=SW(e.writeResults,e.commitTime),s=Sn(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=Aj(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>f5(this.serializer,s)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{}class vY extends yY{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new pt(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Wo(e,_j(t,s),a,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new pt(Ve.UNKNOWN,i.toString())}))}Jo(e,t,s,a,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Jo(e,_j(t,s),a,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(Ve.UNKNOWN,o.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class wY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Yo(t),this._a=!1):Ct("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="RemoteStore";class NY{constructor(e,t,s,a,i){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo((o=>{s.enqueueAndForget((async()=>{Od(this)&&(Ct(jd,"Restarting streams for network reachability change."),await(async function(c){const d=Kt(c);d.Ia.add(4),await Xg(d),d.Aa.set("Unknown"),d.Ia.delete(4),await Ky(d)})(this))}))})),this.Aa=new wY(s,a)}}async function Ky(r){if(Od(r))for(const e of r.da)await e(!0)}async function Xg(r){for(const e of r.da)await e(!1)}function N5(r,e){const t=Kt(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),M2(t)?D2(t):Rh(t).x_()&&I2(t,e))}function R2(r,e){const t=Kt(r),s=Rh(t);t.Ta.delete(e),s.x_()&&j5(t,e),t.Ta.size===0&&(s.x_()?s.B_():Od(t)&&t.Aa.set("Unknown"))}function I2(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rh(r).H_(e)}function j5(r,e){r.Ra.$e(e),Rh(r).Y_(e)}function D2(r){r.Ra=new pW({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Rh(r).start(),r.Aa.aa()}function M2(r){return Od(r)&&!Rh(r).M_()&&r.Ta.size>0}function Od(r){return Kt(r).Ia.size===0}function k5(r){r.Ra=void 0}async function jY(r){r.Aa.set("Online")}async function kY(r){r.Ta.forEach(((e,t)=>{I2(r,e)}))}async function SY(r,e){k5(r),M2(r)?(r.Aa.la(e),D2(r)):r.Aa.set("Unknown")}async function _Y(r,e,t){if(r.Aa.set("Online"),e instanceof l5&&e.state===2&&e.cause)try{await(async function(a,i){const o=i.cause;for(const l of i.targetIds)a.Ta.has(l)&&(await a.remoteSyncer.rejectListen(l,o),a.Ta.delete(l),a.Ra.removeTarget(l))})(r,e)}catch(s){Ct(jd,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ay(r,s)}else if(e instanceof xb?r.Ra.Ye(e):e instanceof o5?r.Ra.it(e):r.Ra.et(e),!t.isEqual(qt.min()))try{const s=await v5(r.localStore);t.compareTo(s)>=0&&await(function(i,o){const l=i.Ra.Pt(o);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.Ta.get(d);u&&i.Ta.set(d,u.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,d)=>{const u=i.Ta.get(c);if(!u)return;i.Ta.set(c,u.withResumeToken(Sa.EMPTY_BYTE_STRING,u.snapshotVersion)),j5(i,c);const f=new Rl(u.target,c,d,u.sequenceNumber);I2(i,f)})),i.remoteSyncer.applyRemoteEvent(l)})(r,t)}catch(s){Ct(jd,"Failed to raise snapshot:",s),await ay(r,s)}}async function ay(r,e,t){if(!Th(e))throw e;r.Ia.add(1),await Xg(r),r.Aa.set("Offline"),t||(t=()=>v5(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ct(jd,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Ky(r)}))}function S5(r,e){return e().catch((t=>ay(r,t,e)))}async function Zy(r){const e=Kt(r),t=Zl(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:x2;for(;AY(e);)try{const a=await lY(e.localStore,s);if(a===null){e.Pa.length===0&&t.B_();break}s=a.batchId,CY(e,a)}catch(a){await ay(e,a)}_5(e)&&A5(e)}function AY(r){return Od(r)&&r.Pa.length<10}function CY(r,e){r.Pa.push(e);const t=Zl(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function _5(r){return Od(r)&&!Zl(r).M_()&&r.Pa.length>0}function A5(r){Zl(r).start()}async function EY(r){Zl(r).na()}async function TY(r){const e=Zl(r);for(const t of r.Pa)e.X_(t.mutations)}async function PY(r,e,t){const s=r.Pa.shift(),a=k2.from(s,e,t);await S5(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await Zy(r)}async function RY(r,e){e&&Zl(r).Z_&&await(async function(s,a){if((function(o){return n5(o)&&o!==Ve.ABORTED})(a.code)){const i=s.Pa.shift();Zl(s).N_(),await S5(s,(()=>s.remoteSyncer.rejectFailedWrite(i.batchId,a))),await Zy(s)}})(r,e),_5(r)&&A5(r)}async function TP(r,e){const t=Kt(r);t.asyncQueue.verifyOperationInProgress(),Ct(jd,"RemoteStore received new credentials");const s=Od(t);t.Ia.add(3),await Xg(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Ky(t)}async function IY(r,e){const t=Kt(r);e?(t.Ia.delete(2),await Ky(t)):e||(t.Ia.add(2),await Xg(t),t.Aa.set("Unknown"))}function Rh(r){return r.Va||(r.Va=(function(t,s,a){const i=Kt(t);return i.ia(),new xY(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(r.datastore,r.asyncQueue,{Zo:jY.bind(null,r),e_:kY.bind(null,r),n_:SY.bind(null,r),J_:_Y.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),M2(r)?D2(r):r.Aa.set("Unknown")):(await r.Va.stop(),k5(r))}))),r.Va}function Zl(r){return r.ma||(r.ma=(function(t,s,a){const i=Kt(t);return i.ia(),new bY(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:EY.bind(null,r),n_:RY.bind(null,r),ea:TY.bind(null,r),ta:PY.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await Zy(r)):(await r.ma.stop(),r.Pa.length>0&&(Ct(jd,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,t,s,a,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=i,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,i){const o=Date.now()+s,l=new O2(e,t,o,a,i);return l.start(s),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function L2(r,e){if(Yo("AsyncQueue",`${e}: ${r}`),Th(r))return new pt(Ve.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{static emptySet(e){return new eh(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ot.comparator(t.key,s.key):(t,s)=>Ot.comparator(t.key,s.key),this.keyedMap=_m(),this.sortedSet=new Sr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,i=s.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new eh;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.fa=new Sr(Ot.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ut(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,s)=>{e.push(s)})),e}}class fh{constructor(e,t,s,a,i,o,l,c,d){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,s,a,i){const o=[];return t.forEach((l=>{o.push({type:0,doc:l})})),new fh(e,t,eh.emptySet(t),o,s,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$y(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class MY{constructor(){this.queries=RP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const a=Kt(t),i=a.queries;a.queries=RP(),i.forEach(((o,l)=>{for(const c of l.wa)c.onError(s)}))})(this,new pt(Ve.ABORTED,"Firestore shutting down"))}}function RP(){return new Md((r=>WO(r)),$y)}async function F2(r,e){const t=Kt(r);let s=3;const a=e.query;let i=t.queries.get(a);i?!i.Sa()&&e.ba()&&(s=2):(i=new DY,s=e.ba()?0:1);try{switch(s){case 0:i.ya=await t.onListen(a,!0);break;case 1:i.ya=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(o){const l=L2(o,`Initialization of query '${Uu(e.query)}' failed`);return void e.onError(l)}t.queries.set(a,i),i.wa.push(e),e.va(t.onlineState),i.ya&&e.Ca(i.ya)&&z2(t)}async function U2(r,e){const t=Kt(r),s=e.query;let a=3;const i=t.queries.get(s);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?a=e.ba()?0:1:!i.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function OY(r,e){const t=Kt(r);let s=!1;for(const a of e){const i=a.query,o=t.queries.get(i);if(o){for(const l of o.wa)l.Ca(a)&&(s=!0);o.ya=a}}s&&z2(t)}function LY(r,e,t){const s=Kt(r),a=s.queries.get(e);if(a)for(const i of a.wa)i.onError(t);s.queries.delete(e)}function z2(r){r.Da.forEach((e=>{e.next()}))}var Tj,IP;(IP=Tj||(Tj={})).Fa="default",IP.Cache="cache";class B2{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new fh(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=fh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Tj.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.key=e}}class E5{constructor(e){this.key=e}}class FY{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ks(),this.mutatedKeys=ks(),this.Xa=YO(e),this.eu=new eh(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new PP,a=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,o=a,l=!1;const c=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((u,f)=>{const m=a.get(u),p=qy(this.query,f)?f:null,y=!!m&&this.mutatedKeys.has(m.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;m&&p?m.data.isEqual(p.data)?y!==x&&(s.track({type:3,doc:p}),v=!0):this.iu(m,p)||(s.track({type:2,doc:p}),v=!0,(c&&this.Xa(p,c)>0||d&&this.Xa(p,d)<0)&&(l=!0)):!m&&p?(s.track({type:0,doc:p}),v=!0):m&&!p&&(s.track({type:1,doc:m}),v=!0,(c||d)&&(l=!0)),v&&(p?(o=o.add(p),i=x?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{eu:o,ru:s,Ds:l,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort(((u,f)=>(function(p,y){const x=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{At:v})}};return x(p)-x(y)})(u.type,f.type)||this.Xa(u.doc,f.doc))),this.su(s),a=a!=null&&a;const l=t&&!a?this.ou():[],c=this.Za.size===0&&this.current&&!a?1:0,d=c!==this.Ya;return this.Ya=c,o.length!==0||d?{snapshot:new fh(this.query,e.eu,i,o,e.mutatedKeys,c===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new PP,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ks(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const t=[];return e.forEach((s=>{this.Za.has(s)||t.push(new E5(s))})),this.Za.forEach((s=>{e.has(s)||t.push(new C5(s))})),t}uu(e){this.Ha=e.qs,this.Za=ks();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return fh.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const V2="SyncEngine";class UY{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class zY{constructor(e){this.key=e,this.lu=!1}}class BY{constructor(e,t,s,a,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Md((l=>WO(l)),$y),this.Tu=new Map,this.Iu=new Set,this.du=new Sr(Ot.comparator),this.Eu=new Map,this.Au=new A2,this.Ru={},this.Vu=new Map,this.mu=hh.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function VY(r,e,t=!0){const s=M5(r);let a;const i=s.Pu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.cu()):a=await T5(s,e,t,!0),a}async function HY(r,e){const t=M5(r);await T5(t,e,!0,!1)}async function T5(r,e,t,s){const a=await cY(r.localStore,$i(e)),i=a.targetId,o=r.sharedClientState.addLocalQueryTarget(i,t);let l;return s&&(l=await $Y(r,e,i,o==="current",a.resumeToken)),r.isPrimaryClient&&t&&N5(r.remoteStore,a),l}async function $Y(r,e,t,s,a){r.gu=(f,m,p)=>(async function(x,v,N,k){let S=v.view.nu(N);S.Ds&&(S=await SP(x.localStore,v.query,!1).then((({documents:P})=>v.view.nu(P,S))));const R=k&&k.targetChanges.get(v.targetId),A=k&&k.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(S,x.isPrimaryClient,R,A);return MP(x,v.targetId,D._u),D.snapshot})(r,f,m,p);const i=await SP(r.localStore,e,!0),o=new FY(e,i.qs),l=o.nu(i.documents),c=Gg.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),d=o.applyChanges(l,r.isPrimaryClient,c);MP(r,t,d._u);const u=new UY(e,t,o);return r.Pu.set(e,u),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),d.snapshot}async function qY(r,e,t){const s=Kt(r),a=s.Pu.get(e),i=s.Tu.get(a.targetId);if(i.length>1)return s.Tu.set(a.targetId,i.filter((o=>!$y(o,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Cj(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&R2(s.remoteStore,a.targetId),Pj(s,a.targetId)})).catch(Eh)):(Pj(s,a.targetId),await Cj(s.localStore,a.targetId,!0))}async function WY(r,e){const t=Kt(r),s=t.Pu.get(e),a=t.Tu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),R2(t.remoteStore,s.targetId))}async function YY(r,e,t){const s=eG(r);try{const a=await(function(o,l){const c=Kt(o),d=br.now(),u=l.reduce(((p,y)=>p.add(y.key)),ks());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let y=Go(),x=ks();return c.Os.getEntries(p,u).next((v=>{y=v,y.forEach(((N,k)=>{k.isValidDocument()||(x=x.add(N))}))})).next((()=>c.localDocuments.getOverlayedDocuments(p,y))).next((v=>{f=v;const N=[];for(const k of l){const S=uW(k,f.get(k.key).overlayedDocument);S!=null&&N.push(new dc(k.key,S,FO(S.value.mapValue),Xr.exists(!0)))}return c.mutationQueue.addMutationBatch(p,d,N,l)})).next((v=>{m=v;const N=v.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(p,v.batchId,N)}))})).then((()=>({batchId:m.batchId,changes:XO(f)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(o,l,c){let d=o.Ru[o.currentUser.toKey()];d||(d=new Sr(ds)),d=d.insert(l,c),o.Ru[o.currentUser.toKey()]=d})(s,a.batchId,t),await Kg(s,a.changes),await Zy(s.remoteStore)}catch(a){const i=L2(a,"Failed to persist write");t.reject(i)}}async function P5(r,e){const t=Kt(r);try{const s=await iY(t.localStore,e);e.targetChanges.forEach(((a,i)=>{const o=t.Eu.get(i);o&&(Is(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?o.lu=!0:a.modifiedDocuments.size>0?Is(o.lu,14607):a.removedDocuments.size>0&&(Is(o.lu,42227),o.lu=!1))})),await Kg(t,s,e)}catch(s){await Eh(s)}}function DP(r,e,t){const s=Kt(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Pu.forEach(((i,o)=>{const l=o.view.va(e);l.snapshot&&a.push(l.snapshot)})),(function(o,l){const c=Kt(o);c.onlineState=l;let d=!1;c.queries.forEach(((u,f)=>{for(const m of f.wa)m.va(l)&&(d=!0)})),d&&z2(c)})(s.eventManager,e),a.length&&s.hu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function GY(r,e,t){const s=Kt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Eu.get(e),i=a&&a.key;if(i){let o=new Sr(Ot.comparator);o=o.insert(i,fa.newNoDocument(i,qt.min()));const l=ks().add(i),c=new Gy(qt.min(),new Map,new Sr(ds),o,l);await P5(s,c),s.du=s.du.remove(i),s.Eu.delete(e),H2(s)}else await Cj(s.localStore,e,!1).then((()=>Pj(s,e,t))).catch(Eh)}async function XY(r,e){const t=Kt(r),s=e.batch.batchId;try{const a=await nY(t.localStore,e);I5(t,s,null),R5(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Kg(t,a)}catch(a){await Eh(a)}}async function KY(r,e,t){const s=Kt(r);try{const a=await(function(o,l){const c=Kt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let u;return c.mutationQueue.lookupMutationBatch(d,l).next((f=>(Is(f!==null,37113),u=f.keys(),c.mutationQueue.removeMutationBatch(d,f)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,u,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u))).next((()=>c.localDocuments.getDocuments(d,u)))}))})(s.localStore,e);I5(s,e,t),R5(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Kg(s,a)}catch(a){await Eh(a)}}function R5(r,e){(r.Vu.get(e)||[]).forEach((t=>{t.resolve()})),r.Vu.delete(e)}function I5(r,e,t){const s=Kt(r);let a=s.Ru[s.currentUser.toKey()];if(a){const i=a.get(e);i&&(t?i.reject(t):i.resolve(),a=a.remove(e)),s.Ru[s.currentUser.toKey()]=a}}function Pj(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||D5(r,s)}))}function D5(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(R2(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),H2(r))}function MP(r,e,t){for(const s of t)s instanceof C5?(r.Au.addReference(s.key,e),ZY(r,s)):s instanceof E5?(Ct(V2,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||D5(r,s.key)):Ut(19791,{yu:s})}function ZY(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(Ct(V2,"New document in limbo: "+t),r.Iu.add(s),H2(r))}function H2(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new Ot(or.fromString(e)),s=r.mu.next();r.Eu.set(s,new zY(t)),r.du=r.du.insert(t,s),N5(r.remoteStore,new Rl($i(Hy(t.path)),s,"TargetPurposeLimboResolution",By.ue))}}async function Kg(r,e,t){const s=Kt(r),a=[],i=[],o=[];s.Pu.isEmpty()||(s.Pu.forEach(((l,c)=>{o.push(s.gu(c,e,t).then((d=>{var u;if((d||t)&&s.isPrimaryClient){const f=d?!d.fromCache:(u=t?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;s.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){a.push(d);const f=E2.Es(c.targetId,d);i.push(f)}})))})),await Promise.all(o),s.hu.J_(a),await(async function(c,d){const u=Kt(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>Ze.forEach(d,(m=>Ze.forEach(m.Is,(p=>u.persistence.referenceDelegate.addReference(f,m.targetId,p))).next((()=>Ze.forEach(m.ds,(p=>u.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))))))}catch(f){if(!Th(f))throw f;Ct(T2,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const p=u.Fs.get(m),y=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(y);u.Fs=u.Fs.insert(m,x)}}})(s.localStore,i))}async function QY(r,e){const t=Kt(r);if(!t.currentUser.isEqual(e)){Ct(V2,"User change. New user:",e.toKey());const s=await y5(t.localStore,e);t.currentUser=e,(function(i,o){i.Vu.forEach((l=>{l.forEach((c=>{c.reject(new pt(Ve.CANCELLED,o))}))})),i.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Kg(t,s.Bs)}}function JY(r,e){const t=Kt(r),s=t.Eu.get(e);if(s&&s.lu)return ks().add(s.key);{let a=ks();const i=t.Tu.get(e);if(!i)return a;for(const o of i){const l=t.Pu.get(o);a=a.unionWith(l.view.tu)}return a}}function M5(r){const e=Kt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=P5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GY.bind(null,e),e.hu.J_=OY.bind(null,e.eventManager),e.hu.pu=LY.bind(null,e.eventManager),e}function eG(r){const e=Kt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KY.bind(null,e),e}class ny{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return aY(this.persistence,new tY,e.initialUser,this.serializer)}Du(e){return new b5(C2.Vi,this.serializer)}bu(e){return new uY}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ny.provider={build:()=>new ny};class tG extends ny{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Is(this.persistence.referenceDelegate instanceof ry,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new zW(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new b5((s=>ry.Vi(s,t)),this.serializer)}}class Rj{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>DP(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QY.bind(null,this.syncEngine),await IY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MY})()}createDatastore(e){const t=Xy(e.databaseInfo.databaseId),s=(function(i){return new pY(i)})(e.databaseInfo);return(function(i,o,l,c){return new vY(i,o,l,c)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,i,o,l){return new NY(s,a,i,o,l)})(this.localStore,this.datastore,e.asyncQueue,(t=>DP(this.syncEngine,t,0)),(function(){return CP.C()?new CP:new hY})())}createSyncEngine(e,t){return(function(a,i,o,l,c,d,u){const f=new BY(a,i,o,l,c,d);return u&&(f.fu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const i=Kt(a);Ct(jd,"RemoteStore shutting down."),i.Ia.add(5),await Xg(i),i.Ea.shutdown(),i.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Rj.provider={build:()=>new Rj};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Yo("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new pt(Ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,i){const o=Kt(a),l={documents:i.map((f=>sy(o.serializer,f)))},c=await o.Jo("BatchGetDocuments",o.serializer.databaseId,or.emptyPath(),l,i.length),d=new Map;c.forEach((f=>{const m=jW(o.serializer,f);d.set(m.key.toString(),m)}));const u=[];return i.forEach((f=>{const m=d.get(f.toString());Is(!!m,55234,{key:f}),u.push(m)})),u})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const a=Ot.fromPath(s);this.mutations.push(new a5(a,this.precondition(a)))})),await(async function(s,a){const i=Kt(s),o={writes:a.map((l=>f5(i.serializer,l)))};await i.Wo("Commit",i.serializer.databaseId,or.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ut(50498,{Wu:e.constructor.name});t=qt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new pt(Ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(qt.min())?Xr.exists(!1):Xr.updateTime(t):Xr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(qt.min()))throw new pt(Ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xr.updateTime(t)}return Xr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,t,s,a,i){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=i,this.Gu=s.maxAttempts,this.F_=new P2(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new sG(this.datastore),t=this.Ju(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((a=>{this.Hu(a)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(e){try{const t=this.updateFunction(e);return!qg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!n5(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="FirestoreClient";class aG{constructor(e,t,s,a,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Ta.UNAUTHENTICATED,this.clientId=p2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,(async o=>{Ct(Ql,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(s,(o=>(Ct(Ql,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=L2(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function $1(r,e){r.asyncQueue.verifyOperationInProgress(),Ct(Ql,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async a=>{s.isEqual(a)||(await y5(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>{Wl("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{Ct("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((a=>{Wl("Terminating Firestore due to IndexedDb database deletion failed",a)}))})),r._offlineComponents=e}async function OP(r,e){r.asyncQueue.verifyOperationInProgress();const t=await nG(r);Ct(Ql,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>TP(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,a)=>TP(e.remoteStore,a))),r._onlineComponents=e}async function nG(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ct(Ql,"Using user provided OfflineComponentProvider");try{await $1(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ve.FAILED_PRECONDITION||a.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Wl("Error using user provided cache. Falling back to memory cache: "+t),await $1(r,new ny)}}else Ct(Ql,"Using default OfflineComponentProvider"),await $1(r,new tG(void 0));return r._offlineComponents}async function q2(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ct(Ql,"Using user provided OnlineComponentProvider"),await OP(r,r._uninitializedComponentsProvider._online)):(Ct(Ql,"Using default OnlineComponentProvider"),await OP(r,new Rj))),r._onlineComponents}function iG(r){return q2(r).then((e=>e.syncEngine))}function oG(r){return q2(r).then((e=>e.datastore))}async function iy(r){const e=await q2(r),t=e.eventManager;return t.onListen=VY.bind(null,e.syncEngine),t.onUnlisten=qY.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HY.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WY.bind(null,e.syncEngine),t}function lG(r,e,t={}){const s=new Hi;return r.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,c,d){const u=new $2({next:m=>{u.Ou(),o.enqueueAndForget((()=>U2(i,f)));const p=m.docs.has(l);!p&&m.fromCache?d.reject(new pt(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?d.reject(new pt(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new B2(Hy(l.path),u,{includeMetadataChanges:!0,ka:!0});return F2(i,f)})(await iy(r),r.asyncQueue,e,t,s))),s.promise}function cG(r,e,t={}){const s=new Hi;return r.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,c,d){const u=new $2({next:m=>{u.Ou(),o.enqueueAndForget((()=>U2(i,f))),m.fromCache&&c.source==="server"?d.reject(new pt(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new B2(l,u,{includeMetadataChanges:!0,ka:!0});return F2(i,f)})(await iy(r),r.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="firestore.googleapis.com",FP=!0;class UP{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pt(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L5,this.ssl=FP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:FP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FW)throw new pt(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O5((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qy{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pt(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new gq;switch(s.type){case"firstParty":return new yq(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=LP.get(t);s&&(Ct("ComponentProvider","Removing Datastore"),LP.delete(t),s.terminate())})(this),Promise.resolve()}}function dG(r,e,t,s={}){var a;r=Da(r,Qy);const i=oc(e),o=r._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:r._getEmulatorOptions()}),c=`${e}:${t}`;i&&(Qk(`https://${c}`),Jk("Firestore",!0)),o.host!==L5&&o.host!==c&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:s});if(!Ho(d,l)&&(r._setSettings(d),s.mockUserToken)){let u,f;if(typeof s.mockUserToken=="string")u=s.mockUserToken,f=Ta.MOCK_USER;else{u=EM(s.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new pt(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ta(m)}r._authCredentials=new pq(new SO(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new el(this.firestore,e,this._query)}}class jr{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jr(this.firestore,e,this._key)}toJSON(){return{type:jr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if($g(t,jr._jsonSchema))return new jr(e,s||null,new Ot(or.fromString(t.referencePath)))}}jr._jsonSchemaVersion="firestore/documentReference/1.0",jr._jsonSchema={type:Kr("string",jr._jsonSchemaVersion),referencePath:Kr("string")};class Bl extends el{constructor(e,t,s){super(e,t,Hy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jr(this.firestore,null,new Ot(e))}withConverter(e){return new Bl(this.firestore,e,this._path)}}function Ie(r,e,...t){if(r=Bs(r),AO("collection","path",e),r instanceof Qy){const s=or.fromString(e,...t);return QT(s),new Bl(r,null,s)}{if(!(r instanceof jr||r instanceof Bl))throw new pt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(or.fromString(e,...t));return QT(s),new Bl(r.firestore,null,s)}}function Te(r,e,...t){if(r=Bs(r),arguments.length===1&&(e=p2.newId()),AO("doc","path",e),r instanceof Qy){const s=or.fromString(e,...t);return ZT(s),new jr(r,null,new Ot(s))}{if(!(r instanceof jr||r instanceof Bl))throw new pt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(or.fromString(e,...t));return ZT(s),new jr(r.firestore,r instanceof Bl?r.converter:null,new Ot(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="AsyncQueue";class BP{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new P2(this,"async_queue_retry"),this.oc=()=>{const s=H1();s&&Ct(zP,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=H1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=H1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Hi;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Th(e))throw e;Ct(zP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,Yo("INTERNAL UNHANDLED ERROR: ",VP(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const a=O2.createAndSchedule(this,e,t,s,(i=>this.lc(i)));return this.ec.push(a),a}ac(){this.tc&&Ut(47125,{hc:VP(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function VP(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(r){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const i of s)if(i in a&&typeof a[i]=="function")return!0;return!1})(r,["next","error","complete"])}class xi extends Qy{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new BP,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BP(e),this._firestoreClient=void 0,await e}}}function uG(r,e){const t=typeof r=="object"?r:s2(),s=typeof r=="string"?r:Kb,a=Oy(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const i=_M("firestore");i&&dG(a,...i)}return a}function Ih(r){if(r._terminated)throw new pt(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||hG(r),r._firestoreClient}function hG(r){var e,t,s;const a=r._freezeSettings(),i=(function(l,c,d,u){return new Oq(l,c,d,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,O5(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new aG(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Sa.fromBase64String(e))}catch(t){throw new pt(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nn(Sa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($g(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Kr("string",Nn._jsonSchemaVersion),bytes:Kr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pt(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ja(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pt(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pt(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ds(this._lat,e._lat)||ds(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if($g(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Kr("string",qi._jsonSchemaVersion),latitude:Kr("number"),longitude:Kr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==a[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($g(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Wi(e.vectorValues);throw new pt(Ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:Kr("string",Wi._jsonSchemaVersion),vectorValues:Kr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=/^__.*__$/;class mG{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new dc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wg(e,this.data,t,this.fieldTransforms)}}class F5{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new dc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function U5(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ec:r})}}class Jy{constructor(e,t,s,a,i,o){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Jy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:s,mc:!1});return a.fc(e),a}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:s,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return oy(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(U5(this.Ec)&&fG.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class gG{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Xy(e)}Dc(e,t,s,a=!1){return new Jy({Ec:e,methodName:t,bc:s,path:ja.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(r){const e=r._freezeSettings(),t=Xy(r._databaseId);return new gG(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ev(r,e,t,s,a,i={}){const o=r.Dc(i.merge||i.mergeFields?2:0,e,t,a);Z2("Data must be an object, but it was:",o,s);const l=B5(s,o);let c,d;if(i.merge)c=new jn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const m=Ij(e,f,t);if(!o.contains(m))throw new pt(Ve.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);H5(u,m)||u.push(m)}c=new jn(u),d=o.fieldTransforms.filter((f=>c.covers(f.field)))}else c=null,d=o.fieldTransforms;return new mG(new Ha(l),c,d)}class tv extends Mh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tv}}function z5(r,e,t){return new Jy({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class W2 extends Mh{_toFieldTransform(e){return new j2(e.path,new dg)}isEqual(e){return e instanceof W2}}class Y2 extends Mh{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=z5(this,e,!0),s=this.vc.map((i=>Ld(i,t))),a=new dh(s);return new j2(e.path,a)}isEqual(e){return e instanceof Y2&&Ho(this.vc,e.vc)}}class G2 extends Mh{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=z5(this,e,!0),s=this.vc.map((i=>Ld(i,t))),a=new uh(s);return new j2(e.path,a)}isEqual(e){return e instanceof G2&&Ho(this.vc,e.vc)}}function X2(r,e,t,s){const a=r.Dc(1,e,t);Z2("Data must be an object, but it was:",a,s);const i=[],o=Ha.empty();cc(s,((c,d)=>{const u=Q2(e,c,t);d=Bs(d);const f=a.gc(u);if(d instanceof tv)i.push(u);else{const m=Ld(d,f);m!=null&&(i.push(u),o.set(u,m))}}));const l=new jn(i);return new F5(o,l,a.fieldTransforms)}function K2(r,e,t,s,a,i){const o=r.Dc(1,e,t),l=[Ij(e,s,t)],c=[a];if(i.length%2!=0)throw new pt(Ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Ij(e,i[m])),c.push(i[m+1]);const d=[],u=Ha.empty();for(let m=l.length-1;m>=0;--m)if(!H5(d,l[m])){const p=l[m];let y=c[m];y=Bs(y);const x=o.gc(p);if(y instanceof tv)d.push(p);else{const v=Ld(y,x);v!=null&&(d.push(p),u.set(p,v))}}const f=new jn(d);return new F5(u,f,o.fieldTransforms)}function pG(r,e,t,s=!1){return Ld(t,r.Dc(s?4:3,e))}function Ld(r,e){if(V5(r=Bs(r)))return Z2("Unsupported field value:",e,r),B5(r,e);if(r instanceof Mh)return(function(s,a){if(!U5(a.Ec))throw a.wc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(a);i&&a.fieldTransforms.push(i)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,a){const i=[];let o=0;for(const l of s){let c=Ld(l,a.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}})(r,e)}return(function(s,a){if((s=Bs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nW(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=br.fromDate(s);return{timestampValue:ty(a.serializer,i)}}if(s instanceof br){const i=new br(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ty(a.serializer,i)}}if(s instanceof qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:c5(a.serializer,s._byteString)};if(s instanceof jr){const i=a.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw a.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_2(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Wi)return(function(o,l){return{mapValue:{fields:{[OO]:{stringValue:LO},[Zb]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.wc("VectorValues must only contain numeric values.");return N2(l.serializer,d)}))}}}}}})(s,a);throw a.wc(`Unsupported field value: ${zy(s)}`)})(r,e)}function B5(r,e){const t={};return TO(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cc(r,((s,a)=>{const i=Ld(a,e.Vc(s));i!=null&&(t[s]=i)})),{mapValue:{fields:t}}}function V5(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof br||r instanceof qi||r instanceof Nn||r instanceof jr||r instanceof Mh||r instanceof Wi)}function Z2(r,e,t){if(!V5(t)||!CO(t)){const s=zy(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Ij(r,e,t){if((e=Bs(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return Q2(r,e);throw oy("Field path arguments must be of type string or ",r,!1,void 0,t)}const xG=new RegExp("[~\\*/\\[\\]]");function Q2(r,e,t){if(e.search(xG)>=0)throw oy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Dh(...e.split("."))._internalPath}catch{throw oy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function oy(r,e,t,s,a){const i=s&&!s.isEmpty(),o=a!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${a}`),c+=")"),new pt(Ve.INVALID_ARGUMENT,l+r+c)}function H5(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t,s,a,i){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bG extends ly{data(){return super.data()}}function sv(r,e){return typeof e=="string"?Q2(r,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pt(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J2{}class eS extends J2{}function Et(r,e,...t){let s=[];e instanceof J2&&s.push(e),s=s.concat(t),(function(i){const o=i.filter((c=>c instanceof tS)).length,l=i.filter((c=>c instanceof rv)).length;if(o>1||o>0&&l>0)throw new pt(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)r=a._apply(r);return r}class rv extends eS{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new rv(e,t,s)}_apply(e){const t=this._parse(e);return W5(e._query,t),new el(e.firestore,e.converter,kj(e._query,t))}_parse(e){const t=Oh(e.firestore);return(function(i,o,l,c,d,u,f){let m;if(d.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new pt(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){qP(f,u);const y=[];for(const x of f)y.push($P(c,i,x));m={arrayValue:{values:y}}}else m=$P(c,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||qP(f,u),m=pG(l,o,f,u==="in"||u==="not-in");return Gr.create(d,u,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function bt(r,e,t){const s=e,a=sv("where",r);return rv._create(a,s,t)}class tS extends J2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tS(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:pi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,i){let o=a;const l=i.getFlattenedFilters();for(const c of l)W5(o,c),o=kj(o,c)})(e._query,t),new el(e.firestore,e.converter,kj(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sS extends eS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sS(e,t)}_apply(e){const t=(function(a,i,o){if(a.startAt!==null)throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cg(i,o)})(e._query,this._field,this._direction);return new el(e.firestore,e.converter,(function(a,i){const o=a.explicitOrderBy.concat([i]);return new Ph(a.path,a.collectionGroup,o,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function mh(r,e="asc"){const t=e,s=sv("orderBy",r);return sS._create(s,t)}class rS extends eS{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new rS(e,t,s)}_apply(e){return new el(e.firestore,e.converter,Jb(e._query,this._limit,this._limitType))}}function q5(r){return Sq("limit",r),rS._create("limit",r,"F")}function $P(r,e,t){if(typeof(t=Bs(t))=="string"){if(t==="")throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qO(e)&&t.indexOf("/")!==-1)throw new pt(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(or.fromString(t));if(!Ot.isDocumentKey(s))throw new pt(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return iP(r,new Ot(s))}if(t instanceof jr)return iP(r,t._key);throw new pt(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zy(t)}.`)}function qP(r,e){if(!Array.isArray(r)||r.length===0)throw new pt(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W5(r,e){const t=(function(a,i){for(const o of a)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pt(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pt(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Y5{convertValue(e,t="none"){switch(Kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ut(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return cc(e,((a,i)=>{s[a]=this.convertValue(i,t)})),s}convertVectorValue(e){var t,s,a;const i=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[Zb].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map((o=>Ur(o.doubleValue)));return new Wi(i)}convertGeoPoint(e){return new qi(Ur(e.latitude),Ur(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Vy(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ig(e));default:return null}}convertTimestamp(e){const t=Gl(e);return new br(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=or.fromString(e);Is(p5(s),9688,{name:e});const a=new og(s.get(1),s.get(3)),i=new Ot(s.popFirst(5));return a.isEqual(t)||Yo(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class yG extends Y5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jr(this.firestore,null,t)}}class Hu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vl extends ly{constructor(e,t,s,a,i,o){super(e,t,s,a,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(sv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(Ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Vl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Vl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vl._jsonSchema={type:Kr("string",Vl._jsonSchemaVersion),bundleSource:Kr("string","DocumentSnapshot"),bundleName:Kr("string"),bundle:Kr("string")};class bb extends Vl{data(e={}){return super.data(e)}}class hd{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Hu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new bb(this._firestore,this._userDataWriter,s.key,s,new Hu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pt(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,i){if(a._snapshot.oldDocs.isEmpty()){let o=0;return a._snapshot.docChanges.map((l=>{const c=new bb(a._firestore,a._userDataWriter,l.doc.key,l.doc,new Hu(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new bb(a._firestore,a._userDataWriter,l.doc.key,l.doc,new Hu(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,u=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:vG(l.type),doc:c,oldIndex:d,newIndex:u}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(Ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=p2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vG(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(r){r=Da(r,jr);const e=Da(r.firestore,xi);return lG(Ih(e),r._key).then((t=>G5(e,r,t)))}hd._jsonSchemaVersion="firestore/querySnapshot/1.0",hd._jsonSchema={type:Kr("string",hd._jsonSchemaVersion),bundleSource:Kr("string","QuerySnapshot"),bundleName:Kr("string"),bundle:Kr("string")};class nv extends Y5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jr(this.firestore,null,t)}}function dt(r){r=Da(r,el);const e=Da(r.firestore,xi),t=Ih(e),s=new nv(e);return $5(r._query),cG(t,r._query).then((a=>new hd(e,s,r,a)))}function as(r,e,t){r=Da(r,jr);const s=Da(r.firestore,xi),a=av(r.converter,e,t);return Zg(s,[ev(Oh(s),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Xr.none())])}function _n(r,e,t,...s){r=Da(r,jr);const a=Da(r.firestore,xi),i=Oh(a);let o;return o=typeof(e=Bs(e))=="string"||e instanceof Dh?K2(i,"updateDoc",r._key,e,t,s):X2(i,"updateDoc",r._key,e),Zg(a,[o.toMutation(r._key,Xr.exists(!0))])}function ra(r){return Zg(Da(r.firestore,xi),[new Yg(r._key,Xr.none())])}function cn(r,e){const t=Da(r.firestore,xi),s=Te(r),a=av(r.converter,e);return Zg(t,[ev(Oh(r.firestore),"addDoc",s._key,a,r.converter!==null,{}).toMutation(s._key,Xr.exists(!1))]).then((()=>s))}function is(r,...e){var t,s,a;r=Bs(r);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||HP(e[o])||(i=e[o++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(HP(e[o])){const f=e[o];e[o]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[o+1]=(s=f.error)===null||s===void 0?void 0:s.bind(f),e[o+2]=(a=f.complete)===null||a===void 0?void 0:a.bind(f)}let c,d,u;if(r instanceof jr)d=Da(r.firestore,xi),u=Hy(r._key.path),c={next:f=>{e[o]&&e[o](G5(d,r,f))},error:e[o+1],complete:e[o+2]};else{const f=Da(r,el);d=Da(f.firestore,xi),u=f._query;const m=new nv(d);c={next:p=>{e[o]&&e[o](new hd(d,m,f,p))},error:e[o+1],complete:e[o+2]},$5(r._query)}return(function(m,p,y,x){const v=new $2(x),N=new B2(p,v,y);return m.asyncQueue.enqueueAndForget((async()=>F2(await iy(m),N))),()=>{v.Ou(),m.asyncQueue.enqueueAndForget((async()=>U2(await iy(m),N)))}})(Ih(d),u,l,c)}function Zg(r,e){return(function(s,a){const i=new Hi;return s.asyncQueue.enqueueAndForget((async()=>YY(await iG(s),a,i))),i.promise})(Ih(r),e)}function G5(r,e,t){const s=t.docs.get(e._key),a=new nv(r);return new Vl(r,a,e._key,s,new Hu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Oh(e)}set(e,t,s){this._verifyNotCommitted();const a=Il(e,this._firestore),i=av(a.converter,t,s),o=ev(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,s);return this._mutations.push(o.toMutation(a._key,Xr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const i=Il(e,this._firestore);let o;return o=typeof(t=Bs(t))=="string"||t instanceof Dh?K2(this._dataReader,"WriteBatch.update",i._key,t,s,a):X2(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,Xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Il(e,this._firestore);return this._mutations=this._mutations.concat(new Yg(t._key,Xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pt(Ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Il(r,e){if((r=Bs(r)).firestore!==e)throw new pt(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Oh(e)}get(e){const t=Il(e,this._firestore),s=new yG(this._firestore);return this._transaction.lookup([t._key]).then((a=>{if(!a||a.length!==1)return Ut(24041);const i=a[0];if(i.isFoundDocument())return new ly(this._firestore,s,i.key,i,t.converter);if(i.isNoDocument())return new ly(this._firestore,s,t._key,null,t.converter);throw Ut(18433,{doc:i})}))}set(e,t,s){const a=Il(e,this._firestore),i=av(a.converter,t,s),o=ev(this._dataReader,"Transaction.set",a._key,i,a.converter!==null,s);return this._transaction.set(a._key,o),this}update(e,t,s,...a){const i=Il(e,this._firestore);let o;return o=typeof(t=Bs(t))=="string"||t instanceof Dh?K2(this._dataReader,"Transaction.update",i._key,t,s,a):X2(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=Il(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG extends jG{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Il(e,this._firestore),s=new nv(this._firestore);return super.get(e).then((a=>new Vl(this._firestore,s,t._key,a._document,new Hu(!1,!1),t.converter)))}}function SG(r,e,t){r=Da(r,xi);const s=Object.assign(Object.assign({},wG),t);return(function(i){if(i.maxAttempts<1)throw new pt(Ve.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(i,o,l){const c=new Hi;return i.asyncQueue.enqueueAndForget((async()=>{const d=await oG(i);new rG(i.asyncQueue,d,l,o,c).zu()})),c.promise})(Ih(r),(a=>e(new kG(r,a))),s)}function Wn(){return new W2("serverTimestamp")}function _G(...r){return new Y2("arrayUnion",r)}function AG(...r){return new G2("arrayRemove",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(r){return Ih(r=Da(r,xi)),new NG(r,(e=>Zg(r,e)))}(function(e,t=!0){(function(a){Ch=a})(Dd),yd(new ql("firestore",((s,{instanceIdentifier:a,options:i})=>{const o=s.getProvider("app").getImmediate(),l=new xi(new xq(s.getProvider("auth-internal")),new vq(o,s.getProvider("app-check-internal")),(function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new pt(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new og(d.options.projectId,u)})(o,a),o);return i=Object.assign({useFetchStreams:t},i),l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Bi(WT,YT,e),Bi(WT,YT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="firebasestorage.googleapis.com",K5="storageBucket",CG=120*1e3,EG=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends ao{constructor(e,t,s=0){super(q1(e),`Firebase Storage: ${t} (${q1(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return q1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dr||(Dr={}));function q1(r){return"storage/"+r}function aS(){const r="An unknown error occurred, please check the error payload for server response.";return new Mr(Dr.UNKNOWN,r)}function TG(r){return new Mr(Dr.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function PG(r){return new Mr(Dr.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function RG(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mr(Dr.UNAUTHENTICATED,r)}function IG(){return new Mr(Dr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DG(r){return new Mr(Dr.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function MG(){return new Mr(Dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OG(){return new Mr(Dr.CANCELED,"User canceled the upload/download.")}function LG(r){return new Mr(Dr.INVALID_URL,"Invalid URL '"+r+"'.")}function FG(r){return new Mr(Dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function UG(){return new Mr(Dr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+K5+"' property when initializing the app?")}function zG(){return new Mr(Dr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BG(){return new Mr(Dr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function VG(r){return new Mr(Dr.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dj(r){return new Mr(Dr.INVALID_ARGUMENT,r)}function Z5(){return new Mr(Dr.APP_DELETED,"The Firebase app was deleted.")}function HG(r){return new Mr(Dr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zm(r,e){return new Mr(Dr.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Qf(r){throw new Mr(Dr.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=kn.makeFromUrl(e,t)}catch{return new kn(e,"")}if(s.path==="")return s;throw FG(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+a+o,"i"),c={bucket:1,path:3};function d(R){R.path_=decodeURIComponent(R.path)}const u="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${a}/o${m}`,"i"),y={bucket:1,path:3},x=t===X5?"(?:storage.googleapis.com|storage.cloud.google.com)":t,v="([^?#]*)",N=new RegExp(`^https?://${x}/${a}/${v}`,"i"),S=[{regex:l,indices:c,postModify:i},{regex:p,indices:y,postModify:d},{regex:N,indices:{bucket:1,path:2},postModify:d}];for(let R=0;R<S.length;R++){const A=S[R],D=A.regex.exec(e);if(D){const P=D[A.indices.bucket];let E=D[A.indices.path];E||(E=""),s=new kn(P,E),A.postModify(s);break}}if(s==null)throw LG(e);return s}}class $G{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(r,e,t){let s=1,a=null,i=null,o=!1,l=0;function c(){return l===2}let d=!1;function u(...v){d||(d=!0,e.apply(null,v))}function f(v){a=setTimeout(()=>{a=null,r(p,c())},v)}function m(){i&&clearTimeout(i)}function p(v,...N){if(d){m();return}if(v){m(),u.call(null,v,...N);return}if(c()||o){m(),u.call(null,v,...N);return}s<64&&(s*=2);let S;l===1?(l=2,S=0):S=(s+Math.random())*1e3,f(S)}let y=!1;function x(v){y||(y=!0,m(),!d&&(a!==null?(v||(l=2),clearTimeout(a),f(0)):v||(l=1)))}return f(0),i=setTimeout(()=>{o=!0,x(!0)},t),x}function WG(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(r){return r!==void 0}function GG(r){return typeof r=="object"&&!Array.isArray(r)}function nS(r){return typeof r=="string"||r instanceof String}function WP(r){return iS()&&r instanceof Blob}function iS(){return typeof Blob<"u"}function YP(r,e,t,s){if(s<e)throw Dj(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Dj(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function Q5(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const a=e(s)+"="+e(r[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var fd;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(fd||(fd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XG(r,e){const t=r>=500&&r<600,a=[408,429].indexOf(r)!==-1,i=e.indexOf(r)!==-1;return t||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e,t,s,a,i,o,l,c,d,u,f,m=!0,p=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=u,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,x)=>{this.resolve_=y,this.reject_=x,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new qx(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===fd.NO_ERROR,c=i.getStatus();if(!l||XG(c,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===fd.ABORT;s(!1,new qx(!1,null,u));return}const d=this.successCodes_.indexOf(c)!==-1;s(!0,new qx(d,i))})},t=(s,a)=>{const i=this.resolve_,o=this.reject_,l=a.connection;if(a.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());YG(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=aS();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(a.canceled){const c=this.appDelete_?Z5():OG();o(c)}else{const c=MG();o(c)}};this.canceled_?t(!1,new qx(!1,null,!0)):this.backoffId_=qG(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qx{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function ZG(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function QG(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JG(r,e){e&&(r["X-Firebase-GMPID"]=e)}function eX(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function tX(r,e,t,s,a,i,o=!0,l=!1){const c=Q5(r.urlParams),d=r.url+c,u=Object.assign({},r.headers);return JG(u,e),ZG(u,t),QG(u,i),eX(u,s),new KG(d,r.method,u,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rX(...r){const e=sX();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(iS())return new Blob(r);throw new Mr(Dr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function aX(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nX(r){if(typeof atob>"u")throw VG("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class W1{constructor(e,t){this.data=e,this.contentType=t||null}}function J5(r,e){switch(r){case di.RAW:return new W1(e6(e));case di.BASE64:case di.BASE64URL:return new W1(t6(r,e));case di.DATA_URL:return new W1(oX(e),lX(e))}throw aS()}function e6(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const i=s,o=r.charCodeAt(++t);s=65536|(i&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function iX(r){let e;try{e=decodeURIComponent(r)}catch{throw zm(di.DATA_URL,"Malformed data URL.")}return e6(e)}function t6(r,e){switch(r){case di.BASE64:{const a=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(a||i)throw zm(r,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case di.BASE64URL:{const a=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(a||i)throw zm(r,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=nX(e)}catch(a){throw a.message.includes("polyfill")?a:zm(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class s6{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw zm(di.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=cX(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function oX(r){const e=new s6(r);return e.base64?t6(di.BASE64,e.rest):iX(e.rest)}function lX(r){return new s6(r).contentType}function cX(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t){let s=0,a="";WP(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(WP(this.data_)){const s=this.data_,a=aX(s,e,t);return a===null?null:new Tl(a)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Tl(s,!0)}}static getBlob(...e){if(iS()){const t=e.map(s=>s instanceof Tl?s.data_:s);return new Tl(rX.apply(null,t))}else{const t=e.map(o=>nS(o)?J5(di.RAW,o).data:o.data_);let s=0;t.forEach(o=>{s+=o.byteLength});const a=new Uint8Array(s);let i=0;return t.forEach(o=>{for(let l=0;l<o.length;l++)a[i++]=o[l]}),new Tl(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(r){let e;try{e=JSON.parse(r)}catch{return null}return GG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dX(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function uX(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function a6(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(r,e){return e}class Ua{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||hX}}let Wx=null;function fX(r){return!nS(r)||r.length<2?r:a6(r)}function n6(){if(Wx)return Wx;const r=[];r.push(new Ua("bucket")),r.push(new Ua("generation")),r.push(new Ua("metageneration")),r.push(new Ua("name","fullPath",!0));function e(i,o){return fX(o)}const t=new Ua("name");t.xform=e,r.push(t);function s(i,o){return o!==void 0?Number(o):o}const a=new Ua("size");return a.xform=s,r.push(a),r.push(new Ua("timeCreated")),r.push(new Ua("updated")),r.push(new Ua("md5Hash",null,!0)),r.push(new Ua("cacheControl",null,!0)),r.push(new Ua("contentDisposition",null,!0)),r.push(new Ua("contentEncoding",null,!0)),r.push(new Ua("contentLanguage",null,!0)),r.push(new Ua("contentType",null,!0)),r.push(new Ua("metadata","customMetadata",!0)),Wx=r,Wx}function mX(r,e){function t(){const s=r.bucket,a=r.fullPath,i=new kn(s,a);return e._makeStorageReference(i)}Object.defineProperty(r,"ref",{get:t})}function gX(r,e,t){const s={};s.type="file";const a=t.length;for(let i=0;i<a;i++){const o=t[i];s[o.local]=o.xform(s,e[o.server])}return mX(s,r),s}function i6(r,e,t){const s=r6(e);return s===null?null:gX(r,s,t)}function pX(r,e,t,s){const a=r6(e);if(a===null||!nS(a.downloadTokens))return null;const i=a.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(d=>{const u=r.bucket,f=r.fullPath,m="/b/"+o(u)+"/o/"+o(f),p=oS(m,t,s),y=Q5({alt:"media",token:d});return p+y})[0]}function xX(r,e){const t={},s=e.length;for(let a=0;a<s;a++){const i=e[a];i.writable&&(t[i.server]=r[i.local])}return JSON.stringify(t)}class o6{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(r){if(!r)throw aS()}function bX(r,e){function t(s,a){const i=i6(r,a,e);return l6(i!==null),i}return t}function yX(r,e){function t(s,a){const i=i6(r,a,e);return l6(i!==null),pX(i,a,r.host,r._protocol)}return t}function c6(r){function e(t,s){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=IG():a=RG():t.getStatus()===402?a=PG(r.bucket):t.getStatus()===403?a=DG(r.path):a=s,a.status=t.getStatus(),a.serverResponse=s.serverResponse,a}return e}function vX(r){const e=c6(r);function t(s,a){let i=e(s,a);return s.getStatus()===404&&(i=TG(r.path)),i.serverResponse=a.serverResponse,i}return t}function wX(r,e,t){const s=e.fullServerUrl(),a=oS(s,r.host,r._protocol),i="GET",o=r.maxOperationRetryTime,l=new o6(a,i,yX(r,t),o);return l.errorHandler=vX(e),l}function NX(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function jX(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=NX(null,e)),s}function kX(r,e,t,s,a){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let S="";for(let R=0;R<2;R++)S=S+Math.random().toString().slice(2);return S}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=jX(e,s,a),u=xX(d,t),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+c+"--",p=Tl.getBlob(f,s,m);if(p===null)throw zG();const y={name:d.fullPath},x=oS(i,r.host,r._protocol),v="POST",N=r.maxUploadRetryTime,k=new o6(x,v,bX(r,t),N);return k.urlParams=y,k.headers=o,k.body=p.uploadData(),k.errorHandler=c6(e),k}class SX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a,i){if(this.sent_)throw Qf("cannot .send() more than once");if(oc(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _X extends SX{initXhr(){this.xhr_.responseType="text"}}function d6(){return new _X}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t){this._service=e,t instanceof kn?this._location=t:this._location=kn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new kd(e,t)}get root(){const e=new kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a6(this._location.path)}get storage(){return this._service}get parent(){const e=dX(this._location.path);if(e===null)return null;const t=new kn(this._location.bucket,e);return new kd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw HG(e)}}function AX(r,e,t){r._throwIfRoot("uploadBytes");const s=kX(r.storage,r._location,n6(),new Tl(e,!0),t);return r.storage.makeRequestWithTokens(s,d6).then(a=>({metadata:a,ref:r}))}function CX(r,e,t=di.RAW,s){r._throwIfRoot("uploadString");const a=J5(t,e),i=Object.assign({},s);return i.contentType==null&&a.contentType!=null&&(i.contentType=a.contentType),AX(r,a.data,i)}function EX(r){r._throwIfRoot("getDownloadURL");const e=wX(r.storage,r._location,n6());return r.storage.makeRequestWithTokens(e,d6).then(t=>{if(t===null)throw BG();return t})}function TX(r,e){const t=uX(r._location.path,e),s=new kn(r._location.bucket,t);return new kd(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(r){return/^[A-Za-z]+:\/\//.test(r)}function RX(r,e){return new kd(r,e)}function u6(r,e){if(r instanceof lS){const t=r;if(t._bucket==null)throw UG();const s=new kd(t,t._bucket);return e!=null?u6(s,e):s}else return e!==void 0?TX(r,e):r}function IX(r,e){if(e&&PX(e)){if(r instanceof lS)return RX(r,e);throw Dj("To use ref(service, url), the first argument must be a Storage instance.")}else return u6(r,e)}function GP(r,e){const t=e?.[K5];return t==null?null:kn.makeFromBucketSpec(t,r)}function DX(r,e,t,s={}){r.host=`${e}:${t}`;const a=oc(e);a&&(Qk(`https://${r.host}/b`),Jk("Storage",!0)),r._isUsingEmulator=!0,r._protocol=a?"https":"http";const{mockUserToken:i}=s;i&&(r._overrideAuthToken=typeof i=="string"?i:EM(i,r.app.options.projectId))}class lS{constructor(e,t,s,a,i,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=X5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CG,this._maxUploadRetryTime=EG,this._requests=new Set,a!=null?this._bucket=kn.makeFromBucketSpec(a,this._host):this._bucket=GP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=kn.makeFromBucketSpec(this._url,e):this._bucket=GP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kd(this,e)}_makeRequest(e,t,s,a,i=!0){if(this._deleted)return new $G(Z5());{const o=tX(e,this._appId,s,a,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const XP="@firebase/storage",KP="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="storage";function Y1(r,e,t,s){return r=Bs(r),CX(r,e,t,s)}function G1(r){return r=Bs(r),EX(r)}function X1(r,e){return r=Bs(r),IX(r,e)}function MX(r=s2(),e){r=Bs(r);const s=Oy(r,h6).getImmediate({identifier:e}),a=_M("storage");return a&&OX(s,...a),s}function OX(r,e,t,s={}){DX(r,e,t,s)}function LX(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new lS(t,s,a,e,Dd)}function FX(){yd(new ql(h6,LX,"PUBLIC").setMultipleInstances(!0)),Bi(XP,KP,""),Bi(XP,KP,"esm2017")}FX();let Pe,J,yb;try{const r=RM({apiKey:"AIzaSyCRWR2Z2xlmcGBSVHEbbkIm9nL_qpTGSno",authDomain:"foremade-backend.firebaseapp.com",projectId:"foremade-backend",storageBucket:"foremade-backend.firebasestorage.app",messagingSenderId:"957543574407",appId:"1:957543574407:web:315572254cc0ba6b80c122"});Pe=Hg(r),J=uG(r),yb=MX(r),iO(Pe,cO).then(()=>console.log("User auth persistence set to local")).catch(e=>console.error("Error setting user auth persistence:",e)),console.log("Firebase initialized successfully for users")}catch(r){throw console.error("Firebase initialization error for users:",r),new Error("Failed to initialize Firebase for users. Check your configuration.")}const f6=C.createContext(),Sd=()=>{const r=C.useContext(f6);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},UX=({children:r})=>{const[e,t]=C.useState(null),[s,a]=C.useState(null),[i,o]=C.useState(!0);C.useEffect(()=>{console.log("Setting up auth provider");const c=eo(Pe,async d=>{if(console.log("Auth state changed in context:",d?.uid),t(d),o(!1),d)try{const u=await ft(Te(J,"users",d.uid));u.exists()?a(u.data()):a(null)}catch(u){console.error("Error fetching user profile:",u),a(null)}else a(null)});return()=>{console.log("Cleaning up auth provider"),c()}},[]);const l={user:e,userProfile:s,loading:i,isAuthenticated:!!e};return n.jsx(f6.Provider,{value:l,children:!i&&r})};function m6(r,e){return function(){return r.apply(e,arguments)}}const{toString:zX}=Object.prototype,{getPrototypeOf:cS}=Object,{iterator:iv,toStringTag:g6}=Symbol,ov=(r=>e=>{const t=zX.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),vi=r=>(r=r.toLowerCase(),e=>ov(e)===r),lv=r=>e=>typeof e===r,{isArray:Lh}=Array,ug=lv("undefined");function Qg(r){return r!==null&&!ug(r)&&r.constructor!==null&&!ug(r.constructor)&&on(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const p6=vi("ArrayBuffer");function BX(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&p6(r.buffer),e}const VX=lv("string"),on=lv("function"),x6=lv("number"),Jg=r=>r!==null&&typeof r=="object",HX=r=>r===!0||r===!1,vb=r=>{if(ov(r)!=="object")return!1;const e=cS(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(g6 in r)&&!(iv in r)},$X=r=>{if(!Jg(r)||Qg(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},qX=vi("Date"),WX=vi("File"),YX=vi("Blob"),GX=vi("FileList"),XX=r=>Jg(r)&&on(r.pipe),KX=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||on(r.append)&&((e=ov(r))==="formdata"||e==="object"&&on(r.toString)&&r.toString()==="[object FormData]"))},ZX=vi("URLSearchParams"),[QX,JX,eK,tK]=["ReadableStream","Request","Response","Headers"].map(vi),sK=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ep(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,a;if(typeof r!="object"&&(r=[r]),Lh(r))for(s=0,a=r.length;s<a;s++)e.call(null,r[s],s,r);else{if(Qg(r))return;const i=t?Object.getOwnPropertyNames(r):Object.keys(r),o=i.length;let l;for(s=0;s<o;s++)l=i[s],e.call(null,r[l],l,r)}}function b6(r,e){if(Qg(r))return null;e=e.toLowerCase();const t=Object.keys(r);let s=t.length,a;for(;s-- >0;)if(a=t[s],e===a.toLowerCase())return a;return null}const rd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,y6=r=>!ug(r)&&r!==rd;function Mj(){const{caseless:r}=y6(this)&&this||{},e={},t=(s,a)=>{const i=r&&b6(e,a)||a;vb(e[i])&&vb(s)?e[i]=Mj(e[i],s):vb(s)?e[i]=Mj({},s):Lh(s)?e[i]=s.slice():e[i]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&ep(arguments[s],t);return e}const rK=(r,e,t,{allOwnKeys:s}={})=>(ep(e,(a,i)=>{t&&on(a)?r[i]=m6(a,t):r[i]=a},{allOwnKeys:s}),r),aK=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),nK=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},iK=(r,e,t,s)=>{let a,i,o;const l={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),i=a.length;i-- >0;)o=a[i],(!s||s(o,r,e))&&!l[o]&&(e[o]=r[o],l[o]=!0);r=t!==!1&&cS(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},oK=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},lK=r=>{if(!r)return null;if(Lh(r))return r;let e=r.length;if(!x6(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},cK=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&cS(Uint8Array)),dK=(r,e)=>{const s=(r&&r[iv]).call(r);let a;for(;(a=s.next())&&!a.done;){const i=a.value;e.call(r,i[0],i[1])}},uK=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},hK=vi("HTMLFormElement"),fK=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,a){return s.toUpperCase()+a}),ZP=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),mK=vi("RegExp"),v6=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};ep(t,(a,i)=>{let o;(o=e(a,i,r))!==!1&&(s[i]=o||a)}),Object.defineProperties(r,s)},gK=r=>{v6(r,(e,t)=>{if(on(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(on(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},pK=(r,e)=>{const t={},s=a=>{a.forEach(i=>{t[i]=!0})};return Lh(r)?s(r):s(String(r).split(e)),t},xK=()=>{},bK=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function yK(r){return!!(r&&on(r.append)&&r[g6]==="FormData"&&r[iv])}const vK=r=>{const e=new Array(10),t=(s,a)=>{if(Jg(s)){if(e.indexOf(s)>=0)return;if(Qg(s))return s;if(!("toJSON"in s)){e[a]=s;const i=Lh(s)?[]:{};return ep(s,(o,l)=>{const c=t(o,a+1);!ug(c)&&(i[l]=c)}),e[a]=void 0,i}}return s};return t(r,0)},wK=vi("AsyncFunction"),NK=r=>r&&(Jg(r)||on(r))&&on(r.then)&&on(r.catch),w6=((r,e)=>r?setImmediate:e?((t,s)=>(rd.addEventListener("message",({source:a,data:i})=>{a===rd&&i===t&&s.length&&s.shift()()},!1),a=>{s.push(a),rd.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",on(rd.postMessage)),jK=typeof queueMicrotask<"u"?queueMicrotask.bind(rd):typeof process<"u"&&process.nextTick||w6,kK=r=>r!=null&&on(r[iv]),Ue={isArray:Lh,isArrayBuffer:p6,isBuffer:Qg,isFormData:KX,isArrayBufferView:BX,isString:VX,isNumber:x6,isBoolean:HX,isObject:Jg,isPlainObject:vb,isEmptyObject:$X,isReadableStream:QX,isRequest:JX,isResponse:eK,isHeaders:tK,isUndefined:ug,isDate:qX,isFile:WX,isBlob:YX,isRegExp:mK,isFunction:on,isStream:XX,isURLSearchParams:ZX,isTypedArray:cK,isFileList:GX,forEach:ep,merge:Mj,extend:rK,trim:sK,stripBOM:aK,inherits:nK,toFlatObject:iK,kindOf:ov,kindOfTest:vi,endsWith:oK,toArray:lK,forEachEntry:dK,matchAll:uK,isHTMLForm:hK,hasOwnProperty:ZP,hasOwnProp:ZP,reduceDescriptors:v6,freezeMethods:gK,toObjectSet:pK,toCamelCase:fK,noop:xK,toFiniteNumber:bK,findKey:b6,global:rd,isContextDefined:y6,isSpecCompliantForm:yK,toJSONObject:vK,isAsyncFn:wK,isThenable:NK,setImmediate:w6,asap:jK,isIterable:kK};function ts(r,e,t,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Ue.inherits(ts,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ue.toJSONObject(this.config),code:this.code,status:this.status}}});const N6=ts.prototype,j6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{j6[r]={value:r}});Object.defineProperties(ts,j6);Object.defineProperty(N6,"isAxiosError",{value:!0});ts.from=(r,e,t,s,a,i)=>{const o=Object.create(N6);return Ue.toFlatObject(r,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ts.call(o,r.message,e,t,s,a),o.cause=r,o.name=r.name,i&&Object.assign(o,i),o};const SK=null;function Oj(r){return Ue.isPlainObject(r)||Ue.isArray(r)}function k6(r){return Ue.endsWith(r,"[]")?r.slice(0,-2):r}function QP(r,e,t){return r?r.concat(e).map(function(a,i){return a=k6(a),!t&&i?"["+a+"]":a}).join(t?".":""):e}function _K(r){return Ue.isArray(r)&&!r.some(Oj)}const AK=Ue.toFlatObject(Ue,{},null,function(e){return/^is[A-Z]/.test(e)});function cv(r,e,t){if(!Ue.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Ue.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!Ue.isUndefined(v[x])});const s=t.metaTokens,a=t.visitor||u,i=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Ue.isSpecCompliantForm(e);if(!Ue.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(Ue.isDate(y))return y.toISOString();if(Ue.isBoolean(y))return y.toString();if(!c&&Ue.isBlob(y))throw new ts("Blob is not supported. Use a Buffer instead.");return Ue.isArrayBuffer(y)||Ue.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,x,v){let N=y;if(y&&!v&&typeof y=="object"){if(Ue.endsWith(x,"{}"))x=s?x:x.slice(0,-2),y=JSON.stringify(y);else if(Ue.isArray(y)&&_K(y)||(Ue.isFileList(y)||Ue.endsWith(x,"[]"))&&(N=Ue.toArray(y)))return x=k6(x),N.forEach(function(S,R){!(Ue.isUndefined(S)||S===null)&&e.append(o===!0?QP([x],R,i):o===null?x:x+"[]",d(S))}),!1}return Oj(y)?!0:(e.append(QP(v,x,i),d(y)),!1)}const f=[],m=Object.assign(AK,{defaultVisitor:u,convertValue:d,isVisitable:Oj});function p(y,x){if(!Ue.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(y),Ue.forEach(y,function(N,k){(!(Ue.isUndefined(N)||N===null)&&a.call(e,N,Ue.isString(k)?k.trim():k,x,m))===!0&&p(N,x?x.concat(k):[k])}),f.pop()}}if(!Ue.isObject(r))throw new TypeError("data must be an object");return p(r),e}function JP(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function dS(r,e){this._pairs=[],r&&cv(r,this,e)}const S6=dS.prototype;S6.append=function(e,t){this._pairs.push([e,t])};S6.toString=function(e){const t=e?function(s){return e.call(this,s,JP)}:JP;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function CK(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _6(r,e,t){if(!e)return r;const s=t&&t.encode||CK;Ue.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let i;if(a?i=a(e,t):i=Ue.isURLSearchParams(e)?e.toString():new dS(e,t).toString(s),i){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class eR{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ue.forEach(this.handlers,function(s){s!==null&&e(s)})}}const A6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},EK=typeof URLSearchParams<"u"?URLSearchParams:dS,TK=typeof FormData<"u"?FormData:null,PK=typeof Blob<"u"?Blob:null,RK={isBrowser:!0,classes:{URLSearchParams:EK,FormData:TK,Blob:PK},protocols:["http","https","file","blob","url","data"]},uS=typeof window<"u"&&typeof document<"u",Lj=typeof navigator=="object"&&navigator||void 0,IK=uS&&(!Lj||["ReactNative","NativeScript","NS"].indexOf(Lj.product)<0),DK=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",MK=uS&&window.location.href||"http://localhost",OK=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uS,hasStandardBrowserEnv:IK,hasStandardBrowserWebWorkerEnv:DK,navigator:Lj,origin:MK},Symbol.toStringTag,{value:"Module"})),Pa={...OK,...RK};function LK(r,e){return cv(r,new Pa.classes.URLSearchParams,{visitor:function(t,s,a,i){return Pa.isNode&&Ue.isBuffer(t)?(this.append(s,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function FK(r){return Ue.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function UK(r){const e={},t=Object.keys(r);let s;const a=t.length;let i;for(s=0;s<a;s++)i=t[s],e[i]=r[i];return e}function C6(r){function e(t,s,a,i){let o=t[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=t.length;return o=!o&&Ue.isArray(a)?a.length:o,c?(Ue.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!Ue.isObject(a[o]))&&(a[o]=[]),e(t,s,a[o],i)&&Ue.isArray(a[o])&&(a[o]=UK(a[o])),!l)}if(Ue.isFormData(r)&&Ue.isFunction(r.entries)){const t={};return Ue.forEachEntry(r,(s,a)=>{e(FK(s),a,t,0)}),t}return null}function zK(r,e,t){if(Ue.isString(r))try{return(e||JSON.parse)(r),Ue.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const tp={transitional:A6,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,i=Ue.isObject(e);if(i&&Ue.isHTMLForm(e)&&(e=new FormData(e)),Ue.isFormData(e))return a?JSON.stringify(C6(e)):e;if(Ue.isArrayBuffer(e)||Ue.isBuffer(e)||Ue.isStream(e)||Ue.isFile(e)||Ue.isBlob(e)||Ue.isReadableStream(e))return e;if(Ue.isArrayBufferView(e))return e.buffer;if(Ue.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return LK(e,this.formSerializer).toString();if((l=Ue.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return cv(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||a?(t.setContentType("application/json",!1),zK(e)):e}],transformResponse:[function(e){const t=this.transitional||tp.transitional,s=t&&t.forcedJSONParsing,a=this.responseType==="json";if(Ue.isResponse(e)||Ue.isReadableStream(e))return e;if(e&&Ue.isString(e)&&(s&&!this.responseType||a)){const o=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?ts.from(l,ts.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pa.classes.FormData,Blob:Pa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ue.forEach(["delete","get","head","post","put","patch"],r=>{tp.headers[r]={}});const BK=Ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VK=r=>{const e={};let t,s,a;return r&&r.split(`
`).forEach(function(o){a=o.indexOf(":"),t=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!t||e[t]&&BK[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},tR=Symbol("internals");function Jf(r){return r&&String(r).trim().toLowerCase()}function wb(r){return r===!1||r==null?r:Ue.isArray(r)?r.map(wb):String(r)}function HK(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const $K=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function K1(r,e,t,s,a){if(Ue.isFunction(s))return s.call(this,e,t);if(a&&(e=t),!!Ue.isString(e)){if(Ue.isString(s))return e.indexOf(s)!==-1;if(Ue.isRegExp(s))return s.test(e)}}function qK(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function WK(r,e){const t=Ue.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(a,i,o){return this[s].call(this,e,a,i,o)},configurable:!0})})}let ln=class{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function i(l,c,d){const u=Jf(c);if(!u)throw new Error("header name must be a non-empty string");const f=Ue.findKey(a,u);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=wb(l))}const o=(l,c)=>Ue.forEach(l,(d,u)=>i(d,u,c));if(Ue.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Ue.isString(e)&&(e=e.trim())&&!$K(e))o(VK(e),t);else if(Ue.isObject(e)&&Ue.isIterable(e)){let l={},c,d;for(const u of e){if(!Ue.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?Ue.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,t)}else e!=null&&i(t,e,s);return this}get(e,t){if(e=Jf(e),e){const s=Ue.findKey(this,e);if(s){const a=this[s];if(!t)return a;if(t===!0)return HK(a);if(Ue.isFunction(t))return t.call(this,a,s);if(Ue.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Jf(e),e){const s=Ue.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||K1(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let a=!1;function i(o){if(o=Jf(o),o){const l=Ue.findKey(s,o);l&&(!t||K1(s,s[l],l,t))&&(delete s[l],a=!0)}}return Ue.isArray(e)?e.forEach(i):i(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const i=t[s];(!e||K1(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const t=this,s={};return Ue.forEach(this,(a,i)=>{const o=Ue.findKey(s,i);if(o){t[o]=wb(a),delete t[i];return}const l=e?qK(i):String(i).trim();l!==i&&delete t[i],t[l]=wb(a),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ue.forEach(this,(s,a)=>{s!=null&&s!==!1&&(t[a]=e&&Ue.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[tR]=this[tR]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Jf(o);s[l]||(WK(a,o),s[l]=!0)}return Ue.isArray(e)?e.forEach(i):i(e),this}};ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ue.reduceDescriptors(ln.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});Ue.freezeMethods(ln);function Z1(r,e){const t=this||tp,s=e||t,a=ln.from(s.headers);let i=s.data;return Ue.forEach(r,function(l){i=l.call(t,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function E6(r){return!!(r&&r.__CANCEL__)}function Fh(r,e,t){ts.call(this,r??"canceled",ts.ERR_CANCELED,e,t),this.name="CanceledError"}Ue.inherits(Fh,ts,{__CANCEL__:!0});function T6(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new ts("Request failed with status code "+t.status,[ts.ERR_BAD_REQUEST,ts.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function YK(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function GK(r,e){r=r||10;const t=new Array(r),s=new Array(r);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),t[a]=c,s[a]=d;let f=i,m=0;for(;f!==a;)m+=t[f++],f=f%r;if(a=(a+1)%r,a===i&&(i=(i+1)%r),d-o<e)return;const p=u&&d-u;return p?Math.round(m*1e3/p):void 0}}function XK(r,e){let t=0,s=1e3/e,a,i;const o=(d,u=Date.now())=>{t=u,a=null,i&&(clearTimeout(i),i=null),r(...d)};return[(...d)=>{const u=Date.now(),f=u-t;f>=s?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-f)))},()=>a&&o(a)]}const cy=(r,e,t=3)=>{let s=0;const a=GK(50,250);return XK(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=a(c),u=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(f)},t)},sR=(r,e)=>{const t=r!=null;return[s=>e[0]({lengthComputable:t,total:r,loaded:s}),e[1]]},rR=r=>(...e)=>Ue.asap(()=>r(...e)),KK=Pa.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Pa.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Pa.origin),Pa.navigator&&/(msie|trident)/i.test(Pa.navigator.userAgent)):()=>!0,ZK=Pa.hasStandardBrowserEnv?{write(r,e,t,s,a,i){const o=[r+"="+encodeURIComponent(e)];Ue.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Ue.isString(s)&&o.push("path="+s),Ue.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QK(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function JK(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function P6(r,e,t){let s=!QK(e);return r&&(s||t==!1)?JK(r,e):e}const aR=r=>r instanceof ln?{...r}:r;function _d(r,e){e=e||{};const t={};function s(d,u,f,m){return Ue.isPlainObject(d)&&Ue.isPlainObject(u)?Ue.merge.call({caseless:m},d,u):Ue.isPlainObject(u)?Ue.merge({},u):Ue.isArray(u)?u.slice():u}function a(d,u,f,m){if(Ue.isUndefined(u)){if(!Ue.isUndefined(d))return s(void 0,d,f,m)}else return s(d,u,f,m)}function i(d,u){if(!Ue.isUndefined(u))return s(void 0,u)}function o(d,u){if(Ue.isUndefined(u)){if(!Ue.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,f){if(f in e)return s(d,u);if(f in r)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,f)=>a(aR(d),aR(u),f,!0)};return Ue.forEach(Object.keys({...r,...e}),function(u){const f=c[u]||a,m=f(r[u],e[u],u);Ue.isUndefined(m)&&f!==l||(t[u]=m)}),t}const R6=r=>{const e=_d({},r);let{data:t,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=ln.from(o),e.url=_6(P6(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Ue.isFormData(t)){if(Pa.hasStandardBrowserEnv||Pa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Pa.hasStandardBrowserEnv&&(s&&Ue.isFunction(s)&&(s=s(e)),s||s!==!1&&KK(e.url))){const d=a&&i&&ZK.read(i);d&&o.set(a,d)}return e},eZ=typeof XMLHttpRequest<"u",tZ=eZ&&function(r){return new Promise(function(t,s){const a=R6(r);let i=a.data;const o=ln.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,f,m,p,y;function x(){p&&p(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function N(){if(!v)return;const S=ln.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:S,config:r,request:v};T6(function(P){t(P),x()},function(P){s(P),x()},A),v=null}"onloadend"in v?v.onloadend=N:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(N)},v.onabort=function(){v&&(s(new ts("Request aborted",ts.ECONNABORTED,r,v)),v=null)},v.onerror=function(){s(new ts("Network Error",ts.ERR_NETWORK,r,v)),v=null},v.ontimeout=function(){let R=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const A=a.transitional||A6;a.timeoutErrorMessage&&(R=a.timeoutErrorMessage),s(new ts(R,A.clarifyTimeoutError?ts.ETIMEDOUT:ts.ECONNABORTED,r,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&Ue.forEach(o.toJSON(),function(R,A){v.setRequestHeader(A,R)}),Ue.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),d&&([m,y]=cy(d,!0),v.addEventListener("progress",m)),c&&v.upload&&([f,p]=cy(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(u=S=>{v&&(s(!S||S.type?new Fh(null,r,v):S),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const k=YK(a.url);if(k&&Pa.protocols.indexOf(k)===-1){s(new ts("Unsupported protocol "+k+":",ts.ERR_BAD_REQUEST,r));return}v.send(i||null)})},sZ=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let s=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof ts?u:new Fh(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new ts(`timeout ${e} of ms exceeded`,ts.ETIMEDOUT))},e);const l=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),r=null)};r.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>Ue.asap(l),c}},rZ=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let s=0,a;for(;s<t;)a=s+e,yield r.slice(s,a),s=a},aZ=async function*(r,e){for await(const t of nZ(r))yield*rZ(t,e)},nZ=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},nR=(r,e,t,s)=>{const a=aZ(r,e);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let f=u.byteLength;if(t){let m=i+=f;t(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},dv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",I6=dv&&typeof ReadableStream=="function",iZ=dv&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),D6=(r,...e)=>{try{return!!r(...e)}catch{return!1}},oZ=I6&&D6(()=>{let r=!1;const e=new Request(Pa.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),iR=64*1024,Fj=I6&&D6(()=>Ue.isReadableStream(new Response("").body)),dy={stream:Fj&&(r=>r.body)};dv&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!dy[e]&&(dy[e]=Ue.isFunction(r[e])?t=>t[e]():(t,s)=>{throw new ts(`Response type '${e}' is not supported`,ts.ERR_NOT_SUPPORT,s)})})})(new Response);const lZ=async r=>{if(r==null)return 0;if(Ue.isBlob(r))return r.size;if(Ue.isSpecCompliantForm(r))return(await new Request(Pa.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Ue.isArrayBufferView(r)||Ue.isArrayBuffer(r))return r.byteLength;if(Ue.isURLSearchParams(r)&&(r=r+""),Ue.isString(r))return(await iZ(r)).byteLength},cZ=async(r,e)=>{const t=Ue.toFiniteNumber(r.getContentLength());return t??lZ(e)},dZ=dv&&(async r=>{let{url:e,method:t,data:s,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:f="same-origin",fetchOptions:m}=R6(r);d=d?(d+"").toLowerCase():"text";let p=sZ([a,i&&i.toAbortSignal()],o),y;const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(c&&oZ&&t!=="get"&&t!=="head"&&(v=await cZ(u,s))!==0){let A=new Request(e,{method:"POST",body:s,duplex:"half"}),D;if(Ue.isFormData(s)&&(D=A.headers.get("content-type"))&&u.setContentType(D),A.body){const[P,E]=sR(v,cy(rR(c)));s=nR(A.body,iR,P,E)}}Ue.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;y=new Request(e,{...m,signal:p,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:N?f:void 0});let k=await fetch(y,m);const S=Fj&&(d==="stream"||d==="response");if(Fj&&(l||S&&x)){const A={};["status","statusText","headers"].forEach(I=>{A[I]=k[I]});const D=Ue.toFiniteNumber(k.headers.get("content-length")),[P,E]=l&&sR(D,cy(rR(l),!0))||[];k=new Response(nR(k.body,iR,P,()=>{E&&E(),x&&x()}),A)}d=d||"text";let R=await dy[Ue.findKey(dy,d)||"text"](k,r);return!S&&x&&x(),await new Promise((A,D)=>{T6(A,D,{data:R,headers:ln.from(k.headers),status:k.status,statusText:k.statusText,config:r,request:y})})}catch(N){throw x&&x(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new ts("Network Error",ts.ERR_NETWORK,r,y),{cause:N.cause||N}):ts.from(N,N&&N.code,r,y)}}),Uj={http:SK,xhr:tZ,fetch:dZ};Ue.forEach(Uj,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const oR=r=>`- ${r}`,uZ=r=>Ue.isFunction(r)||r===null||r===!1,M6={getAdapter:r=>{r=Ue.isArray(r)?r:[r];const{length:e}=r;let t,s;const a={};for(let i=0;i<e;i++){t=r[i];let o;if(s=t,!uZ(t)&&(s=Uj[(o=String(t)).toLowerCase()],s===void 0))throw new ts(`Unknown adapter '${o}'`);if(s)break;a[o||"#"+i]=s}if(!s){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(oR).join(`
`):" "+oR(i[0]):"as no adapter specified";throw new ts("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Uj};function Q1(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Fh(null,r)}function lR(r){return Q1(r),r.headers=ln.from(r.headers),r.data=Z1.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),M6.getAdapter(r.adapter||tp.adapter)(r).then(function(s){return Q1(r),s.data=Z1.call(r,r.transformResponse,s),s.headers=ln.from(s.headers),s},function(s){return E6(s)||(Q1(r),s&&s.response&&(s.response.data=Z1.call(r,r.transformResponse,s.response),s.response.headers=ln.from(s.response.headers))),Promise.reject(s)})}const O6="1.11.0",uv={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{uv[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const cR={};uv.transitional=function(e,t,s){function a(i,o){return"[Axios v"+O6+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(e===!1)throw new ts(a(o," has been removed"+(t?" in "+t:"")),ts.ERR_DEPRECATED);return t&&!cR[o]&&(cR[o]=!0,console.warn(a(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,l):!0}};uv.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function hZ(r,e,t){if(typeof r!="object")throw new ts("options must be an object",ts.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let a=s.length;for(;a-- >0;){const i=s[a],o=e[i];if(o){const l=r[i],c=l===void 0||o(l,i,r);if(c!==!0)throw new ts("option "+i+" must be "+c,ts.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ts("Unknown option "+i,ts.ERR_BAD_OPTION)}}const Nb={assertOptions:hZ,validators:uv},Ii=Nb.validators;let md=class{constructor(e){this.defaults=e||{},this.interceptors={request:new eR,response:new eR}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=_d(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:i}=t;s!==void 0&&Nb.assertOptions(s,{silentJSONParsing:Ii.transitional(Ii.boolean),forcedJSONParsing:Ii.transitional(Ii.boolean),clarifyTimeoutError:Ii.transitional(Ii.boolean)},!1),a!=null&&(Ue.isFunction(a)?t.paramsSerializer={serialize:a}:Nb.assertOptions(a,{encode:Ii.function,serialize:Ii.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Nb.assertOptions(t,{baseUrl:Ii.spelling("baseURL"),withXsrfToken:Ii.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Ue.merge(i.common,i[t.method]);i&&Ue.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),t.headers=ln.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,f=0,m;if(!c){const y=[lR.bind(this),void 0];for(y.unshift(...l),y.push(...d),m=y.length,u=Promise.resolve(t);f<m;)u=u.then(y[f++],y[f++]);return u}m=l.length;let p=t;for(f=0;f<m;){const y=l[f++],x=l[f++];try{p=y(p)}catch(v){x.call(this,v);break}}try{u=lR.call(this,p)}catch(y){return Promise.reject(y)}for(f=0,m=d.length;f<m;)u=u.then(d[f++],d[f++]);return u}getUri(e){e=_d(this.defaults,e);const t=P6(e.baseURL,e.url,e.allowAbsoluteUrls);return _6(t,e.params,e.paramsSerializer)}};Ue.forEach(["delete","get","head","options"],function(e){md.prototype[e]=function(t,s){return this.request(_d(s||{},{method:e,url:t,data:(s||{}).data}))}});Ue.forEach(["post","put","patch"],function(e){function t(s){return function(i,o,l){return this.request(_d(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}md.prototype[e]=t(),md.prototype[e+"Form"]=t(!0)});let fZ=class L6{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,l){s.reason||(s.reason=new Fh(i,o,l),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new L6(function(a){e=a}),cancel:e}}};function mZ(r){return function(t){return r.apply(null,t)}}function gZ(r){return Ue.isObject(r)&&r.isAxiosError===!0}const zj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zj).forEach(([r,e])=>{zj[e]=r});function F6(r){const e=new md(r),t=m6(md.prototype.request,e);return Ue.extend(t,md.prototype,e,{allOwnKeys:!0}),Ue.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return F6(_d(r,a))},t}const os=F6(tp);os.Axios=md;os.CanceledError=Fh;os.CancelToken=fZ;os.isCancel=E6;os.VERSION=O6;os.toFormData=cv;os.AxiosError=ts;os.Cancel=os.CanceledError;os.all=function(e){return Promise.all(e)};os.spread=mZ;os.isAxiosError=gZ;os.mergeConfig=_d;os.AxiosHeaders=ln;os.formToJSON=r=>C6(Ue.isHTMLForm(r)?new FormData(r):r);os.getAdapter=M6.getAdapter;os.HttpStatusCode=zj;os.default=os;const{Axios:epe,AxiosError:tpe,CanceledError:spe,isCancel:rpe,CancelToken:ape,VERSION:npe,all:ipe,Cancel:ope,isAxiosError:lpe,spread:cpe,toFormData:dpe,AxiosHeaders:upe,HttpStatusCode:hpe,formToJSON:fpe,getAdapter:mpe,mergeConfig:gpe}=os,U6=C.createContext(),sp=()=>C.useContext(U6),pZ=({children:r})=>{const[e,t]=C.useState("USD"),[s,a]=C.useState({NGN:1,USD:62e-5,GBP:48e-5,JPY:.099,GHS:.0096,EUR:58e-5}),[i,o]=C.useState([{code:"USD",label:"$ USD"},{code:"NGN",label:" NGN"},{code:"GBP",label:" GBP"},{code:"JPY",label:" JPY"},{code:"GHS",label:" GHS"},{code:"EUR",label:" EUR"},{code:"CAD",label:"$ CAD"},{code:"AUD",label:"$ AUD"},{code:"CNY",label:" CNY"},{code:"INR",label:" INR"}]),[l,c]=C.useState(!0);C.useEffect(()=>{(async()=>{let m="US",p="USD";console.log("Starting currency detection via IP...");try{m=(await os.get("https://ipapi.co/json/",{timeout:5e3})).data.country_code?.toUpperCase()||"US",console.log("Country from IP:",m)}catch(x){console.error("IP geolocation error:",x.message)}p={NG:"NGN",GB:"GBP",US:"USD",JP:"JPY",GH:"GHS",DE:"EUR",FR:"EUR",IT:"EUR",ES:"EUR",CA:"CAD",AU:"AUD",CN:"CNY",IN:"INR",BR:"BRL",ZA:"ZAR",KE:"KES",MX:"MXN",RU:"RUB",SG:"SGD",AE:"AED",SA:"SAR",KR:"KRW",NZ:"NZD",CH:"CHF",SE:"SEK",NO:"NOK",DK:"DKK",EG:"EGP",TR:"TRY"}[m]||"USD",console.log("Set currency to:",p),t(p);try{console.log("Fetching exchange rates...");const x=Te(J,"currencyRates","latest"),v=await ft(x);if(v.exists()&&v.data().updatedAt?.toDate()>new Date(Date.now()-864e5))a(v.data().rates),o(v.data().availableCurrencies||i),console.log("Loaded rates from Firestore:",v.data().rates);else{const k=(await os.get("https://v6.exchangerate-api.com/v6/YOUR_API_KEY/latest/NGN",{timeout:5e3})).data.conversion_rates,S=Object.keys(k).sort().map(R=>({code:R,label:new Intl.NumberFormat("en-US",{style:"currency",currency:R}).format(0).replace(/[0-9.,]/g,"")+` ${R}`}));await as(x,{base:"NGN",rates:k,availableCurrencies:S,updatedAt:Wn()}),a(k),o(S),console.log("Fetched rates from API:",k)}}catch(x){console.error("Exchange rate fetch error:",x.message),a({NGN:1,USD:62e-5,GBP:48e-5,JPY:.099,GHS:.0096,EUR:58e-5})}finally{c(!1),console.log("Currency detection complete")}})()},[]);const d=f=>{if(!s[e])return console.warn(`Rate not found for ${e}, using NGN`),new Intl.NumberFormat("en-US",{style:"currency",currency:"NGN"}).format(f);const m=f*s[e];return new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(m)},u=f=>{s[f]?(console.log("Changing currency to:",f),t(f)):console.warn(`No rate for ${f}`)};return n.jsx(U6.Provider,{value:{currency:e,rates:s,convertPrice:d,changeCurrency:u,loading:l,availableCurrencies:i},children:r})};function xZ(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}xZ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hS=r=>typeof r=="number"&&!isNaN(r),hg=r=>typeof r=="string",z6=r=>typeof r=="function",bZ=r=>hg(r)||hS(r),yZ=r=>C.isValidElement(r)||hg(r)||z6(r)||hS(r),vZ=1,B6=()=>`${vZ++}`,Yi=new Map,Bj=[],dR=new Set,V6=()=>Yi.size>0,wZ=(r,{containerId:e})=>{var t;return(t=Yi.get(e||1))==null?void 0:t.toasts.get(r)};function NZ(r,e){var t;if(e)return!!((t=Yi.get(e))!=null&&t.isToastActive(r));let s=!1;return Yi.forEach(a=>{a.isToastActive(r)&&(s=!0)}),s}function jZ(r){if(!V6()){Bj=Bj.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||bZ(r))Yi.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=Yi.get(r.containerId);e?e.removeToast(r.id):Yi.forEach(t=>{t.removeToast(r.id)})}}var kZ=(r={})=>{Yi.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function SZ(r,e){yZ(r)&&(V6()||Bj.push({content:r,options:e}),Yi.forEach(t=>{t.buildToast(r,e)}))}function H6(r,e){Yi.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(r,e?.id)})}function _Z(r){return dR.add(r),()=>{dR.delete(r)}}function AZ(r){return r&&(hg(r.toastId)||hS(r.toastId))?r.toastId:B6()}function rp(r,e){return SZ(r,e),e.toastId}function hv(r,e){return{...e,type:e&&e.type||r,toastId:AZ(e)}}function fv(r){return(e,t)=>rp(e,hv(r,t))}function Me(r,e){return rp(r,hv("default",e))}Me.loading=(r,e)=>rp(r,hv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function CZ(r,{pending:e,error:t,success:s},a){let i;e&&(i=hg(e)?Me.loading(e,a):Me.loading(e.render,{...a,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,u,f)=>{if(u==null){Me.dismiss(i);return}let m={type:d,...o,...a,data:f},p=hg(u)?{render:u}:u;return i?Me.update(i,{...m,...p}):Me(p.render,{...m,...p}),f},c=z6(r)?r():r;return c.then(d=>l("success",s,d)).catch(d=>l("error",t,d)),c}Me.promise=CZ;Me.success=fv("success");Me.info=fv("info");Me.error=fv("error");Me.warning=fv("warning");Me.warn=Me.warning;Me.dark=(r,e)=>rp(r,hv("default",{theme:"dark",...e}));function EZ(r){jZ(r)}Me.dismiss=EZ;Me.clearWaitingQueue=kZ;Me.isActive=NZ;Me.update=(r,e={})=>{let t=wZ(r,e);if(t){let{props:s,content:a}=t,i={delay:100,...s,...e,toastId:e.toastId||r,updateId:B6()};i.toastId!==r&&(i.staleId=r);let o=i.render||a;delete i.render,rp(o,i)}};Me.done=r=>{Me.update(r,{progress:1})};Me.onChange=_Z;Me.play=r=>H6(!0,r);Me.pause=r=>H6(!1,r);const Bm=async(r,e,t=null)=>{if(!r||e<=0)throw new Error("Invalid cart item data");try{const s=Te(J,"products",r),a=await ft(s);if(!a.exists())throw new Error("Product not found");const i=a.data();if(i.stock<e)throw new Error(`Only ${i.stock} units available`);const o=await Gi(t),l=o.find(d=>d.productId===r);let c;if(l){const d=l.quantity+e;if(d>i.stock)throw new Error(`Cannot add more than ${i.stock} units`);c=o.map(u=>u.productId===r?{...u,quantity:d}:u)}else c=[...o,{productId:r,quantity:e,product:{name:i.name,price:i.price,image:i.imageUrl,stock:i.stock,sellerId:i.sellerId||"default-seller-id"}}];await Ad(c,t),Me.success("Added to cart")}catch(s){throw console.error("Error adding to cart:",s),Me.error(s.message),s}},Gi=async(r=null)=>{const e=r?`userCart_${r}`:"guestCart";let t=[];try{const s=localStorage.getItem(e);s&&(t=JSON.parse(s),Array.isArray(t)||(console.warn("Invalid cart format, resetting:",t),t=[]));const a=[];for(const i of t){if(!i.productId||i.quantity<=0){console.warn("Invalid cart item:",i);continue}try{const o=Te(J,"products",i.productId),l=await ft(o);if(l.exists()){const c=l.data();a.push({...i,product:{name:c.name,price:c.price,image:c.imageUrl,stock:c.stock,sellerId:c.sellerId||"default-seller-id"}})}else console.warn(`Product not found for ID: ${i.productId}`),Me.error(`Removed unavailable product (ID: ${i.productId}) from cart`)}catch(o){console.error(`Error validating product ${i.productId}:`,o),Me.error(`Error validating product (ID: ${i.productId})`)}}return a.length<t.length&&await Ad(a,r),a}catch(s){return console.error("Error fetching cart:",s),Me.error("Failed to fetch cart"),[]}},uR=async(r=null)=>{try{return(await Gi(r)).reduce((t,s)=>t+s.quantity,0)}catch(e){return console.error("Error getting cart item count:",e),0}},Ad=async(r,e=null)=>{const t=e?`userCart_${e}`:"guestCart";try{localStorage.setItem(t,JSON.stringify(r)),window.dispatchEvent(new Event("cartUpdated"))}catch(s){throw console.error("Error updating cart:",s),Me.error("Failed to update cart"),s}},mv=async(r=null)=>{try{await Ad([],r),Me.success("Cart cleared")}catch(e){throw console.error("Error clearing cart:",e),Me.error("Failed to clear cart"),e}},TZ=async r=>{if(!r)throw new Error("Please log in to checkout");const e=await Gi(r);if(e.length===0)throw new Error("Cart is empty");try{for(const s of e){const a=Te(J,"products",s.productId),i=await ft(a);if(!i.exists())throw new Error(`Product ${s.productId} no longer available`);const o=i.data();if(o.stock<s.quantity)throw new Error(`Insufficient stock for ${o.name}`)}const t=Ie(J,"orders");await cn(t,{userId:r,items:e,total:e.reduce((s,a)=>s+a.product.price*a.quantity,0),createdAt:new Date().toISOString(),status:"pending"}),await mv(r),Me.success("Order placed successfully")}catch(t){throw console.error("Checkout error:",t),Me.error(t.message),t}},PZ=async r=>{try{const e=await Gi(null);if(e.length===0)return;const s=[...await Gi(r)];for(const a of e){const i=s.find(o=>o.productId===a.productId);if(i){i.quantity+=a.quantity;try{const o=Te(J,"products",i.productId),l=await ft(o);if(l.exists()){const c=l.data();i.quantity>c.stock&&(i.quantity=c.stock,Me.warn(`Adjusted quantity for ${c.name} to available stock`))}}catch(o){console.error(`Error validating product ${i.productId}:`,o),Me.error(`Error validating product (ID: ${i.productId})`)}}else s.push(a)}await Ad(s,r),await mv(null),Me.success("Guest cart merged with your account")}catch(e){console.error("Error merging guest cart:",e),Me.error("Failed to merge guest cart")}},hR="/assets/foremade-Bxu0VQA7.png";function fR(){const[r,e]=C.useState(!1);C.useEffect(()=>{const s=localStorage.getItem("userData");s||localStorage.removeItem("freeShippingDismissed"),!localStorage.getItem("freeShippingDismissed")&&!s&&e(!0)},[]);const t=()=>{e(!1),localStorage.setItem("freeShippingDismissed","true")};return r?n.jsx("div",{className:"relative p-[1px] bg-[#eb9325]",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("p",{className:"text-white text-md max-md:text-sm m-1 max-md:m-0 text-center py-2",children:"Up to 30% off when you buy multiple items | Free shipping Nationwide!"}),n.jsx("button",{onClick:t,className:"absolute right-2 top-1/2 -translate-y-1/2 text-white hover:text-gray-200",title:"Dismiss","aria-label":"Dismiss free shipping banner",children:n.jsx("i",{className:"bx bx-x text-xl"})})]})}):null}const RZ=()=>{const r=Qr(),e=_s(),[t,s]=C.useState(""),[a,i]=C.useState([]),[o,l]=C.useState(!1),[c,d]=C.useState(!1),[u,f]=C.useState(null),[m,p]=C.useState(0),[y,x]=C.useState([]),[v,N]=C.useState(null),[k,S]=C.useState(null),[R,A]=C.useState(0),[D,P]=C.useState(!1),[E,I]=C.useState(!1),[M,L]=C.useState(!1),[z,F]=C.useState(!1),[V,$]=C.useState([]),Y="3rem",X=Be=>Be.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");C.useEffect(()=>{const Be=is(Ie(J,"categories"),de=>{const Ye=de.docs.map(be=>be.id).sort();$(Ye)},de=>{console.error("Error fetching categories:",de),Me.error("Failed to load categories")});return()=>Be()},[]);const ee=V.slice(0,8),W=V.slice(8),B=Be=>`/category/${X(Be)}`,G=r.pathname!=="/";C.useEffect(()=>{const Be=Pe.onAuthStateChanged(async de=>{N(de);try{const Ye=await uR(de?.uid);if(p(Ye),de)try{const be=localStorage.getItem("userData");be&&S(JSON.parse(be))}catch(be){console.error("Error parsing userData:",be),Me.error("Failed to load user profile")}else S(null),A(0),x([]),localStorage.removeItem("userData")}catch(Ye){console.error("Error in auth state:",Ye),Me.error("Failed to initialize session")}});return()=>Be()},[]),C.useEffect(()=>{v&&(async()=>{try{const de=Et(Ie(J,"notifications"),bt("userId","==",v.uid),bt("read","==",!1)),Ye=await dt(de);A(Ye.size)}catch(de){console.error("Error fetching notifications:",de),Me.error("Failed to load notifications")}})()},[v]),C.useEffect(()=>{const Be=()=>{try{const be=localStorage.getItem("favorites");x(be?JSON.parse(be):[])}catch(be){console.error("Error loading favorites:",be),Me.error("Failed to sync favorites")}};Be();const de=async()=>{try{const be=await uR(v?.uid);p(be)}catch(be){console.error("Error updating cart:",be),Me.error("Failed to update cart")}},Ye=be=>{be.key==="favorites"&&Be()};return window.addEventListener("cartUpdated",de),window.addEventListener("storage",Ye),()=>{window.removeEventListener("cartUpdated",de),window.removeEventListener("storage",Ye)}},[v]);const te=()=>k&&k.name?k.name.split(" ")[0]||"User":v?v.displayName?.split(" ")[0]||"User":"Guest",re=async Be=>{const de=Be.target.value;if(s(de),de.trim()===""){i([]),l(!1);return}d(!0);try{const Ye=Et(Ie(J,"products"),bt("status","==","approved")),Q=(await dt(Ye)).docs.map(me=>({id:me.id,...me.data()})).filter(me=>me.name.toLowerCase().includes(de.toLowerCase()));i(Q),l(!0)}catch(Ye){console.error("Error searching:",Ye),f("Failed to search."),Me.error("Search failed")}finally{d(!1)}},ie=()=>{t.trim()!==""&&a.length>0&&l(!0)},he=()=>{setTimeout(()=>l(!1),200)},le=()=>{L(!M)},De=()=>{F(!z)},Oe=()=>{setTimeout(()=>L(!1),200)};return u?n.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",u]}):n.jsxs("header",{className:"w-full",children:[n.jsx("div",{className:"bg-[#112639] hidden sm:flex text-white w-full py-0 h-9.5 items-center",children:n.jsxs("div",{className:"p-2 flex w-full h-full items-center justify-between",children:[" ",n.jsxs("div",{className:"flex items-center h-full pl-4",children:[" ",n.jsx(ve,{to:"/",children:n.jsx("img",{src:hR,className:"h-10 w-auto",alt:"Foremade"})}),n.jsxs("nav",{className:"flex items-center ml-2 mt-1",children:[n.jsx(ve,{to:"/products",className:"hover:text-gray-100 hover:underline transition-all px-2",children:"Shop"}),n.jsx(ve,{to:"/products-upload-variant",className:"hover:text-gray-100 hover:underline transition-all px-2",children:"Sell"}),n.jsx(ve,{to:"/smile",className:"hover:text-gray-100 hover:underline transition-all px-2",children:"Smile"})]})]}),n.jsxs("div",{className:"flex items-center gap-4 pr-4",children:[" ",v?n.jsxs(ve,{to:"/profile",className:"hover:text-gray-300 text-sm whitespace-nowrap",children:["Hi, ",te()]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ve,{to:"/login",className:"hover:text-gray-300 text-sm whitespace-nowrap",children:"Login"}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsx(ve,{to:"/register",className:"hover:text-gray-300 text-sm whitespace-nowrap",children:"Sign Up"})]}),n.jsxs(ve,{to:"/notifications",className:"relative flex items-center justify-center",children:[n.jsx("i",{className:"bx bx-bell text-xl"}),R>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:R})]}),n.jsxs(ve,{to:"/cart",className:"relative flex items-center justify-center",children:[n.jsx("i",{className:"bx bx-cart-alt text-xl text-white"}),m>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:m})]}),n.jsx(ve,{to:"/search",className:"lg:hidden",children:n.jsx("i",{className:"bx bx-search text-xl"})})]})]})}),n.jsx("div",{className:"hidden sm:block bg-[#eb9325] h-2 w-full"}),n.jsxs("div",{className:"sm:hidden bg-[#112639] text-white p-2 py-3 w-full flex items-center fixed top-0 left-0 right-0 z-40 overflow-x-hidden",style:{paddingTop:"env(safe-area-inset-top)"},children:[n.jsx("div",{className:"flex items-center min-w-0",children:n.jsx(ve,{to:"/",children:n.jsx("img",{src:hR,className:"h-9",alt:"Foremade"})})}),n.jsx("div",{className:"flex-1 min-w-0"}),n.jsxs("div",{className:"flex mt-4 items-center justify-end flex-1 min-w-0",children:[n.jsxs(ve,{to:"/cart",className:"relative flex items-center justify-center",children:[n.jsx("i",{className:"bx bx-cart-alt text-xl text-white"}),m>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:m})]}),n.jsx("button",{onClick:()=>P(!0),className:"ml-4 mr-4 flex items-center justify-center focus:outline-none",children:n.jsx("i",{className:"bx bx-menu text-2xl"})})]})]}),n.jsx("div",{className:"sm:hidden",style:{height:`calc(${Y} + env(safe-area-inset-top))`,minHeight:"3rem"}}),n.jsxs("div",{className:"block sm:hidden",children:[n.jsx("div",{className:"block sm:hidden bg-[#eb9325] h-2 w-full -mt-16 mb-14"}),n.jsx(fR,{})]}),n.jsxs("div",{className:"block sm:hidden px-2 mt-2",children:[n.jsxs("div",{className:"relative w-full",children:[n.jsx("input",{type:"text",placeholder:"Search for electronics, accessories...",className:"w-full p-2 pl-8 border border-gray-400 rounded-md text-black placeholder-gray-600 focus:outline-none text-xs",value:t,onChange:re,onFocus:ie,onBlur:he}),o&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-50 max-h-80 overflow-y-auto",children:c?n.jsx("div",{className:"p-2 text-xs text-gray-600",children:"Loading..."}):a.length>0?a.map(Be=>n.jsxs(ve,{to:`/product/${Be.id}`,className:"flex items-center p-2 hover:bg-gray-100",onClick:()=>{l(!1),s("")},children:[n.jsx("img",{src:Be.imageUrls&&Be.imageUrls[0]?.startsWith("https://")?Be.imageUrls[0]:"https://via.placeholder.com/40?text=Image+Not+Found",alt:Be.name,className:"w-8 h-8 object-cover rounded mr-2 flex-shrink-0",onError:de=>{de.target.src="https://via.placeholder.com/40?text=Image+Not+Found"}}),n.jsx("span",{className:"text-xs text-gray-800",children:Be.name})]},Be.id)):n.jsx("div",{className:"p-2 text-xs text-gray-600",children:"No results found"})})]}),n.jsx("div",{className:"flex overflow-x-auto gap-2 text-xs text-gray-700 py-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:V.map(Be=>n.jsx(ve,{to:B(Be),className:"hover:text-blue-600 bg-gray-100 rounded-full px-3 py-1 whitespace-nowrap flex-shrink-0",children:Be},Be))})]}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(fR,{})}),n.jsx("div",{className:"hidden sm:block",children:n.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-1 sm:py-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative w-full",children:[n.jsx("input",{type:"text",placeholder:"Search Foremade",className:"placeholder-slate-400 w-full p-2 pl-8 border border-gray-400 rounded-md text-black focus:outline-none text-xs sm:text-base",value:t,onChange:re,onFocus:ie,onBlur:he}),n.jsx("i",{className:"bx bx-search absolute right-5 top-1/2 transform -translate-y-1/2 text-gray-600 text-sm sm:text-base"}),o&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10 max-h-80 overflow-y-auto",children:c?n.jsx("div",{className:"p-2 text-xs sm:text-base text-gray-600",children:"Loading..."}):a.length>0?a.map(Be=>n.jsxs(ve,{to:`/product/${Be.id}`,className:"flex items-center p-2 hover:bg-gray-100",onClick:()=>{l(!1),s("")},children:[n.jsx("img",{src:Be.imageUrls&&Be.imageUrls[0]?.startsWith("https://")?Be.imageUrls[0]:"https://via.placeholder.com/40?text=Image+Not+Found",alt:Be.name,className:"w-8 sm:w-10 h-8 sm:h-10 object-cover rounded mr-2",onError:de=>{de.target.src="https://via.placeholder.com/40?text=Image+Not+Found"}}),n.jsx("span",{className:"text-xs sm:text-base text-gray-800",children:Be.name})]},Be.id)):n.jsx("div",{className:"p-2 text-xs sm:text-base text-gray-600",children:"No results found"})})]}),n.jsx("div",{className:"w-full mt-2 sm:mt-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-700 flex-wrap",children:[ee.map(Be=>n.jsx(ve,{to:B(Be),className:"hover:text-blue-600 whitespace-nowrap",children:Be},Be)),V.length>8&&n.jsxs("div",{className:"relative",onMouseLeave:Oe,children:[n.jsxs("button",{onClick:le,className:"hover:text-blue-600 focus:outline-none whitespace-nowrap",children:["More ",n.jsx("i",{className:"bx bx-chevron-down"})]}),M&&n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-[60%] mt-1 w-72 bg-white border border-gray-200 rounded-md shadow-lg z-[9999] max-h-80 overflow-y-auto",children:W.map(Be=>n.jsx(ve,{to:B(Be),className:"block px-4 py-2 text-gray-800 hover:bg-gray-100 text-sm",onClick:()=>L(!1),children:Be},Be))})]})]})})]})})}),G&&n.jsx("div",{className:"w-full flex justify-start mt-2 px-2 sm:px-4",children:n.jsxs("button",{onClick:()=>{window.history.length>2?e(-1):e("/")},className:"flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-200 text-blue-700 text-sm font-medium focus:outline-none","aria-label":"Go back",children:[n.jsx("i",{className:"bx bx-arrow-back text-xl"}),n.jsx("span",{className:"sm:inline",children:"Return"})]})}),n.jsxs("nav",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around items-center py-2 z-40",children:[n.jsxs(ve,{to:"/",className:`flex flex-col items-center ${r.pathname==="/"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-home-alt text-2xl"}),n.jsx("span",{className:"text-xs",children:"Home"})]}),n.jsxs(ve,{to:"/search",className:`flex flex-col items-center ${r.pathname==="/search"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-search text-2xl"}),n.jsx("span",{className:"text-xs",children:"Search"})]}),n.jsxs(ve,{to:"/products-upload-variant",className:`flex flex-col items-center ${r.pathname==="/products-upload"?"text-blue-600":"text-orange-500"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bxs-plus-circle text-2xl"}),n.jsx("span",{className:"text-xs",children:"Sell"})]}),n.jsxs(ve,{to:"/notifications",className:`flex flex-col items-center relative ${r.pathname==="/notifications"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-bell text-2xl"}),R>0&&n.jsx("span",{className:"absolute top-0 right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:R}),n.jsx("span",{className:"text-xs",children:"Inbox"})]}),n.jsxs(ve,{to:"/profile",className:`flex flex-col items-center ${r.pathname==="/profile"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-user text-2xl"}),n.jsx("span",{className:"text-xs",children:"You"})]})]}),n.jsxs("div",{className:"sm:hidden",children:[n.jsx("div",{className:"fixed top-0 left-0 h-full bg-[#f8d7b0] w-full transform transition-transform duration-300 ease-in-out z-50 overflow-y-auto max-h-screen",style:{transform:D?"translateX(0)":"translateX(-100%)"},children:n.jsxs("div",{className:"p-4",children:[n.jsx("button",{onClick:()=>P(!1),className:"mb-4",children:n.jsx("i",{className:"bx bx-x text-2xl text-[#112040]"})}),n.jsxs("div",{className:"flex flex-col space-y-3",children:[n.jsxs("div",{className:"flex justify-center gap-2 w-full mb-4",children:[n.jsx(ve,{to:"/products",className:"bg-white/80 text-[#112040] hover:text-amber-500 text-base py-3 px-4 rounded-lg border border-[#112040]/20 font-semibold shadow-sm hover:bg-white transition-all",onClick:()=>P(!1),children:"Shop"}),n.jsx(ve,{to:"/products-upload-variant",className:"bg-white/80 text-[#112040] hover:text-amber-500 text-base py-3 px-4 rounded-lg border border-[#112040]/20 font-semibold shadow-sm hover:bg-white transition-all",onClick:()=>P(!1),children:"Sell"}),n.jsx(ve,{to:"/smile",className:"bg-white/80 text-[#112040] hover:text-amber-500 text-base py-3 px-4 rounded-lg border border-[#112040]/20 font-semibold shadow-sm hover:bg-white transition-all",onClick:()=>P(!1),children:"Smile"})]}),!v&&n.jsxs("div",{className:"flex items-center justify-center mt-6 bg-[#112040] text-white px-4 py-3 rounded-lg text-sm hover:bg-[#112040]/80",children:[n.jsx(ve,{to:"/login",className:"mx-2",onClick:()=>P(!1),children:"Log in"}),n.jsx("span",{className:"mx-1",children:"|"}),n.jsx(ve,{to:"/register",className:"mx-2",onClick:()=>P(!1),children:"Sign up"})]}),v&&n.jsx(ve,{to:"/profile",className:"mt-6 bg-[#112040] text-white px-4 py-3 rounded-lg text-sm hover:bg-[#112040]/80 text-center",onClick:()=>P(!1),children:"My Profile"}),n.jsxs("div",{className:"space-y-1",children:[V.slice(0,8).map(Be=>n.jsx(ve,{to:B(Be),className:"text-[#112040] hover:text-amber-500 text-sm py-2 border-b border-[#112040]/10 block",onClick:()=>P(!1),children:Be},Be)),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:De,className:"text-[#112040] hover:text-amber-500 text-sm py-2 border-b border-[#112040]/10 w-full text-left flex items-center justify-between",children:["More ",n.jsx("i",{className:"bx bx-chevron-down"})]}),z&&n.jsxs("div",{className:"mt-2 space-y-1 z-100",children:[console.log("Mobile More Dropdown Open:",z,"Categories:",V.slice(8)),V.slice(8).map(Be=>n.jsx(ve,{to:B(Be),className:"text-[#112040] hover:text-amber-500 text-sm py-2 pl-4 border-b border-[#112040]/10 block",onClick:()=>{P(!1),F(!1)},children:Be},Be))]})]})]})]})]})}),D&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>P(!1)})]})]})},fS=C.createContext({});function mS(r){const e=C.useRef(null);return e.current===null&&(e.current=r()),e.current}const gS=typeof window<"u",$6=gS?C.useLayoutEffect:C.useEffect,gv=C.createContext(null);function pS(r,e){r.indexOf(e)===-1&&r.push(e)}function xS(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}const Xo=(r,e,t)=>t>e?e:t<r?r:t;let bS=()=>{};const Ko={},q6=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function W6(r){return typeof r=="object"&&r!==null}const Y6=r=>/^0[^.\s]+$/u.test(r);function yS(r){let e;return()=>(e===void 0&&(e=r()),e)}const Gn=r=>r,IZ=(r,e)=>t=>e(r(t)),ap=(...r)=>r.reduce(IZ),fg=(r,e,t)=>{const s=e-r;return s===0?1:(t-r)/s};class vS{constructor(){this.subscriptions=[]}add(e){return pS(this.subscriptions,e),()=>xS(this.subscriptions,e)}notify(e,t,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xi=r=>r*1e3,Ki=r=>r/1e3;function G6(r,e){return e?r*(1e3/e):0}const X6=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,DZ=1e-7,MZ=12;function OZ(r,e,t,s,a){let i,o,l=0;do o=e+(t-e)/2,i=X6(o,s,a)-r,i>0?t=o:e=o;while(Math.abs(i)>DZ&&++l<MZ);return o}function np(r,e,t,s){if(r===e&&t===s)return Gn;const a=i=>OZ(i,0,1,r,t);return i=>i===0||i===1?i:X6(a(i),e,s)}const K6=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,Z6=r=>e=>1-r(1-e),Q6=np(.33,1.53,.69,.99),wS=Z6(Q6),J6=K6(wS),eL=r=>(r*=2)<1?.5*wS(r):.5*(2-Math.pow(2,-10*(r-1))),NS=r=>1-Math.sin(Math.acos(r)),tL=Z6(NS),sL=K6(NS),LZ=np(.42,0,1,1),FZ=np(0,0,.58,1),rL=np(.42,0,.58,1),UZ=r=>Array.isArray(r)&&typeof r[0]!="number",aL=r=>Array.isArray(r)&&typeof r[0]=="number",zZ={linear:Gn,easeIn:LZ,easeInOut:rL,easeOut:FZ,circIn:NS,circInOut:sL,circOut:tL,backIn:wS,backInOut:J6,backOut:Q6,anticipate:eL},BZ=r=>typeof r=="string",mR=r=>{if(aL(r)){bS(r.length===4);const[e,t,s,a]=r;return np(e,t,s,a)}else if(BZ(r))return zZ[r];return r},Yx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VZ(r,e){let t=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),r()),u(l)}const d={schedule:(u,f=!1,m=!1)=>{const y=m&&a?t:s;return f&&o.add(u),y.has(u)||y.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[t,s]=[s,t],t.forEach(c),t.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const HZ=40;function nL(r,e){let t=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>t=!0,o=Yx.reduce((S,R)=>(S[R]=VZ(i),S),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:m,render:p,postRender:y}=o,x=()=>{const S=Ko.useManualTiming?a.timestamp:performance.now();t=!1,Ko.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(S-a.timestamp,HZ),1)),a.timestamp=S,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),f.process(a),m.process(a),p.process(a),y.process(a),a.isProcessing=!1,t&&e&&(s=!1,r(x))},v=()=>{t=!0,s=!0,a.isProcessing||r(x)};return{schedule:Yx.reduce((S,R)=>{const A=o[R];return S[R]=(D,P=!1,E=!1)=>(t||v(),A.schedule(D,P,E)),S},{}),cancel:S=>{for(let R=0;R<Yx.length;R++)o[Yx[R]].cancel(S)},state:a,steps:o}}const{schedule:vr,cancel:Jl,state:va,steps:J1}=nL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let jb;function $Z(){jb=void 0}const an={now:()=>(jb===void 0&&an.set(va.isProcessing||Ko.useManualTiming?va.timestamp:performance.now()),jb),set:r=>{jb=r,queueMicrotask($Z)}},iL=r=>e=>typeof e=="string"&&e.startsWith(r),jS=iL("--"),qZ=iL("var(--"),kS=r=>qZ(r)?WZ.test(r.split("/*")[0].trim()):!1,WZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uh={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},mg={...Uh,transform:r=>Xo(0,1,r)},Gx={...Uh,default:1},Vm=r=>Math.round(r*1e5)/1e5,SS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YZ(r){return r==null}const GZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_S=(r,e)=>t=>!!(typeof t=="string"&&GZ.test(t)&&t.startsWith(r)||e&&!YZ(t)&&Object.prototype.hasOwnProperty.call(t,e)),oL=(r,e,t)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(SS);return{[r]:parseFloat(a),[e]:parseFloat(i),[t]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},XZ=r=>Xo(0,255,r),eN={...Uh,transform:r=>Math.round(XZ(r))},ad={test:_S("rgb","red"),parse:oL("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:s=1})=>"rgba("+eN.transform(r)+", "+eN.transform(e)+", "+eN.transform(t)+", "+Vm(mg.transform(s))+")"};function KZ(r){let e="",t="",s="",a="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),s=r.substring(5,7),a=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),s=r.substring(3,4),a=r.substring(4,5),e+=e,t+=t,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Vj={test:_S("#"),parse:KZ,transform:ad.transform},ip=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),Al=ip("deg"),Zi=ip("%"),Gt=ip("px"),ZZ=ip("vh"),QZ=ip("vw"),gR={...Zi,parse:r=>Zi.parse(r)/100,transform:r=>Zi.transform(r*100)},$u={test:_S("hsl","hue"),parse:oL("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(r)+", "+Zi.transform(Vm(e))+", "+Zi.transform(Vm(t))+", "+Vm(mg.transform(s))+")"},Yr={test:r=>ad.test(r)||Vj.test(r)||$u.test(r),parse:r=>ad.test(r)?ad.parse(r):$u.test(r)?$u.parse(r):Vj.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?ad.transform(r):$u.transform(r),getAnimatableNone:r=>{const e=Yr.parse(r);return e.alpha=0,Yr.transform(e)}},JZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eQ(r){return isNaN(r)&&typeof r=="string"&&(r.match(SS)?.length||0)+(r.match(JZ)?.length||0)>0}const lL="number",cL="color",tQ="var",sQ="var(",pR="${}",rQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gg(r){const e=r.toString(),t=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(rQ,c=>(Yr.test(c)?(s.color.push(i),a.push(cL),t.push(Yr.parse(c))):c.startsWith(sQ)?(s.var.push(i),a.push(tQ),t.push(c)):(s.number.push(i),a.push(lL),t.push(parseFloat(c))),++i,pR)).split(pR);return{values:t,split:l,indexes:s,types:a}}function dL(r){return gg(r).values}function uL(r){const{split:e,types:t}=gg(r),s=e.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],a[o]!==void 0){const l=t[o];l===lL?i+=Vm(a[o]):l===cL?i+=Yr.transform(a[o]):i+=a[o]}return i}}const aQ=r=>typeof r=="number"?0:Yr.test(r)?Yr.getAnimatableNone(r):r;function nQ(r){const e=dL(r);return uL(r)(e.map(aQ))}const ec={test:eQ,parse:dL,createTransformer:uL,getAnimatableNone:nQ};function tN(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function iQ({hue:r,saturation:e,lightness:t,alpha:s}){r/=360,e/=100,t/=100;let a=0,i=0,o=0;if(!e)a=i=o=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;a=tN(c,l,r+1/3),i=tN(c,l,r),o=tN(c,l,r-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function uy(r,e){return t=>t>0?e:r}const Nr=(r,e,t)=>r+(e-r)*t,sN=(r,e,t)=>{const s=r*r,a=t*(e*e-s)+s;return a<0?0:Math.sqrt(a)},oQ=[Vj,ad,$u],lQ=r=>oQ.find(e=>e.test(r));function xR(r){const e=lQ(r);if(!e)return!1;let t=e.parse(r);return e===$u&&(t=iQ(t)),t}const bR=(r,e)=>{const t=xR(r),s=xR(e);if(!t||!s)return uy(r,e);const a={...t};return i=>(a.red=sN(t.red,s.red,i),a.green=sN(t.green,s.green,i),a.blue=sN(t.blue,s.blue,i),a.alpha=Nr(t.alpha,s.alpha,i),ad.transform(a))},Hj=new Set(["none","hidden"]);function cQ(r,e){return Hj.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function dQ(r,e){return t=>Nr(r,e,t)}function AS(r){return typeof r=="number"?dQ:typeof r=="string"?kS(r)?uy:Yr.test(r)?bR:fQ:Array.isArray(r)?hL:typeof r=="object"?Yr.test(r)?bR:uQ:uy}function hL(r,e){const t=[...r],s=t.length,a=r.map((i,o)=>AS(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)t[o]=a[o](i);return t}}function uQ(r,e){const t={...r,...e},s={};for(const a in t)r[a]!==void 0&&e[a]!==void 0&&(s[a]=AS(r[a])(r[a],e[a]));return a=>{for(const i in s)t[i]=s[i](a);return t}}function hQ(r,e){const t=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=r.indexes[i][s[i]],l=r.values[o]??0;t[a]=l,s[i]++}return t}const fQ=(r,e)=>{const t=ec.createTransformer(e),s=gg(r),a=gg(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Hj.has(r)&&!a.values.length||Hj.has(e)&&!s.values.length?cQ(r,e):ap(hL(hQ(s,a),a.values),t):uy(r,e)};function fL(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?Nr(r,e,t):AS(r)(r,e)}const mQ=r=>{const e=({timestamp:t})=>r(t);return{start:(t=!0)=>vr.update(e,t),stop:()=>Jl(e),now:()=>va.isProcessing?va.timestamp:an.now()}},mL=(r,e,t=10)=>{let s="";const a=Math.max(Math.round(e/t),2);for(let i=0;i<a;i++)s+=Math.round(r(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},hy=2e4;function CS(r){let e=0;const t=50;let s=r.next(e);for(;!s.done&&e<hy;)e+=t,s=r.next(e);return e>=hy?1/0:e}function gQ(r,e=100,t){const s=t({...r,keyframes:[0,e]}),a=Math.min(CS(s),hy);return{type:"keyframes",ease:i=>s.next(a*i).value/e,duration:Ki(a)}}const pQ=5;function gL(r,e,t){const s=Math.max(e-pQ,0);return G6(t-r(s),e-s)}const Tr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rN=.001;function xQ({duration:r=Tr.duration,bounce:e=Tr.bounce,velocity:t=Tr.velocity,mass:s=Tr.mass}){let a,i,o=1-e;o=Xo(Tr.minDamping,Tr.maxDamping,o),r=Xo(Tr.minDuration,Tr.maxDuration,Ki(r)),o<1?(a=d=>{const u=d*o,f=u*r,m=u-t,p=$j(d,o),y=Math.exp(-f);return rN-m/p*y},i=d=>{const f=d*o*r,m=f*t+t,p=Math.pow(o,2)*Math.pow(d,2)*r,y=Math.exp(-f),x=$j(Math.pow(d,2),o);return(-a(d)+rN>0?-1:1)*((m-p)*y)/x}):(a=d=>{const u=Math.exp(-d*r),f=(d-t)*r+1;return-rN+u*f},i=d=>{const u=Math.exp(-d*r),f=(t-d)*(r*r);return u*f});const l=5/r,c=yQ(a,i,l);if(r=Xi(r),isNaN(c))return{stiffness:Tr.stiffness,damping:Tr.damping,duration:r};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:r}}}const bQ=12;function yQ(r,e,t){let s=t;for(let a=1;a<bQ;a++)s=s-r(s)/e(s);return s}function $j(r,e){return r*Math.sqrt(1-e*e)}const vQ=["duration","bounce"],wQ=["stiffness","damping","mass"];function yR(r,e){return e.some(t=>r[t]!==void 0)}function NQ(r){let e={velocity:Tr.velocity,stiffness:Tr.stiffness,damping:Tr.damping,mass:Tr.mass,isResolvedFromDuration:!1,...r};if(!yR(r,wQ)&&yR(r,vQ))if(r.visualDuration){const t=r.visualDuration,s=2*Math.PI/(t*1.2),a=s*s,i=2*Xo(.05,1,1-(r.bounce||0))*Math.sqrt(a);e={...e,mass:Tr.mass,stiffness:a,damping:i}}else{const t=xQ(r);e={...e,...t,mass:Tr.mass},e.isResolvedFromDuration=!0}return e}function fy(r=Tr.visualDuration,e=Tr.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:s,restDelta:a}=t;const i=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:m,isResolvedFromDuration:p}=NQ({...t,velocity:-Ki(t.velocity||0)}),y=m||0,x=d/(2*Math.sqrt(c*u)),v=o-i,N=Ki(Math.sqrt(c/u)),k=Math.abs(v)<5;s||(s=k?Tr.restSpeed.granular:Tr.restSpeed.default),a||(a=k?Tr.restDelta.granular:Tr.restDelta.default);let S;if(x<1){const A=$j(N,x);S=D=>{const P=Math.exp(-x*N*D);return o-P*((y+x*N*v)/A*Math.sin(A*D)+v*Math.cos(A*D))}}else if(x===1)S=A=>o-Math.exp(-N*A)*(v+(y+N*v)*A);else{const A=N*Math.sqrt(x*x-1);S=D=>{const P=Math.exp(-x*N*D),E=Math.min(A*D,300);return o-P*((y+x*N*v)*Math.sinh(E)+A*v*Math.cosh(E))/A}}const R={calculatedDuration:p&&f||null,next:A=>{const D=S(A);if(p)l.done=A>=f;else{let P=A===0?y:0;x<1&&(P=A===0?Xi(y):gL(S,A,D));const E=Math.abs(P)<=s,I=Math.abs(o-D)<=a;l.done=E&&I}return l.value=l.done?o:D,l},toString:()=>{const A=Math.min(CS(R),hy),D=mL(P=>R.next(A*P).value,A,30);return A+"ms "+D},toTransition:()=>{}};return R}fy.applyToOptions=r=>{const e=gQ(r,100,fy);return r.ease=e.ease,r.duration=Xi(e.duration),r.type="keyframes",r};function qj({keyframes:r,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=r[0],m={done:!1,value:f},p=E=>l!==void 0&&E<l||c!==void 0&&E>c,y=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let x=t*e;const v=f+x,N=o===void 0?v:o(v);N!==v&&(x=N-f);const k=E=>-x*Math.exp(-E/s),S=E=>N+k(E),R=E=>{const I=k(E),M=S(E);m.done=Math.abs(I)<=d,m.value=m.done?N:M};let A,D;const P=E=>{p(m.value)&&(A=E,D=fy({keyframes:[m.value,y(m.value)],velocity:gL(S,E,m.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:E=>{let I=!1;return!D&&A===void 0&&(I=!0,R(E),P(E)),A!==void 0&&E>=A?D.next(E-A):(!I&&R(E),m)}}}function jQ(r,e,t){const s=[],a=t||Ko.mix||fL,i=r.length-1;for(let o=0;o<i;o++){let l=a(r[o],r[o+1]);if(e){const c=Array.isArray(e)?e[o]||Gn:e;l=ap(c,l)}s.push(l)}return s}function kQ(r,e,{clamp:t=!0,ease:s,mixer:a}={}){const i=r.length;if(bS(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=r[0]===r[1];r[0]>r[i-1]&&(r=[...r].reverse(),e=[...e].reverse());const l=jQ(e,s,a),c=l.length,d=u=>{if(o&&u<r[0])return e[0];let f=0;if(c>1)for(;f<r.length-2&&!(u<r[f+1]);f++);const m=fg(r[f],r[f+1],u);return l[f](m)};return t?u=>d(Xo(r[0],r[i-1],u)):d}function SQ(r,e){const t=r[r.length-1];for(let s=1;s<=e;s++){const a=fg(0,e,s);r.push(Nr(t,1,a))}}function _Q(r){const e=[0];return SQ(e,r.length-1),e}function AQ(r,e){return r.map(t=>t*e)}function CQ(r,e){return r.map(()=>e||rL).splice(0,r.length-1)}function Hm({duration:r=300,keyframes:e,times:t,ease:s="easeInOut"}){const a=UZ(s)?s.map(mR):mR(s),i={done:!1,value:e[0]},o=AQ(t&&t.length===e.length?t:_Q(e),r),l=kQ(o,e,{ease:Array.isArray(a)?a:CQ(e,a)});return{calculatedDuration:r,next:c=>(i.value=l(c),i.done=c>=r,i)}}const EQ=r=>r!==null;function ES(r,{repeat:e,repeatType:t="loop"},s,a=1){const i=r.filter(EQ),l=a<0||e&&t!=="loop"&&e%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const TQ={decay:qj,inertia:qj,tween:Hm,keyframes:Hm,spring:fy};function pL(r){typeof r.type=="string"&&(r.type=TQ[r.type])}class TS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const PQ=r=>r/100;class PS extends TS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==an.now()&&this.tick(an.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;pL(e);const{type:t=Hm,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=t||Hm;c!==Hm&&typeof l[0]!="number"&&(this.mixKeyframes=ap(PQ,fL(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=CS(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:m,repeatDelay:p,type:y,onUpdate:x,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let S=this.currentTime,R=s;if(f){const E=Math.min(this.currentTime,a)/l;let I=Math.floor(E),M=E%1;!M&&E>=1&&(M=1),M===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(m==="reverse"?(M=1-M,p&&(M-=p/l)):m==="mirror"&&(R=o)),S=Xo(0,1,M)*l}const A=k?{done:!1,value:u[0]}:R.next(S);i&&(A.value=i(A.value));let{done:D}=A;!k&&c!==null&&(D=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return P&&y!==qj&&(A.value=ES(u,this.options,v,this.speed)),x&&x(A.value),P&&this.finish(),A}then(e,t){return this.finished.then(e,t)}get duration(){return Ki(this.calculatedDuration)}get time(){return Ki(this.currentTime)}set time(e){e=Xi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(an.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ki(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=mQ,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(an.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function RQ(r){for(let e=1;e<r.length;e++)r[e]??(r[e]=r[e-1])}const nd=r=>r*180/Math.PI,Wj=r=>{const e=nd(Math.atan2(r[1],r[0]));return Yj(e)},IQ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Wj,rotateZ:Wj,skewX:r=>nd(Math.atan(r[1])),skewY:r=>nd(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Yj=r=>(r=r%360,r<0&&(r+=360),r),vR=Wj,wR=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),NR=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),DQ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wR,scaleY:NR,scale:r=>(wR(r)+NR(r))/2,rotateX:r=>Yj(nd(Math.atan2(r[6],r[5]))),rotateY:r=>Yj(nd(Math.atan2(-r[2],r[0]))),rotateZ:vR,rotate:vR,skewX:r=>nd(Math.atan(r[4])),skewY:r=>nd(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function Gj(r){return r.includes("scale")?1:0}function Xj(r,e){if(!r||r==="none")return Gj(e);const t=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(t)s=DQ,a=t;else{const l=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=IQ,a=l}if(!a)return Gj(e);const i=s[e],o=a[1].split(",").map(OQ);return typeof i=="function"?i(o):o[i]}const MQ=(r,e)=>{const{transform:t="none"}=getComputedStyle(r);return Xj(t,e)};function OQ(r){return parseFloat(r.trim())}const zh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bh=new Set(zh),jR=r=>r===Uh||r===Gt,LQ=new Set(["x","y","z"]),FQ=zh.filter(r=>!LQ.has(r));function UQ(r){const e=[];return FQ.forEach(t=>{const s=r.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const gd={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:(r,{transform:e})=>Xj(e,"x"),y:(r,{transform:e})=>Xj(e,"y")};gd.translateX=gd.x;gd.translateY=gd.y;const pd=new Set;let Kj=!1,Zj=!1,Qj=!1;function xL(){if(Zj){const r=Array.from(pd).filter(s=>s.needsMeasurement),e=new Set(r.map(s=>s.element)),t=new Map;e.forEach(s=>{const a=UQ(s);a.length&&(t.set(s,a),s.render())}),r.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=t.get(s);a&&a.forEach(([i,o])=>{s.getValue(i)?.set(o)})}),r.forEach(s=>s.measureEndState()),r.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Zj=!1,Kj=!1,pd.forEach(r=>r.complete(Qj)),pd.clear()}function bL(){pd.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Zj=!0)})}function zQ(){Qj=!0,bL(),xL(),Qj=!1}class RS{constructor(e,t,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(pd.add(this),Kj||(Kj=!0,vr.read(bL),vr.resolveKeyframes(xL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:a}=this;if(e[0]===null){const i=a?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&t){const l=s.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}RQ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),pd.delete(this)}cancel(){this.state==="scheduled"&&(pd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const BQ=r=>r.startsWith("--");function VQ(r,e,t){BQ(e)?r.style.setProperty(e,t):r.style[e]=t}const HQ=yS(()=>window.ScrollTimeline!==void 0),$Q={};function qQ(r,e){const t=yS(r);return()=>$Q[e]??t()}const yL=qQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cm=([r,e,t,s])=>`cubic-bezier(${r}, ${e}, ${t}, ${s})`,kR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cm([0,.65,.55,1]),circOut:Cm([.55,0,1,.45]),backIn:Cm([.31,.01,.66,-.59]),backOut:Cm([.33,1.53,.69,.99])};function vL(r,e){if(r)return typeof r=="function"?yL()?mL(r,e):"ease-out":aL(r)?Cm(r):Array.isArray(r)?r.map(t=>vL(t,e)||kR.easeOut):kR[r]}function WQ(r,e,t,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:t};c&&(u.offset=c);const f=vL(l,a);Array.isArray(f)&&(u.easing=f);const m={delay:s,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),r.animate(u,m)}function wL(r){return typeof r=="function"&&"applyToOptions"in r}function YQ({type:r,...e}){return wL(r)&&yL()?r.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class GQ extends TS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,bS(typeof e.type!="string");const d=YQ(e);this.animation=WQ(t,s,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=ES(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):VQ(t,s,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ki(Number(e))}get time(){return Ki(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Xi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&HQ()?(this.animation.timeline=e,Gn):t(this)}}const NL={anticipate:eL,backInOut:J6,circInOut:sL};function XQ(r){return r in NL}function KQ(r){typeof r.ease=="string"&&XQ(r.ease)&&(r.ease=NL[r.ease])}const SR=10;class ZQ extends GQ{constructor(e){KQ(e),pL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new PS({...o,autoplay:!1}),c=Xi(this.finishedTime??this.time);t.setWithVelocity(l.sample(c-SR).value,l.sample(c).value,SR),l.stop()}}const _R=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(ec.test(r)||r==="0")&&!r.startsWith("url("));function QQ(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function JQ(r,e,t,s){const a=r[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=r[r.length-1],o=_R(a,e),l=_R(i,e);return!o||!l?!1:QQ(r)||(t==="spring"||wL(t))&&s}function Jj(r){r.duration=0,r.type}const eJ=new Set(["opacity","clipPath","filter","transform"]),tJ=yS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sJ(r){const{motionValue:e,name:t,repeatDelay:s,repeatType:a,damping:i,type:o}=r;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return tJ()&&t&&eJ.has(t)&&(t!=="transform"||!d)&&!c&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const rJ=40;class aJ extends TS{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=an.now();const m={autoplay:e,delay:t,type:s,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...f},p=u?.KeyframeResolver||RS;this.keyframeResolver=new p(l,(y,x,v)=>this.onKeyframesResolved(y,x,m,!v),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=an.now(),JQ(e,i,o,l)||((Ko.instantAnimations||!c)&&u?.(ES(e,s,t)),e[0]=e[e.length-1],Jj(s),s.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>rJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},p=!d&&sJ(m)?new ZQ({...m,element:m.motionValue.owner.current}):new PS(m);p.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),zQ()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const nJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iJ(r){const e=nJ.exec(r);if(!e)return[,];const[,t,s,a]=e;return[`--${t??s}`,a]}function jL(r,e,t=1){const[s,a]=iJ(r);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return q6(o)?parseFloat(o):o}return kS(a)?jL(a,e,t+1):a}function IS(r,e){return r?.[e]??r?.default??r}const kL=new Set(["width","height","top","left","right","bottom",...zh]),oJ={test:r=>r==="auto",parse:r=>r},SL=r=>e=>e.test(r),_L=[Uh,Gt,Zi,Al,QZ,ZZ,oJ],AR=r=>_L.find(SL(r));function lJ(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Y6(r):!0}const cJ=new Set(["brightness","contrast","saturate","opacity"]);function dJ(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[s]=t.match(SS)||[];if(!s)return r;const a=t.replace(s,"");let i=cJ.has(e)?1:0;return s!==t&&(i*=100),e+"("+i+a+")"}const uJ=/\b([a-z-]*)\(.*?\)/gu,ek={...ec,getAnimatableNone:r=>{const e=r.match(uJ);return e?e.map(dJ).join(" "):r}},CR={...Uh,transform:Math.round},hJ={rotate:Al,rotateX:Al,rotateY:Al,rotateZ:Al,scale:Gx,scaleX:Gx,scaleY:Gx,scaleZ:Gx,skew:Al,skewX:Al,skewY:Al,distance:Gt,translateX:Gt,translateY:Gt,translateZ:Gt,x:Gt,y:Gt,z:Gt,perspective:Gt,transformPerspective:Gt,opacity:mg,originX:gR,originY:gR,originZ:Gt},DS={borderWidth:Gt,borderTopWidth:Gt,borderRightWidth:Gt,borderBottomWidth:Gt,borderLeftWidth:Gt,borderRadius:Gt,radius:Gt,borderTopLeftRadius:Gt,borderTopRightRadius:Gt,borderBottomRightRadius:Gt,borderBottomLeftRadius:Gt,width:Gt,maxWidth:Gt,height:Gt,maxHeight:Gt,top:Gt,right:Gt,bottom:Gt,left:Gt,padding:Gt,paddingTop:Gt,paddingRight:Gt,paddingBottom:Gt,paddingLeft:Gt,margin:Gt,marginTop:Gt,marginRight:Gt,marginBottom:Gt,marginLeft:Gt,backgroundPositionX:Gt,backgroundPositionY:Gt,...hJ,zIndex:CR,fillOpacity:mg,strokeOpacity:mg,numOctaves:CR},fJ={...DS,color:Yr,backgroundColor:Yr,outlineColor:Yr,fill:Yr,stroke:Yr,borderColor:Yr,borderTopColor:Yr,borderRightColor:Yr,borderBottomColor:Yr,borderLeftColor:Yr,filter:ek,WebkitFilter:ek},AL=r=>fJ[r];function CL(r,e){let t=AL(r);return t!==ek&&(t=ec),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const mJ=new Set(["auto","none","0"]);function gJ(r,e,t){let s=0,a;for(;s<r.length&&!a;){const i=r[s];typeof i=="string"&&!mJ.has(i)&&gg(i).values.length&&(a=r[s]),s++}if(a&&t)for(const i of e)r[i]=CL(t,a)}class pJ extends RS{constructor(e,t,s,a,i){super(e,t,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),kS(d))){const u=jL(d,t.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!kL.has(s)||e.length!==2)return;const[a,i]=e,o=AR(a),l=AR(i);if(o!==l)if(jR(o)&&jR(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else gd[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||lJ(e[a]))&&s.push(a);s.length&&gJ(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gd[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=gd[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function xJ(r,e,t){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let s=document;const a=t?.[r]??s.querySelectorAll(r);return a?Array.from(a):[]}return Array.from(r)}const EL=(r,e)=>e&&typeof r=="number"?e.transform(r):r;function TL(r){return W6(r)&&"offsetHeight"in r}const ER=30,bJ=r=>!isNaN(parseFloat(r));class yJ{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=an.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=an.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new vS);const s=this.events[e].add(t);return e==="change"?()=>{s(),vr.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=an.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ER)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,ER);return G6(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gh(r,e){return new yJ(r,e)}const{schedule:MS}=nL(queueMicrotask,!1),ni={x:!1,y:!1};function PL(){return ni.x||ni.y}function vJ(r){return r==="x"||r==="y"?ni[r]?null:(ni[r]=!0,()=>{ni[r]=!1}):ni.x||ni.y?null:(ni.x=ni.y=!0,()=>{ni.x=ni.y=!1})}function RL(r,e){const t=xJ(r),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[t,a,()=>s.abort()]}function TR(r){return!(r.pointerType==="touch"||PL())}function wJ(r,e,t={}){const[s,a,i]=RL(r,t),o=l=>{if(!TR(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=f=>{TR(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const IL=(r,e)=>e?r===e?!0:IL(r,e.parentElement):!1,OS=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,NJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jJ(r){return NJ.has(r.tagName)||r.tabIndex!==-1}const kb=new WeakSet;function PR(r){return e=>{e.key==="Enter"&&r(e)}}function aN(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kJ=(r,e)=>{const t=r.currentTarget;if(!t)return;const s=PR(()=>{if(kb.has(t))return;aN(t,"down");const a=PR(()=>{aN(t,"up")}),i=()=>aN(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",i,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function RR(r){return OS(r)&&!PL()}function SJ(r,e,t={}){const[s,a,i]=RL(r,t),o=l=>{const c=l.currentTarget;if(!RR(l))return;kb.add(c);const d=e(c,l),u=(p,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),kb.has(c)&&kb.delete(c),RR(p)&&typeof d=="function"&&d(p,{success:y})},f=p=>{u(p,c===window||c===document||t.useGlobalTarget||IL(c,p.target))},m=p=>{u(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",m,a)};return s.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),TL(l)&&(l.addEventListener("focus",d=>kJ(d,a)),!jJ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function DL(r){return W6(r)&&"ownerSVGElement"in r}function _J(r){return DL(r)&&r.tagName==="svg"}const Ra=r=>!!(r&&r.getVelocity),AJ=[..._L,Yr,ec],CJ=r=>AJ.find(SL(r)),LS=C.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class EJ extends C.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const s=t.offsetParent,a=TL(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function TJ({children:r,isPresent:e,anchorX:t,root:s}){const a=C.useId(),i=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=C.useContext(LS);return C.useInsertionEffect(()=>{const{width:c,height:d,top:u,left:f,right:m}=o.current;if(e||!i.current||!c||!d)return;const p=t==="left"?`left: ${f}`:`right: ${m}`;i.current.dataset.motionPopId=a;const y=document.createElement("style");l&&(y.nonce=l);const x=s??document.head;return x.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${u}px !important;
          }
        `),()=>{x.contains(y)&&x.removeChild(y)}},[e]),n.jsx(EJ,{isPresent:e,childRef:i,sizeRef:o,children:C.cloneElement(r,{ref:i})})}const PJ=({children:r,initial:e,isPresent:t,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=mS(RJ),u=C.useId();let f=!0,m=C.useMemo(()=>(f=!1,{id:u,initial:e,isPresent:t,custom:a,onExitComplete:p=>{d.set(p,!0);for(const y of d.values())if(!y)return;s&&s()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[t,d,s]);return i&&f&&(m={...m}),C.useMemo(()=>{d.forEach((p,y)=>d.set(y,!1))},[t]),C.useEffect(()=>{!t&&!d.size&&s&&s()},[t]),o==="popLayout"&&(r=n.jsx(TJ,{isPresent:t,anchorX:l,root:c,children:r})),n.jsx(gv.Provider,{value:m,children:r})};function RJ(){return new Map}function ML(r=!0){const e=C.useContext(gv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,i=C.useId();C.useEffect(()=>{if(r)return a(i)},[r]);const o=C.useCallback(()=>r&&s&&s(i),[i,s,r]);return!t&&s?[!1,o]:[!0]}const Xx=r=>r.key||"";function IR(r){const e=[];return C.Children.forEach(r,t=>{C.isValidElement(t)&&e.push(t)}),e}const Zn=({children:r,custom:e,initial:t=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=ML(o),f=C.useMemo(()=>IR(r),[r]),m=o&&!d?[]:f.map(Xx),p=C.useRef(!0),y=C.useRef(f),x=mS(()=>new Map),[v,N]=C.useState(f),[k,S]=C.useState(f);$6(()=>{p.current=!1,y.current=f;for(let D=0;D<k.length;D++){const P=Xx(k[D]);m.includes(P)?x.delete(P):x.get(P)!==!0&&x.set(P,!1)}},[k,m.length,m.join("-")]);const R=[];if(f!==v){let D=[...f];for(let P=0;P<k.length;P++){const E=k[P],I=Xx(E);m.includes(I)||(D.splice(P,0,E),R.push(E))}return i==="wait"&&R.length&&(D=R),S(IR(D)),N(f),null}const{forceRender:A}=C.useContext(fS);return n.jsx(n.Fragment,{children:k.map(D=>{const P=Xx(D),E=o&&!d?!1:f===k||m.includes(P),I=()=>{if(x.has(P))x.set(P,!0);else return;let M=!0;x.forEach(L=>{L||(M=!1)}),M&&(A?.(),S(y.current),o&&u?.(),s&&s())};return n.jsx(PJ,{isPresent:E,initial:!p.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:E?void 0:I,anchorX:l,children:D},P)})})},OL=C.createContext({strict:!1}),DR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ph={};for(const r in DR)ph[r]={isEnabled:e=>DR[r].some(t=>!!e[t])};function IJ(r){for(const e in r)ph[e]={...ph[e],...r[e]}}const DJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function my(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||DJ.has(r)}let LL=r=>!my(r);function MJ(r){typeof r=="function"&&(LL=e=>e.startsWith("on")?!my(e):r(e))}try{MJ(require("@emotion/is-prop-valid").default)}catch{}function OJ(r,e,t){const s={};for(const a in r)a==="values"&&typeof r.values=="object"||(LL(a)||t===!0&&my(a)||!e&&!my(a)||r.draggable&&a.startsWith("onDrag"))&&(s[a]=r[a]);return s}const pv=C.createContext({});function xv(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function pg(r){return typeof r=="string"||Array.isArray(r)}const FS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],US=["initial",...FS];function bv(r){return xv(r.animate)||US.some(e=>pg(r[e]))}function FL(r){return!!(bv(r)||r.variants)}function LJ(r,e){if(bv(r)){const{initial:t,animate:s}=r;return{initial:t===!1||pg(t)?t:void 0,animate:pg(s)?s:void 0}}return r.inherit!==!1?e:{}}function FJ(r){const{initial:e,animate:t}=LJ(r,C.useContext(pv));return C.useMemo(()=>({initial:e,animate:t}),[MR(e),MR(t)])}function MR(r){return Array.isArray(r)?r.join(" "):r}const xg={};function UJ(r){for(const e in r)xg[e]=r[e],jS(e)&&(xg[e].isCSSVariable=!0)}function UL(r,{layout:e,layoutId:t}){return Bh.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!xg[r]||r==="opacity")}const zJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BJ=zh.length;function VJ(r,e,t){let s="",a=!0;for(let i=0;i<BJ;i++){const o=zh[i],l=r[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const d=EL(l,DS[o]);if(!c){a=!1;const u=zJ[o]||o;s+=`${u}(${d}) `}t&&(e[o]=d)}}return s=s.trim(),t?s=t(e,a?"":s):a&&(s="none"),s}function zS(r,e,t){const{style:s,vars:a,transformOrigin:i}=r;let o=!1,l=!1;for(const c in e){const d=e[c];if(Bh.has(c)){o=!0;continue}else if(jS(c)){a[c]=d;continue}else{const u=EL(d,DS[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(e.transform||(o||t?s.transform=VJ(e,r.transform,t):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const BS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zL(r,e,t){for(const s in e)!Ra(e[s])&&!UL(s,t)&&(r[s]=e[s])}function HJ({transformTemplate:r},e){return C.useMemo(()=>{const t=BS();return zS(t,e,r),Object.assign({},t.vars,t.style)},[e])}function $J(r,e){const t=r.style||{},s={};return zL(s,t,r),Object.assign(s,HJ(r,e)),s}function qJ(r,e){const t={},s=$J(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=s,t}const WJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},YJ={offset:"strokeDashoffset",array:"strokeDasharray"};function GJ(r,e,t=1,s=0,a=!0){r.pathLength=1;const i=a?WJ:YJ;r[i.offset]=Gt.transform(-s);const o=Gt.transform(e),l=Gt.transform(t);r[i.array]=`${o} ${l}`}function BL(r,{attrX:e,attrY:t,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(zS(r,l,d),c){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:f,style:m}=r;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=u?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),s!==void 0&&(f.scale=s),a!==void 0&&GJ(f,a,i,o,!1)}const VL=()=>({...BS(),attrs:{}}),HL=r=>typeof r=="string"&&r.toLowerCase()==="svg";function XJ(r,e,t,s){const a=C.useMemo(()=>{const i=VL();return BL(i,e,HL(s),r.transformTemplate,r.style),{...i.attrs,style:{...i.style}}},[e]);if(r.style){const i={};zL(i,r.style,r),a.style={...i,...a.style}}return a}const KJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function VS(r){return typeof r!="string"||r.includes("-")?!1:!!(KJ.indexOf(r)>-1||/[A-Z]/u.test(r))}function ZJ(r,e,t,{latestValues:s},a,i=!1){const l=(VS(r)?XJ:qJ)(e,s,a,r),c=OJ(e,typeof r=="string",i),d=r!==C.Fragment?{...c,...l,ref:t}:{},{children:u}=e,f=C.useMemo(()=>Ra(u)?u.get():u,[u]);return C.createElement(r,{...d,children:f})}function OR(r){const e=[{},{}];return r?.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function HS(r,e,t,s){if(typeof e=="function"){const[a,i]=OR(s);e=e(t!==void 0?t:r.custom,a,i)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[a,i]=OR(s);e=e(t!==void 0?t:r.custom,a,i)}return e}function Sb(r){return Ra(r)?r.get():r}function QJ({scrapeMotionValuesFromProps:r,createRenderState:e},t,s,a){return{latestValues:JJ(t,s,a,r),renderState:e()}}function JJ(r,e,t,s){const a={},i=s(r,{});for(const m in i)a[m]=Sb(i[m]);let{initial:o,animate:l}=r;const c=bv(r),d=FL(r);e&&d&&!c&&r.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!xv(f)){const m=Array.isArray(f)?f:[f];for(let p=0;p<m.length;p++){const y=HS(r,m[p]);if(y){const{transitionEnd:x,transition:v,...N}=y;for(const k in N){let S=N[k];if(Array.isArray(S)){const R=u?S.length-1:0;S=S[R]}S!==null&&(a[k]=S)}for(const k in x)a[k]=x[k]}}}return a}const $L=r=>(e,t)=>{const s=C.useContext(pv),a=C.useContext(gv),i=()=>QJ(r,e,s,a);return t?i():mS(i)};function $S(r,e,t){const{style:s}=r,a={};for(const i in s)(Ra(s[i])||e.style&&Ra(e.style[i])||UL(i,r)||t?.getValue(i)?.liveStyle!==void 0)&&(a[i]=s[i]);return a}const eee=$L({scrapeMotionValuesFromProps:$S,createRenderState:BS});function qL(r,e,t){const s=$S(r,e,t);for(const a in r)if(Ra(r[a])||Ra(e[a])){const i=zh.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=r[a]}return s}const tee=$L({scrapeMotionValuesFromProps:qL,createRenderState:VL}),see=Symbol.for("motionComponentSymbol");function qu(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function ree(r,e,t){return C.useCallback(s=>{s&&r.onMount&&r.onMount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):qu(t)&&(t.current=s))},[e])}const qS=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aee="framerAppearId",WL="data-"+qS(aee),YL=C.createContext({});function nee(r,e,t,s,a){const{visualElement:i}=C.useContext(pv),o=C.useContext(OL),l=C.useContext(gv),c=C.useContext(LS).reducedMotion,d=C.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(r,{visualState:e,parent:i,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=C.useContext(YL);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&iee(d.current,t,a,f);const m=C.useRef(!1);C.useInsertionEffect(()=>{u&&m.current&&u.update(t,l)});const p=t[WL],y=C.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return $6(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),y.current&&u.animationState&&u.animationState.animateChanges())}),C.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),y.current=!1),u.enteringChildren=void 0)}),u}function iee(r,e,t,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:GL(r.parent)),r.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&qu(l),visualElement:r,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function GL(r){if(r)return r.options.allowProjection!==!1?r.projection:GL(r.parent)}function nN(r,{forwardMotionProps:e=!1}={},t,s){t&&IJ(t);const a=VS(r)?tee:eee;function i(l,c){let d;const u={...C.useContext(LS),...l,layoutId:oee(l)},{isStatic:f}=u,m=FJ(l),p=a(l,f);if(!f&&gS){lee();const y=cee(u);d=y.MeasureLayout,m.visualElement=nee(r,p,u,s,y.ProjectionNode)}return n.jsxs(pv.Provider,{value:m,children:[d&&m.visualElement?n.jsx(d,{visualElement:m.visualElement,...u}):null,ZJ(r,l,ree(p,m.visualElement,c),p,f,e)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=C.forwardRef(i);return o[see]=r,o}function oee({layoutId:r}){const e=C.useContext(fS).id;return e&&r!==void 0?e+"-"+r:r}function lee(r,e){C.useContext(OL).strict}function cee(r){const{drag:e,layout:t}=ph;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e?.isEnabled(r)||t?.isEnabled(r)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function dee(r,e){if(typeof Proxy>"u")return nN;const t=new Map,s=(i,o)=>nN(i,o,r,e),a=(i,o)=>s(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?s:(t.has(o)||t.set(o,nN(o,void 0,r,e)),t.get(o))})}function XL({top:r,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:r,max:s}}}function uee({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function hee(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),s=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function iN(r){return r===void 0||r===1}function tk({scale:r,scaleX:e,scaleY:t}){return!iN(r)||!iN(e)||!iN(t)}function Xc(r){return tk(r)||KL(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function KL(r){return LR(r.x)||LR(r.y)}function LR(r){return r&&r!=="0%"}function gy(r,e,t){const s=r-t,a=e*s;return t+a}function FR(r,e,t,s,a){return a!==void 0&&(r=gy(r,a,s)),gy(r,t,s)+e}function sk(r,e=0,t=1,s,a){r.min=FR(r.min,e,t,s,a),r.max=FR(r.max,e,t,s,a)}function ZL(r,{x:e,y:t}){sk(r.x,e.translate,e.scale,e.originPoint),sk(r.y,t.translate,t.scale,t.originPoint)}const UR=.999999999999,zR=1.0000000000001;function fee(r,e,t,s=!1){const a=t.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=t[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Yu(r,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ZL(r,o)),s&&Xc(i.latestValues)&&Yu(r,i.latestValues))}e.x<zR&&e.x>UR&&(e.x=1),e.y<zR&&e.y>UR&&(e.y=1)}function Wu(r,e){r.min=r.min+e,r.max=r.max+e}function BR(r,e,t,s,a=.5){const i=Nr(r.min,r.max,a);sk(r,e,t,i,s)}function Yu(r,e){BR(r.x,e.x,e.scaleX,e.scale,e.originX),BR(r.y,e.y,e.scaleY,e.scale,e.originY)}function QL(r,e){return XL(hee(r.getBoundingClientRect(),e))}function mee(r,e,t){const s=QL(r,t),{scroll:a}=e;return a&&(Wu(s.x,a.offset.x),Wu(s.y,a.offset.y)),s}const VR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gu=()=>({x:VR(),y:VR()}),HR=()=>({min:0,max:0}),Fr=()=>({x:HR(),y:HR()}),rk={current:null},JL={current:!1};function gee(){if(JL.current=!0,!!gS)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>rk.current=r.matches;r.addEventListener("change",e),e()}else rk.current=!1}const pee=new WeakMap;function xee(r,e,t){for(const s in e){const a=e[s],i=t[s];if(Ra(a))r.addValue(s,a);else if(Ra(i))r.addValue(s,gh(a,{owner:r}));else if(i!==a)if(r.hasValue(s)){const o=r.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=r.getStaticValue(s);r.addValue(s,gh(o!==void 0?o:a,{owner:r}))}}for(const s in t)e[s]===void 0&&r.removeValue(s);return e}const $R=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bee{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=RS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=an.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,vr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=bv(t),this.isVariantNode=FL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in f){const p=f[m];c[m]!==void 0&&Ra(p)&&p.set(c[m])}}mount(e){this.current=e,pee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),JL.current||gee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rk.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Jl(this.notifyUpdate),Jl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Bh.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&vr.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ph){const t=ph[e];if(!t)continue;const{isEnabled:s,Feature:a}=t;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<$R.length;s++){const a=$R[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=xee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=gh(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(q6(s)||Y6(s))?s=parseFloat(s):!CJ(s)&&ec.test(t)&&(s=CL(e,t)),this.setBaseTarget(e,Ra(s)?s.get():s)),Ra(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const i=HS(this.props,t,this.presenceContext?.custom);i&&(s=i[e])}if(t&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ra(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new vS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){MS.render(this.render)}}class eF extends bee{constructor(){super(...arguments),this.KeyframeResolver=pJ}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ra(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function tF(r,{style:e,vars:t},s,a){const i=r.style;let o;for(o in e)i[o]=e[o];a?.applyProjectionStyles(i,s);for(o in t)i.setProperty(o,t[o])}function yee(r){return window.getComputedStyle(r)}class vee extends eF{constructor(){super(...arguments),this.type="html",this.renderInstance=tF}readValueFromInstance(e,t){if(Bh.has(t))return this.projection?.isProjecting?Gj(t):MQ(e,t);{const s=yee(e),a=(jS(t)?s.getPropertyValue(t):s[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return QL(e,t)}build(e,t,s){zS(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return $S(e,t,s)}}const sF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wee(r,e,t,s){tF(r,e,void 0,s);for(const a in e.attrs)r.setAttribute(sF.has(a)?a:qS(a),e.attrs[a])}class Nee extends eF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Bh.has(t)){const s=AL(t);return s&&s.default||0}return t=sF.has(t)?t:qS(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return qL(e,t,s)}build(e,t,s){BL(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,a){wee(e,t,s,a)}mount(e){this.isSVGTag=HL(e.tagName),super.mount(e)}}const jee=(r,e)=>VS(r)?new Nee(e):new vee(e,{allowProjection:r!==C.Fragment});function th(r,e,t){const s=r.getProps();return HS(s,e,t!==void 0?t:s.custom,r)}const ak=r=>Array.isArray(r);function kee(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,gh(t))}function See(r){return ak(r)?r[r.length-1]||0:r}function _ee(r,e){const t=th(r,e);let{transitionEnd:s={},transition:a={},...i}=t||{};i={...i,...s};for(const o in i){const l=See(i[o]);kee(r,o,l)}}function Aee(r){return!!(Ra(r)&&r.add)}function nk(r,e){const t=r.getValue("willChange");if(Aee(t))return t.add(e);if(!t&&Ko.WillChange){const s=new Ko.WillChange("auto");r.addValue("willChange",s),s.add(e)}}function rF(r){return r.props[WL]}const Cee=r=>r!==null;function Eee(r,{repeat:e,repeatType:t="loop"},s){const a=r.filter(Cee),i=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[i]}const Tee={type:"spring",stiffness:500,damping:25,restSpeed:10},Pee=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),Ree={type:"keyframes",duration:.8},Iee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dee=(r,{keyframes:e})=>e.length>2?Ree:Bh.has(r)?r.startsWith("scale")?Pee(e[1]):Tee:Iee;function Mee({when:r,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const WS=(r,e,t,s={},a,i)=>o=>{const l=IS(s,r)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Xi(c);const u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:r,motionValue:e,element:i?void 0:a};Mee(l)||Object.assign(u,Dee(r,u)),u.duration&&(u.duration=Xi(u.duration)),u.repeatDelay&&(u.repeatDelay=Xi(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Jj(u),u.delay===0&&(f=!0)),(Ko.instantAnimations||Ko.skipAnimations)&&(f=!0,Jj(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!i&&e.get()!==void 0){const m=Eee(u.keyframes,l);if(m!==void 0){vr.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new PS(u):new aJ(u)};function Oee({protectedKeys:r,needsAnimating:e},t){const s=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function aF(r,e,{delay:t=0,transitionOverride:s,type:a}={}){let{transition:i=r.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(i=s);const c=[],d=a&&r.animationState&&r.animationState.getState()[a];for(const u in l){const f=r.getValue(u,r.latestValues[u]??null),m=l[u];if(m===void 0||d&&Oee(d,u))continue;const p={delay:t,...IS(i||{},u)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===y&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const N=rF(r);if(N){const k=window.MotionHandoffAnimation(N,u,vr);k!==null&&(p.startTime=k,x=!0)}}nk(r,u),f.start(WS(u,f,m,r.shouldReduceMotion&&kL.has(u)?{type:!1}:p,r,x));const v=f.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{vr.update(()=>{o&&_ee(r,o)})}),c}function nF(r,e,t,s=0,a=1){const i=Array.from(r).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=r.size,l=(o-1)*s;return typeof t=="function"?t(i,o):a===1?i*s:l-i*s}function ik(r,e,t={}){const s=th(r,e,t.type==="exit"?r.presenceContext?.custom:void 0);let{transition:a=r.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const i=s?()=>Promise.all(aF(r,s,t)):()=>Promise.resolve(),o=r.variantChildren&&r.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:f}=a;return Lee(r,e,c,d,u,f,t)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(t.delay)])}function Lee(r,e,t=0,s=0,a=0,i=1,o){const l=[];for(const c of r.variantChildren)c.notify("AnimationStart",e),l.push(ik(c,e,{...o,delay:t+(typeof s=="function"?0:s)+nF(r.variantChildren,c,s,a,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Fee(r,e,t={}){r.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(i=>ik(r,i,t));s=Promise.all(a)}else if(typeof e=="string")s=ik(r,e,t);else{const a=typeof e=="function"?th(r,e,t.custom):e;s=Promise.all(aF(r,a,t))}return s.then(()=>{r.notify("AnimationComplete",e)})}function iF(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let s=0;s<t;s++)if(e[s]!==r[s])return!1;return!0}const Uee=US.length;function oF(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?oF(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<Uee;t++){const s=US[t],a=r.props[s];(pg(a)||a===!1)&&(e[s]=a)}return e}const zee=[...FS].reverse(),Bee=FS.length;function Vee(r){return e=>Promise.all(e.map(({animation:t,options:s})=>Fee(r,t,s)))}function Hee(r){let e=Vee(r),t=qR(),s=!0;const a=c=>(d,u)=>{const f=th(r,u,c==="exit"?r.presenceContext?.custom:void 0);if(f){const{transition:m,transitionEnd:p,...y}=f;d={...d,...y,...p}}return d};function i(c){e=c(r)}function o(c){const{props:d}=r,u=oF(r.parent)||{},f=[],m=new Set;let p={},y=1/0;for(let v=0;v<Bee;v++){const N=zee[v],k=t[N],S=d[N]!==void 0?d[N]:u[N],R=pg(S),A=N===c?k.isActive:null;A===!1&&(y=v);let D=S===u[N]&&S!==d[N]&&R;if(D&&s&&r.manuallyAnimateOnMount&&(D=!1),k.protectedKeys={...p},!k.isActive&&A===null||!S&&!k.prevProp||xv(S)||typeof S=="boolean")continue;const P=$ee(k.prevProp,S);let E=P||N===c&&k.isActive&&!D&&R||v>y&&R,I=!1;const M=Array.isArray(S)?S:[S];let L=M.reduce(a(N),{});A===!1&&(L={});const{prevResolvedValues:z={}}=k,F={...z,...L},V=X=>{E=!0,m.has(X)&&(I=!0,m.delete(X)),k.needsAnimating[X]=!0;const ee=r.getValue(X);ee&&(ee.liveStyle=!1)};for(const X in F){const ee=L[X],W=z[X];if(p.hasOwnProperty(X))continue;let B=!1;ak(ee)&&ak(W)?B=!iF(ee,W):B=ee!==W,B?ee!=null?V(X):m.add(X):ee!==void 0&&m.has(X)?V(X):k.protectedKeys[X]=!0}k.prevProp=S,k.prevResolvedValues=L,k.isActive&&(p={...p,...L}),s&&r.blockInitialAnimation&&(E=!1);const $=D&&P;E&&(!$||I)&&f.push(...M.map(X=>{const ee={type:N};if(typeof X=="string"&&s&&!$&&r.manuallyAnimateOnMount&&r.parent){const{parent:W}=r,B=th(W,X);if(W.enteringChildren&&B){const{delayChildren:G}=B.transition||{};ee.delay=nF(W.enteringChildren,r,G)}}return{animation:X,options:ee}}))}if(m.size){const v={};if(typeof d.initial!="boolean"){const N=th(r,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(v.transition=N.transition)}m.forEach(N=>{const k=r.getBaseTarget(N),S=r.getValue(N);S&&(S.liveStyle=!0),v[N]=k??null}),f.push({animation:v})}let x=!!f.length;return s&&(d.initial===!1||d.initial===d.animate)&&!r.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(f):Promise.resolve()}function l(c,d){if(t[c].isActive===d)return Promise.resolve();r.variantChildren?.forEach(f=>f.animationState?.setActive(c,d)),t[c].isActive=d;const u=o(c);for(const f in t)t[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>t,reset:()=>{t=qR(),s=!0}}}function $ee(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!iF(e,r):!1}function Uc(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qR(){return{animate:Uc(!0),whileInView:Uc(),whileHover:Uc(),whileTap:Uc(),whileDrag:Uc(),whileFocus:Uc(),exit:Uc()}}class uc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qee extends uc{constructor(e){super(e),e.animationState||(e.animationState=Hee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Wee=0;class Yee extends uc{constructor(){super(...arguments),this.id=Wee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Gee={animation:{Feature:qee},exit:{Feature:Yee}};function bg(r,e,t,s={passive:!0}){return r.addEventListener(e,t,s),()=>r.removeEventListener(e,t)}function op(r){return{point:{x:r.pageX,y:r.pageY}}}const Xee=r=>e=>OS(e)&&r(e,op(e));function $m(r,e,t,s){return bg(r,e,Xee(t),s)}const lF=1e-4,Kee=1-lF,Zee=1+lF,cF=.01,Qee=0-cF,Jee=0+cF;function qa(r){return r.max-r.min}function ete(r,e,t){return Math.abs(r-e)<=t}function WR(r,e,t,s=.5){r.origin=s,r.originPoint=Nr(e.min,e.max,r.origin),r.scale=qa(t)/qa(e),r.translate=Nr(t.min,t.max,r.origin)-r.originPoint,(r.scale>=Kee&&r.scale<=Zee||isNaN(r.scale))&&(r.scale=1),(r.translate>=Qee&&r.translate<=Jee||isNaN(r.translate))&&(r.translate=0)}function qm(r,e,t,s){WR(r.x,e.x,t.x,s?s.originX:void 0),WR(r.y,e.y,t.y,s?s.originY:void 0)}function YR(r,e,t){r.min=t.min+e.min,r.max=r.min+qa(e)}function tte(r,e,t){YR(r.x,e.x,t.x),YR(r.y,e.y,t.y)}function GR(r,e,t){r.min=e.min-t.min,r.max=r.min+qa(e)}function Wm(r,e,t){GR(r.x,e.x,t.x),GR(r.y,e.y,t.y)}function $n(r){return[r("x"),r("y")]}const dF=({current:r})=>r?r.ownerDocument.defaultView:null,XR=(r,e)=>Math.abs(r-e);function ste(r,e){const t=XR(r.x,e.x),s=XR(r.y,e.y);return Math.sqrt(t**2+s**2)}class uF{constructor(e,t,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=lN(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=ste(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:x}=m,{timestamp:v}=va;this.history.push({...x,timestamp:v});const{onStart:N,onMove:k}=this.handlers;p||(N&&N(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=oN(p,this.transformPagePoint),vr.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=lN(m.type==="pointercancel"?this.lastMoveEventInfo:oN(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,N),x&&x(m,N)},!OS(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const l=op(e),c=oN(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=va;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=t;f&&f(e,lN(c,this.history)),this.removeListeners=ap($m(this.contextWindow,"pointermove",this.handlePointerMove),$m(this.contextWindow,"pointerup",this.handlePointerUp),$m(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Jl(this.updatePoint)}}function oN(r,e){return e?{point:e(r.point)}:r}function KR(r,e){return{x:r.x-e.x,y:r.y-e.y}}function lN({point:r},e){return{point:r,delta:KR(r,hF(e)),offset:KR(r,rte(e)),velocity:ate(e,.1)}}function rte(r){return r[0]}function hF(r){return r[r.length-1]}function ate(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,s=null;const a=hF(r);for(;t>=0&&(s=r[t],!(a.timestamp-s.timestamp>Xi(e)));)t--;if(!s)return{x:0,y:0};const i=Ki(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nte(r,{min:e,max:t},s){return e!==void 0&&r<e?r=s?Nr(e,r,s.min):Math.max(r,e):t!==void 0&&r>t&&(r=s?Nr(t,r,s.max):Math.min(r,t)),r}function ZR(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function ite(r,{top:e,left:t,bottom:s,right:a}){return{x:ZR(r.x,t,a),y:ZR(r.y,e,s)}}function QR(r,e){let t=e.min-r.min,s=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,s]=[s,t]),{min:t,max:s}}function ote(r,e){return{x:QR(r.x,e.x),y:QR(r.y,e.y)}}function lte(r,e){let t=.5;const s=qa(r),a=qa(e);return a>s?t=fg(e.min,e.max-s,r.min):s>a&&(t=fg(r.min,r.max-a,e.min)),Xo(0,1,t)}function cte(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const ok=.35;function dte(r=ok){return r===!1?r=0:r===!0&&(r=ok),{x:JR(r,"left","right"),y:JR(r,"top","bottom")}}function JR(r,e,t){return{min:eI(r,e),max:eI(r,t)}}function eI(r,e){return typeof r=="number"?r:r[e]||0}const ute=new WeakMap;class hte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(op(f).point)},o=(f,m)=>{const{drag:p,dragPropagation:y,onDragStart:x}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vJ(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$n(N=>{let k=this.getAxisMotionValue(N).get()||0;if(Zi.test(k)){const{projection:S}=this.visualElement;if(S&&S.layout){const R=S.layout.layoutBox[N];R&&(k=qa(R)*(parseFloat(k)/100))}}this.originPoint[N]=k}),x&&vr.postRender(()=>x(f,m)),nk(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:x,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:N}=m;if(y&&this.currentDirection===null){this.currentDirection=fte(N),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,N),this.updateAxis("y",m.point,N),this.visualElement.render(),v&&v(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>$n(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new uF(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:dF(this.visualElement)})}stop(e,t){const s=e||this.latestPointerEvent,a=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&vr.postRender(()=>l(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:a}=this.getProps();if(!s||!Kx(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=nte(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&qu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=ite(s.layoutBox,e):this.constraints=!1,this.elastic=dte(t),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&$n(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=cte(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!qu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=mee(s,a.root,this.visualElement.getTransformPagePoint());let o=ote(a.layout.layoutBox,i);if(t){const l=t(uee(o));this.hasMutatedConstraints=!!l,l&&(o=XL(l))}return o}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=$n(u=>{if(!Kx(u,t,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const m=a?200:1e6,p=a?40:1e7,y={type:"inertia",velocity:s?e[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(l)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return nk(this.visualElement,e),s.start(WS(e,s,0,t,this.visualElement,!1))}stopAnimation(){$n(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$n(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[t];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){$n(t=>{const{drag:s}=this.getProps();if(!Kx(t,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(t);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[t];i.set(e[t]-Nr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!qu(t)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};$n(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=lte({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),$n(o=>{if(!Kx(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Nr(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;ute.set(this.visualElement,this);const e=this.visualElement.current,t=$m(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();qu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),vr.read(s);const o=bg(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&($n(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),t(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=ok,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Kx(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function fte(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class mte extends uc{constructor(e){super(e),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new hte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const tI=r=>(e,t)=>{r&&vr.postRender(()=>r(e,t))};class gte extends uc{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(e){this.session=new uF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:tI(e),onStart:tI(t),onMove:s,onEnd:(i,o)=>{delete this.session,a&&vr.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=$m(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _b={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sI(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const em={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(Gt.test(r))r=parseFloat(r);else return r;const t=sI(r,e.target.x),s=sI(r,e.target.y);return`${t}% ${s}%`}},pte={correct:(r,{treeScale:e,projectionDelta:t})=>{const s=r,a=ec.parse(r);if(a.length>5)return s;const i=ec.createTransformer(r),o=typeof a[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=Nr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let cN=!1;class xte extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=e;UJ(bte),i&&(t.group&&t.group.add(i),s&&s.register&&a&&s.register(i),cN&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),_b.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,cN=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||vr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),MS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:a}=e;cN=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fF(r){const[e,t]=ML(),s=C.useContext(fS);return n.jsx(xte,{...r,layoutGroup:s,switchLayoutGroup:C.useContext(YL),isPresent:e,safeToRemove:t})}const bte={borderRadius:{...em,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:em,borderTopRightRadius:em,borderBottomLeftRadius:em,borderBottomRightRadius:em,boxShadow:pte};function yte(r,e,t){const s=Ra(r)?r:gh(r);return s.start(WS("",s,e,t)),s.animation}const vte=(r,e)=>r.depth-e.depth;class wte{constructor(){this.children=[],this.isDirty=!1}add(e){pS(this.children,e),this.isDirty=!0}remove(e){xS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vte),this.isDirty=!1,this.children.forEach(e)}}function Nte(r,e){const t=an.now(),s=({timestamp:a})=>{const i=a-t;i>=e&&(Jl(s),r(i-e))};return vr.setup(s,!0),()=>Jl(s)}const mF=["TopLeft","TopRight","BottomLeft","BottomRight"],jte=mF.length,rI=r=>typeof r=="string"?parseFloat(r):r,aI=r=>typeof r=="number"||Gt.test(r);function kte(r,e,t,s,a,i){a?(r.opacity=Nr(0,t.opacity??1,Ste(s)),r.opacityExit=Nr(e.opacity??1,0,_te(s))):i&&(r.opacity=Nr(e.opacity??1,t.opacity??1,s));for(let o=0;o<jte;o++){const l=`border${mF[o]}Radius`;let c=nI(e,l),d=nI(t,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||aI(c)===aI(d)?(r[l]=Math.max(Nr(rI(c),rI(d),s),0),(Zi.test(d)||Zi.test(c))&&(r[l]+="%")):r[l]=d}(e.rotate||t.rotate)&&(r.rotate=Nr(e.rotate||0,t.rotate||0,s))}function nI(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const Ste=gF(0,.5,tL),_te=gF(.5,.95,Gn);function gF(r,e,t){return s=>s<r?0:s>e?1:t(fg(r,e,s))}function iI(r,e){r.min=e.min,r.max=e.max}function Bn(r,e){iI(r.x,e.x),iI(r.y,e.y)}function oI(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function lI(r,e,t,s,a){return r-=e,r=gy(r,1/t,s),a!==void 0&&(r=gy(r,1/a,s)),r}function Ate(r,e=0,t=1,s=.5,a,i=r,o=r){if(Zi.test(e)&&(e=parseFloat(e),e=Nr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Nr(i.min,i.max,s);r===i&&(l-=e),r.min=lI(r.min,e,t,l,a),r.max=lI(r.max,e,t,l,a)}function cI(r,e,[t,s,a],i,o){Ate(r,e[t],e[s],e[a],e.scale,i,o)}const Cte=["x","scaleX","originX"],Ete=["y","scaleY","originY"];function dI(r,e,t,s){cI(r.x,e,Cte,t?t.x:void 0,s?s.x:void 0),cI(r.y,e,Ete,t?t.y:void 0,s?s.y:void 0)}function uI(r){return r.translate===0&&r.scale===1}function pF(r){return uI(r.x)&&uI(r.y)}function hI(r,e){return r.min===e.min&&r.max===e.max}function Tte(r,e){return hI(r.x,e.x)&&hI(r.y,e.y)}function fI(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function xF(r,e){return fI(r.x,e.x)&&fI(r.y,e.y)}function mI(r){return qa(r.x)/qa(r.y)}function gI(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class Pte{constructor(){this.members=[]}add(e){pS(this.members,e),e.scheduleRender()}remove(e){if(xS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let s;for(let a=t;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Rte(r,e,t){let s="";const a=r.x.translate/e.x,i=r.y.translate/e.y,o=t?.z||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:m,skewX:p,skewY:y}=t;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),m&&(s+=`rotateY(${m}deg) `),p&&(s+=`skewX(${p}deg) `),y&&(s+=`skewY(${y}deg) `)}const l=r.x.scale*e.x,c=r.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const dN=["","X","Y","Z"],Ite=1e3;let Dte=0;function uN(r,e,t,s){const{latestValues:a}=e;a[r]&&(t[r]=a[r],e.setStaticValue(r,0),s&&(s[r]=0))}function bF(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=rF(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:i}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",vr,!(a||i))}const{parent:s}=r;s&&!s.hasCheckedOptimisedAppear&&bF(s)}function yF({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=e?.()){this.id=Dte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Lte),this.nodes.forEach(Bte),this.nodes.forEach(Vte),this.nodes.forEach(Fte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new wte)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new vS),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=DL(o)&&!_J(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),r){let u,f=0;const m=()=>this.root.updateBlockedByResize=!1;vr.read(()=>{f=window.innerWidth}),r(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,u&&u(),u=Nte(m,250),_b.hasAnimatedSinceResize&&(_b.hasAnimatedSinceResize=!1,this.nodes.forEach(bI)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Yte,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=d.getProps(),N=!this.targetLayout||!xF(this.targetLayout,p),k=!f&&m;if(this.options.layoutRoot||this.resumeFrom||k||f&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...IS(y,"layout"),onPlay:x,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(u,k)}else f||bI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hte),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zte),this.nodes.forEach(Mte),this.nodes.forEach(Ote)):this.nodes.forEach(xI),this.clearAllSnapshots();const l=an.now();va.delta=Xo(0,1e3/60,l-va.timestamp),va.timestamp=l,va.isProcessing=!0,J1.update.process(va),J1.preRender.process(va),J1.render.process(va),va.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,MS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ute),this.sharedNodes.forEach($te)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qa(this.snapshot.measuredBox.x)&&!qa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!pF(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Xc(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Gte(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Fr();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Xte))){const{scroll:d}=this.root;d&&(Wu(l.x,d.offset.x),Wu(l.y,d.offset.y))}return l}removeElementScroll(o){const l=Fr();if(Bn(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:f}=d;d!==this.root&&u&&f.layoutScroll&&(u.wasRoot&&Bn(l,o),Wu(l.x,u.offset.x),Wu(l.y,u.offset.y))}return l}applyTransform(o,l=!1){const c=Fr();Bn(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Yu(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Xc(u.latestValues)&&Yu(c,u.latestValues)}return Xc(this.latestValues)&&Yu(c,this.latestValues),c}removeTransform(o){const l=Fr();Bn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Xc(d.latestValues))continue;tk(d.latestValues)&&d.updateSnapshot();const u=Fr(),f=d.measurePageBox();Bn(u,f),dI(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Xc(this.latestValues)&&dI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==va.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=va.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fr(),this.relativeTargetOrigin=Fr(),Wm(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fr(),this.targetWithTransforms=Fr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),ZL(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fr(),this.relativeTargetOrigin=Fr(),Wm(this.relativeTargetOrigin,this.target,m.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||tk(this.parent.latestValues)||KL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===va.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Bn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;fee(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Fr());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oI(this.prevProjectionDelta.x,this.projectionDelta.x),oI(this.prevProjectionDelta.y,this.projectionDelta.y)),qm(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!gI(this.projectionDelta.x,this.prevProjectionDelta.x)||!gI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gu(),this.projectionDelta=Gu(),this.projectionDeltaWithTransform=Gu()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=Gu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Fr(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=p!==y,v=this.getStack(),N=!v||v.members.length<=1,k=!!(x&&!N&&this.options.crossfade===!0&&!this.path.some(Wte));this.animationProgress=0;let S;this.mixTargetDelta=R=>{const A=R/1e3;yI(f.x,o.x,A),yI(f.y,o.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wm(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qte(this.relativeTarget,this.relativeTargetOrigin,m,A),S&&Tte(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Fr()),Bn(S,this.relativeTarget)),x&&(this.animationValues=u,kte(u,d,this.latestValues,A,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Jl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vr.update(()=>{_b.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gh(0)),this.currentAnimation=yte(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ite),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&vF(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Fr();const f=qa(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=qa(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Bn(l,c),Yu(l,u),qm(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Pte),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&uN("z",o,d,this.animationValues);for(let u=0;u<dN.length;u++)uN(`rotate${dN[u]}`,o,d,this.animationValues),uN(`skew${dN[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Sb(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Sb(l?.pointerEvents)||""),this.hasProjected&&!Xc(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=Rte(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),o.transform=f;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const y in xg){if(u[y]===void 0)continue;const{correct:x,applyTo:v,isCSSVariable:N}=xg[y],k=f==="none"?u[y]:x(u[y],d);if(v){const S=v.length;for(let R=0;R<S;R++)o[v[R]]=k}else N?this.options.visualElement.renderState.vars[y]=k:o[y]=k}this.options.layoutId&&(o.pointerEvents=d===this?Sb(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(pI),this.root.sharedNodes.clear()}}}function Mte(r){r.updateLayout()}function Ote(r){const e=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:s}=r.layout,{animationType:a}=r.options,i=e.source!==r.layout.source;a==="size"?$n(u=>{const f=i?e.measuredBox[u]:e.layoutBox[u],m=qa(f);f.min=t[u].min,f.max=f.min+m}):vF(a,e.layoutBox,t)&&$n(u=>{const f=i?e.measuredBox[u]:e.layoutBox[u],m=qa(t[u]);f.max=f.min+m,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[u].max=r.relativeTarget[u].min+m)});const o=Gu();qm(o,t,e.layoutBox);const l=Gu();i?qm(l,r.applyTransform(s,!0),e.measuredBox):qm(l,t,e.layoutBox);const c=!pF(o);let d=!1;if(!r.resumeFrom){const u=r.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:f,layout:m}=u;if(f&&m){const p=Fr();Wm(p,e.layoutBox,f.layoutBox);const y=Fr();Wm(y,t,m.layoutBox),xF(p,y)||(d=!0),u.options.layoutRoot&&(r.relativeTarget=y,r.relativeTargetOrigin=p,r.relativeParent=u)}}}r.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(r.isLead()){const{onExitComplete:t}=r.options;t&&t()}r.options.transition=void 0}function Lte(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function Fte(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function Ute(r){r.clearSnapshot()}function pI(r){r.clearMeasurements()}function xI(r){r.isLayoutDirty=!1}function zte(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function bI(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function Bte(r){r.resolveTargetDelta()}function Vte(r){r.calcProjection()}function Hte(r){r.resetSkewAndRotation()}function $te(r){r.removeLeadSnapshot()}function yI(r,e,t){r.translate=Nr(e.translate,0,t),r.scale=Nr(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function vI(r,e,t,s){r.min=Nr(e.min,t.min,s),r.max=Nr(e.max,t.max,s)}function qte(r,e,t,s){vI(r.x,e.x,t.x,s),vI(r.y,e.y,t.y,s)}function Wte(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const Yte={duration:.45,ease:[.4,0,.1,1]},wI=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),NI=wI("applewebkit/")&&!wI("chrome/")?Math.round:Gn;function jI(r){r.min=NI(r.min),r.max=NI(r.max)}function Gte(r){jI(r.x),jI(r.y)}function vF(r,e,t){return r==="position"||r==="preserve-aspect"&&!ete(mI(e),mI(t),.2)}function Xte(r){return r!==r.root&&r.scroll?.wasRoot}const Kte=yF({attachResizeListener:(r,e)=>bg(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hN={current:void 0},wF=yF({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!hN.current){const r=new Kte({});r.mount(window),r.setOptions({layoutScroll:!0}),hN.current=r}return hN.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),Zte={pan:{Feature:gte},drag:{Feature:mte,ProjectionNode:wF,MeasureLayout:fF}};function kI(r,e,t){const{props:s}=r;r.animationState&&s.whileHover&&r.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,i=s[a];i&&vr.postRender(()=>i(e,op(e)))}class Qte extends uc{mount(){const{current:e}=this.node;e&&(this.unmount=wJ(e,(t,s)=>(kI(this.node,s,"Start"),a=>kI(this.node,a,"End"))))}unmount(){}}class Jte extends uc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ap(bg(this.node.current,"focus",()=>this.onFocus()),bg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function SI(r,e,t){const{props:s}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&s.whileTap&&r.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),i=s[a];i&&vr.postRender(()=>i(e,op(e)))}class ese extends uc{mount(){const{current:e}=this.node;e&&(this.unmount=SJ(e,(t,s)=>(SI(this.node,s,"Start"),(a,{success:i})=>SI(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lk=new WeakMap,fN=new WeakMap,tse=r=>{const e=lk.get(r.target);e&&e(r)},sse=r=>{r.forEach(tse)};function rse({root:r,...e}){const t=r||document;fN.has(t)||fN.set(t,{});const s=fN.get(t),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(sse,{root:r,...e})),s[a]}function ase(r,e,t){const s=rse(e);return lk.set(r,t),s.observe(r),()=>{lk.delete(r),s.unobserve(r)}}const nse={some:0,all:1};class ise extends uc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:a="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:nse[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),m=d?u:f;m&&m(c)};return ase(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(ose(e,t))&&this.startObserver()}unmount(){}}function ose({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const lse={inView:{Feature:ise},tap:{Feature:ese},focus:{Feature:Jte},hover:{Feature:Qte}},cse={layout:{ProjectionNode:wF,MeasureLayout:fF}},dse={...Gee,...lse,...Zte,...cse},vt=dee(dse,jee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hse=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),_I=r=>{const e=hse(r);return e.charAt(0).toUpperCase()+e.slice(1)},NF=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),fse=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=C.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>C.createElement("svg",{ref:c,...mse,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:NF("lucide",a),...!i&&!fse(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>C.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(r,e)=>{const t=C.forwardRef(({className:s,...a},i)=>C.createElement(gse,{ref:i,iconNode:e,className:NF(`lucide-${use(_I(r))}`,`lucide-${r}`,s),...a}));return t.displayName=_I(r),t};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yg=wt("arrow-right",pse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ck=wt("award",xse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],yse=wt("badge-dollar-sign",bse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wse=wt("bell",vse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],jse=wt("building",Nse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Sse=wt("calculator",kse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=[["path",{d:"m14 18 4-4 4 4",key:"ftkppy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M18 22v-8",key:"su0gjh"}],["path",{d:"M21 11.343V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9",key:"1exg90"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],Ase=wt("calendar-arrow-up",_se);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]],Ese=wt("calendar-check-2",Cse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],AI=wt("camera",Tse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Rse=wt("chart-no-axes-column",Pse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Dse=wt("chart-pie",Ise);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ose=wt("check",Mse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fse=wt("chevron-down",Lse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],CI=wt("chevron-left",Use);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ym=wt("chevron-right",zse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dk=wt("circle-alert",Bse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Hse=wt("circle-arrow-down",Vse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ii=wt("circle-check-big",$se);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lp=wt("circle-check",qse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yse=wt("circle-help",Wse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],xh=wt("circle-plus",Gse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sh=wt("circle-x",Xse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Zse=wt("cloud-upload",Kse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Jse=wt("dollar-sign",Qse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EI=wt("eye-off",ere);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TI=wt("eye",tre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M2 3v18",key:"pzttux"}],["rect",{width:"12",height:"18",x:"6",y:"3",rx:"2",key:"btr8bg"}],["path",{d:"M22 3v18",key:"6jf3v"}]],rre=wt("gallery-horizontal",sre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]],nre=wt("heart-handshake",are);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],jF=wt("heart",ire);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],uk=wt("house",ore);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],id=wt("image",lre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Vu=wt("info",cre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ure=wt("layout-dashboard",dre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],kF=wt("lightbulb",hre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],SF=wt("list",fre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Zx=wt("loader",mre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_F=wt("lock",gre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xre=wt("log-out",pre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],yre=wt("map",bre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],AF=wt("menu",vre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],CF=wt("message-circle",wre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],jre=wt("message-square-plus",Nre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Sre=wt("message-square",kre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Are=wt("moon",_re);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Cd=wt("package",Cre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],hk=wt("palette",Ere);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bh=wt("pen",Tre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Rre=wt("phone",Pre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YS=wt("plus",Ire);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],GS=wt("refresh-cw",Dre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],EF=wt("rocket",Mre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],fk=wt("ruler",Ore);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fre=wt("save",Lre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zre=wt("send",Ure);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XS=wt("settings",Bre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],TF=wt("shield-check",Vre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],PI=wt("shield",Hre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Ab=wt("shopping-bag",$re);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Wre=wt("shopping-cart",qre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Gre=wt("smile",Yre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],RI=wt("square-check-big",Xre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Zre=wt("store",Kre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Jre=wt("sun",Qre);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],tae=wt("tag",eae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rae=wt("target",sae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],PF=wt("trash-2",aae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],vg=wt("trending-up",nae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],RF=wt("upload",iae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],lae=wt("user-round-check",oae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tc=wt("user",cae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],IF=wt("users",dae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],hae=wt("video",uae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],rh=wt("wallet",fae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],od=wt("x",mae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pae=wt("zap",gae);function DF(){const{currency:r,changeCurrency:e,loading:t,availableCurrencies:s=[]}=sp(),a=[{code:"USD",label:"USD"},{code:"NGN",label:"NGN"},{code:"GBP",label:"GBP"},{code:"JPY",label:"JPY"},{code:"GHS",label:"GHS"},{code:"EUR",label:"EUR"},{code:"CAD",label:"CAD"},{code:"AUD",label:"AUD"},{code:"CNY",label:"CNY"},{code:"INR",label:"INR"}];return n.jsx("div",{className:"flex items-center",children:t?n.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Loading..."}):n.jsx("select",{value:r,onChange:i=>e(i.target.value),className:"rounded-md bg-gray-100 dark:bg-gray-700 text-xs text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500","aria-label":"Select currency",children:(s.length>0?s:a).map(i=>n.jsx("option",{value:i.code,children:i.code},i.code))})})}const xae=()=>{const[r,e]=C.useState(null),t=[{name:"Help & Support",path:"/support"},{name:"FAQ",path:"/support?tab=faq"}];return n.jsx("div",{className:"bg-gray-100 py-2 border-b border-gray-200 mt-16 sm:mt-8 md:mt-4 lg:mt-0 -mb-8 lg:mb-0",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-end items-center text-[10px] sm:text-xs md:text-sm",children:[t.map((s,a)=>n.jsx("div",{className:"ml-4 first:ml-0 relative",children:n.jsx(ve,{to:s.path,className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",onMouseEnter:()=>e(a),onMouseLeave:()=>e(null),children:s.name})},a)),n.jsx("div",{className:"ml-6 flex items-center text-gray-600",children:n.jsxs(ve,{to:"/sell",className:"flex items-center hover:text-blue-600 transition-colors duration-200",children:[n.jsx(Zre,{className:"w-4 h-4 mr-1"}),n.jsx("span",{children:"Sell on Foremade"})]})}),n.jsx("div",{className:"ml-4 flex items-center",children:n.jsx(DF,{})})]})})})},bae="/assets/nglogo-qvrtZOMI.png",yae="/assets/uklogo-CgNCKquW.png",vae=()=>{const[r,e]=C.useState(null),[t,s]=C.useState(null),[a,i]=C.useState(""),o=["Television & Accessories","Drinks & Beverages","Game & Console","Home & Living","Perfumes & Fragrances","Vehicles & Transport","Computers & Laptops"],l=m=>m.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),c=[{name:"twitter",icon:"bx bxl-twitter",color:"text-blue-400",url:"https://twitter.com"},{name:"instagram",icon:"bx bxl-instagram",color:"text-pink-400",url:"https://instagram.com"},{name:"facebook",icon:"bx bxl-facebook",color:"text-blue-600",url:"https://facebook.com"}],d=[{icon:"bxs-truck",title:"Fast Shipping",description:"Fast shipping all across the country"},{icon:"bx-check-shield",title:"Authentic Products",description:"100% Authentic products"},{icon:"bx-lock-alt",title:"100% Secure Payment",description:"We Ensure Secure Transactions"},{icon:"bx-headphone",title:"24/7 Support Center",description:"We Ensure Quality Support"}],u={account:[{name:"My Profile",url:"/profile"},{name:"My Orders",url:"/orders"},{name:"My Wishlist",url:"/favorites"}],about:[{name:"About Us",url:"/about"},{name:"Support",url:"/support"}]},f=m=>{m.preventDefault(),alert(`Thanks for subscribing with ${a}!`),i("")};return n.jsxs("footer",{className:"bg-white mt-16",children:[n.jsx("div",{className:"bg-gray-50 py-3 border-t border-b border-gray-200",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center text-xs text-gray-600",children:d.map((m,p)=>n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("i",{className:`bx ${m.icon} text-base mb-1 text-blue-500`}),n.jsx("p",{className:"font-semibold text-xs",children:m.title}),n.jsx("p",{className:"text-xs",children:m.description})]},p))})})}),n.jsx("div",{className:"bg-white text-gray-800 py-6",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex flex-wrap flex-row justify-between",children:[n.jsxs("div",{className:"w-full md:w-auto mb-6 md:mb-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx("span",{className:"text-lg font-bold",children:"Foremade"}),n.jsx("i",{className:"bx bx-chevron-up text-blue-500 rotate-45"})]}),n.jsxs("div",{className:"flex space-x-4 items-center mb-4",children:[c.map((m,p)=>n.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:`text-lg ${r===m.name?m.color:"text-gray-600"}`,onMouseEnter:()=>e(m.name),onMouseLeave:()=>e(null),children:n.jsx("i",{className:m.icon})},p)),n.jsxs("div",{className:"relative group ml-2",children:[n.jsxs("button",{className:"hover:text-blue-600 flex items-center",children:[n.jsx("img",{src:yae,alt:"UK flag",className:"h-4"}),n.jsx("i",{className:"bx bx-chevron-down ml-1"})]}),n.jsx("div",{className:"absolute hidden group-hover:block bg-white z-10 w-36 rounded-md shadow-xl border border-gray-200",children:n.jsx("span",{className:"block px-3 py-1 text-xs hover:bg-gray-100 cursor-pointer",children:n.jsx("img",{src:bae,alt:"NG flag",className:"h-4"})})})]})]}),n.jsxs("div",{className:"mb-4 md:max-w-xs",children:[n.jsx("h3",{className:"text-xs font-semibold mb-2",children:"Subscribe to our newsletter"}),n.jsxs("form",{onSubmit:f,className:"flex",children:[n.jsx("input",{type:"email",value:a,onChange:m=>i(m.target.value),placeholder:"Your email",className:"flex-1 p-1 border border-gray-300 rounded-l-md focus:outline-none focus:ring-1 focus:ring-blue-500 text-xs",required:!0}),n.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-2 py-1 rounded-r-md hover:bg-blue-600 text-xs",children:n.jsx("i",{className:"bx bx-envelope"})})]})]})]}),n.jsxs("div",{className:"flex flex-wrap w-full md:w-auto justify-between",children:[n.jsxs("div",{className:"w-1/3 pr-2",children:[n.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Categories"}),n.jsxs("ul",{className:"space-y-1 text-xs",children:[o.slice(0,8).map((m,p)=>n.jsx("li",{children:n.jsx(ve,{to:`/category/${l(m)}`,className:"text-gray-600 hover:text-blue-500 transition-colors",onMouseEnter:()=>s(`category-${p}`),onMouseLeave:()=>s(null),children:m})},p)),o.length>8&&n.jsx("li",{children:n.jsx(ve,{to:"/products",className:"text-gray-600 hover:text-blue-500 transition-colors",onMouseEnter:()=>s("more-categories"),onMouseLeave:()=>s(null),children:"More Categories..."})})]})]}),n.jsxs("div",{className:"w-1/3 px-2",children:[n.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Account"}),n.jsx("ul",{className:"space-y-1 text-xs",children:u.account.map((m,p)=>n.jsx("li",{children:n.jsx(ve,{to:m.url,className:"text-gray-600 hover:text-blue-500 transition-colors",onMouseEnter:()=>s(`account-${p}`),onMouseLeave:()=>s(null),children:m.name})},p))})]}),n.jsxs("div",{className:"w-1/3 pl-2",children:[n.jsx("h3",{className:"text-sm font-semibold mb-2",children:"About"}),n.jsxs("ul",{className:"space-y-1 text-xs",children:[u.about.map((m,p)=>n.jsx("li",{children:n.jsx(ve,{to:m.url,className:"text-gray-600 hover:text-blue-500 transition-colors",onMouseEnter:()=>s(`about-${p}`),onMouseLeave:()=>s(null),children:m.name})},p)),n.jsx("li",{children:n.jsx(ve,{to:"/buyer-protection-policy",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Buyer Protection Policy"})}),n.jsx("li",{children:n.jsx(ve,{to:"/refund-policy",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Refund Policy"})}),n.jsx("li",{children:n.jsx(ve,{to:"/terms-conditions",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Terms & Conditions"})}),n.jsx("li",{children:n.jsx(ve,{to:"/seller-agreement",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Seller Agreement"})}),n.jsx("li",{children:n.jsx(ve,{to:"/shipping-policy",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Shipping Policy"})})]})]})]})]}),n.jsx("div",{className:"mt-6 text-center text-xs text-gray-400",children:n.jsxs("p",{children:[" ",new Date().getFullYear()," Foremade, Inc. All rights reserved."]})})]})})]})},Qx={quote:"I always find what I need on Foremade, and the delivery is super fast. Highly recommended!",name:"Okafor C., Abuja",avatar:"https://randomuser.me/api/portraits/men/59.jpg"};function wae(){const r=[{image:"https://pngimg.com/uploads/vacuum_cleaner/vacuum_cleaner_PNG3.png",text:"Smart Shopping, Better Living",tagline:"Premium Products",description:"Discover curated collections from verified sellers worldwide",features:[{icon:"bx bx-certification",text:"Quality Assured",desc:"Verified products"},{icon:"bx bx-package",text:"Fast Delivery",desc:"Global shipping"}],button:"Explore Now",secondaryButton:"View Deals",link:"/products"},{image:"https://pngimg.com/uploads/tv/tv_PNG39223.png",text:"Premium Electronics",tagline:"Tech Essentials",description:"Find the latest tech from trusted sellers",features:[{icon:"bx bx-check-shield",text:"Warranty Assured",desc:"Extended coverage"},{icon:"bx bx-credit-card",text:"Easy Payment",desc:"Multiple options"}],button:"Browse Electronics",secondaryButton:"View Brands",link:"/category/electronics"}],[e,t]=C.useState(0),[s,a]=C.useState(!0);C.useEffect(()=>{if(!s)return;const o=setInterval(()=>{t(l=>(l+1)%r.length)},6e3);return()=>clearInterval(o)},[e,r.length,s]);const i=o=>{t(o),a(!1),setTimeout(()=>a(!0),1e4)};return n.jsxs("div",{className:"relative overflow-hidden my-4 mx-2 sm:mx-4 lg:mx-6 rounded-2xl border border-blue-800/30 h-[240px] xs:h-[260px] sm:h-[320px] lg:h-[440px] shadow-xl",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx(vt.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-700 via-blue-400/60 to-amber-200 animate-gradient-x",initial:{opacity:0},animate:{opacity:.7},transition:{duration:1}}),n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20 sm:opacity-30 transition-all duration-700 scale-110",style:{backgroundImage:`url(${r[e].image})`}}),n.jsx("div",{className:"absolute inset-0 backdrop-blur-md"})]}),n.jsx(vt.div,{className:"relative z-10 h-full flex items-center w-full",children:n.jsxs("div",{className:"w-full mx-auto px-3 xs:px-4 sm:px-8 lg:px-16 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-8 sm:gap-10 py-6 sm:py-10 flex-wrap",children:[n.jsxs("div",{className:"max-w-2xl w-full space-y-4 sm:space-y-6",children:[n.jsx(vt.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"inline-flex items-center h-7 px-4 rounded-full bg-gradient-to-r from-blue-600/30 to-blue-400/20 border border-blue-500/30 mb-1",children:n.jsx("span",{className:"text-xs font-medium text-blue-100 tracking-wide",children:r[e].tagline})}),n.jsx(vt.h2,{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold leading-tight text-white drop-shadow-lg",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:r[e].text}),n.jsx(vt.p,{className:"hidden sm:block text-base sm:text-lg text-white/90 max-w-lg mt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r[e].description}),n.jsx("div",{className:"flex gap-3 mt-4",children:n.jsx(ve,{to:r[e].link,className:"px-6 py-2 rounded-lg font-bold bg-gradient-to-r from-blue-600 to-blue-400 text-white shadow-lg hover:from-blue-400 hover:to-blue-600 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400 animate-pulse",children:r[e].button})})]}),n.jsxs(vt.div,{className:"hidden sm:flex flex-col items-center justify-center bg-white/30 backdrop-blur-lg rounded-2xl p-6 shadow-lg max-w-xs ml-0 sm:ml-8 mt-8 sm:mt-0 border border-blue-100/30",initial:{opacity:0,x:30},animate:{opacity:1,x:0},children:[n.jsx("img",{src:Qx.avatar,alt:Qx.name,className:"w-16 h-16 rounded-full border-4 border-blue-300 shadow mb-3"}),n.jsx("p",{className:"text-base text-gray-900 font-medium italic mb-2 text-center",children:Qx.quote}),n.jsx("span",{className:"text-xs text-gray-700 font-semibold",children:Qx.name})]})]})}),n.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-2 z-20",children:r.map((o,l)=>n.jsx("button",{onClick:()=>i(l),className:"group","aria-label":`Go to slide ${l+1}`,children:n.jsx("span",{className:`block w-3 h-3 rounded-full transition-all duration-200 ${e===l?"bg-blue-400 scale-125 shadow-lg shadow-blue-400/50":"bg-white/40 group-hover:bg-white/60 group-hover:scale-105"}`})},l))})]})}const Nae=()=>{const[r,e]=C.useState(!1);C.useEffect(()=>{localStorage.getItem("cookiesAccepted")||e(!0)},[]);const t=()=>{localStorage.setItem("cookiesAccepted","true"),e(!1)};return r?n.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-8 md:right-8 bg-white shadow-lg rounded-lg p-4 z-50 border border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 max-w-7xl mx-auto",children:[n.jsx("div",{className:"flex-1 text-gray-600 text-sm md:text-base",children:"We use cookies to improve your experience on our site. By using our site, you accept our use of cookies."}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("a",{href:"/cookie-policy",className:"text-[#112d4e] hover:text-[#112d4e] text-sm font-medium hover:underline",children:"Learn more"}),n.jsx("button",{onClick:t,className:"bg-[#112d4e] hover:bg-[#112d4e] text-white font-medium px-6 py-2 rounded-md transition-colors duration-200 text-sm",children:"Accept"})]})]})}):null},jae=()=>{const[r,e]=C.useState({width:window.innerWidth,height:window.innerHeight});return C.useEffect(()=>{const t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r},kae=()=>{const[r,e]=C.useState([]),[t,s]=C.useState(0),[a,i]=C.useState(null),{width:o,isDesktop:l,isMobile:c,isTablet:d}=jae();C.useEffect(()=>{(async()=>{try{const p=Ie(J,"settings","carousel","slides"),y=await dt(p),x=new Map;sessionStorage.removeItem("carousel_slides"),y.docs.forEach(N=>{const k=N.data();console.log("Raw slide data:",k);const S={id:N.id,mediaType:k.mediaType||(k.desktop?.toLowerCase().match(/\.(mp4|webm)$/i)?"video":"image"),desktopMedia:k.desktop,tabletMedia:k.tablet,mobileMedia:k.mobile,buttonText:k.buttonText||"",buttonUrl:k.buttonUrl||"",buttonStyle:k.buttonStyle||"primary",alt:k.alt||`Slide ${N.id}`,createdAt:k.createdAt};x.set(N.id,S),console.log("Slide data:",{id:S.id,hasDesktop:!!S.desktopMedia,hasTablet:!!S.tabletMedia,hasMobile:!!S.mobileMedia,mediaType:S.mediaType,mediaUrls:{desktop:S.desktopMedia,tablet:S.tabletMedia,mobile:S.mobileMedia}})});const v=Array.from(x.values()).sort((N,k)=>new Date(k.createdAt)-new Date(N.createdAt));console.log("Total slides fetched:",v.length),e(v)}catch(p){console.error("Error fetching slides:",p)}})()},[]),C.useEffect(()=>{if(r.length===0)return;const m=setInterval(()=>{i(t),s(p=>(p+1)%r.length)},5e3);return()=>clearInterval(m)},[t,r.length]);const u=m=>{if(!m)return console.warn("Attempt to get media for undefined slide"),null;if(m.mediaType==="video"){const y=m.desktopMedia||m.tabletMedia||m.mobileMedia;return y||console.warn("No media found for video slide:",m.id),y}let p=null;return l?p=m.desktopMedia:d?p=m.tabletMedia:c&&(p=m.mobileMedia),p||(p=m.desktopMedia||m.tabletMedia||m.mobileMedia,p||console.warn("No media found for slide:",m.id)),p},f=m=>{if(m.mediaType==="video")return!0;const p=u(m);return p&&[".mp4",".webm",".mov"].some(x=>p.toLowerCase().endsWith(x))};return r.length===0?n.jsx("div",{className:"relative h-[310px] sm:h-[310px] md:h-[310px] lg:h-[400px] w-full overflow-hidden",children:n.jsx("div",{className:"absolute inset-0",children:n.jsx("div",{className:"w-full h-full bg-gray-200 animate-pulse"})})}):n.jsx("div",{className:"relative h-[300px] sm:h-[400px] md:h-[300px] lg:h-[500px] w-full overflow-hidden",children:r.map((m,p)=>n.jsx("div",{className:`absolute inset-0 transition-all duration-1000 ease-in-out ${p===t?"opacity-100 transform translate-x-0":p===a?"opacity-0 transform -translate-x-10":"opacity-0 transform translate-x-10"}`,children:n.jsxs("div",{className:"relative w-full h-full",children:[f(m)?n.jsx("video",{src:u(m),className:"w-full h-full object-cover object-center sm:object-[50%_50%]",style:{objectPosition:"center 35%"},autoPlay:!0,loop:!0,muted:!0,playsInline:!0,controls:!1,preload:"auto",onLoadStart:()=>{console.log("Video load started:",{slideId:m.id,url:u(m)})},onError:y=>{console.error("Video load error:",{slideId:m.id,url:u(m),error:y.target.error})}},m.id):n.jsx("img",{src:u(m),alt:m.alt||`Slide ${m.id}`,className:"w-full h-full object-cover object-center sm:object-[50%_50%]",style:{objectPosition:"center 35%"},loading:"eager",onError:y=>{console.error("Image load error:",{slideId:m.id,url:u(m),desktop:m.desktopMedia,tablet:m.tabletMedia,mobile:m.mobileMedia}),y.target.src="/src/assets/placeholder.png",y.target.onerror=null}},m.id),m.buttonText&&m.buttonUrl&&n.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2",children:n.jsx("a",{href:m.buttonUrl,className:`
                    inline-flex items-center justify-center
                    px-6 py-3 min-w-[140px]
                    rounded-lg font-medium text-base
                    transition-colors duration-200 ease-in-out
                    ${m.buttonStyle==="primary"?"bg-[#112d4e] hover:bg-[#0f2a44] text-white shadow-md":m.buttonStyle==="secondary"?"bg-[#FF5722] hover:bg-[#FF8A65] text-white shadow-md":"bg-white hover:bg-gray-100 text-gray-900 shadow-md"}
                  `,children:m.buttonText})})]})},m.id))})},MF=({type:r="default",count:e=1})=>{const t=()=>{switch(r){case"featuredProduct":case"recommended":return n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-pulse",children:[...Array(e)].map((s,a)=>n.jsxs("div",{className:"w-full h-64 bg-gray-200 rounded-lg",children:[n.jsx("div",{className:"w-full h-48 bg-gray-300 rounded-t-lg"}),n.jsxs("div",{className:"p-2",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},a))});case"productDetail":return n.jsx("div",{className:"animate-pulse",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"order-1",children:[n.jsx("div",{className:"w-full h-96 bg-gray-200 rounded-lg"}),n.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto scrollbar-hide",children:[...Array(4)].map((s,a)=>n.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-lg"},a))})]}),n.jsx("div",{className:"order-2 space-y-4",children:n.jsxs("div",{className:"product-info-card",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[...Array(1)].map((s,a)=>n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"},a))}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),n.jsxs("div",{className:"price-section",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[...Array(1)].map((s,a)=>n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/5"},a))}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-1/2 mb-4"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-1/3 mb-4"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-2/3 mb-4"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"h-12 bg-gray-200 rounded w-2/3"}),n.jsx("div",{className:"h-12 bg-gray-200 rounded w-1/6"})]})]})}),n.jsxs("div",{className:"order-3 md:order-2 lg:order-3 product-info-card mt-6",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-3"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"})]}),n.jsxs("div",{className:"order-4 lg:order-5 product-info-card",style:{marginBottom:"2rem"},children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-3"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-16 bg-gray-200 rounded w-full mb-2"})]})]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"sticky top-4 space-y-6",children:[n.jsxs("div",{className:"product-info-card",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((s,a)=>n.jsxs("div",{className:"h-20 bg-gray-200 rounded-lg flex",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-lg mr-2"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},a))})]}),n.jsxs("div",{className:"product-info-card",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,a)=>n.jsxs("div",{className:"h-16 bg-gray-200 rounded-lg flex",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-lg mr-2"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},a))})]})]})})]})});case"categories":return n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 animate-pulse",children:[n.jsx("div",{className:"sm:col-span-2 h-40 bg-gray-200 rounded-lg"}),n.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"}),n.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"}),n.jsx("div",{className:"h-40 bg-gray-200 rounded-lg max-md:hidden"}),n.jsx("div",{className:"h-40 bg-gray-200 rounded-lg max-md:hidden"})]});default:return n.jsx("div",{className:"w-80 sm:w-full h-40 bg-gray-200 rounded-lg animate-pulse",children:n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"h-5 bg-gray-300 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/4 mb-4"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded-md"}),n.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded-md"})]})]})})}};return n.jsx("div",{className:r==="default"?"flex gap-4 overflow-x-auto":"",children:[...Array(r==="featuredProduct"||r==="recommended"||r==="productDetail"||r==="categories"?1:e)].map((s,a)=>n.jsx("div",{className:r==="default"?"flex-shrink-0":"",children:t()},a))})},Sae="/assets/go-KqmyPzJd.jpg",_ae=()=>{const[r,e]=C.useState(!0);return C.useEffect(()=>{const t=setTimeout(()=>{e(!1)},1500);return()=>clearTimeout(t)},[]),r?n.jsxs("section",{className:"container mx-auto px-4 py-8",children:[n.jsx("h2",{className:"text-lg sm:text-lg md:text-xl font-bold text-gray-800 mb-4",children:"Top Categories"}),n.jsx(MF,{type:"categories"})]}):n.jsxs("section",{className:"container mx-auto px-4 py-8",children:[n.jsx("h2",{className:"text-lg sm:text-lg md:text-xl font-bold text-gray-800 mb-4",children:"Top Categories"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 ",children:[n.jsxs("div",{className:"p-5 md:col-span-2 bg-gradient-to-br from-[#D1FAE5] to-[#A7F3D0] rounded-2xl sm:p-3 text-gray-900 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:[n.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-white rounded-full"}),n.jsx("div",{className:"absolute top-1/2 -left-8 w-16 h-16 bg-white rounded-full"}),n.jsx("div",{className:"absolute -bottom-6 right-1/3 w-20 h-20 bg-white rounded-full"})]}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-1",children:"ForemadeGo"}),n.jsx("p",{className:"text-teal-100 text-xs sm:text-sm font-medium",children:"Lightning Fast  Ultra Secure"})]}),n.jsx("div",{className:"hidden sm:block",children:n.jsx("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzAiIGN5PSIzMCIgcj0iMzAiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMiIvPgo8cGF0aCBkPSJNMjAgMjVIMzVMMzAgMzVIMjBWMjVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",alt:"Delivery",className:"w-8 h-8"})})]}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 mb-2 items-stretch",children:[n.jsxs("div",{className:"flex flex-col justify-center flex-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-white/30 backdrop-blur-sm rounded-xl p-2",children:[n.jsx("div",{className:"bg-white/40 rounded-full p-1",children:n.jsx(pae,{className:"w-4 h-4 text-teal-500"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-xs text-gray-800",children:"Integrated with Foremade"}),n.jsx("p",{className:"text-teal-600 text-xs",children:"Get your orders in record time"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white/30 backdrop-blur-sm rounded-xl p-2",children:[n.jsx("div",{className:"bg-white/40 rounded-full p-1",children:n.jsx(PI,{className:"w-4 h-4 text-teal-500"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-xs text-gray-800",children:"100% Secure"}),n.jsx("p",{className:"text-teal-600 text-xs",children:"Your packages, guaranteed safe"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-2 flex items-center justify-center gap-12 mt-2",children:[n.jsx("h3",{className:"text-teal-700 text-xs font-semibold mb-0",children:"Get Delivery in Minutes"}),n.jsxs("a",{href:"https://foremadego.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 bg-gradient-to-r from-teal-400 to-teal-600 hover:from-teal-500 hover:to-teal-700 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-300 shadow-md text-[10px]",children:["Track your orders here",n.jsx(yg,{className:"w-3.5 h-3.5"})]})]})]}),n.jsx("div",{className:"flex flex-col items-center justify-center flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-56 h-56 sm:w-64 sm:h-64 rounded-2xl overflow-hidden shadow-xl border-4 border-white/40",children:n.jsx("img",{src:Sae,alt:"Happy ForemadeGo delivery person on motorcycle",className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-200 text-teal-700 px-2 py-0.5 rounded-full text-[0.65rem] font-bold shadow-lg",children:"#1 Rated"})]})})]}),n.jsxs("div",{className:"text-center mt-1 flex items-center justify-center gap-2",children:[n.jsx(EF,{className:"w-4 h-4 text-teal-400",title:"Speed"}),n.jsx(PI,{className:"w-4 h-4 text-teal-400",title:"Security"}),n.jsx(Gre,{className:"w-4 h-4 text-teal-400",title:"Satisfaction Guaranteed"})]})]})]}),n.jsxs("div",{className:"md:col-span-1 bg-[#E0F4FF] text-black rounded-lg p-4 sm:p-6 flex flex-col sm:flex-row max-md:items-center items-left justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-2",children:"Cut the Price, Not the Features"}),n.jsx("p",{className:"text-sm sm:text-xs mb-4",children:"Get the latest phones at 20% off"}),n.jsx("a",{href:"/electronics",className:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm sm:text-xs inline-block",children:"Buy Now"})]}),n.jsx("div",{className:"mt-4 sm:mt-0 sm:self-start",children:n.jsx("img",{src:"https://pngimg.com/uploads/iphone16/small/iphone16_PNG6.png",alt:"Phone",className:"w-20 h-40"})})]}),n.jsxs("div",{className:"bg-[#EDE9FE] text-black rounded-lg p-4 sm:p-6 flex sm:flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold mb-2",children:"Style Meets Function"}),n.jsx("a",{href:"/electronics",className:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm sm:text-xs inline-block",children:"Shop Now"})]}),n.jsx("div",{className:"mt-4 sm:mt-0",children:n.jsx("img",{src:"https://pngimg.com/uploads/laptop/small/laptop_PNG101763.png",alt:"Laptop",className:"w-24 sm:w-28 h-auto"})})]}),n.jsxs("div",{className:"bg-[#FFE5E5] text-black rounded-lg p-4 sm:p-6 flex sm:flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold mb-2",children:"Capture the Magic Around"}),n.jsx("a",{href:"/electronics",className:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm sm:text-xs inline-block",children:"Shop Now"})]}),n.jsx("div",{className:"mt-4 sm:mt-0",children:n.jsx("img",{src:"https://pngimg.com/uploads/camera_lens/small/camera_lens_PNG4.png",alt:"Camera",className:"w-20 sm:w-24 h-auto"})})]}),n.jsxs("div",{className:"bg-[#E0F4FF] text-black rounded-lg p-4 sm:p-6 flex flex-col sm:flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold mb-2",children:"Health & Wellness"}),n.jsx("a",{href:"/health-beauty",className:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm sm:text-xs inline-block",children:"Shop Now"})]}),n.jsx("div",{className:"mt-4 sm:mt-0",children:n.jsx("img",{src:"https://pngimg.com/uploads/pills/small/pills_PNG16492.png",alt:"Bottle",className:"w-20 sm:w-24 h-auto"})})]})]})]})},Jx={quote:"Foremade helped me turn my side hustle into a real business. The dashboard and support are world-class!",name:"Sarah M., London",avatar:"https://randomuser.me/api/portraits/women/44.jpg"};function Aae(){const r=[{image:"https://pngimg.com/uploads/fan/fan_PNG14457.png",text:"Start Your Business Journey",tagline:"Empowering Entrepreneurs",description:"Join our marketplace and transform your passion into profit",features:[{icon:"bx bx-chart",text:"Analytics Dashboard",desc:"Track your growth"},{icon:"bx bx-shield-plus",text:"Secure Payments",desc:"Protected transactions"}],button:"Start Selling",secondaryButton:"Learn More",link:"/sell"},{image:"https://pngimg.com/uploads/laptop/laptop_PNG101773.png",text:"Grow Your Business",tagline:"Scale Globally",description:"Reach millions of potential customers worldwide",features:[{icon:"bx bx-globe",text:"Global Reach",desc:"Worldwide audience"},{icon:"bx bx-trending-up",text:"Growth Tools",desc:"Marketing suite"}],button:"Learn More",secondaryButton:"View Features",link:"/pro-seller-guide"}],[e,t]=C.useState(0),[s,a]=C.useState(!0);C.useEffect(()=>{if(!s)return;const o=setInterval(()=>{t(l=>(l+1)%r.length)},6e3);return()=>clearInterval(o)},[e,r.length,s]);const i=o=>{t(o),a(!1),setTimeout(()=>a(!0),1e4)};return n.jsxs("div",{className:"relative overflow-hidden my-4 mx-2 sm:mx-4 lg:mx-6 rounded-2xl border border-neutral-800/30 h-[240px] xs:h-[260px] sm:h-[320px] lg:h-[440px] shadow-xl",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx(vt.div,{className:"absolute inset-0 bg-gradient-to-br from-amber-600 via-orange-400/60 to-blue-900 animate-gradient-x",initial:{opacity:0},animate:{opacity:.7},transition:{duration:1}}),n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20 sm:opacity-30 transition-all duration-700 scale-110",style:{backgroundImage:`url(${r[e].image})`}}),n.jsx("div",{className:"absolute inset-0 backdrop-blur-md"})]}),n.jsx(vt.div,{className:"relative z-10 h-full flex items-center w-full",children:n.jsxs("div",{className:"w-full mx-auto px-3 xs:px-4 sm:px-8 lg:px-16 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-8 sm:gap-10 py-6 sm:py-10 flex-wrap",children:[n.jsxs("div",{className:"max-w-2xl w-full space-y-4 sm:space-y-6",children:[n.jsx(vt.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"inline-flex items-center h-7 px-4 rounded-full bg-gradient-to-r from-amber-600/30 to-orange-400/20 border border-amber-500/30 mb-1",children:n.jsx("span",{className:"text-xs font-medium text-amber-100 tracking-wide",children:r[e].tagline})}),n.jsx(vt.h2,{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold leading-tight text-white drop-shadow-lg",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:r[e].text}),n.jsx(vt.p,{className:"hidden sm:block text-base sm:text-lg text-white/90 max-w-lg mt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r[e].description}),n.jsx("div",{className:"flex gap-3 mt-4",children:n.jsx(ve,{to:r[e].link,className:"px-6 py-2 rounded-lg font-bold bg-gradient-to-r from-amber-500 to-orange-400 text-white shadow-lg hover:from-orange-400 hover:to-amber-500 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-amber-400 animate-pulse",children:r[e].button})})]}),n.jsxs(vt.div,{className:"hidden sm:flex flex-col items-center justify-center bg-white/30 backdrop-blur-lg rounded-2xl p-6 shadow-lg max-w-xs ml-0 sm:ml-8 mt-8 sm:mt-0 border border-amber-100/30",initial:{opacity:0,x:30},animate:{opacity:1,x:0},children:[n.jsx("img",{src:Jx.avatar,alt:Jx.name,className:"w-16 h-16 rounded-full border-4 border-amber-300 shadow mb-3"}),n.jsx("p",{className:"text-base text-gray-900 font-medium italic mb-2 text-center",children:Jx.quote}),n.jsx("span",{className:"text-xs text-gray-700 font-semibold",children:Jx.name})]})]})}),n.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-2 z-20",children:r.map((o,l)=>n.jsx("button",{onClick:()=>i(l),className:"group","aria-label":`Go to slide ${l+1}`,children:n.jsx("span",{className:`block w-3 h-3 rounded-full transition-all duration-200 ${e===l?"bg-amber-400 scale-125 shadow-lg shadow-amber-400/50":"bg-white/40 group-hover:bg-white/60 group-hover:scale-105"}`})},l))})]})}function hr({price:r}){const{convertPrice:e,loading:t}=sp();return n.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:t?"...":e(r)})}const Gs="/assets/placeholder-ZIgPw8SE.png",Zr=({product:r,dailyDeals:e=[],selectedColor:t="",selectedSize:s="",selectedVariant:a=null,onClick:i,isFavorite:o=!1,toggleFavorite:l,cardClassName:c="",imageClassName:d="",priceClassName:u="",nameClassName:f=""})=>{const[m,p]=C.useState(o),[y,x]=C.useState(0),[v,N]=C.useState(""),[k,S]=C.useState(!1),[R,A]=C.useState(null),[D,P]=C.useState({buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),[E,I]=C.useState(!1);let M={...r,stock:Number(r.stock)||0};if(Array.isArray(e)&&r.id){const ie=e.find(he=>he.productId===r.id&&he.discount&&(!he.endDate||new Date(he.endDate)>new Date)&&(!he.startDate||new Date(he.startDate)<=new Date));ie&&(M.isDailyDeal=!0,M.discountPercentage=Number((ie.discount*100).toFixed(2))||0)}const L=Array.isArray(M.variants)&&M.variants.length>0,z=Number(a?.price||r.price)||0,F=L?M.variants.map(ie=>Number(ie.price)||0).filter(ie=>ie>0):[z],V=F.length>0?Math.min(...F):z,$=F.length>0?Math.max(...F):z;C.useEffect(()=>{(async()=>{try{const De=Te(J,"feeConfigurations","categoryFees"),Oe=await ft(De);Oe.exists()&&A(Oe.data())}catch(De){console.error("Error fetching fee configurations:",De)}})(),(async()=>{if(M.sellerId)try{const Be=(await dt(Ie(J,"proSellers"))).docs.map(de=>de.data()).some(de=>de.userId===M.sellerId);I(Be)}catch(De){console.error("Error checking pro seller status:",De),I(!1)}})();let le=Gs;a?.imageUrls?.length>0?le=a.imageUrls.find(Oe=>typeof Oe=="string"&&Oe.startsWith("https://"))||a.imageUrls[0]||Gs:L&&M.variants[0]?.imageUrls?le=M.variants[0].imageUrls.find(Oe=>typeof Oe=="string"&&Oe.startsWith("https://"))||M.variants[0].imageUrls[0]||Gs:Array.isArray(M.imageUrls)&&M.imageUrls.length>0?le=M.imageUrls.find(Oe=>typeof Oe=="string"&&Oe.startsWith("https://"))||M.imageUrls[0]||Gs:M.imageUrl&&typeof M.imageUrl=="string"&&M.imageUrl.startsWith("https://")?le=M.imageUrl:console.warn(`Product ${M.id} has no valid imageUrl or imageUrls`),N(le),S(!1)},[M.id,M.imageUrls,M.imageUrl,M.variants,a]),C.useEffect(()=>{(async()=>{if(!r||!r.id){p(!1),x(0);return}try{const he=Te(J,"products",r.id),le=await ft(he);if(le.exists()){const De=le.data(),Oe=Pe.currentUser?.uid;p(Oe&&Array.isArray(De.favoritedBy)&&De.favoritedBy.includes(Oe)||o),x(De.favoriteCount||0)}else p(!1),x(0)}catch(he){console.error("Error fetching favorite status:",he)}})()},[r.id,o]),C.useEffect(()=>{if(R&&M.category&&V>0){const ie=R[M.category]||{buyerProtectionRate:.08,handlingRate:.2},he=V*ie.buyerProtectionRate,le=V*ie.handlingRate,De=V+he+le;P({buyerProtectionFee:he,handlingFee:le,totalEstimatedPrice:De,sellerEarnings:V})}},[R,M.category,V]);const Y=z,X=D.totalEstimatedPrice,ee=M.isDailyDeal?Math.round(X*(1-M.discountPercentage/100)):X,W=L?D.totalEstimatedPrice:X;L&&Math.round(($+$*(R?.[M.category]?.buyerProtectionRate||.08)+$*(R?.[M.category]?.handlingRate||.2))*(M.isDailyDeal?1-M.discountPercentage/100:1));const B=async ie=>{if(ie.preventDefault(),ie.stopPropagation(),l)l();else{const he=Pe.currentUser?.uid;try{const le=Te(J,"products",r.id),De=await ft(le);if(!De.exists()){Me.error("Product not found.");return}const Oe=De.data(),Be=Oe.favoriteCount||0,de=Oe.favoritedBy||[];if(m)await _n(le,{favoritedBy:AG(he),favoriteCount:Math.max(0,Be-1)}),p(!1),x(Math.max(0,Be-1)),Me.success("Removed from favorites!");else{if(de.includes(he)){Me.info("You have already favorited this product.");return}await _n(le,{favoritedBy:_G(he),favoriteCount:Be+1}),p(!0),x(Be+1),Me.success("Added to favorites!")}}catch(le){console.error("Error updating favorite:",le),Me.error("Failed to update favorite. Try again!")}}},G=(ie,he=35)=>!ie||typeof ie!="string"?"No name available":ie.length>he?ie.substring(0,he)+"...":ie,te=[...M.colors?Array.isArray(M.colors)?M.colors:[M.colors]:[],...L?[...new Set(M.variants.map(ie=>ie.color).filter(Boolean))]:[]].filter((ie,he,le)=>le.indexOf(ie)===he),re=[...M.sizes?Array.isArray(M.sizes)?M.sizes:[M.sizes]:[],...L?[...new Set(M.variants.map(ie=>ie.size).filter(Boolean))]:[]].filter((ie,he,le)=>le.indexOf(ie)===he);return n.jsxs(ve,{to:`/product/${M.id}`,onClick:i,className:`bg-white rounded-lg transition duration-300 flex flex-col min-w-0 overflow-hidden ${c}`,tabIndex:0,"aria-label":M.name,children:[n.jsxs("div",{className:`relative h-[200px] overflow-hidden rounded-t-lg min-w-0 ${d}`,children:[n.jsx("img",{src:k?Gs:v,alt:M.name||"Product Image",className:"w-full h-full object-cover max-w-full max-h-full",onError:ie=>{k||(console.error("Image load error for product:",M.id,M.name,{imageUrl:v,attemptedUrl:ie.target.src}),S(!0),N(Gs))},loading:"lazy",fetchPriority:"low"}),n.jsxs("button",{onClick:B,className:"absolute top-2 right-2 p-1.5 flex items-center justify-evenly bg-white/70 backdrop-blur-sm rounded-full hover:bg-white transition-colors","aria-label":m?"Remove from favorites":"Add to favorites",children:[n.jsx(jF,{className:`w-5 h-5 ${m?"text-gray-600 fill-gray-600":"text-gray-600"}`}),n.jsx("p",{className:"mx-1 text-sm",children:y})]}),M.isDailyDeal&&n.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1.5 xs:px-2 py-0.5 xs:py-1 rounded-full text-[10px] xs:text-xs font-bold",children:[M.discountPercentage,"% OFF"]})]}),n.jsxs("div",{className:"flex flex-col justify-between flex-grow p-3 min-w-0 overflow-hidden",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:`mb-1 break-words line-clamp-2 min-h-[48px] ${f}`,title:M.name,style:{fontSize:"13px",color:"#222",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:[G(M.name),M.name&&M.name.length<35&&n.jsx("span",{style:{visibility:"hidden"},children:"".repeat(40)})]}),M.stock<=2&&M.stock>0&&n.jsx("span",{className:"inline-block border border-red-500 text-red-500 text-[10px] font-semibold px-[3px] py-[2px] rounded-full",children:"Almost Gone"}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[M.condition&&n.jsx("p",{style:{fontSize:"13px",color:"#222"},className:"mb-2",children:n.jsx("span",{children:M.condition})}),E&&n.jsx("div",{className:"p-[5px] flex items-center justify-center bg-gray-100 rounded-full",children:n.jsx(TF,{className:"w-4 h-4 text-green-500"})})]}),(te.length>0||re.length>0)&&n.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mb-2 text-xs text-gray-600",children:[te.length>0&&n.jsxs("span",{className:"flex items-center",children:[n.jsx(hk,{size:14,className:"mr-1 text-gray-500"}),te.join(", ")]}),re.length>0&&n.jsxs("span",{className:"flex items-center",children:[n.jsx(fk,{size:14,className:"mr-1 text-gray-500"}),re.slice(0,4).join(", ")]})]})]}),n.jsxs("div",{className:"mt-auto",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("span",{className:`text-[16px] text-[#222] flex items-center gap-0.5rem ${u}`,children:L?n.jsx(n.Fragment,{children:n.jsx(hr,{price:M.isDailyDeal?Math.round(W*(1-M.discountPercentage/100)):W,currency:M.currency||localStorage.getItem("currency")||"USD"})}):n.jsx(hr,{price:M.isDailyDeal?ee:X,currency:M.currency||localStorage.getItem("currency")||"USD"})})}),M.isDailyDeal&&n.jsxs("span",{className:"text-gray-400 line-through text-[10px]",style:{fontSize:"10px"},children:[n.jsx(hr,{price:L?V:Y,currency:M.currency||localStorage.getItem("currency")||"USD"}),L&&V!==$&&n.jsxs(n.Fragment,{children:[" - ",n.jsx(hr,{price:$,currency:M.currency||localStorage.getItem("currency")||"USD"})]})]})]})]})]})};function OF(){const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(null),[o,l]=C.useState([]),c=C.useRef(null),d=["foremade fashion","smart watches","drinks & categories","health & beauty","game & fun","computers & accessories"],u=p=>{let y=[...p];for(let x=y.length-1;x>0;x--){const v=Math.floor(Math.random()*(x+1));[y[x],y[v]]=[y[v],y[x]]}return y};C.useEffect(()=>{(async()=>{try{const y=await dt(Ie(J,"dailyDeals"));l(y.docs.map(x=>({id:x.id,...x.data()})))}catch(y){console.error("Error loading daily deals:",y)}})()},[]),C.useEffect(()=>{(async()=>{try{s(!0),i(null);const y=await dt(Ie(J,"featuredProducts")),v=(await Promise.all(y.docs.map(async M=>{try{const L=Te(J,"products",M.data().productId);console.log("Fetching product:",M.data().productId);const z=await ft(L);return z.exists()&&z.data().status==="approved"?{id:z.id,...z.data(),isAdminSelected:!0}:(console.warn("Product not found or not approved:",M.data().productId),null)}catch(L){return console.warn("Error fetching product for featured:",L),null}}))).filter(M=>M!==null),N=new Date,k=await dt(Et(Ie(J,"productBumps"),bt("expiry",">",N))),R=(await Promise.all(k.docs.map(async M=>{try{const L=Te(J,"products",M.data().productId),z=await ft(L);return z.exists()&&z.data().status==="approved"?{id:z.id,...z.data(),isBumped:!0,bumpExpiry:M.data().expiry?.toDate(),bumpDuration:M.data().bumpDuration}:(console.warn("Bumped product not found or not approved:",M.data().productId),null)}catch(L){return console.warn("Error fetching product for bump:",L),null}}))).filter(M=>M!==null);console.log("Valid bumped products:",R);const A=Et(Ie(J,"products"),bt("status","==","approved"),bt("category","in",d)),E=(await dt(A)).docs.map(M=>({id:M.id,...M.data()})).filter(M=>(M.stock||0)<10?(console.warn("Filtered out product with low stock:",{id:M.id,name:M.name,stock:M.stock}),!1):!0);console.log("Filtered products (stock > 10):",E);const I=[...v,...R.filter(M=>!v.some(L=>L.id===M.id)),...u(E.filter(M=>!v.some(L=>L.id===M.id)&&!R.some(L=>L.id===M.id)))].slice(0,15);e(I)}catch(y){console.error("Error loading featured products:",{message:y.message,code:y.code}),i("Failed to load featured products."),Me.error("Failed to load featured products.")}finally{s(!1)}})()},[]);const f=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},m=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})};return n.jsx("section",{className:"bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:a?n.jsx("p",{className:"text-red-600 p-4",children:"Failed to load featured products."}):t?n.jsx(n.Fragment,{children:[...Array(7)].map((p,y)=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},y))}):r.length===0?n.jsx("p",{className:"text-gray-600 p-4",children:"No featured products found."}):r.map(p=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4 snap-start",children:n.jsx(Zr,{product:p,dailyDeals:o})},p.id))}),n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:f,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),n.jsx("button",{onClick:m,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})})]})})}function LF(){const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(null),[o,l]=C.useState([]),c=C.useRef(null),d=m=>{let p=[...m];for(let y=p.length-1;y>0;y--){const x=Math.floor(Math.random()*(y+1));[p[y],p[x]]=[p[x],p[y]]}return p};C.useEffect(()=>{dt(Ie(J,"dailyDeals")).then(m=>{l(m.docs.map(p=>({id:p.id,...p.data()})))})},[]),C.useEffect(()=>{(async()=>{try{s(!0),i(null);const p=Et(Ie(J,"products"),bt("status","==","approved")),x=(await dt(p)).docs.map(N=>({id:N.id,...N.data()}));console.log("All fetched approved products (Best Selling):",x);const v=x.filter(N=>{if(N.variants&&N.variants.length>0){const k=N.variants.reduce((S,R)=>S+(R.stock||0),0);if(k<10)return console.warn("Filtered out variant product with low total stock:",{id:N.id,name:N.name,totalStock:k}),!1}else if((N.stock||0)<10)return console.warn("Filtered out single-variant product with low stock:",{id:N.id,name:N.name,stock:N.stock}),!1;return!0}).sort((N,k)=>(k.rating||0)-(N.rating||0));if(console.log("Fetched products (Best Selling - After Filter):",v),v.length===0){console.warn("No approved products passed the filters (Best Selling). Relaxing stock filter...");const N=d(x.sort((k,S)=>(S.rating||0)-(k.rating||0))).slice(0,15);console.log("Products with relaxed stock filter (Best Selling):",N),e(N)}else{const N=d(v).slice(0,15);e(N)}}catch(p){console.error("Error loading best-selling products:",{message:p.message,code:p.code}),i("Failed to load best-selling products.")}finally{s(!1)}})()},[]);const u=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},f=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})};return n.jsx("section",{className:"bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:a?n.jsx("p",{className:"text-red-600 p-4",children:"Failed to load best-selling products."}):t?n.jsx(n.Fragment,{children:[...Array(7)].map((m,p)=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},p))}):r.length===0?n.jsx("p",{className:"text-gray-600 p-4",children:"No best-selling products found."}):r.map(m=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4 snap-start",children:n.jsx(Zr,{product:m,dailyDeals:o})},m.id))}),n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:u,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),n.jsx("button",{onClick:f,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})})]})})}function Cae(){const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(null),[o,l]=C.useState([]),c=C.useRef(null),d=m=>{let p=[...m];for(let y=p.length-1;y>0;y--){const x=Math.floor(Math.random()*(y+1));[p[y],p[x]]=[p[x],p[y]]}return p};C.useEffect(()=>{dt(Ie(J,"dailyDeals")).then(m=>{l(m.docs.map(p=>({id:p.id,...p.data()})))})},[]),C.useEffect(()=>{(async()=>{try{s(!0),i(null);const p=Et(Ie(J,"products"),bt("status","==","approved")),x=(await dt(p)).docs.map(N=>({id:N.id,...N.data()}));console.log("All fetched approved products (Best Selling):",x);const v=x.filter(N=>{if(N.variants&&N.variants.length>0){const k=N.variants.reduce((S,R)=>S+(R.stock||0),0);if(k<10)return console.warn("Filtered out variant product with low total stock:",{id:N.id,name:N.name,totalStock:k}),!1}else if((N.stock||0)<10)return console.warn("Filtered out single-variant product with low stock:",{id:N.id,name:N.name,stock:N.stock}),!1;return!0}).sort((N,k)=>(k.rating||0)-(N.rating||0));if(console.log("Fetched products (Best Selling - After Filter):",v),v.length===0){console.warn("No approved products passed the filters (Best Selling). Relaxing stock filter...");const N=d(x.sort((k,S)=>(S.rating||0)-(k.rating||0))).slice(0,15);console.log("Products with relaxed stock filter (Best Selling):",N),e(N)}else{const N=d(v).slice(0,15);e(N)}}catch(p){console.error("Error loading best-selling products:",{message:p.message,code:p.code}),i("Failed to load best-selling products.")}finally{s(!1)}})()},[]);const u=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},f=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})};return n.jsx("section",{className:"bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:a?n.jsx("p",{className:"text-red-600 p-4",children:"Failed to load best-selling products."}):t?n.jsx(n.Fragment,{children:[...Array(7)].map((m,p)=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},p))}):r.length===0?n.jsx("p",{className:"text-gray-600 p-4",children:"No best-selling products found."}):r.map(m=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4 snap-start",children:n.jsx(Zr,{product:m,dailyDeals:o})},m.id))}),n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:u,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),n.jsx("button",{onClick:f,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})})]})})}const Eae=()=>{const[r,e]=C.useState("featured");return n.jsxs("section",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"flex flex-col items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg text-center sm:text-xl md:text-2xl font-bold text-gray-800 mb-4",children:"Recommended For You"}),n.jsxs("div",{className:"hidden sm:flex items-center justify-center gap-4 sm:gap-6 mb-10",children:[n.jsx("button",{className:`text-sm ${r==="featured"?"text-blue-600 font-semibold":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("featured"),children:"Featured Products"}),n.jsx("button",{className:`text-sm ${r==="bestSelling"?"text-blue-600 font-semibold":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("bestSelling"),children:"Best Selling"}),n.jsx("button",{className:`text-sm ${r==="latest"?"text-blue-600 font-semibold":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("latest"),children:"Latest Products"}),n.jsx(ve,{to:"/products",className:"text-blue-600 text-sm hover:underline",children:"View All"})]}),n.jsxs("div",{className:"flex sm:hidden items-center justify-center gap-4 mb-10",children:[n.jsx("button",{className:`text-xl ${r==="featured"?"text-blue-600":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("featured"),children:n.jsx("i",{className:"bx bx-star"})}),n.jsx("button",{className:`text-xl ${r==="bestSelling"?"text-blue-600":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("bestSelling"),children:n.jsx("i",{className:"bx bxs-hot"})}),n.jsx("button",{className:`text-xl ${r==="latest"?"text-blue-600":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("latest"),children:n.jsx("i",{className:"bx bx-time"})}),n.jsx(ve,{to:"/products",className:"text-blue-600 text-xl hover:text-blue-600",children:n.jsx("i",{className:"bx bx-right-arrow-alt"})})]})]}),r==="featured"&&n.jsx(OF,{}),r==="bestSelling"&&n.jsx(LF,{}),r==="latest"&&n.jsx(Cae,{})]})};function Tae(){const[r,e]=C.useState([]),[t,s]=C.useState([]),[a,i]=C.useState(!0),[o,l]=C.useState(null),c=C.useRef(null),d="Fashion",u=["foremade fashion","clothing","accessories","footwear","jewelry","bags & wallets"],f=x=>{let v=[...x];for(let N=v.length-1;N>0;N--){const k=Math.floor(Math.random()*(N+1));[v[N],v[k]]=[v[k],v[N]]}return v},m=async()=>{try{i(!0),l(null);const x=Et(Ie(J,"trendingItems"),bt("category","==",d)),N=(await dt(x)).docs.map(S=>S.data());let k=[];if(N.length>0){const S=N.map(async R=>{const A=await ft(Te(J,"products",R.productId));return A.exists()?{id:A.id,...A.data()}:null});k=(await Promise.all(S)).filter(R=>R&&R.status==="approved").slice(0,10),console.log("Admin-selected trending Fashion products:",k)}if(k.length<10){console.warn("No or insufficient admin-selected trending items for Fashion. Using fallback...");const S=Et(Ie(J,"products"),bt("status","==","approved"),bt("category","in",u)),A=(await dt(S)).docs.map(P=>({id:P.id,...P.data()}));console.log("All fetched products (Trending Fashion):",A);const D=A.filter(P=>(P.stock||0)>=10).sort((P,E)=>(E.rating||0)-(P.rating||0));if(console.log(`Fetched ${d} products:`,D),D.length===0){console.warn("No products passed the filters (Trending Fashion). Relaxing stock filter...");const P=f(A.sort((E,I)=>(I.rating||0)-(E.rating||0))).slice(0,10);console.log("Products with relaxed stock filter (Trending Fashion):",P),e(P)}else{const P=[...k,...D].slice(0,10),E=f(P);e(E)}}else e(f(k))}catch(x){console.error("Error loading products:",{message:x.message,code:x.code}),l("Failed to load products."),Me.error("Failed to load trending products.")}finally{i(!1)}};C.useEffect(()=>{m(),dt(Ie(J,"dailyDeals")).then(x=>{s(x.docs.map(v=>({id:v.id,...v.data()})))})},[]);const p=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},y=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})};return a?n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending in ",d]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 sm:hidden"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 sm:hidden"})]})]}),n.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:[...Array(7)].map((x,v)=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},v))})]})}):n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending in ",d]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ve,{to:"/trending-fashions",className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"}),n.jsx("button",{onClick:p,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),n.jsx("button",{onClick:y,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})]}),n.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:r.length===0?n.jsxs("p",{className:"text-gray-600 p-4",children:["No ",d," products found."]}):r.map(x=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4 snap-start",children:n.jsx(Zr,{product:x,dailyDeals:t})},x.id))})]})})}function Pae(){const[r,e]=C.useState([]),[t,s]=C.useState([]),[a,i]=C.useState(!0),[o,l]=C.useState(null),c=C.useRef(null),d="Gadgets",u=["tablet & phones","computers & accessories","electronics","smart watches","game & fun"],f=x=>{let v=[...x];for(let N=v.length-1;N>0;N--){const k=Math.floor(Math.random()*(N+1));[v[N],v[k]]=[v[k],v[N]]}return v},m=async()=>{try{i(!0),l(null);const x=Et(Ie(J,"trendingItems"),bt("category","==",d)),N=(await dt(x)).docs.map(S=>S.data());let k=[];if(N.length>0){const S=N.map(async R=>{const A=await ft(Te(J,"products",R.productId));return A.exists()?{id:A.id,...A.data()}:null});k=(await Promise.all(S)).filter(R=>R&&R.status==="approved").slice(0,10),console.log("Admin-selected trending Gadgets products:",k)}if(k.length<10){console.warn("No or insufficient admin-selected trending items for Gadgets. Using fallback...");const S=Et(Ie(J,"products"),bt("status","==","approved"),bt("category","in",u)),A=(await dt(S)).docs.map(P=>({id:P.id,...P.data()}));console.log("All fetched products (Gadgets):",A);const D=A.filter(P=>(P.stock||0)>=10).sort((P,E)=>(E.rating||0)-(P.rating||0));if(console.log(`Fetched ${d} products:`,D),D.length===0){console.warn("No products passed the filters (Gadgets). Relaxing stock filter...");const P=f(A.sort((E,I)=>(I.rating||0)-(E.rating||0))).slice(0,10);console.log("Products with relaxed stock filter (Gadgets):",P),e(P)}else{const P=[...k,...D].slice(0,10),E=f(P);e(E)}}else e(f(k))}catch(x){console.error(`Error loading ${d} products:`,{message:x.message,code:x.code}),l(`Failed to load ${d} products.`),Me.error("Failed to load trending products.")}finally{i(!1)}};C.useEffect(()=>{m(),dt(Ie(J,"dailyDeals")).then(x=>{s(x.docs.map(v=>({id:v.id,...v.data()})))})},[]);const p=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},y=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})};return a?n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending in ",d]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 sm:hidden"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 sm:hidden"})]})]}),n.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:[...Array(7)].map((x,v)=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},v))})]})}):n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending in ",d]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ve,{to:"/trending-gadgets",className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"}),n.jsx("button",{onClick:p,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),n.jsx("button",{onClick:y,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})]}),n.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:r.length===0?n.jsxs("p",{className:"text-gray-600 p-4",children:["No trending ",d," products found."]}):r.map(x=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4 snap-start",children:n.jsx(Zr,{product:x,dailyDeals:t})},x.id))})]})})}const Rae=()=>{const r=_s(),e=Qr();return window.scrollTo(0,0),C.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[e.pathname]),n.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-purple-600 via-indigo-600 to-purple-700 py-6 px-4 sm:py-8 sm:px-6 lg:px-8 my-4 sm:my-6 rounded-xl sm:rounded-2xl mx-2 sm:mx-4 shadow-lg",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-0 left-0 w-48 sm:w-72 h-48 sm:h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),n.jsx("div",{className:"absolute top-0 right-0 w-48 sm:w-72 h-48 sm:h-72 bg-indigo-200 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-2000"}),n.jsx("div",{className:"absolute -bottom-8 left-20 w-48 sm:w-72 h-48 sm:h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-4000"})]}),n.jsx("div",{className:"absolute top-8 left-8 w-1.5 h-1.5 bg-purple-200 rounded-full animate-ping opacity-50"}),n.jsx("div",{className:"absolute top-16 right-12 w-1 h-1 bg-indigo-200 rounded-full animate-ping opacity-50 animation-delay-1000"}),n.jsx("div",{className:"absolute bottom-12 left-16 w-1 h-1 bg-purple-200 rounded-full animate-ping opacity-50 animation-delay-3000"}),n.jsx("div",{className:"relative max-w-6xl mx-auto",children:n.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6 sm:gap-8",children:[n.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[n.jsx("div",{className:"mb-3 sm:mb-4",children:n.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-2 text-white leading-tight flex flex-wrap items-center justify-center lg:justify-start",children:[n.jsx("i",{className:"bx bx-rocket text-xl sm:text-2xl text-purple-200 mr-2 sm:mr-3"}),n.jsx("span",{className:"whitespace-nowrap",children:"Foremade Youth"}),n.jsx("span",{className:"ml-2 bg-gradient-to-r from-purple-200 to-indigo-200 bg-clip-text text-transparent whitespace-nowrap",children:"Empowerment Hub"})]})}),n.jsxs("p",{className:"text-sm sm:text-base md:text-lg mb-4 sm:mb-6 text-purple-100 leading-relaxed px-2 sm:px-0",children:["Join our community of young creators and entrepreneurs. Get funding, mentorship, and a ",n.jsx("span",{className:"font-medium text-purple-200",children:"free platform"})," to showcase your talents."]}),n.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-2 sm:gap-4 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-white bg-opacity-5 px-3 py-1 rounded-full backdrop-blur-sm text-xs sm:text-sm",children:[n.jsx("i",{className:"bx bx-dollar-circle text-purple-200"}),n.jsx("span",{className:"text-white font-medium",children:"Funding"})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white bg-opacity-5 px-3 py-1 rounded-full backdrop-blur-sm text-xs sm:text-sm",children:[n.jsx("i",{className:"bx bx-user-voice text-purple-200"}),n.jsx("span",{className:"text-white font-medium",children:"Mentorship"})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white bg-opacity-5 px-3 py-1 rounded-full backdrop-blur-sm text-xs sm:text-sm",children:[n.jsx("i",{className:"bx bx-devices text-purple-200"}),n.jsx("span",{className:"text-white font-medium",children:"Free Platform"})]})]})]}),n.jsxs("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row lg:flex-col gap-2 sm:gap-3",children:[n.jsxs("button",{onClick:()=>r("/empowerment-hub"),className:"w-full sm:w-auto group inline-flex items-center justify-center px-4 sm:px-6 py-2 sm:py-3 text-sm sm:text-base font-medium rounded-full text-white border border-purple-200 hover:bg-white hover:text-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-200 focus:ring-opacity-50 transition-all duration-200 transform hover:scale-105 backdrop-blur-sm whitespace-nowrap",children:[n.jsx("i",{className:"bx bx-info-circle mr-2"}),n.jsx("span",{children:"Learn More"}),n.jsx("i",{className:"bx bx-chevron-right ml-1 group-hover:translate-x-1 transition-transform duration-200"})]}),n.jsxs("div",{className:"flex items-center justify-center lg:justify-start mt-2 text-xs text-purple-200",children:[n.jsx("i",{className:"bx bx-group mr-1"}),n.jsx("span",{children:"1000+ members"}),n.jsx("div",{className:"flex ml-2",children:[...Array(5)].map((t,s)=>n.jsx("i",{className:"bx bxs-star text-purple-200 text-xs"},s))}),n.jsx("span",{className:"ml-1",children:"4.9"})]})]})]})})]})},II=async(r,e=3,t=1e3)=>{for(let s=1;s<=e;s++)try{return await r()}catch(a){if(s===e)throw a;const i=t*Math.pow(2,s-1);console.warn(`Retry ${s}/${e} after ${i}ms due to: ${a.message}`),await new Promise(o=>setTimeout(o,i))}},DI="https://via.placeholder.com/200?text=No+Image",Iae=()=>{const{convertPrice:r}=sp(),[e,t]=C.useState([]),[s,a]=C.useState(!0),[i,o]=C.useState(null),l=C.useRef(null),[c,d]=C.useState({hours:0,minutes:0,seconds:0});C.useEffect(()=>{const m=()=>{const y=new Date,x=new Date;x.setHours(23,59,59,999);const v=x-y,N=Math.floor(v/(1e3*60*60)),k=Math.floor(v%(1e3*60*60)/(1e3*60)),S=Math.floor(v%(1e3*60)/1e3);d({hours:N,minutes:k,seconds:S})};m();const p=setInterval(m,1e3);return()=>clearInterval(p)},[]),C.useEffect(()=>{(async()=>{try{a(!0),o(null);const y=(await II(()=>dt(Ie(J,"dailyDeals")))).docs.map(N=>({id:N.id,...N.data()}));console.log("Raw deals:",y);const x=y.filter(N=>new Date(N.endDate)>new Date&&new Date(N.startDate)<=new Date);console.log("Valid deals:",x);const v=await Promise.all(x.map(async N=>{const k=await II(()=>ft(Te(J,"products",N.productId))),S=k.exists()?k.data():{};console.log(`Product for deal ${N.id}:`,S);const R=Array.isArray(S.imageUrls)&&S.imageUrls.length>0?S.imageUrls.find(P=>typeof P=="string"&&P.startsWith("https://res.cloudinary.com/"))||DI:S.imageUrl&&typeof S.imageUrl=="string"&&S.imageUrl.startsWith("https://res.cloudinary.com/")?S.imageUrl:DI;console.log(`Image for deal ${N.id}:`,R);const A=Number(S.price)||0,D=Number((N.discount*100).toFixed(2))||0;return{id:N.id,productId:N.productId,productName:S.name||"Unnamed Product",price:A,discountPercentage:D,imageUrl:R,description:S.description||"No description available",condition:S.condition||"",isDailyDeal:!0}}));console.log("Final deal products:",v),t(v)}catch(p){console.error("Error loading daily deals:",{message:p.message,stack:p.stack}),o("Failed to load daily deals. Please try again later.")}finally{a(!1)}})()},[r]);const u=()=>{l.current&&l.current.scrollBy({left:-240,behavior:"smooth"})},f=()=>{l.current&&l.current.scrollBy({left:240,behavior:"smooth"})};return s?n.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50",children:n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[n.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),n.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"}),n.jsxs("div",{className:"flex ml-2 xs:ml-3 space-x-1 xs:space-x-2",children:[n.jsx("div",{className:"h-5 xs:h-6 bg-gray-200 rounded w-8 xs:w-10 animate-pulse"}),n.jsx("span",{children:":"}),n.jsx("div",{className:"h-5 xs:h-6 bg-gray-200 rounded w-8 xs:w-10 animate-pulse"}),n.jsx("span",{children:":"}),n.jsx("div",{className:"h-5 xs:h-6 bg-gray-200 rounded w-8 xs:w-10 animate-pulse"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 xs:gap-3",children:[n.jsx("div",{className:"h-4 xs:h-5 bg-gray-200 rounded w-12 xs:w-16 animate-pulse"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-6 w-6 xs:h-8 xs:w-8 animate-pulse"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-6 w-6 xs:h-8 xs:w-8 animate-pulse"})]})]}),n.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-3 xs:gap-4",children:[...Array(7)].map((m,p)=>n.jsx("div",{className:"flex-shrink-0 w-[140px] xs:w-[180px] sm:w-[200px] md:w-[220px]",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-[200px] xs:h-[240px] sm:h-[260px] w-full animate-pulse"})},p))})]})}):i?n.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50",children:n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[n.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),n.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"})]})}),n.jsxs("p",{className:"text-red-600 text-sm xs:text-base p-3 xs:p-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-error-circle"}),i]})]})}):n.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50",children:n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[n.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),n.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"}),n.jsxs("div",{className:"ml-2 xs:ml-3 flex items-center space-x-1",children:[n.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-1.5 xs:px-2 py-0.5 xs:py-1 rounded text-xs xs:text-sm font-mono",children:String(c.hours).padStart(2,"0")}),n.jsx("span",{className:"text-yellow-800",children:":"}),n.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-1.5 xs:px-2 py-0.5 xs:py-1 rounded text-xs xs:text-sm font-mono",children:String(c.minutes).padStart(2,"0")}),n.jsx("span",{className:"text-yellow-800",children:":"}),n.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-1.5 xs:px-2 py-0.5 xs:py-1 rounded text-xs xs:text-sm font-mono",children:String(c.seconds).padStart(2,"0")})]})]}),n.jsxs("div",{className:"flex items-center gap-2 xs:gap-3",children:[n.jsx(ve,{to:"/daily-deals",className:"text-blue-600 text-xs xs:text-sm hover:text-blue-800",children:"See All"}),n.jsx("button",{onClick:u,className:"bg-yellow-200 rounded-full p-1 hover:bg-yellow-300","aria-label":"Scroll left",children:n.jsx("i",{className:"bx bx-chevron-left text-lg xs:text-xl text-yellow-700"})}),n.jsx("button",{onClick:f,className:"bg-yellow-200 rounded-full p-1 hover:bg-yellow-300","aria-label":"Scroll right",children:n.jsx("i",{className:"bx bx-chevron-right text-lg xs:text-xl text-yellow-700"})})]})]}),n.jsx("div",{ref:l,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory gap-3 xs:gap-4",children:e.length===0?n.jsxs("p",{className:"text-gray-600 text-sm xs:text-base p-3 xs:p-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-info-circle"}),"No deals available right now. Check back later for hot offers! "]}):e.slice(0,8).map(m=>n.jsx("div",{className:"flex-shrink-0 w-[200px] sm:w-[280px] md:w-[220px] snap-start",children:n.jsxs("div",{className:"relative",children:[n.jsx(Zr,{product:{id:m.productId,name:m.productName,price:m.price,imageUrl:m.imageUrl,condition:m.condition,category:m.category||"default",variants:m.variants||[],stock:m.stock||0,sellerId:m.sellerId||"",currency:localStorage.getItem("currency")||"USD",isDailyDeal:m.isDailyDeal,discountPercentage:m.discountPercentage}}),m.isDailyDeal&&n.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1.5 xs:px-2 py-0.5 xs:py-1 rounded-full text-[10px] xs:text-xs font-bold",children:[m.discountPercentage,"% OFF"]})]})},m.id))})]})})};function Dae(){const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(null),[o,l]=C.useState([]),c=C.useRef(null);C.useEffect(()=>{dt(Ie(J,"dailyDeals")).then(m=>{l(m.docs.map(p=>({id:p.id,...p.data()})))})},[]),C.useEffect(()=>{(async()=>{try{s(!0),i(null);const p=Pe.currentUser?.uid,y=JSON.parse(localStorage.getItem("recentlyViewed")||"[]");let x=[];if(p)try{const v=Te(J,"users",p),N=await ft(v);if(N.exists()&&N.data().recentlyViewed){const S=N.data().recentlyViewed.slice(0,10).map(async A=>{const D=Te(J,"products",A),P=await ft(D);return P.exists()&&P.data().status==="approved"?{id:P.id,...P.data()}:null});x=(await Promise.all(S)).filter(A=>A!==null)}}catch(v){console.error("Error fetching user recently viewed:",v),x=[]}if(x.length===0&&y.length>0){const v=y.map(async k=>{const S=Te(J,"products",k),R=await ft(S);return R.exists()&&R.data().status==="approved"?{id:R.id,...R.data()}:null});x=(await Promise.all(v)).filter(k=>k!==null)}if(x.length===0){const v=Et(Ie(J,"products"),bt("status","==","approved"),bt("rating",">=",4));x=(await dt(v)).docs.map(k=>({id:k.id,...k.data()})).slice(0,10),console.log("No recently viewed products, showing recommendations instead")}e(x)}catch(p){console.error("Error loading recently viewed products:",{message:p.message,code:p.code}),i("Failed to load recently viewed products.")}finally{s(!1)}})()},[]);const d=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},u=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})},f=r.length>0?"Recently Viewed":"Recommended For You";return t?n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:f}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16 animate-pulse"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 animate-pulse"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 animate-pulse"})]})]}),n.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:[...Array(7)].map((m,p)=>n.jsxs("div",{className:"flex-shrink-0 w-48 mr-4",children:[n.jsx("div",{className:"bg-gray-200 rounded-lg h-48 w-full animate-pulse"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mt-2 animate-pulse"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mt-1 animate-pulse"})]},p))})]})}):n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:`bx ${f==="Recently Viewed"?"bx-history":"bx-bulb"} text-blue-600 text-xl mr-2`}),n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:f})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ve,{to:"/products",className:"text-blue-600 text-sm hover:text-blue-800",children:"See All"}),n.jsx("button",{onClick:d,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300","aria-label":"Scroll left",children:n.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),n.jsx("button",{onClick:u,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300","aria-label":"Scroll right",children:n.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})]}),n.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory pb-4",children:r.length===0?n.jsx("p",{className:"text-gray-600 p-4",children:"No products to display."}):r.map(m=>n.jsx("div",{className:"flex-shrink-0 w-48 mr-4 snap-start",children:n.jsx(Zr,{product:m,dailyDeals:o})},m.id))})]})})}const Mae=()=>{const[r,e]=C.useState(""),[t,s]=C.useState(!1),a=async o=>{if(o.preventDefault(),!r||!r.includes("@")){Me.error("Please enter a valid email address");return}try{s(!0),await cn(Ie(J,"newsletter_subscribers"),{email:r,subscribedAt:new Date,active:!0}),Me.success("Thanks for subscribing!"),e(""),localStorage.setItem("newsletter_subscribed","true")}catch(l){console.error("Newsletter subscription error:",l),Me.error("Failed to subscribe. Please try again.")}finally{s(!1)}},i=localStorage.getItem("newsletter_subscribed")==="true";return n.jsx("div",{className:"bg-gray-100 py-6 sm:py-8 w-full overflow-hidden mb-8 sm:mb-12 lg:mb-16",children:n.jsx("div",{className:"container mx-auto px-4 max-w-7xl",children:n.jsxs("div",{className:"max-w-xl mx-auto text-center",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-2",children:"Stay Connected"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 px-2",children:i?"Thanks for subscribing! You'll receive our best deals and updates.":"Subscribe to our newsletter for exclusive deals and updates"}),!i&&n.jsxs("form",{onSubmit:a,className:"flex flex-col sm:flex-row gap-2 sm:gap-0 max-w-md mx-auto mb-8 sm:mb-12 px-4",children:[n.jsx("input",{type:"email",value:r,onChange:o=>e(o.target.value),placeholder:"Your email address",className:"flex-1 px-4 py-2 border border-gray-300 rounded-md sm:rounded-l-md sm:rounded-r-none focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",disabled:t,required:!0}),n.jsx("button",{type:"submit",className:`${t?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} text-white px-4 py-2 rounded-md sm:rounded-l-none sm:rounded-r-md transition-colors whitespace-nowrap w-full sm:w-auto`,disabled:t,children:t?n.jsxs("span",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-loader-alt animate-spin mr-2"}),"Subscribing..."]}):"Subscribe"})]}),i&&n.jsx("button",{onClick:()=>{localStorage.removeItem("newsletter_subscribed"),window.location.reload()},className:"text-blue-600 hover:text-blue-800 underline text-sm mt-2",children:"Change your email preferences"})]})})})},Oae=r=>r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Lae=r=>`/category/${Oae(r)}`,Fae=["https://banner2.cleanpng.com/20180406/wow/kisspng-shoe-jumpman-sneakers-air-jordan-teal-jordan-5ac6ff9c2fcfe2.7959868915229910041959.jpg","https://pngimg.com/uploads/dress_shirt/dress_shirt_PNG8088.png","https://banner2.cleanpng.com/20240415/cv/transparent-apple-logo-person-holding-iphone-11-pro-max661df755177ea1.73458741.webp","https://banner2.cleanpng.com/lnd/20240424/uxz/transparent-rainbow-open-laptop-with-rainbow-gradient-background-image662945f170dc49.58708681.webp","https://banner2.cleanpng.com/20180202/lie/av2ldq3r4.webp","https://banner2.cleanpng.com/lnd/20240424/jfa/aav33rgh3.webp","https://banner2.cleanpng.com/20180809/atv/kisspng-ferm-living-asymmetric-cutting-board-ferm-living-b-5b6c3d78edff15.1714747115338202809749.jpg","https://banner2.cleanpng.com/20180131/jgw/av1z4nree.webp"],MI=["from-red-500/10 to-red-500/5","from-blue-500/10 to-blue-500/5","from-green-500/10 to-green-500/5","from-yellow-500/10 to-yellow-500/5","from-purple-500/10 to-purple-500/5","from-pink-500/10 to-pink-500/5","from-indigo-500/10 to-indigo-500/5","from-orange-500/10 to-orange-500/5"],OI=["hover:bg-red-500/10","hover:bg-blue-500/10","hover:bg-green-500/10","hover:bg-yellow-500/10","hover:bg-purple-500/10","hover:bg-pink-500/10","hover:bg-indigo-500/10","hover:bg-orange-500/10"],Uae=()=>{const[r,e]=C.useState([]),[t,s]=C.useState(null);return C.useEffect(()=>{const a=is(Ie(J,"categories"),i=>{const o=i.docs.map(l=>l.id).sort();e(o)},i=>{console.error("Error fetching categories:",i),Me.error("Failed to load categories")});return()=>a()},[]),n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-4",children:"Shop by Category"}),n.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4",children:r.slice(0,8).map((a,i)=>n.jsxs(ve,{to:Lae(a),className:"text-center group",onMouseEnter:()=>s(i),onMouseLeave:()=>s(null),children:[n.jsxs(vt.div,{className:`rounded-lg overflow-hidden relative bg-gradient-to-b ${MI[i%MI.length]} ${OI[i%OI.length]} transition-all duration-300 h-20 w-full flex items-center justify-center group-hover:shadow-md`,initial:{y:0},animate:{y:t===i?-5:0,scale:t===i?1.05:1},transition:{type:"spring",stiffness:300,damping:15},children:[n.jsx(vt.img,{src:Fae[i]||"https://via.placeholder.com/48",alt:a,className:"w-12 h-12 object-contain",animate:{scale:t===i?1.1:1,rotate:t===i?5:0},transition:{type:"spring",stiffness:200,damping:10}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 rounded-full bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-pulse"})]}),n.jsx(vt.p,{className:"text-xs md:text-sm text-gray-800 mt-2 font-medium",animate:{fontWeight:t===i?600:500,color:t===i?"#3B82F6":"#1F2937"},children:a})]},a))})]})},zae=()=>{const[r,e]=C.useState(!1),[t,s]=C.useState([]),[a,i]=C.useState({}),[o,l]=C.useState({}),[c,d]=C.useState("");return C.useEffect(()=>{localStorage.getItem("hasVisitedBefore")||(e(!0),localStorage.setItem("hasVisitedBefore","true"))},[]),C.useEffect(()=>{const u=is(Ie(J,"categories"),p=>{console.log(" CATEGORIES SNAPSHOT:"),console.log("Categories docs count:",p.docs.length),p.docs.forEach((x,v)=>{console.log(`Category ${v+1}:`,{id:x.id,data:x.data()})});const y=p.docs.map(x=>x.data().name);console.log("Extracted category names:",y),s(y)}),f=is(Ie(J,"customSubcategories"),p=>{console.log(" CUSTOM SUBCATEGORIES SNAPSHOT:"),console.log("CustomSubcategories docs count:",p.docs.length);const y={};p.forEach((x,v)=>{console.log(`CustomSubcategory ${v+1}:`,{id:x.id,data:x.data(),subcategories:x.data().subcategories||[]}),y[x.id]=x.data().subcategories||[]}),console.log("Final customSubcategories structure:",y),i(y)}),m=is(Ie(J,"customSubSubcategories"),p=>{console.log(" CUSTOM SUB-SUBCATEGORIES SNAPSHOT:"),console.log("CustomSubSubcategories docs count:",p.docs.length);const y={};p.forEach((x,v)=>{console.log(`CustomSubSubcategory ${v+1}:`,{id:x.id,data:x.data()});const N=x.id;y[N]={},Object.entries(x.data()).forEach(([k,S])=>{console.log(`   ${k}:`,S),y[N][k]=S})}),console.log("Final customSubSubcategories structure:",y),l(y)});return()=>{u(),f(),m()}},[]),C.useEffect(()=>{console.log(" STATE UPDATE - Categories:",t)},[t]),C.useEffect(()=>{console.log(" STATE UPDATE - CustomSubcategories:",a)},[a]),C.useEffect(()=>{console.log(" STATE UPDATE - CustomSubSubcategories:",o)},[o]),n.jsxs("div",{className:"home-main-container bg-background-light",children:[n.jsx(Nae,{}),r&&n.jsx("div",{className:"welcome-banner",children:n.jsxs("div",{className:"container mx-auto flex items-center justify-between px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-primary text-base sm:text-lg",children:"Welcome to Foremade!"}),n.jsx("p",{className:"text-sm sm:text-base text-secondary",children:"Discover amazing deals from trusted sellers"})]}),n.jsx("button",{onClick:()=>e(!1),className:"text-primary hover:text-primary-dark",children:n.jsx("i",{className:"bx bx-x text-xl sm:text-2xl"})})]})}),n.jsx(kae,{}),n.jsx(Uae,{}),n.jsx(Eae,{}),n.jsx(Iae,{}),n.jsx(Pae,{}),n.jsx(Tae,{}),n.jsx(_ae,{}),n.jsx(Dae,{}),n.jsx(Rae,{}),n.jsx(wae,{}),n.jsx("div",{className:"my-8 px-2 sm:px-4 lg:px-8",children:n.jsx(OF,{})}),n.jsx(Aae,{}),n.jsx(Mae,{}),n.jsx("div",{className:"footer-bar py-6 sm:py-8 bg-background-light border-t mb-12",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:n.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 sm:gap-4 text-xs sm:text-sm md:text-base text-secondary",children:[n.jsx(ve,{to:"/user-agreement",className:"footer-link px-3 py-2 hover:text-primary transition-colors min-w-[100px] text-center",children:"User Agreement"}),n.jsx(ve,{to:"/privacy-policy",className:"footer-link px-3 py-2 hover:text-primary transition-colors min-w-[100px] text-center",children:"Privacy Policy"}),n.jsx("span",{className:"footer-separator hidden sm:inline",children:"|"}),n.jsx(ve,{to:"/terms-conditions",className:"footer-link px-3 py-2 hover:text-primary transition-colors min-w-[100px] text-center",children:"Terms & Conditions"}),n.jsx("span",{className:"footer-separator hidden sm:inline",children:"|"})]})})})]})},Bae=()=>{const[r,e]=C.useState([]),[t,s]=C.useState([]),[a,i]=C.useState([]),[o,l]=C.useState(!0),c=u=>{let f=[...u];for(let m=f.length-1;m>0;m--){const p=Math.floor(Math.random()*(m+1));[f[m],f[p]]=[f[p],f[m]]}return f};C.useEffect(()=>{(async()=>{try{const m=(await dt(Ie(J,"products"))).docs.map(x=>({id:x.id,...x.data()}));e(m),i(c(m));const y=(await dt(Ie(J,"dailyDeals"))).docs.map(x=>({id:x.id,...x.data()}));s(y)}catch(f){console.error("Error fetching data:",f)}finally{l(!1)}})()},[]);const d=({count:u})=>n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:Array.from({length:u}).map((f,m)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 h-[300px] flex flex-col animate-pulse",children:[n.jsx("div",{className:"h-[200px] bg-gray-200 rounded-t-lg"}),n.jsxs("div",{className:"p-3 flex flex-col flex-grow",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded mt-auto"})]})]},m))});return n.jsx("div",{className:"container mx-auto px-4 py-8",children:o?n.jsx(d,{count:8}):a.length===0?n.jsxs("div",{className:"text-center col-span-full py-12",role:"alert","aria-label":"No products found",children:[n.jsx("p",{className:"text-gray-600 text-lg",children:"No products available."}),n.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Please check back later."})]}):n.jsx("div",{children:n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-4",role:"grid","aria-label":"Product list",children:a.map(u=>n.jsx(Zr,{product:u,dailyDeals:t},u.id))})})})};var mN,LI;function Vae(){if(LI)return mN;LI=1;var r="Expected a function",e=NaN,t="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c=typeof Lx=="object"&&Lx&&Lx.Object===Object&&Lx,d=typeof self=="object"&&self&&self.Object===Object&&self,u=c||d||Function("return this")(),f=Object.prototype,m=f.toString,p=Math.max,y=Math.min,x=function(){return u.Date.now()};function v(A,D,P){var E,I,M,L,z,F,V=0,$=!1,Y=!1,X=!0;if(typeof A!="function")throw new TypeError(r);D=R(D)||0,N(P)&&($=!!P.leading,Y="maxWait"in P,M=Y?p(R(P.maxWait)||0,D):M,X="trailing"in P?!!P.trailing:X);function ee(De){var Oe=E,Be=I;return E=I=void 0,V=De,L=A.apply(Be,Oe),L}function W(De){return V=De,z=setTimeout(te,D),$?ee(De):L}function B(De){var Oe=De-F,Be=De-V,de=D-Oe;return Y?y(de,M-Be):de}function G(De){var Oe=De-F,Be=De-V;return F===void 0||Oe>=D||Oe<0||Y&&Be>=M}function te(){var De=x();if(G(De))return re(De);z=setTimeout(te,B(De))}function re(De){return z=void 0,X&&E?ee(De):(E=I=void 0,L)}function ie(){z!==void 0&&clearTimeout(z),V=0,E=F=I=z=void 0}function he(){return z===void 0?L:re(x())}function le(){var De=x(),Oe=G(De);if(E=arguments,I=this,F=De,Oe){if(z===void 0)return W(F);if(Y)return z=setTimeout(te,D),ee(F)}return z===void 0&&(z=setTimeout(te,D)),L}return le.cancel=ie,le.flush=he,le}function N(A){var D=typeof A;return!!A&&(D=="object"||D=="function")}function k(A){return!!A&&typeof A=="object"}function S(A){return typeof A=="symbol"||k(A)&&m.call(A)==t}function R(A){if(typeof A=="number")return A;if(S(A))return e;if(N(A)){var D=typeof A.valueOf=="function"?A.valueOf():A;A=N(D)?D+"":D}if(typeof A!="string")return A===0?A:+A;A=A.replace(s,"");var P=i.test(A);return P||o.test(A)?l(A.slice(2),P?2:8):a.test(A)?e:+A}return mN=v,mN}var Hae=Vae();const Fd=Dg(Hae),$ae=({onFilterChange:r})=>{const[e,t]=C.useState([0,1e5]),[s,a]=C.useState([]),[i,o]=C.useState("default"),[l,c]=C.useState(""),[d,u]=C.useState([]),[f,m]=C.useState(!0),[p,y]=C.useState(!1);C.useEffect(()=>{(async()=>{try{m(!0);const P=(await dt(Ie(J,"categories"))).docs.map(E=>({id:E.id,name:E.data().name||"Unnamed Category"}));u(P)}catch(D){console.error("Error fetching categories:",D)}finally{m(!1)}})()},[]);const x=C.useCallback(Fd(A=>{console.log("Applying filters:",{priceRange:e,selectedCategories:s,sortOption:i,searchTerm:A,status:"approved"}),r({priceRange:e,selectedCategories:s,sortOption:i,searchTerm:A,status:"approved"})},300),[e,s,i]),v=A=>{const D=A.target.value;c(D),x(D)},N=A=>{const[D,P]=A;D>P||(t(A),console.log("Price range updated:",A),r({priceRange:A,selectedCategories:s,sortOption:i,searchTerm:l,status:"approved"}))},k=A=>{const D=s.includes(A)?s.filter(P=>P!==A):[...s,A];a(D),console.log("Selected categories updated:",D),r({priceRange:e,selectedCategories:D,sortOption:i,searchTerm:l,status:"approved"})},S=A=>{const D=A.target.value;o(D),console.log("Sort option updated:",D),r({priceRange:e,selectedCategories:s,sortOption:D,searchTerm:l,status:"approved"})},R=()=>{t([0,1e5]),a([]),o("default"),c(""),console.log("Filters cleared"),r({priceRange:[0,1e5],selectedCategories:[],sortOption:"default",searchTerm:"",status:"approved"})};return n.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm md:sticky md:top-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"}),n.jsx("button",{onClick:R,className:"text-sm text-blue-600 hover:text-blue-800 transition","aria-label":"Clear all filters",children:"Clear All"})]}),n.jsx("div",{className:"mb-6",children:n.jsx("input",{type:"text",placeholder:"Search products...",value:l,onChange:v,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm","aria-label":"Search products"})}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Price Range: ",n.jsx(hr,{price:e[0]})," - ",n.jsx(hr,{price:e[1]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("input",{type:"range",min:"0",max:"100000",value:e[0],onChange:A=>N([parseInt(A.target.value),e[1]]),className:"w-full accent-blue-500","aria-label":"Minimum price"}),n.jsx("input",{type:"range",min:"0",max:"100000",value:e[1],onChange:A=>N([e[0],parseInt(A.target.value)]),className:"w-full accent-blue-500","aria-label":"Maximum price"})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Categories"}),n.jsx("button",{className:"md:hidden text-blue-600 text-sm",onClick:()=>y(!p),"aria-label":p?"Collapse categories":"Expand categories",children:p?"Hide":"Show"})]}),n.jsx("div",{className:`text-sm ${p?"block":"hidden md:block"}`,children:f?n.jsxs("div",{className:"animate-pulse space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):d.length===0?n.jsx("p",{className:"text-gray-500",children:"No categories available"}):d.map(A=>n.jsxs("label",{className:"flex items-center space-x-2 py-1 hover:bg-gray-100 rounded px-2 transition",children:[n.jsx("input",{type:"checkbox",value:A.name,checked:s.includes(A.name),onChange:()=>k(A.name),className:"accent-blue-500","aria-label":`Select ${A.name} category`}),n.jsx("span",{className:"text-gray-700",children:A.name})]},A.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),n.jsxs("select",{value:i,onChange:S,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm","aria-label":"Sort products",children:[n.jsx("option",{value:"default",children:"Default"}),n.jsx("option",{value:"price-low-high",children:"Price: Low to High"}),n.jsx("option",{value:"price-high-low",children:"Price: High to Low"}),n.jsx("option",{value:"alpha-asc",children:"Alphabetical: A-Z"}),n.jsx("option",{value:"alpha-desc",children:"Alphabetical: Z-A"})]})]})]})},qae=()=>{const[r,e]=C.useState([]),[t,s]=C.useState([]),[a,i]=C.useState([]),[o,l]=C.useState(!0),[c,d]=C.useState(null),u=C.useMemo(()=>({"tablet & phones":1,"health & beauty":2,"foremade fashion":3,electronics:4,"baby products":5,"computers & accessories":6,"game & fun":7,"drinks & categories":8,"home & kitchen":9,"smart watches":10,uncategorized:11}),[]),f=p=>{let y=[...p];for(let x=y.length-1;x>0;x--){const v=Math.floor(Math.random()*(x+1));[y[x],y[v]]=[y[v],y[x]]}return y};C.useEffect(()=>{(async()=>{try{l(!0),d(null);const y=Et(Ie(J,"products"),bt("status","==","approved")),x=await dt(y);console.log("Total approved products fetched from Firestore:",x.docs.length);const v=x.docs.map(N=>{const k=N.data();let S=null;if(Array.isArray(k.variants)&&k.variants.length>0&&k.variants[0]?.imageUrls){const E=k.variants[0].imageUrls.find(I=>typeof I=="string"&&I.trim()&&I.startsWith("https://"));S=E||k.variants[0].imageUrls[0]||null,console.log(`Variant image check for ${N.id}:`,{firstValidUrl:E,allUrls:k.variants[0].imageUrls})}else if(Array.isArray(k.imageUrls)&&k.imageUrls.length>0){const E=k.imageUrls.find(I=>typeof I=="string"&&I.trim()&&I.startsWith("https://"));S=E||k.imageUrls[0]||null,console.log(`Product image check for ${N.id}:`,{firstValidUrl:E,allUrls:k.imageUrls})}else k.imageUrl&&typeof k.imageUrl=="string"&&k.imageUrl.startsWith("https://")?(S=k.imageUrl,console.log(`Single imageUrl check for ${N.id}:`,k.imageUrl)):console.warn(`Product ${N.id} has no valid imageUrl or imageUrls`,{id:N.id,name:k.name,imageUrl:k.imageUrl,imageUrls:k.imageUrls,variants:k.variants});let R=k.price||0,A=k.price||0,D=Array.isArray(k.variants)&&k.variants.length>0;if(D){const E=k.variants.map(I=>I.price||0);R=Math.min(...E),A=Math.max(...E)}const P=D?k.variants.reduce((E,I)=>E+(I.stock||0),0):k.stock||0;return P<10?(console.warn(`Product ${N.id} filtered out due to low stock:`,{name:k.name,totalStock:P}),null):{id:N.id,name:k.name||"Unknown Product",description:k.description||"",price:D?R:k.price||0,minPrice:D?R:null,maxPrice:D?A:null,stock:P,category:k.category||"uncategorized",categoryId:u[k.category?.toLowerCase()]||11,colors:k.colors||[],sizes:k.sizes||[],condition:k.condition||"New",imageUrl:S,variants:k.variants||[],sellerId:k.sellerId||"",seller:k.seller||{name:k.sellerName||"Unknown Seller",id:k.sellerId||""},rating:k.rating||0,reviews:k.reviews||[],status:k.status||"pending",bumpExpiry:k.bumpExpiry||null}}).filter(N=>N!==null&&N.id);console.log("Fetched approved products with sufficient stock:",v),v.length===0&&(console.warn("No approved products with sufficient stock found."),d("No approved products available at the moment.")),e(v),s(f(v))}catch(y){console.error("Error fetching products:",y),d("Failed to load products. Please try again.")}finally{l(!1)}})(),dt(Ie(J,"dailyDeals")).then(y=>{i(y.docs.map(x=>({id:x.id,...x.data()})))})},[u]);const m=C.useCallback(({priceRange:p,selectedCategories:y,sortOption:x,searchTerm:v,status:N})=>{let k=[...r].filter(S=>S!==null);k=k.filter(S=>(S.minPrice!==null?S.minPrice:S.price)>=p[0]&&(S.maxPrice!==null?S.maxPrice:S.price)<=p[1]),y.length>0&&(k=k.filter(S=>y.includes(S.categoryId))),v&&(k=k.filter(S=>S.name.toLowerCase().includes(v.toLowerCase()))),x==="price-low-high"?k.sort((S,R)=>(S.minPrice||S.price)-(R.minPrice||R.price)):x==="price-high-low"?k.sort((S,R)=>(R.minPrice||R.price)-(S.minPrice||S.price)):x==="alpha-asc"?k.sort((S,R)=>S.name.localeCompare(R.name)):x==="alpha-desc"?k.sort((S,R)=>R.name.localeCompare(R.name)):k.sort((S,R)=>{const A=S.bumpExpiry?new Date(S.bumpExpiry):null,D=R.bumpExpiry?new Date(R.bumpExpiry):null;return A&&D?D-A:A?-1:D?1:0}),console.log("Updated filtered products:",k),s(f(k))},[r]);return c?n.jsx("div",{className:"container mx-auto p-4",children:n.jsx("p",{className:"text-red-600 text-center",children:c})}):n.jsxs("div",{className:"mb-10 rounded-lg mx-auto p-3",children:[n.jsx("div",{className:"flex-col",children:n.jsx("h2",{className:"text-2xl font-bold mb-4 m-4",children:"Shop All Products"})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"w-full rounded-lg border md:w-1/4",children:n.jsx($ae,{onFilterChange:m,categoryMap:u})}),n.jsx("div",{className:"w-full rounded-lg border",children:n.jsx(Bae,{products:t,dailyDeals:a})})]})]})},Vh="/assets/logi-DGW4y32z.png",FI=async(r,e={})=>{const t=JSON.parse(localStorage.getItem("userData"))||{},a=Hg().currentUser,i=a?a.email:t.email||"",o={...e.headers,"x-user-email":i},l=await fetch(r,{...e,headers:o});return console.log("Fetch response status:",l.status),console.log("Fetch headers sent:",o),l},tm=r=>{switch(r.code){case"auth/invalid-credential":return"Incorrect email or password.";case"auth/wrong-password":return"Wrong password. Please try again.";case"auth/user-not-found":return"No account found with this email.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-disabled":return"This account is not available.";case"auth/too-many-requests":return"Too many attempts. Please try again.";case"auth/otp-not-verified":return"Please verify your email with the code sent to you.";default:return"Something went wrong. Please try again."}};function Wae(){const[r,e]=C.useState(""),[t,s]=C.useState(""),[a,i]=C.useState(!1),[o,l]=C.useState(""),[c,d]=C.useState(""),[u,f]=C.useState(""),[m,p]=C.useState(!1),[y,x]=C.useState(!1),[v,N]=C.useState(!1),[k,S]=C.useState(!1),R=_s(),{state:A}=Qr(),D="https://foremade-backend.onrender.com",P=async()=>{l(""),d(""),f(""),S(!0);const V=new Ju("apple.com");try{const $=await db(Pe,V);await M($.user)}catch($){console.error("Apple sign-in error:",$),S(!1),l(tm($)||"Sign-in failed. Please try again.")}},E=V=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(V),I=async V=>{if(!V)return;const $=localStorage.getItem("lastLogin"),Y=localStorage.getItem("inactiveEmailSent");if(!$||Y==="true")return;const X=new Date($),W=(new Date().getTime()-X.getTime())/(1e3*60*60*24);if(W>=14&&W<=21)try{const B=await fetch(`${D}/api/send-inactive-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:V.email,name:V.displayName||null})}),G=await B.json();B.ok?(console.log("Inactive user email triggered:",G.message),localStorage.setItem("inactiveEmailSent","true")):console.error("Failed to trigger inactive email:",G.error)}catch(B){console.error("Error triggering inactive email:",B.message)}};C.useEffect(()=>{const V=localStorage.getItem("socialEmail")||A?.email||"";V&&(e(V),d("Use Google Sign-In for this account."));const $=Pe.onAuthStateChanged(Y=>{Y&&I(Y)});return()=>$()},[]);const M=async V=>{try{const $=Te(J,"users",V.uid),Y=await ft($);let X;if(Y.exists())X=Y.data();else{const te=V.displayName||"",[re,ie]=te.split(" ").length>1?te.split(" "):[te,""];X={uid:V.uid,email:V.email,firstName:re||V.email.split("@")[0],lastName:ie||"",username:V.email.split("@")[0].toLowerCase().replace(/[^a-z0-9]/g,"")+Math.floor(Math.random()*1e3),phoneNumber:V.phoneNumber||"",role:"standard"},await as($,X,{merge:!0})}const ee=await AT(V),W=await FI(`${D}/authenticate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({email:V.email})}),B=await W.json();if(!W.ok)throw new Error(B.error||"Server authentication failed");X.role=B.role||"standard",localStorage.setItem("userData",JSON.stringify(X)),localStorage.removeItem("socialEmail"),localStorage.setItem("lastLogin",new Date().toISOString()),localStorage.removeItem("inactiveEmailSent");const G=X.firstName||X.name?.split(" ")[0]||"User";f(`Welcome, ${G}!`),setTimeout(()=>{x(!1),N(!1),R(B.redirectUrl||"/",{state:{fromValidNavigation:!0}})},2e3)}catch($){console.error("Social login error:",$.message,$.code),l(tm($)||"Social login failed. Please check your connection or try again."),x(!1),N(!1)}},L=async V=>{V.preventDefault(),l(""),d(""),f(""),p(!0);let $=!1;const Y=r.trim(),X=t.trim();if(Y?E(Y)||(l("Please enter a valid email address."),$=!0):(l("Email is required."),$=!0),!X&&!c.includes("Google Sign-In")&&(d("Password is required."),$=!0),$){p(!1);return}try{await iO(Pe,h2);const W=(await QH(Pe,Y,X)).user;let B={uid:W.uid,email:Y,role:"standard"};const G=await AT(W),te=await FI(`${D}/authenticate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify({email:Y})}),re=await te.json();if(!te.ok)throw new Error(re.error||"Server error");B.role=re.role||"standard";const ie=Te(J,"users",W.uid),he=await ft(ie);he.exists()?B={...he.data(),...B,role:re.role||"standard"}:await as(ie,B),localStorage.setItem("userData",JSON.stringify(B)),localStorage.setItem("lastLogin",new Date().toISOString()),localStorage.removeItem("inactiveEmailSent");const le=B.firstName||B.name?.split(" ")[0]||"User";f(`Welcome, ${le}!`),setTimeout(()=>{p(!1),R(re.redirectUrl||"/",{state:{fromValidNavigation:!0}})},2e3)}catch(ee){console.error("Login error:",ee.message,ee.code),p(!1);const W=ee.message?"Something went wrong. Please try again.":tm(ee);W.includes("email")||W.includes("account")||W.includes("valid")?l(W):d(W)}},z=async()=>{l(""),d(""),f(""),x(!0);const V=new zi;V.setCustomParameters({prompt:"select_account"});try{const $=await db(Pe,V);await M($.user)}catch($){console.error("Google sign-in error:",$.message,$.code),x(!1),l(tm($)||"Google sign-in failed. Please check your connection or try again.")}},F=async()=>{l(""),d(""),f(""),N(!0);const V=new Ui;V.setCustomParameters({display:"popup"});try{const $=await db(Pe,V);await M($.user)}catch($){console.error("Facebook sign-in error:",$.message,$.code),N(!1),l(tm($)||"Facebook sign-in failed. Please check your connection or try again.")}};return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"w-full h-screen flex",children:[n.jsx("div",{className:"hidden md:block md:w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('https://images.pexels.com/photos/7621356/pexels-photo-7621356.jpeg?auto=compress&cs=tinysrgb&w=600')"},children:n.jsxs("div",{className:"w-full h-full bg-black bg-opacity-40 flex flex-col justify-center items-center text-white p-8",children:[n.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center",children:["Welcome to ",n.jsx("img",{src:Vh,alt:"Logo",className:"h-20 ml-2"})]}),n.jsx("p",{className:"text-lg text-center",children:"Join our community for buyers and sellers!"})]})}),n.jsxs("div",{className:"w-full md:w-1/2 h-full p-9 flex flex-col justify-center bg-white",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Sign In"}),n.jsxs("p",{className:"text-gray-600 mb-6",children:["Dont have an account?"," ",n.jsx(ve,{to:"/register",className:"text-blue-600 hover:underline",children:"Sign Up"})]}),n.jsxs("form",{onSubmit:L,className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",id:"email",value:r,onChange:V=>e(V.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${o?"border-red-500":u?"border-green-500":"border-gray-300"}`,autoComplete:"email",required:!0}),n.jsx("label",{htmlFor:"email",className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${r?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Email"}),o&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:a?"text":"password",id:"password",value:t,onChange:V=>s(V.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${c?"border-red-500":u?"border-green-500":"border-gray-300"}`,autoComplete:"current-password",required:!0,disabled:c.includes("Google Sign-In")}),n.jsx("label",{htmlFor:"password",className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${t||c.includes("Google Sign-In")?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Password"}),n.jsx("span",{className:"absolute right-3 top-3 text-gray-500 cursor-pointer",onClick:()=>i(!a),style:{display:c.includes("Google Sign-In")?"none":"block"},children:n.jsx("i",{className:`bx ${a?"bx-hide":"bx-show"} text-xl`})}),c&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:c})]}),u&&n.jsx("p",{className:"text-green-600 text-xs mt-1",children:u}),n.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:m||c.includes("Google Sign-In"),children:m?"Logging in...":"Sign In"})]}),n.jsx("p",{className:"text-gray-600 mt-2",children:n.jsx(ve,{to:"/recover-password",className:"hover:underline hover:text-blue-700",children:"Forgot Password?"})}),n.jsxs("div",{className:"mt-5 text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Or continue with"}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsxs("button",{onClick:z,className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:y,children:[n.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5 mr-2"}),y?"Processing...":"Google"]}),n.jsxs("button",{onClick:F,className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:v,children:[n.jsx("img",{src:"https://www.facebook.com/favicon.ico",alt:"Facebook",className:"w-5 h-5 mr-2"}),v?"Processing...":"Facebook"]}),n.jsxs("button",{onClick:P,className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:k,children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg",alt:"Apple",className:"w-5 h-5 mr-2"}),k?"Processing...":"Apple"]})]})]})]})]})})}const Yae=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),UI=r=>{const e=r.length>=6,t=/[a-zA-Z]/.test(r),s=/[0-9]/.test(r),a=/[_@!+=#$%^&*()[\]{}|;:,.<>?~`/-]/.test(r);return{isValid:e&&t&&s&&a,score:(e?25:0)+(t?25:0)+(s?25:0)+(a?25:0),errors:[!e&&"Password needs 6+ characters.",!t&&"Password needs a letter.",!s&&"Password needs a number.",!a&&"Password needs a special character (e.g., _, @, !)."].filter(Boolean)}},gN=(r,e)=>{const t=[r,e].filter(l=>l?.trim()),s=t[0]?.slice(0,4).toLowerCase()||"user",a=t[1]?.slice(0,3).toLowerCase()||"",i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return(s+a).replace(/[^a-z0-9]/g,"")+i},Gae=r=>r.trim()?/^\+\d{7,15}$/.test(r):!0,pN=r=>{const e=new Date(r),t=new Date;let s=t.getFullYear()-e.getFullYear();const a=t.getMonth()-e.getMonth();return(a<0||a===0&&t.getDate()<e.getDate())&&s--,s},xN="https://foremade-backend.onrender.com";function Xae(){const[r,e]=C.useState(!1),[t,s]=C.useState(""),[a,i]=C.useState(""),[o,l]=C.useState(""),[c,d]=C.useState(""),[u,f]=C.useState(""),[m,p]=C.useState(""),[y,x]=C.useState(""),[v,N]=C.useState(!1),[k,S]=C.useState(""),[R,A]=C.useState(""),[D,P]=C.useState(""),[E,I]=C.useState(""),[M,L]=C.useState(""),[z,F]=C.useState(""),[V,$]=C.useState(""),[Y,X]=C.useState(""),[ee,W]=C.useState(!1),[B,G]=C.useState(!1),[te,re]=C.useState(0),[ie,he]=C.useState(!1),[le,De]=C.useState(!1),[Oe,Be]=C.useState(!1),[de,Ye]=C.useState(!1),[be,Q]=C.useState(0),[me,We]=C.useState(null),xe=_s();C.useEffect(()=>{const ut=UI(c);Q(ut.score),!ut.isValid&&c?I(ut.errors[0]):I("")},[c]),C.useEffect(()=>{Ye(!0)},[]);const Je=async ut=>{if(ut.preventDefault(),S(""),A(""),P(""),I(""),L(""),F(""),$(""),X(""),W(!0),te>=9){P("Too many attempts. Please try again later."),W(!1);return}let At=!1;if(t.trim()||(S("First name is required."),At=!0),a.trim()||(A("Last name is required."),At=!0),Yae(o)||(P("Please enter a valid email address."),At=!0),!c)I("Password is required."),At=!0;else{const st=UI(c);st.isValid||(I(st.errors[0]),At=!0)}if(u&&!Gae(u)&&(L("Invalid phone number (e.g., +1234567890)."),At=!0),m?pN(m)<18&&($("You must be at least 18 years old to register."),At=!0):($("Date of Birth is required."),At=!0),At){W(!1),re(st=>st+1);return}try{const st=gN(t,a),qe={email:o,name:`${t} ${a}`,username:st,address:"",phoneNumber:u||"",createdAt:new Date().toISOString(),profileImage:null,role:"standard",dob:m};We(qe);const Nt=await(await fetch(`${xN}/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})})).json();Nt.success?(X("Check your email for a verification code."),G(!0)):P(Nt.error||"Failed to send OTP. Please try again.")}catch(st){console.error("Send OTP error:",st.message),P("Unable to send OTP. Check your connection or try again.")}finally{W(!1)}},ot=async ut=>{if(ut.preventDefault(),F(""),X(""),W(!0),!y.trim()){F("Please enter the verification code."),W(!1);return}try{const st=await(await fetch(`${xN}/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,otp:y})})).json();if(st.success)try{const xt=(await Wb(Pe,o,c)).user;await ag(xt,{displayName:me.username}),await as(Te(J,"users",xt.uid),{...me,uid:xt.uid}),localStorage.setItem("userData",JSON.stringify({...me,uid:xt.uid})),await JH(xt),X("Email verified and account created! You can log in now."),G(!1),setTimeout(()=>{xe("/login")},2e3)}catch(qe){console.error("Firebase registration error:",qe.message,qe.code),F(qe.message.includes("email")?"This email is already in use or invalid. Try another.":"Registration failed. Please try again.")}else F(st.error||"Invalid or expired code. Please try again.")}catch(At){console.error("Verify OTP error:",At.message),F("Verification failed. Check your connection or try again.")}finally{W(!1)}},lt=async ut=>{let At;ut==="google"?(At=new zi,he(!0)):ut==="facebook"?(At=new Ui,De(!0)):ut==="apple"&&(At=new Ju("apple.com"),e(!0));try{const qe=(await db(Pe,At)).user,[xt,...Nt]=qe.displayName?.split(" ")||[qe.email.split("@")[0],""],_t=Nt.join(" ");let jt=null;if(qe.birthDate&&(jt=pN(qe.birthDate)),jt===null||jt<18){Be(!0);return}const Ft=gN(xt,_t);await ag(qe,{displayName:Ft});const Zt={email:qe.email,name:`${xt} ${_t}`,username:Ft,address:"",phoneNumber:qe.phoneNumber||"",createdAt:new Date().toISOString(),uid:qe.uid,profileImage:qe.photoURL||null,role:"standard",dob:qe.birthDate||""};await as(Te(J,"users",qe.uid),Zt,{merge:!0}),localStorage.setItem("userData",JSON.stringify(Zt)),X("Account created successfully with "+ut+"! Redirecting..."),setTimeout(()=>xe("/"),2e3)}catch(st){console.error("Social login error:",st.message,st.code),st.code==="auth/popup-blocked"?P("Popup was blocked by your browser. Please allow popups for this site and try again."):st.code==="auth/unauthorized-domain"?P("This domain is not authorized. Please add foremade.vercel.app to Firebase Authorized Domains."):P("Social signup failed. Please check your connection or try again.")}finally{he(!1),De(!1),e(!1)}},rt=async ut=>{if(ut.preventDefault(),$(""),pN(m)<18){$("You must be at least 18 years old to register.");return}const st=Pe.currentUser;if(!st){P("User session expired. Please try signing in again."),Be(!1);return}const[qe,...xt]=st.displayName?.split(" ")||[st.email.split("@")[0],""],Nt=xt.join(" "),_t=gN(qe,Nt),jt={email:st.email,name:`${qe} ${Nt}`,username:_t,address:"",phoneNumber:st.phoneNumber||"",createdAt:new Date().toISOString(),uid:st.uid,profileImage:st.photoURL||null,role:"standard",dob:m};await as(Te(J,"users",st.uid),jt,{merge:!0}),localStorage.setItem("userData",JSON.stringify(jt)),X("Account created successfully! Redirecting..."),Be(!1),setTimeout(()=>xe("/"),2e3)},et=async()=>{W(!0);try{const At=await(await fetch(`${xN}/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})})).json();At.success?X("New verification code sent to your email."):P(At.error||"Failed to send code. Please try again.")}catch(ut){console.error("Resend OTP error:",ut.message),P("Unable to send code. Check your network and try again.")}finally{W(!1)}},Rt=()=>{Ye(!1)},Tt=()=>{xe("/pro-seller-form")};return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"w-full h-screen flex",children:[n.jsx("div",{className:"hidden md:block md:w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('https://i.pinimg.com/736x/f2/8c/a4/f28ca4118a46e68b6871946e65ab5665.jpg')"},children:n.jsxs("div",{className:"w-full h-full bg-black bg-opacity-40 flex flex-col justify-center items-center text-white p-8",children:[n.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center",children:["Join ",n.jsx("img",{src:Vh,alt:"Formade logo",className:"h-20 ml-2"})]}),n.jsx("p",{className:"text-lg text-center",children:"Join our community for buyers and sellers!"})]})}),n.jsxs("div",{className:"w-full md:w-1/2 h-full p-9 flex flex-col justify-center bg-white relative",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Sign Up"})}),n.jsxs("p",{className:"text-gray-600 mb-6",children:["Already have an account? ",n.jsx(ve,{to:"/login",className:"text-blue-600 hover:underline",children:"Sign In"})]}),n.jsxs("form",{onSubmit:Je,className:"space-y-4",children:[n.jsxs("div",{className:"flex space-x-4 mb-4",children:[n.jsxs("div",{className:"relative w-1/2",children:[n.jsx("input",{type:"text",value:t,onChange:ut=>s(ut.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${k?"border-red-500":Y?"border-green-500":"border-gray-300"}`,autoComplete:"given-name",required:!0}),n.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${t?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"First Name"}),k&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:k})]}),n.jsxs("div",{className:"relative w-1/2",children:[n.jsx("input",{type:"text",value:a,onChange:ut=>i(ut.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${R?"border-red-500":Y?"border-green-500":"border-gray-300"}`,autoComplete:"family-name",required:!0}),n.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${a?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Last Name"}),R&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:R})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",value:o,onChange:ut=>l(ut.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${D?"border-red-500":Y?"border-green-500":"border-gray-300"}`,autoComplete:"email",required:!0}),n.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${o?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Email"}),D&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:D})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"tel",value:u,onChange:ut=>f(ut.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${M?"border-red-500":Y?"border-green-500":"border-gray-300"}`,autoComplete:"tel"}),n.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${u?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Phone Number"}),M&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:M})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",value:m,onChange:ut=>p(ut.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${V?"border-red-500":Y?"border-green-500":"border-gray-300"}`,max:new Date().toISOString().split("T")[0],required:!0}),n.jsx("label",{className:`absolute hidden left-3 top-3 text-white-500 transition-all duration-300 transform origin-left pointer-events-none ${m?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Date of Birth"}),V&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:V})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:v?"text":"password",value:c,onChange:ut=>d(ut.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${E?"border-red-500":Y?"border-green-500":"border-gray-300"}`,autoComplete:"new-password",required:!0}),n.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${c?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Password"}),n.jsx("span",{className:"absolute right-3 top-3 text-gray-500 cursor-pointer",onClick:()=>N(!v),children:n.jsx("i",{className:`bx ${v?"bx-hide":"bx-show"} text-xl`})})]}),c&&n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Password Strength"}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-out ${be>=75?"bg-green-500":be>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${be}%`}})}),n.jsx("p",{className:"text-xs mt-1",children:be>=75?"Strong":be>=50?"Medium":"Weak"})]}),E&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:E}),Y&&n.jsx("p",{className:"text-green-600 text-xs mb-4",children:Y}),n.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:ee,children:ee?"Processing...":"Sign Up"})]}),n.jsxs("div",{className:"mt-6 text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Or continue with"}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsxs("button",{onClick:()=>lt("google"),className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:ie,children:[n.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5 mr-2"}),ie?"Processing...":"Google"]}),n.jsxs("button",{onClick:()=>lt("facebook"),className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:le,children:[n.jsx("img",{src:"https://www.facebook.com/favicon.ico",alt:"Facebook",className:"w-5 h-5 mr-2"}),le?"Processing...":"Facebook"]}),n.jsxs("button",{onClick:()=>lt("apple"),className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:r,children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg",alt:"Apple",className:"w-5 h-5 mr-2"}),r?"Processing...":"Apple"]})]})]}),B&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"m-4 bg-white p-6 rounded-lg w-full max-w-md animate-slide-up",children:[n.jsxs("div",{className:"flex items-center justify-between mb-5",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Verify Your Email"}),n.jsx("button",{onClick:()=>G(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx("i",{className:"bx bx-x text-[24px]"})})]}),n.jsxs("p",{className:"text-gray-600 mb-4 text-sm text-center",children:["Enter the 6-digit code sent to your email ",o,"."]}),n.jsxs("form",{onSubmit:ot,className:"space-y-4",children:[n.jsx("div",{className:"flex justify-between gap-2",children:[0,1,2,3,4,5].map(ut=>n.jsx("input",{type:"text",maxLength:"1",value:y[ut]||"",onChange:At=>{const st=y.split("");st[ut]=At.target.value,x(st.join("")),At.target.value&&ut<5&&document.getElementsByTagName("input")[ut+1].focus()},onKeyDown:At=>{At.key==="Backspace"&&!y[ut]&&ut>0&&document.getElementsByTagName("input")[ut-1].focus()},className:"w-12 h-12 text-center border rounded-lg focus:border-blue-500 focus:outline-none text-2xl font-medium",required:!0},ut))}),z&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:z}),n.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:ee,children:ee?"Verifying...":"Verify Code"}),n.jsxs("p",{className:"text-center text-gray-600 mt-2 text-sm",children:["Didnt receive a code?"," ",n.jsx("button",{onClick:et,className:"text-blue-600 hover:underline",disabled:ee,children:"Resend"})]}),Y&&n.jsx("p",{className:"text-center text-green-600 text-xs mt-2",children:Y})]})]})}),Oe&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"m-4 bg-white p-6 rounded-lg w-full max-w-md animate-slide-up",children:[n.jsxs("div",{className:"flex items-center justify-between mb-5",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Verify Your Age"}),n.jsx("button",{onClick:()=>Be(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx("i",{className:"bx bx-x text-[24px]"})})]}),n.jsx("p",{className:"text-gray-600 mb-4 text-sm text-center",children:"Please enter your Date of Birth to confirm you are 18 or older."}),n.jsxs("form",{onSubmit:rt,className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",value:m,onChange:ut=>p(ut.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${V?"border-red-500":"border-gray-300"}`,max:new Date().toISOString().split("T")[0],required:!0}),n.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${m?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Date of Birth"}),V&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:V})]}),n.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:ee,children:ee?"Verifying...":"Submit"})]})]})}),de&&n.jsxs(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",children:[n.jsx(vt.div,{initial:{opacity:0},animate:{opacity:.6},exit:{opacity:0},className:"absolute inset-0 bg-black"}),n.jsxs(vt.div,{initial:{y:40,scale:.95,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:40,scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"relative bg-white rounded-2xl shadow-2xl max-w-lg w-full mx-4 p-6",children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:n.jsx(lae,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Choose Your Option"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Merchant or Standard user"})]})]})}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs(vt.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:Rt,className:"flex flex-col items-center justify-center p-4 border rounded-lg bg-gray-800 text-white hover:shadow-lg transition-shadow w-full h-32",children:[n.jsx("span",{className:"text-lg font-medium",children:"ALL USERS"}),n.jsx("span",{className:"text-sm mt-1",children:"Sign Up. Sell / Buy"})]}),n.jsxs(vt.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:Tt,className:"flex flex-col items-center justify-center p-4 border rounded-lg bg-orange-500 text-white hover:shadow-lg transition-shadow w-full h-32",children:[n.jsx("span",{className:"text-lg font-medium",children:"MERCHANT"}),n.jsx("span",{className:"text-sm mt-1",children:"Sign Up / Pro Seller Benefits Included"}),n.jsx("span",{className:"text-xs mt-1",children:"Registered Businesses only"})]})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsx("button",{onClick:()=>Ye(!1),className:"text-blue-600 hover:underline text-sm",children:"Continue with Sign In"})})]})]})]})]})})}const Bo=({alerts:r,removeAlert:e})=>n.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`flex items-center p-4 rounded-lg shadow-lg transition-all duration-300 transform translate-x-0 opacity-100 ${t.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"} animate-slide-in`,onClick:()=>e(t.id),role:"alert",children:[n.jsx("i",{className:`bx ${t.type==="success"?"bx-check-circle":"bx-error-circle"} text-xl mr-2`}),n.jsx("span",{children:t.message}),n.jsx("button",{className:"ml-auto text-white hover:text-gray-200","aria-label":"Close alert",children:n.jsx("i",{className:"bx bx-x text-xl"})})]},t.id))}),sc=()=>{const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="success",o=3e3)=>{const l=Date.now().toString();e(c=>[...c,{id:l,message:a,type:i}]),o&&setTimeout(()=>{e(c=>c.filter(d=>d.id!==l))},o)},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}},Kae=({productId:r,isIconOnly:e=!1,customClass:t=""})=>{const[s,a]=C.useState(!1),{alerts:i,addAlert:o}=sc(),{setAlerts:l}=sc(),c=async()=>{if(!r){o("Invalid product ID","error",3e3);return}a(!0);try{await Bm(r,1,Pe.currentUser?.uid),o("Added to cart!","success",3e3)}catch(u){console.error("Error adding to cart:",u),o(u.message||"Failed to add to cart","error",3e3)}finally{a(!1)}};let d=e?`${t} focus:outline-none`:`rounded-full px-2 py-1 text-white focus:outline-none ml-2 transition-all duration-200 ${s?"bg-gray-300 cursor-not-allowed":"bg-[#000] hover:bg-blue-950"}`;return n.jsxs("div",{className:"",children:[n.jsx("button",{onClick:c,disabled:s,className:d,"aria-label":"Add to cart",children:n.jsx("i",{className:`bx bx-cart-add text-2xl ${s?"opacity-50":""}`})}),n.jsx(Bo,{alerts:i,removeAlert:u=>l(i.filter(f=>f.id!==u))})]})},Zae=()=>{const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(null),o=["tablet & phones","health & beauty","foremade fashion","electronics","baby products","computers & accessories","game & fun","drinks & categories","home & kitchen","smart watches"];return C.useEffect(()=>{(async()=>{s(!0),i(null);try{const d=o.sort(()=>.5-Math.random()).slice(0,Math.floor(Math.random()*3)+3).map(async p=>{const y=Et(Ie(J,"products"),bt("category","==",p),q5(4));return(await dt(y)).docs.map(v=>{const N=v.data();let k=N.imageUrl&&typeof N.imageUrl=="string"&&N.imageUrl.startsWith("https://")?N.imageUrl:Array.isArray(N.imageUrls)&&N.imageUrls[0]&&typeof N.imageUrls[0]=="string"&&N.imageUrls[0].startsWith("https://")?N.imageUrls[0]:"/images/placeholder.jpg";return{id:v.id,name:N.name||"Unnamed Product",price:N.price||0,stock:N.stock||0,category:N.category||"uncategorized",imageUrl:k,rating:N.rating||Math.random()*2+3,colors:N.colors||[],sizes:N.category?.trim().toLowerCase()==="foremade fashion"?N.sizes||[]:[],condition:N.condition||"New",sellerId:N.sellerId||""}})}),m=(await Promise.all(d)).flat().filter(p=>p.imageUrl&&typeof p.imageUrl=="string"&&(p.imageUrl.startsWith("https://")||p.imageUrl==="/images/placeholder.jpg")?!0:(console.warn("Filtered out product with invalid imageUrl:",{id:p.id,name:p.name,imageUrl:p.imageUrl}),!1)).sort(()=>.5-Math.random()).slice(0,12);console.log("Fetched and normalized products:",m),e(m),m.length===0&&i("No products available at the moment.")}catch(c){console.error("Error fetching products:",{message:c.message,code:c.code}),i("Failed to load products. Please try again."),Me.error("Failed to load products")}finally{s(!1)}})()},[]),t?n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"})}):a?n.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[n.jsx("i",{className:"bx bx-error-circle text-8xl text-red-600"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-6 text-center",children:a}),n.jsxs(ve,{to:"/",className:"mt-8 inline-flex items-center text-blue-600 hover:underline text-lg",children:[n.jsx("i",{className:"bx bx-home-alt mr-2"}),"Back to Home"]})]}):n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Discover More Products"}),n.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Shop sell, smile, check out these great products!"}),r.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh]",children:[n.jsx("i",{className:"bx bx-cart text-8xl text-gray-600"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-6 text-center",children:"No Products Available"}),n.jsx("p",{className:"text-gray-600 mt-2 text-center",children:"Our catalog is empty. Come back soon!"}),n.jsxs(ve,{to:"/",className:"mt-8 inline-flex items-center text-blue-600 hover:underline text-lg",children:[n.jsx("i",{className:"bx bx-home-alt mr-2"}),"Back to Home"]})]}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(l=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm transition-shadow duration-300",children:[n.jsx(ve,{to:`/product/${l.id}`,children:n.jsx("img",{src:l.imageUrl||"/images/placeholder.jpg",alt:l.name||"Product",className:"w-full h-48 object-cover rounded-t-lg",onError:c=>{c.target.src!=="/images/placeholder.jpg"&&(console.warn("Image load error, falling back to placeholder:",{productId:l.id,imageUrl:l.imageUrl,name:l.name}),c.target.src="/images/placeholder.jpg")},onLoad:()=>{console.log("Product image loaded:",{productId:l.id,imageUrl:l.imageUrl,name:l.name})}})}),n.jsxs("div",{className:"p-4",children:[n.jsx(ve,{to:`/product/${l.id}`,children:n.jsx("h3",{className:"text-lg font-semibold text-gray-800 truncate hover:text-blue-600",children:l.name})}),n.jsxs("p",{className:"text-gray-600 mt-2 text-xl font-bold",children:["",l.price.toLocaleString("en-NG",{minimumFractionDigits:2})]}),n.jsx("div",{className:"mt-4",children:n.jsx(Kae,{productId:l.id,stock:l.stock,className:"w-full bg-slate-600 text-black py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center"})})]})]},l.id))})]})},Qae=({productId:r,productName:e})=>{const[t,s]=C.useState(!1),a=C.useRef(null),i=`${window.location.origin}/product/${r}`,o=async()=>{try{await navigator.clipboard.writeText(i),alert("Product link copied to clipboard!"),s(!1)}catch(c){console.error("Failed to copy:",c)}},l=()=>{const c=`Check out this product: ${e}
${i}`,d=`https://wa.me/?text=${encodeURIComponent(c)}`;window.open(d,"_blank"),s(!1)};return C.useEffect(()=>{const c=d=>{a.current&&!a.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),n.jsxs("div",{className:"relative inline-block",children:[n.jsx("button",{onClick:()=>s(!t),className:"flex items-center justify-center w-10 h-10 bg-gray-200 rounded-full hover:bg-gray-300 transition",children:n.jsx("i",{className:"bx bx-share bx-flip-horizontal text-2xl"})}),t&&n.jsxs("div",{ref:a,className:"absolute top-full mt-2 right-0 w-40 bg-white dark:bg-gray-800 shadow-lg rounded-lg border border-gray-200 dark:border-gray-700 z-50",children:[n.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 w-full text-left hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[n.jsx("i",{className:"bx bxl-whatsapp text-green-500 text-lg"}),"WhatsApp"]}),n.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 w-full text-left hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[n.jsx("i",{className:"bx bx-copy text-black text-lg"}),"Copy Link"]})]})]})},bN=(r,e)=>{let t;return(...s)=>{clearTimeout(t),t=setTimeout(()=>r(...s),e)}},yN={red:"#DC2626",blue:"#2563EB",green:"#22C55E",yellow:"#E0B912",orange:"#F59E42",purple:"#A21CAF",pink:"#EC4899",black:"#222222",white:"#F0F0F0",silver:"#E5E7EB",gold:"#FFD700",brown:"#A0522D",gray:"#9CA3AF",grey:"#9CA3AF",beige:"#F5F5DC",teal:"#14B8A6",navy:"#1E3A8A",olive:"#808000",maroon:"#800000",cyan:"#06B6D4",magenta:"#D946EF",lime:"#84CC16",coral:"#FB7185",indigo:"#6366F1",violet:"#8B5CF6"},Jae=r=>{let e=0;for(let t=0;t<r.length;t++)e=(e<<5)-e+r.charCodeAt(t),e|=0;return e},zI=(r,e)=>{if(!r||r==="Unknown Seller"||!e)return r;const t=r.split(" ")[0],s=Math.abs(Jae(e))%900+100;return`${t}${s}`},ene=()=>{const[r,e]=C.useState([]),[t,s]=C.useState(null),[a,i]=C.useState(""),[o,l]=C.useState([]),[c,d]=C.useState([]),[u,f]=C.useState(!0),[m,p]=C.useState(1),[y,x]=C.useState([]),[v,N]=C.useState(!1),[k,S]=C.useState(0),[R,A]=C.useState(""),[D,P]=C.useState(!1),[E,I]=C.useState(!1),[M,L]=C.useState(""),[z,F]=C.useState(0),[V,$]=C.useState("right"),[Y,X]=C.useState(!1),[ee,W]=C.useState(!1),[B,G]=C.useState(0),[te,re]=C.useState(""),[ie,he]=C.useState(""),[le,De]=C.useState(null),[Oe,Be]=C.useState(null),[de,Ye]=C.useState(null),[be,Q]=C.useState({buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),[me,We]=C.useState(25e3),[xe,Je]=C.useState(.38),[ot,lt]=C.useState(!1),{alerts:rt,addAlert:et,removeAlert:Rt}=sc(),{id:Tt}=Zo(),ut=_s(),At=Qr(),st={new:"bg-amber-100 text-amber-800 border-amber-300",sale:"bg-emerald-100 text-emerald-800 border-emerald-300",trending:"bg-blue-100 text-blue-800 border-blue-300",default:"bg-gray-100 text-gray-800 border-gray-300"},qe=["foremade fashion","clothing","shoes","accessories"];C.useEffect(()=>{(async()=>{try{const Qe=Te(J,"settings","minimumPurchase"),tt=await ft(Qe);tt.exists()&&We(tt.data().amount||25e3)}catch(Qe){console.error("Error fetching minimum purchase:",Qe),et("Failed to fetch minimum purchase amount.","error",3e3)}})()},[et]),C.useEffect(()=>{(async()=>{try{const Qe=Te(J,"settings","shippingFees"),tt=await ft(Qe);tt.exists()&&Je(tt.data().additionalPercentage||.3)}catch(Qe){console.error("Error fetching additional shipping percentage:",Qe),et("Failed to fetch shipping fee configuration.","error",3e3)}})()},[et]),C.useEffect(()=>{(async()=>{try{const Qe=await dt(Ie(J,"dailyDeals"));e(Qe.docs.map(tt=>({id:tt.id,...tt.data()})))}catch(Qe){console.error("Error fetching daily deals:",Qe)}})()},[]),C.useEffect(()=>{(async()=>{try{const Qe=Te(J,"feeConfigurations","categoryFees"),tt=await ft(Qe);tt.exists()&&Ye(tt.data())}catch(Qe){console.error("Error fetching fee configurations:",Qe)}})()},[]),C.useEffect(()=>{if(de&&t?.category&&(le?.price||t?.price)>0){const pe=le?.price||t.price,Qe=de[t.category]||{buyerProtectionRate:.08,handlingRate:.2},tt=pe*Qe.buyerProtectionRate,Lt=pe*Qe.handlingRate,yt=pe+tt+Lt;Q({buyerProtectionFee:tt,handlingFee:Lt,totalEstimatedPrice:yt,sellerEarnings:pe})}},[de,t?.category,le?.price,t?.price]);const xt=pe=>{if(!pe||typeof pe!="string")return"";const tt=pe.replace(/<[^>]+>/g,"").split(`
`);let Lt=!1,yt=tt.map(ue=>{if(ue=ue.trim(),!ue)return null;if(ue=ue.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),ue=ue.replace(/__(.*?)__/g,"<strong>$1</strong>"),ue.startsWith("- ")||ue.startsWith("* ")){const ge=ue.substring(2).trim();return Lt?`<li class="mb-1">${ge}</li>`:(Lt=!0,`<ul class="list-disc ml-4"><li class="mb-1">${ge}</li>`)}return Lt?(Lt=!1,`</ul><p class="mb-2">${ue}</p>`):`<p class="mb-2">${ue}</p>`}).filter(Boolean).join("");return Lt&&(yt+="</ul>"),yt},Nt=C.useCallback(bN(async pe=>{if(!pe){x([]);return}try{const Qe=Et(Ie(J,"favorites"),bt("userId","==",pe.uid)),Lt=(await dt(Qe)).docs.map(yt=>yt.data().productId);x(Lt)}catch(Qe){console.error("Error fetching favorites:",Qe),et("Failed to load favorites.","error",3e3)}},500),[et]);C.useEffect(()=>{const pe=Pe.onAuthStateChanged(Qe=>{Nt(Qe)});return()=>pe()},[Nt]),C.useEffect(()=>{window.scrollTo(0,0),f(!0),(async()=>{try{if(!Tt||typeof Tt!="string"||Tt.trim()===""||Tt.includes("/"))throw new Error("Invalid product ID");const Qe=Te(J,"products",Tt),[tt,Lt]=await Promise.all([ft(Qe),dt(Ie(J,"dailyDeals"))]);if(!tt.exists())throw new Error("Product not found");const yt=tt.data();if(yt.status!=="approved")throw new Error("Product not approved");let ue="",ge=[];if(yt.sellerId){const ke=Te(J,"users",yt.sellerId),[_e,at]=await Promise.all([ft(ke),dt(Ie(J,`products/${Tt}/reviews`))]);if(_e.exists()){const it=_e.data();ue=it.location?`${it.location.city||""}, ${it.location.state||""}, ${it.location.country||""}`.trim().replace(/, ,/g,","):""}ge=at.docs.map(it=>{const hs=it.data();let fr=hs.userName||"Anonymous";return typeof fr=="object"&&fr.name&&(fr=fr.name),{id:it.id,...hs,userName:fr}})}i(ue);let Re=Array.isArray(yt.imageUrls)?yt.imageUrls:yt.imageUrl&&typeof yt.imageUrl=="string"?[yt.imageUrl]:["https://via.placeholder.com/600"],ct=Array.isArray(yt.videoUrls)?yt.videoUrls:[];(Re.length===0||!Re[0])&&(Re=["https://via.placeholder.com/600"]);const nt=yt.category?.trim().toLowerCase()||"uncategorized",He=qe.includes(nt),ne={id:tt.id,name:yt.name||"Unnamed Product",description:yt.description||"",price:yt.price||0,stock:yt.stock||0,category:nt,colors:yt.colors||[],sizes:He?yt.sizes||[]:[],condition:yt.condition||"New",imageUrls:Re,videoUrls:ct,tags:yt.tags||[],seller:yt.seller||{name:"Unknown Seller",id:yt.sellerId||""},sellerId:yt.sellerId||"",rating:yt.rating||Math.random()*2+3,reviews:ge,status:yt.status||"pending",variants:yt.variants||[]};ne.seller.name=zI(ne.seller.name,ne.sellerId);const ze=Lt.docs.map(ke=>({id:ke.id,...ke.data()})).find(ke=>ke.productId===Tt&&new Date(ke.endDate)>new Date&&new Date(ke.startDate)<=new Date);if(ze?(W(!0),G((ze.discount*100).toFixed(2))):(W(!1),G(0)),s(ne),L(ne.imageUrls[0]),F(0),ne.colors.length>0&&re(ne.colors[0]),ne.sizes.length>0&&he(ne.sizes[0]),ne.variants.length>0){const ke=ne.variants.find(_e=>_e.stock>0)||ne.variants[0];De(ke),Be(ke),re(ke.color),he(ke.size)}(()=>{const ke=JSON.parse(localStorage.getItem("recentSearches")||"[]"),_e=ne.variants.length&&le?{color:le.color,size:le.size,price:le.price,imageUrl:le.imageUrls?.[0]||ne.imageUrls[0]}:null,it=[{id:ne.id,name:ne.name,imageUrl:_e?.imageUrl||ne.imageUrls[0],price:_e?.price||ne.price||0,category:ne.category,status:ne.status,variant:_e},...ke.filter(hs=>hs.id!==Tt)].slice(0,5);localStorage.setItem("recentSearches",JSON.stringify(it))})();const Ce=Et(Ie(J,"products"),bt("category","==",ne.category)),Le=(await dt(Ce)).docs.map(ke=>{const _e=ke.data();if(_e.status!=="approved")return null;let at=_e.variants&&_e.variants.length>0&&_e.variants[0]?.imageUrls?.[0]?_e.variants[0].imageUrls[0]:_e.imageUrl&&typeof _e.imageUrl=="string"?_e.imageUrl:Array.isArray(_e.imageUrls)&&_e.imageUrls[0]?_e.imageUrls[0]:"https://via.placeholder.com/600";if(ke.id===Tt)return null;const it=_e.category?.trim().toLowerCase()||"uncategorized",hs=qe.includes(it);return{id:ke.id,name:_e.name||"Unnamed Product",price:_e.price||0,stock:_e.stock||0,category:it,colors:_e.colors||[],sizes:hs?_e.sizes||[]:[],condition:_e.condition||"New",imageUrl:at,tags:_e.tags||[],seller:_e.seller||{name:"Unknown Seller",id:_e.sellerId||""},rating:_e.rating||Math.random()*2+3,status:_e.status||"pending"}}).filter(ke=>ke&&ke.imageUrl).map(ke=>({...ke,seller:{...ke.seller,name:zI(ke.seller.name,ke.seller.id)}}));l(Le.slice(0,4))}catch(Qe){console.error("Error loading product:",Qe),s(null),l([]),et(Qe.message||"Failed to load product.","error",3e3),(Qe.message.includes("Product not found")||Qe.message.includes("Invalid product ID")||Qe.message.includes("Product not approved"))&&setTimeout(()=>{ut("/products")},2e3)}finally{f(!1)}})()},[Tt,ut]),C.useEffect(()=>{try{const Qe=JSON.parse(localStorage.getItem("recentSearches")||"[]").filter(tt=>tt&&tt.id&&tt.name).map(tt=>({...tt,imageUrl:tt.variant?.imageUrl||tt.imageUrl||"https://via.placeholder.com/600",price:typeof(tt.variant?.price??tt.price)=="number"&&!isNaN(tt.variant?.price??tt.price)?tt.variant?.price??tt.price:0}));d(Qe)}catch(pe){console.error("Error loading recent searches:",pe),d([])}},[]),C.useEffect(()=>{if(!t)return;const pe=t.variants.length?le||{imageUrls:[]}:null,Qe=t.variants.length?pe.imageUrls.map(tt=>({type:"image",url:tt})).filter(tt=>tt.url):t.imageUrls.map(tt=>({type:"image",url:tt})).filter(tt=>tt.url);if(!Qe.length){L("https://via.placeholder.com/600"),F(0);return}L(Qe[0].url),F(0)},[t,le]),C.useEffect(()=>{if(!t)return;const pe=t.variants.length?le||{imageUrls:[]}:null,Qe=t.variants.length?pe.imageUrls.map(tt=>({type:"image",url:tt})).filter(tt=>tt.url):t.imageUrls.map(tt=>({type:"image",url:tt})).filter(tt=>tt.url);Qe.length>0?L(Qe[z]?.url||"https://via.placeholder.com/600"):L("https://via.placeholder.com/600")},[z,t,le]);const _t=async()=>{if(t)try{if(m>(le?.stock||t.stock)){et(`Cannot add more than ${le?.stock||t.stock} units of ${t.name}`,"error",3e3),p((le?.stock||t.stock)>0?le?.stock||t.stock:1);return}await Bm(t.id,m,Pe.currentUser?.uid,te,ie),et(`${t.name} added to cart!`,"success",3e3),p(1)}catch(pe){console.error("Error adding to cart:",pe),et("Failed to add to cart","error",3e3)}},jt=()=>{const Qe=(le?.price||t.price)*m;return Math.round(Qe*xe)},Ft=async()=>{if(!t)return;if(m>(le?.stock||t.stock)){et(`Cannot purchase more than ${le?.stock||t.stock} units of ${t.name}`,"error",3e3),p((le?.stock||t.stock)>0?le?.stock||t.stock:1);return}const pe=be.totalEstimatedPrice*m;if((ee?Math.round(pe*(1-B/100)):pe)<me){lt(!0);return}try{await Bm(t.id,m,Pe.currentUser?.uid,te,ie),setTimeout(()=>{ut(`/checkout?productId=${t.id}&quantity=${m}&color=${encodeURIComponent(te||"")}&size=${encodeURIComponent(ie||"")}`)},100)}catch(tt){console.error("Error adding to cart:",tt),et("Failed to add to cart","error",3e3)}},Zt=async()=>{try{await Bm(t.id,m,Pe.currentUser?.uid,te,ie);const pe=jt();setTimeout(()=>{ut(`/checkout?productId=${t.id}&quantity=${m}&color=${encodeURIComponent(te||"")}&size=${encodeURIComponent(ie||"")}&additionalShippingFee=${pe}`)},100)}catch(pe){console.error("Error adding to cart:",pe),et("Failed to add to cart","error",3e3)}finally{lt(!1)}},Xt=()=>{lt(!1),et("Purchase cancelled.","info",3e3)},ys=pe=>{ut(`/product/${pe}`,{state:{from:At.pathname}})},It=async()=>{if(!t){et("No product selected","error",3e3);return}if(!Pe.currentUser){et("Please log in to manage favorites","error",3e3);return}try{const pe=Ie(J,"favorites"),Qe=Et(pe,bt("userId","==",Pe.currentUser.uid),bt("productId","==",t.id)),tt=await dt(Qe);if(tt.empty)await cn(pe,{userId:Pe.currentUser.uid,productId:t.id,createdAt:Wn()}),x(Lt=>[...Lt,t.id]),et("Added to favorites!","success",3e3);else{for(const Lt of tt.docs)Lt.data().userId===Pe.currentUser.uid&&await ra(Lt.ref);x(Lt=>Lt.filter(yt=>yt!==t.id)),et("Removed from favorites","success",3e3)}}catch(pe){console.error("Error toggling favorite:",pe),et("Failed to update favorites.","error",3e3)}},Wt=async pe=>{if(pe.preventDefault(),!Pe.currentUser){et("Please log in to submit a review","error",3e3);return}if(k<1||k>5){et("Please select a valid rating (1-5)","error",3e3);return}if(!R.trim()){et("Please enter a review comment","error",3e3);return}try{let Qe;try{const yt=localStorage.getItem("userData");Qe=yt?JSON.parse(yt).name||"Anonymous":Pe.currentUser.displayName||"Anonymous"}catch{Qe=Pe.currentUser.displayName||"Anonymous"}await cn(Ie(J,`products/${Tt}/reviews`),{userId:Pe.currentUser.uid,userName:Qe,rating:k,comment:R,date:Wn()}),et("Review submitted successfully!","success",3e3),S(0),A(""),I(!1);const Lt=(await dt(Ie(J,`products/${Tt}/reviews`))).docs.map(yt=>{const ue=yt.data();let ge=ue.userName||"Anonymous";return typeof ge=="object"&&ge.name&&(ge=ge.name),{id:yt.id,...ue,userName:ge}});s(yt=>({...yt,reviews:Lt}))}catch(Qe){console.error("Error submitting review:",Qe),et("Failed to submit review","error",3e3)}},sr=C.useCallback(bN((pe,Qe)=>{typeof pe=="string"&&(pe.startsWith("https://res.cloudinary.com/")||pe.includes(".mp4"))&&($(Qe>z?"right":"left"),L(pe),F(Qe),X(pe.includes(".mp4")))},300),[z]),ms=C.useCallback(bN((pe,Qe)=>{if(!t?.variants)return;const tt=t.variants.find(Lt=>Lt.color===pe&&Lt.size===Qe);if(!tt){et("Selected variant combination is unavailable.","error",3e3),Jt();return}if(tt.stock<=0){et("Selected variant is out of stock.","error",3e3),Jt();return}Be(le),De(tt),re(pe),he(Qe),s(Lt=>({...Lt,price:tt.price,stock:tt.stock,imageUrls:tt.imageUrls&&tt.imageUrls.length>0?tt.imageUrls:Lt.imageUrls})),L(tt.imageUrls&&tt.imageUrls.length>0?tt.imageUrls[0]:t.imageUrls[0]),F(0),p(1),et("Variant selected successfully!","success",3e3)},300),[t,le,et]),Jt=()=>{Oe&&(De(Oe),re(Oe.color),he(Oe.size),s(pe=>({...pe,price:Oe.price,stock:Oe.stock,imageUrls:Oe.imageUrls&&Oe.imageUrls.length>0?Oe.imageUrls:pe.imageUrls})),L(Oe.imageUrls&&Oe.imageUrls.length>0?Oe.imageUrls[0]:t.imageUrls[0]),F(0),p(1))},vs=(pe,Qe)=>{const tt=t?.variants?.find(Lt=>Lt.color===pe&&Lt.size===Qe);return tt&&tt.stock>0},ss=pe=>!pe||pe.includes("via.placeholder.com")||pe==="https://via.placeholder.com/600"?"/fallback-image.png":pe;if(u)return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx(MF,{type:"productDetail",count:1}),n.jsx(Bo,{alerts:rt,removeAlert:Rt})]});if(!t)return n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-[#333333]",children:"Product not found or not approved."}),n.jsx(ve,{to:"/products",className:"text-[#112d4e] hover:underline",children:"Back to Products"}),n.jsx(Bo,{alerts:rt,removeAlert:Rt})]});const Ms=150,gs=5,Bt=t.description.length>Ms?`${t.description.substring(0,Ms)}...`:t.description,es=t.description.length>Ms,pr=D?t.reviews:t.reviews?.slice(0,gs),Vs=t.variants.length?le||{imageUrls:[]}:null,As=t.variants.length?Vs.imageUrls.map(pe=>({type:"image",url:pe})).filter(pe=>pe.url):t.imageUrls.map(pe=>({type:"image",url:pe})).filter(pe=>pe.url),Us=(le?.price||t.price)*m,Os=be.totalEstimatedPrice*m,Ls=ee?Math.round(Os*(1-B/100)):Os,_r=t.reviews&&t.reviews.length>0?(t.reviews.reduce((pe,Qe)=>pe+Qe.rating,0)/t.reviews.length).toFixed(1):t.rating.toFixed(1);return n.jsxs("div",{className:"mb-[140px] container mx-auto px-4 py-6 md:py-8 relative",children:[n.jsx("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .animate-fadeIn { animation: fadeIn 0.5s ease-out; }
          @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          .slide-in-right { animation: slideInRight 0.3s ease-out; }
          .slide-in-left { animation: slideInLeft 0.3s ease-out; }
          .main-media-container {
            position: relative;
            width: 100%;
            padding-top: 100%;
            overflow: hidden;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          }
          .main-media-container img, .main-media-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
          }
          .main-media-container:hover img, .main-media-container:hover video {
            transform: scale(1.05);
          }
          .thumbnail {
            transition: all 0.2s ease;
          }
          .thumbnail:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
          }
          .sticky-cart {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #F0F0F0;
            padding: 1rem;
            box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
            z-index: 50;
          }
          .formatted-description strong {
            font-weight: 600;
          }
          .formatted-description ul {
            list-style: disc;
            margin-left: 1.5rem;
            margin-bottom: 0.5rem;
          }
          .formatted-description li {
            margin-bottom: 0.25rem;
          }
          .product-info-card {
            background: #F0F0F0;
            border: 1px solid #CCCCCC;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
          }
          .price-section {
            // background: #112d4e;
            border: 1px solid #cccccc;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1rem 0;
          }
          .selection-option {
            transition: all 0.2s ease;
            cursor: pointer;
          }
          .selection-option:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          }
          .selection-option.selected {
            border-color: #E0B912;
            background-color: #E0B912;
            color: #333333;
            box-shadow: 0 0 0 2px rgba(224, 185, 18, 0.2);
          }
          .selection-option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background-color: #CCCCCC;
            border-color: #CCCCCC;
          }
          .info-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.875rem;
            font-weight: 500;
            padding: 0.375rem 0.75rem;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
            background: #F0F0F0;
            color: #333333;
            border: 1px solid #CCCCCC;
          }
          .info-badge:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          }
          .message-icon {
            transition: all 0.3s ease;
            color: #25D366;
          }
          .message-icon:hover {
            transform: scale(1.2);
            color: #128C7E;
          }
          .quantity-controls {
            display: flex;
            align-items: center;
            border: 1px solid #CCCCCC;
            border-radius: 0.5rem;
            overflow: hidden;
            background: #F0F0F0;
            max-width: 120px;
          }
          .quantity-controls button {
            background: #F0F0F0;
            border: none;
            padding: 0.5rem 0.75rem;
            transition: all 0.2s ease;
            cursor: pointer;
            color: #333333;
          }
          .quantity-controls button:hover {
            background: #112d4e;
            color: #F0F0F0;
          }
          .quantity-controls input {
            border: none;
            text-align: center;
            width: 3rem;
            padding: 0.5rem;
            background: #F0F0F0;
            color: #333333;
          }
          .quantity-controls input:focus {
            outline: none;
            box-shadow: inset 0 0 0 2px #E0B912;
          }
          .favorite-button {
            transition: all 0.3s ease;
            color: #333333;
          }
          .favorite-button:hover {
            transform: scale(1.2);
          }
          .favorite-button.active {
            transform: scale(1.1);
            color: #DC2626;
          }
          .back-icon {
            transition: all 0.3s ease;
            color: #333333;
          }
          .back-icon:hover {
            transform: scale(1.2);
          }
          @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
          }
          .modal-enter { animation: modalFadeIn 0.3s ease-out forwards; }
          @keyframes modalBackdropFadeIn {
            from { opacity: 0; }
            to { opacity: 0.5; }
          }
          .backdrop-enter { animation: modalBackdropFadeIn 0.3s ease-out forwards; }
        `}),ot&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-opacity duration-300 animate-fade",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full animate-scale-in",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-info-circle text-blue-500"}),"Shipping Fee Notice"]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Your purchase of"," ",n.jsx(hr,{price:Ls,currency:t.currency||localStorage.getItem("currency")||"NGN"})," ","is below the minimum purchase amount of"," ",n.jsx(hr,{price:me,currency:t.currency||localStorage.getItem("currency")||"NGN"}),". You will incur an additional shipping fee of"," ",n.jsx(hr,{price:jt(),currency:t.currency||localStorage.getItem("currency")||"NGN"}),". Would you like to proceed?"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:Zt,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition transform hover:scale-105",children:"Proceed"}),n.jsx("button",{onClick:Xt,className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-100 transition transform hover:scale-105",children:"Cancel"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"sticky top-0 bg-white z-10",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-col-3 gap-6 animate-fadeIn",children:[n.jsxs("div",{className:"order-1",children:[n.jsx("div",{className:"relative main-media-container",children:As.length>0&&As[z].type==="image"?n.jsx("img",{src:ss(As[z].url),alt:`${t.name} ${t.variants.length?`variant ${t.variants.findIndex(pe=>pe===le)+1}`:""} image`,className:V==="right"?"slide-in-right":"slide-in-left",onError:pe=>{pe.target.onerror=null,pe.target.src="/fallback-image.png"}}):As.length>0&&As[z].type==="video"?n.jsx("video",{src:As[z].url,controls:!0,autoPlay:Y,className:V==="right"?"slide-in-right":"slide-in-left",children:"Your browser does not support the video tag."}):n.jsx("img",{src:"/fallback-image.png",alt:"Placeholder Image",className:"animate-fadeIn"})}),As.length>1&&n.jsx("div",{className:"flex justify-center space-x-2 mt-4 overflow-x-auto pb-2",children:As.map((pe,Qe)=>n.jsx("div",{className:`w-20 h-20 flex-shrink-0 cursor-pointer rounded-md overflow-hidden border-2 ${z===Qe?"border-[#112d4e]":"border-transparent"} thumbnail`,onClick:()=>sr(pe.url,Qe),children:pe.type==="image"?n.jsx("img",{src:ss(pe.url),alt:`Thumbnail ${Qe+1}`,className:"w-full h-full object-cover",onError:tt=>{tt.target.onerror=null,tt.target.src="/fallback-image.png"}}):n.jsx("video",{src:pe.url,className:"w-full h-full object-cover",children:"Your browser does not support the video tag."})},Qe))})]}),n.jsxs("div",{className:"order-2 md:order-2 product-info-card",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("button",{onClick:()=>ut(-1),className:"flex items-center text-[#333333] hover:text-[#112d4e] back-icon mr-3","aria-label":"Back to previous page",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("h1",{className:"text-lg text-[#333333] flex-grow",children:t.name}),n.jsx(Qae,{productId:t.id,productName:t.name}),n.jsx("button",{onClick:It,className:`favorite-button p-2 rounded-full ${y.includes(t.id)?"active text-[#DC2626]":"text-[#333333] hover:text-[#DC2626]"}`,"aria-label":y.includes(t.id)?"Remove from favorites":"Add to favorites",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]}),n.jsx("div",{className:"price-section text-white text-center",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[n.jsx("p",{className:"text-lg mb-2 sm:mb-0",children:n.jsx(hr,{price:Ls,currency:t.currency||localStorage.getItem("currency")||"USD"})}),ee&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm line-through text-black opacity-80",children:n.jsx(hr,{price:Us,currency:t.currency||localStorage.getItem("currency")||"USD"})}),n.jsxs("p",{className:"text-lg font-semibold text-[#E0B912]",children:[B,"% OFF!"]})]})]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[n.jsxs("span",{className:"info-badge",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-[#112d4e]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.329 1.14l1.519 4.674c.3.921-.755 1.688-1.539 1.14l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.543-1.838-.219-1.539-1.14l1.519-4.674a1 1 0 00-.329-1.14l-3.976-2.888c-.784-.57-.381-1.81.588-1.81h4.915a1 1 0 00.95-.69l1.519-4.674z"})}),_r]}),n.jsxs("span",{className:"info-badge",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-[#112d4e]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.001 12.001 0 002.92 12c0 2.843.614 5.518 1.697 7.918l-.666 1.055c-.247.391.077.917.555.917h16.486c.478 0 .802-.526.555-.917l-.666-1.055c1.083-2.4 1.697-5.075 1.697-7.918a12.001 12.001 0 00-3.079-8.056z"})}),t.condition]}),n.jsxs(ve,{to:`/seller/${t.sellerId}`,className:"info-badge hover:bg-gray-200",children:[n.jsx("i",{className:"ri-store-line"}),"Seller: ",t.seller.name]}),n.jsxs("button",{onClick:()=>ut(`/chat/${t.id}`,{state:{sellerId:t.sellerId,productId:t.id}}),className:"info-badge hover:bg-gray-200","aria-label":"Message seller",children:[n.jsx(CF,{className:"message-icon",size:20}),"Message Seller"]})]}),t.variants.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-semibold text-lg text-[#333333] mb-2",children:"Variants:"}),t.colors.length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{className:"text-sm text-[#333333] mb-1",children:["Color:"," ",n.jsx("span",{className:"font-medium text-[#112d4e]",children:te||"N/A"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.colors.map(pe=>{const Qe=t.sizes.length>0?t.sizes.some(tt=>vs(pe,tt)):vs(pe,ie);return n.jsx("button",{onClick:()=>Qe&&ms(pe,ie),className:`selection-option p-2 rounded-lg border-2 flex items-center justify-center min-w-[32px] min-h-[32px] ${te===pe?"selected":Qe?"border-[#CCCCCC] bg-[#F0F0F0] text-[#333333] hover:bg-[#E0B912] hover:text-[#333333]":"disabled"}`,style:{backgroundColor:yN[pe.toLowerCase()]||pe,borderColor:te===pe?"#E0B912":"#CCCCCC",color:pe.toLowerCase()==="white"||pe.toLowerCase()==="silver"||yN[pe.toLowerCase()]==="#F0F0F0"?"#333333":"#F0F0F0"},disabled:!Qe,"aria-label":`Select color ${pe}`,title:Qe?pe:"Color unavailable or out of stock",children:te!==pe&&(pe.toLowerCase()==="white"||pe.toLowerCase()==="silver")?n.jsx("div",{className:"w-5 h-5 rounded-full border border-gray-400",style:{backgroundColor:yN[pe.toLowerCase()]||pe}}):null},pe)})})]}),t.sizes.length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-[#333333] mb-1",children:["Size:"," ",n.jsx("span",{className:"font-medium text-[#112d4e]",children:ie||"N/A"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.sizes.map(pe=>{const Qe=vs(te,pe);return n.jsx("button",{onClick:()=>Qe&&ms(te,pe),className:`selection-option px-4 py-2 rounded-lg border-2 ${ie===pe?"selected":Qe?"border-[#CCCCCC] bg-[#F0F0F0] text-[#333333] hover:bg-[#E0B912] hover:text-[#333333]":"disabled"}`,disabled:!Qe,"aria-label":`Select size ${pe}`,title:Qe?pe:"Size unavailable or out of stock",children:pe},pe)})})]}),t.variants.length>0&&!le&&n.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please select a valid variant combination."})]}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("p",{className:"text-sm font-semibold text-[#333333]",children:"Quantity:"}),n.jsxs("div",{className:"quantity-controls",children:[n.jsx("button",{onClick:()=>p(pe=>Math.max(1,pe-1)),"aria-label":"Decrease quantity",children:"-"}),n.jsx("input",{type:"number",value:m,onChange:pe=>p(Math.max(1,parseInt(pe.target.value)||1)),className:"no-arrows",min:"1",max:le?.stock||t.stock,"aria-label":"Product quantity"}),n.jsx("button",{onClick:()=>p(pe=>Math.min(pe+1,le?.stock||t.stock)),disabled:m>=(le?.stock||t.stock),"aria-label":"Increase quantity",children:"+"})]})]}),n.jsxs("p",{className:`text-sm font-semibold ${(le?.stock||t.stock)>0?"text-[#112d4e]":"text-[#DC2626]"}`,children:["Stock: ",le?.stock||t.stock," units"]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsx("button",{onClick:_t,disabled:!t.stock||m>t.stock,className:"flex-1 px-6 py-3 rounded-lg bg-[#ffffff] text-[#333333] font-semibold hover:bg-[#cccccc] focus:outline-none focus:ring-2 focus:ring-[#E0B912] focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:"Add to Cart"}),n.jsx("button",{onClick:Ft,disabled:!t.stock||m>t.stock,className:"flex-1 px-6 py-3 rounded-lg bg-[#112d4e] text-[#F0F0F0] font-semibold hover:bg-[#007F8B] focus:outline-none focus:ring-2 focus:ring-[#112d4e] focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:"Pay Now"})]})]})]}),n.jsxs("div",{className:"product-info-card mt-6",children:[n.jsx("h2",{className:"font-medium text-[#333333] mb-4",children:"Description"}),n.jsx("div",{className:"text-[#555555] leading-relaxed formatted-description",dangerouslySetInnerHTML:{__html:xt(v?t.description:Bt)}}),es&&n.jsx("button",{onClick:()=>N(!v),className:"text-[#112d4e] hover:underline mt-2 text-sm",children:v?"Show Less":"Read More"}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.tags.map((pe,Qe)=>{const tt=st[pe.toLowerCase()]||st.default;return n.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border ${tt}`,children:pe},Qe)})})]}),n.jsxs("div",{className:"product-info-card mt-6",children:[n.jsx("h2",{className:"font-medium text-[#333333] mb-4",children:"Customer Reviews"}),t.reviews.length===0?n.jsx("p",{className:"text-[#555555]",children:"No reviews yet. Be the first!"}):n.jsxs("div",{className:"space-y-4",children:[pr.map(pe=>n.jsxs("div",{className:"border-b border-[#CCCCCC] pb-4 last:border-b-0",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("p",{className:"font-semibold text-[#333333]",children:pe.userName}),n.jsx("span",{className:"ml-3 text-sm text-[#8D8D8D]",children:new Date(pe.date?.toDate()).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center mb-2",children:[[...Array(5)].map((Qe,tt)=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${tt<pe.rating?"text-[#E0B912]":"text-[#CCCCCC]"}`,viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.329 1.14l1.07 3.292c.3.921-.755 1.688-1.539 1.14l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.543-1.838-.219-1.539-1.14l1.07-3.292a1 1 0 00-.329-1.14l-2.8-2.034c-.784-.57-.381-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"})},tt)),n.jsx("span",{className:"ml-2 text-sm font-medium text-[#333333]",children:pe.rating.toFixed(1)})]}),n.jsx("p",{className:"text-[#555555]",children:pe.comment})]},pe.id)),t.reviews.length>gs&&n.jsx("button",{onClick:()=>P(!D),className:"text-[#112d4e] hover:underline mt-4 text-sm",children:D?"Show Less Reviews":"Show All Reviews"})]}),n.jsx("button",{onClick:()=>I(!E),className:"mt-6 px-4 py-2 bg-[#E0B912] text-[#333333] font-semibold rounded-lg hover:bg-[#FACC15] focus:outline-none focus:ring-2 focus:ring-[#E0B912] focus:ring-offset-2 transition duration-200 ease-in-out",children:E?"Cancel Review":"Write a Review"}),E&&n.jsxs("form",{onSubmit:Wt,className:"mt-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium text-[#333333] mb-2",children:"Rating:"}),n.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(pe=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-8 w-8 cursor-pointer ${pe<=k?"text-[#E0B912]":"text-[#CCCCCC]"}`,viewBox:"0 0 20 20",fill:"currentColor",onClick:()=>S(pe),"aria-label":`Rate ${pe} stars`,children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.329 1.14l1.07 3.292c.3.921-.755 1.688-1.539 1.14l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.543-1.838-.219-1.539-1.14l1.07-3.292a1 1 0 00-.329-1.14l-2.8-2.034c-.784-.57-.381-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"})},pe))})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-[#333333] mb-2",children:"Comment:"}),n.jsx("textarea",{id:"comment",className:"w-full p-3 border border-[#CCCCCC] rounded-lg focus:ring-[#E0B912] focus:border-[#E0B912] outline-none text-[#333333] bg-[#F0F0F0]",rows:"4",value:R,onChange:pe=>A(pe.target.value),placeholder:"Share your thoughts on this product..."})]}),n.jsx("button",{type:"submit",className:"px-6 py-3 bg-[#112d4e] text-[#F0F0F0] font-semibold rounded-lg hover:bg-[#007F8B] focus:outline-none focus:ring-2 focus:ring-[#112d4e] focus:ring-offset-2 transition duration-200 ease-in-out",children:"Submit Review"})]})]})]})}),n.jsxs("div",{className:"lg:col-span-1",children:[o.length>0&&n.jsxs("div",{className:"product-info-card mb-6",children:[n.jsx("h2",{className:"font-medium text-[#333333] mb-4",children:"Similar Products"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-1 gap-4",children:o.map(pe=>{const Qe=Array.isArray(pe.variants)&&pe.variants.length>0;let tt=pe.price,Lt=pe.price;if(Qe){const ge=pe.variants.map(Re=>Re.price).filter(Boolean);tt=Math.min(...ge),Lt=Math.max(...ge)}const yt=Qe?[...new Set(pe.variants.map(ge=>ge.color).filter(Boolean))]:[],ue=Qe?[...new Set(pe.variants.map(ge=>ge.size).filter(Boolean))]:[];return n.jsxs("div",{className:"relative",children:[n.jsx(Zr,{product:pe,dailyDeals:r,selectedColor:pe.selectedColor||pe.color||pe.colors&&pe.colors[0]||"",selectedSize:pe.selectedSize||pe.size||pe.sizes&&pe.sizes[0]||"",selectedVariant:pe.selectedVariant||pe.variants&&pe.variants[0]||null,onClick:()=>ys(pe.id),isFavorite:y.includes(pe.id),toggleFavorite:It,cardClassName:"h-[300px]",imageClassName:"!rounded-md h-[900px]",priceClassName:"!text-[#112d4e] h-[400px]",nameClassName:"!text-[#333333]",minPrice:tt,maxPrice:Lt,hasVariants:Qe}),Qe&&n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-600",children:[yt.length>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(hk,{size:14}),yt.length," Color",yt.length>1?"s":""]}),ue.length>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(fk,{size:14}),ue.length," Size",ue.length>1?"s":""]})]})]},pe.id)})})]}),c.length>0&&n.jsxs("div",{className:"product-info-card",children:[n.jsx("h2",{className:"font-medium text-[#333333] mb-4",children:"Recently Viewed"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-1 gap-4",children:c.map(pe=>{const Qe=Array.isArray(pe.variants)&&pe.variants.length>0;let tt=pe.price,Lt=pe.price;if(Qe){const ge=pe.variants.map(Re=>Re.price).filter(Boolean);tt=Math.min(...ge),Lt=Math.max(...ge)}const yt=Qe?[...new Set(pe.variants.map(ge=>ge.color).filter(Boolean))]:[],ue=Qe?[...new Set(pe.variants.map(ge=>ge.size).filter(Boolean))]:[];return n.jsxs("div",{className:"relative",children:[n.jsx(Zr,{product:pe,dailyDeals:r,selectedColor:pe.selectedColor||pe.color||pe.colors&&pe.colors[0]||"",selectedSize:pe.selectedSize||pe.size||pe.sizes&&pe.sizes[0]||"",selectedVariant:pe.selectedVariant||pe.variants&&pe.variants[0]||null,onClick:()=>ys(pe.id),isFavorite:y.includes(pe.id),toggleFavorite:It,cardClassName:"h-[300px]",imageClassName:"!rounded-md h-[900px]",priceClassName:"!text-[#112d4e] h-[400px]",nameClassName:"!text-[#333333]",minPrice:tt,maxPrice:Lt,hasVariants:Qe}),Qe&&n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-600",children:[yt.length>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(hk,{size:14}),yt.length," Color",yt.length>1?"s":""]}),ue.length>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(fk,{size:14}),ue.length," Size",ue.length>1?"s":""]})]})]},pe.id)})})]})]})]}),n.jsx(Bo,{alerts:rt,removeAlert:Rt})]})},mi=()=>n.jsx("div",{className:"flex justify-center items-center h-48",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})}),tne="/assets/empty-cart-zEVFI3ed.svg",sne=({item:r,updateCartQuantity:e,removeFromCart:t})=>{const{convertPrice:s}=sp(),[a,i]=C.useState(Gs),[o,l]=C.useState(null),[c,d]=C.useState({buyerProtectionRate:.08,handlingRate:.2}),[u,f]=C.useState(!1),[m,p]=C.useState(0),[y,x]=C.useState(!1),v=(P,E=1,I=0)=>{const M=I>0?P*I/100:0;return(P-M)*(1+c.buyerProtectionRate+c.handlingRate)*E};C.useEffect(()=>{const P=async()=>{try{const I=Te(J,"feeConfigurations","categoryFees"),M=await ft(I);if(M.exists()){const L=M.data(),z=o?.category||"default";d(L[z]||{buyerProtectionRate:.08,handlingRate:.2})}}catch(I){console.error("Error fetching fee config:",I)}},E=async()=>{if(!r||!r.productId){console.warn("Invalid cart item data:",r),l(null),i(Gs);return}try{const I=Te(J,"products",r.productId),M=await ft(I);if(M.exists()){const L=M.data();l({id:M.id,name:L.name||"Unnamed Product",price:Number(L.price)||0,stock:Number(L.stock)||0,category:L.category?.trim().toLowerCase()||"uncategorized",imageUrls:L.imageUrls||[]});const z=Array.isArray(L.imageUrls)?L.imageUrls.filter($=>typeof $=="string"&&$.startsWith("https://res.cloudinary.com/")):L.imageUrl&&typeof L.imageUrl=="string"&&L.imageUrl.startsWith("https://res.cloudinary.com/")?[L.imageUrl]:[];i(z.length>0?z[0]:Gs);const V=(await dt(Ie(J,"dailyDeals"))).docs.map($=>({id:$.id,...$.data()})).find($=>$.productId===r.productId&&new Date($.endDate)>new Date&&new Date($.startDate)<=new Date);V?(f(!0),p(Number((V.discount*100).toFixed(2)))):(f(!1),p(0))}else console.warn(`Product ${r.productId} not found in Firestore.`),l(null),i(Gs)}catch(I){console.error("Product fetch error for cart item:",r.productId,":",I),l(null),i(Gs)}};P(),E()},[r]);const N=()=>{if(r.quantity<o.stock){const P=r.quantity+1;console.log("Incrementing quantity:",{productId:r.productId,newQuantity:P}),e(r.productId,P)}},k=()=>{if(r.quantity>1){const P=r.quantity-1;console.log("Decrementing quantity:",{productId:r.productId,newQuantity:P}),e(r.productId,P)}};if(!r||!r.productId||!o)return n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-100 rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500 text-xs",children:"Image N/A"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Product Not Found"}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Item ID: ",r?.productId||"Unknown"]}),n.jsx("p",{className:"text-xs text-red-600",children:"This product is no longer available."})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("button",{onClick:()=>t(r?.productId),className:"text-red-500 hover:text-red-700","aria-label":"Remove unavailable product from cart",children:n.jsx("i",{className:"bx bx-trash text-xl"})})})]});const S=o.stock===0,R=v(o.price,r.quantity,u?m:0);typeof r.variant?.price=="number"?r.variant.price:typeof r.price=="number"?r.price:o.price;const A=r.variant?.imageUrl&&typeof r.variant.imageUrl=="string"&&r.variant.imageUrl.startsWith("https://res.cloudinary.com/")?r.variant.imageUrl:r.variants?.length>0&&r.variants[0]?.imageUrls?.length>0&&r.variants[0].imageUrls[0].startsWith("https://res.cloudinary.com/")?r.variants[0].imageUrls[0]:a,D=(P,E=8)=>{const I=P.split(" ");return I.length>E?I.slice(0,E).join(" ")+"":P};return n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-100 rounded-lg",children:[n.jsx(ve,{to:`/product/${o.id}`,children:n.jsxs("div",{className:"relative w-16 h-16",children:[y&&n.jsx("div",{className:"absolute bottom-0 left-0 bg-red-600 text-white text-xs px-1 rounded",children:"Image Failed"}),n.jsx("img",{src:A,alt:o.name,className:"w-16 h-16 object-cover rounded",onError:P=>{y||(console.error("CartItem image load error:",{productId:r.productId,imageUrl:A}),x(!0),P.target.src=Gs)},onLoad:()=>{console.log("CartItem image loaded successfully:",{productId:r.productId,imageUrl:A,name:o.name}),x(!1)},loading:"lazy"})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(ve,{to:`/product/${o.id}`,children:n.jsx("h3",{className:"text-sm font-bold text-gray-800",children:D(o.name)})}),u&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-xs text-blue-600 font-medium",children:n.jsx(hr,{price:R})}),n.jsx("p",{className:"text-xs text-gray-500 line-through",children:n.jsx(hr,{price:v(o.price,r.quantity,0)})})]}),!u&&n.jsx("p",{className:"text-xs text-gray-600",children:n.jsx(hr,{price:R})}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Stock:"," ",n.jsx("span",{className:S?"text-red-600":"text-green-600",children:S?"Out of stock":`${o.stock} units available`})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden",children:[n.jsx("button",{onClick:k,className:`px-1 py-1 text-gray-600 hover:bg-gray-200 transition ${r.quantity<=1||S?"opacity-50 cursor-not-allowed":""}`,disabled:r.quantity<=1||S,"aria-label":`Decrease quantity of ${o.name}`,children:n.jsx("i",{className:"bx bx-minus"})}),n.jsx("span",{className:"px-3 py-1 text-gray-800 font-medium",children:r.quantity}),n.jsx("button",{onClick:N,className:`px-1 py-1 text-gray-600 hover:bg-gray-200 transition ${r.quantity>=o.stock||S?"opacity-50 cursor-not-allowed":""}`,disabled:r.quantity>=o.stock||S,"aria-label":`Increase quantity of ${o.name}`,children:n.jsx("i",{className:"bx bx-plus"})})]}),n.jsx("button",{onClick:()=>{console.log("Removing item:",{productId:r.productId,name:o.name}),t(r.productId)},className:"text-red-500 hover:text-red-700","aria-label":`Remove ${o.name} from cart`,children:n.jsx("i",{className:"bx bx-trash text-xl"})})]})]})},rne=({totalPrice:r,cartItems:e,clearCart:t})=>{const{convertPrice:s}=sp(),a=_s(),[i,o]=C.useState({buyerProtectionRate:.08,handlingRate:.2}),[l,c]=C.useState(25e3);C.useEffect(()=>{const k=async()=>{try{const A=Te(J,"feeConfigurations","categoryFees"),D=await ft(A);if(D.exists()){const I=D.data(),M=e[0]?.product?.category||"default";o(I[M]||{buyerProtectionRate:.08,handlingRate:.2})}const P=Te(J,"settings","minimumPurchase"),E=await ft(P);E.exists()&&c(E.data().amount||25e3)}catch(A){console.error("Error fetching configs:",A)}},S=async()=>{try{return(await dt(Ie(J,"dailyDeals"))).docs.map(P=>({id:P.id,...P.data()})).filter(P=>new Date(P.endDate)>new Date&&new Date(P.startDate)<=new Date)}catch(A){return console.error("Error fetching daily deals:",A),[]}},R=async()=>{const A=await S();e.forEach(D=>{const P=A.find(E=>E.productId===D.product.id);P?(D.isDailyDeal=!0,D.discountPercentage=(P.discount*100).toFixed(2)):(D.isDailyDeal=!1,D.discountPercentage=0)})};e.length>0&&R(),k()},[e]);const d=(k,S=1,R=0)=>{const A=R>0?k*R/100:0;return(k-A)*(1+i.buyerProtectionRate+i.handlingRate)*S},u=e.reduce((k,S)=>k+d(S.product.price||0,S.quantity||1,S.discountPercentage||0),0),f=e.some(k=>k.quantity>(k.product?.stock||0)),m=e.length===0,p=e.reduce((k,S)=>k+(S.quantity||0),0),y=u<l,v=u+0,N=()=>{if(y){alert(`Minimum purchase amount is ${l.toLocaleString("en-NG")} to checkout.`);return}if(p>20){alert("Maximum basket size is 20 items.");return}a("/checkout")};return n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg shadow-sm",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.map((k,S)=>k.isDailyDeal&&n.jsxs("div",{className:"flex justify-between text-xs text-green-600",children:[n.jsxs("span",{children:["Discount on ",k.product.name]}),n.jsxs("span",{children:["-",n.jsx(hr,{price:k.product.price*k.discountPercentage/100*k.quantity})]})]},S)),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal"}),n.jsx("span",{children:n.jsx(hr,{price:u})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Shipping"}),n.jsx("span",{className:"text-green-600 font-semibold",children:"FREE"})]}),n.jsxs("div",{className:"flex justify-between font-bold text-gray-800 border-t pt-2",children:[n.jsx("span",{children:"Grand Total"}),n.jsx("span",{children:n.jsx(hr,{price:v})})]})]}),y&&n.jsxs("p",{className:"text-red-600 text-xs mt-2 bg-red-50 p-2 rounded",children:[" Minimum purchase amount is ",n.jsx(hr,{price:l})," to checkout."]}),p>20&&n.jsx("p",{className:"text-red-600 text-xs mt-2 bg-red-50 p-2 rounded",children:" Maximum basket size is 20 items."}),n.jsxs("div",{className:"mt-4 flex gap-3",children:[n.jsx("button",{onClick:N,className:`flex-1 px-6 py-2 rounded-lg text-white transition ${m||f||y||p>20?"bg-gray-400 cursor-not-allowed":"bg-[#112d4e] hover:bg-[#112d4e]"}`,disabled:m||f||y||p>20,children:"Checkout"}),n.jsx("button",{onClick:t,className:`px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition ${m?"opacity-50 cursor-not-allowed":""}`,disabled:m,children:"Clear Cart"})]})]})},ane=()=>{const r=_s(),[e,t]=C.useState([]),[s,a]=C.useState(null),[i,o]=C.useState(!0),[l,c]=C.useState(null),[d,u]=C.useState(0),[f,m]=C.useState([]);C.useEffect(()=>{const S=()=>{u(window.scrollY)};return window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)},[]),C.useEffect(()=>{(async()=>{try{if(e.length===0){m([]);return}const R=[...new Set(e.map(P=>P.product.category).filter(Boolean))];if(R.length===0){m([]);return}const A=e.map(P=>P.productId),D=[];for(const P of R){const E=Et(Ie(J,"products"),bt("category","==",P),q5(4-D.length));if((await dt(E)).forEach(M=>{const L=M.data();if(!A.includes(M.id)){const z=Array.isArray(L.imageUrls)&&L.imageUrls[0]&&typeof L.imageUrls[0]=="string"&&L.imageUrls[0].startsWith("https://")?L.imageUrls[0]:L.imageUrl&&typeof L.imageUrl=="string"&&L.imageUrl.startsWith("https://")?L.imageUrl:Gs;D.push({id:M.id,name:L.name||"Unnamed Product",price:Number(L.price)||0,imageUrl:z,stock:Number(L.stock)||0})}}),D.length>=4)break}m(D.slice(0,4))}catch(R){console.error("Error fetching recommended products:",R),m([])}})()},[e]),C.useEffect(()=>{const S=Pe.onAuthStateChanged(async A=>{a(A);try{o(!0),c(null);let D=[];A?(await PZ(A.uid),D=await Gi(A.uid)):D=await Gi(),console.log("Raw cart items from getCart:",D);const P=D.map(E=>{if(!E.product)return console.warn("Cart item missing product data:",{productId:E.productId,quantity:E.quantity}),null;const{product:I}=E;let M=I.imageUrl&&typeof I.imageUrl=="string"&&I.imageUrl.startsWith("https://")?I.imageUrl:Array.isArray(I.imageUrls)&&I.imageUrls[0]&&typeof I.imageUrls[0]=="string"&&I.imageUrls[0].startsWith("https://")?I.imageUrls[0]:Gs;return{...E,product:{id:I.id||E.productId,name:I.name||"Unnamed Product",price:Number(I.price)||0,stock:Number(I.stock)||0,category:I.category||"uncategorized",imageUrl:M,rating:I.rating||Math.random()*2+3,colors:I.colors||[],sizes:I.sizes||[],condition:I.condition||"New",sellerId:I.sellerId||""}}}).filter(E=>E?E.product.imageUrl&&typeof E.product.imageUrl=="string"&&(E.product.imageUrl.startsWith("https://")||E.product.imageUrl===Gs)?!0:(console.warn("Filtered out cart item with invalid imageUrl:",{productId:E.productId,name:E.product.name,imageUrl:E.product.imageUrl}),!1):(console.warn("Filtered out invalid cart item"),!1));console.log("Normalized cart items:",P),t(P),P.length===0&&c("Your cart is empty.")}catch(D){console.error("Error loading cart:",{message:D.message,code:D.code}),c("Failed to load cart. Please try again."),t([]),Me.error("Failed to load cart")}finally{o(!1)}}),R=async()=>{try{const A=await Gi(s?.uid);console.log("Raw cart items from handleCartUpdate:",A);const D=A.map(P=>{if(!P.product)return console.warn("Cart item missing product data:",{productId:P.productId,quantity:P.quantity}),null;const{product:E}=P;let I=E.imageUrl&&typeof E.imageUrl=="string"&&E.imageUrl.startsWith("https://")?E.imageUrl:Array.isArray(E.imageUrls)&&E.imageUrls[0]&&typeof E.imageUrls[0]=="string"&&E.imageUrls[0].startsWith("https://")?E.imageUrls[0]:Gs;return{...P,product:{id:E.id||P.productId,name:E.name||"Unnamed Product",price:Number(E.price)||0,stock:Number(E.stock)||0,category:E.category||"uncategorized",imageUrl:I,rating:E.rating||Math.random()*2+3,colors:E.colors||[],sizes:E.sizes||[],condition:E.condition||"New",sellerId:E.sellerId||""}}}).filter(P=>P?P.product.imageUrl&&typeof P.product.imageUrl=="string"&&(P.product.imageUrl.startsWith("https://")||P.product.imageUrl===Gs)?!0:(console.warn("Filtered out cart item with invalid imageUrl:",{productId:P.productId,name:P.product.name,imageUrl:P.product.imageUrl}),!1):!1);t(D),D.length===0?c("Your cart is empty."):c(null)}catch(A){console.error("Error updating cart:",{message:A.message,code:A.code}),c("Failed to update cart."),Me.error("Failed to update cart")}};return window.addEventListener("cartUpdated",R),()=>{S(),window.removeEventListener("cartUpdated",R)}},[s]);const p=async(S,R)=>{if(!(R<1))try{const A=e.find(P=>P.productId===S);if(A&&A.product&&R>A.product.stock){Me.error(`Cannot add more than ${A.product.stock} units of ${A.product.name}`);return}const D=e.map(P=>P.productId===S?{...P,quantity:R}:P);await Ad(D,s?.uid),t(D),Me.success("Quantity updated")}catch(A){console.error("Error updating quantity:",{message:A.message,code:A.code}),Me.error("Failed to update quantity")}},y=async S=>{try{const R=e.filter(A=>A.productId!==S);await Ad(R,s?.uid),t(R),Me.success("Item removed from cart"),R.length===0&&c("Your cart is empty.")}catch(R){console.error("Error removing item:",{message:R.message,code:R.code}),Me.error("Failed to remove item")}},x=async()=>{try{await mv(s?.uid),t([]),c("Your cart is empty."),Me.success("Cart cleared successfully")}catch(S){console.error("Error clearing cart:",{message:S.message,code:S.code}),Me.error("Failed to clear cart")}},v=async()=>{if(!s){Me.error("Please log in to checkout"),r("/login");return}try{await TZ(s.uid),Me.success("Order placed successfully!"),r("/orders")}catch(S){console.error("Error during checkout:",{message:S.message,code:S.code}),Me.error(S.message||"Checkout failed")}},N=async S=>{try{const R=e.find(E=>E.productId===S.id),A=R?R.quantity+1:1;if(A>S.stock){Me.error(`Cannot add more than ${S.stock} units of ${S.name}`);return}const D={productId:S.id,quantity:A,product:{id:S.id,name:S.name,price:S.price,stock:S.stock,category:S.category||"uncategorized",imageUrl:S.imageUrl}},P=R?e.map(E=>E.productId===S.id?{...E,quantity:A}:E):[...e,D];await Bm(D,s?.uid),t(P),Me.success(`${S.name} added to cart`)}catch(R){console.error("Error adding to cart:",R),Me.error("Failed to add item to cart")}},k=e.reduce((S,R)=>S+(R.product?.price||0)*R.quantity,0);return i?n.jsxs("div",{className:"p-4 text-gray-600 text-center",children:[n.jsx(mi,{}),"Loading..."]}):n.jsxs("div",{className:"mb-10 container mx-auto px-4 py-8 min-h-screen",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Your Cart"}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsxs("div",{className:"lg:w-2/3",children:[l&&e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx("img",{src:tne,alt:"Empty Cart",className:"h-[420px] m-3",onError:S=>{console.warn("Failed to load empty cart image:",S.target.src),S.target.src=Gs}}),n.jsxs("p",{className:"text-gray-600 m-3 text-md",children:[l,n.jsx(ve,{to:"/products",className:"underline text-blue-500 ml-1",children:"Shop Now"})]})]}):n.jsx("div",{className:"space-y-4",children:e.map(S=>n.jsx(sne,{item:S,updateCartQuantity:p,removeFromCart:y},S.productId))}),f.length>0&&n.jsxs("div",{className:"mt-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Customers Also Viewed"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:f.map(S=>n.jsxs("div",{className:"border rounded-lg p-4 bg-white shadow-sm hover:shadow-md transition",children:[n.jsxs(ve,{to:`/product/${S.id}`,children:[n.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-full h-40 object-cover rounded mb-2",onError:R=>{console.warn("Failed to load recommended product image:",S.imageUrl),R.target.src=Gs}}),n.jsx("h3",{className:"text-sm font-semibold text-gray-800 truncate",children:S.name})]}),n.jsx("p",{className:"text-xs text-gray-600",children:n.jsx(hr,{price:S.price})}),n.jsx("button",{onClick:()=>N(S),className:`mt-2 w-full px-4 py-2 text-sm text-white rounded-lg transition ${S.stock===0?"bg-gray-400 cursor-not-allowed":"bg-[#112d4e] hover:bg-[#0f2a44]"}`,disabled:S.stock===0,children:S.stock===0?"Out of Stock":"Add to Cart"})]},S.id))})]})]}),n.jsx("div",{className:"lg:w-1/3",children:n.jsx(rne,{totalPrice:k,handleCheckout:v,cartItems:e,clearCart:x,isFixed:d>200})})]})]})},BI=(r,e)=>{const t=[r,e].filter(l=>l?.trim()),s=t[0]?.slice(0,4).toLowerCase()||"user",a=t[1]?.slice(0,3).toLowerCase()||"",i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return(s+a).replace(/[^a-z0-9]/g,"")+i};function Ud(){const[r,e]=C.useState({firstName:"",lastName:"",username:"guest",email:"",profileImage:localStorage.getItem("profileImage")||null}),t="https://via.placeholder.com/150?text=Profile";C.useEffect(()=>{const a=Pe.onAuthStateChanged(async l=>{if(!l){e({firstName:"",lastName:"",username:"guest",email:"",profileImage:null});return}try{const c=Te(J,"users",l.uid),d=is(c,u=>{if(u.exists()){const f=u.data();e(m=>({...m,firstName:f.firstName||"",lastName:f.lastName||"",username:f.username||BI(f.firstName||"",f.lastName||""),email:l.email||""}))}});return()=>d()}catch(c){console.error("Error fetching sidebar data:",c)}}),i=()=>{e(l=>({...l,profileImage:localStorage.getItem("profileImage")||null}))},o=()=>{const l=JSON.parse(localStorage.getItem("userData"));l&&e(c=>({...c,firstName:l.firstName||c.firstName,lastName:l.lastName||c.lastName,username:l.username||BI(l.firstName||"",l.lastName||""),email:l.email||c.email}))};return window.addEventListener("profileImageUpdated",i),window.addEventListener("userDataUpdated",o),()=>{a(),window.removeEventListener("profileImageUpdated",i),window.removeEventListener("userDataUpdated",o)}},[]);const s=()=>r.profileImage?n.jsx("img",{src:r.profileImage,alt:"Profile",className:"w-full h-full object-cover",onError:()=>{e(a=>({...a,profileImage:t}))}}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300 text-white text-lg font-bold uppercase rounded-full",children:r.email[0]||"?"});return n.jsxs("div",{className:"md:w-1/4 dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-100 dark:border-black",children:[n.jsxs("div",{className:"flex flex-col items-center mb-6 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto flex items-center justify-center overflow-hidden hover:bg-gray-300 transition-colors duration-300",children:s()}),n.jsxs("h3",{className:"mt-2 text-lg font-semibold text-gray-800 dark:text-gray-200",children:[r.firstName," ",r.lastName||""]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:r.username})]}),n.jsxs("nav",{className:"flex flex-col space-y-2",children:[n.jsxs(ve,{to:"/profile",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-blue-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(tc,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"Profile"})]}),n.jsxs(ve,{to:"/orders",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-green-100 dark:hover:bg-green-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(Cd,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"Orders"})]}),n.jsxs(ve,{to:"/order-tracking",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-green-100 dark:hover:bg-green-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(Ese,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"Track Orders"})]}),n.jsxs(ve,{to:"/favorites",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-red-100 dark:hover:bg-red-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(jF,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"Favorites"})]}),n.jsxs(ve,{to:"/address",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-purple-100 dark:hover:bg-purple-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(yre,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"Addresses"})]}),n.jsxs(ve,{to:"/setting",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-orange-100 dark:hover:bg-orange-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(XS,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"Settings"})]}),n.jsxs(ve,{to:"/chat-overview",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-orange-100 dark:hover:bg-orange-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(CF,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"All Chats"})]}),n.jsxs(ve,{to:"/sell",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-orange-100 dark:hover:bg-orange-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(ure,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"My Dashbaord"})]})]})]})}function nne(){const[r,e]=C.useState(!0),[t,s]=C.useState(""),[a,i]=C.useState(!1),[o,l]=C.useState(null),[c,d]=C.useState([]),[u,f]=C.useState([]),m=5;C.useEffect(()=>{const y=Pe.onAuthStateChanged(async x=>{if(e(!0),!x){console.log("No authenticated user"),s("Please sign in to view your wishlist."),i(!0),d([]),f([]),e(!1);return}try{console.log("Fetching data for user:",x.uid);const v=localStorage.getItem("userData");let N={};v&&(N=JSON.parse(v)),l({email:x.email||"test@example.com",name:x.displayName||"User",profileImage:N.profileImage||null,createdAt:N.createdAt||null,address:N.address||"Not provided",uid:x.uid}),console.log("Querying favorites for user:",x.uid);const k=Et(Ie(J,"favorites"),bt("userId","==",x.uid)),R=(await dt(k)).docs.map(P=>(console.log("Favorite doc:",P.id,P.data()),{id:P.id,...P.data()}));d(R);const A=R.map(async P=>{const E=await ft(Te(J,"products",P.productId));if(E.exists()){const I=E.data();return{id:E.id,name:I.name,description:I.description||"",price:I.price,stock:I.stock||0,category:I.category?.trim().toLowerCase()||"",colors:I.colors||[],sizes:I.category?.trim().toLowerCase()==="foremade fashion"?I.sizes||[]:[],condition:I.condition||"",imageUrls:I.imageUrls||[],seller:I.seller||{name:"Unknown Seller"},rating:I.rating||Math.random()*2+3}}return console.warn("Product not found for favorite:",P.productId),null}),D=(await Promise.all(A)).filter(P=>P!==null);f(D)}catch(v){console.error("Error fetching favorites:",v.code,v.message,v.stack),s("Failed to load wishlist: "+(v.message||"Unknown error"))}finally{e(!1)}});return()=>y()},[]);const p=async(y,x)=>{if(!Pe.currentUser){s("Please sign in to manage your wishlist."),i(!0);return}try{console.log("Removing favorite:",y,"for user:",Pe.currentUser.uid);const v=await ft(Te(J,"favorites",y));if(!v.exists()){console.warn("Favorite not found:",y);return}if(v.data().userId!==Pe.currentUser.uid){console.error("Cannot delete favorite with mismatched userId:",v.data()),s("Permission denied: Cannot remove this favorite.");return}await ra(Te(J,"favorites",y)),d(N=>N.filter(k=>k.id!==y)),f(N=>N.filter(k=>k.id!==x)),console.log("Removed favorite:",y)}catch(v){console.error("Error removing favorite:",v.code,v.message,v.stack),s("Failed to remove item from wishlist: "+(v.message||"Unknown error"))}};return r?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(mi,{}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]}):t?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-red-600",children:t}),a?n.jsx(ve,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"}):n.jsx("button",{onClick:()=>{s(""),e(!0)},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]}):n.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx(Ud,{userData:o,orderCount:m,wishlistCount:c.length}),n.jsx("div",{className:"md:w-3/4",children:n.jsxs("div",{className:"rounded-lg p-6  bg-gray-100",children:[n.jsx("div",{className:"flex justify-between items-center mb-4",children:n.jsx("h3",{className:"text-lg font-semibold",children:"Favorites"})}),u.length===0?n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block p-4 rounded-full mb-2 bg-gray-100",children:n.jsx("span",{className:"text-2xl",children:n.jsx(nre,{})})}),n.jsx("p",{className:"text-gray-400",children:"No items in your wish list!"})]}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4",children:u.map(y=>n.jsxs("div",{className:"relative",children:[n.jsx(Zr,{product:{...y,imageUrl:y.imageUrls[0]||""}}),n.jsx("button",{onClick:()=>{const x=c.find(v=>v.productId===y.id);x&&p(x.id,y.id)},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",title:"Remove from Wishlist",children:n.jsx("i",{className:"bx bx-x"})})]},y.id))})]})})]})})}function ine(){const[r,e]=C.useState(!0),[t,s]=C.useState(""),[a,i]=C.useState(!1),[o,l]=C.useState(null),[c,d]=C.useState(localStorage.getItem("profileImage")||"https://i.pinimg.com/736x/de/b8/39/deb839cd82447631bd413229b2bfc33d.jpg"),[u,f]=C.useState(null);C.useEffect(()=>{const p=Pe.onAuthStateChanged(async x=>{if(e(!0),!x){s("Please sign in to view your profile."),i(!0),e(!1);return}try{const v=Te(J,"users",x.uid),N=is(v,k=>{if(k.exists()){const S=k.data(),R=S.addresses||[];l({email:x.email||"test@example.com",username:S.username||x.displayName||"emmachi789",name:S.name||x.displayName||"Emmanuel Chinecherem",createdAt:S.createdAt||"2025-05-04T23:28:48.857Z",address:R[0]?.street?`${R[0].street}, ${R[0].city}, ${R[0].state}, ${R[0].postalCode}, ${R[0].country}`:"Not provided",country:S.country||"Nigeria",phone:S.phoneNumber||"Not Provided",uid:x.uid})}else s("User profile not found.")});return e(!1),()=>N()}catch(v){v.code==="permission-denied"?(s("You do not have permission to view this profile."),i(!0)):s("Failed to load profile. Please try again."),e(!1)}}),y=()=>{d(localStorage.getItem("profileImage")||"https://i.pinimg.com/736x/de/b8/39/deb839cd82447631bd413229b2bfc33d.jpg")};return window.addEventListener("profileImageUpdated",y),()=>{p(),window.removeEventListener("profileImageUpdated",y)}},[]);const m=p=>{if(!p)return"Not available";try{return new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(y){return console.error("Error formatting date:",y),"Invalid date"}};return r?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(mi,{}),n.jsx("p",{className:"text-gray-600 mt-4",children:"Loading your profile..."})]}):t?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:t}),a?n.jsx(ve,{to:"/login",className:"text-blue-600 hover:underline inline-block",children:"Go to Login"}):n.jsx("button",{onClick:()=>{s(""),e(!0)},className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 shadow-md",children:"Retry"})]}):o?n.jsx("div",{className:"container mx-auto px-4 py-8 text-primary-color",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx(Ud,{}),n.jsxs("div",{className:"md:w-3/4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[n.jsx("div",{className:"rounded-lg p-4 text-center bg-gradient-to-br from-background-light to-white border border-border-light cursor-pointer",children:n.jsxs(ve,{to:"/orders",className:"block",children:[n.jsx("i",{className:"bx bx-package text-2xl text-secondary-color mb-2"}),n.jsx("p",{className:"text-primary-color/60",children:"Orders"})]})}),n.jsx("div",{className:"rounded-lg p-4 text-center bg-gradient-to-br from-background-light to-white border border-border-light cursor-pointer",children:n.jsxs(ve,{to:"/favorites",className:"block",children:[n.jsx("i",{className:"bx bx-heart text-2xl text-secondary-color mb-2"}),n.jsx("p",{className:"text-primary-color/60",children:"Wish List"})]})}),n.jsxs("div",{className:"rounded-lg p-4 text-center bg-gradient-to-br from-background-light to-white border border-border-light cursor-pointer",children:[n.jsx("i",{className:"bx bx-star text-2xl text-accent-color mb-2"}),n.jsx("p",{className:"text-primary-color/60",children:"Loyalty Points"})]})]}),n.jsxs("div",{className:"rounded-lg p-6 mb-6 bg-background-light border border-border-light shadow-sm",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-color",children:"Personal Details"}),n.jsxs(ve,{to:"/setting",className:"flex items-center px-4 py-2 rounded-lg bg-accent-color/10 text-accent-color hover:bg-accent-color/20 transition duration-200",children:[n.jsx("i",{className:"bx bx-edit mr-1"})," Edit Profile"]})]}),n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"w-24 h-24 bg-background-light rounded-full flex items-center justify-center overflow-hidden border-2 border-secondary-color shadow-lg",children:n.jsx("img",{src:c,alt:"Profile",className:"w-full h-full object-cover",onError:p=>{p.target.src="https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"}})}),n.jsxs("div",{className:"ml-2",children:[n.jsx("h2",{className:"text-xl font-bold text-primary-color",children:o.name}),n.jsxs("p",{className:"text-primary-color/60",children:["Member since ",m(o.createdAt)]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{label:"Username",value:o.username},{label:"First Name",value:o.name.split(" ")[0]},{label:"Last Name",value:o.name.split(" ").slice(1).join(" ")||"-"},{label:"Email",value:o.email,icon:"bx-check-circle",iconColor:"text-secondary-color"},{label:"Country",value:o.country},{label:"Phone",value:o.phone},{label:"Date Joined",value:m(o.createdAt)},{label:"Address",value:o.address}].map((p,y)=>n.jsx("div",{className:"group",children:n.jsxs("div",{className:"p-3 rounded-lg bg-background-light border border-border-light",children:[n.jsx("p",{className:"text-primary-color/60 text-sm",children:p.label}),n.jsxs("p",{className:"font-semibold text-primary-color flex items-center",children:[p.value,p.icon&&n.jsx("i",{className:`bx ${p.icon} ml-2 ${p.iconColor}`})]})]})},y))})]}),n.jsxs("div",{className:"rounded-lg p-6 mb-6 bg-background-light border border-border-light shadow-sm",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-color",children:"User Address"}),n.jsxs(ve,{to:"/setting",className:"flex items-center px-4 py-2 rounded-lg bg-accent-color/10 text-accent-color hover:bg-accent-color/20 transition duration-200",children:[n.jsx("i",{className:"bx bx-map mr-1"})," Update Address"]})]}),n.jsx("div",{className:"p-4 bg-background-light rounded-lg border border-border-light",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("i",{className:"bx bx-map-pin text-secondary-color mr-2 text-xl mt-1"}),n.jsx("p",{className:"font-semibold text-primary-color",children:o.address})]})})]})]})]})}):n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:"User data not available."}),n.jsx("button",{onClick:()=>e(!0),className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 shadow-md",children:"Retry"})]})}var FF="basil",one=function(e){return e===3?"v3":e},UF="https://js.stripe.com",lne="".concat(UF,"/").concat(FF,"/stripe.js"),cne=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,dne=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var une=function(e){return cne.test(e)||dne.test(e)},hne=function(){for(var e=document.querySelectorAll('script[src^="'.concat(UF,'"]')),t=0;t<e.length;t++){var s=e[t];if(une(s.src))return s}return null},VI=function(e){var t="",s=document.createElement("script");s.src="".concat(lne).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},fne=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})},sm=null,e0=null,t0=null,mne=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},gne=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},pne=function(e){return sm!==null?sm:(sm=new Promise(function(t,s){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var a=hne();if(!(a&&e)){if(!a)a=VI(e);else if(a&&t0!==null&&e0!==null){var i;a.removeEventListener("load",t0),a.removeEventListener("error",e0),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=VI(e)}}t0=gne(t,s),e0=mne(s),a.addEventListener("load",t0),a.addEventListener("error",e0)}catch(o){s(o);return}}),sm.catch(function(t){return sm=null,Promise.reject(t)}))},xne=function(e,t,s){if(e===null)return null;var a=t[0],i=a.match(/^pk_test/),o=one(e.version),l=FF;i&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,t);return fne(c,s),c},rm,zF=!1,BF=function(){return rm||(rm=pne(null).catch(function(e){return rm=null,Promise.reject(e)}),rm)};Promise.resolve().then(function(){return BF()}).catch(function(r){zF||console.warn(r)});var bne=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];zF=!0;var a=Date.now();return BF().then(function(i){return xne(i,t,a)})},vN={exports:{}},wN,HI;function yne(){if(HI)return wN;HI=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wN=r,wN}var NN,$I;function vne(){if($I)return NN;$I=1;var r=yne();function e(){}function t(){}return t.resetWarningCache=e,NN=function(){function s(o,l,c,d,u,f){if(f!==r){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}s.isRequired=s;function a(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},NN}var qI;function VF(){return qI||(qI=1,vN.exports=vne()()),vN.exports}var wne=VF();const cs=Dg(wne);function WI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,s)}return t}function YI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(t),!0).forEach(function(s){HF(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):WI(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function Cb(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cb=function(e){return typeof e}:Cb=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(r)}function HF(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Nne(r,e){if(r==null)return{};var t={},s=Object.keys(r),a,i;for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function jne(r,e){if(r==null)return{};var t=Nne(r,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function $F(r,e){return kne(r)||Sne(r,e)||_ne(r,e)||Ane()}function kne(r){if(Array.isArray(r))return r}function Sne(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var s=[],a=!0,i=!1,o,l;try{for(t=t.call(r);!(a=(o=t.next()).done)&&(s.push(o.value),!(e&&s.length===e));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&t.return!=null&&t.return()}finally{if(i)throw l}}return s}}function _ne(r,e){if(r){if(typeof r=="string")return GI(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return GI(r,e)}}function GI(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=r[t];return s}function Ane(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bn=function(e,t,s){var a=!!s,i=js.useRef(s);js.useEffect(function(){i.current=s},[s]),js.useEffect(function(){if(!a||!e)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return e.on(t,o),function(){e.off(t,o)}},[a,t,e,i])},mk=function(e){var t=js.useRef(e);return js.useEffect(function(){t.current=e},[e]),t.current},yh=function(e){return e!==null&&Cb(e)==="object"},Cne=function(e){return yh(e)&&typeof e.then=="function"},Ene=function(e){return yh(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},XI="[object Object]",Tne=function r(e,t){if(!yh(e)||!yh(t))return e===t;var s=Array.isArray(e),a=Array.isArray(t);if(s!==a)return!1;var i=Object.prototype.toString.call(e)===XI,o=Object.prototype.toString.call(t)===XI;if(i!==o)return!1;if(!i&&!s)return e===t;var l=Object.keys(e),c=Object.keys(t);if(l.length!==c.length)return!1;for(var d={},u=0;u<l.length;u+=1)d[l[u]]=!0;for(var f=0;f<c.length;f+=1)d[c[f]]=!0;var m=Object.keys(d);if(m.length!==l.length)return!1;var p=e,y=t,x=function(N){return r(p[N],y[N])};return m.every(x)},qF=function(e,t,s){return yh(e)?Object.keys(e).reduce(function(a,i){var o=!yh(t)||!Tne(e[i],t[i]);return s.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?YI(YI({},a||{}),{},HF({},i,e[i])):a},null):null},WF="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",KI=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WF;if(e===null||Ene(e))return e;throw new Error(t)},Pne=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WF;if(Cne(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return KI(a,t)})};var s=KI(e,t);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},Rne=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.9.2"}),e.registerAppInfo({name:"react-stripe-js",version:"3.9.2",url:"https://stripe.com/docs/stripe-js/react"}))},yv=js.createContext(null);yv.displayName="ElementsContext";var YF=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},GF=function(e){var t=e.stripe,s=e.options,a=e.children,i=js.useMemo(function(){return Pne(t)},[t]),o=js.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(s):null}}),l=$F(o,2),c=l[0],d=l[1];js.useEffect(function(){var m=!0,p=function(x){d(function(v){return v.stripe?v:{stripe:x,elements:x.elements(s)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(y){y&&m&&p(y)}):i.tag==="sync"&&!c.stripe&&p(i.stripe),function(){m=!1}},[i,c,s]);var u=mk(t);js.useEffect(function(){u!==null&&u!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,t]);var f=mk(s);return js.useEffect(function(){if(c.elements){var m=qF(s,f,["clientSecret","fonts"]);m&&c.elements.update(m)}},[s,f,c.elements]),js.useEffect(function(){Rne(c.stripe)},[c.stripe]),js.createElement(yv.Provider,{value:c},a)};GF.propTypes={stripe:cs.any,options:cs.object};var Ine=function(e){var t=js.useContext(yv);return YF(t,e)},Dne=function(){var e=Ine("calls useElements()"),t=e.elements;return t};cs.func.isRequired;var XF=js.createContext(null);XF.displayName="CheckoutSdkContext";var Mne=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},One=js.createContext(null);One.displayName="CheckoutContext";cs.any,cs.shape({fetchClientSecret:cs.func.isRequired,elementsOptions:cs.object}).isRequired;var gk=function(e){var t=js.useContext(XF),s=js.useContext(yv);if(t&&s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?Mne(t,e):YF(s,e)},Lne=["mode"],Fne=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Br=function(e,t){var s="".concat(Fne(e),"Element"),a=function(c){var d=c.id,u=c.className,f=c.options,m=f===void 0?{}:f,p=c.onBlur,y=c.onFocus,x=c.onReady,v=c.onChange,N=c.onEscape,k=c.onClick,S=c.onLoadError,R=c.onLoaderStart,A=c.onNetworksChange,D=c.onConfirm,P=c.onCancel,E=c.onShippingAddressChange,I=c.onShippingRateChange,M=gk("mounts <".concat(s,">")),L="elements"in M?M.elements:null,z="checkoutSdk"in M?M.checkoutSdk:null,F=js.useState(null),V=$F(F,2),$=V[0],Y=V[1],X=js.useRef(null),ee=js.useRef(null);bn($,"blur",p),bn($,"focus",y),bn($,"escape",N),bn($,"click",k),bn($,"loaderror",S),bn($,"loaderstart",R),bn($,"networkschange",A),bn($,"confirm",D),bn($,"cancel",P),bn($,"shippingaddresschange",E),bn($,"shippingratechange",I),bn($,"change",v);var W;x&&(e==="expressCheckout"?W=x:W=function(){x($)}),bn($,"ready",W),js.useLayoutEffect(function(){if(X.current===null&&ee.current!==null&&(L||z)){var G=null;if(z)switch(e){case"payment":G=z.createPaymentElement(m);break;case"address":if("mode"in m){var te=m.mode,re=jne(m,Lne);if(te==="shipping")G=z.createShippingAddressElement(re);else if(te==="billing")G=z.createBillingAddressElement(re);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":G=z.createExpressCheckoutElement(m);break;case"currencySelector":G=z.createCurrencySelectorElement();break;case"taxId":G=z.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else L&&(G=L.create(e,m));X.current=G,Y(G),G&&G.mount(ee.current)}},[L,z,m]);var B=mk(m);return js.useEffect(function(){if(X.current){var G=qF(m,B,["paymentRequest"]);G&&"update"in X.current&&X.current.update(G)}},[m,B]),js.useLayoutEffect(function(){return function(){if(X.current&&typeof X.current.destroy=="function")try{X.current.destroy(),X.current=null}catch{}}},[]),js.createElement("div",{id:d,className:u,ref:ee})},i=function(c){gk("mounts <".concat(s,">"));var d=c.id,u=c.className;return js.createElement("div",{id:d,className:u})},o=t?i:a;return o.propTypes={id:cs.string,className:cs.string,onChange:cs.func,onBlur:cs.func,onFocus:cs.func,onReady:cs.func,onEscape:cs.func,onClick:cs.func,onLoadError:cs.func,onLoaderStart:cs.func,onNetworksChange:cs.func,onConfirm:cs.func,onCancel:cs.func,onShippingAddressChange:cs.func,onShippingRateChange:cs.func,options:cs.object},o.displayName=s,o.__elementType=e,o},Vr=typeof window>"u",Une=js.createContext(null);Une.displayName="EmbeddedCheckoutProviderContext";var zne=function(){var e=gk("calls useStripe()"),t=e.stripe;return t};Br("auBankAccount",Vr);var ZI=Br("card",Vr);Br("cardNumber",Vr);Br("cardExpiry",Vr);Br("cardCvc",Vr);Br("fpxBank",Vr);Br("iban",Vr);Br("idealBank",Vr);Br("p24Bank",Vr);Br("epsBank",Vr);Br("payment",Vr);Br("expressCheckout",Vr);Br("currencySelector",Vr);Br("paymentRequestButton",Vr);Br("linkAuthentication",Vr);Br("address",Vr);Br("shippingAddress",Vr);Br("paymentMethodMessaging",Vr);Br("affirmMessage",Vr);Br("afterpayClearpayMessage",Vr);Br("taxId",Vr);const KF=({email:r,amount:e,onSuccess:t,onClose:s,disabled:a,buttonText:i,className:o,iconClass:l,sellerId:c,handlingFee:d,buyerProtectionFee:u})=>{const[f,m]=C.useState(!1),[p,y]=C.useState(!1);C.useEffect(()=>{const v=document.createElement("script");return v.src="https://js.paystack.co/v1/inline.js",v.async=!0,v.onload=()=>y(!0),v.onerror=()=>{Me.error("Failed to load Paystack script."),y(!1)},document.body.appendChild(v),()=>{document.body.removeChild(v)}},[]);const x=async()=>{if(!p||!window.PaystackPop){Me.error("Paystack not loaded.");return}if(!r||!e||e<=0||!c){Me.error("Valid email, amount, and seller ID required.");return}m(!0);try{const v="https://foremade-backend.onrender.com",N=Math.round(e),k={amount:N,email:r,currency:"NGN",metadata:{userId:Pe.currentUser?.uid||"anonymous",orderId:`order-${Date.now()}`,sellerId:c,handlingFee:d||0,buyerProtectionFee:u||0}};console.log("Sending payload to backend:",k);const{data:S}=await os.post(`${v}/initiate-paystack-payment`,k);console.log("Backend response:",S),window.PaystackPop.setup({key:"pk_live_80ce5e6562afd9418a07b2fd2f1a261dbb62a9bd",email:r,amount:N,currency:"NGN",ref:S.reference,callback:A=>{console.log("Paystack callback:",A),t(A),m(!1)},onClose:()=>{console.log("Paystack iframe closed"),s(),m(!1)}}).openIframe()}catch(v){console.error("Paystack payment error:",{message:v.message,code:v.code,response:v.response?.data});const N=v.code==="ERR_NETWORK"?"Cannot connect to server. Ensure backend is running.":v.response?.data?.error||v.response?.data?.message||"Payment failed. Please try again.";Me.error(N),m(!1)}};return n.jsxs("button",{onClick:x,disabled:a||f||!p,className:`paystack-button ${o}`,children:[l&&n.jsx("i",{className:l}),f?"Processing...":i]})},Bne="/assets/card-B58Cq-kn.png",Vne={background:"#22c55e",color:"#fff",fontWeight:"bold",borderRadius:"8px",padding:"16px"},Hne=bne("pk_live_51Ip94DC0iVaIHuVsCRhjlgXNMR2JOFCWTwVLbZPnaINYdEvaaMsLn0f6ObPMQnmqrbpaSc1Ui9nzfGvsB4HfJCmL009G3nCUwC"),QI=(r,e=5e3)=>new Promise(t=>{const s=new Image;s.src=r,s.onload=()=>t(!0),s.onerror=()=>t(!1),setTimeout(()=>t(!1),e)}),$ne=()=>n.jsx("div",{className:"flex justify-between mb-8",children:["Cart","Shipping","Payment","Confirmation"].map((r,e)=>n.jsxs("div",{className:"flex-1 text-center",children:[n.jsx("div",{className:`w-8 h-8 mx-auto rounded-full flex items-center justify-center ${e<2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:e+1}),n.jsx("p",{className:"text-sm mt-2 text-gray-600",children:r})]},r))}),qne=({isOpen:r,onConfirm:e,onCancel:t})=>r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Confirm Order"}),n.jsx("i",{className:"bx bx-loader bx-spin text-3xl"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Are you sure you want to place this order and clear your cart?"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:e,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Confirm"}),n.jsx("button",{onClick:t,className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-100 transition",children:"Cancel"})]})]})}),Wne=({totalPrice:r,formData:e,cart:t,onSuccess:s,onCancel:a,currency:i,setIsProcessing:o})=>{const l=zne(),c=Dne(),[d,u]=C.useState(!1),f=async m=>{if(m.preventDefault(),!l||!c){Me.error("Stripe not loaded. Please try again.",{position:"top-right",autoClose:3e3});return}u(!0),o(!0);try{const p=Math.round(r*100);if(!p||p<=0)throw new Error("Invalid amount: must be greater than zero");const y=t[0]?.product?.sellerId||"default-seller-id";(!y||y==="default-seller-id")&&(console.warn("No valid sellerId found in cart, using default"),Me.warn("No seller specified. Using default seller.",{position:"top-right",autoClose:3e3}));const x={userId:Pe.currentUser?.uid||"anonymous",orderId:`order-${Date.now()}`,sellerId:y,handlingFee:t.reduce((S,R)=>S+(R.product?.totalPrice?R.product.totalPrice*(R.product?.handlingRate||.2):0)*(R.quantity||0),0)*100,buyerProtectionFee:t.reduce((S,R)=>S+(R.product?.totalPrice?R.product.totalPrice*(R.product?.buyerProtectionRate||.08):0)*(R.quantity||0),0)*100,taxFee:0};console.log("Sending payload to /create-payment-intent:",{amount:p,currency:i.toLowerCase(),metadata:x});const v="https://foremade-backend.onrender.com";let N=3,k=null;for(;N>0;)try{const{data:S}=await os.post(`${v}/create-payment-intent`,{amount:p,currency:i.toLowerCase(),metadata:x},{headers:{Authorization:`Bearer ${await Pe.currentUser.getIdToken()}`,"Content-Type":"application/json"},timeout:15e3}),{error:R,paymentIntent:A}=await l.confirmCardPayment(S.clientSecret,{payment_method:{card:c.getElement(ZI),billing_details:{name:e.name,email:e.email,phone:e.phone,address:{line1:e.address,city:e.city,postal_code:e.postalCode,country:i==="GBP"?"GB":"NG"}}}});if(R)throw new Error(R.message);if(A.status==="succeeded"){await s(A),u(!1),o(!1);return}}catch(S){if(k=S,N--,S.code!=="ECONNABORTED"||N===0)throw S;Me.warn(`Retrying payment (${N} attempts left)...`,{position:"top-right",autoClose:2e3}),await new Promise(R=>setTimeout(R,2e3))}throw k||new Error("Payment failed after retries.")}catch(p){console.error("Stripe payment error:",{message:p.message,code:p.code,response:p.response?.data}),console.log("Logging to Sentry:",p),Me.error(p.code==="ECONNABORTED"?"Payment timed out. Please try again or check your connection.":p.response?.data?.error||p.message||"Payment failed. Try again.",{position:"top-right",autoClose:3e3}),u(!1),o(!1)}};return n.jsxs("form",{onSubmit:f,className:"mt-6 space-y-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Details"}),n.jsx(ZI,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},className:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:d||!l||!c,className:`flex-1 py-3 px-4 rounded-lg text-white text-sm font-medium transition duration-200 shadow transform hover:scale-105 ${d||!l||!c?"bg-gray-400 cursor-not-allowed":"bg-[#112d4e] hover:bg-[#0e2740]"}`,"aria-label":"Checkout",children:d?"Processing...":`Pay ${i} ${r.toLocaleString("en-US",{minimumFractionDigits:2})}`}),n.jsx("button",{type:"button",onClick:a,disabled:d,className:"px-4 py-3 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition text-sm disabled:opacity-50 transform hover:scale-105","aria-label":"Cancel Payment",children:"Cancel"})]})]})},Yne=()=>{const r=_s(),e=Qr(),[t,s]=C.useState([]),[a,i]=C.useState([]),[o,l]=C.useState(!0),[c,d]=C.useState(!1),[u,f]=C.useState(()=>{const xe=localStorage.getItem("checkoutFormData");return xe?JSON.parse(xe):{name:"",email:"",address:"",city:"",postalCode:"",country:"Nigeria",phone:"",saveInfo:!1}}),[m,p]=C.useState({}),[y,x]=C.useState({}),[v,N]=C.useState({}),[k,S]=C.useState({}),[R,A]=C.useState(!1),[D,P]=C.useState(!1),[E,I]=C.useState(!1),[M,L]=C.useState(null),[z,F]=C.useState(25e3),V=C.useRef(null),$=!1,Y=new URLSearchParams(e.search),X=parseFloat(Y.get("additionalShippingFee"))||0;C.useEffect(()=>{localStorage.setItem("checkoutFormData",JSON.stringify(u))},[u]),C.useEffect(()=>{const xe=async()=>{try{l(!0);const rt=Pe.currentUser,et=Te(J,"settings","minimumPurchase"),Rt=await ft(et);Rt.exists()&&F(Rt.data().amount||25e3);const Tt=Te(J,"feeConfigurations","categoryFees"),ut=await ft(Tt);N(ut.exists()?ut.data():{});const qe=(await dt(Ie(J,"dailyDeals"))).docs.map(jt=>({id:jt.id,...jt.data()})).filter(jt=>new Date(jt.endDate)>new Date&&new Date(jt.startDate)<=new Date);i(qe);const xt=await Gi(rt?.uid);console.log("Loaded cart items:",JSON.stringify(xt,null,2));const _t=(await Promise.all(xt.map(async jt=>{if(!jt.productId||!jt.product)return console.warn("Invalid cart item:",jt),null;const Ft=jt.product||{};let Zt=[];Array.isArray(Ft.imageUrls)?Zt=Ft.imageUrls.filter(As=>typeof As=="string"&&As.match(/^https?:\/\/.+/i)):Ft.imageUrl&&typeof Ft.imageUrl=="string"&&Ft.imageUrl.match(/^https?:\/\/.+/i)&&(Zt=[Ft.imageUrl]);const Xt=await Promise.all(Zt.map(As=>QI(As)));let ys=Zt.filter((As,ws)=>Xt[ws]);ys.length===0&&(ys=[Gs],x(As=>({...As,[jt.productId]:!0})),console.warn("No valid imageUrls for product:",Ft.name||"Unknown","Using placeholder"));const It=Te(J,"products",jt.productId),Wt=await ft(It),sr=Wt.exists()&&Wt.data().category||"default",ms=Wt.exists()?Wt.data().sellerId:"default-seller-id",Jt=Wt.exists()&&Wt.data().stock||10,vs=v[sr]||{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2},ss=Ft.price||0,Ms=qe.find(As=>As.productId===jt.productId),gs=Ms?Number((Ms.discount*100).toFixed(2)):0,Bt=gs?ss*(1-Ms.discount):ss,es=Bt*vs.buyerProtectionRate,pr=Bt*vs.handlingRate,Vs=Bt+es+pr;return{...jt,product:{...Ft,imageUrls:ys,category:sr,sellerId:ms,totalPrice:Vs,stock:Jt,isDailyDeal:!!Ms,discountPercentage:gs,handlingRate:vs.handlingRate,buyerProtectionRate:vs.buyerProtectionRate},currentImage:ys[0],slideDirection:"right"}}))).filter(jt=>jt!==null);if(s(_t),p(_t.reduce((jt,Ft)=>({...jt,[Ft.productId]:!0}),{})),rt){const jt=Te(J,"users",rt.uid),Ft=await ft(jt);if(Ft.exists()){const Zt=Ft.data();f(Xt=>({...Xt,name:Zt.name||rt.displayName||Xt.name,email:Zt.email||rt.email||Xt.email,address:Zt.address||Xt.address,city:Zt.city||Xt.city,postalCode:Zt.postalCode||Xt.postalCode,country:Zt.country||Xt.country,phone:Zt.phone||Xt.phone}))}}}catch(rt){console.error("Error loading cart, deals, or user data:",rt),console.log("Logging to Sentry:",rt),s([]),Me.error("Failed to load data.",{position:"top-right",autoClose:3e3})}finally{l(!1)}},Je=async()=>{try{const rt=Pe.currentUser,et=await Gi(rt?.uid),Rt=Te(J,"feeConfigurations","categoryFees"),Tt=await ft(Rt),ut=Tt.exists()?Tt.data():{},qe=(await dt(Ie(J,"dailyDeals"))).docs.map(_t=>({id:_t.id,..._t.data()})).filter(_t=>new Date(_t.endDate)>new Date&&new Date(_t.startDate)<=new Date),Nt=(await Promise.all(et.map(async _t=>{if(!_t.productId||!_t.product)return console.warn("Invalid cart item:",_t),null;const jt=_t.product||{};let Ft=[];Array.isArray(jt.imageUrls)?Ft=jt.imageUrls.filter(Vs=>typeof Vs=="string"&&Vs.match(/^https?:\/\/.+/i)):jt.imageUrl&&typeof jt.imageUrl=="string"&&jt.imageUrl.match(/^https?:\/\/.+/i)&&(Ft=[jt.imageUrl]);const Zt=await Promise.all(Ft.map(Vs=>QI(Vs)));let Xt=Ft.filter((Vs,As)=>Zt[As]);Xt.length===0&&(Xt=[Gs],x(Vs=>({...Vs,[_t.productId]:!0})),console.warn("No valid imageUrls for product:",jt.name||"Unknown","Using placeholder"));const ys=Te(J,"products",_t.productId),It=await ft(ys),Wt=It.exists()&&It.data().category||"default",sr=It.exists()?It.data().sellerId:"default-seller-id",ms=It.exists()&&It.data().stock||10,Jt=ut[Wt]||{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2},vs=jt.price||0,ss=qe.find(Vs=>Vs.productId===_t.productId),Ms=ss?Number((ss.discount*100).toFixed(2)):0,gs=Ms?vs*(1-ss.discount):vs,Bt=gs*Jt.buyerProtectionRate,es=gs*Jt.handlingRate,pr=gs+Bt+es;return{..._t,product:{...jt,imageUrls:Xt,category:Wt,sellerId:sr,totalPrice:pr,stock:ms,isDailyDeal:!!ss,discountPercentage:Ms,handlingRate:Jt.handlingRate,buyerProtectionRate:Jt.buyerProtectionRate},currentImage:Xt[0],slideDirection:"right"}}))).filter(_t=>_t!==null);s(Nt),p(Nt.reduce((_t,jt)=>({..._t,[jt.productId]:!0}),{}))}catch(rt){console.error("Error updating cart:",rt),console.log("Logging to Sentry:",rt),Me.error("Failed to update cart.",{position:"top-right",autoClose:3e3})}},ot=()=>{clearTimeout(M);const rt=setTimeout(()=>{Me.warn("Session inactive. Please refresh or log in again.",{position:"top-right",autoClose:5e3}),r("/login")},1800*1e3);L(rt)};window.addEventListener("cartUpdated",Je),window.addEventListener("mousemove",ot),window.addEventListener("keydown",ot);const lt=Pe.onAuthStateChanged(rt=>{d(!!rt),xe(),ot()});return()=>{lt(),window.removeEventListener("cartUpdated",Je),window.removeEventListener("mousemove",ot),window.removeEventListener("keydown",ot),clearTimeout(M)}},[]);const ee=async(xe,Je)=>{try{const ot=Pe.currentUser,lt=t.map(rt=>rt.productId===xe?{...rt,quantity:Math.max(1,Math.min(Je,rt.product.stock||10))}:rt);await Ad(ot?.uid,lt),s(lt),Me.info("Quantity updated.",{position:"top-right",autoClose:2e3})}catch(ot){console.error("Error updating quantity:",ot),console.log("Logging to Sentry:",ot),Me.error("Failed to update quantity.",{position:"top-right",autoClose:3e3})}},W=t.reduce((xe,Je)=>xe+(Je.quantity||0),0),B=t.reduce((xe,Je)=>xe+(Je.product?.totalPrice||0)*(Je.quantity||0),0),G=t.length===1&&X>0?X:B<z?500:0,te=B<z,re=u.country==="United Kingdom"?"GBP":"NGN",ie=48e-5,he=re==="GBP"?(B+G)*ie:B+G;C.useEffect(()=>{console.log("Subtotal NGN:",B.toLocaleString("en-NG",{minimumFractionDigits:2})),console.log("Additional Shipping Fee:",G.toLocaleString("en-NG",{minimumFractionDigits:2})),console.log("Total Amount:",he.toLocaleString("en-NG",{minimumFractionDigits:2}),"(",re,")")},[B,G,he,re]);const le=xe=>{const{name:Je,value:ot,type:lt,checked:rt}=xe.target;f(et=>({...et,[Je]:lt==="checkbox"?rt:ot})),S(et=>({...et,[Je]:""})),Je==="country"&&ot!==u.country&&Me.info(`Currency will change to ${ot==="United Kingdom"?"GBP":"NGN"}.`,{position:"top-right",autoClose:3e3})},De=()=>{const xe={},{name:Je,email:ot,address:lt,city:rt,postalCode:et,country:Rt,phone:Tt}=u;return Je||(xe.name="Full name is required."),ot?/\S+@\S+\.\S+/.test(ot)||(xe.email="Invalid email address."):xe.email="Email is required.",Tt||(xe.phone="Phone number is required."),lt||(xe.address="Address is required."),rt||(xe.city="City is required."),et||(xe.postalCode="Postal code is required."),["Nigeria","United Kingdom"].includes(Rt)||(xe.country="Select Nigeria or United Kingdom."),{isValid:Object.keys(xe).length===0,errors:xe}},Oe=C.useMemo(()=>De(),[u]),Be=async xe=>{try{P(!0);const Je="https://foremade-backend.onrender.com",ot={orderId:xe.paymentId||`fallback-${Date.now()}`,email:xe.shippingDetails?.email||u.email,items:(xe.items||[]).map(et=>({productId:et.productId||"unknown",quantity:et.quantity||1,price:et.price||0,name:et.name||"Unknown Product",sellerId:et.sellerId||"unknown",imageUrls:Array.isArray(et.imageUrls)?et.imageUrls:[Gs],isDailyDeal:et.isDailyDeal||!1,discountPercentage:et.discountPercentage||0})),total:xe.totalAmount||0,currency:xe.currency||re,shippingDetails:{name:xe.shippingDetails?.name||u.name||"Unknown",address:xe.shippingDetails?.address||u.address||"Unknown",city:xe.shippingDetails?.city||u.city||"",postalCode:xe.shippingDetails?.postalCode||u.postalCode||"",country:xe.shippingDetails?.country||u.country||"",phone:xe.shippingDetails?.phone||u.phone||""}};if(!ot.email||!/\S+@\S+\.\S+/.test(ot.email))throw new Error("Invalid or missing email address");if(!ot.items.length)throw new Error("No items provided");let lt=2,rt=null;for(;lt>0;)try{const et=await os.post(`${Je}/send-order-confirmation`,ot,{timeout:1e4});console.log("Order confirmation email sent successfully:",et.data);return}catch(et){if(rt=et,lt--,lt===0||et.response?.status!==400)throw et;console.warn(`Retrying email send (${lt} attempts left)...`),await new Promise(Rt=>setTimeout(Rt,2e3))}throw rt||new Error("Failed to send email after retries")}catch(Je){console.error("Error sending order confirmation email:",{message:Je.message,status:Je.response?.status,responseData:Je.response?.data,stack:Je.stack}),console.log("Logging to Sentry:",Je),Me.warn("Order placed successfully, but failed to send confirmation email. Please check your email later.",{position:"top-right",autoClose:5e3})}finally{P(!1)}},de=async(xe,Je,ot,lt)=>{try{P(!0);const rt="https://foremade-backend.onrender.com";for(const[et,Rt]of Object.entries(xe)){const Tt=Je.find(Nt=>Nt.includes(et))||`order-${Date.now()}-${et}`,ut=Rt.reduce((Nt,_t)=>Nt+(_t.product?.totalPrice||0)*(_t.quantity||0),0),At=ot==="GBP"?(ut+G)*ie:ut+G,st={orderId:Tt,sellerId:et,items:Rt.map(Nt=>({productId:Nt.productId||"unknown",quantity:Nt.quantity||1,price:Nt.product?.totalPrice||0,name:Nt.product?.name||"Unknown Product",imageUrls:Array.isArray(Nt.product?.imageUrls)?Nt.product.imageUrls:[Gs],isDailyDeal:Nt.product?.isDailyDeal||!1,discountPercentage:Nt.product?.discountPercentage||0})),total:At,currency:ot,shippingDetails:{name:lt.name||"Unknown",address:lt.address||"Unknown",city:lt.city||"",postalCode:lt.postalCode||"",country:lt.country||"",phone:lt.phone||""}};console.log("Sending seller notification email with payload:",{orderId:Tt,sellerId:et,items:st.items,total:At,currency:ot,shippingDetails:st.shippingDetails});let qe=2,xt=null;for(;qe>0;)try{const Nt=await os.post(`${rt}/send-seller-order-notification`,st,{timeout:1e4});console.log(`Seller notification email sent successfully for seller ${et}:`,Nt.data);break}catch(Nt){if(xt=Nt,qe--,qe===0||Nt.response?.status!==400)throw Nt;console.warn(`Retrying seller email send for ${et} (${qe} attempts left)...`),await new Promise(_t=>setTimeout(_t,2e3))}if(qe===0)throw xt||new Error(`Failed to send seller email for ${et} after retries`)}}catch(rt){console.error("Error sending seller notification emails:",{message:rt.message,status:rt.response?.status,responseData:rt.response?.data,stack:rt.stack}),console.log("Logging to Sentry:",rt),Me.warn("Order placed successfully, but failed to notify some sellers. They may receive notifications later.",{position:"top-right",autoClose:5e3})}finally{P(!1)}},Ye=C.useCallback(async xe=>{try{if(t.length===0){Me.error("Cart is empty.",{position:"top-right",autoClose:3e3});return}const Je=De();if(!Je.isValid){S(Je.errors),Me.error("Please fix form errors.",{position:"top-right",autoClose:3e3}),V.current.scrollIntoView({behavior:"smooth"});return}console.log("Payment data:",xe),(!xe||!xe.id&&!xe.reference)&&(console.warn("Invalid payment data:",xe),console.log("Logging to Sentry:",new Error("Invalid payment data received")));const ot=Pe.currentUser?.uid||"anonymous",lt=`order-${Date.now()}`,rt=u.country==="United Kingdom"?"Stripe":"Paystack",et=xe?.id||xe?.reference||`fallback-${lt}`,Rt={};t.forEach(qe=>{const xt=qe.product?.sellerId||"default-seller-id";Rt[xt]||(Rt[xt]=[]),Rt[xt].push(qe)});let Tt=null;const ut=[],At=[];await SG(J,async qe=>{const xt=t.map(It=>Te(J,"products",It.productId)),Nt=await Promise.all(xt.map(It=>qe.get(It))),_t=[];Nt.forEach((It,Wt)=>{if(!It.exists()){console.warn(`Product ${t[Wt].productId} does not exist. Skipping stock update.`);return}const sr=It.data().stock||0,ms=t[Wt].quantity||0,Jt=sr-ms;if(Jt<0)throw new Error(`Insufficient stock for product ${t[Wt].productId} (${t[Wt].product?.name||"Unknown"})`);_t.push({ref:xt[Wt],newStock:Jt})});const jt=Object.keys(Rt).map(It=>Te(J,"wallets",It)),Zt=(await Promise.all(jt.map(It=>qe.get(It)))).map((It,Wt)=>({ref:jt[Wt],exists:It.exists(),data:It.exists()?It.data():null,sellerId:Object.keys(Rt)[Wt]}));console.log("Seller wallets before update:",Zt.map(It=>({sellerId:It.sellerId,exists:It.exists,pendingBalance:It.data?.pendingBalance||0,availableBalance:It.data?.availableBalance||0})));const Xt=[];Zt.forEach(({ref:It,exists:Wt,data:sr,sellerId:ms})=>{const Jt=Rt[ms],vs=Jt.reduce((es,pr)=>es+(pr.product?.totalPrice||0)*(pr.quantity||0),0),ss=re==="GBP"?(vs+G)*ie:vs+G,Ms={id:lt,userId:ot,sellerId:ms,items:Jt.map(es=>({productId:es.productId||"unknown",quantity:es.quantity||0,price:es.product?.totalPrice||0,name:es.product?.name||"Unknown",sellerId:es.product?.sellerId||ms,imageUrls:es.product?.imageUrls||[Gs],isDailyDeal:es.product?.isDailyDeal||!1,discountPercentage:es.product?.discountPercentage||0})),totalAmount:ss,date:new Date().toISOString(),createdAt:Wn(),shippingDetails:u,status:"pending-approval",paymentGateway:rt,paymentId:et,currency:re},gs=`${lt}-${ms}`;Xt.push({order:Ms,orderId:gs}),At.push(gs);const Bt=(Wt&&sr?.pendingBalance||0)+ss;ut.push({sellerId:ms,amount:ss}),qe.set(It,{availableBalance:Wt&&sr?.availableBalance||0,pendingBalance:Bt,updatedAt:Wn(),...Wt?{}:{createdAt:Wn()}},{merge:!0}),console.log(`Updated wallet for seller ${ms}:`,{pendingBalance:Bt,availableBalance:Wt&&sr?.availableBalance||0})}),Xt.forEach(({order:It,orderId:Wt})=>{const sr=Te(J,"orders",Wt);try{qe.set(sr,It)}catch(ms){throw console.error(`Error saving order ${Wt}:`,ms),ms}Tt=It}),_t.forEach(({ref:It,newStock:Wt})=>{qe.update(It,{stock:Wt})});const ys=Xt.map(({order:It})=>cn(Ie(J,"transactions"),{userId:It.sellerId,type:"Sale",description:`Sale from order ${It.id}`,amount:It.totalAmount,date:new Date().toISOString().split("T")[0],status:"Pending",createdAt:Wn(),reference:It.paymentId}));await Promise.all(ys)});const st=await Promise.all(ut.map(async({sellerId:qe})=>{const xt=Te(J,"wallets",qe),Nt=await ft(xt);return{sellerId:qe,exists:Nt.exists(),data:Nt.exists()?Nt.data():null}}));if(console.log("Seller wallets after update:",st),Pe.currentUser&&u.saveInfo){const qe=Te(J,"users",Pe.currentUser.uid);await as(qe,u,{merge:!0})}Tt&&At.length>0&&await Be({...Tt,paymentId:At[0],items:t.map(qe=>({productId:qe.productId||"unknown",quantity:qe.quantity||0,price:qe.product?.totalPrice||0,name:qe.product?.name||"Unknown",sellerId:qe.product?.sellerId||"unknown",imageUrls:qe.product?.imageUrls||[Gs],isDailyDeal:qe.product?.isDailyDeal||!1,discountPercentage:qe.product?.discountPercentage||0}))}),await de(Rt,At,re,u),await mv(Pe.currentUser?.uid),s([]),Me.success(n.jsxs("div",{children:[n.jsx("strong",{children:"Payment Successful!"}),n.jsx("p",{children:"Your order has been placed. Check your email for confirmation."})]}),{position:"top-right",autoClose:5e3,style:Vne,icon:n.jsx("i",{className:"bx bx-check-circle text-blue-500 text-xl"})}),r("/order-confirmation",{state:{order:{...Tt,items:t}}})}catch(Je){console.error("Checkout error:",Je),console.log("Logging to Sentry:",Je),Me.error(Je.message||"Failed to place order. Please try again.",{position:"top-right",autoClose:3e3})}finally{I(!1)}},[t,u,re,r,W,$,G]),be=()=>{Me.info("Payment cancelled.",{position:"top-right",autoClose:3e3}),I(!1)},Q=(xe,Je,ot,lt)=>{s(rt=>rt.map(et=>et.productId===xe?{...et,currentImage:Je,slideDirection:ot>lt?"right":"left"}:et)),console.log("Cart item image updated:",{itemId:xe,url:Je,direction:ot>lt?"right":"left"})},me=(xe,Je)=>{p(ot=>({...ot,[xe]:Je?ot[xe]:!1})),x(ot=>({...ot,[xe]:!1})),console.log(`Image ${Je?"thumbnail":"main"} loaded for productId: ${xe}`)},We=(xe,Je)=>{console.error(`Image load error for productId: ${Je}`,{imageUrl:xe.target.src,productId:Je}),p(ot=>({...ot,[Je]:!1})),x(ot=>({...ot,[Je]:!0})),xe.target.src=Gs};return o?n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(mi,{}),n.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Loading..."})]})}):n.jsxs("div",{className:"container mx-auto px-4 py-8 relative mb-20",children:[(R||D)&&n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-40",children:[n.jsx(mi,{}),n.jsx("p",{className:"text-white ml-4",children:D?"Sending confirmation email...":"Processing payment..."})]}),n.jsx("style",{children:`
          @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          .slide-in-right { animation: slideInRight 0.3s ease-in-out forwards; }
          .slide-in-left { animation: slideInLeft 0.3s ease-in-out forwards; }
          .image-zoom:hover { transform: scale(1.05); transition: transform 0.3s ease; }
        `}),n.jsx($ne,{}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-cart text-blue-600"}),"Checkout"]}),n.jsxs(ve,{to:"/cart",className:"text-blue-600 hover:underline text-sm flex items-center gap-1","aria-label":"Back to Cart",children:[n.jsx("i",{className:"bx bx-arrow-back"}),"Back to Cart"]})]}),t.length===0?n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-gray-600 mb-4",children:["Your cart is empty."," ",n.jsx(ve,{to:"/products",className:"text-blue-600 hover:underline",children:"Continue shopping"})]})}):n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsxs("div",{className:"flex-1 bg-white p-6 rounded-lg shadow-md",ref:V,children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-home text-blue-600"}),"Shipping Details"]}),n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-user absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:le,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.name?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.name,"aria-describedby":k.name?"name-error":void 0})]}),k.name&&n.jsx("p",{id:"name-error",className:"text-red-600 text-xs mt-1",children:k.name})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:le,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.email?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.email,"aria-describedby":k.email?"email-error":void 0})]}),k.email&&n.jsx("p",{id:"email-error",className:"text-red-600 text-xs mt-1",children:k.email})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Phone ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-phone absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",id:"phone",name:"phone",value:u.phone,onChange:le,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.phone?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.phone,"aria-describedby":k.phone?"phone-error":void 0})]}),k.phone&&n.jsx("p",{id:"phone-error",className:"text-red-600 text-xs mt-1",children:k.phone})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-map absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",id:"address",name:"address",value:u.address,onChange:le,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.address?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.address,"aria-describedby":k.address?"address-error":void 0})]}),k.address&&n.jsx("p",{id:"address-error",className:"text-red-600 text-xs mt-1",children:k.address})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"city",className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:["City ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-city absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",id:"city",name:"city",value:u.city,onChange:le,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.city?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.city,"aria-describedby":k.city?"city-error":void 0})]}),k.city&&n.jsx("p",{id:"city-error",className:"text-red-600 text-xs mt-1",children:k.city})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Postal Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-mail-send absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",id:"postalCode",name:"postalCode",value:u.postalCode,onChange:le,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.postalCode?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.postalCode,"aria-describedby":k.postalCode?"postalcode-error":void 0})]}),k.postalCode&&n.jsx("p",{id:"postalcode-error",className:"text-red-600 text-xs mt-1",children:k.postalCode})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Country ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-world absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsxs("select",{id:"country",name:"country",value:u.country,onChange:le,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.country?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.country,"aria-describedby":k.country?"country-error":void 0,children:[n.jsx("option",{value:"",children:"Select a country"}),n.jsx("option",{value:"Nigeria",children:"Nigeria"}),n.jsx("option",{value:"United Kingdom",children:"United Kingdom"})]})]}),k.country&&n.jsx("p",{id:"country-error",className:"text-red-600 text-xs mt-1",children:k.country})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"saveInfo",name:"saveInfo",checked:u.saveInfo,onChange:le,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:o}),n.jsx("label",{htmlFor:"saveInfo",className:"ml-2 text-sm text-gray-600",children:"Save shipping information for future purchases"})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-package text-blue-600"}),"Cart Items",n.jsxs("span",{className:"ml-2 text-xs text-gray-500 cursor-help relative group","aria-label":"Prices include buyer protection and handling fees.",children:[n.jsx("i",{className:"bx bx-info-circle"}),n.jsx("span",{className:"absolute hidden group-hover:block bg-gray-800 text-white text-xs rounded-lg p-2 -top-10 left-0 w-48 z-10",children:"Prices Overview."})]})]}),t.map(xe=>n.jsxs("div",{className:"flex items-start gap-4 mb-4 border-b pb-4",children:[n.jsxs("div",{className:"w-24 h-24 relative overflow-hidden rounded-lg image-zoom",children:[m[xe.productId]&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:n.jsx(mi,{size:"small"})}),n.jsx("img",{src:xe.currentImage||Gs,alt:xe.product?.name||"Product Image",className:`absolute w-full h-full object-cover ${xe.slideDirection==="right"?"slide-in-right":"slide-in-left"} ${m[xe.productId]||y[xe.productId]?"opacity-50":"opacity-100"}`,onLoad:()=>me(xe.productId,!1),onError:Je=>We(Je,xe.productId),loading:"lazy","aria-label":`Image for ${xe.product?.name||"Unknown Product"}`}),y[xe.productId]&&n.jsx("div",{className:"absolute bottom-0 left-0 bg-red-600 text-white text-xs px-1 rounded",children:"Image Failed"}),xe.product?.isDailyDeal&&n.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1.5 py-0.5 rounded-full text-[10px] font-bold",children:[xe.product.discountPercentage,"% OFF"]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-800",children:xe.product?.name||"Unknown"}),n.jsx("p",{className:"text-sm text-gray-600",children:n.jsx(hr,{price:(xe.product?.totalPrice||0)*(xe.quantity||0),currency:re})}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("label",{htmlFor:`quantity-${xe.productId}`,className:"text-sm text-gray-600",children:"Qty:"}),n.jsx("input",{type:"number",id:`quantity-${xe.productId}`,value:xe.quantity||1,onChange:Je=>ee(xe.productId,parseInt(Je.target.value)),min:"1",max:xe.product?.stock||10,className:"w-16 p-1 border rounded-lg focus:ring-2 focus:ring-blue-500","aria-label":`Quantity for ${xe.product?.name||"Unknown"}`})]}),xe.product?.imageUrls?.length>1&&n.jsx("div",{className:"flex gap-2 mt-2 overflow-x-auto",children:xe.product.imageUrls.map((Je,ot)=>n.jsx("img",{src:Je,alt:`${xe.product?.name||"Unknown"} ${ot+1}`,className:`w-10 h-10 object-cover rounded border cursor-pointer ${xe.currentImage===Je?"border-blue-500 border-2":"border-gray-300"} ${m[xe.productId]||y[xe.productId]?"opacity-50":"opacity-100"}`,onClick:()=>Q(xe.productId,Je,ot,xe.product.imageUrls.indexOf(xe.currentImage)),onLoad:()=>me(xe.productId,!0),onError:lt=>We(lt,xe.productId),loading:"lazy"},`${xe.productId}-${ot}`))})]})]},xe.productId))]})]}),n.jsx("div",{className:"w-full lg:w-1/3",children:n.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md sticky top-4",children:[n.jsx("img",{src:Bne,alt:"Accepted payment cards",className:"mb-6 w-auto h-8"}),n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-receipt text-blue-600"}),"Order Summary"]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Total Items"}),n.jsx("span",{children:W})]}),t.map(xe=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"truncate w-2/3",children:[xe.product?.name||"Unknown"," (x",xe.quantity||0,")"]}),n.jsxs("span",{children:[n.jsx(hr,{price:(xe.product?.totalPrice||0)*(xe.quantity||0),currency:re}),xe.product?.isDailyDeal&&n.jsxs("span",{className:"text-red-600 text-[10px] ml-2",children:[xe.product.discountPercentage,"% OFF"]})]})]},xe.productId)),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal"}),n.jsx("span",{children:n.jsx(hr,{price:B,currency:re})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Additional Shipping Fee"}),n.jsx("span",{children:n.jsx(hr,{price:G,currency:re})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Shipping"}),n.jsx("span",{className:"text-green-600 font-semibold bg-green-100 px-2 py-1 rounded-full",children:"Free"})]}),n.jsxs("div",{className:"flex justify-between font-bold text-gray-800 border-t pt-2",children:[n.jsx("span",{children:"Grand Total"}),n.jsx("span",{children:n.jsx(hr,{price:he,currency:re})})]})]}),te&&n.jsxs("p",{className:"text-yellow-600 text-xs mt-2 bg-yellow-50 p-2 rounded",children:[" Note: Total is below the recommended minimum of ",z.toLocaleString("en-NG"),"."]}),n.jsxs("div",{className:"mt-6 border-t pt-4",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-home text-blue-600"}),"Shipping Information"]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",u.name||"Not provided"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",u.email||"Not provided"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",u.phone||"Not provided"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",u.address||"Not provided"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"City:"})," ",u.city||"Not provided"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Postal Code:"})," ",u.postalCode||"Not provided"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Country:"})," ",u.country||"Not provided"]})]})]}),c&&Oe.isValid&&t.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-credit-card text-blue-600"}),"Payment Details"]}),u.country==="United Kingdom"?n.jsx(GF,{stripe:Hne,children:n.jsx(Wne,{totalPrice:he,formData:u,cart:t,onSuccess:xe=>I(!0),onCancel:be,currency:re,setIsProcessing:A})}):u.country==="Nigeria"?n.jsx(KF,{email:u.email,amount:he*100,onSuccess:xe=>I(!0),onClose:be,disabled:!Oe.isValid||t.length===0||o,buttonText:"Complete Purchase",className:`w-full py-3 px-4 rounded-lg text-white text-sm font-medium transition duration-200 shadow transform hover:scale-105 ${!Oe.isValid||t.length===0||o?"bg-gray-400 cursor-not-allowed":"bg-[#112d4e] hover:bg-[#0e2740]"}`,iconClass:"bx bx-cart mr-2",sellerId:t[0]?.product?.sellerId||"default-seller-id"}):n.jsx("p",{className:"text-red-600 text-sm",children:"Please select a valid country."})]}),!c&&n.jsxs("div",{className:"mt-4 text-sm text-red-600",children:["Please"," ",n.jsx(ve,{to:"/login",className:"text-blue-600 hover:underline",children:"log in"})," ","to proceed with payment."]})]})})]}),n.jsx(qne,{isOpen:E,onConfirm:Ye,onCancel:be}),$]})},Gne=()=>{const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(null);_s(),C.useEffect(()=>{const c=async()=>{try{if(!Pe.currentUser){i("Please sign in to view your orders."),s(!1);return}const u=Et(Ie(J,"orders"),bt("userId","==",Pe.currentUser.uid)),f=await dt(u),m=await Promise.all(f.docs.map(async p=>{const y=p.data(),x=Array.isArray(y.items)?y.items:[],v=y.total||0,N=y.paymentId||`TRK-${p.id.slice(0,8)}`;let k={sellerId:null,displayName:"Unknown Seller",avatar:null};if(x.length>0&&x[0].productId)try{const S=Te(J,"products",x[0].productId),R=await ft(S);if(R.exists()){const D=R.data().sellerId;if(D){const P=Te(J,"users",D),E=await ft(P);if(E.exists()){const I=E.data();k={sellerId:D,displayName:I.displayName||"Unknown Seller",avatar:I.avatar||"https://ui-avatars.com/api/?name=S&background=3b82f6&color=fff&size=40"}}}}}catch(S){console.error("Error fetching seller data:",S.message)}return{orderId:p.id,trackingId:N,total:v,date:y.date||new Date().toISOString(),items:x,seller:k}}));e(m)}catch(u){i(`Failed to load orders: ${u.message}`)}finally{s(!1)}},d=Pe.onAuthStateChanged(u=>{u?c():(i("Please sign in to view your orders."),s(!1))});return()=>d()},[]);const o=c=>`${c.toLocaleString("en-NG",{minimumFractionDigits:2})}`,l=c=>{try{return new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Unknown Date"}};return t?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(mi,{}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading orders..."})]}):a?n.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:n.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsx("p",{className:"text-red-600 dark:text-red-400 text-lg font-medium",children:a}),n.jsx(ve,{to:"/login",className:"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-500 font-medium underline transition",children:"Go to Login"})]})}):n.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx(Ud,{}),n.jsx(vt.div,{className:"md:w-3/4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Your Orders"}),r.length===0?n.jsxs(vt.p,{initial:{opacity:0},animate:{opacity:1},className:"text-gray-600 dark:text-gray-400",children:["No orders found."," ",n.jsx(ve,{to:"/products",className:"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-500 font-medium underline",children:"Start shopping"})]}):n.jsx("div",{className:"space-y-4",children:n.jsx(Zn,{children:r.map(c=>n.jsxs(vt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"bg-white dark:bg-gray-700 rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow",children:[n.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:c.seller.avatar,alt:"Seller",className:"w-10 h-10 rounded-full border border-gray-200 dark:border-gray-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-400",children:"Seller"}),n.jsxs("h2",{className:"text-xs text-gray-800 dark:text-gray-100",children:["Order #",c.orderId]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Tracking ID: ",c.trackingId]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Date: ",l(c.date)]})]}),n.jsx("div",{className:"space-y-2",children:c.items.map((d,u)=>n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-300",children:[n.jsxs("span",{children:[d.name," x",d.quantity]}),n.jsx("span",{children:o(d.price*d.quantity)})]},u))})]},c.orderId))})})]})})]})})};function Xne(){const[r,e]=C.useState(!0),[t,s]=C.useState(""),[a,i]=C.useState(!1),[o,l]=C.useState(null),[c,d]=C.useState([]),[u,f]=C.useState({street:"",city:"",state:"",country:"",postalCode:""}),[m,p]=C.useState({}),[y,x]=C.useState(null),[v,N]=C.useState(0),[k]=C.useState(3),S="orderHistory_1",R=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,A=()=>{try{const L=localStorage.getItem(S);return L?JSON.parse(L).length:0}catch(L){return console.error("Error getting order count:",L),0}};C.useEffect(()=>{const L=Pe.onAuthStateChanged(async F=>{try{if(console.log("Auth state changed at:",new Date().toISOString()),!F){console.log("No user found, redirecting to login"),s("Please sign in to manage your addresses."),i(!0),e(!1);return}console.log("User authenticated, UID:",F.uid);const V=localStorage.getItem("userData");let $={};if(V)try{$=JSON.parse(V),(typeof $.name!="string"||$.name.includes("{"))&&(console.warn("Corrupted name field:",$.name),$.name="Emmanuel Chinecherem"),typeof $.username!="string"&&($.username="emmaChi")}catch(B){console.error("Error parsing userData:",B),$={}}console.log("Fetching Firestore data for UID:",F.uid);const Y=Te(J,"users",F.uid),X=await ft(Y);if(!X.exists()){console.warn("User document not found in Firestore:",F.uid),s("User profile not found."),e(!1);return}const ee=X.data();console.log("Firestore data fetched:",ee);const W=ee.addresses||$.addresses||[];l({email:F.email||"test@example.com",username:$.username||F.displayName||"emmaChi",name:$.name||F.displayName||"Emmanuel Chinecherem",profileImage:$.profileImage||null,createdAt:$.createdAt||"2025-05-04T23:28:48.857Z",address:$.address||(W[0]?.street?`${W[0].street}, ${W[0].city}, ${W[0].state}, ${W[0].postalCode}, ${W[0].country}`:"Not provided"),addresses:W,uid:F.uid}),d(W),N(A())}catch(V){console.error("Error in useEffect:",V.message,V.stack),s("Failed to load addresses. Please try again.")}finally{console.log("Setting loading to false at:",new Date().toISOString()),e(!1)}},F=>{console.error("Auth state error:",F),s("Authentication error. Please try again."),e(!1)}),z=()=>N(A());return window.addEventListener("orderPlaced",z),()=>{console.log("Cleaning up useEffect"),L(),window.removeEventListener("orderPlaced",z)}},[]);const D=()=>{const L={};return u.street.trim()||(L.street="Street is required."),u.city.trim()||(L.city="City is required."),u.state.trim()||(L.state="State is required."),u.country.trim()||(L.country="Country is required."),u.postalCode.trim()||(L.postalCode="Postal code is required."),L},P=L=>{const{name:z,value:F}=L.target;f(V=>({...V,[z]:F})),p(V=>({...V,[z]:""}))},E=async L=>{L.preventDefault();const z=D();if(Object.keys(z).length>0){p(z);return}try{e(!0);const F={id:y||R(),street:u.street,city:u.city,state:u.state,country:u.country,postalCode:u.postalCode};let V;y?V=c.map(X=>X.id===y?F:X):V=[...c,F];const $=Te(J,"users",o.uid);await as($,{addresses:V,address:V[0]?`${V[0].street}, ${V[0].city}, ${V[0].state}, ${V[0].postalCode}, ${V[0].country}`:"Not provided"},{merge:!0});const Y={...o,addresses:V,address:V[0]?`${V[0].street}, ${V[0].city}, ${V[0].state}, ${V[0].postalCode}, ${V[0].country}`:"Not provided"};localStorage.setItem("userData",JSON.stringify(Y)),d(V),l(Y),f({street:"",city:"",state:"",country:"",postalCode:""}),p({}),x(null)}catch(F){console.error("Error saving address:",F),s("Failed to save address. Please try again.")}finally{e(!1)}},I=L=>{f({street:L.street,city:L.city,state:L.state,country:L.country,postalCode:L.postalCode}),x(L.id)},M=async L=>{try{e(!0);const z=c.filter($=>$.id!==L),F=Te(J,"users",o.uid);await as(F,{addresses:z,address:z[0]?`${z[0].street}, ${z[0].city}, ${z[0].state}, ${z[0].postalCode}, ${z[0].country}`:"Not provided"},{merge:!0});const V={...o,addresses:z,address:z[0]?`${z[0].street}, ${z[0].city}, ${z[0].state}, ${z[0].postalCode}, ${z[0].country}`:"Not provided"};localStorage.setItem("userData",JSON.stringify(V)),d(z),l(V)}catch(z){console.error("Error deleting address:",z),s("Failed to delete address. Please try again.")}finally{e(!1)}};return r?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(mi,{}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-4",children:"Loading..."})]}):t?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:t}),a?n.jsx(ve,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"}):n.jsx("button",{onClick:()=>s(""),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]}):n.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-700",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx(Ud,{userData:o,orderCount:v,wishlistCount:k}),n.jsxs("div",{className:"md:w-3/4",children:[n.jsxs("div",{className:"rounded-lg p-6 mb-6 border border-gray-300 dark:border-gray-300",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Personal Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-300",children:"Username"}),n.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:o.username})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-300",children:"First Name"}),n.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:o.name.split(" ")[0]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-300",children:"Last Name"}),n.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:o.name.split(" ").slice(1).join(" ")||"-"})]})]})]}),n.jsxs("div",{className:"rounded-lg p-6 mb-6 border border-gray-300 dark:border-gray-300",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:y?"Edit Address":"Add New Address"}),n.jsxs("form",{onSubmit:E,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"Street"}),n.jsx("input",{type:"text",name:"street",value:u.street,onChange:P,className:`w-full p-3 border rounded-lg ${m.street?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),m.street&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m.street})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"City"}),n.jsx("input",{type:"text",name:"city",value:u.city,onChange:P,className:`w-full p-3 border rounded-lg ${m.city?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),m.city&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"State"}),n.jsx("input",{type:"text",name:"state",value:u.state,onChange:P,className:`w-full p-3 border rounded-lg ${m.state?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),m.state&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m.state})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"Country"}),n.jsx("input",{type:"text",name:"country",value:u.country,onChange:P,className:`w-full p-3 border rounded-lg ${m.country?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),m.country&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m.country})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"Postal Code"}),n.jsx("input",{type:"text",name:"postalCode",value:u.postalCode,onChange:P,className:`w-full p-3 border rounded-lg ${m.postalCode?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),m.postalCode&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m.postalCode})]}),n.jsxs("div",{className:"col-span-1 md:col-span-2",children:[n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",disabled:r,children:y?"Update Address":"Add Address"}),y&&n.jsx("button",{type:"button",onClick:()=>{f({street:"",city:"",state:"",country:"",postalCode:""}),x(null),p({})},className:"ml-2 px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]}),n.jsxs("div",{className:"rounded-lg p-6 border border-gray-300 dark:border-gray-300",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Saved Addresses"}),c.length===0?n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block p-4 rounded-full mb-2 bg-gray-100",children:n.jsx("i",{className:"bx bx-map text-2xl"})}),n.jsx("p",{className:"text-gray-400 dark:text-gray-300",children:"No addresses found!"})]}):n.jsx("div",{className:"space-y-4",children:c.map(L=>n.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:L.street}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[L.city,", ",L.state,", ",L.postalCode,", ",L.country]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>I(L),className:"text-blue-500 hover:text-blue-700",children:n.jsx("i",{className:"bx bx-edit text-lg"})}),n.jsx("button",{onClick:()=>M(L.id),className:"text-red-500 hover:text-red-700",children:n.jsx("i",{className:"bx bx-trash text-lg"})})]})]},L.id))})]})]})]})})}function Kne(){const[r,e]=C.useState(!0),[t,s]=C.useState(""),[a,i]=C.useState({name:"",username:"",email:"",country:"",phone:"",address:""}),[o,l]=C.useState(localStorage.getItem("profileImage")||null),[c,d]=C.useState(""),[u,f]=C.useState(""),[m,p]=C.useState(""),[y,x]=C.useState(""),[v,N]=C.useState(!1),[k,S]=C.useState(!1),[R,A]=C.useState(!0),[D,P]=C.useState(localStorage.getItem("theme")||"light"),E=_s(),I="https://via.placeholder.com/150?text=Profile";C.useEffect(()=>{const X=Pe.onAuthStateChanged(async ee=>{if(e(!0),!ee){s("Please sign in to edit your profile."),l(null),e(!1);return}try{const W=Te(J,"users",ee.uid),B=await ft(W);if(!B.exists()){s("User profile not found."),e(!1);return}const G=B.data(),te=G.addresses||[],re=te[0]?.street?`${te[0].street}, ${te[0].city}, ${te[0].state}, ${te[0].postalCode}, ${te[0].country}`:"Not provided";i({name:G.name||ee.displayName||"Emmanuel Chinecherem",username:G.username||"emmachi789",email:ee.email||"",country:G.country||"",phone:G.phoneNumber||"Not provided",address:re})}catch(W){s("Failed to load profile data."),console.error("Error loading profile:",W)}finally{e(!1)}});return document.documentElement.classList.toggle("dark",D==="dark"),()=>X()},[D]);const M=X=>{const{name:ee,value:W}=X.target;i(B=>({...B,[ee]:W}))},L=X=>{const ee=X.target.files[0];if(ee){if(!ee.type.startsWith("image/")){d("Please upload a valid image file.");return}if(ee.size>5*1024*1024){d("Image size must be less than 5MB.");return}d(""),e(!0);try{const W=new FileReader;W.onload=()=>{const B=W.result;l(B),localStorage.setItem("profileImage",B),window.dispatchEvent(new Event("profileImageUpdated")),Me.success("Profile image updated successfully!")},W.readAsDataURL(ee)}catch(W){console.error("Error processing image:",W),d("Failed to process image. Please try again.")}finally{e(!1)}}},z=async()=>{x("");const X=Pe.currentUser;if(!X){x("Please sign in to change your password.");return}if(!u||!m){x("Please fill in both current and new password fields.");return}if(m.length<6){x("New password must be at least 6 characters long.");return}if(!/[A-Z]/.test(m)||!/[0-9]/.test(m)){x("New password must contain at least one uppercase letter and one number.");return}e(!0);try{const ee=lc.credential(X.email,u);await aO(X,ee),await t$(X,m),f(""),p(""),Me.success("Password updated successfully!")}catch(ee){console.error("Error changing password:",ee),ee.code==="auth/wrong-password"?x("Current password is incorrect."):ee.code==="auth/requires-recent-login"?(x("Please log out and log in again to change your password."),E("/login")):x("Failed to change password. Please try again.")}finally{e(!1)}},F=async()=>{const X=Pe.currentUser;if(!X){s("Please sign in to save changes.");return}e(!0);try{const ee=a.address.split(", "),W=ee.length===5?{street:ee[0],city:ee[1],state:ee[2],postalCode:ee[3],country:ee[4]}:{street:a.address,city:"",state:"",postalCode:"",country:a.country};await _n(Te(J,"users",X.uid),{name:a.name,username:a.username,country:a.country,phoneNumber:a.phone==="Not provided"?"":a.phone,addresses:[W]}),localStorage.setItem("userData",JSON.stringify(a)),window.dispatchEvent(new Event("userDataUpdated")),Me.success("Profile updated successfully!")}catch(ee){console.error("Error saving profile:",ee),s("Failed to save profile. Please try again.")}finally{e(!1)}},V=async()=>{e(!0);try{await Pe.signOut(),localStorage.removeItem("userData"),localStorage.removeItem("profileImage"),l(null),window.dispatchEvent(new Event("profileImageUpdated")),E("/login"),Me.success("Logged out successfully!")}catch(X){console.error("Error logging out:",X),s("Failed to log out. Please try again.")}finally{e(!1)}},$=()=>{const X=D==="light"?"dark":"light";P(X),localStorage.setItem("theme",X),document.documentElement.setAttribute("data-theme",X)},Y=()=>o?n.jsx("img",{src:o,alt:"Profile",className:"w-full h-full object-cover",onError:()=>l(I)}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300 text-white text-2xl font-bold uppercase",children:a.email[0]||"?"});return r?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(mi,{}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-4",children:"Loading..."})]}):t?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:t}),n.jsx("button",{onClick:()=>s(""),className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 transition-colors",children:"Retry"})]}):n.jsx("div",{className:"container mx-auto mb-10 px-4 py-8 text-gray-800 dark:text-gray-700",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx(Ud,{}),n.jsxs("div",{className:"md:w-3/4",children:[n.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:"Settings"}),n.jsxs("div",{className:"rounded-lg p-6 dark:bg-gray-800 shadow-md border border-gray-100 dark:border-black",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[n.jsx(tc,{size:20})," Profile Picture"]}),n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden shadow hover:bg-gray-300 transition-colors duration-300",children:Y()}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("label",{className:"cursor-pointer text-blue-600 hover:text-blue-400 flex items-center gap-1",children:[n.jsx(RF,{size:16})," Choose Image",n.jsx("input",{type:"file",accept:"image/*",onChange:L,className:"hidden"})]}),c&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:c})]})]}),n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[n.jsx(tc,{size:20})," Personal Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Name"}),n.jsx("input",{type:"text",name:"name",value:a.name,onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Username"}),n.jsx("input",{type:"text",name:"username",value:a.username,onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your username"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Email"}),n.jsx("input",{type:"email",name:"email",value:a.email,onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-400",disabled:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Country"}),n.jsx("input",{type:"text",name:"country",value:a.country,onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your country"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Phone"}),n.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your phone number"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Address"}),n.jsx("input",{type:"text",name:"address",value:a.address,onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your address"})]})]}),n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[n.jsx(_F,{size:20})," Security"]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:v?"text":"password",value:u,onChange:X=>f(X.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter current password"}),n.jsx("button",{onClick:()=>N(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-300",children:v?n.jsx(EI,{size:16}):n.jsx(TI,{size:16})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:k?"text":"password",value:m,onChange:X=>p(X.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter new password"}),n.jsx("button",{onClick:()=>S(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-300",children:k?n.jsx(EI,{size:16}):n.jsx(TI,{size:16})})]})]})]}),y&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-2",children:y}),n.jsx("button",{onClick:z,className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 transition-colors",children:"Change Password"})]}),n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[n.jsx(XS,{size:20})," Preferences"]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Email Notifications"}),n.jsx("input",{type:"checkbox",checked:R,onChange:()=>A(!R),className:"h-5 w-5 text-blue-600 dark:bg-gray-700"})]}),n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Theme"}),n.jsxs("button",{onClick:$,className:"px-6 py-2 bg-gray-200 dark:bg-gray-600 rounded-lg shadow hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:[D==="light"?n.jsx(Are,{size:16,className:"inline mr-1"}):n.jsx(Jre,{size:16,className:"inline mr-1"}),D==="light"?"Switch to Dark":"Switch to Light"]})]})]}),n.jsx("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200"}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[n.jsxs("button",{onClick:V,className:"px-3 py-2 bg-gray-900 text-white rounded-lg shadow-md hover:bg-red-900 transition-colors flex items-center gap-1",children:[n.jsx(xre,{size:16})," Log Out"]}),n.jsxs(ve,{to:"/profile",className:"px-6 py-2 bg-gray-300 text-gray-800 rounded-lg shadow-md hover:bg-gray-400 transition-colors dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 flex items-center gap-1",children:[n.jsx(od,{size:16})," Cancel"]}),n.jsxs("button",{onClick:F,className:"px-3 py-2 bg-gray-700 text-white rounded-lg shadow-md hover:bg-gray-800 transition-colors flex items-center gap-1",children:[n.jsx(Fre,{size:16})," Save Changes"]})]}),t&&n.jsx("p",{className:"text-red-600 dark:text-red-400 mt-2",children:t})]})]})]})})}const Zne=()=>{const[r,e]=C.useState([]),[t,s]=C.useState({}),[a,i]=C.useState(!0),[o,l]=C.useState({}),c=C.useRef({}),d=y=>[/\d{5,}/,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}\b/,/\b(?:\d{4}[- ]?){3}\d{4}\b|\b\d{16}\b/,/(contact me via|whatsapp|telegram|linkedin|call me|sms)/i,/(http|https|www\.)/i,/\b\d{10,}\b/,/(bank account|routing number|ssn|social security)/i,/(<script>|<\/script>|javascript:)/i,/(password|pin|otp)/i,/(\bfree\s+money\b|\bclick here\b|\bsubscribe\b|\boffer\b)/i].some(v=>v.test(y));C.useEffect(()=>{if(!Pe.currentUser){i(!1);return}const y=Et(Ie(J,"messages"),mh("createdAt","asc")),x=is(y,async v=>{const N=v.docs.map(S=>({id:S.id,...S.data()})),k={};await Promise.all(N.filter(S=>S.senderId===Pe.currentUser.uid||S.receiverId===Pe.currentUser.uid).map(async S=>{const R=S.senderId!==Pe.currentUser.uid?S.senderId:S.receiverId;if(k[S.conversationId])k[S.conversationId].messages.push(S);else try{const A=await ft(Te(J,"sellers",R)),D=A.exists()?A.data().name:R;k[S.conversationId]={conversationId:S.conversationId,sellerId:R,sellerName:D,messages:[S]}}catch{k[S.conversationId]={conversationId:S.conversationId,sellerId:R,sellerName:R,messages:[S]}}})),e(Object.values(k)),i(!1)});return()=>x()},[]);const u=y=>{s(x=>({...x,[y]:!x[y]})),setTimeout(()=>m(y),100)},f=async y=>{const x=o[y.conversationId];if(!(!x||d(x)))try{await cn(Ie(J,"messages"),{conversationId:y.conversationId,senderId:Pe.currentUser.uid,receiverId:y.sellerId,text:x,createdAt:Wn()}),l(v=>({...v,[y.conversationId]:""})),m(y.conversationId)}catch(v){console.error("Error sending message:",v.message)}},m=y=>{c.current[y]&&(c.current[y].scrollTop=c.current[y].scrollHeight)},p=y=>y?y.split(" ").map(x=>x[0]).join("").toUpperCase():"?";return a?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(mi,{}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading chats..."})]}):n.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-200 mb-20",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx(Ud,{}),n.jsxs(vt.div,{className:"md:w-3/4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Your Conversations"}),r.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mt-10",children:"No messages yet"}):n.jsx("div",{className:"space-y-4",children:r.map(y=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:[n.jsxs("div",{onClick:()=>u(y.conversationId),className:"cursor-pointer flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold",children:p(y.sellerName)}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Seller"}),n.jsx("span",{className:"ml-auto text-gray-400",children:t[y.conversationId]?"":""})]}),n.jsx(Zn,{children:t[y.conversationId]&&n.jsxs(vt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex flex-col gap-2 max-h-96 overflow-y-auto p-2 border-t border-gray-200 dark:border-gray-700",ref:x=>c.current[y.conversationId]=x,children:[y.messages.map(x=>n.jsxs("div",{className:`max-w-xs p-2 rounded-lg ${x.senderId===Pe.currentUser.uid?"bg-blue-500 text-white self-end":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 self-start"}`,children:[n.jsx("p",{className:"text-sm",children:d(x.text)?" Restricted Message":x.text}),n.jsx("span",{className:"text-xs text-gray-400",children:x.createdAt?.toDate?new Date(x.createdAt.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]},x.id)),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx("input",{type:"text",value:o[y.conversationId]||"",onChange:x=>l(v=>({...v,[y.conversationId]:x.target.value})),placeholder:"Type a message...",className:"flex-1 p-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-gray-200"}),n.jsx("button",{onClick:()=>f(y),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition",children:"Send"})]})]})})]},y.conversationId))})]})]})})};var s0={},am={},r0={},JI;function Cn(){if(JI)return r0;JI=1,Object.defineProperty(r0,"__esModule",{value:!0});function r(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}var e=function t(s,a){r(this,t),this.data=s,this.text=a.text||s,this.options=a};return r0.default=e,r0}var eD;function Qne(){if(eD)return am;eD=1,Object.defineProperty(am,"__esModule",{value:!0}),am.CODE39=void 0;var r=(function(){function x(v,N){for(var k=0;k<N.length;k++){var S=N[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,N,k){return N&&x(v.prototype,N),k&&x(v,k),v}})(),e=Cn(),t=s(e);function s(x){return x&&x.__esModule?x:{default:x}}function a(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function i(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function o(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var l=(function(x){o(v,x);function v(N,k){return a(this,v),N=N.toUpperCase(),k.mod43&&(N+=m(y(N))),i(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,N,k))}return r(v,[{key:"encode",value:function(){for(var k=u("*"),S=0;S<this.data.length;S++)k+=u(this.data[S])+"0";return k+=u("*"),{data:k,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),v})(t.default),c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],d=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function u(x){return f(p(x))}function f(x){return d[x].toString(2)}function m(x){return c[x]}function p(x){return c.indexOf(x)}function y(x){for(var v=0,N=0;N<x.length;N++)v+=p(x[N]);return v=v%43,v}return am.CODE39=l,am}var ai={},a0={},n0={},Er={},tD;function cp(){if(tD)return Er;tD=1,Object.defineProperty(Er,"__esModule",{value:!0});var r;function e(c,d,u){return d in c?Object.defineProperty(c,d,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[d]=u,c}var t=Er.SET_A=0,s=Er.SET_B=1,a=Er.SET_C=2;Er.SHIFT=98;var i=Er.START_A=103,o=Er.START_B=104,l=Er.START_C=105;return Er.MODULO=103,Er.STOP=106,Er.FNC1=207,Er.SET_BY_CODE=(r={},e(r,i,t),e(r,o,s),e(r,l,a),r),Er.SWAP={101:t,100:s,99:a},Er.A_START_CHAR="",Er.B_START_CHAR="",Er.C_START_CHAR="",Er.A_CHARS="[\0-_-]",Er.B_CHARS="[ --]",Er.C_CHARS="(*[0-9]{2}*)",Er.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Er}var sD;function vv(){if(sD)return n0;sD=1,Object.defineProperty(n0,"__esModule",{value:!0});var r=(function(){function d(u,f){for(var m=0;m<f.length;m++){var p=f[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,f,m){return f&&d(u.prototype,f),m&&d(u,m),u}})(),e=Cn(),t=a(e),s=cp();function a(d){return d&&d.__esModule?d:{default:d}}function i(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(f,m){i(this,u);var p=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,f.substring(1),m));return p.bytes=f.split("").map(function(y){return y.charCodeAt(0)}),p}return r(u,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var m=this.bytes,p=m.shift()-105,y=s.SET_BY_CODE[p];if(y===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&m.unshift(s.FNC1);var x=u.next(m,1,y);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:u.getBar(p)+x.result+u.getBar((x.checksum+p)%s.MODULO)+u.getBar(s.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var m=this.options.ean128||!1;return typeof m=="string"&&(m=m.toLowerCase()==="true"),m}}],[{key:"getBar",value:function(m){return s.BARS[m]?s.BARS[m].toString():""}},{key:"correctIndex",value:function(m,p){if(p===s.SET_A){var y=m.shift();return y<32?y+64:y-32}else return p===s.SET_B?m.shift()-32:(m.shift()-48)*10+m.shift()-48}},{key:"next",value:function(m,p,y){if(!m.length)return{result:"",checksum:0};var x=void 0,v=void 0;if(m[0]>=200){v=m.shift()-105;var N=s.SWAP[v];N!==void 0?x=u.next(m,p+1,N):((y===s.SET_A||y===s.SET_B)&&v===s.SHIFT&&(m[0]=y===s.SET_A?m[0]>95?m[0]-96:m[0]:m[0]<32?m[0]+96:m[0]),x=u.next(m,p+1,y))}else v=u.correctIndex(m,y),x=u.next(m,p+1,y);var k=u.getBar(v),S=v*p;return{result:k+x.result,checksum:S+x.checksum}}}]),u})(t.default);return n0.default=c,n0}var i0={},rD;function Jne(){if(rD)return i0;rD=1,Object.defineProperty(i0,"__esModule",{value:!0});var r=cp(),e=function(l){return l.match(new RegExp("^"+r.A_CHARS+"*"))[0].length},t=function(l){return l.match(new RegExp("^"+r.B_CHARS+"*"))[0].length},s=function(l){return l.match(new RegExp("^"+r.C_CHARS+"*"))[0]};function a(o,l){var c=l?r.A_CHARS:r.B_CHARS,d=o.match(new RegExp("^("+c+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(d)return d[1]+""+i(o.substring(d[1].length));var u=o.match(new RegExp("^"+c+"+"))[0];return u.length===o.length?o:u+String.fromCharCode(l?205:206)+a(o.substring(u.length),!l)}function i(o){var l=s(o),c=l.length;if(c===o.length)return o;o=o.substring(c);var d=e(o)>=t(o);return l+String.fromCharCode(d?206:205)+a(o,d)}return i0.default=function(o){var l=void 0,c=s(o).length;if(c>=2)l=r.C_START_CHAR+i(o);else{var d=e(o)>t(o);l=(d?r.A_START_CHAR:r.B_START_CHAR)+a(o,d)}return l.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(u,f){return""+f})},i0}var aD;function eie(){if(aD)return a0;aD=1,Object.defineProperty(a0,"__esModule",{value:!0});var r=vv(),e=a(r),t=Jne(),s=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function i(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(f,m){if(i(this,u),/^[\x00-\x7F\xC8-\xD3]+$/.test(f))var p=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,(0,s.default)(f),m));else var p=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,f,m));return o(p)}return u})(e.default);return a0.default=c,a0}var o0={},nD;function tie(){if(nD)return o0;nD=1,Object.defineProperty(o0,"__esModule",{value:!0});var r=(function(){function d(u,f){for(var m=0;m<f.length;m++){var p=f[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,f,m){return f&&d(u.prototype,f),m&&d(u,m),u}})(),e=vv(),t=a(e),s=cp();function a(d){return d&&d.__esModule?d:{default:d}}function i(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(f,m){return i(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,s.A_START_CHAR+f,m))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+s.A_CHARS+"+$").test(this.data)}}]),u})(t.default);return o0.default=c,o0}var l0={},iD;function sie(){if(iD)return l0;iD=1,Object.defineProperty(l0,"__esModule",{value:!0});var r=(function(){function d(u,f){for(var m=0;m<f.length;m++){var p=f[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,f,m){return f&&d(u.prototype,f),m&&d(u,m),u}})(),e=vv(),t=a(e),s=cp();function a(d){return d&&d.__esModule?d:{default:d}}function i(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(f,m){return i(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,s.B_START_CHAR+f,m))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+s.B_CHARS+"+$").test(this.data)}}]),u})(t.default);return l0.default=c,l0}var c0={},oD;function rie(){if(oD)return c0;oD=1,Object.defineProperty(c0,"__esModule",{value:!0});var r=(function(){function d(u,f){for(var m=0;m<f.length;m++){var p=f[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,f,m){return f&&d(u.prototype,f),m&&d(u,m),u}})(),e=vv(),t=a(e),s=cp();function a(d){return d&&d.__esModule?d:{default:d}}function i(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(f,m){return i(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,s.C_START_CHAR+f,m))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+s.C_CHARS+"+$").test(this.data)}}]),u})(t.default);return c0.default=c,c0}var lD;function aie(){if(lD)return ai;lD=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.CODE128C=ai.CODE128B=ai.CODE128A=ai.CODE128=void 0;var r=eie(),e=c(r),t=tie(),s=c(t),a=sie(),i=c(a),o=rie(),l=c(o);function c(d){return d&&d.__esModule?d:{default:d}}return ai.CODE128=e.default,ai.CODE128A=s.default,ai.CODE128B=i.default,ai.CODE128C=l.default,ai}var za={},d0={},Ao={},cD;function dp(){return cD||(cD=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.SIDE_BIN="101",Ao.MIDDLE_BIN="01010",Ao.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},Ao.EAN2_STRUCTURE=["LL","LG","GL","GG"],Ao.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],Ao.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),Ao}var u0={},h0={},dD;function up(){if(dD)return h0;dD=1,Object.defineProperty(h0,"__esModule",{value:!0});var r=dp(),e=function(s,a,i){var o=s.split("").map(function(c,d){return r.BINARIES[a[d]]}).map(function(c,d){return c?c[s[d]]:""});if(i){var l=s.length-1;o=o.map(function(c,d){return d<l?c+i:c})}return o.join("")};return h0.default=e,h0}var uD;function ZF(){if(uD)return u0;uD=1,Object.defineProperty(u0,"__esModule",{value:!0});var r=(function(){function f(m,p){for(var y=0;y<p.length;y++){var x=p[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,p,y){return p&&f(m.prototype,p),y&&f(m,y),m}})(),e=dp(),t=up(),s=o(t),a=Cn(),i=o(a);function o(f){return f&&f.__esModule?f:{default:f}}function l(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function c(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function d(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var u=(function(f){d(m,f);function m(p,y){l(this,m);var x=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,p,y));return x.fontSize=!y.flat&&y.fontSize>y.width*10?y.width*10:y.fontSize,x.guardHeight=y.height+x.fontSize/2+y.textMargin,x}return r(m,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(y,x){return this.text.substr(y,x)}},{key:"leftEncode",value:function(y,x){return(0,s.default)(y,x)}},{key:"rightText",value:function(y,x){return this.text.substr(y,x)}},{key:"rightEncode",value:function(y,x){return(0,s.default)(y,x)}},{key:"encodeGuarded",value:function(){var y={fontSize:this.fontSize},x={height:this.guardHeight};return[{data:e.SIDE_BIN,options:x},{data:this.leftEncode(),text:this.leftText(),options:y},{data:e.MIDDLE_BIN,options:x},{data:this.rightEncode(),text:this.rightText(),options:y},{data:e.SIDE_BIN,options:x}]}},{key:"encodeFlat",value:function(){var y=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:y.join(""),text:this.text}}}]),m})(i.default);return u0.default=u,u0}var hD;function nie(){if(hD)return d0;hD=1,Object.defineProperty(d0,"__esModule",{value:!0});var r=(function(){function f(m,p){for(var y=0;y<p.length;y++){var x=p[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,p,y){return p&&f(m.prototype,p),y&&f(m,y),m}})(),e=function f(m,p,y){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,p);if(x===void 0){var v=Object.getPrototypeOf(m);return v===null?void 0:f(v,p,y)}else{if("value"in x)return x.value;var N=x.get;return N===void 0?void 0:N.call(y)}},t=dp(),s=ZF(),a=i(s);function i(f){return f&&f.__esModule?f:{default:f}}function o(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function l(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function c(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var d=function(m){var p=m.substr(0,12).split("").map(function(y){return+y}).reduce(function(y,x,v){return v%2?y+x*3:y+x},0);return(10-p%10)%10},u=(function(f){c(m,f);function m(p,y){o(this,m),p.search(/^[0-9]{12}$/)!==-1&&(p+=d(p));var x=l(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,p,y));return x.lastChar=y.lastChar,x}return r(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===d(this.data)}},{key:"leftText",value:function(){return e(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var y=this.data.substr(1,6),x=t.EAN13_STRUCTURE[this.data[0]];return e(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"leftEncode",this).call(this,y,x)}},{key:"rightText",value:function(){return e(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var y=this.data.substr(7,6);return e(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"rightEncode",this).call(this,y,"RRRRRR")}},{key:"encodeGuarded",value:function(){var y=e(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(y.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(y.push({data:"00"}),y.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),y}}]),m})(a.default);return d0.default=u,d0}var f0={},fD;function iie(){if(fD)return f0;fD=1,Object.defineProperty(f0,"__esModule",{value:!0});var r=(function(){function u(f,m){for(var p=0;p<m.length;p++){var y=m[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return function(f,m,p){return m&&u(f.prototype,m),p&&u(f,p),f}})(),e=function u(f,m,p){f===null&&(f=Function.prototype);var y=Object.getOwnPropertyDescriptor(f,m);if(y===void 0){var x=Object.getPrototypeOf(f);return x===null?void 0:u(x,m,p)}else{if("value"in y)return y.value;var v=y.get;return v===void 0?void 0:v.call(p)}},t=ZF(),s=a(t);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function o(u,f){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:u}function l(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(u,f):u.__proto__=f)}var c=function(f){var m=f.substr(0,7).split("").map(function(p){return+p}).reduce(function(p,y,x){return x%2?p+y:p+y*3},0);return(10-m%10)%10},d=(function(u){l(f,u);function f(m,p){return i(this,f),m.search(/^[0-9]{7}$/)!==-1&&(m+=c(m)),o(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m,p))}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===c(this.data)}},{key:"leftText",value:function(){return e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var p=this.data.substr(0,4);return e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftEncode",this).call(this,p,"LLLL")}},{key:"rightText",value:function(){return e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var p=this.data.substr(4,4);return e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightEncode",this).call(this,p,"RRRR")}}]),f})(s.default);return f0.default=d,f0}var m0={},mD;function oie(){if(mD)return m0;mD=1,Object.defineProperty(m0,"__esModule",{value:!0});var r=(function(){function m(p,y){for(var x=0;x<y.length;x++){var v=y[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,y,x){return y&&m(p.prototype,y),x&&m(p,x),p}})(),e=dp(),t=up(),s=o(t),a=Cn(),i=o(a);function o(m){return m&&m.__esModule?m:{default:m}}function l(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function c(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var u=function(p){var y=p.split("").map(function(x){return+x}).reduce(function(x,v,N){return N%2?x+v*9:x+v*3},0);return y%10},f=(function(m){d(p,m);function p(y,x){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y,x))}return r(p,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var x=e.EAN5_STRUCTURE[u(this.data)];return{data:"1011"+(0,s.default)(this.data,x,"01"),text:this.text}}}]),p})(i.default);return m0.default=f,m0}var g0={},gD;function lie(){if(gD)return g0;gD=1,Object.defineProperty(g0,"__esModule",{value:!0});var r=(function(){function f(m,p){for(var y=0;y<p.length;y++){var x=p[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,p,y){return p&&f(m.prototype,p),y&&f(m,y),m}})(),e=dp(),t=up(),s=o(t),a=Cn(),i=o(a);function o(f){return f&&f.__esModule?f:{default:f}}function l(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function c(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function d(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var u=(function(f){d(m,f);function m(p,y){return l(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,p,y))}return r(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var y=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,s.default)(this.data,y,"01"),text:this.text}}}]),m})(i.default);return g0.default=u,g0}var nm={},pD;function QF(){if(pD)return nm;pD=1,Object.defineProperty(nm,"__esModule",{value:!0});var r=(function(){function f(m,p){for(var y=0;y<p.length;y++){var x=p[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,p,y){return p&&f(m.prototype,p),y&&f(m,y),m}})();nm.checksum=u;var e=up(),t=i(e),s=Cn(),a=i(s);function i(f){return f&&f.__esModule?f:{default:f}}function o(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function l(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function c(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var d=(function(f){c(m,f);function m(p,y){o(this,m),p.search(/^[0-9]{11}$/)!==-1&&(p+=u(p));var x=l(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,p,y));return x.displayValue=y.displayValue,y.fontSize>y.width*10?x.fontSize=y.width*10:x.fontSize=y.fontSize,x.guardHeight=y.height+x.fontSize/2+y.textMargin,x}return r(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==u(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var y="";return y+="101",y+=(0,t.default)(this.data.substr(0,6),"LLLLLL"),y+="01010",y+=(0,t.default)(this.data.substr(6,6),"RRRRRR"),y+="101",{data:y,text:this.text}}},{key:"guardedEncoding",value:function(){var y=[];return this.displayValue&&y.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),y.push({data:"101"+(0,t.default)(this.data[0],"L"),options:{height:this.guardHeight}}),y.push({data:(0,t.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),y.push({data:"01010",options:{height:this.guardHeight}}),y.push({data:(0,t.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),y.push({data:(0,t.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&y.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),y}}]),m})(a.default);function u(f){var m=0,p;for(p=1;p<11;p+=2)m+=parseInt(f[p]);for(p=0;p<11;p+=2)m+=parseInt(f[p])*3;return(10-m%10)%10}return nm.default=d,nm}var p0={},xD;function cie(){if(xD)return p0;xD=1,Object.defineProperty(p0,"__esModule",{value:!0});var r=(function(){function y(x,v){for(var N=0;N<v.length;N++){var k=v[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,v,N){return v&&y(x.prototype,v),N&&y(x,N),x}})(),e=up(),t=o(e),s=Cn(),a=o(s),i=QF();function o(y){return y&&y.__esModule?y:{default:y}}function l(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function c(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function d(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var u=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],f=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],m=(function(y){d(x,y);function x(v,N){l(this,x);var k=c(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,v,N));if(k.isValid=!1,v.search(/^[0-9]{6}$/)!==-1)k.middleDigits=v,k.upcA=p(v,"0"),k.text=N.text||""+k.upcA[0]+v+k.upcA[k.upcA.length-1],k.isValid=!0;else if(v.search(/^[01][0-9]{7}$/)!==-1)if(k.middleDigits=v.substring(1,v.length-1),k.upcA=p(k.middleDigits,v[0]),k.upcA[k.upcA.length-1]===v[v.length-1])k.isValid=!0;else return c(k);else return c(k);return k.displayValue=N.displayValue,N.fontSize>N.width*10?k.fontSize=N.width*10:k.fontSize=N.fontSize,k.guardHeight=N.height+k.fontSize/2+N.textMargin,k}return r(x,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var N="";return N+="101",N+=this.encodeMiddleDigits(),N+="010101",{data:N,text:this.text}}},{key:"guardedEncoding",value:function(){var N=[];return this.displayValue&&N.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),N.push({data:"101",options:{height:this.guardHeight}}),N.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),N.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&N.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),N}},{key:"encodeMiddleDigits",value:function(){var N=this.upcA[0],k=this.upcA[this.upcA.length-1],S=f[parseInt(k)][parseInt(N)];return(0,t.default)(this.middleDigits,S)}}]),x})(a.default);function p(y,x){for(var v=parseInt(y[y.length-1]),N=u[v],k="",S=0,R=0;R<N.length;R++){var A=N[R];A==="X"?k+=y[S++]:k+=A}return k=""+x+k,""+k+(0,i.checksum)(k)}return p0.default=m,p0}var bD;function die(){if(bD)return za;bD=1,Object.defineProperty(za,"__esModule",{value:!0}),za.UPCE=za.UPC=za.EAN2=za.EAN5=za.EAN8=za.EAN13=void 0;var r=nie(),e=m(r),t=iie(),s=m(t),a=oie(),i=m(a),o=lie(),l=m(o),c=QF(),d=m(c),u=cie(),f=m(u);function m(p){return p&&p.__esModule?p:{default:p}}return za.EAN13=e.default,za.EAN8=s.default,za.EAN5=i.default,za.EAN2=l.default,za.UPC=d.default,za.UPCE=f.default,za}var zc={},x0={},Eu={},yD;function uie(){return yD||(yD=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.START_BIN="1010",Eu.END_BIN="11101",Eu.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),Eu}var vD;function JF(){if(vD)return x0;vD=1,Object.defineProperty(x0,"__esModule",{value:!0});var r=(function(){function d(u,f){for(var m=0;m<f.length;m++){var p=f[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,f,m){return f&&d(u.prototype,f),m&&d(u,m),u}})(),e=uie(),t=Cn(),s=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function i(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(){return i(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return r(u,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var m=this,p=this.data.match(/.{2}/g).map(function(y){return m.encodePair(y)}).join("");return{data:e.START_BIN+p+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(m){var p=e.BINARIES[m[1]];return e.BINARIES[m[0]].split("").map(function(y,x){return(y==="1"?"111":"1")+(p[x]==="1"?"000":"0")}).join("")}}]),u})(s.default);return x0.default=c,x0}var b0={},wD;function hie(){if(wD)return b0;wD=1,Object.defineProperty(b0,"__esModule",{value:!0});var r=(function(){function d(u,f){for(var m=0;m<f.length;m++){var p=f[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,f,m){return f&&d(u.prototype,f),m&&d(u,m),u}})(),e=JF(),t=s(e);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function i(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function o(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var l=function(u){var f=u.substr(0,13).split("").map(function(m){return parseInt(m,10)}).reduce(function(m,p,y){return m+p*(3-y%2*2)},0);return Math.ceil(f/10)*10-f},c=(function(d){o(u,d);function u(f,m){return a(this,u),f.search(/^[0-9]{13}$/)!==-1&&(f+=l(f)),i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,f,m))}return r(u,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===l(this.data)}}]),u})(t.default);return b0.default=c,b0}var ND;function fie(){if(ND)return zc;ND=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.ITF14=zc.ITF=void 0;var r=JF(),e=a(r),t=hie(),s=a(t);function a(i){return i&&i.__esModule?i:{default:i}}return zc.ITF=e.default,zc.ITF14=s.default,zc}var yn={},y0={},jD;function hp(){if(jD)return y0;jD=1,Object.defineProperty(y0,"__esModule",{value:!0});var r=(function(){function d(u,f){for(var m=0;m<f.length;m++){var p=f[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,f,m){return f&&d(u.prototype,f),m&&d(u,m),u}})(),e=Cn(),t=s(e);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function i(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function o(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var l=(function(d){o(u,d);function u(f,m){return a(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,f,m))}return r(u,[{key:"encode",value:function(){for(var m="110",p=0;p<this.data.length;p++){var y=parseInt(this.data[p]),x=y.toString(2);x=c(x,4-x.length);for(var v=0;v<x.length;v++)m+=x[v]=="0"?"100":"110"}return m+="1001",{data:m,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),u})(t.default);function c(d,u){for(var f=0;f<u;f++)d="0"+d;return d}return y0.default=l,y0}var v0={},im={},kD;function wv(){if(kD)return im;kD=1,Object.defineProperty(im,"__esModule",{value:!0}),im.mod10=r,im.mod11=e;function r(t){for(var s=0,a=0;a<t.length;a++){var i=parseInt(t[a]);(a+t.length)%2===0?s+=i:s+=i*2%10+Math.floor(i*2/10)}return(10-s%10)%10}function e(t){for(var s=0,a=[2,3,4,5,6,7],i=0;i<t.length;i++){var o=parseInt(t[t.length-1-i]);s+=a[i%a.length]*o}return(11-s%11)%11}return im}var SD;function mie(){if(SD)return v0;SD=1,Object.defineProperty(v0,"__esModule",{value:!0});var r=hp(),e=s(r),t=wv();function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function i(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,f){return a(this,d),i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u+(0,t.mod10)(u),f))}return d})(e.default);return v0.default=l,v0}var w0={},_D;function gie(){if(_D)return w0;_D=1,Object.defineProperty(w0,"__esModule",{value:!0});var r=hp(),e=s(r),t=wv();function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function i(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,f){return a(this,d),i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u+(0,t.mod11)(u),f))}return d})(e.default);return w0.default=l,w0}var N0={},AD;function pie(){if(AD)return N0;AD=1,Object.defineProperty(N0,"__esModule",{value:!0});var r=hp(),e=s(r),t=wv();function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function i(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,f){return a(this,d),u+=(0,t.mod10)(u),u+=(0,t.mod10)(u),i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,f))}return d})(e.default);return N0.default=l,N0}var j0={},CD;function xie(){if(CD)return j0;CD=1,Object.defineProperty(j0,"__esModule",{value:!0});var r=hp(),e=s(r),t=wv();function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function i(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,f){return a(this,d),u+=(0,t.mod11)(u),u+=(0,t.mod10)(u),i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,f))}return d})(e.default);return j0.default=l,j0}var ED;function bie(){if(ED)return yn;ED=1,Object.defineProperty(yn,"__esModule",{value:!0}),yn.MSI1110=yn.MSI1010=yn.MSI11=yn.MSI10=yn.MSI=void 0;var r=hp(),e=u(r),t=mie(),s=u(t),a=gie(),i=u(a),o=pie(),l=u(o),c=xie(),d=u(c);function u(f){return f&&f.__esModule?f:{default:f}}return yn.MSI=e.default,yn.MSI10=s.default,yn.MSI11=i.default,yn.MSI1010=l.default,yn.MSI1110=d.default,yn}var om={},TD;function yie(){if(TD)return om;TD=1,Object.defineProperty(om,"__esModule",{value:!0}),om.pharmacode=void 0;var r=(function(){function c(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&c(d.prototype,u),f&&c(d,f),d}})(),e=Cn(),t=s(e);function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function i(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,f){a(this,d);var m=i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,f));return m.number=parseInt(u,10),m}return r(d,[{key:"encode",value:function(){for(var f=this.number,m="";!isNaN(f)&&f!=0;)f%2===0?(m="11100"+m,f=(f-2)/2):(m="100"+m,f=(f-1)/2);return m=m.slice(0,-2),{data:m,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),d})(t.default);return om.pharmacode=l,om}var lm={},PD;function vie(){if(PD)return lm;PD=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.codabar=void 0;var r=(function(){function c(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&c(d.prototype,u),f&&c(d,f),d}})(),e=Cn(),t=s(e);function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function i(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,f){a(this,d),u.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(u="A"+u+"A");var m=i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u.toUpperCase(),f));return m.text=m.options.text||m.text.replace(/[A-D]/g,""),m}return r(d,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var f=[],m=this.getEncodings(),p=0;p<this.data.length;p++)f.push(m[this.data.charAt(p)]),p!==this.data.length-1&&f.push("0");return{text:this.text,data:f.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),d})(t.default);return lm.codabar=l,lm}var Bc={},k0={},Tu={},RD;function wie(){return RD||(RD=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],Tu.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Tu.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Tu}var ID;function eU(){if(ID)return k0;ID=1,Object.defineProperty(k0,"__esModule",{value:!0});var r=(function(){function d(u,f){for(var m=0;m<f.length;m++){var p=f[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,f,m){return f&&d(u.prototype,f),m&&d(u,m),u}})(),e=wie(),t=Cn(),s=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function i(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(f,m){return i(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,f,m))}return r(u,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var m=this.data.split("").flatMap(function(v){return e.MULTI_SYMBOLS[v]||v}),p=m.map(function(v){return u.getEncoding(v)}).join(""),y=u.checksum(m,20),x=u.checksum(m.concat(y),15);return{text:this.text,data:u.getEncoding("")+p+u.getEncoding(y)+u.getEncoding(x)+u.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(m){return e.BINARIES[u.symbolValue(m)]}},{key:"getSymbol",value:function(m){return e.SYMBOLS[m]}},{key:"symbolValue",value:function(m){return e.SYMBOLS.indexOf(m)}},{key:"checksum",value:function(m,p){var y=m.slice().reverse().reduce(function(x,v,N){var k=N%p+1;return x+u.symbolValue(v)*k},0);return u.getSymbol(y%47)}}]),u})(s.default);return k0.default=c,k0}var S0={},DD;function Nie(){if(DD)return S0;DD=1,Object.defineProperty(S0,"__esModule",{value:!0});var r=(function(){function c(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&c(d.prototype,u),f&&c(d,f),d}})(),e=eU(),t=s(e);function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function i(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,f){return a(this,d),i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,f))}return r(d,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),d})(t.default);return S0.default=l,S0}var MD;function jie(){if(MD)return Bc;MD=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.CODE93FullASCII=Bc.CODE93=void 0;var r=eU(),e=a(r),t=Nie(),s=a(t);function a(i){return i&&i.__esModule?i:{default:i}}return Bc.CODE93=e.default,Bc.CODE93FullASCII=s.default,Bc}var cm={},OD;function kie(){if(OD)return cm;OD=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.GenericBarcode=void 0;var r=(function(){function c(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&c(d.prototype,u),f&&c(d,f),d}})(),e=Cn(),t=s(e);function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function i(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,f){return a(this,d),i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,f))}return r(d,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),d})(t.default);return cm.GenericBarcode=l,cm}var LD;function Sie(){if(LD)return s0;LD=1,Object.defineProperty(s0,"__esModule",{value:!0});var r=Qne(),e=aie(),t=die(),s=fie(),a=bie(),i=yie(),o=vie(),l=jie(),c=kie();return s0.default={CODE39:r.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:t.EAN13,EAN8:t.EAN8,EAN5:t.EAN5,EAN2:t.EAN2,UPC:t.UPC,UPCE:t.UPCE,ITF14:s.ITF14,ITF:s.ITF,MSI:a.MSI,MSI10:a.MSI10,MSI11:a.MSI11,MSI1010:a.MSI1010,MSI1110:a.MSI1110,pharmacode:i.pharmacode,codabar:o.codabar,CODE93:l.CODE93,CODE93FullASCII:l.CODE93FullASCII,GenericBarcode:c.GenericBarcode},s0}var _0={},FD;function Nv(){if(FD)return _0;FD=1,Object.defineProperty(_0,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e};return _0.default=function(e,t){return r({},e,t)},_0}var A0={},UD;function _ie(){if(UD)return A0;UD=1,Object.defineProperty(A0,"__esModule",{value:!0}),A0.default=r;function r(e){var t=[];function s(a){if(Array.isArray(a))for(var i=0;i<a.length;i++)s(a[i]);else a.text=a.text||"",a.data=a.data||"",t.push(a)}return s(e),t}return A0}var C0={},zD;function Aie(){if(zD)return C0;zD=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.default=r;function r(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return C0}var E0={},T0={},P0={},BD;function tU(){if(BD)return P0;BD=1,Object.defineProperty(P0,"__esModule",{value:!0}),P0.default=r;function r(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var s in t)t.hasOwnProperty(s)&&(s=t[s],typeof e[s]=="string"&&(e[s]=parseInt(e[s],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return P0}var R0={},VD;function sU(){if(VD)return R0;VD=1,Object.defineProperty(R0,"__esModule",{value:!0});var r={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return R0.default=r,R0}var HD;function Cie(){if(HD)return T0;HD=1,Object.defineProperty(T0,"__esModule",{value:!0});var r=tU(),e=a(r),t=sU(),s=a(t);function a(o){return o&&o.__esModule?o:{default:o}}function i(o){var l={};for(var c in s.default)s.default.hasOwnProperty(c)&&(o.hasAttribute("jsbarcode-"+c.toLowerCase())&&(l[c]=o.getAttribute("jsbarcode-"+c.toLowerCase())),o.hasAttribute("data-"+c.toLowerCase())&&(l[c]=o.getAttribute("data-"+c.toLowerCase())));return l.value=o.getAttribute("jsbarcode-value")||o.getAttribute("data-value"),l=(0,e.default)(l),l}return T0.default=i,T0}var I0={},D0={},vn={},$D;function rU(){if($D)return vn;$D=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.getTotalWidthOfEncodings=vn.calculateEncodingAttributes=vn.getBarcodePadding=vn.getEncodingHeight=vn.getMaximumHeightOfEncodings=void 0;var r=Nv(),e=t(r);function t(d){return d&&d.__esModule?d:{default:d}}function s(d,u){return u.height+(u.displayValue&&d.text.length>0?u.fontSize+u.textMargin:0)+u.marginTop+u.marginBottom}function a(d,u,f){if(f.displayValue&&u<d){if(f.textAlign=="center")return Math.floor((d-u)/2);if(f.textAlign=="left")return 0;if(f.textAlign=="right")return Math.floor(d-u)}return 0}function i(d,u,f){for(var m=0;m<d.length;m++){var p=d[m],y=(0,e.default)(u,p.options),x;y.displayValue?x=c(p.text,y,f):x=0;var v=p.data.length*y.width;p.width=Math.ceil(Math.max(x,v)),p.height=s(p,y),p.barcodePadding=a(x,v,y)}}function o(d){for(var u=0,f=0;f<d.length;f++)u+=d[f].width;return u}function l(d){for(var u=0,f=0;f<d.length;f++)d[f].height>u&&(u=d[f].height);return u}function c(d,u,f){var m;if(f)m=f;else if(typeof document<"u")m=document.createElement("canvas").getContext("2d");else return 0;m.font=u.fontOptions+" "+u.fontSize+"px "+u.font;var p=m.measureText(d);if(!p)return 0;var y=p.width;return y}return vn.getMaximumHeightOfEncodings=l,vn.getEncodingHeight=s,vn.getBarcodePadding=a,vn.calculateEncodingAttributes=i,vn.getTotalWidthOfEncodings=o,vn}var qD;function Eie(){if(qD)return D0;qD=1,Object.defineProperty(D0,"__esModule",{value:!0});var r=(function(){function l(c,d){for(var u=0;u<d.length;u++){var f=d[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,u){return d&&l(c.prototype,d),u&&l(c,u),c}})(),e=Nv(),t=a(e),s=rU();function a(l){return l&&l.__esModule?l:{default:l}}function i(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,d,u){i(this,l),this.canvas=c,this.encodings=d,this.options=u}return r(l,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var d=0;d<this.encodings.length;d++){var u=(0,t.default)(this.options,this.encodings[d].options);this.drawCanvasBarcode(u,this.encodings[d]),this.drawCanvasText(u,this.encodings[d]),this.moveCanvasDrawing(this.encodings[d])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var d=this.canvas.getContext("2d");d.save(),(0,s.calculateEncodingAttributes)(this.encodings,this.options,d);var u=(0,s.getTotalWidthOfEncodings)(this.encodings),f=(0,s.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=u+this.options.marginLeft+this.options.marginRight,this.canvas.height=f,d.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(d.fillStyle=this.options.background,d.fillRect(0,0,this.canvas.width,this.canvas.height)),d.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(d,u){var f=this.canvas.getContext("2d"),m=u.data,p;d.textPosition=="top"?p=d.marginTop+d.fontSize+d.textMargin:p=d.marginTop,f.fillStyle=d.lineColor;for(var y=0;y<m.length;y++){var x=y*d.width+u.barcodePadding;m[y]==="1"?f.fillRect(x,p,d.width,d.height):m[y]&&f.fillRect(x,p,d.width,d.height*m[y])}}},{key:"drawCanvasText",value:function(d,u){var f=this.canvas.getContext("2d"),m=d.fontOptions+" "+d.fontSize+"px "+d.font;if(d.displayValue){var p,y;d.textPosition=="top"?y=d.marginTop+d.fontSize-d.textMargin:y=d.height+d.textMargin+d.marginTop+d.fontSize,f.font=m,d.textAlign=="left"||u.barcodePadding>0?(p=0,f.textAlign="left"):d.textAlign=="right"?(p=u.width-1,f.textAlign="right"):(p=u.width/2,f.textAlign="center"),f.fillText(u.text,p,y)}}},{key:"moveCanvasDrawing",value:function(d){var u=this.canvas.getContext("2d");u.translate(d.width,0)}},{key:"restoreCanvas",value:function(){var d=this.canvas.getContext("2d");d.restore()}}]),l})();return D0.default=o,D0}var M0={},WD;function Tie(){if(WD)return M0;WD=1,Object.defineProperty(M0,"__esModule",{value:!0});var r=(function(){function c(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&c(d.prototype,u),f&&c(d,f),d}})(),e=Nv(),t=a(e),s=rU();function a(c){return c&&c.__esModule?c:{default:c}}function i(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o="http://www.w3.org/2000/svg",l=(function(){function c(d,u,f){i(this,c),this.svg=d,this.encodings=u,this.options=f,this.document=f.xmlDocument||document}return r(c,[{key:"render",value:function(){var u=this.options.marginLeft;this.prepareSVG();for(var f=0;f<this.encodings.length;f++){var m=this.encodings[f],p=(0,t.default)(this.options,m.options),y=this.createGroup(u,p.marginTop,this.svg);this.setGroupOptions(y,p),this.drawSvgBarcode(y,p,m),this.drawSVGText(y,p,m),u+=m.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,s.calculateEncodingAttributes)(this.encodings,this.options);var u=(0,s.getTotalWidthOfEncodings)(this.encodings),f=(0,s.getMaximumHeightOfEncodings)(this.encodings),m=u+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(m,f),this.options.background&&this.drawRect(0,0,m,f,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(u,f,m){var p=m.data,y;f.textPosition=="top"?y=f.fontSize+f.textMargin:y=0;for(var x=0,v=0,N=0;N<p.length;N++)v=N*f.width+m.barcodePadding,p[N]==="1"?x++:x>0&&(this.drawRect(v-f.width*x,y,f.width*x,f.height,u),x=0);x>0&&this.drawRect(v-f.width*(x-1),y,f.width*x,f.height,u)}},{key:"drawSVGText",value:function(u,f,m){var p=this.document.createElementNS(o,"text");if(f.displayValue){var y,x;p.setAttribute("style","font:"+f.fontOptions+" "+f.fontSize+"px "+f.font),f.textPosition=="top"?x=f.fontSize-f.textMargin:x=f.height+f.textMargin+f.fontSize,f.textAlign=="left"||m.barcodePadding>0?(y=0,p.setAttribute("text-anchor","start")):f.textAlign=="right"?(y=m.width-1,p.setAttribute("text-anchor","end")):(y=m.width/2,p.setAttribute("text-anchor","middle")),p.setAttribute("x",y),p.setAttribute("y",x),p.appendChild(this.document.createTextNode(m.text)),u.appendChild(p)}}},{key:"setSvgAttributes",value:function(u,f){var m=this.svg;m.setAttribute("width",u+"px"),m.setAttribute("height",f+"px"),m.setAttribute("x","0px"),m.setAttribute("y","0px"),m.setAttribute("viewBox","0 0 "+u+" "+f),m.setAttribute("xmlns",o),m.setAttribute("version","1.1"),m.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(u,f,m){var p=this.document.createElementNS(o,"g");return p.setAttribute("transform","translate("+u+", "+f+")"),m.appendChild(p),p}},{key:"setGroupOptions",value:function(u,f){u.setAttribute("style","fill:"+f.lineColor+";")}},{key:"drawRect",value:function(u,f,m,p,y){var x=this.document.createElementNS(o,"rect");return x.setAttribute("x",u),x.setAttribute("y",f),x.setAttribute("width",m),x.setAttribute("height",p),y.appendChild(x),x}}]),c})();return M0.default=l,M0}var O0={},YD;function Pie(){if(YD)return O0;YD=1,Object.defineProperty(O0,"__esModule",{value:!0});var r=(function(){function s(a,i){for(var o=0;o<i.length;o++){var l=i[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}return function(a,i,o){return i&&s(a.prototype,i),o&&s(a,o),a}})();function e(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}var t=(function(){function s(a,i,o){e(this,s),this.object=a,this.encodings=i,this.options=o}return r(s,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),s})();return O0.default=t,O0}var GD;function Rie(){if(GD)return I0;GD=1,Object.defineProperty(I0,"__esModule",{value:!0});var r=Eie(),e=o(r),t=Tie(),s=o(t),a=Pie(),i=o(a);function o(l){return l&&l.__esModule?l:{default:l}}return I0.default={CanvasRenderer:e.default,SVGRenderer:s.default,ObjectRenderer:i.default},I0}var Pu={},XD;function aU(){if(XD)return Pu;XD=1,Object.defineProperty(Pu,"__esModule",{value:!0});function r(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function e(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function t(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var s=(function(o){t(l,o);function l(c,d){r(this,l);var u=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return u.name="InvalidInputException",u.symbology=c,u.input=d,u.message='"'+u.input+'" is not a valid input for '+u.symbology,u}return l})(Error),a=(function(o){t(l,o);function l(){r(this,l);var c=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return c.name="InvalidElementException",c.message="Not supported type to render on",c}return l})(Error),i=(function(o){t(l,o);function l(){r(this,l);var c=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return c.name="NoElementException",c.message="No element to render on.",c}return l})(Error);return Pu.InvalidInputException=s,Pu.InvalidElementException=a,Pu.NoElementException=i,Pu}var KD;function Iie(){if(KD)return E0;KD=1,Object.defineProperty(E0,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e=Cie(),t=o(e),s=Rie(),a=o(s),i=aU();function o(u){return u&&u.__esModule?u:{default:u}}function l(u){if(typeof u=="string")return c(u);if(Array.isArray(u)){for(var f=[],m=0;m<u.length;m++)f.push(l(u[m]));return f}else{if(typeof HTMLCanvasElement<"u"&&u instanceof HTMLImageElement)return d(u);if(u&&u.nodeName&&u.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&u instanceof SVGElement)return{element:u,options:(0,t.default)(u),renderer:a.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&u instanceof HTMLCanvasElement)return{element:u,options:(0,t.default)(u),renderer:a.default.CanvasRenderer};if(u&&u.getContext)return{element:u,renderer:a.default.CanvasRenderer};if(u&&(typeof u>"u"?"undefined":r(u))==="object"&&!u.nodeName)return{element:u,renderer:a.default.ObjectRenderer};throw new i.InvalidElementException}}function c(u){var f=document.querySelectorAll(u);if(f.length!==0){for(var m=[],p=0;p<f.length;p++)m.push(l(f[p]));return m}}function d(u){var f=document.createElement("canvas");return{element:f,options:(0,t.default)(u),renderer:a.default.CanvasRenderer,afterRender:function(){u.setAttribute("src",f.toDataURL())}}}return E0.default=l,E0}var L0={},ZD;function Die(){if(ZD)return L0;ZD=1,Object.defineProperty(L0,"__esModule",{value:!0});var r=(function(){function s(a,i){for(var o=0;o<i.length;o++){var l=i[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}return function(a,i,o){return i&&s(a.prototype,i),o&&s(a,o),a}})();function e(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}var t=(function(){function s(a){e(this,s),this.api=a}return r(s,[{key:"handleCatch",value:function(i){if(i.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw i.message;else throw i;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(i){try{var o=i.apply(void 0,arguments);return this.api._options.valid(!0),o}catch(l){return this.handleCatch(l),this.api}}}]),s})();return L0.default=t,L0}var jN,QD;function Mie(){if(QD)return jN;QD=1;var r=Sie(),e=N(r),t=Nv(),s=N(t),a=_ie(),i=N(a),o=Aie(),l=N(o),c=Iie(),d=N(c),u=tU(),f=N(u),m=Die(),p=N(m),y=aU(),x=sU(),v=N(x);function N(I){return I&&I.__esModule?I:{default:I}}var k=function(){},S=function(M,L,z){var F=new k;if(typeof M>"u")throw Error("No element to render on was provided.");return F._renderProperties=(0,d.default)(M),F._encodings=[],F._options=v.default,F._errorHandler=new p.default(F),typeof L<"u"&&(z=z||{},z.format||(z.format=P()),F.options(z)[z.format](L,z).render()),F};S.getModule=function(I){return e.default[I]};for(var R in e.default)e.default.hasOwnProperty(R)&&A(e.default,R);function A(I,M){k.prototype[M]=k.prototype[M.toUpperCase()]=k.prototype[M.toLowerCase()]=function(L,z){var F=this;return F._errorHandler.wrapBarcodeCall(function(){z.text=typeof z.text>"u"?void 0:""+z.text;var V=(0,s.default)(F._options,z);V=(0,f.default)(V);var $=I[M],Y=D(L,$,V);return F._encodings.push(Y),F})}}function D(I,M,L){I=""+I;var z=new M(I,L);if(!z.valid())throw new y.InvalidInputException(z.constructor.name,I);var F=z.encode();F=(0,i.default)(F);for(var V=0;V<F.length;V++)F[V].options=(0,s.default)(L,F[V].options);return F}function P(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}k.prototype.options=function(I){return this._options=(0,s.default)(this._options,I),this},k.prototype.blank=function(I){var M=new Array(I+1).join("0");return this._encodings.push({data:M}),this},k.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var I;for(var M in this._renderProperties){I=this._renderProperties[M];var L=(0,s.default)(this._options,I.options);L.format=="auto"&&(L.format=P()),this._errorHandler.wrapBarcodeCall(function(){var z=L.value,F=e.default[L.format.toUpperCase()],V=D(z,F,L);E(I,V,L)})}}},k.prototype.render=function(){if(!this._renderProperties)throw new y.NoElementException;if(Array.isArray(this._renderProperties))for(var I=0;I<this._renderProperties.length;I++)E(this._renderProperties[I],this._encodings,this._options);else E(this._renderProperties,this._encodings,this._options);return this},k.prototype._defaults=v.default;function E(I,M,L){M=(0,i.default)(M);for(var z=0;z<M.length;z++)M[z].options=(0,s.default)(L,M[z].options),(0,l.default)(M[z].options);(0,l.default)(L);var F=I.renderer,V=new F(I.element,M,L);V.render(),I.afterRender&&I.afterRender()}return typeof window<"u"&&(window.JsBarcode=S),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(I,M){var L=[];return jQuery(this).each(function(){L.push(this)}),S(L,I,M)}),jN=S,jN}var Oie=Mie();const nU=Dg(Oie);function Lie({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-gray-200 hover:text-white",children:""})]},t.id))})}function Fie(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function Uie(){const{alerts:r,addAlert:e,removeAlert:t}=Fie(),[s,a]=C.useState(null),[i,o]=C.useState(!0),l=Qr(),c=C.useRef(null);return C.useEffect(()=>{(async()=>{try{let f=new URLSearchParams(l.search).get("orderId")||l.state?.order?.id;if(console.log("Attempting to fetch order with ID:",f),!f){console.warn("No orderId provided in query params or state"),e("Order not found. Please check your link or contact support.","error"),o(!1);return}if(!f.startsWith("order-")){console.warn("Invalid orderId format:",f),e("Invalid order ID. Please contact support.","error"),o(!1);return}let m=null,p=3;for(;p>0;)try{const y=Te(J,"orders",f),x=await ft(y);if(x.exists()){m={id:x.id,...x.data()},console.log("Order found:",m);break}console.warn(`Order ${f} not found on attempt ${4-p}`),p--,p>0&&await new Promise(v=>setTimeout(v,1e3))}catch(y){if(console.error("Firestore fetch error:",y),p--,p===0)throw y;await new Promise(x=>setTimeout(x,1e3))}if(!m&&f.includes("-")){const y=f.split("-").slice(0,2).join("-");console.log("Trying base orderId:",y);const x=Et(Ie(J,"orders"),bt("id","==",y)),v=await dt(x);if(!v.empty){const N=v.docs[0];m={id:N.id,...N.data()},console.log("Found order with base ID:",m),f=N.id}}if(!m&&l.state?.order&&(console.log("Using state.order as fallback:",l.state.order),m={...l.state.order,id:f},e("Order loaded from session. Some details may be incomplete.","info")),!m){console.error("No order data found for ID:",f),e("Order not found. Please contact support at support@foremade.com.","error"),o(!1);return}a(m)}catch(u){console.error("Error fetching order:",{message:u.message,stack:u.stack}),e("Failed to load order. Please try again or contact support.","error")}finally{o(!1)}})()},[l,e]),C.useEffect(()=>{if(s&&c.current)try{const d=s.id.replace("order-","").slice(0,8);nU(c.current,d,{format:"CODE128",height:30,width:1,displayValue:!0,fontSize:12,margin:5,background:"transparent"})}catch(d){console.error("Error generating barcode:",d),e("Failed to generate barcode: "+d.message,"error")}},[s,e]),i?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:n.jsxs("div",{className:"flex gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})}):s?n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 py-8",children:[n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-check-circle text-green-500"}),"Order Confirmation"]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:["Order #",s.id]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Thank you for your purchase! Your order has been successfully placed."}),n.jsx("div",{className:"space-y-4",children:s.items.map((d,u)=>n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[n.jsx("img",{src:d.imageUrls?.[0]||"https://via.placeholder.com/150",alt:d.name||"Product",className:"w-16 h-16 object-cover rounded",onError:f=>{f.target.src="https://via.placeholder.com/150"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-100",children:d.name||"Unknown Product"}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Quantity: ",d.quantity||1]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Price: ",s.currency==="gbp"?"":"",((d.price||0)*(d.quantity||1)).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},u))}),n.jsxs("div",{className:"mt-6 border-t border-gray-200 dark:border-gray-600 pt-4",children:[n.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"Subtotal"}),n.jsxs("span",{children:[s.currency==="gbp"?"":"",(s.totalAmount||s.total||0).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between font-semibold text-gray-800 dark:text-gray-100 mt-2",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:[s.currency==="gbp"?"":"",(s.totalAmount||s.total||0).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Shipping Details"}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:[s.shippingDetails?.name||"Not provided",n.jsx("br",{}),s.shippingDetails?.address||"Not provided",n.jsx("br",{}),s.shippingDetails?.city||"",s.shippingDetails?.city&&s.shippingDetails?.postalCode?", ":"",s.shippingDetails?.postalCode||"",n.jsx("br",{}),s.shippingDetails?.country||"Not provided",n.jsx("br",{}),n.jsx("strong",{children:"Email:"})," ",s.shippingDetails?.email||"Not provided",n.jsx("br",{}),n.jsx("strong",{children:"Phone:"})," ",s.shippingDetails?.phone||"Not provided"]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Order Barcode"}),n.jsx("canvas",{ref:c,className:"w-full bg-white dark:bg-gray-800 rounded-lg"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-xs mt-1",children:["Barcode Value: ",s.id.replace("order-","").slice(0,8)]})]})]})]}),n.jsx(Lie,{alerts:r,removeAlert:t})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:n.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-error-circle text-4xl text-red-500 mb-2"}),n.jsxs("p",{children:["Order not found. Please contact ",n.jsx("a",{href:"mailto:support@foremade.com",className:"text-blue-600 hover:underline",children:"support@foremade.com"}),"."]})]})})}function tr(){const[r,e]=C.useState(!1),[t,s]=C.useState(""),a=()=>{e(!r)},i=C.useCallback(Fd(f=>{s(f)},300),[]),o=f=>{i(f.target.value)};let l="buyer",c=!1;try{const f=JSON.parse(localStorage.getItem("userData"));f&&f.role&&(l=f.role,(f.role==="proseller"||f.isProSeller===!0)&&(c=!0))}catch{}const u=[{to:"/dashboard",label:"Dashboard",icon:uk,category:"Dashboard"},{to:"/sellers/orders",label:"Orders",icon:Wre,category:"Order Management"},{to:"/sellers/products",label:"Products List",icon:SF,category:"Product Management"},{to:"/products-gallery",label:"Products Gallery",icon:id,category:"Product Management"},{to:"/products-upload",label:"Upload Products",icon:RF,category:"Product Management"},{to:"/product-bump",label:"Product Bump",icon:Cd,category:"Product Management"},{to:"/pro-seller-analytics",label:"Pro Analytics",icon:vg,category:"Product Management"},{to:"/smile",label:"Wallet",icon:rh,category:"Your wallet"},{to:"/seller-transactions",label:"Transactions",icon:vg,category:"Your wallet"},{to:"/seller-chat",label:"Chats",icon:Sre,category:"Chat"}].filter(f=>f.label.toLowerCase().includes(t.toLowerCase()));return n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"md:hidden fixed top-4 left-4 z-50 p-2 text-black bg-blue-900 rounded-lg hover:bg-blue-900 transition",onClick:a,"aria-label":"Open sidebar",children:n.jsx(AF,{className:"w-6 h-6"})}),n.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-gradient-to-b from-gray-900 to-gray-800 text-white flex flex-col z-50 md:w-64 md:flex md:flex-col transition-transform duration-300 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 max-h-[calc(100vh)] overflow-y-auto`,children:[n.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[n.jsx(ve,{to:"/",onClick:()=>e(!1),"aria-label":"Foremade homepage",children:n.jsx("img",{src:Vh,alt:"Foremade logo",className:"w-32"})}),n.jsx("button",{className:"md:hidden p-2 text-gray-300 hover:text-white",onClick:a,"aria-label":"Close sidebar",children:n.jsx(od,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"p-4 sticky top-0 bg-gray-800 z-10",children:n.jsx("input",{type:"text",placeholder:"Search menu...",onChange:o,className:"w-full p-2 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm","aria-label":"Search menu items"})}),n.jsx("nav",{className:"flex-1 p-2 space-y-3",children:t&&u.length===0?n.jsx("p",{className:"text-gray-400 text-sm px-2",children:"No menu items found"}):n.jsxs(n.Fragment,{children:[u.some(f=>f.category==="Dashboard")&&n.jsxs(ve,{to:"/dashboard",onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg bg-gray-700 text-white font-semibold hover:bg-gray-600 transition","aria-label":"Dashboard",children:[n.jsx(uk,{className:"w-5 h-5 mr-2"}),"Dashboard"]}),u.some(f=>f.category==="Order Management")&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Order Management"}),u.filter(f=>f.category==="Order Management").map(f=>n.jsxs(ve,{to:f.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":f.label,children:[n.jsx(f.icon,{className:"w-5 h-5 mr-2"}),f.label]},f.to))]}),u.some(f=>f.category==="Product Management")&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Product Management"}),u.filter(f=>f.category==="Product Management").map(f=>n.jsxs(ve,{to:f.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":f.label,children:[n.jsx(f.icon,{className:"w-5 h-5 mr-2"}),f.label]},f.to))]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Registering with us"}),c?n.jsxs("div",{className:"flex items-center p-2 rounded-lg text-gray-200 bg-gray-700 cursor-default",children:[n.jsx(RI,{className:"w-5 h-5 mr-2"}),"Pro Seller"]}):l==="seller"?n.jsxs(ve,{to:"/pro-seller-guide",onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":"Upgrade to Pro Seller",children:[n.jsx(ck,{className:"w-5 h-5 mr-2"}),"Upgrade to Pro Seller"]}):n.jsxs(n.Fragment,{children:[n.jsxs(ve,{to:"/pro-seller-guide",onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":"Pro Seller",children:[n.jsx(ck,{className:"w-5 h-5 mr-2"}),"Pro Seller"]}),n.jsxs(ve,{to:"/seller-onboarding",onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":"Standard Seller",children:[n.jsx(RI,{className:"w-5 h-5 mr-2"}),"Standard Seller"]})]})]}),u.some(f=>f.category==="Your wallet")&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Your wallet"}),u.filter(f=>f.category==="Your wallet").map(f=>n.jsxs(ve,{to:f.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":f.label,children:[n.jsx(f.icon,{className:"w-5 h-5 mr-2"}),f.label]},f.to))]}),u.some(f=>f.category==="Chat")&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Chat"}),u.filter(f=>f.category==="Chat").map(f=>n.jsxs(ve,{to:f.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":f.label,children:[n.jsx(f.icon,{className:"w-5 h-5 mr-2"}),f.label]},f.to))]})]})})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:a,"aria-hidden":"true"})]})}function zie(){const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(""),[o,l]=C.useState(null),c=_s();C.useEffect(()=>{const m=eo(Pe,async p=>{if(p)try{console.log("Starting orders fetch for seller at:",new Date().toISOString()),console.log("Authenticated seller UID:",p.uid);const y=Ie(J,"products"),x=await dt(y);console.log("Products snapshot received, count:",x.docs.length);const v=x.docs.map(A=>({id:A.id,...A.data()})).filter(A=>A.sellerId===p.uid);if(console.log("Seller products fetched, count:",v.length),v.length===0){console.log("No products found for this seller."),e([]),s(!1);return}const N=v.map(A=>A.id);console.log("Seller product IDs:",N);const k=Ie(J,"orders"),S=await dt(k);console.log("Orders snapshot received, count:",S.docs.length);const R=S.docs.map(A=>({id:A.id,...A.data(),total:Array.isArray(A.data().items)?A.data().items.filter(D=>N.includes(D.productId)).reduce((D,P)=>D+(P.price||0)*(P.quantity||0),0):0})).filter(A=>A.items.some(D=>N.includes(D.productId))).map(A=>{const P=(Array.isArray(A.items)?A.items:[]).filter(E=>N.includes(E.productId));return{...A,items:P.map(E=>({productId:E.productId,name:E.name||"Unknown",quantity:E.quantity||0,price:E.price||0,sellerId:E.sellerId}))}}).sort((A,D)=>{const P=A.createdAt?.toDate()||new Date(0);return(D.createdAt?.toDate()||new Date(0))-P});console.log("Filtered orders for seller, count:",R.length),e(R)}catch(y){console.error("Firestore fetch error:",{code:y.code,message:y.message,stack:y.stack}),i(`Failed to fetch user orders: ${y.message}.`)}else console.warn("No seller authenticated"),i("Please log in to view user orders."),c("/seller/login");s(!1)},p=>{console.error("Auth state error:",{code:p.code,message:p.message,stack:p.stack}),i("Authentication error: "+p.message),s(!1)});return()=>m()},[c]);const d=m=>{l(o===m?null:m)},u=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",f=(m,p)=>new Intl.NumberFormat("en-US",{style:"currency",currency:p||"NGN"}).format(m||0);return t?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):a?n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(tr,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6 font-serif",children:n.jsxs("div",{className:"max-w-4xl mx-auto bg-red-100 border-l-4 border-red-500 p-4 rounded-lg animate-fade-in",children:[n.jsx("p",{className:"text-red-700",children:a}),n.jsx("p",{className:"mt-2",children:n.jsx(ve,{to:"/seller/login",className:"text-blue-600 hover:underline",children:"Return to Login"})})]})})]}):n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(tr,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-4",children:n.jsxs("div",{className:"max-w-8xl mx-auto bg-white border border-gray-200 rounded-xl shadow-sm p-8 bg-gradient-to-br from-gray-50 to-white",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Your Orders"})}),r.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600 text-lg",children:"No orders found."}),n.jsx("p",{className:"mt-2",children:n.jsx(ve,{to:"/products-upload",className:"text-blue-600 hover:underline",children:"Upload products to start receiving orders"})})]}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full text-left border-collapse hidden md:table",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Order ID"}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Customer"}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Date"}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Total"}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Status"}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Details"})]})}),n.jsx("tbody",{children:r.map(m=>n.jsxs(js.Fragment,{children:[n.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[n.jsx("td",{className:"p-3 text-sm",children:m.orderId||m.id}),n.jsx("td",{className:"p-3 text-sm",children:m.shippingDetails?.name||"N/A"}),n.jsx("td",{className:"p-3 text-sm",children:u(m.createdAt)}),n.jsx("td",{className:"p-3 text-sm",children:f(m.total,m.currency)}),n.jsx("td",{className:"p-3 text-sm",children:n.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Placed"})}),n.jsx("td",{className:"p-3 text-sm",children:n.jsx("button",{onClick:()=>d(m.id),className:"text-blue-600 hover:underline",children:o===m.id?"Hide":"Show"})})]}),o===m.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"p-3 bg-gray-50",children:n.jsxs("div",{className:"pl-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Items"}),m.items&&m.items.length>0?n.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-600",children:m.items.map((p,y)=>n.jsxs("li",{children:[p.name," x",p.quantity," - ",f(p.price*p.quantity,m.currency)]},y))}):n.jsx("p",{className:"text-sm text-gray-600",children:"No items"})]})})})]},m.id))})]}),n.jsx("div",{className:"md:hidden space-y-4",children:r.map(m=>n.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 hover:bg-gray-100",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Order ID:"}),n.jsx("span",{className:"text-sm",children:m.orderId||m.id})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Customer:"}),n.jsx("span",{className:"text-sm",children:m.shippingDetails?.name||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Date:"}),n.jsx("span",{className:"text-sm",children:u(m.createdAt)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total:"}),n.jsx("span",{className:"text-sm",children:f(m.total,m.currency)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Status:"}),n.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Placed"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Details:"}),n.jsx("button",{onClick:()=>d(m.id),className:"text-blue-600 hover:underline text-sm",children:o===m.id?"Hide":"Show"})]}),o===m.id&&n.jsxs("div",{className:"mt-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Items"}),m.items&&m.items.length>0?n.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-600",children:m.items.map((p,y)=>n.jsxs("li",{children:[p.name," x",p.quantity," - ",f(p.price*p.quantity,m.currency)]},y))}):n.jsx("p",{className:"text-sm text-gray-600",children:"No items"})]})]})},m.id))})]})]})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fp(r){return r+.5|0}const Dl=(r,e,t)=>Math.max(Math.min(r,t),e);function Em(r){return Dl(fp(r*2.55),0,255)}function Hl(r){return Dl(fp(r*255),0,255)}function Ro(r){return Dl(fp(r/2.55)/100,0,1)}function JD(r){return Dl(fp(r*100),0,100)}const Vn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pk=[..."0123456789ABCDEF"],Bie=r=>pk[r&15],Vie=r=>pk[(r&240)>>4]+pk[r&15],F0=r=>(r&240)>>4===(r&15),Hie=r=>F0(r.r)&&F0(r.g)&&F0(r.b)&&F0(r.a);function $ie(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&Vn[r[1]]*17,g:255&Vn[r[2]]*17,b:255&Vn[r[3]]*17,a:e===5?Vn[r[4]]*17:255}:(e===7||e===9)&&(t={r:Vn[r[1]]<<4|Vn[r[2]],g:Vn[r[3]]<<4|Vn[r[4]],b:Vn[r[5]]<<4|Vn[r[6]],a:e===9?Vn[r[7]]<<4|Vn[r[8]]:255})),t}const qie=(r,e)=>r<255?e(r):"";function Wie(r){var e=Hie(r)?Bie:Vie;return r?"#"+e(r.r)+e(r.g)+e(r.b)+qie(r.a,e):void 0}const Yie=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function iU(r,e,t){const s=e*Math.min(t,1-t),a=(i,o=(i+r/30)%12)=>t-s*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function Gie(r,e,t){const s=(a,i=(a+r/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function Xie(r,e,t){const s=iU(r,1,.5);let a;for(e+t>1&&(a=1/(e+t),e*=a,t*=a),a=0;a<3;a++)s[a]*=1-e-t,s[a]+=e;return s}function Kie(r,e,t,s,a){return r===a?(e-t)/s+(e<t?6:0):e===a?(t-r)/s+2:(r-e)/s+4}function KS(r){const t=r.r/255,s=r.g/255,a=r.b/255,i=Math.max(t,s,a),o=Math.min(t,s,a),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=Kie(t,s,a,u,i),c=c*60+.5),[c|0,d||0,l]}function ZS(r,e,t,s){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,s)).map(Hl)}function QS(r,e,t){return ZS(iU,r,e,t)}function Zie(r,e,t){return ZS(Xie,r,e,t)}function Qie(r,e,t){return ZS(Gie,r,e,t)}function oU(r){return(r%360+360)%360}function Jie(r){const e=Yie.exec(r);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?Em(+e[5]):Hl(+e[5]));const a=oU(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=Zie(a,i,o):e[1]==="hsv"?s=Qie(a,i,o):s=QS(a,i,o),{r:s[0],g:s[1],b:s[2],a:t}}function eoe(r,e){var t=KS(r);t[0]=oU(t[0]+e),t=QS(t),r.r=t[0],r.g=t[1],r.b=t[2]}function toe(r){if(!r)return;const e=KS(r),t=e[0],s=JD(e[1]),a=JD(e[2]);return r.a<255?`hsla(${t}, ${s}%, ${a}%, ${Ro(r.a)})`:`hsl(${t}, ${s}%, ${a}%)`}const e4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},t4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function soe(){const r={},e=Object.keys(t4),t=Object.keys(e4);let s,a,i,o,l;for(s=0;s<e.length;s++){for(o=l=e[s],a=0;a<t.length;a++)i=t[a],l=l.replace(i,e4[i]);i=parseInt(t4[o],16),r[l]=[i>>16&255,i>>8&255,i&255]}return r}let U0;function roe(r){U0||(U0=soe(),U0.transparent=[0,0,0,0]);const e=U0[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const aoe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function noe(r){const e=aoe.exec(r);let t=255,s,a,i;if(e){if(e[7]!==s){const o=+e[7];t=e[8]?Em(o):Dl(o*255,0,255)}return s=+e[1],a=+e[3],i=+e[5],s=255&(e[2]?Em(s):Dl(s,0,255)),a=255&(e[4]?Em(a):Dl(a,0,255)),i=255&(e[6]?Em(i):Dl(i,0,255)),{r:s,g:a,b:i,a:t}}}function ioe(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${Ro(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const kN=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,Ru=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function ooe(r,e,t){const s=Ru(Ro(r.r)),a=Ru(Ro(r.g)),i=Ru(Ro(r.b));return{r:Hl(kN(s+t*(Ru(Ro(e.r))-s))),g:Hl(kN(a+t*(Ru(Ro(e.g))-a))),b:Hl(kN(i+t*(Ru(Ro(e.b))-i))),a:r.a+t*(e.a-r.a)}}function z0(r,e,t){if(r){let s=KS(r);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=QS(s),r.r=s[0],r.g=s[1],r.b=s[2]}}function lU(r,e){return r&&Object.assign(e||{},r)}function s4(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=Hl(r[3]))):(e=lU(r,{r:0,g:0,b:0,a:1}),e.a=Hl(e.a)),e}function loe(r){return r.charAt(0)==="r"?noe(r):Jie(r)}class wg{constructor(e){if(e instanceof wg)return e;const t=typeof e;let s;t==="object"?s=s4(e):t==="string"&&(s=$ie(e)||roe(e)||loe(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=lU(this._rgb);return e&&(e.a=Ro(e.a)),e}set rgb(e){this._rgb=s4(e)}rgbString(){return this._valid?ioe(this._rgb):void 0}hexString(){return this._valid?Wie(this._rgb):void 0}hslString(){return this._valid?toe(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,a=e.rgb;let i;const o=t===i?.5:t,l=2*o-1,c=s.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,s.r=255&d*s.r+i*a.r+.5,s.g=255&d*s.g+i*a.g+.5,s.b=255&d*s.b+i*a.b+.5,s.a=o*s.a+(1-o)*a.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=ooe(this._rgb,e._rgb,t)),this}clone(){return new wg(this.rgb)}alpha(e){return this._rgb.a=Hl(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=fp(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return z0(this._rgb,2,e),this}darken(e){return z0(this._rgb,2,-e),this}saturate(e){return z0(this._rgb,1,e),this}desaturate(e){return z0(this._rgb,1,-e),this}rotate(e){return eoe(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Co(){}const coe=(()=>{let r=0;return()=>r++})();function Xs(r){return r==null}function ma(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Fs(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function Qn(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function Di(r,e){return Qn(r)?r:e}function us(r,e){return typeof r>"u"?e:r}const doe=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,cU=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function xr(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function er(r,e,t,s){let a,i,o;if(ma(r))for(i=r.length,a=0;a<i;a++)e.call(t,r[a],a);else if(Fs(r))for(o=Object.keys(r),i=o.length,a=0;a<i;a++)e.call(t,r[o[a]],o[a])}function py(r,e){let t,s,a,i;if(!r||!e||r.length!==e.length)return!1;for(t=0,s=r.length;t<s;++t)if(a=r[t],i=e[t],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function xy(r){if(ma(r))return r.map(xy);if(Fs(r)){const e=Object.create(null),t=Object.keys(r),s=t.length;let a=0;for(;a<s;++a)e[t[a]]=xy(r[t[a]]);return e}return r}function dU(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function uoe(r,e,t,s){if(!dU(r))return;const a=e[r],i=t[r];Fs(a)&&Fs(i)?Ng(a,i,s):e[r]=xy(i)}function Ng(r,e,t){const s=ma(e)?e:[e],a=s.length;if(!Fs(r))return r;t=t||{};const i=t.merger||uoe;let o;for(let l=0;l<a;++l){if(o=s[l],!Fs(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],r,o,t)}return r}function Gm(r,e){return Ng(r,e,{merger:hoe})}function hoe(r,e,t){if(!dU(r))return;const s=e[r],a=t[r];Fs(s)&&Fs(a)?Gm(s,a):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=xy(a))}const r4={"":r=>r,x:r=>r.x,y:r=>r.y};function foe(r){const e=r.split("."),t=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function moe(r){const e=foe(r);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function Ed(r,e){return(r4[e]||(r4[e]=moe(e)))(r)}function JS(r){return r.charAt(0).toUpperCase()+r.slice(1)}const jg=r=>typeof r<"u",rc=r=>typeof r=="function",a4=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function goe(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const ur=Math.PI,Pr=2*ur,poe=Pr+ur,by=Number.POSITIVE_INFINITY,xoe=ur/180,aa=ur/2,Vc=ur/4,n4=ur*2/3,uU=Math.log10,Qi=Math.sign;function Xm(r,e,t){return Math.abs(r-e)<t}function i4(r){const e=Math.round(r);r=Xm(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(uU(r))),s=r/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function boe(r){const e=[],t=Math.sqrt(r);let s;for(s=1;s<t;s++)r%s===0&&(e.push(s),e.push(r/s));return t===(t|0)&&e.push(t),e.sort((a,i)=>a-i).pop(),e}function yoe(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function kg(r){return!yoe(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function voe(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function woe(r,e,t){let s,a,i;for(s=0,a=r.length;s<a;s++)i=r[s][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Mo(r){return r*(ur/180)}function Noe(r){return r*(180/ur)}function o4(r){if(!Qn(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function hU(r,e){const t=e.x-r.x,s=e.y-r.y,a=Math.sqrt(t*t+s*s);let i=Math.atan2(s,t);return i<-.5*ur&&(i+=Pr),{angle:i,distance:a}}function xk(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function joe(r,e){return(r-e+poe)%Pr-ur}function li(r){return(r%Pr+Pr)%Pr}function Sg(r,e,t,s){const a=li(r),i=li(e),o=li(t),l=li(i-a),c=li(o-a),d=li(a-i),u=li(a-o);return a===i||a===o||s&&i===o||l>c&&d<u}function Ia(r,e,t){return Math.max(e,Math.min(t,r))}function koe(r){return Ia(r,-32768,32767)}function Ml(r,e,t,s=1e-6){return r>=Math.min(e,t)-s&&r<=Math.max(e,t)+s}function e_(r,e,t){t=t||(o=>r[o]<e);let s=r.length-1,a=0,i;for(;s-a>1;)i=a+s>>1,t(i)?a=i:s=i;return{lo:a,hi:s}}const ld=(r,e,t,s)=>e_(r,t,s?a=>{const i=r[a][e];return i<t||i===t&&r[a+1][e]===t}:a=>r[a][e]<t),Soe=(r,e,t)=>e_(r,t,s=>r[s][e]>=t);function _oe(r,e,t){let s=0,a=r.length;for(;s<a&&r[s]<e;)s++;for(;a>s&&r[a-1]>t;)a--;return s>0||a<r.length?r.slice(s,a):r}const fU=["push","pop","shift","splice","unshift"];function Aoe(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),fU.forEach(t=>{const s="_onData"+JS(t),a=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return r._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...i)}),o}})})}function l4(r,e){const t=r._chartjs;if(!t)return;const s=t.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(fU.forEach(i=>{delete r[i]}),delete r._chartjs)}function mU(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const gU=(function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame})();function pU(r,e){let t=[],s=!1;return function(...a){t=a,s||(s=!0,gU.call(window,()=>{s=!1,r.apply(e,t)}))}}function Coe(r,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(r,e,s)):r.apply(this,s),e}}const xU=r=>r==="start"?"left":r==="end"?"right":"center",wn=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,Eoe=(r,e,t,s)=>r===(s?"left":"right")?t:r==="center"?(e+t)/2:e;function Toe(r,e,t){const s=e.length;let a=0,i=s;if(r._sorted){const{iScale:o,vScale:l,_parsed:c}=r,d=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,u=o.axis,{min:f,max:m,minDefined:p,maxDefined:y}=o.getUserBounds();if(p){if(a=Math.min(ld(c,u,f).lo,t?s:ld(e,u,o.getPixelForValue(f)).lo),d){const x=c.slice(0,a+1).reverse().findIndex(v=>!Xs(v[l.axis]));a-=Math.max(0,x)}a=Ia(a,0,s-1)}if(y){let x=Math.max(ld(c,o.axis,m,!0).hi+1,t?0:ld(e,u,o.getPixelForValue(m),!0).hi+1);if(d){const v=c.slice(x-1).findIndex(N=>!Xs(N[l.axis]));x+=Math.max(0,v)}i=Ia(x,a,s)-a}else i=s-a}return{start:a,count:i}}function Poe(r){const{xScale:e,yScale:t,_scaleRanges:s}=r,a={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return r._scaleRanges=a,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,a),i}const B0=r=>r===0||r===1,c4=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*Pr/t)),d4=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*Pr/t)+1,Km={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*aa)+1,easeOutSine:r=>Math.sin(r*aa),easeInOutSine:r=>-.5*(Math.cos(ur*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>B0(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>B0(r)?r:c4(r,.075,.3),easeOutElastic:r=>B0(r)?r:d4(r,.075,.3),easeInOutElastic(r){return B0(r)?r:r<.5?.5*c4(r*2,.1125,.45):.5+.5*d4(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-Km.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?Km.easeInBounce(r*2)*.5:Km.easeOutBounce(r*2-1)*.5+.5};function t_(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function u4(r){return t_(r)?r:new wg(r)}function SN(r){return t_(r)?r:new wg(r).saturate(.5).darken(.1).hexString()}const Roe=["x","y","borderWidth","radius","tension"],Ioe=["color","borderColor","backgroundColor"];function Doe(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:Ioe},numbers:{type:"number",properties:Roe}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Moe(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const h4=new Map;function Ooe(r,e){e=e||{};const t=r+JSON.stringify(e);let s=h4.get(t);return s||(s=new Intl.NumberFormat(r,e),h4.set(t,s)),s}function s_(r,e,t){return Ooe(e,t).format(r)}const Loe={values(r){return ma(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const s=this.chart.options.locale;let a,i=r;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=Foe(r,t)}const o=uU(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),s_(r,s,c)}};function Foe(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var bU={formatters:Loe};function Uoe(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bU.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Td=Object.create(null),bk=Object.create(null);function Zm(r,e){if(!e)return r;const t=e.split(".");for(let s=0,a=t.length;s<a;++s){const i=t[s];r=r[i]||(r[i]=Object.create(null))}return r}function _N(r,e,t){return typeof e=="string"?Ng(Zm(r,e),t):Ng(Zm(r,""),e)}class zoe{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>SN(a.backgroundColor),this.hoverBorderColor=(s,a)=>SN(a.borderColor),this.hoverColor=(s,a)=>SN(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return _N(this,e,t)}get(e){return Zm(this,e)}describe(e,t){return _N(bk,e,t)}override(e,t){return _N(Td,e,t)}route(e,t,s,a){const i=Zm(this,e),o=Zm(this,s),l="_"+t;Object.defineProperties(i,{[l]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],d=o[a];return Fs(c)?Object.assign({},d,c):us(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var zr=new zoe({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Doe,Moe,Uoe]);function Boe(r){return!r||Xs(r.size)||Xs(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function f4(r,e,t,s,a){let i=e[a];return i||(i=e[a]=r.measureText(a).width,t.push(a)),i>s&&(s=i),s}function Hc(r,e,t){const s=r.currentDevicePixelRatio,a=t!==0?Math.max(t/2,.5):0;return Math.round((e-a)*s)/s+a}function m4(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function yk(r,e,t,s){yU(r,e,t,s,null)}function yU(r,e,t,s,a){let i,o,l,c,d,u,f,m;const p=e.pointStyle,y=e.rotation,x=e.radius;let v=(y||0)*xoe;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){r.save(),r.translate(t,s),r.rotate(v),r.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),r.restore();return}if(!(isNaN(x)||x<=0)){switch(r.beginPath(),p){default:a?r.ellipse(t,s,a/2,x,0,0,Pr):r.arc(t,s,x,0,Pr),r.closePath();break;case"triangle":u=a?a/2:x,r.moveTo(t+Math.sin(v)*u,s-Math.cos(v)*x),v+=n4,r.lineTo(t+Math.sin(v)*u,s-Math.cos(v)*x),v+=n4,r.lineTo(t+Math.sin(v)*u,s-Math.cos(v)*x),r.closePath();break;case"rectRounded":d=x*.516,c=x-d,o=Math.cos(v+Vc)*c,f=Math.cos(v+Vc)*(a?a/2-d:c),l=Math.sin(v+Vc)*c,m=Math.sin(v+Vc)*(a?a/2-d:c),r.arc(t-f,s-l,d,v-ur,v-aa),r.arc(t+m,s-o,d,v-aa,v),r.arc(t+f,s+l,d,v,v+aa),r.arc(t-m,s+o,d,v+aa,v+ur),r.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*x,u=a?a/2:c,r.rect(t-u,s-c,2*u,2*c);break}v+=Vc;case"rectRot":f=Math.cos(v)*(a?a/2:x),o=Math.cos(v)*x,l=Math.sin(v)*x,m=Math.sin(v)*(a?a/2:x),r.moveTo(t-f,s-l),r.lineTo(t+m,s-o),r.lineTo(t+f,s+l),r.lineTo(t-m,s+o),r.closePath();break;case"crossRot":v+=Vc;case"cross":f=Math.cos(v)*(a?a/2:x),o=Math.cos(v)*x,l=Math.sin(v)*x,m=Math.sin(v)*(a?a/2:x),r.moveTo(t-f,s-l),r.lineTo(t+f,s+l),r.moveTo(t+m,s-o),r.lineTo(t-m,s+o);break;case"star":f=Math.cos(v)*(a?a/2:x),o=Math.cos(v)*x,l=Math.sin(v)*x,m=Math.sin(v)*(a?a/2:x),r.moveTo(t-f,s-l),r.lineTo(t+f,s+l),r.moveTo(t+m,s-o),r.lineTo(t-m,s+o),v+=Vc,f=Math.cos(v)*(a?a/2:x),o=Math.cos(v)*x,l=Math.sin(v)*x,m=Math.sin(v)*(a?a/2:x),r.moveTo(t-f,s-l),r.lineTo(t+f,s+l),r.moveTo(t+m,s-o),r.lineTo(t-m,s+o);break;case"line":o=a?a/2:Math.cos(v)*x,l=Math.sin(v)*x,r.moveTo(t-o,s-l),r.lineTo(t+o,s+l);break;case"dash":r.moveTo(t,s),r.lineTo(t+Math.cos(v)*(a?a/2:x),s+Math.sin(v)*x);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function _g(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function r_(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function a_(r){r.restore()}function Voe(r,e,t,s,a){if(!e)return r.lineTo(t.x,t.y);if(a==="middle"){const i=(e.x+t.x)/2;r.lineTo(i,e.y),r.lineTo(i,t.y)}else a==="after"!=!!s?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function Hoe(r,e,t,s){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function $oe(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),Xs(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function qoe(r,e,t,s,a){if(a.strikethrough||a.underline){const i=r.measureText(s),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=t-i.actualBoundingBoxAscent,d=t+i.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=a.decorationWidth||2,r.moveTo(o,u),r.lineTo(l,u),r.stroke()}}function Woe(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function yy(r,e,t,s,a,i={}){const o=ma(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(r.save(),r.font=a.string,$oe(r,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&Woe(r,i.backdrop),l&&(i.strokeColor&&(r.strokeStyle=i.strokeColor),Xs(i.strokeWidth)||(r.lineWidth=i.strokeWidth),r.strokeText(d,t,s,i.maxWidth)),r.fillText(d,t,s,i.maxWidth),qoe(r,t,s,d,i),s+=Number(a.lineHeight);r.restore()}function vy(r,e){const{x:t,y:s,w:a,h:i,radius:o}=e;r.arc(t+o.topLeft,s+o.topLeft,o.topLeft,1.5*ur,ur,!0),r.lineTo(t,s+i-o.bottomLeft),r.arc(t+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,ur,aa,!0),r.lineTo(t+a-o.bottomRight,s+i),r.arc(t+a-o.bottomRight,s+i-o.bottomRight,o.bottomRight,aa,0,!0),r.lineTo(t+a,s+o.topRight),r.arc(t+a-o.topRight,s+o.topRight,o.topRight,0,-aa,!0),r.lineTo(t+o.topLeft,s)}const Yoe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Goe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Xoe(r,e){const t=(""+r).match(Yoe);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const Koe=r=>+r||0;function n_(r,e){const t={},s=Fs(e),a=s?Object.keys(e):e,i=Fs(r)?s?o=>us(r[o],r[e[o]]):o=>r[o]:()=>r;for(const o of a)t[o]=Koe(i(o));return t}function vU(r){return n_(r,{top:"y",right:"x",bottom:"y",left:"x"})}function ah(r){return n_(r,["topLeft","topRight","bottomLeft","bottomRight"])}function bi(r){const e=vU(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nn(r,e){r=r||{},e=e||zr.font;let t=us(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=us(r.style,e.style);s&&!(""+s).match(Goe)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:us(r.family,e.family),lineHeight:Xoe(us(r.lineHeight,e.lineHeight),t),size:t,style:s,weight:us(r.weight,e.weight),string:""};return a.string=Boe(a),a}function V0(r,e,t,s){let a,i,o;for(a=0,i=r.length;a<i;++a)if(o=r[a],o!==void 0&&o!==void 0)return o}function Zoe(r,e,t){const{min:s,max:a}=r,i=cU(e,(a-s)/2),o=(l,c)=>t&&l===0?0:l+c;return{min:o(s,-Math.abs(i)),max:o(a,i)}}function zd(r,e){return Object.assign(Object.create(r),e)}function i_(r,e=[""],t,s,a=()=>r[0]){const i=t||r;typeof s>"u"&&(s=kU("_fallback",r));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:i,_fallback:s,_getTarget:a,override:l=>i_([l,...r],e,i,s)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete r[0][c],!0},get(l,c){return NU(l,c,()=>nle(c,e,r,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(l,c){return p4(l).includes(c)},ownKeys(l){return p4(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function vh(r,e,t,s){const a={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:wU(r,s),setContext:i=>vh(r,i,t,s),override:i=>vh(r.override(i),e,t,s)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete r[o],!0},get(i,o,l){return NU(i,o,()=>Joe(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(r,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,o)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(i,o){return Reflect.has(r,o)},ownKeys(){return Reflect.ownKeys(r)},set(i,o,l){return r[o]=l,delete i[o],!0}})}function wU(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=r;return{allKeys:a,scriptable:t,indexable:s,isScriptable:rc(t)?t:()=>t,isIndexable:rc(s)?s:()=>s}}const Qoe=(r,e)=>r?r+JS(e):e,o_=(r,e)=>Fs(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function NU(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const s=t();return r[e]=s,s}function Joe(r,e,t){const{_proxy:s,_context:a,_subProxy:i,_descriptors:o}=r;let l=s[e];return rc(l)&&o.isScriptable(e)&&(l=ele(e,l,r,t)),ma(l)&&l.length&&(l=tle(e,l,r,o.isIndexable)),o_(e,l)&&(l=vh(l,a,i&&i[e],o)),l}function ele(r,e,t,s){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=t;if(l.has(r))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+r);l.add(r);let c=e(i,o||s);return l.delete(r),o_(r,c)&&(c=l_(a._scopes,a,r,c)),c}function tle(r,e,t,s){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=t;if(typeof i.index<"u"&&s(r))return e[i.index%e.length];if(Fs(e[0])){const c=e,d=a._scopes.filter(u=>u!==c);e=[];for(const u of c){const f=l_(d,a,r,u);e.push(vh(f,i,o&&o[r],l))}}return e}function jU(r,e,t){return rc(r)?r(e,t):r}const sle=(r,e)=>r===!0?e:typeof r=="string"?Ed(e,r):void 0;function rle(r,e,t,s,a){for(const i of e){const o=sle(t,i);if(o){r.add(o);const l=jU(o._fallback,t,a);if(typeof l<"u"&&l!==t&&l!==s)return l}else if(o===!1&&typeof s<"u"&&t!==s)return null}return!1}function l_(r,e,t,s){const a=e._rootScopes,i=jU(e._fallback,t,s),o=[...r,...a],l=new Set;l.add(s);let c=g4(l,o,t,i||t,s);return c===null||typeof i<"u"&&i!==t&&(c=g4(l,o,i,c,s),c===null)?!1:i_(Array.from(l),[""],a,i,()=>ale(e,t,s))}function g4(r,e,t,s,a){for(;t;)t=rle(r,e,t,s,a);return t}function ale(r,e,t){const s=r._getTarget();e in s||(s[e]={});const a=s[e];return ma(a)&&Fs(t)?t:a||{}}function nle(r,e,t,s){let a;for(const i of e)if(a=kU(Qoe(i,r),t),typeof a<"u")return o_(r,a)?l_(t,s,r,a):a}function kU(r,e){for(const t of e){if(!t)continue;const s=t[r];if(typeof s<"u")return s}}function p4(r){let e=r._keys;return e||(e=r._keys=ile(r._scopes)),e}function ile(r){const e=new Set;for(const t of r)for(const s of Object.keys(t).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}const ole=Number.EPSILON||1e-14,wh=(r,e)=>e<r.length&&!r[e].skip&&r[e],SU=r=>r==="x"?"y":"x";function lle(r,e,t,s){const a=r.skip?e:r,i=e,o=t.skip?e:t,l=xk(i,a),c=xk(o,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const f=s*d,m=s*u;return{previous:{x:i.x-f*(o.x-a.x),y:i.y-f*(o.y-a.y)},next:{x:i.x+m*(o.x-a.x),y:i.y+m*(o.y-a.y)}}}function cle(r,e,t){const s=r.length;let a,i,o,l,c,d=wh(r,0);for(let u=0;u<s-1;++u)if(c=d,d=wh(r,u+1),!(!c||!d)){if(Xm(e[u],0,ole)){t[u]=t[u+1]=0;continue}a=t[u]/e[u],i=t[u+1]/e[u],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),t[u]=a*o*e[u],t[u+1]=i*o*e[u])}}function dle(r,e,t="x"){const s=SU(t),a=r.length;let i,o,l,c=wh(r,0);for(let d=0;d<a;++d){if(o=l,l=c,c=wh(r,d+1),!l)continue;const u=l[t],f=l[s];o&&(i=(u-o[t])/3,l[`cp1${t}`]=u-i,l[`cp1${s}`]=f-i*e[d]),c&&(i=(c[t]-u)/3,l[`cp2${t}`]=u+i,l[`cp2${s}`]=f+i*e[d])}}function ule(r,e="x"){const t=SU(e),s=r.length,a=Array(s).fill(0),i=Array(s);let o,l,c,d=wh(r,0);for(o=0;o<s;++o)if(l=c,c=d,d=wh(r,o+1),!!c){if(d){const u=d[e]-c[e];a[o]=u!==0?(d[t]-c[t])/u:0}i[o]=l?d?Qi(a[o-1])!==Qi(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}cle(r,a,i),dle(r,i,e)}function H0(r,e,t){return Math.max(Math.min(r,t),e)}function hle(r,e){let t,s,a,i,o,l=_g(r[0],e);for(t=0,s=r.length;t<s;++t)o=i,i=l,l=t<s-1&&_g(r[t+1],e),i&&(a=r[t],o&&(a.cp1x=H0(a.cp1x,e.left,e.right),a.cp1y=H0(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=H0(a.cp2x,e.left,e.right),a.cp2y=H0(a.cp2y,e.top,e.bottom)))}function fle(r,e,t,s,a){let i,o,l,c;if(e.spanGaps&&(r=r.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")ule(r,a);else{let d=s?r[r.length-1]:r[0];for(i=0,o=r.length;i<o;++i)l=r[i],c=lle(d,l,r[Math.min(i+1,o-(s?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&hle(r,t)}function c_(){return typeof window<"u"&&typeof document<"u"}function d_(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function wy(r,e,t){let s;return typeof r=="string"?(s=parseInt(r,10),r.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=r,s}const jv=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function mle(r,e){return jv(r).getPropertyValue(e)}const gle=["top","right","bottom","left"];function xd(r,e,t){const s={};t=t?"-"+t:"";for(let a=0;a<4;a++){const i=gle[a];s[i]=parseFloat(r[e+"-"+i+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const ple=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function xle(r,e){const t=r.touches,s=t&&t.length?t[0]:r,{offsetX:a,offsetY:i}=s;let o=!1,l,c;if(ple(a,i,r.target))l=a,c=i;else{const d=e.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Kc(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:s}=e,a=jv(t),i=a.boxSizing==="border-box",o=xd(a,"padding"),l=xd(a,"border","width"),{x:c,y:d,box:u}=xle(r,t),f=o.left+(u&&l.left),m=o.top+(u&&l.top);let{width:p,height:y}=e;return i&&(p-=o.width+l.width,y-=o.height+l.height),{x:Math.round((c-f)/p*t.width/s),y:Math.round((d-m)/y*t.height/s)}}function ble(r,e,t){let s,a;if(e===void 0||t===void 0){const i=r&&d_(r);if(!i)e=r.clientWidth,t=r.clientHeight;else{const o=i.getBoundingClientRect(),l=jv(i),c=xd(l,"border","width"),d=xd(l,"padding");e=o.width-d.width-c.width,t=o.height-d.height-c.height,s=wy(l.maxWidth,i,"clientWidth"),a=wy(l.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:s||by,maxHeight:a||by}}const $0=r=>Math.round(r*10)/10;function yle(r,e,t,s){const a=jv(r),i=xd(a,"margin"),o=wy(a.maxWidth,r,"clientWidth")||by,l=wy(a.maxHeight,r,"clientHeight")||by,c=ble(r,e,t);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const m=xd(a,"border","width"),p=xd(a,"padding");d-=p.width+m.width,u-=p.height+m.height}return d=Math.max(0,d-i.width),u=Math.max(0,s?d/s:u-i.height),d=$0(Math.min(d,o,c.maxWidth)),u=$0(Math.min(u,l,c.maxHeight)),d&&!u&&(u=$0(d/2)),(e!==void 0||t!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=$0(Math.floor(u*s))),{width:d,height:u}}function x4(r,e,t){const s=e||1,a=Math.floor(r.height*s),i=Math.floor(r.width*s);r.height=Math.floor(r.height),r.width=Math.floor(r.width);const o=r.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${r.height}px`,o.style.width=`${r.width}px`),r.currentDevicePixelRatio!==s||o.height!==a||o.width!==i?(r.currentDevicePixelRatio=s,o.height=a,o.width=i,r.ctx.setTransform(s,0,0,s,0,0),!0):!1}const vle=(function(){let r=!1;try{const e={get passive(){return r=!0,!1}};c_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r})();function b4(r,e){const t=mle(r,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Zc(r,e,t,s){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function wle(r,e,t,s){return{x:r.x+t*(e.x-r.x),y:s==="middle"?t<.5?r.y:e.y:s==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function Nle(r,e,t,s){const a={x:r.cp2x,y:r.cp2y},i={x:e.cp1x,y:e.cp1y},o=Zc(r,a,t),l=Zc(a,i,t),c=Zc(i,e,t),d=Zc(o,l,t),u=Zc(l,c,t);return Zc(d,u,t)}const jle=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},kle=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function nh(r,e,t){return r?jle(e,t):kle()}function _U(r,e){let t,s;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=s)}function AU(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function CU(r){return r==="angle"?{between:Sg,compare:joe,normalize:li}:{between:Ml,compare:(e,t)=>e-t,normalize:e=>e}}function y4({start:r,end:e,count:t,loop:s,style:a}){return{start:r%t,end:e%t,loop:s&&(e-r+1)%t===0,style:a}}function Sle(r,e,t){const{property:s,start:a,end:i}=t,{between:o,normalize:l}=CU(s),c=e.length;let{start:d,end:u,loop:f}=r,m,p;if(f){for(d+=c,u+=c,m=0,p=c;m<p&&o(l(e[d%c][s]),a,i);++m)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:f,style:r.style}}function _le(r,e,t){if(!t)return[r];const{property:s,start:a,end:i}=t,o=e.length,{compare:l,between:c,normalize:d}=CU(s),{start:u,end:f,loop:m,style:p}=Sle(r,e,t),y=[];let x=!1,v=null,N,k,S;const R=()=>c(a,S,N)&&l(a,S)!==0,A=()=>l(i,N)===0||c(i,S,N),D=()=>x||R(),P=()=>!x||A();for(let E=u,I=u;E<=f;++E)k=e[E%o],!k.skip&&(N=d(k[s]),N!==S&&(x=c(N,a,i),v===null&&D()&&(v=l(N,a)===0?E:I),v!==null&&P()&&(y.push(y4({start:v,end:E,loop:m,count:o,style:p})),v=null),I=E,S=N));return v!==null&&y.push(y4({start:v,end:f,loop:m,count:o,style:p})),y}function Ale(r,e){const t=[],s=r.segments;for(let a=0;a<s.length;a++){const i=_le(s[a],r.points,e);i.length&&t.push(...i)}return t}function Cle(r,e,t,s){let a=0,i=e-1;if(t&&!s)for(;a<e&&!r[a].skip;)a++;for(;a<e&&r[a].skip;)a++;for(a%=e,t&&(i+=a);i>a&&r[i%e].skip;)i--;return i%=e,{start:a,end:i}}function Ele(r,e,t,s){const a=r.length,i=[];let o=e,l=r[e],c;for(c=e+1;c<=t;++c){const d=r[c%a];d.skip||d.stop?l.skip||(s=!1,i.push({start:e%a,end:(c-1)%a,loop:s}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&i.push({start:e%a,end:o%a,loop:s}),i}function Tle(r,e){const t=r.points,s=r.options.spanGaps,a=t.length;if(!a)return[];const i=!!r._loop,{start:o,end:l}=Cle(t,a,i,s);if(s===!0)return v4(r,[{start:o,end:l,loop:i}],t,e);const c=l<o?l+a:l,d=!!r._fullLoop&&o===0&&l===a-1;return v4(r,Ele(t,o,c,d),t,e)}function v4(r,e,t,s){return!s||!s.setContext||!t?e:Ple(r,e,t,s)}function Ple(r,e,t,s){const a=r._chart.getContext(),i=w4(r.options),{_datasetIndex:o,options:{spanGaps:l}}=r,c=t.length,d=[];let u=i,f=e[0].start,m=f;function p(y,x,v,N){const k=l?-1:1;if(y!==x){for(y+=c;t[y%c].skip;)y-=k;for(;t[x%c].skip;)x+=k;y%c!==x%c&&(d.push({start:y%c,end:x%c,loop:v,style:N}),u=N,f=x%c)}}for(const y of e){f=l?f:y.start;let x=t[f%c],v;for(m=f+1;m<=y.end;m++){const N=t[m%c];v=w4(s.setContext(zd(a,{type:"segment",p0:x,p1:N,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:o}))),Rle(v,u)&&p(f,m-1,y.loop,u),x=N,u=v}f<m-1&&p(f,m-1,y.loop,u)}return d}function w4(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function Rle(r,e){if(!e)return!1;const t=[],s=function(a,i){return t_(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(r,s)!==JSON.stringify(e,s)}function q0(r,e,t){return r.options.clip?r[t]:e[t]}function Ile(r,e){const{xScale:t,yScale:s}=r;return t&&s?{left:q0(t,e,"left"),right:q0(t,e,"right"),top:q0(s,e,"top"),bottom:q0(s,e,"bottom")}:e}function Dle(r,e){const t=e._clip;if(t.disabled)return!1;const s=Ile(e,r.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?r.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?r.height:s.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Mle{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,a){const i=t.listeners[a],o=t.duration;i.forEach(l=>l({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(s-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=gU.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,s,e,"progress")),i.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Eo=new Mle;const N4="transparent",Ole={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const s=u4(r||N4),a=s.valid&&u4(e||N4);return a&&a.valid?a.mix(s,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class Lle{constructor(e,t,s,a){const i=t[s];a=V0([e.to,a,i,e.from]);const o=V0([e.from,i,a]);this._active=!0,this._fn=e.fn||Ole[e.type||typeof o],this._easing=Km[e.easing]||Km.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const a=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=V0([e.to,t,a,e.from]),this._from=V0([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||t<s),!this._active){this._target[a]=l,this._notify(!0);return}if(t<0){this._target[a]=i;return}c=t/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][t]()}}class EU{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Fs(e))return;const t=Object.keys(zr.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!Fs(i))return;const o={};for(const l of t)o[l]=i[l];(ma(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!s.has(l))&&s.set(l,o)})})}_animateOptions(e,t){const s=t.options,a=Ule(e,s);if(!a)return[];const i=this._createAnimations(a,s);return s.$shared&&Fle(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,t){const s=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(t),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(e,t));continue}const u=t[d];let f=i[d];const m=s.get(d);if(f)if(m&&f.active()){f.update(m,u,l);continue}else f.cancel();if(!m||!m.duration){e[d]=u;continue}i[d]=f=new Lle(m,e,d,u),a.push(f)}return a}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return Eo.add(this._chart,s),!0}}function Fle(r,e){const t=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const i=r[s[a]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function Ule(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function j4(r,e){const t=r&&r.options||{},s=t.reverse,a=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:s?i:a,end:s?a:i}}function zle(r,e,t){if(t===!1)return!1;const s=j4(r,t),a=j4(e,t);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function Ble(r){let e,t,s,a;return Fs(r)?(e=r.top,t=r.right,s=r.bottom,a=r.left):e=t=s=a=r,{top:e,right:t,bottom:s,left:a,disabled:r===!1}}function TU(r,e){const t=[],s=r._getSortedDatasetMetas(e);let a,i;for(a=0,i=s.length;a<i;++a)t.push(s[a].index);return t}function k4(r,e,t,s={}){const a=r.keys,i=s.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===t){if(u=!0,s.all)continue;break}d=r.values[c],Qn(d)&&(i||e===0||Qi(e)===Qi(d))&&(e+=d)}return!u&&!s.all?0:e}function Vle(r,e){const{iScale:t,vScale:s}=e,a=t.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(r),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[i]:r[u]};return l}function AN(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function Hle(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function $le(r){const{min:e,max:t,minDefined:s,maxDefined:a}=r.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?t:Number.POSITIVE_INFINITY}}function qle(r,e,t){const s=r[e]||(r[e]={});return s[t]||(s[t]={})}function S4(r,e,t,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const i=r[a.index];if(t&&i>0||!t&&i<0)return a.index}return null}function _4(r,e){const{chart:t,_cachedMeta:s}=r,a=t._stacks||(t._stacks={}),{iScale:i,vScale:o,index:l}=s,c=i.axis,d=o.axis,u=Hle(i,o,s),f=e.length;let m;for(let p=0;p<f;++p){const y=e[p],{[c]:x,[d]:v}=y,N=y._stacks||(y._stacks={});m=N[d]=qle(a,u,x),m[l]=v,m._top=S4(m,o,!0,s.type),m._bottom=S4(m,o,!1,s.type);const k=m._visualValues||(m._visualValues={});k[l]=v}}function CN(r,e){const t=r.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function Wle(r,e){return zd(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Yle(r,e,t){return zd(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function dm(r,e){const t=r.controller.index,s=r.vScale&&r.vScale.axis;if(s){e=e||r._parsed;for(const a of e){const i=a._stacks;if(!i||i[s]===void 0||i[s][t]===void 0)return;delete i[s][t],i[s]._visualValues!==void 0&&i[s]._visualValues[t]!==void 0&&delete i[s]._visualValues[t]}}}const EN=r=>r==="reset"||r==="none",A4=(r,e)=>e?r:Object.assign({},r),Gle=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:TU(t,!0),values:null};class kv{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=AN(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&dm(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),a=(f,m,p,y)=>f==="x"?m:f==="r"?y:p,i=t.xAxisID=us(s.xAxisID,CN(e,"x")),o=t.yAxisID=us(s.yAxisID,CN(e,"y")),l=t.rAxisID=us(s.rAxisID,CN(e,"r")),c=t.indexAxis,d=t.iAxisID=a(c,i,o,l),u=t.vAxisID=a(c,o,i,l);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&l4(this._data,this),e._stacked&&dm(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(Fs(t)){const a=this._cachedMeta;this._data=Vle(t,a)}else if(s!==t){if(s){l4(s,this);const a=this._cachedMeta;dm(a),a._parsed=[]}t&&Object.isExtensible(t)&&Aoe(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const i=t._stacked;t._stacked=AN(t.vScale,t),t.stack!==s.stack&&(a=!0,dm(t),t.stack=s.stack),this._resyncElements(e),(a||i!==t._stacked)&&(_4(this,t._parsed),t._stacked=AN(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:a}=this,{iScale:i,_stacked:o}=s,l=i.axis;let c=e===0&&t===a.length?!0:s._sorted,d=e>0&&s._parsed[e-1],u,f,m;if(this._parsing===!1)s._parsed=a,s._sorted=!0,m=a;else{ma(a[e])?m=this.parseArrayData(s,a,e,t):Fs(a[e])?m=this.parseObjectData(s,a,e,t):m=this.parsePrimitiveData(s,a,e,t);const p=()=>f[l]===null||d&&f[l]<d[l];for(u=0;u<t;++u)s._parsed[u+e]=f=m[u],c&&(p()&&(c=!1),d=f);s._sorted=c}o&&_4(this,m)}parsePrimitiveData(e,t,s,a){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,f=new Array(a);let m,p,y;for(m=0,p=a;m<p;++m)y=m+s,f[m]={[l]:u||i.parse(d[y],y),[c]:o.parse(t[y],y)};return f}parseArrayData(e,t,s,a){const{xScale:i,yScale:o}=e,l=new Array(a);let c,d,u,f;for(c=0,d=a;c<d;++c)u=c+s,f=t[u],l[c]={x:i.parse(f[0],u),y:o.parse(f[1],u)};return l}parseObjectData(e,t,s,a){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,f,m,p;for(u=0,f=a;u<f;++u)m=u+s,p=t[m],d[u]={x:i.parse(Ed(p,l),m),y:o.parse(Ed(p,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const a=this.chart,i=this._cachedMeta,o=t[e.axis],l={keys:TU(a,!0),values:t._stacks[e.axis]._visualValues};return k4(l,o,i.index,{mode:s})}updateRangeFromParsed(e,t,s,a){const i=s[t.axis];let o=i===null?NaN:i;const l=a&&s._stacks[t.axis];a&&l&&(a.values=l,o=k4(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const s=this._cachedMeta,a=s._parsed,i=s._sorted&&e===s.iScale,o=a.length,l=this._getOtherScale(e),c=Gle(t,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=$le(l);let m,p;function y(){p=a[m];const x=p[l.axis];return!Qn(p[e.axis])||u>x||f<x}for(m=0;m<o&&!(!y()&&(this.updateRangeFromParsed(d,e,p,c),i));++m);if(i){for(m=o-1;m>=0;--m)if(!y()){this.updateRangeFromParsed(d,e,p,c);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let a,i,o;for(a=0,i=t.length;a<i;++a)o=t[a][e.axis],Qn(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,a=t.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Ble(us(this.options.clip,zle(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,a=s.data||[],i=t.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const f=a[u];f.hidden||(f.active&&d?o.push(f):f.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=Yle(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Wle(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const a=t==="active",i=this._cachedDataOpts,o=e+"-"+t,l=i[o],c=this.enableOptionSharing&&jg(s);if(l)return A4(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),p=Object.keys(zr.elements[e]),y=()=>this.getContext(s,a,t),x=d.resolveNamedOptions(m,p,y,f);return x.$shared&&(x.$shared=c,i[o]=Object.freeze(A4(x,c))),x}_resolveAnimations(e,t,s){const a=this.chart,i=this._cachedDataOpts,o=`animation-${t}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,t),m=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(m,this.getContext(e,s,t))}const d=new EU(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||EN(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),a=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(t,i)||i!==a;return this.updateSharedOptions(i,t,s),{sharedOptions:i,includeOptions:o}}updateElement(e,t,s,a){EN(a)?Object.assign(e,s):this._resolveAnimations(t,a).update(e,s)}updateSharedOptions(e,t,s){e&&!EN(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,a){e.active=a;const i=this.getStyle(t,a);this._resolveAnimations(t,s,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=s.length,i=t.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,t,s=!0){const a=this._cachedMeta,i=a.data,o=e+t;let l;const c=d=>{for(d.length+=t,l=d.length-1;l>=o;l--)d[l]=d[l-t]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,t),s&&this.updateElements(i,e,t,"reset")}updateElements(e,t,s,a){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,t);s._stacked&&dm(s,a)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,a]=e;this[t](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Xle(r,e){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(e);let s=[];for(let a=0,i=t.length;a<i;a++)s=s.concat(t[a].controller.getAllParsedValues(r));r._cache.$bar=mU(s.sort((a,i)=>a-i))}return r._cache.$bar}function Kle(r){const e=r.iScale,t=Xle(e,r.type);let s=e._length,a,i,o,l;const c=()=>{o===32767||o===-32768||(jg(l)&&(s=Math.min(s,Math.abs(o-l)||s)),l=o)};for(a=0,i=t.length;a<i;++a)o=e.getPixelForValue(t[a]),c();for(l=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),c();return s}function Zle(r,e,t,s){const a=t.barThickness;let i,o;return Xs(a)?(i=e.min*t.categoryPercentage,o=t.barPercentage):(i=a*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[r]-i/2}}function Qle(r,e,t,s){const a=e.pixels,i=a[r];let o=r>0?a[r-1]:null,l=r<a.length-1?a[r+1]:null;const c=t.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/s,ratio:t.barPercentage,start:d}}function Jle(r,e,t,s){const a=t.parse(r[0],s),i=t.parse(r[1],s),o=Math.min(a,i),l=Math.max(a,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[t.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:i,min:o,max:l}}function PU(r,e,t,s){return ma(r)?Jle(r,e,t,s):e[t.axis]=t.parse(r,s),e}function C4(r,e,t,s){const a=r.iScale,i=r.vScale,o=a.getLabels(),l=a===i,c=[];let d,u,f,m;for(d=t,u=t+s;d<u;++d)m=e[d],f={},f[a.axis]=l||a.parse(o[d],d),c.push(PU(m,f,i,d));return c}function TN(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function ece(r,e,t){return r!==0?Qi(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function tce(r){let e,t,s,a,i;return r.horizontal?(e=r.base>r.x,t="left",s="right"):(e=r.base<r.y,t="bottom",s="top"),e?(a="end",i="start"):(a="start",i="end"),{start:t,end:s,reverse:e,top:a,bottom:i}}function sce(r,e,t,s){let a=e.borderSkipped;const i={};if(!a){r.borderSkipped=i;return}if(a===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=tce(r);a==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===s?a=d:(t._bottom||0)===s?a=u:(i[E4(u,o,l,c)]=!0,a=d)),i[E4(a,o,l,c)]=!0,r.borderSkipped=i}function E4(r,e,t,s){return s?(r=rce(r,e,t),r=T4(r,t,e)):r=T4(r,e,t),r}function rce(r,e,t){return r===e?t:r===t?e:r}function T4(r,e,t){return r==="start"?e:r==="end"?t:r}function ace(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}class nce extends kv{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,a){return C4(e,t,s,a)}parseArrayData(e,t,s,a){return C4(e,t,s,a)}parseObjectData(e,t,s,a){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,f=[];let m,p,y,x;for(m=s,p=s+a;m<p;++m)x=t[m],y={},y[i.axis]=i.parse(Ed(x,d),m),f.push(PU(Ed(x,u),y,o,m));return f}updateRangeFromParsed(e,t,s,a){super.updateRangeFromParsed(e,t,s,a);const i=s._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:a}=t,i=this.getParsed(e),o=i._custom,l=TN(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(t,a);for(let p=t;p<t+s;p++){const y=this.getParsed(p),x=i||Xs(y[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),v=this._calculateBarIndexPixels(p,u),N=(y._stacks||{})[l.axis],k={horizontal:d,base:x.base,enableBorderRadius:!N||TN(y._custom)||o===N._top||o===N._bottom,x:d?x.head:v.center,y:d?v.center:x.head,height:d?v.size:Math.abs(x.size),width:d?Math.abs(x.size):v.size};m&&(k.options=f||this.resolveDataElementOptions(p,e[p].active?"active":a));const S=k.options||e[p].options;sce(k,S,N,o),ace(k,S,u.ratio),this.updateElement(e[p],p,k,a)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[s.axis],d=u=>{const f=u._parsed.find(p=>p[s.axis]===c),m=f&&f[u.vScale.axis];if(Xs(m)||isNaN(m))return!0};for(const u of a)if(!(t!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[us(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const a=this._getStacks(e,s),i=t!==void 0?a.indexOf(t):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,a=[];let i,o;for(i=0,o=t.data.length;i<o;++i)a.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const l=e.barThickness;return{min:l||Kle(t),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=TN(d);let f=c[t.axis],m=0,p=s?this.applyStack(t,c,s):f,y,x;p!==f&&(m=p-f,p=f),u&&(f=d.barStart,p=d.barEnd-d.barStart,f!==0&&Qi(f)!==Qi(d.barEnd)&&(m=0),m+=f);const v=!Xs(i)&&!u?i:m;let N=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?y=t.getPixelForValue(m+p):y=N,x=y-N,Math.abs(x)<o){x=ece(x,t,l)*o,f===l&&(N-=x/2);const k=t.getPixelForDecimal(0),S=t.getPixelForDecimal(1),R=Math.min(k,S),A=Math.max(k,S);N=Math.max(Math.min(N,A),R),y=N+x,s&&!u&&(c._stacks[t.axis]._visualValues[a]=t.getValueForPixel(y)-t.getValueForPixel(N))}if(N===t.getPixelForValue(l)){const k=Qi(x)*t.getLineWidthForValue(l)/2;N+=k,x-=k}return{size:x,base:N,head:y,center:y+x/2}}_calculateBarIndexPixels(e,t){const s=t.scale,a=this.options,i=a.skipNull,o=us(a.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(t.grouped){const u=i?this._getStackCount(e):t.stackCount,f=a.barThickness==="flex"?Qle(e,t,a,u*d):Zle(e,t,a,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(us(m,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+p;l=f.start+f.chunk*y+f.chunk/2,c=Math.min(o,f.chunk*f.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,a=s.length;let i=0;for(;i<a;++i)this.getParsed(i)[t.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}function ice(r,e,t){let s=1,a=1,i=0,o=0;if(e<Pr){const l=r,c=l+e,d=Math.cos(l),u=Math.sin(l),f=Math.cos(c),m=Math.sin(c),p=(S,R,A)=>Sg(S,l,c,!0)?1:Math.max(R,R*t,A,A*t),y=(S,R,A)=>Sg(S,l,c,!0)?-1:Math.min(R,R*t,A,A*t),x=p(0,d,f),v=p(aa,u,m),N=y(ur,d,f),k=y(ur+aa,u,m);s=(x-N)/2,a=(v-k)/2,i=-(x+N)/2,o=-(v+k)/2}return{ratioX:s,ratioY:a,offsetX:i,offsetY:o}}class oce extends kv{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return t.labels.map((i,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let i=c=>+s[c];if(Fs(s[e])){const{key:c="value"}=this._parsing;i=d=>+Ed(s[d],c)}let o,l;for(o=e,l=e+t;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return Mo(this.options.rotation-90)}_getCircumference(){return Mo(this.options.circumference)}_getRotationExtents(){let e=Pr,t=-Pr;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),t=Math.max(t,i+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(doe(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:y,offsetY:x}=ice(f,u,c),v=(s.width-o)/m,N=(s.height-o)/p,k=Math.max(Math.min(v,N)/2,0),S=cU(this.options.radius,k),R=Math.max(S*c,0),A=(S-R)/this._getVisibleDatasetWeightTotal();this.offsetX=y*S,this.offsetY=x*S,a.total=this.calculateTotal(),this.outerRadius=S-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const s=this.options,a=this._cachedMeta,i=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/Pr)}updateElements(e,t,s,a){const i=a==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=i&&d.animateScale,p=m?0:this.innerRadius,y=m?0:this.outerRadius,{sharedOptions:x,includeOptions:v}=this._getSharedOptions(t,a);let N=this._getRotation(),k;for(k=0;k<t;++k)N+=this._circumference(k,i);for(k=t;k<t+s;++k){const S=this._circumference(k,i),R=e[k],A={x:u+this.offsetX,y:f+this.offsetY,startAngle:N,endAngle:N+S,circumference:S,outerRadius:y,innerRadius:p};v&&(A.options=x||this.resolveDataElementOptions(k,R.active?"active":a)),N+=S,this.updateElement(R,k,A,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,a;for(a=0;a<t.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!t[a].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Pr*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,a=s.data.labels||[],i=s_(t._parsed[e],s.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const s=this.chart;let a,i,o,l,c;if(!e){for(a=0,i=s.data.datasets.length;a<i;++a)if(s.isDatasetVisible(a)){o=s.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,a=e.length;s<a;++s){const i=this.resolveDataElementOptions(s);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(us(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class lce extends kv{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:a=[],_dataset:i}=t,o=this.chart._animationsDisabled;let{start:l,count:c}=Toe(t,a,o);this._drawStart=l,this._drawCount=c,Poe(t)&&(l=0,c=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=a;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:d},e),this.updateElements(a,l,c,e)}updateElements(e,t,s,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(t,a),m=o.axis,p=l.axis,{spanGaps:y,segment:x}=this.options,v=kg(y)?y:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||a==="none",k=t+s,S=e.length;let R=t>0&&this.getParsed(t-1);for(let A=0;A<S;++A){const D=e[A],P=N?D:{};if(A<t||A>=k){P.skip=!0;continue}const E=this.getParsed(A),I=Xs(E[p]),M=P[m]=o.getPixelForValue(E[m],A),L=P[p]=i||I?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,E,c):E[p],A);P.skip=isNaN(M)||isNaN(L)||I,P.stop=A>0&&Math.abs(E[m]-R[m])>v,x&&(P.parsed=E,P.raw=d.data[A]),f&&(P.options=u||this.resolveDataElementOptions(A,D.active?"active":a)),N||this.updateElement(D,A,P,a),R=E}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function $c(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class u_{static override(e){Object.assign(u_.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return $c()}parse(){return $c()}format(){return $c()}add(){return $c()}diff(){return $c()}startOf(){return $c()}endOf(){return $c()}}var cce={_date:u_};function dce(r,e,t,s){const{controller:a,data:i,_sorted:o}=r,l=a._cachedMeta.iScale,c=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?Soe:ld;if(s){if(a._sharedOptions){const u=i[0],f=typeof u.getRange=="function"&&u.getRange(e);if(f){const m=d(i,e,t-f),p=d(i,e,t+f);return{lo:m.lo,hi:p.hi}}}}else{const u=d(i,e,t);if(c){const{vScale:f}=a._cachedMeta,{_parsed:m}=r,p=m.slice(0,u.lo+1).reverse().findIndex(x=>!Xs(x[f.axis]));u.lo-=Math.max(0,p);const y=m.slice(u.hi).findIndex(x=>!Xs(x[f.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:i.length-1}}function Sv(r,e,t,s,a){const i=r.getSortedVisibleDatasetMetas(),o=t[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:f,hi:m}=dce(i[l],e,o,a);for(let p=f;p<=m;++p){const y=u[p];y.skip||s(y,d,p)}}}function uce(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(s,a){const i=e?Math.abs(s.x-a.x):0,o=t?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function PN(r,e,t,s,a){const i=[];return!a&&!r.isPointInArea(e)||Sv(r,t,e,function(l,c,d){!a&&!_g(l,r.chartArea,0)||l.inRange(e.x,e.y,s)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function hce(r,e,t,s){let a=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:f}=hU(o,{x:e.x,y:e.y});Sg(f,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return Sv(r,t,e,i),a}function fce(r,e,t,s,a,i){let o=[];const l=uce(t);let c=Number.POSITIVE_INFINITY;function d(u,f,m){const p=u.inRange(e.x,e.y,a);if(s&&!p)return;const y=u.getCenterPoint(a);if(!(!!i||r.isPointInArea(y))&&!p)return;const v=l(e,y);v<c?(o=[{element:u,datasetIndex:f,index:m}],c=v):v===c&&o.push({element:u,datasetIndex:f,index:m})}return Sv(r,t,e,d),o}function RN(r,e,t,s,a,i){return!i&&!r.isPointInArea(e)?[]:t==="r"&&!s?hce(r,e,t,a):fce(r,e,t,s,a,i)}function P4(r,e,t,s,a){const i=[],o=t==="x"?"inXRange":"inYRange";let l=!1;return Sv(r,t,e,(c,d,u)=>{c[o]&&c[o](e[t],a)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,a))}),s&&!l?[]:i}var mce={modes:{index(r,e,t,s){const a=Kc(e,r),i=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?PN(r,a,i,s,o):RN(r,a,i,!1,s,o),c=[];return l.length?(r.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,f=d.data[u];f&&!f.skip&&c.push({element:f,datasetIndex:d.index,index:u})}),c):[]},dataset(r,e,t,s){const a=Kc(e,r),i=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?PN(r,a,i,s,o):RN(r,a,i,!1,s,o);if(l.length>0){const c=l[0].datasetIndex,d=r.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(r,e,t,s){const a=Kc(e,r),i=t.axis||"xy",o=t.includeInvisible||!1;return PN(r,a,i,s,o)},nearest(r,e,t,s){const a=Kc(e,r),i=t.axis||"xy",o=t.includeInvisible||!1;return RN(r,a,i,t.intersect,s,o)},x(r,e,t,s){const a=Kc(e,r);return P4(r,a,"x",t.intersect,s)},y(r,e,t,s){const a=Kc(e,r);return P4(r,a,"y",t.intersect,s)}}};const RU=["left","top","right","bottom"];function um(r,e){return r.filter(t=>t.pos===e)}function R4(r,e){return r.filter(t=>RU.indexOf(t.pos)===-1&&t.box.axis===e)}function hm(r,e){return r.sort((t,s)=>{const a=e?s:t,i=e?t:s;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function gce(r){const e=[];let t,s,a,i,o,l;for(t=0,s=(r||[]).length;t<s;++t)a=r[t],{position:i,options:{stack:o,stackWeight:l=1}}=a,e.push({index:t,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return e}function pce(r){const e={};for(const t of r){const{stack:s,pos:a,stackWeight:i}=t;if(!s||!RU.includes(a))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function xce(r,e){const t=pce(r),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let i,o,l;for(i=0,o=r.length;i<o;++i){l=r[i];const{fullSize:c}=l.box,d=t[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*s:c&&e.availableWidth,l.height=a):(l.width=s,l.height=u?u*a:c&&e.availableHeight)}return t}function bce(r){const e=gce(r),t=hm(e.filter(d=>d.box.fullSize),!0),s=hm(um(e,"left"),!0),a=hm(um(e,"right")),i=hm(um(e,"top"),!0),o=hm(um(e,"bottom")),l=R4(e,"x"),c=R4(e,"y");return{fullSize:t,leftAndTop:s.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:um(e,"chartArea"),vertical:s.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function I4(r,e,t,s){return Math.max(r[t],e[t])+Math.max(r[s],e[s])}function IU(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function yce(r,e,t,s){const{pos:a,box:i}=t,o=r.maxPadding;if(!Fs(a)){t.size&&(r[a]-=t.size);const f=s[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?i.height:i.width),t.size=f.size/f.count,r[a]+=t.size}i.getPadding&&IU(o,i.getPadding());const l=Math.max(0,e.outerWidth-I4(o,r,"left","right")),c=Math.max(0,e.outerHeight-I4(o,r,"top","bottom")),d=l!==r.w,u=c!==r.h;return r.w=l,r.h=c,t.horizontal?{same:d,other:u}:{same:u,other:d}}function vce(r){const e=r.maxPadding;function t(s){const a=Math.max(e[s]-r[s],0);return r[s]+=a,a}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function wce(r,e){const t=e.maxPadding;function s(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],t[o])}),i}return s(r?["left","right"]:["top","bottom"])}function Tm(r,e,t,s){const a=[];let i,o,l,c,d,u;for(i=0,o=r.length,d=0;i<o;++i){l=r[i],c=l.box,c.update(l.width||e.w,l.height||e.h,wce(l.horizontal,e));const{same:f,other:m}=yce(e,t,l,s);d|=f&&a.length,u=u||m,c.fullSize||a.push(l)}return d&&Tm(a,e,t,s)||u}function W0(r,e,t,s,a){r.top=t,r.left=e,r.right=e+s,r.bottom=t+a,r.width=s,r.height=a}function D4(r,e,t,s){const a=t.padding;let{x:i,y:o}=e;for(const l of r){const c=l.box,d=s[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const f=e.w*u,m=d.size||c.height;jg(d.start)&&(o=d.start),c.fullSize?W0(c,a.left,o,t.outerWidth-a.right-a.left,m):W0(c,e.left+d.placed,o,f,m),d.start=o,d.placed+=f,o=c.bottom}else{const f=e.h*u,m=d.size||c.width;jg(d.start)&&(i=d.start),c.fullSize?W0(c,i,a.top,m,t.outerHeight-a.bottom-a.top):W0(c,i,e.top+d.placed,m,f),d.start=i,d.placed+=f,i=c.right}}e.x=i,e.y=o}var Ol={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,s){if(!r)return;const a=bi(r.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(t-a.height,0),l=bce(r.boxes),c=l.vertical,d=l.horizontal;er(r.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,v)=>v.box.options&&v.box.options.display===!1?x:x+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),m=Object.assign({},a);IU(m,bi(s));const p=Object.assign({maxPadding:m,w:i,h:o,x:a.left,y:a.top},a),y=xce(c.concat(d),f);Tm(l.fullSize,p,f,y),Tm(c,p,f,y),Tm(d,p,f,y)&&Tm(c,p,f,y),vce(p),D4(l.leftAndTop,p,f,y),p.x+=p.w,p.y+=p.h,D4(l.rightAndBottom,p,f,y),r.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},er(l.chartArea,x=>{const v=x.box;Object.assign(v,r.chartArea),v.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class DU{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,a){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):s)}}isAttached(e){return!0}updateConfig(e){}}class Nce extends DU{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Eb="$chartjs",jce={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},M4=r=>r===null||r==="";function kce(r,e){const t=r.style,s=r.getAttribute("height"),a=r.getAttribute("width");if(r[Eb]={initial:{height:s,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",M4(a)){const i=b4(r,"width");i!==void 0&&(r.width=i)}if(M4(s))if(r.style.height==="")r.height=r.width/(e||2);else{const i=b4(r,"height");i!==void 0&&(r.height=i)}return r}const MU=vle?{passive:!0}:!1;function Sce(r,e,t){r&&r.addEventListener(e,t,MU)}function _ce(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,MU)}function Ace(r,e){const t=jce[r.type]||r.type,{x:s,y:a}=Kc(r,e);return{type:t,chart:e,native:r,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Ny(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function Cce(r,e,t){const s=r.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Ny(l.addedNodes,s),o=o&&!Ny(l.removedNodes,s);o&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}function Ece(r,e,t){const s=r.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Ny(l.removedNodes,s),o=o&&!Ny(l.addedNodes,s);o&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}const Ag=new Map;let O4=0;function OU(){const r=window.devicePixelRatio;r!==O4&&(O4=r,Ag.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function Tce(r,e){Ag.size||window.addEventListener("resize",OU),Ag.set(r,e)}function Pce(r){Ag.delete(r),Ag.size||window.removeEventListener("resize",OU)}function Rce(r,e,t){const s=r.canvas,a=s&&d_(s);if(!a)return;const i=pU((l,c)=>{const d=a.clientWidth;t(l,c),d<a.clientWidth&&t()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),Tce(r,i),o}function IN(r,e,t){t&&t.disconnect(),e==="resize"&&Pce(r)}function Ice(r,e,t){const s=r.canvas,a=pU(i=>{r.ctx!==null&&t(Ace(i,r))},r);return Sce(s,e,a),a}class Dce extends DU{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(kce(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[Eb])return!1;const s=t[Eb].initial;["height","width"].forEach(i=>{const o=s[i];Xs(o)?t.removeAttribute(i):t.setAttribute(i,o)});const a=s.style||{};return Object.keys(a).forEach(i=>{t.style[i]=a[i]}),t.width=t.width,delete t[Eb],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),o={attach:Cce,detach:Ece,resize:Rce}[t]||Ice;a[t]=o(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),a=s[t];if(!a)return;({attach:IN,detach:IN,resize:IN}[t]||_ce)(e,t,a),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,a){return yle(e,t,s,a)}isAttached(e){const t=e&&d_(e);return!!(t&&t.isConnected)}}function Mce(r){return!c_()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?Nce:Dce}let hc=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return kg(this.x)&&kg(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const a={};return e.forEach(i=>{a[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),a}};function Oce(r,e){const t=r.options.ticks,s=Lce(r),a=Math.min(t.maxTicksLimit||s,s),i=t.major.enabled?Uce(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>a)return zce(e,d,i,o/a),d;const u=Fce(i,e,a);if(o>0){let f,m;const p=o>1?Math.round((c-l)/(o-1)):null;for(Y0(e,d,u,Xs(p)?0:l-p,l),f=0,m=o-1;f<m;f++)Y0(e,d,u,i[f],i[f+1]);return Y0(e,d,u,c,Xs(p)?e.length:c+p),d}return Y0(e,d,u),d}function Lce(r){const e=r.options.offset,t=r._tickSize(),s=r._length/t+(e?0:1),a=r._maxLength/t;return Math.floor(Math.min(s,a))}function Fce(r,e,t){const s=Bce(r),a=e.length/t;if(!s)return Math.max(a,1);const i=boe(s);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function Uce(r){const e=[];let t,s;for(t=0,s=r.length;t<s;t++)r[t].major&&e.push(t);return e}function zce(r,e,t,s){let a=0,i=t[0],o;for(s=Math.ceil(s),o=0;o<r.length;o++)o===i&&(e.push(r[o]),a++,i=t[a*s])}function Y0(r,e,t,s,a){const i=us(s,0),o=Math.min(us(a,r.length),r.length);let l=0,c,d,u;for(t=Math.ceil(t),a&&(c=a-s,t=c/Math.floor(c/t)),u=i;u<0;)l++,u=Math.round(i+l*t);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(r[d]),l++,u=Math.round(i+l*t))}function Bce(r){const e=r.length;let t,s;if(e<2)return!1;for(s=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==s)return!1;return s}const Vce=r=>r==="left"?"right":r==="right"?"left":r,L4=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,F4=(r,e)=>Math.min(e||r,r);function U4(r,e){const t=[],s=r.length/e,a=r.length;let i=0;for(;i<a;i+=s)t.push(r[Math.floor(i)]);return t}function Hce(r,e,t){const s=r.ticks.length,a=Math.min(e,s-1),i=r._startPixel,o=r._endPixel,l=1e-6;let c=r.getPixelForTick(a),d;if(!(t&&(s===1?d=Math.max(c-i,o-c):e===0?d=(r.getPixelForTick(1)-c)/2:d=(c-r.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<i-l||c>o+l)))return c}function $ce(r,e){er(r,t=>{const s=t.gc,a=s.length/2;let i;if(a>e){for(i=0;i<a;++i)delete t.data[s[i]];s.splice(0,a)}})}function fm(r){return r.drawTicks?r.tickLength:0}function z4(r,e){if(!r.display)return 0;const t=nn(r.font,e),s=bi(r.padding);return(ma(r.text)?r.text.length:1)*t.lineHeight+s.height}function qce(r,e){return zd(r,{scale:e,type:"scale"})}function Wce(r,e,t){return zd(r,{tick:t,index:e,type:"tick"})}function Yce(r,e,t){let s=xU(r);return(t&&e!=="right"||!t&&e==="right")&&(s=Vce(s)),s}function Gce(r,e,t,s){const{top:a,left:i,bottom:o,right:l,chart:c}=r,{chartArea:d,scales:u}=c;let f=0,m,p,y;const x=o-a,v=l-i;if(r.isHorizontal()){if(p=wn(s,i,l),Fs(t)){const N=Object.keys(t)[0],k=t[N];y=u[N].getPixelForValue(k)+x-e}else t==="center"?y=(d.bottom+d.top)/2+x-e:y=L4(r,t,e);m=l-i}else{if(Fs(t)){const N=Object.keys(t)[0],k=t[N];p=u[N].getPixelForValue(k)-v+e}else t==="center"?p=(d.left+d.right)/2-v+e:p=L4(r,t,e);y=wn(s,o,a),f=t==="left"?-aa:aa}return{titleX:p,titleY:y,maxWidth:m,rotation:f}}class Hh extends hc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:a}=this;return e=Di(e,Number.POSITIVE_INFINITY),t=Di(t,Number.NEGATIVE_INFINITY),s=Di(s,Number.POSITIVE_INFINITY),a=Di(a,Number.NEGATIVE_INFINITY),{min:Di(e,s),max:Di(t,a),minDefined:Qn(e),maxDefined:Qn(t)}}getMinMax(e){let{min:t,max:s,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:t,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),a||(t=Math.min(t,o.min)),i||(s=Math.max(s,o.max));return t=i&&t>s?s:t,s=a&&t>s?t:s,{min:Di(t,Di(s,t)),max:Di(s,Di(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xr(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Zoe(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?U4(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Oce(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xr(this.options.afterUpdate,[this])}beforeSetDimensions(){xr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,a,i;for(s=0,a=e.length;s<a;s++)i=e[s],i.label=xr(t.callback,[i.value,s,e],this)}afterTickToLabelConversion(){xr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=F4(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,i=t.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!t.display||a>=i||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),f=u.widest.width,m=u.highest.height,p=Ia(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/s:p/(s-1),f+6>l&&(l=p/(s-(e.offset?.5:1)),c=this.maxHeight-fm(e.grid)-t.padding-z4(e.title,this.chart.options.font),d=Math.sqrt(f*f+m*m),o=Noe(Math.min(Math.asin(Ia((u.highest.height+6)/l,-1,1)),Math.asin(Ia(c/d,-1,1))-Math.asin(Ia(m/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){xr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=z4(a,t.options.font);if(l?(e.width=this.maxWidth,e.height=fm(i)+c):(e.height=this.maxHeight,e.width=fm(i)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:f,highest:m}=this._getLabelSizes(),p=s.padding*2,y=Mo(this.labelRotation),x=Math.cos(y),v=Math.sin(y);if(l){const N=s.mirror?0:v*f.width+x*m.height;e.height=Math.min(this.maxHeight,e.height+N+p)}else{const N=s.mirror?0:x*f.width+v*m.height;e.width=Math.min(this.maxWidth,e.width+N+p)}this._calculatePadding(d,u,v,x)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,p=0;c?d?(m=a*e.width,p=s*t.height):(m=s*e.height,p=a*t.width):i==="start"?p=t.width:i==="end"?m=e.width:i!=="inner"&&(m=e.width/2,p=t.width/2),this.paddingLeft=Math.max((m-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let u=t.height/2,f=e.height/2;i==="start"?(u=0,f=e.height):i==="end"&&(u=t.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)Xs(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=U4(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(t/F4(t,s));let d=0,u=0,f,m,p,y,x,v,N,k,S,R,A;for(f=0;f<t;f+=c){if(y=e[f].label,x=this._resolveTickFontOptions(f),a.font=v=x.string,N=i[v]=i[v]||{data:{},gc:[]},k=x.lineHeight,S=R=0,!Xs(y)&&!ma(y))S=f4(a,N.data,N.gc,S,y),R=k;else if(ma(y))for(m=0,p=y.length;m<p;++m)A=y[m],!Xs(A)&&!ma(A)&&(S=f4(a,N.data,N.gc,S,A),R+=k);o.push(S),l.push(R),d=Math.max(S,d),u=Math.max(R,u)}$ce(i,t);const D=o.indexOf(d),P=l.indexOf(u),E=I=>({width:o[I]||0,height:l[I]||0});return{first:E(0),last:E(t-1),widest:E(D),highest:E(P),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return koe(this._alignToPixels?Hc(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=Wce(this.getContext(),e,s))}return this.$context||(this.$context=qce(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Mo(this.labelRotation),s=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>l*a?l/s:c/a:c*a<l*s?c/s:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,d=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=fm(i),p=[],y=l.setContext(this.getContext()),x=y.display?y.width:0,v=x/2,N=function(Y){return Hc(s,Y,x)};let k,S,R,A,D,P,E,I,M,L,z,F;if(o==="top")k=N(this.bottom),P=this.bottom-m,I=k-v,L=N(e.top)+v,F=e.bottom;else if(o==="bottom")k=N(this.top),L=e.top,F=N(e.bottom)-v,P=k+v,I=this.top+m;else if(o==="left")k=N(this.right),D=this.right-m,E=k-v,M=N(e.left)+v,z=e.right;else if(o==="right")k=N(this.left),M=e.left,z=N(e.right)-v,D=k+v,E=this.left+m;else if(t==="x"){if(o==="center")k=N((e.top+e.bottom)/2+.5);else if(Fs(o)){const Y=Object.keys(o)[0],X=o[Y];k=N(this.chart.scales[Y].getPixelForValue(X))}L=e.top,F=e.bottom,P=k+v,I=P+m}else if(t==="y"){if(o==="center")k=N((e.left+e.right)/2);else if(Fs(o)){const Y=Object.keys(o)[0],X=o[Y];k=N(this.chart.scales[Y].getPixelForValue(X))}D=k-v,E=D-m,M=e.left,z=e.right}const V=us(a.ticks.maxTicksLimit,f),$=Math.max(1,Math.ceil(f/V));for(S=0;S<f;S+=$){const Y=this.getContext(S),X=i.setContext(Y),ee=l.setContext(Y),W=X.lineWidth,B=X.color,G=ee.dash||[],te=ee.dashOffset,re=X.tickWidth,ie=X.tickColor,he=X.tickBorderDash||[],le=X.tickBorderDashOffset;R=Hce(this,S,c),R!==void 0&&(A=Hc(s,R,W),d?D=E=M=z=A:P=I=L=F=A,p.push({tx1:D,ty1:P,tx2:E,ty2:I,x1:M,y1:L,x2:z,y2:F,width:W,color:B,borderDash:G,borderDashOffset:te,tickWidth:re,tickColor:ie,tickBorderDash:he,tickBorderDashOffset:le}))}return this._ticksLength=f,this._borderValue=k,p}_computeLabelItems(e){const t=this.axis,s=this.options,{position:a,ticks:i}=s,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:f}=i,m=fm(s.grid),p=m+u,y=f?-u:p,x=-Mo(this.labelRotation),v=[];let N,k,S,R,A,D,P,E,I,M,L,z,F="middle";if(a==="top")D=this.bottom-y,P=this._getXAxisLabelAlignment();else if(a==="bottom")D=this.top+y,P=this._getXAxisLabelAlignment();else if(a==="left"){const $=this._getYAxisLabelAlignment(m);P=$.textAlign,A=$.x}else if(a==="right"){const $=this._getYAxisLabelAlignment(m);P=$.textAlign,A=$.x}else if(t==="x"){if(a==="center")D=(e.top+e.bottom)/2+p;else if(Fs(a)){const $=Object.keys(a)[0],Y=a[$];D=this.chart.scales[$].getPixelForValue(Y)+p}P=this._getXAxisLabelAlignment()}else if(t==="y"){if(a==="center")A=(e.left+e.right)/2-p;else if(Fs(a)){const $=Object.keys(a)[0],Y=a[$];A=this.chart.scales[$].getPixelForValue(Y)}P=this._getYAxisLabelAlignment(m).textAlign}t==="y"&&(c==="start"?F="top":c==="end"&&(F="bottom"));const V=this._getLabelSizes();for(N=0,k=l.length;N<k;++N){S=l[N],R=S.label;const $=i.setContext(this.getContext(N));E=this.getPixelForTick(N)+i.labelOffset,I=this._resolveTickFontOptions(N),M=I.lineHeight,L=ma(R)?R.length:1;const Y=L/2,X=$.color,ee=$.textStrokeColor,W=$.textStrokeWidth;let B=P;o?(A=E,P==="inner"&&(N===k-1?B=this.options.reverse?"left":"right":N===0?B=this.options.reverse?"right":"left":B="center"),a==="top"?d==="near"||x!==0?z=-L*M+M/2:d==="center"?z=-V.highest.height/2-Y*M+M:z=-V.highest.height+M/2:d==="near"||x!==0?z=M/2:d==="center"?z=V.highest.height/2-Y*M:z=V.highest.height-L*M,f&&(z*=-1),x!==0&&!$.showLabelBackdrop&&(A+=M/2*Math.sin(x))):(D=E,z=(1-L)*M/2);let G;if($.showLabelBackdrop){const te=bi($.backdropPadding),re=V.heights[N],ie=V.widths[N];let he=z-te.top,le=0-te.left;switch(F){case"middle":he-=re/2;break;case"bottom":he-=re;break}switch(P){case"center":le-=ie/2;break;case"right":le-=ie;break;case"inner":N===k-1?le-=ie:N>0&&(le-=ie/2);break}G={left:le,top:he,width:ie+te.width,height:re+te.height,color:$.backdropColor}}v.push({label:R,font:I,textOffset:z,options:{rotation:x,color:X,strokeColor:ee,strokeWidth:W,textAlign:B,textBaseline:F,translation:[A,D],backdrop:G}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Mo(this.labelRotation))return e==="top"?"left":"right";let a="center";return t.align==="start"?a="left":t.align==="end"?a="right":t.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return t==="left"?a?(u=this.right+i,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):t==="right"?a?(u=this.left+i,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:a,width:i,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,a,i,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?t.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(t.display)for(i=0,o=a.length;i<o;++i){const c=a[i];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:a}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,f,m;this.isHorizontal()?(d=Hc(e,this.left,o)-o/2,u=Hc(e,this.right,l)+l/2,f=m=c):(f=Hc(e,this.top,o)-o/2,m=Hc(e,this.bottom,l)+l/2,d=u=c),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(d,f),t.lineTo(u,m),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&r_(s,a);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;yy(s,d,0,u,c,l)}a&&a_(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:a}}=this;if(!s.display)return;const i=nn(s.font),o=bi(s.padding),l=s.align;let c=i.lineHeight/2;t==="bottom"||t==="center"||Fs(t)?(c+=o.bottom,ma(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:f,rotation:m}=Gce(this,c,t,l);yy(e,s.text,0,0,i,{color:s.color,maxWidth:f,rotation:m,textAlign:Yce(l,t,a),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=us(e.grid&&e.grid.z,-1),a=us(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Hh.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let i,o;for(i=0,o=t.length;i<o;++i){const l=t[i];l[s]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return nn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class G0{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;Zce(t)&&(s=this.register(t));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,Xce(e,o,s),this.override&&zr.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,a=this.scope;s in t&&delete t[s],a&&s in zr[a]&&(delete zr[a][s],this.override&&delete Td[s])}}function Xce(r,e,t){const s=Ng(Object.create(null),[t?zr.get(t):{},zr.get(e),r.defaults]);zr.set(e,s),r.defaultRoutes&&Kce(e,r.defaultRoutes),r.descriptors&&zr.describe(e,r.descriptors)}function Kce(r,e){Object.keys(e).forEach(t=>{const s=t.split("."),a=s.pop(),i=[r].concat(s).join("."),o=e[t].split("."),l=o.pop(),c=o.join(".");zr.route(i,a,c,l)})}function Zce(r){return"id"in r&&"defaults"in r}class Qce{constructor(){this.controllers=new G0(kv,"datasets",!0),this.elements=new G0(hc,"elements"),this.plugins=new G0(Object,"plugins"),this.scales=new G0(Hh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(a=>{const i=s||this._getRegistryForType(a);s||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):er(a,o=>{const l=s||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,t,s){const a=JS(e);xr(s["before"+a],[],s),t[e](s),xr(s["after"+a],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const a=t.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var Li=new Qce;class Jce{constructor(){this._init=[]}notify(e,t,s,a){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,t,s);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,s,a){a=a||{};for(const i of e){const o=i.plugin,l=o[s],c=[t,a,i.options];if(xr(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){Xs(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,a=us(s.options&&s.options.plugins,{}),i=ede(s);return a===!1&&!t?[]:sde(e,i,a,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(t,s),e,"stop"),this._notify(a(s,t),e,"start")}}function ede(r){const e={},t=[],s=Object.keys(Li.plugins.items);for(let i=0;i<s.length;i++)t.push(Li.getPlugin(s[i]));const a=r.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function tde(r,e){return!e&&r===!1?null:r===!0?{}:r}function sde(r,{plugins:e,localIds:t},s,a){const i=[],o=r.getContext();for(const l of e){const c=l.id,d=tde(s[c],a);d!==null&&i.push({plugin:l,options:rde(r.config,{plugin:l,local:t[c]},d,o)})}return i}function rde(r,{plugin:e,local:t},s,a){const i=r.pluginScopeKeys(e),o=r.getOptionScopes(s,i);return t&&e.defaults&&o.push(e.defaults),r.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vk(r,e){const t=zr.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function ade(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function nde(r,e){return r===e?"_index_":"_value_"}function B4(r){if(r==="x"||r==="y"||r==="r")return r}function ide(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function wk(r,...e){if(B4(r))return r;for(const t of e){const s=t.axis||ide(t.position)||r.length>1&&B4(r[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function V4(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function ode(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===r||s.yAxisID===r);if(t.length)return V4(r,"x",t[0])||V4(r,"y",t[0])}return{}}function lde(r,e){const t=Td[r.type]||{scales:{}},s=e.scales||{},a=vk(r.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const l=s[o];if(!Fs(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=wk(o,l,ode(o,r),zr.scales[l.type]),d=nde(c,a),u=t.scales||{};i[o]=Gm(Object.create(null),[{axis:c},l,u[c],u[d]])}),r.data.datasets.forEach(o=>{const l=o.type||r.type,c=o.indexAxis||vk(l,e),u=(Td[l]||{}).scales||{};Object.keys(u).forEach(f=>{const m=ade(f,c),p=o[m+"AxisID"]||m;i[p]=i[p]||Object.create(null),Gm(i[p],[{axis:m},s[p],u[f]])})}),Object.keys(i).forEach(o=>{const l=i[o];Gm(l,[zr.scales[l.type],zr.scale])}),i}function LU(r){const e=r.options||(r.options={});e.plugins=us(e.plugins,{}),e.scales=lde(r,e)}function FU(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function cde(r){return r=r||{},r.data=FU(r.data),LU(r),r}const H4=new Map,UU=new Set;function X0(r,e){let t=H4.get(r);return t||(t=e(),H4.set(r,t),UU.add(t)),t}const mm=(r,e,t)=>{const s=Ed(e,t);s!==void 0&&r.add(s)};class dde{constructor(e){this._config=cde(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=FU(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),LU(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return X0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return X0(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return X0(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return X0(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let a=s.get(e);return(!a||t)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,t,s){const{options:a,type:i}=this,o=this._cachedScopes(e,s),l=o.get(t);if(l)return l;const c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(f=>mm(c,e,f))),u.forEach(f=>mm(c,a,f)),u.forEach(f=>mm(c,Td[i]||{},f)),u.forEach(f=>mm(c,zr,f)),u.forEach(f=>mm(c,bk,f))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),UU.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Td[t]||{},zr.datasets[t]||{},{type:t},zr,bk]}resolveNamedOptions(e,t,s,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=$4(this._resolverCache,e,a);let c=o;if(hde(o,t)){i.$shared=!1,s=rc(s)?s():s;const d=this.createResolver(e,s,l);c=vh(o,s,d)}for(const d of t)i[d]=c[d];return i}createResolver(e,t,s=[""],a){const{resolver:i}=$4(this._resolverCache,e,s);return Fs(t)?vh(i,t,void 0,a):i}}function $4(r,e,t){let s=r.get(e);s||(s=new Map,r.set(e,s));const a=t.join();let i=s.get(a);return i||(i={resolver:i_(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},s.set(a,i)),i}const ude=r=>Fs(r)&&Object.getOwnPropertyNames(r).some(e=>rc(r[e]));function hde(r,e){const{isScriptable:t,isIndexable:s}=wU(r);for(const a of e){const i=t(a),o=s(a),l=(o||i)&&r[a];if(i&&(rc(l)||ude(l))||o&&ma(l))return!0}return!1}var fde="4.5.0";const mde=["top","bottom","left","right","chartArea"];function q4(r,e){return r==="top"||r==="bottom"||mde.indexOf(r)===-1&&e==="x"}function W4(r,e){return function(t,s){return t[r]===s[r]?t[e]-s[e]:t[r]-s[r]}}function Y4(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),xr(t&&t.onComplete,[r],e)}function gde(r){const e=r.chart,t=e.options.animation;xr(t&&t.onProgress,[r],e)}function zU(r){return c_()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const Tb={},G4=r=>{const e=zU(r);return Object.values(Tb).filter(t=>t.canvas===e).pop()};function pde(r,e,t){const s=Object.keys(r);for(const a of s){const i=+a;if(i>=e){const o=r[a];delete r[a],(t>0||i>e)&&(r[i+t]=o)}}}function xde(r,e,t,s){return!t||r.type==="mouseout"?null:s?e:r}let $h=class{static defaults=zr;static instances=Tb;static overrides=Td;static registry=Li;static version=fde;static getChart=G4;static register(...e){Li.add(...e),X4()}static unregister(...e){Li.remove(...e),X4()}constructor(e,t){const s=this.config=new dde(t),a=zU(e),i=G4(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Mce(a)),this.platform.updateConfig(s);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=coe(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Jce,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Coe(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Tb[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Eo.listen(this,"complete",Y4),Eo.listen(this,"progress",gde),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:a,_aspectRatio:i}=this;return Xs(e)?t&&i?i:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Li}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():x4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return m4(this.canvas,this.ctx),this}stop(){return Eo.stop(this),this}resize(e,t){Eo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,a=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,t,i),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,x4(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),xr(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};er(t,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,a=Object.keys(s).reduce((o,l)=>(o[l]=!1,o),{});let i=[];t&&(i=i.concat(Object.keys(t).map(o=>{const l=t[o],c=wk(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),er(i,o=>{const l=o.options,c=l.id,d=wk(c,l),u=us(l.type,o.dtype);(l.position===void 0||q4(l.position,d)!==q4(o.dposition))&&(l.position=o.dposition),a[c]=!0;let f=null;if(c in s&&s[c].type===u)f=s[c];else{const m=Li.getScale(u);f=new m({id:c,type:u,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(l,e)}),er(a,(o,l)=>{o||delete s[l]}),er(s,o=>{Ol.configure(this,o,o.options),Ol.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((a,i)=>a.index-i.index),s>t){for(let a=t;a<s;++a)this._destroyDatasetMeta(a);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(W4("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,a)=>{t.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=t.length;s<a;s++){const i=t[s];let o=this.getDatasetMeta(s);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=l,o.indexAxis=i.indexAxis||vk(l,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=Li.getController(l),{datasetElementType:d,dataElementType:u}=zr.datasets[l];Object.assign(c,{dataElementType:Li.getElement(u),datasetElementType:d&&Li.getElement(d)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){er(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:f}=this.getDatasetMeta(d),m=!a&&i.indexOf(f)===-1;f.buildOrUpdateElements(m),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),a||er(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(W4("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){er(this.scales,e=>{Ol.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!a4(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:i}of t){const o=s==="_removeElements"?-i:i;pde(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=s(0);for(let i=1;i<t;i++)if(!a4(a,s(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ol.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],er(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,rc(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Eo.has(this)?this.attached&&!Eo.running(this)&&Eo.start(this):(this.draw(),Y4({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let a,i;for(a=0,i=t.length;a<i;++a){const o=t[a];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=Dle(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&r_(t,a),e.controller.draw(),a&&a_(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return _g(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,a){const i=mce.modes[t];return typeof i=="function"?i(this,e,s,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let a=s.filter(i=>i&&i._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=zd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const a=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);jg(t)?(i.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Eo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),m4(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Tb[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(i,o)=>{t.addEventListener(this,i,o),e[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};er(this.options.events,i=>s(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),s("attach",l)},t.isAttached(this.canvas)?l():o()}unbindEvents(){er(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},er(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const a=s?"set":"remove";let i,o,l,c;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!py(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const a=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=i(t,e),l=s?e:i(e,t);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const i=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(i||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:a=[],options:i}=this,o=t,l=this._getActiveElements(e,a,s,o),c=goe(e),d=xde(e,this._lastEvent,s,c);s&&(this._lastEvent=null,xr(i.onHover,[e,l,this],this),c&&xr(i.onClick,[e,l,this],this));const u=!py(l,a);return(u||t)&&(this._active=l,this._updateHoverStyles(l,a,t)),this._lastEvent=d,u}_getActiveElements(e,t,s,a){if(e.type==="mouseout")return[];if(!s)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}};function X4(){return er($h.instances,r=>r._plugins.invalidate())}function bde(r,e,t){const{startAngle:s,x:a,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,f=Math.min(d/o,li(s-t));if(r.beginPath(),r.arc(a,i,o-d/2,s+f/2,t-f/2),l>0){const m=Math.min(d/l,li(s-t));r.arc(a,i,l+d/2,t-m/2,s+m/2,!0)}else{const m=Math.min(d/2,o*li(s-t));if(u==="round")r.arc(a,i,m,t-ur/2,s+ur/2,!0);else if(u==="bevel"){const p=2*m*m,y=-p*Math.cos(t+ur/2)+a,x=-p*Math.sin(t+ur/2)+i,v=p*Math.cos(s+ur/2)+a,N=p*Math.sin(s+ur/2)+i;r.lineTo(y,x),r.lineTo(v,N)}}r.closePath(),r.moveTo(0,0),r.rect(0,0,r.canvas.width,r.canvas.height),r.clip("evenodd")}function yde(r,e,t){const{startAngle:s,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=a/l;r.beginPath(),r.arc(i,o,l,s-d,t+d),c>a?(d=a/c,r.arc(i,o,c,t+d,s-d,!0)):r.arc(i,o,a,t+aa,s-aa),r.closePath(),r.clip()}function vde(r){return n_(r,["outerStart","outerEnd","innerStart","innerEnd"])}function wde(r,e,t,s){const a=vde(r.options.borderRadius),i=(t-e)/2,o=Math.min(i,s*e/2),l=c=>{const d=(t-Math.min(i,c))*s/2;return Ia(c,0,Math.min(i,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Ia(a.innerStart,0,o),innerEnd:Ia(a.innerEnd,0,o)}}function Iu(r,e,t,s){return{x:t+r*Math.cos(e),y:s+r*Math.sin(e)}}function jy(r,e,t,s,a,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,f=Math.max(e.outerRadius+s+t-d,0),m=u>0?u+s+t+d:0;let p=0;const y=a-c;if(s){const $=u>0?u-s:0,Y=f>0?f-s:0,X=($+Y)/2,ee=X!==0?y*X/(X+s):y;p=(y-ee)/2}const x=Math.max(.001,y*f-t/ur)/f,v=(y-x)/2,N=c+v+p,k=a-v-p,{outerStart:S,outerEnd:R,innerStart:A,innerEnd:D}=wde(e,m,f,k-N),P=f-S,E=f-R,I=N+S/P,M=k-R/E,L=m+A,z=m+D,F=N+A/L,V=k-D/z;if(r.beginPath(),i){const $=(I+M)/2;if(r.arc(o,l,f,I,$),r.arc(o,l,f,$,M),R>0){const W=Iu(E,M,o,l);r.arc(W.x,W.y,R,M,k+aa)}const Y=Iu(z,k,o,l);if(r.lineTo(Y.x,Y.y),D>0){const W=Iu(z,V,o,l);r.arc(W.x,W.y,D,k+aa,V+Math.PI)}const X=(k-D/m+(N+A/m))/2;if(r.arc(o,l,m,k-D/m,X,!0),r.arc(o,l,m,X,N+A/m,!0),A>0){const W=Iu(L,F,o,l);r.arc(W.x,W.y,A,F+Math.PI,N-aa)}const ee=Iu(P,N,o,l);if(r.lineTo(ee.x,ee.y),S>0){const W=Iu(P,I,o,l);r.arc(W.x,W.y,S,N-aa,I)}}else{r.moveTo(o,l);const $=Math.cos(I)*f+o,Y=Math.sin(I)*f+l;r.lineTo($,Y);const X=Math.cos(M)*f+o,ee=Math.sin(M)*f+l;r.lineTo(X,ee)}r.closePath()}function Nde(r,e,t,s,a){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){jy(r,e,t,s,c,a);for(let d=0;d<i;++d)r.fill();isNaN(l)||(c=o+(l%Pr||Pr))}return jy(r,e,t,s,c,a),r.fill(),c}function jde(r,e,t,s,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:f,borderDashOffset:m,borderRadius:p}=c,y=c.borderAlign==="inner";if(!d)return;r.setLineDash(f||[]),r.lineDashOffset=m,y?(r.lineWidth=d*2,r.lineJoin=u||"round"):(r.lineWidth=d,r.lineJoin=u||"bevel");let x=e.endAngle;if(i){jy(r,e,t,s,x,a);for(let v=0;v<i;++v)r.stroke();isNaN(l)||(x=o+(l%Pr||Pr))}y&&yde(r,e,x),c.selfJoin&&x-o>=ur&&p===0&&u!=="miter"&&bde(r,e,x),i||(jy(r,e,t,s,x,a),r.stroke())}class BU extends hc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.getProps(["x","y"],s),{angle:i,distance:o}=hU(a,{x:e,y:t}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,p=us(f,c-l),y=Sg(i,l,c)&&l!==c,x=p>=Pr||y,v=Ml(o,d+m,u+m);return x&&v}getCenterPoint(e){const{x:t,y:s,startAngle:a,endAngle:i,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:d}=this.options,u=(a+i)/2,f=(o+l+d+c)/2;return{x:t+Math.cos(u)*f,y:s+Math.sin(u)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,a=(t.offset||0)/4,i=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>Pr?Math.floor(s/Pr):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*a,Math.sin(l)*a);const c=1-Math.sin(Math.min(ur,s||0)),d=a*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,Nde(e,this,d,i,o),jde(e,this,d,i,o),e.restore()}}function VU(r,e,t=e){r.lineCap=us(t.borderCapStyle,e.borderCapStyle),r.setLineDash(us(t.borderDash,e.borderDash)),r.lineDashOffset=us(t.borderDashOffset,e.borderDashOffset),r.lineJoin=us(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=us(t.borderWidth,e.borderWidth),r.strokeStyle=us(t.borderColor,e.borderColor)}function kde(r,e,t){r.lineTo(t.x,t.y)}function Sde(r){return r.stepped?Voe:r.tension||r.cubicInterpolationMode==="monotone"?Hoe:kde}function HU(r,e,t={}){const s=r.length,{start:a=0,end:i=s-1}=t,{start:o,end:l}=e,c=Math.max(a,o),d=Math.min(i,l),u=a<o&&i<o||a>l&&i>l;return{count:s,start:c,loop:e.loop,ilen:d<c&&!u?s+d-c:d-c}}function _de(r,e,t,s){const{points:a,options:i}=e,{count:o,start:l,loop:c,ilen:d}=HU(a,t,s),u=Sde(i);let{move:f=!0,reverse:m}=s||{},p,y,x;for(p=0;p<=d;++p)y=a[(l+(m?d-p:p))%o],!y.skip&&(f?(r.moveTo(y.x,y.y),f=!1):u(r,x,y,m,i.stepped),x=y);return c&&(y=a[(l+(m?d:0))%o],u(r,x,y,m,i.stepped)),!!c}function Ade(r,e,t,s){const a=e.points,{count:i,start:o,ilen:l}=HU(a,t,s),{move:c=!0,reverse:d}=s||{};let u=0,f=0,m,p,y,x,v,N;const k=R=>(o+(d?l-R:R))%i,S=()=>{x!==v&&(r.lineTo(u,v),r.lineTo(u,x),r.lineTo(u,N))};for(c&&(p=a[k(0)],r.moveTo(p.x,p.y)),m=0;m<=l;++m){if(p=a[k(m)],p.skip)continue;const R=p.x,A=p.y,D=R|0;D===y?(A<x?x=A:A>v&&(v=A),u=(f*u+R)/++f):(S(),r.lineTo(R,A),y=D,f=0,x=v=A),N=A}S()}function Nk(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Ade:_de}function Cde(r){return r.stepped?wle:r.tension||r.cubicInterpolationMode==="monotone"?Nle:Zc}function Ede(r,e,t,s){let a=e._path;a||(a=e._path=new Path2D,e.path(a,t,s)&&a.closePath()),VU(r,e.options),r.stroke(a)}function Tde(r,e,t,s){const{segments:a,options:i}=e,o=Nk(e);for(const l of a)VU(r,i,l.style),r.beginPath(),o(r,e,l,{start:t,end:t+s-1})&&r.closePath(),r.stroke()}const Pde=typeof Path2D=="function";function Rde(r,e,t,s){Pde&&!e.options.segment?Ede(r,e,t,s):Tde(r,e,t,s)}class Ide extends hc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;fle(this._points,s,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Tle(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,a=e[t],i=this.points,o=Ale(this,{property:t,start:a,end:a});if(!o.length)return;const l=[],c=Cde(s);let d,u;for(d=0,u=o.length;d<u;++d){const{start:f,end:m}=o[d],p=i[f],y=i[m];if(p===y){l.push(p);continue}const x=Math.abs((a-p[t])/(y[t]-p[t])),v=c(p,y,x,s.stepped);v[t]=e[t],l.push(v)}return l.length===1?l[0]:l}pathSegment(e,t,s){return Nk(this)(e,this,t,s)}path(e,t,s){const a=this.segments,i=Nk(this);let o=this._loop;t=t||0,s=s||this.points.length-t;for(const l of a)o&=i(e,this,l,{start:t,end:t+s-1});return!!o}draw(e,t,s,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Rde(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function K4(r,e,t,s){const a=r.options,{[t]:i}=r.getProps([t],s);return Math.abs(e-i)<a.radius+a.hitRadius}class Dde extends hc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.options,{x:i,y:o}=this.getProps(["x","y"],s);return Math.pow(e-i,2)+Math.pow(t-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return K4(this,e,"x",t)}inYRange(e,t){return K4(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!_g(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,yk(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function $U(r,e){const{x:t,y:s,base:a,width:i,height:o}=r.getProps(["x","y","base","width","height"],e);let l,c,d,u,f;return r.horizontal?(f=o/2,l=Math.min(t,a),c=Math.max(t,a),d=s-f,u=s+f):(f=i/2,l=t-f,c=t+f,d=Math.min(s,a),u=Math.max(s,a)),{left:l,top:d,right:c,bottom:u}}function Ll(r,e,t,s){return r?0:Ia(e,t,s)}function Mde(r,e,t){const s=r.options.borderWidth,a=r.borderSkipped,i=vU(s);return{t:Ll(a.top,i.top,0,t),r:Ll(a.right,i.right,0,e),b:Ll(a.bottom,i.bottom,0,t),l:Ll(a.left,i.left,0,e)}}function Ode(r,e,t){const{enableBorderRadius:s}=r.getProps(["enableBorderRadius"]),a=r.options.borderRadius,i=ah(a),o=Math.min(e,t),l=r.borderSkipped,c=s||Fs(a);return{topLeft:Ll(!c||l.top||l.left,i.topLeft,0,o),topRight:Ll(!c||l.top||l.right,i.topRight,0,o),bottomLeft:Ll(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:Ll(!c||l.bottom||l.right,i.bottomRight,0,o)}}function Lde(r){const e=$U(r),t=e.right-e.left,s=e.bottom-e.top,a=Mde(r,t/2,s/2),i=Ode(r,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:t-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function DN(r,e,t,s){const a=e===null,i=t===null,l=r&&!(a&&i)&&$U(r,s);return l&&(a||Ml(e,l.left,l.right))&&(i||Ml(t,l.top,l.bottom))}function Fde(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function Ude(r,e){r.rect(e.x,e.y,e.w,e.h)}function MN(r,e,t={}){const s=r.x!==t.x?-e:0,a=r.y!==t.y?-e:0,i=(r.x+r.w!==t.x+t.w?e:0)-s,o=(r.y+r.h!==t.y+t.h?e:0)-a;return{x:r.x+s,y:r.y+a,w:r.w+i,h:r.h+o,radius:r.radius}}class h_ extends hc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:a}}=this,{inner:i,outer:o}=Lde(this),l=Fde(o.radius)?vy:Ude;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,MN(o,t,i)),e.clip(),l(e,MN(i,-t,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),l(e,MN(i,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,s){return DN(this,e,t,s)}inXRange(e,t){return DN(this,e,null,t)}inYRange(e,t){return DN(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+a)/2:t,y:i?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Z4=(r,e)=>{let{boxHeight:t=e,boxWidth:s=e}=r;return r.usePointStyle&&(t=Math.min(t,e),s=r.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},zde=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class Q4 extends hc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=xr(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=nn(s.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=Z4(s,i);let d,u;t.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let f=e;i.textAlign="left",i.textBaseline="middle";let m=-1,p=-u;return this.legendItems.forEach((y,x)=>{const v=s+t/2+i.measureText(y.text).width;(x===0||d[d.length-1]+v+2*l>o)&&(f+=u,d[d.length-(x>0?0:1)]=0,p+=u,m++),c[x]={left:0,top:p,row:m,width:v,height:a},d[d.length-1]+=v+l}),f}_fitCols(e,t,s,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let f=l,m=0,p=0,y=0,x=0;return this.legendItems.forEach((v,N)=>{const{itemWidth:k,itemHeight:S}=Bde(s,t,i,v,a);N>0&&p+S+2*l>u&&(f+=m+l,d.push({width:m,height:p}),y+=m+l,x++,m=p=0),c[N]={left:y,top:p,col:x,width:k,height:S},m=Math.max(m,k),p+=S+l}),f+=m,d.push({width:m,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:a},rtl:i}}=this,o=nh(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=wn(s,this.left+a,this.right-this.lineWidths[l]);for(const d of t)l!==d.row&&(l=d.row,c=wn(s,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+e+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=wn(s,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const d of t)d.col!==l&&(l=d.col,c=wn(s,this.top+e+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;r_(e,this),this._draw(),a_(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:a}=this,{align:i,labels:o}=e,l=zr.color,c=nh(e.rtl,this.left,this.width),d=nn(o.font),{padding:u}=o,f=d.size,m=f/2;let p;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:y,boxHeight:x,itemHeight:v}=Z4(o,f),N=function(D,P,E){if(isNaN(y)||y<=0||isNaN(x)||x<0)return;a.save();const I=us(E.lineWidth,1);if(a.fillStyle=us(E.fillStyle,l),a.lineCap=us(E.lineCap,"butt"),a.lineDashOffset=us(E.lineDashOffset,0),a.lineJoin=us(E.lineJoin,"miter"),a.lineWidth=I,a.strokeStyle=us(E.strokeStyle,l),a.setLineDash(us(E.lineDash,[])),o.usePointStyle){const M={radius:x*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:I},L=c.xPlus(D,y/2),z=P+m;yU(a,M,L,z,o.pointStyleWidth&&y)}else{const M=P+Math.max((f-x)/2,0),L=c.leftForLtr(D,y),z=ah(E.borderRadius);a.beginPath(),Object.values(z).some(F=>F!==0)?vy(a,{x:L,y:M,w:y,h:x,radius:z}):a.rect(L,M,y,x),a.fill(),I!==0&&a.stroke()}a.restore()},k=function(D,P,E){yy(a,E.text,D,P+v/2,d,{strikethrough:E.hidden,textAlign:c.textAlign(E.textAlign)})},S=this.isHorizontal(),R=this._computeTitleHeight();S?p={x:wn(i,this.left+u,this.right-s[0]),y:this.top+u+R,line:0}:p={x:this.left+u,y:wn(i,this.top+R+u,this.bottom-t[0].height),line:0},_U(this.ctx,e.textDirection);const A=v+u;this.legendItems.forEach((D,P)=>{a.strokeStyle=D.fontColor,a.fillStyle=D.fontColor;const E=a.measureText(D.text).width,I=c.textAlign(D.textAlign||(D.textAlign=o.textAlign)),M=y+m+E;let L=p.x,z=p.y;c.setWidth(this.width),S?P>0&&L+M+u>this.right&&(z=p.y+=A,p.line++,L=p.x=wn(i,this.left+u,this.right-s[p.line])):P>0&&z+A>this.bottom&&(L=p.x=L+t[p.line].width+u,p.line++,z=p.y=wn(i,this.top+R+u,this.bottom-t[p.line].height));const F=c.x(L);if(N(F,z,D),L=Eoe(I,L+y+m,S?L+M:this.right,e.rtl),k(c.x(L),z,D),S)p.x+=M+u;else if(typeof D.text!="string"){const V=d.lineHeight;p.y+=qU(D,V)+u}else p.y+=A}),AU(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=nn(t.font),a=bi(t.padding);if(!t.display)return;const i=nh(e.rtl,this.left,this.width),o=this.ctx,l=t.position,c=s.size/2,d=a.top+c;let u,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,f=wn(e.align,f,this.right-m);else{const y=this.columnSizes.reduce((x,v)=>Math.max(x,v.height),0);u=d+wn(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const p=wn(l,f,f+m);o.textAlign=i.textAlign(xU(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=s.string,yy(o,t.text,p,u,s)}_computeTitleHeight(){const e=this.options.title,t=nn(e.font),s=bi(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,a,i;if(Ml(e,this.left,this.right)&&Ml(t,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(a=i[s],Ml(e,a.left,a.left+a.width)&&Ml(t,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!$de(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=zde(a,s);a&&!i&&xr(t.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!i&&xr(t.onHover,[e,s,this],this)}else s&&xr(t.onClick,[e,s,this],this)}}function Bde(r,e,t,s,a){const i=Vde(s,r,e,t),o=Hde(a,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function Vde(r,e,t,s){let a=r.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+t.size/2+s.measureText(a).width}function Hde(r,e,t){let s=r;return typeof e.text!="string"&&(s=qU(e,t)),s}function qU(r,e){const t=r.text?r.text.length:0;return e*t}function $de(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var f_={id:"legend",_element:Q4,start(r,e,t){const s=r.legend=new Q4({ctx:r.ctx,options:t,chart:r});Ol.configure(r,s,t),Ol.addBox(r,s)},stop(r){Ol.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const s=r.legend;Ol.configure(r,s,t),s.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const s=e.datasetIndex,a=t.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=r.legend.options;return r._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),u=bi(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};const Pm={average(r){if(!r.length)return!1;let e,t,s=new Set,a=0,i=0;for(e=0,t=r.length;e<t;++e){const l=r[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),a+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:a/i}},nearest(r,e){if(!r.length)return!1;let t=e.x,s=e.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=r.length;i<o;++i){const c=r[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=xk(e,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,s=c.y}return{x:t,y:s}}};function Mi(r,e){return e&&(ma(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function To(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function qde(r,e){const{element:t,datasetIndex:s,index:a}=e,i=r.getDatasetMeta(s).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:r,label:o,parsed:i.getParsed(a),raw:r.data.datasets[s].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:s,element:t}}function J4(r,e){const t=r.chart.ctx,{body:s,footer:a,title:i}=r,{boxWidth:o,boxHeight:l}=e,c=nn(e.bodyFont),d=nn(e.titleFont),u=nn(e.footerFont),f=i.length,m=a.length,p=s.length,y=bi(e.padding);let x=y.height,v=0,N=s.reduce((R,A)=>R+A.before.length+A.lines.length+A.after.length,0);if(N+=r.beforeBody.length+r.afterBody.length,f&&(x+=f*d.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),N){const R=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=p*R+(N-p)*c.lineHeight+(N-1)*e.bodySpacing}m&&(x+=e.footerMarginTop+m*u.lineHeight+(m-1)*e.footerSpacing);let k=0;const S=function(R){v=Math.max(v,t.measureText(R).width+k)};return t.save(),t.font=d.string,er(r.title,S),t.font=c.string,er(r.beforeBody.concat(r.afterBody),S),k=e.displayColors?o+2+e.boxPadding:0,er(s,R=>{er(R.before,S),er(R.lines,S),er(R.after,S)}),k=0,t.font=u.string,er(r.footer,S),t.restore(),v+=y.width,{width:v,height:x}}function Wde(r,e){const{y:t,height:s}=e;return t<s/2?"top":t>r.height-s/2?"bottom":"center"}function Yde(r,e,t,s){const{x:a,width:i}=s,o=t.caretSize+t.caretPadding;if(r==="left"&&a+i+o>e.width||r==="right"&&a-i-o<0)return!0}function Gde(r,e,t,s){const{x:a,width:i}=t,{width:o,chartArea:{left:l,right:c}}=r;let d="center";return s==="center"?d=a<=(l+c)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),Yde(d,r,e,t)&&(d="center"),d}function e3(r,e,t){const s=t.yAlign||e.yAlign||Wde(r,t);return{xAlign:t.xAlign||e.xAlign||Gde(r,e,t,s),yAlign:s}}function Xde(r,e){let{x:t,width:s}=r;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function Kde(r,e,t){let{y:s,height:a}=r;return e==="top"?s+=t:e==="bottom"?s-=a+t:s-=a/2,s}function t3(r,e,t,s){const{caretSize:a,caretPadding:i,cornerRadius:o}=r,{xAlign:l,yAlign:c}=t,d=a+i,{topLeft:u,topRight:f,bottomLeft:m,bottomRight:p}=ah(o);let y=Xde(e,l);const x=Kde(e,c,d);return c==="center"?l==="left"?y+=d:l==="right"&&(y-=d):l==="left"?y-=Math.max(u,m)+a:l==="right"&&(y+=Math.max(f,p)+a),{x:Ia(y,0,s.width-e.width),y:Ia(x,0,s.height-e.height)}}function K0(r,e,t){const s=bi(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-s.right:r.x+s.left}function s3(r){return Mi([],To(r))}function Zde(r,e,t){return zd(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function r3(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const WU={beforeTitle:Co,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:Co,beforeBody:Co,beforeLabel:Co,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return Xs(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Co,afterBody:Co,beforeFooter:Co,footer:Co,afterFooter:Co};function Ja(r,e,t,s){const a=r[e].call(t,s);return typeof a>"u"?WU[e].call(t,s):a}class a3 extends hc{static positioners=Pm;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&t.options.animation&&s.animations,i=new EU(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Zde(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,a=Ja(s,"beforeTitle",this,e),i=Ja(s,"title",this,e),o=Ja(s,"afterTitle",this,e);let l=[];return l=Mi(l,To(a)),l=Mi(l,To(i)),l=Mi(l,To(o)),l}getBeforeBody(e,t){return s3(Ja(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,a=[];return er(e,i=>{const o={before:[],lines:[],after:[]},l=r3(s,i);Mi(o.before,To(Ja(l,"beforeLabel",this,i))),Mi(o.lines,Ja(l,"label",this,i)),Mi(o.after,To(Ja(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,t){return s3(Ja(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,a=Ja(s,"beforeFooter",this,e),i=Ja(s,"footer",this,e),o=Ja(s,"afterFooter",this,e);let l=[];return l=Mi(l,To(a)),l=Mi(l,To(i)),l=Mi(l,To(o)),l}_createItems(e){const t=this._active,s=this.chart.data,a=[],i=[],o=[];let l=[],c,d;for(c=0,d=t.length;c<d;++c)l.push(qde(this.chart,t[c]));return e.filter&&(l=l.filter((u,f,m)=>e.filter(u,f,m,s))),e.itemSort&&(l=l.sort((u,f)=>e.itemSort(u,f,s))),er(l,u=>{const f=r3(e.callbacks,u);a.push(Ja(f,"labelColor",this,u)),i.push(Ja(f,"labelPointStyle",this,u)),o.push(Ja(f,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const s=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=Pm[s.position].call(this,a,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=J4(this,s),d=Object.assign({},l,c),u=e3(this.chart,s,d),f=t3(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,a){const i=this.getCaretPosition(e,s,a);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,s){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=ah(l),{x:m,y:p}=e,{width:y,height:x}=t;let v,N,k,S,R,A;return i==="center"?(R=p+x/2,a==="left"?(v=m,N=v-o,S=R+o,A=R-o):(v=m+y,N=v+o,S=R-o,A=R+o),k=v):(a==="left"?N=m+Math.max(c,u)+o:a==="right"?N=m+y-Math.max(d,f)-o:N=this.caretX,i==="top"?(S=p,R=S-o,v=N-o,k=N+o):(S=p+x,R=S+o,v=N+o,k=N-o),A=S),{x1:v,x2:N,x3:k,y1:S,y2:R,y3:A}}drawTitle(e,t,s){const a=this.title,i=a.length;let o,l,c;if(i){const d=nh(s.rtl,this.x,this.width);for(e.x=K0(this,s.titleAlign,s),t.textAlign=d.textAlign(s.titleAlign),t.textBaseline="middle",o=nn(s.titleFont),l=s.titleSpacing,t.fillStyle=s.titleColor,t.font=o.string,c=0;c<i;++c)t.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,t,s,a,i){const o=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=i,u=nn(i.bodyFont),f=K0(this,"left",i),m=a.x(f),p=c<u.lineHeight?(u.lineHeight-c)/2:0,y=t.y+p;if(i.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=a.leftForLtr(m,d)+d/2,N=y+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,yk(e,x,v,N),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,yk(e,x,v,N)}else{e.lineWidth=Fs(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=a.leftForLtr(m,d),v=a.leftForLtr(a.xPlus(m,1),d-2),N=ah(o.borderRadius);Object.values(N).some(k=>k!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,vy(e,{x,y,w:d,h:c,radius:N}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),vy(e,{x:v,y:y+1,w:d-2,h:c-2,radius:N}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(x,y,d,c),e.strokeRect(x,y,d,c),e.fillStyle=o.backgroundColor,e.fillRect(v,y+1,d-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,f=nn(s.bodyFont);let m=f.lineHeight,p=0;const y=nh(s.rtl,this.x,this.width),x=function(E){t.fillText(E,y.x(e.x+p),e.y+m/2),e.y+=m+i},v=y.textAlign(o);let N,k,S,R,A,D,P;for(t.textAlign=o,t.textBaseline="middle",t.font=f.string,e.x=K0(this,v,s),t.fillStyle=s.bodyColor,er(this.beforeBody,x),p=l&&v!=="right"?o==="center"?d/2+u:d+2+u:0,R=0,D=a.length;R<D;++R){for(N=a[R],k=this.labelTextColors[R],t.fillStyle=k,er(N.before,x),S=N.lines,l&&S.length&&(this._drawColorBox(t,e,R,y,s),m=Math.max(f.lineHeight,c)),A=0,P=S.length;A<P;++A)x(S[A]),m=f.lineHeight;er(N.after,x)}p=0,m=f.lineHeight,er(this.afterBody,x),e.y-=i}drawFooter(e,t,s){const a=this.footer,i=a.length;let o,l;if(i){const c=nh(s.rtl,this.x,this.width);for(e.x=K0(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=c.textAlign(s.footerAlign),t.textBaseline="middle",o=nn(s.footerFont),t.fillStyle=s.footerColor,t.font=o.string,l=0;l<i;++l)t.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,t,s,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=s,{topLeft:f,topRight:m,bottomLeft:p,bottomRight:y}=ah(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(l+f,c),o==="top"&&this.drawCaret(e,t,s,a),t.lineTo(l+d-m,c),t.quadraticCurveTo(l+d,c,l+d,c+m),o==="center"&&i==="right"&&this.drawCaret(e,t,s,a),t.lineTo(l+d,c+u-y),t.quadraticCurveTo(l+d,c+u,l+d-y,c+u),o==="bottom"&&this.drawCaret(e,t,s,a),t.lineTo(l+p,c+u),t.quadraticCurveTo(l,c+u,l,c+u-p),o==="center"&&i==="left"&&this.drawCaret(e,t,s,a),t.lineTo(l,c+f),t.quadraticCurveTo(l,c,l+f,c),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,a=s&&s.x,i=s&&s.y;if(a||i){const o=Pm[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=J4(this,e),c=Object.assign({},o,this._size),d=e3(t,e,c),u=t3(e,c,d,t);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=bi(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,a,t),_U(e,t.textDirection),i.y+=o.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),AU(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,a=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!py(s,a),o=this._positionChanged(a,t);(i||o)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,t,s),l=this._positionChanged(o,e),c=t||!py(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,s,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:s,caretY:a,options:i}=this,o=Pm[i.position].call(this,e,t);return o!==!1&&(s!==o.x||a!==o.y)}}var m_={id:"tooltip",_element:a3,positioners:Pm,afterInit(r,e,t){t&&(r.tooltip=new a3({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:WU},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Qde=(r,e,t,s)=>(typeof e=="string"?(t=r.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Jde(r,e,t,s){const a=r.indexOf(e);if(a===-1)return Qde(r,e,t,s);const i=r.lastIndexOf(e);return a!==i?t:a}const eue=(r,e)=>r===null?null:Ia(Math.round(r),0,e);function n3(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class g_ extends Hh{static id="category";static defaults={ticks:{callback:n3}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:a,label:i}of t)s[a]===i&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Xs(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:Jde(s,e,us(t,e),this._addedLabels),eue(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,a=[];let i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=t;o++)a.push({value:o});return a}getLabelForValue(e){return n3.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function tue(r,e){const t=[],{bounds:a,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:f,includeBounds:m}=r,p=i||1,y=u-1,{min:x,max:v}=e,N=!Xs(o),k=!Xs(l),S=!Xs(d),R=(v-x)/(f+1);let A=i4((v-x)/y/p)*p,D,P,E,I;if(A<1e-14&&!N&&!k)return[{value:x},{value:v}];I=Math.ceil(v/A)-Math.floor(x/A),I>y&&(A=i4(I*A/y/p)*p),Xs(c)||(D=Math.pow(10,c),A=Math.ceil(A*D)/D),a==="ticks"?(P=Math.floor(x/A)*A,E=Math.ceil(v/A)*A):(P=x,E=v),N&&k&&i&&voe((l-o)/i,A/1e3)?(I=Math.round(Math.min((l-o)/A,u)),A=(l-o)/I,P=o,E=l):S?(P=N?o:P,E=k?l:E,I=d-1,A=(E-P)/I):(I=(E-P)/A,Xm(I,Math.round(I),A/1e3)?I=Math.round(I):I=Math.ceil(I));const M=Math.max(o4(A),o4(P));D=Math.pow(10,Xs(c)?M:c),P=Math.round(P*D)/D,E=Math.round(E*D)/D;let L=0;for(N&&(m&&P!==o?(t.push({value:o}),P<o&&L++,Xm(Math.round((P+L*A)*D)/D,o,i3(o,R,r))&&L++):P<o&&L++);L<I;++L){const z=Math.round((P+L*A)*D)/D;if(k&&z>l)break;t.push({value:z})}return k&&m&&E!==l?t.length&&Xm(t[t.length-1].value,l,i3(l,R,r))?t[t.length-1].value=l:t.push({value:l}):(!k||E===l)&&t.push({value:E}),t}function i3(r,e,{horizontal:t,minRotation:s}){const a=Mo(s),i=(t?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+r).length;return Math.min(e/i,o)}class sue extends Hh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Xs(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=t?a:c,l=c=>i=s?i:c;if(e){const c=Qi(a),d=Qi(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(a-c)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),t=t||11),t&&(a=Math.min(t,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,o=tue(a,i);return e.bounds==="ticks"&&woe(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-t)/Math.max(e.length-1,1)/2;t-=a,s+=a}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return s_(e,this.chart.options.locale,this.options.ticks.format)}}class p_ extends sue{static id="linear";static defaults={ticks:{callback:bU.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qn(e)?e:0,this.max=Qn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=Mo(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const _v={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rn=Object.keys(_v);function o3(r,e){return r-e}function l3(r,e){if(Xs(e))return null;const t=r._adapter,{parser:s,round:a,isoWeekday:i}=r._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Qn(o)||(o=typeof s=="string"?t.parse(o,s):t.parse(o)),o===null?null:(a&&(o=a==="week"&&(kg(i)||i===!0)?t.startOf(o,"isoWeek",i):t.startOf(o,a)),+o)}function c3(r,e,t,s){const a=rn.length;for(let i=rn.indexOf(r);i<a-1;++i){const o=_v[rn[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(l*o.size))<=s)return rn[i]}return rn[a-1]}function rue(r,e,t,s,a){for(let i=rn.length-1;i>=rn.indexOf(t);i--){const o=rn[i];if(_v[o].common&&r._adapter.diff(a,s,o)>=e-1)return o}return rn[t?rn.indexOf(t):0]}function aue(r){for(let e=rn.indexOf(r)+1,t=rn.length;e<t;++e)if(_v[rn[e]].common)return rn[e]}function d3(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:s,hi:a}=e_(t,e),i=t[s]>=e?t[s]:t[a];r[i]=!0}}function nue(r,e,t,s){const a=r._adapter,i=+a.startOf(e[0].value,s),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,s))c=t[l],c>=0&&(e[c].major=!0);return e}function u3(r,e,t){const s=[],a={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],a[l]=o,s.push({value:l,major:!1});return i===0||!t?s:nue(r,s,a,t)}class h3 extends Hh{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),a=this._adapter=new cce._date(e.adapters.date);a.init(t),Gm(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:l3(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Qn(a)&&!isNaN(a)?a:+t.startOf(Date.now(),s),i=Qn(i)&&!isNaN(i)?i:+t.endOf(Date.now(),s)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=_oe(a,i,o);return this._unit=t.unit||(s.autoSkip?c3(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):rue(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:aue(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),u3(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?t=1-a:t=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Ia(t,0,o),s=Ia(s,0,o),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,a=this.options,i=a.time,o=i.unit||c3(i.minUnit,t,s,this._getLabelCapacity(t)),l=us(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=kg(c)||c===!0,u={};let f=t,m,p;if(d&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,d?"day":o),e.diff(s,t,o)>1e5*l)throw new Error(t+" and "+s+" are too far apart with stepSize of "+l+" "+o);const y=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,p=0;m<s;m=+e.add(m,l,o),p++)d3(u,m,y);return(m===s||a.bounds==="ticks"||p===1)&&d3(u,m,y),Object.keys(u).sort(o3).map(x=>+x)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const a=this.options.time.displayFormats,i=this._unit,o=t||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,t,s,a){const i=this.options,o=i.ticks.callback;if(o)return xr(o,[e,t,s],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],f=d&&l[d],m=s[t],p=d&&f&&m&&m.major;return this._adapter.format(e,a||(p?f:u))}generateTickLabels(e){let t,s,a;for(t=0,s=e.length;t<s;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,a=Mo(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:s*i+l*o,h:s*o+l*i}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,a=s[t.unit]||s.millisecond,i=this._tickFormatFunction(e,0,u3(this,[e],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(t=0,s=a.length;t<s;++t)e=e.concat(a[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const a=this.getLabels();for(t=0,s=a.length;t<s;++t)e.push(l3(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mU(e.sort(o3))}}function Z0(r,e,t){let s=0,a=r.length-1,i,o,l,c;t?(e>=r[s].pos&&e<=r[a].pos&&({lo:s,hi:a}=ld(r,"pos",e)),{pos:i,time:l}=r[s],{pos:o,time:c}=r[a]):(e>=r[s].time&&e<=r[a].time&&({lo:s,hi:a}=ld(r,"time",e)),{time:i,pos:l}=r[s],{time:o,pos:c}=r[a]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class ype extends h3{static id="timeseries";static defaults=h3.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Z0(t,this.min),this._tableRange=Z0(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,a=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=t&&d<=s&&a.push(d);if(a.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Z0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return Z0(this._table,s*this._tableRange+this._minPos,!0)}}const YU="label";function f3(r,e){typeof r=="function"?r(e):r&&(r.current=e)}function iue(r,e){const t=r.options;t&&e&&Object.assign(t,e)}function GU(r,e){r.labels=e}function XU(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YU;const s=[];r.datasets=e.map(a=>{const i=r.datasets.find(o=>o[t]===a[t]);return!i||!a.data||s.includes(i)?{...a}:(s.push(i),Object.assign(i,a),i)})}function oue(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YU;const t={labels:[],datasets:[]};return GU(t,r.labels),XU(t,r.datasets,e),t}function lue(r,e){const{height:t=150,width:s=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:f,...m}=r,p=C.useRef(null),y=C.useRef(null),x=()=>{p.current&&(y.current=new $h(p.current,{type:o,data:oue(l,i),options:c&&{...c},plugins:d}),f3(e,y.current))},v=()=>{f3(e,null),y.current&&(y.current.destroy(),y.current=null)};return C.useEffect(()=>{!a&&y.current&&c&&iue(y.current,c)},[a,c]),C.useEffect(()=>{!a&&y.current&&GU(y.current.config.data,l.labels)},[a,l.labels]),C.useEffect(()=>{!a&&y.current&&l.datasets&&XU(y.current.config.data,l.datasets,i)},[a,l.datasets]),C.useEffect(()=>{y.current&&(a?(v(),setTimeout(x)):y.current.update(f))},[a,c,l.labels,l.datasets,f]),C.useEffect(()=>{y.current&&(v(),setTimeout(x))},[o]),C.useEffect(()=>(x(),()=>v()),[]),js.createElement("canvas",{ref:p,role:"img",height:t,width:s,...m},u)}const cue=C.forwardRef(lue);function x_(r,e){return $h.register(e),C.forwardRef((t,s)=>js.createElement(cue,{...t,ref:s,type:r}))}const due=x_("line",lce),b_=x_("bar",nce),KU=x_("doughnut",oce),uue=()=>{const r=Qr();return n.jsxs("nav",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around items-center py-2 z-40",children:[n.jsxs(ve,{to:"/",className:`flex flex-col items-center ${r.pathname==="/"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-home-alt text-2xl"}),n.jsx("span",{className:"text-xs",children:"Home"})]}),n.jsxs(ve,{to:"/search",className:`flex flex-col items-center ${r.pathname==="/search"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-search text-2xl"}),n.jsx("span",{className:"text-xs",children:"Search"})]}),n.jsxs(ve,{to:"/products-upload",className:`flex flex-col items-center ${r.pathname==="/products-upload"?"text-blue-600":"text-orange-500"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bxs-plus-circle text-2xl"}),n.jsx("span",{className:"text-xs",children:"Sell"})]}),n.jsxs(ve,{to:"/notifications",className:`flex flex-col items-center relative ${r.pathname==="/notifications"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-bell text-2xl"}),n.jsx("span",{className:"text-xs",children:"Inbox"})]}),n.jsxs(ve,{to:"/profile",className:`flex flex-col items-center ${r.pathname==="/profile"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-user text-2xl"}),n.jsx("span",{className:"text-xs",children:"You"})]})]})};$h.register(BU,h_,g_,p_,m_,f_);function m3(){const r=_s(),[e,t]=C.useState(!0),[s,a]=C.useState(""),[i,o]=C.useState(!1),[l,c]=C.useState({products:0,approvedProducts:0,rejectedProducts:0}),[d,u]=C.useState({products:0,approvedProducts:0,rejectedProducts:0}),[f,m]=C.useState(""),{userProfile:p}=Sd();C.useEffect(()=>{let N,k={...d},S={...l},R=800,A=null;function D(P){A||(A=P);let E=Math.min((P-A)/R,1);u({products:Math.floor(k.products+(S.products-k.products)*E),approvedProducts:Math.floor(k.approvedProducts+(S.approvedProducts-k.approvedProducts)*E),rejectedProducts:Math.floor(k.rejectedProducts+(S.rejectedProducts-k.rejectedProducts)*E)}),E<1&&(N=requestAnimationFrame(D))}return N=requestAnimationFrame(D),()=>cancelAnimationFrame(N)},[l]),C.useEffect(()=>{const N=eo(Pe,async k=>{k&&m(k.displayName||"Seller")});return()=>N()},[]),C.useEffect(()=>{console.log("Seller Dashboard mounted");const N=eo(Pe,async k=>{if(console.log("Auth state changed:",k?"User logged in":"No user"),!k){r("/register",{replace:!0});return}try{const S=k.uid,[R,A,D]=await Promise.all([dt(Et(Ie(J,"products"),bt("sellerId","==",S))),dt(Et(Ie(J,"products"),bt("sellerId","==",S),bt("status","==","approved"))),dt(Et(Ie(J,"products"),bt("sellerId","==",S),bt("status","==","rejected")))]);c({products:R.size,approvedProducts:A.size,rejectedProducts:D.size})}catch(S){console.error("Error fetching seller stats:",S),a("Failed to load dashboard stats: "+S.message)}finally{t(!1)}});return()=>{console.log("Seller Dashboard unmounting"),N()}},[r]);const y={labels:["Total Products","Approved Products","Rejected Products"],datasets:[{label:"Counts",data:[l.products,l.approvedProducts,l.rejectedProducts],backgroundColor:["#2563EB","#16A34A","#DC2626"],borderColor:["#2563EB","#16A34A","#DC2626"],borderWidth:1}]},x={labels:["Approved Products","Rejected Products","Pending Products"],datasets:[{label:"Product Status",data:[l.approvedProducts,l.rejectedProducts,l.products-(l.approvedProducts+l.rejectedProducts)],backgroundColor:["#2563EB","#16A34A","#DC2626"],borderColor:["#2563EB","#16A34A","#DC2626"],borderWidth:1}]},v={responsive:!0,plugins:{legend:{position:"top"},tooltip:{enabled:!0}}};return e?n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx("button",{className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-blue-800 text-white rounded-lg",onClick:()=>o(!i),children:n.jsx("i",{className:"bx bx-menu text-xl"})}),n.jsx("div",{className:`${i?"block":"hidden"} md:block md:w-64 bg-white border-r`,children:n.jsx(tr,{})}),n.jsx("div",{className:"flex-1 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 animate-pulse",children:Array.from({length:3}).map((N,k)=>n.jsx("div",{className:"bg-gray-200 p-4 rounded-lg h-24"},k))}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"}),n.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"})]})]})})]}):s?null:n.jsxs("div",{className:"relative flex min-h-screen bg-white overflow-x-hidden",children:[n.jsx("div",{className:`${i?"block":""} md:block md:w-64 bg-white border-r max-h-[calc(100vh-2rem)] overflow-y-auto`,children:n.jsx(tr,{})}),n.jsx("div",{className:"flex-1 p-3 sm:p-4 md:p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"relative flex flex-col items-center md:flex-row md:items-center md:justify-between bg-white border border-blue-100 rounded-2xl shadow-sm p-4 sm:p-6 md:p-8 mb-8 md:mb-10",children:[n.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left w-full md:w-auto",children:[n.jsxs("h1",{className:"text-2xl sm:text-3xl font-extrabold text-blue-900 mb-1 tracking-tight",children:["Welcome back, ",n.jsx("span",{className:"text-blue-600",children:f}),"!"]}),n.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Heres a snapshot of your stores performance."})]}),n.jsx("div",{className:"mt-4 md:mt-0 flex-shrink-0",children:n.jsx("img",{src:"https://i.pinimg.com/originals/97/16/5e/97165e191052892894cb886b4a8c0971.gif",alt:"Seller Avatar",className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 rounded-full shadow border-2 border-blue-100 bg-white object-contain"})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4 mb-8 md:mb-10 items-stretch",children:[n.jsxs(ve,{to:"/products-upload",className:"flex-1 min-w-[140px] flex items-center gap-2 px-4 py-3 rounded-lg bg-[#112d4e] text-white font-semibold shadow-sm hover:bg-[#112d4e] focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 transition",title:"Add Product",children:[n.jsx(YS,{className:"w-5 h-5"})," Add Product"]}),n.jsxs(ve,{to:"/sellers/orders",className:"flex-1 min-w-[140px] flex items-center gap-2 px-4 py-3 rounded-lg bg-[#112d4e] text-white font-semibold shadow-sm hover:bg-[#112d4e] focus:outline-green-400 focus:ring-2 focus:ring-green-300 transition",title:"View Orders",children:[n.jsx(Ab,{className:"w-5 h-5"})," View Orders"]}),n.jsxs(ve,{to:"/smile",className:"flex-1 min-w-[140px] flex items-center gap-2 px-4 py-3 rounded-lg bg-[#112d4e] text-white font-semibold shadow-sm hover:bg-[#112d4e] focus:outline-gray-400 focus:ring-2 focus:ring-gray-300 transition",title:"Withdraw Funds",children:[n.jsx(rh,{className:"w-5 h-5"})," Withdraw Funds"]}),p&&p.isProSeller&&n.jsxs("div",{className:"flex flex-1 min-w-[140px] gap-2",children:[n.jsxs(ve,{to:"/product-bump",className:"flex-1 flex items-center gap-2 px-4 py-3 rounded-lg bg-[#112d4e] text-white font-semibold shadow-sm hover:bg-[#112d4e] focus:outline-purple-400 focus:ring-2 focus:ring-purple-300 transition",title:"Product Bump",children:[n.jsx(Cd,{className:"w-5 h-5"})," Product Bump"]}),n.jsx(ve,{to:"/product-bump-info",className:"flex items-center px-3 py-3 rounded-lg bg-blue-100 text-blue-700 hover:bg-blue-200 transition",title:"What is Product Bump?",children:n.jsx(Vu,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-white border border-blue-100 p-5 rounded-xl shadow flex items-center justify-between transition-transform hover:scale-105 focus-within:scale-105 cursor-pointer group relative overflow-hidden",tabIndex:0,"aria-label":"Total Products","aria-live":"polite",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-blue-700 mb-1",children:"Total Products"}),n.jsx("p",{className:"text-2xl font-extrabold text-blue-900 animate-countup",children:d.products})]}),n.jsx(Cd,{className:"w-8 h-8 text-blue-500 group-hover:scale-110 group-focus:scale-110 transition-transform z-10"})]}),n.jsxs("div",{className:"bg-white border border-green-100 p-5 rounded-xl shadow flex items-center justify-between transition-transform hover:scale-105 focus-within:scale-105 cursor-pointer group relative overflow-hidden",tabIndex:0,"aria-label":"Approved Products","aria-live":"polite",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-green-700 mb-1",children:"Approved Products"}),n.jsx("p",{className:"text-2xl font-extrabold text-green-900 animate-countup",children:d.approvedProducts})]}),n.jsx(lp,{className:"w-8 h-8 text-green-500 group-hover:scale-110 group-focus:scale-110 transition-transform z-10"})]}),n.jsxs("div",{className:"bg-white border border-orange-100 p-5 rounded-xl shadow flex items-center justify-between transition-transform hover:scale-105 focus-within:scale-105 cursor-pointer group relative overflow-hidden",tabIndex:0,"aria-label":"Rejected Products","aria-live":"polite",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-orange-700 mb-1",children:"Rejected Products"}),n.jsx("p",{className:"text-2xl font-extrabold text-orange-900 animate-countup",children:d.rejectedProducts})]}),n.jsx(sh,{className:"w-8 h-8 text-orange-500 group-hover:scale-110 group-focus:scale-110 transition-transform z-10"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white border border-blue-100 p-5 rounded-xl shadow",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Rse,{className:"w-5 h-5 text-blue-500"}),n.jsx("h2",{className:"text-base font-bold text-blue-900",children:"Product Analytics"})]}),n.jsx("div",{className:"h-56 sm:h-64",children:n.jsx(b_,{data:y,options:v})})]}),n.jsxs("div",{className:"bg-white border border-purple-100 p-5 rounded-xl shadow",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Dse,{className:"w-5 h-5 text-purple-500"}),n.jsx("h2",{className:"text-base font-bold text-purple-900",children:"Product Status"})]}),n.jsx("div",{className:"h-56 sm:h-64 flex items-center justify-center",children:n.jsx("div",{className:"w-3/4 sm:w-1/2",children:n.jsx(KU,{data:x,options:v})})})]})]}),n.jsx("div",{className:"mt-8",children:n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(ve,{to:"/pro-seller-analytics",className:"inline-block px-5 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-semibold shadow",children:"See More Analytics"})})}),n.jsx(uue,{})]})})]})}function hue(){const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(""),[o,l]=C.useState([]),[c,d]=C.useState("");C.useEffect(()=>{(async()=>{try{eo(Pe,async m=>{if(m)try{const p=Et(Ie(J,"products"),bt("sellerId","==",m.uid)),x=(await dt(p)).docs.map(v=>({id:v.id,...v.data(),active:v.data().active||!0,isHidden:v.data().isHidden||!1}));e(x),l(x)}catch(p){i("Failed to fetch products: "+p.message)}else i("Please log in to view your products.");s(!1)})}catch(m){i("Authentication error: "+m.message),s(!1)}})()},[]),C.useEffect(()=>{const f=r.filter(m=>m.name?.toLowerCase().includes(c.toLowerCase()));l(f)},[c,r]);const u=()=>window.location.reload();return t?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):a?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-gray-50",children:n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg shadow-lg",children:[n.jsx("p",{className:"text-red-700 text-base mb-4",children:a}),n.jsx(ve,{to:"/seller/login",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Return to Login"})]})}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[n.jsx(tr,{}),n.jsxs("div",{className:"flex-1 ml-0 md:ml-64 p-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3 md:gap-6 mb-8 p-4 sm:p-6 md:p-8 rounded-xl bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-100 shadow-sm",children:[n.jsx(Cd,{className:"w-8 h-8 text-blue-600 mb-2 md:mb-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-900 flex items-center gap-3 flex-wrap",children:["My Products",n.jsxs("span",{className:"inline-block bg-blue-100 text-blue-700 text-base md:text-lg font-semibold px-3 py-1 rounded-full ml-2",children:[r.length," ",r.length===1?"Product":"Products"]})]}),n.jsx("p",{className:"text-gray-500 text-sm md:text-base mt-1",children:"Manage and track all your listed products."})]}),n.jsx("button",{onClick:u,title:"Refresh",className:"ml-0 md:ml-auto bg-white border border-blue-200 rounded-full p-2 md:p-3 hover:bg-blue-100 transition focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 mt-2 md:mt-0",children:n.jsx(GS,{className:"w-5 h-5 md:w-6 md:h-6 text-blue-600"})}),n.jsxs(ve,{to:"/products-upload",className:"hidden sm:flex bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 md:px-10 md:py-5 rounded-xl hover:from-blue-700 hover:to-purple-700 transition duration-300 items-center gap-3 shadow-xl focus:outline-blue-400 focus:ring-4 focus:ring-blue-300 ml-4 font-bold text-lg md:text-xl animate-none hover:animate-pulseBtn",children:[n.jsx(xh,{className:"w-7 h-7 md:w-8 md:h-8"})," ",n.jsx("span",{children:"Add New Product"})]})]}),n.jsxs(ve,{to:"/products-upload",className:"sm:hidden fixed bottom-8 right-4 md:bottom-12 md:right-12 z-50 rounded-full bg-gradient-to-br from-blue-600 via-purple-500 to-pink-500 text-white p-7 shadow-2xl hover:from-blue-700 hover:to-pink-600 transition focus:outline-blue-400 focus:ring-4 focus:ring-blue-300 flex items-center justify-center animate-pulseBtn",title:"Add New Product","aria-label":"Add New Product",tabIndex:0,children:[n.jsx(YS,{className:"w-12 h-12 font-bold"}),n.jsx("span",{className:"sr-only",children:"Add New Product"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 max-w-full overflow-x-auto",children:[n.jsx("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:n.jsxs("div",{className:"relative w-full sm:w-1/3",children:[n.jsx("input",{type:"text",value:c,onChange:f=>d(f.target.value),placeholder:"Search by product name...",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"}),n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:n.jsx("i",{className:"bx bx-search"})}),c&&n.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:n.jsx("i",{className:"bx bx-x"})})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsx("div",{className:"block sm:hidden",children:o.map((f,m)=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4 shadow-md hover:shadow-xl transition duration-300 animate-slide-in focus:ring-2 focus:ring-blue-300 outline-none",tabIndex:0,children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"SL:"}),n.jsx("span",{className:"text-gray-900",children:m+1})]}),n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Name:"}),n.jsx(ve,{to:`/seller/edit-product/${f.id}`,className:"text-blue-900 font-medium hover:underline focus:underline cursor-pointer focus:outline-blue-400",children:f.name||"Unnamed Product"})]}),n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Price:"}),n.jsxs("span",{className:"text-gray-900",children:["",f.price||0]})]}),n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Verify:"}),n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${f.status==="pending"?"bg-orange-100 text-orange-800":f.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[f.status==="pending"&&n.jsx(Vu,{className:"w-3 h-3"}),f.status==="approved"&&n.jsx(Vu,{className:"w-3 h-3"}),f.status==="pending"?"Pending":f.status==="approved"?"Approved":"Not Approved"]})]}),n.jsx("div",{className:"flex justify-end mt-2",children:n.jsxs(ve,{to:`/seller/edit-product/${f.id}`,className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 transition",title:"View/Edit Product",children:[n.jsx(bh,{className:"w-4 h-4"})," Edit"]})})]},f.id))}),n.jsx("div",{className:"hidden sm:block w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[600px] border-collapse text-sm md:text-base",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"p-2 text-left text-gray-700 font-semibold",children:"SL"}),n.jsx("th",{className:"p-2 text-left text-gray-700 font-semibold",children:"Name"}),n.jsx("th",{className:"p-2 text-left text-gray-700 font-semibold",children:"Price"}),n.jsxs("th",{className:"p-2 text-left text-gray-700 font-semibold flex items-center gap-1",children:["Verify",n.jsxs("span",{className:"group relative cursor-pointer",children:[n.jsx(Vu,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-500 transition"}),n.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 mt-2 w-40 bg-gray-800 text-white text-xs rounded p-2 opacity-0 group-hover:opacity-100 pointer-events-none z-10 transition-opacity duration-200 shadow-lg",children:"Status: Pending = Awaiting approval, Approved = Live, Not Approved = Rejected"})]})]}),n.jsx("th",{className:"p-2 text-left text-gray-700 font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:o.map((f,m)=>n.jsxs("tr",{className:`border-t transition duration-200 animate-slide-in outline-none ${m%2===0?"bg-white":"bg-blue-50"}`,tabIndex:0,children:[n.jsx("td",{className:"p-2 text-gray-900",children:m+1}),n.jsx("td",{className:"p-2 text-blue-900 font-medium truncate max-w-xs hover:underline focus:underline cursor-pointer",title:f.name||"Unnamed Product",children:n.jsx(ve,{to:`/seller/edit-product/${f.id}`,className:"focus:outline-blue-400",children:f.name||"Unnamed Product"})}),n.jsxs("td",{className:"p-2 text-gray-900",children:["",f.price||0]}),n.jsx("td",{className:"p-2",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${f.status==="pending"?"bg-orange-100 text-orange-800":f.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[f.status==="pending"&&n.jsx(Vu,{className:"w-3 h-3"}),f.status==="approved"&&n.jsx(Vu,{className:"w-3 h-3"}),f.status==="pending"?"Pending":f.status==="approved"?"Approved":"Not Approved"]})}),n.jsx("td",{className:"p-2",children:n.jsxs(ve,{to:`/seller/edit-product/${f.id}`,className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 transition",title:"View/Edit Product",children:[n.jsx(bh,{className:"w-4 h-4"})," Edit"]})})]},f.id))})]})})]}),o.length===0&&n.jsxs("div",{className:"flex flex-col items-center justify-center mt-10 mb-10 animate-slide-in",children:[n.jsx("img",{src:"/src/assets/icons/empty-cart.svg",alt:"No products",className:"w-32 h-32 mb-6 opacity-80"}),n.jsx("p",{className:"text-gray-700 text-center text-xl font-semibold mb-4",children:"No products found"}),n.jsxs(ve,{to:"/products-upload",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-lg focus:outline-blue-400 focus:ring-2 focus:ring-blue-300",children:[n.jsx(xh,{className:"w-5 h-5"})," Add Your First Product"]})]})]})]}),n.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(16px); }
          to { opacity: 1; transform: none; }
        }
        .animate-fade-in {
          animation: fade-in 0.7s cubic-bezier(0.4,0,0.2,1);
        }
        @keyframes slide-in {
          from { opacity: 0; transform: translateY(32px); }
          to { opacity: 1; transform: none; }
        }
        .animate-slide-in {
          animation: slide-in 0.7s cubic-bezier(0.4,0,0.2,1);
        }
        @keyframes pulseBtn {
          0%, 100% { box-shadow: 0 0 0 0 rgba(124,58,237,0.4), 0 8px 32px 0 rgba(30,58,138,0.18); }
          50% { box-shadow: 0 0 0 12px rgba(124,58,237,0.15), 0 8px 32px 0 rgba(30,58,138,0.18); }
        }
        .animate-pulseBtn {
          animation: pulseBtn 1.2s infinite;
        }
      `})]})}function fue(){const r=_s(),[e,t]=C.useState({fullName:"",country:"Nigeria",idNumber:"",bankName:"",bankCode:"",accountNumber:"",iban:"",email:Pe.currentUser?.email||""}),[s,a]=C.useState([]),[i,o]=C.useState({}),[l,c]=C.useState(!0),[d,u]=C.useState(""),[f,m]=C.useState(!1),[p,y]=C.useState(1),x=()=>{const k={};return e.fullName.trim()||(k.fullName="Full name is required."),e.country==="Nigeria"?(e.bankCode||(k.bankCode="Select a bank."),e.accountNumber.match(/^\d{10}$/)||(k.accountNumber="Enter a valid 10-digit account number.")):(e.idNumber.trim()||(k.idNumber="Enter a valid ID number."),e.iban.match(/^[A-Z]{2}\d{2}[A-Z0-9]{1,30}$/)||(k.iban="Enter a valid IBAN."),e.email.match(/\S+@\S+\.\S+/)||(k.email="Enter a valid email."),e.bankName.trim()||(k.bankName="Bank name is required.")),k};C.useEffect(()=>{(async()=>{try{if(!Pe.currentUser){u("Please log in to onboard."),r("/login");return}const S=Te(J,"users",Pe.currentUser.uid),R=await ft(S);if(R.exists()&&R.data().isOnboarded){console.log(`User ${Pe.currentUser.uid} already onboarded`),m(!0);return}if(e.country==="Nigeria"){const A=await os.get("https://foremade-backend.onrender.com/fetch-banks");a(A.data)}}catch(S){console.error(`Initialization error for ${Pe.currentUser.uid}:`,S),u("Initialization error: "+S.message)}finally{c(!1)}})()},[e.country,r]);const v=k=>{const{name:S,value:R}=k.target;t(A=>({...A,[S]:R})),o(A=>({...A,[S]:""})),S==="fullName"&&R.trim()&&p<2&&y(2),(e.country==="Nigeria"&&S==="bankCode"&&R&&e.accountNumber||e.country==="United Kingdom"&&S==="idNumber"&&R)&&y(3)},N=async k=>{k.preventDefault(),o({}),c(!0);const S=x();if(Object.keys(S).length>0){o(S),c(!1);return}try{const R={userId:Pe.currentUser.uid,country:e.country,fullName:e.fullName,email:e.email,bankCode:e.country==="Nigeria"?e.bankCode:void 0,accountNumber:e.country==="Nigeria"?e.accountNumber:void 0,iban:e.country==="United Kingdom"?e.iban:void 0,bankName:e.country==="United Kingdom"?e.bankName:void 0,idNumber:e.country==="United Kingdom"?e.idNumber:void 0};console.log(`Submitting onboarding for ${Pe.currentUser.uid}:`,R);const A=await os.post("https://foremade-backend.onrender.com/onboard-seller",R);if(A.data.error)throw new Error(A.data.error);if(e.country==="United Kingdom"){window.location.href=A.data.redirectUrl;return}const D=new Date().toISOString(),P={fullName:e.fullName,country:e.country,idNumber:"",bankName:s.find(E=>E.code===e.bankCode)?.name||"",bankCode:e.country==="Nigeria"?e.bankCode:"",accountNumber:e.country==="Nigeria"?e.accountNumber:"",iban:"",email:"",paystackRecipientCode:A.data.recipientCode||"",createdAt:D,updatedAt:D};await as(Te(J,"sellers",Pe.currentUser.uid),P,{merge:!0}),await as(Te(J,"users",Pe.currentUser.uid),{role:"seller",isOnboarded:!0,updatedAt:D},{merge:!0}),console.log(`Onboarding successful for ${Pe.currentUser.uid}, role set to seller`),alert("Onboarding successful!"),r("/smile")}catch(R){console.error(`Onboarding failed for ${Pe.currentUser.uid}:`,R),u("Failed to onboard: "+(R.response?.data?.error||R.message))}finally{c(!1)}};return l?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-300 animate-pulse",children:[n.jsxs("svg",{className:"w-6 h-6 text-blue-500 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),n.jsx("span",{className:"text-lg",children:"Loading..."})]})})]}):d?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-xl shadow-lg max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Error"}),n.jsx("p",{className:"text-gray-600 mb-4",children:d}),n.jsx(ve,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Return to Login"})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 sm:p-8 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[n.jsx("div",{className:"flex-1 h-1 bg-gray-200 dark:bg-gray-600 rounded-full",children:n.jsx("div",{className:"h-1 bg-blue-600 rounded-full transition-all duration-500",style:{width:`${p/3*100}%`}})}),n.jsx("div",{className:"flex space-x-4 ml-4",children:[1,2,3].map(k=>n.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded-full text-sm font-medium transition-all duration-300 ${p>=k?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:k},k))})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-3",children:[n.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"})}),"Seller Onboarding"]}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 text-sm",children:"Complete your profile to start selling on FOREMADE."})]}),n.jsxs("form",{onSubmit:N,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{type:"text",name:"fullName",value:e.fullName,onChange:v,className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.fullName?"border-red-500":""}`,disabled:l,placeholder:"e.g., John Doe","aria-label":"Full Name"}),n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:n.jsx("i",{className:"bx bx-user"})})]}),i.fullName&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.fullName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Country ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"country",value:e.country,onChange:v,className:"mt-1 w-full p-3 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",disabled:l,"aria-label":"Country",children:[n.jsx("option",{value:"Nigeria",children:"Nigeria"}),n.jsx("option",{value:"United Kingdom",children:"United Kingdom"})]})]}),e.country==="Nigeria"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Bank Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"bankCode",value:e.bankCode,onChange:v,className:`mt-1 w-full p-3 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.bankCode?"border-red-500":""}`,disabled:l,"aria-label":"Bank Name",children:[n.jsx("option",{value:"",children:"Select a bank"}),s.map(k=>n.jsx("option",{value:k.code,children:k.name},k.code))]}),i.bankCode&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.bankCode})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Account Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{type:"text",name:"accountNumber",value:e.accountNumber,onChange:v,placeholder:"e.g., 0123456789",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.accountNumber?"border-red-500":""}`,disabled:l,"aria-label":"Account Number"}),n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:n.jsx("i",{className:"bx bx-bank"})})]}),i.accountNumber&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.accountNumber})]})]}),e.country==="United Kingdom"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["ID Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{type:"text",name:"idNumber",value:e.idNumber,onChange:v,placeholder:"e.g., AB123456C",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.idNumber?"border-red-500":""}`,disabled:l,"aria-label":"ID Number"}),n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:n.jsx("i",{className:"bx bx-id-card"})})]}),i.idNumber&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.idNumber})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Bank Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{type:"text",name:"bankName",value:e.bankName,onChange:v,placeholder:"e.g., Barclays",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.bankName?"border-red-500":""}`,disabled:l,"aria-label":"Bank Name"}),n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:n.jsx("i",{className:"bx bx-bank"})})]}),i.bankName&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.bankName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["IBAN ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{type:"text",name:"iban",value:e.iban,onChange:v,placeholder:"e.g., GB33BUKB20201555555555",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.iban?"border-red-500":""}`,disabled:l,"aria-label":"IBAN"}),n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:n.jsx("i",{className:"bx bx-credit-card"})})]}),i.iban&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.iban})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{type:"email",name:"email",value:e.email,onChange:v,placeholder:"e.g., seller@example.com",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.email?"border-red-500":""}`,disabled:l,"aria-label":"Email"}),n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:n.jsx("i",{className:"bx bx-envelope"})})]}),i.email&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.email})]})]}),n.jsx("button",{type:"submit",className:`w-full py-3 px-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl shadow-lg hover:from-blue-700 hover:to-blue-800 flex items-center justify-center gap-2 transition duration-300 ${l?"opacity-75 cursor-not-allowed":""}`,disabled:l,"aria-label":"Complete Onboarding",children:l?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"w-5 h-5 animate-spin text-white",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})}),"Complete Onboarding"]})})]})]})}),f&&n.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-2xl w-full max-w-md mx-4 sm:mx-0 transform transition-all duration-500 ease-out animate-fadeInUp",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Already Onboarded"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Youre already set as a seller! Ready to manage your wallet?"}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:()=>r("/sell"),className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200","aria-label":"Go to Dashboard",children:"Yes"}),n.jsx("button",{onClick:()=>m(!1),className:"py-2 px-6 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition duration-200","aria-label":"Close Modal",children:"No"})]})]})})]})}function y_(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Bd=y_();function ZU(r){Bd=r}var Qm={exec:()=>null};function Ks(r,e=""){let t=typeof r=="string"?r:r.source;const s={replace:(a,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(Wa.caret,"$1"),t=t.replace(a,o),s},getRegex:()=>new RegExp(t,e)};return s}var Wa={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},mue=/^(?:[ \t]*(?:\n|$))+/,gue=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,pue=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,mp=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,xue=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,v_=/(?:[*+-]|\d{1,9}[.)])/,QU=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,JU=Ks(QU).replace(/bull/g,v_).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),bue=Ks(QU).replace(/bull/g,v_).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),w_=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,yue=/^[^\n]+/,N_=/(?!\s*\])(?:\\.|[^\[\]\\])+/,vue=Ks(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",N_).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),wue=Ks(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,v_).getRegex(),Av="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",j_=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Nue=Ks("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",j_).replace("tag",Av).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),e8=Ks(w_).replace("hr",mp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Av).getRegex(),jue=Ks(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",e8).getRegex(),k_={blockquote:jue,code:gue,def:vue,fences:pue,heading:xue,hr:mp,html:Nue,lheading:JU,list:wue,newline:mue,paragraph:e8,table:Qm,text:yue},g3=Ks("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",mp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Av).getRegex(),kue={...k_,lheading:bue,table:g3,paragraph:Ks(w_).replace("hr",mp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",g3).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Av).getRegex()},Sue={...k_,html:Ks(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",j_).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Qm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ks(w_).replace("hr",mp).replace("heading",` *#{1,6} *[^
]`).replace("lheading",JU).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},_ue=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Aue=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,t8=/^( {2,}|\\)\n(?!\s*$)/,Cue=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Cv=/[\p{P}\p{S}]/u,S_=/[\s\p{P}\p{S}]/u,s8=/[^\s\p{P}\p{S}]/u,Eue=Ks(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,S_).getRegex(),r8=/(?!~)[\p{P}\p{S}]/u,Tue=/(?!~)[\s\p{P}\p{S}]/u,Pue=/(?:[^\s\p{P}\p{S}]|~)/u,Rue=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,a8=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Iue=Ks(a8,"u").replace(/punct/g,Cv).getRegex(),Due=Ks(a8,"u").replace(/punct/g,r8).getRegex(),n8="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Mue=Ks(n8,"gu").replace(/notPunctSpace/g,s8).replace(/punctSpace/g,S_).replace(/punct/g,Cv).getRegex(),Oue=Ks(n8,"gu").replace(/notPunctSpace/g,Pue).replace(/punctSpace/g,Tue).replace(/punct/g,r8).getRegex(),Lue=Ks("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,s8).replace(/punctSpace/g,S_).replace(/punct/g,Cv).getRegex(),Fue=Ks(/\\(punct)/,"gu").replace(/punct/g,Cv).getRegex(),Uue=Ks(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),zue=Ks(j_).replace("(?:-->|$)","-->").getRegex(),Bue=Ks("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",zue).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ky=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Vue=Ks(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ky).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),i8=Ks(/^!?\[(label)\]\[(ref)\]/).replace("label",ky).replace("ref",N_).getRegex(),o8=Ks(/^!?\[(ref)\](?:\[\])?/).replace("ref",N_).getRegex(),Hue=Ks("reflink|nolink(?!\\()","g").replace("reflink",i8).replace("nolink",o8).getRegex(),__={_backpedal:Qm,anyPunctuation:Fue,autolink:Uue,blockSkip:Rue,br:t8,code:Aue,del:Qm,emStrongLDelim:Iue,emStrongRDelimAst:Mue,emStrongRDelimUnd:Lue,escape:_ue,link:Vue,nolink:o8,punctuation:Eue,reflink:i8,reflinkSearch:Hue,tag:Bue,text:Cue,url:Qm},$ue={...__,link:Ks(/^!?\[(label)\]\((.*?)\)/).replace("label",ky).getRegex(),reflink:Ks(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ky).getRegex()},jk={...__,emStrongRDelimAst:Oue,emStrongLDelim:Due,url:Ks(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},que={...jk,br:Ks(t8).replace("{2,}","*").getRegex(),text:Ks(jk.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Q0={normal:k_,gfm:kue,pedantic:Sue},gm={normal:__,gfm:jk,breaks:que,pedantic:$ue},Wue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p3=r=>Wue[r];function Oi(r,e){if(e){if(Wa.escapeTest.test(r))return r.replace(Wa.escapeReplace,p3)}else if(Wa.escapeTestNoEncode.test(r))return r.replace(Wa.escapeReplaceNoEncode,p3);return r}function x3(r){try{r=encodeURI(r).replace(Wa.percentDecode,"%")}catch{return null}return r}function b3(r,e){const t=r.replace(Wa.findPipe,(i,o,l)=>{let c=!1,d=o;for(;--d>=0&&l[d]==="\\";)c=!c;return c?"|":" |"}),s=t.split(Wa.splitPipe);let a=0;if(s[0].trim()||s.shift(),s.length>0&&!s.at(-1)?.trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;a<s.length;a++)s[a]=s[a].trim().replace(Wa.slashPipe,"|");return s}function pm(r,e,t){const s=r.length;if(s===0)return"";let a=0;for(;a<s&&r.charAt(s-a-1)===e;)a++;return r.slice(0,s-a)}function Yue(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let s=0;s<r.length;s++)if(r[s]==="\\")s++;else if(r[s]===e[0])t++;else if(r[s]===e[1]&&(t--,t<0))return s;return t>0?-2:-1}function y3(r,e,t,s,a){const i=e.href,o=e.title||null,l=r[1].replace(a.other.outputLinkReplace,"$1");s.state.inLink=!0;const c={type:r[0].charAt(0)==="!"?"image":"link",raw:t,href:i,title:o,text:l,tokens:s.inlineTokens(l)};return s.state.inLink=!1,c}function Gue(r,e,t){const s=r.match(t.other.indentCodeCompensation);if(s===null)return e;const a=s[1];return e.split(`
`).map(i=>{const o=i.match(t.other.beginningSpace);if(o===null)return i;const[l]=o;return l.length>=a.length?i.slice(a.length):i}).join(`
`)}var Sy=class{options;rules;lexer;constructor(r){this.options=r||Bd}space(r){const e=this.rules.block.newline.exec(r);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(r){const e=this.rules.block.code.exec(r);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:pm(t,`
`)}}}fences(r){const e=this.rules.block.fences.exec(r);if(e){const t=e[0],s=Gue(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(r){const e=this.rules.block.heading.exec(r);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const s=pm(t,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(t=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(r){const e=this.rules.block.hr.exec(r);if(e)return{type:"hr",raw:pm(e[0],`
`)}}blockquote(r){const e=this.rules.block.blockquote.exec(r);if(e){let t=pm(e[0],`
`).split(`
`),s="",a="";const i=[];for(;t.length>0;){let o=!1;const l=[];let c;for(c=0;c<t.length;c++)if(this.rules.other.blockquoteStart.test(t[c]))l.push(t[c]),o=!0;else if(!o)l.push(t[c]);else break;t=t.slice(c);const d=l.join(`
`),u=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${d}`:d,a=a?`${a}
${u}`:u;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,i,!0),this.lexer.state.top=f,t.length===0)break;const m=i.at(-1);if(m?.type==="code")break;if(m?.type==="blockquote"){const p=m,y=p.raw+`
`+t.join(`
`),x=this.blockquote(y);i[i.length-1]=x,s=s.substring(0,s.length-p.raw.length)+x.raw,a=a.substring(0,a.length-p.text.length)+x.text;break}else if(m?.type==="list"){const p=m,y=p.raw+`
`+t.join(`
`),x=this.list(y);i[i.length-1]=x,s=s.substring(0,s.length-m.raw.length)+x.raw,a=a.substring(0,a.length-p.raw.length)+x.raw,t=y.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:i,text:a}}}list(r){let e=this.rules.block.list.exec(r);if(e){let t=e[1].trim();const s=t.length>1,a={type:"list",raw:"",ordered:s,start:s?+t.slice(0,-1):"",loose:!1,items:[]};t=s?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=s?t:"[*+-]");const i=this.rules.other.listItemRegex(t);let o=!1;for(;r;){let c=!1,d="",u="";if(!(e=i.exec(r))||this.rules.block.hr.test(r))break;d=e[0],r=r.substring(d.length);let f=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,N=>" ".repeat(3*N.length)),m=r.split(`
`,1)[0],p=!f.trim(),y=0;if(this.options.pedantic?(y=2,u=f.trimStart()):p?y=e[1].length+1:(y=e[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,u=f.slice(y),y+=e[1].length),p&&this.rules.other.blankLine.test(m)&&(d+=m+`
`,r=r.substring(m.length+1),c=!0),!c){const N=this.rules.other.nextBulletRegex(y),k=this.rules.other.hrRegex(y),S=this.rules.other.fencesBeginRegex(y),R=this.rules.other.headingBeginRegex(y),A=this.rules.other.htmlBeginRegex(y);for(;r;){const D=r.split(`
`,1)[0];let P;if(m=D,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),P=m):P=m.replace(this.rules.other.tabCharGlobal,"    "),S.test(m)||R.test(m)||A.test(m)||N.test(m)||k.test(m))break;if(P.search(this.rules.other.nonSpaceChar)>=y||!m.trim())u+=`
`+P.slice(y);else{if(p||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||S.test(f)||R.test(f)||k.test(f))break;u+=`
`+m}!p&&!m.trim()&&(p=!0),d+=D+`
`,r=r.substring(D.length+1),f=P.slice(y)}}a.loose||(o?a.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(o=!0));let x=null,v;this.options.gfm&&(x=this.rules.other.listIsTask.exec(u),x&&(v=x[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:d,task:!!x,checked:v,loose:!1,text:u,tokens:[]}),a.raw+=d}const l=a.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let c=0;c<a.items.length;c++)if(this.lexer.state.top=!1,a.items[c].tokens=this.lexer.blockTokens(a.items[c].text,[]),!a.loose){const d=a.items[c].tokens.filter(f=>f.type==="space"),u=d.length>0&&d.some(f=>this.rules.other.anyLine.test(f.raw));a.loose=u}if(a.loose)for(let c=0;c<a.items.length;c++)a.items[c].loose=!0;return a}}html(r){const e=this.rules.block.html.exec(r);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(r){const e=this.rules.block.def.exec(r);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:s,title:a}}}table(r){const e=this.rules.block.table.exec(r);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const t=b3(e[1]),s=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===s.length){for(const o of s)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<t.length;o++)i.header.push({text:t[o],tokens:this.lexer.inline(t[o]),header:!0,align:i.align[o]});for(const o of a)i.rows.push(b3(o,i.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:i.align[c]})));return i}}lheading(r){const e=this.rules.block.lheading.exec(r);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(r){const e=this.rules.block.paragraph.exec(r);if(e){const t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(r){const e=this.rules.block.text.exec(r);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(r){const e=this.rules.inline.escape.exec(r);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(r){const e=this.rules.inline.tag.exec(r);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(r){const e=this.rules.inline.link.exec(r);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const i=pm(t.slice(0,-1),"\\");if((t.length-i.length)%2===0)return}else{const i=Yue(e[2],"()");if(i===-2)return;if(i>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let s=e[2],a="";if(this.options.pedantic){const i=this.rules.other.pedanticHrefTitle.exec(s);i&&(s=i[1],a=i[3])}else a=e[3]?e[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?s=s.slice(1):s=s.slice(1,-1)),y3(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(r,e){let t;if((t=this.rules.inline.reflink.exec(r))||(t=this.rules.inline.nolink.exec(r))){const s=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=e[s.toLowerCase()];if(!a){const i=t[0].charAt(0);return{type:"text",raw:i,text:i}}return y3(t,a,t[0],this.lexer,this.rules)}}emStrong(r,e,t=""){let s=this.rules.inline.emStrongLDelim.exec(r);if(!s||s[3]&&t.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const i=[...s[0]].length-1;let o,l,c=i,d=0;const u=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*r.length+i);(s=u.exec(e))!=null;){if(o=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!o)continue;if(l=[...o].length,s[3]||s[4]){c+=l;continue}else if((s[5]||s[6])&&i%3&&!((i+l)%3)){d+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+d);const f=[...s[0]][0].length,m=r.slice(0,i+s.index+f+l);if(Math.min(i,l)%2){const y=m.slice(1,-1);return{type:"em",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}const p=m.slice(2,-2);return{type:"strong",raw:m,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(r){const e=this.rules.inline.code.exec(r);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(t),a=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return s&&a&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(r){const e=this.rules.inline.br.exec(r);if(e)return{type:"br",raw:e[0]}}del(r){const e=this.rules.inline.del.exec(r);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(r){const e=this.rules.inline.autolink.exec(r);if(e){let t,s;return e[2]==="@"?(t=e[1],s="mailto:"+t):(t=e[1],s=t),{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}url(r){let e;if(e=this.rules.inline.url.exec(r)){let t,s;if(e[2]==="@")t=e[0],s="mailto:"+t;else{let a;do a=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(a!==e[0]);t=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(r){const e=this.rules.inline.text.exec(r);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},Oo=class kk{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Bd,this.options.tokenizer=this.options.tokenizer||new Sy,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:Wa,block:Q0.normal,inline:gm.normal};this.options.pedantic?(t.block=Q0.pedantic,t.inline=gm.pedantic):this.options.gfm&&(t.block=Q0.gfm,this.options.breaks?t.inline=gm.breaks:t.inline=gm.gfm),this.tokenizer.rules=t}static get rules(){return{block:Q0,inline:gm}}static lex(e,t){return new kk(t).lex(e)}static lexInline(e,t){return new kk(t).inlineTokens(e)}lex(e){e=e.replace(Wa.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const s=this.inlineQueue[t];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],s=!1){for(this.options.pedantic&&(e=e.replace(Wa.tabCharGlobal,"    ").replace(Wa.spaceLine,""));e;){let a;if(this.options.extensions?.block?.some(o=>(a=o.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);const o=t.at(-1);a.raw.length===1&&o!==void 0?o.raw+=`
`:t.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);const o=t.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.at(-1).src=o.text):t.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);const o=t.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),t.push(a);continue}let i=e;if(this.options.extensions?.startBlock){let o=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(d=>{c=d.call({lexer:this},l),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(i=e.substring(0,o+1))}if(this.state.top&&(a=this.tokenizer.paragraph(i))){const o=t.at(-1);s&&o?.type==="paragraph"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(a),s=i.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);const o=t.at(-1);o?.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(a);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let s=e,a=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)l.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,o="";for(;e;){i||(o=""),i=!1;let l;if(this.options.extensions?.inline?.some(d=>(l=d.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const d=t.at(-1);l.type==="text"&&d?.type==="text"?(d.raw+=l.raw,d.text+=l.text):t.push(l);continue}if(l=this.tokenizer.emStrong(e,s,o)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),t.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),t.push(l);continue}let c=e;if(this.options.extensions?.startInline){let d=1/0;const u=e.slice(1);let f;this.options.extensions.startInline.forEach(m=>{f=m.call({lexer:this},u),typeof f=="number"&&f>=0&&(d=Math.min(d,f))}),d<1/0&&d>=0&&(c=e.substring(0,d+1))}if(l=this.tokenizer.inlineText(c)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),i=!0;const d=t.at(-1);d?.type==="text"?(d.raw+=l.raw,d.text+=l.text):t.push(l);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}},_y=class{options;parser;constructor(r){this.options=r||Bd}space(r){return""}code({text:r,lang:e,escaped:t}){const s=(e||"").match(Wa.notSpaceStart)?.[0],a=r.replace(Wa.endingNewline,"")+`
`;return s?'<pre><code class="language-'+Oi(s)+'">'+(t?a:Oi(a,!0))+`</code></pre>
`:"<pre><code>"+(t?a:Oi(a,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}heading({tokens:r,depth:e}){return`<h${e}>${this.parser.parseInline(r)}</h${e}>
`}hr(r){return`<hr>
`}list(r){const e=r.ordered,t=r.start;let s="";for(let o=0;o<r.items.length;o++){const l=r.items[o];s+=this.listitem(l)}const a=e?"ol":"ul",i=e&&t!==1?' start="'+t+'"':"";return"<"+a+i+`>
`+s+"</"+a+`>
`}listitem(r){let e="";if(r.task){const t=this.checkbox({checked:!!r.checked});r.loose?r.tokens[0]?.type==="paragraph"?(r.tokens[0].text=t+" "+r.tokens[0].text,r.tokens[0].tokens&&r.tokens[0].tokens.length>0&&r.tokens[0].tokens[0].type==="text"&&(r.tokens[0].tokens[0].text=t+" "+Oi(r.tokens[0].tokens[0].text),r.tokens[0].tokens[0].escaped=!0)):r.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(r.tokens,!!r.loose),`<li>${e}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let e="",t="";for(let a=0;a<r.header.length;a++)t+=this.tablecell(r.header[a]);e+=this.tablerow({text:t});let s="";for(let a=0;a<r.rows.length;a++){const i=r.rows[a];t="";for(let o=0;o<i.length;o++)t+=this.tablecell(i[o]);s+=this.tablerow({text:t})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){const e=this.parser.parseInline(r.tokens),t=r.header?"th":"td";return(r.align?`<${t} align="${r.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${Oi(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:e,tokens:t}){const s=this.parser.parseInline(t),a=x3(r);if(a===null)return s;r=a;let i='<a href="'+r+'"';return e&&(i+=' title="'+Oi(e)+'"'),i+=">"+s+"</a>",i}image({href:r,title:e,text:t,tokens:s}){s&&(t=this.parser.parseInline(s,this.parser.textRenderer));const a=x3(r);if(a===null)return Oi(t);r=a;let i=`<img src="${r}" alt="${t}"`;return e&&(i+=` title="${Oi(e)}"`),i+=">",i}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:Oi(r.text)}},A_=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}},Lo=class Sk{options;renderer;textRenderer;constructor(e){this.options=e||Bd,this.options.renderer=this.options.renderer||new _y,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new A_}static parse(e,t){return new Sk(t).parse(e)}static parseInline(e,t){return new Sk(t).parseInline(e)}parse(e,t=!0){let s="";for(let a=0;a<e.length;a++){const i=e[a];if(this.options.extensions?.renderers?.[i.type]){const l=i,c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){s+=c||"";continue}}const o=i;switch(o.type){case"space":{s+=this.renderer.space(o);continue}case"hr":{s+=this.renderer.hr(o);continue}case"heading":{s+=this.renderer.heading(o);continue}case"code":{s+=this.renderer.code(o);continue}case"table":{s+=this.renderer.table(o);continue}case"blockquote":{s+=this.renderer.blockquote(o);continue}case"list":{s+=this.renderer.list(o);continue}case"html":{s+=this.renderer.html(o);continue}case"paragraph":{s+=this.renderer.paragraph(o);continue}case"text":{let l=o,c=this.renderer.text(l);for(;a+1<e.length&&e[a+1].type==="text";)l=e[++a],c+=`
`+this.renderer.text(l);t?s+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):s+=c;continue}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return s}parseInline(e,t=this.renderer){let s="";for(let a=0;a<e.length;a++){const i=e[a];if(this.options.extensions?.renderers?.[i.type]){const l=this.options.extensions.renderers[i.type].call({parser:this},i);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){s+=l||"";continue}}const o=i;switch(o.type){case"escape":{s+=t.text(o);break}case"html":{s+=t.html(o);break}case"link":{s+=t.link(o);break}case"image":{s+=t.image(o);break}case"strong":{s+=t.strong(o);break}case"em":{s+=t.em(o);break}case"codespan":{s+=t.codespan(o);break}case"br":{s+=t.br(o);break}case"del":{s+=t.del(o);break}case"text":{s+=t.text(o);break}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return s}},Pb=class{options;block;constructor(r){this.options=r||Bd}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}provideLexer(){return this.block?Oo.lex:Oo.lexInline}provideParser(){return this.block?Lo.parse:Lo.parseInline}},Xue=class{defaults=y_();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Lo;Renderer=_y;TextRenderer=A_;Lexer=Oo;Tokenizer=Sy;Hooks=Pb;constructor(...r){this.use(...r)}walkTokens(r,e){let t=[];for(const s of r)switch(t=t.concat(e.call(this,s)),s.type){case"table":{const a=s;for(const i of a.header)t=t.concat(this.walkTokens(i.tokens,e));for(const i of a.rows)for(const o of i)t=t.concat(this.walkTokens(o.tokens,e));break}case"list":{const a=s;t=t.concat(this.walkTokens(a.items,e));break}default:{const a=s;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(i=>{const o=a[i].flat(1/0);t=t.concat(this.walkTokens(o,e))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,e)))}}return t}use(...r){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(t=>{const s={...t};if(s.async=this.defaults.async||s.async||!1,t.extensions&&(t.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const i=e.renderers[a.name];i?e.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=i.apply(this,o)),l}:e.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=e[a.level];i?i.unshift(a.tokenizer):e[a.level]=[a.tokenizer],a.start&&(a.level==="block"?e.startBlock?e.startBlock.push(a.start):e.startBlock=[a.start]:a.level==="inline"&&(e.startInline?e.startInline.push(a.start):e.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(e.childTokens[a.name]=a.childTokens)}),s.extensions=e),t.renderer){const a=this.defaults.renderer||new _y(this.defaults);for(const i in t.renderer){if(!(i in a))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;const o=i,l=t.renderer[o],c=a[o];a[o]=(...d)=>{let u=l.apply(a,d);return u===!1&&(u=c.apply(a,d)),u||""}}s.renderer=a}if(t.tokenizer){const a=this.defaults.tokenizer||new Sy(this.defaults);for(const i in t.tokenizer){if(!(i in a))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const o=i,l=t.tokenizer[o],c=a[o];a[o]=(...d)=>{let u=l.apply(a,d);return u===!1&&(u=c.apply(a,d)),u}}s.tokenizer=a}if(t.hooks){const a=this.defaults.hooks||new Pb;for(const i in t.hooks){if(!(i in a))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;const o=i,l=t.hooks[o],c=a[o];Pb.passThroughHooks.has(i)?a[o]=d=>{if(this.defaults.async)return Promise.resolve(l.call(a,d)).then(f=>c.call(a,f));const u=l.call(a,d);return c.call(a,u)}:a[o]=(...d)=>{let u=l.apply(a,d);return u===!1&&(u=c.apply(a,d)),u}}s.hooks=a}if(t.walkTokens){const a=this.defaults.walkTokens,i=t.walkTokens;s.walkTokens=function(o){let l=[];return l.push(i.call(this,o)),a&&(l=l.concat(a.call(this,o))),l}}this.defaults={...this.defaults,...s}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,e){return Oo.lex(r,e??this.defaults)}parser(r,e){return Lo.parse(r,e??this.defaults)}parseMarkdown(r){return(t,s)=>{const a={...s},i={...this.defaults,...a},o=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&a.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=r);const l=i.hooks?i.hooks.provideLexer():r?Oo.lex:Oo.lexInline,c=i.hooks?i.hooks.provideParser():r?Lo.parse:Lo.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then(d=>l(d,i)).then(d=>i.hooks?i.hooks.processAllTokens(d):d).then(d=>i.walkTokens?Promise.all(this.walkTokens(d,i.walkTokens)).then(()=>d):d).then(d=>c(d,i)).then(d=>i.hooks?i.hooks.postprocess(d):d).catch(o);try{i.hooks&&(t=i.hooks.preprocess(t));let d=l(t,i);i.hooks&&(d=i.hooks.processAllTokens(d)),i.walkTokens&&this.walkTokens(d,i.walkTokens);let u=c(d,i);return i.hooks&&(u=i.hooks.postprocess(u)),u}catch(d){return o(d)}}}onError(r,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const s="<p>An error occurred:</p><pre>"+Oi(t.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(t);throw t}}},Pd=new Xue;function qs(r,e){return Pd.parse(r,e)}qs.options=qs.setOptions=function(r){return Pd.setOptions(r),qs.defaults=Pd.defaults,ZU(qs.defaults),qs};qs.getDefaults=y_;qs.defaults=Bd;qs.use=function(...r){return Pd.use(...r),qs.defaults=Pd.defaults,ZU(qs.defaults),qs};qs.walkTokens=function(r,e){return Pd.walkTokens(r,e)};qs.parseInline=Pd.parseInline;qs.Parser=Lo;qs.parser=Lo.parse;qs.Renderer=_y;qs.TextRenderer=A_;qs.Lexer=Oo;qs.lexer=Oo.lex;qs.Tokenizer=Sy;qs.Hooks=Pb;qs.parse=qs;qs.options;qs.setOptions;qs.use;qs.walkTokens;qs.parseInline;Lo.parse;Oo.lex;function gp({locationData:r,setLocationData:e,errors:t,saveLocation:s}){const a=o=>{const{name:l,value:c}=o.target,d={...r,[l]:c};console.log("SellerLocationForm handleChange:",l,c,d),e(d)},i=async()=>{if(s){const o=Pe.currentUser?.uid;if(o)try{await as(Te(J,"sellerLocations",o),r,{merge:!0}),console.log("Location saved to Firestore:",r)}catch(l){console.error("Error saving location:",l)}}};return js.useEffect(()=>{s&&Object.values(r).some(o=>o)&&i()},[r,s]),n.jsxs("div",{className:"mt-6",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-map text-blue-500"}),"Seller Location"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{htmlFor:"country",className:`text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 ${r.country?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""} transition-all duration-300 transform origin-left pointer-events-none absolute left-3 top-3`,children:["Country ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"country",name:"country",value:r.country||"",onChange:a,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${t.country?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),t.country&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),t.country]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{htmlFor:"state",className:`text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 ${r.state?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""} transition-all duration-300 transform origin-left pointer-events-none absolute left-3 top-3`,children:["State ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"state",name:"state",value:r.state||"",onChange:a,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${t.state?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),t.state&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),t.state]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{htmlFor:"city",className:`text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 ${r.city?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""} transition-all duration-300 transform origin-left pointer-events-none absolute left-3 top-3`,children:"City"}),n.jsx("input",{type:"text",id:"city",name:"city",value:r.city||"",onChange:a,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${t.city?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),t.city&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),t.city]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{htmlFor:"address",className:`text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 ${r.address?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""} transition-all duration-300 transform origin-left pointer-events-none absolute left-3 top-3`,children:"Address"}),n.jsx("input",{type:"text",id:"address",name:"address",value:r.address||"",onChange:a,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${t.address?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),t.address&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),t.address]})]})]})]})}gp.propTypes={locationData:cs.shape({country:cs.string,state:cs.string,city:cs.string,address:cs.string}).isRequired,setLocationData:cs.func.isRequired,errors:cs.object.isRequired,saveLocation:cs.func};gp.defaultProps={saveLocation:null};os.defaults.timeout=8e4;function v3({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Kue(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function Zue(){const[r,e]=C.useState(!1),t=_s(),{alerts:s,addAlert:a,removeAlert:i}=Kue(),[o,l]=C.useState(()=>{const ae=localStorage.getItem("sellerProductForm");return ae?JSON.parse(ae):{sellerName:"",name:"",description:"",price:"",stock:"",category:"",subcategory:"",subSubcategory:"",colors:[],sizes:[],condition:"New",productUrl:"",images:[],videos:[],tags:[],manualSize:"",deliveryDays:""}}),[c,d]=C.useState(()=>{const ae=localStorage.getItem("sellerLocationForm");return ae?JSON.parse(ae):{country:"",state:"",city:"",address:""}}),[u,f]=C.useState({}),[m,p]=C.useState(!1),[y,x]=C.useState(()=>{const ae=localStorage.getItem("sellerProductImages");return ae?JSON.parse(ae):[]}),[v,N]=C.useState(()=>{const ae=localStorage.getItem("sellerProductPreviews");return ae?JSON.parse(ae):[]}),[k,S]=C.useState(()=>{const ae=localStorage.getItem("sellerProductVideos");return ae?JSON.parse(ae):[]}),[R,A]=C.useState(()=>{const ae=localStorage.getItem("sellerProductVideoPreviews");return ae?JSON.parse(ae):[]}),[D,P]=C.useState({}),[E,I]=C.useState(!1),[M,L]=C.useState(0),[z,F]=C.useState(null),[V,$]=C.useState(""),[Y,X]=C.useState([]),[ee,W]=C.useState(!1),[B,G]=C.useState(!1),[te,re]=C.useState(!1),[ie,he]=C.useState(!1),[le,De]=C.useState(!1),[Oe,Be]=C.useState({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),[de,Ye]=C.useState(!1),[be,Q]=C.useState([]),[me,We]=C.useState({}),[xe,Je]=C.useState({}),[ot,lt]=C.useState([]),[rt,et]=C.useState(null),[Rt,Tt]=C.useState(null),[ut,At]=C.useState(""),[st,qe]=C.useState(1),xt=ae=>ae===1?y.length>0:ae===2?o.name&&o.description&&o.sellerName:ae===3?o.price&&o.stock&&o.deliveryDays:ae===4?c.country&&c.state:!1;C.useEffect(()=>{xt(1)&&st<2&&qe(2),xt(2)&&st<3&&qe(3),xt(3)&&st<4&&qe(4)},[y,o.name,o.description,o.sellerName,o.price,o.stock,o.deliveryDays,c.country,c.state]);const Nt=C.useRef(null),_t=C.useRef(null),jt=C.useRef(null),Ft=C.useRef(null),Zt=C.useRef(null),Xt=[{name:"Red",hex:"#ff0000"},{name:"Orange",hex:"#FFA500"},{name:"Blue",hex:"#0000ff"},{name:"Green",hex:"#008000"},{name:"Brown",hex:"#8b4513"},{name:"Black",hex:"#000000"},{name:"White",hex:"#ffffff"},{name:"Purple",hex:"#800080"},{name:"Pink",hex:"#ffc1cc"},{name:"Gray",hex:"#808080"},{name:"Yellow",hex:"#FFFF00"},{name:"Gold",hex:"#ff9a1d"},{name:"Silver",hex:"#e2f2ec"}],ys=["S","M","L","XL","XXL"],It=["3","4","6","8","10","12","14","16","18","20"],Wt=['3"','5"','5.5"','6"','6.5"','7"','7.5"','8"','8.5"','9"','9.5"','10"','10.5"','11"','11.5"','12"','12.5"'],sr=["30ml","50ml","60ml","75ml","100ml"],ms=["1 to 5kg","5 to 10kg ","10 to 20kg","20kg above"],Jt=8,vs=1,ss=10*1024*1024,Ms=30;C.useEffect(()=>{localStorage.setItem("sellerLocationForm",JSON.stringify(c))},[c]),C.useEffect(()=>{const ae=is(Ie(J,"categories"),Le=>{const ke=Le.docs.map(_e=>({id:_e.id,..._e.data()}));Q(ke.map(_e=>_e.name)),o.category&&!ke.some(_e=>_e.name===o.category)&&(l(_e=>({..._e,category:"",subcategory:"",subSubcategory:"",sizes:[]})),a("Selected category was removed by admin.","error"))},Le=>{console.error("Error fetching categories:",Le),a("Failed to load categories.","error")}),Ce=is(Ie(J,"customSubcategories"),Le=>{const ke={};Le.forEach(_e=>{ke[_e.id]=_e.data().subcategories||[]}),We(ke),o.category&&o.subcategory&&!ke[o.category]?.includes(o.subcategory)&&(l(_e=>({..._e,subcategory:"",subSubcategory:"",sizes:[]})),a("Selected subcategory was removed by admin.","error"))},Le=>{console.error("Error fetching subcategories:",Le),a("Failed to load subcategories.","error")}),se=is(Ie(J,"customSubSubcategories"),Le=>{const ke={};Le.forEach(_e=>{const at=_e.id,it=_e.data();ke[at]={},Object.entries(it).forEach(([hs,fr])=>{ke[at][hs]=Array.isArray(fr)?fr:[]})}),Je(ke),o.category&&o.subcategory&&o.subSubcategory&&!ke[o.category]?.[o.subcategory]?.includes(o.subSubcategory)&&(l(_e=>({..._e,subSubcategory:"",sizes:[]})),a("Selected sub-subcategory was removed by admin.","error"))},Le=>{console.error("Error fetching sub-subcategories:",Le),a("Failed to load sub-subcategories.","error")});return(async()=>{try{const Le=Te(J,"feeConfigurations","categoryFees"),ke=await ft(Le);ke.exists()?Tt(ke.data()):a("No fee configurations found.","error")}catch(Le){console.error("Error fetching fee configurations:",Le),a("Failed to load fee configurations.","error")}})(),()=>{ae(),Ce(),se()}},[o.category,o.subcategory,o.subSubcategory]),C.useEffect(()=>{const ae=Pe.onAuthStateChanged(Ce=>{if(Ce){F(Ce);try{let se=Ce.displayName||"";se&&se.startsWith("{")&&(se=JSON.parse(se).name||""),l(ye=>({...ye,sellerName:se})),localStorage.setItem("sellerProductForm",JSON.stringify({...o,sellerName:se}))}catch(se){console.error("Error parsing displayName:",se),a("Failed to load seller profile.","error")}}else a("Please log in to add products.","error"),t("/login")});return()=>ae()},[t]),C.useEffect(()=>{if(!Rt||!o.category)return;const ae=parseFloat(o.price);if(!ae||isNaN(ae)){Be({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0});return}const Ce=Rt[o.category]||{buyerProtectionRate:.08,handlingRate:.2},se=ae*Ce.buyerProtectionRate,ye=ae*Ce.handlingRate,Le=ae+se+ye,ke=ae;Be({productSize:o.category,buyerProtectionFee:se,handlingFee:ye,totalEstimatedPrice:Le,sellerEarnings:ke}),localStorage.setItem("sellerProductForm",JSON.stringify(o))},[o.price,o.category,Rt]),C.useEffect(()=>{localStorage.setItem("sellerProductForm",JSON.stringify(o)),localStorage.setItem("sellerProductImages",JSON.stringify(y)),localStorage.setItem("sellerProductPreviews",JSON.stringify(v)),localStorage.setItem("sellerProductVideos",JSON.stringify(k)),localStorage.setItem("sellerProductVideoPreviews",JSON.stringify(R))},[o,y,v,k,R]),C.useEffect(()=>{At(qs(o.description||"",{gfm:!0,breaks:!0}))},[o.description]),C.useEffect(()=>{(()=>{const Ce=`${o.name} ${o.description} ${o.subSubcategory}`.toLowerCase(),se=[];Ce.includes("leather")&&se.push("Leather"),(Ce.includes("shoe")||Ce.includes("footwear"))&&se.push("Footwear"),(Ce.includes("phone")||Ce.includes("mobile"))&&se.push("Smartphone"),Ce.includes("fashion")&&se.push("Fashion"),Ce.includes("vintage")&&se.push("Vintage"),Ce.includes("smart")&&se.push("Smart"),lt(se.filter(ye=>!o.tags.includes(ye)))})()},[o.name,o.description,o.subSubcategory]),C.useEffect(()=>{const ae=navigator.userAgent||navigator.vendor||window.opera;Ye(/android|iphone|ipad|ipod|opera mini|mobile/i.test(ae))},[]);const gs=ae=>{const{name:Ce,value:se}=ae.target;l(ye=>({...ye,[Ce]:se,...Ce==="category"?{subcategory:"",subSubcategory:"",sizes:[]}:{},...Ce==="subcategory"?{subSubcategory:"",sizes:[]}:{}})),P(ye=>({...ye,[Ce]:""}))},Bt=(ae,Ce=!1)=>{const ye=Array.from(ae).filter(_e=>_e.type.startsWith("image/")&&_e.size<=5*1024*1024);if(y.length+ye.length>Jt){a(`You can upload a maximum of ${Jt} images.`,"error");return}if(Ce&&ye.length>1){a("Please upload one image at a time.","error");return}x(_e=>[..._e,...ye]);const ke=ye.map(_e=>URL.createObjectURL(_e));N(_e=>[..._e,...ke]),P(_e=>({..._e,images:""})),Nt.current&&(Nt.current.value=""),_t.current&&(_t.current.value="")},es=ae=>{const se=Array.from(ae.target.files).filter(Le=>Le.type.startsWith("video/")&&Le.size<=ss);if(k.length+se.length>vs){a(`You can upload a maximum of ${vs} video.`,"error");return}const ye=Le=>new Promise((ke,_e)=>{const at=document.createElement("video");at.preload="metadata",at.onloadedmetadata=()=>{at.duration>Ms&&_e(new Error(`Video must be under ${Ms} seconds.`)),(at.audioTracks||[]).length>0?_e(new Error("Please upload a video without audio.")):ke(Le)},at.onerror=()=>_e(new Error("Error loading video metadata.")),at.src=URL.createObjectURL(Le)});Promise.all(se.map(Le=>ye(Le))).then(Le=>{S(_e=>[..._e,...Le]);const ke=Le.map(_e=>URL.createObjectURL(_e));A(_e=>[..._e,...ke]),P(_e=>({..._e,videos:""}))}).catch(Le=>{a(Le.message,"error")}),jt.current&&(jt.current.value="")},pr=ae=>Bt(ae.target.files),Vs=ae=>Bt(ae.target.files,!0),As=ae=>{ae.preventDefault(),ae.stopPropagation(),Ft.current.classList.remove("border-blue-500"),Bt(ae.dataTransfer.files)},ws=ae=>{ae.preventDefault(),ae.stopPropagation(),Ft.current.classList.add("border-blue-500")},Us=ae=>{ae.preventDefault(),ae.stopPropagation(),Ft.current.classList.remove("border-blue-500")},Os=ae=>{x(Ce=>Ce.filter((se,ye)=>ye!==ae)),N(Ce=>Ce.filter((se,ye)=>ye!==ae)),y.length<=1&&(Nt.current&&(Nt.current.value=""),_t.current&&(_t.current.value=""))},Ls=ae=>{S(Ce=>Ce.filter((se,ye)=>ye!==ae)),A(Ce=>Ce.filter((se,ye)=>ye!==ae)),k.length<=1&&jt.current&&(jt.current.value="")},_r=ae=>{l(Ce=>{const se=Ce.colors.includes(ae)?Ce.colors.filter(ye=>ye!==ae):[...Ce.colors,ae];return{...Ce,colors:se}}),$(""),W(!1)},pe=ae=>{const Ce=ae.target.value;if($(Ce),Ce.trim()===""){X([]),W(!1);return}const se=Xt.filter(ye=>ye.name.toLowerCase().includes(Ce.toLowerCase()));X(se),W(!0)},Qe=ae=>{if(ae.key==="Enter"&&V.trim()){const Ce=V.trim();if(Ce.length>20){a("Color name must be 20 characters or less.","error");return}l(se=>{const ye=se.colors.includes(Ce)?se.colors:[...se.colors,Ce];return{...se,colors:ye}}),$(""),X([]),W(!1)}},tt=ae=>{l(Ce=>({...Ce,colors:Ce.colors.filter(se=>se!==ae)}))},Lt=ae=>{l(Ce=>{const se=Ce.sizes.includes(ae)?Ce.sizes.filter(ye=>ye!==ae):[...Ce.sizes,ae];return{...Ce,sizes:se}})},yt=ae=>{if(ae.key==="Enter"&&ae.target.value.trim()){const Ce=ae.target.value.trim();l(se=>{const ye=se.sizes.includes(Ce)?se.sizes:[...se.sizes,Ce];return{...se,sizes:ye}}),ae.target.value=""}},ue=ae=>{l(Ce=>({...Ce,sizes:Ce.sizes.filter(se=>se!==ae)}))},ge=ae=>{l(Ce=>{const se=Ce.tags.includes(ae)?Ce.tags.filter(ye=>ye!==ae):[...Ce.tags,ae];return{...Ce,tags:se}})},Re=ae=>{const Ce=Zt.current;if(!Ce)return;const se=Ce.selectionStart,ye=Ce.selectionEnd,Le=o.description.substring(se,ye);let ke=o.description,_e=se,at=ye;ae==="bold"?Le?(ke=ke.substring(0,se)+`**${Le}**`+ke.substring(ye),_e=se+2,at=ye+2):(ke=ke.substring(0,se)+"****"+ke.substring(se),_e=se+2,at=se+2):ae==="italic"?Le?(ke=ke.substring(0,se)+`*${Le}*`+ke.substring(ye),_e=se+1,at=ye+1):(ke=ke.substring(0,se)+"**"+ke.substring(se),_e=se+1,at=se+1):ae==="code"&&(Le?(ke=ke.substring(0,se)+`\`${Le}\``+ke.substring(ye),_e=se+1,at=ye+1):(ke=ke.substring(0,se)+"``"+ke.substring(se),_e=se+1,at=se+1)),l(it=>({...it,description:ke})),setTimeout(()=>{Ce.selectionStart=_e,Ce.selectionEnd=at,Ce.focus()},0)},ct=()=>{const ae={};return o.sellerName.trim()||(ae.sellerName="Please enter your full name."),o.name.trim()||(ae.name="Product name is required."),(!o.price||isNaN(o.price)||o.price<=0)&&(ae.price="Enter a valid price greater than 0."),(!o.stock||isNaN(o.stock)||o.stock<0)&&(ae.stock="Enter a valid stock quantity (0 or more)."),(!o.category||!be.includes(o.category))&&(ae.category="Select a valid category."),y.length===0&&(ae.images="At least one image is required."),y.length>Jt&&(ae.images=`Maximum ${Jt} images allowed.`),k.length>vs&&(ae.videos=`Maximum ${vs} video allowed.`),(!o.deliveryDays||isNaN(o.deliveryDays)||o.deliveryDays<=0)&&(ae.deliveryDays="Enter a valid number of delivery days (greater than 0)."),o.category==="Clothing"&&o.subcategory&&o.sizes.length===0&&(ae.sizes="Select or enter at least one size for clothing products."),o.category==="Footwear"&&o.subcategory&&o.sizes.length===0&&(ae.sizes="Select or enter at least one size for footwear products."),o.category==="Perfumes"&&o.subcategory&&o.sizes.length===0&&(ae.sizes="Select or enter at least one size for perfume products."),ae},nt=()=>({}),He=async(ae,Ce=!1)=>{const se=new FormData;se.append("file",ae),se.append("isVideo",Ce);try{const Le=await os.post("https://foremade-backend.onrender.com/upload",se,{headers:{"Content-Type":"multipart/form-data"},timeout:1e5,onUploadProgress:ke=>{const _e=Math.round(ke.loaded*100/ke.total);L(_e)}});if(Le.status!==200||!Le.data.url)throw new Error(`Failed to upload ${Ce?"video":"image"} to Cloudinary.`);return Le.data.url}catch(ye){throw console.error(`${Ce?"Video":"Image"} upload error:`,{message:ye.message,code:ye.code,response:ye.response?.data}),new Error(ye.code==="ECONNABORTED"?"Request timed out. Please check your network or try again later.":ye.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network or server status.":ye.response?.data?.error||`Failed to upload ${Ce?"video":"image"}.`)}finally{L(0)}},ne=async ae=>{if(ae.preventDefault(),P({}),f({}),I(!0),!z){a("You must be logged in to add products.","error"),I(!1),t("/login");return}const Ce=ct(),se=nt();if(Object.keys(Ce).length>0||Object.keys(se).length>0){P(Ce),f(se),I(!1),a("Please fix the form errors.","error");return}try{const ye=await Promise.all(y.map(at=>He(at))),Le=k.length>0?await Promise.all(k.map(at=>He(at,!0))):[];if(ye.length===0)throw new Error("At least one image URL is required.");const ke={sellerName:o.sellerName,name:o.name,description:o.description||"",price:parseFloat(o.price),stock:parseInt(o.stock,10),category:o.category.toLowerCase(),subcategory:o.subcategory||"",subSubcategory:o.subSubcategory||"",colors:o.colors,sizes:o.sizes,condition:o.condition||"New",productUrl:o.productUrl||"",imageUrls:ye,videoUrls:Le,tags:o.tags,sellerId:z.uid,seller:{name:o.sellerName,id:z.uid},createdAt:new Date().toISOString(),reviews:[],buyerProtectionFee:Oe.buyerProtectionFee,handlingFee:Oe.handlingFee,totalEstimatedPrice:Oe.totalEstimatedPrice,sellerEarnings:Oe.sellerEarnings,manualSize:o.manualSize||"",deliveryDays:parseInt(o.deliveryDays,10),location:{country:c.country,state:c.state,city:c.city||"",address:c.address||""}},_e=await cn(Ie(J,"products"),ke);console.log("Product uploaded with ID:",_e.id),p(!0),l({sellerName:"",name:"",description:"",price:"",stock:"",category:"",subcategory:"",subSubcategory:"",colors:[],sizes:[],condition:"New",productUrl:"",images:[],videos:[],tags:[],manualSize:"",deliveryDays:""}),d({country:"",state:"",city:"",address:""}),x([]),N([]),S([]),A([]),localStorage.removeItem("sellerProductForm"),localStorage.removeItem("sellerLocationForm"),localStorage.removeItem("sellerProductImages"),localStorage.removeItem("sellerProductPreviews"),localStorage.removeItem("sellerProductVideos"),localStorage.removeItem("sellerProductVideoPreviews"),Nt.current&&(Nt.current.value=""),_t.current&&(_t.current.value=""),jt.current&&(jt.current.value=""),X([]),W(!1),G(!1),re(!1),he(!1),Be({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),De(!1)}catch(ye){console.error("Error uploading product:",{message:ye.message,stack:ye.stack,code:ye.code}),a(ye.message||"Failed to upload product.","error")}finally{I(!1)}},ze=()=>o.category==="Clothing"&&o.subcategory?o.subcategory==="Men"?ys:It:o.category==="Footwear"&&o.subcategory?Wt:o.category==="Perfumes"&&o.subSubcategory?.startsWith("Oil -")?sr:[];return z?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-7xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("h2",{className:"text-xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-package text-blue-500"}),"Add a New Product"]}),n.jsx(ve,{to:"/bulk-upload",className:"inline-block px-1 py-1 bg-[#112d4e] text-white rounded hover:bg-blue-700 font-semibold shadow",children:"Bulk Upload"})]}),n.jsxs("form",{onSubmit:ne,className:"space-y-6 sm:space-y-8",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Images (up to ",Jt,") ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Upload up to 8 images (JPEG, PNG, etc.)"})]}),n.jsxs("div",{ref:Ft,onDrop:As,onDragOver:ws,onDragLeave:Us,className:`mt-1 w-full p-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center min-h-[200px] transition-colors ${D.images?"border-red-500":"border-gray-300 hover:border-blue-500 dark:border-gray-600"} ${E?"opacity-50":""}`,children:[v.length===0?n.jsxs("div",{className:"text-center",children:[n.jsx("i",{className:"bx bx-cloud-upload text-5xl text-gray-600 dark:text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:de?n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>_t.current.click(),className:"text-blue-600 hover:underline",disabled:E,children:"Upload one image"})," or ",n.jsxs("button",{type:"button",onClick:()=>Nt.current.click(),className:"text-blue-600 hover:underline",disabled:E,children:["select up to ",Jt," images"]})]}):n.jsxs(n.Fragment,{children:["Drag and drop up to ",Jt," images or"," ",n.jsx("button",{type:"button",onClick:()=>Nt.current.click(),className:"text-blue-600 hover:underline",disabled:E,children:"select images"})]})}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"(JPEG, JPG, PNG, WEBP, GIF, max 5MB each)"})]}):n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 w-full",children:v.map((ae,Ce)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:ae,alt:`Preview ${Ce+1}`,className:"w-full h-48 object-cover rounded-md border border-gray-200 dark:border-gray-600 cursor-pointer shadow-sm",onClick:()=>et({type:"image",src:ae})}),n.jsx("button",{type:"button",onClick:()=>Os(Ce),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 shadow-sm",disabled:E,title:"Remove image",children:n.jsx("i",{className:"bx bx-x text-sm"})})]},Ce))}),n.jsx("input",{ref:Nt,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:pr,className:"hidden",disabled:E,multiple:!0}),n.jsx("input",{ref:_t,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:Vs,className:"hidden",disabled:E})]}),D.images&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.images]}),de&&v.length>0&&v.length<Jt&&n.jsx("button",{type:"button",onClick:()=>_t.current.click(),className:"mt-2 text-blue-600 hover:underline text-sm",disabled:E,children:"Add another image"}),M>0&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${M}%`}})})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Product Video (1 video, Optional)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Upload one video (MP4, MKV, WEBM, max 10MB, 30s, no audio)"})]}),n.jsxs("div",{className:`mt-1 w-full p-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center min-h-[200px] transition-colors ${D.videos?"border-red-500":"border-gray-300 hover:border-blue-500 dark:border-gray-600"} ${E?"opacity-50":""}`,children:[R.length===0?n.jsxs("div",{className:"text-center",children:[n.jsx("i",{className:"bx bx-video-plus text-5xl text-gray-600 dark:text-gray-400"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Drag and drop a video or"," ",n.jsx("button",{type:"button",onClick:()=>jt.current.click(),className:"text-blue-600 hover:underline",disabled:E,children:"select a video"})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"(MP4, MKV, WEBM, max 10MB, under 30 seconds, no audio)"})]}):n.jsx("div",{className:"w-full",children:R.map((ae,Ce)=>n.jsxs("div",{className:"relative",children:[n.jsx("video",{src:ae,controls:!0,className:"w-full h-[255px] object-cover rounded-md border border-gray-200 dark:border-gray-600 cursor-pointer shadow-sm md:w-full md:h-auto",onClick:()=>et({type:"video",src:ae})}),n.jsx("button",{type:"button",onClick:()=>Ls(Ce),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 shadow-sm",disabled:E,title:"Remove video",children:n.jsx("i",{className:"bx bx-x text-sm"})})]},Ce))}),n.jsx("input",{ref:jt,type:"file",accept:"video/mp4,video/mkv,video/webm",onChange:es,className:"hidden",disabled:E})]}),D.videos&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.videos]}),M>0&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${M}%`}})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-info-circle text-blue-500"}),"Product Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Seller Name ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Your registered name"})]}),n.jsx("input",{type:"text",name:"sellerName",value:o.sellerName,placeholder:"Enter your full name",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:!0}),D.sellerName&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.sellerName]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Product Name ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Name of the product"})]}),n.jsx("input",{type:"text",name:"name",value:o.name,onChange:gs,placeholder:"e.g., Men's Leather Jacket",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${D.name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:E}),D.name&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.name]})]})]}),n.jsxs("div",{className:"mt-6 relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Description",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Describe your product with optional bold, italic, or code formatting"})]}),n.jsxs("div",{className:"mt-1",children:[n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("button",{type:"button",onClick:()=>Re("bold"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:E,title:"Bold text (**text**)",children:n.jsx("i",{className:"bx bx-bold text-lg group-hover:text-blue-500"})}),n.jsx("button",{type:"button",onClick:()=>Re("italic"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:E,title:"Italic text (*text*)",children:n.jsx("i",{className:"bx bx-italic text-lg group-hover:text-blue-500"})}),n.jsx("button",{type:"button",onClick:()=>Re("code"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:E,title:"Code text (`text`)",children:n.jsx("i",{className:"bx bx-code text-lg group-hover:text-blue-500"})})]}),n.jsx("textarea",{ref:Zt,name:"description",value:o.description,onChange:gs,placeholder:"e.g., **Premium leather** jacket with *stylish stitching*",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${D.description?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,rows:"4",disabled:E}),o.description&&n.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-gray-700 dark:text-gray-300",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Preview"}),n.jsx("div",{className:"prose prose-sm dark:prose-invert",dangerouslySetInnerHTML:{__html:ut}})]})]}),D.description&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.description]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-money text-blue-500"}),"Pricing & Stock"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Price () ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Price in Naira"})]}),n.jsx("input",{type:"number",name:"price",value:o.price,onChange:gs,step:"0.01",min:"0",placeholder:"e.g., 5000.00",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${D.price?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:E}),D.price&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.price]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Stock Quantity ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Available stock"})]}),n.jsx("input",{type:"number",name:"stock",value:o.stock,onChange:gs,min:"0",placeholder:"e.g., 10",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${D.stock?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:E}),D.stock&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.stock]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Delivery Days ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Estimated delivery time in days"})]}),n.jsx("input",{type:"number",name:"deliveryDays",value:o.deliveryDays,onChange:gs,min:"1",placeholder:"e.g., 3",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${D.deliveryDays?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:E}),D.deliveryDays&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.deliveryDays]})]})]}),n.jsxs("div",{className:"mt-6 relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Weight",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product weight"})]}),n.jsxs("select",{name:"manualSize",value:o.manualSize,onChange:gs,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${D.manualSize?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:E,children:[n.jsx("option",{value:"",children:"Select a size"}),ms.map(ae=>n.jsx("option",{value:ae,children:ae},ae))]}),D.manualSize&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.manualSize]})]}),Oe.productSize&&Rt&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-calculator text-blue-500"}),"Foremade Fees"]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[n.jsxs("p",{children:["Category: ",n.jsx("span",{className:"font-semibold",children:Oe.productSize})]}),n.jsxs("p",{className:"hidden",children:["Buyer Protection Fee (",(Rt[Oe.productSize]?.buyerProtectionRate*100).toFixed(2),"%): ",Oe.buyerProtectionFee.toLocaleString("en-NG",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"hidden",children:["Handling Fee (",(Rt[Oe.productSize]?.handlingRate*100).toFixed(2),"%): ",Oe.handlingFee.toLocaleString("en-NG",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"font-bold",children:["Total Estimated Price for Buyer: ",Oe.totalEstimatedPrice.toLocaleString("en-NG",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"font-bold text-green-600",children:["Your Estimated Earnings: ",Oe.sellerEarnings.toLocaleString("en-NG",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:"Note: International shipping costs can be added separately."})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-category text-blue-500"}),"Category & Subcategory"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product category"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsxs("button",{type:"button",onClick:()=>G(!B),className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${D.category?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 flex justify-between items-center transition-all duration-200`,disabled:E||be.length===0,children:[n.jsx("span",{children:o.category||"Select a category"}),n.jsx("i",{className:"bx bx-chevron-down text-gray-500 dark:text-gray-400"})]}),B&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:be.length===0?n.jsx("div",{className:"p-2 text-sm text-gray-500 dark:text-gray-400",children:"No categories available"}):be.map(ae=>n.jsx("button",{type:"button",onClick:()=>{l(Ce=>({...Ce,category:ae,subcategory:"",subSubcategory:"",sizes:[]})),G(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:ae},ae))})]}),D.category&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.category]}),be.length===0&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),"Loading categories..."]}),o.category&&o.category.toLowerCase().includes("food")&&n.jsxs("p",{className:"text-gray-500 text-xs mt-3 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-info-circle"}),"All food-related categories must meet NAFDAC/FSA food safety standards."]})]}),o.category&&n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Subcategory",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or type a subcategory"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("input",{type:"text",value:o.subcategory,onChange:ae=>l(Ce=>({...Ce,subcategory:ae.target.value,subSubcategory:"",sizes:[]})),onFocus:()=>re(!0),onBlur:()=>setTimeout(()=>re(!1),200),placeholder:"Select or type a subcategory",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${D.subcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:E||!me[o.category]}),te&&me[o.category]&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:me[o.category].filter(ae=>ae.toLowerCase().includes(o.subcategory.toLowerCase())).map(ae=>n.jsx("button",{type:"button",onClick:()=>{l(Ce=>({...Ce,subcategory:ae,subSubcategory:"",sizes:[]})),re(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:ae},ae))}),!me[o.category]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),"Loading subcategories..."]}),D.subcategory&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.subcategory]})]})]}),o.subcategory&&xe[o.category]?.[o.subcategory]&&n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Sub-Subcategory",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or type a sub-subcategory"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("input",{type:"text",value:o.subSubcategory,onChange:ae=>l(Ce=>({...Ce,subSubcategory:ae.target.value,sizes:[]})),onFocus:()=>he(!0),onBlur:()=>setTimeout(()=>he(!1),200),placeholder:"Select or type a sub-subcategory",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${D.subSubcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:E||!xe[o.category]?.[o.subcategory]}),ie&&xe[o.category]?.[o.subcategory]&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:xe[o.category][o.subcategory].filter(ae=>ae.toLowerCase().includes(o.subSubcategory.toLowerCase())).map(ae=>n.jsx("button",{type:"button",onClick:()=>{l(Ce=>({...Ce,subSubcategory:ae,sizes:[]})),he(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:ae},ae))}),D.subSubcategory&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.subSubcategory]})]})]})]})]}),(o.category==="Clothing"||o.category==="Footwear"||o.category==="Perfumes")&&o.subcategory&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-ruler text-blue-500"}),"Sizes"]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Sizes ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or enter sizes"})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ze().map(ae=>n.jsx("button",{type:"button",onClick:()=>Lt(ae),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${o.sizes.includes(ae)?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${E?"opacity-50 cursor-not-allowed":""}`,disabled:E,children:ae},ae))}),n.jsx("div",{className:"relative mt-2",children:n.jsx("input",{type:"text",placeholder:"Enter custom size (e.g., Size 35) and press Enter",onKeyDown:yt,className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${D.sizes?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:E})}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.sizes.map(ae=>n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[n.jsx("span",{children:ae}),n.jsx("button",{type:"button",onClick:()=>ue(ae),className:"text-red-500 hover:text-red-700",disabled:E,title:"Remove size",children:n.jsx("i",{className:"bx bx-x"})})]},ae))}),D.sizes&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.sizes]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-color-fill text-blue-500"}),"Colors"]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Colors",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or enter colors"})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2",children:o.colors.map(ae=>{const Ce=Xt.find(se=>se.name.toLowerCase()===ae.toLowerCase());return n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[n.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Ce||Ce?Ce.hex:"#000000"}}),n.jsx("span",{children:ae}),n.jsx("button",{type:"button",onClick:()=>tt(ae),className:"text-red-500 hover:text-red-700",disabled:E,title:"Remove color",children:n.jsx("i",{className:"bx bx-x"})})]},ae)})}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:V,onChange:pe,onKeyDown:Qe,placeholder:"Type a color and press Enter",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${D.colors?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:E}),ee&&Y.length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:Y.map(ae=>n.jsxs("button",{type:"button",onClick:()=>_r(ae.name),className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:ae.hex}}),ae.name]},ae.name))})]}),D.colors&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.colors]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-purchase-tag text-blue-500"}),"Tags"]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Tags",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or enter tags to improve product visibility"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 mb-2",children:[ot.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:ot.map(ae=>n.jsx("button",{type:"button",onClick:()=>ge(ae),className:"px-3 py-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm shadow-sm",disabled:E,children:ae},ae))}),o.tags.map(ae=>n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[n.jsx("span",{children:ae}),n.jsx("button",{type:"button",onClick:()=>ge(ae),className:"text-red-500 hover:text-red-700",disabled:E,title:"Remove tag",children:n.jsx("i",{className:"bx bx-x"})})]},ae))]}),n.jsx("input",{type:"text",onKeyDown:ae=>{if(ae.key==="Enter"&&ae.target.value.trim()){const Ce=ae.target.value.trim();if(o.tags.length>=10){a("Maximum 10 tags allowed.","error");return}if(Ce.length>20){a("Tag must be 20 characters or less.","error");return}l(se=>({...se,tags:se.tags.includes(Ce)?se.tags:[...se.tags,Ce]})),ae.target.value=""}},placeholder:"Type a tag and press Enter",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${D.tags?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:E}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:"Authenticity tags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["Verified","Original","Hand Made","Authentic"].map(ae=>n.jsx("button",{type:"button",onClick:()=>l(Ce=>({...Ce,condition:ae})),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${o.condition===ae?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${E?"opacity-50 cursor-not-allowed":""}`,disabled:E,children:ae},ae))})]}),D.tags&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.tags]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-check-shield text-blue-500"}),"Condition"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["New","Used","Refurbished"].map(ae=>n.jsx("button",{type:"button",onClick:()=>l(Ce=>({...Ce,condition:ae})),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${o.condition===ae?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${E?"opacity-50 cursor-not-allowed":""}`,disabled:E,children:ae},ae))}),D.condition&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),D.condition]})]}),n.jsx(ve,{to:"/products-upload-variant",className:"text-white hover:underline",children:n.jsx("button",{className:"p-2 mt-5 rounded-lg bg-blue-500",children:"Variants Upload?"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-map text-blue-500"}),"Location"]}),n.jsx(gp,{locationData:c,setLocationData:d,errors:u,disabled:E})]}),n.jsx("div",{className:"mt-8 flex items-center justify-start",children:n.jsxs("label",{className:"flex items-center gap-2 text-blue-900 font-semibold",children:[n.jsx("input",{type:"checkbox",checked:r,onChange:ae=>e(ae.target.checked),className:"accent-blue-600 w-4 h-4"}),"I have read and understood the ",n.jsx("a",{href:"/guidelines",className:"underline text-blue-700",children:"Product Upload Guidelines"})]})}),n.jsx("div",{className:"mt-8 flex justify-end",children:n.jsx("button",{type:"submit",className:`px-6 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition-colors flex items-center gap-2 ${E||!r?"opacity-50 cursor-not-allowed":""}`,disabled:E||!r,title:r?"":"Please read the guidelines before proceeding.",children:E?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"bx bx-loader bx-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"bx bx-upload"}),"Add Product"]})})})]}),n.jsx(v3,{alerts:s,removeAlert:i}),m&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-md w-full text-center",children:[n.jsx("i",{className:"bx bx-check-circle text-5xl text-green-500 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Product Added Successfully!"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Your product has been uploaded and is now awaiting admin approval."}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx("button",{onClick:()=>t("/seller/products"),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500",children:"View Products"}),n.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Another"})]})]})}),rt&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:n.jsxs("div",{className:"relative max-w-4xl w-full",children:[n.jsx("button",{onClick:()=>et(null),className:"absolute top-4 right-4 text-white text-2xl hover:text-gray-300",children:n.jsx("i",{className:"bx bx-x"})}),rt.type==="image"?n.jsx("img",{src:rt.src,alt:"Zoomed",className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"}):n.jsx("video",{src:rt.src,controls:!0,className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"})]})}),n.jsx(v3,{alerts:s,removeAlert:i})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]})}/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:l8,setPrototypeOf:w3,isFrozen:Que,getPrototypeOf:Jue,getOwnPropertyDescriptor:ehe}=Object;let{freeze:Ya,seal:Jn,create:c8}=Object,{apply:_k,construct:Ak}=typeof Reflect<"u"&&Reflect;Ya||(Ya=function(e){return e});Jn||(Jn=function(e){return e});_k||(_k=function(e,t){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i];return e.apply(t,a)});Ak||(Ak=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return new e(...s)});const J0=Ga(Array.prototype.forEach),the=Ga(Array.prototype.lastIndexOf),N3=Ga(Array.prototype.pop),xm=Ga(Array.prototype.push),she=Ga(Array.prototype.splice),Rb=Ga(String.prototype.toLowerCase),ON=Ga(String.prototype.toString),LN=Ga(String.prototype.match),bm=Ga(String.prototype.replace),rhe=Ga(String.prototype.indexOf),ahe=Ga(String.prototype.trim),oi=Ga(Object.prototype.hasOwnProperty),Ba=Ga(RegExp.prototype.test),ym=nhe(TypeError);function Ga(r){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return _k(r,e,s)}}function nhe(r){return function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Ak(r,t)}}function bs(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rb;w3&&w3(r,null);let s=e.length;for(;s--;){let a=e[s];if(typeof a=="string"){const i=t(a);i!==a&&(Que(e)||(e[s]=i),a=i)}r[a]=!0}return r}function ihe(r){for(let e=0;e<r.length;e++)oi(r,e)||(r[e]=null);return r}function Po(r){const e=c8(null);for(const[t,s]of l8(r))oi(r,t)&&(Array.isArray(s)?e[t]=ihe(s):s&&typeof s=="object"&&s.constructor===Object?e[t]=Po(s):e[t]=s);return e}function vm(r,e){for(;r!==null;){const s=ehe(r,e);if(s){if(s.get)return Ga(s.get);if(typeof s.value=="function")return Ga(s.value)}r=Jue(r)}function t(){return null}return t}const j3=Ya(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),FN=Ya(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),UN=Ya(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ohe=Ya(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zN=Ya(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),lhe=Ya(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),k3=Ya(["#text"]),S3=Ya(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),BN=Ya(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_3=Ya(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),eb=Ya(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),che=Jn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),dhe=Jn(/<%[\w\W]*|[\w\W]*%>/gm),uhe=Jn(/\$\{[\w\W]*/gm),hhe=Jn(/^data-[\-\w.\u00B7-\uFFFF]+$/),fhe=Jn(/^aria-[\-\w]+$/),d8=Jn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mhe=Jn(/^(?:\w+script|data):/i),ghe=Jn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),u8=Jn(/^html$/i),phe=Jn(/^[a-z][.\w]*(-[.\w]+)+$/i);var A3=Object.freeze({__proto__:null,ARIA_ATTR:fhe,ATTR_WHITESPACE:ghe,CUSTOM_ELEMENT:phe,DATA_ATTR:hhe,DOCTYPE_NAME:u8,ERB_EXPR:dhe,IS_ALLOWED_URI:d8,IS_SCRIPT_OR_DATA:mhe,MUSTACHE_EXPR:che,TMPLIT_EXPR:uhe});const wm={element:1,text:3,progressingInstruction:7,comment:8,document:9},xhe=function(){return typeof window>"u"?null:window},bhe=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(s=t.getAttribute(a));const i="dompurify"+(s?"#"+s:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},C3=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function h8(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xhe();const e=He=>h8(He);if(e.version="3.2.7",e.removed=[],!r||!r.document||r.document.nodeType!==wm.document||!r.Element)return e.isSupported=!1,e;let{document:t}=r;const s=t,a=s.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:f,DOMParser:m,trustedTypes:p}=r,y=c.prototype,x=vm(y,"cloneNode"),v=vm(y,"remove"),N=vm(y,"nextSibling"),k=vm(y,"childNodes"),S=vm(y,"parentNode");if(typeof o=="function"){const He=t.createElement("template");He.content&&He.content.ownerDocument&&(t=He.content.ownerDocument)}let R,A="";const{implementation:D,createNodeIterator:P,createDocumentFragment:E,getElementsByTagName:I}=t,{importNode:M}=s;let L=C3();e.isSupported=typeof l8=="function"&&typeof S=="function"&&D&&D.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:z,ERB_EXPR:F,TMPLIT_EXPR:V,DATA_ATTR:$,ARIA_ATTR:Y,IS_SCRIPT_OR_DATA:X,ATTR_WHITESPACE:ee,CUSTOM_ELEMENT:W}=A3;let{IS_ALLOWED_URI:B}=A3,G=null;const te=bs({},[...j3,...FN,...UN,...zN,...k3]);let re=null;const ie=bs({},[...S3,...BN,..._3,...eb]);let he=Object.seal(c8(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),le=null,De=null,Oe=!0,Be=!0,de=!1,Ye=!0,be=!1,Q=!0,me=!1,We=!1,xe=!1,Je=!1,ot=!1,lt=!1,rt=!0,et=!1;const Rt="user-content-";let Tt=!0,ut=!1,At={},st=null;const qe=bs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let xt=null;const Nt=bs({},["audio","video","img","source","image","track"]);let _t=null;const jt=bs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ft="http://www.w3.org/1998/Math/MathML",Zt="http://www.w3.org/2000/svg",Xt="http://www.w3.org/1999/xhtml";let ys=Xt,It=!1,Wt=null;const sr=bs({},[Ft,Zt,Xt],ON);let ms=bs({},["mi","mo","mn","ms","mtext"]),Jt=bs({},["annotation-xml"]);const vs=bs({},["title","style","font","a","script"]);let ss=null;const Ms=["application/xhtml+xml","text/html"],gs="text/html";let Bt=null,es=null;const pr=t.createElement("form"),Vs=function(ne){return ne instanceof RegExp||ne instanceof Function},As=function(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(es&&es===ne)){if((!ne||typeof ne!="object")&&(ne={}),ne=Po(ne),ss=Ms.indexOf(ne.PARSER_MEDIA_TYPE)===-1?gs:ne.PARSER_MEDIA_TYPE,Bt=ss==="application/xhtml+xml"?ON:Rb,G=oi(ne,"ALLOWED_TAGS")?bs({},ne.ALLOWED_TAGS,Bt):te,re=oi(ne,"ALLOWED_ATTR")?bs({},ne.ALLOWED_ATTR,Bt):ie,Wt=oi(ne,"ALLOWED_NAMESPACES")?bs({},ne.ALLOWED_NAMESPACES,ON):sr,_t=oi(ne,"ADD_URI_SAFE_ATTR")?bs(Po(jt),ne.ADD_URI_SAFE_ATTR,Bt):jt,xt=oi(ne,"ADD_DATA_URI_TAGS")?bs(Po(Nt),ne.ADD_DATA_URI_TAGS,Bt):Nt,st=oi(ne,"FORBID_CONTENTS")?bs({},ne.FORBID_CONTENTS,Bt):qe,le=oi(ne,"FORBID_TAGS")?bs({},ne.FORBID_TAGS,Bt):Po({}),De=oi(ne,"FORBID_ATTR")?bs({},ne.FORBID_ATTR,Bt):Po({}),At=oi(ne,"USE_PROFILES")?ne.USE_PROFILES:!1,Oe=ne.ALLOW_ARIA_ATTR!==!1,Be=ne.ALLOW_DATA_ATTR!==!1,de=ne.ALLOW_UNKNOWN_PROTOCOLS||!1,Ye=ne.ALLOW_SELF_CLOSE_IN_ATTR!==!1,be=ne.SAFE_FOR_TEMPLATES||!1,Q=ne.SAFE_FOR_XML!==!1,me=ne.WHOLE_DOCUMENT||!1,Je=ne.RETURN_DOM||!1,ot=ne.RETURN_DOM_FRAGMENT||!1,lt=ne.RETURN_TRUSTED_TYPE||!1,xe=ne.FORCE_BODY||!1,rt=ne.SANITIZE_DOM!==!1,et=ne.SANITIZE_NAMED_PROPS||!1,Tt=ne.KEEP_CONTENT!==!1,ut=ne.IN_PLACE||!1,B=ne.ALLOWED_URI_REGEXP||d8,ys=ne.NAMESPACE||Xt,ms=ne.MATHML_TEXT_INTEGRATION_POINTS||ms,Jt=ne.HTML_INTEGRATION_POINTS||Jt,he=ne.CUSTOM_ELEMENT_HANDLING||{},ne.CUSTOM_ELEMENT_HANDLING&&Vs(ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(he.tagNameCheck=ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ne.CUSTOM_ELEMENT_HANDLING&&Vs(ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(he.attributeNameCheck=ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ne.CUSTOM_ELEMENT_HANDLING&&typeof ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(he.allowCustomizedBuiltInElements=ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),be&&(Be=!1),ot&&(Je=!0),At&&(G=bs({},k3),re=[],At.html===!0&&(bs(G,j3),bs(re,S3)),At.svg===!0&&(bs(G,FN),bs(re,BN),bs(re,eb)),At.svgFilters===!0&&(bs(G,UN),bs(re,BN),bs(re,eb)),At.mathMl===!0&&(bs(G,zN),bs(re,_3),bs(re,eb))),ne.ADD_TAGS&&(G===te&&(G=Po(G)),bs(G,ne.ADD_TAGS,Bt)),ne.ADD_ATTR&&(re===ie&&(re=Po(re)),bs(re,ne.ADD_ATTR,Bt)),ne.ADD_URI_SAFE_ATTR&&bs(_t,ne.ADD_URI_SAFE_ATTR,Bt),ne.FORBID_CONTENTS&&(st===qe&&(st=Po(st)),bs(st,ne.FORBID_CONTENTS,Bt)),Tt&&(G["#text"]=!0),me&&bs(G,["html","head","body"]),G.table&&(bs(G,["tbody"]),delete le.tbody),ne.TRUSTED_TYPES_POLICY){if(typeof ne.TRUSTED_TYPES_POLICY.createHTML!="function")throw ym('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ne.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ym('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=ne.TRUSTED_TYPES_POLICY,A=R.createHTML("")}else R===void 0&&(R=bhe(p,a)),R!==null&&typeof A=="string"&&(A=R.createHTML(""));Ya&&Ya(ne),es=ne}},ws=bs({},[...FN,...UN,...ohe]),Us=bs({},[...zN,...lhe]),Os=function(ne){let ze=S(ne);(!ze||!ze.tagName)&&(ze={namespaceURI:ys,tagName:"template"});const ae=Rb(ne.tagName),Ce=Rb(ze.tagName);return Wt[ne.namespaceURI]?ne.namespaceURI===Zt?ze.namespaceURI===Xt?ae==="svg":ze.namespaceURI===Ft?ae==="svg"&&(Ce==="annotation-xml"||ms[Ce]):!!ws[ae]:ne.namespaceURI===Ft?ze.namespaceURI===Xt?ae==="math":ze.namespaceURI===Zt?ae==="math"&&Jt[Ce]:!!Us[ae]:ne.namespaceURI===Xt?ze.namespaceURI===Zt&&!Jt[Ce]||ze.namespaceURI===Ft&&!ms[Ce]?!1:!Us[ae]&&(vs[ae]||!ws[ae]):!!(ss==="application/xhtml+xml"&&Wt[ne.namespaceURI]):!1},Ls=function(ne){xm(e.removed,{element:ne});try{S(ne).removeChild(ne)}catch{v(ne)}},_r=function(ne,ze){try{xm(e.removed,{attribute:ze.getAttributeNode(ne),from:ze})}catch{xm(e.removed,{attribute:null,from:ze})}if(ze.removeAttribute(ne),ne==="is")if(Je||ot)try{Ls(ze)}catch{}else try{ze.setAttribute(ne,"")}catch{}},pe=function(ne){let ze=null,ae=null;if(xe)ne="<remove></remove>"+ne;else{const ye=LN(ne,/^[\r\n\t ]+/);ae=ye&&ye[0]}ss==="application/xhtml+xml"&&ys===Xt&&(ne='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ne+"</body></html>");const Ce=R?R.createHTML(ne):ne;if(ys===Xt)try{ze=new m().parseFromString(Ce,ss)}catch{}if(!ze||!ze.documentElement){ze=D.createDocument(ys,"template",null);try{ze.documentElement.innerHTML=It?A:Ce}catch{}}const se=ze.body||ze.documentElement;return ne&&ae&&se.insertBefore(t.createTextNode(ae),se.childNodes[0]||null),ys===Xt?I.call(ze,me?"html":"body")[0]:me?ze.documentElement:se},Qe=function(ne){return P.call(ne.ownerDocument||ne,ne,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},tt=function(ne){return ne instanceof f&&(typeof ne.nodeName!="string"||typeof ne.textContent!="string"||typeof ne.removeChild!="function"||!(ne.attributes instanceof u)||typeof ne.removeAttribute!="function"||typeof ne.setAttribute!="function"||typeof ne.namespaceURI!="string"||typeof ne.insertBefore!="function"||typeof ne.hasChildNodes!="function")},Lt=function(ne){return typeof l=="function"&&ne instanceof l};function yt(He,ne,ze){J0(He,ae=>{ae.call(e,ne,ze,es)})}const ue=function(ne){let ze=null;if(yt(L.beforeSanitizeElements,ne,null),tt(ne))return Ls(ne),!0;const ae=Bt(ne.nodeName);if(yt(L.uponSanitizeElement,ne,{tagName:ae,allowedTags:G}),Q&&ne.hasChildNodes()&&!Lt(ne.firstElementChild)&&Ba(/<[/\w!]/g,ne.innerHTML)&&Ba(/<[/\w!]/g,ne.textContent)||ne.nodeType===wm.progressingInstruction||Q&&ne.nodeType===wm.comment&&Ba(/<[/\w]/g,ne.data))return Ls(ne),!0;if(!G[ae]||le[ae]){if(!le[ae]&&Re(ae)&&(he.tagNameCheck instanceof RegExp&&Ba(he.tagNameCheck,ae)||he.tagNameCheck instanceof Function&&he.tagNameCheck(ae)))return!1;if(Tt&&!st[ae]){const Ce=S(ne)||ne.parentNode,se=k(ne)||ne.childNodes;if(se&&Ce){const ye=se.length;for(let Le=ye-1;Le>=0;--Le){const ke=x(se[Le],!0);ke.__removalCount=(ne.__removalCount||0)+1,Ce.insertBefore(ke,N(ne))}}}return Ls(ne),!0}return ne instanceof c&&!Os(ne)||(ae==="noscript"||ae==="noembed"||ae==="noframes")&&Ba(/<\/no(script|embed|frames)/i,ne.innerHTML)?(Ls(ne),!0):(be&&ne.nodeType===wm.text&&(ze=ne.textContent,J0([z,F,V],Ce=>{ze=bm(ze,Ce," ")}),ne.textContent!==ze&&(xm(e.removed,{element:ne.cloneNode()}),ne.textContent=ze)),yt(L.afterSanitizeElements,ne,null),!1)},ge=function(ne,ze,ae){if(rt&&(ze==="id"||ze==="name")&&(ae in t||ae in pr))return!1;if(!(Be&&!De[ze]&&Ba($,ze))){if(!(Oe&&Ba(Y,ze))){if(!re[ze]||De[ze]){if(!(Re(ne)&&(he.tagNameCheck instanceof RegExp&&Ba(he.tagNameCheck,ne)||he.tagNameCheck instanceof Function&&he.tagNameCheck(ne))&&(he.attributeNameCheck instanceof RegExp&&Ba(he.attributeNameCheck,ze)||he.attributeNameCheck instanceof Function&&he.attributeNameCheck(ze,ne))||ze==="is"&&he.allowCustomizedBuiltInElements&&(he.tagNameCheck instanceof RegExp&&Ba(he.tagNameCheck,ae)||he.tagNameCheck instanceof Function&&he.tagNameCheck(ae))))return!1}else if(!_t[ze]){if(!Ba(B,bm(ae,ee,""))){if(!((ze==="src"||ze==="xlink:href"||ze==="href")&&ne!=="script"&&rhe(ae,"data:")===0&&xt[ne])){if(!(de&&!Ba(X,bm(ae,ee,"")))){if(ae)return!1}}}}}}return!0},Re=function(ne){return ne!=="annotation-xml"&&LN(ne,W)},ct=function(ne){yt(L.beforeSanitizeAttributes,ne,null);const{attributes:ze}=ne;if(!ze||tt(ne))return;const ae={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:re,forceKeepAttr:void 0};let Ce=ze.length;for(;Ce--;){const se=ze[Ce],{name:ye,namespaceURI:Le,value:ke}=se,_e=Bt(ye),at=ke;let it=ye==="value"?at:ahe(at);if(ae.attrName=_e,ae.attrValue=it,ae.keepAttr=!0,ae.forceKeepAttr=void 0,yt(L.uponSanitizeAttribute,ne,ae),it=ae.attrValue,et&&(_e==="id"||_e==="name")&&(_r(ye,ne),it=Rt+it),Q&&Ba(/((--!?|])>)|<\/(style|title|textarea)/i,it)){_r(ye,ne);continue}if(_e==="attributename"&&LN(it,"href")){_r(ye,ne);continue}if(ae.forceKeepAttr)continue;if(!ae.keepAttr){_r(ye,ne);continue}if(!Ye&&Ba(/\/>/i,it)){_r(ye,ne);continue}be&&J0([z,F,V],fr=>{it=bm(it,fr," ")});const hs=Bt(ne.nodeName);if(!ge(hs,_e,it)){_r(ye,ne);continue}if(R&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Le)switch(p.getAttributeType(hs,_e)){case"TrustedHTML":{it=R.createHTML(it);break}case"TrustedScriptURL":{it=R.createScriptURL(it);break}}if(it!==at)try{Le?ne.setAttributeNS(Le,ye,it):ne.setAttribute(ye,it),tt(ne)?Ls(ne):N3(e.removed)}catch{_r(ye,ne)}}yt(L.afterSanitizeAttributes,ne,null)},nt=function He(ne){let ze=null;const ae=Qe(ne);for(yt(L.beforeSanitizeShadowDOM,ne,null);ze=ae.nextNode();)yt(L.uponSanitizeShadowNode,ze,null),ue(ze),ct(ze),ze.content instanceof i&&He(ze.content);yt(L.afterSanitizeShadowDOM,ne,null)};return e.sanitize=function(He){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ze=null,ae=null,Ce=null,se=null;if(It=!He,It&&(He="<!-->"),typeof He!="string"&&!Lt(He))if(typeof He.toString=="function"){if(He=He.toString(),typeof He!="string")throw ym("dirty is not a string, aborting")}else throw ym("toString is not a function");if(!e.isSupported)return He;if(We||As(ne),e.removed=[],typeof He=="string"&&(ut=!1),ut){if(He.nodeName){const ke=Bt(He.nodeName);if(!G[ke]||le[ke])throw ym("root node is forbidden and cannot be sanitized in-place")}}else if(He instanceof l)ze=pe("<!---->"),ae=ze.ownerDocument.importNode(He,!0),ae.nodeType===wm.element&&ae.nodeName==="BODY"||ae.nodeName==="HTML"?ze=ae:ze.appendChild(ae);else{if(!Je&&!be&&!me&&He.indexOf("<")===-1)return R&&lt?R.createHTML(He):He;if(ze=pe(He),!ze)return Je?null:lt?A:""}ze&&xe&&Ls(ze.firstChild);const ye=Qe(ut?He:ze);for(;Ce=ye.nextNode();)ue(Ce),ct(Ce),Ce.content instanceof i&&nt(Ce.content);if(ut)return He;if(Je){if(ot)for(se=E.call(ze.ownerDocument);ze.firstChild;)se.appendChild(ze.firstChild);else se=ze;return(re.shadowroot||re.shadowrootmode)&&(se=M.call(s,se,!0)),se}let Le=me?ze.outerHTML:ze.innerHTML;return me&&G["!doctype"]&&ze.ownerDocument&&ze.ownerDocument.doctype&&ze.ownerDocument.doctype.name&&Ba(u8,ze.ownerDocument.doctype.name)&&(Le="<!DOCTYPE "+ze.ownerDocument.doctype.name+`>
`+Le),be&&J0([z,F,V],ke=>{Le=bm(Le,ke," ")}),R&&lt?R.createHTML(Le):Le},e.setConfig=function(){let He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};As(He),We=!0},e.clearConfig=function(){es=null,We=!1},e.isValidAttribute=function(He,ne,ze){es||As({});const ae=Bt(He),Ce=Bt(ne);return ge(ae,Ce,ze)},e.addHook=function(He,ne){typeof ne=="function"&&xm(L[He],ne)},e.removeHook=function(He,ne){if(ne!==void 0){const ze=the(L[He],ne);return ze===-1?void 0:she(L[He],ze,1)[0]}return N3(L[He])},e.removeHooks=function(He){L[He]=[]},e.removeAllHooks=function(){L=C3()},e}var yhe=h8();function C_({isOpen:r,onClose:e,message:t,icon:s,type:a}){return r?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-3",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg w-full max-w-md relative shadow-lg transform transition-all duration-300 animate-slide-in",children:[n.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300","aria-label":"Close popup",children:n.jsx("i",{className:"bx bx-x text-2xl"})}),n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx(Zse,{color:"blue",size:60}),n.jsx("h1",{className:"text-xl font-bold m-2",children:"Upload successful"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Your product is awaiting admin approval before going live. This would take around 24 hours."}),n.jsx("div",{className:"mt-6 flex gap-4",children:n.jsx("button",{onClick:e,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:"Close"})})]})]})}):null}C_.propTypes={isOpen:cs.bool.isRequired,onClose:cs.func.isRequired,message:cs.string,icon:cs.string,type:cs.oneOf(["success","question"]),showYesNoButtons:cs.bool,onYes:cs.func,onNo:cs.func};C_.defaultProps={message:"Action completed!",icon:"bx-check-circle",type:"success",showYesNoButtons:!1,onYes:()=>{},onNo:()=>{}};const vhe=["Verified","Original","Hand Made","Authentic"];function whe({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Nhe(){const[r,e]=C.useState([]),t=C.useCallback((a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},[]),s=C.useCallback(a=>{e(i=>i.filter(o=>o.id!==a))},[]);return{alerts:r,addAlert:t,removeAlert:s}}function jhe(){const r=_s(),{alerts:e,addAlert:t,removeAlert:s}=Nhe(),[a,i]=C.useState("variants"),[o,l]=C.useState(!1),[c,d]=C.useState({sellerName:"",name:"",description:"",category:"",subcategory:"",subSubcategory:"",colors:[],condition:"New",productUrl:"",tags:[],manualSize:"",price:"",stock:"",deliveryDays:""}),[u,f]=C.useState({country:"",state:"",city:"",address:""}),[m,p]=C.useState([{color:"",size:"",price:"",stock:"",images:[]}]),[y,x]=C.useState([[]]),[v,N]=C.useState([[]]),[k,S]=C.useState([]),[R,A]=C.useState([]),[D,P]=C.useState({}),[E,I]=C.useState({}),[M,L]=C.useState(!1),[z,F]=C.useState(0),[V,$]=C.useState(null),[Y,X]=C.useState(""),[ee,W]=C.useState([]),[B,G]=C.useState(!1),[te,re]=C.useState(!1),[ie,he]=C.useState(!1),[le,De]=C.useState(!1),[Oe,Be]=C.useState(!1),[de,Ye]=C.useState(!1),[be,Q]=C.useState([]),[me,We]=C.useState({}),[xe,Je]=C.useState({}),[ot,lt]=C.useState([]),[rt,et]=C.useState(null),[Rt,Tt]=C.useState(null),[ut,At]=C.useState(""),st=C.useRef([]),qe=C.useRef([]),xt=C.useRef(null),Nt=C.useRef(null),_t=4,jt=C.useMemo(()=>[{name:"Red",hex:"#ff0000"},{name:"Orange",hex:"#FFA500"},{name:"Blue",hex:"#0000ff"},{name:"Green",hex:"#008000"},{name:"Brown",hex:"#8b4513"},{name:"Black",hex:"#000000"},{name:"White",hex:"#ffffff"},{name:"Purple",hex:"#800080"},{name:"Pink",hex:"#ffc1cc"},{name:"Gray",hex:"#808080"},{name:"Yellow",hex:"#FFFF00"},{name:"Gold",hex:"#ff9a1d"},{name:"Silver",hex:"#e2f2ec"}],[]),Ft=C.useMemo(()=>["S","M","L","XL","XXL"],[]),Zt=C.useMemo(()=>["","4","6","8","10","12","14","16","18","20"],[]),Xt=C.useMemo(()=>['3"','5"','5.5"','6"','6.5"','7"','7.5"','8"','8.5"','9"','9.5"','10"','10.5"','11"','11.5"','12"','12.5"'],[]),ys=C.useMemo(()=>["30ml","50ml","60ml","75ml","100ml"],[]),It=C.useMemo(()=>["1 to 5kg","5 to 10kg ","10 to 20kg","20kg above"],[]);C.useEffect(()=>{st.current=Array(m.length).fill().map(()=>({current:null})),qe.current=Array(m.length).fill().map(()=>({current:null}))},[m.length]),C.useEffect(()=>()=>{v.forEach(ue=>ue.forEach(ge=>URL.revokeObjectURL(ge))),R.forEach(ue=>URL.revokeObjectURL(ue))},[v,R]),C.useEffect(()=>{const ue=is(Ie(J,"categories"),nt=>{const He=nt.docs.map(ne=>({id:ne.id,...ne.data()}));Q(He.map(ne=>ne.name))},nt=>{console.error("Error fetching categories:",nt),t("Failed to load categories.","error")}),ge=is(Ie(J,"customSubcategories"),nt=>{const He={};nt.forEach(ne=>{He[ne.id]=ne.data().subcategories||[]}),We(He)},nt=>{console.error("Error fetching subcategories:",nt),t("Failed to load subcategories.","error")}),Re=is(Ie(J,"customSubSubcategories"),nt=>{const He={};nt.forEach(ne=>{const ze=ne.id,ae=ne.data();He[ze]={},Object.entries(ae).forEach(([Ce,se])=>{He[ze][Ce]=Array.isArray(se)?se:[]})}),Je(He)},nt=>{console.error("Error fetching sub-subcategories:",nt),t("Failed to load sub-subcategories.","error")});return(async()=>{try{const nt=Te(J,"feeConfigurations","categoryFees"),He=await ft(nt);He.exists()?Tt(He.data()):t("No fee configurations found.","error")}catch(nt){console.error("Error fetching fee configurations:",nt),t("Failed to load fee configurations.","error")}})(),()=>{ue(),ge(),Re()}},[t]),C.useEffect(()=>{c.category&&!be.includes(c.category)&&(d(ue=>({...ue,category:"",subcategory:"",subSubcategory:""})),t("Selected category was removed by admin.","error")),c.subcategory&&!me[c.category]?.includes(c.subcategory)&&(d(ue=>({...ue,subcategory:"",subSubcategory:""})),t("Selected subcategory was removed by admin.","error")),c.subSubcategory&&!xe[c.category]?.[c.subcategory]?.includes(c.subSubcategory)&&(d(ue=>({...ue,subSubcategory:""})),t("Selected sub-subcategory was removed by admin.","error"))},[be,me,xe,c,t]),C.useEffect(()=>{const ue=Pe.onAuthStateChanged(ge=>{if(ge){$(ge);try{let Re=ge.displayName||"";Re&&Re.startsWith("{")&&(Re=JSON.parse(Re).name||""),d(ct=>({...ct,sellerName:Re}))}catch(Re){console.error("Error parsing displayName:",Re),t("Failed to load seller profile.","error")}}else t("Please log in to add products.","error"),r("/login")});return()=>ue()},[r,t]),C.useEffect(()=>{const ue=qs(c.description||"",{gfm:!0,breaks:!0});At(yhe.sanitize(ue))},[c.description]),C.useEffect(()=>{(()=>{const ge=`${c.name} ${c.description} ${c.subSubcategory}`.toLowerCase(),Re=[...vhe];ge.includes("leather")&&Re.push("Leather"),(ge.includes("shoe")||ge.includes("footwear"))&&Re.push("Footwear"),(ge.includes("phone")||ge.includes("mobile"))&&Re.push("Smartphone"),ge.includes("fashion")&&Re.push("Fashion"),ge.includes("vintage")&&Re.push("Vintage"),ge.includes("smart")&&Re.push("Smart"),lt(Re.filter(ct=>!c.tags.includes(ct)))})()},[c.name,c.description,c.subSubcategory]);const Wt=C.useCallback(()=>{const ue=Os().length>0?Os()[0]:"";p(ge=>[...ge,{color:"",size:ue,price:"",stock:"",images:[]}]),x(ge=>[...ge,[]]),N(ge=>[...ge,[]]),st.current.push({current:null}),qe.current.push({current:null})},[]),sr=C.useCallback(ue=>{p(ge=>ge.filter((Re,ct)=>ct!==ue)),x(ge=>ge.filter((Re,ct)=>ct!==ue)),N(ge=>((ge[ue]||[]).forEach(ct=>URL.revokeObjectURL(ct)),ge.filter((ct,nt)=>nt!==ue))),st.current.splice(ue,1),qe.current.splice(ue,1)},[]),ms=C.useCallback((ue,ge,Re)=>{p(ct=>ct.map((nt,He)=>He===ue?{...nt,[ge]:Re}:nt))},[]),Jt=C.useCallback((ue,ge,Re=!1)=>{const ct=Array.from(ge).filter(nt=>nt.type.startsWith("image/")&&nt.size<=5242880);if(Re){if(k.length+ct.length>_t){t(`Maximum ${_t} images allowed.`,"error");return}S(nt=>[...nt,...ct]),A(nt=>[...nt,...ct.map(He=>URL.createObjectURL(He))]),xt.current&&(xt.current.value="")}else{if((y[ue]?.length||0)+ct.length>_t){t(`Maximum ${_t} images allowed per variant.`,"error");return}x(nt=>{const He=[...nt];return He[ue]=[...He[ue]||[],...ct],He}),N(nt=>{const He=[...nt];return He[ue]=[...He[ue]||[],...ct.map(ne=>URL.createObjectURL(ne))],He}),qe.current[ue]?.current&&(qe.current[ue].current.value="")}},[y,k,t]),vs=C.useCallback((ue,ge,Re=!1)=>{Re?(S(ct=>ct.filter((nt,He)=>He!==ge)),A(ct=>{const nt=ct[ge],He=ct.filter((ne,ze)=>ze!==ge);return URL.revokeObjectURL(nt),He})):(x(ct=>{const nt=[...ct];return nt[ue]=nt[ue].filter((He,ne)=>ne!==ge),nt}),N(ct=>{const nt=[...ct],He=nt[ue][ge];return nt[ue]=nt[ue].filter((ne,ze)=>ze!==ge),URL.revokeObjectURL(He),nt}))},[]),ss=C.useCallback((ue,ge,Re=!1)=>{ue.preventDefault(),ue.stopPropagation(),Re&&xt.current?xt.current.classList.remove("border-blue-500"):st.current[ge]?.current&&st.current[ge].current.classList.remove("border-blue-500"),Jt(ge,ue.dataTransfer.files,Re)},[Jt]),Ms=C.useCallback((ue,ge,Re=!1)=>{ue.preventDefault(),ue.stopPropagation(),Re&&xt.current?xt.current.classList.add("border-blue-500"):st.current[ge]?.current&&st.current[ge].current.classList.add("border-blue-500")},[]),gs=C.useCallback((ue,ge,Re=!1)=>{ue.preventDefault(),ue.stopPropagation(),Re&&xt.current?xt.current.classList.remove("border-blue-500"):st.current[ge]?.current&&st.current[ge].current.classList.remove("border-blue-500")},[]),Bt=C.useCallback(ue=>{const{name:ge,value:Re}=ue.target;d(ct=>({...ct,[ge]:Re,...ge==="category"?{subcategory:"",subSubcategory:""}:{},...ge==="subcategory"?{subSubcategory:""}:{}})),I(ct=>({...ct,[ge]:""}))},[]),es=C.useCallback(ue=>{d(ge=>{const Re=ge.colors.includes(ue)?ge.colors.filter(ct=>ct!==ue):[...ge.colors,ue];return{...ge,colors:Re}}),X(""),G(!1)},[]),pr=C.useCallback(ue=>{const ge=ue.target.value;if(X(ge),ge.trim()===""){W([]),G(!1);return}const Re=jt.filter(ct=>ct.name.toLowerCase().includes(ge.toLowerCase()));W(Re),G(!0)},[jt]),Vs=C.useCallback(ue=>{if(ue.key==="Enter"&&Y.trim()){const ge=Y.trim();if(ge.length>20){t("Color name must be 20 characters or less.","error");return}d(Re=>{const ct=Re.colors.includes(ge)?Re.colors:[...Re.colors,ge];return{...Re,colors:ct}}),X(""),W([]),G(!1)}},[Y,t]),As=C.useCallback(ue=>{d(ge=>({...ge,colors:ge.colors.filter(Re=>Re!==ue)}))},[]),ws=C.useCallback(ue=>{d(ge=>{const Re=ge.tags.includes(ue)?ge.tags.filter(ct=>ct!==ue):[...ge.tags,ue];return{...ge,tags:Re}})},[]),Us=C.useCallback(ue=>{const ge=Nt.current;if(!ge)return;const Re=ge.selectionStart,ct=ge.selectionEnd,nt=c.description.substring(Re,ct);let He=c.description,ne=Re,ze=ct;ue==="bold"?nt?(He=He.substring(0,Re)+`**${nt}**`+He.substring(ct),ne=Re+2,ze=ct+2):(He=He.substring(0,Re)+"****"+He.substring(Re),ne=Re+2,ze=Re+2):ue==="italic"?nt?(He=He.substring(0,Re)+`*${nt}*`+He.substring(ct),ne=Re+1,ze=ct+1):(He=He.substring(0,Re)+"**"+He.substring(Re),ne=Re+1,ze=Re+1):ue==="code"&&(nt?(He=He.substring(0,Re)+`\`${nt}\``+He.substring(ct),ne=Re+1,ze=ct+1):(He=He.substring(0,Re)+"``"+He.substring(Re),ne=Re+1,ze=Re+1)),d(ae=>({...ae,description:He})),setTimeout(()=>{ge.selectionStart=ne,ge.selectionEnd=ze,ge.focus()},0)},[c.description]),Os=C.useMemo(()=>()=>c.category==="Clothing"&&c.subcategory?c.subcategory==="Men"?Ft:Zt:c.category==="Footwear"&&c.subcategory?Xt:c.category==="Perfumes"&&c.subSubcategory?.startsWith("Oil -")?ys:[],[c.category,c.subcategory,c.subSubcategory]),Ls=C.useCallback(()=>{const ue={};return c.sellerName.trim()||(ue.sellerName="Please enter your full name."),c.name.trim()||(ue.name="Product name is required."),(!c.category||!be.includes(c.category))&&(ue.category="Select a valid category."),c.manualSize||(ue.manualSize="Please select a product weight."),a==="single"?((!c.price||isNaN(c.price)||parseFloat(c.price)<=0)&&(ue.price="Enter a valid price greater than 0."),(!c.stock||isNaN(c.stock)||parseInt(c.stock,10)<0)&&(ue.stock="Enter a valid stock quantity (0 or more)."),k.length===0&&(ue.images="At least one image is required."),(!c.deliveryDays||isNaN(c.deliveryDays)||parseInt(c.deliveryDays,10)<=0)&&(ue.deliveryDays="Enter valid delivery days (1 or more).")):(m.length===0&&(ue.variants="At least one variant is required."),m.forEach((ge,Re)=>{ge.color.trim()||(ue[`variant${Re}_color`]="Color is required."),(!ge.price||isNaN(ge.price)||parseFloat(ge.price)<=0)&&(ue[`variant${Re}_price`]="Enter a valid price greater than 0."),(!ge.stock||isNaN(ge.stock)||parseInt(ge.stock,10)<0)&&(ue[`variant${Re}_stock`]="Enter a valid stock quantity (0 or more)."),(y[Re]?.length||0)===0&&(ue[`variant${Re}_images`]="At least one image is required per variant.")})),ue},[c,m,be,me,xe,y,k,a,Os]),_r=C.useCallback(()=>{const ue={};return u.country.trim()||(ue.country="Country is required."),u.state.trim()||(ue.state="State is required."),u.city.trim()||(ue.city="City is required."),ue},[u]),pe=C.useCallback(async ue=>{const ge=new FormData;ge.append("file",ue),ge.append("isVideo",!1);try{const ct=await os.post("https://foremade-backend.onrender.com/upload",ge,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4,onUploadProgress:nt=>{const He=Math.round(nt.loaded*100/nt.total);F(He)}});if(ct.status!==200||!ct.data.url)throw new Error("Failed to upload image to Cloudinary.");return ct.data.url}catch(Re){throw new Error(Re.code==="ECONNABORTED"?"Request timed out. Please check your network or try again later.":Re.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network or server status.":Re.response?.data?.error||"Failed to upload image.")}finally{F(0)}},[]),Qe=C.useCallback(async ue=>{if(ue.preventDefault(),I({}),P({}),L(!0),!V){t("You must be logged in to add products.","error"),L(!1),r("/login");return}const ge=Ls(),Re=_r();if(Object.keys(ge).length>0||Object.keys(Re).length>0){I(ge),P(Re),L(!1),Object.entries(ge).forEach(([ct,nt])=>t(nt,"error")),Object.entries(Re).forEach(([ct,nt])=>t(nt,"error"));return}try{let ct=[];a==="single"?ct=[await Promise.all(k.map(ze=>pe(ze)))]:ct=await Promise.all(y.map(async ze=>Promise.all(ze.map(ae=>pe(ae)))));const nt=a==="single"?parseFloat(c.price):m.reduce((ze,ae)=>{const Ce=parseFloat(ae.price);return isNaN(Ce)?ze:Math.min(ze,Ce)},1/0),He={sellerName:c.sellerName,name:c.name,description:c.description||"",category:c.category.toLowerCase(),subcategory:c.subcategory||"",subSubcategory:c.subSubcategory||"",colors:c.colors,condition:c.condition||"New",productUrl:c.productUrl||"",tags:c.tags,sellerId:V.uid,seller:{name:c.sellerName,id:V.uid},createdAt:new Date().toISOString(),reviews:[],variants:a==="single"?[{color:c.colors[0]||"",size:c.manualSize||"",price:parseFloat(c.price),stock:parseInt(c.stock,10),imageUrls:ct[0]||[]}]:m.map((ze,ae)=>({...ze,price:parseFloat(ze.price),stock:parseInt(ze.stock,10),imageUrls:ct[ae]||[]})),location:{country:u.country,state:u.state,city:u.city||"",address:u.address||""},buyerProtectionFee:Rt?.[c.category]?.buyerProtectionRate*nt||0,handlingFee:Rt?.[c.category]?.handlingRate*nt||0,totalEstimatedPrice:nt+(Rt?.[c.category]?.buyerProtectionRate*nt||0)+(Rt?.[c.category]?.handlingRate*nt||0),sellerEarnings:nt,manualSize:c.manualSize,deliveryDays:parseInt(c.deliveryDays,10)||1},ne=await cn(Ie(J,"products"),He);console.log("Product uploaded with ID:",ne.id),Be(!0),d({sellerName:"",name:"",description:"",category:"",subcategory:"",subSubcategory:"",colors:[],condition:"New",productUrl:"",tags:[],manualSize:"",price:"",stock:"",deliveryDays:""}),f({country:"",state:"",city:"",address:""}),p([{color:"",size:"",price:"",stock:"",images:[]}]),x([[]]),N([[]]),S([]),A([]),st.current=[{current:null}],qe.current=[{current:null}],W([]),G(!1),re(!1),he(!1),De(!1),i("variants")}catch(ct){console.error("Error uploading product:",ct),t(ct.message||"Failed to upload product.","error")}finally{L(!1)}},[V,c,u,m,y,k,Rt,Ls,_r,pe,t,r,a]),tt=C.useMemo(()=>be,[be]),Lt=C.useMemo(()=>me[c.category]||[],[me,c.category]),yt=C.useMemo(()=>xe[c.category]?.[c.subcategory]||[],[xe,c.category,c.subcategory]);return V?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-7xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-package text-blue-500"}),"Add Product"]}),n.jsxs("form",{onSubmit:Qe,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-toggle-left text-blue-500"}),"Upload Mode"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"uploadMode",value:"single",checked:a==="single",onChange:()=>i("single"),disabled:M,className:"form-radio text-blue-500"}),n.jsx("span",{children:"Single Product"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"uploadMode",value:"variants",checked:a==="variants",onChange:()=>i("variants"),disabled:M,className:"form-radio text-blue-500"}),n.jsx("span",{children:"Multiple Variants"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-info-circle text-blue-500"}),"Product Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Seller Name ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Your registered name"})]}),n.jsx("input",{type:"text",name:"sellerName",value:c.sellerName,placeholder:"Enter your full name",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:!0}),E.sellerName&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.sellerName]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Name ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Name of the product"})]}),n.jsx("input",{type:"text",name:"name",value:c.name,onChange:Bt,placeholder:"e.g., Men's Leather Jacket",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:M}),E.name&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.name]})]})]}),n.jsxs("div",{className:"mt-6 relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Description",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Describe your product with optional bold, italic, or code formatting"})]}),n.jsxs("div",{className:"mt-1",children:[n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("button",{type:"button",onClick:()=>Us("bold"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:M,title:"Bold text (**text**)",children:n.jsx("i",{className:"bx bx-bold text-lg group-hover:text-blue-500"})}),n.jsx("button",{type:"button",onClick:()=>Us("italic"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:M,title:"Italic text (*text*)",children:n.jsx("i",{className:"bx bx-italic text-lg group-hover:text-blue-500"})}),n.jsx("button",{type:"button",onClick:()=>Us("code"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:M,title:"Code text (`text`)",children:n.jsx("i",{className:"bx bx-code text-lg group-hover:text-blue-500"})})]}),n.jsx("textarea",{ref:Nt,name:"description",value:c.description,onChange:Bt,placeholder:"e.g., Premium leather jacket with stylish stitching",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.description?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,rows:"4",disabled:M}),c.description&&n.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-gray-700 dark:text-gray-300",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Preview"}),n.jsx("div",{className:"prose prose-sm dark:prose-invert",dangerouslySetInnerHTML:{__html:ut}})]})]}),E.description&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.description]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-category text-blue-500"}),"Category & Subcategory"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product category"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsxs("button",{type:"button",onClick:()=>re(!te),className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.category?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 flex justify-between items-center transition-all duration-200`,disabled:M||tt.length===0,children:[n.jsx("span",{children:c.category||"Select a category"}),n.jsx("i",{className:"bx bx-chevron-down text-gray-500 dark:text-gray-400"})]}),te&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:tt.length===0?n.jsx("div",{className:"p-2 text-sm text-gray-500 dark:text-gray-400",children:"No categories available"}):tt.map(ue=>n.jsx("button",{type:"button",onClick:()=>{d(ge=>({...ge,category:ue,subcategory:"",subSubcategory:""})),re(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:ue},ue))})]}),E.category&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.category]}),tt.length===0&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),"Loading categories..."]})]}),c.category&&n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Subcategory ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or type a subcategory"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("input",{type:"text",value:c.subcategory,onChange:ue=>{d(ge=>({...ge,subcategory:ue.target.value,subSubcategory:""})),he(!0)},onFocus:()=>he(!0),onBlur:()=>setTimeout(()=>he(!1),200),placeholder:"Select or type a subcategory",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.subcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:M||!Lt.length}),ie&&Lt.length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:Lt.filter(ue=>ue.toLowerCase().includes(c.subcategory.toLowerCase())).map(ue=>n.jsx("button",{type:"button",onClick:()=>{d(ge=>({...ge,subcategory:ue,subSubcategory:""})),he(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:ue},ue))}),E.subcategory&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.subcategory]})]})]}),c.subcategory&&yt.length>0&&n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Sub-Subcategory ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or type a sub-subcategory"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("input",{type:"text",value:c.subSubcategory,onChange:ue=>d(ge=>({...ge,subSubcategory:ue.target.value})),onFocus:()=>De(!0),onBlur:()=>setTimeout(()=>De(!1),200),placeholder:"Select or type a sub-subcategory",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.subSubcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:M}),le&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:yt.filter(ue=>ue.toLowerCase().includes(c.subSubcategory.toLowerCase())).map(ue=>n.jsx("button",{type:"button",onClick:()=>{d(ge=>({...ge,subSubcategory:ue})),De(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:ue},ue))}),E.subSubcategory&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.subSubcategory]})]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-color-fill text-blue-500"}),"Colors"]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Colors ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or enter colors"})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2",children:c.colors.map(ue=>{const ge=jt.find(Re=>Re.name.toLowerCase()===ue.toLowerCase());return n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[n.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:ge?ge.hex:"#ccc"}}),n.jsx("span",{children:ue}),n.jsx("button",{type:"button",onClick:()=>As(ue),className:"text-red-500 hover:text-red-700",disabled:M,title:"Remove color",children:n.jsx("i",{className:"bx bx-x"})})]},ue)})}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:Y,onChange:pr,onKeyDown:Vs,onFocus:()=>Y.trim()&&G(!0),onBlur:()=>setTimeout(()=>G(!1),200),placeholder:"Type a color and press Enter (e.g., Navy)",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.colors?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:M}),B&&ee.length>0&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md z-10 max-h-40 overflow-y-auto",children:ee.map(ue=>n.jsxs("button",{type:"button",onMouseDown:()=>es(ue.name),className:"flex items-center w-full p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",disabled:M,children:[n.jsx("span",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:ue.hex}}),ue.name]},ue.name))})]}),E.colors&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.colors]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-purchase-tag text-blue-500"}),"Tags"]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Tags (Optional)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Add tags to improve product discoverability"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("input",{type:"text",value:c.tags.join(", "),onChange:ue=>{const ge=ue.target.value.split(",").map(Re=>Re.trim()).filter(Re=>Re);d(Re=>({...Re,tags:ge}))},placeholder:"e.g., Vintage, Leather, Smartphone",className:"w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:M}),ot.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Suggested Tags:"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:ot.map(ue=>n.jsx("button",{type:"button",onClick:()=>ws(ue),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${c.tags.includes(ue)?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${M?"opacity-50 cursor-not-allowed":""}`,disabled:M,children:ue},ue))})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-star text-blue-500"}),"Condition"]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Condition ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select the condition of the product"})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["New","Used","Refurbished"].map(ue=>n.jsx("button",{type:"button",onClick:()=>d(ge=>({...ge,condition:ue})),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${c.condition===ue?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${M?"opacity-50 cursor-not-allowed":""}`,disabled:M,children:ue},ue))}),E.condition&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.condition]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-ruler text-blue-500"}),"Weight"]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Weight ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product weight"})]}),n.jsxs("select",{name:"manualSize",value:c.manualSize,onChange:Bt,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.manualSize?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:M,children:[n.jsx("option",{value:"",children:"Select a size"}),It.map(ue=>n.jsx("option",{value:ue,children:ue},ue))]}),E.manualSize&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.manualSize]})]}),a==="single"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-image text-blue-500"}),"Product Images"]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Images (up to ",_t,") ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:`Upload up to ${_t} images (max 5MB each)`})]}),n.jsxs("div",{ref:xt,onDrop:ue=>ss(ue,0,!0),onDragOver:ue=>Ms(ue,0,!0),onDragLeave:ue=>gs(ue,0,!0),className:`mt-1 w-full p-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center min-h-[150px] transition-colors ${E.images?"border-red-500":"border-gray-300 hover:border-blue-500 dark:border-gray-600"} ${M?"opacity-50":""}`,children:[R.length===0?n.jsxs("div",{className:"text-center",children:[n.jsx("i",{className:"bx bx-cloud-upload text-4xl text-gray-600 dark:text-gray-400"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Drag and drop images or"," ",n.jsx("button",{type:"button",onClick:()=>xt.current?.click(),className:"text-blue-600 hover:underline",disabled:M,children:"select images"})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"(JPEG, JPG, PNG, WEBP, GIF, max 5MB each)"})]}):n.jsx("div",{className:"grid grid-cols-2 gap-3 w-full",children:R.map((ue,ge)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:ue,alt:`Preview ${ge+1}`,className:"w-full h-32 object-cover rounded-md border border-gray-200 dark:border-gray-600 cursor-pointer shadow-sm",onClick:()=>et({type:"image",src:ue})}),n.jsx("button",{type:"button",onClick:()=>vs(0,ge,!0),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 shadow-sm",disabled:M,title:"Remove image",children:n.jsx("i",{className:"bx bx-x text-sm"})})]},ge))}),n.jsx("input",{ref:xt,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:ue=>Jt(0,ue.target.files,!0),className:"hidden",disabled:M,multiple:!0})]}),E.images&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.images]}),z>0&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${z}%`}})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Price () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"price",value:c.price,onChange:Bt,step:"0.01",min:"0",placeholder:"e.g., 5000.00",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.price?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:M}),E.price&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.price]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Stock ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"stock",value:c.stock,onChange:Bt,min:"0",placeholder:"e.g., 10",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.stock?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:M}),E.stock&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.stock]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Delivery Days ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"deliveryDays",value:c.deliveryDays,onChange:Bt,min:"1",placeholder:"e.g., 3",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.deliveryDays?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:M}),E.deliveryDays&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.deliveryDays]})]})]}),a==="variants"&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-list-plus text-blue-500"}),"Variants"]}),E.variants&&n.jsxs("p",{className:"text-red-600 text-xs mb-2 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.variants]}),m.map((ue,ge)=>n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:["Variant ",ge+1]}),n.jsx("button",{type:"button",onClick:()=>sr(ge),className:"text-red-500 hover:text-red-700",disabled:M,"aria-label":`Remove variant ${ge+1}`,children:n.jsx("i",{className:"bx bx-trash text-lg"})})]}),n.jsxs("div",{className:"relative group mb-4",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Variant Images (up to ",_t,") ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:`Upload up to ${_t} images (max 5MB each)`})]}),n.jsxs("div",{ref:Re=>st.current[ge]={current:Re},onDrop:Re=>ss(Re,ge),onDragOver:Re=>Ms(Re,ge),onDragLeave:Re=>gs(Re,ge),className:`mt-1 w-full p-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center min-h-[150px] transition-colors ${E[`variant${ge}_images`]?"border-red-500":"border-gray-300 hover:border-blue-500 dark:border-gray-600"} ${M?"opacity-50":""}`,children:[(v[ge]?.length||0)===0?n.jsxs("div",{className:"text-center",children:[n.jsx("i",{className:"bx bx-cloud-upload text-4xl text-gray-600 dark:text-gray-400"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Drag and drop images or"," ",n.jsx("button",{type:"button",onClick:()=>qe.current[ge]?.current.click(),className:"text-blue-600 hover:underline",disabled:M,children:"select images"})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"(JPEG, JPG, PNG, WEBP, GIF, max 5MB each)"})]}):n.jsx("div",{className:"grid grid-cols-2 gap-3 w-full",children:v[ge].map((Re,ct)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:Re,alt:`Variant ${ge+1} Preview ${ct+1}`,className:"w-full h-32 object-cover rounded-md border border-gray-200 dark:border-gray-600 cursor-pointer shadow-sm",onClick:()=>et({type:"image",src:Re})}),n.jsx("button",{type:"button",onClick:()=>vs(ge,ct),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 shadow-sm",disabled:M,title:"Remove image","aria-label":`Remove image ${ct+1} from variant ${ge+1}`,children:n.jsx("i",{className:"bx bx-x text-sm"})})]},ct))}),n.jsx("input",{ref:Re=>qe.current[ge]={current:Re},type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:Re=>Jt(ge,Re.target.files),className:"hidden",disabled:M,multiple:!0})]}),E[`variant${ge}_images`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E[`variant${ge}_images`]]}),z>0&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${z}%`}})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Color ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:ue.color,onChange:Re=>ms(ge,"color",Re.target.value),placeholder:"Type a color (e.g., Navy blue)",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E[`variant${ge}_color`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:M}),E[`variant${ge}_color`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E[`variant${ge}_color`]]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Weight ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product weight"})]}),n.jsxs("select",{name:"manualSize",value:c.manualSize,onChange:Bt,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.manualSize?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:M,children:[n.jsx("option",{value:"",children:"Select a weight"}),It.map(Re=>n.jsx("option",{value:Re,children:Re},Re))]}),E.manualSize&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E.manualSize]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Price () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:ue.price,onChange:Re=>ms(ge,"price",Re.target.value),step:"0.01",min:"0",placeholder:"e.g., 5000.00",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E[`variant${ge}_price`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:M}),E[`variant${ge}_price`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E[`variant${ge}_price`]]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Stock ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:ue.stock,onChange:Re=>ms(ge,"stock",Re.target.value),min:"0",placeholder:"e.g., 10",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E[`variant${ge}_stock`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:M}),E[`variant${ge}_stock`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),E[`variant${ge}_stock`]]})]})]})]},ge)),n.jsxs("button",{type:"button",onClick:Wt,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm transition-colors flex items-center gap-2",disabled:M,children:[n.jsx("i",{className:"bx bx-plus"}),"Add Variant"]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-link text-blue-500"}),"Product URL (Optional)"]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["External Product URL",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Optional link to external product page"})]}),n.jsx("input",{type:"url",name:"productUrl",value:c.productUrl,onChange:Bt,placeholder:"e.g., https://example.com/product",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:M})]}),n.jsx(gp,{locationData:u,setLocationData:f,errors:D,disabled:M}),n.jsx("div",{className:"mt-8 flex items-center justify-start",children:n.jsxs("label",{className:"flex items-center gap-2 text-blue-900 font-semibold",children:[n.jsx("input",{type:"checkbox",checked:o,onChange:ue=>l(ue.target.checked),className:"accent-blue-600 w-4 h-4"}),"I have read and understood the ",n.jsx(ve,{to:"/guidelines",className:"underline text-blue-700",children:"Product Upload Guidelines"})]})}),n.jsx("div",{className:"mt-8 flex justify-end",children:n.jsx("button",{type:"submit",className:`px-6 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition-colors flex items-center gap-2 ${M||!o?"opacity-50 cursor-not-allowed":""}`,disabled:M||!o,title:o?"":"Please read the guidelines before proceeding.",children:M?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"bx bx-loader bx-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"bx bx-upload"}),"Add Product"]})})})]}),n.jsx(whe,{alerts:e,removeAlert:s}),Oe&&n.jsx(C_,{isOpen:Oe,onClose:()=>{Be(!1),r("/products-gallery")},onAddAnother:()=>Be(!1)}),de&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4",children:"Add Variant Images?"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Would you like to add images for this variant?"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>{Ye(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Yes"}),n.jsx("button",{onClick:()=>Ye(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500",children:"No"})]})]})}),rt&&n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50",onClick:()=>et(null),children:[n.jsx("img",{src:rt.src,alt:"Zoomed media",className:"max-w-[90%] max-h-[90%] object-contain"}),n.jsx("button",{className:"absolute top-4 right-4 text-white text-2xl",onClick:()=>et(null),"aria-label":"Close zoomed media",children:n.jsx("i",{className:"bx bx-x"})})]})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]})}function khe(){const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(""),[o,l]=C.useState(""),[c,d]=C.useState(!1),[u,f]=C.useState(null),m=C.useRef(null),p=C.useCallback(Fd(N=>{l(N)},300),[]),y=async N=>{try{const k=Et(Ie(J,"products"),bt("sellerId","==",N)),R=(await dt(k)).docs.map(async A=>{if(!A.data().barcodeValue){const P=A.id;await as(Te(J,"products",A.id),{barcodeValue:P},{merge:!0}),console.log(`Added barcodeValue ${P} to product ${A.id}`)}});await Promise.all(R)}catch(k){console.error("Error ensuring barcode values:",k),i("Failed to initialize barcodes: "+k.message)}};C.useEffect(()=>{(async()=>{try{eo(Pe,async k=>{if(k)try{await y(k.uid);const S=Et(Ie(J,"products"),bt("sellerId","==",k.uid)),A=(await dt(S)).docs.map(D=>{const P=D.data(),E=Array.isArray(P.imageUrls)?P.imageUrls.filter(L=>typeof L=="string"&&L.startsWith("https://res.cloudinary.com/")):P.imageUrl&&typeof P.imageUrl=="string"&&P.imageUrl.startsWith("https://res.cloudinary.com/")?[P.imageUrl]:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"],I=Array.isArray(P.videoUrls)?P.videoUrls.filter(L=>typeof L=="string"&&L.startsWith("https://res.cloudinary.com/")):[],M=Array.isArray(P.variants)?P.variants:[];return{id:D.id,...P,imageUrls:E.length>0?E:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"],videoUrls:I,variants:M,barcodeValue:P.barcodeValue||D.id,uploadDate:P.uploadDate?P.uploadDate.toDate():new Date}});e(A)}catch(S){i("Failed to fetch products: "+S.message)}else i("Please log in to view your products.");s(!1)})}catch(k){i("Authentication error: "+k.message),s(!1)}})()},[]),C.useEffect(()=>{if(c&&u&&u.barcodeValue&&m.current)try{nU(m.current,u.barcodeValue,{format:"CODE128",height:50,width:2,displayValue:!0,background:"transparent",fontSize:14})}catch(N){console.error("Error generating barcode:",N),i("Failed to generate barcode: "+N.message)}},[c,u]);const x=r.filter(N=>N.name?.toLowerCase().includes(o.toLowerCase())),v=()=>window.location.reload();return t?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-5xl",children:Array.from({length:6}).map((N,k)=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-md animate-pulse h-64"},k))})})]}):a?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-gray-50",children:n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg shadow-lg",children:[n.jsx("p",{className:"text-red-700 text-base mb-4",children:a}),n.jsx(ve,{to:"/seller/login",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Return to Login"})]})}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[n.jsx(tr,{}),n.jsxs("div",{className:"flex-1 ml-0 md:ml-64 p-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3 md:gap-6 mb-8 p-4 sm:p-6 md:p-8 rounded-xl bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-100 shadow-sm",children:[n.jsx(rre,{className:"w-8 h-8 text-blue-600 mb-2 md:mb-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-900 flex items-center gap-3 flex-wrap",children:["Product Gallery",n.jsxs("span",{className:"inline-block bg-blue-100 text-blue-700 text-base md:text-lg font-semibold px-3 py-1 rounded-full ml-2",children:[r.length," ",r.length===1?"Product":"Products"]})]}),n.jsx("p",{className:"text-gray-500 text-sm md:text-base mt-1",children:"Explore your uploaded products with images, videos, and barcodes."})]}),n.jsx("button",{onClick:v,title:"Refresh",className:"ml-0 md:ml-auto bg-white border border-blue-200 rounded-full p-2 md:p-3 hover:bg-blue-100 transition focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 mt-2 md:mt-0",children:n.jsx(GS,{className:"w-5 h-5 md:w-6 md:h-6 text-blue-600"})}),n.jsxs(ve,{to:"/products-upload",className:"hidden sm:flex bg-[#112d4e] text-white px-8 py-4 md:px-10 md:py-5 rounded-xl hover:bg-[#1a4577] transition duration-300 items-center gap-3 shadow-xl focus:outline-[#112d4e] focus:ring-4 focus:ring-blue-300 ml-4 font-bold text-lg md:text-xl",children:[n.jsx(xh,{className:"w-7 h-7 md:w-8 md:h-8"})," ",n.jsx("span",{children:"Add New Product"})]})]}),n.jsxs(ve,{to:"/products-upload",className:"sm:hidden fixed bottom-8 right-4 md:bottom-12 md:right-12 z-50 rounded-full bg-[#112d4e] text-white p-7 shadow-2xl hover:bg-[#1a4577] transition focus:outline-[#112d4e] focus:ring-4 focus:ring-blue-300 flex items-center justify-center animate-pulseBtn",title:"Add New Product","aria-label":"Add New Product",tabIndex:0,children:[n.jsx(YS,{className:"w-12 h-12 font-bold"}),n.jsx("span",{className:"sr-only",children:"Add New Product"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 max-w-full overflow-x-auto",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative w-full max-w-md",children:[n.jsx("input",{type:"text",value:o,onChange:N=>p(N.target.value),placeholder:"Search by product name...",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"}),n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:n.jsx("i",{className:"bx bx-search"})})]})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.length>0?x.map(N=>{const k=N.variants?.length>0&&N.variants[0].imageUrls?.length>0?N.variants[0].imageUrls[0]:N.imageUrls[0];return n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-md hover:shadow-xl transition duration-300 animate-slide-in focus:ring-2 focus:ring-blue-300 outline-none cursor-pointer group",tabIndex:0,onClick:()=>{d(!0),f(N)},title:"View product media",children:[n.jsxs("div",{className:"relative aspect-[4/3] mb-4 overflow-hidden",children:[k?n.jsx("img",{src:k,alt:N.name||"Product Image",className:"w-full h-full object-cover rounded-lg group-hover:scale-105 transition-transform duration-300 hover:opacity-90",onError:S=>{S.target.style.display="none",S.target.parentElement.innerHTML='<div class="absolute w-full h-full bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-500">Image N/A</span></div>'}}):n.jsx("div",{className:"w-full h-full bg-gray-200 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500",children:"Image N/A"})}),N.videoUrls[0]&&n.jsx(hae,{className:"absolute bottom-2 right-2 w-8 h-8 text-blue-600 bg-white rounded-full p-1 shadow",title:"Video available"})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate",children:N.name||"Unnamed Product"}),n.jsxs("p",{className:"text-gray-600 text-sm mb-1",children:["Price: ",N.variants?.length>0?`${Math.min(...N.variants.map(S=>S.price||0)).toLocaleString("en-NG")} - ${Math.max(...N.variants.map(S=>S.price||0)).toLocaleString("en-NG")}`:`${(N.price||0).toLocaleString("en-NG")}`]}),n.jsxs("p",{className:"text-gray-600 text-sm mb-1",children:["Variants: ",N.variants?.length||0]}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${N.status==="pending"?"bg-orange-100 text-orange-800":N.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.status==="pending"?"Pending":N.status==="approved"?"Approved":"Not Approved"}),n.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Uploaded: ",N.uploadDate.toLocaleDateString("en-NG",{day:"2-digit",month:"short",year:"numeric"})]}),n.jsxs(ve,{to:`/seller/edit-product/${N.id}`,className:"mt-4 inline-flex items-center gap-1 px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 transition",title:"Edit Product",children:[n.jsx(bh,{className:"w-4 h-4"})," Edit"]})]},N.id)}):n.jsxs("div",{className:"flex flex-col items-center justify-center mt-10 mb-10 animate-slide-in col-span-full",children:[n.jsx(id,{className:"w-24 h-24 mb-4 text-blue-200"}),n.jsxs("p",{className:"text-gray-600 text-center text-lg",children:["No products uploaded yet.",n.jsx("br",{}),"Start by adding your first product!"]}),n.jsxs(ve,{to:"/products-upload",className:"bg-[#112d4e] text-white px-6 py-3 rounded-lg hover:bg-[#1a4577] transition duration-300 flex items-center gap-2 shadow-lg focus:outline-[#112d4e] focus:ring-2 focus:ring-blue-300 mt-4",children:[n.jsx(xh,{className:"w-5 h-5"})," Add Your First Product"]})]})})]}),c&&u&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 animate-fade-in overflow-y-auto p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-4 sm:p-6 max-w-lg w-full relative mx-auto",children:[n.jsx("button",{onClick:()=>d(!1),className:"absolute top-2 right-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full p-2 focus:outline-blue-400",title:"Close",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-700 dark:text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 truncate",children:u.name||"Unnamed Product"}),u.imageUrls&&u.imageUrls.length>0&&n.jsx("img",{src:u.imageUrls[0],alt:u.name||"Product Image",className:"w-full h-64 object-cover rounded-lg mb-4"}),u.videoUrls&&u.videoUrls.length>0&&n.jsx("video",{src:u.videoUrls[0],controls:!0,className:"w-full h-64 rounded-lg mb-4"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-2",children:["Price: ",u.variants?.length>0?`${Math.min(...u.variants.map(N=>N.price||0)).toLocaleString("en-NG")} - ${Math.max(...u.variants.map(N=>N.price||0)).toLocaleString("en-NG")}`:(u.price||0).toLocaleString("en-NG")]}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${u.status==="pending"?"bg-orange-100 text-orange-800":u.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.status==="pending"?"Pending":u.status==="approved"?"Approved":"Not Approved"}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Barcode"}),n.jsx("canvas",{ref:m,className:"mt-2 w-full bg-white dark:bg-gray-800 rounded-lg"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-xs mt-1",children:["Barcode Value: ",u.barcodeValue]})]}),n.jsx("button",{onClick:()=>d(!1),className:"mt-6 w-full bg-[#112d4e] text-white py-2 rounded-lg hover:bg-[#1a4577] transition focus:outline-[#112d4e] focus:ring-2 focus:ring-blue-300",children:"Close"})]})}),n.jsx("style",{children:`
          @keyframes slide-in {
            from { opacity: 0; transform: translateY(32px); }
            to { opacity: 1; transform: none; }
          }
          .animate-slide-in {
            animation: slide-in 0.7s cubic-bezier(0.4,0,0.2,1);
          }
          @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          .animate-fade-in {
            animation: fade-in 0.5s cubic-bezier(0.4,0,0.2,1);
          }
          @keyframes pulseBtn {
            0%, 100% { box-shadow: 0 0 0 0 rgba(124,58,237,0.4), 0 8px 32px 0 rgba(30,58,138,0.18); }
            50% { box-shadow: 0 0 0 12px rgba(124,58,237,0.15), 0 8px 32px 0 rgba(30,58,138,0.18); }
          }
          .animate-pulseBtn {
            animation: pulseBtn 1.2s infinite;
          }
        `})]})]})}const She=()=>{const[r,e]=C.useState("contact"),[t,s]=C.useState(null),[a,i]=C.useState({name:"",email:"",subject:"",message:""}),[o,l]=C.useState(!1),{user:c}=Sd?Sd():{user:null},d=[{question:"How do I place an order?",answer:"To place an order, browse our products, add items to your cart, and proceed to checkout. You'll need to provide shipping and payment information to complete your order."},{question:"What payment methods do you accept?",answer:"We accept various payment methods including credit/debit cards, bank transfers, and digital wallets. All payments are processed securely through our payment partners."},{question:"How can I track my order?",answer:"Once your order is shipped, you'll receive a tracking number via email. You can also view your order status and tracking information in your account under 'My Orders'."},{question:"What is your return policy?",answer:"We offer a 30-day return policy for most items. Products must be in original condition with all packaging. Some restrictions may apply to certain categories."},{question:"How long does shipping take?",answer:"Standard shipping typically takes 3-7 business days within the country. International shipping may take 7-14 business days. Express shipping options are available at checkout."},{question:"Do you ship internationally?",answer:"Yes, we ship to most countries worldwide. International shipping costs and delivery times vary by location."},{question:"How do I become a seller on Foremade?",answer:"To become a seller, create an account and click on 'Become a Seller' in your profile. You'll need to complete the seller application and verification process."},{question:"What are Foremade's fees for sellers?",answer:"Our seller fees include a small listing fee and a commission on sales. The exact fee structure depends on your seller level and product category."}],u=[{name:"Privacy Policy",url:"/privacy-policy"},{name:"Terms & Conditions",url:"/terms-conditions"},{name:"Seller Agreement",url:"/seller-agreement"},{name:"Shipping Policy",url:"/shipping-policy"}],f=y=>{const{name:x,value:v}=y.target;i(N=>({...N,[x]:v}))},m=async y=>{y.preventDefault(),l(!0);try{const x="https://foremade-backend.onrender.com";console.log("Submitting to:",`${x}/api/support-request`,a);let v=null;c&&(v=await c.getIdToken());const N=await fetch(`${x}/api/support-request`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...v?{Authorization:`Bearer ${v}`}:{}},body:JSON.stringify(a)});if(!N.ok){const k=await N.json().catch(()=>({}));throw new Error(k.message||"Failed to send message. Please try again later.")}Me.success("Your message has been sent! Our support team will get back to you soon."),i({name:"",email:"",subject:"",message:""})}catch(x){console.error("Error submitting form:",x),Me.error(x.message||"Failed to send message. Please try again later.")}finally{l(!1)}},p=y=>{s(t===y?null:y)};return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx(vt.h1,{className:"text-2xl md:text-3xl font-bold text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Customer Support Center"}),n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("div",{className:"inline-flex bg-background-light rounded-lg p-1 border border-border-light",children:["contact","faq","policies"].map(y=>n.jsxs(vt.button,{onClick:()=>e(y),className:`px-4 py-2 rounded-md ${r===y?"bg-gray text-black":"bg-transparent text-secondary hover:bg-background-dark"} transition-all duration-200 text-sm md:text-base font-medium`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[y==="contact"&&"Contact Us",y==="faq"&&"FAQs",y==="policies"&&"Policies"]},y))})}),r==="contact"&&n.jsxs(vt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"bg-background-light rounded-lg shadow-md p-6 mb-8 border border-border-light",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-primary",children:"Get in Touch"}),n.jsx("p",{className:"text-secondary mb-6",children:"Have a question or need assistance? Fill out the form below and our support team will get back to you as soon as possible."}),n.jsxs("form",{onSubmit:m,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-secondary mb-1",children:"Your Name"}),n.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:f,className:"w-full p-2 border border-border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary mb-1",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:f,className:"w-full p-2 border border-border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-secondary mb-1",children:"Subject"}),n.jsx("input",{type:"text",id:"subject",name:"subject",value:a.subject,onChange:f,className:"w-full p-2 border border-border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-secondary mb-1",children:"Message"}),n.jsx("textarea",{id:"message",name:"message",value:a.message,onChange:f,rows:"5",className:"w-full p-2 border border-border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsx(vt.button,{type:"submit",disabled:o,className:`w-full py-2 px-4 ${o?"bg-primary/70":"bg-primary hover:bg-primary/80"} text-white rounded-md transition-colors duration-200 flex items-center justify-center`,whileHover:{scale:1.02},whileTap:{scale:.98},children:o?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mr-2",children:"Sending..."}),n.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]}):"Send Message"})]})]}),n.jsxs("div",{className:"bg-background-light rounded-lg shadow-md p-6 border border-border-light",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-primary",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 bg-primary/10 p-3 rounded-full text-primary",children:n.jsx("i",{className:"bx bx-envelope text-xl"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-md font-medium text-secondary",children:"Email"}),n.jsx("p",{className:"text-primary hover:underline",children:"support@foremade.com"})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 bg-primary/10 p-3 rounded-full text-primary",children:n.jsx("i",{className:"bx bx-map text-xl"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-md font-medium text-secondary",children:"Address"}),n.jsx("p",{className:"text-secondary",children:"United Kingdom"})]})]})]})]})]}),r==="faq"&&n.jsxs(vt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-3xl mx-auto",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-center",children:"Frequently Asked Questions"}),n.jsx("div",{className:"space-y-4",children:d.map((y,x)=>n.jsxs(vt.div,{className:"border border-border-light rounded-lg overflow-hidden bg-background-light",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},children:[n.jsxs("button",{className:"w-full px-6 py-4 text-left bg-background-light hover:bg-background-dark flex justify-between items-center",onClick:()=>p(x),children:[n.jsx("span",{className:"font-medium text-primary",children:y.question}),n.jsx(vt.i,{className:`bx ${t===x?"bx-minus":"bx-plus"} text-primary`,animate:{rotate:t===x?180:0},transition:{duration:.3}})]}),n.jsx(vt.div,{className:"px-6 pb-4",initial:{height:0,opacity:0},animate:{height:t===x?"auto":0,opacity:t===x?1:0},transition:{duration:.3},style:{overflow:"hidden"},children:n.jsx("p",{className:"text-secondary",children:y.answer})})]},x))}),n.jsxs("div",{className:"mt-8 text-center",children:[n.jsx("p",{className:"text-secondary mb-4",children:"Can't find what you're looking for?"}),n.jsx(vt.button,{onClick:()=>e("contact"),className:"px-6 py-2 bg-primary text-white rounded-md hover:bg-primary/80 transition-colors duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Contact Support"})]})]}),r==="policies"&&n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-center",children:"Policies & Terms"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map((y,x)=>n.jsxs(ve,{to:y.url,className:"bg-background-light rounded-lg shadow-md p-6 flex flex-col items-center hover:shadow-lg transition-shadow duration-200 hover:text-primary border border-border-light",children:[n.jsx("div",{className:"bg-primary/10 p-4 rounded-full text-primary mb-4",children:n.jsx("i",{className:"bx bx-file text-2xl"})}),n.jsx("h3",{className:"text-lg font-medium text-primary",children:y.name}),n.jsxs("p",{className:"text-secondary mt-2 flex items-center",children:["Read more",n.jsx("i",{className:"bx bx-right-arrow-alt ml-1 text-primary"})]})]},x))})]})]})},_he=()=>n.jsx("div",{className:"min-h-screen bg-background-light py-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto policy-card",children:[n.jsx("div",{className:"policy-header text-primary",children:"FOREMADE Marketplace  Terms and Conditions"}),n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-20 h-20 mb-4 flex items-center justify-center bg-primary/10 rounded-full",children:n.jsx("i",{className:"bx bx-file text-5xl text-primary"})}),n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-primary mb-2",children:"FOREMADE Marketplace  Terms and Conditions"}),n.jsx("p",{className:"text-secondary max-w-xl",children:"Please read these terms and conditions carefully before using the FOREMADE platform."})]}),n.jsxs("div",{className:"policy-content",children:[n.jsxs("p",{className:"mb-2 text-secondary",children:[n.jsx("strong",{children:"Last Updated:"})," July 5, 2024"]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"1. Eligibility"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Be at least 18 years old (or have guardian consent if underage)"}),n.jsx("li",{children:"Provide truthful and accurate registration details"}),n.jsx("li",{children:"Not be restricted from using digital platforms by applicable law"})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"2. Account Registration"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Keep your login details secure"}),n.jsx("li",{children:"Be responsible for all activity under your account"}),n.jsx("li",{children:"Notify FOREMADE of any unauthorised access or misuse"})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"3. Selling on FOREMADE"}),n.jsxs("p",{className:"mb-4",children:["Sellers must list only legal, original, and accurately described items, fulfill orders on time, maintain good service, and follow our policies. See our ",n.jsx(ve,{to:"/seller-agreement",className:"policy-link",children:"Seller Agreement"}),"."]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"4. Buying on FOREMADE"}),n.jsx("p",{className:"mb-4",children:"Buyers must complete purchases in good faith, avoid fraud, and raise issues respectfully within the platform."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"5. Listing and Selling Fees"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsxs("li",{children:["No listing fees for up to 300 items/month (",n.jsx(ve,{to:"/sellers-guide",className:"policy-link",children:"Standard Sellers"}),")"]}),n.jsxs("li",{children:["Up to 400 items/month (",n.jsx(ve,{to:"/pro-seller-guide",className:"policy-link",children:"Pro Sellers"}),")"]}),n.jsx("li",{children:"Fees apply only for extra listings, communicated in advance"})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"6. Inclusive Pricing"}),n.jsx("p",{className:"mb-4",children:"All prices shown are final and include taxes, buyer protection, and handling fees. No hidden costs at checkout."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"7. Payments & Payouts"}),n.jsx("p",{className:"mb-4",children:"Payments are released after buyer confirmation. Seller wallets show pending balance until approved by FOREMADE, after which they can withdraw."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"8. Returns & Refunds"}),n.jsx("p",{className:"mb-4",children:"7-day return window. Sellers respond within 2 business days. Refunds issued after successful return. Exceptions apply."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"9. Prohibited Items"}),n.jsx("p",{className:"mb-4",children:"Illegal, counterfeit, restricted, or infringing items are banned. Violations lead to suspension."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"10. Disputes & Resolution"}),n.jsx("p",{className:"mb-4",children:"Direct communication encouraged. FOREMADE may step in and issue a final decision if needed."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"11. Intellectual Property"}),n.jsx("p",{className:"mb-4",children:"Users grant FOREMADE a non-exclusive license to use uploaded content. Do not upload content you don't own."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"12. Platform Use & Conduct"}),n.jsx("p",{className:"mb-4",children:"No fraud, abuse, or misuse of the platform. Violators may be banned."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"13. Limitation of Liability"}),n.jsx("p",{className:"mb-4",children:"FOREMADE is not liable for third-party delays, misuse of products, or losses from transactions."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"14. Account Suspension & Termination"}),n.jsx("p",{className:"mb-4",children:"FOREMADE can suspend or terminate accounts violating terms without prior notice."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"15. Privacy and Data Use"}),n.jsxs("p",{className:"mb-4",children:["We respect your data. See our ",n.jsx(ve,{to:"/privacy-policy",className:"policy-link",children:"Privacy Policy"})," for more details."]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"16. Changes to These Terms"}),n.jsx("p",{className:"mb-4",children:"We may update these terms. Continued use implies acceptance of updates."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"17. Contact Us"}),n.jsxs("p",{className:"mb-4",children:["Email: support@foremade.com",n.jsx("br",{}),"Website: www.foremade.com",n.jsx("br",{}),"See also our ",n.jsx(ve,{to:"/shipping-policy",className:"policy-link",children:"Shipping Policy"}),"."]})]}),n.jsxs("footer",{className:"policy-footer text-secondary",children:[" ",new Date().getFullYear()," Foremade. All rights reserved."]})]})}),Ahe=()=>{const[r,e]=C.useState([]),[t,s]=C.useState(""),[a,i]=C.useState(null),[o,l]=C.useState(null),{productId:c}=Zo();_s();const u=Qr().state?.sellerId,f=C.useRef(null),m=C.useCallback((v=!0)=>{f.current?.scrollIntoView({behavior:v?"smooth":"auto"})},[]),p=v=>[/\d{5,}/,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}\b/,/\b(?:\d{4}[- ]?){3}\d{4}\b|\b\d{16}\b/,/(contact me via|whatsapp|telegram|linkedin|call me|sms)/i,/(http|https|www\.)/i,/\b\d{10,}\b/,/(bank account|routing number|ssn|social security)/i,/(<script>|<\/script>|javascript:)/i,/(password|pin|otp)/i,/(\bfree\s+money\b|\bclick here\b|\bsubscribe\b|\boffer\b)/i].some(k=>k.test(v)),y=v=>v?v.split(" ").map(N=>N[0]).join("").toUpperCase():"?";C.useEffect(()=>{if(!u||!c)return;(async()=>{const N=await ft(Te(J,"users",u)),k=await ft(Te(J,"products",c));N.exists()&&i({id:u,...N.data()}),k.exists()&&l({id:c,...k.data()})})()},[u,c]),C.useEffect(()=>{if(!Pe.currentUser||!u||!c)return;const v=[Pe.currentUser.uid,u,c].sort().join("_"),N=Et(Ie(J,"messages"),mh("createdAt","asc")),k=is(N,S=>{const R=S.docs.map(A=>({id:A.id,...A.data()})).filter(A=>A.conversationId===v);e(R),m()});return()=>k()},[u,c,m]);const x=async v=>{if(v.preventDefault(),!t.trim()||p(t))return;const N=[Pe.currentUser.uid,u,c].sort().join("_");await cn(Ie(J,"messages"),{conversationId:N,text:t.trim(),senderId:Pe.currentUser.uid,senderName:Pe.currentUser.displayName||"Anonymous",receiverId:u,productId:c,createdAt:Wn()}),s(""),m()};return!a||!o?n.jsx("div",{className:"flex items-center justify-center h-full text-gray-700",children:"Loading..."}):n.jsxs("div",{className:"flex flex-col w-full max-w-3xl mx-auto h-[calc(100vh-2rem)] bg-gray-100 rounded-lg shadow-xl border my-4",children:[n.jsxs("div",{className:"lg:hidden flex items-center gap-4 p-4 bg-teal-600 text-white",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center font-semibold",children:y(a.name)}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-semibold",children:a.name}),n.jsx("p",{className:"text-sm",children:o.name})]})]}),n.jsxs("div",{className:"bg-white shadow-sm border-b border-gray-200 p-4 flex items-center gap-4",children:[n.jsx("img",{src:"https://i.pinimg.com/736x/17/f1/11/17f11174ba7f057202e88a2129c27598.jpg",alt:o.name,className:"w-16 h-16 rounded-lg object-cover"}),n.jsx("div",{children:n.jsx("h3",{className:"font-medium",children:o.name})})]}),n.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4 bg-gray-50",children:[r.map(v=>{const N=v.senderId===Pe.currentUser.uid,k=y(N?Pe.currentUser.displayName:a.name);return n.jsxs("div",{className:`flex items-start gap-2 max-w-[70%] ${N?"ml-auto flex-row-reverse":"mr-auto"}`,children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-600 text-white flex items-center justify-center font-semibold text-sm",children:k}),n.jsxs("div",{className:`p-3 rounded-2xl shadow-sm break-words ${N?"bg-[#112639] text-white rounded-tr-none":"bg-white rounded-tl-none"}`,children:[n.jsx("p",{children:v.text}),n.jsx("p",{className:"text-xs text-gray-400 mt-1 text-right",children:v.createdAt?new Date(v.createdAt.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Sending..."})]})]},v.id)}),n.jsx("div",{ref:f})]}),n.jsxs("form",{onSubmit:x,className:"flex items-center gap-3 p-4 border-t border-gray-200 bg-white",children:[n.jsx("input",{type:"text",value:t,onChange:v=>s(v.target.value),placeholder:"Type a message",className:"flex-1 px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-teal-400 outline-none"}),n.jsx("button",{type:"submit",className:"p-3 bg-teal-600 text-white rounded-full hover:bg-teal-700 transition",children:n.jsx(zre,{size:20})})]})]})};function Ss(){const[r,e]=C.useState(window.innerWidth>=768),t=Qr();C.useEffect(()=>{const i=()=>{e(window.innerWidth>=768)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const s=()=>{e(!r)},a=[{path:"/admin/dashboard",icon:uk,label:"Dashboard"},{path:"/admin/users",icon:IF,label:"Manage Users"},{path:"/admin/sellers-wallet",icon:XS,label:"Account Management"},{path:"/admin/sellers/payouts",icon:Jse,label:"Approve Payments"},{path:"/admin/transactions",icon:Ase,label:"Transactions"},{path:"/admin/products",icon:Cd,label:"Manage Products"},{path:"/admin/edit/categories",icon:SF,label:"Categories"},{path:"/admin/edit/fees",icon:Sse,label:"Edit Fees"},{path:"/admin/notifications",icon:wse,label:"Notifications"},{path:"/admin/edit/banners",icon:id,label:"Edit Banners & Others"},{path:"/admin/edit/daily-deals",icon:tae,label:"Daily Deals"},{path:"/admin/manager",icon:jre,label:"Admin Manager"},{path:"/admin/pro-sellers-requests",icon:ck,label:"Admin Pro Sellers"},{path:"/admin/bumped-products",icon:vg,label:"Admin Bumped Products"},{path:"/admin/users-phone",icon:Rre,label:"Users Phone"}];return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:s,className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-blue-600 text-white rounded-lg focus:outline-none hover:bg-blue-700 transition-colors","aria-label":r?"Close menu":"Open menu",children:r?n.jsx(od,{className:"w-6 h-6"}):n.jsx(AF,{className:"w-6 h-6"})}),n.jsxs("div",{className:`fixed top-0 left-0 w-64 h-full bg-gradient-to-b from-gray-900 to-gray-800 text-white shadow-xl transform transition-transform duration-300 ease-in-out z-40
          ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:block max-h-[calc(100vh)] overflow-y-auto overflow-x-auto`,children:[n.jsx(ve,{to:"/",onClick:()=>window.innerWidth<768&&e(!1),children:n.jsxs("div",{className:"p-4 border-b border-gray-700 flex-col items-center gap-2",children:[n.jsx("img",{src:Vh,alt:"Logo",className:"h-10"}),n.jsx("span",{className:"text-sm font-bold",children:"Admin Panel"})]})}),n.jsx("nav",{className:"mt-4 px-2",children:n.jsx("ul",{className:"space-y-1 whitespace-nowrap",children:a.map(i=>n.jsx("li",{children:n.jsxs(ve,{to:i.path,onClick:()=>window.innerWidth<768&&e(!1),className:`flex items-center p-3 rounded-lg transition-all duration-200 ${t.pathname===i.path?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[n.jsx(i.icon,{className:"w-5 h-5 mr-3"}),n.jsx("span",{className:"text-sm font-medium",children:i.label})]})},i.path))})})]}),r&&n.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:s})]})}function E3({variants:r=[],imageUrls:e=[],isModal:t,product:s={},onUpdateProduct:a}){const[i,o]=C.useState(0),[l,c]=C.useState(0),[d,u]=C.useState(!1),[f,m]=C.useState({...s,variants:r.length?r.map(F=>({...F,imageUrls:F.imageUrls||[],price:F.price||0,stock:F.stock||0,color:F.color||"",size:F.size||""})):[],imageUrls:s.imageUrls||e||[]}),p=r.length?f.variants[i]||{imageUrls:[]}:null,y=r.length?p.imageUrls.map(F=>({type:"image",url:F})).filter(F=>F.url):f.imageUrls.map(F=>({type:"image",url:F})).filter(F=>F.url);if(!y.length&&!d)return n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm flex items-center gap-1",children:"No media available."});const x=F=>{F.stopPropagation(),c(V=>V===0?y.length-1:V-1)},v=F=>{F.stopPropagation(),c(V=>V===y.length-1?0:V+1)},N=F=>{F.stopPropagation(),o(V=>V===0?f.variants.length-1:V-1),c(0)},k=F=>{F.stopPropagation(),o(V=>V===f.variants.length-1?0:V+1),c(0)},S=()=>{u(!d),d||m({...s,variants:r.length?r.map(F=>({...F,imageUrls:F.imageUrls||[],price:F.price||0,stock:F.stock||0,color:F.color||"",size:F.size||""})):[],imageUrls:s.imageUrls||e||[]})},R=(F,V)=>{m($=>({...$,[F]:V}))},A=(F,V,$)=>{m(Y=>({...Y,variants:Y.variants.map((X,ee)=>ee===F?{...X,[V]:$}:X)}))},D=(F,V,$)=>{r.length?m(Y=>({...Y,variants:Y.variants.map((X,ee)=>ee===F?{...X,imageUrls:X.imageUrls.map((W,B)=>B===V?$:W)}:X)})):m(Y=>({...Y,imageUrls:Y.imageUrls.map((X,ee)=>ee===V?$:X)}))},P=F=>{r.length?m(V=>({...V,variants:V.variants.map(($,Y)=>Y===F?{...$,imageUrls:[...$.imageUrls,""]}:$)})):m(V=>({...V,imageUrls:[...V.imageUrls,""]}))},E=(F,V)=>{r.length?m($=>({...$,variants:$.variants.map((Y,X)=>X===F?{...Y,imageUrls:Y.imageUrls.filter((ee,W)=>W!==V)}:Y)})):m($=>({...$,imageUrls:$.imageUrls.filter((Y,X)=>X!==V)})),l>=y.length-1&&c(0)},I=()=>{m(F=>({...F,variants:[...F.variants,{color:"",size:"",price:0,stock:0,imageUrls:[]}]}))},M=F=>{m(V=>({...V,variants:V.variants.filter(($,Y)=>Y!==F)})),i>=f.variants.length-1&&o(0)},L=()=>{a&&a({...f,variants:f.variants.map(F=>({...F,price:parseFloat(F.price)||0,stock:parseInt(F.stock)||0,imageUrls:F.imageUrls.filter(V=>V.trim())})),imageUrls:f.imageUrls.filter(F=>F.trim())}),u(!1)},z=y[l];return n.jsxs("div",{className:`relative ${t?"h-full":"h-64"} p-2 rounded-xl overflow-hidden shadow-md`,children:[n.jsxs("div",{className:"w-full h-full relative",children:[z&&n.jsx("img",{src:z.url,alt:`${s.name||"Product"} ${r.length?`variant ${i+1}`:""} image`,className:"w-full h-full object-cover rounded-xl transition-transform duration-300 hover:scale-105",onError:F=>{F.target.src="https://via.placeholder.com/150",console.error(`Failed to load image: ${z.url}`)}}),y.length>1&&t&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:x,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-900 bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition-all duration-200 focus:outline-none",title:"Previous media","aria-label":"Previous media",children:n.jsx(CI,{size:20})}),n.jsx("button",{onClick:v,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-900 bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition-all duration-200 focus:outline-none",title:"Next media","aria-label":"Next media",children:n.jsx(Ym,{size:20})}),n.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2 bg-gray-900 bg-opacity-70 p-1 rounded-full",children:y.map((F,V)=>n.jsx("button",{onClick:()=>c(V),className:`w-2 h-2 rounded-full transition-all duration-200 ${V===l?"bg-blue-500 w-3":"bg-gray-400 hover:bg-gray-500"}`,"aria-label":`Go to media ${V+1}`},V))})]}),r.length>1&&t&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:N,className:"absolute left-2 top-1/4 -translate-y-1/2 bg-gray-900 bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition-all duration-200 focus:outline-none",title:"Previous variant","aria-label":"Previous variant",children:n.jsx(CI,{size:20})}),n.jsx("button",{onClick:k,className:"absolute right-2 top-1/4 -translate-y-1/2 bg-gray-900 bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition-all duration-200 focus:outline-none",title:"Next variant","aria-label":"Next variant",children:n.jsx(Ym,{size:20})})]}),n.jsxs("div",{className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[n.jsx(id,{size:12}),r.length?`Variant ${i+1}/${f.variants.length} | `:"","Image ",l+1,"/",y.length]}),t&&n.jsx("div",{className:"absolute top-2 left-2",children:d?n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:L,className:"bg-emerald-600 text-white p-2 rounded-full hover:bg-emerald-700 transition-all duration-200 focus:outline-none",title:"Save edits","aria-label":"Save edits",children:n.jsx(Ose,{size:16})}),n.jsx("button",{onClick:S,className:"bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-all duration-200 focus:outline-none",title:"Cancel edits","aria-label":"Cancel edits",children:n.jsx(od,{size:16})})]}):n.jsx("button",{onClick:S,className:"bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition-all duration-200 focus:outline-none",title:"Edit product","aria-label":"Edit product",children:n.jsx(bh,{size:16})})})]}),d&&t&&n.jsxs("div",{className:"mt-4 p-2 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-y-auto max-h-[40vh]",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Edit Product Details"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Name"}),n.jsx("input",{type:"text",value:f.name||"",onChange:F=>R("name",F.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Category"}),n.jsx("input",{type:"text",value:f.category||"",onChange:F=>R("category",F.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Condition"}),n.jsx("input",{type:"text",value:f.condition||"",onChange:F=>R("condition",F.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Tags (comma-separated)"}),n.jsx("input",{type:"text",value:Array.isArray(f.tags)?f.tags.join(", "):f.tags||"",onChange:F=>R("tags",F.target.value.split(", ").filter(Boolean)),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),r.length?n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Variants"}),f.variants.map((F,V)=>n.jsxs("div",{className:"mb-4 p-2 border border-gray-300 dark:border-gray-600 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("h5",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:["Variant ",V+1]}),n.jsx("button",{onClick:()=>M(V),className:"bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-all duration-200",title:"Remove variant","aria-label":"Remove variant",children:n.jsx(od,{size:14})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Color"}),n.jsx("input",{type:"text",value:F.color||"",onChange:$=>A(V,"color",$.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Size"}),n.jsx("input",{type:"text",value:F.size||"",onChange:$=>A(V,"size",$.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Price ()"}),n.jsx("input",{type:"number",value:F.price||"",onChange:$=>A(V,"price",$.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Stock"}),n.jsx("input",{type:"number",value:F.stock||"",onChange:$=>A(V,"stock",$.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Images"}),F.imageUrls.map(($,Y)=>n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("input",{type:"text",value:$||"",onChange:X=>D(V,Y,X.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Enter image URL"}),n.jsx("button",{onClick:()=>E(V,Y),className:"bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-all duration-200",title:"Remove image","aria-label":"Remove image",children:n.jsx(od,{size:14})})]},Y)),n.jsxs("button",{onClick:()=>P(V),className:"mt-2 text-blue-600 hover:underline text-sm flex items-center gap-1",children:[n.jsx(id,{size:14})," Add Image"]})]})]})]},V)),n.jsxs("button",{onClick:I,className:"mt-2 text-blue-600 hover:underline text-sm flex items-center gap-1",children:[n.jsx(id,{size:14})," Add Variant"]})]}):n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Images"}),f.imageUrls.map((F,V)=>n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("input",{type:"text",value:F||"",onChange:$=>D(0,V,$.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Enter image URL"}),n.jsx("button",{onClick:()=>E(0,V),className:"bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-all duration-200",title:"Remove image","aria-label":"Remove image",children:n.jsx(od,{size:14})})]},V)),n.jsxs("button",{onClick:()=>P(0),className:"mt-2 text-blue-600 hover:underline text-sm flex items-center gap-1",children:[n.jsx(id,{size:14})," Add Image"]})]})]})]})]})}function T3({productId:r,currentStatus:e,onStatusChange:t,onDelete:s,loading:a,onEdit:i,isModal:o}){return n.jsxs("div",{className:`flex ${o?"justify-end mt-4":"space-x-2"}`,children:[e!=="approved"&&n.jsx("button",{onClick:l=>{l.stopPropagation(),t(r,"approved")},disabled:a,className:"py-2 px-2 m-1 bg-gray-800 text-white rounded-xl text-sm hover:bg-gray-600 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",title:"Approve product for sale",children:a?n.jsx(Zx,{size:16,className:"animate-spin"}):n.jsx(lp,{size:16})}),e!=="rejected"&&n.jsx("button",{onClick:l=>{l.stopPropagation(),t(r,"rejected")},disabled:a,className:"py-2 px-4 m-1 bg-gray-600 text-white rounded-xl text-sm hover:bg-amber-900 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",title:"Reject product",children:a?n.jsx(Zx,{size:16,className:"animate-spin"}):n.jsx(sh,{size:16})}),n.jsx("button",{onClick:l=>{l.stopPropagation(),s(r)},disabled:a,className:"py-2 px-4 m-1 bg-gray-600 text-white rounded-xl text-sm hover:bg-red-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",title:"Delete product permanently",children:a?n.jsx(Zx,{size:16,className:"animate-spin"}):n.jsx(PF,{size:16})}),n.jsx("button",{onClick:l=>{l.stopPropagation(),i(r)},disabled:a,className:"py-2 px-4 m-1 bg-gray-600 text-white rounded-xl text-sm hover:bg-gray-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",title:"Edit product details",children:a?n.jsx(Zx,{size:16,className:"animate-spin"}):n.jsx(bh,{size:16})})]})}function P3({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-xl shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-500 text-white":"bg-green-500 text-white"} flex items-center gap-2`,children:[t.type==="error"?n.jsx(sh,{size:20}):n.jsx(lp,{size:20}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg hover:text-gray-200",children:""})]},t.id))})}function Che(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function Ehe(){const{alerts:r,addAlert:e,removeAlert:t}=Che(),[s,a]=C.useState({products:[]}),[i,o]=C.useState(!0),[l,c]=C.useState(""),[d,u]=C.useState(null),[f,m]=C.useState("default"),[p,y]=C.useState(!1),[x,v]=C.useState(!1),[N,k]=C.useState(""),[S,R]=C.useState(""),[A,D]=C.useState(null);C.useEffect(()=>{(async()=>{try{const B=await dt(Ie(J,"products")),G=await Promise.all(B.docs.map(async te=>{const re={id:te.id,...te.data()},ie=await P(re.id);return{...re,buyerCount:ie}}));a({products:G})}catch(B){console.error("Error fetching data:",B),c("Failed to fetch data: "+B.message),e("Failed to load products.","error")}finally{o(!1)}})()},[e]),C.useEffect(()=>{const W=B=>{B.key==="Escape"&&(d||x)&&V()};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[d,x]);const P=async W=>{try{return(await dt(Ie(J,"orders"))).docs.filter(G=>G.data().items.some(te=>te.productId===W)).length}catch(B){return console.error("Error fetching buyer count:",B),0}},E=async(W,B)=>{const G=s.products.find(te=>te.id===W);if(B==="rejected"){D(G),v(!0);return}if(window.confirm(`Are you sure you want to ${B==="approved"?"approve":"reject"} this product?`)){o(!0);try{const te=Te(J,"products",W);await _n(te,{status:B}),a(ie=>({...ie,products:ie.products.map(he=>he.id===W?{...he,status:B}:he)})),e(`Product ${B==="approved"?"approved":"rejected"} successfully! `,"success");const re=B==="approved"?"/send-product-approved-email":"/send-product-rejected-email";try{await os.post(`https://foremade-backend.onrender.com${re}`,{productId:W,productName:G.name,sellerId:G.sellerId,sellerEmail:G.sellerEmail||await M(G.sellerId),...B==="rejected"&&{reason:N||S}}),e(`${B==="approved"?"Approval":"Rejection"} email sent to seller! `,"success")}catch(ie){console.error(`Error sending ${B} email:`,ie),e(`Failed to send ${B} email.`,"error")}}catch(te){console.error("Error updating product status:",te),e("Failed to update product status.","error")}finally{o(!1)}}},I=async()=>{if(!N&&!S){e("Please select or enter a rejection reason.","error");return}const W=N==="Other"?S:N;if(!W){e("Please enter a custom reason.","error");return}o(!0);try{const B=A.id,G=Te(J,"products",B);await _n(G,{status:"rejected"}),a(te=>({...te,products:te.products.map(re=>re.id===B?{...re,status:"rejected"}:re)})),e("Product rejected successfully! ","success");try{await os.post("https://foremade-backend.onrender.com/send-product-rejected-email",{productId:B,productName:A.name,sellerId:A.sellerId,sellerEmail:A.sellerEmail||await M(A.sellerId),reason:W}),e("Rejection email sent to seller! ","success")}catch(te){console.error("Error sending rejection email:",te),e("Failed to send rejection email.","error")}}catch(B){console.error("Error rejecting product:",B),e("Failed to reject product.","error")}finally{o(!1),v(!1),k(""),R(""),D(null)}},M=async W=>{try{const B=await ft(Te(J,"users",W));return B.exists()?B.data().email:null}catch(B){return console.error("Error fetching seller email:",B),null}},L=async W=>{if(window.confirm("Are you sure you want to delete this product?")){o(!0);try{await ra(Te(J,"products",W)),a(B=>({...B,products:B.products.filter(G=>G.id!==W)})),e("Product deleted successfully! ","success")}catch(B){console.error(`Error deleting product ${W}:`,B),e("Failed to delete product.","error")}finally{o(!1)}}},z=(W,B)=>{B.stopPropagation(),console.log("Card clicked:",W.id,W.name),u(W)},F=async W=>{if(!W.name||W.variants.some(B=>!B.price||!B.stock||!B.color)){e("Please fill all required fields for all variants.","error");return}o(!0);try{const B=Te(J,"products",W.id);await _n(B,{name:W.name,category:W.category,condition:W.condition,tags:W.tags,variants:W.variants.map(G=>({...G,price:parseFloat(G.price)||0,stock:parseInt(G.stock)||0})),imageUrls:W.imageUrls||[]}),a(G=>({...G,products:G.products.map(te=>te.id===W.id?{...te,...W}:te)})),e("Product updated successfully! ","success"),u(null)}catch(B){console.error("Error updating product:",B),e("Failed to update product.","error")}finally{o(!1)}},V=()=>{u(null),v(!1),k(""),R(""),D(null)},Y=(W=>{const B=[...W];switch(f){case"name-asc":return B.sort((G,te)=>(G.name||"").localeCompare(te.name||""));case"name-desc":return B.sort((G,te)=>(te.name||"").localeCompare(G.name||""));case"price-asc":return B.sort((G,te)=>{const re=G.variants&&G.variants.length?Math.min(...G.variants.map(he=>he.price||0)):G.price||0,ie=te.variants&&te.variants.length?Math.min(...te.variants.map(he=>he.price||0)):te.price||0;return re-ie});case"price-desc":return B.sort((G,te)=>{const re=G.variants&&G.variants.length?Math.max(...G.variants.map(he=>he.price||0)):G.price||0;return(te.variants&&te.variants.length?Math.max(...te.variants.map(he=>he.price||0)):te.price||0)-re});case"status-pending":return B.sort(G=>G.status==="pending"?-1:1);case"status-approved":return B.sort(G=>G.status==="approved"?-1:1);case"status-not-approved":return B.sort(G=>G.status!=="approved"&&G.status!=="pending"?-1:1);default:return B}})(s.products),X=s.products.filter(W=>W.status==="approved").length,ee=s.products.filter(W=>W.status!=="approved").length;return i?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):l?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"bg-red-500 text-white p-4 rounded-xl shadow-md flex items-center gap-2",children:[n.jsx(sh,{size:20}),n.jsx("p",{children:l})]})})}),n.jsx(P3,{alerts:r,removeAlert:t})]}):n.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[n.jsx(Ss,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-4",children:n.jsxs("div",{className:"container mx-auto px-4 py-7",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-4 sm:mb-0 flex items-center gap-2",children:[n.jsx(lp,{size:24,className:"text-green-600 dark:text-green-400"}),"Product Verification Hub"]}),n.jsxs("button",{onClick:()=>y(!p),className:"py-2 px-4 bg-blue-950 text-white rounded-lg text-sm hover:bg-blue-900 flex items-center gap-2 transition-all duration-200 shadow-md",children:[n.jsx("i",{className:`bx bx-${p?"x":"filter-alt"}`}),p?"Close Filters":"Filters & Sort"]})]}),p&&n.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-md mb-6 animate-slide-down",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 items-center gap-1",children:["Sort Products",n.jsx("i",{className:"bx bx-info-circle text-gray-500 dark:text-gray-400 group-hover:text-blue-500 cursor-help",title:"Sort products by name, price, or status"})]}),n.jsxs("select",{value:f,onChange:W=>m(W.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[n.jsx("option",{value:"default",children:"Default"}),n.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),n.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),n.jsx("option",{value:"price-asc",children:"Price (Low to High)"}),n.jsx("option",{value:"price-desc",children:"Price (High to Low)"}),n.jsx("option",{value:"status-pending",children:"Status: Pending"}),n.jsx("option",{value:"status-approved",children:"Status: Approved"}),n.jsx("option",{value:"status-not-approved",children:"Status: Not Approved"})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Stats"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg text-sm shadow-md",children:["Approved: ",X]}),n.jsxs("div",{className:"bg-red-700 text-white px-4 py-2 rounded-lg text-sm shadow-md",children:["Not Approved: ",ee]})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-6",children:[Y.map(W=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 shadow-md",onClick:B=>z(W,B),children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h2",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 truncate",children:W.name||"Unnamed Product"}),n.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${W.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":W.status==="approved"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:W.status==="pending"?"Pending":W.status==="approved"?"Approved":"Not Approved"})]}),n.jsx(E3,{variants:W.variants||[],imageUrls:W.imageUrls||[]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 flex items-center gap-1",children:[n.jsx(tc,{size:14})," Seller: ",W.sellerName||"Unknown"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 flex items-center gap-1",children:[n.jsx(Ab,{size:14})," Buyers: ",W.buyerCount||0]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Variants: ",W.variants?.length||0]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Price Range: ",W.variants&&W.variants.length?Math.min(...W.variants.map(B=>B.price||0)).toLocaleString("en-NG"):(W.price||0).toLocaleString("en-NG")," - ",W.variants&&W.variants.length?Math.max(...W.variants.map(B=>B.price||0)).toLocaleString("en-NG"):(W.price||0).toLocaleString("en-NG")]}),n.jsx(T3,{productId:W.id,currentStatus:W.status,onStatusChange:E,onDelete:L,loading:i,onEdit:B=>z(W,B)})]},W.id)),Y.length===0&&n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mt-4 col-span-3 italic",children:"No products to verify."})]})]})}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 animate-fade-in",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 m-4 rounded-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto shadow-lg flex flex-col md:flex-row gap-6",children:[n.jsxs("div",{className:"w-full md:w-1/2 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:d.name||"Unnamed Product"}),n.jsx("button",{onClick:V,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 text-2xl",title:"Close",children:n.jsx("i",{className:"bx bx-x"})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(AI,{size:18,className:"text-green-600 dark:text-green-400"})," Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Seller:"})," ",d.sellerName||"Unknown Seller"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Status:"})," ",d.status==="pending"?"Pending":d.status==="approved"?"Approved":"Not Approved"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Category:"})," ",d.category||"Uncategorized"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Condition:"})," ",d.condition||"New"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Rating:"})," ",d.rating||"N/A"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Buyers:"})," ",d.buyerCount||0]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(bh,{size:18,className:"text-green-600 dark:text-green-400"})," Tags"]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Array.isArray(d.tags)?d.tags.join(", "):"None"})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(tc,{size:18,className:"text-green-600 dark:text-green-400"})," Seller Info"]}),n.jsxs("p",{className:"text-[13px] mt-3",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Name:"})," ",d.seller?.name||"Unknown Seller"]}),n.jsxs("p",{className:"text-[13px] mt-4",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"ID:"})," ",d.seller?.id||"N/A"]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(Ab,{size:18,className:"text-green-600 dark:text-green-400"})," Variants"]}),d.variants&&d.variants.length>0?n.jsx("div",{className:"space-y-4 mt-2",children:d.variants.map((W,B)=>n.jsxs("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:["Variant ",B+1]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Color:"})," ",W.color||"N/A"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Size:"})," ",W.size||"N/A"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Price:"})," ",(W.price||0).toLocaleString("en-NG",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Stock:"})," ",W.stock||0," units"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Images:"})," ",W.imageUrls?.length||0]})]})]},B))}):n.jsx("p",{className:"text-[13px] text-gray-600 dark:text-gray-400",children:"No variants available."})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(Ab,{size:18,className:"text-green-600 dark:text-green-400"})," Reviews"]}),Array.isArray(d.reviews)&&d.reviews.length>0?n.jsx("ul",{className:"list-disc pl-5 space-y-2",children:d.reviews.map((W,B)=>n.jsxs("li",{className:"text-sm text-gray-600 dark:text-gray-400",children:[W.comment," ",n.jsxs("span",{className:"text-yellow-500",children:["(Rating: ",W.rating,")"]}),", By: ",W.userName||"Anonymous"]},B))}):n.jsx("p",{className:"text-[13px] text-gray-600 dark:text-gray-400",children:"No reviews available yet."})]}),n.jsx(T3,{productId:d.id,currentStatus:d.status,onStatusChange:E,onDelete:L,loading:i,onEdit:W=>z(d,W),isModal:!0})]}),n.jsxs("div",{className:"w-full md:w-1/2",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2 mb-4",children:[n.jsx(AI,{size:18,className:"text-green-600 dark:text-green-400"})," Variant Media Preview"]}),n.jsx(E3,{variants:d.variants||[],imageUrls:d.imageUrls||[],isModal:!0,product:d,onUpdateProduct:F})]})]})}),x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 animate-fade-in",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl w-full max-w-md shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(sh,{size:20,className:"text-red-600 dark:text-red-400"})," Reject Product"]}),n.jsx("button",{onClick:V,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 text-2xl",title:"Close",children:n.jsx("i",{className:"bx bx-x"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Reason for Rejection"}),n.jsxs("select",{value:N,onChange:W=>k(W.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[n.jsx("option",{value:"",children:"Select a reason"}),n.jsx("option",{value:"Missing product image",children:"Missing product image"}),n.jsx("option",{value:"Incomplete product description",children:"Incomplete product description"}),n.jsx("option",{value:"Invalid price",children:"Invalid price"}),n.jsx("option",{value:"Product violates guidelines",children:"Product violates guidelines"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),N==="Other"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Custom Reason"}),n.jsx("textarea",{value:S,onChange:W=>R(W.target.value),placeholder:"Enter custom reason...",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",rows:"4"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:V,className:"py-2 px-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg text-sm hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-200",children:"Cancel"}),n.jsxs("button",{onClick:I,className:"py-2 px-4 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 transition-all duration-200 flex items-center gap-2",disabled:i,children:[i?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx(sh,{size:16}),"Reject Product"]})]})]})]})}),n.jsx(P3,{alerts:r,removeAlert:t})]})}$h.register(BU,h_,g_,p_,m_,f_);function The(){const[r,e]=C.useState({users:0,admins:0,products:0,approvedProducts:0,rejectedProducts:0}),[t,s]=C.useState(!0),[a,i]=C.useState(""),[o,l]=C.useState([]),[c,d]=C.useState([]),[u,f]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const[k,S,R,A,D]=await Promise.all([dt(Ie(J,"users")),dt(Ie(J,"admins")),dt(Ie(J,"products")),dt(Et(Ie(J,"products"),bt("status","==","approved"))),dt(Et(Ie(J,"products"),bt("status","==","rejected")))]);e({users:k.size,admins:S.size,products:R.size,approvedProducts:A.size,rejectedProducts:D.size})}catch(k){i("Failed to fetch dashboard stats: "+k.message)}finally{s(!1)}})()},[]);const m=async()=>{f(!0);try{const N=Pe.currentUser;if(!N)throw new Error("Not authenticated");const k=await N.getIdToken(),R=await fetch("https://foremade-backend.onrender.com/api/admin/all-pro-sellers",{headers:{Authorization:`Bearer ${k}`}}),A=await R.json();R.ok&&A.status==="success"?l(A.approvals||[]):Me.error(A.message||"Failed to fetch pro seller requests")}catch(N){Me.error(N.message||"Failed to fetch pro seller requests")}finally{f(!1)}};C.useEffect(()=>{m()},[]);const p=async(N,k)=>{try{const S=Pe.currentUser;if(!S)throw new Error("Not authenticated");const R=await S.getIdToken(),D=await fetch("https://foremade-backend.onrender.com/api/admin/approve-pro-seller",{method:"POST",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify({proSellerId:N,approve:k})}),P=await D.json();D.ok&&P.status==="success"?(Me.success(P.message||(k?"Pro seller approved":"Pro seller rejected")),m()):Me.error(P.message||"Action failed")}catch(S){Me.error(S.message||"Action failed")}},y={labels:["Users","Admins","Approved Products","Rejected Products"],datasets:[{label:"Counts",data:[r.users,r.admins,r.approvedProducts,r.rejectedProducts],backgroundColor:["#3B82F6","#10B981","#22C55E","#EF4444"],borderColor:["#2563EB","#059669","#16A34A","#DC2626"],borderWidth:1}]},x={labels:["Approved Products","Rejected Products","Pending Products"],datasets:[{label:"Product Status",data:[r.approvedProducts,r.rejectedProducts,r.products-(r.approvedProducts+r.rejectedProducts)],backgroundColor:["#22C55E","#EF4444","#F59E0B"],borderColor:["#16A34A","#DC2626","#D97706"],borderWidth:1}]},v={responsive:!0,plugins:{legend:{position:"top"},tooltip:{enabled:!0}}};return t?n.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[n.jsx(Ss,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 animate-pulse",children:Array.from({length:3}).map((N,k)=>n.jsx("div",{className:"bg-gray-200 p-4 rounded-lg h-24"},k))}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"}),n.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"})]})]})})]}):a?n.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[n.jsx(Ss,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 rounded-lg dark:bg-red-900 dark:border-red-700",children:n.jsx("p",{className:"text-red-700 dark:text-red-300",children:a})})})})]}):n.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[n.jsx(Ss,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mb-6",children:"Admin Dashboard"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg shadow flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.users})]}),n.jsx("i",{className:"bx bx-user text-3xl text-blue-500"})]}),n.jsxs("div",{className:"bg-green-100 p-4 rounded-lg shadow flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Total Admins"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.admins})]}),n.jsx("i",{className:"bx bx-shield text-3xl text-green-500"})]}),n.jsxs("div",{className:"bg-red-100 p-4 rounded-lg shadow flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Total Products"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.products})]}),n.jsx("i",{className:"bx bx-package text-3xl text-red-500"})]}),n.jsxs("div",{className:"bg-teal-100 p-4 rounded-lg shadow flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Approved Products"}),n.jsx("p",{className:"text-2xl font-bold text-teal-600",children:r.approvedProducts})]}),n.jsx("i",{className:"bx bx-check-circle text-3xl text-teal-500"})]}),n.jsxs("div",{className:"bg-orange-100 p-4 rounded-lg shadow flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Rejected Products"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:r.rejectedProducts})]}),n.jsx("i",{className:"bx bx-x-circle text-3xl text-orange-500"})]})]}),n.jsxs("div",{className:"mb-10",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Pro Seller Requests"}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 overflow-x-auto",children:u?n.jsx("div",{className:"text-gray-500",children:"Loading..."}):o.length===0?n.jsx("div",{className:"text-gray-500",children:"No pending requests."}):n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 py-1 text-left",children:"ProSeller ID"}),n.jsx("th",{className:"px-2 py-1 text-left",children:"User ID"}),n.jsx("th",{className:"px-2 py-1 text-left",children:"Status"}),n.jsx("th",{className:"px-2 py-1 text-left",children:"Created"}),n.jsx("th",{className:"px-2 py-1 text-left",children:"Actions"})]})}),n.jsx("tbody",{children:o.map(N=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-2 py-1",children:N.proSellerId}),n.jsx("td",{className:"px-2 py-1",children:N.userId}),n.jsx("td",{className:"px-2 py-1",children:N.status}),n.jsx("td",{className:"px-2 py-1",children:N.createdAt?new Date(N.createdAt).toLocaleDateString():"-"}),n.jsxs("td",{className:"px-2 py-1 space-x-2",children:[n.jsx("button",{onClick:()=>p(N.proSellerId,!0),className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Approve"}),n.jsx("button",{onClick:()=>p(N.proSellerId,!1),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Reject"})]})]},N.proSellerId))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Analytics Overview"}),n.jsx("div",{className:"h-64",children:n.jsx(b_,{data:y,options:v})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Product Status"}),n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsx("div",{className:"w-1/2",children:n.jsx(KU,{data:x,options:v})})})]})]})]})})]})}function Phe({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-2 sm:bottom-4 right-2 sm:right-4 z-50 space-y-1 sm:space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-2 sm:p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-1 sm:gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-lg sm:text-xl`}),n.jsx("span",{className:"text-xs sm:text-base",children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg sm:text-xl font-bold hover:text-gray-200",children:""})]},t.id))})}function Rhe(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function Ihe(){const{alerts:r,addAlert:e,removeAlert:t}=Rhe(),[s,a]=C.useState(null),[i,o]=C.useState([]),[l,c]=C.useState(!0);C.useEffect(()=>{const m=Pe.onAuthStateChanged(p=>{p?(a(p),c(!1)):(e("Please log in to access this page.","error"),c(!1))});return()=>m()},[e]),C.useEffect(()=>{if(!s)return;const m=Et(Ie(J,"notifications"),mh("createdAt","desc")),p=is(m,y=>{try{const x=y.docs.map(v=>({id:v.id,...v.data()}));o(x),c(!1)}catch(x){console.error("Error fetching notifications:",x),e("Failed to load notifications.","error"),c(!1)}},y=>{console.error("Snapshot error:",y),e("Error receiving real-time updates.","error"),c(!1)});return()=>p()},[s,e]);const d=async()=>{if(window.confirm("Are you sure you want to clear all notifications? This cannot be undone.")){c(!0);try{const m=Ie(J,"notifications"),y=(await dt(m)).docs.map(x=>ra(x.ref));await Promise.all(y),e("All notifications cleared successfully! ","success")}catch(m){console.error("Error clearing notifications:",m),e("Failed to clear notifications.","error")}finally{c(!1)}}},u=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleString("en-NG",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A",f=m=>{switch(m){case"user_signup":return{icon:"bx-user-plus",color:"text-green-500"};case"product_upload":return{icon:"bx-package",color:"text-blue-500"};case"order_placed":return{icon:"bx-cart",color:"text-yellow-500"};case"payment_failed":return{icon:"bx-credit-card",color:"text-red-500"};default:return{icon:"bx-bell",color:"text-gray-500"}}};return s?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-3 sm:p-5 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-lg sm:max-w-md md:max-w-2xl lg:max-w-5xl bg-white dark:bg-gray-800 p-3 sm:p-4 md:p-6 rounded-lg sm:rounded-xl shadow-sm",children:[n.jsxs("div",{className:"flex sm:flex-row justify-between items-start sm:items-center mb-3 sm:mb-6",children:[n.jsxs("h2",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-gray-800 dark:text-gray-100 border-b-2 sm:border-b-0 border-blue-500 pb-2 sm:pb-0 flex items-center gap-1 sm:gap-2",children:[n.jsx("i",{className:"bx bx-bell text-blue-500 text-lg sm:text-xl md:text-2xl"}),"Notifications"]}),i.length>0&&n.jsxs("button",{onClick:d,disabled:l,className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm font-medium text-white bg-red-600 rounded-md sm:rounded-lg hover:bg-red-700 transition-all duration-200 shadow-md ${l?"opacity-50 cursor-not-allowed":""} mt-2 sm:mt-0`,children:[n.jsx("i",{className:"bx bx-trash text-base sm:text-lg"}),n.jsx("span",{children:"Clear All"})]})]}),l?n.jsx("div",{className:"flex justify-center items-center py-4 sm:py-6",children:n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-xl sm:text-2xl"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Loading notifications..."})]})}):i.length===0?n.jsxs("div",{className:"text-center py-6 sm:py-8",children:[n.jsx("i",{className:"bx bx-bell-off text-3xl sm:text-5xl text-gray-400 dark:text-gray-500 mb-2 sm:mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic text-sm sm:text-base",children:"No notifications found."})]}):n.jsx("ul",{className:"space-y-2 sm:space-y-4",children:i.map(m=>{const{icon:p,color:y}=f(m.type);return n.jsxs("li",{className:"p-2 sm:p-4 bg-gray-50 dark:bg-gray-700 rounded-lg sm:rounded-xl shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200 flex items-start gap-2 sm:gap-4",children:[n.jsx("i",{className:`bx ${p} text-lg sm:text-2xl ${y}`}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[n.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100 text-sm sm:text-base",children:m.message}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1 sm:mt-0",children:u(m.createdAt)})]}),m.details&&n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 mt-1 sm:mt-2",children:Object.entries(m.details).map(([x,v])=>n.jsxs("span",{children:[n.jsxs("strong",{children:[x.replace("_"," "),":"]})," ",v," ",n.jsx("br",{})]},x))})]})]},m.id)})}),n.jsx(Phe,{alerts:r,removeAlert:t})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-3 sm:p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-xl sm:text-2xl"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Loading..."})]})})]})}function Dhe({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-3 rounded-lg shadow-md animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-lg`}),n.jsx("span",{className:"text-sm",children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Mhe(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="info")=>e(o=>[...o,{id:Date.now(),message:a,type:i}]),removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}const R3=(r,e)=>{const t=[r,e].filter(o=>o?.trim()),s=t[0]?.slice(0,4).toLowerCase()||"user",a=t[1]?.slice(0,3).toLowerCase()||"",i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return(s+a).replace(/[^a-z0-9]/g,"")+i},Ohe=(r,e)=>e?e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):r?r.split("@")[0].slice(0,2).toUpperCase():"??";function Lhe(){const r=_s(),{alerts:e,addAlert:t,removeAlert:s}=Mhe(),[a,i]=C.useState(!1),[o,l]=C.useState(null),[c,d]=C.useState([]),[u,f]=C.useState({email:"",firstName:"",lastName:"",password:"",role:"buyer"}),[m,p]=C.useState({email:"",password:""}),[y,x]=C.useState(null),[v,N]=C.useState(null),[k,S]=C.useState({}),[R,A]=C.useState(!1),[D,P]=C.useState(!1),[E,I]=C.useState(!1),[M,L]=C.useState(!1),[z,F]=C.useState("");C.useEffect(()=>{const de=Pe.onAuthStateChanged(async be=>{if(be){l(be);const Q=await ft(Te(J,"users",be.uid));(!Q.exists()||Q.data().role!=="admin")&&(t("Unauthorized access.","error"),r("/login"))}else t("Please log in as an admin.","error"),r("/login")}),Ye=is(Ie(J,"users"),be=>{const Q=be.docs.map(me=>({id:me.id,...me.data(),role:me.data().role||"buyer",status:me.data().status||"active",profileImage:me.data().profileImage||null}));d(Q)});return()=>{de(),Ye()}},[r]);const V=de=>{const Ye=Ie(J,"products"),be=Et(Ye,bt("sellerId","==",de));return is(be,Q=>{const me=Q.docs.map(We=>{const xe=We.data();return{id:We.id,name:xe.name||"Unnamed Product",imageUrl:xe.imageUrls?.[0]||null,price:xe.price||0,description:xe.description||"No description",category:xe.category||"Uncategorized"}});x(We=>We?{...We,products:me}:null)})};C.useEffect(()=>{const de=Ye=>{Ye.key==="Escape"&&(R||D)&&(A(!1),P(!1))};return window.addEventListener("keydown",de),()=>window.removeEventListener("keydown",de)},[R,D]);const $=de=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(de),Y=de=>de?.length<6?"Password must be at least 6 characters.":"",X=de=>{const Ye={};if(de.firstName?.trim()||(Ye.firstName="First name required."),de.lastName?.trim()||(Ye.lastName="Last name required."),de.email?$(de.email)||(Ye.email="Invalid email."):Ye.email="Email required.",de.password){const be=Y(de.password);be&&(Ye.password=be)}return["buyer","seller","pro seller","admin"].includes(de.role)||(Ye.role="Invalid role."),Ye},ee=de=>{const Ye={};if(de.email?$(de.email)||(Ye.email="Invalid email."):Ye.email="Email required.",!de.password)Ye.password="Password required.";else{const be=Y(de.password);be&&(Ye.password=be)}return Ye},W=(de,Ye)=>{f(be=>({...be,[de]:Ye})),S(be=>({...be,[de]:""}))},B=(de,Ye)=>{p(be=>({...be,[de]:Ye})),S(be=>({...be,[de]:""}))},G=(de,Ye)=>{N(be=>({...be,[de]:Ye})),S(be=>({...be,[de]:""}))},te=async de=>{de.preventDefault(),S({}),i(!0);const Ye=X(u);if(Object.keys(Ye).length){S(Ye),i(!1),t("Fix form errors.","error");return}try{const be=R3(u.firstName,u.lastName),me=(await Wb(Pe,u.email,u.password)).user;await ag(me,{displayName:be}),await as(Te(J,"users",me.uid),{email:u.email,name:`${u.firstName} ${u.lastName}`,username:be,role:u.role,status:"active",preRegistered:!0,createdAt:new Date().toISOString(),uid:me.uid,profileImage:null}),t(`User ${u.email} added! `,"success"),f({email:"",firstName:"",lastName:"",password:"",role:"buyer"}),I(!1)}catch(be){console.error("Add user error:",be),be.code==="auth/email-already-in-use"?S({email:"Email in use."}):be.code==="auth/invalid-email"?S({email:"Invalid email."}):t("Failed to add user.","error")}finally{i(!1)}},re=async de=>{de.preventDefault(),S({}),i(!0);const Ye=ee(m);if(Object.keys(Ye).length){S(Ye),i(!1),t("Fix form errors.","error");return}try{const Q=(await Wb(Pe,m.email,m.password)).user,me=m.email.split("@")[0];await ag(Q,{displayName:me}),await as(Te(J,"users",Q.uid),{email:m.email,name:me,username:me,role:"admin",status:"active",preRegistered:!0,createdAt:new Date().toISOString(),uid:Q.uid,profileImage:null}),await as(Te(J,"admins",Q.uid),{email:m.email,uid:Q.uid,createdAt:new Date().toISOString()}),t(`Admin ${m.email} added! `,"success"),p({email:"",password:""}),L(!1)}catch(be){console.error("Add admin error:",be),be.code==="auth/email-already-in-use"?S({email:"Email in use."}):t("Failed to add admin.","error")}finally{i(!1)}},ie=async de=>{de.preventDefault(),S({}),i(!0);const Ye=X(v);if(Object.keys(Ye).length){S(Ye),i(!1),t("Fix form errors.","error");return}try{const be=v.username||R3(v.firstName,v.lastName);await _n(Te(J,"users",v.id),{email:v.email,name:`${v.firstName} ${v.lastName}`,username:be,role:v.role,updatedAt:new Date().toISOString()}),v.password&&(await ZH(Pe,v.email),t(`Password reset sent to ${v.email}! `,"success")),t(`User ${v.email} updated! `,"success"),P(!1),N(null)}catch(be){console.error("Update user error:",be),t("Failed to update user.","error")}finally{i(!1)}},he=async(de,Ye,be)=>{if(window.confirm(`Confirm ${be==="suspended"?"unsuspend":"suspend"} ${Ye}?`)){i(!0);try{await _n(Te(J,"users",de),{status:be==="suspended"?"active":"suspended",updatedAt:new Date().toISOString()}),t(`User ${Ye} ${be==="suspended"?"unsuspended":"suspended"}!`,"success")}catch(Q){console.error("Suspend error:",Q),t("Failed to update status.","error")}finally{i(!1)}}},le=async(de,Ye)=>{if(window.confirm(`Confirm delete ${Ye}?`)){i(!0);try{await fetch("/send-membership-revoked-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:Ye})}),await ra(Te(J,"users",de)),t(`User ${Ye} deleted!`,"success")}catch(be){console.error("Delete error:",be),t("Failed to delete or send email.","error")}finally{i(!1)}}},De=async de=>{i(!0);try{const Ye=await ft(Te(J,"users",de.id));if(Ye.exists()){const be=V(de.id);x({...de,...Ye.data(),unsubscribe:be})}A(!0)}catch(Ye){console.error("Fetch user error:",Ye),t("Failed to fetch details.","error")}finally{i(!1)}},Oe=de=>{N({id:de.id,email:de.email,firstName:de.name.split(" ")[0],lastName:de.name.split(" ").slice(1).join(" "),username:de.username,role:de.role,password:""}),P(!0)},Be=c.filter(de=>de.email?.toLowerCase().includes(z.toLowerCase())||de.name?.toLowerCase().includes(z.toLowerCase()));return o?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-user text-blue-500 text-xl"})," Manage Users"]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search Users"}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",value:z,onChange:de=>F(de.target.value),placeholder:"Search by email or name...",className:"w-full py-2 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md mb-4 sm:mb-8",children:[n.jsx("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>I(!E),children:n.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[n.jsx("i",{className:`bx bx-chevron-${E?"up":"down"} text-blue-500 text-lg sm:text-xl`}),"Add New User"]})}),E&&n.jsx("div",{className:"mt-4 animate-slide-down",children:n.jsxs("form",{onSubmit:te,className:"space-y-4",children:[n.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["First Name ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"User's first name"})]}),n.jsx("input",{type:"text",value:u.firstName,onChange:de=>W("firstName",de.target.value),placeholder:"John",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.firstName?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.firstName&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.firstName]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Last Name ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"User's last name"})]}),n.jsx("input",{type:"text",value:u.lastName,onChange:de=>W("lastName",de.target.value),placeholder:"Doe",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.lastName?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.lastName&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.lastName]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"User's email address"})]}),n.jsx("input",{type:"email",value:u.email,onChange:de=>W("email",de.target.value),placeholder:"john.doe@example.com",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.email&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.email]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Password ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Password (min 6 characters)"})]}),n.jsx("input",{type:"password",value:u.password,onChange:de=>W("password",de.target.value),placeholder:"Enter password",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.password&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.password]})]}),n.jsxs("div",{className:"relative group sm:col-span-2",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Role ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Select user role"})]}),n.jsxs("select",{value:u.role,onChange:de=>W("role",de.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.role?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a,children:[n.jsx("option",{value:"buyer",children:"Buyer"}),n.jsx("option",{value:"seller",children:"Seller"}),n.jsx("option",{value:"pro seller",children:"Pro Seller"}),n.jsx("option",{value:"admin",children:"Admin"})]}),k.role&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.role]})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",disabled:a,className:"py-2 px-4 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-sm",children:[a?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-plus"}),a?"Adding...":"Add User"]})})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md mb-4 sm:mb-8",children:[n.jsx("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>L(!M),children:n.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[n.jsx("i",{className:`bx bx-chevron-${M?"up":"down"} text-blue-500 text-lg sm:text-xl`}),"Add New Admin"]})}),M&&n.jsx("div",{className:"mt-4 animate-slide-down",children:n.jsxs("form",{onSubmit:re,className:"space-y-4",children:[n.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Admin's email address"})]}),n.jsx("input",{type:"email",value:m.email,onChange:de=>B("email",de.target.value),placeholder:"admin@example.com",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.email&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.email]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Password ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Password (min 6 characters)"})]}),n.jsx("input",{type:"password",value:m.password,onChange:de=>B("password",de.target.value),placeholder:"Enter password",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.password&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.password]})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",disabled:a,className:"py-2 px-4 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-sm",children:[a?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-plus"}),a?"Adding...":"Add Admin"]})})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md",children:[n.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-700 dark:text-gray-200 mb-2 sm:mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-list-ul text-blue-500 text-lg sm:text-xl"}),"All Users"]}),Be.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic text-sm",children:"No users found."}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:Be.map(de=>{const Ye=de.role==="buyer"?"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300":de.role==="seller"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":de.role==="pro seller"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":de.role==="admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300":"bg-gray-100 text-gray-700",be=de.profileImage||null,Q=Ohe(de.email,de.name);return n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>De(de),children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[be?n.jsx("img",{src:be,alt:de.name,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm font-medium",children:Q}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 truncate",children:de.name}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:["Email: ",de.email]})]})]}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Ye}`,children:de.role}),n.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[n.jsxs("button",{onClick:me=>{me.stopPropagation(),he(de.id,de.email,de.status)},className:"text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300 flex items-center gap-1 text-xs",disabled:a||de.status==="suspended",children:[n.jsx("i",{className:"bx bx-block"}),de.status==="suspended"?"Unsuspend":"Suspend"]}),n.jsxs("button",{onClick:me=>{me.stopPropagation(),le(de.id,de.email)},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 flex items-center gap-1 text-xs",disabled:a,children:[n.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]},de.id)})})]}),R&&y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 p-10 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200",children:"User Details"}),n.jsx("button",{onClick:()=>{A(!1),y.unsubscribe?.()},className:"text-gray-500 hover:text-gray-700 text-xl",children:n.jsx("i",{className:"bx bx-x"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",y.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",y.email]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Username:"})," ",y.username||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Role:"})," ",y.role]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",y.status]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Created:"})," ",new Date(y.createdAt).toLocaleDateString()]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Products:"}),y.products?.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-2",children:y.products.map(de=>n.jsx("div",{className:"border border-gray-200 dark:border-gray-700 p-4 rounded-lg shadow-sm hover:shadow-md",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[de.imageUrl?n.jsx("img",{src:de.imageUrl,alt:de.name,className:"w-full h-32 object-cover rounded-md"}):n.jsx("div",{className:"w-full h-32 bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-sm",children:"No Image"}),n.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-200",children:de.name}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Price: ",de.price.toLocaleString()]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Category: ",de.category]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:de.description})]})},de.id))}):n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No products."})]})]}),n.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[n.jsx("button",{onClick:()=>{A(!1),Oe(y),y.unsubscribe?.()},className:"py-1 px-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Edit"}),n.jsx("button",{onClick:()=>{A(!1),r(`/admin-upload-product/${y.id}`),y.unsubscribe?.()},className:"py-1 px-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Upload Product"}),n.jsx("button",{onClick:()=>{A(!1),y.unsubscribe?.()},className:"py-1 px-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})]})]})}),D&&v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 sm:p-2 rounded-lg shadow-md w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200",children:"Edit User"}),n.jsx("button",{onClick:()=>P(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xl",children:n.jsx("i",{className:"bx bx-x"})})]}),n.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["First Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:v.firstName,onChange:de=>G("firstName",de.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.firstName?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a}),k.firstName&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.firstName})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Last Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:v.lastName,onChange:de=>G("lastName",de.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.lastName?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a}),k.lastName&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.lastName})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",value:v.email,onChange:de=>G("email",de.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a}),k.email&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.email})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username"}),n.jsx("input",{type:"text",value:v.username,onChange:de=>G("username",de.target.value),className:"mt-1 w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",disabled:a})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Password (optional)"}),n.jsx("input",{type:"password",value:v.password,onChange:de=>G("password",de.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a}),k.password&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.password})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Role ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:v.role,onChange:de=>G("role",de.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.role?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a,children:[n.jsx("option",{value:"buyer",children:"Buyer"}),n.jsx("option",{value:"seller",children:"Seller"}),n.jsx("option",{value:"pro seller",children:"Pro Seller"}),n.jsx("option",{value:"admin",children:"Admin"})]}),k.role&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.role})]}),n.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[n.jsx("button",{type:"button",onClick:()=>P(!1),className:"py-2 px-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:a,className:"py-2 px-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:a?"Updating...":"Update User"})]})]})]})}),n.jsx(Dhe,{alerts:e,removeAlert:s})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsx("i",{className:"bx bx-loader bx-spin text-2xl text-gray-600 dark:text-gray-300"})})]})}function Fhe({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg ${t.type==="error"?"bg-red-600":"bg-green-600"} text-white flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Uhe(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="success")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}function zhe(){const{alerts:r,addAlert:e,removeAlert:t}=Uhe(),s=_s(),[a,i]=C.useState([]),[o,l]=C.useState([]),[c,d]=C.useState(""),[u,f]=C.useState(!1),m=C.useCallback(Fd(x=>{d(x)},300),[]),p=x=>{m(x.target.value)},y=async(x,v,N)=>{f(!0);try{console.log("Attempting approval for transactionId:",x,"sellerId:",v,"amount:",N);const S=await os.post("https://foremade-backend.onrender.com/approve-payout",{transactionId:x,sellerId:v,amount:N},{timeout:15e3});console.log("Approval response:",S.data),S.data.status==="redirect"?window.location.href=S.data.redirectUrl:e(S.data.message||"Payout approved successfully","success")}catch(k){console.error("Approval error details:",k.response?.data||k.message);let S=k.response?.data?.error||"Approval failed. Please check your Paystack balance.";const R=k.response?.data?.details;R&&typeof R=="object"&&(R.pendingBalance!==void 0&&R.amount!==void 0?S=`Insufficient pending balance: Available ${R.pendingBalance}, Requested ${R.amount}`:S=Object.entries(R).map(([A,D])=>`${A}: ${D}`).join(", ")),e(S,"error")}finally{f(!1)}};return C.useEffect(()=>{const x=S=>{if(!S){e("Please log in.","error"),s("/login");return}},v=Pe.onAuthStateChanged(x);if(!Pe.currentUser){x(null);return}const N=Et(Ie(J,"transactions"),bt("status","==","Pending"),bt("type","==","Withdrawal")),k=is(N,async S=>{const R=[];for(const A of S.docs){const D={id:A.id,...A.data()};if(D.id=String(D.id||"N/A"),D.sellerId=String(D.sellerId||"N/A"),!D.sellerId||D.sellerId==="N/A"||!/^[a-zA-Z0-9]+$/.test(D.sellerId)){console.warn(`Invalid sellerId for transaction ${D.id}: ${D.sellerId}`),D.sellerName="Unknown",D.bankName="N/A",D.accountNumber="N/A",R.push(D);continue}const P=Te(J,"sellers",D.sellerId);try{const E=await ft(P);if(E.exists()){const I=E.data();if(D.sellerName=String(I.fullName||"Unknown"),D.accountNumber=String(I.accountNumber||"N/A"),I.bankCode){const M=Te(J,"banks",I.bankCode),L=await ft(M);D.bankName=String(L.exists()&&L.data().name||"N/A")}else D.bankName="N/A"}else console.warn(`Seller document not found for sellerId: ${D.sellerId}`),D.sellerName="Unknown",D.bankName="N/A",D.accountNumber="N/A"}catch(E){console.error(`Failed to fetch seller or bank data for ${D.sellerId}:`,E),D.sellerName="Unknown",D.bankName="N/A",D.accountNumber="N/A"}R.push(D)}if(console.log("Fetched transaction data:",R),i(R),!c.trim())l(R);else{const A=c.toLowerCase().trim();l(R.filter(D=>[D.id,D.sellerId,D.sellerName].some(E=>!E||typeof E!="string"?!1:E.toLowerCase()===A||E.toLowerCase().includes(A))))}},S=>{e("Failed to fetch transactions.","error"),console.error("Firestore listener error:",S)});return()=>{v(),k&&k()}},[s,c]),n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx(vt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[n.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 flex items-center gap-2",children:"Admin Payout Monitor"})}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search by Transaction ID, Seller ID, or Seller Name...",onChange:p,className:"w-full p-3 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]})}),o.length===0?n.jsx(vt.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No pending payout requests."}):n.jsx(vt.div,{className:"grid gap-4 lg:grid-cols-2",children:n.jsx(Zn,{children:o.map((x,v)=>n.jsxs(vt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3,delay:v*.1},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",x.id||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",x.sellerId||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller Name:"})," ",x.sellerName||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Status:"})," ",n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${x.status==="Pending"?"bg-yellow-100 text-yellow-800":x.status==="Approved"?"bg-green-100 text-green-800":x.status==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:x.status||"N/A"})]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Amount:"})," ",x.country==="United Kingdom"?"":"",x.amount?.toFixed(2)||"0.00"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Bank Name:"})," ",x.bankName||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Account Number:"})," ",x.accountNumber||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Country:"})," ",x.country||"N/A"]})]})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",x.createdAt?.toDate?new Date(x.createdAt.toDate()).toLocaleString():"N/A"]}),x.status==="Failed"&&x.failureReason&&n.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Reason:"})," ",x.failureReason]}),n.jsx("div",{className:"mt-4 flex gap-2",children:n.jsxs("button",{onClick:()=>y(x.id,x.sellerId,x.amount),disabled:u||x.status!=="Pending"||x.sellerId==="N/A",className:`px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center gap-2 ${u||x.status!=="Pending"||x.sellerId==="N/A"?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("i",{className:"bx bx-check"}),"Approve"]})})]},x.id||`txn-${v}`))})}),n.jsx(Fhe,{alerts:r,removeAlert:t})]})})]})}function Bhe(){const[r,e]=C.useState([]),[t,s]=C.useState({Fashion:[],Gadgets:[]}),[a,i]=C.useState(""),[o,l]=C.useState("All"),[c,d]=C.useState([]),[u,f]=C.useState(!0);C.useEffect(()=>{(async()=>{try{const v=Et(Ie(J,"products"),bt("status","==","approved")),k=(await dt(v)).docs.map(D=>({id:D.id,...D.data()})),S=new Set(k.map(D=>D.category||"Other"));d(["All",...S]);const R=await dt(Ie(J,"trendingItems")),A={Fashion:[],Gadgets:[]};R.forEach(D=>{const P=D.data();if(P.category==="Fashion"||P.category==="Gadgets"){const E=k.find(I=>I.id===P.productId);A[P.category].push({id:D.id,...P,productName:E?.name||"Unknown Product"})}}),s(A),e(k)}catch(v){console.error("Error loading data:",v),Me.error("Failed to load products or trending items.")}finally{f(!1)}})()},[]);const m=async(x,v)=>{if(t[v].length>=10){Me.error(`Cannot add more to trending ${v}. Maximum 10 items reached.`);return}try{const N=Te(Ie(J,"trendingItems"));await as(N,{productId:x,category:v,addedAt:new Date});const k=r.find(S=>S.id===x);s({...t,[v]:[...t[v],{id:N.id,productId:x,productName:k.name}]}),Me.success(`Added to trending ${v}!`)}catch(N){console.error("Error adding trending item:",N),Me.error("Failed to add trending item.")}},p=async(x,v)=>{try{await ra(Te(J,"trendingItems",x)),s({...t,[v]:t[v].filter(N=>N.id!==x)}),Me.success("Removed from trending items!")}catch(N){console.error("Error removing trending item:",N),Me.error("Failed to remove trending item.")}},y=r.filter(x=>x.name.toLowerCase().includes(a.toLowerCase())&&(o==="All"||x.category===o));return u?n.jsx("div",{className:"py-4 xs:py-6",children:n.jsx("div",{className:"container mx-auto px-2 xs:px-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 xs:p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((x,v)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},v))})]})})}):n.jsx("div",{className:"py-4 xs:py-6",children:n.jsxs("div",{className:"container mx-auto px-2 xs:px-4",children:[n.jsxs("h1",{className:"text-xl xs:text-2xl font-bold text-gray-800 mb-4 xs:mb-6 flex items-center",children:[n.jsx("i",{className:"bx bx-trending-up text-blue-600 mr-2 text-2xl"}),"Edit Trending Items"]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 xs:gap-4 mb-4 xs:mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx("input",{type:"text",placeholder:"Search products...",value:a,onChange:x=>i(x.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all","aria-label":"Search products"}),n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-lg"})]}),n.jsxs("div",{className:"relative flex-1",children:[n.jsx("select",{value:o,onChange:x=>l(x.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all appearance-none","aria-label":"Filter by category",children:c.map(x=>n.jsx("option",{value:x,children:x},x))}),n.jsx("i",{className:"bx bx-filter absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-lg"})]})]}),["Fashion","Gadgets"].map(x=>n.jsxs("div",{className:"mb-6 xs:mb-8 bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"sticky top-0 bg-white z-10 p-4 xs:p-6 border-b border-gray-100",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx("i",{className:"bx bx-star text-blue-600 mr-2 text-xl"}),"Trending in ",x]})}),n.jsxs("div",{className:"p-4 xs:p-6",children:[n.jsxs("div",{className:"mb-4 xs:mb-6",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Current Trending Products"}),t[x].length===0?n.jsxs("p",{className:"text-gray-500 text-sm flex items-center",children:[n.jsx("i",{className:"bx bx-list-ul mr-1 text-gray-400"}),"No trending products selected for ",x,"."]}):n.jsx("ul",{className:"space-y-2 animate-fadeIn",children:t[x].map(v=>n.jsxs("li",{className:"flex items-center justify-between p-2 rounded-md hover:bg-gray-50 transition-colors",children:[n.jsx("span",{className:"text-sm text-gray-800",children:v.productName}),n.jsx("button",{onClick:()=>p(v.id,x),className:"text-red-500 hover:text-red-600 transform hover:scale-110 transition-transform","aria-label":`Remove ${v.productName} from trending ${x}`,children:n.jsx("i",{className:"bx bx-trash text-lg"})})]},v.id))})]}),n.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Add Products"}),y.length===0?n.jsxs("p",{className:"text-gray-500 text-sm flex items-center",children:[n.jsx("i",{className:"bx bx-search-alt-2 mr-1 text-gray-400"}),"No products match your search or filter."]}):n.jsx("ul",{className:"space-y-2 max-h-80 overflow-y-auto animate-fadeIn",children:y.map(v=>n.jsxs("li",{className:"flex items-center justify-between p-2 rounded-md hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[v.imageUrls?.[0]&&n.jsx("img",{src:v.imageUrls[0],alt:v.name,className:"w-10 h-10 object-cover rounded"}),n.jsx("span",{className:"text-sm text-gray-800",children:v.name})]}),n.jsx("button",{onClick:()=>m(v.id,x),className:`text-blue-600 hover:text-blue-500 text-sm transform hover:scale-110 transition-transform ${t[x].some(N=>N.productId===v.id)?"opacity-50 cursor-not-allowed":""}`,disabled:t[x].some(N=>N.productId===v.id),"aria-label":`Add ${v.name} to trending ${x}`,children:n.jsx("i",{className:"bx bx-plus text-lg"})})]},v.id))})]})]},x))]})})}function Vhe({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Hhe(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function $he(){const{alerts:r,addAlert:e,removeAlert:t}=Hhe(),[s,a]=C.useState([]),[i,o]=C.useState({id:"",desktop:"",tablet:"",mobile:"",buttonText:"",buttonUrl:"",buttonStyle:"primary"}),[l,c]=C.useState(!1),[d,u]=C.useState({desktop:!1,tablet:!1,mobile:!1}),[f,m]=C.useState({desktop:0,tablet:0,mobile:0}),[p,y]=C.useState(!0),[x,v]=C.useState(!0);C.useEffect(()=>{(async()=>{try{y(!0);const M=Ie(J,"settings","carousel","slides"),L=await dt(M),z=new Map;L.docs.forEach(V=>{const $={id:V.id,...V.data()};z.set(V.id,$)});const F=Array.from(z.values()).sort((V,$)=>new Date($.createdAt||0)-new Date(V.createdAt||0));a(F),e("Slides loaded successfully!","success")}catch(M){console.error("Error fetching slides:",M),e("Failed to load slides.","error")}finally{y(!1)}})()},[]);const N=I=>{const{name:M,value:L}=I.target;o(z=>({...z,[M]:L}))},k=async(I,M)=>{const L=I.target.files[0];if(!L)return;if(!["image/gif","video/mp4","video/webm","image/jpeg","image/png"].includes(L.type)){e(`Invalid file type for ${M}. Use GIF, MP4, WebM, JPEG, or PNG.`,"error");return}const F=L.type.startsWith("video")?50*1024*1024:10*1024*1024;if(L.size>F){e(`File too large for ${M}. Max size is ${L.type.startsWith("video")?"50MB":"10MB"}.`,"error");return}u(V=>({...V,[M]:!0})),m(V=>({...V,[M]:0}));try{const V=new FormData;V.append("file",L),V.append("isVideo",L.type.startsWith("video").toString());const Y=await os.post("https://foremade-backend.onrender.com/upload",V,{headers:{"Content-Type":"multipart/form-data"},timeout:12e4,onUploadProgress:X=>{const ee=Math.round(X.loaded*100/X.total);m(W=>({...W,[M]:ee}))}});if(Y.status!==200||!Y.data.url)throw new Error("Failed to upload media to Cloudinary.");o(X=>({...X,[M]:Y.data.url})),e(`${M} media uploaded!`,"success")}catch(V){console.error("Media upload error:",{message:V.message,code:V.code,response:V.response?.data}),e(V.code==="ECONNABORTED"?"Upload timed out. Please check your network.":V.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network.":`Failed to upload ${M} media.`,"error")}finally{u(V=>({...V,[M]:!1})),m(V=>({...V,[M]:0}))}},S=I=>I?I.match(/\.(mp4|webm)$/i)?n.jsx("video",{src:I,controls:!0,className:"mt-2 h-20 w-auto rounded shadow-sm",title:"Video preview"}):n.jsx("img",{src:I,alt:"Media preview",className:"mt-2 h-20 w-auto rounded shadow-sm"}):null,R=async I=>{if(I.preventDefault(),!i.desktop||!i.tablet||!i.mobile){e("All media fields are required.","error");return}try{y(!0);const M=l?i.id:`slide-${Date.now()}`,L={desktop:i.desktop,tablet:i.tablet,mobile:i.mobile,buttonText:i.buttonText||"",buttonUrl:i.buttonUrl||"",buttonStyle:i.buttonStyle||"primary",mediaType:i.desktop.toLowerCase().match(/\.(mp4|webm)$/i)?"video":"image",createdAt:new Date().toISOString()};await as(Te(J,"settings/carousel/slides",M),L),e(l?"Slide updated successfully! ":"Slide added successfully! ","success"),a(z=>l?z.map(F=>F.id===M?{id:M,...i}:F):[...z,{id:M,...i}]),P()}catch(M){console.error("Error saving slide:",M),e("Failed to save slide.","error")}finally{y(!1)}},A=I=>{o(I),c(!0),v(!0)},D=async I=>{if(confirm("Delete this slide?"))try{y(!0);const M=[ra(Te(J,"settings","carousel","slides",I)).catch(V=>console.error("Error deleting from new path:",V)),ra(Te(J,"carouselSlides",I)).catch(V=>console.error("Error deleting from old path:",V))];await Promise.all(M),a(V=>V.filter($=>$.id!==I)),e("Slide deleted successfully!","success");const L=Ie(J,"settings","carousel","slides"),F=(await dt(L)).docs.map(V=>({id:V.id,...V.data()}));a(F)}catch(M){console.error("Error deleting slide:",M),e("Failed to delete slide.","error")}finally{y(!1)}},P=()=>{o({id:"",desktop:"",tablet:"",mobile:"",buttonText:"",buttonUrl:"",buttonStyle:"primary"}),c(!1)},E=()=>{v(I=>!I)};return p?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-image text-blue-500"}),"Manage Carousel Banners"]}),n.jsxs("div",{className:"p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200",children:[n.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:E,children:[n.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx("i",{className:`bx bx-chevron-${x?"up":"down"} text-blue-500`}),l?"Edit Slide":"Add New Slide"]}),l&&n.jsxs("button",{onClick:I=>{I.stopPropagation(),P()},className:"text-gray-600 hover:text-gray-800 dark:hover:text-gray-400 text-sm flex items-center gap-1",title:"Cancel editing",children:[n.jsx("i",{className:"bx bx-x"}),"Cancel"]})]}),x&&n.jsxs("form",{onSubmit:R,className:"mt-4 ml-4 space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"col-span-1 md:col-span-2 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:"Call-to-Action Button (Optional)"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Button Text"}),n.jsx("input",{type:"text",name:"buttonText",value:i.buttonText,onChange:N,placeholder:"e.g., Shop Now",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Button URL"}),n.jsx("input",{type:"text",name:"buttonUrl",value:i.buttonUrl,onChange:N,placeholder:"e.g., /products/category",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Button Style"}),n.jsxs("select",{name:"buttonStyle",value:i.buttonStyle,onChange:N,className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[n.jsx("option",{value:"primary",children:"Primary"}),n.jsx("option",{value:"secondary",children:"Secondary"}),n.jsx("option",{value:"outline",children:"Outline"})]})]})]})]}),["desktop","tablet","mobile"].map(I=>n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[`${I.charAt(0).toUpperCase()+I.slice(1)} Media`,n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:`Upload an image, GIF, or short video optimized for ${I} devices (GIF 10MB, Videos 50MB)`})]}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"text",name:I,value:i[I],onChange:N,placeholder:"Enter media URL or upload below",className:"mt-1 w-full py-2 pl-3 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:d[I]})}),n.jsx("input",{type:"file",accept:"image/*,video/mp4,video/webm",onChange:M=>k(M,I),className:"mt-2 w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",disabled:d[I]}),d[I]&&n.jsxs("div",{className:"mt-2",children:[n.jsxs("p",{className:"text-sm text-gray-500",children:["Uploading... ",f[I],"%"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${f[I]}%`}})})]}),S(i[I])]},I))]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs("button",{type:"submit",disabled:d.desktop||d.tablet||d.mobile||p,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-sm",children:[p?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-save"}),p?"Saving...":l?"Update Slide":"Add Slide"]})})]})]}),n.jsxs("div",{className:"mt-6 p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-list-ul text-blue-500"}),"Current Slides"]}),s.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic",children:"No slides available."}):n.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(I=>n.jsxs("li",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all duration-200",children:[S(I.desktop),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Slide ",I.id.split("-")[1]]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>A(I),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 text-sm",title:"Edit slide",children:[n.jsx("i",{className:"bx bx-edit"}),"Edit"]}),n.jsxs("button",{onClick:()=>D(I.id),className:"text-red-600 hover:text-red-800 flex items-center gap-1 text-sm",title:"Delete slide",children:[n.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]})]},I.id))})]}),n.jsx(Bhe,{}),n.jsx(Vhe,{alerts:r,removeAlert:t})]})})]})}function qhe({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Whe(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function Yhe(){const{alerts:r,addAlert:e,removeAlert:t}=Whe(),[s,a]=C.useState([]),[i,o]=C.useState([]),[l,c]=C.useState({id:"",productId:"",discount:"",startDate:"",endDate:""}),[d,u]=C.useState(!1),[f,m]=C.useState(!0),[p,y]=C.useState(!0),[x,v]=C.useState({});C.useEffect(()=>{(async()=>{try{m(!0);const L=(await dt(Ie(J,"products"))).docs.map(V=>({id:V.id,...V.data()})).filter(V=>V.status==="approved");o(L);const F=(await dt(Ie(J,"dailyDeals"))).docs.map(V=>({id:V.id,...V.data()}));a(F),e("Data loaded successfully!","success")}catch(M){console.error("Error fetching data:",M),e("Failed to load products or deals.","error")}finally{m(!1)}})()},[]);const N=I=>{const{name:M,value:L}=I.target;c(z=>({...z,[M]:L})),v(z=>({...z,[M]:""}))},k=()=>{const I={};return l.productId||(I.productId="Please select a product."),(!l.discount||l.discount<0||l.discount>100)&&(I.discount="Discount must be between 0 and 100%."),l.startDate||(I.startDate="Start date is required."),l.endDate||(I.endDate="End date is required."),l.startDate&&l.endDate&&l.startDate>l.endDate&&(I.endDate="End date must be after start date."),I},S=async I=>{I.preventDefault();const M=k();if(Object.keys(M).length>0){v(M),e("Please fix form errors.","error");return}try{m(!0);const L=d?l.id:`deal-${Date.now()}`,z={productId:l.productId,discount:parseFloat(l.discount)/100,startDate:l.startDate,endDate:l.endDate,createdAt:new Date().toISOString()};await as(Te(J,"dailyDeals",L),z),e(d?"Deal updated successfully! ":"Deal added successfully! ","success"),a(F=>d?F.map(V=>V.id===L?{id:L,...z}:V):[...F,{id:L,...z}]),D()}catch(L){console.error("Error saving deal:",L),e("Failed to save deal.","error")}finally{m(!1)}},R=I=>{c({id:I.id,productId:I.productId,discount:(I.discount*100).toString(),startDate:I.startDate,endDate:I.endDate}),u(!0),y(!0)},A=async I=>{if(confirm("Delete this deal?"))try{m(!0),await ra(Te(J,"dailyDeals",I)),a(M=>M.filter(L=>L.id!==I)),e("Deal deleted successfully!","success")}catch(M){console.error("Error deleting deal:",M),e("Failed to delete deal.","error")}finally{m(!1)}},D=()=>{c({id:"",productId:"",discount:"",startDate:"",endDate:""}),u(!1),v({})},P=()=>{y(I=>!I)},E=I=>i.find(M=>M.id===I)||{};return f?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-purchase-tag text-blue-500"}),"Manage Daily Deals"]}),n.jsxs("div",{className:"p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200",children:[n.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:P,children:[n.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx("i",{className:`bx bx-chevron-${p?"up":"down"} text-blue-500`}),d?"Edit Deal":"Add New Deal"]}),d&&n.jsxs("button",{onClick:I=>{I.stopPropagation(),D()},className:"text-gray-600 hover:text-gray-800 dark:hover:text-gray-400 text-sm flex items-center gap-1",title:"Cancel editing",children:[n.jsx("i",{className:"bx bx-x"}),"Cancel"]})]}),p&&n.jsxs("form",{onSubmit:S,className:"mt-4 ml-4 space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select a product for the deal"})]}),n.jsxs("select",{name:"productId",value:l.productId,onChange:N,className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${x.productId?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,children:[n.jsx("option",{value:"",children:"Select a product"}),i.map(I=>n.jsx("option",{value:I.id,children:I.name||"Unnamed Product"},I.id))]}),x.productId&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),x.productId]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Discount (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Discount percentage for the deal"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",name:"discount",value:l.discount,onChange:N,min:"0",max:"100",step:"0.01",placeholder:"20",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${x.discount?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),x.discount&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),x.discount]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Start Date",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"When the deal starts"})]}),n.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:N,className:`mt-1 w-full py-2 pl-3 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${x.startDate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),x.startDate&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),x.startDate]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["End Date",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"When the deal ends"})]}),n.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:N,className:`mt-1 w-full py-2 pl-3 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${x.endDate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),x.endDate&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),x.endDate]})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs("button",{type:"submit",disabled:f,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-sm",children:[f?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-save"}),f?"Saving...":d?"Update Deal":"Add Deal"]})})]})]}),n.jsxs("div",{className:"mt-6 p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-list-ul text-blue-500"}),"Current Daily Deals"]}),s.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic",children:"No deals available."}):n.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(I=>{const M=E(I.productId);return n.jsxs("li",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all duration-200",children:[n.jsx("img",{src:M.imageUrls?.[0]||"/images/placeholder.jpg",alt:M.name||"Product",className:"h-32 w-full object-cover rounded-lg mb-2"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:M.name||"Unnamed Product"}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Discount: ",(I.discount*100).toFixed(2),"%"]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:[I.startDate," to ",I.endDate]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-2",children:[n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Deal ",I.id.split("-")[1]]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>R(I),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 text-sm",title:"Edit deal",children:[n.jsx("i",{className:"bx bx-edit"}),"Edit"]}),n.jsxs("button",{onClick:()=>A(I.id),className:"text-red-600 hover:text-red-800 flex items-center gap-1 text-sm",title:"Delete deal",children:[n.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]})]},I.id)})})]}),n.jsx(qhe,{alerts:r,removeAlert:t})]})})]})}function Ghe({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Xhe(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}function Khe({label:r="Minimum Purchase Amount",currencySymbol:e="",firestorePath:t="settings/minimumPurchase",defaultValue:s=25e3}){const{alerts:a,addAlert:i,removeAlert:o}=Xhe(),l=_s(),[c,d]=C.useState(s),[u,f]=C.useState(!0),[m,p]=C.useState(!1);C.useEffect(()=>{if(!Pe.currentUser){i("Please log in as admin.","error"),l("/login");return}(async()=>{try{const v=Te(J,t),N=await ft(v);N.exists()&&d(N.data().amount||s)}catch(v){i(`Failed to fetch ${r.toLowerCase()}.`,"error"),console.error("Fetch error:",v)}finally{f(!1)}})()},[l,t,r,s]);const y=async()=>{if(!Pe.currentUser){i("Please log in as admin.","error"),l("/login");return}if(c<=0){i(`${r} must be greater than zero.`,"error");return}p(!0);try{const x=Te(J,t);await as(x,{amount:c},{merge:!0}),i(`${r} updated successfully.`,"success")}catch(x){i(`Failed to update ${r.toLowerCase()}.`,"error"),console.error("Save error:",x)}finally{p(!1)}};return u?n.jsx("div",{className:"flex-1 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})}):n.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 border-b-2 border-blue-500 pb-2 md:pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-dollar text-blue-500"}),r]}),n.jsxs("div",{className:"mt-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"minimumPurchase",className:"block text-sm md:text-base font-medium text-gray-700 dark:text-gray-300",children:[r," (",e,")"]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:e}),n.jsx("input",{type:"number",id:"minimumPurchase",value:c,onChange:x=>d(Math.max(0,Number(x.target.value))),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",min:"0",required:!0,disabled:m})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Set the ",r.toLowerCase()," buyers must meet to proceed."]})]}),n.jsxs("button",{onClick:y,className:`w-full md:w-auto py-2 px-4 md:px-6 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 flex items-center justify-center gap-2 transition ${m?"opacity-50 cursor-not-allowed":""}`,disabled:m,children:[n.jsx("i",{className:"bx bx-save"}),m?"Saving...":"Save Changes"]})]}),n.jsx(Ghe,{alerts:a,removeAlert:o})]})}function Zhe({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Qhe(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}function Jhe(){const{alerts:r,addAlert:e,removeAlert:t}=Qhe(),[s,a]=C.useState(!0),[i,o]=C.useState({}),[l,c]=C.useState([]),[d,u]=C.useState({}),[f,m]=C.useState({});C.useEffect(()=>{(async()=>{try{a(!0);const R=(await dt(Ie(J,"categories"))).docs.map(I=>I.id).sort();c(R);const A=Te(J,"feeConfigurations","categoryFees"),D=await ft(A);let P={};D.exists()?P=D.data():(P=R.reduce((I,M)=>({...I,[M]:{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2,taxRate:.075}}),{}),await as(A,P));const E={...P};R.forEach(I=>{E[I]||(E[I]={minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2,taxRate:.075})}),o(E)}catch(S){console.error("Error fetching data:",S),e("Failed to load categories or fees.","error")}finally{a(!1)}})()},[]);const p=(k,S,R)=>{o(A=>({...A,[k]:{...A[k],[S]:S==="minPrice"||S==="maxPrice"?R===""?1/0:parseFloat(R)||0:(parseFloat(R)||0)/100}})),u(A=>({...A,[`${k}_${S}`]:""}))},y=()=>{const k={};return l.forEach(S=>{const R=i[S]||{};R.minPrice<0&&(k[`${S}_minPrice`]="Minimum price cannot be negative."),R.maxPrice!==1/0&&R.maxPrice<R.minPrice&&(k[`${S}_maxPrice`]="Maximum price must be greater than minimum price."),(R.buyerProtectionRate<0||R.buyerProtectionRate>1)&&(k[`${S}_buyerProtectionRate`]="Rate must be between 0 and 100%."),(R.handlingRate<0||R.handlingRate>1)&&(k[`${S}_handlingRate`]="Rate must be between 0 and 100%."),(R.taxRate<0||R.taxRate>1)&&(k[`${S}_taxRate`]="Tax rate must be between 0 and 100%.")}),k},x=async k=>{k.preventDefault(),u({}),a(!0);const S=y();if(Object.keys(S).length>0){u(S),a(!1),e("Please fix the form errors.","error");return}try{const R=Te(J,"feeConfigurations","categoryFees");await as(R,i),e("Fees updated successfully! ","success")}catch(R){console.error("Error saving fees:",R),e("Failed to save fees.","error")}finally{a(!1)}},v=k=>{o(S=>({...S,[k]:{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2,taxRate:.075}})),u(S=>({...S,[`${k}_minPrice`]:"",[`${k}_maxPrice`]:"",[`${k}_buyerProtectionRate`]:"",[`${k}_handlingRate`]:"",[`${k}_taxRate`]:""}))},N=k=>{m(S=>({...S,[k]:!S[k]}))};return s?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[n.jsx(Khe,{label:"Set Minimum Purchase",currencySymbol:"",firestorePath:"settings/minimumPurchase",defaultValue:25e3}),n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-money text-blue-500"}),"Edit Category Fees"]}),l.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic",children:"No categories found. Add categories in Firestore to set fees."}):n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l.map(k=>n.jsxs("div",{className:"p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200",children:[n.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>N(k),children:[n.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx("i",{className:`bx bx-chevron-${f[k]?"up":"down"} text-blue-500`}),k]}),n.jsxs("button",{onClick:S=>{S.stopPropagation(),v(k)},disabled:s,className:"text-gray-600 hover:text-gray-800 dark:hover:text-gray-400 text-sm flex items-center gap-1",title:"Reset fees to default",children:[n.jsx("i",{className:"bx bx-refresh"}),"Reset"]})]}),f[k]&&n.jsx("div",{className:"mt-4 ml-4 space-y-4 animate-slide-down",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Minimum Price ()",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Minimum product price for this category"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:""}),n.jsx("input",{type:"number",value:i[k]?.minPrice===1/0?"":i[k]?.minPrice||"",onChange:S=>p(k,"minPrice",S.target.value),min:"0",step:"0.01",placeholder:"1000",className:`mt-1 w-full py-2 pl-8 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${d[`${k}_minPrice`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s})]}),d[`${k}_minPrice`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),d[`${k}_minPrice`]]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Maximum Price ()",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Maximum product price (leave blank for no limit)"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:""}),n.jsx("input",{type:"number",value:i[k]?.maxPrice===1/0?"":i[k]?.maxPrice||"",onChange:S=>p(k,"maxPrice",S.target.value),min:"0",step:"0.01",placeholder:"No maximum",className:`mt-1 w-full py-2 pl-8 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${d[`${k}_maxPrice`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s})]}),d[`${k}_maxPrice`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),d[`${k}_maxPrice`]]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Buyer Protection Rate (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Fee percentage for buyer protection"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:i[k]?.buyerProtectionRate*100||"",onChange:S=>p(k,"buyerProtectionRate",S.target.value),min:"0",max:"100",step:"0.01",placeholder:"8",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${d[`${k}_buyerProtectionRate`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),d[`${k}_buyerProtectionRate`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),d[`${k}_buyerProtectionRate`]]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Handling Rate (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Fee percentage for handling"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:i[k]?.handlingRate*100||"",onChange:S=>p(k,"handlingRate",S.target.value),min:"0",max:"100",step:"0.01",placeholder:"20",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${d[`${k}_handlingRate`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),d[`${k}_handlingRate`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),d[`${k}_handlingRate`]]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Tax Rate (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Tax percentage for this category"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:i[k]?.taxRate*100||"",onChange:S=>p(k,"taxRate",S.target.value),min:"0",max:"100",step:"0.01",placeholder:"7.5",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${d[`${k}_taxRate`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),d[`${k}_taxRate`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),d[`${k}_taxRate`]]})]})]})})]},k)),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs("button",{type:"submit",disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-sm",children:[s?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-save"}),s?"Saving...":"Save Fees"]})})]}),n.jsx(Zhe,{alerts:r,removeAlert:t})]})})]})}function efe({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function tfe(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}function sfe(){const{alerts:r,addAlert:e,removeAlert:t}=tfe(),[s,a]=C.useState(!0),[i,o]=C.useState([]),[l,c]=C.useState({}),[d,u]=C.useState({}),[f,m]=C.useState(""),[p,y]=C.useState(""),[x,v]=C.useState(""),[N,k]=C.useState(null),[S,R]=C.useState(null),[A,D]=C.useState({minPrice:"",maxPrice:"",buyerProtectionRate:"",handlingRate:"",taxRate:""}),[P,E]=C.useState({}),[I,M]=C.useState({}),[L,z]=C.useState(null),[F,V]=C.useState(null),[$,Y]=C.useState({}),[X,ee]=C.useState({}),[W,B]=C.useState({category:null,subcategory:null,subSubcategory:null});C.useEffect(()=>{let Q=!0;const me=is(Ie(J,"categories"),ot=>{const lt=ot.docs.map(rt=>rt.id).sort();Q&&o(lt)}),We=is(Ie(J,"customSubcategories"),ot=>{const lt={};ot.forEach(rt=>{lt[rt.id]=rt.data().subcategories||[]}),Q&&c(lt)}),xe=is(Ie(J,"customSubSubcategories"),ot=>{const lt={};ot.forEach(rt=>{lt[rt.id]=rt.data()||{}}),Q&&u(lt)}),Je=is(Te(J,"feeConfigurations","categoryFees"),ot=>{if(ot.exists())Q&&R(ot.data());else{const lt={};as(Te(J,"feeConfigurations","categoryFees"),lt),Q&&R(lt)}});return a(!1),()=>{Q=!1,me(),We(),xe(),Je()}},[]);const G=async()=>{if(!f.trim()){Y({newCategory:"Category name is required."}),e("Category name is required.","error");return}if(i.includes(f.trim())){Y({newCategory:"Category already exists."}),e("Category already exists.","error");return}const Q={};if(A.minPrice&&parseFloat(A.minPrice)<0&&(Q.minPrice="Minimum price cannot be negative."),A.maxPrice&&parseFloat(A.maxPrice)<(parseFloat(A.minPrice)||0)&&(Q.maxPrice="Maximum price must be greater than minimum price."),A.buyerProtectionRate&&(parseFloat(A.buyerProtectionRate)<0||parseFloat(A.buyerProtectionRate)>100)&&(Q.buyerProtectionRate="Rate must be between 0 and 100%."),A.handlingRate&&(parseFloat(A.handlingRate)<0||parseFloat(A.handlingRate)>100)&&(Q.handlingRate="Rate must be between 0 and 100%."),A.taxRate&&(parseFloat(A.taxRate)<0||parseFloat(A.taxRate)>100)&&(Q.taxRate="Tax rate must be between 0 and 100%."),Object.keys(Q).length>0){Y(Q),e("Please fix the form errors.","error");return}a(!0);try{const me=Te(J,"categories",f.trim());await as(me,{name:f.trim(),createdAt:new Date,bannerDesktop:p||fallbackBanner,bannerMobile:x||fallbackBanner});const We=Te(J,"feeConfigurations","categoryFees"),xe={...S,[f.trim()]:{minPrice:parseFloat(A.minPrice)||1e3,maxPrice:A.maxPrice?parseFloat(A.maxPrice):1/0,buyerProtectionRate:(parseFloat(A.buyerProtectionRate)||8)/100,handlingRate:(parseFloat(A.handlingRate)||20)/100,taxRate:(parseFloat(A.taxRate)||7.5)/100}};await as(We,xe),m(""),y(""),v(""),D({minPrice:"",maxPrice:"",buyerProtectionRate:"",handlingRate:"",taxRate:""}),Y({}),e("Category added successfully! ","success")}catch(me){console.error("Error adding category:",me),e("Failed to add category.","error")}finally{a(!1)}},te=async Q=>{if(!f.trim()){Y({newCategory:"Category name is required."}),e("Category name is required.","error");return}if(i.includes(f.trim())&&f.trim()!==Q){Y({newCategory:"Category name already exists."}),e("Category name already exists.","error");return}const me={};if(A.minPrice&&parseFloat(A.minPrice)<0&&(me.minPrice="Minimum price cannot be negative."),A.maxPrice&&parseFloat(A.maxPrice)<(parseFloat(A.minPrice)||0)&&(me.maxPrice="Maximum price must be greater than minimum price."),A.buyerProtectionRate&&(parseFloat(A.buyerProtectionRate)<0||parseFloat(A.buyerProtectionRate)>100)&&(me.buyerProtectionRate="Rate must be between 0 and 100%."),A.handlingRate&&(parseFloat(A.handlingRate)<0||parseFloat(A.handlingRate)>100)&&(me.handlingRate="Rate must be between 0 and 100%."),A.taxRate&&(parseFloat(A.taxRate)<0||parseFloat(A.taxRate)>100)&&(me.taxRate="Tax rate must be between 0 and 100%."),Object.keys(me).length>0){Y(me),e("Please fix the form errors.","error");return}a(!0);try{const We=Te(J,"categories",Q),Je=(await ft(We)).data(),ot=Te(J,"categories",f.trim());await as(ot,{name:f.trim(),createdAt:new Date,bannerDesktop:p||Je.bannerDesktop||fallbackBanner,bannerMobile:x||Je.bannerMobile||fallbackBanner}),await ra(We);const lt={...S};lt[f.trim()]={minPrice:parseFloat(A.minPrice)||lt[Q].minPrice,maxPrice:A.maxPrice?parseFloat(A.maxPrice):lt[Q].maxPrice,buyerProtectionRate:(parseFloat(A.buyerProtectionRate)||lt[Q].buyerProtectionRate*100)/100,handlingRate:(parseFloat(A.handlingRate)||lt[Q].handlingRate*100)/100,taxRate:(parseFloat(A.taxRate)||lt[Q].taxRate||7.5)/100},delete lt[Q];const rt=Te(J,"feeConfigurations","categoryFees");await as(rt,lt);const et=Te(J,"customSubcategories",Q),Rt=await ft(et);if(Rt.exists()){const xt=Te(J,"customSubcategories",f.trim());await as(xt,Rt.data()),await ra(et)}const Tt=Te(J,"customSubSubcategories",Q),ut=await ft(Tt);if(ut.exists()){const xt=Te(J,"customSubSubcategories",f.trim());await as(xt,ut.data()),await ra(Tt)}const At=Et(Ie(J,"products"),bt("category","==",Q.toLowerCase())),st=await dt(At),qe=Cu(J);st.docs.forEach(xt=>{qe.update(xt.ref,{category:f.trim().toLowerCase()})}),await qe.commit(),e(`Updated ${st.size} products to new category.`,"success"),m(""),y(""),v(""),D({minPrice:"",maxPrice:"",buyerProtectionRate:"",handlingRate:"",taxRate:""}),k(null),Y({}),e("Category updated successfully! ","success")}catch(We){console.error("Error editing category:",We),e("Failed to edit category.","error")}finally{a(!1)}},re=async Q=>{a(!0);try{await ra(Te(J,"categories",Q));const me={...S};delete me[Q];const We=Te(J,"feeConfigurations","categoryFees");await as(We,me),await ra(Te(J,"customSubcategories",Q)),await ra(Te(J,"customSubSubcategories",Q));const xe=Et(Ie(J,"products"),bt("category","==",Q.toLowerCase())),Je=await dt(xe),ot=Cu(J);Je.docs.forEach(lt=>{ot.update(lt.ref,{category:"uncategorized"})}),await ot.commit(),e(`Updated ${Je.size} products to Uncategorized.`,"success"),e("Category deleted successfully! ","success")}catch(me){console.error("Error deleting category:",me),e("Failed to delete category.","error")}finally{a(!1)}},ie=async Q=>{const me=P[Q]?.trim();if(!me){e("Subcategory name is required.","error");return}if(l[Q]?.includes(me)){e("Subcategory already exists.","error");return}a(!0);try{const We=Te(J,"customSubcategories",Q),xe=await ft(We),ot=[...xe.exists()?xe.data().subcategories||[]:[],me];await as(We,{subcategories:ot}),E(lt=>({...lt,[Q]:""})),e(`Subcategory "${me}" added! `,"success")}catch(We){console.error("Error adding subcategory:",We),e("Failed to add subcategory.","error")}finally{a(!1)}},he=async(Q,me)=>{const We=P[Q]?.trim();if(!We){e("Subcategory name is required.","error");return}if(l[Q]?.includes(We)&&We!==me){e("Subcategory name already exists.","error");return}a(!0);try{const xe=Te(J,"customSubcategories",Q),Je=await ft(xe),lt=(Je.exists()?Je.data().subcategories||[]:[]).map(qe=>qe===me?We:qe);await as(xe,{subcategories:lt});const rt=Te(J,"customSubSubcategories",Q),et=await ft(rt),Rt=et.exists()?et.data()||{}:{},Tt=Object.fromEntries(Object.entries(Rt).map(([qe,xt])=>qe===me?[We,xt]:[qe,xt]));await as(rt,Tt);const ut=Et(Ie(J,"products"),bt("category","==",Q.toLowerCase()),bt("subcategory","==",me)),At=await dt(ut),st=Cu(J);At.docs.forEach(qe=>{st.update(qe.ref,{subcategory:We})}),await st.commit(),e(`Updated ${At.size} products to new subcategory.`,"success"),E(qe=>({...qe,[Q]:""})),z(null),e(`Subcategory "${me}" updated to "${We}"! `,"success")}catch(xe){console.error("Error editing subcategory:",xe),e("Failed to edit subcategory.","error")}finally{a(!1)}},le=async(Q,me)=>{a(!0);try{const We=Te(J,"customSubcategories",Q),xe=await ft(We),ot=(xe.exists()?xe.data().subcategories||[]:[]).filter(st=>st!==me);await as(We,{subcategories:ot});const lt=Te(J,"customSubSubcategories",Q),rt=await ft(lt),Rt={...rt.exists()?rt.data()||{}:{}};delete Rt[me],await as(lt,Rt);const Tt=Et(Ie(J,"products"),bt("category","==",Q.toLowerCase()),bt("subcategory","==",me)),ut=await dt(Tt),At=Cu(J);ut.docs.forEach(st=>{At.update(st.ref,{subcategory:"uncategorized"})}),await At.commit(),e(`Updated ${ut.size} products to uncategorized subcategory.`,"success"),e(`Subcategory "${me}" deleted successfully! `,"success")}catch(We){console.error("Error deleting subcategory:",We),e("Failed to delete subcategory.","error")}finally{a(!1)}},De=async(Q,me)=>{const We=I[`${Q}_${me}`]?.trim();if(!We){e("Sub-subcategory name is required.","error");return}if(d[Q]?.[me]?.includes(We)){e("Sub-subcategory already exists.","error");return}a(!0);try{const xe=Te(J,"customSubSubcategories",Q),Je=await ft(xe),ot=Je.exists()?Je.data()||{}:{},lt={...ot,[me]:[...ot[me]||[],We]};await as(xe,lt),M(rt=>({...rt,[`${Q}_${me}`]:""})),e(`Sub-subcategory "${We}" added! `,"success")}catch(xe){console.error("Error adding sub-subcategory:",xe),e("Failed to add sub-subcategory.","error")}finally{a(!1)}},Oe=async(Q,me,We)=>{const xe=I[`${Q}_${me}`]?.trim();if(!xe){e("Sub-subcategory name is required.","error");return}if(d[Q]?.[me]?.includes(xe)&&xe!==We){e("Sub-subcategory already exists.","error");return}a(!0);try{const Je=Te(J,"customSubSubcategories",Q),ot=await ft(Je),lt=ot.exists()?ot.data()||{}:{},rt={...lt,[me]:lt[me].map(ut=>ut===We?xe:ut)};await as(Je,rt);const et=Et(Ie(J,"products"),bt("category","==",Q.toLowerCase()),bt("subcategory","==",me),bt("subSubcategory","==",We)),Rt=await dt(et),Tt=Cu(J);Rt.docs.forEach(ut=>{Tt.update(ut.ref,{subSubcategory:xe})}),await Tt.commit(),e(`Updated ${Rt.size} products to new sub-subcategory.`,"success"),M(ut=>({...ut,[`${Q}_${me}`]:""})),V(null),e(`Sub-subcategory "${We}" updated to "${xe}"! `,"success")}catch(Je){console.error("Error editing sub-subcategory:",Je),e("Failed to edit sub-subcategory.","error")}finally{a(!1)}},Be=async(Q,me,We)=>{a(!0);try{const xe=Te(J,"customSubSubcategories",Q),Je=await ft(xe),ot=Je.exists()?Je.data()||{}:{},lt={...ot,[me]:ot[me].filter(Tt=>Tt!==We)};await as(xe,lt);const rt=Et(Ie(J,"products"),bt("category","==",Q.toLowerCase()),bt("subcategory","==",me),bt("subSubcategory","==",We)),et=await dt(rt),Rt=Cu(J);et.docs.forEach(Tt=>{Rt.update(Tt.ref,{subSubcategory:"uncategorized"})}),await Rt.commit(),e(`Updated ${et.size} products to uncategorized sub-subcategory.`,"success"),e(`Sub-subcategory "${We}" deleted successfully! `,"success")}catch(xe){console.error("Error deleting sub-subcategory:",xe),e("Failed to delete sub-subcategory.","error")}finally{a(!1)}},de=(Q,me)=>{D(We=>({...We,[Q]:me})),Y(We=>({...We,[Q]:""}))},Ye=Q=>{ee(me=>({...me,[Q]:!me[Q]}))},be=()=>{m(""),y(""),v(""),D({minPrice:"",maxPrice:"",buyerProtectionRate:"",handlingRate:"",taxRate:""}),k(null),Y({})};return C.useEffect(()=>{N&&(async()=>{const me=Te(J,"categories",N),We=await ft(me);if(We.exists()){const xe=We.data();y(xe.bannerDesktop),v(xe.bannerMobile)}})()},[N]),s||!S?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-xl shadow-lg",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-category text-blue-500"}),"Manage Categories"]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"space-y-6 bg-gray-50 dark:bg-gray-700 p-6 rounded-lg shadow-inner",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-plus-circle text-green-500"}),N?"Edit Category":"Add New Category"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Category Name",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Unique name for the category (e.g., Electronics)"})]}),n.jsx("input",{type:"text",value:f,onChange:Q=>m(Q.target.value),placeholder:"e.g., Electronics",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${$.newCategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),$.newCategory&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),$.newCategory]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Desktop Banner URL",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"URL for desktop category banner"})]}),n.jsx("input",{type:"url",value:p,onChange:Q=>y(Q.target.value),placeholder:"https://example.com/banner-desktop.jpg",className:"mt-1 w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Mobile Banner URL",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"URL for mobile category banner"})]}),n.jsx("input",{type:"url",value:x,onChange:Q=>v(Q.target.value),placeholder:"https://example.com/banner-mobile.jpg",className:"mt-1 w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Minimum Price ()",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Minimum product price for this category"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:""}),n.jsx("input",{type:"number",value:A.minPrice,onChange:Q=>de("minPrice",Q.target.value),min:"0",step:"0.01",placeholder:"1000",className:`mt-1 w-full py-2 pl-8 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${$.minPrice?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s})]}),$.minPrice&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),$.minPrice]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Maximum Price ()",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Maximum product price (leave blank for no limit)"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:""}),n.jsx("input",{type:"number",value:A.maxPrice,onChange:Q=>de("maxPrice",Q.target.value),min:"0",step:"0.01",placeholder:"No maximum",className:`mt-1 w-full py-2 pl-8 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${$.maxPrice?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s})]}),$.maxPrice&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),$.maxPrice]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Buyer Protection Rate (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Fee percentage for buyer protection"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:A.buyerProtectionRate,onChange:Q=>de("buyerProtectionRate",Q.target.value),min:"0",step:"0.01",placeholder:"8",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${$.buyerProtectionRate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),$.buyerProtectionRate&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),$.buyerProtectionRate]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Handling Rate (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Fee percentage for handling"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:A.handlingRate,onChange:Q=>de("handlingRate",Q.target.value),min:"0",step:"0.01",placeholder:"20",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${$.handlingRate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),$.handlingRate&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),$.handlingRate]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Tax Rate (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Tax percentage for this category"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:A.taxRate,onChange:Q=>de("taxRate",Q.target.value),min:"0",step:"0.01",placeholder:"7.5",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${$.taxRate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),$.taxRate&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),$.taxRate]})]})]}),n.jsx("div",{className:"flex gap-4 mt-6",children:N?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>te(N),disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-md",children:[n.jsx("i",{className:"bx bx-save"}),s?"Updating...":"Update Category"]}),n.jsxs("button",{onClick:be,disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-red-600 hover:bg-red-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-md",children:[n.jsx("i",{className:"bx bx-x"}),"Cancel"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:G,disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-md",children:[n.jsx("i",{className:"bx bx-plus"}),s?"Adding...":"Add Category"]}),n.jsxs("button",{onClick:be,disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-md",children:[n.jsx("i",{className:"bx bx-refresh"}),"Clear Form"]})]})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-list-ul text-blue-500"}),"Existing Categories"]}),i.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic",children:"No categories found. Add one above!"}):n.jsx("ul",{className:"space-y-4",children:i.map(Q=>n.jsxs("li",{className:"p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200",children:[n.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>Ye(Q),children:[n.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx("i",{className:`bx bx-chevron-${X[Q]?"up":"down"} text-blue-500`}),Q]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:me=>{me.stopPropagation(),k(Q),m(Q),D({minPrice:S[Q].minPrice===1/0?"":S[Q].minPrice,maxPrice:S[Q].maxPrice===1/0?"":S[Q].maxPrice,buyerProtectionRate:S[Q].buyerProtectionRate*100,handlingRate:S[Q].handlingRate*100,taxRate:S[Q].taxRate?S[Q].taxRate*100:7.5})},disabled:s,className:"text-blue-600 hover:text-blue-800 dark:hover:text-blue-400 text-sm flex items-center gap-1",title:"Edit category",children:[n.jsx("i",{className:"bx bx-edit"}),"Edit"]}),n.jsxs("button",{onClick:me=>{me.stopPropagation(),B({...W,category:Q})},disabled:s,className:"text-red-600 hover:text-red-800 dark:hover:text-red-400 text-sm flex items-center gap-1",title:"Delete category",children:[n.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]}),X[Q]&&n.jsxs("div",{className:"mt-4 ml-4 space-y-4 animate-slide-down",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Add Subcategory",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Subcategories group products within a category (e.g., Phones under Electronics)"})]}),n.jsxs("div",{className:"flex gap-2 mt-1",children:[n.jsx("input",{type:"text",value:P[Q]||"",onChange:me=>E(We=>({...We,[Q]:me.target.value})),placeholder:"e.g., Phones",className:"w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s}),n.jsxs("button",{type:"button",onClick:()=>ie(Q),className:"py-2 px-4 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",disabled:s,children:[s?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-plus"}),"Add"]})]})]}),l[Q]?.length>0&&n.jsx("ul",{className:"space-y-3 ml-4",children:l[Q].map(me=>n.jsxs("li",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-subdirectory-right text-gray-500"}),me]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>{z({category:Q,subcat:me}),E(We=>({...We,[Q]:me}))},disabled:s,className:"text-blue-600 hover:text-blue-800 dark:hover:text-blue-400 text-sm flex items-center gap-1",title:"Edit subcategory",children:[n.jsx("i",{className:"bx bx-edit"}),"Edit"]}),n.jsxs("button",{onClick:()=>B({...W,subcategory:{category:Q,subcat:me}}),disabled:s,className:"text-red-600 hover:text-red-800 dark:hover:text-red-400 text-sm flex items-center gap-1",title:"Delete subcategory",children:[n.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]}),L?.category===Q&&L.subcat===me&&n.jsxs("div",{className:"mt-2 ml-4",children:[n.jsx("input",{type:"text",value:P[Q]||"",onChange:We=>E(xe=>({...xe,[Q]:We.target.value})),className:"w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsxs("button",{onClick:()=>he(Q,me),disabled:s,className:"py-2 px-4 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",children:[n.jsx("i",{className:"bx bx-save"})," Save"]}),n.jsxs("button",{onClick:()=>z(null),disabled:s,className:"py-2 px-4 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",children:[n.jsx("i",{className:"bx bx-x"})," Cancel"]})]})]}),n.jsxs("div",{className:"mt-2 ml-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Add Sub-subcategory",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Further refine products (e.g., Smartphones under Phones)"})]}),n.jsxs("div",{className:"flex gap-2 mt-1",children:[n.jsx("input",{type:"text",value:I[`${Q}_${me}`]||"",onChange:We=>M(xe=>({...xe,[`${Q}_${me}`]:We.target.value})),placeholder:"e.g., Smartphones",className:"w-full max-w-md py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s}),n.jsx("button",{type:"button",onClick:()=>De(Q,me),className:"py-2 px-3 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",disabled:s,children:s?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-plus"})})]}),d[Q]?.[me]?.length>0&&n.jsx("ul",{className:"mt-2 space-y-1 ml-6",children:d[Q][me].map(We=>n.jsxs("li",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[n.jsx("i",{className:"bx bx-subdirectory-right text-gray-400"}),We]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{V({category:Q,subcategory:me,subSubcat:We}),M(xe=>({...xe,[`${Q}_${me}`]:We}))},disabled:s,className:"text-blue-600 hover:text-blue-800 dark:hover:text-blue-400 text-sm flex items-center gap-1",title:"Edit sub-subcategory",children:n.jsx("i",{className:"bx bx-edit text-[15px]"})}),n.jsx("button",{onClick:()=>B({...W,subSubcategory:{category:Q,subcategory:me,subSubcat:We}}),disabled:s,className:"text-red-600 hover:text-red-800 dark:hover:text-red-400 text-sm flex items-center gap-1",title:"Delete sub-subcategory",children:n.jsx("i",{className:"bx bx-trash text-[15px]"})})]})]},We))}),F?.category===Q&&F.subcategory===me&&F.subSubcat&&n.jsxs("div",{className:"mt-2 ml-6",children:[n.jsx("input",{type:"text",value:I[`${Q}_${me}`]||"",onChange:We=>M(xe=>({...xe,[`${Q}_${me}`]:We.target.value})),className:"w-full max-w-md py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx("button",{onClick:()=>Oe(Q,me,F.subSubcat),disabled:s,className:"py-2 px-4 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",children:n.jsx("i",{className:"bx bx-save"})}),n.jsx("button",{onClick:()=>V(null),disabled:s,className:"py-2 px-4 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",children:n.jsx("i",{className:"bx bx-x"})})]})]})]})]},me))})]})]},Q))})]})]}),W.category&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Confirm Deletion"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:['Are you sure you want to delete the category "',W.category,`"? Products will be set to 'uncategorized'. This action cannot be undone.`]})," ",n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:()=>B({...W,category:null}),className:"py-2 px-4 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 transition",children:"Cancel"}),n.jsxs("button",{onClick:()=>{re(W.category),B({...W,category:null})},className:"py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition",disabled:s,children:[n.jsx("i",{className:"bx bx-trash"})," Delete"]})]})]})}),W.subcategory&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Confirm Deletion"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:['Are you sure you want to delete the subcategory "',W.subcategory.subcat,'" under "',W.subcategory.category,`"? Products will be set to 'uncategorized'. This action cannot be undone.`]})," ",n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:()=>B({...W,subcategory:null}),className:"py-2 px-4 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 transition",children:"Cancel"}),n.jsxs("button",{onClick:()=>{le(W.subcategory.category,W.subcategory.subcat),B({...W,subcategory:null})},className:"py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition",disabled:s,children:[n.jsx("i",{className:"bx bx-trash"})," Delete"]})]})]})}),W.subSubcategory&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Confirm Deletion"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:['Are you sure you want to delete the sub-subcategory "',W.subSubcategory.subSubcat,'" under "',W.subSubcategory.subcategory,'" in "',W.subSubcategory.category,`"? Products will be set to 'uncategorized'. This action cannot be undone.`]})," ",n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:()=>B({...W,subSubcategory:null}),className:"py-2 px-4 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 transition",children:"Cancel"}),n.jsxs("button",{onClick:()=>{Be(W.subSubcategory.category,W.subSubcategory.subcategory,W.subSubcategory.subSubcat),B({...W,subSubcategory:null})},className:"py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition",disabled:s,children:[n.jsx("i",{className:"bx bx-trash"})," Delete"]})]})]})}),n.jsx(efe,{alerts:r,removeAlert:t})]})})]})}function rfe({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg ${t.type==="error"?"bg-red-600":"bg-green-600"} text-white flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function afe(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="success")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}function nfe(){const{alerts:r,addAlert:e,removeAlert:t}=afe(),s=_s(),[a,i]=C.useState("sellers"),[o,l]=C.useState([]),[c,d]=C.useState([]),[u,f]=C.useState([]),[m,p]=C.useState([]),[y,x]=C.useState(!0),[v,N]=C.useState(!1),[k,S]=C.useState(null),[R,A]=C.useState({color:"",size:"",stock:""});C.useEffect(()=>{if(!Pe.currentUser){e("Please log in.","error"),s("/login");return}const E=Et(Ie(J,"sellers")),I=is(E,async Y=>{const X=[];for(const ee of Y.docs){const W={id:ee.id,...ee.data()};if(W.bankCode){const te=Te(J,"banks",W.bankCode),re=await ft(te);W.bankName=re.exists()&&re.data().name||"N/A"}else W.bankName="N/A";const B=Et(Ie(J,"products"),bt("sellerId","==",W.id)),G=await ft(Te(J,"products",W.id));W.productCount=G.exists()?(await is(B,te=>te.size)).size:0,X.push(W)}l(X)},Y=>{e("Failed to fetch sellers.","error"),console.error("Sellers fetch error:",Y)}),M=Et(Ie(J,"products")),L=is(M,async Y=>{const X=[];for(const ee of Y.docs){const W={id:ee.id,...ee.data()},B=Et(Ie(J,"orders"),bt("productId","==",W.id)),G=await ft(Te(J,"orders",W.id));W.buyerCount=G.exists()?(await is(B,te=>te.size)).size:0,X.push(W)}d(X)},Y=>{e("Failed to fetch products.","error"),console.error("Products fetch error:",Y)}),z=Et(Ie(J,"orders")),F=is(z,Y=>{f(Y.docs.map(X=>({id:X.id,...X.data()})))},Y=>{e("Failed to fetch orders.","error"),console.error("Orders fetch error:",Y)}),V=Et(Ie(J,"favorites")),$=is(V,Y=>{const X={};Y.docs.forEach(W=>{const B=W.data();X[B.productId]=(X[B.productId]||0)+1});const ee=Object.entries(X).map(([W,B])=>({productId:W,count:B}));ee.sort((W,B)=>B.count-W.count),p(ee)},Y=>{e("Failed to fetch favorites.","error"),console.error("Favorites fetch error:",Y)});return x(!1),()=>{I(),L(),F(),$()}},[s]);const D=async E=>{if(E.preventDefault(),!!k){x(!0);try{const I=Te(J,"products",k.id),M=await ft(I),z=[...M.exists()?M.data().variants||[]:[],{...R,stock:parseInt(R.stock)||0}];await _n(I,{variants:z}),e("Variant added successfully!","success"),A({color:"",size:"",stock:""}),N(!1)}catch(I){e("Failed to add variant.","error"),console.error("Add variant error:",I)}finally{x(!1)}}},P=E=>{S(E),N(!0)};return y?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:n.jsxs("div",{className:"w-full lg:max-w-5xl md:max-w-4xl sm:max-w-3xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-xl shadow-sm",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-user text-blue-500"}),"Admin Manager"]}),n.jsx("div",{className:"flex border-b border-gray-300 dark:border-gray-600 mt-6",children:["sellers","products","orders","favorites"].map(E=>n.jsx("button",{onClick:()=>i(E),className:`py-2 px-4 text-sm md:text-base font-medium ${a===E?"border-b-2 border-blue-500 text-blue-500":"text-gray-600 dark:text-gray-300 hover:text-blue-500"}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))}),a==="sellers"&&n.jsx("div",{className:"mt-6 space-y-4",children:o.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No sellers found."}):o.map(E=>n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",E.id]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",E.fullName||"Unknown"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Bank:"})," ",E.bankName]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Account Number:"})," ",E.accountNumber||"N/A"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Products:"})," ",E.productCount||0]})]},E.id))}),a==="products"&&n.jsx("div",{className:"mt-6 space-y-4",children:c.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No products found."}):c.map(E=>n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Product ID:"})," ",E.id]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",E.name||"Unnamed Product"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",E.sellerId]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Price:"})," ",E.price?.toFixed(2)||"0.00"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Buyers:"})," ",E.buyerCount||0]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Variants:"})," ",E.variants?.length?E.variants.map(I=>`${I.color} (${I.size}, ${I.stock})`).join(", "):"None"]}),n.jsxs("button",{onClick:()=>P(E),className:"mt-2 py-1 px-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm",children:[n.jsx("i",{className:"bx bx-plus"})," Add Variant"]})]},E.id))}),a==="orders"&&n.jsx("div",{className:"mt-6 space-y-4",children:u.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No orders found."}):u.map(E=>n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Order ID:"})," ",E.id]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Product ID:"})," ",E.productId]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Buyer ID:"})," ",E.buyerId]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Amount:"})," ",E.amount?.toFixed(2)||"0.00"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Status:"})," ",E.status||"Unknown"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(E.createdAt?.toDate()).toLocaleString()]})]},E.id))}),a==="favorites"&&n.jsx("div",{className:"mt-6 space-y-4",children:m.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No favorited products found."}):m.map(E=>{const I=c.find(M=>M.id===E.productId)||{};return n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Product ID:"})," ",E.productId]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",I.name||"Unnamed Product"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",I.sellerId||"N/A"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Favorite Count:"})," ",E.count]})]},E.productId)})}),v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:["Add Variant for ",k?.name]}),n.jsxs("form",{onSubmit:D,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Color"}),n.jsx("input",{type:"text",value:R.color,onChange:E=>A({...R,color:E.target.value}),className:"mt-1 p-2 w-full border rounded-lg text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",required:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Size"}),n.jsx("input",{type:"text",value:R.size,onChange:E=>A({...R,size:E.target.value}),className:"mt-1 p-2 w-full border rounded-lg text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",required:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Stock"}),n.jsx("input",{type:"number",value:R.stock,onChange:E=>A({...R,stock:E.target.value}),className:"mt-1 p-2 w-full border rounded-lg text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",required:!0})]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 text-sm",children:"Cancel"}),n.jsx("button",{type:"submit",className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm ${y?"opacity-50 cursor-not-allowed":""}`,disabled:y,children:"Add Variant"})]})]})]})}),n.jsx(rfe,{alerts:r,removeAlert:t})]})})]})}function ife({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function ofe(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}function lfe(){const{alerts:r,addAlert:e,removeAlert:t}=ofe(),s=_s(),[a,i]=C.useState([]),[o,l]=C.useState(!1),[c,d]=C.useState(null),[u,f]=C.useState(!1);C.useEffect(()=>{if(!Pe.currentUser){e("Please log in as admin.","error"),s("/login");return}l(!0),(async()=>{try{const x=(await dt(Ie(J,"sellers"))).docs.map(v=>({id:v.id,...v.data(),email:v.data().email||"N/A",phoneNumber:v.data().phoneNumber||"N/A",walletAddress:v.data().walletAddress||"N/A",bankName:v.data().bankName||"N/A",fullName:v.data().fullName||"N/A",accountNumber:v.data().accountNumber||"N/A"}));i(x)}catch(y){e("Failed to fetch sellers.","error"),console.error("Fetch error:",y)}finally{l(!1)}})()},[s]);const m=async()=>{if(c){l(!0);try{await ra(Te(J,"sellers",c.id)),i(a.filter(p=>p.id!==c.id)),e("Seller wallet deleted successfully.","success"),f(!1)}catch(p){e("Failed to delete seller wallet.","error"),console.error("Delete error:",p)}finally{l(!1)}}};return o?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 md:p-6",children:n.jsxs("div",{className:"w-full max-w-7xl mx-auto bg-white dark:bg-gray-800 p-4 md:p-6 rounded-xl shadow-lg",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 border-b-2 border-blue-500 pb-2 md:pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-wallet-alt text-blue-500"}),"Admin Seller Wallet"]}),a.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center py-4 md:py-6",children:"No sellers found."}):n.jsx("div",{className:"space-y-4 mt-4 md:mt-6",children:a.map(p=>n.jsx("div",{className:"p-3 md:p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 transition",children:n.jsxs("div",{className:"grid grid-cols-1 gap-2  lg:flex md:items-center md:justify-between md:gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",p.id]}),n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium text-sm",children:"Full Name:"})," ",p.fullName]}),n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium text-sm",children:"Email:"})," ",p.email]}),n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium text-sm",children:"Bank Name:"})," ",p.bankName]}),n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium text-sm",children:"Account Number:"})," ",p.accountNumber]})]}),n.jsxs("div",{className:"space-y-1 md:space-y-2",children:[n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium text-sm",children:"Phone:"})," ",p.phoneNumber]}),n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium text-sm",children:"Wallet Address:"})," ",p.walletAddress]})]}),n.jsx("div",{className:"mt-2 md:mt-0",children:n.jsxs("button",{onClick:()=>{d(p),f(!0)},className:"w-full md:w-auto py-2 px-3 md:px-4 bg-red-600 text-white rounded-lg shadow-md hover:bg-red-700 flex items-center justify-center gap-1 md:gap-2 text-sm md:text-base transition",disabled:o,children:[n.jsx("i",{className:"bx bx-trash"})," Delete Wallet"]})})]})},p.id))}),u&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 md:p-6 rounded-lg shadow-lg w-11/12 md:max-w-md",children:[n.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800 dark:text-gray-100 mb-2 md:mb-4",children:"Confirm Deletion"}),n.jsxs("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-300 mb-2 md:mb-4",children:["Are you sure you want to delete the wallet for ",c.email,"? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-2 md:gap-4",children:[n.jsx("button",{onClick:()=>f(!1),className:"py-1 md:py-2 px-2 md:px-4 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 text-sm md:text-base transition",children:"Cancel"}),n.jsxs("button",{onClick:m,className:"py-1 md:py-2 px-2 md:px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-1 md:gap-2 text-sm md:text-base transition",disabled:o,children:[n.jsx("i",{className:"bx bx-trash"})," Delete"]})]})]})}),n.jsx(ife,{alerts:r,removeAlert:t})]})})]})}function cfe(){const[r,e]=C.useState([]),[t,s]=C.useState(!1),[a,i]=C.useState("all"),[o,l]=C.useState(""),c=_s(),d=async()=>{s(!0);try{const y=await fetch("https://foremade-backend.onrender.com/api/admin/all-pro-sellers");console.log("Response status:",y.status,"Headers:",Object.fromEntries(y.headers.entries()));const x=await y.json();console.log("Response data:",x),y.ok&&x.status==="success"?e(x.proSellers||[]):Me.error(x.message||"Failed to fetch pro seller requests")}catch(p){console.error("Fetch error:",p),Me.error(p.message||"Failed to fetch pro seller requests")}finally{s(!1)}};C.useEffect(()=>{d()},[]);const u=async(p,y)=>{try{const v=await fetch("https://foremade-backend.onrender.com/api/admin/approve-pro-seller",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proSellerId:p,approve:y})}),N=await v.json();v.ok&&N.status==="success"?(Me.success(N.message||(y?"Pro seller approved":"Pro seller rejected")),d()):Me.error(N.message||"Action failed")}catch(x){console.error("Approve/Reject error:",x),Me.error(x.message||"Action failed")}},f=p=>{if(!p)return"-";if(typeof p=="object"&&p.seconds){const x=new Date(p.seconds*1e3);return isNaN(x.getTime())?"-":x.toLocaleDateString()}const y=new Date(p);return isNaN(y.getTime())?"-":y.toLocaleDateString()},m=r.filter(p=>(p.proSellerId?.toLowerCase()||"").includes(o.toLowerCase())||(p.userId?.toLowerCase()||"").includes(o.toLowerCase())||(p.status?.toLowerCase()||"").includes(o.toLowerCase())).filter(p=>a==="all"||p.status===a);return n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 sm:p-6",children:n.jsxs("div",{className:"w-full max-w-8xl mx-auto p-4",children:[n.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-store text-blue-500 text-lg sm:text-xl"}),"Pro Seller Requests"]}),n.jsxs("div",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1 group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 mb-1",children:["Search Pro Sellers",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Search by ID, User ID, or Status"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm sm:text-base"}),n.jsx("input",{type:"text",value:o,onChange:p=>l(p.target.value),placeholder:"Search by ID, User ID, or Status...",className:"w-full py-2 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200"})]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 mb-1",children:["Filter by Status",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Filter pro seller requests"})]}),n.jsxs("select",{value:a,onChange:p=>i(p.target.value),className:"w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md",children:[n.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-700 dark:text-gray-200 mb-2 sm:mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-list-ul text-blue-500 text-lg sm:text-xl"}),"All Pro Sellers"]}),t?n.jsx("div",{className:"text-gray-500 text-center py-8",children:"Loading..."}):m.length===0?n.jsx("div",{className:"text-gray-500 text-center py-8",children:"No pro sellers found."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden lg:block",children:n.jsxs(vt.table,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:[n.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"ProSeller ID"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"User ID"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"Created"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"Actions"})]})}),n.jsx("tbody",{children:n.jsx(Zn,{children:m.map((p,y)=>{const x=p.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":p.status==="approved"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300";return n.jsxs(vt.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:y*.1},className:"border-b hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx("td",{className:"px-4 py-3 break-all max-w-xs cursor-pointer text-blue-600 hover:underline",onClick:()=>c(`/admin/pro-seller-details/${p.proSellerId}`),children:p.businessName}),n.jsx("td",{className:"px-4 py-3 break-all max-w-xs",children:p.userId}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${x}`,children:p.status})}),n.jsx("td",{className:"px-4 py-3",children:f(p.createdAt)}),n.jsx("td",{className:"px-4 py-3 flex gap-2",children:p.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>u(p.proSellerId,!0),className:"px-3 py-1 bg-green-600 text-white rounded-lg text-xs hover:bg-green-700 transition flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-check"})," Approve"]}),n.jsxs("button",{onClick:()=>u(p.proSellerId,!1),className:"px-3 py-1 bg-red-600 text-white rounded-lg text-xs hover:bg-red-700 transition flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-x"})," Reject"]})]})})]},p.proSellerId||`req-${y}`)})})})]})}),n.jsx("div",{className:"lg:hidden",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.jsx(Zn,{children:m.map((p,y)=>{const x=p.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":p.status==="approved"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300";return n.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:y*.1},className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium dark:text-gray-200 truncate cursor-pointer text-blue-600 hover:underline",onClick:()=>c(`/admin/pro-seller-details/${p.proSellerId}`),children:["Business name: ",p.businessName]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:["User ID: ",p.userId]})]}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${x}`,children:p.status}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Created: ",f(p.createdAt)]})]}),p.status==="pending"&&n.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[n.jsxs("button",{onClick:()=>u(p.proSellerId,!0),className:"px-3 py-1 bg-green-600 text-white rounded-lg text-xs hover:bg-green-700 transition flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-check"})," Approve"]}),n.jsxs("button",{onClick:()=>u(p.proSellerId,!1),className:"px-3 py-1 bg-red-600 text-white rounded-lg text-xs hover:bg-red-700 transition flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-x"})," Reject"]})]})]},p.proSellerId||`req-${y}`)})})})})]})]})]})})]})}const dfe=()=>{const[r,e]=C.useState([]),[t,s]=C.useState([]),[a,i]=C.useState(!0),[o,l]=C.useState(""),[c,d]=C.useState(""),[u,f]=C.useState("7"),m=async()=>{try{i(!0),eo(Pe,async S=>{if(S){const D=(await dt(Ie(J,"productBumps"))).docs.map(L=>({id:L.id,productId:L.data().productId,sellerId:L.data().sellerId||"Unknown",startDate:L.data().startDate?.toDate()||null,expiry:L.data().expiry?.toDate()||null})).map(async L=>{const z=await ft(Te(J,"products",L.productId));if(z.exists()){const F=z.data(),V=Array.isArray(F.imageUrls)?F.imageUrls.filter($=>typeof $=="string"&&$.startsWith("https://res.cloudinary.com/")):F.imageUrl&&typeof F.imageUrl=="string"&&F.imageUrl.startsWith("https://res.cloudinary.com/")?[F.imageUrl]:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"];return{...L,name:F.name||"Unnamed Product",price:F.price||0,imageUrl:V[0],bumpExpiry:F.bumpExpiry?.toDate()||null,bumpDuration:F.bumpDuration||"Unknown",sellerName:F.sellerName||F.seller||L.sellerId}}else return{...L,name:"Unnamed Product",price:0,imageUrl:"https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg",bumpExpiry:null,bumpDuration:"Unknown",sellerName:L.sellerId}}),P=await Promise.all(D);console.log("Fetched Products:",P),e(P),console.log("Fetching approved products...");const E=await dt(Et(Ie(J,"products"),bt("status","==","approved"))),M=(await Promise.all(E.docs.map(async L=>{try{const z=L.data(),F=Array.isArray(z.imageUrls)?z.imageUrls.filter(V=>typeof V=="string"&&V.startsWith("https://res.cloudinary.com/")):z.imageUrl&&typeof z.imageUrl=="string"&&z.imageUrl.startsWith("https://res.cloudinary.com/")?[z.imageUrl]:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"];return{id:L.id,...z,imageUrl:F[0]||"https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"}}catch(z){return console.warn("Error processing product:",L.id,z),null}}))).filter(L=>L!==null);console.log("Fetched available products:",M),s(M)}else l("Please log in as an admin to view bumped products.");i(!1)})}catch(S){l("Failed to fetch bumped products: "+S.message),i(!1)}},p=async S=>{try{const R=Pe.currentUser;if(!R)throw new Error("User not authenticated");console.log("Adding bump for product:",S);const A=parseInt(u),D=new Date,P=new Date(D);P.setDate(D.getDate()+A);const E=await ft(Te(J,"products",S));if(!E.exists())throw new Error("Product not found");const I=E.data(),M=I.seller||I.sellerId||R.uid;await cn(Ie(J,"productBumps"),{productId:S,sellerId:M,bumpDuration:`${A} days`,startDate:D,expiry:P,timestamp:new Date}),Me.success("Product bumped successfully!",{position:"top-right",autoClose:3e3}),m()}catch(R){console.error("Error adding bump:",R),Me.error("Failed to bump product: "+R.message,{position:"top-right",autoClose:3e3})}},y=async S=>{if(window.confirm("Are you sure you want to delete this product bump?"))try{await ra(Te(J,"productBumps",S)),e(r.filter(R=>R.id!==S))}catch(R){l("Failed to delete product bump: "+R.message)}},x=()=>{m()};C.useEffect(()=>{m()},[]);const v=S=>{if(!S)return"N/A";try{return new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},N=S=>{const R=S.bumpExpiry||S.expiry;return R&&new Date(R)>new Date},k=t.filter(S=>S.name?.toLowerCase().includes(c.toLowerCase()));return a?n.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[n.jsx(Ss,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 animate-pulse",children:Array.from({length:6}).map((S,R)=>n.jsx("div",{className:"bg-gray-200 p-4 rounded-lg h-64"},R))})})})]}):o?n.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[n.jsx(Ss,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 rounded-lg dark:bg-red-900 dark:border-red-700",children:[n.jsx("p",{className:"text-red-700 dark:text-red-300",children:o}),n.jsx(ve,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium underline mt-2 block",children:"Return to Login"})]})})})]}):n.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[n.jsx(Ss,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-4 sm:p-6",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsx(ve,{to:"/admin/dashboard",className:"inline-flex px-5 py-2 bg-gray-200 text-gray-900 rounded hover:bg-gray-300 font-semibold text-sm sm:text-base w-full sm:w-auto text-center",children:"Return to Dashboard"}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full sm:w-auto",children:[n.jsx("input",{type:"text",placeholder:"Search products...",value:c,onChange:S=>d(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64 text-sm sm:text-base"}),n.jsxs("button",{onClick:x,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors w-full sm:w-auto",children:[n.jsx(GS,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Refresh"]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white",children:"Bumped Products"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 text-sm sm:text-base",children:"View all products currently bumped by sellers"})]}),r.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:r.map(S=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-md hover:shadow-lg transition duration-300 relative",children:[n.jsxs("div",{className:"relative aspect-[4/3] mb-4 overflow-hidden rounded-lg",children:[n.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:R=>{R.target.style.display="none",R.target.parentElement.innerHTML='<div class="absolute w-full h-full bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-500">Image N/A</span></div>'}}),n.jsx("button",{onClick:()=>y(S.id),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",children:n.jsx(PF,{className:"w-[34px] h-[34px] bg-gray-300 rounded-lg p-2"})}),n.jsx("span",{className:"absolute top-2 left-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:N(S)?"#00ffaaaf":"#ff6e6eff",color:"white"},children:N(S)?"Bump Active":"Bump Expired"})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 truncate",children:S.name}),n.jsxs("p",{className:"text-gray-700 text-sm mb-1",children:["Price: ",S.price.toLocaleString("en-NG")]}),n.jsxs("p",{className:"text-gray-600 text-xs mb-1",children:["Seller: ",S.sellerName]}),n.jsxs("p",{className:"text-gray-600 text-xs",children:["Expires: ",v(S.expiry||S.bumpExpiry)]}),n.jsxs("p",{className:"text-gray-600 text-xs",children:["Duration: ",S.bumpDuration]})]},S.id))}):n.jsx("div",{className:"col-span-full flex flex-col items-center justify-center mt-10 mb-10",children:n.jsx("p",{className:"text-gray-900 dark:text-gray-300 text-center text-lg mt-4",children:"No bumped products found."})}),n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Add Products to Bump"}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Bump Duration"}),n.jsxs("select",{value:u,onChange:S=>f(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64 text-sm sm:text-base",children:[n.jsx("option",{value:"3",children:"3 Days"}),n.jsx("option",{value:"7",children:"7 Days"}),n.jsx("option",{value:"14",children:"14 Days"}),n.jsx("option",{value:"30",children:"30 Days"})]})]}),k.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(S=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-md hover:shadow-lg transition duration-300 relative",children:[n.jsxs("div",{className:"relative aspect-[4/3] mb-4 overflow-hidden rounded-lg",children:[n.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:R=>{R.target.style.display="none",R.target.parentElement.innerHTML='<div class="absolute w-full h-full bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-500 text-sm">Image N/A</span></div>'}}),r.some(R=>R.productId===S.id&&N(R))?n.jsx("span",{className:"absolute top-2 right-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Bumped"}):n.jsx("button",{onClick:()=>p(S.id),className:"absolute top-2 right-2 text-green-500 hover:text-green-700",children:n.jsx(xh,{className:"w-10 h-10 bg-gray-300 rounded-lg p-"})})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 truncate",children:S.name||"Unnamed Product"}),n.jsxs("p",{className:"text-gray-700 text-sm mb-1",children:["Price: ",S.price!=null?S.price.toLocaleString("en-NG"):"N/A"]}),n.jsxs("p",{className:"text-gray-600 text-xs mb-1",children:["Seller: ",S.sellerName||S.seller||"Unknown"]})]},S.id))}):n.jsx("div",{className:"col-span-full flex flex-col items-center justify-center mt-10 mb-10",children:n.jsx("p",{className:"text-gray-900 dark:text-gray-300 text-center text-lg mt-4",children:"No approved products available."})})]})})]})};function ufe({alerts:r,removeAlert:e}){return n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:n.jsx(Zn,{children:r.map(t=>n.jsxs(vt.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:.3},className:`p-4 rounded-lg shadow-lg flex items-center gap-2 ${t.type==="error"?"bg-red-600":"bg-green-600"} text-white`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})})}function hfe(){const[r,e]=C.useState([]),t=C.useCallback((a,i="success")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}]),setTimeout(()=>e(l=>l.filter(c=>c.id!==o)),5e3)},[]),s=C.useCallback(a=>{e(i=>i.filter(o=>o.id!==a))},[]);return{alerts:r,addAlert:t,removeAlert:s}}function ffe(){const r=_s(),{alerts:e,addAlert:t,removeAlert:s}=hfe(),[a,i]=C.useState([]),[o,l]=C.useState([]),[c,d]=C.useState(""),[u,f]=C.useState(!1),m=C.useCallback(Fd(x=>{d(x)},300),[]),p=x=>{m(x.target.value)},y=async x=>{if(!x){t("Cannot delete: Missing transaction ID","error");return}f(!0);try{const N=await os.delete(`https://foremade-backend.onrender.com/delete-transaction/${x}`,{timeout:15e3});t(N.data.message),i(k=>k.filter(S=>S.id!==x)),l(k=>k.filter(S=>S.id!==x))}catch(v){console.error("Delete error:",v.message,{transactionId:x,details:v.response?.data?.details});const N=v.response?.data?.error||v.message,k=v.response?.data?.details?JSON.stringify(v.response.data.details):"";t(`Failed to delete transaction: ${N}${k?` (Details: ${k})`:""}`,"error")}finally{f(!1)}};return C.useEffect(()=>{if(!Pe.currentUser){t("Please log in.","error"),r("/login");return}const x=Et(Ie(J,"transactions")),v=is(x,N=>{const k=N.docs.map(S=>({id:S.id,...S.data()}));console.log("Fetched all transactions:",k),i(k),l(k.filter(S=>(S.id?.toLowerCase()||"").includes(c.toLowerCase())||(S.sellerId?.toLowerCase()||"").includes(c.toLowerCase())||(S.type?.toLowerCase()||"").includes(c.toLowerCase())))},N=>{console.error("Firestore error:",N.message),t(`Failed to fetch transactions: ${N.message}`,"error")});return()=>v()},[r,c]),n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx(vt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsxs("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[n.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 flex items-center gap-2",children:"All Transactions"})}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search by Transaction ID, Seller ID, or Type...",onChange:p,className:"w-full p-3 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]})}),o.length===0?n.jsx(vt.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No transactions found."}):n.jsx(vt.div,{className:"grid gap-4 lg:grid-cols-2",children:n.jsx(Zn,{children:o.map((x,v)=>n.jsxs(vt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3,delay:v*.1},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",x.id||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",x.sellerId||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Type:"})," ",x.type||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Status:"})," ",n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${x.status==="Pending"?"bg-yellow-100 text-yellow-800":x.status==="Approved"?"bg-green-100 text-green-800":x.status==="Rejected"||x.status==="Failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:x.status||"N/A"})]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Amount:"})," ",x.country==="United Kingdom"?"":"",x.amount?.toFixed(2)||"0.00"]}),x.type==="Withdrawal"&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Bank Name:"})," ",x.bankName||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Account Number:"})," ",x.accountNumber||"N/A"]})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Country:"})," ",x.country||"N/A"]})]})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",x.createdAt?.toDate?new Date(x.createdAt.toDate()).toLocaleString():"N/A"]}),x.status==="Failed"&&x.failureReason&&n.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Reason:"})," ",x.failureReason]}),n.jsx("div",{className:"mt-4 flex gap-2",children:n.jsxs("button",{onClick:()=>y(x.id),disabled:u||!x.id,className:`px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition flex items-center gap-2 ${u||!x.id?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("i",{className:"bx bx-trash"}),"Delete"]})})]},x.id||`txn-${v}`))})}),n.jsx(ufe,{alerts:e,removeAlert:s})]})})]})}var VN={};/*!
 * ApexCharts v5.3.5
 * (c) 2018-2025 ApexCharts
 */function Ck(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,s=Array(e);t<e;t++)s[t]=r[t];return s}function f8(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function kt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function I3(r,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,p8(s.key),s)}}function St(r,e,t){return e&&I3(r.prototype,e),t&&I3(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Rm(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=E_(r))||e){t&&(r=t);var s=0,a=function(){};return{s:a,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var c=t.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||t.return==null||t.return()}finally{if(l)throw i}}}}function pp(r){var e=m8();return function(){var t,s=Cy(r);if(e){var a=Cy(this).constructor;t=Reflect.construct(s,arguments,a)}else t=s.apply(this,arguments);return(function(i,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f8(i)})(this,t)}}function Ay(r,e,t){return(e=p8(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Cy(r){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cy(r)}function xp(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Ek(r,e)}function m8(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(m8=function(){return!!r})()}function D3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.push.apply(t,s)}return t}function ht(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(t),!0).forEach((function(s){Ay(r,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):D3(Object(t)).forEach((function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))}))}return r}function Ek(r,e){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},Ek(r,e)}function g8(r,e){return(function(t){if(Array.isArray(t))return t})(r)||(function(t,s){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var i,o,l,c,d=[],u=!0,f=!1;try{if(l=(a=a.call(t)).next,s===0){if(Object(a)!==a)return;u=!1}else for(;!(u=(i=l.call(a)).done)&&(d.push(i.value),d.length!==s);u=!0);}catch(m){f=!0,o=m}finally{try{if(!u&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(f)throw o}}return d}})(r,e)||E_(r,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function na(r){return(function(e){if(Array.isArray(e))return Ck(e)})(r)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(r)||E_(r)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function p8(r){var e=(function(t,s){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var i=a.call(t,s);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)})(r,"string");return typeof e=="symbol"?e:e+""}function Va(r){return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(r)}function E_(r,e){if(r){if(typeof r=="string")return Ck(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ck(r,e):void 0}}var ce=(function(){function r(){kt(this,r)}return St(r,[{key:"shadeRGBColor",value:function(e,t){var s=t.split(","),a=e<0?0:255,i=e<0?-1*e:e,o=parseInt(s[0].slice(4),10),l=parseInt(s[1],10),c=parseInt(s[2],10);return"rgb("+(Math.round((a-o)*i)+o)+","+(Math.round((a-l)*i)+l)+","+(Math.round((a-c)*i)+c)+")"}},{key:"shadeHexColor",value:function(e,t){var s=parseInt(t.slice(1),16),a=e<0?0:255,i=e<0?-1*e:e,o=s>>16,l=s>>8&255,c=255&s;return"#"+(16777216+65536*(Math.round((a-o)*i)+o)+256*(Math.round((a-l)*i)+l)+(Math.round((a-c)*i)+c)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return r.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&Va(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,s=[];for(t=0;t<e.length;t++)s[t]=e[t];return s}},{key:"extend",value:function(e,t){var s=this;typeof Object.assign!="function"&&(Object.assign=function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(i),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var d in c)c.hasOwnProperty(d)&&(o[d]=c[d])}return o});var a=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(i){s.isObject(t[i])&&i in e?a[i]=s.extend(e[i],t[i]):Object.assign(a,Ay({},i,t[i]))})),a}},{key:"extendArray",value:function(e,t){var s=[];return e.map((function(a){s.push(r.extend(t,a))})),e=s}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||Va(e)!=="object")return e;if(s.has(e))return s.get(e);if(Array.isArray(e)){t=[],s.set(e,t);for(var a=0;a<e.length;a++)t[a]=this.clone(e[a],s)}else if(e instanceof Date)t=new Date(e.getTime());else for(var i in t={},s.set(e,t),e)e.hasOwnProperty(i)&&(t[i]=this.clone(e[i],s));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return typeof e=="number"||e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),s=e.clientHeight,a=e.clientWidth;return s-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[a-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),s]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce((function(t,s){return Array.isArray(s)&&(s=s.reduce((function(a,i){return a.length>i.length?a:i}))),t.length>s.length?t:s}),0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var s=e.replace("#","");s=s.match(new RegExp("(.{"+s.length/3+"})","g"));for(var a=0;a<s.length;a++)s[a]=parseInt(s[a].length===1?s[a]+s[a]:s[a],16);return t!==void 0&&s.push(t),"rgba("+s.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var s=[],a=2*Math.PI/t,i=0;i<t;i++){var o={};o.x=e*Math.sin(i*a),o.y=-e*Math.cos(i*a),s.push(o)}return s}},{key:"polarToCartesian",value:function(e,t,s,a){var i=(a-90)*Math.PI/180;return{x:e+s*Math.cos(i),y:t+s*Math.sin(i)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",s=e.toString().slice();return s=s.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,s){if(s>=e.length)for(var a=s-e.length+1;a--;)e.push(void 0);return e.splice(s,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e.style.key=t[s])}},{key:"preciseAddition",value:function(e,t){var s=(String(e).split(".")[1]||"").length,a=(String(t).split(".")[1]||"").length,i=Math.pow(10,Math.max(s,a));return(Math.round(e*i)+Math.round(t*i))/i}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*a),t=Math.round(Math.abs(t)*a);t;){var i=t;t=e%t,e=i}return e/a}},{key:"getPrimeFactors",value:function(e){for(var t=[],s=2;e>=2;)e%s==0?(t.push(s),e/=s):s++;return t}},{key:"mod",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*a))%(t=Math.round(Math.abs(t)*a))/a}}]),r})(),qh=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"animateLine",value:function(e,t,s,a){e.attr(t).animate(a).attr(s)}},{key:"animateMarker",value:function(e,t,s,a){e.attr({opacity:0}).animate(t).attr({opacity:1}).after((function(){a()}))}},{key:"animateRect",value:function(e,t,s,a,i){e.attr(t).animate(a).attr(s).after((function(){return i()}))}},{key:"animatePathsGradually",value:function(e){var t=e.el,s=e.realIndex,a=e.j,i=e.fill,o=e.pathFrom,l=e.pathTo,c=e.speed,d=e.delay,u=this.w,f=0;u.config.chart.animations.animateGradually.enabled&&(f=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(f=0),this.morphSVG(t,s,a,u.config.chart.type!=="line"||u.globals.comboCharts?i:"stroke",o,l,c,d*f)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")}))}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,s,a,i,o,l,c){var d=this,u=this.w;i||(i=e.attr("pathFrom")),o||(o=e.attr("pathTo"));var f=function(m){return u.config.chart.type==="radar"&&(l=1),"M 0 ".concat(u.globals.gridHeight)};(!i||i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i=f()),(!o.trim()||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=f()),u.globals.shouldAnimate||(l=1),e.plot(i).animate(1,c).plot(i).animate(l,c).plot(o).after((function(){ce.isNumber(s)?s===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&d.animationCompleted(e):a!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&t===u.globals.series.length-1||u.globals.comboCharts)&&d.animationCompleted(e),d.showDelayedElements()}))}}]),r})();const Tk={},x8=[];function ns(r,e){if(Array.isArray(r))for(const t of r)ns(t,e);else if(typeof r!="object")b8(Object.getOwnPropertyNames(e)),Tk[r]=Object.assign(Tk[r]||{},e);else for(const t in r)ns(t,r[t])}function en(r){return Tk[r]||{}}function b8(r){x8.push(...r)}function T_(r,e){let t;const s=r.length,a=[];for(t=0;t<s;t++)a.push(e(r[t]));return a}function HN(r){return r%360*Math.PI/180}function Wh(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Yh(r,e,t,s){return e!=null&&t!=null||(s=s||r.bbox(),e==null?e=s.width/s.height*t:t==null&&(t=s.height/s.width*e)),{width:e,height:t}}function Pk(r,e){const t=r.origin;let s=r.ox!=null?r.ox:r.originX!=null?r.originX:"center",a=r.oy!=null?r.oy:r.originY!=null?r.originY:"center";t!=null&&([s,a]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const i=typeof s=="string",o=typeof a=="string";if(i||o){const{height:l,width:c,x:d,y:u}=e.bbox();i&&(s=s.includes("left")?d:s.includes("right")?d+c:d+c/2),o&&(a=a.includes("top")?u:a.includes("bottom")?u+l:u+l/2)}return[s,a]}const mfe=new Set(["desc","metadata","title"]),Rk=r=>mfe.has(r.nodeName),y8=(r,e,t={})=>{const s={...e};for(const a in s)s[a].valueOf()===t[a]&&delete s[a];Object.keys(s).length?r.node.setAttribute("data-svgjs",JSON.stringify(s)):(r.node.removeAttribute("data-svgjs"),r.node.removeAttribute("svgjs:data"))},P_="http://www.w3.org/2000/svg",$N="http://www.w3.org/2000/xmlns/",Gh="http://www.w3.org/1999/xlink",Rs={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function bp(){return Rs.window}let R_=class{};const bd={},I_="___SYMBOL___ROOT___";function Cg(r,e=P_){return Rs.document.createElementNS(e,r)}function $a(r,e=!1){if(r instanceof R_)return r;if(typeof r=="object")return qN(r);if(r==null)return new bd[I_];if(typeof r=="string"&&r.charAt(0)!=="<")return qN(Rs.document.querySelector(r));const t=e?Rs.document.createElement("div"):Cg("svg");return t.innerHTML=r,r=qN(t.firstChild),t.removeChild(t.firstChild),r}function cr(r,e){return e&&(e instanceof Rs.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:Cg(r)}function qn(r){if(!r)return null;if(r.instance instanceof R_)return r.instance;if(r.nodeName==="#document-fragment")return new bd.Fragment(r);let e=Wh(r.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":bd[e]||(e="Dom"),new bd[e](r)}let qN=qn;function Ds(r,e=r.name,t=!1){return bd[e]=r,t&&(bd[I_]=r),b8(Object.getOwnPropertyNames(r.prototype)),r}let gfe=1e3;function v8(r){return"Svgjs"+Wh(r)+gfe++}function w8(r){for(let e=r.children.length-1;e>=0;e--)w8(r.children[e]);return r.id&&(r.id=v8(r.nodeName)),r}function zt(r,e){let t,s;for(s=(r=Array.isArray(r)?r:[r]).length-1;s>=0;s--)for(t in e)r[s].prototype[t]=e[t]}function lr(r){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?r.apply(this,e):r.apply(this,e.slice(0,-1)).attr(t)}}ns("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const r=this.position();return this.parent().add(this.remove(),r+1),this},backward:function(){const r=this.position();return this.parent().add(this.remove(),r?r-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(r){(r=$a(r)).remove();const e=this.position();return this.parent().add(r,e),this},after:function(r){(r=$a(r)).remove();const e=this.position();return this.parent().add(r,e+1),this},insertBefore:function(r){return(r=$a(r)).before(this),this},insertAfter:function(r){return(r=$a(r)).after(this),this}});const N8=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,pfe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,xfe=/rgb\((\d+),(\d+),(\d+)\)/,bfe=/(#[a-z_][a-z0-9\-_]*)/i,yfe=/\)\s*,?\s*/,vfe=/\s/g,M3=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,O3=/^rgb\(/,L3=/^(\s+)?$/,F3=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wfe=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,tl=/[\s,]+/,D_=/[MLHVCSQTAZ]/i;function Nfe(r){const e=Math.round(r),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function Du(r,e){for(let t=e.length;t--;)if(r[e[t]]==null)return!1;return!0}function WN(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+(e-r)*(2/3-t)*6:r}ns("Dom",{classes:function(){const r=this.attr("class");return r==null?[]:r.trim().split(tl)},hasClass:function(r){return this.classes().indexOf(r)!==-1},addClass:function(r){if(!this.hasClass(r)){const e=this.classes();e.push(r),this.attr("class",e.join(" "))}return this},removeClass:function(r){return this.hasClass(r)&&this.attr("class",this.classes().filter((function(e){return e!==r})).join(" ")),this},toggleClass:function(r){return this.hasClass(r)?this.removeClass(r):this.addClass(r)}}),ns("Dom",{css:function(r,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter((function(s){return!!s.length})).forEach((function(s){const a=s.split(/\s*:\s*/);t[a[0]]=a[1]})),t;if(arguments.length<2){if(Array.isArray(r)){for(const s of r){const a=s;t[s]=this.node.style.getPropertyValue(a)}return t}if(typeof r=="string")return this.node.style.getPropertyValue(r);if(typeof r=="object")for(const s in r)this.node.style.setProperty(s,r[s]==null||L3.test(r[s])?"":r[s])}return arguments.length===2&&this.node.style.setProperty(r,e==null||L3.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),ns("Dom",{data:function(r,e,t){if(r==null)return this.data(T_((function(s,a){let i;const o=s.length,l=[];for(i=0;i<o;i++)a(s[i])&&l.push(s[i]);return l})(this.node.attributes,(s=>s.nodeName.indexOf("data-")===0)),(s=>s.nodeName.slice(5))));if(r instanceof Array){const s={};for(const a of r)s[a]=this.data(a);return s}if(typeof r=="object")for(e in r)this.data(e,r[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+r))}catch{return this.attr("data-"+r)}else this.attr("data-"+r,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),ns("Dom",{remember:function(r,e){if(typeof arguments[0]=="object")for(const t in r)this.remember(t,r[t]);else{if(arguments.length===1)return this.memory()[r];this.memory()[r]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let r=arguments.length-1;r>=0;r--)delete this.memory()[arguments[r]];return this},memory:function(){return this._memory=this._memory||{}}});class Js{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof Js||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:s,round:a,sin:i,PI:o}=Math;if(e==="vibrant"){const l=24*s()+57,c=38*s()+45,d=360*s();return new Js(l,c,d,"lch")}if(e==="sine"){const l=a(80*i(2*o*(t=t??s())/.5+.01)+150),c=a(50*i(2*o*t/.5+4.6)+200),d=a(100*i(2*o*t/.5+2.3)+150);return new Js(l,c,d)}if(e==="pastel"){const l=8*s()+86,c=17*s()+9,d=360*s();return new Js(l,c,d,"lch")}if(e==="dark"){const l=10+10*s(),c=50*s()+86,d=360*s();return new Js(l,c,d,"lch")}if(e==="rgb"){const l=255*s(),c=255*s(),d=255*s();return new Js(l,c,d)}if(e==="lab"){const l=100*s(),c=256*s()-128,d=256*s()-128;return new Js(l,c,d,"lab")}if(e==="grey"){const l=255*s();return new Js(l,l,l)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(M3.test(e)||O3.test(e))}cmyk(){const{_a:e,_b:t,_c:s}=this.rgb(),[a,i,o]=[e,t,s].map((c=>c/255)),l=Math.min(1-a,1-i,1-o);return l===1?new Js(0,0,0,1,"cmyk"):new Js((1-a-l)/(1-l),(1-i-l)/(1-l),(1-o-l)/(1-l),l,"cmyk")}hsl(){const{_a:e,_b:t,_c:s}=this.rgb(),[a,i,o]=[e,t,s].map((m=>m/255)),l=Math.max(a,i,o),c=Math.min(a,i,o),d=(l+c)/2,u=l===c,f=l-c;return new Js(360*(u?0:l===a?((i-o)/f+(i<o?6:0))/6:l===i?((o-a)/f+2)/6:l===o?((a-i)/f+4)/6:0),100*(u?0:d>.5?f/(2-l-c):f/(l+c)),100*d,"hsl")}init(e=0,t=0,s=0,a=0,i="rgb"){if(e=e||0,this.space)for(const f in this.space)delete this[this.space[f]];if(typeof e=="number")i=typeof a=="string"?a:i,a=typeof a=="string"?0:a,Object.assign(this,{_a:e,_b:t,_c:s,_d:a,space:i});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const f=(function(m,p){const y=Du(m,"rgb")?{_a:m.r,_b:m.g,_c:m.b,_d:0,space:"rgb"}:Du(m,"xyz")?{_a:m.x,_b:m.y,_c:m.z,_d:0,space:"xyz"}:Du(m,"hsl")?{_a:m.h,_b:m.s,_c:m.l,_d:0,space:"hsl"}:Du(m,"lab")?{_a:m.l,_b:m.a,_c:m.b,_d:0,space:"lab"}:Du(m,"lch")?{_a:m.l,_b:m.c,_c:m.h,_d:0,space:"lch"}:Du(m,"cmyk")?{_a:m.c,_b:m.m,_c:m.y,_d:m.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return y.space=p||y.space,y})(e,t);Object.assign(this,f)}else if(typeof e=="string")if(O3.test(e)){const f=e.replace(vfe,""),[m,p,y]=xfe.exec(f).slice(1,4).map((x=>parseInt(x)));Object.assign(this,{_a:m,_b:p,_c:y,_d:0,space:"rgb"})}else{if(!M3.test(e))throw Error("Unsupported string format, can't construct Color");{const f=x=>parseInt(x,16),[,m,p,y]=pfe.exec((function(x){return x.length===4?["#",x.substring(1,2),x.substring(1,2),x.substring(2,3),x.substring(2,3),x.substring(3,4),x.substring(3,4)].join(""):x})(e)).map(f);Object.assign(this,{_a:m,_b:p,_c:y,_d:0,space:"rgb"})}}const{_a:o,_b:l,_c:c,_d:d}=this,u=this.space==="rgb"?{r:o,g:l,b:c}:this.space==="xyz"?{x:o,y:l,z:c}:this.space==="hsl"?{h:o,s:l,l:c}:this.space==="lab"?{l:o,a:l,b:c}:this.space==="lch"?{l:o,c:l,h:c}:this.space==="cmyk"?{c:o,m:l,y:c,k:d}:{};Object.assign(this,u)}lab(){const{x:e,y:t,z:s}=this.xyz();return new Js(116*t-16,500*(e-t),200*(t-s),"lab")}lch(){const{l:e,a:t,b:s}=this.lab(),a=Math.sqrt(t**2+s**2);let i=180*Math.atan2(s,t)/Math.PI;return i<0&&(i*=-1,i=360-i),new Js(e,a,i,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:s,z:a}=this;if(this.space==="lab"||this.space==="lch"){let{l:p,a:y,b:x}=this;if(this.space==="lch"){const{c:D,h:P}=this,E=Math.PI/180;y=D*Math.cos(E*P),x=D*Math.sin(E*P)}const v=(p+16)/116,N=y/500+v,k=v-x/200,S=16/116,R=.008856,A=7.787;t=.95047*(N**3>R?N**3:(N-S)/A),s=1*(v**3>R?v**3:(v-S)/A),a=1.08883*(k**3>R?k**3:(k-S)/A)}const i=3.2406*t+-1.5372*s+-.4986*a,o=-.9689*t+1.8758*s+.0415*a,l=.0557*t+-.204*s+1.057*a,c=Math.pow,d=.0031308,u=i>d?1.055*c(i,1/2.4)-.055:12.92*i,f=o>d?1.055*c(o,1/2.4)-.055:12.92*o,m=l>d?1.055*c(l,1/2.4)-.055:12.92*l;return new Js(255*u,255*f,255*m)}if(this.space==="hsl"){let{h:t,s,l:a}=this;if(t/=360,s/=100,a/=100,s===0)return a*=255,new Js(a,a,a);const i=a<.5?a*(1+s):a+s-a*s,o=2*a-i,l=255*WN(o,i,t+1/3),c=255*WN(o,i,t),d=255*WN(o,i,t-1/3);return new Js(l,c,d)}if(this.space==="cmyk"){const{c:t,m:s,y:a,k:i}=this,o=255*(1-Math.min(1,t*(1-i)+i)),l=255*(1-Math.min(1,s*(1-i)+i)),c=255*(1-Math.min(1,a*(1-i)+i));return new Js(o,l,c)}return this;var e}toArray(){const{_a:e,_b:t,_c:s,_d:a,space:i}=this;return[e,t,s,a,i]}toHex(){const[e,t,s]=this._clamped().map(Nfe);return`#${e}${t}${s}`}toRgb(){const[e,t,s]=this._clamped();return`rgb(${e},${t},${s})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:s}=this.rgb(),[a,i,o]=[e,t,s].map((v=>v/255)),l=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,c=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,d=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,u=(.4124*l+.3576*c+.1805*d)/.95047,f=(.2126*l+.7152*c+.0722*d)/1,m=(.0193*l+.1192*c+.9505*d)/1.08883,p=u>.008856?Math.pow(u,1/3):7.787*u+16/116,y=f>.008856?Math.pow(f,1/3):7.787*f+16/116,x=m>.008856?Math.pow(m,1/3):7.787*m+16/116;return new Js(p,y,x,"xyz")}_clamped(){const{_a:e,_b:t,_c:s}=this.rgb(),{max:a,min:i,round:o}=Math;return[e,t,s].map((l=>a(0,i(o(l),255))))}}class $s{constructor(...e){this.init(...e)}clone(){return new $s(this)}init(e,t){const i=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=i.x==null?0:i.x,this.y=i.y==null?0:i.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Mt.isMatrixLike(e)||(e=new Mt(e));const{x:t,y:s}=this;return this.x=e.a*t+e.c*s+e.e,this.y=e.b*t+e.d*s+e.f,this}}function Mu(r,e,t){return Math.abs(e-r)<1e-6}class Mt{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,s=e.flip&&(t||e.flip==="x")?-1:1,a=e.flip&&(t||e.flip==="y")?-1:1,i=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,o=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,l=e.scale&&e.scale.length?e.scale[0]*s:isFinite(e.scale)?e.scale*s:isFinite(e.scaleX)?e.scaleX*s:s,c=e.scale&&e.scale.length?e.scale[1]*a:isFinite(e.scale)?e.scale*a:isFinite(e.scaleY)?e.scaleY*a:a,d=e.shear||0,u=e.rotate||e.theta||0,f=new $s(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),m=f.x,p=f.y,y=new $s(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),x=y.x,v=y.y,N=new $s(e.translate||e.tx||e.translateX,e.ty||e.translateY),k=N.x,S=N.y,R=new $s(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:l,scaleY:c,skewX:i,skewY:o,shear:d,theta:u,rx:R.x,ry:R.y,tx:k,ty:S,ox:m,oy:p,px:x,py:v}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,s){const a=e.a*t.a+e.c*t.b,i=e.b*t.a+e.d*t.b,o=e.a*t.c+e.c*t.d,l=e.b*t.c+e.d*t.d,c=e.e+e.a*t.e+e.c*t.f,d=e.f+e.b*t.e+e.d*t.f;return s.a=a,s.b=i,s.c=o,s.d=l,s.e=c,s.f=d,s}around(e,t,s){return this.clone().aroundO(e,t,s)}aroundO(e,t,s){const a=e||0,i=t||0;return this.translateO(-a,-i).lmultiplyO(s).translateO(a,i)}clone(){return new Mt(this)}decompose(e=0,t=0){const s=this.a,a=this.b,i=this.c,o=this.d,l=this.e,c=this.f,d=s*o-a*i,u=d>0?1:-1,f=u*Math.sqrt(s*s+a*a),m=Math.atan2(u*a,u*s),p=180/Math.PI*m,y=Math.cos(m),x=Math.sin(m),v=(s*i+a*o)/d,N=i*f/(v*s-a)||o*f/(v*a+s);return{scaleX:f,scaleY:N,shear:v,rotate:p,translateX:l-e+e*y*f+t*(v*y*f-x*N),translateY:c-t+e*x*f+t*(v*x*f+y*N),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new Mt(e);return Mu(this.a,t.a)&&Mu(this.b,t.b)&&Mu(this.c,t.c)&&Mu(this.d,t.d)&&Mu(this.e,t.e)&&Mu(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=Mt.fromArray([1,0,0,1,0,0]);return e=e instanceof _a?e.matrixify():typeof e=="string"?Mt.fromArray(e.split(tl).map(parseFloat)):Array.isArray(e)?Mt.fromArray(e):typeof e=="object"&&Mt.isMatrixLike(e)?e:typeof e=="object"?new Mt().transform(e):arguments.length===6?Mt.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,s=this.c,a=this.d,i=this.e,o=this.f,l=e*a-t*s;if(!l)throw new Error("Cannot invert "+this);const c=a/l,d=-t/l,u=-s/l,f=e/l,m=-(c*i+u*o),p=-(d*i+f*o);return this.a=c,this.b=d,this.c=u,this.d=f,this.e=m,this.f=p,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof Mt?e:new Mt(e);return Mt.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof Mt?e:new Mt(e);return Mt.matrixMultiply(this,t,this)}rotate(e,t,s){return this.clone().rotateO(e,t,s)}rotateO(e,t=0,s=0){e=HN(e);const a=Math.cos(e),i=Math.sin(e),{a:o,b:l,c,d,e:u,f}=this;return this.a=o*a-l*i,this.b=l*a+o*i,this.c=c*a-d*i,this.d=d*a+c*i,this.e=u*a-f*i+s*i-t*a+t,this.f=f*a+u*i-t*i-s*a+s,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,s=0,a=0){arguments.length===3&&(a=s,s=t,t=e);const{a:i,b:o,c:l,d:c,e:d,f:u}=this;return this.a=i*e,this.b=o*t,this.c=l*e,this.d=c*t,this.e=d*e-s*e+s,this.f=u*t-a*t+a,this}shear(e,t,s){return this.clone().shearO(e,t,s)}shearO(e,t=0,s=0){const{a,b:i,c:o,d:l,e:c,f:d}=this;return this.a=a+i*e,this.c=o+l*e,this.e=c+d*e-s*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,s=0,a=0){arguments.length===3&&(a=s,s=t,t=e),e=HN(e),t=HN(t);const i=Math.tan(e),o=Math.tan(t),{a:l,b:c,c:d,d:u,e:f,f:m}=this;return this.a=l+c*i,this.b=c+l*o,this.c=d+u*i,this.d=u+d*o,this.e=f+m*i-a*i,this.f=m+f*o-s*o,this}skewX(e,t,s){return this.skew(e,0,t,s)}skewY(e,t,s){return this.skew(0,e,t,s)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Mt.isMatrixLike(e))return new Mt(e).multiplyO(this);const t=Mt.formatTransforms(e),{x:s,y:a}=new $s(t.ox,t.oy).transform(this),i=new Mt().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-s,-a).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(s,a);if(isFinite(t.px)||isFinite(t.py)){const o=new $s(s,a).transform(i),l=isFinite(t.px)?t.px-o.x:0,c=isFinite(t.py)?t.py-o.y:0;i.translateO(l,c)}return i.translateO(t.tx,t.ty),i}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Pl(){if(!Pl.nodes){const r=$a().size(2,0);r.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),r.attr("focusable","false"),r.attr("aria-hidden","true");const e=r.path().node;Pl.nodes={svg:r,path:e}}if(!Pl.nodes.svg.node.parentNode){const r=Rs.document.body||Rs.document.documentElement;Pl.nodes.svg.addTo(r)}return Pl.nodes}function j8(r){return!(r.width||r.height||r.x||r.y)}Ds(Mt,"Matrix");class Rr{constructor(...e){this.init(...e)}addOffset(){return this.x+=Rs.window.pageXOffset,this.y+=Rs.window.pageYOffset,new Rr(this)}init(e){return e=typeof e=="string"?e.split(tl).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return j8(this)}merge(e){const t=Math.min(this.x,e.x),s=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x+e.width)-t,i=Math.max(this.y+this.height,e.y+e.height)-s;return new Rr(t,s,a,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Mt||(e=new Mt(e));let t=1/0,s=-1/0,a=1/0,i=-1/0;return[new $s(this.x,this.y),new $s(this.x2,this.y),new $s(this.x,this.y2),new $s(this.x2,this.y2)].forEach((function(o){o=o.transform(e),t=Math.min(t,o.x),s=Math.max(s,o.x),a=Math.min(a,o.y),i=Math.max(i,o.y)})),new Rr(t,a,s-t,i-a)}}function U3(r,e,t){let s;try{if(s=e(r.node),j8(s)&&(a=r.node)!==Rs.document&&!(Rs.document.documentElement.contains||function(i){for(;i.parentNode;)i=i.parentNode;return i===Rs.document}).call(Rs.document.documentElement,a))throw new Error("Element not in the dom")}catch{s=t(r)}var a;return s}ns({viewbox:{viewbox(r,e,t,s){return r==null?new Rr(this.attr("viewBox")):this.attr("viewBox",new Rr(r,e,t,s))},zoom(r,e){let{width:t,height:s}=this.attr(["width","height"]);if((t||s)&&typeof t!="string"&&typeof s!="string"||(t=this.node.clientWidth,s=this.node.clientHeight),!t||!s)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const a=this.viewbox(),i=t/a.width,o=s/a.height,l=Math.min(i,o);if(r==null)return l;let c=l/r;c===1/0&&(c=Number.MAX_SAFE_INTEGER/100),e=e||new $s(t/2/i+a.x,s/2/o+a.y);const d=new Rr(a).transform(new Mt({scale:c,origin:e}));return this.viewbox(d)}}}),Ds(Rr,"Box");class Rd extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}zt([Rd],{each(r,...e){return typeof r=="function"?this.map(((t,s,a)=>r.call(t,t,s,a))):this.map((t=>t[r](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const jfe=["toArray","constructor","each"];function Vd(r,e){return new Rd(T_((e||Rs.document).querySelectorAll(r),(function(t){return qn(t)})))}Rd.extend=function(r){r=r.reduce(((e,t)=>(jfe.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...s){return this.each(t,...s)}),e)),{}),zt([Rd],r)};let kfe=0;const k8={};function S8(r){let e=r.getEventHolder();return e===Rs.window&&(e=k8),e.events||(e.events={}),e.events}function M_(r){return r.getEventTarget()}function Fo(r,e,t,s,a){const i=t.bind(s||r),o=$a(r),l=S8(o),c=M_(o);e=Array.isArray(e)?e:e.split(tl),t._svgjsListenerId||(t._svgjsListenerId=++kfe),e.forEach((function(d){const u=d.split(".")[0],f=d.split(".")[1]||"*";l[u]=l[u]||{},l[u][f]=l[u][f]||{},l[u][f][t._svgjsListenerId]=i,c.addEventListener(u,i,a||!1)}))}function Yn(r,e,t,s){const a=$a(r),i=S8(a),o=M_(a);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(tl)).forEach((function(l){const c=l&&l.split(".")[0],d=l&&l.split(".")[1];let u,f;if(t)i[c]&&i[c][d||"*"]&&(o.removeEventListener(c,i[c][d||"*"][t],s||!1),delete i[c][d||"*"][t]);else if(c&&d){if(i[c]&&i[c][d]){for(f in i[c][d])Yn(o,[c,d].join("."),f);delete i[c][d]}}else if(d)for(l in i)for(u in i[l])d===u&&Yn(o,[l,d].join("."));else if(c){if(i[c]){for(u in i[c])Yn(o,[c,u].join("."));delete i[c]}}else{for(l in i)Yn(o,l);(function(m){let p=m.getEventHolder();p===Rs.window&&(p=k8),p.events&&(p.events={})})(a)}}))}class yp extends R_{addEventListener(){}dispatch(e,t,s){return(function(a,i,o,l){const c=M_(a);return i instanceof Rs.window.Event||(i=new Rs.window.CustomEvent(i,{detail:o,cancelable:!0,...l})),c.dispatchEvent(i),i})(this,e,t,s)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const s=t[e.type];for(const a in s)for(const i in s[a])s[a][i](e);return!e.defaultPrevented}fire(e,t,s){return this.dispatch(e,t,s),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,s){return Yn(this,e,t,s),this}on(e,t,s,a){return Fo(this,e,t,s,a),this}removeEventListener(){}}function z3(){}Ds(yp,"EventTarget");const YN=400,Sfe=">",_fe=0,Afe={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Id extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(tl).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class Qt{constructor(...e){this.init(...e)}convert(e){return new Qt(this.value,e)}divide(e){return e=new Qt(e),new Qt(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(N8))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof Qt&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new Qt(e),new Qt(this-e,this.unit||e.unit)}plus(e){return e=new Qt(e),new Qt(this+e,this.unit||e.unit)}times(e){return e=new Qt(e),new Qt(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Cfe=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),_8=[];class ac extends yp{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=$a(e)).removeNamespace&&this.node instanceof Rs.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return $a(e).put(this,t)}children(){return new Rd(T_(this.node.children,(function(e){return qn(e)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let s=this.node.cloneNode(e);return t&&(s=w8(s)),new this.constructor(s)}each(e,t){const s=this.children();let a,i;for(a=0,i=s.length;a<i;a++)e.apply(s[a],[a,s]),t&&s[a].each(e,t);return this}element(e,t){return this.put(new ac(Cg(e),t))}first(){return qn(this.node.firstChild)}get(e){return qn(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=v8(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return qn(this.node.lastChild)}matches(e){const t=this.node,s=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return s&&s.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=qn(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=qn(t.node.parentNode));return t}put(e,t){return e=$a(e),this.add(e,t),e}putIn(e,t){return $a(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=$a(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const s=10**e,a=this.attr(t);for(const i in a)typeof a[i]=="number"&&(a[i]=Math.round(a[i]*s)/s);return this.attr(a),this}svg(e,t){return this.xml(e,t,P_)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const s=t.index(this);return t.put(e,s).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(e,t,s){if(typeof e=="boolean"&&(s=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let l=this;if(e!=null){if(l=qn(l.node.cloneNode(!0)),t){const c=e(l);if(l=c||l,c===!1)return""}l.each((function(){const c=e(this),d=c||this;c===!1?this.remove():c&&this!==d&&this.replace(d)}),!0)}return t?l.node.outerHTML:l.node.innerHTML}t=t!=null&&t;const a=Cg("wrapper",s),i=Rs.document.createDocumentFragment();a.innerHTML=e;for(let l=a.children.length;l--;)i.appendChild(a.firstElementChild);const o=this.parent();return t?this.replace(i)&&o:this.add(i)}}zt(ac,{attr:function(r,e,t){if(r==null){r={},e=this.node.attributes;for(const s of e)r[s.nodeName]=F3.test(s.nodeValue)?parseFloat(s.nodeValue):s.nodeValue;return r}if(r instanceof Array)return r.reduce(((s,a)=>(s[a]=this.attr(a),s)),{});if(typeof r=="object"&&r.constructor===Object)for(e in r)this.attr(e,r[e]);else if(e===null)this.node.removeAttribute(r);else{if(e==null)return(e=this.node.getAttribute(r))==null?Afe[r]:F3.test(e)?parseFloat(e):e;typeof(e=_8.reduce(((s,a)=>a(r,s,this)),e))=="number"?e=new Qt(e):Cfe.has(r)&&Js.isColor(e)?e=new Js(e):e.constructor===Array&&(e=new Id(e)),r==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,r,e.toString()):this.node.setAttribute(r,e.toString()),!this.rebuild||r!=="font-size"&&r!=="x"||this.rebuild()}return this},find:function(r){return Vd(r,this.node)},findOne:function(r){return qn(this.node.querySelector(r))}}),Ds(ac,"Dom");let _a=class extends ac{constructor(r,e){super(r,e),this.dom={},this.node.instance=this,(r.hasAttribute("data-svgjs")||r.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(r.getAttribute("data-svgjs"))??JSON.parse(r.getAttribute("svgjs:data"))??{})}center(r,e){return this.cx(r).cy(e)}cx(r){return r==null?this.x()+this.width()/2:this.x(r-this.width()/2)}cy(r){return r==null?this.y()+this.height()/2:this.y(r-this.height()/2)}defs(){const r=this.root();return r&&r.defs()}dmove(r,e){return this.dx(r).dy(e)}dx(r=0){return this.x(new Qt(r).plus(this.x()))}dy(r=0){return this.y(new Qt(r).plus(this.y()))}getEventHolder(){return this}height(r){return this.attr("height",r)}move(r,e){return this.x(r).y(e)}parents(r=this.root()){const e=typeof r=="string";e||(r=$a(r));const t=new Rd;let s=this;for(;(s=s.parent())&&s.node!==Rs.document&&s.nodeName!=="#document-fragment"&&(t.push(s),e||s.node!==r.node)&&(!e||!s.matches(r));)if(s.node===this.root().node)return null;return t}reference(r){if(!(r=this.attr(r)))return null;const e=(r+"").match(bfe);return e?$a(e[1]):null}root(){const r=this.parent((function(e){return bd[e]})(I_));return r&&r.root()}setData(r){return this.dom=r,this}size(r,e){const t=Yh(this,r,e);return this.width(new Qt(t.width)).height(new Qt(t.height))}width(r){return this.attr("width",r)}writeDataToDom(){return y8(this,this.dom),super.writeDataToDom()}x(r){return this.attr("x",r)}y(r){return this.attr("y",r)}};zt(_a,{bbox:function(){const r=U3(this,(e=>e.getBBox()),(e=>{try{const t=e.clone().addTo(Pl().svg).show(),s=t.node.getBBox();return t.remove(),s}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}}));return new Rr(r)},rbox:function(r){const e=U3(this,(s=>s.getBoundingClientRect()),(s=>{throw new Error(`Getting rbox of element "${s.node.nodeName}" is not possible`)})),t=new Rr(e);return r?t.transform(r.screenCTM().inverseO()):t.addOffset()},inside:function(r,e){const t=this.bbox();return r>t.x&&e>t.y&&r<t.x+t.width&&e<t.y+t.height},point:function(r,e){return new $s(r,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Mt(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const r=this.rect(1,1),e=r.node.getScreenCTM();return r.remove(),new Mt(e)}return new Mt(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Mt}}}),Ds(_a,"Element");const Nm={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(r,e){return e==="color"?r:r+"-"+e}};["fill","stroke"].forEach((function(r){const e={};let t;e[r]=function(s){if(s===void 0)return this.attr(r);if(typeof s=="string"||s instanceof Js||Js.isRgb(s)||s instanceof _a)this.attr(r,s);else for(t=Nm[r].length-1;t>=0;t--)s[Nm[r][t]]!=null&&this.attr(Nm.prefix(r,Nm[r][t]),s[Nm[r][t]]);return this},ns(["Element","Runner"],e)})),ns(["Element","Runner"],{matrix:function(r,e,t,s,a,i){return r==null?new Mt(this):this.attr("transform",new Mt(r,e,t,s,a,i))},rotate:function(r,e,t){return this.transform({rotate:r,ox:e,oy:t},!0)},skew:function(r,e,t,s){return arguments.length===1||arguments.length===3?this.transform({skew:r,ox:e,oy:t},!0):this.transform({skew:[r,e],ox:t,oy:s},!0)},shear:function(r,e,t){return this.transform({shear:r,ox:e,oy:t},!0)},scale:function(r,e,t,s){return arguments.length===1||arguments.length===3?this.transform({scale:r,ox:e,oy:t},!0):this.transform({scale:[r,e],ox:t,oy:s},!0)},translate:function(r,e){return this.transform({translate:[r,e]},!0)},relative:function(r,e){return this.transform({relative:[r,e]},!0)},flip:function(r="both",e="center"){return"xybothtrue".indexOf(r)===-1&&(e=r,r="both"),this.transform({flip:r,origin:e},!0)},opacity:function(r){return this.attr("opacity",r)}}),ns("radius",{radius:function(r,e=r){return(this._element||this).type==="radialGradient"?this.attr("r",new Qt(r)):this.rx(r).ry(e)}}),ns("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(r){return new $s(this.node.getPointAtLength(r))}}),ns(["Element","Runner"],{font:function(r,e){if(typeof r=="object"){for(e in r)this.font(e,r[e]);return this}return r==="leading"?this.leading(e):r==="anchor"?this.attr("text-anchor",e):r==="size"||r==="family"||r==="weight"||r==="stretch"||r==="variant"||r==="style"?this.attr("font-"+r,e):this.attr(r,e)}});ns("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce((function(r,e){return r[e]=function(t){return t===null?this.off(e):this.on(e,t),this},r}),{})),ns("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(yfe).slice(0,-1).map((function(e){const t=e.trim().split("(");return[t[0],t[1].split(tl).map((function(s){return parseFloat(s)}))]})).reverse().reduce((function(e,t){return t[0]==="matrix"?e.lmultiply(Mt.fromArray(t[1])):e[t[0]].apply(e,t[1])}),new Mt)},toParent:function(r,e){if(this===r)return this;if(Rk(this.node))return this.addTo(r,e);const t=this.screenCTM(),s=r.screenCTM().inverse();return this.addTo(r,e).untransform().transform(s.multiply(t)),this},toRoot:function(r){return this.toParent(this.root(),r)},transform:function(r,e){if(r==null||typeof r=="string"){const s=new Mt(this).decompose();return r==null?s:s[r]}Mt.isMatrixLike(r)||(r={...r,origin:Pk(r,this)});const t=new Mt(e===!0?this:e||!1).transform(r);return this.attr("transform",t)}});class Xa extends _a{flatten(){return this.each((function(){if(this instanceof Xa)return this.flatten().ungroup()})),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each((function(s,a){return a[a.length-s-1].toParent(e,t)})),this.remove()}}Ds(Xa,"Container");class Ev extends Xa{constructor(e,t=e){super(cr("defs",e),t)}flatten(){return this}ungroup(){return this}}Ds(Ev,"Defs");class En extends _a{}function O_(r){return this.attr("rx",r)}function L_(r){return this.attr("ry",r)}function A8(r){return r==null?this.cx()-this.rx():this.cx(r+this.rx())}function C8(r){return r==null?this.cy()-this.ry():this.cy(r+this.ry())}function E8(r){return this.attr("cx",r)}function T8(r){return this.attr("cy",r)}function P8(r){return r==null?2*this.rx():this.rx(new Qt(r).divide(2))}function R8(r){return r==null?2*this.ry():this.ry(new Qt(r).divide(2))}Ds(En,"Shape");var Efe=Object.freeze({__proto__:null,cx:E8,cy:T8,height:R8,rx:O_,ry:L_,width:P8,x:A8,y:C8});class Ib extends En{constructor(e,t=e){super(cr("ellipse",e),t)}size(e,t){const s=Yh(this,e,t);return this.rx(new Qt(s.width).divide(2)).ry(new Qt(s.height).divide(2))}}zt(Ib,Efe),ns("Container",{ellipse:lr((function(r=0,e=r){return this.put(new Ib).size(r,e).move(0,0)}))}),Ds(Ib,"Ellipse");class I8 extends ac{constructor(e=Rs.document.createDocumentFragment()){super(e)}xml(e,t,s){if(typeof e=="boolean"&&(s=t,t=e,e=null),e==null||typeof e=="function"){const a=new ac(Cg("wrapper",s));return a.add(this.node.cloneNode(!0)),a.xml(!1,s)}return super.xml(e,!1,s)}}function D8(r,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new Qt(r),fy:new Qt(e)}):this.attr({x1:new Qt(r),y1:new Qt(e)})}function M8(r,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new Qt(r),cy:new Qt(e)}):this.attr({x2:new Qt(r),y2:new Qt(e)})}Ds(I8,"Fragment");var Tfe=Object.freeze({__proto__:null,from:D8,to:M8});class Jm extends Xa{constructor(e,t){super(cr(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,s){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,s)}bbox(){return new Rr}targets(){return Vd("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}zt(Jm,Tfe),ns({Container:{gradient(...r){return this.defs().gradient(...r)}},Defs:{gradient:lr((function(r,e){return this.put(new Jm(r)).update(e)}))}}),Ds(Jm,"Gradient");class Eg extends Xa{constructor(e,t=e){super(cr("pattern",e),t)}attr(e,t,s){return e==="transform"&&(e="patternTransform"),super.attr(e,t,s)}bbox(){return new Rr}targets(){return Vd("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}ns({Container:{pattern(...r){return this.defs().pattern(...r)}},Defs:{pattern:lr((function(r,e,t){return this.put(new Eg).update(t).attr({x:0,y:0,width:r,height:e,patternUnits:"userSpaceOnUse"})}))}}),Ds(Eg,"Pattern");let Db=class extends En{constructor(r,e=r){super(cr("image",r),e)}load(r,e){if(!r)return this;const t=new Rs.window.Image;return Fo(t,"load",(function(s){const a=this.parent(Eg);this.width()===0&&this.height()===0&&this.size(t.width,t.height),a instanceof Eg&&a.width()===0&&a.height()===0&&a.size(this.width(),this.height()),typeof e=="function"&&e.call(this,s)}),this),Fo(t,"load error",(function(){Yn(t)})),this.attr("href",t.src=r,Gh)}};var B3;B3=function(r,e,t){return r!=="fill"&&r!=="stroke"||wfe.test(e)&&(e=t.root().defs().image(e)),e instanceof Db&&(e=t.root().defs().pattern(0,0,(s=>{s.add(e)}))),e},_8.push(B3),ns({Container:{image:lr((function(r,e){return this.put(new Db).size(0,0).load(r,e)}))}}),Ds(Db,"Image");class nc extends Id{bbox(){let e=-1/0,t=-1/0,s=1/0,a=1/0;return this.forEach((function(i){e=Math.max(i[0],e),t=Math.max(i[1],t),s=Math.min(i[0],s),a=Math.min(i[1],a)})),new Rr(s,a,e-s,t-a)}move(e,t){const s=this.bbox();if(e-=s.x,t-=s.y,!isNaN(e)&&!isNaN(t))for(let a=this.length-1;a>=0;a--)this[a]=[this[a][0]+e,this[a][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(tl).map(parseFloat)).length%2!=0&&e.pop();for(let s=0,a=e.length;s<a;s+=2)t.push([e[s],e[s+1]]);return t}size(e,t){let s;const a=this.bbox();for(s=this.length-1;s>=0;s--)a.width&&(this[s][0]=(this[s][0]-a.x)*e/a.width+a.x),a.height&&(this[s][1]=(this[s][1]-a.y)*t/a.height+a.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,s=this.length;t<s;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Mt.isMatrixLike(e)||(e=new Mt(e));for(let t=this.length;t--;){const[s,a]=this[t];this[t][0]=e.a*s+e.c*a+e.e,this[t][1]=e.b*s+e.d*a+e.f}return this}}const Pfe=nc;var F_=Object.freeze({__proto__:null,MorphArray:Pfe,height:function(r){const e=this.bbox();return r==null?e.height:this.size(e.width,r)},width:function(r){const e=this.bbox();return r==null?e.width:this.size(r,e.height)},x:function(r){return r==null?this.bbox().x:this.move(r,this.bbox().y)},y:function(r){return r==null?this.bbox().y:this.move(this.bbox().x,r)}});let cd=class extends En{constructor(r,e=r){super(cr("line",r),e)}array(){return new nc([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(r,e){return this.attr(this.array().move(r,e).toLine())}plot(r,e,t,s){return r==null?this.array():(r=e!==void 0?{x1:r,y1:e,x2:t,y2:s}:new nc(r).toLine(),this.attr(r))}size(r,e){const t=Yh(this,r,e);return this.attr(this.array().size(t.width,t.height).toLine())}};zt(cd,F_),ns({Container:{line:lr((function(...r){return cd.prototype.plot.apply(this.put(new cd),r[0]!=null?r:[0,0,0,0])}))}}),Ds(cd,"Line");let Mb=class extends Xa{constructor(r,e=r){super(cr("marker",r),e)}height(r){return this.attr("markerHeight",r)}orient(r){return this.attr("orient",r)}ref(r,e){return this.attr("refX",r).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(r){return this.clear(),typeof r=="function"&&r.call(this,this),this}width(r){return this.attr("markerWidth",r)}};function Xu(r,e){return function(t){return t==null?this[r]:(this[r]=t,e&&e.call(this),this)}}ns({Container:{marker(...r){return this.defs().marker(...r)}},Defs:{marker:lr((function(r,e,t){return this.put(new Mb).size(r,e).ref(r/2,e/2).viewbox(0,0,r,e).attr("orient","auto").update(t)}))},marker:{marker(r,e,t,s){let a=["marker"];return r!=="all"&&a.push(r),a=a.join("-"),r=arguments[1]instanceof Mb?arguments[1]:this.defs().marker(e,t,s),this.attr(a,r)}}}),Ds(Mb,"Marker");const Rfe={"-":function(r){return r},"<>":function(r){return-Math.cos(r*Math.PI)/2+.5},">":function(r){return Math.sin(r*Math.PI/2)},"<":function(r){return 1-Math.cos(r*Math.PI/2)},bezier:function(r,e,t,s){return function(a){return a<0?r>0?e/r*a:t>0?s/t*a:0:a>1?t<1?(1-s)/(1-t)*a+(s-t)/(1-t):r<1?(1-e)/(1-r)*a+(e-r)/(1-r):1:3*a*(1-a)**2*e+3*a**2*(1-a)*s+a**3}},steps:function(r,e="end"){e=e.split("-").reverse()[0];let t=r;return e==="none"?--t:e==="both"&&++t,(s,a=!1)=>{let i=Math.floor(s*r);const o=s*i%1==0;return e!=="start"&&e!=="both"||++i,a&&o&&--i,s>=0&&i<0&&(i=0),s<=1&&i>t&&(i=t),i/t}}};class U_{done(){return!1}}class Ik extends U_{constructor(e=Sfe){super(),this.ease=Rfe[e]||e}step(e,t,s){return typeof e!="number"?s<1?e:t:e+(t-e)*this.ease(s)}}class Ey extends U_{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,s,a){return this.stepper(e,t,s,a)}}function V3(){const r=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,s=Math.log(e/100+1e-10),a=-s/Math.sqrt(t*t+s*s),i=3.9/(a*r);this.d=2*a*i,this.k=i*i}zt(class extends Ey{constructor(r=500,e=0){super(),this.duration(r).overshoot(e)}step(r,e,t,s){if(typeof r=="string")return r;if(s.done=t===1/0,t===1/0)return e;if(t===0)return r;t>100&&(t=16),t/=1e3;const a=s.velocity||0,i=-this.d*a-this.k*(r-e),o=r+a*t+i*t*t/2;return s.velocity=a+i*t,s.done=Math.abs(e-o)+Math.abs(a)<.002,s.done?e:o}},{duration:Xu("_duration",V3),overshoot:Xu("_overshoot",V3)});zt(class extends Ey{constructor(r=.1,e=.01,t=0,s=1e3){super(),this.p(r).i(e).d(t).windup(s)}step(r,e,t,s){if(typeof r=="string")return r;if(s.done=t===1/0,t===1/0)return e;if(t===0)return r;const a=e-r;let i=(s.integral||0)+a*t;const o=(a-(s.error||0))/t,l=this._windup;return l!==!1&&(i=Math.max(-l,Math.min(i,l))),s.error=a,s.integral=i,s.done=Math.abs(a)<.001,s.done?e:r+(this.P*a+this.I*i+this.D*o)}},{windup:Xu("_windup"),p:Xu("P"),i:Xu("I"),d:Xu("D")});const Ife={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Dk={M:function(r,e,t){return e.x=t.x=r[0],e.y=t.y=r[1],["M",e.x,e.y]},L:function(r,e){return e.x=r[0],e.y=r[1],["L",r[0],r[1]]},H:function(r,e){return e.x=r[0],["H",r[0]]},V:function(r,e){return e.y=r[0],["V",r[0]]},C:function(r,e){return e.x=r[4],e.y=r[5],["C",r[0],r[1],r[2],r[3],r[4],r[5]]},S:function(r,e){return e.x=r[2],e.y=r[3],["S",r[0],r[1],r[2],r[3]]},Q:function(r,e){return e.x=r[2],e.y=r[3],["Q",r[0],r[1],r[2],r[3]]},T:function(r,e){return e.x=r[0],e.y=r[1],["T",r[0],r[1]]},Z:function(r,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(r,e){return e.x=r[5],e.y=r[6],["A",r[0],r[1],r[2],r[3],r[4],r[5],r[6]]}},GN="mlhvqtcsaz".split("");for(let r=0,e=GN.length;r<e;++r)Dk[GN[r]]=(function(t){return function(s,a,i){if(t==="H")s[0]=s[0]+a.x;else if(t==="V")s[0]=s[0]+a.y;else if(t==="A")s[5]=s[5]+a.x,s[6]=s[6]+a.y;else for(let o=0,l=s.length;o<l;++o)s[o]=s[o]+(o%2?a.y:a.x);return Dk[t](s,a,i)}})(GN[r].toUpperCase());function Mk(r){return r.segment.length&&r.segment.length-1===Ife[r.segment[0].toUpperCase()]}function Dfe(r,e){r.inNumber&&Qc(r,!1);const t=D_.test(e);if(t)r.segment=[e];else{const s=r.lastCommand,a=s.toLowerCase(),i=s===a;r.segment=[a==="m"?i?"l":"L":s]}return r.inSegment=!0,r.lastCommand=r.segment[0],t}function Qc(r,e){if(!r.inNumber)throw new Error("Parser Error");r.number&&r.segment.push(parseFloat(r.number)),r.inNumber=e,r.number="",r.pointSeen=!1,r.hasExponent=!1,Mk(r)&&Ok(r)}function Ok(r){r.inSegment=!1,r.absolute&&(r.segment=(function(e){const t=e.segment[0];return Dk[t](e.segment.slice(1),e.p,e.p0)})(r)),r.segments.push(r.segment)}function Mfe(r){if(!r.segment.length)return!1;const e=r.segment[0].toUpperCase()==="A",t=r.segment.length;return e&&(t===4||t===5)}function Ofe(r){return r.lastToken.toUpperCase()==="E"}const Lfe=new Set([" ",",","	",`
`,"\r","\f"]);class ui extends Id{bbox(){return Pl().path.setAttribute("d",this.toString()),new Rr(Pl.nodes.path.getBBox())}move(e,t){const s=this.bbox();if(e-=s.x,t-=s.y,!isNaN(e)&&!isNaN(t))for(let a,i=this.length-1;i>=0;i--)a=this[i][0],a==="M"||a==="L"||a==="T"?(this[i][1]+=e,this[i][2]+=t):a==="H"?this[i][1]+=e:a==="V"?this[i][1]+=t:a==="C"||a==="S"||a==="Q"?(this[i][1]+=e,this[i][2]+=t,this[i][3]+=e,this[i][4]+=t,a==="C"&&(this[i][5]+=e,this[i][6]+=t)):a==="A"&&(this[i][6]+=e,this[i][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),(function(t,s=!0){let a=0,i="";const o={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:s,p0:new $s,p:new $s};for(;o.lastToken=i,i=t.charAt(a++);)if(o.inSegment||!Dfe(o,i))if(i!==".")if(isNaN(parseInt(i)))if(Lfe.has(i))o.inNumber&&Qc(o,!1);else if(i!=="-"&&i!=="+")if(i.toUpperCase()!=="E"){if(D_.test(i)){if(o.inNumber)Qc(o,!1);else{if(!Mk(o))throw new Error("parser Error");Ok(o)}--a}}else o.number+=i,o.hasExponent=!0;else{if(o.inNumber&&!Ofe(o)){Qc(o,!1),--a;continue}o.number+=i,o.inNumber=!0}else{if(o.number==="0"||Mfe(o)){o.inNumber=!0,o.number=i,Qc(o,!0);continue}o.inNumber=!0,o.number+=i}else{if(o.pointSeen||o.hasExponent){Qc(o,!1),--a;continue}o.inNumber=!0,o.pointSeen=!0,o.number+=i}return o.inNumber&&Qc(o,!1),o.inSegment&&Mk(o)&&Ok(o),o.segments})(e)}size(e,t){const s=this.bbox();let a,i;for(s.width=s.width===0?1:s.width,s.height=s.height===0?1:s.height,a=this.length-1;a>=0;a--)i=this[a][0],i==="M"||i==="L"||i==="T"?(this[a][1]=(this[a][1]-s.x)*e/s.width+s.x,this[a][2]=(this[a][2]-s.y)*t/s.height+s.y):i==="H"?this[a][1]=(this[a][1]-s.x)*e/s.width+s.x:i==="V"?this[a][1]=(this[a][1]-s.y)*t/s.height+s.y:i==="C"||i==="S"||i==="Q"?(this[a][1]=(this[a][1]-s.x)*e/s.width+s.x,this[a][2]=(this[a][2]-s.y)*t/s.height+s.y,this[a][3]=(this[a][3]-s.x)*e/s.width+s.x,this[a][4]=(this[a][4]-s.y)*t/s.height+s.y,i==="C"&&(this[a][5]=(this[a][5]-s.x)*e/s.width+s.x,this[a][6]=(this[a][6]-s.y)*t/s.height+s.y)):i==="A"&&(this[a][1]=this[a][1]*e/s.width,this[a][2]=this[a][2]*t/s.height,this[a][6]=(this[a][6]-s.x)*e/s.width+s.x,this[a][7]=(this[a][7]-s.y)*t/s.height+s.y);return this}toString(){return(function(e){let t="";for(let s=0,a=e.length;s<a;s++)t+=e[s][0],e[s][1]!=null&&(t+=e[s][1],e[s][2]!=null&&(t+=" ",t+=e[s][2],e[s][3]!=null&&(t+=" ",t+=e[s][3],t+=" ",t+=e[s][4],e[s][5]!=null&&(t+=" ",t+=e[s][5],t+=" ",t+=e[s][6],e[s][7]!=null&&(t+=" ",t+=e[s][7])))));return t+" "})(this)}}const O8=r=>{const e=typeof r;return e==="number"?Qt:e==="string"?Js.isColor(r)?Js:tl.test(r)?D_.test(r)?ui:Id:N8.test(r)?Qt:Lk:Fk.indexOf(r.constructor)>-1?r.constructor:Array.isArray(r)?Id:e==="object"?Tg:Lk};class Jc{constructor(e){this._stepper=e||new Ik("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(e,t){return e&&t}),!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(O8(e));let t=new this._type(e);return this._type===Js&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===Tg&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map((function(s){return s.done=!0,s})),t}}class Lk{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class vp{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,vp.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}vp.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const Ffe=(r,e)=>r[0]<e[0]?-1:r[0]>e[0]?1:0;class Tg{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let s=0,a=t.length;s<a;++s){if(t[s+1]===e[s+1]){if(t[s+1]===Js&&e[s+7]!==t[s+7]){const l=e[s+7],c=new Js(this.values.splice(s+3,5))[l]().toArray();this.values.splice(s+3,0,...c)}s+=t[s+2]+2;continue}if(!e[s+1])return this;const i=new e[s+1]().toArray(),o=t[s+2]+3;t.splice(s,o,e[s],e[s+1],e[s+2],...i),s+=t[s+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const s in e){const a=O8(e[s]),i=new a(e[s]).toArray();t.push([s,a,i.length,...i])}return t.sort(Ffe),this.values=t.reduce(((s,a)=>s.concat(a)),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const s=t.shift(),a=t.shift(),i=t.shift(),o=t.splice(0,i);e[s]=new a(o)}return e}}const Fk=[Lk,vp,Tg];class ih extends En{constructor(e,t=e){super(cr("path",e),t)}array(){return this._array||(this._array=new ui(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new ui(e))}size(e,t){const s=Yh(this,e,t);return this.attr("d",this.array().size(s.width,s.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}ih.prototype.MorphArray=ui,ns({Container:{path:lr((function(r){return this.put(new ih).plot(r||new ui)}))}}),Ds(ih,"Path");var L8=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new nc(this.attr("points")))},clear:function(){return delete this._array,this},move:function(r,e){return this.attr("points",this.array().move(r,e))},plot:function(r){return r==null?this.array():this.clear().attr("points",typeof r=="string"?r:this._array=new nc(r))},size:function(r,e){const t=Yh(this,r,e);return this.attr("points",this.array().size(t.width,t.height))}});class dd extends En{constructor(e,t=e){super(cr("polygon",e),t)}}ns({Container:{polygon:lr((function(r){return this.put(new dd).plot(r||new nc)}))}}),zt(dd,F_),zt(dd,L8),Ds(dd,"Polygon");class ud extends En{constructor(e,t=e){super(cr("polyline",e),t)}}ns({Container:{polyline:lr((function(r){return this.put(new ud).plot(r||new nc)}))}}),zt(ud,F_),zt(ud,L8),Ds(ud,"Polyline");class Ob extends En{constructor(e,t=e){super(cr("rect",e),t)}}zt(Ob,{rx:O_,ry:L_}),ns({Container:{rect:lr((function(r,e){return this.put(new Ob).size(r,e)}))}}),Ds(Ob,"Rect");class XN{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Ys={nextDraw:null,frames:new XN,timeouts:new XN,immediates:new XN,timer:()=>Rs.window.performance||Rs.window.Date,transforms:[],frame(r){const e=Ys.frames.push({run:r});return Ys.nextDraw===null&&(Ys.nextDraw=Rs.window.requestAnimationFrame(Ys._draw)),e},timeout(r,e){e=e||0;const t=Ys.timer().now()+e,s=Ys.timeouts.push({run:r,time:t});return Ys.nextDraw===null&&(Ys.nextDraw=Rs.window.requestAnimationFrame(Ys._draw)),s},immediate(r){const e=Ys.immediates.push(r);return Ys.nextDraw===null&&(Ys.nextDraw=Rs.window.requestAnimationFrame(Ys._draw)),e},cancelFrame(r){r!=null&&Ys.frames.remove(r)},clearTimeout(r){r!=null&&Ys.timeouts.remove(r)},cancelImmediate(r){r!=null&&Ys.immediates.remove(r)},_draw(r){let e=null;const t=Ys.timeouts.last();for(;(e=Ys.timeouts.shift())&&(r>=e.time?e.run():Ys.timeouts.push(e),e!==t););let s=null;const a=Ys.frames.last();for(;s!==a&&(s=Ys.frames.shift());)s.run(r);let i=null;for(;i=Ys.immediates.shift();)i();Ys.nextDraw=Ys.timeouts.first()||Ys.frames.first()?Rs.window.requestAnimationFrame(Ys._draw):null}},Ufe=function(r){const e=r.start,t=r.runner.duration();return{start:e,duration:t,end:e+t,runner:r.runner}},zfe=function(){const r=Rs.window;return(r.performance||r.Date).now()};class F8 extends yp{constructor(e=zfe){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const s=Math.abs(t);return this.speed(e?-s:s)}schedule(e,t,s){if(e==null)return this._runners.map(Ufe);let a=0;const i=this.getEndTime();if(t=t||0,s==null||s==="last"||s==="after")a=i;else if(s==="absolute"||s==="start")a=t,t=0;else if(s==="now")a=this._time;else if(s==="relative"){const c=this.getRunnerInfoById(e.id);c&&(a=c.start+t,t=0)}else{if(s!=="with-last")throw new Error('Invalid value for the "when" parameter');{const c=this.getLastRunnerInfo();a=c?c.start:this._time}}e.unschedule(),e.timeline(this);const o=e.persist(),l={persist:o===null?this._persist:o,start:a+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(l),this._runners.sort(((c,d)=>c.start-d.start)),this._runnerIds=this._runners.map((c=>c.runner.id)),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Ys.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Ys.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let s=t-this._lastSourceTime;e&&(s=0);const a=this._speed*s+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=a,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const l=this._runners[o],c=l.runner;this._time-l.start<=0&&c.reset()}let i=!1;for(let o=0,l=this._runners.length;o<l;o++){const c=this._runners[o],d=c.runner;let u=a;const f=this._time-c.start;if(f<=0){i=!0;continue}f<u&&(u=f),d.active()&&(d.step(u).done?c.persist!==!0&&d.duration()-d.time()+this._time+c.persist<this._time&&(d.unschedule(),--o,--l):i=!0)}return i&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}ns({Element:{timeline:function(r){return r==null?(this._timeline=this._timeline||new F8,this._timeline):(this._timeline=r,this)}}});class An extends yp{constructor(e){super(),this.id=An.id++,e=typeof(e=e??YN)=="function"?new Ey(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof Ey,this._stepper=this._isDeclarative?e:new Ik,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Mt,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,s){let a=1,i=!1,o=0;return t=t??_fe,s=s||"last",typeof(e=e??YN)!="object"||e instanceof U_||(t=e.delay??t,s=e.when??s,i=e.swing||i,a=e.times??a,o=e.wait??o,e=e.duration??YN),{duration:e,delay:t,swing:i,times:a,wait:o,when:s}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,s){const a=An.sanitise(e,t,s),i=new An(a.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(a).schedule(a.delay,a.when)}clearTransform(){return this.transforms=new Mt,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((e=>!e.isTransform)))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new Ik(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,s){return typeof e=="object"&&(t=e.swing,s=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=s||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const i=Math.floor(this._time/t),o=(this._time-i*t)/this._duration;return Math.min(i+o,this._times)}const s=e%1,a=t*Math.floor(e)+this._duration*s;return this.time(a)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,s=this._duration,a=this._wait,i=this._times,o=this._swing,l=this._reverse;let c;if(e==null){const f=function(p){const y=o*Math.floor(p%(2*(a+s))/(a+s)),x=y&&!l||!y&&l,v=Math.pow(-1,x)*(p%(a+s))/s+x;return Math.max(Math.min(v,1),0)},m=i*(a+s)-a;return c=t<=0?Math.round(f(1e-5)):t<m?f(t):Math.round(f(m-1e-5)),c}const d=Math.floor(this.loops()),u=o&&d%2==0;return c=d+(u&&!l||l&&u?e:1-e),this.loops(c)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,s,a){return this._queue.push({initialiser:e||z3,runner:t||z3,retarget:s,isTransform:a,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,s){if(e instanceof F8||(s=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,s),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),s=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const a=this.duration(),i=this._lastTime<=0&&this._time>0,o=this._lastTime<a&&this._time>=a;this._lastTime=this._time,i&&this.fire("start",this);const l=this._isDeclarative;this.done=!l&&!o&&this._time>=a,this._reseted=!1;let c=!1;return(s||l)&&(this._initialise(s),this.transforms=new Mt,c=this._run(l?e:t),this.fire("step",this)),this.done=this.done||c&&l,o&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,s=this._queue.length;t<s;++t){const a=this._queue[t],i=this._isDeclarative||!a.initialised&&e;e=!a.finished,i&&e&&(a.initialiser.call(this),a.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const s=this.timeline();s&&s.play()}}_run(e){let t=!0;for(let s=0,a=this._queue.length;s<a;++s){const i=this._queue[s],o=i.runner.call(this,e);i.finished=i.finished||o===!0,t=t&&i.finished}return t}_tryRetarget(e,t,s){if(this._history[e]){if(!this._history[e].caller.initialised){const i=this._queue.indexOf(this._history[e].caller);return this._queue.splice(i,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,s):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const a=this.timeline();return a&&a.play(),!0}return!1}}An.id=0;class Ty{constructor(e=new Mt,t=-1,s=!0){this.transforms=e,this.id=t,this.done=s}clearTransformsFromQueue(){}}zt([An,Ty],{mergeWith(r){return new Ty(r.transforms.lmultiply(this.transforms),r.id)}});const U8=(r,e)=>r.lmultiplyO(e),z8=r=>r.transforms;function Bfe(){const r=this._transformationRunners.runners.map(z8).reduce(U8,new Mt);this.transform(r),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class Vfe{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new Ty).forEach((s=>s.clearTransformsFromQueue())),this}edit(e,t){const s=this.ids.indexOf(e+1);return this.ids.splice(s,1,e+1),this.runners.splice(s,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const s=this.runners[t];if(e&&s.done&&e.done&&(!s._timeline||!s._timeline._runnerIds.includes(s.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(s.id);const a=s.mergeWith(e);this.edit(e.id,a),e=a,--t}else e=s}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}ns({Element:{animate(r,e,t){const s=An.sanitise(r,e,t),a=this.timeline();return new An(s.duration).loop(s).element(this).timeline(a.play()).schedule(s.delay,s.when)},delay(r,e){return this.animate(0,r,e)},_clearTransformRunnersBefore(r){this._transformationRunners.clearBefore(r.id)},_currentTransform(r){return this._transformationRunners.runners.filter((e=>e.id<=r.id)).map(z8).reduce(U8,new Mt)},_addRunner(r){this._transformationRunners.add(r),Ys.cancelImmediate(this._frameId),this._frameId=Ys.immediate(Bfe.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Vfe().add(new Ty(new Mt(this))))}}});zt(An,{attr(r,e){return this.styleAttr("attr",r,e)},css(r,e){return this.styleAttr("css",r,e)},styleAttr(r,e,t){if(typeof e=="string")return this.styleAttr(r,{[e]:t});let s=e;if(this._tryRetarget(r,s))return this;let a=new Jc(this._stepper).to(s),i=Object.keys(s);return this.queue((function(){a=a.from(this.element()[r](i))}),(function(o){return this.element()[r](a.at(o).valueOf()),a.done()}),(function(o){const l=Object.keys(o),c=(d=i,l.filter((f=>!d.includes(f))));var d;if(c.length){const f=this.element()[r](c),m=new Tg(a.from()).valueOf();Object.assign(m,f),a.from(m)}const u=new Tg(a.to()).valueOf();Object.assign(u,o),a.to(u),i=l,s=o})),this._rememberMorpher(r,a),this},zoom(r,e){if(this._tryRetarget("zoom",r,e))return this;let t=new Jc(this._stepper).to(new Qt(r));return this.queue((function(){t=t.from(this.element().zoom())}),(function(s){return this.element().zoom(t.at(s),e),t.done()}),(function(s,a){e=a,t.to(s)})),this._rememberMorpher("zoom",t),this},transform(r,e,t){if(e=r.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",r))return this;const s=Mt.isMatrixLike(r);t=r.affine!=null?r.affine:t??!s;const a=new Jc(this._stepper).type(t?vp:Mt);let i,o,l,c,d;return this.queue((function(){o=o||this.element(),i=i||Pk(r,o),d=new Mt(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)}),(function(u){e||this.clearTransform();const{x:f,y:m}=new $s(i).transform(o._currentTransform(this));let p=new Mt({...r,origin:[f,m]}),y=this._isDeclarative&&l?l:d;if(t){p=p.decompose(f,m),y=y.decompose(f,m);const v=p.rotate,N=y.rotate,k=[v-360,v,v+360],S=k.map((D=>Math.abs(D-N))),R=Math.min(...S),A=S.indexOf(R);p.rotate=k[A]}e&&(s||(p.rotate=r.rotate||0),this._isDeclarative&&c&&(y.rotate=c)),a.from(y),a.to(p);const x=a.at(u);return c=x.rotate,l=new Mt(x),this.addTransform(l),o._addRunner(this),a.done()}),(function(u){(u.origin||"center").toString()!==(r.origin||"center").toString()&&(i=Pk(u,o)),r={...u,origin:i}}),!0),this._isDeclarative&&this._rememberMorpher("transform",a),this},x(r){return this._queueNumber("x",r)},y(r){return this._queueNumber("y",r)},ax(r){return this._queueNumber("ax",r)},ay(r){return this._queueNumber("ay",r)},dx(r=0){return this._queueNumberDelta("x",r)},dy(r=0){return this._queueNumberDelta("y",r)},dmove(r,e){return this.dx(r).dy(e)},_queueNumberDelta(r,e){if(e=new Qt(e),this._tryRetarget(r,e))return this;const t=new Jc(this._stepper).to(e);let s=null;return this.queue((function(){s=this.element()[r](),t.from(s),t.to(s+e)}),(function(a){return this.element()[r](t.at(a)),t.done()}),(function(a){t.to(s+new Qt(a))})),this._rememberMorpher(r,t),this},_queueObject(r,e){if(this._tryRetarget(r,e))return this;const t=new Jc(this._stepper).to(e);return this.queue((function(){t.from(this.element()[r]())}),(function(s){return this.element()[r](t.at(s)),t.done()})),this._rememberMorpher(r,t),this},_queueNumber(r,e){return this._queueObject(r,new Qt(e))},cx(r){return this._queueNumber("cx",r)},cy(r){return this._queueNumber("cy",r)},move(r,e){return this.x(r).y(e)},amove(r,e){return this.ax(r).ay(e)},center(r,e){return this.cx(r).cy(e)},size(r,e){let t;return r&&e||(t=this._element.bbox()),r||(r=t.width/t.height*e),e||(e=t.height/t.width*r),this.width(r).height(e)},width(r){return this._queueNumber("width",r)},height(r){return this._queueNumber("height",r)},plot(r,e,t,s){if(arguments.length===4)return this.plot([r,e,t,s]);if(this._tryRetarget("plot",r))return this;const a=new Jc(this._stepper).type(this._element.MorphArray).to(r);return this.queue((function(){a.from(this._element.array())}),(function(i){return this._element.plot(a.at(i)),a.done()})),this._rememberMorpher("plot",a),this},leading(r){return this._queueNumber("leading",r)},viewbox(r,e,t,s){return this._queueObject("viewbox",new Rr(r,e,t,s))},update(r){return typeof r!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(r.opacity!=null&&this.attr("stop-opacity",r.opacity),r.color!=null&&this.attr("stop-color",r.color),r.offset!=null&&this.attr("offset",r.offset),this)}}),zt(An,{rx:O_,ry:L_,from:D8,to:M8}),Ds(An,"Runner");class Uk extends Xa{constructor(e,t=e){super(cr("svg",e),t),this.namespace()}defs(){return this.isRoot()?qn(this.node.querySelector("defs"))||this.put(new Ev):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Rs.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:P_,version:"1.1"}).attr("xmlns:xlink",Gh,$N):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,$N).attr("xmlns:svgjs",null,$N)}root(){return this.isRoot()?this:super.root()}}ns({Container:{nested:lr((function(){return this.put(new Uk)}))}}),Ds(Uk,"Svg",!0);let zk=class extends Xa{constructor(r,e=r){super(cr("symbol",r),e)}};ns({Container:{symbol:lr((function(){return this.put(new zk)}))}}),Ds(zk,"Symbol");var B8=Object.freeze({__proto__:null,amove:function(r,e){return this.ax(r).ay(e)},ax:function(r){return this.attr("x",r)},ay:function(r){return this.attr("y",r)},build:function(r){return this._build=!!r,this},center:function(r,e,t=this.bbox()){return this.cx(r,t).cy(e,t)},cx:function(r,e=this.bbox()){return r==null?e.cx:this.attr("x",this.attr("x")+r-e.cx)},cy:function(r,e=this.bbox()){return r==null?e.cy:this.attr("y",this.attr("y")+r-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(r,e,t=this.bbox()){return this.x(r,t).y(e,t)},plain:function(r){return this._build===!1&&this.clear(),this.node.appendChild(Rs.document.createTextNode(r)),this},x:function(r,e=this.bbox()){return r==null?e.x:this.attr("x",this.attr("x")+r-e.x)},y:function(r,e=this.bbox()){return r==null?e.y:this.attr("y",this.attr("y")+r-e.y)}});class hi extends En{constructor(e,t=e){super(cr("text",e),t),this.dom.leading=this.dom.leading??new Qt(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new Qt(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let s=0;const a=this.dom.leading;this.each((function(i){if(Rk(this.node))return;const o=Rs.window.getComputedStyle(this.node).getPropertyValue("font-size"),l=a*new Qt(o);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?s+=l:(this.attr("dy",i?l+s:0),s=0))})),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new Qt(e.leading||1.3),this}writeDataToDom(){return y8(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let s=0;e="";for(let a=0,i=t.length;a<i;++a)t[a].nodeName==="textPath"||Rk(t[a])?a===0&&(s=a+1):(a!==s&&t[a].nodeType!==3&&qn(t[a]).dom.newLined===!0&&(e+=`
`),e+=t[a].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,s=(e=(e+"").split(`
`)).length;t<s;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}zt(hi,B8),ns({Container:{text:lr((function(r=""){return this.put(new hi).text(r)})),plain:lr((function(r=""){return this.put(new hi).plain(r)}))}}),Ds(hi,"Text");class Lb extends En{constructor(e,t=e){super(cr("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof hi))return this;const t=e.index(this),s=Rs.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=e.dom.leading*new Qt(s);return this.dy(t?a:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}zt(Lb,B8),ns({Tspan:{tspan:lr((function(r=""){const e=new Lb;return this._build||this.clear(),this.put(e).text(r)}))},Text:{newLine:function(r=""){return this.tspan(r).newLine()}}}),Ds(Lb,"Tspan");class KN extends En{constructor(e,t=e){super(cr("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new Qt(e).divide(2))}}zt(KN,{x:A8,y:C8,cx:E8,cy:T8,width:P8,height:R8}),ns({Container:{circle:lr((function(r=0){return this.put(new KN).size(r).move(0,0)}))}}),Ds(KN,"Circle");class ZN extends Xa{constructor(e,t=e){super(cr("clipPath",e),t)}remove(){return this.targets().forEach((function(e){e.unclip()})),super.remove()}targets(){return Vd("svg [clip-path*="+this.id()+"]")}}ns({Container:{clip:lr((function(){return this.defs().put(new ZN)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(r){const e=r instanceof ZN?r:this.parent().clip().add(r);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),Ds(ZN,"ClipPath");class H3 extends _a{constructor(e,t=e){super(cr("foreignObject",e),t)}}ns({Container:{foreignObject:lr((function(r,e){return this.put(new H3).size(r,e)}))}}),Ds(H3,"ForeignObject");var V8=Object.freeze({__proto__:null,dmove:function(r,e){return this.children().forEach((t=>{let s;try{s=t.node instanceof bp().SVGSVGElement?new Rr(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const a=new Mt(t),i=a.translate(r,e).transform(a.inverse()),o=new $s(s.x,s.y).transform(i);t.move(o.x,o.y)})),this},dx:function(r){return this.dmove(r,0)},dy:function(r){return this.dmove(0,r)},height:function(r,e=this.bbox()){return r==null?e.height:this.size(e.width,r,e)},move:function(r=0,e=0,t=this.bbox()){const s=r-t.x,a=e-t.y;return this.dmove(s,a)},size:function(r,e,t=this.bbox()){const s=Yh(this,r,e,t),a=s.width/t.width,i=s.height/t.height;return this.children().forEach((o=>{const l=new $s(t).transform(new Mt(o).inverse());o.scale(a,i,l.x,l.y)})),this},width:function(r,e=this.bbox()){return r==null?e.width:this.size(r,e.height,e)},x:function(r,e=this.bbox()){return r==null?e.x:this.move(r,e.y,e)},y:function(r,e=this.bbox()){return r==null?e.y:this.move(e.x,r,e)}});class $l extends Xa{constructor(e,t=e){super(cr("g",e),t)}}zt($l,V8),ns({Container:{group:lr((function(){return this.put(new $l)}))}}),Ds($l,"G");class tb extends Xa{constructor(e,t=e){super(cr("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Gh)}}zt(tb,V8),ns({Container:{link:lr((function(r){return this.put(new tb).to(r)}))},Element:{unlink(){const r=this.linker();if(!r)return this;const e=r.parent();if(!e)return this.remove();const t=e.index(r);return e.add(this,t),r.remove(),this},linkTo(r){let e=this.linker();return e||(e=new tb,this.wrap(e)),typeof r=="function"?r.call(e,e):e.to(r),this},linker(){const r=this.parent();return r&&r.node.nodeName.toLowerCase()==="a"?r:null}}}),Ds(tb,"A");class QN extends Xa{constructor(e,t=e){super(cr("mask",e),t)}remove(){return this.targets().forEach((function(e){e.unmask()})),super.remove()}targets(){return Vd("svg [mask*="+this.id()+"]")}}ns({Container:{mask:lr((function(){return this.defs().put(new QN)}))},Element:{masker(){return this.reference("mask")},maskWith(r){const e=r instanceof QN?r:this.parent().mask().add(r);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),Ds(QN,"Mask");class $3 extends _a{constructor(e,t=e){super(cr("stop",e),t)}update(e){return(typeof e=="number"||e instanceof Qt)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new Qt(e.offset)),this}}ns({Gradient:{stop:function(r,e,t){return this.put(new $3).update(r,e,t)}}}),Ds($3,"Stop");class JN extends _a{constructor(e,t=e){super(cr("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,s={}){return this.rule("@font-face",{fontFamily:e,src:t,...s})}rule(e,t){return this.addText((function(s,a){if(!s)return"";if(!a)return s;let i=s+"{";for(const o in a)i+=o.replace(/([A-Z])/g,(function(l,c){return"-"+c.toLowerCase()}))+":"+a[o]+";";return i+="}",i})(e,t))}}ns("Dom",{style(r,e){return this.put(new JN).rule(r,e)},fontface(r,e,t){return this.put(new JN).font(r,e,t)}}),Ds(JN,"Style");class ej extends hi{constructor(e,t=e){super(cr("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let s=null;return t&&(s=t.plot(e)),e==null?s:this}track(){return this.reference("href")}}ns({Container:{textPath:lr((function(r,e){return r instanceof hi||(r=this.text(r)),r.path(e)}))},Text:{path:lr((function(r,e=!0){const t=new ej;let s;if(r instanceof ih||(r=this.defs().path(r)),t.attr("href","#"+r,Gh),e)for(;s=this.node.firstChild;)t.node.appendChild(s);return this.put(t)})),textPath(){return this.findOne("textPath")}},Path:{text:lr((function(r){return r instanceof hi||(r=new hi().addTo(this.parent()).text(r)),r.path(this)})),targets(){return Vd("svg textPath").filter((r=>(r.attr("href")||"").includes(this.id())))}}}),ej.prototype.MorphArray=ui,Ds(ej,"TextPath");class q3 extends En{constructor(e,t=e){super(cr("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,Gh)}}ns({Container:{use:lr((function(r,e){return this.put(new q3).use(r,e)}))}}),Ds(q3,"Use");const Hfe=$a;zt([Uk,zk,Db,Eg,Mb],en("viewbox")),zt([cd,ud,dd,ih],en("marker")),zt(hi,en("Text")),zt(ih,en("Path")),zt(Ev,en("Defs")),zt([hi,Lb],en("Tspan")),zt([Ob,Ib,Jm,An],en("radius")),zt(yp,en("EventTarget")),zt(ac,en("Dom")),zt(_a,en("Element")),zt(En,en("Shape")),zt([Xa,I8],en("Container")),zt(Jm,en("Gradient")),zt(An,en("Runner")),Rd.extend([...new Set(x8)]),(function(r=[]){Fk.push(...[].concat(r))})([Qt,Js,Rr,Mt,Id,nc,ui,$s]),zt(Fk,{to(r){return new Jc().type(this.constructor).from(this.toArray()).to(r)},fromArray(r){return this.init(r),this},toConsumable(){return this.toArray()},morph(r,e,t,s,a){return this.fromArray(r.map((function(i,o){return s.step(i,e[o],t,a[o],a)})))}});class gr extends _a{constructor(e){super(cr("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Vd('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class z_ extends _a{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const Hn=r=>function(...e){for(let t=r.length;t--;)e[t]!=null&&this.attr(r[t],e[t])},$fe={blend:Hn(["in","in2","mode"]),colorMatrix:Hn(["type","values"]),composite:Hn(["in","in2","operator"]),convolveMatrix:function(r){r=new Id(r).toString(),this.attr({order:Math.sqrt(r.split(" ").length),kernelMatrix:r})},diffuseLighting:Hn(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Hn(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Hn(["in","dx","dy","stdDeviation"]),flood:Hn(["flood-color","flood-opacity"]),gaussianBlur:function(r=0,e=r){this.attr("stdDeviation",r+" "+e)},image:function(r){this.attr("href",r,Gh)},morphology:Hn(["operator","radius"]),offset:Hn(["dx","dy"]),specularLighting:Hn(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Hn([]),turbulence:Hn(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach((r=>{const e=Wh(r),t=$fe[r];gr[e+"Effect"]=class extends z_{constructor(s){super(cr("fe"+e,s),s)}update(s){return t.apply(this,s),this}},gr.prototype[r]=lr((function(s,...a){const i=new gr[e+"Effect"];return s==null?this.put(i):(typeof s=="function"?s.call(i,i):a.unshift(s),this.put(i).update(a))}))})),zt(gr,{merge(r){const e=this.put(new gr.MergeEffect);return typeof r=="function"?(r.call(e,e),e):((r instanceof Array?r:[...arguments]).forEach((t=>{t instanceof gr.MergeNode?e.put(t):e.mergeNode(t)})),e)},componentTransfer(r={}){const e=this.put(new gr.ComponentTransferEffect);if(typeof r=="function")return r.call(e,e),e;r.r||r.g||r.b||r.a||(r={r,g:r,b:r,a:r});for(const t in r)e.add(new gr["Func"+t.toUpperCase()](r[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach((r=>{const e=Wh(r);gr[e]=class extends z_{constructor(t){super(cr("fe"+e,t),t)}}}));["funcR","funcG","funcB","funcA"].forEach((function(r){const e=gr[Wh(r)],t=lr((function(){return this.put(new e)}));gr.ComponentTransferEffect.prototype[r]=t}));["distantLight","pointLight","spotLight"].forEach((r=>{const e=gr[Wh(r)],t=lr((function(){return this.put(new e)}));gr.DiffuseLightingEffect.prototype[r]=t,gr.SpecularLightingEffect.prototype[r]=t})),zt(gr.MergeEffect,{mergeNode(r){return this.put(new gr.MergeNode).attr("in",r)}}),zt(Ev,{filter:function(r){const e=this.put(new gr);return typeof r=="function"&&r.call(e,e),e}}),zt(Xa,{filter:function(r){return this.defs().filter(r)}}),zt(_a,{filterWith:function(r){const e=r instanceof gr?r:this.defs().filter(r);return this.attr("filter",e)},unfilter:function(r){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const qfe={blend:function(r,e){return this.parent()&&this.parent().blend(this,r,e)},colorMatrix:function(r,e){return this.parent()&&this.parent().colorMatrix(r,e).in(this)},componentTransfer:function(r){return this.parent()&&this.parent().componentTransfer(r).in(this)},composite:function(r,e){return this.parent()&&this.parent().composite(this,r,e)},convolveMatrix:function(r){return this.parent()&&this.parent().convolveMatrix(r).in(this)},diffuseLighting:function(r,e,t,s){return this.parent()&&this.parent().diffuseLighting(r,t,s).in(this)},displacementMap:function(r,e,t,s){return this.parent()&&this.parent().displacementMap(this,r,e,t,s)},dropShadow:function(r,e,t){return this.parent()&&this.parent().dropShadow(this,r,e,t).in(this)},flood:function(r,e){return this.parent()&&this.parent().flood(r,e)},gaussianBlur:function(r,e){return this.parent()&&this.parent().gaussianBlur(r,e).in(this)},image:function(r){return this.parent()&&this.parent().image(r)},merge:function(r){return r=r instanceof Array?r:[...r],this.parent()&&this.parent().merge(this,...r)},morphology:function(r,e){return this.parent()&&this.parent().morphology(r,e).in(this)},offset:function(r,e){return this.parent()&&this.parent().offset(r,e).in(this)},specularLighting:function(r,e,t,s,a){return this.parent()&&this.parent().specularLighting(r,t,s,a).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(r,e,t,s,a){return this.parent()&&this.parent().turbulence(r,e,t,s,a).in(this)}};zt(z_,qfe),zt(gr.MergeEffect,{in:function(r){return r instanceof gr.MergeNode?this.add(r,0):this.add(new gr.MergeNode().in(r),0),this}}),zt([gr.CompositeEffect,gr.BlendEffect,gr.DisplacementMapEffect],{in2:function(r){if(r==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",r)}}),gr.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var ka=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"getDefaultFilter",value:function(e,t){var s=this.w;e.unfilter(!0),new gr().size("120%","180%","-5%","-40%"),s.config.chart.dropShadow.enabled&&this.dropShadow(e,s.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,s){var a,i=this,o=this.w;if(e.unfilter(!0),s!=="none"){var l,c,d=o.config.chart.dropShadow,u=s==="lighten"?2:.3;e.filterWith((function(f){f.colorMatrix({type:"matrix",values:`
          `.concat(u,` 0 0 0 0
          0 `).concat(u,` 0 0 0
          0 0 `).concat(u,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),d.enabled&&i.addShadow(f,t,d,"brightness")})),!d.noUserSpaceOnUse&&((l=e.filterer())===null||l===void 0||(c=l.node)===null||c===void 0||c.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,s,a){var i,o=this.w,l=s.blur,c=s.top,d=s.left,u=s.color,f=s.opacity;if(u=Array.isArray(u)?u[t]:u,((i=o.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.length)>0&&o.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:a,dx:d,dy:c,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:l,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":f,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",a])}},{key:"dropShadow",value:function(e,t){var s,a,i,o,l,c=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this.w;return e.unfilter(!0),ce.isMsEdge()&&u.config.chart.type==="radialBar"||((s=u.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&((i=u.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.indexOf(d))===-1?e:(e.filterWith((function(f){c.addShadow(f,d,t,"SourceGraphic")})),t.noUserSpaceOnUse||(o=e.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node),e)}},{key:"setSelectionFilter",value:function(e,t,s){var a=this.w;if(a.globals.selectedDataPoints[t]!==void 0&&a.globals.selectedDataPoints[t].indexOf(s)>-1){e.node.setAttribute("selected",!0);var i=a.config.states.active.filter;i!=="none"&&this.applyFilter(e,t,i.type)}}},{key:"_scaleFilterSize",value:function(e){e&&(function(t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),r})(),Xe=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"roundPathCorners",value:function(e,t){function s(E,I,M){var L=I.x-E.x,z=I.y-E.y,F=Math.sqrt(L*L+z*z);return a(E,I,Math.min(1,M/F))}function a(E,I,M){return{x:E.x+(I.x-E.x)*M,y:E.y+(I.y-E.y)*M}}function i(E,I){E.length>2&&(E[E.length-2]=I.x,E[E.length-1]=I.y)}function o(E){return{x:parseFloat(E[E.length-2]),y:parseFloat(E[E.length-1])}}e.indexOf("NaN")>-1&&(e="");var l=e.split(/[,\s]/).reduce((function(E,I){var M=I.match(/^([a-zA-Z])(.+)/);return M?(E.push(M[1]),E.push(M[2])):E.push(I),E}),[]).reduce((function(E,I){return parseFloat(I)==I&&E.length?E[E.length-1].push(I):E.push([I]),E}),[]),c=[];if(l.length>1){var d=o(l[0]),u=null;l[l.length-1][0]=="Z"&&l[0].length>2&&(u=["L",d.x,d.y],l[l.length-1]=u),c.push(l[0]);for(var f=1;f<l.length;f++){var m=c[c.length-1],p=l[f],y=p==u?l[1]:l[f+1];if(y&&m&&m.length>2&&p[0]=="L"&&y.length>2&&y[0]=="L"){var x,v,N=o(m),k=o(p),S=o(y);x=s(k,N,t),v=s(k,S,t),i(p,x),p.origPoint=k,c.push(p);var R=a(x,k,.5),A=a(k,v,.5),D=["C",R.x,R.y,A.x,A.y,v.x,v.y];D.origPoint=k,c.push(D)}else c.push(p)}if(u){var P=o(c[c.length-1]);c.push(["Z"]),i(c[0],P)}}else c=l;return c.reduce((function(E,I){return E+I.join(" ")+" "}),"")}},{key:"drawLine",value:function(e,t,s,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:s,y2:a,stroke:i,"stroke-dasharray":o,"stroke-width":l,"stroke-linecap":c})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,d=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,f=this.w.globals.dom.Paper.rect();return f.attr({x:e,y:t,width:s>0?s:0,height:a>0?a:0,rx:i,ry:i,opacity:l,"stroke-width":c!==null?c:0,stroke:d!==null?d:"none","stroke-dasharray":u}),f.node.setAttribute("fill",o),f}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:a,stroke:t,"stroke-width":s})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var s=this.w.globals.dom.Paper.circle(2*e);return t!==null&&s.attr(t),s}},{key:"drawPath",value:function(e){var t=e.d,s=t===void 0?"":t,a=e.stroke,i=a===void 0?"#a8a8a8":a,o=e.strokeWidth,l=o===void 0?1:o,c=e.fill,d=e.fillOpacity,u=d===void 0?1:d,f=e.strokeOpacity,m=f===void 0?1:f,p=e.classes,y=e.strokeLinecap,x=y===void 0?null:y,v=e.strokeDashArray,N=v===void 0?0:v,k=this.w;return x===null&&(x=k.config.stroke.lineCap),(s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s="M 0 ".concat(k.globals.gridHeight)),k.globals.dom.Paper.path(s).attr({fill:c,"fill-opacity":u,stroke:i,"stroke-opacity":m,"stroke-linecap":x,"stroke-width":l,"stroke-dasharray":N,class:p})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var s=["M",e,t].join(" ");return s}},{key:"line",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=null;return s===null?a=[" L",e,t].join(" "):s==="H"?a=[" H",e].join(" "):s==="V"&&(a=[" V",t].join(" ")),a}},{key:"curve",value:function(e,t,s,a,i,o){var l=["C",e,t,s,a,i,o].join(" ");return l}},{key:"quadraticCurve",value:function(e,t,s,a){return["Q",e,t,s,a].join(" ")}},{key:"arc",value:function(e,t,s,a,i,o,l){var c="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(c="a");var d=[c,e,t,s,a,i,o,l].join(" ");return d}},{key:"renderPaths",value:function(e){var t,s=e.j,a=e.realIndex,i=e.pathFrom,o=e.pathTo,l=e.stroke,c=e.strokeWidth,d=e.strokeLinecap,u=e.fill,f=e.animationDelay,m=e.initialSpeed,p=e.dataChangeSpeed,y=e.className,x=e.chartType,v=e.shouldClipToGrid,N=v===void 0||v,k=e.bindEventsOnPaths,S=k===void 0||k,R=e.drawShadow,A=R===void 0||R,D=this.w,P=new ka(this.ctx),E=new qh(this.ctx),I=this.w.config.chart.animations.enabled,M=I&&this.w.config.chart.animations.dynamicAnimation.enabled;if(i&&i.startsWith("M 0 0")&&o){var L=o.match(/^M\s+[\d.-]+\s+[\d.-]+/);L&&(i=i.replace(/^M\s+0\s+0/,L[0]))}var z=!!(I&&!D.globals.resized||M&&D.globals.dataChanged&&D.globals.shouldAnimate);z?t=i:(t=o,D.globals.animationEnded=!0);var F=D.config.stroke.dashArray,V=0;V=Array.isArray(F)?F[a]:D.config.stroke.dashArray;var $=this.drawPath({d:t,stroke:l,strokeWidth:c,fill:u,fillOpacity:1,classes:y,strokeLinecap:d,strokeDashArray:V});$.attr("index",a),N&&(x==="bar"&&!D.globals.isHorizontal||D.globals.comboCharts?$.attr({"clip-path":"url(#gridRectBarMask".concat(D.globals.cuid,")")}):$.attr({"clip-path":"url(#gridRectMask".concat(D.globals.cuid,")")})),D.config.chart.dropShadow.enabled&&A&&P.dropShadow($,D.config.chart.dropShadow,a),S&&($.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,$)),$.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,$)),$.node.addEventListener("mousedown",this.pathMouseDown.bind(this,$))),$.attr({pathTo:o,pathFrom:i});var Y={el:$,j:s,realIndex:a,pathFrom:i,pathTo:o,fill:u,strokeWidth:c,delay:f};return!I||D.globals.resized||D.globals.dataChanged?!D.globals.resized&&D.globals.dataChanged||E.showDelayedElements():E.animatePathsGradually(ht(ht({},Y),{},{speed:m})),D.globals.dataChanged&&M&&z&&E.animatePathsGradually(ht(ht({},Y),{},{speed:p})),$}},{key:"drawPattern",value:function(e,t,s){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,s,(function(o){e==="horizontalLines"?o.line(0,0,s,0).stroke({color:a,width:i+1}):e==="verticalLines"?o.line(0,0,0,t).stroke({color:a,width:i+1}):e==="slantedLines"?o.line(0,0,t,s).stroke({color:a,width:i}):e==="squares"?o.rect(t,s).fill("none").stroke({color:a,width:i}):e==="circles"&&o.circle(t).fill("none").stroke({color:a,width:i})}))}},{key:"drawGradient",value:function(e,t,s,a,i){var o,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,f=this.w;t.length<9&&t.indexOf("#")===0&&(t=ce.hexToRgba(t,a)),s.length<9&&s.indexOf("#")===0&&(s=ce.hexToRgba(s,i));var m=0,p=1,y=1,x=null;c!==null&&(m=c[0]!==void 0?c[0]/100:0,p=c[1]!==void 0?c[1]/100:1,y=c[2]!==void 0?c[2]/100:1,x=c[3]!==void 0?c[3]/100:null);var v=!(f.config.chart.type!=="donut"&&f.config.chart.type!=="pie"&&f.config.chart.type!=="polarArea"&&f.config.chart.type!=="bubble");if(o=d&&d.length!==0?f.globals.dom.Paper.gradient(v?"radial":"linear",(function(S){(Array.isArray(d[u])?d[u]:d).forEach((function(R){S.stop(R.offset/100,R.color,R.opacity)}))})):f.globals.dom.Paper.gradient(v?"radial":"linear",(function(S){S.stop(m,t,a),S.stop(p,s,i),S.stop(y,s,i),x!==null&&S.stop(x,t,a)})),v){var N=f.globals.gridWidth/2,k=f.globals.gridHeight/2;f.config.chart.type!=="bubble"?o.attr({gradientUnits:"userSpaceOnUse",cx:N,cy:k,r:l}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?o.from(0,0).to(0,1):e==="diagonal"?o.from(0,0).to(1,1):e==="horizontal"?o.from(0,1).to(1,1):e==="diagonal2"&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,s=e.maxWidth,a=e.fontSize,i=e.fontFamily,o=this.getTextRects(t,a,i),l=o.width/t.length,c=Math.floor(s/l);return s<o.width?t.slice(0,c-3)+"...":t}},{key:"drawText",value:function(e){var t=this,s=e.x,a=e.y,i=e.text,o=e.textAnchor,l=e.fontSize,c=e.fontFamily,d=e.fontWeight,u=e.foreColor,f=e.opacity,m=e.maxWidth,p=e.cssClass,y=p===void 0?"":p,x=e.isPlainText,v=x===void 0||x,N=e.dominantBaseline,k=N===void 0?"auto":N,S=this.w;i===void 0&&(i="");var R=i;o||(o="start"),u&&u.length||(u=S.config.chart.foreColor),c=c||S.config.chart.fontFamily,d=d||"regular";var A,D={maxWidth:m,fontSize:l=l||"11px",fontFamily:c};return Array.isArray(i)?A=S.globals.dom.Paper.text((function(P){for(var E=0;E<i.length;E++)R=i[E],m&&(R=t.getTextBasedOnMaxWidth(ht({text:i[E]},D))),E===0?P.tspan(R):P.tspan(R).newLine()})):(m&&(R=this.getTextBasedOnMaxWidth(ht({text:i},D))),A=v?S.globals.dom.Paper.plain(i):S.globals.dom.Paper.text((function(P){return P.tspan(R)}))),A.attr({x:s,y:a,"text-anchor":o,"dominant-baseline":k,"font-size":l,"font-family":c,"font-weight":d,fill:u,class:"apexcharts-text "+y}),A.node.style.fontFamily=c,A.node.style.opacity=f,A}},{key:"getMarkerPath",value:function(e,t,s,a){var i="";switch(s){case"cross":i="M ".concat(e-(a/=1.4)," ").concat(t-a," L ").concat(e+a," ").concat(t+a,"  M ").concat(e-a," ").concat(t+a," L ").concat(e+a," ").concat(t-a);break;case"plus":i="M ".concat(e-(a/=1.12)," ").concat(t," L ").concat(e+a," ").concat(t,"  M ").concat(e," ").concat(t-a," L ").concat(e," ").concat(t+a);break;case"star":case"sparkle":var o=5;a*=1.15,s==="sparkle"&&(a/=1.1,o=4);for(var l=Math.PI/o,c=0;c<=2*o;c++){var d=c*l,u=c%2==0?a:a/2;i+=(c===0?"M":"L")+(e+u*Math.sin(d))+","+(t-u*Math.cos(d))}i+="Z";break;case"triangle":i="M ".concat(e," ").concat(t-a,` 
             L `).concat(e+a," ").concat(t+a,` 
             L `).concat(e-a," ").concat(t+a,` 
             Z`);break;case"square":case"rect":i="M ".concat(e-(a/=1.125)," ").concat(t-a,` 
           L `).concat(e+a," ").concat(t-a,` 
           L `).concat(e+a," ").concat(t+a,` 
           L `).concat(e-a," ").concat(t+a,` 
           Z`);break;case"diamond":a*=1.05,i="M ".concat(e," ").concat(t-a,` 
             L `).concat(e+a," ").concat(t,` 
             L `).concat(e," ").concat(t+a,` 
             L `).concat(e-a," ").concat(t,` 
            Z`);break;case"line":i="M ".concat(e-(a/=1.1)," ").concat(t,` 
           L `).concat(e+a," ").concat(t);break;default:a*=2,i="M ".concat(e,", ").concat(t,` 
           m -`).concat(a/2,`, 0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 ").concat(a,`,0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 -").concat(a,",0")}return i}},{key:"drawMarkerShape",value:function(e,t,s,a,i){var o=this.drawPath({d:this.getMarkerPath(e,t,s,a,i),stroke:i.pointStrokeColor,strokeDashArray:i.pointStrokeDashArray,strokeWidth:i.pointStrokeWidth,fill:i.pointFillColor,fillOpacity:i.pointFillOpacity,strokeOpacity:i.pointStrokeOpacity});return o.attr({cx:e,cy:t,shape:i.shape,class:i.class?i.class:""}),o}},{key:"drawMarker",value:function(e,t,s){e=e||0;var a=s.pSize||0;return ce.isNumber(t)||(a=0,t=0),this.drawMarkerShape(e,t,s?.shape,a,ht(ht({},s),s.shape==="line"||s.shape==="plus"||s.shape==="cross"?{pointStrokeColor:s.pointFillColor,pointStrokeOpacity:s.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var s=this.w,a=new ka(this.ctx),i=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);if(typeof s.config.chart.events.dataPointMouseEnter=="function"&&s.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:i,dataPointIndex:o,w:s}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:i,dataPointIndex:o,w:s}]),(s.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&s.config.states.hover.filter.type!=="none"&&!s.globals.isTouchDevice){var l=s.config.states.hover.filter;a.applyFilter(e,i,l.type)}}},{key:"pathMouseLeave",value:function(e,t){var s=this.w,a=new ka(this.ctx),i=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);typeof s.config.chart.events.dataPointMouseLeave=="function"&&s.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:i,dataPointIndex:o,w:s}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:i,dataPointIndex:o,w:s}]),s.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||s.config.states.hover.filter.type!=="none"&&a.getDefaultFilter(e,i)}},{key:"pathMouseDown",value:function(e,t){var s=this.w,a=new ka(this.ctx),i=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10),l="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),s.globals.selectedDataPoints[i].indexOf(o)>-1){var c=s.globals.selectedDataPoints[i].indexOf(o);s.globals.selectedDataPoints[i].splice(c,1)}}else{if(!s.config.states.active.allowMultipleDataPointsSelection&&s.globals.selectedDataPoints.length>0){s.globals.selectedDataPoints=[];var d=s.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=s.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),f=function(y){Array.prototype.forEach.call(y,(function(x){x.node.setAttribute("selected","false"),a.getDefaultFilter(x,i)}))};f(d),f(u)}e.node.setAttribute("selected","true"),l="true",s.globals.selectedDataPoints[i]===void 0&&(s.globals.selectedDataPoints[i]=[]),s.globals.selectedDataPoints[i].push(o)}if(l==="true"){var m=s.config.states.active.filter;if(m!=="none")a.applyFilter(e,i,m.type);else if(s.config.states.hover.filter!=="none"&&!s.globals.isTouchDevice){var p=s.config.states.hover.filter;a.applyFilter(e,i,p.type)}}else s.config.states.active.filter.type!=="none"&&(s.config.states.hover.filter.type==="none"||s.globals.isTouchDevice?a.getDefaultFilter(e,i):(p=s.config.states.hover.filter,a.applyFilter(e,i,p.type)));typeof s.config.chart.events.dataPointSelection=="function"&&s.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:i,dataPointIndex:o,w:s}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:i,dataPointIndex:o,w:s}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,s,a){var i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w,l=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:s,foreColor:"#fff",opacity:0});a&&l.attr("transform",a),o.globals.dom.Paper.add(l);var c=l.bbox();return i||(c=l.node.getBoundingClientRect()),l.remove(),{width:c.width,height:c.height}}},{key:"placeTextWithEllipsis",value:function(e,t,s){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=s/1.1)){for(var a=t.length-3;a>0;a-=3)if(e.getSubStringLength(0,a)<=s/1.1)return void(e.textContent=t.substring(0,a)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])}}]),r})(),Ir=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,s=[];if(t.globals.series.length===0)return s;for(var a=0;a<t.globals.series[t.globals.maxValsInArrayIndex].length;a++){for(var i=0,o=0;o<t.globals.series.length;o++)t.globals.series[o][a]!==void 0&&e.indexOf(o)===-1&&(i+=t.globals.series[o][a]);s.push(i)}return s}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce((function(t,s){return t+s}),0):this.w.globals.series[e].reduce((function(t,s){return t+s}),0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,s=[];return t.globals.seriesGroups.forEach((function(a){var i=[];t.config.series.forEach((function(l,c){a.indexOf(t.globals.seriesNames[c])>-1&&i.push(c)}));var o=t.globals.series.map((function(l,c){return i.indexOf(c)===-1?c:-1})).filter((function(l){return l!==-1}));s.push(e.getStackedSeriesTotals(o))})),s}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,s=[],a=[],i=[],o=e.series.length>t.yaxis.length||t.yaxis.some((function(f){return Array.isArray(f.seriesName)}));t.series.forEach((function(f,m){i.push(m),a.push(null)})),t.yaxis.forEach((function(f,m){s[m]=[]}));var l=[];t.yaxis.forEach((function(f,m){var p=!1;if(f.seriesName){var y=[];Array.isArray(f.seriesName)?y=f.seriesName:y.push(f.seriesName),y.forEach((function(x){t.series.forEach((function(v,N){if(v.name===x){var k=N;m===N||o?!o||i.indexOf(N)>-1?s[m].push([m,N]):console.warn("Series '"+v.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(s[N].push([N,m]),k=m),p=!0,(k=i.indexOf(k))!==-1&&i.splice(k,1)}}))}))}p||l.push(m)})),s=s.map((function(f,m){var p=[];return f.forEach((function(y){a[y[1]]=y[0],p.push(y[1])})),p}));for(var c=t.yaxis.length-1,d=0;d<l.length&&(c=l[d],s[c]=[],i);d++){var u=i[0];i.shift(),s[c].push(u),a[u]=c}i.forEach((function(f){s[c].push(f),a[f]=c})),e.seriesYAxisMap=s.map((function(f){return f})),e.seriesYAxisReverseMap=a.map((function(f){return f})),e.seriesYAxisMap.forEach((function(f,m){f.forEach((function(p){t.series[p]&&t.series[p].group===void 0&&(t.series[p].group="apexcharts-axis-".concat(m.toString()))}))}))}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter((function(t){return t!==null})):this.w.config.series[e].data.filter((function(t){return t!==null}))).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every((function(t,s,a){return t===a[0]}))}},{key:"getCategoryLabels",value:function(e){var t=this.w,s=e.slice();return t.config.xaxis.convertedCatToNumeric&&(s=e.map((function(a,i){return t.config.xaxis.labels.formatter(a-t.globals.minX+1)}))),s}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,e.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach((function(s){t=Math.max(t,s)})),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach((function(s){t=Math.max(t,s.size)})),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map((function(t,s){var a=0;if(Array.isArray(t))for(var i=0;i<t.length;i++)a+=t[i];else a+=t;return a}))}},{key:"getSeriesTotalsXRange",value:function(e,t){var s=this.w;return s.globals.series.map((function(a,i){for(var o=0,l=0;l<a.length;l++)s.globals.seriesX[i][l]>e&&s.globals.seriesX[i][l]<t&&(o+=a[l]);return o}))}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map((function(t,s){var a=[];if(Array.isArray(t))for(var i=0;i<t.length;i++){var o=e.globals.stackedSeriesTotals[i],l=0;o&&(l=100*t[i]/o),a.push(l)}else{var c=100*t/e.globals.seriesTotals.reduce((function(d,u){return d+u}),0);a.push(c)}return a}))}},{key:"getCalculatedRatios",value:function(){var e,t,s,a=this,i=this.w,o=i.globals,l=[],c=0,d=[],u=.1,f=0;if(o.yRange=[],o.isMultipleYAxis)for(var m=0;m<o.minYArr.length;m++)o.yRange.push(Math.abs(o.minYArr[m]-o.maxYArr[m])),d.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var p=0;p<o.yRange.length;p++)l.push(o.yRange[p]/o.gridHeight);if(t=o.xRange/o.gridWidth,e=o.yRange/o.gridWidth,s=o.xRange/o.gridHeight,(c=o.zRange/o.gridHeight*16)||(c=1),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(o.hasNegs=!0),i.globals.seriesYAxisReverseMap.length>0){var y=function(v,N){var k=i.config.yaxis[i.globals.seriesYAxisReverseMap[N]],S=v<0?-1:1;return v=Math.abs(v),k.logarithmic&&(v=a.getBaseLog(k.logBase,v)),-S*v/l[N]};if(o.isMultipleYAxis){d=[];for(var x=0;x<l.length;x++)d.push(y(o.minYArr[x],x))}else(d=[]).push(y(o.minY,0)),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(u=-o.minY/e,f=o.minX/t)}else(d=[]).push(0),u=0,f=0;return{yRatio:l,invertedYRatio:e,zRatio:c,xRatio:t,invertedXRatio:s,baseLineInvertedY:u,baseLineY:d,baseLineX:f}}},{key:"getLogSeries",value:function(e){var t=this,s=this.w;return s.globals.seriesLog=e.map((function(a,i){var o=s.globals.seriesYAxisReverseMap[i];return s.config.yaxis[o]&&s.config.yaxis[o].logarithmic?a.map((function(l){return l===null?null:t.getLogVal(s.config.yaxis[o].logBase,l,i)})):a})),s.globals.invalidLogScale?e:s.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var s=this.w,a=s.globals.seriesYAxisReverseMap[t];return s.config.yaxis[a]&&s.config.yaxis[a].logarithmic?this.getLogVal(s.config.yaxis[a].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,s){if(t<=0)return 0;var a=this.w,i=a.globals.minYArr[s]===0?-1:this.getBaseLog(e,a.globals.minYArr[s]),o=(a.globals.maxYArr[s]===0?0:this.getBaseLog(e,a.globals.maxYArr[s]))-i;return t<1?t/o:(this.getBaseLog(e,t)-i)/o}},{key:"getLogYRatios",value:function(e){var t=this,s=this.w,a=this.w.globals;return a.yLogRatio=e.slice(),a.logYRange=a.yRange.map((function(i,o){var l=s.globals.seriesYAxisReverseMap[o];if(s.config.yaxis[l]&&t.w.config.yaxis[l].logarithmic){var c,d=-Number.MAX_VALUE,u=Number.MIN_VALUE;return a.seriesLog.forEach((function(f,m){f.forEach((function(p){s.config.yaxis[m]&&s.config.yaxis[m].logarithmic&&(d=Math.max(p,d),u=Math.min(p,u))}))})),c=Math.pow(a.yRange[o],Math.abs(u-d)/a.yRange[o]),a.yLogRatio[o]=c/a.gridHeight,c}})),a.invalidLogScale?e.slice():a.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,s,a){var i=this.w,o=[];return e.series.length>0&&t.forEach((function(l){var c=[],d=[];e.i.forEach((function(u,f){i.config.series[u].group===l&&(c.push(e.series[f]),d.push(u))})),c.length>0&&o.push(a.draw(c,s,d))})),o}}],[{key:"checkComboSeries",value:function(e,t){var s=!1,a=0,i=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach((function(o){o.type!=="bar"&&o.type!=="column"&&o.type!=="candlestick"&&o.type!=="boxPlot"||a++,o.type!==void 0&&o.type!==t&&i++})),i>0&&(s=!0),{comboBarCount:a,comboCharts:s}}},{key:"extendArrayProps",value:function(e,t,s){var a,i,o,l,c,d;return(a=t)!==null&&a!==void 0&&a.yaxis&&(t=e.extendYAxis(t,s)),(i=t)!==null&&i!==void 0&&i.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(o=t)!==null&&o!==void 0&&(l=o.annotations)!==null&&l!==void 0&&l.xaxis&&(t=e.extendXAxisAnnotations(t)),(c=t)!==null&&c!==void 0&&(d=c.annotations)!==null&&d!==void 0&&d.points&&(t=e.extendPointAnnotations(t))),t}}]),r})(),Tv=(function(){function r(e){kt(this,r),this.w=e.w,this.annoCtx=e}return St(r,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.w;if(e.label.orientation==="vertical"){var a=t!==null?t:0,i=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(a,"']"));if(i!==null){var o=i.getBoundingClientRect();i.setAttribute("x",parseFloat(i.getAttribute("x"))-o.height+4);var l=e.label.position==="top"?o.width:-o.width;i.setAttribute("y",parseFloat(i.getAttribute("y"))+l);var c=this.annoCtx.graphics.rotateAroundCenter(i),d=c.x,u=c.y;i.setAttribute("transform","rotate(-90 ".concat(d," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var s=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var a=s.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),i=e.getBoundingClientRect(),o=t.label.style.padding,l=o.left,c=o.right,d=o.top,u=o.bottom;if(t.label.orientation==="vertical"){var f=[l,c,d,u];d=f[0],u=f[1],l=f[2],c=f[3]}var m=i.left-a.left-l,p=i.top-a.top-d,y=this.annoCtx.graphics.drawRect(m-s.globals.barPadForNumericAxis,p,i.width+l+c,i.height+d+u,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&y.node.classList.add(t.id),y}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,s=function(a,i,o){var l=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(i,"']"));if(l){var c=l.parentNode,d=e.addBackgroundToAnno(l,a);d&&(c.insertBefore(d.node,l),a.label.mouseEnter&&d.node.addEventListener("mouseenter",a.label.mouseEnter.bind(e,a)),a.label.mouseLeave&&d.node.addEventListener("mouseleave",a.label.mouseLeave.bind(e,a)),a.label.click&&d.node.addEventListener("click",a.label.click.bind(e,a)))}};t.config.annotations.xaxis.forEach((function(a,i){return s(a,i,"xaxis")})),t.config.annotations.yaxis.forEach((function(a,i){return s(a,i,"yaxis")})),t.config.annotations.points.forEach((function(a,i){return s(a,i,"point")}))}},{key:"getY1Y2",value:function(e,t){var s,a=this.w,i=e==="y1"?t.y:t.y2,o=!1;if(this.annoCtx.invertAxis){var l=a.config.xaxis.convertedCatToNumeric?a.globals.categoryLabels:a.globals.labels,c=l.indexOf(i),d=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(c+1,")"));s=d?parseFloat(d.getAttribute("y")):(a.globals.gridHeight/l.length-1)*(c+1)-a.globals.barHeight,t.seriesIndex!==void 0&&a.globals.barHeight&&(s-=a.globals.barHeight/2*(a.globals.series.length-1)-a.globals.barHeight*t.seriesIndex)}else{var u,f=a.globals.seriesYAxisMap[t.yAxisIndex][0],m=a.config.yaxis[t.yAxisIndex].logarithmic?new Ir(this.annoCtx.ctx).getLogVal(a.config.yaxis[t.yAxisIndex].logBase,i,f)/a.globals.yLogRatio[f]:(i-a.globals.minYArr[f])/(a.globals.yRange[f]/a.globals.gridHeight);s=a.globals.gridHeight-Math.min(Math.max(m,0),a.globals.gridHeight),o=m>a.globals.gridHeight||m<0,!t.marker||t.y!==void 0&&t.y!==null||(s=0),(u=a.config.yaxis[t.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(s=m)}return typeof i=="string"&&i.includes("px")&&(s=parseFloat(i)),{yP:s,clipped:o}}},{key:"getX1X2",value:function(e,t){var s=this.w,a=e==="x1"?t.x:t.x2,i=this.annoCtx.invertAxis?s.globals.minY:s.globals.minX,o=this.annoCtx.invertAxis?s.globals.maxY:s.globals.maxX,l=this.annoCtx.invertAxis?s.globals.yRange[0]:s.globals.xRange,c=!1,d=this.annoCtx.inversedReversedAxis?(o-a)/(l/s.globals.gridWidth):(a-i)/(l/s.globals.gridWidth);return s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||s.config.chart.sparkline.enabled||(d=this.getStringX(a)),typeof a=="string"&&a.includes("px")&&(d=parseFloat(a)),a==null&&t.marker&&(d=s.globals.gridWidth),t.seriesIndex!==void 0&&s.globals.barWidth&&!this.annoCtx.invertAxis&&(d-=s.globals.barWidth/2*(s.globals.series.length-1)-s.globals.barWidth*t.seriesIndex),typeof d!="number"&&(d=0,c=!0),parseFloat(d.toFixed(10))>parseFloat(s.globals.gridWidth.toFixed(10))?(d=s.globals.gridWidth,c=!0):d<0&&(d=0,c=!0),{x:d,clipped:c}}},{key:"getStringX",value:function(e){var t=this.w,s=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var a=t.globals.labels.map((function(o){return Array.isArray(o)?o.join(" "):o})).indexOf(e),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(a+1,")"));return i&&(s=parseFloat(i.getAttribute("x"))),s}}]),r})(),Wfe=(function(){function r(e){kt(this,r),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Tv(this.annoCtx)}return St(r,[{key:"addXaxisAnnotation",value:function(e,t,s){var a,i=this.w,o=this.helpers.getX1X2("x1",e),l=o.x,c=o.clipped,d=!0,u=e.label.text,f=e.strokeDashArray;if(ce.isNumber(l)){if(e.x2===null||e.x2===void 0){if(!c){var m=this.annoCtx.graphics.drawLine(l+e.offsetX,0+e.offsetY,l+e.offsetX,i.globals.gridHeight+e.offsetY,e.borderColor,f,e.borderWidth);t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}}else{var p=this.helpers.getX1X2("x2",e);if(a=p.x,d=p.clipped,a<l){var y=l;l=a,a=y}var x=this.annoCtx.graphics.drawRect(l+e.offsetX,0+e.offsetY,a-l,i.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,f);x.node.classList.add("apexcharts-annotation-rect"),x.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),t.appendChild(x.node),e.id&&x.node.classList.add(e.id)}if(!c||!d){var v=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),N=e.label.position==="top"?4:e.label.position==="center"?i.globals.gridHeight/2+(e.label.orientation==="vertical"?v.width/2:0):i.globals.gridHeight,k=this.annoCtx.graphics.drawText({x:l+e.label.offsetX,y:N+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?v.width/2-12:-v.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});k.attr({rel:s}),t.appendChild(k.node),this.annoCtx.helpers.setOrientations(e,s)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map((function(a,i){e.addXaxisAnnotation(a,s.node,i)})),s}}]),r})(),Na=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return St(r,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var s=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return s=this.getTimeStamp(s)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var s=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,i=["\0"].concat(na(s.months)),o=[""].concat(na(s.shortMonths)),l=[""].concat(na(s.days)),c=[""].concat(na(s.shortDays));function d(E,I){var M=E+"";for(I=I||2;M.length<I;)M="0"+M;return M}var u=a?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var f=(a?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+i[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+d(f))).replace(/(^|[^\\])M/g,"$1"+f);var m=a?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+l[0])).replace(/(^|[^\\])ddd/g,"$1"+c[0])).replace(/(^|[^\\])dd/g,"$1"+d(m))).replace(/(^|[^\\])d/g,"$1"+m);var p=a?e.getUTCHours():e.getHours(),y=p>12?p-12:p===0?12:p;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+d(p))).replace(/(^|[^\\])H/g,"$1"+p)).replace(/(^|[^\\])hh+/g,"$1"+d(y))).replace(/(^|[^\\])h/g,"$1"+y);var x=a?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+d(x))).replace(/(^|[^\\])m/g,"$1"+x);var v=a?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+d(v))).replace(/(^|[^\\])s/g,"$1"+v);var N=a?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+d(N,3)),N=Math.round(N/10),t=t.replace(/(^|[^\\])ff/g,"$1"+d(N)),N=Math.round(N/10);var k=p<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+N)).replace(/(^|[^\\])TT+/g,"$1"+k)).replace(/(^|[^\\])T/g,"$1"+k.charAt(0));var S=k.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+S)).replace(/(^|[^\\])t/g,"$1"+S.charAt(0));var R=-e.getTimezoneOffset(),A=a||!R?"Z":R>0?"+":"-";if(!a){var D=(R=Math.abs(R))%60;A+=d(Math.floor(R/60))+":"+d(D)}t=t.replace(/(^|[^\\])K/g,"$1"+A);var P=(a?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(l[0],"g"),l[P])).replace(new RegExp(c[0],"g"),c[P])).replace(new RegExp(i[0],"g"),i[f])).replace(new RegExp(o[0],"g"),o[f])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,s){var a=this.w;a.config.xaxis.min!==void 0&&(e=a.config.xaxis.min),a.config.xaxis.max!==void 0&&(t=a.config.xaxis.max);var i=this.getDate(e),o=this.getDate(t),l=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" "),c=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(l[6],10),maxMillisecond:parseInt(c[6],10),minSecond:parseInt(l[5],10),maxSecond:parseInt(c[5],10),minMinute:parseInt(l[4],10),maxMinute:parseInt(c[4],10),minHour:parseInt(l[3],10),maxHour:parseInt(c[3],10),minDate:parseInt(l[2],10),maxDate:parseInt(c[2],10),minMonth:parseInt(l[1],10)-1,maxMonth:parseInt(c[1],10)-1,minYear:parseInt(l[0],10),maxYear:parseInt(c[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,s){return this.determineDaysOfMonths(e,t)-s}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,s){var a=this.daysCntOfYear[t]+s;return t>1&&this.isLeapYear()&&a++,a}},{key:"determineDaysOfMonths",value:function(e,t){var s=30;switch(e=ce.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(s=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:s=31}return s}}]),r})(),wp=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return St(r,[{key:"xLabelFormat",value:function(e,t,s,a){var i=this.w;if(i.config.xaxis.type==="datetime"&&i.config.xaxis.labels.formatter===void 0&&i.config.tooltip.x.formatter===void 0){var o=new Na(this.ctx);return o.formatDate(o.getDate(t),i.config.tooltip.x.format)}return e(t,s,a)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map((function(t){return t})):e}},{key:"defaultYFormatter",value:function(e,t,s){var a=this.w;if(ce.isNumber(e))if(a.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:a.globals.yValueDecimal);else{var i=e.toFixed(0);e=e==i?i:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.ttKeyFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.ttZFormatter=function(s){return s},t.globals.legendFormatter=function(s){return e.defaultGeneralFormatter(s)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(s){if(ce.isNumber(s)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(ce.isNumber(t.config.xaxis.decimalsInFloat))return s.toFixed(t.config.xaxis.decimalsInFloat);var a=t.globals.maxX-t.globals.minX;return a>0&&a<100?s.toFixed(1):s.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?s.toFixed(1):s.toFixed(0)}return s},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach((function(s,a){s.labels.formatter!==void 0?t.globals.yLabelFormatters[a]=s.labels.formatter:t.globals.yLabelFormatters[a]=function(i){return t.globals.xyCharts?Array.isArray(i)?i.map((function(o){return e.defaultYFormatter(o,s,a)})):e.defaultYFormatter(i,s,a):i}})),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce((function(s,a){return s.length>a.length?s:a}),0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),r})(),ic=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"getLabel",value:function(e,t,s,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",l=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],c=this.w,d=e[a]===void 0?"":e[a],u=d,f=c.globals.xLabelFormatter,m=c.config.xaxis.labels.formatter,p=!1,y=new wp(this.ctx),x=d;l&&(u=y.xLabelFormat(f,d,x,{i:a,dateFormatter:new Na(this.ctx).formatDate,w:c}),m!==void 0&&(u=m(d,e[a],{i:a,dateFormatter:new Na(this.ctx).formatDate,w:c})));var v,N;t.length>0?(v=t[a].unit,N=null,t.forEach((function(A){A.unit==="month"?N="year":A.unit==="day"?N="month":A.unit==="hour"?N="day":A.unit==="minute"&&(N="hour")})),p=N===v,s=t[a].position,u=t[a].value):c.config.xaxis.type==="datetime"&&m===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var k=new Xe(this.ctx),S={};S=c.globals.rotateXLabels&&l?k.getTextRects(u,parseInt(o,10),null,"rotate(".concat(c.config.xaxis.labels.rotate," 0 0)"),!1):k.getTextRects(u,parseInt(o,10));var R=!c.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||i.indexOf(u)>=0&&R)&&(u=""),{x:s,text:u,textRect:S,isBold:p}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,s){var a=this.w,i=a.config.xaxis.tickAmount;return i==="dataPoints"&&(i=Math.round(a.globals.gridWidth/120)),i>s||e%Math.round(s/(i+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,s,a,i){var o=this.w;if(e===0&&o.globals.skipFirstTimelinelabel&&(t.text=""),e===s-1&&o.globals.skipLastTimelinelabel&&(t.text=""),o.config.xaxis.labels.hideOverlappingLabels&&a.length>0){var l=i[i.length-1];if(o.config.xaxis.labels.trim&&o.config.xaxis.type!=="datetime")return t;t.x<l.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+l.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var s=this.w;return s.config.yaxis[e]&&s.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some((function(s){return t.collapsedSeriesIndices.indexOf(s)===-1}))}},{key:"translateYAxisIndex",value:function(e){var t=this.w,s=t.globals,a=t.config.yaxis;return s.series.length>a.length||a.some((function(i){return Array.isArray(i.seriesName)}))?e:s.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,s=t.config.yaxis[e];if(!s.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!s.showForNullSeries){var a=t.globals.seriesYAxisMap[e],i=new Ir(this.ctx);return a.every((function(o){return i.isSeriesNull(o)}))}return!1}},{key:"getYAxisForeColor",value:function(e,t){var s=this.w;return Array.isArray(e)&&s.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,s.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,s,a,i,o,l){var c=this.w,d=new Xe(this.ctx),u=c.globals.translateY+c.config.yaxis[i].labels.offsetY;if(c.globals.isBarHorizontal?u=0:c.config.chart.type==="heatmap"&&(u+=o/2),a.show&&t>0){c.config.yaxis[i].opposite===!0&&(e+=a.width);for(var f=t;f>=0;f--){var m=d.drawLine(e+s.offsetX-a.width+a.offsetX,u+a.offsetY,e+s.offsetX+a.offsetX,u+a.offsetY,a.color);l.add(m),u+=o}}}}]),r})(),Yfe=(function(){function r(e){kt(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new Tv(this.annoCtx),this.axesUtils=new ic(this.annoCtx)}return St(r,[{key:"addYaxisAnnotation",value:function(e,t,s){var a,i=this.w,o=e.strokeDashArray,l=this.helpers.getY1Y2("y1",e),c=l.yP,d=l.clipped,u=!0,f=!1,m=e.label.text;if(e.y2===null||e.y2===void 0){if(!d){f=!0;var p=this.annoCtx.graphics.drawLine(0+e.offsetX,c+e.offsetY,this._getYAxisAnnotationWidth(e),c+e.offsetY,e.borderColor,o,e.borderWidth);t.appendChild(p.node),e.id&&p.node.classList.add(e.id)}}else{if(a=(l=this.helpers.getY1Y2("y2",e)).yP,u=l.clipped,a>c){var y=c;c=a,a=y}if(!d||!u){f=!0;var x=this.annoCtx.graphics.drawRect(0+e.offsetX,a+e.offsetY,this._getYAxisAnnotationWidth(e),c-a,0,e.fillColor,e.opacity,1,e.borderColor,o);x.node.classList.add("apexcharts-annotation-rect"),x.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),t.appendChild(x.node),e.id&&x.node.classList.add(e.id)}}if(f){var v=e.label.position==="right"?i.globals.gridWidth:e.label.position==="center"?i.globals.gridWidth/2:0,N=this.annoCtx.graphics.drawText({x:v+e.label.offsetX,y:(a??c)+e.label.offsetY-3,text:m,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});N.attr({rel:s}),t.appendChild(N.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach((function(a,i){a.yAxisIndex=e.axesUtils.translateYAxisIndex(a.yAxisIndex),e.axesUtils.isYAxisHidden(a.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(a.yAxisIndex)||e.addYaxisAnnotation(a,s.node,i)})),s}}]),r})(),Gfe=(function(){function r(e){kt(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new Tv(this.annoCtx)}return St(r,[{key:"addPointAnnotation",value:function(e,t,s){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var a=this.helpers.getX1X2("x1",e),i=a.x,o=a.clipped,l=(a=this.helpers.getY1Y2("y1",e)).yP,c=a.clipped;if(ce.isNumber(i)&&!c&&!o){var d={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(i+e.marker.offsetX,l+e.marker.offsetY,d);t.appendChild(u.node);var f=e.label.text?e.label.text:"",m=this.annoCtx.graphics.drawText({x:i+e.label.offsetX,y:l+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:f,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(m.attr({rel:s}),t.appendChild(m.node),e.customSVG.SVG){var p=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});p.attr({transform:"translate(".concat(i+e.customSVG.offsetX,", ").concat(l+e.customSVG.offsetY,")")}),p.node.innerHTML=e.customSVG.SVG,t.appendChild(p.node)}if(e.image.path){var y=e.image.width?e.image.width:20,x=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:i+e.image.offsetX-y/2,y:l+e.image.offsetY-x/2,width:y,height:x,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map((function(a,i){e.addPointAnnotation(a,s.node,i)})),s}}]),r})(),H8={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},ed=(function(){function r(){kt(this,r),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return St(r,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[H8],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(t,s){return t+s}),0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(t,s){return t+s}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),r})(),Xfe=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.graphics=new Xe(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Tv(this),this.xAxisAnnotations=new Wfe(this),this.yAxisAnnotations=new Yfe(this),this.pointsAnnotations=new Gfe(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return St(r,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),s=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),i=e.config.chart.animations.enabled,o=[t,s,a],l=[s.node,t.node,a.node],c=0;c<3;c++)e.globals.dom.elGraphical.add(o[c]),!i||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&l[c].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:l[c],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map((function(t,s){e.addImage(t,s)}))}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map((function(t,s){e.addText(t,s)}))}},{key:"addXaxisAnnotation",value:function(e,t,s){this.xAxisAnnotations.addXaxisAnnotation(e,t,s)}},{key:"addYaxisAnnotation",value:function(e,t,s){this.yAxisAnnotations.addYaxisAnnotation(e,t,s)}},{key:"addPointAnnotation",value:function(e,t,s){this.pointsAnnotations.addPointAnnotation(e,t,s)}},{key:"addText",value:function(e,t){var s=e.x,a=e.y,i=e.text,o=e.textAnchor,l=e.foreColor,c=e.fontSize,d=e.fontFamily,u=e.fontWeight,f=e.cssClass,m=e.backgroundColor,p=e.borderWidth,y=e.strokeDashArray,x=e.borderRadius,v=e.borderColor,N=e.appendTo,k=N===void 0?".apexcharts-svg":N,S=e.paddingLeft,R=S===void 0?4:S,A=e.paddingRight,D=A===void 0?4:A,P=e.paddingBottom,E=P===void 0?2:P,I=e.paddingTop,M=I===void 0?2:I,L=this.w,z=this.graphics.drawText({x:s,y:a,text:i,textAnchor:o||"start",fontSize:c||"12px",fontWeight:u||"regular",fontFamily:d||L.config.chart.fontFamily,foreColor:l||L.config.chart.foreColor,cssClass:f}),F=L.globals.dom.baseEl.querySelector(k);F&&F.appendChild(z.node);var V=z.bbox();if(i){var $=this.graphics.drawRect(V.x-R,V.y-M,V.width+R+D,V.height+E+M,x,m||"transparent",1,p,v,y);F.insertBefore($.node,z.node)}}},{key:"addImage",value:function(e,t){var s=this.w,a=e.path,i=e.x,o=i===void 0?0:i,l=e.y,c=l===void 0?0:l,d=e.width,u=d===void 0?20:d,f=e.height,m=f===void 0?20:f,p=e.appendTo,y=p===void 0?".apexcharts-svg":p,x=s.globals.dom.Paper.image(a);x.size(u,m).move(o,c);var v=s.globals.dom.baseEl.querySelector(y);return v&&v.appendChild(x.node),x}},{key:"addXaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"xaxis",contextMethod:s.addXaxisAnnotation}),s}},{key:"addYaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"yaxis",contextMethod:s.addYaxisAnnotation}),s}},{key:"addPointAnnotationExternal",value:function(e,t,s){return this.invertAxis===void 0&&(this.invertAxis=s.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"point",contextMethod:s.addPointAnnotation}),s}},{key:"addAnnotationExternal",value:function(e){var t=e.params,s=e.pushToMemory,a=e.context,i=e.type,o=e.contextMethod,l=a,c=l.w,d=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations")),u=d.childNodes.length+1,f=new ed,m=Object.assign({},i==="xaxis"?f.xAxisAnnotation:i==="yaxis"?f.yAxisAnnotation:f.pointAnnotation),p=ce.extend(m,t);switch(i){case"xaxis":this.addXaxisAnnotation(p,d,u);break;case"yaxis":this.addYaxisAnnotation(p,d,u);break;case"point":this.addPointAnnotation(p,d,u)}var y=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations .apexcharts-").concat(i,"-annotation-label[rel='").concat(u,"']")),x=this.helpers.addBackgroundToAnno(y,p);return x&&d.insertBefore(x.node,y),s&&c.globals.memory.methodsToExec.push({context:l,id:p.id?p.id:ce.randomId(),method:o,label:"addAnnotation",params:t}),a}},{key:"clearAnnotations",value:function(e){for(var t=e.w,s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),a=t.globals.memory.methodsToExec.length-1;a>=0;a--)t.globals.memory.methodsToExec[a].label!=="addText"&&t.globals.memory.methodsToExec[a].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(a,1);s=ce.listToArray(s),Array.prototype.forEach.call(s,(function(i){for(;i.firstChild;)i.removeChild(i.firstChild)}))}},{key:"removeAnnotation",value:function(e,t){var s=e.w,a=s.globals.dom.baseEl.querySelectorAll(".".concat(t));a&&(s.globals.memory.methodsToExec.map((function(i,o){i.id===t&&s.globals.memory.methodsToExec.splice(o,1)})),Object.keys(s.config.annotations).forEach((function(i){var o=s.config.annotations[i];Array.isArray(o)&&(s.config.annotations[i]=o.filter((function(l){return l.id!==t})))})),Array.prototype.forEach.call(a,(function(i){i.parentElement.removeChild(i)})))}}]),r})(),tj=function(r){var e,t=r.isTimeline,s=r.ctx,a=r.seriesIndex,i=r.dataPointIndex,o=r.y1,l=r.y2,c=r.w,d=c.globals.seriesRangeStart[a][i],u=c.globals.seriesRangeEnd[a][i],f=c.globals.labels[i],m=c.config.series[a].name?c.config.series[a].name:"",p=c.globals.ttKeyFormatter,y=c.config.tooltip.y.title.formatter,x={w:c,seriesIndex:a,dataPointIndex:i,start:d,end:u};typeof y=="function"&&(m=y(m,x)),(e=c.config.series[a].data[i])!==null&&e!==void 0&&e.x&&(f=c.config.series[a].data[i].x),t||c.config.xaxis.type==="datetime"&&(f=new wp(s).xLabelFormat(c.globals.ttKeyFormatter,f,f,{i:void 0,dateFormatter:new Na(s).formatDate,w:c})),typeof p=="function"&&(f=p(f,x)),Number.isFinite(o)&&Number.isFinite(l)&&(d=o,u=l);var v="",N="",k=c.globals.colors[a];if(c.config.tooltip.x.formatter===void 0)if(c.config.xaxis.type==="datetime"){var S=new Na(s);v=S.formatDate(S.getDate(d),c.config.tooltip.x.format),N=S.formatDate(S.getDate(u),c.config.tooltip.x.format)}else v=d,N=u;else v=c.config.tooltip.x.formatter(d),N=c.config.tooltip.x.formatter(u);return{start:d,end:u,startVal:v,endVal:N,ylabel:f,color:k,seriesName:m}},sj=function(r){var e=r.color,t=r.seriesName,s=r.ylabel,a=r.start,i=r.end,o=r.seriesIndex,l=r.dataPointIndex,c=r.ctx.tooltip.tooltipLabels.getFormatters(o);a=c.yLbFormatter(a),i=c.yLbFormatter(i);var d=c.yLbFormatter(r.w.globals.series[o][l]),u=`<span class="value start-value">
  `.concat(a,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(i,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+s+": </span> "+(r.w.globals.comboCharts?r.w.config.series[o].type==="rangeArea"||r.w.config.series[o].type==="rangeBar"?u:"<span>".concat(d,"</span>"):u)+" </div></div>"},Pg=(function(){function r(e){kt(this,r),this.opts=e}return St(r,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),ce.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var s=t.w.config.series[t.seriesIndex].name;return e!==null?s+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),ht(ht({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var s=t.seriesIndex,a=t.dataPointIndex,i=t.w;return e._getBoxTooltip(i,s,a,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var s=t.seriesIndex,a=t.dataPointIndex,i=t.w;return e._getBoxTooltip(i,s,a,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var s=t.seriesIndex,a=t.dataPointIndex,i=t.w,o=function(){var l=i.globals.seriesRangeStart[s][a];return i.globals.seriesRangeEnd[s][a]-l};return i.globals.comboCharts?i.config.series[s].type==="rangeBar"||i.config.series[s].type==="rangeArea"?o():e:o()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?(function(t){var s=tj(ht(ht({},t),{},{isTimeline:!0})),a=s.color,i=s.seriesName,o=s.ylabel,l=s.startVal,c=s.endVal;return sj(ht(ht({},t),{},{color:a,seriesName:i,ylabel:o,start:l,end:c}))})(e):(function(t){var s=tj(t),a=s.color,i=s.seriesName,o=s.ylabel,l=s.start,c=s.end;return sj(ht(ht({},t),{},{color:a,seriesName:i,ylabel:o,start:l,end:c}))})(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,s;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(s=e.plotOptions.bar)!==null&&s!==void 0&&s.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return(function(t){var s=tj(t),a=s.color,i=s.seriesName,o=s.ylabel,l=s.start,c=s.end;return sj(ht(ht({},t),{},{color:a,seriesName:i,ylabel:o,start:l,end:c}))})(e)}}}}},{key:"brush",value:function(e){return ce.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach((function(s,a){e.yaxis[a].min=0,e.yaxis[a].max=100})),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(s){return typeof s=="number"&&s?s.toFixed(0)+"%":s}),e}},{key:"stackedBars",value:function(){var e=this.bar();return ht(ht({},e),{},{plotOptions:ht(ht({},e.plotOptions),{},{bar:ht(ht({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,s){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(o){return ce.isNumber(o)?Math.floor(o):o};var a=e.xaxis.labels.formatter,i=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return s&&s.length&&(i=s.map((function(o){return Array.isArray(o)?o:String(o)}))),i&&i.length&&(e.xaxis.labels.formatter=function(o){return ce.isNumber(o)?a(i[Math.floor(o)-1]):a(o)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,s,a,i){var o=e.globals.seriesCandleO[t][s],l=e.globals.seriesCandleH[t][s],c=e.globals.seriesCandleM[t][s],d=e.globals.seriesCandleL[t][s],u=e.globals.seriesCandleC[t][s];return e.config.series[t].type&&e.config.series[t].type!==i?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][s],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+l+"</span></div>"+(c?"<div>".concat(a[2],': <span class="value">')+c+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+d+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+u+"</span></div></div>"}}]),r})(),Rg=(function(){function r(e){kt(this,r),this.opts=e}return St(r,[{key:"init",value:function(e){var t=e.responsiveOverride,s=this.opts,a=new ed,i=new Pg(s);this.chartType=s.chart.type,s=this.extendYAxis(s),s=this.extendAnnotations(s);var o=a.init(),l={};if(s&&Va(s)==="object"){var c,d,u,f,m,p,y,x,v,N,k={};k=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(s.chart.type)!==-1?i[s.chart.type]():i.line(),(c=s.plotOptions)!==null&&c!==void 0&&(d=c.bar)!==null&&d!==void 0&&d.isFunnel&&(k=i.funnel()),s.chart.stacked&&s.chart.type==="bar"&&(k=i.stackedBars()),(u=s.chart.brush)!==null&&u!==void 0&&u.enabled&&(k=i.brush(k)),(f=s.plotOptions)!==null&&f!==void 0&&(m=f.line)!==null&&m!==void 0&&m.isSlopeChart&&(k=i.slope()),s.chart.stacked&&s.chart.stackType==="100%"&&(s=i.stacked100(s)),(p=s.plotOptions)!==null&&p!==void 0&&(y=p.bar)!==null&&y!==void 0&&y.isDumbbell&&(s=i.dumbbell(s)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(s),s.xaxis=s.xaxis||window.Apex.xaxis||{},t||(s.xaxis.convertedCatToNumeric=!1),((x=(s=this.checkForCatToNumericXAxis(this.chartType,k,s)).chart.sparkline)!==null&&x!==void 0&&x.enabled||(v=window.Apex.chart)!==null&&v!==void 0&&(N=v.sparkline)!==null&&N!==void 0&&N.enabled)&&(k=i.sparkline(k)),l=ce.extend(o,k)}var S=ce.extend(l,window.Apex);return o=ce.extend(S,s),o=this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(e,t,s){var a,i,o=new Pg(s),l=(e==="bar"||e==="boxPlot")&&((a=s.plotOptions)===null||a===void 0||(i=a.bar)===null||i===void 0?void 0:i.horizontal),c=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",d=s.xaxis.type!=="datetime"&&s.xaxis.type!=="numeric",u=s.xaxis.tickPlacement?s.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return l||c||!d||u==="between"||(s=o.convertCatToNumeric(s)),s}},{key:"extendYAxis",value:function(e,t){var s=new ed;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=ce.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[ce.extend(s.yAxis,e.yaxis)]:e.yaxis=ce.extendArray(e.yaxis,s.yAxis);var a=!1;e.yaxis.forEach((function(o){o.logarithmic&&(a=!0)}));var i=e.series;return t&&!i&&(i=t.config.series),a&&i.length!==e.yaxis.length&&i.length&&(e.yaxis=i.map((function(o,l){if(o.name||(i[l].name="series-".concat(l+1)),e.yaxis[l])return e.yaxis[l].seriesName=i[l].name,e.yaxis[l];var c=ce.extend(s.yAxis,e.yaxis[0]);return c.show=!1,c}))),a&&i.length>1&&i.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new ed;return e.annotations.yaxis=ce.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new ed;return e.annotations.xaxis=ce.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new ed;return e.annotations.points=ce.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),r})(),$8=(function(){function r(){kt(this,r)}return St(r,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=ce.extend({},e),t.initialSeries=ce.clone(e.series),t.lastXAxis=ce.clone(t.initialConfig.xaxis),t.lastYAxis=ce.clone(t.initialConfig.yaxis),t}}]),r})(),Kfe=(function(){function r(e){kt(this,r),this.opts=e}return St(r,[{key:"init",value:function(){var e=new Rg(this.opts).init({responsiveOverride:!1});return{config:e,globals:new $8().init(e)}}}]),r})(),gi=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return St(r,[{key:"clippedImgArea",value:function(e){var t=this.w,s=t.config,a=parseInt(t.globals.gridWidth,10),i=parseInt(t.globals.gridHeight,10),o=a>i?a:i,l=e.image,c=0,d=0;e.width===void 0&&e.height===void 0?s.fill.image.width!==void 0&&s.fill.image.height!==void 0?(c=s.fill.image.width+1,d=s.fill.image.height):(c=o+1,d=o):(c=e.width,d=e.height);var u=document.createElementNS(t.globals.SVGNS,"pattern");Xe.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:c+"px",height:d+"px"});var f=document.createElementNS(t.globals.SVGNS,"image");u.appendChild(f),f.setAttributeNS(window.SVG.xlink,"href",l),Xe.setAttrs(f,{x:0,y:0,preserveAspectRatio:"none",width:c+"px",height:d+"px"}),f.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var t=this.w,s=t.config.chart.type;return(s==="bar"||s==="rangeBar")&&t.config.plotOptions.bar.distributed||s==="heatmap"||s==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var s,a=this.w,i=null,o=null,l=Rm(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;c>=t.threshold?(i===null||c>i)&&(i=c):(o===null||c<o)&&(o=c)}}catch(f){l.e(f)}finally{l.f()}i===null&&(i=t.threshold),o===null&&(o=t.threshold);var d=i-t.threshold+(t.threshold-o);d===0&&(d=1);var u=100-(t.threshold-o)/d*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:t.colorAboveThreshold,opacity:a.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:a.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,s,a,i=this.w;this.opts=e;var o,l,c,d=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=d.plotOptions.line.colors.colorAboveThreshold&&d.plotOptions.line.colors.colorBelowThreshold,f=this.getFillColors()[this.seriesIndex];i.globals.seriesColors[this.seriesIndex]!==void 0&&(f=i.globals.seriesColors[this.seriesIndex]),typeof f=="function"&&(f=f({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:i}));var m,p,y,x=e.fillType?e.fillType:this.getFillType(this.seriesIndex),v=Array.isArray(d.fill.opacity)?d.fill.opacity[this.seriesIndex]:d.fill.opacity,N=x==="gradient"||u;e.color&&(f=e.color),(t=i.config.series[this.seriesIndex])!==null&&t!==void 0&&(s=t.data)!==null&&s!==void 0&&(a=s[e.dataPointIndex])!==null&&a!==void 0&&a.fillColor&&(f=(m=i.config.series[this.seriesIndex])===null||m===void 0||(p=m.data)===null||p===void 0||(y=p[e.dataPointIndex])===null||y===void 0?void 0:y.fillColor),f||(f="#fff",console.warn("undefined color - ApexCharts"));var k=f;if(f.indexOf("rgb")===-1?f.indexOf("#")===-1?k=f:f.length<9&&(k=ce.hexToRgba(f,v)):f.indexOf("rgba")>-1?v=ce.getOpacityFromRGBA(f):k=ce.hexToRgba(ce.rgb2hex(f),v),e.opacity&&(v=e.opacity),x==="pattern"&&(l=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:l,fillColor:f,fillOpacity:v,defaultColor:k})),N){var S=na(d.fill.gradient.colorStops)||[],R=d.fill.gradient.type;u&&(S[this.seriesIndex]=this.computeColorStops(i.globals.series[this.seriesIndex],d.plotOptions.line.colors),R="vertical"),c=this.handleGradientFill({type:R,fillConfig:e.fillConfig,fillColor:f,fillOpacity:v,colorStops:S,i:this.seriesIndex})}if(x==="image"){var A=d.fill.image.src,D=e.patternID?e.patternID:"",P="pattern".concat(i.globals.cuid).concat(e.seriesNumber+1).concat(D);this.patternIDs.indexOf(P)===-1&&(this.clippedImgArea({opacity:v,image:Array.isArray(A)?e.seriesNumber<A.length?A[e.seriesNumber]:A[0]:A,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:P}),this.patternIDs.push(P)),o="url(#".concat(P,")")}else o=N?c:x==="pattern"?l:k;return e.solid&&(o=k),o}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,s=this.opts,a=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors),s.fillColors!==void 0&&(a=[],Array.isArray(s.fillColors)?a=s.fillColors.slice():a.push(s.fillColors)),a}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,s=e.patternFill,a=e.fillColor,i=e.fillOpacity,o=e.defaultColor,l=this.w.config.fill;t&&(l=t);var c=this.opts,d=new Xe(this.ctx),u=Array.isArray(l.pattern.strokeWidth)?l.pattern.strokeWidth[this.seriesIndex]:l.pattern.strokeWidth,f=a;return Array.isArray(l.pattern.style)?s=l.pattern.style[c.seriesNumber]!==void 0?d.drawPattern(l.pattern.style[c.seriesNumber],l.pattern.width,l.pattern.height,f,u,i):o:s=d.drawPattern(l.pattern.style,l.pattern.width,l.pattern.height,f,u,i),s}},{key:"handleGradientFill",value:function(e){var t=e.type,s=e.fillColor,a=e.fillOpacity,i=e.fillConfig,o=e.colorStops,l=e.i,c=this.w.config.fill;i&&(c=ht(ht({},c),i));var d=this.opts,u=new Xe(this.ctx),f=new ce;t=t||c.gradient.type;var m,p=s,y=c.gradient.opacityFrom===void 0?a:Array.isArray(c.gradient.opacityFrom)?c.gradient.opacityFrom[l]:c.gradient.opacityFrom;p.indexOf("rgba")>-1&&(y=ce.getOpacityFromRGBA(p));var x=c.gradient.opacityTo===void 0?a:Array.isArray(c.gradient.opacityTo)?c.gradient.opacityTo[l]:c.gradient.opacityTo;if(c.gradient.gradientToColors===void 0||c.gradient.gradientToColors.length===0)m=c.gradient.shade==="dark"?f.shadeColor(-1*parseFloat(c.gradient.shadeIntensity),s.indexOf("rgb")>-1?ce.rgb2hex(s):s):f.shadeColor(parseFloat(c.gradient.shadeIntensity),s.indexOf("rgb")>-1?ce.rgb2hex(s):s);else if(c.gradient.gradientToColors[d.seriesNumber]){var v=c.gradient.gradientToColors[d.seriesNumber];m=v,v.indexOf("rgba")>-1&&(x=ce.getOpacityFromRGBA(v))}else m=s;if(c.gradient.gradientFrom&&(p=c.gradient.gradientFrom),c.gradient.gradientTo&&(m=c.gradient.gradientTo),c.gradient.inverseColors){var N=p;p=m,m=N}return p.indexOf("rgb")>-1&&(p=ce.rgb2hex(p)),m.indexOf("rgb")>-1&&(m=ce.rgb2hex(m)),u.drawGradient(t,p,m,y,x,d.size,c.gradient.stops,o,l)}}]),r})(),Xh=(function(){function r(e,t){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map((function(s){return e.config.markers.size}))}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,s=e.seriesIndex,a=e.j,i=e.pSize,o=e.alwaysDrawMarker,l=o!==void 0&&o,c=e.isVirtualPoint,d=c!==void 0&&c,u=this.w,f=s,m=t,p=null,y=new Xe(this.ctx),x=u.config.markers.discrete&&u.config.markers.discrete.length;if(Array.isArray(m.x))for(var v=0;v<m.x.length;v++){var N=void 0,k=a,S=!ce.isNumber(m.y[v]);u.globals.markers.largestSize===0&&u.globals.hasNullValues&&u.globals.series[f][a+1]!==null&&!d&&(S=!0),a===1&&v===0&&(k=0),a===1&&v===1&&(k=1);var R="apexcharts-marker";if(u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(R+=" no-pointer-events"),(Array.isArray(u.config.markers.size)?u.globals.markers.size[s]>0:u.config.markers.size>0)||l||x){S||(R+=" w".concat(ce.randomId()));var A=this.getMarkerConfig({cssClass:R,seriesIndex:s,dataPointIndex:k});u.config.series[f].data[k]&&(u.config.series[f].data[k].fillColor&&(A.pointFillColor=u.config.series[f].data[k].fillColor),u.config.series[f].data[k].strokeColor&&(A.pointStrokeColor=u.config.series[f].data[k].strokeColor)),i!==void 0&&(A.pSize=i),(m.x[v]<-u.globals.markers.largestSize||m.x[v]>u.globals.gridWidth+u.globals.markers.largestSize||m.y[v]<-u.globals.markers.largestSize||m.y[v]>u.globals.gridHeight+u.globals.markers.largestSize)&&(A.pSize=0),!S&&((u.globals.markers.size[s]>0||l||x)&&!p&&(p=y.group({class:l||x?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),(N=y.drawMarker(m.x[v],m.y[v],A)).attr("rel",k),N.attr("j",k),N.attr("index",s),N.node.setAttribute("default-marker-size",A.pSize),new ka(this.ctx).setSelectionFilter(N,s,k),this.addEvents(N),p&&p.add(N))}else u.globals.pointsArray[s]===void 0&&(u.globals.pointsArray[s]=[]),u.globals.pointsArray[s].push([m.x[v],m.y[v]])}return p}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,s=e.seriesIndex,a=e.dataPointIndex,i=a===void 0?null:a,o=e.radius,l=o===void 0?null:o,c=e.size,d=c===void 0?null:c,u=e.strokeWidth,f=u===void 0?null:u,m=this.w,p=this.getMarkerStyle(s),y=d===null?m.globals.markers.size[s]:d,x=m.config.markers;return i!==null&&x.discrete.length&&x.discrete.map((function(v){v.seriesIndex===s&&v.dataPointIndex===i&&(p.pointStrokeColor=v.strokeColor,p.pointFillColor=v.fillColor,y=v.size,p.pointShape=v.shape)})),{pSize:l===null?y:l,pRadius:l!==null?l:x.radius,pointStrokeWidth:f!==null?f:Array.isArray(x.strokeWidth)?x.strokeWidth[s]:x.strokeWidth,pointStrokeColor:p.pointStrokeColor,pointFillColor:p.pointFillColor,shape:p.pointShape||(Array.isArray(x.shape)?x.shape[s]:x.shape),class:t,pointStrokeOpacity:Array.isArray(x.strokeOpacity)?x.strokeOpacity[s]:x.strokeOpacity,pointStrokeDashArray:Array.isArray(x.strokeDashArray)?x.strokeDashArray[s]:x.strokeDashArray,pointFillOpacity:Array.isArray(x.fillOpacity)?x.fillOpacity[s]:x.fillOpacity,seriesIndex:s}}},{key:"addEvents",value:function(e){var t=this.w,s=new Xe(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",s.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,s=t.globals.markers.colors,a=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(a)?a[e]:a,pointFillColor:Array.isArray(s)?s[e]:s}}}]),r})(),q8=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return St(r,[{key:"draw",value:function(e,t,s){var a=this.w,i=new Xe(this.ctx),o=s.realIndex,l=s.pointsPos,c=s.zRatio,d=s.elParent,u=i.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(l.x))for(var f=0;f<l.x.length;f++){var m=t+1,p=!0;t===0&&f===0&&(m=0),t===0&&f===1&&(m=1);var y=a.globals.markers.size[o];if(c!==1/0){var x=a.config.plotOptions.bubble;y=a.globals.seriesZ[o][m],x.zScaling&&(y/=c),x.minBubbleRadius&&y<x.minBubbleRadius&&(y=x.minBubbleRadius),x.maxBubbleRadius&&y>x.maxBubbleRadius&&(y=x.maxBubbleRadius)}var v=l.x[f],N=l.y[f];if(y=y||0,N!==null&&a.globals.series[o][m]!==void 0||(p=!1),p){var k=this.drawPoint(v,N,y,o,m,t);u.add(k)}d.add(u)}}},{key:"drawPoint",value:function(e,t,s,a,i,o){var l=this.w,c=a,d=new qh(this.ctx),u=new ka(this.ctx),f=new gi(this.ctx),m=new Xh(this.ctx),p=new Xe(this.ctx),y=m.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:c,dataPointIndex:i,radius:l.config.chart.type==="bubble"||l.globals.comboCharts&&l.config.series[a]&&l.config.series[a].type==="bubble"?s:null}),x=f.fillPath({seriesNumber:a,dataPointIndex:i,color:y.pointFillColor,patternUnits:"objectBoundingBox",value:l.globals.series[a][o]}),v=p.drawMarker(e,t,y);if(l.config.series[c].data[i]&&l.config.series[c].data[i].fillColor&&(x=l.config.series[c].data[i].fillColor),v.attr({fill:x}),l.config.chart.dropShadow.enabled){var N=l.config.chart.dropShadow;u.dropShadow(v,N,a)}if(!this.initialAnim||l.globals.dataChanged||l.globals.resized)l.globals.animationEnded=!0;else{var k=l.config.chart.animations.speed;d.animateMarker(v,k,l.globals.easing,(function(){window.setTimeout((function(){d.animationCompleted(v)}),100)}))}return v.attr({rel:i,j:i,index:a,"default-marker-size":y.pSize}),u.setSelectionFilter(v,a,i),m.addEvents(v),v.node.classList.add("apexcharts-marker"),v}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),r})(),Nh=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"dataLabelsCorrection",value:function(e,t,s,a,i,o,l){var c=this.w,d=!1,u=new Xe(this.ctx).getTextRects(s,l),f=u.width,m=u.height;t<0&&(t=0),t>c.globals.gridHeight+m&&(t=c.globals.gridHeight+m/2),c.globals.dataLabelsRects[a]===void 0&&(c.globals.dataLabelsRects[a]=[]),c.globals.dataLabelsRects[a].push({x:e,y:t,width:f,height:m});var p=c.globals.dataLabelsRects[a].length-2,y=c.globals.lastDrawnDataLabelsIndexes[a]!==void 0?c.globals.lastDrawnDataLabelsIndexes[a][c.globals.lastDrawnDataLabelsIndexes[a].length-1]:0;if(c.globals.dataLabelsRects[a][p]!==void 0){var x=c.globals.dataLabelsRects[a][y];(e>x.x+x.width||t>x.y+x.height||t+m<x.y||e+f<x.x)&&(d=!0)}return(i===0||o)&&(d=!0),{x:e,y:t,textRects:u,drawnextLabel:d}}},{key:"drawDataLabel",value:function(e){var t=this,s=e.type,a=e.pos,i=e.i,o=e.j,l=e.isRangeStart,c=e.strokeWidth,d=c===void 0?2:c,u=this.w,f=new Xe(this.ctx),m=u.config.dataLabels,p=0,y=0,x=o,v=null;if(u.globals.collapsedSeriesIndices.indexOf(i)!==-1||!m.enabled||!Array.isArray(a.x))return v;v=f.group({class:"apexcharts-data-labels"});for(var N=0;N<a.x.length;N++)if(p=a.x[N]+m.offsetX,y=a.y[N]+m.offsetY+d,!isNaN(p)){o===1&&N===0&&(x=0),o===1&&N===1&&(x=1);var k=u.globals.series[i][x];s==="rangeArea"&&(k=l?u.globals.seriesRangeStart[i][x]:u.globals.seriesRangeEnd[i][x]);var S="",R=function(D){return u.config.dataLabels.formatter(D,{ctx:t.ctx,seriesIndex:i,dataPointIndex:x,w:u})};u.config.chart.type==="bubble"?(S=R(k=u.globals.seriesZ[i][x]),y=a.y[N],y=new q8(this.ctx).centerTextInBubble(y,i,x).y):k!==void 0&&(S=R(k));var A=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(A=x===0?"end":x===u.config.series[i].data.length-1?"start":"middle"),this.plotDataLabelsText({x:p,y,text:S,i,j:x,parent:v,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:A})}return v}},{key:"plotDataLabelsText",value:function(e){var t=this.w,s=new Xe(this.ctx),a=e.x,i=e.y,o=e.i,l=e.j,c=e.text,d=e.textAnchor,u=e.fontSize,f=e.parent,m=e.dataLabelsConfig,p=e.color,y=e.alwaysDrawDataLabel,x=e.offsetCorrection,v=e.className,N=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(o)<0)return N;var k={x:a,y:i,drawnextLabel:!0,textRects:null};x&&(k=this.dataLabelsCorrection(a,i,c,o,l,y,parseInt(m.style.fontSize,10))),t.globals.zoomed||(a=k.x,i=k.y),k.textRects&&(a<-20-k.textRects.width||a>t.globals.gridWidth+k.textRects.width+30)&&(c="");var S=t.globals.dataLabels.style.colors[o];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(S=t.globals.dataLabels.style.colors[l]),typeof S=="function"&&(S=S({series:t.globals.series,seriesIndex:o,dataPointIndex:l,w:t})),p&&(S=p);var R=m.offsetX,A=m.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(R=0,A=0),t.globals.isSlopeChart&&(l!==0&&(R=-2*m.offsetX+5),l!==0&&l!==t.config.series[o].data.length-1&&(R=0)),k.drawnextLabel){if(d==="middle"&&a===t.globals.gridWidth&&(d="end"),(N=s.drawText({width:100,height:parseInt(m.style.fontSize,10),x:a+R,y:i+A,foreColor:S,textAnchor:d||m.textAnchor,text:c,fontSize:u||m.style.fontSize,fontFamily:m.style.fontFamily,fontWeight:m.style.fontWeight||"normal"})).attr({class:v||"apexcharts-datalabel",cx:a,cy:i}),m.dropShadow.enabled){var D=m.dropShadow;new ka(this.ctx).dropShadow(N,D)}f.add(N),t.globals.lastDrawnDataLabelsIndexes[o]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[o]=[]),t.globals.lastDrawnDataLabelsIndexes[o].push(l)}return N}},{key:"addBackgroundToDataLabel",value:function(e,t){var s=this.w,a=s.config.dataLabels.background,i=a.padding,o=a.padding/2,l=t.width,c=t.height,d=new Xe(this.ctx).drawRect(t.x-i,t.y-o/2,l+2*i,c+o,a.borderRadius,s.config.chart.background!=="transparent"&&s.config.chart.background?s.config.chart.background:"#fff",a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new ka(this.ctx).dropShadow(d,a.dropShadow),d}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),s=0;s<t.length;s++){var a=t[s],i=a.getBBox(),o=null;if(i.width&&i.height&&(o=this.addBackgroundToDataLabel(a,i)),o){a.parentNode.insertBefore(o.node,a);var l=e.config.dataLabels.background.backgroundColor||a.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?o.animate().attr({fill:l}):o.attr({fill:l}),a.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),s=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<t.length;a++)s&&s.insertBefore(t[a],s.nextSibling)}}]),r})(),W8=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,Xn=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return St(r,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(ce.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),s=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:s}}},{key:"addCollapsedClassToSeries",value:function(e,t){var s=this.w;function a(i){for(var o=0;o<i.length;o++)i[o].index===t&&e.node.classList.add("apexcharts-series-collapsed")}a(s.globals.collapsedSeries),a(s.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w,i=ce.clone(a.globals.initialSeries);a.globals.previousPaths=[],s?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):i=this.emptyCollapsedSeries(i),a.config.series=i,e&&(t&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,s=0;s<e.length;s++)t.globals.collapsedSeriesIndices.indexOf(s)>-1&&(e[s].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,s=this.getSeriesByName(e),a=parseInt(s?.getAttribute("data:realIndex"),10),i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),o=null,l=null,c=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){o=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),l=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"));var d=t.globals.seriesYAxisReverseMap[a];c=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(d,"']"))}else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']"));else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var u=0;u<i.length;u++)i[u].classList.add(this.legendInactiveClass);if(o)t.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass),c!==null&&c.classList.remove(this.legendInactiveClass);else for(var f=0;f<i.length;f++)i[f].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var s=this.w;t||(t=e.target);var a=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var i=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(s.globals.seriesNames[i])}else if(e.type==="mouseout")for(var o=0;o<a.length;o++)a[o].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var s=this,a=this.w,i=a.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(d){for(var u=0;u<i.length;u++)i[u].classList[d](s.legendInactiveClass)};if(e.type==="mousemove"){var l=parseInt(t.getAttribute("rel"),10)-1;o("add");var c=a.config.plotOptions.heatmap.colorScale.ranges;(function(d,u){for(var f=0;f<i.length;f++){var m=Number(i[f].getAttribute("val"));m>=d.from&&(m<d.to||d.to===u&&m===u)&&i[f].classList.remove(s.legendInactiveClass)}})(c[l],c.reduce((function(d,u){return Math.max(d,u.to)}),0))}else e.type==="mouseout"&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=this.w,a=0;if(s.config.series.length>1){for(var i=s.config.series.map((function(l,c){return l.data&&l.data.length>0&&s.globals.collapsedSeriesIndices.indexOf(c)===-1&&(!s.globals.comboCharts||t.length===0||t.length&&t.indexOf(s.config.series[c].type)>-1)?c:-1})),o=e==="asc"?0:i.length-1;e==="asc"?o<i.length:o>=0;e==="asc"?o++:o--)if(i[o]!==-1){a=i[o];break}}return a}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(e,t){return e.type==="bar"||e.type==="column"?t:-1})).filter((function(e){return e!==-1})):this.w.config.series.map((function(e,t){return t}))}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(o,l,c){for(var d=o[l].childNodes,u={type:c,paths:[],realIndex:o[l].getAttribute("data:realIndex")},f=0;f<d.length;f++)if(d[f].hasAttribute("pathTo")){var m=d[f].getAttribute("pathTo");u.paths.push({d:m})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(o){for(var l,c=(l=o,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(l,"-series .apexcharts-series"))),d=0;d<c.length;d++)t(c,d,o)}));var s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(s.length>0)for(var a=function(o){for(var l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(o,"'] rect")),c=[],d=function(f){var m=function(y){return l[f].getAttribute(y)},p={x:parseFloat(m("x")),y:parseFloat(m("y")),width:parseFloat(m("width")),height:parseFloat(m("height"))};c.push({rect:p,color:l[f].getAttribute("color")})},u=0;u<l.length;u++)d(u);e.globals.previousPaths.push(c)},i=0;i<s.length;i++)a(i);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,s=new Xe(this.ctx),a=e.globals.svgWidth/2,i=e.globals.svgHeight/2,o="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(a=10,o="start"):t.align==="right"&&(a=e.globals.svgWidth-10,o="end"),t.verticalAlign==="top"?i=50:t.verticalAlign==="bottom"&&(i=e.globals.svgHeight-50),a+=t.offsetX,i=i+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var l=s.drawText({x:a,y:i,text:t.text,textAnchor:o,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(l)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,s=0;s<e.length;s++)if(e[s].length===0)for(var a=0;a<e[t.globals.maxValsInArrayIndex].length;a++)e[s].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,s=this.filteredSeriesX(),a=0;a<s.length-1;a++)if(s[a][0]!==s[a+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}));return e}}]),r})(),B_=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Ir(this.ctx)}return St(r,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new Xn(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new Xn(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var s=this.w.config,a=this.w.globals,i=s.chart.type==="boxPlot"||s.series[t].type==="boxPlot",o=0;o<e[t].data.length;o++)if(e[t].data[o][1]!==void 0&&(Array.isArray(e[t].data[o][1])&&e[t].data[o][1].length===4&&!i?this.twoDSeries.push(ce.parseNumber(e[t].data[o][1][3])):e[t].data[o].length>=5?this.twoDSeries.push(ce.parseNumber(e[t].data[o][4])):this.twoDSeries.push(ce.parseNumber(e[t].data[o][1])),a.dataFormatXNumeric=!0),s.xaxis.type==="datetime"){var l=new Date(e[t].data[o][0]);l=new Date(l).getTime(),this.twoDSeriesX.push(l)}else this.twoDSeriesX.push(e[t].data[o][0]);for(var c=0;c<e[t].data.length;c++)e[t].data[c][2]!==void 0&&(this.threeDSeries.push(e[t].data[c][2]),a.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var s=this.w.config,a=this.w.globals,i=new Na(this.ctx),o=t;a.collapsedSeriesIndices.indexOf(t)>-1&&(o=this.activeSeriesIndex);for(var l=0;l<e[t].data.length;l++)e[t].data[l].y!==void 0&&(Array.isArray(e[t].data[l].y)?this.twoDSeries.push(ce.parseNumber(e[t].data[l].y[e[t].data[l].y.length-1])):this.twoDSeries.push(ce.parseNumber(e[t].data[l].y))),e[t].data[l].goals!==void 0&&Array.isArray(e[t].data[l].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[l].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var c=0;c<e[o].data.length;c++){var d=typeof e[o].data[c].x=="string",u=Array.isArray(e[o].data[c].x),f=!u&&!!i.isValidDate(e[o].data[c].x);if(d||f)if(d||s.xaxis.convertedCatToNumeric){var m=a.isBarHorizontal&&a.isRangeData;s.xaxis.type!=="datetime"||m?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[c].x),isNaN(e[o].data[c].x)||this.w.config.xaxis.type==="category"||typeof e[o].data[c].x=="string"||(a.isXNumeric=!0)):this.twoDSeriesX.push(i.parseDate(e[o].data[c].x))}else s.xaxis.type==="datetime"?this.twoDSeriesX.push(i.parseDate(e[o].data[c].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[o].data[c].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[c].x)):(a.isXNumeric=!0,a.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[o].data[c].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var p=0;p<e[t].data.length;p++)this.threeDSeries.push(e[t].data[p].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var s=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",e,t)),s.seriesRangeStart[t]=a.start===void 0?[]:a.start,s.seriesRangeEnd[t]=a.end===void 0?[]:a.end,s.seriesRange[t]=a.rangeUniques,s.seriesRange.forEach((function(i,o){i&&i.forEach((function(l,c){l.y.forEach((function(d,u){for(var f=0;f<l.y.length;f++)if(u!==f){var m=d.y1,p=d.y2,y=l.y[f].y1;m<=l.y[f].y2&&y<=p&&(l.overlaps.indexOf(d.rangeName)<0&&l.overlaps.push(d.rangeName),l.overlaps.indexOf(l.y[f].rangeName)<0&&l.overlaps.push(l.y[f].rangeName))}}))}))})),a}},{key:"handleCandleStickBoxData",value:function(e,t){var s=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",e,t)),s.seriesCandleO[t]=a.o,s.seriesCandleH[t]=a.h,s.seriesCandleM[t]=a.m,s.seriesCandleL[t]=a.l,s.seriesCandleC[t]=a.c,a}},{key:"handleRangeDataFormat",value:function(e,t,s){var a=[],i=[],o=t[s].data.filter((function(u,f,m){return f===m.findIndex((function(p){return p.x===u.x}))})).map((function(u,f){return{x:u.x,overlaps:[],y:[]}}));if(e==="array")for(var l=0;l<t[s].data.length;l++)Array.isArray(t[s].data[l])?(a.push(t[s].data[l][1][0]),i.push(t[s].data[l][1][1])):(a.push(t[s].data[l]),i.push(t[s].data[l]));else if(e==="xy")for(var c=function(u){var f=Array.isArray(t[s].data[u].y),m=ce.randomId(),p=t[s].data[u].x,y={y1:f?t[s].data[u].y[0]:t[s].data[u].y,y2:f?t[s].data[u].y[1]:t[s].data[u].y,rangeName:m};t[s].data[u].rangeName=m;var x=o.findIndex((function(v){return v.x===p}));o[x].y.push(y),a.push(y.y1),i.push(y.y2)},d=0;d<t[s].data.length;d++)c(d);return{start:a,end:i,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,s){var a=this.w,i=a.config.chart.type==="boxPlot"||a.config.series[s].type==="boxPlot",o=[],l=[],c=[],d=[],u=[];if(e==="array")if(i&&t[s].data[0].length===6||!i&&t[s].data[0].length===5)for(var f=0;f<t[s].data.length;f++)o.push(t[s].data[f][1]),l.push(t[s].data[f][2]),i?(c.push(t[s].data[f][3]),d.push(t[s].data[f][4]),u.push(t[s].data[f][5])):(d.push(t[s].data[f][3]),u.push(t[s].data[f][4]));else for(var m=0;m<t[s].data.length;m++)Array.isArray(t[s].data[m][1])&&(o.push(t[s].data[m][1][0]),l.push(t[s].data[m][1][1]),i?(c.push(t[s].data[m][1][2]),d.push(t[s].data[m][1][3]),u.push(t[s].data[m][1][4])):(d.push(t[s].data[m][1][2]),u.push(t[s].data[m][1][3])));else if(e==="xy")for(var p=0;p<t[s].data.length;p++)Array.isArray(t[s].data[p].y)&&(o.push(t[s].data[p].y[0]),l.push(t[s].data[p].y[1]),i?(c.push(t[s].data[p].y[2]),d.push(t[s].data[p].y[3]),u.push(t[s].data[p].y[4])):(d.push(t[s].data[p].y[2]),u.push(t[s].data[p].y[3])));return{o,h:l,m:c,l:d,c:u}}},{key:"parseDataAxisCharts",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,a=this.w.config,i=this.w.globals,o=new Na(s),l=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();i.isRangeBar=a.chart.type==="rangeBar"&&i.isBarHorizontal,i.hasXaxisGroups=a.xaxis.type==="category"&&a.xaxis.group.groups.length>0,i.hasXaxisGroups&&(i.groups=a.xaxis.group.groups),e.forEach((function(p,y){p.name!==void 0?i.seriesNames.push(p.name):i.seriesNames.push("series-"+parseInt(y+1,10))})),this.coreUtils.setSeriesYAxisMappings();var c=[],d=na(new Set(a.series.map((function(p){return p.group}))));a.series.forEach((function(p,y){var x=d.indexOf(p.group);c[x]||(c[x]=[]),c[x].push(i.seriesNames[y])})),i.seriesGroups=c;for(var u=function(){for(var p=0;p<l.length;p++)if(typeof l[p]=="string"){if(!o.isValidDate(l[p]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(o.parseDate(l[p]))}else t.twoDSeriesX.push(l[p])},f=0;f<e.length;f++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[f].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(a.chart.type!=="rangeBar"&&a.chart.type!=="rangeArea"&&e[f].type!=="rangeBar"&&e[f].type!=="rangeArea"||(i.isRangeData=!0,this.handleRangeData(e,f)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,f):this.isFormatXY()&&this.handleFormatXY(e,f),a.chart.type!=="candlestick"&&e[f].type!=="candlestick"&&a.chart.type!=="boxPlot"&&e[f].type!=="boxPlot"||this.handleCandleStickBoxData(e,f),i.series.push(this.twoDSeries),i.labels.push(this.twoDSeriesX),i.seriesX.push(this.twoDSeriesX),i.seriesGoals=this.seriesGoals,f!==this.activeSeriesIndex||this.fallbackToCategory||(i.isXNumeric=!0);else{a.xaxis.type==="datetime"?(i.isXNumeric=!0,u(),i.seriesX.push(this.twoDSeriesX)):a.xaxis.type==="numeric"&&(i.isXNumeric=!0,l.length>0&&(this.twoDSeriesX=l,i.seriesX.push(this.twoDSeriesX))),i.labels.push(this.twoDSeriesX);var m=e[f].data.map((function(p){return ce.parseNumber(p)}));i.series.push(m)}i.seriesZ.push(this.threeDSeries),e[f].color!==void 0?i.seriesColors.push(e[f].color):i.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,s=this.w.config,a=Array.isArray(e)&&e.every((function(u){return typeof u=="number"}))&&s.labels.length>0,i=Array.isArray(e)&&e.some((function(u){return u&&Va(u)==="object"&&u.data||u&&Va(u)==="object"&&u.parsing}));if(a&&i&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),a){t.series=e.slice(),t.seriesNames=s.labels.slice();for(var o=0;o<t.series.length;o++)t.seriesNames[o]===void 0&&t.seriesNames.push("series-"+(o+1));return this.w}if(Array.isArray(e)&&e.every((function(u){return typeof u=="number"}))){t.series=e.slice(),t.seriesNames=[];for(var l=0;l<t.series.length;l++)t.seriesNames.push(s.labels[l]||"series-".concat(l+1));return this.w}var c=this.extractPieDataFromSeries(e);t.series=c.values,t.seriesNames=c.labels,s.chart.type==="radialBar"&&(t.series=t.series.map((function(u){var f=ce.parseNumber(u);return f>100&&console.warn("ApexCharts: RadialBar value ".concat(f," > 100, consider using percentage values (0-100)")),f})));for(var d=0;d<t.series.length;d++)t.seriesNames[d]===void 0&&t.seriesNames.push("series-"+(d+1));return this.w}},{key:"resetParsingFlags",value:function(){var e=this.w;e.globals.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach((function(t){t.__apexParsed&&delete t.__apexParsed}))}},{key:"extractPieDataFromSeries",value:function(e){var t=[],s=[];if(!Array.isArray(e))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(e.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var a=e[0];return Va(a)==="object"&&a!==null&&a.data?(this.extractPieDataFromSeriesObjects(e,t,s),{values:t,labels:s}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(e,t,s){e.forEach((function(a,i){a.data&&Array.isArray(a.data)?a.data.forEach((function(o){Va(o)==="object"&&o!==null?o.x!==void 0&&o.y!==void 0?(s.push(String(o.x)),t.push(ce.parseNumber(o.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",o):console.warn("ApexCharts: Expected object data point, got:",Va(o))})):console.warn("ApexCharts: Series ".concat(i," has no valid data array"))}))}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,s=this.w.globals;t.xaxis.categories.length>0?s.labels=t.xaxis.categories:t.labels.length>0?s.labels=t.labels.slice():this.fallbackToCategory?(s.labels=s.labels[0],s.seriesRange.length&&(s.seriesRange.map((function(a){a.forEach((function(i){s.labels.indexOf(i.x)<0&&i.x&&s.labels.push(i.x)}))})),s.labels=Array.from(new Set(s.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new Pg(t).convertCatToNumericXaxis(t,this.ctx,s.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,s=this.w.config,a=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var i=s.series.map((function(f,m){return f.data.filter((function(p,y,x){return x.findIndex((function(v){return v.x===p.x}))===y}))})),o=i.reduce((function(f,m,p,y){return y[f].length>m.length?f:p}),0),l=0;l<i[o].length;l++)a.push(l+1);else for(var c=0;c<t.series[t.maxValsInArrayIndex].length;c++)a.push(c+1);t.seriesX=[];for(var d=0;d<e.length;d++)t.seriesX.push(a);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(a.length===0){a=t.axisCharts?[]:t.series.map((function(f,m){return m+1}));for(var u=0;u<e.length;u++)t.seriesX.push(a)}t.labels=a,s.xaxis.convertedCatToNumeric&&(t.categoryLabels=a.map((function(f){return s.xaxis.labels.formatter(f)}))),t.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(e){var t=this,s=this.w.config,a=this.w.globals,i=s.parsing;if(a.dataWasParsed||!i&&!e.some((function(l){return l.parsing})))return e;var o=e.map((function(l,c){var d,u,f;if(!l.data||!Array.isArray(l.data)||l.data.length===0)return l;var m={x:((d=l.parsing)===null||d===void 0?void 0:d.x)||i?.x,y:((u=l.parsing)===null||u===void 0?void 0:u.y)||i?.y,z:((f=l.parsing)===null||f===void 0?void 0:f.z)||i?.z};if(!m.x&&!m.y)return l;var p=l.data[0];if(Va(p)==="object"&&p!==null&&(p.hasOwnProperty("x")||p.hasOwnProperty("y"))||Array.isArray(p))return l;if(!m.x||!m.y||Array.isArray(m.y)&&m.y.length===0)return console.warn("ApexCharts: Series ".concat(c," has parsing config but missing x or y field specification")),l;var y=l.data.map((function(x,v){if(Va(x)!=="object"||x===null)return console.warn("ApexCharts: Series ".concat(c,", data point ").concat(v," is not an object, skipping parsing")),x;var N,k=t.getNestedValue(x,m.x),S=void 0;if(Array.isArray(m.y)){var R=m.y.map((function(P){return t.getNestedValue(x,P)}));N=t.w.config.chart.type==="bubble"&&R.length===2?R[0]:R}else N=t.getNestedValue(x,m.y);m.z&&(S=t.getNestedValue(x,m.z)),k===void 0&&console.warn("ApexCharts: Series ".concat(c,", data point ").concat(v," missing field '").concat(m.x,"'")),N===void 0&&console.warn("ApexCharts: Series ".concat(c,", data point ").concat(v," missing field '").concat(m.y,"'"));var A={x:k,y:N};if(t.w.config.chart.type==="bubble"&&Array.isArray(m.y)&&m.y.length===2){var D=t.getNestedValue(x,m.y[1]);D!==void 0&&(A.z=D)}return S!==void 0&&(A.z=S),A}));return ht(ht({},l),{},{data:y,__apexParsed:!0})}));return a.dataWasParsed=!0,a.originalSeries||(a.originalSeries=ce.clone(e)),o}},{key:"getNestedValue",value:function(e,t){if(e&&Va(e)==="object"&&t){if(t.indexOf(".")===-1)return e[t];for(var s=t.split("."),a=e,i=0;i<s.length;i++){if(a==null||Va(a)!=="object")return;a=a[s[i]]}return a}}},{key:"parseData",value:function(e){var t=this.w,s=t.config,a=t.globals;if(e=this.parseRawDataIfNeeded(e),s.series=e,a.initialSeries=ce.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),s.chart.stacked){var i=new Xn(this.ctx);a.series=i.setNullSeriesToZeroValues(a.series)}this.coreUtils.getSeriesTotals(),a.axisCharts&&(a.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),a.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&(s.xaxis.type!=="numeric"||s.labels.length!==0||s.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var o=this.coreUtils.getCategoryLabels(a.labels),l=0;l<o.length;l++)if(Array.isArray(o[l])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach((function(s,a){var i=0;s.forEach((function(o){e.globals.collapsedSeriesIndices.indexOf(o)!==-1&&i++})),i>0&&i==s.length&&t.push(a)})),e.globals.ignoreYAxisIndexes=t.map((function(s){return s}))}}]),r})(),eg=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var s=parseFloat(e.getAttributeNS(null,"width")),a=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",s*t),e.setAttributeNS(null,"height",a*t),e.setAttributeNS(null,"viewBox","0 0 "+s+" "+a)}},{key:"getSvgString",value:function(e){var t=this;return new Promise((function(s){var a=t.w,i=e||a.config.chart.toolbar.export.scale||a.config.chart.toolbar.export.width/a.globals.svgWidth;i||(i=1);var o=a.globals.svgWidth*i,l=a.globals.svgHeight*i,c=a.globals.dom.elWrap.cloneNode(!0);c.style.width=o+"px",c.style.height=l+"px";var d=new XMLSerializer().serializeToString(c),u=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;a.config.legend.show&&a.globals.dom.elLegendWrap&&a.globals.dom.elLegendWrap.children.length>0&&(u+=W8);var f=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(a.globals.svgWidth,'px" height="').concat(a.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(o,"px; height:").concat(l,`px;">
            <style type="text/css">
              `).concat(u,`
            </style>
              `).concat(d,`
            </div>
          </foreignObject>
        </svg>
      `),m=t.svgStringToNode(f);i!==1&&t.scaleSvgNode(m,i),t.convertImagesToBase64(m).then((function(){f=new XMLSerializer().serializeToString(m),s(f.replace(/&nbsp;/g,"&#160;"))}))}))}},{key:"convertImagesToBase64",value:function(e){var t=this,s=e.getElementsByTagName("image"),a=Array.from(s).map((function(i){var o=i.getAttributeNS("http://www.w3.org/1999/xlink","href");return o&&!o.startsWith("data:")?t.getBase64FromUrl(o).then((function(l){i.setAttributeNS("http://www.w3.org/1999/xlink","href",l)})).catch((function(l){console.error("Error converting image to base64:",l)})):Promise.resolve()}));return Promise.all(a)}},{key:"getBase64FromUrl",value:function(e){return new Promise((function(t,s){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var i=document.createElement("canvas");i.width=a.width,i.height=a.height,i.getContext("2d").drawImage(a,0,0),t(i.toDataURL())},a.onerror=s,a.src=e}))}},{key:"svgUrl",value:function(){var e=this;return new Promise((function(t){e.getSvgString().then((function(s){var a=new Blob([s],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(a))}))}))}},{key:"dataURI",value:function(e){var t=this;return new Promise((function(s){var a=t.w,i=e?e.scale||e.width/a.globals.svgWidth:1,o=document.createElement("canvas");o.width=a.globals.svgWidth*i,o.height=parseInt(a.globals.dom.elWrap.style.height,10)*i;var l=a.config.chart.background!=="transparent"&&a.config.chart.background?a.config.chart.background:"#fff",c=o.getContext("2d");c.fillStyle=l,c.fillRect(0,0,o.width*i,o.height*i),t.getSvgString(i).then((function(d){var u="data:image/svg+xml,"+encodeURIComponent(d),f=new Image;f.crossOrigin="anonymous",f.onload=function(){if(c.drawImage(f,0,0),o.msToBlob){var m=o.msToBlob();s({blob:m})}else{var p=o.toDataURL("image/png");s({imgURI:p})}},f.src=u}))}))}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then((function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")}))}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,s=this.w.config.chart.toolbar.export.width,a=t?{scale:t}:s?{width:s}:void 0;this.dataURI(a).then((function(i){var o=i.imgURI,l=i.blob;l?navigator.msSaveOrOpenBlob(l,e.w.globals.chartID+".png"):e.triggerDownload(o,e.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(e){var t=this,s=e.series,a=e.fileName,i=e.columnDelimiter,o=i===void 0?",":i,l=e.lineDelimiter,c=l===void 0?`
`:l,d=this.w;s||(s=d.config.series);var u=[],f=[],m="",p=d.globals.series.map((function(A,D){return d.globals.collapsedSeriesIndices.indexOf(D)===-1?A:[]})),y=function(A){return typeof d.config.chart.toolbar.export.csv.categoryFormatter=="function"?d.config.chart.toolbar.export.csv.categoryFormatter(A):d.config.xaxis.type==="datetime"&&String(A).length>=10?new Date(A).toDateString():ce.isNumber(A)?A:A.split(o).join("")},x=function(A){return typeof d.config.chart.toolbar.export.csv.valueFormatter=="function"?d.config.chart.toolbar.export.csv.valueFormatter(A):A},v=Math.max.apply(Math,na(s.map((function(A){return A.data?A.data.length:0})))),N=new B_(this.ctx),k=new ic(this.ctx),S=function(A){var D="";if(d.globals.axisCharts){if(d.config.xaxis.type==="category"||d.config.xaxis.convertedCatToNumeric)if(d.globals.isBarHorizontal){var P=d.globals.yLabelFormatters[0],E=new Xn(t.ctx).getActiveConfigSeriesIndex();D=P(d.globals.labels[A],{seriesIndex:E,dataPointIndex:A,w:d})}else D=k.getLabel(d.globals.labels,d.globals.timescaleLabels,0,A).text;d.config.xaxis.type==="datetime"&&(d.config.xaxis.categories.length?D=d.config.xaxis.categories[A]:d.config.labels.length&&(D=d.config.labels[A]))}else D=d.config.labels[A];return D===null?"nullvalue":(Array.isArray(D)&&(D=D.join(" ")),ce.isNumber(D)?D:D.split(o).join(""))},R=function(A,D){if(u.length&&D===0&&f.push(u.join(o)),A.data){A.data=A.data.length&&A.data||na(Array(v)).map((function(){return""}));for(var P=0;P<A.data.length;P++){u=[];var E=S(P);if(E!=="nullvalue"){if(E||(N.isFormatXY()?E=s[D].data[P].x:N.isFormat2DArray()&&(E=s[D].data[P]?s[D].data[P][0]:"")),D===0){u.push(y(E));for(var I=0;I<d.globals.series.length;I++){var M,L=N.isFormatXY()?(M=s[I].data[P])===null||M===void 0?void 0:M.y:p[I][P];u.push(x(L))}}(d.config.chart.type==="candlestick"||A.type&&A.type==="candlestick")&&(u.pop(),u.push(d.globals.seriesCandleO[D][P]),u.push(d.globals.seriesCandleH[D][P]),u.push(d.globals.seriesCandleL[D][P]),u.push(d.globals.seriesCandleC[D][P])),(d.config.chart.type==="boxPlot"||A.type&&A.type==="boxPlot")&&(u.pop(),u.push(d.globals.seriesCandleO[D][P]),u.push(d.globals.seriesCandleH[D][P]),u.push(d.globals.seriesCandleM[D][P]),u.push(d.globals.seriesCandleL[D][P]),u.push(d.globals.seriesCandleC[D][P])),d.config.chart.type==="rangeBar"&&(u.pop(),u.push(d.globals.seriesRangeStart[D][P]),u.push(d.globals.seriesRangeEnd[D][P])),u.length&&f.push(u.join(o))}}}};u.push(d.config.chart.toolbar.export.csv.headerCategory),d.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):d.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):d.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):s.map((function(A,D){var P=(A.name?A.name:"series-".concat(D))+"";d.globals.axisCharts&&u.push(P.split(o).join("")?P.split(o).join(""):"series-".concat(D))})),d.globals.axisCharts||(u.push(d.config.chart.toolbar.export.csv.headerValue),f.push(u.join(o))),d.globals.allSeriesHasEqualX||!d.globals.axisCharts||d.config.xaxis.categories.length||d.config.labels.length?s.map((function(A,D){d.globals.axisCharts?R(A,D):((u=[]).push(y(d.globals.labels[D])),u.push(x(p[D])),f.push(u.join(o)))})):(function(){var A=new Set,D={};s.forEach((function(P,E){P?.data.forEach((function(I){var M,L;if(N.isFormatXY())M=I.x,L=I.y;else{if(!N.isFormat2DArray())return;M=I[0],L=I[1]}D[M]||(D[M]=Array(s.length).fill("")),D[M][E]=x(L),A.add(M)}))})),u.length&&f.push(u.join(o)),Array.from(A).sort().forEach((function(P){f.push([y(P),D[P].join(o)])}))})(),m+=f.join(c),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+m),a||d.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,s){var a=document.createElement("a");a.href=e,a.download=(t||this.w.globals.chartID)+s,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),r})(),Ig=(function(){function r(e,t){kt(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var s=this.w;this.axesUtils=new ic(e),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],s.config.xaxis.position==="top"?this.offY=0:this.offY=s.globals.gridHeight,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return St(r,[{key:"drawXaxis",value:function(){var e=this.w,t=new Xe(this.ctx),s=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),a=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(a);for(var i=[],o=0;o<this.xaxisLabels.length;o++)i.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,t,a,i,e.globals.isXNumeric,(function(y,x){return x})),e.globals.hasXaxisGroups){var l=e.globals.groups;i=[];for(var c=0;c<l.length;c++)i.push(l[c].title);var d={};e.config.xaxis.group.style&&(d.xaxisFontSize=e.config.xaxis.group.style.fontSize,d.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,d.xaxisForeColors=e.config.xaxis.group.style.colors,d.fontWeight=e.config.xaxis.group.style.fontWeight,d.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,a,i,!1,(function(y,x){return l[y].cols*x}),d)}if(e.config.xaxis.title.text!==void 0){var u=t.group({class:"apexcharts-xaxis-title"}),f=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(f),s.add(u)}if(e.config.xaxis.axisBorder.show){var m=e.globals.barPadForNumericAxis,p=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-m,this.offY,this.xaxisBorderWidth+m,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(p):s.add(p)}return s}},{key:"drawXAxisLabelAndGroup",value:function(e,t,s,a,i,o){var l,c=this,d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],f=[],m=this.w,p=d.xaxisFontSize||this.xaxisFontSize,y=d.xaxisFontFamily||this.xaxisFontFamily,x=d.xaxisForeColors||this.xaxisForeColors,v=d.fontWeight||m.config.xaxis.labels.style.fontWeight,N=d.cssClass||m.config.xaxis.labels.style.cssClass,k=m.globals.padHorizontal,S=a.length,R=m.config.xaxis.type==="category"?m.globals.dataPoints:S;if(R===0&&S>R&&(R=S),i){var A=Math.max(Number(m.config.xaxis.tickAmount)||1,R>1?R-1:R);l=m.globals.gridWidth/Math.min(A,S-1),k=k+o(0,l)/2+m.config.xaxis.labels.offsetX}else l=m.globals.gridWidth/R,k=k+o(0,l)+m.config.xaxis.labels.offsetX;for(var D=function(E){var I=k-o(E,l)/2+m.config.xaxis.labels.offsetX;E===0&&S===1&&l/2===k&&R===1&&(I=m.globals.gridWidth/2);var M=c.axesUtils.getLabel(a,m.globals.timescaleLabels,I,E,u,p,e),L=28;if(m.globals.rotateXLabels&&e&&(L=22),m.config.xaxis.title.text&&m.config.xaxis.position==="top"&&(L+=parseFloat(m.config.xaxis.title.style.fontSize)+2),e||(L=L+parseFloat(p)+(m.globals.xAxisLabelsHeight-m.globals.xAxisGroupLabelsHeight)+(m.globals.rotateXLabels?10:0)),M=m.config.xaxis.tickAmount!==void 0&&m.config.xaxis.tickAmount!=="dataPoints"&&m.config.xaxis.type!=="datetime"?c.axesUtils.checkLabelBasedOnTickamount(E,M,S):c.axesUtils.checkForOverflowingLabels(E,M,S,u,f),m.config.xaxis.labels.show){var z=t.drawText({x:M.x,y:c.offY+m.config.xaxis.labels.offsetY+L-(m.config.xaxis.position==="top"?m.globals.xAxisHeight+m.config.xaxis.axisTicks.height-2:0),text:M.text,textAnchor:"middle",fontWeight:M.isBold?600:v,fontSize:p,fontFamily:y,foreColor:Array.isArray(x)?e&&m.config.xaxis.convertedCatToNumeric?x[m.globals.minX+E-1]:x[E]:x,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+N});if(s.add(z),z.on("click",(function(V){if(typeof m.config.chart.events.xAxisLabelClick=="function"){var $=Object.assign({},m,{labelIndex:E});m.config.chart.events.xAxisLabelClick(V,c.ctx,$)}})),e){var F=document.createElementNS(m.globals.SVGNS,"title");F.textContent=Array.isArray(M.text)?M.text.join(" "):M.text,z.node.appendChild(F),M.text!==""&&(u.push(M.text),f.push(M))}}E<S-1&&(k+=o(E+1,l))},P=0;P<=S-1;P++)D(P)}},{key:"drawXaxisInversed",value:function(e){var t,s,a=this,i=this.w,o=new Xe(this.ctx),l=i.config.yaxis[0].opposite?i.globals.translateYAxisX[e]:0,c=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),d=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+l+", 0)"});c.add(d);var u=[];if(i.config.yaxis[e].show)for(var f=0;f<this.xaxisLabels.length;f++)u.push(this.xaxisLabels[f]);t=i.globals.gridHeight/u.length,s=-t/2.2;var m=i.globals.yLabelFormatters[0],p=i.config.yaxis[0].labels;if(p.show)for(var y=function(A){var D=u[A]===void 0?"":u[A];D=m(D,{seriesIndex:e,dataPointIndex:A,w:i});var P=a.axesUtils.getYAxisForeColor(p.style.colors,e),E=0;Array.isArray(D)&&(E=D.length/2*parseInt(p.style.fontSize,10));var I=p.offsetX-15,M="end";a.yaxis.opposite&&(M="start"),i.config.yaxis[0].labels.align==="left"?(I=p.offsetX,M="start"):i.config.yaxis[0].labels.align==="center"?(I=p.offsetX,M="middle"):i.config.yaxis[0].labels.align==="right"&&(M="end");var L=o.drawText({x:I,y:s+t+p.offsetY-E,text:D,textAnchor:M,foreColor:Array.isArray(P)?P[A]:P,fontSize:p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+p.style.cssClass,maxWidth:p.maxWidth});d.add(L),L.on("click",(function(V){if(typeof i.config.chart.events.xAxisLabelClick=="function"){var $=Object.assign({},i,{labelIndex:A});i.config.chart.events.xAxisLabelClick(V,a.ctx,$)}}));var z=document.createElementNS(i.globals.SVGNS,"title");if(z.textContent=Array.isArray(D)?D.join(" "):D,L.node.appendChild(z),i.config.yaxis[e].labels.rotate!==0){var F=o.rotateAroundCenter(L.node);L.node.setAttribute("transform","rotate(".concat(i.config.yaxis[e].labels.rotate," 0 ").concat(F.y,")"))}s+=t},x=0;x<=u.length-1;x++)y(x);if(i.config.yaxis[0].title.text!==void 0){var v=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+l+", 0)"}),N=o.drawText({x:i.config.yaxis[0].title.offsetX,y:i.globals.gridHeight/2+i.config.yaxis[0].title.offsetY,text:i.config.yaxis[0].title.text,textAnchor:"middle",foreColor:i.config.yaxis[0].title.style.color,fontSize:i.config.yaxis[0].title.style.fontSize,fontWeight:i.config.yaxis[0].title.style.fontWeight,fontFamily:i.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[0].title.style.cssClass});v.add(N),c.add(v)}var k=0;this.isCategoryBarHorizontal&&i.config.yaxis[0].opposite&&(k=i.globals.gridWidth);var S=i.config.xaxis.axisBorder;if(S.show){var R=o.drawLine(i.globals.padHorizontal+S.offsetX+k,1+S.offsetY,i.globals.padHorizontal+S.offsetX+k,i.globals.gridHeight+S.offsetY,S.color,0);this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders.add(R):c.add(R)}return i.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(k,u.length,i.config.yaxis[0].axisBorder,i.config.yaxis[0].axisTicks,0,t,c),c}},{key:"drawXaxisTicks",value:function(e,t,s){var a=this.w,i=e;if(!(e<0||e-2>a.globals.gridWidth)){var o=this.offY+a.config.xaxis.axisTicks.offsetY;if(t=t+o+a.config.xaxis.axisTicks.height,a.config.xaxis.position==="top"&&(t=o-a.config.xaxis.axisTicks.height),a.config.xaxis.axisTicks.show){var l=new Xe(this.ctx).drawLine(e+a.config.xaxis.axisTicks.offsetX,o+a.config.xaxis.offsetY,i+a.config.xaxis.axisTicks.offsetX,t+a.config.xaxis.offsetY,a.config.xaxis.axisTicks.color);s.add(l),l.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],s=this.xaxisLabels.length,a=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var i=0;i<s;i++)a=this.xaxisLabels[i].position,t.push(a);else for(var o=s,l=0;l<o;l++){var c=o;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(c-=1),a+=e.globals.gridWidth/c,t.push(a)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new Xe(this.ctx),s=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var l=0;l<a.length;l++){var c=t.rotateAroundCenter(a[l]);c.y=c.y-1,c.x=c.x+1,a[l].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(c.x," ").concat(c.y,")")),a[l].setAttribute("text-anchor","end"),s.setAttribute("transform","translate(0, ".concat(-10,")"));var d=a[l].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(d,(function(p){t.placeTextWithEllipsis(p,p.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))}))}else(function(){for(var p=e.globals.gridWidth/(e.globals.labels.length+1),y=0;y<a.length;y++){var x=a[y].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(x,(function(v){t.placeTextWithEllipsis(v,v.textContent,p)}))}})();if(i.length>0){var u=i[i.length-1].getBBox(),f=i[0].getBBox();u.x<-20&&i[i.length-1].parentNode.removeChild(i[i.length-1]),f.x+f.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&i[0].parentNode.removeChild(i[0]);for(var m=0;m<o.length;m++)t.placeTextWithEllipsis(o[m],o[m].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),r})(),Y8=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new ic(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return St(r,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,s=new Xe(this.ctx);e||(e=s.group({class:"apexcharts-grid"}));var a=s.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),i=s.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(i),e.add(a),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,s=new Xe(this.ctx),a=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,na(e.config.stroke.width)):e.config.stroke.width,i=function(u){var f=document.createElementNS(t.SVGNS,"clipPath");return f.setAttribute("id",u),f};t.dom.elGridRectMask=i("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=i("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=i("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=i("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=i("nonForecastMask".concat(t.cuid));var o=0,l=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(o=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),l=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=s.drawRect(-a/2-2,-a/2-2,t.gridWidth+a+4,t.gridHeight+a+4,0,"#fff"),t.dom.elGridRectBar=s.drawRect(-a/2-o-2,-a/2-2,t.gridWidth+a+l+o+4,t.gridHeight+a+4,0,"#fff");var c=e.globals.markers.largestSize;t.dom.elGridRectMarker=s.drawRect(Math.min(-a/2-o-2,-c),-c,t.gridWidth+Math.max(a+l+o+4,2*c),t.gridHeight+2*c,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var d=t.dom.baseEl.querySelector("defs");d.appendChild(t.dom.elGridRectMask),d.appendChild(t.dom.elGridRectBarMask),d.appendChild(t.dom.elGridRectMarkerMask),d.appendChild(t.dom.elForecastMask),d.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.xCount,c=e.parent,d=this.w;if(!(t===0&&d.globals.skipFirstTimelinelabel||t===l-1&&d.globals.skipLastTimelinelabel&&!d.config.xaxis.labels.formatter||d.config.chart.type==="radar")){d.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:s,y1:a,x2:i,y2:o,xCount:l,parent:c});var u=0;if(d.globals.hasXaxisGroups&&d.config.xaxis.tickPlacement==="between"){var f=d.globals.groups;if(f){for(var m=0,p=0;m<t&&p<f.length;p++)m+=f[p].cols;m===t&&(u=.6*d.globals.xAxisLabelsHeight)}}new Ig(this.ctx).drawXaxisTicks(s,u,d.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.xCount,c=e.parent,d=this.w,u=c.node.classList.contains("apexcharts-gridlines-horizontal"),f=d.globals.barPadForNumericAxis,m=a===0&&o===0||s===0&&i===0||a===d.globals.gridHeight&&o===d.globals.gridHeight||d.globals.isBarHorizontal&&(t===0||t===l-1),p=new Xe(this).drawLine(s-(u?f:0),a,i+(u?f:0),o,d.config.grid.borderColor,d.config.grid.strokeDashArray);p.node.classList.add("apexcharts-gridline"),m&&d.config.grid.show?this.elGridBorders.add(p):c.add(p)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.type,c=this.w,d=new Xe(this.ctx),u=c.globals.barPadForNumericAxis,f=c.config.grid[l].colors[t],m=d.drawRect(s-(l==="row"?u:0),a,i+(l==="row"?2*u:0),o,0,f,c.config.grid[l].opacity);this.elg.add(m),m.attr("clip-path","url(#gridRectMask".concat(c.globals.cuid,")")),m.node.classList.add("apexcharts-grid-".concat(l))}},{key:"_drawXYLines",value:function(e){var t=this,s=e.xCount,a=e.tickAmount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show){var o,l=i.globals.padHorizontal,c=i.globals.gridHeight;i.globals.timescaleLabels.length?(function(y){for(var x=y.xC,v=y.x1,N=y.y1,k=y.x2,S=y.y2,R=0;R<x;R++)v=t.xaxisLabels[R].position,k=t.xaxisLabels[R].position,t._drawGridLines({i:R,x1:v,y1:N,x2:k,y2:S,xCount:s,parent:t.elgridLinesV})})({xC:s,x1:l,y1:0,x2:o,y2:c}):(i.globals.isXNumeric&&(s=i.globals.xAxisScale.result.length),(function(y){for(var x=y.xC,v=y.x1,N=y.y1,k=y.x2,S=y.y2,R=0;R<x+(i.globals.isXNumeric?0:1);R++)R===0&&x===1&&i.globals.dataPoints===1&&(k=v=i.globals.gridWidth/2),t._drawGridLines({i:R,x1:v,y1:N,x2:k,y2:S,xCount:s,parent:t.elgridLinesV}),k=v+=i.globals.gridWidth/(i.globals.isXNumeric?x-1:x)})({xC:s,x1:l,y1:0,x2:o,y2:c}))}if(i.config.grid.yaxis.lines.show){var d=0,u=0,f=i.globals.gridWidth,m=a+1;this.isRangeBar&&(m=i.globals.labels.length);for(var p=0;p<m+(this.isRangeBar?1:0);p++)this._drawGridLine({i:p,xCount:m+(this.isRangeBar?1:0),x1:0,y1:d,x2:f,y2:u,parent:this.elgridLinesH}),u=d+=i.globals.gridHeight/(this.isRangeBar?m:a)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show)for(var a,i=s.globals.padHorizontal,o=s.globals.gridHeight,l=0;l<t+1;l++)s.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,xCount:t+1,x1:i,y1:0,x2:a,y2:o,parent:this.elgridLinesV}),new Ig(this.ctx).drawXaxisTicks(i,0,s.globals.dom.elGraphical),a=i+=s.globals.gridWidth/t;if(s.config.grid.yaxis.lines.show)for(var c=0,d=0,u=s.globals.gridWidth,f=0;f<s.globals.dataPoints+1;f++)this._drawGridLine({i:f,xCount:s.globals.dataPoints+1,x1:0,y1:c,x2:u,y2:d,parent:this.elgridLinesH}),d=c+=s.globals.gridHeight/s.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,s=new Xe(this.ctx);this.elg=s.group({class:"apexcharts-grid"}),this.elgridLinesH=s.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=s.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=s.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a=0;a<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(a);)a++;a===t.seriesYAxisMap.length&&(a=0);var i,o=t.yAxisScale[a].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var l,c,d;i=this.xaxisLabels.length,this.isRangeBar&&(o=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(i=e.config.xaxis.tickAmount),((l=t.yAxisScale)===null||l===void 0||(c=l[a])===null||c===void 0||(d=c.result)===null||d===void 0?void 0:d.length)>0&&e.config.xaxis.type!=="datetime"&&(i=t.yAxisScale[a].result.length-1)),this._drawXYLines({xCount:i,tickAmount:o})}else i=o,o=t.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:o});return this.drawGridBands(i,o),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/i}}},{key:"drawGridBands",value:function(e,t){var s,a,i=this,o=this.w;if(((s=o.config.grid.row.colors)===null||s===void 0?void 0:s.length)>0&&(function(y,x,v,N,k,S){for(var R=0,A=0;R<x;R++,A++)A>=o.config.grid[y].colors.length&&(A=0),i._drawGridBandRect({c:A,x1:v,y1:N,x2:k,y2:S,type:y}),N+=o.globals.gridHeight/t})("row",t,0,0,o.globals.gridWidth,o.globals.gridHeight/t),((a=o.config.grid.column.colors)===null||a===void 0?void 0:a.length)>0){var l=o.globals.isBarHorizontal||o.config.xaxis.tickPlacement!=="on"||o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric?e:e-1;o.globals.isXNumeric&&(l=o.globals.xAxisScale.result.length-1);for(var c=o.globals.padHorizontal,d=o.globals.padHorizontal+o.globals.gridWidth/l,u=o.globals.gridHeight,f=0,m=0;f<e;f++,m++){var p;m>=o.config.grid.column.colors.length&&(m=0),o.config.xaxis.type==="datetime"&&(c=this.xaxisLabels[f].position,d=(((p=this.xaxisLabels[f+1])===null||p===void 0?void 0:p.position)||o.globals.gridWidth)-this.xaxisLabels[f].position),this._drawGridBandRect({c:m,x1:c,y1:0,x2:d,y2:u,type:"column"}),c+=o.globals.gridWidth/l}}}}]),r})(),G8=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.coreUtils=new Ir(this.ctx)}return St(r,[{key:"niceScale",value:function(e,t){var s,a,i,o,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=1e-11,d=this.w,u=d.globals;u.isBarHorizontal?(s=d.config.xaxis,a=Math.max((u.svgWidth-100)/25,2)):(s=d.config.yaxis[l],a=Math.max((u.svgHeight-100)/15,2)),ce.isNumber(a)||(a=10),i=s.min!==void 0&&s.min!==null,o=s.max!==void 0&&s.min!==null;var f=s.stepSize!==void 0&&s.stepSize!==null,m=s.tickAmount!==void 0&&s.tickAmount!==null,p=m?s.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(a/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!m&&u.multiAxisTickAmount>0&&(p=u.multiAxisTickAmount,m=!0),p=p==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(p)),(e===Number.MIN_VALUE&&t===0||!ce.isNumber(e)&&!ce.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=ce.isNumber(s.min)?s.min:0,t=ce.isNumber(s.max)?s.max:e+p,u.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var y=t;t=e,e=y}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var x=[];p<1&&(p=1);var v=p,N=Math.abs(t-e);!i&&e>0&&e/N<.15&&(e=0,i=!0),!o&&t<0&&-t/N<.15&&(t=0,o=!0);var k=(N=Math.abs(t-e))/v,S=k,R=Math.floor(Math.log10(S)),A=Math.pow(10,R),D=Math.ceil(S/A);if(k=S=(D=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][D])*A,u.isBarHorizontal&&s.stepSize&&s.type!=="datetime"?(k=s.stepSize,f=!0):f&&(k=s.stepSize),f&&s.forceNiceScale){var P=Math.floor(Math.log10(k));k*=Math.pow(10,R-P)}if(i&&o){var E=N/v;if(m)if(f)if(ce.mod(N,k)!=0){var I=ce.getGCD(k,E);k=E/I<10?I:E}else ce.mod(k,E)==0?k=E:(E=k,m=!1);else k=E;else if(f)ce.mod(N,k)==0?E=k:k=E;else if(ce.mod(N,k)==0)E=k;else{E=N/(v=Math.ceil(N/k));var M=ce.getGCD(N,k);N/M<a&&(E=M),k=E}v=Math.round(N/k)}else{if(i||o){if(o)if(m)e=t-k*v;else{var L=e;e=k*Math.floor(e/k),Math.abs(t-e)/ce.getGCD(N,k)>a&&(e=t-k*p,e+=k*Math.floor((L-e)/k))}else if(i)if(m)t=e+k*v;else{var z=t;t=k*Math.ceil(t/k),Math.abs(t-e)/ce.getGCD(N,k)>a&&(t=e+k*p,t+=k*Math.ceil((z-t)/k))}}else if(u.isMultipleYAxis&&m){var F=k*Math.floor(e/k),V=F+k*v;V<t&&(k*=2),V=t,t=(e=F)+k*v,N=Math.abs(t-e),e>0&&e<Math.abs(V-t)&&(e=0,t=k*v),t<0&&-t<Math.abs(F-e)&&(t=0,e=-k*v)}else e=k*Math.floor(e/k),t=k*Math.ceil(t/k);N=Math.abs(t-e),k=ce.getGCD(N,k),v=Math.round(N/k)}if(m||i||o||(v=Math.ceil((N-c)/(k+c)))>16&&ce.getPrimeFactors(v).length<2&&v++,!m&&s.forceNiceScale&&u.yValueDecimal===0&&v>N&&(v=N,k=Math.round(N/v)),v>a&&(!m&&!f||s.forceNiceScale)){var $=ce.getPrimeFactors(v),Y=$.length-1,X=v;e:for(var ee=0;ee<Y;ee++)for(var W=0;W<=Y-ee;W++){for(var B=Math.min(W+ee,Y),G=X,te=1,re=W;re<=B;re++)te*=$[re];if((G/=te)<a){X=G;break e}}k=X===v?N:N/X,v=Math.round(N/k)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(l)<0&&(u.multiAxisTickAmount=v);var ie=e-k,he=k*c;do ie+=k,x.push(ce.stripNumber(ie,7));while(t-ie>he);return{result:x,niceMin:x[0],niceMax:x[x.length-1]}}},{key:"linearScale",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=Math.abs(t-e),l=[];if(e===t)return{result:l=[e],niceMin:l[0],niceMax:l[l.length-1]};(s=this._adjustTicksForSmallRange(s,a,o))==="dataPoints"&&(s=this.w.globals.dataPoints-1),i||(i=o/s),i=Math.round(100*(i+Number.EPSILON))/100,s===Number.MAX_VALUE&&(s=5,i=1);for(var c=e;s>=0;)l.push(c),c=ce.preciseAddition(c,i),s-=1;return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var a=[],i=Math.ceil(Math.log(t)/Math.log(s)+1),o=Math.floor(Math.log(e)/Math.log(s));o<i;o++)a.push(Math.pow(s,o));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var a=[],i=Math.log(t)/Math.log(s),o=Math.log(e)/Math.log(s),l=i-o,c=Math.round(l),d=l/c,u=0,f=o;u<c;u++,f+=d)a.push(Math.pow(s,f));return a.push(Math.pow(s,i)),{result:a,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,s){var a=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var i=Number(this.w.config.yaxis[t].labels.formatter(1));ce.isNumber(i)&&this.w.globals.yValueDecimal===0&&(a=Math.ceil(s))}return a<e?a:e}},{key:"setYScaleForIndex",value:function(e,t,s){var a=this.w.globals,i=this.w.config,o=a.isBarHorizontal?i.xaxis:i.yaxis[e];a.yAxisScale[e]===void 0&&(a.yAxisScale[e]=[]);var l=Math.abs(s-t);o.logarithmic&&l<=5&&(a.invalidLogScale=!0),o.logarithmic&&l>5?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=o.forceNiceScale?this.logarithmicScaleNice(t,s,o.logBase):this.logarithmicScale(t,s,o.logBase)):s!==-Number.MAX_VALUE&&ce.isNumber(s)&&t!==Number.MAX_VALUE&&ce.isNumber(t)?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=this.niceScale(t,s,e)):a.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var s=this.w,a=s.globals;if(t!==-Number.MAX_VALUE&&ce.isNumber(t)){var i=a.xTickAmount;a.xAxisScale=this.linearScale(e,t,i,0,s.config.xaxis.max===void 0?s.config.xaxis.stepSize:void 0)}else a.xAxisScale=this.linearScale(0,10,10);return a.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,s=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var a=s.seriesYAxisMap,i=s.minYArr,o=s.maxYArr;s.allSeriesCollapsed=!0,s.barGroups=[],a.forEach((function(l,c){var d=[];l.forEach((function(u){var f,m=(f=t.series[u])===null||f===void 0?void 0:f.group;d.indexOf(m)<0&&d.push(m)})),l.length>0?(function(){var u,f,m=Number.MAX_VALUE,p=-Number.MAX_VALUE,y=m,x=p;if(t.chart.stacked)(function(){var k=new Array(s.dataPoints).fill(0),S=[],R=[],A=[];d.forEach((function(){S.push(k.map((function(){return Number.MIN_VALUE}))),R.push(k.map((function(){return Number.MIN_VALUE}))),A.push(k.map((function(){return Number.MIN_VALUE})))}));for(var D=function(E){!u&&t.series[l[E]].type&&(u=t.series[l[E]].type);var I=l[E];f=t.series[I].group?t.series[I].group:"axis-".concat(c),!(s.collapsedSeriesIndices.indexOf(I)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(I)<0)||(s.allSeriesCollapsed=!1,d.forEach((function(M,L){if(t.series[I].group===M)for(var z=0;z<s.series[I].length;z++){var F=s.series[I][z];F>=0?R[L][z]+=F:A[L][z]+=F,S[L][z]+=F,y=Math.min(y,F),x=Math.max(x,F)}}))),u!=="bar"&&u!=="column"||s.barGroups.push(f)},P=0;P<l.length;P++)D(P);u||(u=t.chart.type),u==="bar"||u==="column"?d.forEach((function(E,I){m=Math.min(m,Math.min.apply(null,A[I])),p=Math.max(p,Math.max.apply(null,R[I]))})):(d.forEach((function(E,I){y=Math.min(y,Math.min.apply(null,S[I])),x=Math.max(x,Math.max.apply(null,S[I]))})),m=y,p=x),m===Number.MIN_VALUE&&p===Number.MIN_VALUE&&(p=-Number.MAX_VALUE)})();else for(var v=0;v<l.length;v++){var N=l[v];m=Math.min(m,i[N]),p=Math.max(p,o[N]),!(s.collapsedSeriesIndices.indexOf(N)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(N)<0)||(s.allSeriesCollapsed=!1)}t.yaxis[c].min!==void 0&&(m=typeof t.yaxis[c].min=="function"?t.yaxis[c].min(m):t.yaxis[c].min),t.yaxis[c].max!==void 0&&(p=typeof t.yaxis[c].max=="function"?t.yaxis[c].max(p):t.yaxis[c].max),s.barGroups=s.barGroups.filter((function(k,S,R){return R.indexOf(k)===S})),e.setYScaleForIndex(c,m,p),l.forEach((function(k){i[k]=s.yAxisScale[c].niceMin,o[k]=s.yAxisScale[c].niceMax}))})():e.setYScaleForIndex(c,0,-Number.MAX_VALUE)}))}}]),r})(),Bk=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.scales=new G8(e)}return St(r,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=this.w.config,o=this.w.globals,l=-Number.MAX_VALUE,c=Number.MIN_VALUE;a===null&&(a=e+1);var d=o.series,u=d,f=d;i.chart.type==="candlestick"?(u=o.seriesCandleL,f=o.seriesCandleH):i.chart.type==="boxPlot"?(u=o.seriesCandleO,f=o.seriesCandleC):o.isRangeData&&(u=o.seriesRangeStart,f=o.seriesRangeEnd);var m=!1;if(o.seriesX.length>=a){var p,y=(p=o.brushSource)===null||p===void 0?void 0:p.w.config.chart.brush;(i.chart.zoom.enabled&&i.chart.zoom.autoScaleYaxis||y!=null&&y.enabled&&y!=null&&y.autoScaleYaxis)&&(m=!0)}for(var x=e;x<a;x++){o.dataPoints=Math.max(o.dataPoints,d[x].length);var v=i.series[x].type;o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter((function(I){return I!==void 0})).length),o.labels.length&&i.xaxis.type!=="datetime"&&o.series.reduce((function(I,M){return I+M.length}),0)!==0&&(o.dataPoints=Math.max(o.dataPoints,o.labels.length));var N=0,k=d[x].length-1;if(m){if(i.xaxis.min)for(;N<k&&o.seriesX[x][N]<i.xaxis.min;N++);if(i.xaxis.max)for(;k>N&&o.seriesX[x][k]>i.xaxis.max;k--);}for(var S=N;S<=k&&S<o.series[x].length;S++){var R=d[x][S];if(R!==null&&ce.isNumber(R)){var A,D,P,E;switch(((A=f[x])===null||A===void 0?void 0:A[S])!==void 0&&(l=Math.max(l,f[x][S]),t=Math.min(t,f[x][S])),((D=u[x])===null||D===void 0?void 0:D[S])!==void 0&&(t=Math.min(t,u[x][S]),s=Math.max(s,u[x][S])),v){case"candlestick":o.seriesCandleC[x][S]!==void 0&&(l=Math.max(l,o.seriesCandleH[x][S]),t=Math.min(t,o.seriesCandleL[x][S]));break;case"boxPlot":o.seriesCandleC[x][S]!==void 0&&(l=Math.max(l,o.seriesCandleC[x][S]),t=Math.min(t,o.seriesCandleO[x][S]))}v&&v!=="candlestick"&&v!=="boxPlot"&&v!=="rangeArea"&&v!=="rangeBar"&&(l=Math.max(l,o.series[x][S]),t=Math.min(t,o.series[x][S])),o.seriesGoals[x]&&o.seriesGoals[x][S]&&Array.isArray(o.seriesGoals[x][S])&&o.seriesGoals[x][S].forEach((function(I){l=Math.max(l,I.value),t=Math.min(t,I.value)})),s=l,R=ce.noExponents(R),ce.isFloat(R)&&(o.yValueDecimal=Math.max(o.yValueDecimal,R.toString().split(".")[1].length)),c>((P=u[x])===null||P===void 0?void 0:P[S])&&((E=u[x])===null||E===void 0?void 0:E[S])<0&&(c=u[x][S])}else o.hasNullValues=!0}v!=="bar"&&v!=="column"||(c<0&&l<0&&(l=0,s=Math.max(s,0)),c===Number.MIN_VALUE&&(c=0,t=Math.min(t,0)))}return i.chart.type==="rangeBar"&&o.seriesRangeStart.length&&o.isBarHorizontal&&(c=t),i.chart.type==="bar"&&(c<0&&l<0&&(l=0),c===Number.MIN_VALUE&&(c=0)),{minY:c,maxY:l,lowestY:t,highestY:s}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var s,a=Number.MAX_VALUE;if(e.isMultipleYAxis){a=Number.MAX_VALUE;for(var i=0;i<e.series.length;i++)s=this.getMinYMaxY(i),e.minYArr[i]=s.lowestY,e.maxYArr[i]=s.highestY,a=Math.min(a,s.lowestY)}return s=this.getMinYMaxY(0,a,null,e.series.length),t.chart.type==="bar"?(e.minY=s.minY,e.maxY=s.maxY):(e.minY=s.lowestY,e.maxY=s.highestY),a=s.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&a!==-Number.MAX_VALUE&&a!==e.maxY&&(e.minY=a):e.minY=e.minY!==Number.MIN_VALUE?Math.min(s.minY,e.minY):s.minY,t.yaxis.forEach((function(o,l){o.max!==void 0&&(typeof o.max=="number"?e.maxYArr[l]=o.max:typeof o.max=="function"&&(e.maxYArr[l]=o.max(e.isMultipleYAxis?e.maxYArr[l]:e.maxY)),e.maxY=e.maxYArr[l]),o.min!==void 0&&(typeof o.min=="number"?e.minYArr[l]=o.min:typeof o.min=="function"&&(e.minYArr[l]=o.min(e.isMultipleYAxis?e.minYArr[l]===Number.MIN_VALUE?0:e.minYArr[l]:e.minY)),e.minY=e.minYArr[l])})),e.isBarHorizontal&&["min","max"].forEach((function(o){t.xaxis[o]!==void 0&&typeof t.xaxis[o]=="number"&&(o==="min"?e.minY=t.xaxis[o]:e.maxY=t.xaxis[o])})),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=a):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach((function(o){switch(o.type||t.chart.type){case"bar":case"column":e.barGroups.push(o.group);break;case"line":e.lineGroups.push(o.group);break;case"area":e.areaGroups.push(o.group)}})),e.barGroups=e.barGroups.filter((function(o,l,c){return c.indexOf(o)===l})),e.lineGroups=e.lineGroups.filter((function(o,l,c){return c.indexOf(o)===l})),e.areaGroups=e.areaGroups.filter((function(o,l,c){return c.indexOf(o)===l})),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,s=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&(function(){for(var c=0;c<e.series.length;c++)if(e.labels[c])for(var d=0;d<e.labels[c].length;d++)e.labels[c][d]!==null&&ce.isNumber(e.labels[c][d])&&(e.maxX=Math.max(e.maxX,e.labels[c][d]),e.initialMaxX=Math.max(e.maxX,e.labels[c][d]),e.minX=Math.min(e.minX,e.labels[c][d]),e.initialMinX=Math.min(e.minX,e.labels[c][d]))})(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var a=10;if(t.xaxis.tickAmount===void 0)a=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(a=e.dataPoints-1),a>e.dataPoints&&e.dataPoints!==0&&(a=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(a=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var i=Math.round(e.maxX-e.minX);i<30&&(a=i)}}else a=t.xaxis.tickAmount;if(e.xTickAmount=a,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var o=[],l=e.minX-1;l<e.maxX;l++)o.push(l+1);e.xAxisScale={result:o,niceMin:o[0],niceMax:o[o.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,a,a,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,a-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());s&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var s=0;s<e.seriesZ[t].length;s++)e.seriesZ[t][s]!==null&&ce.isNumber(e.seriesZ[t][s])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][s]),e.minZ=Math.min(e.minZ,e.seriesZ[t][s]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var s=new Na(this.ctx);if(t.xaxis.type==="datetime"){var a=s.getDate(e.minX);t.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()-2):a.setDate(a.getDate()-2),e.minX=new Date(a).getTime();var i=s.getDate(e.maxX);t.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()+2):i.setDate(i.getDate()+2),e.maxX=new Date(i).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach((function(t,s){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var a=t.slice();a.sort((function(i,o){return i-o})),a.forEach((function(i,o){if(o>0){var l=i-a[o-1];l>0&&(e.minXDiff=Math.min(l,e.minXDiff))}})),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}}))}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var s=t.seriesGroups;s.length||(s=[this.w.globals.seriesNames.map((function(o){return o}))]);var a={},i={};s.forEach((function(o){a[o]=[],i[o]=[],e.w.config.series.map((function(l,c){return o.indexOf(t.seriesNames[c])>-1?c:null})).filter((function(l){return l!==null})).forEach((function(l){for(var c=0;c<t.series[t.maxValsInArrayIndex].length;c++){var d,u,f,m;a[o][c]===void 0&&(a[o][c]=0,i[o][c]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((d=e.w.config.series)===null||d===void 0||(u=d[l])===null||u===void 0?void 0:u.type)==="bar"||((f=e.w.config.series)===null||f===void 0||(m=f[l])===null||m===void 0?void 0:m.type)==="column"))&&t.series[l][c]!==null&&ce.isNumber(t.series[l][c])&&(t.series[l][c]>0?a[o][c]+=parseFloat(t.series[l][c])+1e-4:i[o][c]+=parseFloat(t.series[l][c]))}}))})),Object.entries(a).forEach((function(o){var l=g8(o,1)[0];a[l].forEach((function(c,d){t.maxY=Math.max(t.maxY,a[l][d]),t.minY=Math.min(t.minY,i[l][d])}))}))}}}]),r})(),V_=(function(){function r(e,t){kt(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=s.config.xaxis.position==="bottom"?s.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new ic(e)}return St(r,[{key:"drawYaxis",value:function(e){var t=this.w,s=new Xe(this.ctx),a=t.config.yaxis[e].labels.style,i=a.fontSize,o=a.fontFamily,l=a.fontWeight,c=s.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return c;var d=s.group({class:"apexcharts-yaxis-texts-g"});c.add(d);var u=t.globals.yAxisScale[e].result.length-1,f=t.globals.gridHeight/u,m=t.globals.yLabelFormatters[e],p=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var y=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?y=0:t.config.chart.type==="heatmap"&&(y-=f/2),y+=parseInt(i,10)/3;for(var x=u;x>=0;x--){var v=m(p[x],x,t),N=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(N*=-1);var k=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),S=this.axesUtils.getYAxisForeColor(a.colors,e),R=Array.isArray(S)?S[x]:S,A=ce.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map((function(P){return P.textContent})),D=s.drawText({x:N,y,text:A.includes(v)&&!t.config.yaxis[e].labels.showDuplicates?"":v,textAnchor:k,fontSize:i,fontFamily:o,fontWeight:l,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:R,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(a.cssClass)});d.add(D),this.addTooltip(D,v),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(s,D,firstLabel,t.config.yaxis[e].labels.rotate),y+=f}}return this.addYAxisTitle(s,c,e),this.addAxisBorder(s,c,e,u,f),c}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var s=document.createElementNS(this.w.globals.SVGNS,"title");s.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(s)}},{key:"rotateLabel",value:function(e,t,s,a){var i=e.rotateAroundCenter(s.node),o=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(a," ").concat(i.x," ").concat(o.y,")"))}},{key:"addYAxisTitle",value:function(e,t,s){var a=this.w;if(a.config.yaxis[s].title.text!==void 0){var i=e.group({class:"apexcharts-yaxis-title"}),o=a.config.yaxis[s].opposite?a.globals.translateYAxisX[s]:0,l=e.drawText({x:o,y:a.globals.gridHeight/2+a.globals.translateY+a.config.yaxis[s].title.offsetY,text:a.config.yaxis[s].title.text,textAnchor:"end",foreColor:a.config.yaxis[s].title.style.color,fontSize:a.config.yaxis[s].title.style.fontSize,fontWeight:a.config.yaxis[s].title.style.fontWeight,fontFamily:a.config.yaxis[s].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(a.config.yaxis[s].title.style.cssClass)});i.add(l),t.add(i)}}},{key:"addAxisBorder",value:function(e,t,s,a,i){var o=this.w,l=o.config.yaxis[s].axisBorder,c=31+l.offsetX;if(o.config.yaxis[s].opposite&&(c=-31-l.offsetX),l.show){var d=e.drawLine(c,o.globals.translateY+l.offsetY-2,c,o.globals.gridHeight+o.globals.translateY+l.offsetY+2,l.color,0,l.width);t.add(d)}o.config.yaxis[s].axisTicks.show&&this.axesUtils.drawYAxisTicks(c,a,l,o.config.yaxis[s].axisTicks,s,i,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,s=new Xe(this.ctx),a=s.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),i=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});a.add(i);var o=t.globals.yAxisScale[e].result.length-1,l=t.globals.gridWidth/o+.1,c=l+t.config.xaxis.labels.offsetX,d=t.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),f=t.globals.timescaleLabels;if(f.length>0&&(this.xaxisLabels=f.slice(),o=(u=f.slice()).length),t.config.xaxis.labels.show)for(var m=f.length?0:o;f.length?m<f.length:m>=0;f.length?m++:m--){var p=d(u[m],m,t),y=t.globals.gridWidth+t.globals.padHorizontal-(c-l+t.config.xaxis.labels.offsetX);if(f.length){var x=this.axesUtils.getLabel(u,f,y,m,this.drawnLabels,this.xaxisFontSize);y=x.x,p=x.text,this.drawnLabels.push(x.text),m===0&&t.globals.skipFirstTimelinelabel&&(p=""),m===u.length-1&&t.globals.skipLastTimelinelabel&&(p="")}var v=s.drawText({x:y,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});i.add(v),v.tspan(p),this.addTooltip(v,p),c+=l}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,s=new Xe(this.ctx),a=t.config.xaxis.axisBorder;if(a.show){var i=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(i-=15);var o=s.drawLine(t.globals.padHorizontal+i+a.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,a.color,0,a.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(o):e.add(o)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,s=new Xe(this.ctx);if(t.config.xaxis.title.text!==void 0){var a=s.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),i=s.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});a.add(i),e.add(a)}}},{key:"yAxisTitleRotate",value:function(e,t){var s=this.w,a=new Xe(this.ctx),i=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),o=i?i.getBoundingClientRect():{width:0,height:0},l=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),c=l?l.getBoundingClientRect():{width:0,height:0};if(l){var d=this.xPaddingForYAxisTitle(e,o,c,t);l.setAttribute("x",d.xPos-(t?10:0));var u=a.rotateAroundCenter(l);l.setAttribute("transform","rotate(".concat(t?-1*s.config.yaxis[e].title.rotate:s.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,s,a){var i=this.w,o=0,l=10;return i.config.yaxis[e].title.text===void 0||e<0?{xPos:o,padd:0}:(a?o=t.width+i.config.yaxis[e].title.offsetX+s.width/2+l/2:(o=-1*t.width+i.config.yaxis[e].title.offsetX+l/2+s.width/2,i.globals.isBarHorizontal&&(l=25,o=-1*t.width-i.config.yaxis[e].title.offsetX-l)),{xPos:o,padd:l})}},{key:"setYAxisXPosition",value:function(e,t){var s=this.w,a=0,i=0,o=18,l=1;s.config.yaxis.length>1&&(this.multipleYs=!0),s.config.yaxis.forEach((function(c,d){var u=s.globals.ignoreYAxisIndexes.includes(d)||!c.show||c.floating||e[d].width===0,f=e[d].width+t[d].width;c.opposite?s.globals.isBarHorizontal?(i=s.globals.gridWidth+s.globals.translateX-1,s.globals.translateYAxisX[d]=i-c.labels.offsetX):(i=s.globals.gridWidth+s.globals.translateX+l,u||(l+=f+20),s.globals.translateYAxisX[d]=i-c.labels.offsetX+20):(a=s.globals.translateX-o,u||(o+=f+20),s.globals.translateYAxisX[d]=a+c.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;ce.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach((function(t,s){var a=e.config.yaxis[s];if(a&&!a.floating&&a.labels.align!==void 0){var i=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-texts-g")),o=ce.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-label"))),l=i.getBoundingClientRect();o.forEach((function(c){c.setAttribute("text-anchor",a.labels.align)})),a.labels.align!=="left"||a.opposite?a.labels.align==="center"?i.setAttribute("transform","translate(".concat(l.width/2*(a.opposite?1:-1),", 0)")):a.labels.align==="right"&&a.opposite&&i.setAttribute("transform","translate(".concat(l.width,", 0)")):i.setAttribute("transform","translate(-".concat(l.width,", 0)"))}}))}}]),r})(),Zfe=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.documentEvent=ce.bind(this.documentEvent,this)}return St(r,[{key:"addEventListener",value:function(e,t){var s=this.w;s.globals.events.hasOwnProperty(e)?s.globals.events[e].push(t):s.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){var a=s.globals.events[e].indexOf(t);a!==-1&&s.globals.events[e].splice(a,1)}}},{key:"fireEvent",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var a=s.globals.events[e],i=a.length,o=0;o<i;o++)a[o].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,s=this.ctx,a=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach((function(i){a.addEventListener(i,(function(o){var l=o.target.getAttribute("i")===null&&t.globals.capturedSeriesIndex!==-1?t.globals.capturedSeriesIndex:o.target.getAttribute("i"),c=o.target.getAttribute("j")===null&&t.globals.capturedDataPointIndex!==-1?t.globals.capturedDataPointIndex:o.target.getAttribute("j"),d=Object.assign({},t,{seriesIndex:t.globals.axisCharts?l:0,dataPointIndex:c});o.type==="mousemove"||o.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(o,s,d):o.type==="mouseleave"||o.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(o,s,d):(o.type==="mouseup"&&o.which===1||o.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(o,s,d),s.ctx.events.fireEvent("click",[o,s,d]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(i){t.globals.dom.baseEl.addEventListener(i,e.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,s=e.target.className;if(e.type==="click"){var a=t.globals.dom.baseEl.querySelector(".apexcharts-menu");a&&a.classList.contains("apexcharts-menu-open")&&s!=="apexcharts-menu-icon"&&a.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),r})(),Qfe=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var s=t.filter((function(i){return i.name===e}))[0];if(!s)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var a=ce.extend(H8,s);this.w.globals.locale=a.options}}]),r})(),Jfe=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"drawAxis",value:function(e,t){var s,a,i=this,o=this.w.globals,l=this.w.config,c=new Ig(this.ctx,t),d=new V_(this.ctx,t);o.axisCharts&&e!=="radar"&&(o.isBarHorizontal?(a=d.drawYaxisInversed(0),s=c.drawXaxisInversed(0),o.dom.elGraphical.add(s),o.dom.elGraphical.add(a)):(s=c.drawXaxis(),o.dom.elGraphical.add(s),l.yaxis.map((function(u,f){if(o.ignoreYAxisIndexes.indexOf(f)===-1&&(a=d.drawYaxis(f),o.dom.Paper.add(a),i.w.config.grid.position==="back")){var m=o.dom.Paper.children()[1];m.remove(),o.dom.Paper.add(m)}}))))}}]),r})(),Vk=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new Xe(this.ctx),s=new ka(this.ctx),a=e.config.xaxis.crosshairs.fill.gradient,i=e.config.xaxis.crosshairs.dropShadow,o=e.config.xaxis.crosshairs.fill.type,l=a.colorFrom,c=a.colorTo,d=a.opacityFrom,u=a.opacityTo,f=a.stops,m=i.enabled,p=i.left,y=i.top,x=i.blur,v=i.color,N=i.opacity,k=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){o==="gradient"&&(k=t.drawGradient("vertical",l,c,d,u,null,f,null));var S=t.drawRect();e.config.xaxis.crosshairs.width===1&&(S=t.drawLine());var R=e.globals.gridHeight;(!ce.isNumber(R)||R<0)&&(R=0);var A=e.config.xaxis.crosshairs.width;(!ce.isNumber(A)||A<0)&&(A=0),S.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:R,width:A,height:R,fill:k,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),m&&(S=s.dropShadow(S,{left:p,top:y,blur:x,color:v,opacity:N})),e.globals.dom.elGraphical.add(S)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new Xe(this.ctx),s=e.config.yaxis[0].crosshairs,a=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var i=t.drawLine(-a,0,e.globals.gridWidth+a,0,s.stroke.color,s.stroke.dashArray,s.stroke.width);i.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(i)}var o=t.drawLine(-a,0,e.globals.gridWidth+a,0,s.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(o)}}]),r})(),eme=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"checkResponsiveConfig",value:function(e){var t=this,s=this.w,a=s.config;if(a.responsive.length!==0){var i=a.responsive.slice();i.sort((function(d,u){return d.breakpoint>u.breakpoint?1:u.breakpoint>d.breakpoint?-1:0})).reverse();var o=new Rg({}),l=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=i[0].breakpoint,f=window.innerWidth>0?window.innerWidth:screen.width;if(f>u){var m=ce.clone(s.globals.initialConfig);m.series=ce.clone(s.config.series);var p=Ir.extendArrayProps(o,m,s);d=ce.extend(p,d),d=ce.extend(s.config,d),t.overrideResponsiveOptions(d)}else for(var y=0;y<i.length;y++)f<i[y].breakpoint&&(d=Ir.extendArrayProps(o,i[y].options,s),d=ce.extend(s.config,d),t.overrideResponsiveOptions(d))};if(e){var c=Ir.extendArrayProps(o,e,s);c=ce.extend(s.config,c),l(c=ce.extend(c,e))}else l({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new Rg(e).init({responsiveOverride:!0});this.w.config=t}}]),r})(),tme=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return St(r,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,s=e.plotOptions;return t.type==="treemap"&&s.treemap&&s.treemap.distributed||t.type==="heatmap"&&s.heatmap&&s.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,s=e.plotOptions;return s.bar&&s.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new ce;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var s=na(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(s),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var a=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],a),this.applyDataLabelsColors(a),this.applyRadarPolygonsColors(),this.applyMarkersColors(a)}},{key:"getColors",value:function(e){var t=this,s=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,s.config.series.map((function(a,i){var o=e[i]||e[0];return typeof o=="function"?o({value:s.globals.axisCharts?s.globals.series[i][0]||0:s.globals.series[i],seriesIndex:i,dataPointIndex:i,w:t.w}):o}))):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach((function(s,a){s&&(t[a]=s)}))}},{key:"getMonochromeColors",value:function(e,t,s){var a=e.color,i=e.shadeIntensity,o=e.shadeTo,l=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,c=1/(l/i),d=0;return Array.from({length:l},(function(){var u=o==="dark"?s.shadeColor(-1*d,a):s.shadeColor(d,a);return d+=c,u}))}},{key:"applyColorTypes",value:function(e,t){var s=this,a=this.w;e.forEach((function(i){a.globals[i].colors=a.config[i].colors===void 0?s.isColorFn?a.config.colors:t:a.config[i].colors.slice(),s.pushExtraColors(a.globals[i].colors)}))}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,i=t||a.globals.series.length;if(s===null&&(s=this.isBarDistributed||this.isHeatmapDistributed||a.config.chart.type==="heatmap"&&a.config.plotOptions.heatmap&&a.config.plotOptions.heatmap.colorScale.inverse),s&&a.globals.series.length&&(i=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),e.length<i)for(var o=i-e.length,l=0;l<o;l++)e.push(e[l])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,s=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",a=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=a,e.theme.palette=s,e}},{key:"predefined",value:function(){var e=this.w.config.theme.palette,t=this.ctx.constructor.getThemePalettes();return t[e]||t.palette1}}]),r})(),sme=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,s=e==="title"?t.config.title:t.config.subtitle,a=t.globals.svgWidth/2,i=s.offsetY,o="middle";if(s.align==="left"?(a=10,o="start"):s.align==="right"&&(a=t.globals.svgWidth-10,o="end"),a+=s.offsetX,i=i+parseInt(s.style.fontSize,10)+s.margin/2,s.text!==void 0){var l=new Xe(this.ctx).drawText({x:a,y:i,text:s.text,textAnchor:o,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,fontWeight:s.style.fontWeight,foreColor:s.style.color,opacity:1});l.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(l)}}}]),r})(),rme=(function(){function r(e){kt(this,r),this.w=e.w,this.dCtx=e}return St(r,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,s=0,a=0,i=e==="title"?t.config.title.floating:t.config.subtitle.floating,o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(o!==null&&!i){var l=o.getBoundingClientRect();s=l.width,a=t.globals.axisCharts?l.height+5:l.height}return{width:s,height:a}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var s=Object.assign({},ce.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:s.x,y:s.y,height:s.height,width:s.height===0?0:s.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,s=[];t.config.series.forEach((function(c,d){c.data.forEach((function(u,f){var m;m=t.globals.series[d][f],a=t.config.dataLabels.formatter(m,{ctx:e.dCtx.ctx,seriesIndex:d,dataPointIndex:f,w:t}),s.push(a)}))}));var a=ce.getLargestStringFromArr(s),i=new Xe(this.dCtx.ctx),o=t.config.dataLabels.style,l=i.getTextRects(a,parseInt(o.fontSize),o.fontFamily);return{width:1.05*l.width,height:l.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var s=e;if(this.w.globals.isMultiLineX){var a=t.map((function(o,l){return Array.isArray(o)?o.length:1})),i=Math.max.apply(Math,na(a));s=t[a.indexOf(i)]}return s}}]),r})(),ame=(function(){function r(e){kt(this,r),this.w=e.w,this.dCtx=e}return St(r,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,s=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&s.length===0&&(s=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var a=this.getxAxisTimeScaleLabelsCoords();e={width:a.width,height:a.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var i=t.globals.xLabelFormatter,o=ce.getLargestStringFromArr(s),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,s);t.globals.isBarHorizontal&&(l=o=t.globals.yAxisScale[0].result.reduce((function(y,x){return y.length>x.length?y:x}),0));var c=new wp(this.dCtx.ctx),d=o;o=c.xLabelFormat(i,o,d,{i:void 0,dateFormatter:new Na(this.dCtx.ctx).formatDate,w:t}),l=c.xLabelFormat(i,l,d,{i:void 0,dateFormatter:new Na(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&o===void 0||String(o).trim()==="")&&(l=o="1");var u=new Xe(this.dCtx.ctx),f=u.getTextRects(o,t.config.xaxis.labels.style.fontSize),m=f;if(o!==l&&(m=u.getTextRects(l,t.config.xaxis.labels.style.fontSize)),(e={width:f.width>=m.width?f.width:m.width,height:f.height>=m.height?f.height:m.height}).width*s.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var p=function(y){return u.getTextRects(y,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};f=p(o),o!==l&&(m=p(l)),e.height=(f.height>m.height?f.height:m.height)/1.5,e.width=f.width>m.width?f.width:m.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var s,a=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,i=t.globals.groups.map((function(f){return f.title})),o=ce.getLargestStringFromArr(i),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,i),c=new Xe(this.dCtx.ctx),d=c.getTextRects(o,a),u=d;return o!==l&&(u=c.getTextRects(l,a)),s={width:d.width>=u.width?d.width:u.width,height:d.height>=u.height?d.height:u.height},t.config.xaxis.labels.show||(s={width:0,height:0}),{width:s.width,height:s.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,s=0;if(e.config.xaxis.title.text!==void 0){var a=new Xe(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=a.width,s=a.height}return{width:t,height:s}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var s=this.dCtx.timescaleLabels.map((function(i){return i.value})),a=s.reduce((function(i,o){return i===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):i.length>o.length?i:o}),0);return 1.05*(e=new Xe(this.dCtx.ctx).getTextRects(a,t.config.xaxis.labels.style.fontSize)).width*s.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,s=this.w,a=s.globals,i=s.config,o=i.xaxis.type,l=e.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var c=s.config.yaxis[0].opposite&&s.globals.isBarHorizontal,d=function(u,f){i.yaxis.length>1&&(function(m){return a.collapsedSeriesIndices.indexOf(m)!==-1})(f)||(function(m){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var p=t.dCtx.timescaleLabels[0],y=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+l/1.75-t.dCtx.yAxisWidthRight,x=p.position-l/1.75+t.dCtx.yAxisWidthLeft,v=s.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;y>a.svgWidth-a.translateX-v&&(a.skipLastTimelinelabel=!0),x<-(m.show&&!m.floating||i.chart.type!=="bar"&&i.chart.type!=="candlestick"&&i.chart.type!=="rangeBar"&&i.chart.type!=="boxPlot"?10:l/1.75)&&(a.skipFirstTimelinelabel=!0)}else o==="datetime"?t.dCtx.gridPad.right<l&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):o!=="datetime"&&t.dCtx.gridPad.right<l/2-t.dCtx.yAxisWidthRight&&!a.rotateXLabels&&!s.config.xaxis.labels.trim&&(t.dCtx.xPadRight=l/2+1)})(u)};i.yaxis.forEach((function(u,f){c?(t.dCtx.gridPad.left<l&&(t.dCtx.xPadLeft=l/2+1),t.dCtx.xPadRight=l/2+1):d(u,f)}))}}]),r})(),nme=(function(){function r(e){kt(this,r),this.w=e.w,this.dCtx=e}return St(r,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,s=[],a=10,i=new ic(this.dCtx.ctx);return t.config.yaxis.map((function(o,l){var c={seriesIndex:l,dataPointIndex:-1,w:t},d=t.globals.yAxisScale[l],u=0;if(!i.isYAxisHidden(l)&&o.labels.show&&o.labels.minWidth!==void 0&&(u=o.labels.minWidth),!i.isYAxisHidden(l)&&o.labels.show&&d.result.length){var f=t.globals.yLabelFormatters[l],m=d.niceMin===Number.MIN_VALUE?0:d.niceMin,p=d.result.reduce((function(R,A){var D,P;return((D=String(f(R,c)))===null||D===void 0?void 0:D.length)>((P=String(f(A,c)))===null||P===void 0?void 0:P.length)?R:A}),m),y=p=f(p,c);if(p!==void 0&&p.length!==0||(p=d.niceMax),t.globals.isBarHorizontal){a=0;var x=t.globals.labels.slice();p=ce.getLargestStringFromArr(x),p=f(p,{seriesIndex:l,dataPointIndex:-1,w:t}),y=e.dCtx.dimHelpers.getLargestStringFromMultiArr(p,x)}var v=new Xe(e.dCtx.ctx),N="rotate(".concat(o.labels.rotate," 0 0)"),k=v.getTextRects(p,o.labels.style.fontSize,o.labels.style.fontFamily,N,!1),S=k;p!==y&&(S=v.getTextRects(y,o.labels.style.fontSize,o.labels.style.fontFamily,N,!1)),s.push({width:(u>S.width||u>k.width?u:S.width>k.width?S.width:k.width)+a,height:S.height>k.height?S.height:k.height})}else s.push({width:0,height:0})})),s}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,s=[];return t.config.yaxis.map((function(a,i){if(a.show&&a.title.text!==void 0){var o=new Xe(e.dCtx.ctx),l="rotate(".concat(a.title.rotate," 0 0)"),c=o.getTextRects(a.title.text,a.title.style.fontSize,a.title.style.fontFamily,l,!1);s.push({width:c.width,height:c.height})}else s.push({width:0,height:0})})),s}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,s=0,a=0,i=e.globals.yAxisScale.length>1?10:0,o=new ic(this.dCtx.ctx),l=function(c,d){var u=e.config.yaxis[d].floating,f=0;c.width>0&&!u?(f=c.width+i,(function(m){return e.globals.ignoreYAxisIndexes.indexOf(m)>-1})(d)&&(f=f-c.width-i)):f=u||o.isYAxisHidden(d)?0:5,e.config.yaxis[d].opposite?a+=f:s+=f,t+=f};return e.globals.yLabelsCoords.map((function(c,d){l(c,d)})),e.globals.yTitleCoords.map((function(c,d){l(c,d)})),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=s,this.dCtx.yAxisWidthRight=a,t}}]),r})(),ime=(function(){function r(e){kt(this,r),this.w=e.w,this.dCtx=e}return St(r,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,s=t.config,a=t.globals;if(a.noData||a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===s.series.length)return 0;var i=function(p){return["bar","rangeBar","candlestick","boxPlot"].includes(p)},o=s.chart.type,l=0,c=i(o)?s.series.length:1;a.comboBarCount>0&&(c=a.comboBarCount),a.collapsedSeries.forEach((function(p){i(p.type)&&(c-=1)})),s.chart.stacked&&(c=1);var d=i(o)||a.comboBarCount>0,u=Math.abs(a.initialMaxX-a.initialMinX);if(d&&a.isXNumeric&&!a.isBarHorizontal&&c>0&&u!==0){u<=3&&(u=a.dataPoints);var f=u/e,m=a.minXDiff&&a.minXDiff/f>0?a.minXDiff/f:0;m>e/2&&(m/=2),(l=m*parseInt(s.plotOptions.bar.columnWidth,10)/100)<1&&(l=1),a.barPadForNumericAxis=l}return l}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,s=t.globals,a=this.dCtx.isSparkline||!s.axisCharts?0:10;["title","subtitle"].forEach((function(l){t.config[l].text!==void 0?a+=t.config[l].margin:a+=e.dCtx.isSparkline||!s.axisCharts?0:5})),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||s.axisCharts||(a+=10);var i=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");s.gridHeight-=i.height+o.height+a,s.translateY+=i.height+o.height+a}},{key:"setGridXPosForDualYAxis",value:function(e,t){var s=this.w,a=new ic(this.dCtx.ctx);s.config.yaxis.forEach((function(i,o){s.globals.ignoreYAxisIndexes.indexOf(o)!==-1||i.floating||a.isYAxisHidden(o)||(i.opposite&&(s.globals.translateX-=t[o].width+e[o].width+parseInt(i.labels.style.fontSize,10)/1.2+12),s.globals.translateX<2&&(s.globals.translateX=2))}))}}]),r})(),Py=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new rme(this),this.dimYAxis=new nme(this),this.dimXAxis=new ame(this),this.dimGrid=new ime(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return St(r,[{key:"plotCoords",value:function(){var e=this,t=this.w,s=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var a=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,na(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(o){var l=g8(o,2),c=l[0],d=l[1];e.gridPad[c]=Math.max(d,e.w.globals.markers.largestSize/1.5)})),this.gridPad.top=Math.max(a/2,this.gridPad.top),this.gridPad.bottom=Math.max(a/2,this.gridPad.bottom)),s.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),s.gridHeight=s.gridHeight-this.gridPad.top-this.gridPad.bottom,s.gridWidth=s.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var i=this.dimGrid.gridPadForColumnsInNumericAxis(s.gridWidth);s.gridWidth=s.gridWidth-2*i,s.translateX=s.translateX+this.gridPad.left+this.xPadLeft+(i>0?i:0),s.translateY=s.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,s=t.globals,a=this.dimYAxis.getyAxisLabelsCoords(),i=this.dimYAxis.getyAxisTitleCoords();s.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map((function(p,y){t.globals.yLabelsCoords.push({width:a[y].width,index:y}),t.globals.yTitleCoords.push({width:i[y].width,index:y})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),l=this.dimXAxis.getxAxisGroupLabelsCoords(),c=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,c,l),s.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,s.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(s.rotateXLabels=!1,s.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),s.translateXAxisY=s.translateXAxisY+t.config.xaxis.labels.offsetY,s.translateXAxisX=s.translateXAxisX+t.config.xaxis.labels.offsetX;var d=this.yAxisWidth,u=this.xAxisHeight;s.xAxisLabelsHeight=this.xAxisHeight-c.height,s.xAxisGroupLabelsHeight=s.xAxisLabelsHeight-o.height,s.xAxisLabelsWidth=this.xAxisWidth,s.xAxisHeight=this.xAxisHeight;var f=10;(t.config.chart.type==="radar"||this.isSparkline)&&(d=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(d=0,u=0,f=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(o);var m=function(){s.translateX=d+e.datalabelsCoords.width,s.gridHeight=s.svgHeight-e.lgRect.height-u-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),s.gridWidth=s.svgWidth-d-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(f=s.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":s.translateY=f,m();break;case"top":s.translateY=this.lgRect.height+f,m();break;case"left":s.translateY=f,s.translateX=this.lgRect.width+d+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-u-12,s.gridWidth=s.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width;break;case"right":s.translateY=f,s.translateX=d+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-u-12,s.gridWidth=s.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(i,a),new V_(this.ctx).setYAxisXPosition(a,i)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=e.config,a=0;e.config.legend.show&&!e.config.legend.floating&&(a=20);var i=s.chart.type==="pie"||s.chart.type==="polarArea"||s.chart.type==="donut"?"pie":"radialBar",o=s.plotOptions[i].offsetY,l=s.plotOptions[i].offsetX;if(!s.legend.show||s.legend.floating){t.gridHeight=t.svgHeight;var c=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(c,t.gridHeight),t.translateY=o,void(t.translateX=l+(t.svgWidth-t.gridWidth)/2)}switch(s.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=o-10,t.translateX=l+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+o+10,t.translateX=l+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-a,t.gridHeight=s.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=l+this.lgRect.width+a;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-a-5,t.gridHeight=s.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=l+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,s){var a=this.w,i=a.globals.hasXaxisGroups?2:1,o=s.height+e.height+t.height,l=a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO,c=a.globals.rotateXLabels?22:10,d=a.globals.rotateXLabels&&a.config.legend.position==="bottom"?10:0;this.xAxisHeight=o*l+i*c+d,this.xAxisWidth=e.width,this.xAxisHeight-t.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,f=0;a.config.yaxis.forEach((function(m){u+=m.labels.minWidth,f+=m.labels.maxWidth})),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>f&&(this.yAxisWidth=f)}}]),r})(),ome=(function(){function r(e){kt(this,r),this.w=e.w,this.lgCtx=e}return St(r,[{key:"getLegendStyles",value:function(){var e,t,s,a=document.createElement("style");a.setAttribute("type","text/css");var i=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(s=t.chart)===null||s===void 0?void 0:s.nonce)||this.w.config.chart.nonce;i&&a.setAttribute("nonce",i);var o=document.createTextNode(W8);return a.appendChild(o),a}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&e.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var s=this,a=this.w;if(a.globals.axisCharts||a.config.chart.type==="radialBar"){a.globals.resized=!0;var i=null,o=null;a.globals.risingSeries=[],a.globals.axisCharts?(i=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),o=parseInt(i.getAttribute("data:realIndex"),10)):(i=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),o=parseInt(i.getAttribute("rel"),10)-1),t?[{cs:a.globals.collapsedSeries,csi:a.globals.collapsedSeriesIndices},{cs:a.globals.ancillaryCollapsedSeries,csi:a.globals.ancillaryCollapsedSeriesIndices}].forEach((function(u){s.riseCollapsedSeries(u.cs,u.csi,o)})):this.hideSeries({seriesEl:i,realIndex:o})}else{var l=a.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),c=a.config.chart.type;if(c==="pie"||c==="polarArea"||c==="donut"){var d=a.config.plotOptions.pie.donut.labels;new Xe(this.lgCtx.ctx).pathMouseDown(l,null),this.lgCtx.ctx.pie.printDataLabelsInner(l.node,d)}l.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,s=this.w,a=s.globals,i=ce.clone(s.config.series);if(a.axisCharts){var o=s.config.yaxis[a.seriesYAxisReverseMap[t]],l={index:t,data:i[t].data.slice(),type:i[t].type||s.config.chart.type};if(o&&o.show&&o.showAlways)a.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(a.ancillaryCollapsedSeries.push(l),a.ancillaryCollapsedSeriesIndices.push(t));else if(a.collapsedSeriesIndices.indexOf(t)<0){a.collapsedSeries.push(l),a.collapsedSeriesIndices.push(t);var c=a.risingSeries.indexOf(t);a.risingSeries.splice(c,1)}}else a.collapsedSeries.push({index:t,data:i[t]}),a.collapsedSeriesIndices.push(t);return a.allSeriesCollapsed=a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===s.config.series.length,this._getSeriesBasedOnCollapsedState(i)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,s=e.realIndex,a=this.w,i=this.getSeriesAfterCollapsing({realIndex:s}),o=t.childNodes,l=0;l<o.length;l++)o[l].classList.contains("apexcharts-series-markers-wrap")&&(o[l].classList.contains("apexcharts-hide")?o[l].classList.remove("apexcharts-hide"):o[l].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,s){var a=this.w,i=ce.clone(a.config.series);if(e.length>0){for(var o=0;o<e.length;o++)e[o].index===s&&(a.globals.axisCharts?i[s].data=e[o].data.slice():i[s]=e[o].data,typeof i[s]!="number"&&(i[s].hidden=!1),e.splice(o,1),t.splice(o,1),a.globals.risingSeries.push(s));i=this._getSeriesBasedOnCollapsedState(i),this.lgCtx.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,s=0;return t.globals.axisCharts?e.forEach((function(a,i){t.globals.collapsedSeriesIndices.indexOf(i)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0||(e[i].data=[],s++)})):e.forEach((function(a,i){!t.globals.collapsedSeriesIndices.indexOf(i)<0&&(e[i]=0,s++)})),t.globals.allSeriesCollapsed=s===e.length,e}}]),r})(),X8=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new ome(this)}return St(r,[{key:"init",value:function(){var e=this.w,t=e.globals,s=e.config,a=s.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(a||!t.axisCharts)&&s.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),s.legend.position==="bottom"||s.legend.position==="top"?this.legendAlignHorizontal():s.legend.position!=="right"&&s.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,s=e.fillcolor,a=this.w,i=document.createElement("span");i.classList.add("apexcharts-legend-marker");var o=a.config.legend.markers.shape||a.config.markers.shape,l=o;Array.isArray(o)&&(l=o[t]);var c=Array.isArray(a.config.legend.markers.size)?parseFloat(a.config.legend.markers.size[t]):parseFloat(a.config.legend.markers.size),d=Array.isArray(a.config.legend.markers.offsetX)?parseFloat(a.config.legend.markers.offsetX[t]):parseFloat(a.config.legend.markers.offsetX),u=Array.isArray(a.config.legend.markers.offsetY)?parseFloat(a.config.legend.markers.offsetY[t]):parseFloat(a.config.legend.markers.offsetY),f=Array.isArray(a.config.legend.markers.strokeWidth)?parseFloat(a.config.legend.markers.strokeWidth[t]):parseFloat(a.config.legend.markers.strokeWidth),m=i.style;if(m.height=2*(c+f)+"px",m.width=2*(c+f)+"px",m.left=d+"px",m.top=u+"px",a.config.legend.markers.customHTML)m.background="transparent",m.color=s[t],Array.isArray(a.config.legend.markers.customHTML)?a.config.legend.markers.customHTML[t]&&(i.innerHTML=a.config.legend.markers.customHTML[t]()):i.innerHTML=a.config.legend.markers.customHTML();else{var p=new Xh(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(l),seriesIndex:t,strokeWidth:f,size:c}),y=window.SVG().addTo(i).size("100%","100%"),x=new Xe(this.ctx).drawMarker(0,0,ht(ht({},p),{},{pointFillColor:Array.isArray(s)?s[t]:p.pointFillColor,shape:l}));a.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach((function(v){v.node.classList.contains("apexcharts-marker-triangle")?v.node.style.transform="translate(50%, 45%)":v.node.style.transform="translate(50%, 50%)"})),y.add(x)}return i}},{key:"drawLegends",value:function(){var e=this,t=this,s=this.w,a=s.config.legend.fontFamily,i=s.globals.seriesNames,o=s.config.legend.markers.fillColors?s.config.legend.markers.fillColors.slice():s.globals.colors.slice();if(s.config.chart.type==="heatmap"){var l=s.config.plotOptions.heatmap.colorScale.ranges;i=l.map((function(p){return p.name?p.name:p.from+" - "+p.to})),o=l.map((function(p){return p.color}))}else this.isBarsDistributed&&(i=s.globals.labels.slice());s.config.legend.customLegendItems.length&&(i=s.config.legend.customLegendItems);var c=s.globals.legendFormatter,d=s.config.legend.inverseOrder,u=[];s.globals.seriesGroups.length>1&&s.config.legend.clusterGroupedSeries&&s.globals.seriesGroups.forEach((function(p,y){u[y]=document.createElement("div"),u[y].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(y)),s.config.legend.clusterGroupedSeriesOrientation==="horizontal"?s.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):u[y].classList.add("apexcharts-legend-group-vertical")}));for(var f=function(p){var y,x=c(i[p],{seriesIndex:p,w:s}),v=!1,N=!1;if(s.globals.collapsedSeries.length>0)for(var k=0;k<s.globals.collapsedSeries.length;k++)s.globals.collapsedSeries[k].index===p&&(v=!0);if(s.globals.ancillaryCollapsedSeriesIndices.length>0)for(var S=0;S<s.globals.ancillaryCollapsedSeriesIndices.length;S++)s.globals.ancillaryCollapsedSeriesIndices[S]===p&&(N=!0);var R=e.createLegendMarker({i:p,fillcolor:o});Xe.setAttrs(R,{rel:p+1,"data:collapsed":v||N}),(v||N)&&R.classList.add("apexcharts-inactive-legend");var A=document.createElement("div"),D=document.createElement("span");D.classList.add("apexcharts-legend-text"),D.innerHTML=Array.isArray(x)?x.join(" "):x;var P=s.config.legend.labels.useSeriesColors?s.globals.colors[p]:Array.isArray(s.config.legend.labels.colors)?(y=s.config.legend.labels.colors)===null||y===void 0?void 0:y[p]:s.config.legend.labels.colors;P||(P=s.config.chart.foreColor),D.style.color=P,D.style.fontSize=parseFloat(s.config.legend.fontSize)+"px",D.style.fontWeight=s.config.legend.fontWeight,D.style.fontFamily=a||s.config.chart.fontFamily,Xe.setAttrs(D,{rel:p+1,i:p,"data:default-text":encodeURIComponent(x),"data:collapsed":v||N}),A.appendChild(R),A.appendChild(D);var E=new Ir(e.ctx);s.config.legend.showForZeroSeries||E.getSeriesTotalByIndex(p)===0&&E.seriesHaveSameValues(p)&&!E.isSeriesNull(p)&&s.globals.collapsedSeriesIndices.indexOf(p)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(p)===-1&&A.classList.add("apexcharts-hidden-zero-series"),s.config.legend.showForNullSeries||E.isSeriesNull(p)&&s.globals.collapsedSeriesIndices.indexOf(p)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(p)===-1&&A.classList.add("apexcharts-hidden-null-series"),u.length?s.globals.seriesGroups.forEach((function(I,M){var L;I.includes((L=s.config.series[p])===null||L===void 0?void 0:L.name)&&(s.globals.dom.elLegendWrap.appendChild(u[M]),u[M].appendChild(A))})):s.globals.dom.elLegendWrap.appendChild(A),s.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(s.config.legend.horizontalAlign)),s.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+s.config.legend.position),A.classList.add("apexcharts-legend-series"),A.style.margin="".concat(s.config.legend.itemMargin.vertical,"px ").concat(s.config.legend.itemMargin.horizontal,"px"),s.globals.dom.elLegendWrap.style.width=s.config.legend.width?s.config.legend.width+"px":"",s.globals.dom.elLegendWrap.style.height=s.config.legend.height?s.config.legend.height+"px":"",Xe.setAttrs(A,{rel:p+1,seriesName:ce.escapeString(i[p]),"data:collapsed":v||N}),(v||N)&&A.classList.add("apexcharts-inactive-legend"),s.config.legend.onItemClick.toggleDataSeries||A.classList.add("apexcharts-no-click")},m=d?i.length-1:0;d?m>=0:m<=i.length-1;d?m--:m++)f(m);s.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),s.config.legend.onItemHover.highlightDataSeries&&s.config.legend.customLegendItems.length===0&&(s.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),s.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var s=this.w,a=s.globals.dom.elLegendWrap,i=a.clientHeight,o=0,l=0;if(s.config.legend.position==="bottom")l=s.globals.svgHeight-Math.min(i,s.globals.svgHeight/2)-5;else if(s.config.legend.position==="top"){var c=new Py(this.ctx),d=c.dimHelpers.getTitleSubtitleCoords("title").height,u=c.dimHelpers.getTitleSubtitleCoords("subtitle").height;l=(d>0?d-10:0)+(u>0?u-10:0)}a.style.position="absolute",o=o+e+s.config.legend.offsetX,l=l+t+s.config.legend.offsetY,a.style.left=o+"px",a.style.top=l+"px",s.config.legend.position==="right"&&(a.style.left="auto",a.style.right=25+s.config.legend.offsetX+"px"),["width","height"].forEach((function(f){a.style[f]&&(a.style[f]=parseInt(s.config.legend[f],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new Py(this.ctx),s=t.dimHelpers.getTitleSubtitleCoords("title"),a=t.dimHelpers.getTitleSubtitleCoords("subtitle"),i=0;e.config.legend.position==="top"&&(i=s.height+a.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,i)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),s=0;e.config.legend.position==="left"&&(s=20),e.config.legend.position==="right"&&(s=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(s,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,s=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(s){var a=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,a,this.w]),new Xn(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&s&&new Xn(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var s=parseInt(e.target.getAttribute("rel"),10)-1,a=e.target.getAttribute("data:collapsed")==="true",i=this.w.config.chart.events.legendClick;typeof i=="function"&&i(this.ctx,s,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,s,this.w]);var o=this.w.config.legend.markers.onClick;typeof o=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,s,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,s,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(s,a)}}}]),r})(),K8=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return St(r,[{key:"createToolbar",value:function(){var e=this,t=this.w,s=function(){return document.createElement("div")},a=s();if(a.setAttribute("class","apexcharts-toolbar"),a.style.top=t.config.chart.toolbar.offsetY+"px",a.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(a),this.elZoom=s(),this.elZoomIn=s(),this.elZoomOut=s(),this.elPan=s(),this.elSelection=s(),this.elZoomReset=s(),this.elMenuIcon=s(),this.elMenu=s(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var i=0;i<this.t.customIcons.length;i++)this.elCustomIcons.push(s());var o=[],l=function(f,m,p){var y=f.toLowerCase();e.t[y]&&t.config.chart.zoom.enabled&&o.push({el:m,icon:typeof e.t[y]=="string"?e.t[y]:p,title:e.localeValues[f],class:"apexcharts-".concat(y,"-icon")})};l("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),l("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var c=function(f){e.t[f]&&t.config.chart[f].enabled&&o.push({el:f==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[f]=="string"?e.t[f]:f==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[f==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(f,"-icon")})};c("zoom"),c("selection"),this.t.pan&&t.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),l("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&o.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var d=0;d<this.elCustomIcons.length;d++)o.push({el:this.elCustomIcons[d],icon:this.t.customIcons[d].icon,title:this.t.customIcons[d].title,index:this.t.customIcons[d].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[d].class});o.forEach((function(f,m){f.index&&ce.moveIndexInArray(o,m,f.index)}));for(var u=0;u<o.length;u++)Xe.setAttrs(o[u].el,{class:o[u].class,title:o[u].title}),o[u].el.innerHTML=o[u].icon,a.appendChild(o[u].el);this._createHamburgerMenu(a),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),Xe.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],s=0;s<t.length;s++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[s].innerHTML=t[s].title,Xe.setAttrs(this.elMenuItems[s],{class:"apexcharts-menu-item ".concat(t[s].name),title:t[s].title}),this.elMenu.appendChild(this.elMenuItems[s])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(s){s.classList.contains("exportSVG")?s.addEventListener("click",e.handleDownload.bind(e,"svg")):s.classList.contains("exportPNG")?s.addEventListener("click",e.handleDownload.bind(e,"png")):s.classList.contains("exportCSV")&&s.addEventListener("click",e.handleDownload.bind(e,"csv"))}));for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls();var s=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,a=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[a]=!t.w.globals[a],s.classList.contains(t.ctx.toolbar.selectedClass)?s.classList.remove(t.ctx.toolbar.selectedClass):s.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,s=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),s&&s.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(s){s&&s.classList.remove(e.selectedClass)}))}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,s=(this.minX+t)/2,a=(this.maxX+t)/2,i=this._getNewMinXMaxX(s,a);e.globals.disableZoomIn||this.zoomUpdateOptions(i.minX,i.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,s=this.minX-(t-this.minX),a=this.maxX-(t-this.maxX),i=this._getNewMinXMaxX(s,a);e.globals.disableZoomOut||this.zoomUpdateOptions(i.minX,i.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var s=this.w.config.xaxis.convertedCatToNumeric;return{minX:s?Math.floor(e):e,maxX:s?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var s=this.w;if(e!==void 0||t!==void 0){if(!(s.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=s.globals.dataPoints),t-e<2))){var a={min:e,max:t},i=this.getBeforeZoomRange(a);i&&(a=i.xaxis);var o={xaxis:a},l=ce.clone(s.globals.initialConfig.yaxis);s.config.chart.group||(o.yaxis=l),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(a,l)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var s=null;return typeof this.ev.beforeZoom=="function"&&(s=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),s}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout((function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(e){var t=this.w,s=new eg(this.ctx);switch(e){case"svg":s.exportToSVG(this.ctx);break;case"png":s.exportToPng(this.ctx);break;case"csv":s.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){var s=t.w;if(s.globals.lastXAxis.min=s.globals.initialConfig.xaxis.min,s.globals.lastXAxis.max=s.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof s.config.chart.events.beforeResetZoom=="function"){var a=s.config.chart.events.beforeResetZoom(t,s);a&&t.updateHelpers.revertDefaultAxisMinMax(a)}typeof s.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:s.config.xaxis.min,max:s.config.xaxis.max}),s.globals.zoomed=!1;var i=t.ctx.series.emptyCollapsedSeries(ce.clone(s.globals.initialSeries));t.updateHelpers._updateSeries(i,s.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),r})(),lme=(function(r){xp(t,K8);var e=pp(t);function t(s){var a;return kt(this,t),(a=e.call(this,s)).ctx=s,a.w=s.w,a.dragged=!1,a.graphics=new Xe(a.ctx),a.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],a.clientX=0,a.clientY=0,a.startX=0,a.endX=0,a.dragX=0,a.startY=0,a.endY=0,a.dragY=0,a.moveDirection="none",a.debounceTimer=null,a.debounceDelay=100,a.wheelDelay=400,a}return St(t,[{key:"init",value:function(s){var a=this,i=s.xyRatios,o=this.w,l=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=o.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new Rr(0,0,o.globals.gridWidth,o.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),o.globals.dom.Paper.add(this.zoomRect),o.globals.dom.Paper.add(this.selectionRect),o.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):o.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:o.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=o.globals.dom.baseEl.querySelector("".concat(o.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(c){a.hoverArea.addEventListener(c,l.svgMouseEvents.bind(l,i),{capture:!1,passive:!0})})),o.config.chart.zoom.enabled&&o.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",l.mouseWheelEvent.bind(l),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(s,a){var i=this.w,o=this.ctx.toolbar,l=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type,c=i.config.chart.toolbar.autoSelected;if(a.shiftKey?(this.shiftWasPressed=!0,o.enableZoomPanFromToolbar(c==="pan"?"zoom":"pan")):this.shiftWasPressed&&(o.enableZoomPanFromToolbar(c),this.shiftWasPressed=!1),a.target){var d,u=a.target.classList;if(a.target.parentNode&&a.target.parentNode!==null&&(d=a.target.parentNode.classList),!(u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||d&&d.contains("apexcharts-toolbar"))){if(this.clientX=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientX:a.type==="touchend"?a.changedTouches[0].clientX:a.clientX,this.clientY=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientY:a.type==="touchend"?a.changedTouches[0].clientY:a.clientY,a.type==="mousedown"&&a.which===1||a.type==="touchstart"){var f=this.gridRect.getBoundingClientRect();this.startX=this.clientX-f.left-i.globals.barPadForNumericAxis,this.startY=this.clientY-f.top,this.dragged=!1,this.w.globals.mousedown=!0}(a.type==="mousemove"&&a.which===1||a.type==="touchmove")&&(this.dragged=!0,i.globals.panEnabled?(i.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:l,xyRatios:s})):(this.w.globals.mousedown&&i.globals.zoomEnabled||this.w.globals.mousedown&&i.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:l}))),a.type!=="mouseup"&&a.type!=="touchend"&&a.type!=="mouseleave"||this.handleMouseUp({zoomtype:l}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(s){var a,i=s.zoomtype,o=s.isResized,l=this.w,c=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();c&&(this.w.globals.mousedown||o)&&(this.endX=this.clientX-c.left-l.globals.barPadForNumericAxis,this.endY=this.clientY-c.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(l.globals.zoomEnabled||l.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:i})),l.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(s){var a=this,i=this.w;s.preventDefault();var o=Date.now();o-i.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(s),i.globals.lastWheelExecution=o),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){o-i.globals.lastWheelExecution>a.wheelDelay&&(a.executeMouseWheelZoom(s),i.globals.lastWheelExecution=o)}),this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(s){var a,i=this.w;this.minX=i.globals.isRangeBar?i.globals.minY:i.globals.minX,this.maxX=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;var o=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();if(o){var l,c,d,u=(s.clientX-o.left)/o.width,f=this.minX,m=this.maxX,p=m-f;if(s.deltaY<0){var y=f+u*p;c=y-(l=.5*p)/2,d=y+l/2}else c=f-(l=1.5*p)/2,d=m+l/2;if(!i.globals.isRangeBar){c=Math.max(c,i.globals.initialMinX),d=Math.min(d,i.globals.initialMaxX);var x=.01*(i.globals.initialMaxX-i.globals.initialMinX);if(d-c<x){var v=(c+d)/2;c=v-x/2,d=v+x/2}}var N=this._getNewMinXMaxX(c,d);isNaN(N.minX)||isNaN(N.maxX)||this.zoomUpdateOptions(N.minX,N.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var s=this,a=this.w;if(this.selectionRect){var i=this.selectionRect.node.getBoundingClientRect();i.width>0&&i.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(o,l,c,d,u){return u==="l"||u==="r"?o.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):o.circle(0)},updateHandle:function(o,l){return o.center(l[0],l[1])}}).resize().on("resize",(function(){var o=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type;s.handleMouseUp({zoomtype:o,isResized:!0})})))}}},{key:"preselectedSelection",value:function(){var s=this.w,a=this.xyRatios;if(!s.globals.zoomEnabled){if(s.globals.selection!==void 0&&s.globals.selection!==null)this.drawSelectionRect(ht(ht({},s.globals.selection),{},{translateX:s.globals.translateX,translateY:s.globals.translateY}));else if(s.config.chart.selection.xaxis.min!==void 0&&s.config.chart.selection.xaxis.max!==void 0){var i=(s.config.chart.selection.xaxis.min-s.globals.minX)/a.xRatio,o=s.globals.gridWidth-(s.globals.maxX-s.config.chart.selection.xaxis.max)/a.xRatio-i;s.globals.isRangeBar&&(i=(s.config.chart.selection.xaxis.min-s.globals.yAxisScale[0].niceMin)/a.invertedYRatio,o=(s.config.chart.selection.xaxis.max-s.config.chart.selection.xaxis.min)/a.invertedYRatio);var l={x:i,y:0,width:o,height:s.globals.gridHeight,translateX:s.globals.translateX,translateY:s.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(l),this.makeSelectionRectDraggable(),typeof s.config.chart.events.selection=="function"&&s.config.chart.events.selection(this.ctx,{xaxis:{min:s.config.chart.selection.xaxis.min,max:s.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.translateX,d=c===void 0?0:c,u=s.translateY,f=u===void 0?0:u,m=this.w,p=this.zoomRect,y=this.selectionRect;if(this.dragged||m.globals.selection!==null){var x={transform:"translate("+d+", "+f+")"};m.globals.zoomEnabled&&this.dragged&&(o<0&&(o=1),p.attr({x:a,y:i,width:o,height:l,fill:m.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":m.config.chart.zoom.zoomedArea.fill.opacity,stroke:m.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":m.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":m.config.chart.zoom.zoomedArea.stroke.opacity}),Xe.setAttrs(p.node,x)),m.globals.selectionEnabled&&(y.attr({x:a,y:i,width:o>0?o:0,height:l>0?l:0,fill:m.config.chart.selection.fill.color,"fill-opacity":m.config.chart.selection.fill.opacity,stroke:m.config.chart.selection.stroke.color,"stroke-width":m.config.chart.selection.stroke.width,"stroke-dasharray":m.config.chart.selection.stroke.dashArray,"stroke-opacity":m.config.chart.selection.stroke.opacity}),Xe.setAttrs(y.node,x))}}},{key:"hideSelectionRect",value:function(s){s&&s.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(s){var a=s.context,i=s.zoomtype,o=this.w,l=a,c=this.gridRect.getBoundingClientRect(),d=l.startX-1,u=l.startY,f=!1,m=!1,p=l.clientX-c.left-o.globals.barPadForNumericAxis,y=l.clientY-c.top,x=p-d,v=y-u,N={translateX:o.globals.translateX,translateY:o.globals.translateY};return Math.abs(x+d)>o.globals.gridWidth?x=o.globals.gridWidth-d:p<0&&(x=d),d>p&&(f=!0,x=Math.abs(x)),u>y&&(m=!0,v=Math.abs(v)),N=ht(ht({},N=i==="x"?{x:f?d-x:d,y:0,width:x,height:o.globals.gridHeight}:i==="y"?{x:0,y:m?u-v:u,width:o.globals.gridWidth,height:v}:{x:f?d-x:d,y:m?u-v:u,width:x,height:v}),{},{translateX:o.globals.translateX,translateY:o.globals.translateY}),l.drawSelectionRect(N),l.selectionDragging("resizing"),N}},{key:"selectionDragging",value:function(s,a){var i=this,o=this.w;if(a){a.preventDefault();var l=a.detail,c=l.handler,d=l.box,u=d.x,f=d.y;u<this.constraints.x&&(u=this.constraints.x),f<this.constraints.y&&(f=this.constraints.y),d.x2>this.constraints.x2&&(u=this.constraints.x2-d.w),d.y2>this.constraints.y2&&(f=this.constraints.y2-d.h),c.move(u,f);var m=this.xyRatios,p=this.selectionRect,y=0;s==="resizing"&&(y=30);var x=function(N){return parseFloat(p.node.getAttribute(N))},v={x:x("x"),y:x("y"),width:x("width"),height:x("height")};o.globals.selection=v,typeof o.config.chart.events.selection=="function"&&o.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var N,k,S,R,A=i.gridRect.getBoundingClientRect(),D=p.node.getBoundingClientRect();o.globals.isRangeBar?(N=o.globals.yAxisScale[0].niceMin+(D.left-A.left)*m.invertedYRatio,k=o.globals.yAxisScale[0].niceMin+(D.right-A.left)*m.invertedYRatio,S=0,R=1):(N=o.globals.xAxisScale.niceMin+(D.left-A.left)*m.xRatio,k=o.globals.xAxisScale.niceMin+(D.right-A.left)*m.xRatio,S=o.globals.yAxisScale[0].niceMin+(A.bottom-D.bottom)*m.yRatio[0],R=o.globals.yAxisScale[0].niceMax-(D.top-A.top)*m.yRatio[0]);var P={xaxis:{min:N,max:k},yaxis:{min:S,max:R}};o.config.chart.events.selection(i.ctx,P),o.config.chart.brush.enabled&&o.config.chart.events.brushScrolled!==void 0&&o.config.chart.events.brushScrolled(i.ctx,P)}),y))}}},{key:"selectionDrawn",value:function(s){var a,i,o=s.context,l=s.zoomtype,c=this.w,d=o,u=this.xyRatios,f=this.ctx.toolbar,m=c.globals.zoomEnabled?d.zoomRect.node.getBoundingClientRect():d.selectionRect.node.getBoundingClientRect(),p=d.gridRect.getBoundingClientRect(),y=m.left-p.left-c.globals.barPadForNumericAxis,x=m.right-p.left-c.globals.barPadForNumericAxis,v=m.top-p.top,N=m.bottom-p.top;c.globals.isRangeBar?(a=c.globals.yAxisScale[0].niceMin+y*u.invertedYRatio,i=c.globals.yAxisScale[0].niceMin+x*u.invertedYRatio):(a=c.globals.xAxisScale.niceMin+y*u.xRatio,i=c.globals.xAxisScale.niceMin+x*u.xRatio);var k=[],S=[];if(c.config.yaxis.forEach((function(M,L){var z=c.globals.seriesYAxisMap[L][0],F=c.globals.yAxisScale[L].niceMax-u.yRatio[z]*v,V=c.globals.yAxisScale[L].niceMax-u.yRatio[z]*N;k.push(F),S.push(V)})),d.dragged&&(d.dragX>10||d.dragY>10)&&a!==i){if(c.globals.zoomEnabled){var R=ce.clone(c.globals.initialConfig.yaxis),A=ce.clone(c.globals.initialConfig.xaxis);if(c.globals.zoomed=!0,c.config.xaxis.convertedCatToNumeric&&(a=Math.floor(a),i=Math.floor(i),a<1&&(a=1,i=c.globals.dataPoints),i-a<2&&(i=a+1)),l!=="xy"&&l!=="x"||(A={min:a,max:i}),l!=="xy"&&l!=="y"||R.forEach((function(M,L){R[L].min=S[L],R[L].max=k[L]})),f){var D=f.getBeforeZoomRange(A,R);D&&(A=D.xaxis?D.xaxis:A,R=D.yaxis?D.yaxis:R)}var P={xaxis:A};c.config.chart.group||(P.yaxis=R),d.ctx.updateHelpers._updateOptions(P,!1,d.w.config.chart.animations.dynamicAnimation.enabled),typeof c.config.chart.events.zoomed=="function"&&f.zoomCallback(A,R)}else if(c.globals.selectionEnabled){var E,I=null;E={min:a,max:i},l!=="xy"&&l!=="y"||(I=ce.clone(c.config.yaxis)).forEach((function(M,L){I[L].min=S[L],I[L].max=k[L]})),c.globals.selection=d.selection,typeof c.config.chart.events.selection=="function"&&c.config.chart.events.selection(d.ctx,{xaxis:E,yaxis:I})}}}},{key:"panDragging",value:function(s){var a=s.context,i=this.w,o=a;if(i.globals.lastClientPosition.x!==void 0){var l=i.globals.lastClientPosition.x-o.clientX,c=i.globals.lastClientPosition.y-o.clientY;Math.abs(l)>Math.abs(c)&&l>0?this.moveDirection="left":Math.abs(l)>Math.abs(c)&&l<0?this.moveDirection="right":Math.abs(c)>Math.abs(l)&&c>0?this.moveDirection="up":Math.abs(c)>Math.abs(l)&&c<0&&(this.moveDirection="down")}i.globals.lastClientPosition={x:o.clientX,y:o.clientY};var d=i.globals.isRangeBar?i.globals.minY:i.globals.minX,u=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;o.panScrolled(d,u)}},{key:"panScrolled",value:function(s,a){var i=this.w,o=this.xyRatios,l=ce.clone(i.globals.initialConfig.yaxis),c=o.xRatio,d=i.globals.minX,u=i.globals.maxX;i.globals.isRangeBar&&(c=o.invertedYRatio,d=i.globals.minY,u=i.globals.maxY),this.moveDirection==="left"?(s=d+i.globals.gridWidth/15*c,a=u+i.globals.gridWidth/15*c):this.moveDirection==="right"&&(s=d-i.globals.gridWidth/15*c,a=u-i.globals.gridWidth/15*c),i.globals.isRangeBar||(s<i.globals.initialMinX||a>i.globals.initialMaxX)&&(s=d,a=u);var f={xaxis:{min:s,max:a}};i.config.chart.group||(f.yaxis=l),this.updateScrolledChart(f,s,a)}},{key:"updateScrolledChart",value:function(s,a,i){var o=this.w;if(this.ctx.updateHelpers._updateOptions(s,!1,!1),typeof o.config.chart.events.scrolled=="function"){var l={xaxis:{min:a,max:i}};o.config.chart.events.scrolled(this.ctx,l),this.ctx.events.fireEvent("scrolled",l)}}}]),t})(),Z8=(function(){function r(e){kt(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return St(r,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,s=e.elGrid,a=e.clientX,i=e.clientY,o=this.w,l=s.getBoundingClientRect(),c=l.width,d=l.height,u=c/(o.globals.dataPoints-1),f=d/o.globals.dataPoints,m=this.hasBars();!o.globals.comboCharts&&!m||o.config.xaxis.convertedCatToNumeric||(u=c/o.globals.dataPoints);var p=a-l.left-o.globals.barPadForNumericAxis,y=i-l.top;p<0||y<0||p>c||y>d?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):o.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):o.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var x=Math.round(p/u),v=Math.floor(y/f);m&&!o.config.xaxis.convertedCatToNumeric&&(x=Math.ceil(p/u),x-=1);var N=null,k=null,S=o.globals.seriesXvalues.map((function(E){return E.filter((function(I){return ce.isNumber(I)}))})),R=o.globals.seriesYvalues.map((function(E){return E.filter((function(I){return ce.isNumber(I)}))}));if(o.globals.isXNumeric){var A=this.ttCtx.getElGrid().getBoundingClientRect(),D=p*(A.width/c),P=y*(A.height/d);N=(k=this.closestInMultiArray(D,P,S,R)).index,x=k.j,N!==null&&o.globals.hasNullValues&&(S=o.globals.seriesXvalues[N],x=(k=this.closestInArray(D,S)).j)}return o.globals.capturedSeriesIndex=N===null?-1:N,(!x||x<1)&&(x=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=v:o.globals.capturedDataPointIndex=x,{capturedSeries:N,j:o.globals.isBarHorizontal?v:x,hoverX:p,hoverY:y}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,s=0,a=e.map((function(o,l){return o.length>0?l:-1})),i=0;i<a.length;i++)if(a[i]!==-1&&t.globals.collapsedSeriesIndices.indexOf(i)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(i)===-1){s=a[i];break}return s}},{key:"closestInMultiArray",value:function(e,t,s,a){for(var i,o=this.w,l=1/0,c=null,d=null,u=0;u<s.length;u++)if(i=u,o.globals.collapsedSeriesIndices.indexOf(i)===-1&&o.globals.ancillaryCollapsedSeriesIndices.indexOf(i)===-1)for(var f=s[u],m=a[u],p=Math.min(f.length,m.length),y=0;y<p;y++){var x=e-f[y],v=Math.sqrt(x*x);if(!o.globals.allSeriesHasEqualX){var N=t-m[y];v=Math.sqrt(x*x+N*N)}v<l&&(l=v,c=u,d=y)}return{index:c,j:d}}},{key:"closestInArray",value:function(e,t){for(var s=t[0],a=null,i=Math.abs(e-s),o=0;o<t.length;o++){var l=Math.abs(e-t[o]);l<i&&(i=l,a=o)}return{j:a}}},{key:"isXoverlap",value:function(e){var t=[],s=this.w.globals.seriesX.filter((function(i){return i[0]!==void 0}));if(s.length>0)for(var a=0;a<s.length-1;a++)s[a][e]!==void 0&&s[a+1][e]!==void 0&&s[a][e]!==s[a+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,s=0;s<t.length-1;s++)if(t[s].data.length!==t[s+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return na(e).reduce((function(t,s){return t+s.getBBox().height}),0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");s=na(s),t&&(s=s.filter((function(i){var o=Number(i.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(o)===-1}))),s.sort((function(i,o){var l=Number(i.getAttribute("data:realIndex")),c=Number(o.getAttribute("data:realIndex"));return c<l?1:c>l?-1:0}));var a=[];return s.forEach((function(i){a.push(i.querySelector(".apexcharts-marker"))})),a}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var s=Number(e.getAttribute("cx")),a=Number(e.getAttribute("cy")),i=e.getAttribute("shape");return new Xe(this.ctx).getMarkerPath(s,a,i,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,s=t.config.markers.hover.size;return s===void 0&&(s=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),s}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,s=this.ttCtx;s.allTooltipSeriesGroups.length===0&&(s.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=s.allTooltipSeriesGroups,i=0;i<a.length;i++)e==="enable"?(a[i].classList.add("apexcharts-active"),a[i].style.display=t.config.tooltip.items.display):(a[i].classList.remove("apexcharts-active"),a[i].style.display="none")}}]),r})(),cme=(function(){function r(e){kt(this,r),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new Z8(e)}return St(r,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,s=t===void 0||t,a=e.ttItems,i=e.i,o=i===void 0?0:i,l=e.j,c=l===void 0?null:l,d=e.y1,u=e.y2,f=e.e,m=this.w;m.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:o,j:c,y1:d,y2:u,w:m}):this.toggleActiveInactiveSeries(s,o);var p=this.getValuesToPrint({i:o,j:c});this.printLabels({i:o,j:c,values:p,ttItems:a,shared:s,e:f});var y=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=y.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=y.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,s=this,a=e.i,i=e.j,o=e.values,l=e.ttItems,c=e.shared,d=e.e,u=this.w,f=[],m=function(A){return u.globals.seriesGoals[A]&&u.globals.seriesGoals[A][i]&&Array.isArray(u.globals.seriesGoals[A][i])},p=o.xVal,y=o.zVal,x=o.xAxisTTVal,v="",N=u.globals.colors[a];i!==null&&u.config.plotOptions.bar.distributed&&(N=u.globals.colors[i]);for(var k=function(A,D){var P=s.getFormatters(a);v=s.getSeriesName({fn:P.yLbTitleFormatter,index:a,seriesIndex:a,j:i}),u.config.chart.type==="treemap"&&(v=P.yLbTitleFormatter(String(u.config.series[a].data[i].x),{series:u.globals.series,seriesIndex:a,dataPointIndex:i,w:u}));var E=u.config.tooltip.inverseOrder?D:A;if(u.globals.axisCharts){var I=function(z){var F,V,$,Y;return u.globals.isRangeData?P.yLbFormatter((F=u.globals.seriesRangeStart)===null||F===void 0||(V=F[z])===null||V===void 0?void 0:V[i],{series:u.globals.seriesRangeStart,seriesIndex:z,dataPointIndex:i,w:u})+" - "+P.yLbFormatter(($=u.globals.seriesRangeEnd)===null||$===void 0||(Y=$[z])===null||Y===void 0?void 0:Y[i],{series:u.globals.seriesRangeEnd,seriesIndex:z,dataPointIndex:i,w:u}):P.yLbFormatter(u.globals.series[z][i],{series:u.globals.series,seriesIndex:z,dataPointIndex:i,w:u})};if(c)P=s.getFormatters(E),v=s.getSeriesName({fn:P.yLbTitleFormatter,index:E,seriesIndex:a,j:i}),N=u.globals.colors[E],t=I(E),m(E)&&(f=u.globals.seriesGoals[E][i].map((function(z){return{attrs:z,val:P.yLbFormatter(z.value,{seriesIndex:E,dataPointIndex:i,w:u})}})));else{var M,L=d==null||(M=d.target)===null||M===void 0?void 0:M.getAttribute("fill");L&&(L.indexOf("url")!==-1?L.indexOf("Pattern")!==-1&&(N=u.globals.dom.baseEl.querySelector(L.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):N=L),t=I(a),m(a)&&Array.isArray(u.globals.seriesGoals[a][i])&&(f=u.globals.seriesGoals[a][i].map((function(z){return{attrs:z,val:P.yLbFormatter(z.value,{seriesIndex:a,dataPointIndex:i,w:u})}})))}}i===null&&(t=P.yLbFormatter(u.globals.series[a],ht(ht({},u),{},{seriesIndex:a,dataPointIndex:a}))),s.DOMHandling({i:a,t:E,j:i,ttItems:l,values:{val:t,goalVals:f,xVal:p,xAxisTTVal:x,zVal:y},seriesName:v,shared:c,pColor:N})},S=0,R=u.globals.series.length-1;S<u.globals.series.length;S++,R--)k(S,R)}},{key:"getFormatters",value:function(e){var t,s=this.w,a=s.globals.yLabelFormatters[e];return s.globals.ttVal!==void 0?Array.isArray(s.globals.ttVal)?(a=s.globals.ttVal[e]&&s.globals.ttVal[e].formatter,t=s.globals.ttVal[e]&&s.globals.ttVal[e].title&&s.globals.ttVal[e].title.formatter):(a=s.globals.ttVal.formatter,typeof s.globals.ttVal.title.formatter=="function"&&(t=s.globals.ttVal.title.formatter)):t=s.config.tooltip.y.title.formatter,typeof a!="function"&&(a=s.globals.yLabelFormatters[0]?s.globals.yLabelFormatters[0]:function(i){return i}),typeof t!="function"&&(t=function(i){return i?i+": ":""}),{yLbFormatter:a,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,s=e.index,a=e.seriesIndex,i=e.j,o=this.w;return t(String(o.globals.seriesNames[s]),{series:o.globals.series,seriesIndex:a,dataPointIndex:i,w:o})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,s=e.j,a=e.ttItems,i=e.values,o=e.seriesName,l=e.shared,c=e.pColor,d=this.w,u=this.ttCtx,f=i.val,m=i.goalVals,p=i.xVal,y=i.xAxisTTVal,x=i.zVal,v=null;v=a[t].children,d.config.tooltip.fillSeriesColor&&(a[t].style.backgroundColor=c,v[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=p),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=y!==""?y:p);var N=a[t].querySelector(".apexcharts-tooltip-text-y-label");N&&(N.innerHTML=o||"");var k=a[t].querySelector(".apexcharts-tooltip-text-y-value");k&&(k.innerHTML=f!==void 0?f:""),v[0]&&v[0].classList.contains("apexcharts-tooltip-marker")&&(d.config.tooltip.marker.fillColors&&Array.isArray(d.config.tooltip.marker.fillColors)&&(c=d.config.tooltip.marker.fillColors[t]),d.config.tooltip.fillSeriesColor?v[0].style.backgroundColor=c:v[0].style.color=c),d.config.tooltip.marker.show||(v[0].style.display="none");var S=a[t].querySelector(".apexcharts-tooltip-text-goals-label"),R=a[t].querySelector(".apexcharts-tooltip-text-goals-value");if(m.length&&d.globals.seriesGoals[t]){var A=function(){var E="<div>",I="<div>";m.forEach((function(M,L){E+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(M.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(M.attrs.name,"</div>"),I+="<div>".concat(M.val,"</div>")})),S.innerHTML=E+"</div>",R.innerHTML=I+"</div>"};l?d.globals.seriesGoals[t][s]&&Array.isArray(d.globals.seriesGoals[t][s])?A():(S.innerHTML="",R.innerHTML=""):A()}else S.innerHTML="",R.innerHTML="";if(x!==null&&(a[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=d.config.tooltip.z.title,a[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=x!==void 0?x:""),l&&v[0]){if(d.config.tooltip.hideEmptySeries){var D=a[t].querySelector(".apexcharts-tooltip-marker"),P=a[t].querySelector(".apexcharts-tooltip-text");parseFloat(f)==0?(D.style.display="none",P.style.display="none"):(D.style.display="block",P.style.display="block")}f==null||d.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||d.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1?v[0].parentNode.style.display="none":v[0].parentNode.style.display=d.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1&&(v[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var s=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var a=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));a&&(a.classList.add("apexcharts-active"),a.style.display=s.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,s=e.j,a=this.w,i=this.ctx.series.filteredSeriesX(),o="",l="",c=null,d=null,u={series:a.globals.series,seriesIndex:t,dataPointIndex:s,w:a},f=a.globals.ttZFormatter;s===null?d=a.globals.series[t]:a.globals.isXNumeric&&a.config.chart.type!=="treemap"?(o=i[t][s],i[t].length===0&&(o=i[this.tooltipUtil.getFirstActiveXArray(i)][s])):o=new B_(this.ctx).isFormatXY()?a.config.series[t].data[s]!==void 0?a.config.series[t].data[s].x:"":a.globals.labels[s]!==void 0?a.globals.labels[s]:"";var m=o;return a.globals.isXNumeric&&a.config.xaxis.type==="datetime"?o=new wp(this.ctx).xLabelFormat(a.globals.ttKeyFormatter,m,m,{i:void 0,dateFormatter:new Na(this.ctx).formatDate,w:this.w}):o=a.globals.isBarHorizontal?a.globals.yLabelFormatters[0](m,u):a.globals.xLabelFormatter(m,u),a.config.tooltip.x.formatter!==void 0&&(o=a.globals.ttKeyFormatter(m,u)),a.globals.seriesZ.length>0&&a.globals.seriesZ[t].length>0&&(c=f(a.globals.seriesZ[t][s],a)),l=typeof a.config.xaxis.tooltip.formatter=="function"?a.globals.xaxisTooltipFormatter(m,u):o,{val:Array.isArray(d)?d.join(" "):d,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(l)?l.join(" "):l,zVal:c}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,s=e.j,a=e.y1,i=e.y2,o=e.w,l=this.ttCtx.getElTooltip(),c=o.config.tooltip.custom;Array.isArray(c)&&c[t]&&(c=c[t]);var d=c({ctx:this.ctx,series:o.globals.series,seriesIndex:t,dataPointIndex:s,y1:a,y2:i,w:o});typeof d=="string"||typeof d=="number"?l.innerHTML=d:(d instanceof Element||typeof d.nodeName=="string")&&(l.innerHTML="",l.appendChild(d.cloneNode(!0)))}}]),r})(),Q8=(function(){function r(e){kt(this,r),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return St(r,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.ttCtx,a=this.w,i=s.getElXCrosshairs(),o=e-s.xcrosshairsWidth/2,l=a.globals.labels.slice().length;if(t!==null&&(o=a.globals.gridWidth/l*t),i===null||a.globals.isBarHorizontal||(i.setAttribute("x",o),i.setAttribute("x1",o),i.setAttribute("x2",o),i.setAttribute("y2",a.globals.gridHeight),i.classList.add("apexcharts-active")),o<0&&(o=0),o>a.globals.gridWidth&&(o=a.globals.gridWidth),s.isXAxisTooltipEnabled){var c=o;a.config.xaxis.crosshairs.width!=="tickWidth"&&a.config.xaxis.crosshairs.width!=="barWidth"||(c=o+s.xcrosshairsWidth/2),this.moveXAxisTooltip(c)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&Xe.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&Xe.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;if(s.xaxisTooltip!==null&&s.xcrosshairsWidth!==0){s.xaxisTooltip.classList.add("apexcharts-active");var a=s.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=s.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var i;i=new Xe(this.ctx).getTextRects(s.xaxisTooltipText.innerHTML),s.xaxisTooltipText.style.minWidth=i.width+"px",s.xaxisTooltip.style.left=e+"px",s.xaxisTooltip.style.top=a+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;s.yaxisTTEls===null&&(s.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var a=parseInt(s.ycrosshairsHidden.getAttribute("y1"),10),i=t.globals.translateY+a,o=s.yaxisTTEls[e].getBoundingClientRect(),l=o.height,c=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(c-=o.width),i-=l/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1&&i>0&&i<t.globals.gridHeight?(s.yaxisTTEls[e].classList.add("apexcharts-active"),s.yaxisTTEls[e].style.top=i+"px",s.yaxisTTEls[e].style.left=c+t.config.yaxis[e].tooltip.offsetX+"px"):s.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,i=this.ttCtx,o=i.getElTooltip(),l=i.tooltipRect,c=s!==null?parseFloat(s):1,d=parseFloat(e)+c+5,u=parseFloat(t)+c/2;if(d>a.globals.gridWidth/2&&(d=d-l.ttWidth-c-10),d>a.globals.gridWidth-l.ttWidth-10&&(d=a.globals.gridWidth-l.ttWidth),d<-20&&(d=-20),a.config.tooltip.followCursor){var f=i.getElGrid().getBoundingClientRect();(d=i.e.clientX-f.left)>a.globals.gridWidth/2&&(d-=i.tooltipRect.ttWidth),(u=i.e.clientY+a.globals.translateY-f.top)>a.globals.gridHeight/2&&(u-=i.tooltipRect.ttHeight)}else a.globals.isBarHorizontal||l.ttHeight/2+u>a.globals.gridHeight&&(u=a.globals.gridHeight-l.ttHeight+a.globals.translateY);isNaN(d)||(d+=a.globals.translateX,o.style.left=d+"px",o.style.top=u+"px")}},{key:"moveMarkers",value:function(e,t){var s=this.w,a=this.ttCtx;if(s.globals.markers.size[e]>0)for(var i=s.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),o=0;o<i.length;o++)parseInt(i[o].getAttribute("rel"),10)===t&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(t,i[o]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var s,a,i,o,l=this.w,c=this.ttCtx,d=new Xe(this.ctx),u=l.globals.pointsArray,f=c.tooltipUtil.getHoverMarkerSize(t),m=l.config.series[t].type;if(!m||m!=="column"&&m!=="candlestick"&&m!=="boxPlot"){i=(s=u[t][e])===null||s===void 0?void 0:s[0],o=((a=u[t][e])===null||a===void 0?void 0:a[1])||0;var p=l.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(p&&o<l.globals.gridHeight&&o>0){var y=p.getAttribute("shape"),x=d.getMarkerPath(i,o,y,1.5*f);p.setAttribute("d",x)}this.moveXCrosshairs(i),c.fixedTooltip||this.moveTooltip(i,o,f)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,s=this.ttCtx,a=s.w,i=0,o=0,l=a.globals.pointsArray,c=new Xn(this.ctx),d=new Xe(this.ctx);t=c.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=s.tooltipUtil.getHoverMarkerSize(t);if(l[t]&&(i=l[t][e][0],o=l[t][e][1]),!isNaN(i)){var f=s.tooltipUtil.getAllMarkers();if(f.length)for(var m=0;m<a.globals.series.length;m++){var p=l[m];if(a.globals.comboCharts&&p===void 0&&f.splice(m,0,null),p&&p.length){var y=l[m][e][1],x=void 0;f[m].setAttribute("cx",i);var v=f[m].getAttribute("shape");if(a.config.chart.type==="rangeArea"&&!a.globals.comboCharts){var N=e+a.globals.series[m].length;x=l[m][N][1],y-=Math.abs(y-x)/2}if(y!==null&&!isNaN(y)&&y<a.globals.gridHeight+u&&y+u>0){var k=d.getMarkerPath(i,y,v,u);f[m].setAttribute("d",k)}else f[m].setAttribute("d","")}}this.moveXCrosshairs(i),s.fixedTooltip||this.moveTooltip(i,o||a.globals.gridHeight,u)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var s=this.w,a=this.ttCtx,i=s.globals.columnSeries?s.globals.columnSeries.length:s.globals.series.length;s.config.chart.stacked&&(i=s.globals.barGroups.length);var o=i>=2&&i%2==0?Math.floor(i/2):Math.floor(i/2)+1;s.globals.isBarHorizontal&&(o=new Xn(this.ctx).getActiveConfigSeriesIndex("desc")+1);var l=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"']"));l||typeof t!="number"||(l=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var c=l?parseFloat(l.getAttribute("cx")):0,d=l?parseFloat(l.getAttribute("cy")):0,u=l?parseFloat(l.getAttribute("barWidth")):0,f=a.getElGrid().getBoundingClientRect(),m=l&&(l.classList.contains("apexcharts-candlestick-area")||l.classList.contains("apexcharts-boxPlot-area"));s.globals.isXNumeric?(l&&!m&&(c-=i%2!=0?u/2:0),l&&m&&(c-=u/2)):s.globals.isBarHorizontal||(c=a.xAxisTicksPositions[e-1]+a.dataPointsDividedWidth/2,isNaN(c)&&(c=a.xAxisTicksPositions[e]-a.dataPointsDividedWidth/2)),s.globals.isBarHorizontal?d-=a.tooltipRect.ttHeight:s.config.tooltip.followCursor?d=a.e.clientY-f.top-a.tooltipRect.ttHeight/2:d+a.tooltipRect.ttHeight+15>s.globals.gridHeight&&(d=s.globals.gridHeight),s.globals.isBarHorizontal||this.moveXCrosshairs(c),a.fixedTooltip||this.moveTooltip(c,d||s.globals.gridHeight)}}]),r})(),dme=(function(){function r(e){kt(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new Q8(e)}return St(r,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new Xe(this.ctx),s=new Xh(this.ctx),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");a=na(a),e.config.chart.stacked&&a.sort((function(f,m){return parseFloat(f.getAttribute("data:realIndex"))-parseFloat(m.getAttribute("data:realIndex"))}));for(var i=0;i<a.length;i++){var o=a[i].querySelector(".apexcharts-series-markers-wrap");if(o!==null){var l=void 0,c="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(c+=" no-pointer-events");var d=s.getMarkerConfig({cssClass:c,seriesIndex:Number(o.getAttribute("data:realIndex"))});(l=t.drawMarker(0,0,d)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(l.node),o.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=this.w;i.config.chart.type!=="bubble"&&this.newPointSize(e,t);var o=t.getAttribute("cx"),l=t.getAttribute("cy");if(s!==null&&a!==null&&(o=s,l=a),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if(i.config.chart.type==="radar"){var c=this.ttCtx.getElGrid().getBoundingClientRect();o=this.ttCtx.e.clientX-c.left}this.tooltipPosition.moveTooltip(o,l,i.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,s=this,a=this.ttCtx,i=e,o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=t.config.markers.hover.size,c=0;c<o.length;c++){var d=o[c].getAttribute("rel"),u=o[c].getAttribute("index");if(l===void 0&&(l=t.globals.markers.size[u]+t.config.markers.hover.sizeOffset),i===parseInt(d,10)){s.newPointSize(i,o[c]);var f=o[c].getAttribute("cx"),m=o[c].getAttribute("cy");s.tooltipPosition.moveXCrosshairs(f),a.fixedTooltip||s.tooltipPosition.moveTooltip(f,m,l)}else s.oldPointSize(o[c])}}},{key:"newPointSize",value:function(e,t){var s=this.w,a=s.config.markers.hover.size,i=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(i.getAttribute("default-marker-size")!=="0"){var o=parseInt(i.getAttribute("index"),10);a===void 0&&(a=s.globals.markers.size[o]+s.config.markers.hover.sizeOffset),a<0&&(a=0);var l=this.ttCtx.tooltipUtil.getPathFromPoint(t,a);t.setAttribute("d",l)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),s=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",s)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var s=parseFloat(e[t].getAttribute("default-marker-size"));if(ce.isNumber(s)&&s>0){var a=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],s);e[t].setAttribute("d",a)}else e[t].setAttribute("d","M0,0")}}}]),r})(),ume=(function(){function r(e){kt(this,r),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return St(r,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,s=e.opt,a=e.x,i=e.y,o=e.type,l=this.ttCtx,c=this.w;if(t.target.classList.contains("apexcharts-".concat(o,"-rect"))){var d=this.getAttr(t,"i"),u=this.getAttr(t,"j"),f=this.getAttr(t,"cx"),m=this.getAttr(t,"cy"),p=this.getAttr(t,"width"),y=this.getAttr(t,"height");if(l.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:d,j:u,shared:!1,e:t}),c.globals.capturedSeriesIndex=d,c.globals.capturedDataPointIndex=u,a=f+l.tooltipRect.ttWidth/2+p,i=m+l.tooltipRect.ttHeight/2-y/2,l.tooltipPosition.moveXCrosshairs(f+p/2),a>c.globals.gridWidth/2&&(a=f-l.tooltipRect.ttWidth/2+p),l.w.config.tooltip.followCursor){var x=c.globals.dom.elWrap.getBoundingClientRect();a=c.globals.clientX-x.left-(a>c.globals.gridWidth/2?l.tooltipRect.ttWidth:0),i=c.globals.clientY-x.top-(i>c.globals.gridHeight/2?l.tooltipRect.ttHeight:0)}}return{x:a,y:i}}},{key:"handleMarkerTooltip",value:function(e){var t,s,a=e.e,i=e.opt,o=e.x,l=e.y,c=this.w,d=this.ttCtx;if(a.target.classList.contains("apexcharts-marker")){var u=parseInt(i.paths.getAttribute("cx"),10),f=parseInt(i.paths.getAttribute("cy"),10),m=parseFloat(i.paths.getAttribute("val"));if(s=parseInt(i.paths.getAttribute("rel"),10),t=parseInt(i.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,d.intersect){var p=ce.findAncestor(i.paths,"apexcharts-series");p&&(t=parseInt(p.getAttribute("data:realIndex"),10))}if(d.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:t,j:s,shared:!d.showOnIntersect&&c.config.tooltip.shared,e:a}),a.type==="mouseup"&&d.markerClick(a,t,s),c.globals.capturedSeriesIndex=t,c.globals.capturedDataPointIndex=s,o=u,l=f+c.globals.translateY-1.4*d.tooltipRect.ttHeight,d.w.config.tooltip.followCursor){var y=d.getElGrid().getBoundingClientRect();l=d.e.clientY+c.globals.translateY-y.top}m<0&&(l=f),d.marker.enlargeCurrentPoint(s,i.paths,o,l)}return{x:o,y:l}}},{key:"handleBarTooltip",value:function(e){var t,s,a=e.e,i=e.opt,o=this.w,l=this.ttCtx,c=l.getElTooltip(),d=0,u=0,f=0,m=this.getBarTooltipXY({e:a,opt:i});if(m.j!==null||m.barHeight!==0||m.barWidth!==0){t=m.i;var p=m.j;if(o.globals.capturedSeriesIndex=t,o.globals.capturedDataPointIndex=p,o.globals.isBarHorizontal&&l.tooltipUtil.hasBars()||!o.config.tooltip.shared?(u=m.x,f=m.y,s=Array.isArray(o.config.stroke.width)?o.config.stroke.width[t]:o.config.stroke.width,d=u):o.globals.comboCharts||o.config.tooltip.shared||(d/=2),isNaN(f)&&(f=o.globals.svgHeight-l.tooltipRect.ttHeight),parseInt(i.paths.parentNode.getAttribute("data:realIndex"),10),u+l.tooltipRect.ttWidth>o.globals.gridWidth?u-=l.tooltipRect.ttWidth:u<0&&(u=0),l.w.config.tooltip.followCursor){var y=l.getElGrid().getBoundingClientRect();f=l.e.clientY-y.top}l.tooltip===null&&(l.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?l.tooltipPosition.moveXCrosshairs(d+s/2):l.tooltipPosition.moveXCrosshairs(d)),!l.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&l.tooltipUtil.hasBars())&&(f=f+o.globals.translateY-l.tooltipRect.ttHeight/2,c.style.left=u+o.globals.translateX+"px",c.style.top=f+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,s=e.e,a=e.opt,i=this.w,o=null,l=this.ttCtx,c=0,d=0,u=0,f=0,m=0,p=s.target.classList;if(p.contains("apexcharts-bar-area")||p.contains("apexcharts-candlestick-area")||p.contains("apexcharts-boxPlot-area")||p.contains("apexcharts-rangebar-area")){var y=s.target,x=y.getBoundingClientRect(),v=a.elGrid.getBoundingClientRect(),N=x.height;m=x.height;var k=x.width,S=parseInt(y.getAttribute("cx"),10),R=parseInt(y.getAttribute("cy"),10);f=parseFloat(y.getAttribute("barWidth"));var A=s.type==="touchmove"?s.touches[0].clientX:s.clientX;o=parseInt(y.getAttribute("j"),10),c=parseInt(y.parentNode.getAttribute("rel"),10)-1;var D=y.getAttribute("data-range-y1"),P=y.getAttribute("data-range-y2");i.globals.comboCharts&&(c=parseInt(y.parentNode.getAttribute("data:realIndex"),10));var E=function(M){return i.globals.isXNumeric?S-k/2:t.isVerticalGroupedRangeBar?S+k/2:S-l.dataPointsDividedWidth+k/2},I=function(){return R-l.dataPointsDividedHeight+N/2-l.tooltipRect.ttHeight/2};l.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:c,j:o,y1:D?parseInt(D,10):null,y2:P?parseInt(P,10):null,shared:!l.showOnIntersect&&i.config.tooltip.shared,e:s}),i.config.tooltip.followCursor?i.globals.isBarHorizontal?(d=A-v.left+15,u=I()):(d=E(),u=s.clientY-v.top-l.tooltipRect.ttHeight/2-15):i.globals.isBarHorizontal?((d=S)<l.xyRatios.baseLineInvertedY&&(d=S-l.tooltipRect.ttWidth),u=I()):(d=E(),u=R)}return{x:d,y:u,barHeight:m,barWidth:f,i:c,j:o}}}]),r})(),hme=(function(){function r(e){kt(this,r),this.w=e.w,this.ttCtx=e}return St(r,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,s=e.config.xaxis.position==="bottom";t.xaxisOffY=s?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var a=s?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",i=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+e.config.tooltip.theme),i.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,s=0;s<e.config.yaxis.length;s++){var a=e.config.yaxis[s].opposite||e.config.yaxis[s].crosshairs.opposite;t.yaxisOffX=a?e.globals.gridWidth+1:1;var i="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s,a?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),o=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(t.yaxisTooltip),s===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[s]=document.createElement("div"),t.yaxisTooltipText[s].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[s]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,s=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var a=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(a!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var i=parseFloat(a.getAttribute("barWidth"));t.xcrosshairsWidth=i}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var l=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/l}else if(e.config.xaxis.crosshairs.width==="barWidth"){var c=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(c!==null){var d=parseFloat(c.getAttribute("barWidth"));t.xcrosshairsWidth=d}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),s!==null&&t.xcrosshairsWidth>0&&s.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,s){var a=this.ttCtx,i=this.w,o=i.globals,l=o.seriesYAxisMap[e];if(a.yaxisTooltips[e]&&l.length>0){var c=o.yLabelFormatters[e],d=a.getElGrid().getBoundingClientRect(),u=l[0],f=0;s.yRatio.length>1&&(f=u);var m=(t-d.top)*s.yRatio[f],p=o.maxYArr[u]-o.minYArr[u],y=o.minYArr[u]+(p-m);i.config.yaxis[e].reversed&&(y=o.maxYArr[u]-(p-m)),a.tooltipPosition.moveYCrosshairs(t-d.top),a.yaxisTooltipText[e].innerHTML=c(y),a.tooltipPosition.moveYAxisTooltip(e)}}}]),r})(),W3=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new Z8(this),this.tooltipLabels=new cme(this),this.tooltipPosition=new Q8(this),this.marker=new dme(this),this.intersect=new ume(this),this.axesTooltip=new hme(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return St(r,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map((function(o,l){return!!(o.show&&o.tooltip.enabled&&t.globals.axisCharts)})),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var s=document.createElement("div");if(s.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&s.classList.add(t.config.tooltip.cssClass),s.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(s),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var a=new Ig(this.ctx);this.xAxisTicksPositions=a.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,s.appendChild(this.tooltipTitle));var i=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(i=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(i),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,s=this.w,a=[],i=this.getElTooltip(),o=function(c){var d=document.createElement("div");d.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(c)),d.style.order=s.config.tooltip.inverseOrder?e-c:c+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),s.config.tooltip.fillSeriesColor?u.style.backgroundColor=s.globals.colors[c]:u.style.color=s.globals.colors[c];var f=s.config.markers.shape,m=f;Array.isArray(f)&&(m=f[c]),u.setAttribute("shape",m),d.appendChild(u);var p=document.createElement("div");p.classList.add("apexcharts-tooltip-text"),p.style.fontFamily=t.tConfig.style.fontFamily||s.config.chart.fontFamily,p.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach((function(y){var x=document.createElement("div");x.classList.add("apexcharts-tooltip-".concat(y,"-group"));var v=document.createElement("span");v.classList.add("apexcharts-tooltip-text-".concat(y,"-label")),x.appendChild(v);var N=document.createElement("span");N.classList.add("apexcharts-tooltip-text-".concat(y,"-value")),x.appendChild(N),p.appendChild(x)})),d.appendChild(p),i.appendChild(d),a.push(d)},l=0;l<e;l++)o(l);return a}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,s=this.getElTooltip(),a=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),i=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",o=e.globals.dom.Paper.node,l=this.getElGrid();l&&(this.seriesBound=l.getBoundingClientRect());var c,d=[],u=[],f={hoverArea:o,elGrid:l,tooltipEl:s,tooltipY:d,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(i?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),c&&c.length))for(var m=0;m<c.length;m++)d.push(c[m].getAttribute("cy")),u.push(c[m].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],f);else if(a&&!e.globals.comboCharts||i&&this.showOnIntersect)this.addDatapointEventsListeners(f);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(p,f)}if(this.showOnIntersect){var y=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");y.length>0&&this.addPathsEventListeners(y,f),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(f)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),s=t.getBoundingClientRect(),a=s.width+10,i=s.height+10,o=this.tConfig.fixed.offsetX,l=this.tConfig.fixed.offsetY,c=this.tConfig.fixed.position.toLowerCase();return c.indexOf("right")>-1&&(o=o+e.globals.svgWidth-a+10),c.indexOf("bottom")>-1&&(l=l+e.globals.svgHeight-i-10),t.style.left=o+"px",t.style.top=l+"px",{x:o,y:l,ttWidth:a,ttHeight:i}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var s=this,a=function(o){var l={paths:e[o],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(c){return e[o].addEventListener(c,s.onSeriesHover.bind(s,l),{capture:!1,passive:!0})}))},i=0;i<e.length;i++)a(i)}},{key:"onSeriesHover",value:function(e,t){var s=this,a=Date.now()-this.lastHoverTime;a>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){s.seriesHover(e,t)}),20-a))}},{key:"seriesHover",value:function(e,t){var s=this;this.lastHoverTime=Date.now();var a=[],i=this.w;i.config.chart.group&&(a=this.ctx.getGroupedCharts()),i.globals.axisCharts&&(i.globals.minX===-1/0&&i.globals.maxX===1/0||i.globals.dataPoints===0)||(a.length?a.forEach((function(o){var l=s.getElTooltip(o),c={paths:e.paths,tooltipEl:l,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:o.w.globals.tooltip.ttItems};o.w.globals.minX===s.w.globals.minX&&o.w.globals.maxX===s.w.globals.maxX&&o.w.globals.tooltip.seriesHoverByContext({chartCtx:o,ttCtx:o.w.globals.tooltip,opt:c,e:t})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,s=e.ttCtx,a=e.opt,i=e.e,o=t.w,l=this.getElTooltip(t);l&&(s.tooltipRect={x:0,y:0,ttWidth:l.getBoundingClientRect().width,ttHeight:l.getBoundingClientRect().height},s.e=i,s.tooltipUtil.hasBars()&&!o.globals.comboCharts&&!s.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Xn(t).toggleSeriesOnHover(i,i.target.parentNode),o.globals.axisCharts?s.axisChartsTooltips({e:i,opt:a,tooltipRect:s.tooltipRect}):s.nonAxisChartsTooltips({e:i,opt:a,tooltipRect:s.tooltipRect}),s.fixedTooltip&&s.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,s,a=e.e,i=e.opt,o=this.w,l=i.elGrid.getBoundingClientRect(),c=a.type==="touchmove"?a.touches[0].clientX:a.clientX,d=a.type==="touchmove"?a.touches[0].clientY:a.clientY;if(this.clientY=d,this.clientX=c,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,d<l.top||d>l.top+l.height)this.handleMouseOut(i);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var u=parseInt(i.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(i)}var f=this.getElTooltip(),m=this.getElXCrosshairs(),p=[];o.config.chart.group&&(p=this.ctx.getSyncedCharts());var y=o.globals.xyCharts||o.config.chart.type==="bar"&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if(a.type==="mousemove"||a.type==="touchmove"||a.type==="mouseup"){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;m!==null&&m.classList.add("apexcharts-active");var x=this.yaxisTooltips.filter((function(k){return k===!0}));if(this.ycrosshairs!==null&&x.length&&this.ycrosshairs.classList.add("apexcharts-active"),y&&!this.showOnIntersect||p.length>1)this.handleStickyTooltip(a,c,d,i);else if(o.config.chart.type==="heatmap"||o.config.chart.type==="treemap"){var v=this.intersect.handleHeatTreeTooltip({e:a,opt:i,x:t,y:s,type:o.config.chart.type});t=v.x,s=v.y,f.style.left=t+"px",f.style.top=s+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:a,opt:i}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:a,opt:i,x:t,y:s});if(this.yaxisTooltips.length)for(var N=0;N<o.config.yaxis.length;N++)this.axesTooltip.drawYaxisTooltipText(N,d,this.xyRatios);o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),i.tooltipEl.classList.add("apexcharts-active")}else a.type!=="mouseout"&&a.type!=="touchend"||this.handleMouseOut(i)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,s=e.opt,a=e.tooltipRect,i=this.w,o=s.paths.getAttribute("rel"),l=this.getElTooltip(),c=i.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){i.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),l.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:parseInt(o,10)-1,shared:!1});var d=i.globals.clientX-c.left-a.ttWidth/2,u=i.globals.clientY-c.top-a.ttHeight-10;if(l.style.left=d+"px",l.style.top=u+"px",i.config.legend.tooltipHoverFormatter){var f=o-1,m=(0,i.config.legend.tooltipHoverFormatter)(this.legendLabels[f].getAttribute("data:default-text"),{seriesIndex:f,dataPointIndex:f,w:i});this.legendLabels[f].innerHTML=m}}else t.type!=="mouseout"&&t.type!=="touchend"||(l.classList.remove("apexcharts-active"),i.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),i.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(p){var y=p.getAttribute("data:default-text");p.innerHTML=decodeURIComponent(y)})))}},{key:"handleStickyTooltip",value:function(e,t,s,a){var i=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:t,clientY:s}),l=o.j,c=o.capturedSeries;i.globals.collapsedSeriesIndices.includes(c)&&(c=null);var d=a.elGrid.getBoundingClientRect();if(o.hoverX<0||o.hoverX>d.width)this.handleMouseOut(a);else if(c!==null)this.handleStickyCapturedSeries(e,c,a,l);else if(this.tooltipUtil.isXoverlap(l)||i.globals.isBarHorizontal){var u=i.globals.series.findIndex((function(f,m){return!i.globals.collapsedSeriesIndices.includes(m)}));this.create(e,this,u,l,a.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,s,a){var i=this.w;if(!this.tConfig.shared&&i.globals.series[t][a]===null)return void this.handleMouseOut(s);if(i.globals.series[t][a]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,a,s.ttItems):this.create(e,this,t,a,s.ttItems,!1);else if(this.tooltipUtil.isXoverlap(a)){var o=i.globals.series.findIndex((function(l,c){return!i.globals.collapsedSeriesIndices.includes(c)}));this.create(e,this,o,a,s.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new Xe(this.ctx),s=e.globals.dom.Paper.find(".apexcharts-bar-area"),a=0;a<s.length;a++)t.pathMouseLeave(s[a])}},{key:"handleMouseOut",value:function(e){var t=this.w,s=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),s!==null&&s.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(i){var o=i.getAttribute("data:default-text");i.innerHTML=decodeURIComponent(o)}))}},{key:"markerClick",value:function(e,t,s){var a=this.w;typeof a.config.chart.events.markerClick=="function"&&a.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:a}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:a}])}},{key:"create",value:function(e,t,s,a,i){var o,l,c,d,u,f,m,p,y,x,v,N,k,S,R,A,D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,P=this.w,E=t;e.type==="mouseup"&&this.markerClick(e,s,a),D===null&&(D=this.tConfig.shared);var I=this.tooltipUtil.hasMarkers(s),M=this.tooltipUtil.getElBars(),L=function(){P.globals.markers.largestSize>0?E.marker.enlargePoints(a):E.tooltipPosition.moveDynamicPointsOnHover(a)};if(P.config.legend.tooltipHoverFormatter){var z=P.config.legend.tooltipHoverFormatter,F=Array.from(this.legendLabels);F.forEach((function(re){var ie=re.getAttribute("data:default-text");re.innerHTML=decodeURIComponent(ie)}));for(var V=0;V<F.length;V++){var $=F[V],Y=parseInt($.getAttribute("i"),10),X=decodeURIComponent($.getAttribute("data:default-text")),ee=z(X,{seriesIndex:D?Y:s,dataPointIndex:a,w:P});if(D)$.innerHTML=P.globals.collapsedSeriesIndices.indexOf(Y)<0?ee:X;else if($.innerHTML=Y===s?ee:X,s===Y)break}}var W=ht(ht({ttItems:i,i:s,j:a},((o=P.globals.seriesRange)===null||o===void 0||(l=o[s])===null||l===void 0||(c=l[a])===null||c===void 0||(d=c.y[0])===null||d===void 0?void 0:d.y1)!==void 0&&{y1:(u=P.globals.seriesRange)===null||u===void 0||(f=u[s])===null||f===void 0||(m=f[a])===null||m===void 0||(p=m.y[0])===null||p===void 0?void 0:p.y1}),((y=P.globals.seriesRange)===null||y===void 0||(x=y[s])===null||x===void 0||(v=x[a])===null||v===void 0||(N=v.y[0])===null||N===void 0?void 0:N.y2)!==void 0&&{y2:(k=P.globals.seriesRange)===null||k===void 0||(S=k[s])===null||S===void 0||(R=S[a])===null||R===void 0||(A=R.y[0])===null||A===void 0?void 0:A.y2});if(D){if(E.tooltipLabels.drawSeriesTexts(ht(ht({},W),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),I)L();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(M),this.barSeriesHeight>0)){var B=new Xe(this.ctx),G=P.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),E.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&L(),E.tooltipPosition.moveStickyTooltipOverBars(a,s);for(var te=0;te<G.length;te++)B.pathMouseEnter(G[te])}}else E.tooltipLabels.drawSeriesTexts(ht({shared:!1},W)),this.tooltipUtil.hasBars()&&E.tooltipPosition.moveStickyTooltipOverBars(a,s),I&&E.tooltipPosition.moveMarkers(s,a)}}]),r})(),fme=(function(){function r(e){kt(this,r),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return St(r,[{key:"handleBarDataLabels",value:function(e){var t,s,a=e.x,i=e.y,o=e.y1,l=e.y2,c=e.i,d=e.j,u=e.realIndex,f=e.columnGroupIndex,m=e.series,p=e.barHeight,y=e.barWidth,x=e.barXPosition,v=e.barYPosition,N=e.visibleSeries,k=this.w,S=new Xe(this.barCtx.ctx),R=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;k.globals.isXNumeric&&!k.globals.isBarHorizontal?(t=a+parseFloat(y*(N+1)),s=i+parseFloat(p*(N+1))-R):(t=a+parseFloat(y*N),s=i+parseFloat(p*N));var A,D=null,P=a,E=i,I={},M=k.config.dataLabels,L=this.barCtx.barOptions.dataLabels,z=this.barCtx.barOptions.dataLabels.total;v!==void 0&&this.barCtx.isRangeBar&&(s=v,E=v),x!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=x,P=x);var F=M.offsetX,V=M.offsetY,$={width:0,height:0};if(k.config.dataLabels.enabled){var Y=k.globals.series[c][d];$=S.getTextRects(k.config.dataLabels.formatter?k.config.dataLabels.formatter(Y,ht(ht({},k),{},{seriesIndex:c,dataPointIndex:d,w:k})):k.globals.yLabelFormatters[0](Y),parseFloat(M.style.fontSize))}var X={x:a,y:i,i:c,j:d,realIndex:u,columnGroupIndex:f,bcx:t,bcy:s,barHeight:p,barWidth:y,textRects:$,strokeWidth:R,dataLabelsX:P,dataLabelsY:E,dataLabelsConfig:M,barDataLabelsConfig:L,barTotalDataLabelsConfig:z,offX:F,offY:V};return I=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(X):this.calculateColumnsDataLabelsPosition(X),A=this.drawCalculatedDataLabels({x:I.dataLabelsX,y:I.dataLabelsY,val:this.barCtx.isRangeBar?[o,l]:k.config.chart.stackType==="100%"?m[u][d]:k.globals.series[u][d],i:u,j:d,barWidth:y,barHeight:p,textRects:$,dataLabelsConfig:M}),k.config.chart.stacked&&z.enabled&&(D=this.drawTotalDataLabels({x:I.totalDataLabelsX,y:I.totalDataLabelsY,barWidth:y,barHeight:p,realIndex:u,textAnchor:I.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:d}),dataLabelsConfig:M,barTotalDataLabelsConfig:z})),{dataLabelsPos:I,dataLabels:A,totalDataLabels:D}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,s=e.j,a=this.w,i=this.barCtx.stackedSeriesTotals[s];return this.totalFormatter&&(i=this.totalFormatter(i,ht(ht({},a),{},{seriesIndex:t,dataPointIndex:s,w:a}))),i}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,s=this.w,a=e.i,i=e.j,o=e.realIndex;e.columnGroupIndex;var l,c,d=e.y,u=e.bcx,f=e.barWidth,m=e.barHeight,p=e.textRects,y=e.dataLabelsX,x=e.dataLabelsY,v=e.dataLabelsConfig,N=e.barDataLabelsConfig,k=e.barTotalDataLabelsConfig,S=e.strokeWidth,R=e.offX,A=e.offY,D=u;m=Math.abs(m);var P=s.config.plotOptions.bar.dataLabels.orientation==="vertical",E=this.barCtx.barHelpers.getZeroValueEncounters({i:a,j:i}).zeroEncounters;u-=S/2;var I=s.globals.gridWidth/s.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?y+=f/2:(y=s.globals.isXNumeric?u-f/2+R:u-I+f/2+R,!s.config.chart.stacked&&E>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(y-=f*E)),P&&(y=y+p.height/2-S/2-2);var M=s.globals.series[a][i]<0,L=d;switch(this.barCtx.isReversed&&(L=d+(M?m:-m)),N.position){case"center":x=P?M?L-m/2+A:L+m/2-A:M?L-m/2+p.height/2+A:L+m/2+p.height/2-A;break;case"bottom":x=P?M?L-m+A:L+m-A:M?L-m+p.height+S+A:L+m-p.height/2+S-A;break;case"top":x=P?M?L+A:L-A:M?L-p.height/2-A:L+p.height+A}var z=L;if(s.globals.seriesGroups.forEach((function($){var Y;(Y=t.barCtx[$.join(",")])===null||Y===void 0||Y.prevY.forEach((function(X){z=M?Math.max(X[i],z):Math.min(X[i],z)}))})),this.barCtx.lastActiveBarSerieIndex===o&&k.enabled){var F=new Xe(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:i}),v.fontSize);l=M?z-F.height/2-A-k.offsetY+18:z+F.height+A+k.offsetY-18;var V=I;c=D+(s.globals.isXNumeric?-f*s.globals.barGroups.length/2:s.globals.barGroups.length*f/2-(s.globals.barGroups.length-1)*f-V)+k.offsetX}return s.config.chart.stacked||(x<0?x=0+S:x+p.height/3>s.globals.gridHeight&&(x=s.globals.gridHeight-S)),{bcx:u,bcy:d,dataLabelsX:y,dataLabelsY:x,totalDataLabelsX:c,totalDataLabelsY:l,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,s=this.w,a=e.x,i=e.i,o=e.j,l=e.realIndex,c=e.bcy,d=e.barHeight,u=e.barWidth,f=e.textRects,m=e.dataLabelsX,p=e.strokeWidth,y=e.dataLabelsConfig,x=e.barDataLabelsConfig,v=e.barTotalDataLabelsConfig,N=e.offX,k=e.offY,S=s.globals.gridHeight/s.globals.dataPoints,R=this.barCtx.barHelpers.getZeroValueEncounters({i,j:o}).zeroEncounters;u=Math.abs(u);var A,D,P=c-(this.barCtx.isRangeBar?0:S)+d/2+f.height/2+k-3;!s.config.chart.stacked&&R>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(P-=d*R);var E="start",I=s.globals.series[i][o]<0,M=a;switch(this.barCtx.isReversed&&(M=a+(I?-u:u),E=I?"start":"end"),x.position){case"center":m=I?M+u/2-N:Math.max(f.width/2,M-u/2)+N;break;case"bottom":m=I?M+u-p-N:M-u+p+N;break;case"top":m=I?M-p-N:M-p+N}var L=M;if(s.globals.seriesGroups.forEach((function(F){var V;(V=t.barCtx[F.join(",")])===null||V===void 0||V.prevX.forEach((function($){L=I?Math.min($[o],L):Math.max($[o],L)}))})),this.barCtx.lastActiveBarSerieIndex===l&&v.enabled){var z=new Xe(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:l,j:o}),y.fontSize);I?(A=L-p-N-v.offsetX,E="end"):A=L+N+v.offsetX+(this.barCtx.isReversed?-(u+p):p),D=P-f.height/2+z.height/2+v.offsetY+p,s.globals.barGroups.length>1&&(D-=s.globals.barGroups.length/2*(d/2))}return s.config.chart.stacked||(y.textAnchor==="start"?m-f.width<0?m=I?f.width+p:p:m+f.width>s.globals.gridWidth&&(m=I?s.globals.gridWidth-p:s.globals.gridWidth-f.width-p):y.textAnchor==="middle"?m-f.width/2<0?m=f.width/2+p:m+f.width/2>s.globals.gridWidth&&(m=s.globals.gridWidth-f.width/2-p):y.textAnchor==="end"&&(m<1?m=f.width+p:m+1>s.globals.gridWidth&&(m=s.globals.gridWidth-f.width-p))),{bcx:a,bcy:c,dataLabelsX:m,dataLabelsY:P,totalDataLabelsX:A,totalDataLabelsY:D,totalDataLabelsAnchor:E}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,s=e.y,a=e.val,i=e.i,o=e.j,l=e.textRects,c=e.barHeight,d=e.barWidth,u=e.dataLabelsConfig,f=this.w,m="rotate(0)";f.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(m="rotate(-90, ".concat(t,", ").concat(s,")"));var p=new Nh(this.barCtx.ctx),y=new Xe(this.barCtx.ctx),x=u.formatter,v=null,N=f.globals.collapsedSeriesIndices.indexOf(i)>-1;if(u.enabled&&!N){v=y.group({class:"apexcharts-data-labels",transform:m});var k="";a!==void 0&&(k=x(a,ht(ht({},f),{},{seriesIndex:i,dataPointIndex:o,w:f}))),!a&&f.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(k="");var S=f.globals.series[i][o]<0,R=f.config.plotOptions.bar.dataLabels.position;f.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(R==="top"&&(u.textAnchor=S?"end":"start"),R==="center"&&(u.textAnchor="middle"),R==="bottom"&&(u.textAnchor=S?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&d<y.getTextRects(k,parseFloat(u.style.fontSize)).width&&(k=""),f.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?l.width/1.6>Math.abs(d)&&(k=""):l.height/1.6>Math.abs(c)&&(k=""));var A=ht({},u);this.barCtx.isHorizontal&&a<0&&(u.textAnchor==="start"?A.textAnchor="end":u.textAnchor==="end"&&(A.textAnchor="start")),p.plotDataLabelsText({x:t,y:s,text:k,i,j:o,parent:v,dataLabelsConfig:A,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return v}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,s=e.y,a=e.val,i=e.realIndex,o=e.textAnchor,l=e.barTotalDataLabelsConfig;this.w;var c,d=new Xe(this.barCtx.ctx);return l.enabled&&t!==void 0&&s!==void 0&&this.barCtx.lastActiveBarSerieIndex===i&&(c=d.drawText({x:t,y:s,foreColor:l.style.color,text:a,textAnchor:o,fontFamily:l.style.fontFamily,fontSize:l.style.fontSize,fontWeight:l.style.fontWeight})),c}}]),r})(),mme=(function(){function r(e){kt(this,r),this.w=e.w,this.barCtx=e}return St(r,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var s=0;s<e.length;s++)if(e[s].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[s].length),t.globals.isXNumeric)for(var a=0;a<e[s].length;a++)t.globals.seriesX[s][a]>t.globals.minX&&t.globals.seriesX[s][a]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),ce.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map((function(i){return i.map((function(o){return"none"}))}))),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,s,a,i,o,l,c,d,u=this.w,f=u.globals.dataPoints;this.barCtx.isRangeBar&&(f=u.globals.labels.length);var m=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(m=1),this.barCtx.isHorizontal)o=(a=u.globals.gridHeight/f)/m,u.globals.isXNumeric&&(o=(a=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),o=o*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.barHeight,10)),d=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(d=u.globals.gridWidth/2),s=(a-o*this.barCtx.seriesLen)/2;else{if(i=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(i=u.globals.gridWidth/u.globals.dataPoints),l=i/m*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var p=this.barCtx.xRatio;u.globals.minXDiff&&u.globals.minXDiff!==.5&&u.globals.minXDiff/p>0&&(i=u.globals.minXDiff/p),(l=i/m*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(l=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(l=parseInt(this.barCtx.barOptions.columnWidth,10)),c=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),u.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:l}).x:t=u.globals.padHorizontal+ce.noExponents(i-l*this.barCtx.seriesLen)/2}return u.globals.barHeight=o,u.globals.barWidth=l,{x:t,y:s,yDivision:a,xDivision:i,barHeight:o,barWidth:l,zeroH:c,zeroW:d}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]}))}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]}))}},{key:"getPathFillColor",value:function(e,t,s,a){var i,o,l,c,d=this.w,u=this.barCtx.ctx.fill,f=null,m=this.barCtx.barOptions.distributed?s:t,p=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(y){e[t][s]>=y.from&&e[t][s]<=y.to&&(f=y.color,p=!0)})),{color:u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?m:a,dataPointIndex:s,color:f,value:e[t][s],fillConfig:(i=d.config.series[t].data[s])===null||i===void 0?void 0:i.fill,fillType:(o=d.config.series[t].data[s])!==null&&o!==void 0&&(l=o.fill)!==null&&l!==void 0&&l.type?(c=d.config.series[t].data[s])===null||c===void 0?void 0:c.fill.type:Array.isArray(d.config.fill.type)?d.config.fill.type[a]:d.config.fill.type}),useRangeColor:p}}},{key:"getStrokeWidth",value:function(e,t,s){var a=0,i=this.w;return this.barCtx.series[e][t]===void 0||this.barCtx.series[e][t]===null||i.config.chart.type==="bar"&&!this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,i.config.stroke.show&&(this.barCtx.isNullValue||(a=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth)),a}},{key:"createBorderRadiusArr",value:function(e){var t,s=this.w,a=!this.w.config.chart.stacked||s.config.plotOptions.bar.borderRadius<=0,i=e.length,o=0|((t=e[0])===null||t===void 0?void 0:t.length),l=Array.from({length:i},(function(){return Array(o).fill(a?"top":"none")}));if(a)return l;for(var c=0;c<o;c++){for(var d=[],u=[],f=0,m=0;m<i;m++){var p=e[m][c];p>0?(d.push(m),f++):p<0&&(u.push(m),f++)}if(d.length>0&&u.length===0)if(d.length===1)l[d[0]][c]="both";else{var y,x=d[0],v=d[d.length-1],N=Rm(d);try{for(N.s();!(y=N.n()).done;){var k=y.value;l[k][c]=k===x?"bottom":k===v?"top":"none"}}catch(Y){N.e(Y)}finally{N.f()}}else if(u.length>0&&d.length===0)if(u.length===1)l[u[0]][c]="both";else{var S,R=Math.max.apply(Math,u),A=Math.min.apply(Math,u),D=Rm(u);try{for(D.s();!(S=D.n()).done;){var P=S.value;l[P][c]=P===R?"bottom":P===A?"top":"none"}}catch(Y){D.e(Y)}finally{D.f()}}else if(d.length>0&&u.length>0){var E,I=d[d.length-1],M=Rm(d);try{for(M.s();!(E=M.n()).done;){var L=E.value;l[L][c]=L===I?"top":"none"}}catch(Y){M.e(Y)}finally{M.f()}var z,F=Math.max.apply(Math,u),V=Rm(u);try{for(V.s();!(z=V.n()).done;){var $=z.value;l[$][c]=$===F?"bottom":"none"}}catch(Y){V.e(Y)}finally{V.f()}}else f===1&&(l[d[0]||u[0]][c]="both")}return l}},{key:"barBackground",value:function(e){var t=e.j,s=e.i,a=e.x1,i=e.x2,o=e.y1,l=e.y2,c=e.elSeries,d=this.w,u=new Xe(this.barCtx.ctx),f=new Xn(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&f===s){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var m=this.barCtx.barOptions.colors.backgroundBarColors[t],p=u.drawRect(a!==void 0?a:0,o!==void 0?o:0,i!==void 0?i:d.globals.gridWidth,l!==void 0?l:d.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,m,this.barCtx.barOptions.colors.backgroundBarOpacity);c.add(p),p.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,s=e.barWidth,a=e.barXPosition,i=e.y1,o=e.y2,l=e.strokeWidth,c=e.isReversed,d=e.series,u=e.seriesGroup,f=e.realIndex,m=e.i,p=e.j,y=e.w,x=new Xe(this.barCtx.ctx);(l=Array.isArray(l)?l[f]:l)||(l=0);var v=s,N=a;(t=y.config.series[f].data[p])!==null&&t!==void 0&&t.columnWidthOffset&&(N=a-y.config.series[f].data[p].columnWidthOffset/2,v=s+y.config.series[f].data[p].columnWidthOffset);var k=l/2,S=N+k,R=N+v-k,A=(d[m][p]>=0?1:-1)*(c?-1:1);i+=.001-k*A,o+=.001+k*A;var D=x.move(S,i),P=x.move(S,i),E=x.line(R,i);if(y.globals.previousPaths.length>0&&(P=this.barCtx.getPreviousPath(f,p,!1)),D=D+x.line(S,o)+x.line(R,o)+E+(y.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][p]==="both"?" Z":" z"),P=P+x.line(S,i)+E+E+E+E+E+x.line(S,i)+(y.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][p]==="both"?" Z":" z"),this.arrBorderRadius[f][p]!=="none"&&(D=x.roundPathCorners(D,y.config.plotOptions.bar.borderRadius)),y.config.chart.stacked){var I=this.barCtx;(I=this.barCtx[u]).yArrj.push(o-k*A),I.yArrjF.push(Math.abs(i-o+l*A)),I.yArrjVal.push(this.barCtx.series[m][p])}return{pathTo:D,pathFrom:P}}},{key:"getBarpaths",value:function(e){var t,s=e.barYPosition,a=e.barHeight,i=e.x1,o=e.x2,l=e.strokeWidth,c=e.isReversed,d=e.series,u=e.seriesGroup,f=e.realIndex,m=e.i,p=e.j,y=e.w,x=new Xe(this.barCtx.ctx);(l=Array.isArray(l)?l[f]:l)||(l=0);var v=s,N=a;(t=y.config.series[f].data[p])!==null&&t!==void 0&&t.barHeightOffset&&(v=s-y.config.series[f].data[p].barHeightOffset/2,N=a+y.config.series[f].data[p].barHeightOffset);var k=l/2,S=v+k,R=v+N-k,A=(d[m][p]>=0?1:-1)*(c?-1:1);i+=.001+k*A,o+=.001-k*A;var D=x.move(i,S),P=x.move(i,S);y.globals.previousPaths.length>0&&(P=this.barCtx.getPreviousPath(f,p,!1));var E=x.line(i,R);if(D=D+x.line(o,S)+x.line(o,R)+E+(y.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][p]==="both"?" Z":" z"),P=P+x.line(i,S)+E+E+E+E+E+x.line(i,S)+(y.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][p]==="both"?" Z":" z"),this.arrBorderRadius[f][p]!=="none"&&(D=x.roundPathCorners(D,y.config.plotOptions.bar.borderRadius)),y.config.chart.stacked){var I=this.barCtx;(I=this.barCtx[u]).xArrj.push(o+k*A),I.xArrjF.push(Math.abs(i-o-l*A)),I.xArrjVal.push(this.barCtx.series[m][p])}return{pathTo:D,pathFrom:P}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,s=this.w,a=0;a<t.length;a++){for(var i=0,o=0;o<t[s.globals.maxValsInArrayIndex].length;o++)i+=t[a][o];i===0&&this.barCtx.zeroSerieses.push(a)}}},{key:"getXForValue",value:function(e,t){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(s=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(e,t,s){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(a=t-e/this.barCtx.yRatio[s]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[s]:0)),a}},{key:"getGoalValues",value:function(e,t,s,a,i,o){var l=this,c=this.w,d=[],u=function(p,y){var x;d.push((Ay(x={},e,e==="x"?l.getXForValue(p,t,!1):l.getYForValue(p,s,o,!1)),Ay(x,"attrs",y),x))};if(c.globals.seriesGoals[a]&&c.globals.seriesGoals[a][i]&&Array.isArray(c.globals.seriesGoals[a][i])&&c.globals.seriesGoals[a][i].forEach((function(p){u(p.value,p)})),this.barCtx.barOptions.isDumbbell&&c.globals.seriesRange.length){var f=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:c.globals.colors,m={strokeHeight:e==="x"?0:c.globals.markers.size[a],strokeWidth:e==="x"?c.globals.markers.size[a]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(f[a])?f[a][0]:f[a]};u(c.globals.seriesRangeStart[a][i],m),u(c.globals.seriesRangeEnd[a][i],ht(ht({},m),{},{strokeColor:Array.isArray(f[a])?f[a][1]:f[a]}))}return d}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,s=e.barYPosition,a=e.goalX,i=e.goalY,o=e.barWidth,l=e.barHeight,c=new Xe(this.barCtx.ctx),d=c.group({className:"apexcharts-bar-goals-groups"});d.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:d.node}),d.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(a)&&a.forEach((function(f){if(f.x>=-1&&f.x<=c.w.globals.gridWidth+1){var m=f.attrs.strokeHeight!==void 0?f.attrs.strokeHeight:l/2,p=s+m+l/2;u=c.drawLine(f.x,p-2*m,f.x,p,f.attrs.strokeColor?f.attrs.strokeColor:void 0,f.attrs.strokeDashArray,f.attrs.strokeWidth?f.attrs.strokeWidth:2,f.attrs.strokeLineCap),d.add(u)}})):Array.isArray(i)&&i.forEach((function(f){if(f.y>=-1&&f.y<=c.w.globals.gridHeight+1){var m=f.attrs.strokeWidth!==void 0?f.attrs.strokeWidth:o/2,p=t+m+o/2;u=c.drawLine(p-2*m,f.y,p,f.y,f.attrs.strokeColor?f.attrs.strokeColor:void 0,f.attrs.strokeDashArray,f.attrs.strokeHeight?f.attrs.strokeHeight:2,f.attrs.strokeLineCap),d.add(u)}})),d}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,s=e.currPaths,a=e.color,i=this.w,o=t.x,l=t.x1,c=t.barYPosition,d=s.x,u=s.x1,f=s.barYPosition,m=c+s.barHeight,p=new Xe(this.barCtx.ctx),y=new ce,x=p.move(l,m)+p.line(o,m)+p.line(d,f)+p.line(u,f)+p.line(l,m)+(i.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return p.drawPath({d:x,fill:y.shadeColor(.5,ce.rgb2hex(a)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,s=e.i,a=e.j,i=this.w,o=0,l=0;return(i.config.plotOptions.bar.horizontal?i.globals.series.map((function(c,d){return d})):((t=i.globals.columnSeries)===null||t===void 0?void 0:t.i.map((function(c){return c})))||[]).forEach((function(c){var d=i.globals.seriesPercent[c][a];d&&o++,c<s&&d===0&&l++})),{nonZeroColumns:o,zeroEncounters:l}}},{key:"getGroupIndex",value:function(e){var t=this.w,s=t.globals.seriesGroups.findIndex((function(o){return o.indexOf(t.globals.seriesNames[e])>-1})),a=this.barCtx.columnGroupIndices,i=a.indexOf(s);return i<0&&(a.push(s),i=a.length-1),{groupIndex:s,columnGroupIndex:i}}}]),r})(),jh=(function(){function r(e,t){kt(this,r),this.ctx=e,this.w=e.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&s.globals.seriesRange.length&&s.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var a=new Xn(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var i=a.getBarSeriesIndices(),o=new Ir(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map((function(l,c){return i.indexOf(c)===-1?c:-1})).filter((function(l){return l!==-1}))),this.barHelpers=new mme(this)}return St(r,[{key:"draw",value:function(e,t){var s=this.w,a=new Xe(this.ctx),i=new Ir(this.ctx,s);e=i.getLogSeries(e),this.series=e,this.yRatio=i.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var o=a.group({class:"apexcharts-bar-series apexcharts-plot-series"});s.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var l=0,c=0;l<e.length;l++,c++){var d,u,f,m,p=void 0,y=void 0,x=[],v=[],N=s.globals.comboCharts?t[l]:l,k=this.barHelpers.getGroupIndex(N).columnGroupIndex,S=a.group({class:"apexcharts-series",rel:l+1,seriesName:ce.escapeString(s.globals.seriesNames[N]),"data:realIndex":N});this.ctx.series.addCollapsedClassToSeries(S,N),e[l].length>0&&(this.visibleI=this.visibleI+1);var R=0,A=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[N],this.translationsIndex=N);var D=this.translationsIndex;this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed;var P=this.barHelpers.initialPositions(N);y=P.y,R=P.barHeight,u=P.yDivision,m=P.zeroW,p=P.x,A=P.barWidth,d=P.xDivision,f=P.zeroH,this.isHorizontal||v.push(p+A/2);var E=a.group({class:"apexcharts-datalabels","data:realIndex":N});s.globals.delayedElements.push({el:E.node}),E.node.classList.add("apexcharts-element-hidden");var I=a.group({class:"apexcharts-bar-goals-markers"}),M=a.group({class:"apexcharts-bar-shadows"});s.globals.delayedElements.push({el:M.node}),M.node.classList.add("apexcharts-element-hidden");for(var L=0;L<e[l].length;L++){var z=this.barHelpers.getStrokeWidth(l,L,N),F=null,V={indexes:{i:l,j:L,realIndex:N,translationsIndex:D,bc:c},x:p,y,strokeWidth:z,elSeries:S};this.isHorizontal?(F=this.drawBarPaths(ht(ht({},V),{},{barHeight:R,zeroW:m,yDivision:u})),A=this.series[l][L]/this.invertedYRatio):(F=this.drawColumnPaths(ht(ht({},V),{},{xDivision:d,barWidth:A,zeroH:f})),R=this.series[l][L]/this.yRatio[D]);var $=this.barHelpers.getPathFillColor(e,l,L,N);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&L>0){var Y,X=this.barHelpers.drawBarShadow({color:typeof $.color=="string"&&((Y=$.color)===null||Y===void 0?void 0:Y.indexOf("url"))===-1?$.color:ce.hexToRgba(s.globals.colors[l]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:F});M.add(X),s.config.chart.dropShadow.enabled&&new ka(this.ctx).dropShadow(X,s.config.chart.dropShadow,N)}this.pathArr.push(F);var ee=this.barHelpers.drawGoalLine({barXPosition:F.barXPosition,barYPosition:F.barYPosition,goalX:F.goalX,goalY:F.goalY,barHeight:R,barWidth:A});ee&&I.add(ee),y=F.y,p=F.x,L>0&&v.push(p+A/2),x.push(y),this.renderSeries(ht(ht({realIndex:N,pathFill:$.color},$.useRangeColor?{lineFill:$.color}:{}),{},{j:L,i:l,columnGroupIndex:k,pathFrom:F.pathFrom,pathTo:F.pathTo,strokeWidth:z,elSeries:S,x:p,y,series:e,barHeight:Math.abs(F.barHeight?F.barHeight:R),barWidth:Math.abs(F.barWidth?F.barWidth:A),elDataLabelsWrap:E,elGoalsMarkers:I,elBarShadows:M,visibleSeries:this.visibleI,type:"bar"}))}s.globals.seriesXvalues[N]=v,s.globals.seriesYvalues[N]=x,o.add(S)}return o}},{key:"renderSeries",value:function(e){var t=e.realIndex,s=e.pathFill,a=e.lineFill,i=e.j,o=e.i,l=e.columnGroupIndex,c=e.pathFrom,d=e.pathTo,u=e.strokeWidth,f=e.elSeries,m=e.x,p=e.y,y=e.y1,x=e.y2,v=e.series,N=e.barHeight,k=e.barWidth,S=e.barXPosition,R=e.barYPosition,A=e.elDataLabelsWrap,D=e.elGoalsMarkers,P=e.elBarShadows,E=e.visibleSeries,I=e.type,M=e.classes,L=this.w,z=new Xe(this.ctx),F=!1;if(!a){var V=typeof L.globals.stroke.colors[t]=="function"?(function(W){var B,G=L.config.stroke.colors;return Array.isArray(G)&&G.length>0&&((B=G[W])||(B=""),typeof B=="function")?B({value:L.globals.series[W][i],dataPointIndex:i,w:L}):B})(t):L.globals.stroke.colors[t];a=this.barOptions.distributed?L.globals.stroke.colors[i]:V}var $=new fme(this).handleBarDataLabels({x:m,y:p,y1:y,y2:x,i:o,j:i,series:v,realIndex:t,columnGroupIndex:l,barHeight:N,barWidth:k,barXPosition:S,barYPosition:R,visibleSeries:E});L.globals.isBarHorizontal||($.dataLabelsPos.dataLabelsX+Math.max(k,L.globals.barPadForNumericAxis)<0||$.dataLabelsPos.dataLabelsX-Math.max(k,L.globals.barPadForNumericAxis)>L.globals.gridWidth)&&(F=!0),L.config.series[o].data[i]&&L.config.series[o].data[i].strokeColor&&(a=L.config.series[o].data[i].strokeColor),this.isNullValue&&(s="none");var Y=i/L.config.chart.animations.animateGradually.delay*(L.config.chart.animations.speed/L.globals.dataPoints)/2.4;if(!F){var X=z.renderPaths({i:o,j:i,realIndex:t,pathFrom:c,pathTo:d,stroke:a,strokeWidth:u,strokeLineCap:L.config.stroke.lineCap,fill:s,animationDelay:Y,initialSpeed:L.config.chart.animations.speed,dataChangeSpeed:L.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(I,"-area ").concat(M),chartType:I});X.attr("clip-path","url(#gridRectBarMask".concat(L.globals.cuid,")"));var ee=L.config.forecastDataPoints;ee.count>0&&i>=L.globals.dataPoints-ee.count&&(X.node.setAttribute("stroke-dasharray",ee.dashArray),X.node.setAttribute("stroke-width",ee.strokeWidth),X.node.setAttribute("fill-opacity",ee.fillOpacity)),y!==void 0&&x!==void 0&&(X.attr("data-range-y1",y),X.attr("data-range-y2",x)),new ka(this.ctx).setSelectionFilter(X,t,i),f.add(X),X.attr({cy:$.dataLabelsPos.bcy,cx:$.dataLabelsPos.bcx,j:i,val:L.globals.series[o][i],barHeight:N,barWidth:k}),$.dataLabels!==null&&A.add($.dataLabels),$.totalDataLabels&&A.add($.totalDataLabels),f.add(A),D&&f.add(D),P&&f.add(P)}return f}},{key:"drawBarPaths",value:function(e){var t,s=e.indexes,a=e.barHeight,i=e.strokeWidth,o=e.zeroW,l=e.x,c=e.y,d=e.yDivision,u=e.elSeries,f=this.w,m=s.i,p=s.j;if(f.globals.isXNumeric)t=(c=(f.globals.seriesX[m][p]-f.globals.minX)/this.invertedXRatio-a)+a*this.visibleI;else if(f.config.plotOptions.bar.hideZeroBarsWhenGrouped){var y=this.barHelpers.getZeroValueEncounters({i:m,j:p}),x=y.nonZeroColumns,v=y.zeroEncounters;x>0&&(a=this.seriesLen*a/x),t=c+a*this.visibleI,t-=a*v}else t=c+a*this.visibleI;this.isFunnel&&(o-=(this.barHelpers.getXForValue(this.series[m][p],o)-o)/2),l=this.barHelpers.getXForValue(this.series[m][p],o);var N=this.barHelpers.getBarpaths({barYPosition:t,barHeight:a,x1:o,x2:l,strokeWidth:i,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,i:m,j:p,w:f});return f.globals.isXNumeric||(c+=d),this.barHelpers.barBackground({j:p,i:m,y1:t-a*this.visibleI,y2:a*this.seriesLen,elSeries:u}),{pathTo:N.pathTo,pathFrom:N.pathFrom,x1:o,x:l,y:c,goalX:this.barHelpers.getGoalValues("x",o,null,m,p),barYPosition:t,barHeight:a}}},{key:"drawColumnPaths",value:function(e){var t,s=e.indexes,a=e.x,i=e.y,o=e.xDivision,l=e.barWidth,c=e.zeroH,d=e.strokeWidth,u=e.elSeries,f=this.w,m=s.realIndex,p=s.translationsIndex,y=s.i,x=s.j,v=s.bc;if(f.globals.isXNumeric){var N=this.getBarXForNumericXAxis({x:a,j:x,realIndex:m,barWidth:l});a=N.x,t=N.barXPosition}else if(f.config.plotOptions.bar.hideZeroBarsWhenGrouped){var k=this.barHelpers.getZeroValueEncounters({i:y,j:x}),S=k.nonZeroColumns,R=k.zeroEncounters;S>0&&(l=this.seriesLen*l/S),t=a+l*this.visibleI,t-=l*R}else t=a+l*this.visibleI;i=this.barHelpers.getYForValue(this.series[y][x],c,p);var A=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:l,y1:c,y2:i,strokeWidth:d,isReversed:this.isReversed,series:this.series,realIndex:m,i:y,j:x,w:f});return f.globals.isXNumeric||(a+=o),this.barHelpers.barBackground({bc:v,j:x,i:y,x1:t-d/2-l*this.visibleI,x2:l*this.seriesLen+d/2,elSeries:u}),{pathTo:A.pathTo,pathFrom:A.pathFrom,x:a,y:i,goalY:this.barHelpers.getGoalValues("y",null,c,y,x,p),barXPosition:t,barWidth:l}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,s=e.barWidth,a=e.realIndex,i=e.j,o=this.w,l=a;return o.globals.seriesX[a].length||(l=o.globals.maxValsInArrayIndex),ce.isNumber(o.globals.seriesX[l][i])&&(t=(o.globals.seriesX[l][i]-o.globals.minX)/this.xRatio-s*this.seriesLen/2),{barXPosition:t+s*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var s=this.w,a="M 0 0",i=0;i<s.globals.previousPaths.length;i++){var o=s.globals.previousPaths[i];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&s.globals.previousPaths[i].paths[t]!==void 0&&(a=s.globals.previousPaths[i].paths[t].d)}return a}}]),r})(),Y3=(function(r){xp(t,jh);var e=pp(t);function t(){return kt(this,t),e.apply(this,arguments)}return St(t,[{key:"draw",value:function(s,a){var i=this,o=this.w;this.graphics=new Xe(this.ctx),this.bar=new jh(this.ctx,this.xyRatios);var l=new Ir(this.ctx,o);s=l.getLogSeries(s),this.yRatio=l.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s),o.config.chart.stackType==="100%"&&(s=o.globals.comboCharts?a.map((function(y){return o.globals.seriesPercent[y]})):o.globals.seriesPercent.slice()),this.series=s,this.barHelpers.initializeStackedPrevVars(this);for(var c=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),d=0,u=0,f=function(y,x){var v=void 0,N=void 0,k=void 0,S=void 0,R=o.globals.comboCharts?a[y]:y,A=i.barHelpers.getGroupIndex(R),D=A.groupIndex,P=A.columnGroupIndex;i.groupCtx=i[o.globals.seriesGroups[D]];var E=[],I=[],M=0;i.yRatio.length>1&&(i.yaxisIndex=o.globals.seriesYAxisReverseMap[R][0],M=R),i.isReversed=o.config.yaxis[i.yaxisIndex]&&o.config.yaxis[i.yaxisIndex].reversed;var L=i.graphics.group({class:"apexcharts-series",seriesName:ce.escapeString(o.globals.seriesNames[R]),rel:y+1,"data:realIndex":R});i.ctx.series.addCollapsedClassToSeries(L,R);var z=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":R}),F=i.graphics.group({class:"apexcharts-bar-goals-markers"}),V=0,$=0,Y=i.initialPositions(d,u,v,N,k,S,M);u=Y.y,V=Y.barHeight,N=Y.yDivision,S=Y.zeroW,d=Y.x,$=Y.barWidth,v=Y.xDivision,k=Y.zeroH,o.globals.barHeight=V,o.globals.barWidth=$,i.barHelpers.initializeStackedXYVars(i),i.groupCtx.prevY.length===1&&i.groupCtx.prevY[0].every((function(he){return isNaN(he)}))&&(i.groupCtx.prevY[0]=i.groupCtx.prevY[0].map((function(){return k})),i.groupCtx.prevYF[0]=i.groupCtx.prevYF[0].map((function(){return 0})));for(var X=0;X<o.globals.dataPoints;X++){var ee=i.barHelpers.getStrokeWidth(y,X,R),W={indexes:{i:y,j:X,realIndex:R,translationsIndex:M,bc:x},strokeWidth:ee,x:d,y:u,elSeries:L,columnGroupIndex:P,seriesGroup:o.globals.seriesGroups[D]},B=null;i.isHorizontal?(B=i.drawStackedBarPaths(ht(ht({},W),{},{zeroW:S,barHeight:V,yDivision:N})),$=i.series[y][X]/i.invertedYRatio):(B=i.drawStackedColumnPaths(ht(ht({},W),{},{xDivision:v,barWidth:$,zeroH:k})),V=i.series[y][X]/i.yRatio[M]);var G=i.barHelpers.drawGoalLine({barXPosition:B.barXPosition,barYPosition:B.barYPosition,goalX:B.goalX,goalY:B.goalY,barHeight:V,barWidth:$});G&&F.add(G),u=B.y,d=B.x,E.push(d),I.push(u);var te=i.barHelpers.getPathFillColor(s,y,X,R),re="",ie=o.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(i.barHelpers.arrBorderRadius[R][X]==="bottom"&&o.globals.series[R][X]>0||i.barHelpers.arrBorderRadius[R][X]==="top"&&o.globals.series[R][X]<0)&&(re=ie),L=i.renderSeries(ht(ht({realIndex:R,pathFill:te.color},te.useRangeColor?{lineFill:te.color}:{}),{},{j:X,i:y,columnGroupIndex:P,pathFrom:B.pathFrom,pathTo:B.pathTo,strokeWidth:ee,elSeries:L,x:d,y:u,series:s,barHeight:V,barWidth:$,elDataLabelsWrap:z,elGoalsMarkers:F,type:"bar",visibleSeries:P,classes:re}))}o.globals.seriesXvalues[R]=E,o.globals.seriesYvalues[R]=I,i.groupCtx.prevY.push(i.groupCtx.yArrj),i.groupCtx.prevYF.push(i.groupCtx.yArrjF),i.groupCtx.prevYVal.push(i.groupCtx.yArrjVal),i.groupCtx.prevX.push(i.groupCtx.xArrj),i.groupCtx.prevXF.push(i.groupCtx.xArrjF),i.groupCtx.prevXVal.push(i.groupCtx.xArrjVal),c.add(L)},m=0,p=0;m<s.length;m++,p++)f(m,p);return c}},{key:"initialPositions",value:function(s,a,i,o,l,c,d){var u,f,m=this.w;if(this.isHorizontal){o=m.globals.gridHeight/m.globals.dataPoints;var p=m.config.plotOptions.bar.barHeight;u=String(p).indexOf("%")===-1?parseInt(p,10):o*parseInt(p,10)/100,c=m.globals.padHorizontal+(this.isReversed?m.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),a=(o-u)/2}else{f=i=m.globals.gridWidth/m.globals.dataPoints;var y=m.config.plotOptions.bar.columnWidth;m.globals.isXNumeric&&m.globals.dataPoints>1?f=(i=m.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(y).indexOf("%")===-1?f=parseInt(y,10):f*=parseInt(y,10)/100,l=this.isReversed?this.baseLineY[d]:m.globals.gridHeight-this.baseLineY[d],s=m.globals.padHorizontal+(i-f)/2}var x=m.globals.barGroups.length||1;return{x:s,y:a,yDivision:o,xDivision:i,barHeight:u/x,barWidth:f/x,zeroH:l,zeroW:c}}},{key:"drawStackedBarPaths",value:function(s){for(var a,i=s.indexes,o=s.barHeight,l=s.strokeWidth,c=s.zeroW,d=s.x,u=s.y,f=s.columnGroupIndex,m=s.seriesGroup,p=s.yDivision,y=s.elSeries,x=this.w,v=u+f*o,N=i.i,k=i.j,S=i.realIndex,R=i.translationsIndex,A=0,D=0;D<this.groupCtx.prevXF.length;D++)A+=this.groupCtx.prevXF[D][k];var P=N;if(x.config.series[S].name&&(P=m.indexOf(x.config.series[S].name)),P>0){var E=c;this.groupCtx.prevXVal[P-1][k]<0?E=this.series[N][k]>=0?this.groupCtx.prevX[P-1][k]+A-2*(this.isReversed?A:0):this.groupCtx.prevX[P-1][k]:this.groupCtx.prevXVal[P-1][k]>=0&&(E=this.series[N][k]>=0?this.groupCtx.prevX[P-1][k]:this.groupCtx.prevX[P-1][k]-A+2*(this.isReversed?A:0)),a=E}else a=c;d=this.series[N][k]===null?a:a+this.series[N][k]/this.invertedYRatio-2*(this.isReversed?this.series[N][k]/this.invertedYRatio:0);var I=this.barHelpers.getBarpaths({barYPosition:v,barHeight:o,x1:a,x2:d,strokeWidth:l,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,seriesGroup:m,i:N,j:k,w:x});return this.barHelpers.barBackground({j:k,i:N,y1:v,y2:o,elSeries:y}),u+=p,{pathTo:I.pathTo,pathFrom:I.pathFrom,goalX:this.barHelpers.getGoalValues("x",c,null,N,k,R),barXPosition:a,barYPosition:v,x:d,y:u}}},{key:"drawStackedColumnPaths",value:function(s){var a=s.indexes,i=s.x,o=s.y,l=s.xDivision,c=s.barWidth,d=s.zeroH,u=s.columnGroupIndex,f=s.seriesGroup,m=s.elSeries,p=this.w,y=a.i,x=a.j,v=a.bc,N=a.realIndex,k=a.translationsIndex;if(p.globals.isXNumeric){var S=p.globals.seriesX[N][x];S||(S=0),i=(S-p.globals.minX)/this.xRatio-c/2*p.globals.barGroups.length}for(var R,A=i+u*c,D=0,P=0;P<this.groupCtx.prevYF.length;P++)D+=isNaN(this.groupCtx.prevYF[P][x])?0:this.groupCtx.prevYF[P][x];var E=y;if(f&&(E=f.indexOf(p.globals.seriesNames[N])),E>0&&!p.globals.isXNumeric||E>0&&p.globals.isXNumeric&&p.globals.seriesX[N-1][x]===p.globals.seriesX[N][x]){var I,M,L,z=Math.min(this.yRatio.length+1,N+1);if(this.groupCtx.prevY[E-1]!==void 0&&this.groupCtx.prevY[E-1].length)for(var F=1;F<z;F++){var V;if(!isNaN((V=this.groupCtx.prevY[E-F])===null||V===void 0?void 0:V[x])){L=this.groupCtx.prevY[E-F][x];break}}for(var $=1;$<z;$++){var Y,X;if(((Y=this.groupCtx.prevYVal[E-$])===null||Y===void 0?void 0:Y[x])<0){M=this.series[y][x]>=0?L-D+2*(this.isReversed?D:0):L;break}if(((X=this.groupCtx.prevYVal[E-$])===null||X===void 0?void 0:X[x])>=0){M=this.series[y][x]>=0?L:L+D-2*(this.isReversed?D:0);break}}M===void 0&&(M=p.globals.gridHeight),R=(I=this.groupCtx.prevYF[0])!==null&&I!==void 0&&I.every((function(W){return W===0}))&&this.groupCtx.prevYF.slice(1,E).every((function(W){return W.every((function(B){return isNaN(B)}))}))?d:M}else R=d;o=this.series[y][x]?R-this.series[y][x]/this.yRatio[k]+2*(this.isReversed?this.series[y][x]/this.yRatio[k]:0):R;var ee=this.barHelpers.getColumnPaths({barXPosition:A,barWidth:c,y1:R,y2:o,yRatio:this.yRatio[k],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:f,realIndex:a.realIndex,i:y,j:x,w:p});return this.barHelpers.barBackground({bc:v,j:x,i:y,x1:A,x2:c,elSeries:m}),{pathTo:ee.pathTo,pathFrom:ee.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,d,y,x),barXPosition:A,x:p.globals.isXNumeric?i:i+l,y:o}}}]),t})(),rj=(function(r){xp(t,jh);var e=pp(t);function t(){return kt(this,t),e.apply(this,arguments)}return St(t,[{key:"draw",value:function(s,a,i){var o=this,l=this.w,c=new Xe(this.ctx),d=l.globals.comboCharts?a:l.config.chart.type,u=new gi(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=l.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var f=new Ir(this.ctx,l);s=f.getLogSeries(s),this.series=s,this.yRatio=f.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s);for(var m=c.group({class:"apexcharts-".concat(d,"-series apexcharts-plot-series")}),p=function(x){o.isBoxPlot=l.config.chart.type==="boxPlot"||l.config.series[x].type==="boxPlot";var v,N,k,S,R=void 0,A=void 0,D=[],P=[],E=l.globals.comboCharts?i[x]:x,I=o.barHelpers.getGroupIndex(E).columnGroupIndex,M=c.group({class:"apexcharts-series",seriesName:ce.escapeString(l.globals.seriesNames[E]),rel:x+1,"data:realIndex":E});o.ctx.series.addCollapsedClassToSeries(M,E),s[x].length>0&&(o.visibleI=o.visibleI+1);var L,z,F=0;o.yRatio.length>1&&(o.yaxisIndex=l.globals.seriesYAxisReverseMap[E][0],F=E);var V=o.barHelpers.initialPositions(E);A=V.y,L=V.barHeight,N=V.yDivision,S=V.zeroW,R=V.x,z=V.barWidth,v=V.xDivision,k=V.zeroH,P.push(R+z/2);for(var $=c.group({class:"apexcharts-datalabels","data:realIndex":E}),Y=c.group({class:"apexcharts-bar-goals-markers"}),X=function(W){var B=o.barHelpers.getStrokeWidth(x,W,E),G=null,te={indexes:{i:x,j:W,realIndex:E,translationsIndex:F},x:R,y:A,strokeWidth:B,elSeries:M};G=o.isHorizontal?o.drawHorizontalBoxPaths(ht(ht({},te),{},{yDivision:N,barHeight:L,zeroW:S})):o.drawVerticalBoxPaths(ht(ht({},te),{},{xDivision:v,barWidth:z,zeroH:k})),A=G.y,R=G.x;var re=o.barHelpers.drawGoalLine({barXPosition:G.barXPosition,barYPosition:G.barYPosition,goalX:G.goalX,goalY:G.goalY,barHeight:L,barWidth:z});re&&Y.add(re),W>0&&P.push(R+z/2),D.push(A),G.pathTo.forEach((function(ie,he){var le=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?G.color[he]:l.globals.stroke.colors[x],De=u.fillPath({seriesNumber:E,dataPointIndex:W,color:G.color[he],value:s[x][W]});o.renderSeries({realIndex:E,pathFill:De,lineFill:le,j:W,i:x,pathFrom:G.pathFrom,pathTo:ie,strokeWidth:B,elSeries:M,x:R,y:A,series:s,columnGroupIndex:I,barHeight:L,barWidth:z,elDataLabelsWrap:$,elGoalsMarkers:Y,visibleSeries:o.visibleI,type:l.config.chart.type})}))},ee=0;ee<l.globals.dataPoints;ee++)X(ee);l.globals.seriesXvalues[E]=P,l.globals.seriesYvalues[E]=D,m.add(M)},y=0;y<s.length;y++)p(y);return m}},{key:"drawVerticalBoxPaths",value:function(s){var a=s.indexes,i=s.x;s.y;var o=s.xDivision,l=s.barWidth,c=s.zeroH,d=s.strokeWidth,u=this.w,f=new Xe(this.ctx),m=a.i,p=a.j,y=u.config.plotOptions.candlestick.colors,x=this.boxOptions.colors,v=a.realIndex,N=function(ee){return Array.isArray(ee)?ee[v]:ee},k=N(y.upward),S=N(y.downward),R=this.yRatio[a.translationsIndex],A=this.getOHLCValue(v,p),D=c,P=c,E=A.o<A.c?[k]:[S];this.isBoxPlot&&(E=[N(x.lower),N(x.upper)]);var I=Math.min(A.o,A.c),M=Math.max(A.o,A.c),L=A.m;u.globals.isXNumeric&&(i=(u.globals.seriesX[v][p]-u.globals.minX)/this.xRatio-l/2);var z=i+l*this.visibleI;this.series[m][p]===void 0||this.series[m][p]===null?(I=c,M=c):(I=c-I/R,M=c-M/R,D=c-A.h/R,P=c-A.l/R,L=c-A.m/R);var F=f.move(z,c),V=f.move(z+l/2,I);if(u.globals.previousPaths.length>0&&(V=this.getPreviousPath(v,p,!0)),this.isOHLC){var $=z+l/2,Y=c-A.o/R,X=c-A.c/R;F=[f.move($,D)+f.line($,P)+f.move($,Y)+f.line(z,Y)+f.move($,X)+f.line(z+l,X)]}else F=this.isBoxPlot?[f.move(z,I)+f.line(z+l/2,I)+f.line(z+l/2,D)+f.line(z+l/4,D)+f.line(z+l-l/4,D)+f.line(z+l/2,D)+f.line(z+l/2,I)+f.line(z+l,I)+f.line(z+l,L)+f.line(z,L)+f.line(z,I+d/2),f.move(z,L)+f.line(z+l,L)+f.line(z+l,M)+f.line(z+l/2,M)+f.line(z+l/2,P)+f.line(z+l-l/4,P)+f.line(z+l/4,P)+f.line(z+l/2,P)+f.line(z+l/2,M)+f.line(z,M)+f.line(z,L)+"z"]:[f.move(z,M)+f.line(z+l/2,M)+f.line(z+l/2,D)+f.line(z+l/2,M)+f.line(z+l,M)+f.line(z+l,I)+f.line(z+l/2,I)+f.line(z+l/2,P)+f.line(z+l/2,I)+f.line(z,I)+f.line(z,M-d/2)];return V+=f.move(z,I),u.globals.isXNumeric||(i+=o),{pathTo:F,pathFrom:V,x:i,y:M,goalY:this.barHelpers.getGoalValues("y",null,c,m,p,a.translationsIndex),barXPosition:z,color:E}}},{key:"drawHorizontalBoxPaths",value:function(s){var a=s.indexes;s.x;var i=s.y,o=s.yDivision,l=s.barHeight,c=s.zeroW,d=s.strokeWidth,u=this.w,f=new Xe(this.ctx),m=a.i,p=a.j,y=this.boxOptions.colors.lower;this.isBoxPlot&&(y=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var x=this.invertedYRatio,v=a.realIndex,N=this.getOHLCValue(v,p),k=c,S=c,R=Math.min(N.o,N.c),A=Math.max(N.o,N.c),D=N.m;u.globals.isXNumeric&&(i=(u.globals.seriesX[v][p]-u.globals.minX)/this.invertedXRatio-l/2);var P=i+l*this.visibleI;this.series[m][p]===void 0||this.series[m][p]===null?(R=c,A=c):(R=c+R/x,A=c+A/x,k=c+N.h/x,S=c+N.l/x,D=c+N.m/x);var E=f.move(c,P),I=f.move(R,P+l/2);return u.globals.previousPaths.length>0&&(I=this.getPreviousPath(v,p,!0)),E=[f.move(R,P)+f.line(R,P+l/2)+f.line(k,P+l/2)+f.line(k,P+l/2-l/4)+f.line(k,P+l/2+l/4)+f.line(k,P+l/2)+f.line(R,P+l/2)+f.line(R,P+l)+f.line(D,P+l)+f.line(D,P)+f.line(R+d/2,P),f.move(D,P)+f.line(D,P+l)+f.line(A,P+l)+f.line(A,P+l/2)+f.line(S,P+l/2)+f.line(S,P+l-l/4)+f.line(S,P+l/4)+f.line(S,P+l/2)+f.line(A,P+l/2)+f.line(A,P)+f.line(D,P)+"z"],I+=f.move(R,P),u.globals.isXNumeric||(i+=o),{pathTo:E,pathFrom:I,x:A,y:i,goalX:this.barHelpers.getGoalValues("x",c,null,m,p),barYPosition:P,color:y}}},{key:"getOHLCValue",value:function(s,a){var i=this.w,o=new Ir(this.ctx,i),l=o.getLogValAtSeriesIndex(i.globals.seriesCandleH[s][a],s),c=o.getLogValAtSeriesIndex(i.globals.seriesCandleO[s][a],s),d=o.getLogValAtSeriesIndex(i.globals.seriesCandleM[s][a],s),u=o.getLogValAtSeriesIndex(i.globals.seriesCandleC[s][a],s),f=o.getLogValAtSeriesIndex(i.globals.seriesCandleL[s][a],s);return{o:this.isBoxPlot?l:c,h:this.isBoxPlot?c:l,m:d,l:this.isBoxPlot?u:f,c:this.isBoxPlot?f:u}}}]),t})(),J8=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,s=e.config.plotOptions[e.config.chart.type];return s.colorScale.ranges.length>0&&s.colorScale.ranges.map((function(a,i){a.from<=0&&(t=!0)})),t}},{key:"getShadeColor",value:function(e,t,s,a){var i=this.w,o=1,l=i.config.plotOptions[e].shadeIntensity,c=this.determineColor(e,t,s);i.globals.hasNegs||a?o=i.config.plotOptions[e].reverseNegativeShade?c.percent<0?c.percent/100*(1.25*l):(1-c.percent/100)*(1.25*l):c.percent<=0?1-(1+c.percent/100)*l:(1-c.percent/100)*l:(o=1-c.percent/100,e==="treemap"&&(o=(1-c.percent/100)*(1.25*l)));var d=c.color,u=new ce;if(i.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var f=u.shadeColor(-1*o,c.color);d=ce.hexToRgba(ce.isColorHex(f)?f:ce.rgb2hex(f),i.config.fill.opacity)}else{var m=u.shadeColor(o,c.color);d=ce.hexToRgba(ce.isColorHex(m)?m:ce.rgb2hex(m),i.config.fill.opacity)}return{color:d,colorProps:c}}},{key:"determineColor",value:function(e,t,s){var a=this.w,i=a.globals.series[t][s],o=a.config.plotOptions[e],l=o.colorScale.inverse?s:t;o.distributed&&a.config.chart.type==="treemap"&&(l=s);var c=a.globals.colors[l],d=null,u=Math.min.apply(Math,na(a.globals.series[t])),f=Math.max.apply(Math,na(a.globals.series[t]));o.distributed||e!=="heatmap"||(u=a.globals.minY,f=a.globals.maxY),o.colorScale.min!==void 0&&(u=o.colorScale.min<a.globals.minY?o.colorScale.min:a.globals.minY,f=o.colorScale.max>a.globals.maxY?o.colorScale.max:a.globals.maxY);var m=Math.abs(f)+Math.abs(u),p=100*i/(m===0?m-1e-6:m);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map((function(y,x){if(i>=y.from&&i<=y.to){c=y.color,d=y.foreColor?y.foreColor:null,u=y.from,f=y.to;var v=Math.abs(f)+Math.abs(u);p=100*i/(v===0?v-1e-6:v)}})),{color:c,foreColor:d,percent:p}}},{key:"calculateDataLabels",value:function(e){var t=e.text,s=e.x,a=e.y,i=e.i,o=e.j,l=e.colorProps,c=e.fontSize,d=this.w.config.dataLabels,u=new Xe(this.ctx),f=new Nh(this.ctx),m=null;if(d.enabled){m=u.group({class:"apexcharts-data-labels"});var p=d.offsetX,y=d.offsetY,x=s+p,v=a+parseFloat(d.style.fontSize)/3+y;f.plotDataLabelsText({x,y:v,text:t,i,j:o,color:l.foreColor,parent:m,fontSize:c,dataLabelsConfig:d})}return m}},{key:"addListeners",value:function(e){var t=new Xe(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),r})(),gme=(function(){function r(e,t){kt(this,r),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new J8(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return St(r,[{key:"draw",value:function(e){var t=this.w,s=new Xe(this.ctx),a=s.group({class:"apexcharts-heatmap"});a.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var i=t.globals.gridWidth/t.globals.dataPoints,o=t.globals.gridHeight/t.globals.series.length,l=0,c=!1;this.negRange=this.helpers.checkColorRange();var d=e.slice();t.config.yaxis[0].reversed&&(c=!0,d.reverse());for(var u=c?0:d.length-1;c?u<d.length:u>=0;c?u++:u--){var f=s.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:ce.escapeString(t.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(f,u),t.config.chart.dropShadow.enabled){var m=t.config.chart.dropShadow;new ka(this.ctx).dropShadow(f,m,u)}for(var p=0,y=t.config.plotOptions.heatmap.shadeIntensity,x=0,v=0;v<t.globals.dataPoints;v++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*v<t.globals.seriesX[u][x])p+=i;else{if(x>=d[u].length)break;var N=this.helpers.getShadeColor(t.config.chart.type,u,x,this.negRange),k=N.color,S=N.colorProps;t.config.fill.type==="image"&&(k=new gi(this.ctx).fillPath({seriesNumber:u,dataPointIndex:x,opacity:t.globals.hasNegs?S.percent<0?1-(1+S.percent/100):y+S.percent/100:S.percent/100,patternID:ce.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:i,height:t.config.fill.image.height?t.config.fill.image.height:o}));var R=this.rectRadius,A=s.drawRect(p,l,i,o,R);if(A.attr({cx:p,cy:l}),A.node.classList.add("apexcharts-heatmap-rect"),f.add(A),A.attr({fill:k,i:u,index:u,j:x,val:e[u][x],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?k:t.globals.stroke.colors[0],color:k}),this.helpers.addListeners(A),t.config.chart.animations.enabled&&!t.globals.dataChanged){var D=1;t.globals.resized||(D=t.config.chart.animations.speed),this.animateHeatMap(A,p,l,i,o,D)}if(t.globals.dataChanged){var P=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){P=this.dynamicAnim.speed;var E=t.globals.previousPaths[u]&&t.globals.previousPaths[u][x]&&t.globals.previousPaths[u][x].color;E||(E="rgba(255, 255, 255, 0)"),this.animateHeatColor(A,ce.isColorHex(E)?E:ce.rgb2hex(E),ce.isColorHex(k)?k:ce.rgb2hex(k),P)}}var I=(0,t.config.dataLabels.formatter)(t.globals.series[u][x],{value:t.globals.series[u][x],seriesIndex:u,dataPointIndex:x,w:t}),M=this.helpers.calculateDataLabels({text:I,x:p+i/2,y:l+o/2,i:u,j:x,colorProps:S,series:d});M!==null&&f.add(M),p+=i,x++}l+=o,a.add(f)}var L=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?L.unshift(""):L.push(""),t.globals.yAxisScale[0].result=L,a}},{key:"animateHeatMap",value:function(e,t,s,a,i,o){var l=new qh(this.ctx);l.animateRect(e,{x:t+a/2,y:s+i/2,width:0,height:0},{x:t,y:s,width:a,height:i},o,(function(){l.animationCompleted(e)}))}},{key:"animateHeatColor",value:function(e,t,s,a){e.attr({fill:t}).animate(a).attr({fill:s})}}]),r})(),ez=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"drawYAxisTexts",value:function(e,t,s,a){var i=this.w,o=i.config.yaxis[0],l=i.globals.yLabelFormatters[0];return new Xe(this.ctx).drawText({x:e+o.labels.offsetX,y:t+o.labels.offsetY,text:l(a,s),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[s]:o.labels.style.colors})}}]),r})(),tz=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var s=t.config.plotOptions.pie.customScale,a=t.globals.gridWidth/2,i=t.globals.gridHeight/2;this.translateX=a-a*s,this.translateY=i-i*s,this.dataLabelsGroup=new Xe(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return St(r,[{key:"draw",value:function(e){var t=this,s=this.w,a=new Xe(this.ctx),i=a.group({class:"apexcharts-pie"});if(s.globals.noData)return i;for(var o=0,l=0;l<e.length;l++)o+=ce.negToZero(e[l]);var c=[],d=a.group();o===0&&(o=1e-5),e.forEach((function(S){t.maxY=Math.max(t.maxY,S)})),s.config.yaxis[0].max&&(this.maxY=s.config.yaxis[0].max),s.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(i);for(var u=0;u<e.length;u++){var f=this.fullAngle*ce.negToZero(e[u])/o;c.push(f),this.chartType==="polarArea"?(c[u]=this.fullAngle/e.length,this.sliceSizes.push(s.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(s.globals.radialSize)}if(s.globals.dataChanged){for(var m,p=0,y=0;y<s.globals.previousPaths.length;y++)p+=ce.negToZero(s.globals.previousPaths[y]);for(var x=0;x<s.globals.previousPaths.length;x++)m=this.fullAngle*ce.negToZero(s.globals.previousPaths[x])/p,this.prevSectorAngleArr.push(m)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var v=a.drawCircle(this.donutSize);v.attr({cx:this.centerX,cy:this.centerY,fill:s.config.plotOptions.pie.donut.background?s.config.plotOptions.pie.donut.background:"transparent"}),d.add(v)}var N=this.drawArcs(c,e);if(this.sliceLabels.forEach((function(S){N.add(S)})),d.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s.config.plotOptions.pie.customScale,")")}),d.add(N),i.add(d),this.donutDataLabels.show){var k=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});i.add(k)}return s.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(i),i}},{key:"drawArcs",value:function(e,t){var s=this.w,a=new ka(this.ctx),i=new Xe(this.ctx),o=new gi(this.ctx),l=i.group({class:"apexcharts-slices"}),c=this.initialAngle,d=this.initialAngle,u=this.initialAngle,f=this.initialAngle;this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0;for(var m=0;m<e.length;m++){var p=i.group({class:"apexcharts-series apexcharts-pie-series",seriesName:ce.escapeString(s.globals.seriesNames[m]),rel:m+1,"data:realIndex":m});l.add(p),d=f,u=(c=u)+e[m],f=d+this.prevSectorAngleArr[m];var y=u<c?this.fullAngle+u-c:u-c,x=o.fillPath({seriesNumber:m,size:this.sliceSizes[m],value:t[m]}),v=this.getChangedPath(d,f),N=i.drawPath({d:v,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[m]:this.lineColorArr,strokeWidth:0,fill:x,fillOpacity:s.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(m)});if(N.attr({index:0,j:m}),a.setSelectionFilter(N,0,m),s.config.chart.dropShadow.enabled){var k=s.config.chart.dropShadow;a.dropShadow(N,k,m)}this.addListeners(N,this.donutDataLabels),Xe.setAttrs(N.node,{"data:angle":y,"data:startAngle":c,"data:strokeWidth":this.strokeWidth,"data:value":t[m]});var S={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?S=ce.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize/1.25+s.config.plotOptions.pie.dataLabels.offset,(c+y/2)%this.fullAngle):this.chartType==="donut"&&(S=ce.polarToCartesian(this.centerX,this.centerY,(s.globals.radialSize+this.donutSize)/2+s.config.plotOptions.pie.dataLabels.offset,(c+y/2)%this.fullAngle)),p.add(N);var R=0;if(!this.initialAnim||s.globals.resized||s.globals.dataChanged?this.animBeginArr.push(0):((R=y/this.fullAngle*s.config.chart.animations.speed)===0&&(R=1),this.animDur=R+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&s.globals.dataChanged?this.animatePaths(N,{size:this.sliceSizes[m],endAngle:u,startAngle:c,prevStartAngle:d,prevEndAngle:f,animateStartingPos:!0,i:m,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:s.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(N,{size:this.sliceSizes[m],endAngle:u,startAngle:c,i:m,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:R}),s.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&N.node.addEventListener("mouseup",this.pieClicked.bind(this,m)),s.globals.selectedDataPoints[0]!==void 0&&s.globals.selectedDataPoints[0].indexOf(m)>-1&&this.pieClicked(m),s.config.dataLabels.enabled){var A=S.x,D=S.y,P=100*y/this.fullAngle+"%";if(y!==0&&s.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[m]){var E=s.config.dataLabels.formatter;E!==void 0&&(P=E(s.globals.seriesPercent[m][0],{seriesIndex:m,w:s}));var I=s.globals.dataLabels.style.colors[m],M=i.group({class:"apexcharts-datalabels"}),L=i.drawText({x:A,y:D,text:P,textAnchor:"middle",fontSize:s.config.dataLabels.style.fontSize,fontFamily:s.config.dataLabels.style.fontFamily,fontWeight:s.config.dataLabels.style.fontWeight,foreColor:I});if(M.add(L),s.config.dataLabels.dropShadow.enabled){var z=s.config.dataLabels.dropShadow;a.dropShadow(L,z)}L.node.classList.add("apexcharts-pie-label"),s.config.chart.animations.animate&&s.globals.resized===!1&&(L.node.classList.add("apexcharts-pie-label-delay"),L.node.style.animationDelay=s.config.chart.animations.speed/940+"s"),this.sliceLabels.push(M)}}}return l}},{key:"addListeners",value:function(e,t){var s=new Xe(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var s=this.w,a=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,i=a,o=t.startAngle,l=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(o=t.prevEndAngle,i=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===s.config.series.length-1&&(a+l>this.fullAngle?t.endAngle=t.endAngle-(a+l):a+l<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(a+l)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(e,o,l,a,i,t)}},{key:"animateArc",value:function(e,t,s,a,i,o){var l,c=this,d=this.w,u=new qh(this.ctx),f=o.size;(isNaN(t)||isNaN(i))&&(t=s,i=a,o.dur=0);var m=a,p=s,y=t<s?this.fullAngle+t-s:t-s;d.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(l=c.getPiePath({me:c,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:f}),e.attr({d:l})),o.dur!==0?e.animate(o.dur,o.animBeginArr[o.i]).after((function(){c.chartType!=="pie"&&c.chartType!=="donut"&&c.chartType!=="polarArea"||this.animate(d.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":c.strokeWidth}),o.i===d.config.series.length-1&&u.animationCompleted(e)})).during((function(x){m=y+(a-y)*x,o.animateStartingPos&&(m=i+(a-i)*x,p=t-i+(s-(t-i))*x),l=c.getPiePath({me:c,startAngle:p,angle:m,size:f}),e.node.setAttribute("data:pathOrig",l),e.attr({d:l})})):(l=c.getPiePath({me:c,startAngle:p,angle:a,size:f}),o.isTrack||(d.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",l),e.attr({d:l,"stroke-width":c.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,s=this.w,a=this,i=a.sliceSizes[e]+(s.config.plotOptions.pie.expandOnClick?4:0),o=s.globals.dom.Paper.findOne(".apexcharts-".concat(a.chartType.toLowerCase(),"-slice-").concat(e));if(o.attr("data:pieClicked")!=="true"){var l=s.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(l,(function(f){f.setAttribute("data:pieClicked","false");var m=f.getAttribute("data:pathOrig");m&&f.setAttribute("d",m)})),s.globals.capturedDataPointIndex=e,o.attr("data:pieClicked","true");var c=parseInt(o.attr("data:startAngle"),10),d=parseInt(o.attr("data:angle"),10);t=a.getPiePath({me:a,startAngle:c,angle:d,size:i}),d!==360&&o.plot(t)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var u=o.attr("data:pathOrig");o.attr({d:u})}}},{key:"getChangedPath",value:function(e,t){var s="";return this.dynamicAnim&&this.w.globals.dataChanged&&(s=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),s}},{key:"getPiePath",value:function(e){var t,s=e.me,a=e.startAngle,i=e.angle,o=e.size,l=new Xe(this.ctx),c=a,d=Math.PI*(c-90)/180,u=i+a;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var f=Math.PI*(u-90)/180,m=s.centerX+o*Math.cos(d),p=s.centerY+o*Math.sin(d),y=s.centerX+o*Math.cos(f),x=s.centerY+o*Math.sin(f),v=ce.polarToCartesian(s.centerX,s.centerY,s.donutSize,u),N=ce.polarToCartesian(s.centerX,s.centerY,s.donutSize,c),k=i>180?1:0,S=["M",m,p,"A",o,o,0,k,1,y,x];return t=s.chartType==="donut"?[].concat(S,["L",v.x,v.y,"A",s.donutSize,s.donutSize,0,k,0,N.x,N.y,"L",m,p,"z"]).join(" "):s.chartType==="pie"||s.chartType==="polarArea"?[].concat(S,["L",s.centerX,s.centerY,"L",m,p]).join(" "):[].concat(S).join(" "),l.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,s=new G8(this.ctx),a=new Xe(this.ctx),i=new ez(this.ctx),o=a.group(),l=a.group(),c=s.niceScale(0,Math.ceil(this.maxY),0),d=c.result.reverse(),u=c.result.length;this.maxY=c.niceMax;for(var f=t.globals.radialSize,m=f/(u-1),p=0;p<u-1;p++){var y=a.drawCircle(f);if(y.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var x=i.drawYAxisTexts(this.centerX,this.centerY-f+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,p,d[p]);l.add(x)}o.add(y),f-=m}this.drawSpokes(e),e.add(o),e.add(l)}},{key:"renderInnerDataLabels",value:function(e,t,s){var a=this.w,i=new Xe(this.ctx),o=t.total.show;e.node.innerHTML="",e.node.style.opacity=s.opacity;var l,c,d=s.centerX,u=this.donutDataLabels.total.label?s.centerY:s.centerY-s.centerY/6;l=t.name.color===void 0?a.globals.colors[0]:t.name.color;var f=t.name.fontSize,m=t.name.fontFamily,p=t.name.fontWeight;c=t.value.color===void 0?a.config.chart.foreColor:t.value.color;var y=t.value.formatter,x="",v="";if(o?(l=t.total.color,f=t.total.fontSize,m=t.total.fontFamily,p=t.total.fontWeight,v=this.donutDataLabels.total.label?t.total.label:"",x=t.total.formatter(a)):a.globals.series.length===1&&(x=y(a.globals.series[0],a),v=a.globals.seriesNames[0]),v&&(v=t.name.formatter(v,t.total.show,a)),t.name.show){var N=i.drawText({x:d,y:u+parseFloat(t.name.offsetY),text:v,textAnchor:"middle",foreColor:l,fontSize:f,fontWeight:p,fontFamily:m});N.node.classList.add("apexcharts-datalabel-label"),e.add(N)}if(t.value.show){var k=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,S=i.drawText({x:d,y:u+k,text:x,textAnchor:"middle",foreColor:c,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});S.node.classList.add("apexcharts-datalabel-value"),e.add(S)}return e}},{key:"printInnerLabels",value:function(e,t,s,a){var i,o=this.w;a?i=e.name.color===void 0?o.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:e.name.color:o.globals.series.length>1&&e.total.show&&(i=e.total.color);var l=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),c=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");s=(0,e.value.formatter)(s,o),a||typeof e.total.formatter!="function"||(s=e.total.formatter(o));var d=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,d,o):"",l!==null&&(l.textContent=t),c!==null&&(c.textContent=s),l!==null&&(l.style.fill=i)}},{key:"printDataLabelsInner",value:function(e,t){var s=this.w,a=e.getAttribute("data:value"),i=s.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];s.globals.series.length>1&&this.printInnerLabels(t,i,a,e);var o=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");o!==null&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,s=this.w,a=new Xe(this.ctx),i=s.config.plotOptions.polarArea.spokes;if(i.strokeWidth!==0){for(var o=[],l=360/s.globals.series.length,c=0;c<s.globals.series.length;c++)o.push(ce.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize,s.config.plotOptions.pie.startAngle+l*c));o.forEach((function(d,u){var f=a.drawLine(d.x,d.y,t.centerX,t.centerY,Array.isArray(i.connectorColors)?i.connectorColors[u]:i.connectorColors);e.add(f)}))}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),s=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(s)}}}]),r})(),pme=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new Xe(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new Ir(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return St(r,[{key:"draw",value:function(e){var t=this,s=this.w,a=new gi(this.ctx),i=[],o=new Nh(this.ctx);e.length&&(this.dataPointsLen=e[s.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var l=s.globals.gridWidth/2,c=s.globals.gridHeight/2,d=l+s.config.plotOptions.radar.offsetX,u=c+s.config.plotOptions.radar.offsetY,f=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(d||0,", ").concat(u||0,")")}),m=[],p=null,y=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach((function(v,N){var k=v.length===s.globals.dataPoints,S=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":k,seriesName:ce.escapeString(s.globals.seriesNames[N]),rel:N+1,"data:realIndex":N});t.dataRadiusOfPercent[N]=[],t.dataRadius[N]=[],t.angleArr[N]=[],v.forEach((function(F,V){var $=Math.abs(t.maxValue-t.minValue);F-=t.minValue,t.isLog&&(F=t.coreUtils.getLogVal(t.logBase,F,0)),t.dataRadiusOfPercent[N][V]=F/$,t.dataRadius[N][V]=t.dataRadiusOfPercent[N][V]*t.size,t.angleArr[N][V]=V*t.disAngle})),m=t.getDataPointsPos(t.dataRadius[N],t.angleArr[N]);var R=t.createPaths(m,{x:0,y:0});p=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),y=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":N}),s.globals.delayedElements.push({el:p.node,index:N});var A={i:N,realIndex:N,animationDelay:N,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:s.globals.stroke.colors[N],strokeLineCap:s.config.stroke.lineCap},D=null;s.globals.previousPaths.length>0&&(D=t.getPreviousPath(N));for(var P=0;P<R.linePathsTo.length;P++){var E=t.graphics.renderPaths(ht(ht({},A),{},{pathFrom:D===null?R.linePathsFrom[P]:D,pathTo:R.linePathsTo[P],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[N]:t.strokeWidth,fill:"none",drawShadow:!1}));S.add(E);var I=a.fillPath({seriesNumber:N}),M=t.graphics.renderPaths(ht(ht({},A),{},{pathFrom:D===null?R.areaPathsFrom[P]:D,pathTo:R.areaPathsTo[P],strokeWidth:0,fill:I,drawShadow:!1}));if(s.config.chart.dropShadow.enabled){var L=new ka(t.ctx),z=s.config.chart.dropShadow;L.dropShadow(M,Object.assign({},z,{noUserSpaceOnUse:!0}),N)}S.add(M)}v.forEach((function(F,V){var $=new Xh(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:N,dataPointIndex:V}),Y=t.graphics.drawMarker(m[V].x,m[V].y,$);Y.attr("rel",V),Y.attr("j",V),Y.attr("index",N),Y.node.setAttribute("default-marker-size",$.pSize);var X=t.graphics.group({class:"apexcharts-series-markers"});X&&X.add(Y),p.add(X),S.add(p);var ee=s.config.dataLabels;if(ee.enabled){var W=ee.formatter(s.globals.series[N][V],{seriesIndex:N,dataPointIndex:V,w:s});o.plotDataLabelsText({x:m[V].x,y:m[V].y,text:W,textAnchor:"middle",i:N,j:N,parent:y,offsetCorrection:!1,dataLabelsConfig:ht({},ee)})}S.add(y)})),i.push(S)})),this.drawPolygons({parent:f}),s.config.xaxis.labels.show){var x=this.drawXAxisTexts();f.add(x)}return i.forEach((function(v){f.add(v)})),f.add(this.yaxisLabels),f}},{key:"drawPolygons",value:function(e){for(var t=this,s=this.w,a=e.parent,i=new ez(this.ctx),o=s.globals.yAxisScale[0].result.reverse(),l=o.length,c=[],d=this.size/(l-1),u=0;u<l;u++)c[u]=d*u;c.reverse();var f=[],m=[];c.forEach((function(p,y){var x=ce.getPolygonPos(p,t.dataPointsLen),v="";x.forEach((function(N,k){if(y===0){var S=t.graphics.drawLine(N.x,N.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[k]:t.polygons.connectorColors);m.push(S)}k===0&&t.yaxisLabelsTextsPos.push({x:N.x,y:N.y}),v+=N.x+","+N.y+" "})),f.push(v)})),f.forEach((function(p,y){var x=t.polygons.strokeColors,v=t.polygons.strokeWidth,N=t.graphics.drawPolygon(p,Array.isArray(x)?x[y]:x,Array.isArray(v)?v[y]:v,s.globals.radarPolygons.fill.colors[y]);a.add(N)})),m.forEach((function(p){a.add(p)})),s.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(p,y){var x=i.drawYAxisTexts(p.x,p.y,y,o[y]);t.yaxisLabels.add(x)}))}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,s=t.config.xaxis.labels,a=this.graphics.group({class:"apexcharts-xaxis"}),i=ce.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach((function(o,l){var c=t.config.xaxis.labels.formatter,d=new Nh(e.ctx);if(i[l]){var u=e.getTextPos(i[l],e.size),f=c(o,{seriesIndex:-1,dataPointIndex:l,w:t});d.plotDataLabelsText({x:u.newX,y:u.newY,text:f,textAnchor:u.textAnchor,i:l,j:l,parent:a,className:"apexcharts-xaxis-label",color:Array.isArray(s.style.colors)&&s.style.colors[l]?s.style.colors[l]:"#a8a8a8",dataLabelsConfig:ht({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},s),offsetCorrection:!1}).on("click",(function(m){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var p=Object.assign({},t,{labelIndex:l});t.config.chart.events.xAxisLabelClick(m,e.ctx,p)}}))}})),a}},{key:"createPaths",value:function(e,t){var s=this,a=[],i=[],o=[],l=[];if(e.length){i=[this.graphics.move(t.x,t.y)],l=[this.graphics.move(t.x,t.y)];var c=this.graphics.move(e[0].x,e[0].y),d=this.graphics.move(e[0].x,e[0].y);e.forEach((function(u,f){c+=s.graphics.line(u.x,u.y),d+=s.graphics.line(u.x,u.y),f===e.length-1&&(c+="Z",d+="Z")})),a.push(c),o.push(d)}return{linePathsFrom:i,linePathsTo:a,areaPathsFrom:l,areaPathsTo:o}}},{key:"getTextPos",value:function(e,t){var s="middle",a=e.x,i=e.y;return Math.abs(e.x)>=10?e.x>0?(s="start",a+=10):e.x<0&&(s="end",a-=10):s="middle",Math.abs(e.y)>=t-10&&(e.y<0?i-=10:e.y>0&&(i+=10)),{textAnchor:s,newX:a,newY:i}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,s=null,a=0;a<t.globals.previousPaths.length;a++){var i=t.globals.previousPaths[a];i.paths.length>0&&parseInt(i.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[a].paths[0]!==void 0&&(s=t.globals.previousPaths[a].paths[0].d)}return s}},{key:"getDataPointsPos",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var a=[],i=0;i<s;i++){var o={};o.x=e[i]*Math.sin(t[i]),o.y=-e[i]*Math.cos(t[i]),a.push(o)}return a}}]),r})(),xme=(function(r){xp(t,tz);var e=pp(t);function t(s){var a;kt(this,t),(a=e.call(this,s)).ctx=s,a.w=s.w,a.animBeginArr=[0],a.animDur=0;var i=a.w;return a.startAngle=i.config.plotOptions.radialBar.startAngle,a.endAngle=i.config.plotOptions.radialBar.endAngle,a.totalAngle=Math.abs(i.config.plotOptions.radialBar.endAngle-i.config.plotOptions.radialBar.startAngle),a.trackStartAngle=i.config.plotOptions.radialBar.track.startAngle,a.trackEndAngle=i.config.plotOptions.radialBar.track.endAngle,a.barLabels=a.w.config.plotOptions.radialBar.barLabels,a.donutDataLabels=a.w.config.plotOptions.radialBar.dataLabels,a.radialDataLabels=a.donutDataLabels,a.trackStartAngle||(a.trackStartAngle=a.startAngle),a.trackEndAngle||(a.trackEndAngle=a.endAngle),a.endAngle===360&&(a.endAngle=359.99),a.margin=parseInt(i.config.plotOptions.radialBar.track.margin,10),a.onBarLabelClick=a.onBarLabelClick.bind(f8(a)),a}return St(t,[{key:"draw",value:function(s){var a=this.w,i=new Xe(this.ctx),o=i.group({class:"apexcharts-radialbar"});if(a.globals.noData)return o;var l=i.group(),c=this.defaultSize/2,d=a.globals.gridWidth/2,u=this.defaultSize/2.05;a.config.chart.sparkline.enabled||(u=u-a.config.stroke.width-a.config.chart.dropShadow.blur);var f=a.globals.fill.colors;if(a.config.plotOptions.radialBar.track.show){var m=this.drawTracks({size:u,centerX:d,centerY:c,colorArr:f,series:s});l.add(m)}var p=this.drawArcs({size:u,centerX:d,centerY:c,colorArr:f,series:s}),y=360;a.config.plotOptions.radialBar.startAngle<0&&(y=this.totalAngle);var x=(360-y)/360;if(a.globals.radialSize=u-u*x,this.radialDataLabels.value.show){var v=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);a.globals.radialSize+=v*x}return l.add(p.g),a.config.plotOptions.radialBar.hollow.position==="front"&&(p.g.add(p.elHollow),p.dataLabels&&p.g.add(p.dataLabels)),o.add(l),o}},{key:"drawTracks",value:function(s){var a=this.w,i=new Xe(this.ctx),o=i.group({class:"apexcharts-tracks"}),l=new ka(this.ctx),c=new gi(this.ctx),d=this.getStrokeWidth(s);s.size=s.size-d/2;for(var u=0;u<s.series.length;u++){var f=i.group({class:"apexcharts-radialbar-track apexcharts-track"});o.add(f),f.attr({rel:u+1}),s.size=s.size-d-this.margin;var m=a.config.plotOptions.radialBar.track,p=c.fillPath({seriesNumber:0,size:s.size,fillColors:Array.isArray(m.background)?m.background[u]:m.background,solid:!0}),y=this.trackStartAngle,x=this.trackEndAngle;Math.abs(x)+Math.abs(y)>=360&&(x=360-Math.abs(this.startAngle)-.1);var v=i.drawPath({d:"",stroke:p,strokeWidth:d*parseInt(m.strokeWidth,10)/100,fill:"none",strokeOpacity:m.opacity,classes:"apexcharts-radialbar-area"});if(m.dropShadow.enabled){var N=m.dropShadow;l.dropShadow(v,N)}f.add(v),v.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(v,{centerX:s.centerX,centerY:s.centerY,endAngle:x,startAngle:y,size:s.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return o}},{key:"drawArcs",value:function(s){var a=this.w,i=new Xe(this.ctx),o=new gi(this.ctx),l=new ka(this.ctx),c=i.group(),d=this.getStrokeWidth(s);s.size=s.size-d/2;var u=a.config.plotOptions.radialBar.hollow.background,f=s.size-d*s.series.length-this.margin*s.series.length-d*parseInt(a.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,m=f-a.config.plotOptions.radialBar.hollow.margin;a.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(s,c,f,u));var p=this.drawHollow({size:m,centerX:s.centerX,centerY:s.centerY,fill:u||"transparent"});if(a.config.plotOptions.radialBar.hollow.dropShadow.enabled){var y=a.config.plotOptions.radialBar.hollow.dropShadow;l.dropShadow(p,y)}var x=1;!this.radialDataLabels.total.show&&a.globals.series.length>1&&(x=0);var v=null;if(this.radialDataLabels.show){var N=a.globals.dom.Paper.findOne(".apexcharts-datalabels-group");v=this.renderInnerDataLabels(N,this.radialDataLabels,{hollowSize:f,centerX:s.centerX,centerY:s.centerY,opacity:x})}a.config.plotOptions.radialBar.hollow.position==="back"&&(c.add(p),v&&c.add(v));var k=!1;a.config.plotOptions.radialBar.inverseOrder&&(k=!0);for(var S=k?s.series.length-1:0;k?S>=0:S<s.series.length;k?S--:S++){var R=i.group({class:"apexcharts-series apexcharts-radial-series",seriesName:ce.escapeString(a.globals.seriesNames[S])});c.add(R),R.attr({rel:S+1,"data:realIndex":S}),this.ctx.series.addCollapsedClassToSeries(R,S),s.size=s.size-d-this.margin;var A=o.fillPath({seriesNumber:S,size:s.size,value:s.series[S]}),D=this.startAngle,P=void 0,E=ce.negToZero(s.series[S]>100?100:s.series[S])/100,I=Math.round(this.totalAngle*E)+this.startAngle,M=void 0;a.globals.dataChanged&&(P=this.startAngle,M=Math.round(this.totalAngle*ce.negToZero(a.globals.previousPaths[S])/100)+P),Math.abs(I)+Math.abs(D)>360&&(I-=.01),Math.abs(M)+Math.abs(P)>360&&(M-=.01);var L=I-D,z=Array.isArray(a.config.stroke.dashArray)?a.config.stroke.dashArray[S]:a.config.stroke.dashArray,F=i.drawPath({d:"",stroke:A,strokeWidth:d,fill:"none",fillOpacity:a.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+S,strokeDashArray:z});if(Xe.setAttrs(F.node,{"data:angle":L,"data:value":s.series[S]}),a.config.chart.dropShadow.enabled){var V=a.config.chart.dropShadow;l.dropShadow(F,V,S)}if(l.setSelectionFilter(F,0,S),this.addListeners(F,this.radialDataLabels),R.add(F),F.attr({index:0,j:S}),this.barLabels.enabled){var $=ce.polarToCartesian(s.centerX,s.centerY,s.size,D),Y=this.barLabels.formatter(a.globals.seriesNames[S],{seriesIndex:S,w:a}),X=["apexcharts-radialbar-label"];this.barLabels.onClick||X.push("apexcharts-no-click");var ee=this.barLabels.useSeriesColors?a.globals.colors[S]:a.config.chart.foreColor;ee||(ee=a.config.chart.foreColor);var W=$.x+this.barLabels.offsetX,B=$.y+this.barLabels.offsetY,G=i.drawText({x:W,y:B,text:Y,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:ee,cssClass:X.join(" ")});G.on("click",this.onBarLabelClick),G.attr({rel:S+1}),D!==0&&G.attr({"transform-origin":"".concat(W," ").concat(B),transform:"rotate(".concat(D," 0 0)")}),R.add(G)}var te=0;!this.initialAnim||a.globals.resized||a.globals.dataChanged||(te=a.config.chart.animations.speed),a.globals.dataChanged&&(te=a.config.chart.animations.dynamicAnimation.speed),this.animDur=te/(1.2*s.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(F,{centerX:s.centerX,centerY:s.centerY,endAngle:I,startAngle:D,prevEndAngle:M,prevStartAngle:P,size:s.size,i:S,totalItems:2,animBeginArr:this.animBeginArr,dur:te,shouldSetPrevPaths:!0})}return{g:c,elHollow:p,dataLabels:v}}},{key:"drawHollow",value:function(s){var a=new Xe(this.ctx).drawCircle(2*s.size);return a.attr({class:"apexcharts-radialbar-hollow",cx:s.centerX,cy:s.centerY,r:s.size,fill:s.fill}),a}},{key:"drawHollowImage",value:function(s,a,i,o){var l=this.w,c=new gi(this.ctx),d=ce.randomId(),u=l.config.plotOptions.radialBar.hollow.image;if(l.config.plotOptions.radialBar.hollow.imageClipped)c.clippedImgArea({width:i,height:i,image:u,patternID:"pattern".concat(l.globals.cuid).concat(d)}),o="url(#pattern".concat(l.globals.cuid).concat(d,")");else{var f=l.config.plotOptions.radialBar.hollow.imageWidth,m=l.config.plotOptions.radialBar.hollow.imageHeight;if(f===void 0&&m===void 0){var p=l.globals.dom.Paper.image(u,(function(x){this.move(s.centerX-x.width/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-x.height/2+l.config.plotOptions.radialBar.hollow.imageOffsetY)}));a.add(p)}else{var y=l.globals.dom.Paper.image(u,(function(x){this.move(s.centerX-f/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-m/2+l.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(f,m)}));a.add(y)}}return o}},{key:"getStrokeWidth",value:function(s){var a=this.w;return s.size*(100-parseInt(a.config.plotOptions.radialBar.hollow.size,10))/100/(s.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(s){var a=parseInt(s.target.getAttribute("rel"),10)-1,i=this.barLabels.onClick,o=this.w;i&&i(o.globals.seriesNames[a],{w:o,seriesIndex:a})}}]),t})(),bme=(function(r){xp(t,jh);var e=pp(t);function t(){return kt(this,t),e.apply(this,arguments)}return St(t,[{key:"draw",value:function(s,a){var i=this.w,o=new Xe(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=s,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(s);for(var l=o.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),c=0;c<s.length;c++){var d,u,f,m,p=void 0,y=void 0,x=i.globals.comboCharts?a[c]:c,v=this.barHelpers.getGroupIndex(x).columnGroupIndex,N=o.group({class:"apexcharts-series",seriesName:ce.escapeString(i.globals.seriesNames[x]),rel:c+1,"data:realIndex":x});this.ctx.series.addCollapsedClassToSeries(N,x),s[c].length>0&&(this.visibleI=this.visibleI+1);var k=0,S=0,R=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[x][0],R=x);var A=this.barHelpers.initialPositions(x);y=A.y,m=A.zeroW,p=A.x,S=A.barWidth,k=A.barHeight,d=A.xDivision,u=A.yDivision,f=A.zeroH;for(var D=o.group({class:"apexcharts-datalabels","data:realIndex":x}),P=o.group({class:"apexcharts-rangebar-goals-markers"}),E=0;E<i.globals.dataPoints;E++){var I=this.barHelpers.getStrokeWidth(c,E,x),M=this.seriesRangeStart[c][E],L=this.seriesRangeEnd[c][E],z=null,F=null,V=null,$={x:p,y,strokeWidth:I,elSeries:N},Y=this.seriesLen;if(i.config.plotOptions.bar.rangeBarGroupRows&&(Y=1),i.config.series[c].data[E]===void 0)break;if(this.isHorizontal){V=y+k*this.visibleI;var X=(u-k*Y)/2;if(i.config.series[c].data[E].x){var ee=this.detectOverlappingBars({i:c,j:E,barYPosition:V,srty:X,barHeight:k,yDivision:u,initPositions:A});k=ee.barHeight,V=ee.barYPosition}S=(z=this.drawRangeBarPaths(ht({indexes:{i:c,j:E,realIndex:x},barHeight:k,barYPosition:V,zeroW:m,yDivision:u,y1:M,y2:L},$))).barWidth}else{i.globals.isXNumeric&&(p=(i.globals.seriesX[c][E]-i.globals.minX)/this.xRatio-S/2),F=p+S*this.visibleI;var W=(d-S*Y)/2;if(i.config.series[c].data[E].x){var B=this.detectOverlappingBars({i:c,j:E,barXPosition:F,srtx:W,barWidth:S,xDivision:d,initPositions:A});S=B.barWidth,F=B.barXPosition}k=(z=this.drawRangeColumnPaths(ht({indexes:{i:c,j:E,realIndex:x,translationsIndex:R},barWidth:S,barXPosition:F,zeroH:f,xDivision:d},$))).barHeight}var G=this.barHelpers.drawGoalLine({barXPosition:z.barXPosition,barYPosition:V,goalX:z.goalX,goalY:z.goalY,barHeight:k,barWidth:S});G&&P.add(G),y=z.y,p=z.x;var te=this.barHelpers.getPathFillColor(s,c,E,x);this.renderSeries({realIndex:x,pathFill:te.color,lineFill:te.useRangeColor?te.color:i.globals.stroke.colors[x],j:E,i:c,x:p,y,y1:M,y2:L,pathFrom:z.pathFrom,pathTo:z.pathTo,strokeWidth:I,elSeries:N,series:s,barHeight:k,barWidth:S,barXPosition:F,barYPosition:V,columnGroupIndex:v,elDataLabelsWrap:D,elGoalsMarkers:P,visibleSeries:this.visibleI,type:"rangebar"})}l.add(N)}return l}},{key:"detectOverlappingBars",value:function(s){var a=s.i,i=s.j,o=s.barYPosition,l=s.barXPosition,c=s.srty,d=s.srtx,u=s.barHeight,f=s.barWidth,m=s.yDivision,p=s.xDivision,y=s.initPositions,x=this.w,v=[],N=x.config.series[a].data[i].rangeName,k=x.config.series[a].data[i].x,S=Array.isArray(k)?k.join(" "):k,R=x.globals.labels.map((function(D){return Array.isArray(D)?D.join(" "):D})).indexOf(S),A=x.globals.seriesRange[a].findIndex((function(D){return D.x===S&&D.overlaps.length>0}));return this.isHorizontal?(o=x.config.plotOptions.bar.rangeBarGroupRows?c+m*R:c+u*this.visibleI+m*R,A>-1&&!x.config.plotOptions.bar.rangeBarOverlap&&(v=x.globals.seriesRange[a][A].overlaps).indexOf(N)>-1&&(o=(u=y.barHeight/v.length)*this.visibleI+m*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+v.indexOf(N))+m*R)):(R>-1&&!x.globals.timescaleLabels.length&&(l=x.config.plotOptions.bar.rangeBarGroupRows?d+p*R:d+f*this.visibleI+p*R),A>-1&&!x.config.plotOptions.bar.rangeBarOverlap&&(v=x.globals.seriesRange[a][A].overlaps).indexOf(N)>-1&&(l=(f=y.barWidth/v.length)*this.visibleI+p*(100-parseInt(this.barOptions.barWidth,10))/100/2+f*(this.visibleI+v.indexOf(N))+p*R)),{barYPosition:o,barXPosition:l,barHeight:u,barWidth:f}}},{key:"drawRangeColumnPaths",value:function(s){var a=s.indexes,i=s.x,o=s.xDivision,l=s.barWidth,c=s.barXPosition,d=s.zeroH,u=this.w,f=a.i,m=a.j,p=a.realIndex,y=a.translationsIndex,x=this.yRatio[y],v=this.getRangeValue(p,m),N=Math.min(v.start,v.end),k=Math.max(v.start,v.end);this.series[f][m]===void 0||this.series[f][m]===null?N=d:(N=d-N/x,k=d-k/x);var S=Math.abs(k-N),R=this.barHelpers.getColumnPaths({barXPosition:c,barWidth:l,y1:N,y2:k,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:p,i:p,j:m,w:u});if(u.globals.isXNumeric){var A=this.getBarXForNumericXAxis({x:i,j:m,realIndex:p,barWidth:l});i=A.x,c=A.barXPosition}else i+=o;return{pathTo:R.pathTo,pathFrom:R.pathFrom,barHeight:S,x:i,y:v.start<0&&v.end<0?N:k,goalY:this.barHelpers.getGoalValues("y",null,d,f,m,y),barXPosition:c}}},{key:"preventBarOverflow",value:function(s){var a=this.w;return s<0&&(s=0),s>a.globals.gridWidth&&(s=a.globals.gridWidth),s}},{key:"drawRangeBarPaths",value:function(s){var a=s.indexes,i=s.y,o=s.y1,l=s.y2,c=s.yDivision,d=s.barHeight,u=s.barYPosition,f=s.zeroW,m=this.w,p=a.realIndex,y=a.j,x=this.preventBarOverflow(f+o/this.invertedYRatio),v=this.preventBarOverflow(f+l/this.invertedYRatio),N=this.getRangeValue(p,y),k=Math.abs(v-x),S=this.barHelpers.getBarpaths({barYPosition:u,barHeight:d,x1:x,x2:v,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:p,realIndex:p,j:y,w:m});return m.globals.isXNumeric||(i+=c),{pathTo:S.pathTo,pathFrom:S.pathFrom,barWidth:k,x:N.start<0&&N.end<0?x:v,goalX:this.barHelpers.getGoalValues("x",f,null,p,y),y:i}}},{key:"getRangeValue",value:function(s,a){var i=this.w;return{start:i.globals.seriesRangeStart[s][a],end:i.globals.seriesRangeEnd[s][a]}}}]),t})(),yme=(function(){function r(e){kt(this,r),this.w=e.w,this.lineCtx=e}return St(r,[{key:"sameValueSeriesFix",value:function(e,t){var s=this.w;if((s.config.fill.type==="gradient"||s.config.fill.type[e]==="gradient")&&new Ir(this.lineCtx.ctx,s).seriesHaveSameValues(e)){var a=t[e].slice();a[a.length-1]=a[a.length-1]+1e-6,t[e]=a}return t}},{key:"calculatePoints",value:function(e){var t=e.series,s=e.realIndex,a=e.x,i=e.y,o=e.i,l=e.j,c=e.prevY,d=this.w,u=[],f=[],m=this.lineCtx.categoryAxisCorrection+d.config.markers.offsetX;return d.globals.isXNumeric&&(m=(d.globals.seriesX[s][0]-d.globals.minX)/this.lineCtx.xRatio+d.config.markers.offsetX),l===0&&(u.push(m),f.push(ce.isNumber(t[o][0])?c+d.config.markers.offsetY:null)),u.push(a+d.config.markers.offsetX),f.push(ce.isNumber(t[o][l+1])?i+d.config.markers.offsetY:null),{x:u,y:f}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,s=e.pathFromArea,a=e.realIndex,i=this.w,o=0;o<i.globals.previousPaths.length;o++){var l=i.globals.previousPaths[o];(l.type==="line"||l.type==="area")&&l.paths.length>0&&parseInt(l.realIndex,10)===parseInt(a,10)&&(l.type==="line"?(this.lineCtx.appendPathFrom=!1,t=i.globals.previousPaths[o].paths[0].d):l.type==="area"&&(this.lineCtx.appendPathFrom=!1,s=i.globals.previousPaths[o].paths[0].d,i.config.stroke.show&&i.globals.previousPaths[o].paths[1]&&(t=i.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:t,pathFromArea:s}}},{key:"determineFirstPrevY",value:function(e){var t,s,a,i=e.i,o=e.realIndex,l=e.series,c=e.prevY,d=e.lineYPosition,u=e.translationsIndex,f=this.w,m=f.config.chart.stacked&&!f.globals.comboCharts||f.config.chart.stacked&&f.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[o])===null||t===void 0?void 0:t.type)==="bar"||((s=this.w.config.series[o])===null||s===void 0?void 0:s.type)==="column");if(((a=l[i])===null||a===void 0?void 0:a[0])!==void 0)c=(d=m&&i>0?this.lineCtx.prevSeriesY[i-1][0]:this.lineCtx.zeroY)-l[i][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?l[i][0]/this.lineCtx.yRatio[u]:0);else if(m&&i>0&&l[i][0]===void 0){for(var p=i-1;p>=0;p--)if(l[p][0]!==null&&l[p][0]!==void 0){c=d=this.lineCtx.prevSeriesY[p][0];break}}return{prevY:c,lineYPosition:d}}}]),r})(),vme=function(r){for(var e,t,s,a,i=(function(u){for(var f=[],m=u[0],p=u[1],y=f[0]=aj(m,p),x=1,v=u.length-1;x<v;x++)m=p,p=u[x+1],f[x]=.5*(y+(y=aj(m,p)));return f[x]=y,f})(r),o=r.length-1,l=[],c=0;c<o;c++)s=aj(r[c],r[c+1]),Math.abs(s)<1e-6?i[c]=i[c+1]=0:(a=(e=i[c]/s)*e+(t=i[c+1]/s)*t)>9&&(a=3*s/Math.sqrt(a),i[c]=a*e,i[c+1]=a*t);for(var d=0;d<=o;d++)a=(r[Math.min(o,d+1)][0]-r[Math.max(0,d-1)][0])/(6*(1+i[d]*i[d])),l.push([a||0,i[d]*a||0]);return l},wme=function(r){var e=vme(r),t=r[1],s=r[0],a=[],i=e[1],o=e[0];a.push(s,[s[0]+o[0],s[1]+o[1],t[0]-i[0],t[1]-i[1],t[0],t[1]]);for(var l=2,c=e.length;l<c;l++){var d=r[l],u=e[l];a.push([d[0]-u[0],d[1]-u[1],d[0],d[1]])}return a},Nme=function(r,e,t){var s=r.slice(e,t);if(e){if(t-e>1&&s[1].length<6){var a=s[0].length;s[1]=[2*s[0][a-2]-s[0][a-4],2*s[0][a-1]-s[0][a-3]].concat(s[1])}s[0]=s[0].slice(-2)}return s};function aj(r,e){return(e[1]-r[1])/(e[0]-r[0])}var nj=(function(){function r(e,t,s){kt(this,r),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||s,this.scatter=new q8(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new yme(this),this.markers=new Xh(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return St(r,[{key:"draw",value:function(e,t,s,a){var i,o=this.w,l=new Xe(this.ctx),c=o.globals.comboCharts?t:o.config.chart.type,d=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),u=new Ir(this.ctx,o);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var f=[],m=0;m<e.length;m++){e=this.lineHelpers.sameValueSeriesFix(m,e);var p=o.globals.comboCharts?s[m]:m,y=this.yRatio.length>1?p:0;this._initSerieVariables(e,m,p);var x=[],v=[],N=[],k=o.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,p),o.globals.isXNumeric&&o.globals.seriesX.length>0&&(k=(o.globals.seriesX[p][0]-o.globals.minX)/this.xRatio),N.push(k);var S,R=k,A=void 0,D=R,P=this.zeroY,E=this.zeroY;P=this.lineHelpers.determineFirstPrevY({i:m,realIndex:p,series:e,prevY:P,lineYPosition:0,translationsIndex:y}).prevY,o.config.stroke.curve==="monotoneCubic"&&e[m][0]===null?x.push(null):x.push(P),S=P,c==="rangeArea"&&(A=E=this.lineHelpers.determineFirstPrevY({i:m,realIndex:p,series:a,prevY:E,lineYPosition:0,translationsIndex:y}).prevY,v.push(x[0]!==null?E:null));var I=this._calculatePathsFrom({type:c,series:e,i:m,realIndex:p,translationsIndex:y,prevX:D,prevY:P,prevY2:E}),M=[x[0]],L=[v[0]],z={type:c,series:e,realIndex:p,translationsIndex:y,i:m,x:k,y:1,pX:R,pY:S,pathsFrom:I,linePaths:[],areaPaths:[],seriesIndex:s,lineYPosition:0,xArrj:N,yArrj:x,y2Arrj:v,seriesRangeEnd:a},F=this._iterateOverDataPoints(ht(ht({},z),{},{iterations:c==="rangeArea"?e[m].length-1:void 0,isRangeStart:!0}));if(c==="rangeArea"){for(var V=this._calculatePathsFrom({series:a,i:m,realIndex:p,prevX:D,prevY:E}),$=this._iterateOverDataPoints(ht(ht({},z),{},{series:a,xArrj:[k],yArrj:M,y2Arrj:L,pY:A,areaPaths:F.areaPaths,pathsFrom:V,iterations:a[m].length-1,isRangeStart:!1})),Y=F.linePaths.length/2,X=0;X<Y;X++)F.linePaths[X]=$.linePaths[X+Y]+F.linePaths[X];F.linePaths.splice(Y),F.pathFromLine=$.pathFromLine+F.pathFromLine}else F.pathFromArea+="z";this._handlePaths({type:c,realIndex:p,i:m,paths:F}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),f.push(this.elSeries)}if(((i=o.config.series[0])===null||i===void 0?void 0:i.zIndex)!==void 0&&f.sort((function(B,G){return Number(B.node.getAttribute("zIndex"))-Number(G.node.getAttribute("zIndex"))})),o.config.chart.stacked)for(var ee=f.length-1;ee>=0;ee--)d.add(f[ee]);else for(var W=0;W<f.length;W++)d.add(f[W]);return d}},{key:"_initSerieVariables",value:function(e,t,s){var a=this.w,i=new Xe(this.ctx);this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-(a.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[s]:a.config.stroke.width;var o=0;if(this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[s],o=s),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[o]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[o]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||a.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=i.group({class:"apexcharts-series",zIndex:a.config.series[s].zIndex!==void 0?a.config.series[s].zIndex:s,seriesName:ce.escapeString(a.globals.seriesNames[s])}),this.elPointsMain=i.group({class:"apexcharts-series-markers-wrap","data:realIndex":s}),a.globals.hasNullValues){var l=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[a.globals.gridHeight+a.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});l!==null&&this.elPointsMain.add(l)}this.elDataLabelsWrap=i.group({class:"apexcharts-datalabels","data:realIndex":s});var c=e[t].length===a.globals.dataPoints;this.elSeries.attr({"data:longestSeries":c,rel:t+1,"data:realIndex":s}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,s,a,i,o=e.type,l=e.series,c=e.i,d=e.realIndex,u=e.translationsIndex,f=e.prevX,m=e.prevY,p=e.prevY2,y=this.w,x=new Xe(this.ctx);if(l[c][0]===null){for(var v=0;v<l[c].length;v++)if(l[c][v]!==null){f=this.xDivision*v,m=this.zeroY-l[c][v]/this.yRatio[u],t=x.move(f,m),s=x.move(f,this.areaBottomY);break}}else t=x.move(f,m),o==="rangeArea"&&(t=x.move(f,p)+x.line(f,m)),s=x.move(f,this.areaBottomY)+x.line(f,m);if(a=x.move(0,this.areaBottomY)+x.line(0,this.areaBottomY),i=x.move(0,this.areaBottomY)+x.line(0,this.areaBottomY),y.globals.previousPaths.length>0){var N=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:i,realIndex:d});a=N.pathFromLine,i=N.pathFromArea}return{prevX:f,prevY:m,linePath:t,areaPath:s,pathFromLine:a,pathFromArea:i}}},{key:"_handlePaths",value:function(e){var t=e.type,s=e.realIndex,a=e.i,i=e.paths,o=this.w,l=new Xe(this.ctx),c=new gi(this.ctx);this.prevSeriesY.push(i.yArrj),o.globals.seriesXvalues[s]=i.xArrj,o.globals.seriesYvalues[s]=i.yArrj;var d=o.config.forecastDataPoints;if(d.count>0&&t!=="rangeArea"){var u=o.globals.seriesXvalues[s][o.globals.seriesXvalues[s].length-d.count-1],f=l.drawRect(u,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(f.node);var m=l.drawRect(0,0,u,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(m.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:s});var p={i:a,realIndex:s,animationDelay:a,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var y=c.fillPath({seriesNumber:s}),x=0;x<i.areaPaths.length;x++){var v=l.renderPaths(ht(ht({},p),{},{pathFrom:i.pathFromArea,pathTo:i.areaPaths[x],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:y}));this.elSeries.add(v)}if(o.config.stroke.show&&!this.pointsChart){var N=null;if(t==="line")N=c.fillPath({seriesNumber:s,i:a});else if(o.config.stroke.fill.type==="solid")N=o.globals.stroke.colors[s];else{var k=o.config.fill;o.config.fill=o.config.stroke.fill,N=c.fillPath({seriesNumber:s,i:a}),o.config.fill=k}for(var S=0;S<i.linePaths.length;S++){var R=N;t==="rangeArea"&&(R=c.fillPath({seriesNumber:s}));var A=ht(ht({},p),{},{pathFrom:i.pathFromLine,pathTo:i.linePaths[S],stroke:N,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:t==="rangeArea"?R:"none"}),D=l.renderPaths(A);if(this.elSeries.add(D),D.attr("fill-rule","evenodd"),d.count>0&&t!=="rangeArea"){var P=l.renderPaths(A);P.node.setAttribute("stroke-dasharray",d.dashArray),d.strokeWidth&&P.node.setAttribute("stroke-width",d.strokeWidth),this.elSeries.add(P),P.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),D.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,s,a=this,i=e.type,o=e.series,l=e.iterations,c=e.realIndex,d=e.translationsIndex,u=e.i,f=e.x,m=e.y,p=e.pX,y=e.pY,x=e.pathsFrom,v=e.linePaths,N=e.areaPaths,k=e.seriesIndex,S=e.lineYPosition,R=e.xArrj,A=e.yArrj,D=e.y2Arrj,P=e.isRangeStart,E=e.seriesRangeEnd,I=this.w,M=new Xe(this.ctx),L=this.yRatio,z=x.prevY,F=x.linePath,V=x.areaPath,$=x.pathFromLine,Y=x.pathFromArea,X=ce.isNumber(I.globals.minYArr[c])?I.globals.minYArr[c]:I.globals.minY;l||(l=I.globals.dataPoints>1?I.globals.dataPoints-1:I.globals.dataPoints);var ee=function(Be,de){return de-Be/L[d]+2*(a.isReversed?Be/L[d]:0)},W=m,B=I.config.chart.stacked&&!I.globals.comboCharts||I.config.chart.stacked&&I.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[c])===null||t===void 0?void 0:t.type)==="bar"||((s=this.w.config.series[c])===null||s===void 0?void 0:s.type)==="column"),G=I.config.stroke.curve;Array.isArray(G)&&(G=Array.isArray(k)?G[k[u]]:G[u]);for(var te,re=0,ie=0;ie<l&&o[u].length!==0;ie++){var he=o[u][ie+1]===void 0||o[u][ie+1]===null;if(I.globals.isXNumeric){var le=I.globals.seriesX[c][ie+1];I.globals.seriesX[c][ie+1]===void 0&&(le=I.globals.seriesX[c][l-1]),f=(le-I.globals.minX)/this.xRatio}else f+=this.xDivision;B?u>0&&I.globals.collapsedSeries.length<I.config.series.length-1?S=this.prevSeriesY[(function(Be){for(var de=Be;de>0;de--){if(!(I.globals.collapsedSeriesIndices.indexOf(k?.[de]||de)>-1))return de;de--}return 0})(u-1)][ie+1]:S=this.zeroY:S=this.zeroY,he?m=ee(X,S):(m=ee(o[u][ie+1],S),i==="rangeArea"&&(W=ee(E[u][ie+1],S))),R.push(o[u][ie+1]===null?null:f),!he||I.config.stroke.curve!=="smooth"&&I.config.stroke.curve!=="monotoneCubic"?(A.push(m),D.push(W)):(A.push(null),D.push(null));var De=this.lineHelpers.calculatePoints({series:o,x:f,y:m,realIndex:c,i:u,j:ie,prevY:z}),Oe=this._createPaths({type:i,series:o,i:u,realIndex:c,j:ie,x:f,y:m,y2:W,xArrj:R,yArrj:A,y2Arrj:D,pX:p,pY:y,pathState:re,segmentStartX:te,linePath:F,areaPath:V,linePaths:v,areaPaths:N,curve:G,isRangeStart:P});N=Oe.areaPaths,v=Oe.linePaths,p=Oe.pX,y=Oe.pY,re=Oe.pathState,te=Oe.segmentStartX,V=Oe.areaPath,F=Oe.linePath,!this.appendPathFrom||I.globals.hasNullValues||G==="monotoneCubic"&&i==="rangeArea"||($+=M.line(f,this.areaBottomY),Y+=M.line(f,this.areaBottomY)),this.handleNullDataPoints(o,De,u,ie,c),this._handleMarkersAndLabels({type:i,pointsPos:De,i:u,j:ie,realIndex:c,isRangeStart:P})}return{yArrj:A,xArrj:R,pathFromArea:Y,areaPaths:N,pathFromLine:$,linePaths:v,linePath:F,areaPath:V}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,s=e.pointsPos,a=e.isRangeStart,i=e.i,o=e.j,l=e.realIndex,c=this.w,d=new Nh(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:l,pointsPos:s,zRatio:this.zRatio,elParent:this.elPointsMain});else{c.globals.series[i].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers({pointsPos:s,seriesIndex:l,j:o+1});u!==null&&this.elPointsMain.add(u)}var f=d.drawDataLabel({type:t,isRangeStart:a,pos:s,i:l,j:o+1});f!==null&&this.elDataLabelsWrap.add(f)}},{key:"_createPaths",value:function(e){var t=e.type,s=e.series,a=e.i;e.realIndex;var i,o=e.j,l=e.x,c=e.y,d=e.xArrj,u=e.yArrj,f=e.y2,m=e.y2Arrj,p=e.pX,y=e.pY,x=e.pathState,v=e.segmentStartX,N=e.linePath,k=e.areaPath,S=e.linePaths,R=e.areaPaths,A=e.curve,D=e.isRangeStart,P=new Xe(this.ctx),E=this.areaBottomY,I=t==="rangeArea",M=t==="rangeArea"&&D;switch(A){case"monotoneCubic":var L=D?u:m;switch(x){case 0:if(L[o+1]===null)break;x=1;case 1:if(!(I?d.length===s[a].length:o===s[a].length-2))break;case 2:var z=D?d:d.slice().reverse(),F=D?L:L.slice().reverse(),V=(i=F,z.map((function(le,De){return[le,i[De]]})).filter((function(le){return le[1]!==null}))),$=V.length>1?wme(V):V,Y=[];I&&(M?R=V:Y=R.reverse());var X=0,ee=0;if((function(le,De){for(var Oe=(function(be){var Q=[],me=0;return be.forEach((function(We){We!==null?me++:me>0&&(Q.push(me),me=0)})),me>0&&Q.push(me),Q})(le),Be=[],de=0,Ye=0;de<Oe.length;Ye+=Oe[de++])Be[de]=Nme(De,Ye,Ye+Oe[de]);return Be})(F,$).forEach((function(le){X++;var De=(function(de){for(var Ye="",be=0;be<de.length;be++){var Q=de[be],me=Q.length;me>4?(Ye+="C".concat(Q[0],", ").concat(Q[1]),Ye+=", ".concat(Q[2],", ").concat(Q[3]),Ye+=", ".concat(Q[4],", ").concat(Q[5])):me>2&&(Ye+="S".concat(Q[0],", ").concat(Q[1]),Ye+=", ".concat(Q[2],", ").concat(Q[3]))}return Ye})(le),Oe=ee,Be=(ee+=le.length)-1;M?N=P.move(V[Oe][0],V[Oe][1])+De:I?N=P.move(Y[Oe][0],Y[Oe][1])+P.line(V[Oe][0],V[Oe][1])+De+P.line(Y[Be][0],Y[Be][1]):(N=P.move(V[Oe][0],V[Oe][1])+De,k=N+P.line(V[Be][0],E)+P.line(V[Oe][0],E)+"z",R.push(k)),S.push(N)})),I&&X>1&&!M){var W=S.slice(X).reverse();S.splice(X),W.forEach((function(le){return S.push(le)}))}x=0}break;case"smooth":var B=.35*(l-p);if(s[a][o]===null)x=0;else switch(x){case 0:if(v=p,N=M?P.move(p,m[o])+P.line(p,y):P.move(p,y),k=P.move(p,y),s[a][o+1]===null||s[a][o+1]===void 0){S.push(N),R.push(k);break}if(x=1,o<s[a].length-2){var G=P.curve(p+B,y,l-B,c,l,c);N+=G,k+=G;break}case 1:if(s[a][o+1]===null)N+=M?P.line(p,f):P.move(p,y),k+=P.line(p,E)+P.line(v,E)+"z",S.push(N),R.push(k),x=-1;else{var te=P.curve(p+B,y,l-B,c,l,c);N+=te,k+=te,o>=s[a].length-2&&(M&&(N+=P.curve(l,c,l,c,l,f)+P.move(l,f)),k+=P.curve(l,c,l,c,l,E)+P.line(v,E)+"z",S.push(N),R.push(k),x=-1)}}p=l,y=c;break;default:var re=function(le,De,Oe){var Be=[];switch(le){case"stepline":Be=P.line(De,null,"H")+P.line(null,Oe,"V");break;case"linestep":Be=P.line(null,Oe,"V")+P.line(De,null,"H");break;case"straight":Be=P.line(De,Oe)}return Be};if(s[a][o]===null)x=0;else switch(x){case 0:if(v=p,N=M?P.move(p,m[o])+P.line(p,y):P.move(p,y),k=P.move(p,y),s[a][o+1]===null||s[a][o+1]===void 0){S.push(N),R.push(k);break}if(x=1,o<s[a].length-2){var ie=re(A,l,c);N+=ie,k+=ie;break}case 1:if(s[a][o+1]===null)N+=M?P.line(p,f):P.move(p,y),k+=P.line(p,E)+P.line(v,E)+"z",S.push(N),R.push(k),x=-1;else{var he=re(A,l,c);N+=he,k+=he,o>=s[a].length-2&&(M&&(N+=P.line(l,f)),k+=P.line(l,E)+P.line(v,E)+"z",S.push(N),R.push(k),x=-1)}}p=l,y=c}return{linePaths:S,areaPaths:R,pX:p,pY:y,pathState:x,segmentStartX:v,linePath:N,areaPath:k}}},{key:"handleNullDataPoints",value:function(e,t,s,a,i){var o=this.w;if(e[s][a]===null&&o.config.markers.showNullDataPoints||e[s].length===1){var l=this.strokeWidth-o.config.markers.strokeWidth/2;l>0||(l=0);var c=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:i,j:a+1,pSize:l,alwaysDrawMarker:!0});c!==null&&this.elPointsMain.add(c)}}}]),r})();window.TreemapSquared={},window.TreemapSquared.generate=(function(){function r(l,c,d,u){this.xoffset=l,this.yoffset=c,this.height=u,this.width=d,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(f){var m,p=[],y=this.xoffset,x=this.yoffset,v=i(f)/this.height,N=i(f)/this.width;if(this.width>=this.height)for(m=0;m<f.length;m++)p.push([y,x,y+v,x+f[m]/v]),x+=f[m]/v;else for(m=0;m<f.length;m++)p.push([y,x,y+f[m]/N,x+N]),y+=f[m]/N;return p},this.cutArea=function(f){var m;if(this.width>=this.height){var p=f/this.height,y=this.width-p;m=new r(this.xoffset+p,this.yoffset,y,this.height)}else{var x=f/this.width,v=this.height-x;m=new r(this.xoffset,this.yoffset+x,this.width,v)}return m}}function e(l,c,d,u,f){u=u===void 0?0:u,f=f===void 0?0:f;var m=t((function(p,y){var x,v=[],N=y/i(p);for(x=0;x<p.length;x++)v[x]=p[x]*N;return v})(l,c*d),[],new r(u,f,c,d),[]);return(function(p){var y,x,v=[];for(y=0;y<p.length;y++)for(x=0;x<p[y].length;x++)v.push(p[y][x]);return v})(m)}function t(l,c,d,u){var f,m,p;if(l.length!==0)return f=d.shortestEdge(),(function(y,x,v){var N;if(y.length===0)return!0;(N=y.slice()).push(x);var k=s(y,v),S=s(N,v);return k>=S})(c,m=l[0],f)?(c.push(m),t(l.slice(1),c,d,u)):(p=d.cutArea(i(c),u),u.push(d.getCoordinates(c)),t(l,[],p,u)),u;u.push(d.getCoordinates(c))}function s(l,c){var d=Math.min.apply(Math,l),u=Math.max.apply(Math,l),f=i(l);return Math.max(Math.pow(c,2)*u/Math.pow(f,2),Math.pow(f,2)/(Math.pow(c,2)*d))}function a(l){return l&&l.constructor===Array}function i(l){var c,d=0;for(c=0;c<l.length;c++)d+=l[c];return d}function o(l){var c,d=0;if(a(l[0]))for(c=0;c<l.length;c++)d+=o(l[c]);else d=i(l);return d}return function l(c,d,u,f,m){f=f===void 0?0:f,m=m===void 0?0:m;var p,y,x=[],v=[];if(a(c[0])){for(y=0;y<c.length;y++)x[y]=o(c[y]);for(p=e(x,d,u,f,m),y=0;y<c.length;y++)v.push(l(c[y],p[y][2]-p[y][0],p[y][3]-p[y][1],p[y][0],p[y][1]))}else v=e(c,d,u,f,m);return v}})();var jme=(function(){function r(e,t){kt(this,r),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new J8(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return St(r,[{key:"draw",value:function(e){var t=this,s=this.w,a=new Xe(this.ctx),i=new gi(this.ctx),o=a.group({class:"apexcharts-treemap"});if(s.globals.noData)return o;var l=[];return e.forEach((function(c){var d=c.map((function(u){return Math.abs(u)}));l.push(d)})),this.negRange=this.helpers.checkColorRange(),s.config.series.forEach((function(c,d){c.data.forEach((function(u){Array.isArray(t.labels[d])||(t.labels[d]=[]),t.labels[d].push(u.x)}))})),window.TreemapSquared.generate(l,s.globals.gridWidth,s.globals.gridHeight).forEach((function(c,d){var u=a.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:ce.escapeString(s.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});if(s.config.chart.dropShadow.enabled){var f=s.config.chart.dropShadow;new ka(t.ctx).dropShadow(o,f,d)}var m=a.group({class:"apexcharts-data-labels"}),p={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};c.forEach((function($,Y){var X=$[0],ee=$[1],W=$[2],B=$[3];p.xMin=Math.min(p.xMin,X),p.yMin=Math.min(p.yMin,ee),p.xMax=Math.max(p.xMax,W),p.yMax=Math.max(p.yMax,B);var G=t.helpers.getShadeColor(s.config.chart.type,d,Y,t.negRange),te=G.color,re=i.fillPath({color:te,seriesNumber:d,dataPointIndex:Y}),ie=a.drawRect(X,ee,W-X,B-ee,s.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,s.config.plotOptions.treemap.useFillColorAsStroke?te:s.globals.stroke.colors[d]);ie.attr({cx:X,cy:ee,index:d,i:d,j:Y,width:W-X,height:B-ee,fill:re}),ie.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(ie);var he={x:X+(W-X)/2,y:ee+(B-ee)/2,width:0,height:0},le={x:X,y:ee,width:W-X,height:B-ee};if(s.config.chart.animations.enabled&&!s.globals.dataChanged){var De=1;s.globals.resized||(De=s.config.chart.animations.speed),t.animateTreemap(ie,he,le,De)}if(s.globals.dataChanged){var Oe=1;t.dynamicAnim.enabled&&s.globals.shouldAnimate&&(Oe=t.dynamicAnim.speed,s.globals.previousPaths[d]&&s.globals.previousPaths[d][Y]&&s.globals.previousPaths[d][Y].rect&&(he=s.globals.previousPaths[d][Y].rect),t.animateTreemap(ie,he,le,Oe))}var Be=t.getFontSize($),de=s.config.dataLabels.formatter(t.labels[d][Y],{value:s.globals.series[d][Y],seriesIndex:d,dataPointIndex:Y,w:s});s.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Be=parseInt(s.config.dataLabels.style.fontSize,10),de=t.truncateLabels(de,Be,X,ee,W,B));var Ye=null;s.globals.series[d][Y]&&(Ye=t.helpers.calculateDataLabels({text:de,x:(X+W)/2,y:(ee+B)/2+t.strokeWidth/2+Be/3,i:d,j:Y,colorProps:G,fontSize:Be,series:e})),s.config.dataLabels.enabled&&Ye&&t.rotateToFitLabel(Ye,Be,de,X,ee,W,B),u.add(ie),Ye!==null&&u.add(Ye)}));var y=s.config.plotOptions.treemap.seriesTitle;if(s.config.series.length>1&&y&&y.show){var x=s.config.series[d].name||"";if(x&&p.xMin<1/0&&p.yMin<1/0){var v=y.offsetX,N=y.offsetY,k=y.borderColor,S=y.borderWidth,R=y.borderRadius,A=y.style,D=A.color||s.config.chart.foreColor,P={left:A.padding.left,right:A.padding.right,top:A.padding.top,bottom:A.padding.bottom},E=a.getTextRects(x,A.fontSize,A.fontFamily),I=E.width+P.left+P.right,M=E.height+P.top+P.bottom,L=p.xMin+(v||0),z=p.yMin+(N||0),F=a.drawRect(L,z,I,M,R,A.background,1,S,k),V=a.drawText({x:L+P.left,y:z+P.top+.75*E.height,text:x,fontSize:A.fontSize,fontFamily:A.fontFamily,fontWeight:A.fontWeight,foreColor:D,cssClass:A.cssClass||""});u.add(F),u.add(V)}}u.add(m),o.add(u)})),o}},{key:"getFontSize",value:function(e){var t=this.w,s=(function a(i){var o,l=0;if(Array.isArray(i[0]))for(o=0;o<i.length;o++)l+=a(i[o]);else for(o=0;o<i.length;o++)l+=i[o].length;return l})(this.labels)/(function a(i){var o,l=0;if(Array.isArray(i[0]))for(o=0;o<i.length;o++)l+=a(i[o]);else for(o=0;o<i.length;o++)l+=1;return l})(this.labels);return(function(a,i){var o=a*i,l=Math.pow(o,.5);return Math.min(l/s,parseInt(t.config.dataLabels.style.fontSize,10))})(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,s,a,i,o,l){var c=new Xe(this.ctx),d=c.getTextRects(s,t);if(d.width+this.w.config.stroke.width+5>o-a&&d.width<=l-i){var u=c.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(d.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,s,a,i,o){var l=new Xe(this.ctx),c=l.getTextRects(e,t).width+this.w.config.stroke.width+5>i-s&&o-a>i-s?o-a:i-s,d=l.getTextBasedOnMaxWidth({text:e,maxWidth:c,fontSize:t});return e.length!==d.length&&c/t<5?"":d}},{key:"animateTreemap",value:function(e,t,s,a){var i=new qh(this.ctx);i.animateRect(e,t,s,a,(function(){i.animationCompleted(e)}))}}]),r})(),sz=86400,kme=10/sz,Sme=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return St(r,[{key:"calculateTimeScaleTicks",value:function(e,t){var s=this,a=this.w;if(a.globals.allSeriesCollapsed)return a.globals.labels=[],a.globals.timescaleLabels=[],[];var i=new Na(this.ctx),o=(t-e)/864e5;this.determineInterval(o),a.globals.disableZoomIn=!1,a.globals.disableZoomOut=!1,o<kme?a.globals.disableZoomIn=!0:o>5e4&&(a.globals.disableZoomOut=!0);var l=i.getTimeUnitsfromTimestamp(e,t,this.utc),c=a.globals.gridWidth/o,d=c/24,u=d/60,f=u/60,m=Math.floor(24*o),p=Math.floor(1440*o),y=Math.floor(o*sz),x=Math.floor(o),v=Math.floor(o/30),N=Math.floor(o/365),k={minMillisecond:l.minMillisecond,minSecond:l.minSecond,minMinute:l.minMinute,minHour:l.minHour,minDate:l.minDate,minMonth:l.minMonth,minYear:l.minYear},S={firstVal:k,currentMillisecond:k.minMillisecond,currentSecond:k.minSecond,currentMinute:k.minMinute,currentHour:k.minHour,currentMonthDate:k.minDate,currentDate:k.minDate,currentMonth:k.minMonth,currentYear:k.minYear,daysWidthOnXAxis:c,hoursWidthOnXAxis:d,minutesWidthOnXAxis:u,secondsWidthOnXAxis:f,numberOfSeconds:y,numberOfMinutes:p,numberOfHours:m,numberOfDays:x,numberOfMonths:v,numberOfYears:N};switch(this.tickInterval){case"years":this.generateYearScale(S);break;case"months":case"half_year":this.generateMonthScale(S);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(S);break;case"hours":this.generateHourScale(S);break;case"minutes_fives":case"minutes":this.generateMinuteScale(S);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(S)}var R=this.timeScaleArray.map((function(A){var D={position:A.position,unit:A.unit,year:A.year,day:A.day?A.day:1,hour:A.hour?A.hour:0,month:A.month+1};return A.unit==="month"?ht(ht({},D),{},{day:1,value:A.value+1}):A.unit==="day"||A.unit==="hour"?ht(ht({},D),{},{value:A.value}):A.unit==="minute"?ht(ht({},D),{},{value:A.value,minute:A.value}):A.unit==="second"?ht(ht({},D),{},{value:A.value,minute:A.minute,second:A.second}):A}));return R.filter((function(A){var D=1,P=Math.ceil(a.globals.gridWidth/120),E=A.value;a.config.xaxis.tickAmount!==void 0&&(P=a.config.xaxis.tickAmount),R.length>P&&(D=Math.floor(R.length/P));var I=!1,M=!1;switch(s.tickInterval){case"years":A.unit==="year"&&(I=!0);break;case"half_year":D=7,A.unit==="year"&&(I=!0);break;case"months":D=1,A.unit==="year"&&(I=!0);break;case"months_fortnight":D=15,A.unit!=="year"&&A.unit!=="month"||(I=!0),E===30&&(M=!0);break;case"months_days":D=10,A.unit==="month"&&(I=!0),E===30&&(M=!0);break;case"week_days":D=8,A.unit==="month"&&(I=!0);break;case"days":D=1,A.unit==="month"&&(I=!0);break;case"hours":A.unit==="day"&&(I=!0);break;case"minutes_fives":case"seconds_fives":E%5!=0&&(M=!0);break;case"seconds_tens":E%10!=0&&(M=!0)}if(s.tickInterval==="hours"||s.tickInterval==="minutes_fives"||s.tickInterval==="seconds_tens"||s.tickInterval==="seconds_fives"){if(!M)return!0}else if((E%D==0||I)&&!M)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var s=this.w,a=this.formatDates(e),i=this.removeOverlappingTS(a);s.globals.timescaleLabels=i.slice(),new Py(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,s=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case s>15:this.tickInterval="minutes_fives";break;case s>5:this.tickInterval="minutes";break;case s>1:this.tickInterval="seconds_tens";break;case 60*s>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,s=e.currentMonth,a=e.currentYear,i=e.daysWidthOnXAxis,o=e.numberOfYears,l=t.minYear,c=0,d=new Na(this.ctx),u="year";if(t.minDate>1||t.minMonth>0){var f=d.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);c=(d.determineDaysOfYear(t.minYear)-f+1)*i,l=t.minYear+1,this.timeScaleArray.push({position:c,value:l,unit:u,year:l,month:ce.monthMod(s+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:c,value:l,unit:u,year:a,month:ce.monthMod(s+1)});for(var m=l,p=c,y=0;y<o;y++)m++,p=d.determineDaysOfYear(m-1)*i+p,this.timeScaleArray.push({position:p,value:m,unit:u,year:m,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,s=e.currentMonthDate,a=e.currentMonth,i=e.currentYear,o=e.daysWidthOnXAxis,l=e.numberOfMonths,c=a,d=0,u=new Na(this.ctx),f="month",m=0;if(t.minDate>1){d=(u.determineDaysOfMonths(a+1,t.minYear)-s+1)*o,c=ce.monthMod(a+1);var p=i+m,y=ce.monthMod(c),x=c;c===0&&(f="year",x=p,y=1,p+=m+=1),this.timeScaleArray.push({position:d,value:x,unit:f,year:p,month:y})}else this.timeScaleArray.push({position:d,value:c,unit:f,year:i,month:ce.monthMod(a)});for(var v=c+1,N=d,k=0,S=1;k<l;k++,S++){(v=ce.monthMod(v))===0?(f="year",m+=1):f="month";var R=this._getYear(i,v,m);N=u.determineDaysOfMonths(v,R)*o+N;var A=v===0?R:v;this.timeScaleArray.push({position:N,value:A,unit:f,year:R,month:v===0?1:v}),v++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,s=e.currentMonth,a=e.currentYear,i=e.hoursWidthOnXAxis,o=e.numberOfDays,l=new Na(this.ctx),c="day",d=t.minDate+1,u=d,f=function(S,R,A){return S>l.determineDaysOfMonths(R+1,A)&&(u=1,c="month",p=R+=1),R},m=(24-t.minHour)*i,p=d,y=f(u,s,a);t.minHour===0&&t.minDate===1?(m=0,p=ce.monthMod(t.minMonth),c="month",u=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(m=0,d=t.minDate,p=d,y=f(u=d,s,a),p!==1&&(c="day")),this.timeScaleArray.push({position:m,value:p,unit:c,year:this._getYear(a,y,0),month:ce.monthMod(y),day:u});for(var x=m,v=0;v<o;v++){c="day",y=f(u+=1,y,this._getYear(a,y,0));var N=this._getYear(a,y,0);x=24*i+x;var k=u===1?ce.monthMod(y):u;this.timeScaleArray.push({position:x,value:k,unit:c,year:N,month:ce.monthMod(y),day:k})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,s=e.currentDate,a=e.currentMonth,i=e.currentYear,o=e.minutesWidthOnXAxis,l=e.numberOfHours,c=new Na(this.ctx),d="hour",u=function(D,P){return D>c.determineDaysOfMonths(P+1,i)&&(v=1,P+=1),{month:P,date:v}},f=function(D,P){return D>c.determineDaysOfMonths(P+1,i)?P+=1:P},m=60-(t.minMinute+t.minSecond/60),p=m*o,y=t.minHour+1,x=y;m===60&&(p=0,x=y=t.minHour);var v=s;x>=24&&(x=0,d="day",y=v+=1);var N=u(v,a).month;N=f(v,N),y>31&&(y=v=1),this.timeScaleArray.push({position:p,value:y,unit:d,day:v,hour:x,year:i,month:ce.monthMod(N)}),x++;for(var k=p,S=0;S<l;S++){d="hour",x>=24&&(x=0,d="day",N=u(v+=1,N).month,N=f(v,N));var R=this._getYear(i,N,0);k=60*o+k;var A=x===0?v:x;this.timeScaleArray.push({position:k,value:A,unit:d,hour:x,day:v,year:R,month:ce.monthMod(N)}),x++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,s=e.currentSecond,a=e.currentMinute,i=e.currentHour,o=e.currentDate,l=e.currentMonth,c=e.currentYear,d=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,f=e.numberOfMinutes,m=a+1,p=o,y=l,x=c,v=i,N=(60-s-t/1e3)*u,k=0;k<f;k++)m>=60&&(m=0,(v+=1)===24&&(v=0)),this.timeScaleArray.push({position:N,value:m,unit:"minute",hour:v,minute:m,day:p,year:this._getYear(x,y,0),month:ce.monthMod(y)}),N+=d,m++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,s=e.currentSecond,a=e.currentMinute,i=e.currentHour,o=e.currentDate,l=e.currentMonth,c=e.currentYear,d=e.secondsWidthOnXAxis,u=e.numberOfSeconds,f=s+1,m=a,p=o,y=l,x=c,v=i,N=(1e3-t)/1e3*d,k=0;k<u;k++)f>=60&&(f=0,++m>=60&&(m=0,++v===24&&(v=0))),this.timeScaleArray.push({position:N,value:f,unit:"second",hour:v,minute:m,second:f,day:p,year:this._getYear(x,y,0),month:ce.monthMod(y)}),N+=d,f++}},{key:"createRawDateString",value:function(e,t){var s=e.year;return e.month===0&&(e.month=1),s+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?s+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":s+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?s+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":s+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?s+=":"+("0"+t).slice(-2):s+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?s+=":"+("0"+t).slice(-2):s+=":00",this.utc&&(s+=".000Z"),s}},{key:"formatDates",value:function(e){var t=this,s=this.w;return e.map((function(a){var i=a.value.toString(),o=new Na(t.ctx),l=t.createRawDateString(a,i),c=o.getDate(o.parseDate(l));if(t.utc||(c=o.getDate(o.parseDateWithTimezone(l))),s.config.xaxis.labels.format===void 0){var d="dd MMM",u=s.config.xaxis.labels.datetimeFormatter;a.unit==="year"&&(d=u.year),a.unit==="month"&&(d=u.month),a.unit==="day"&&(d=u.day),a.unit==="hour"&&(d=u.hour),a.unit==="minute"&&(d=u.minute),a.unit==="second"&&(d=u.second),i=o.formatDate(c,d)}else i=o.formatDate(c,s.config.xaxis.labels.format);return{dateString:l,position:a.position,value:i,unit:a.unit,year:a.year,month:a.month}}))}},{key:"removeOverlappingTS",value:function(e){var t,s=this,a=new Xe(this.ctx),i=!1;e.length>0&&e[0].value&&e.every((function(c){return c.value.length===e[0].value.length}))&&(i=!0,t=a.getTextRects(e[0].value).width);var o=0,l=e.map((function(c,d){if(d>0&&s.w.config.xaxis.labels.hideOverlappingLabels){var u=i?t:a.getTextRects(e[o].value).width,f=e[o].position;return c.position>f+u+10?(o=d,c):null}return c}));return l=l.filter((function(c){return c!==null}))}},{key:"_getYear",value:function(e,t,s){return e+Math.floor(t/12)+s}}]),r})(),_me=(function(){function r(e,t){kt(this,r),this.ctx=t,this.w=t.w,this.el=e}return St(r,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,s=e.config,a=s.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(a),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(a),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(a)&&s.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),Xe.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(s.chart.offsetX,", ").concat(s.chart.offsetY,")")}),t.dom.Paper.node.style.background=s.theme.mode!=="dark"||s.chart.background?s.theme.mode!=="light"||s.chart.background?s.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),Xe.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var s=this.w,a=this.ctx,i=s.config,o=s.globals,l={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},c=i.chart.type||"line",d=null,u=0;o.series.forEach((function(D,P){var E,I,M=((E=e[P])===null||E===void 0?void 0:E.type)==="column"?"bar":((I=e[P])===null||I===void 0?void 0:I.type)||(c==="column"?"bar":c);l[M]?(M==="rangeArea"?(l[M].series.push(o.seriesRangeStart[P]),l[M].seriesRangeEnd.push(o.seriesRangeEnd[P])):l[M].series.push(D),l[M].i.push(P),M==="bar"&&(s.globals.columnSeries=l.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(M)?d=M:console.warn("You have specified an unrecognized series type (".concat(M,").")),c!==M&&M!=="scatter"&&u++})),u>0&&(d&&console.warn("Chart or series type ".concat(d," cannot appear with other chart or series types.")),l.bar.series.length>0&&i.plotOptions.bar.horizontal&&(u-=l.bar.series.length,l.bar={series:[],i:[]},s.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),o.comboCharts||(o.comboCharts=u>0);var f=new nj(a,t),m=new rj(a,t);a.pie=new tz(a);var p=new xme(a);a.rangeBar=new bme(a,t);var y=new pme(a),x=[];if(o.comboCharts){var v,N,k=new Ir(a);if(l.area.series.length>0&&(v=x).push.apply(v,na(k.drawSeriesByGroup(l.area,o.areaGroups,"area",f))),l.bar.series.length>0)if(i.chart.stacked){var S=new Y3(a,t);x.push(S.draw(l.bar.series,l.bar.i))}else a.bar=new jh(a,t),x.push(a.bar.draw(l.bar.series,l.bar.i));if(l.rangeArea.series.length>0&&x.push(f.draw(l.rangeArea.series,"rangeArea",l.rangeArea.i,l.rangeArea.seriesRangeEnd)),l.line.series.length>0&&(N=x).push.apply(N,na(k.drawSeriesByGroup(l.line,o.lineGroups,"line",f))),l.candlestick.series.length>0&&x.push(m.draw(l.candlestick.series,"candlestick",l.candlestick.i)),l.boxPlot.series.length>0&&x.push(m.draw(l.boxPlot.series,"boxPlot",l.boxPlot.i)),l.rangeBar.series.length>0&&x.push(a.rangeBar.draw(l.rangeBar.series,l.rangeBar.i)),l.scatter.series.length>0){var R=new nj(a,t,!0);x.push(R.draw(l.scatter.series,"scatter",l.scatter.i))}if(l.bubble.series.length>0){var A=new nj(a,t,!0);x.push(A.draw(l.bubble.series,"bubble",l.bubble.i))}}else switch(i.chart.type){case"line":x=f.draw(o.series,"line");break;case"area":x=f.draw(o.series,"area");break;case"bar":i.chart.stacked?x=new Y3(a,t).draw(o.series):(a.bar=new jh(a,t),x=a.bar.draw(o.series));break;case"candlestick":x=new rj(a,t).draw(o.series,"candlestick");break;case"boxPlot":x=new rj(a,t).draw(o.series,i.chart.type);break;case"rangeBar":x=a.rangeBar.draw(o.series);break;case"rangeArea":x=f.draw(o.seriesRangeStart,"rangeArea",void 0,o.seriesRangeEnd);break;case"heatmap":x=new gme(a,t).draw(o.series);break;case"treemap":x=new jme(a,t).draw(o.series);break;case"pie":case"donut":case"polarArea":x=a.pie.draw(o.series);break;case"radialBar":x=p.draw(o.series);break;case"radar":x=y.draw(o.series);break;default:x=f.draw(o.series)}return x}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,s=e.config;s.chart.width=s.chart.width||"100%",s.chart.height=s.chart.height||"auto",t.svgWidth=s.chart.width,t.svgHeight=s.chart.height;var a=ce.getDimensions(this.el),i=s.chart.width.toString().split(/[0-9]+/g).pop();i==="%"?ce.isNumber(a[0])&&(a[0].width===0&&(a=ce.getDimensions(this.el.parentNode)),t.svgWidth=a[0]*parseInt(s.chart.width,10)/100):i!=="px"&&i!==""||(t.svgWidth=parseInt(s.chart.width,10));var o=String(s.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(o==="%"){var l=ce.getDimensions(this.el.parentNode);t.svgHeight=l[1]*parseInt(s.chart.height,10)/100}else t.svgHeight=parseInt(s.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),Xe.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),o!=="%"){var c=s.chart.sparkline.enabled?0:t.axisCharts?s.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+c,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,s=e.translateX;Xe.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(s,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=0,a=e.config.chart.sparkline.enabled?1:15;a+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(s=new X8(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var i=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*e.globals.radialSize;if(i&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var l=ce.getBoundingClientRect(i);o=l.bottom;var c=l.bottom-l.top;o=Math.max(2.05*e.globals.radialSize,c)}var d=Math.ceil(o+t.translateY+s+a);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",d),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(d,"px"),Xe.setAttrs(t.dom.Paper.node,{height:d}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(d,"px"))}},{key:"coreCalculations",value:function(){new Bk(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map((function(){return[]}))},s=new $8,a=this.w.globals,i={dataWasParsed:a.dataWasParsed,originalSeries:a.originalSeries};s.initGlobalVars(a),a.seriesXvalues=t(),a.seriesYvalues=t(),i.dataWasParsed&&(a.dataWasParsed=i.dataWasParsed,a.originalSeries=i.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new Vk(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new Vk(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Sme(this.ctx);var s=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(s)}t=new Ir(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,s=this.w;if(s.config.chart.brush.enabled&&typeof s.config.chart.events.selection!="function"){var a=Array.isArray(s.config.chart.brush.targets)?s.config.chart.brush.targets:[s.config.chart.brush.target];a.forEach((function(i){var o=t.constructor.getChartByID(i);o.w.globals.brushSource=e.ctx,typeof o.w.config.chart.events.zoomed!="function"&&(o.w.config.chart.events.zoomed=function(){return e.updateSourceChart(o)}),typeof o.w.config.chart.events.scrolled!="function"&&(o.w.config.chart.events.scrolled=function(){return e.updateSourceChart(o)})})),s.config.chart.events.selection=function(i,o){a.forEach((function(l){t.constructor.getChartByID(l).ctx.updateHelpers._updateOptions({xaxis:{min:o.xaxis.min,max:o.xaxis.max}},!1,!1,!1,!1)}))}}}}]),r})(),Ame=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"_updateOptions",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise((function(l){var c=[t.ctx];i&&(c=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(c=[t.ctx],t.ctx.w.globals.isExecCalled=!1),c.forEach((function(d,u){var f=d.w;if(f.globals.shouldAnimate=a,s||(f.globals.resized=!0,f.globals.dataChanged=!0,a&&d.series.getPreviousPaths()),e&&Va(e)==="object"&&(d.config=new Rg(e),e=Ir.extendArrayProps(d.config,e,f),d.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,f.config=ce.extend(f.config,e),o&&(f.globals.lastXAxis=e.xaxis?ce.clone(e.xaxis):[],f.globals.lastYAxis=e.yaxis?ce.clone(e.yaxis):[],f.globals.initialConfig=ce.extend({},f.config),f.globals.initialSeries=ce.clone(f.config.series),e.series))){for(var m=0;m<f.globals.collapsedSeriesIndices.length;m++){var p=f.config.series[f.globals.collapsedSeriesIndices[m]];f.globals.collapsedSeries[m].data=f.globals.axisCharts?p.data.slice():p}for(var y=0;y<f.globals.ancillaryCollapsedSeriesIndices.length;y++){var x=f.config.series[f.globals.ancillaryCollapsedSeriesIndices[y]];f.globals.ancillaryCollapsedSeries[y].data=f.globals.axisCharts?x.data.slice():x}d.series.emptyCollapsedSeries(f.config.series)}return d.update(e).then((function(){u===c.length-1&&l(d)}))}))}))}},{key:"_updateSeries",value:function(e,t){var s=this,a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise((function(i){var o=s.w;return o.globals.shouldAnimate=t,o.globals.dataChanged=!0,t&&s.ctx.series.getPreviousPaths(),s.ctx.data.resetParsingFlags(),s.ctx.data.parseData(e),a&&(o.globals.initialConfig.series=ce.clone(o.config.series),o.globals.initialSeries=ce.clone(o.config.series)),s.ctx.update().then((function(){i(s.ctx)}))}))}},{key:"_extendSeries",value:function(e,t){var s=this.w,a=s.config.series[t];return ht(ht({},s.config.series[t]),{},{name:e.name?e.name:a?.name,color:e.color?e.color:a?.color,type:e.type?e.type:a?.type,group:e.group?e.group:a?.group,hidden:e.hidden!==void 0?e.hidden:a?.hidden,data:e.data?e.data:a?.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var s=this.w,a=null,i=".apexcharts-series[data\\:realIndex='".concat(e,"']");return s.globals.axisCharts?a=s.globals.dom.Paper.findOne("".concat(i," path[j='").concat(t,"'], ").concat(i," circle[j='").concat(t,"'], ").concat(i," rect[j='").concat(t,"']")):t===void 0&&(a=s.globals.dom.Paper.findOne("".concat(i," path[j='").concat(e,"']")),s.config.chart.type!=="pie"&&s.config.chart.type!=="polarArea"&&s.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),a?(new Xe(this.ctx).pathMouseDown(a,null),a.node?a.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach((function(a){e.xaxis[a]!==void 0&&(t.config.xaxis[a]=e.xaxis[a],t.globals.lastXAxis[a]=e.xaxis[a])})),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var s=new Pg(e);e=s.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach((function(t,s){e.yaxis[s].min=0,e.yaxis[s].max=100})):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,s=this.w,a=s.globals.lastXAxis,i=s.globals.lastYAxis;e&&e.xaxis&&(a=e.xaxis),e&&e.yaxis&&(i=e.yaxis),s.config.xaxis.min=a.min,s.config.xaxis.max=a.max;var o=function(l){i[l]!==void 0&&(s.config.yaxis[l].min=i[l].min,s.config.yaxis[l].max=i[l].max)};s.config.yaxis.map((function(l,c){s.globals.zoomed||i[c]!==void 0?o(c):t.ctx.opts.yaxis[c]!==void 0&&(l.min=t.ctx.opts.yaxis[c].min,l.max=t.ctx.opts.yaxis[c].max)}))}}]),r})();(function(){function r(){for(var i=arguments.length>0&&arguments[0]!==f?arguments[0]:[],o=arguments.length>1?arguments[1]:f,l=arguments.length>2?arguments[2]:f,c=arguments.length>3?arguments[3]:f,d=arguments.length>4?arguments[4]:f,u=arguments.length>5?arguments[5]:f,f=arguments.length>6?arguments[6]:f,m=i.slice(o,l||f),p=c.slice(d,u||f),y=0,x={pos:[0,0],start:[0,0]},v={pos:[0,0],start:[0,0]};m[y]=e.call(x,m[y]),p[y]=e.call(v,p[y]),m[y][0]!=p[y][0]||m[y][0]=="M"||m[y][0]=="A"&&(m[y][4]!=p[y][4]||m[y][5]!=p[y][5])?(Array.prototype.splice.apply(m,[y,1].concat(s.call(x,m[y]))),Array.prototype.splice.apply(p,[y,1].concat(s.call(v,p[y])))):(m[y]=t.call(x,m[y]),p[y]=t.call(v,p[y])),!(++y==m.length&&y==p.length);)y==m.length&&m.push(["C",x.pos[0],x.pos[1],x.pos[0],x.pos[1],x.pos[0],x.pos[1]]),y==p.length&&p.push(["C",v.pos[0],v.pos[1],v.pos[0],v.pos[1],v.pos[0],v.pos[1]]);return{start:m,dest:p}}function e(i){switch(i[0]){case"z":case"Z":i[0]="L",i[1]=this.start[0],i[2]=this.start[1];break;case"H":i[0]="L",i[2]=this.pos[1];break;case"V":i[0]="L",i[2]=i[1],i[1]=this.pos[0];break;case"T":i[0]="Q",i[3]=i[1],i[4]=i[2],i[1]=this.reflection[1],i[2]=this.reflection[0];break;case"S":i[0]="C",i[6]=i[4],i[5]=i[3],i[4]=i[2],i[3]=i[1],i[2]=this.reflection[1],i[1]=this.reflection[0]}return i}function t(i){var o=i.length;return this.pos=[i[o-2],i[o-1]],"SCQT".indexOf(i[0])!=-1&&(this.reflection=[2*this.pos[0]-i[o-4],2*this.pos[1]-i[o-3]]),i}function s(i){var o=[i];switch(i[0]){case"M":return this.pos=this.start=[i[1],i[2]],o;case"L":i[5]=i[3]=i[1],i[6]=i[4]=i[2],i[1]=this.pos[0],i[2]=this.pos[1];break;case"Q":i[6]=i[4],i[5]=i[3],i[4]=1*i[4]/3+2*i[2]/3,i[3]=1*i[3]/3+2*i[1]/3,i[2]=1*this.pos[1]/3+2*i[2]/3,i[1]=1*this.pos[0]/3+2*i[1]/3;break;case"A":o=(function(l,c){var d,u,f,m,p,y,x,v,N,k,S,R,A,D,P,E,I,M,L,z,F,V,$,Y,X,ee,W=Math.abs(c[1]),B=Math.abs(c[2]),G=c[3]%360,te=c[4],re=c[5],ie=c[6],he=c[7],le=new $s(l),De=new $s(ie,he),Oe=[];if(W===0||B===0||le.x===De.x&&le.y===De.y)return[["C",le.x,le.y,De.x,De.y,De.x,De.y]];for(d=new $s((le.x-De.x)/2,(le.y-De.y)/2).transform(new Mt().rotate(G)),u=d.x*d.x/(W*W)+d.y*d.y/(B*B),u>1&&(W*=u=Math.sqrt(u),B*=u),f=new Mt().rotate(G).scale(1/W,1/B).rotate(-G),le=le.transform(f),De=De.transform(f),m=[De.x-le.x,De.y-le.y],y=m[0]*m[0]+m[1]*m[1],p=Math.sqrt(y),m[0]/=p,m[1]/=p,x=y<4?Math.sqrt(1-y/4):0,te===re&&(x*=-1),v=new $s((De.x+le.x)/2+x*-m[1],(De.y+le.y)/2+x*m[0]),N=new $s(le.x-v.x,le.y-v.y),k=new $s(De.x-v.x,De.y-v.y),S=Math.acos(N.x/Math.sqrt(N.x*N.x+N.y*N.y)),N.y<0&&(S*=-1),R=Math.acos(k.x/Math.sqrt(k.x*k.x+k.y*k.y)),k.y<0&&(R*=-1),re&&S>R&&(R+=2*Math.PI),!re&&S<R&&(R-=2*Math.PI),D=Math.ceil(2*Math.abs(S-R)/Math.PI),E=[],I=S,A=(R-S)/D,P=4*Math.tan(A/4)/3,F=0;F<=D;F++)L=Math.cos(I),M=Math.sin(I),z=new $s(v.x+L,v.y+M),E[F]=[new $s(z.x+P*M,z.y-P*L),z,new $s(z.x-P*M,z.y+P*L)],I+=A;for(E[0][0]=E[0][1].clone(),E[E.length-1][2]=E[E.length-1][1].clone(),f=new Mt().rotate(G).scale(W,B).rotate(-G),F=0,V=E.length;F<V;F++)E[F][0]=E[F][0].transform(f),E[F][1]=E[F][1].transform(f),E[F][2]=E[F][2].transform(f);for(F=1,V=E.length;F<V;F++)$=(z=E[F-1][2]).x,Y=z.y,X=(z=E[F][0]).x,ee=z.y,ie=(z=E[F][1]).x,he=z.y,Oe.push(["C",$,Y,X,ee,ie,he]);return Oe})(this.pos,i),i=o[0]}return i[0]="C",this.pos=[i[5],i[6]],this.reflection=[2*i[5]-i[3],2*i[6]-i[4]],o}function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;if(o===!1)return!1;for(var l=o,c=i.length;l<c;++l)if(i[l][0]=="M")return l;return!1}zt(ui,{morph:function(i,o,l,c,d){for(var u=this.parse(i),f=this.parse(o),m=0,p=0,y=!1,x=!1;m!==!1||p!==!1;){var v;y=a(u,m!==!1&&m+1),x=a(f,p!==!1&&p+1),m===!1&&(m=(v=new ui(N.start).bbox()).height==0||v.width==0?u.push(u[0])-1:u.push(["M",v.x+v.width/2,v.y+v.height/2])-1),p===!1&&(p=(v=new ui(N.dest).bbox()).height==0||v.width==0?f.push(f[0])-1:f.push(["M",v.x+v.width/2,v.y+v.height/2])-1);var N=r(u,m,y,f,p,x);u=u.slice(0,m).concat(N.start,y===!1?[]:u.slice(y)),f=f.slice(0,p).concat(N.dest,x===!1?[]:f.slice(x)),m=y!==!1&&m+N.start.length,p=x!==!1&&p+N.dest.length}this._array=u,this.destination=new ui,this.destination._array=f;var k=this.fromArray(u.map((function(S,R){var A=f[R].map((function(D,P){return P===0?D:c.step(S[P],f[R][P],l,d[R],d)}));return A})));return k}})})();const G3=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY});class Cme{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(G3(e));const s=(t?"mouseup":"touchend")+".drag";Fo(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Fo(window,s,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:s}=this,a=this.el.point(G3(e)),i=a.x-s.x,o=a.y-s.y;if(!i&&!o)return t;const l=t.x+i,c=t.y+o;this.box=new Rr(l,c,t.w,t.h),this.lastClick=a,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(l,c)}move(e,t){this.el.type==="svg"?$l.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Yn(window,"mousemove.drag"),Yn(window,"touchmove.drag"),Yn(window,"mouseup.drag"),Yn(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Hk(r,e,t,s=null){return function(a){a.preventDefault(),a.stopPropagation();var i=a.pageX||a.touches[0].pageX,o=a.pageY||a.touches[0].pageY;e.fire(r,{x:i,y:o,event:a,index:s,points:t})}}function $k([r,e],{a:t,b:s,c:a,d:i,e:o,f:l}){return[r*t+e*a+o,r*s+e*i+l]}zt(_a,{draggable(r=!0){return(this.remember("_draggable")||new Cme(this)).init(r),this}});let rz=class{constructor(r){this.el=r,r.remember("_selectHandler",this),this.selection=new $l,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=bp();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.createRot=r.createRot||this.createRotFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.updateRot=r.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((r,e,t)=>{const s=this.order[e];this.createHandle.call(this,this.selection,r,e,t,s),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+s).on("mousedown.selection touchstart.selection",Hk(s,this.el,this.handlePoints,e))}))}createHandleFn(r){r.polyline()}updateHandleFn(r,e,t,s){const a=s.at(t-1),i=s[(t+1)%s.length],o=e,l=[o[0]-a[0],o[1]-a[1]],c=[o[0]-i[0],o[1]-i[1]],d=Math.sqrt(l[0]*l[0]+l[1]*l[1]),u=Math.sqrt(c[0]*c[0]+c[1]*c[1]),f=[l[0]/d,l[1]/d],m=[c[0]/u,c[1]/u],p=[o[0]-10*f[0],o[1]-10*f[1]],y=[o[0]-10*m[0],o[1]-10*m[1]];r.plot([p,o,y])}updateResizeHandles(){this.handlePoints.forEach(((r,e,t)=>{const s=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),r,e,t,s)}))}createRotFn(r){r.line(),r.circle(5)}getPoint(r){return this.handlePoints[this.order.indexOf(r)]}getPointHandle(r){return this.selection.get(this.order.indexOf(r)+1)}updateRotFn(r,e){const t=this.getPoint("t");r.get(0).plot(t[0],t[1],e[0],e[1]),r.get(1).center(e[0],e[1])}createRotationHandle(){const r=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Hk("rot",this.el,this.handlePoints));this.createRot.call(this,r)}updateRotationHandle(){const r=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(r,this.rotationPoint,this.handlePoints)}updatePoints(){const r=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(r).map((t=>$k(t,e))),this.rotationPoint=$k(this.getRotationPoint(r),e)}getHandlePoints({x:r,x2:e,y:t,y2:s,cx:a,cy:i}=this.el.bbox()){return[[r,t],[a,t],[e,t],[e,i],[e,s],[a,s],[r,s],[r,i]]}getRotationPoint({y:r,cx:e}=this.el.bbox()){return[e,r-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const X3=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let s=this.remember("_"+r.name);return s||(e.prototype instanceof rz?(s=new e(this),e=!0):s=new r(this),this.remember("_"+r.name,s)),s.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function qk(r,e,t,s=null){return function(a){a.preventDefault(),a.stopPropagation();var i=a.pageX||a.touches[0].pageX,o=a.pageY||a.touches[0].pageY;e.fire(r,{x:i,y:o,event:a,index:s,points:t})}}function Wk([r,e],{a:t,b:s,c:a,d:i,e:o,f:l}){return[r*t+e*a+o,r*s+e*i+l]}zt(_a,{select:X3(rz)}),zt([dd,ud,cd],{pointSelect:X3(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new $l,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=bp();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Hk("point",this.el,this.points,e))}))}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach(((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)}))}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((e=>$k(e,r)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class az{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new $l,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=bp();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((e,t,s)=>{const a=this.order[t];this.createHandle.call(this,this.selection,e,t,s,a),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+a).on("mousedown.selection touchstart.selection",qk(a,this.el,this.handlePoints,t))}))}createHandleFn(e){e.polyline()}updateHandleFn(e,t,s,a){const i=a.at(s-1),o=a[(s+1)%a.length],l=t,c=[l[0]-i[0],l[1]-i[1]],d=[l[0]-o[0],l[1]-o[1]],u=Math.sqrt(c[0]*c[0]+c[1]*c[1]),f=Math.sqrt(d[0]*d[0]+d[1]*d[1]),m=[c[0]/u,c[1]/u],p=[d[0]/f,d[1]/f],y=[l[0]-10*m[0],l[1]-10*m[1]],x=[l[0]-10*p[0],l[1]-10*p[1]];e.plot([y,l,x])}updateResizeHandles(){this.handlePoints.forEach(((e,t,s)=>{const a=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,s,a)}))}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const s=this.getPoint("t");e.get(0).plot(s[0],s[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",qk("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map((s=>Wk(s,t))),this.rotationPoint=Wk(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:s,y2:a,cx:i,cy:o}=this.el.bbox()){return[[e,s],[i,s],[t,s],[t,o],[t,a],[i,a],[e,a],[e,o]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const K3=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let s=this.remember("_"+r.name);return s||(e.prototype instanceof az?(s=new e(this),e=!0):s=new r(this),this.remember("_"+r.name,s)),s.active(e,t),this};zt(_a,{select:K3(az)}),zt([dd,ud,cd],{pointSelect:K3(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new $l,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=bp();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",qk("point",this.el,this.points,e))}))}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach(((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)}))}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((e=>Wk(e,r)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const sb=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY}),Z3=r=>{let e=1/0,t=1/0,s=-1/0,a=-1/0;for(let i=0;i<r.length;i++){const o=r[i];e=Math.min(e,o[0]),t=Math.min(t,o[1]),s=Math.max(s,o[0]),a=Math.max(a,o[1])}return new Rr(e,t,s-e,a-t)};class Q3{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:s,points:a}=e.detail,i=!t.type.indexOf("mouse");if(i&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(sb(t)),this.index=s,this.points=a.slice();const o=(i?"mousemove":"touchmove")+".resize",l=(i?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?Fo(window,o,this.movePoint):e.type==="rot"?Fo(window,o,this.rotate):Fo(window,o,this.resize),Fo(window,l,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(sb(e)));let s=t.x-this.startPoint.x,a=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(s*=2,a*=2);const i=this.box.x+s,o=this.box.y+a,l=this.box.x2+s,c=this.box.y2+a;let d=new Rr(this.box);if(this.eventType.includes("l")&&(d.x=Math.min(i,this.box.x2),d.x2=Math.max(i,this.box.x2)),this.eventType.includes("r")&&(d.x=Math.min(l,this.box.x),d.x2=Math.max(l,this.box.x)),this.eventType.includes("t")&&(d.y=Math.min(o,this.box.y2),d.y2=Math.max(o,this.box.y2)),this.eventType.includes("b")&&(d.y=Math.min(c,this.box.y),d.y2=Math.max(c,this.box.y)),d.width=d.x2-d.x,d.height=d.y2-d.y,this.preserveAspectRatio){const u=d.width/this.box.width,f=d.height/this.box.height,m=["lt","t","rt","r","rb","b","lb","l"],p=(m.indexOf(this.eventType)+4)%m.length,y=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[p];let x=this.eventType.includes("t")||this.eventType.includes("b")?f:u;x=this.eventType.length===2?Math.max(u,f):x,d=(function(v,N,k){const S=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]].map((([R,A])=>{const D=R-N[0],P=(A-N[1])*k;return[D*k+N[0],P+N[1]]}));return Z3(S)})(this.box,y,x)}this.el.dispatch("resize",{box:new Rr(d),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(d.width,d.height).move(d.x,d.y)}movePoint(e){this.lastEvent=e;const{x:t,y:s}=this.snapToGrid(this.el.point(sb(e))),a=this.el.array().slice();a[this.index]=[t,s],this.el.dispatch("resize",{box:Z3(a),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(a)}rotate(e){this.lastEvent=e;const t=this.startPoint,s=this.el.point(sb(e)),{cx:a,cy:i}=this.box,o=t.x-a,l=t.y-i,c=s.x-a,d=s.y-i,u=Math.sqrt(o*o+l*l)*Math.sqrt(c*c+d*d);if(u===0)return;let f=Math.acos((o*c+l*d)/u)/Math.PI*180;if(!f)return;s.x<t.x&&(f=-f);const m=new Mt(this.el),{x:p,y}=new $s(a,i).transformO(m),{rotate:x}=m.decompose(),v=this.snapToAngle(x+f)-x;this.el.dispatch("resize",{box:this.box,angle:v,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(m.rotateO(v,p,y))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Yn(window,"mousemove.resize touchmove.resize"),Yn(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}zt(_a,{resize:function(r=!0,e={}){typeof r=="object"&&(e=r,r=!0);let t=this.remember("_ResizeHandler");return t||(r.prototype instanceof Q3?(t=new r(this),r=!0):t=new Q3(this),this.remember("_resizeHandler",t)),t.active(r,e),this}}),window.SVG===void 0&&(window.SVG=Hfe),window.Apex===void 0&&(window.Apex={});var J3=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new qh(this.ctx),this.ctx.axes=new Jfe(this.ctx),this.ctx.core=new _me(this.ctx.el,this.ctx),this.ctx.config=new Rg({}),this.ctx.data=new B_(this.ctx),this.ctx.grid=new Y8(this.ctx),this.ctx.graphics=new Xe(this.ctx),this.ctx.coreUtils=new Ir(this.ctx),this.ctx.crosshairs=new Vk(this.ctx),this.ctx.events=new Zfe(this.ctx),this.ctx.exports=new eg(this.ctx),this.ctx.fill=new gi(this.ctx),this.ctx.localization=new Qfe(this.ctx),this.ctx.options=new ed,this.ctx.responsive=new eme(this.ctx),this.ctx.series=new Xn(this.ctx),this.ctx.theme=new tme(this.ctx),this.ctx.formatters=new wp(this.ctx),this.ctx.titleSubtitle=new sme(this.ctx),this.ctx.legend=new X8(this.ctx),this.ctx.toolbar=new K8(this.ctx),this.ctx.tooltip=new W3(this.ctx),this.ctx.dimensions=new Py(this.ctx),this.ctx.updateHelpers=new Ame(this.ctx),this.ctx.zoomPanSelection=new lme(this.ctx),this.ctx.w.globals.tooltip=new W3(this.ctx)}}]),r})(),eM=(function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return St(r,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each((function(){this.removeClass("*"),this.off()}),!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,s=e.isUpdating,a=this.w.globals.dom.Paper.node;a.parentNode&&a.parentNode.parentNode&&!s&&(a.parentNode.parentNode.style.minHeight="unset");var i=this.w.globals.dom.baseEl;i&&this.ctx.eventList.forEach((function(l){i.removeEventListener(l,t.ctx.events.documentEvent)}));var o=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elLegendWrap=null,o.elLegendForeign=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectBarMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),r})(),ij=new WeakMap,Eme=(function(){function r(e,t){kt(this,r),this.opts=t,this.ctx=this,this.w=new Kfe(t).init(),this.el=e,this.w.globals.cuid=ce.randomId(),this.w.globals.chartID=this.w.config.chart.id?ce.escapeString(this.w.config.chart.id):this.w.globals.cuid,new J3(this).initModules(),this.lastUpdateOptions=null,this.create=ce.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return St(r,[{key:"render",value:function(){var e=this;return new Promise((function(t,s){if(ce.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var a=e.w.config.chart.events.beforeMount;typeof a=="function"&&a(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),(function(m,p){var y=!1;if(m.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var x=m.getBoundingClientRect();m.style.display!=="none"&&x.width!==0||(y=!0)}var v=new ResizeObserver((function(N){y&&p.call(m,N),y=!0}));m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(m.children).forEach((function(N){return v.observe(N)})):v.observe(m),ij.set(p,v)})(e.el.parentNode,e.parentResizeHandler);var i=e.el.getRootNode&&e.el.getRootNode(),o=ce.is("ShadowRoot",i),l=e.el.ownerDocument,c=o?i.getElementById("apexcharts-css"):l.getElementById("apexcharts-css");if(!c){var d;(c=document.createElement("style")).id="apexcharts-css",c.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var u=((d=e.opts.chart)===null||d===void 0?void 0:d.nonce)||e.w.config.chart.nonce;u&&c.setAttribute("nonce",u),o?i.prepend(c):e.w.config.chart.injectStyleSheet!==!1&&l.head.appendChild(c)}var f=e.create(e.w.config.series,{});if(!f)return t(e);e.mount(f).then((function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(f)})).catch((function(m){s(m)}))}else s(new Error("Element not found"))}))}},{key:"create",value:function(e,t){var s=this,a=this.w;new J3(this).initModules();var i=this.w.globals;if(i.noData=!1,i.animationEnded=!1,!ce.elementExists(this.el)||(this.responsive.checkResponsiveConfig(t),a.config.xaxis.convertedCatToNumeric&&new Pg(a.config).convertCatToNumericXaxis(a.config,this.ctx),this.core.setupElements(),a.config.chart.type==="treemap"&&(a.config.grid.show=!1,a.config.yaxis[0].show=!1),i.svgWidth===0))return i.animationEnded=!0,null;var o=e;e.forEach((function(m,p){m.hidden&&(o=s.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:p}))}));var l=Ir.checkComboSeries(o,a.config.chart.type);i.comboCharts=l.comboCharts,i.comboBarCount=l.comboBarCount;var c=o.every((function(m){return m.data&&m.data.length===0}));(o.length===0||c&&i.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new Xh(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),i.noData&&i.collapsedSeries.length!==i.series.length&&!a.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),i.axisCharts&&(this.core.coreCalculations(),a.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=a.globals.minX,this.ctx.toolbar.maxX=a.globals.maxX),this.formatters.heatmapLabelFormatters(),new Ir(this).getLargestMarkerSize(),this.dimensions.plotCoords();var d=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(o,d),f=new Nh(this);return f.bringForward(),a.config.dataLabels.background.enabled&&f.dataLabelsBackground(),this.core.shiftGraphPosition(),a.globals.dataPoints>50&&a.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:u,xyRatios:d,dimensions:{plot:{left:a.globals.translateX,top:a.globals.translateY,width:a.globals.gridWidth,height:a.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this,a=s.w;return new Promise((function(i,o){if(s.el===null)return o(new Error("Not enough data to display or target element not found"));(t===null||a.globals.allSeriesCollapsed)&&s.series.handleNoData(),s.grid=new Y8(s);var l,c,d=s.grid.drawGrid();if(s.annotations=new Xfe(s),s.annotations.drawImageAnnos(),s.annotations.drawTextAnnos(),a.config.grid.position==="back"&&(d&&a.globals.dom.elGraphical.add(d.el),d!=null&&(l=d.elGridBorders)!==null&&l!==void 0&&l.node&&a.globals.dom.elGraphical.add(d.elGridBorders)),Array.isArray(t.elGraph))for(var u=0;u<t.elGraph.length;u++)a.globals.dom.elGraphical.add(t.elGraph[u]);else a.globals.dom.elGraphical.add(t.elGraph);a.config.grid.position==="front"&&(d&&a.globals.dom.elGraphical.add(d.el),d!=null&&(c=d.elGridBorders)!==null&&c!==void 0&&c.node&&a.globals.dom.elGraphical.add(d.elGridBorders)),a.config.xaxis.crosshairs.position==="front"&&s.crosshairs.drawXCrosshairs(),a.config.yaxis[0].crosshairs.position==="front"&&s.crosshairs.drawYCrosshairs(),a.config.chart.type!=="treemap"&&s.axes.drawAxis(a.config.chart.type,d);var f=new Ig(e.ctx,d),m=new V_(e.ctx,d);if(d!==null&&(f.xAxisLabelCorrections(d.xAxisTickWidth),m.setYAxisTextAlignments(),a.config.yaxis.map((function(y,x){a.globals.ignoreYAxisIndexes.indexOf(x)===-1&&m.yAxisTitleRotate(x,y.opposite)}))),s.annotations.drawAxesAnnotations(),!a.globals.noData){if(a.config.tooltip.enabled&&!a.globals.noData&&s.w.globals.tooltip.drawTooltip(t.xyRatios),a.globals.axisCharts&&(a.globals.isXNumeric||a.config.xaxis.convertedCatToNumeric||a.globals.isRangeBar))(a.config.chart.zoom.enabled||a.config.chart.selection&&a.config.chart.selection.enabled||a.config.chart.pan&&a.config.chart.pan.enabled)&&s.zoomPanSelection.init({xyRatios:t.xyRatios});else{var p=a.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(y){p[y]=!1}))}a.config.chart.toolbar.show&&!a.globals.allSeriesCollapsed&&s.toolbar.createToolbar()}a.globals.memory.methodsToExec.length>0&&a.globals.memory.methodsToExec.forEach((function(y){y.method(y.params,!1,y.context)})),a.globals.axisCharts||a.globals.noData||s.core.resizeNonAxisCharts(),i(s)}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),(function(t,s){var a=ij.get(s);a&&(a.disconnect(),ij.delete(s))})(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach((function(t,s){t.id===ce.escapeString(e)&&Apex._chartInstances.splice(s,1)})),new eM(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],l=this.w;return l.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map((function(c,d){return t.updateHelpers._extendSeries(c,d)}))),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),l.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,s,a,i,o))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,s)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var a=this.w.config.series.slice();return a.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,t,s)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=this;s.data.resetParsingFlags(),s.w.globals.dataChanged=!0,s.series.getPreviousPaths();for(var a=s.w.config.series.slice(),i=0;i<a.length;i++)if(e[i]!==null&&e[i]!==void 0)for(var o=0;o<e[i].data.length;o++)a[i].data.push(e[i].data[o]);return s.w.config.series=a,t&&(s.w.globals.initialSeries=ce.clone(s.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise((function(s,a){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return s(t);t.lastUpdateOptions=ce.clone(e),new eM(t.ctx).clear({isUpdating:!0});var i=t.create(t.w.config.series,e);if(!i)return s(t);t.mount(i).then((function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,s(t)})).catch((function(o){a(o)}))}))}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach((function(s){t.push(s)}))),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(t){return e.w.config.chart.group===t.group?t.chart:e}))}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;s&&(a=s),a.annotations.addXaxisAnnotationExternal(e,t,a)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;s&&(a=s),a.annotations.addYaxisAnnotationExternal(e,t,a)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;s&&(a=s),a.annotations.addPointAnnotationExternal(e,t,a)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=this;t&&(s=t),s.annotations.removeAnnotation(s,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Bk(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Bk(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new eg(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new eg(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new eg(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=ce.escapeString(e);if(Apex._chartInstances){var s=Apex._chartInstances.filter((function(a){return a.id===t}))[0];return s&&s.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new r(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var s=this.getChartByID(e);if(s){s.w.globals.isExecCalled=!0;var a=null;if(s.publicMethods.indexOf(t)!==-1){for(var i=arguments.length,o=new Array(i>2?i-2:0),l=2;l<i;l++)o[l-2]=arguments[l];a=s[t].apply(s,o)}return a}}},{key:"merge",value:function(e,t){return ce.extend(e,t)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),r})();const Tme=Object.freeze(Object.defineProperty({__proto__:null,default:Eme},Symbol.toStringTag,{value:"Module"})),Pme=PB(Tme);var tM;function Rme(){return tM||(tM=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=S;var e=l(Ry()),t=i(Pme),s=i(VF()),a=["type","width","height","series","options"];function i(R){return R&&R.__esModule?R:{default:R}}function o(R){var A,D;return typeof WeakMap!="function"?null:(A=new WeakMap,D=new WeakMap,(o=function(P){return P?D:A})(R))}function l(R,A){if(!A&&R&&R.__esModule)return R;if(R===null||f(R)!="object"&&typeof R!="function")return{default:R};if(A=o(A),A&&A.has(R))return A.get(R);var D,P,E={__proto__:null},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in R)D!=="default"&&{}.hasOwnProperty.call(R,D)&&((P=I?Object.getOwnPropertyDescriptor(R,D):null)&&(P.get||P.set)?Object.defineProperty(E,D,P):E[D]=R[D]);return E.default=R,A&&A.set(R,E),E}function c(){return(c=Object.assign?Object.assign.bind():function(R){for(var A=1;A<arguments.length;A++){var D,P=arguments[A];for(D in P)!{}.hasOwnProperty.call(P,D)||(R[D]=P[D])}return R}).apply(null,arguments)}function d(R,A){if(R==null)return{};var D,P=u(R,A);if(Object.getOwnPropertySymbols)for(var E=Object.getOwnPropertySymbols(R),I=0;I<E.length;I++)D=E[I],A.includes(D)||{}.propertyIsEnumerable.call(R,D)&&(P[D]=R[D]);return P}function u(R,A){if(R==null)return{};var D,P={};for(D in R)if({}.hasOwnProperty.call(R,D)){if(A.includes(D))continue;P[D]=R[D]}return P}function f(R){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(R)}function m(R,A){var D,P=Object.keys(R);return Object.getOwnPropertySymbols&&(D=Object.getOwnPropertySymbols(R),A&&(D=D.filter(function(E){return Object.getOwnPropertyDescriptor(R,E).enumerable})),P.push.apply(P,D)),P}function p(R){for(var A=1;A<arguments.length;A++){var D=arguments[A]!=null?arguments[A]:{};A%2?m(Object(D),!0).forEach(function(P){y(R,P,D[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(D)):m(Object(D)).forEach(function(P){Object.defineProperty(R,P,Object.getOwnPropertyDescriptor(D,P))})}return R}function y(R,A,D){return(A=x(A))in R?Object.defineProperty(R,A,{value:D,enumerable:!0,configurable:!0,writable:!0}):R[A]=D,R}function x(R){return R=v(R,"string"),f(R)=="symbol"?R:R+""}function v(R,A){if(f(R)!="object"||!R)return R;var D=R[Symbol.toPrimitive];if(D===void 0)return(A==="string"?String:Number)(R);if(D=D.call(R,A),f(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}function N(R,A){var D=p({},R);return A.forEach(function(P){delete D[P]}),D}function k(R,A){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(R!==A){if(f(R)!=="object"||R===null||f(A)!=="object"||A===null)return!1;if(!D.has(R)&&!D.has(A)){D.add(R),D.add(A);var P=Object.keys(R),E=Object.keys(A);if(P.length!==E.length)return!1;for(var I=0,M=P;I<M.length;I++){var L=M[I];if(!E.includes(L)||!k(R[L],A[L],D))return!1}}}return!0}function S(X){function A(ee){return ee&&f(ee)==="object"&&!Array.isArray(ee)}var L=X.type,D=L===void 0?"line":L,L=X.width,P=L===void 0?"100%":L,L=X.height,E=L===void 0?"auto":L,I=X.series,M=X.options,L=d(X,a),z=(0,e.useRef)(null),F=(0,e.useRef)(null),V=(0,e.useRef)(),$=((0,e.useEffect)(function(){V.current=M;var ee=z.current;return F.current=new t.default(ee,$()),F.current.render(),function(){F.current&&typeof F.current.destroy=="function"&&F.current.destroy()}},[]),(0,e.useEffect)(function(){var ee=!k(F.current.w.config.series,I),W=!k(V.current,M)||E!==F.current.opts.chart.height||P!==F.current.opts.chart.width;(ee||W)&&(!ee||W?F.current.updateOptions($()):F.current.updateSeries(I)),V.current=M},[M,I,E,P]),function(){return Y(M,{chart:{type:D,height:E,width:P},series:I})}),Y=function(ee,W){var B=p({},ee);return A(ee)&&A(W)&&Object.keys(W).forEach(function(G){A(W[G])&&G in ee?B[G]=Y(ee[G],W[G]):Object.assign(B,y({},G,W[G]))}),B},X=N(L,Object.keys(S.propTypes));return e.default.createElement("div",c({ref:z},X))}S.propTypes={type:s.default.string.isRequired,series:s.default.array.isRequired,options:s.default.object.isRequired,width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number])}})(VN)),VN}var Ime=Rme();const Dme=Dg(Ime);function Mme(){const r=_s(),[e,t]=C.useState(0),[s,a]=C.useState(0),[i,o]=C.useState(""),[l,c]=C.useState(""),[d,u]=C.useState(!0),[f,m]=C.useState(!1),[p,y]=C.useState(null),[x,v]=C.useState(!1),[N,k]=C.useState({series:[],options:{}});C.useEffect(()=>{if(!Pe.currentUser){r("/login");return}(async()=>{const M=Te(J,"wallets",Pe.currentUser.uid),L=Te(J,"users",Pe.currentUser.uid);try{const z=await ft(M);if(console.log(`Fetching wallet for ${Pe.currentUser.uid}:`,z.exists()?z.data():"No wallet"),!z.exists()){console.log(`Creating wallet for ${Pe.currentUser.uid}`);const Y=await ft(L),X=Y.exists()&&Y.data().accountDetails?Y.data().accountDetails:{accountNumber:`MOCK${Math.random().toString().slice(2,12)}`,bankName:"Mock Bank",accountName:"Mock Seller"};await as(M,{availableBalance:0,pendingWithdrawals:0,updatedAt:Wn(),accountDetails:X})}const F=await ft(L),V=F.exists()&&F.data().isOnboarded===!0,$=F.exists()&&F.data().isProSeller===!0;console.log(`Seller ${Pe.currentUser.uid} onboarding status: ${V?"onboarded":"not onboarded"}, pro status: ${$?"pro":"standard"}`),y(V||$),v($),u(!1)}catch(z){console.error(`Error fetching wallet or status for ${Pe.currentUser.uid}:`,z),c("Failed to load wallet or status: "+z.message),u(!1)}})();const D=Te(J,"wallets",Pe.currentUser.uid),P=is(D,M=>{if(M.exists()){const L=M.data();console.log(`Snapshot for ${Pe.currentUser.uid}:`,L),t(L.availableBalance||0),a(L.pendingWithdrawals||0),R(L.availableBalance||0,L.pendingWithdrawals||0)}else console.log(`No wallet for ${Pe.currentUser.uid}`),t(0),a(0),R(0,0)},M=>{console.error("Wallet snapshot error:",M),c("Failed to update wallet: "+M.message)}),E=Et(Ie(J,"transactions"),bt("sellerId","==",Pe.currentUser.uid),bt("type","==","Withdrawal")),I=is(E,M=>{console.log(`Received ${M.docs.length} withdrawal transactions for seller ${Pe.currentUser.uid}`)},M=>{console.error("Transaction snapshot error:",M),c(`Failed to fetch transactions: ${M.message}`)});return()=>{P(),I()}},[r]);const S=async A=>{if(A.preventDefault(),c(""),u(!0),!p){console.log(`Withdrawal blocked: Seller ${Pe.currentUser.uid} is not onboarded`),m(!0),u(!1);return}const D=parseFloat(i);if(isNaN(D)||D<=0){c("Enter a valid amount."),u(!1);return}if(D>e){c("Insufficient balance."),u(!1);return}const P="https://foremade-backend.onrender.com";try{const E=Te(J,"wallets",Pe.currentUser.uid),I=await ft(E),M=I.exists()&&I.data().accountDetails?I.data().accountDetails:{accountNumber:`MOCK${Math.random().toString().slice(2,12)}`,bankName:"Mock Bank",accountName:"Mock Seller"},L={sellerId:Pe.currentUser.uid,amount:D,transactionReference:`TXN_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,accountDetails:M};console.log("Withdrawal request:",`${P}/initiate-seller-payout`,L),(await os.post(`${P}/initiate-seller-payout`,L,{timeout:1e4})).data.status==="success"&&(o(""),m(!1),alert("Withdrawal submitted. Funds will be credited upon admin approval."))}catch(E){console.error("Withdrawal error:",E),c("Withdrawal failed: "+(E.response?.data?.error||E.message))}finally{u(!1)}},R=(A=e,D=0)=>{k({series:[A,D],options:{chart:{type:"area",height:"100%",width:"100%",animations:{enabled:!0}},xaxis:{categories:["Balance"]},yaxis:{title:{text:"Amount (NGN)"},min:0},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},colors:["#2563EB","#c08640"],legend:{position:"top",horizontalAlign:"center"},tooltip:{y:{formatter:P=>`${P.toFixed(2)}`},custom:({series:P,seriesIndex:E,dataPointIndex:I,w:M})=>`<div class="p-2 bg-gray-800 text-white rounded-lg">
              ${M.globals.seriesNames[E]}: ${P[E][I].toFixed(2)}
            </div>`},dataLabels:{enabled:!1}}})};return d?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 sm:p-6 md:p-8 lg:p-10",children:n.jsxs("div",{className:"max-w-8xl mx-auto w-full bg-white rounded-2xl shadow-lg p-6 sm:p-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(rh,{className:"w-8 h-8 text-blue-600"}),n.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-900",children:"My Wallet"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(DF,{}),p!==null&&(p?n.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full text-green-600 bg-green-100",children:`Status: Onboarded (${x?"Pro":"Standard"} Seller)`}):n.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full text-red-600 bg-red-100 cursor-pointer hover:bg-red-200 transition",onClick:()=>window.location.href="/seller-onboarding","aria-label":"Onboard as seller",children:"Please Onboard"}))]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-5 text-white shadow-md relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-2 right-2 opacity-30",children:n.jsx(rh,{className:"w-16 h-16"})}),n.jsxs("span",{className:"text-xs font-light",children:["Wallet ID: ",Pe.currentUser.uid]}),n.jsx("h3",{className:"text-lg font-semibold mt-2",children:"Available Balance"}),n.jsx("p",{className:"text-2xl font-bold mt-2 bg-white p-2 rounded-lg text-blue-900",children:n.jsx(hr,{price:e})})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-5 text-white shadow-md relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-2 right-2 opacity-30",children:n.jsx(rh,{className:"w-16 h-16"})}),n.jsx("span",{className:"text-xs font-light",children:"Pending Transactions"}),n.jsx("h3",{className:"text-lg font-semibold mt-2",children:"Pending Withdrawals"}),n.jsx("p",{className:"text-2xl font-bold mt-2 bg-white p-2 rounded-lg text-orange-900",children:n.jsx(hr,{price:s})})]})]}),n.jsxs("form",{onSubmit:S,className:"bg-white border border-gray-100 rounded-2xl shadow-md p-5 sm:p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Hse,{className:"w-5 h-5 text-green-600"}),n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Request Withdrawal"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"withdraw-amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Withdrawal Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"withdraw-amount",type:"number",value:i,onChange:A=>o(A.target.value),className:"p-3 pl-10 w-full border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-base transition",required:!0,"aria-label":"Withdrawal Amount",min:"1",step:"any"}),n.jsx("i",{className:"bx bx-money absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum withdrawal: 1. Withdrawals subject to admin approval, may take up to 24 hours."})]}),l&&n.jsx("p",{className:"text-red-500 text-sm mb-4",children:l}),n.jsxs("button",{type:"submit",className:`w-full mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300 transition flex items-center justify-center gap-2 ${d?"opacity-50 cursor-not-allowed":""}`,disabled:d,"aria-label":"Request Withdrawal",children:[n.jsx("i",{className:"bx bx-wallet"}),"Request Withdrawal",d&&n.jsx("i",{className:"bx bx-loader-alt animate-spin"})]})]}),n.jsxs("div",{className:"mt-6 bg-white p-4 sm:p-6 rounded-lg shadow-md",children:[n.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-wallet text-blue-600"}),"Wallet Balance"]}),n.jsx("div",{className:"h-64 sm:h-80",children:n.jsx(Dme,{options:N.options,series:N.series,type:"area",height:"100%"})})]}),f&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Onboarding Required"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Please onboard as a seller to withdraw funds."}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition","aria-label":"Close modal",children:"Cancel"}),n.jsx("button",{onClick:()=>r("/seller-onboarding"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition","aria-label":"Go to onboarding",children:"Onboard Now"})]})]})})]})})]})}const Ome=()=>{const[r,e]=C.useState({}),t=a=>{e(i=>({...i,[a]:!i[a]}))},s=[{id:"introduction",title:"Introduction and Scope",icon:"bx-info-circle",content:n.jsx("p",{className:"text-secondary leading-relaxed",children:'This Privacy Notice explains how Foremade and its affiliates ("Foremade", "we", "us", or "our") collect, use, store, share, and protect your personal data. It complies with international privacy laws including GDPR, NDPR, CCPA, and more.'})},{id:"controller",title:"Data Controller",icon:"bx-globe",content:n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{region:"EU",entity:"Foremade GmbH  Berlin, Germany"},{region:"UK",entity:"Foremade UK Ltd.  London"},{region:"Nigeria",entity:"Foremade Nigeria Ltd.  Lagos"},{region:"Other Africa",entity:"Foremade Africa Ltd.  Nairobi"},{region:"Americas",entity:"Foremade Americas Inc.  Delaware, USA"},{region:"Asia",entity:"Foremade Asia Pte. Ltd.  Singapore"},{region:"All Regions",entity:"Foremade Global AG  Zurich"}].map(({region:a,entity:i},o)=>n.jsxs("div",{className:"bg-background-light p-3 rounded-lg border-l-4 border-primary",children:[n.jsx("div",{className:"font-semibold text-primary",children:a}),n.jsx("div",{className:"text-sm text-secondary",children:i})]},o))})},{id:"contact",title:"Contact and DPO",icon:"bx-envelope",content:n.jsx("div",{className:"bg-background-light p-4 rounded-lg border border-border-light",children:n.jsxs("p",{className:"text-secondary",children:["Reach our Data Protection Officers via the"," ",n.jsx(ve,{to:"/privacy-policy/contact",className:"policy-link font-semibold",children:"Privacy Centre"}),"."]})})},{id:"data-collection",title:"What Data We Collect",icon:"bx-shield",content:n.jsx("div",{className:"space-y-3",children:[{type:"Identity",desc:"Name, email, phone number"},{type:"Account Data",desc:"Order history, preferences, settings"},{type:"Usage Data",desc:"Device/browser information, interaction patterns"},{type:"Geolocation",desc:"Location data (if enabled by you)"},{type:"Third-party Sources",desc:"Data from partners and public sources"}].map(({type:a,desc:i},o)=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-background-light rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-primary",children:a}),n.jsx("div",{className:"text-sm text-secondary",children:i})]})]},o))})},{id:"legal-basis",title:"Legal Basis",icon:"bx-check-circle",content:n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:["Contract fulfillment","Legal compliance","Platform improvement","Consent (e.g., marketing)"].map((a,i)=>n.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-background-light rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),n.jsx("span",{className:"text-primary font-medium",children:a})]},i))})},{id:"transfers",title:"International Transfers",icon:"bx-world",content:n.jsx("div",{className:"bg-background-light p-4 rounded-lg border-l-4 border-primary",children:n.jsx("p",{className:"text-secondary leading-relaxed",children:"We use Standard Contractual Clauses (SCCs), NDPR rules, APEC frameworks, or other safeguards to protect your data when transferred internationally."})})},{id:"retention",title:"Data Retention",icon:"bx-folder",content:n.jsx("p",{className:"text-secondary leading-relaxed",children:"We keep your data as long as needed to deliver services, comply with legal obligations, or resolve disputes."})},{id:"rights",title:"Your Rights",icon:"bx-user",content:n.jsxs("div",{className:"bg-background-light p-4 rounded-lg border border-border-light",children:[n.jsx("p",{className:"text-secondary mb-3",children:"Depending on your region, you may request access, correction, deletion, or restriction of your data."}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-primary",children:"Submit requests via our"}),n.jsx(ve,{to:"/privacy-policy/contact",className:"policy-link font-semibold",children:"Privacy Centre"})]})]})},{id:"cookies",title:"Cookies",icon:"bx-cookie",content:n.jsx("div",{className:"bg-background-light p-4 rounded-lg border border-border-light",children:n.jsxs("p",{className:"text-secondary mb-3",children:["We use cookies to enhance performance and deliver marketing. Adjust your preferences in our"," ",n.jsx(ve,{to:"/privacy-policy/cookies",className:"policy-link font-semibold",children:"Cookie Settings"}),"."]})})},{id:"security",title:"Data Security",icon:"bx-lock",content:n.jsx("div",{className:"bg-background-light p-4 rounded-lg border-l-4 border-primary",children:n.jsx("p",{className:"text-secondary leading-relaxed",children:"We apply encryption, access controls, and secure infrastructure to protect your data from unauthorized access and breaches."})})},{id:"third-party",title:"Third-Party Links",icon:"bx-link",content:n.jsx("p",{className:"text-secondary leading-relaxed",children:"We are not responsible for third-party privacy practices linked from our platform. Please review their policies separately."})},{id:"children",title:"Children's Privacy",icon:"bx-child",content:n.jsx("div",{className:"bg-background-light p-4 rounded-lg border border-border-light",children:n.jsx("p",{className:"text-secondary leading-relaxed",children:"Children under 16 require verified parental consent to use our services."})})},{id:"updates",title:"Policy Updates",icon:"bx-refresh",content:n.jsx("p",{className:"text-secondary leading-relaxed",children:"We may update this policy and will notify you of major changes through our website or email notifications."})}];return n.jsxs(n.Fragment,{children:[n.jsx("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/boxicons/2.1.4/css/boxicons.min.css",rel:"stylesheet"}),n.jsxs("div",{className:"min-h-screen bg-background-light py-8",children:[n.jsx("div",{className:"bg-gray-100",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-16",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"bg-primary/10 p-4 rounded-2xl",children:n.jsx("i",{className:"bx bx-shield text-4xl text-primary"})})}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-primary",children:"Foremade Global Privacy Notice"}),n.jsx("div",{className:"bg-accent px-4 py-2 rounded-full inline-block",children:n.jsx("p",{className:"text-accent font-medium",children:"Effective Date: June 2, 2025"})})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[n.jsx("div",{className:"space-y-4",children:s.map(a=>n.jsxs("div",{className:"bg-background-light rounded-xl shadow-sm border border-border-light overflow-hidden hover:shadow-md transition-shadow",children:[n.jsxs("button",{onClick:()=>t(a.id),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-background-dark transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"text-primary flex items-center justify-center w-8",children:n.jsx("i",{className:`bx ${a.icon} text-2xl`})}),n.jsx("h2",{className:"text-xl font-semibold text-primary",children:a.title})]}),n.jsx("div",{className:"text-secondary",children:r[a.id]?n.jsx("i",{className:"bx bx-chevron-down text-2xl"}):n.jsx("i",{className:"bx bx-chevron-right text-2xl"})})]}),r[a.id]&&n.jsx("div",{className:"px-6 pb-6 border-t border-border-light",children:n.jsx("div",{className:"pt-4",children:a.content})})]},a.id))}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-2xl font-semibold text-primary mb-4",children:"Regional Policies"}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{name:"EU Policy",type:"eu"},{name:"UK Policy",type:"uk"},{name:"US Policy",type:"us"},{name:"Nigeria Policy",type:"nigeria"},{name:"Other Africa",type:"africa"},{name:"Americas Policy",type:"americas"},{name:"Asia Policy",type:"asia"},{name:"Australia/Oceania",type:"australia"}].map((a,i)=>n.jsxs(ve,{to:`/privacy-policy/${a.type}`,className:"block p-4 rounded-lg border-2 bg-background-light hover:bg-background-dark transition-all group border-border-light hover:border-primary",children:[n.jsx("div",{className:"text-primary group-hover:text-secondary",children:a.name}),n.jsxs("div",{className:"text-sm flex items-center gap-1 text-secondary",children:["View regional details",n.jsx("i",{className:"bx bx-right-arrow-alt"})]})]},i))})]}),n.jsx("footer",{className:"mt-16 pt-8 border-t border-gray-200 text-center",children:n.jsxs("div",{className:"text-secondary text-sm",children:[" ",new Date().getFullYear()," Foremade Global. All rights reserved."]})})]})]})]})},Lme=()=>{const[r,e]=C.useState("requests"),[t,s]=C.useState({requestType:"",fullName:"",email:"",phone:"",region:"",requestDetails:"",additionalInfo:""}),[a,i]=C.useState(!1),o=[{value:"access",label:"Access My Data",description:"Get a copy of all personal data we hold about you"},{value:"correction",label:"Correct My Data",description:"Update or correct inaccurate personal information"},{value:"deletion",label:"Delete My Data",description:"Request deletion of your personal data (Right to be Forgotten)"},{value:"restriction",label:"Restrict Processing",description:"Limit how we process your personal data"},{value:"portability",label:"Data Portability",description:"Receive your data in a structured, machine-readable format"},{value:"objection",label:"Object to Processing",description:"Object to processing based on legitimate interests"},{value:"withdraw",label:"Withdraw Consent",description:"Withdraw previously given consent for data processing"},{value:"complaint",label:"File a Complaint",description:"Report privacy concerns or violations"}],l=[{value:"eu",label:"European Union (GDPR)"},{value:"uk",label:"United Kingdom (UK GDPR)"},{value:"nigeria",label:"Nigeria (NDPR)"},{value:"us",label:"United States (CCPA/CPRA)"},{value:"canada",label:"Canada (PIPEDA)"},{value:"australia",label:"Australia (Privacy Act)"},{value:"singapore",label:"Singapore (PDPA)"},{value:"other",label:"Other Region"}],c=u=>{const{name:f,value:m}=u.target;s(p=>({...p,[f]:m}))},d=async u=>{if(u.preventDefault(),!t.requestType||!t.fullName||!t.email){Me.error("Please fill in all required fields");return}i(!0),setTimeout(()=>{Me.success("Privacy request submitted successfully! We will respond within 30 days."),s({requestType:"",fullName:"",email:"",phone:"",region:"",requestDetails:"",additionalInfo:""}),i(!1)},2e3)};return n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsxs("div",{className:"bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>e("requests"),className:`px-6 py-2 rounded-md transition-colors ${r==="requests"?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:"Privacy Requests"}),n.jsx("button",{onClick:()=>e("contact"),className:`px-6 py-2 rounded-md transition-colors ${r==="contact"?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:"Contact DPO"})]})}),r==="requests"&&n.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Submit Privacy Request"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Request Type *"}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:o.map(u=>n.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"requestType",value:u.value,checked:t.requestType===u.value,onChange:c,className:"mt-1"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:u.label}),n.jsx("div",{className:"text-sm text-gray-600",children:u.description})]})]},u.value))})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",name:"fullName",value:t.fullName,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number (Optional)"}),n.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region *"}),n.jsxs("select",{name:"region",value:t.region,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Select your region"}),l.map(u=>n.jsx("option",{value:u.value,children:u.label},u.value))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Request Details *"}),n.jsx("textarea",{name:"requestDetails",value:t.requestDetails,onChange:c,rows:"4",placeholder:"Please provide specific details about your request...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("i",{className:"bx bx-info-circle text-blue-600 text-xl mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Email Verification"}),n.jsxs("p",{className:"text-sm text-blue-700",children:["We will verify your identity via email at ",n.jsx("strong",{children:t.email}),". Please check your inbox for a verification link after submitting this request."]})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Information (Optional)"}),n.jsx("textarea",{name:"additionalInfo",value:t.additionalInfo,onChange:c,rows:"3",placeholder:"Any additional context or specific requirements...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:a,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-semibold",children:a?n.jsxs("span",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-loader-alt animate-spin mr-2"}),"Submitting..."]}):"Submit Request"})})]}),r==="contact"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Contact Data Protection Officer"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Email Contact"}),n.jsx("p",{className:"text-blue-700 mb-4",children:"For privacy-related inquiries and support:"}),n.jsx("a",{href:"mailto:privacy@foremade.com",className:"text-blue-600 hover:text-blue-800 font-semibold",children:"privacy@foremade.com"})]}),n.jsxs("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[n.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"Response Time"}),n.jsx("p",{className:"text-green-700 mb-2",children:"We aim to respond to all privacy requests within:"}),n.jsxs("ul",{className:"text-green-700 text-sm space-y-1",children:[n.jsx("li",{children:" Initial acknowledgment: 24 hours"}),n.jsx("li",{children:" Full response: 30 days"}),n.jsx("li",{children:" Complex requests: 60 days"})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200",children:[n.jsx("h4",{className:"font-semibold text-yellow-900 mb-3",children:"Data Protection Officer"}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{className:"text-yellow-800",children:"Email:"})," privacy@foremade.com"]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{className:"text-yellow-800",children:"Response Time:"})," Within 24-48 hours"]}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-yellow-800",children:"Languages:"})," English, French, Spanish, Arabic"]})]})]})]})]})},Fme=()=>{const{type:r}=Zo(),e=_s(),t=()=>{switch(r){case"cookies":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("i",{className:"bx bx-cookie text-2xl text-yellow-600"}),"Cookie Settings"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-700",children:"We use cookies and similar technologies to provide, protect, and improve our services. This page helps you understand how we use them and what choices you have."}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Essential Cookies"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Required for basic site functionality. Always active."})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Analytics Cookies"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors interact with our website."})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Marketing Cookies"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Used to deliver personalized advertisements."})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Preference Cookies"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Remember your settings and preferences."})]})]}),n.jsxs("div",{className:"mt-6 flex gap-4",children:[n.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Accept All"}),n.jsx("button",{className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Essential Only"})]})]})]});case"contact":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("i",{className:"bx bx-support text-2xl text-blue-600"}),"Privacy Centre"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-700",children:"Contact our Data Protection Officers for any privacy-related concerns or to exercise your data rights."}),n.jsx(Lme,{})]})]});case"eu":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("i",{className:"bx bx-flag text-2xl text-blue-600"}),"EU Privacy Policy"]}),n.jsxs("div",{className:"prose prose-blue max-w-none",children:[n.jsx("p",{className:"text-gray-700",children:"This policy complies with GDPR requirements for EU residents."}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-4",children:"Key GDPR Rights"}),n.jsx("div",{className:"grid gap-4",children:[{title:"Right to Access",description:"Individuals can request access to their personal data and obtain information about how it's processed.",link:"https://gdpr-info.eu/art-15-gdpr/"},{title:"Right to Rectification",description:"Allows individuals to have inaccurate personal data corrected.",link:"https://gdpr-info.eu/art-16-gdpr/"},{title:'Right to Erasure ("Right to be Forgotten")',description:"Enables individuals to request the deletion of their personal data under certain circumstances.",link:"https://gdpr-info.eu/art-17-gdpr/"},{title:"Right to Restrict Processing",description:"Individuals can request the limitation of their data processing under specific conditions.",link:"https://gdpr-info.eu/art-18-gdpr/"},{title:"Right to Data Portability",description:"Allows individuals to receive their personal data in a structured format and transfer it to another controller.",link:"https://gdpr-info.eu/art-20-gdpr/"},{title:"Right to Object to Processing",description:"Grants individuals the right to object to the processing of their personal data in certain situations.",link:"https://gdpr-info.eu/art-21-gdpr/"}].map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),n.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),n.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",children:["Learn More",n.jsx("i",{className:"bx bx-external-link text-lg"})]})]},a))})]})]});case"nigeria":return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-10",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-20 h-20 mb-4 flex items-center justify-center bg-green-100 rounded-full",children:n.jsx("i",{className:"bx bx-shield text-5xl text-green-700"})}),n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-green-700 mb-2",children:"Your Data Protection Rights under Nigerian Law (NDPA 2023)"}),n.jsx("p",{className:"text-gray-600 max-w-xl",children:"As a data subject in Nigeria, the Nigeria Data Protection Act (NDPA) 2023 grants you specific rights regarding your personal data. These rights ensure transparency, accountability, and give you greater control over how your information is collected, used, stored, and shared by organizations."})]}),n.jsxs("div",{className:"bg-white/90 rounded-xl shadow-lg p-6 md:p-10 border border-green-100",children:[n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"1. Right to Access Personal Data"}),n.jsx("p",{className:"mb-2",children:"You have the right to request and receive confirmation as to whether or not an organization holds your personal data. Where your data is being processed, you are entitled to:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-green-900",children:[n.jsx("li",{children:"A copy of the personal data being processed"}),n.jsx("li",{children:"Information about the purpose of the processing"}),n.jsx("li",{children:"The categories of data involved"}),n.jsx("li",{children:"The recipients or categories of recipients to whom the data has been disclosed"}),n.jsx("li",{children:"The retention period for the data or criteria for determining that period"}),n.jsx("li",{children:"The existence of your data protection rights (e.g., correction, deletion)"}),n.jsx("li",{children:"Information about any automated decision-making (e.g., profiling) that may affect you"})]}),n.jsx("p",{className:"mb-4",children:"Organizations must respond within 30 days and in a clear, intelligible format."}),n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"2. Right to Data Correction (Rectification)"}),n.jsx("p",{className:"mb-4",children:"You have the right to request that inaccurate or incomplete data about you be corrected or updated without undue delay. The organization must also notify any third parties who received the inaccurate data."}),n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"3. Right to Data Deletion (Erasure)"}),n.jsx("p",{className:"mb-2",children:'Also known as the "right to be forgotten", you may request the deletion of your data under specific conditions, such as:'}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Data is no longer needed for its original purpose"}),n.jsx("li",{children:"You withdraw consent"}),n.jsx("li",{children:"You object to processing with no overriding legitimate reason"}),n.jsx("li",{children:"Data was unlawfully processed"}),n.jsx("li",{children:"Deletion is required for legal compliance"})]}),n.jsx("p",{className:"mb-4",children:"Note: This right is not absolute and may be limited by legal obligations."}),n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"4. Right to Restrict Data Processing"}),n.jsx("p",{className:"mb-2",children:"You can request temporary restriction of data processing under circumstances such as:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Contesting the accuracy of the data"}),n.jsx("li",{children:"Unlawful processing but preferring restriction over deletion"}),n.jsx("li",{children:"Data no longer needed but required for legal claims"}),n.jsx("li",{children:"Pending verification of objection to processing"})]}),n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"5. Right to Data Portability"}),n.jsx("p",{className:"mb-4",children:"You have the right to receive your personal data in a structured, machine-readable format, and to transmit it to another data controller. This applies to data based on consent or a contract and processed by automated means."}),n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"How to Exercise Your Rights"}),n.jsxs("p",{className:"mb-4",children:["You may contact the organization (data controller) through a formal Data Subject Access Request (DSAR). A response is typically required within 30 days. If unsatisfied, complaints can be filed with the Nigeria Data Protection Commission (NDPC) at ",n.jsx("a",{href:"https://ndpc.gov.ng",target:"_blank",rel:"noopener noreferrer",className:"text-green-700 underline font-semibold",children:"https://ndpc.gov.ng"}),"."]})]})]})});case"us":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("i",{className:"bx bx-flag text-2xl text-red-600"}),"US Privacy Policy"]}),n.jsxs("div",{className:"prose prose-red max-w-none",children:[n.jsx("p",{className:"text-gray-700",children:"This policy complies with CCPA and other US privacy requirements."}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-4",children:"Key CCPA Rights"}),n.jsx("div",{className:"grid gap-4",children:[{title:"Right to Know",description:"Consumers can request disclosure of categories and specific pieces of personal information collected, sources, purposes, and third parties with whom it's shared.",link:"https://oag.ca.gov/privacy/ccpa"},{title:"Right to Delete",description:"Consumers can request the deletion of personal information collected by the business, subject to certain exceptions.",link:"https://oag.ca.gov/privacy/ccpa"},{title:"Right to Opt-Out of Sale or Sharing",description:"Consumers can direct businesses to stop selling or sharing their personal information with third parties.",link:"https://cppa.ca.gov/"},{title:"Right to Non-Discrimination",description:"Businesses cannot discriminate against consumers for exercising their CCPA rights.",link:"https://cppa.ca.gov/"}].map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),n.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),n.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-full hover:bg-red-100 transition-colors",children:["Learn More",n.jsx("i",{className:"bx bx-external-link text-lg"})]})]},a))})]})]});case"asia":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("i",{className:"bx bx-flag text-2xl text-yellow-600"}),"Asia Privacy Policy"]}),n.jsxs("div",{className:"prose prose-yellow max-w-none",children:[n.jsx("p",{className:"text-gray-700",children:"This policy complies with APEC and Asian privacy requirements."}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-4",children:"Key Privacy Resources"}),n.jsx("div",{className:"grid gap-4",children:[{title:"APEC Privacy Framework",description:"Comprehensive framework for privacy protection across APEC member economies.",link:"https://www.apec.org/docs/default-source/Publications/2005/12/APEC-Privacy-Framework/05_ecsg_privacyframewk.pdf"},{title:"APEC Secretariat Privacy Policy",description:"Official privacy policy and procedures of the APEC Secretariat.",link:"https://www.apec.org/docs/default-source/aboutus/policiesandprocedures/1a-apec-secretariatpersonal-data-protection-policy-v2-1-%28approved-by-cmg-on-22-july-2022%29.pdf"},{title:"CBPR System Guidelines",description:"Cross-Border Privacy Rules system policies and guidelines.",link:"https://cbprs.org/wp-content/uploads/2019/11/4.-CBPR-Policies-Rules-and-Guidelines-Revised-For-Posting-3-16-updated-1709-2019.pdf"},{title:"Hong Kong Privacy Guidelines",description:"Privacy protection guidelines from the Office of the Privacy Commissioner for Personal Data.",link:"https://www.pcpd.org.hk/english/files/infocentre/1tonylam1_ppt.pdf"}].map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),n.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),n.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-50 text-yellow-600 rounded-full hover:bg-yellow-100 transition-colors",children:["View Document",n.jsx("i",{className:"bx bx-external-link text-lg"})]})]},a))})]})]});case"australia":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("i",{className:"bx bx-flag text-2xl text-purple-600"}),"Australia/Oceania Privacy Policy"]}),n.jsxs("div",{className:"prose prose-purple max-w-none",children:[n.jsx("p",{className:"text-gray-700",children:"This policy complies with Australian Privacy Principles (APPs)."}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-4",children:"Key Privacy Resources"}),n.jsx("div",{className:"grid gap-4",children:[{title:"Australian Privacy Principles",description:"The 13 APPs that form the basis of privacy protection in Australia.",link:"https://www.oaic.gov.au/privacy/australian-privacy-principles"},{title:"Privacy Complaints",description:"Information about making privacy complaints and the complaint process.",link:"https://www.oaic.gov.au/privacy/privacy-complaints"},{title:"Privacy Guidance for Organisations and Government Agencies",description:"Guidance for organisations and government agencies on privacy obligations.",link:"https://www.oaic.gov.au/privacy/guidance-and-advice"},{title:"Notifiable Data Breaches",description:"Information about the Notifiable Data Breaches (NDB) scheme and reporting requirements.",link:"https://www.oaic.gov.au/privacy/notifiable-data-breaches"},{title:"Anonymity and Pseudonymity",description:"Guidelines on anonymity and pseudonymity in data collection.",link:"https://www.oaic.gov.au/privacy/privacy-fact-sheets/individuals/anonymity-and-pseudonymity"},{title:"Data Collection and Use",description:"Information about how personal data is collected and used.",link:"https://www.oaic.gov.au/privacy/your-privacy-rights/knowing-how-your-data-is-collected-and-used"}].map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),n.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),n.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-50 text-purple-600 rounded-full hover:bg-purple-100 transition-colors",children:["Learn More",n.jsx("i",{className:"bx bx-external-link text-lg"})]})]},a))})]})]});default:return e("/privacy-policy"),null}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[n.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 text-white",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-12",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{"aria-label":"back",onClick:()=>e("/privacy-policy"),className:"bg-white/10 p-2 rounded-lg hover:bg-white/20 transition-colors",children:n.jsx("i",{className:"bx bx-arrow-back text-2xl"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Privacy Settings"})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:t()}),n.jsx("footer",{className:"mt-16 pt-8 border-t border-gray-200 text-center",children:n.jsx("div",{className:"text-gray-500 text-sm",children:" 2025 Foremade Global. All rights reserved."})})]})]})},Ume=()=>{const[r,e]=C.useState(!1);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("section",{className:"bg-gradient-to-br from-indigo-900 via-purple-900 to-indigo-800 text-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:"Foremade Empowerment Hub"}),n.jsx("p",{className:"text-xl md:text-2xl text-indigo-100 max-w-3xl mx-auto leading-relaxed",children:"Empowering the Next Generation of Creators & Entrepreneurs"})]})})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"text-center mb-12",children:n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8",children:"Our Mission"})}),n.jsxs("div",{className:"prose prose-xl mx-auto text-gray-700 leading-relaxed",children:[n.jsx("p",{className:"mb-8",children:"At Foremade, we believe that the future belongs to the bold. We are committed to supporting young individuals with creative minds and entrepreneurial passion through comprehensive funding, expert mentorship, and a professional platform to showcase their talents."}),n.jsx("p",{children:"Our mission extends beyond providing toolswe create pathways for visionaries to bring their ideas to life and establish sustainable businesses that thrive both locally and globally. Each creator we sponsor represents the embodiment of passion, cultural heritage, and innovation."})]})]})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:n.jsxs("div",{className:"md:flex",children:[n.jsx("div",{className:"md:w-1/2",children:n.jsx("img",{src:"https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80",alt:"Handcrafted jewelry collection",className:"h-64 md:h-full w-full object-cover"})}),n.jsxs("div",{className:"md:w-1/2 p-8 md:p-12",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("span",{className:"inline-block bg-indigo-100 text-indigo-800 text-sm font-semibold px-3 py-1 rounded-full mb-4",children:"Featured Creator"}),n.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rhoda"}),n.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Founder, Rhodabella Crafted"}),n.jsx("p",{className:"text-lg text-indigo-600 font-medium",children:"Handmade  Heritage-Inspired  Uniquely Crafted"})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:["Rhoda is a distinguished jewelry designer who masterfully blends traditional African artistry with contemporary aesthetics. Her brand, ",n.jsx("strong",{children:"Rhodabella Crafted"}),", creates handcrafted pieces that serve as both elegant accessories and powerful expressions of cultural identity."]}),n.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"From intricately beaded chokers to custom waist beads, each piece in Rhoda's collections tells a story of heritage, pride, and individual expression."}),n.jsxs("blockquote",{className:"border-l-4 border-indigo-500 pl-6 italic text-gray-600 mb-8",children:['"My jewelry transcends mere aesthetics. It honors our heritage while expressing our authentic selves."',n.jsx("footer",{className:"text-sm font-semibold text-gray-900 mt-2",children:" Rhoda, Rhodabella Crafted"})]})]}),n.jsxs("a",{href:"https://foremade.com/store/RhodabellaCrafted",className:"inline-flex items-center px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors duration-200",target:"_blank",rel:"noopener noreferrer",children:["Visit Store",n.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})})})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Program Benefits"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Comprehensive support designed to transform creative passion into sustainable business success"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Financial Sponsorship"}),n.jsx("p",{className:"text-gray-600",children:"Funding for product development and business growth"})]}),n.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Expert Mentorship"}),n.jsx("p",{className:"text-gray-600",children:"Professional guidance in branding and digital commerce"})]}),n.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"E-commerce Platform"}),n.jsx("p",{className:"text-gray-600",children:"Professional online storefront at no cost"})]}),n.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Global Promotion"}),n.jsx("p",{className:"text-gray-600",children:"Marketing and visibility across Africa and beyond"})]})]})]})}),n.jsx("section",{className:"py-16 bg-gradient-to-r from-indigo-600 to-purple-600 mb-20",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Join Our Creator Program"}),n.jsx("p",{className:"text-xl text-indigo-100 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Are you a young creator or entrepreneur ready to transform your vision into reality? Apply to become part of our exclusive empowerment program."}),n.jsx("div",{className:"flex items-center justify-center mb-8",children:n.jsxs("label",{className:"flex items-center text-white",children:[n.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-indigo-300 rounded border-white",onChange:t=>e(t.target.checked),checked:r}),n.jsxs("span",{className:"ml-2 text-sm",children:["I have read and agree to the"," ",n.jsx(ve,{to:"/youth-empowerment-terms",className:"underline hover:text-indigo-200",children:"Terms and Conditions"})]})]})}),n.jsxs(ve,{to:r?"/youth-empowerment-form":"#",className:`inline-flex items-center px-8 py-4 font-semibold rounded-lg transition-colors duration-200 ${r?"bg-white text-indigo-600 hover:bg-gray-100":"bg-gray-400 text-gray-700 cursor-not-allowed"}`,onClick:t=>{r||(t.preventDefault(),alert("Please accept the terms and conditions to continue."))},children:["Apply Now",n.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})})]})},zme=()=>{const[r,e]=C.useState(1),[t,s]=C.useState(!1),[a,i]=C.useState({fullName:"",age:"",email:"",businessIdea:"",motivation:"",relevantExperience:"",expectedChallenges:"",twelveMonthGoals:"",supportNeeded:""}),[o,l]=C.useState({}),{alerts:c,addAlert:d,removeAlert:u}=sc(),f=(N,k)=>{i(S=>({...S,[N]:k})),o[N]&&l(S=>({...S,[N]:""}))},m=N=>{const k={};return N===1&&(a.fullName||(k.fullName="Name is required"),a.age||(k.age="Age is required"),a.email?/\S+@\S+\.\S+/.test(a.email)||(k.email="Invalid email"):k.email="Email is required"),N===2&&(a.businessIdea||(k.businessIdea="Business idea is required"),a.motivation||(k.motivation="Motivation is required"),a.relevantExperience||(k.relevantExperience="Relevant experience is required")),N===3&&(a.expectedChallenges||(k.expectedChallenges="Expected challenges is required"),a.twelveMonthGoals||(k.twelveMonthGoals="12-month goals is required"),a.supportNeeded||(k.supportNeeded="Support needed is required")),l(k),Object.keys(k).length===0},p=async()=>{m(r)&&(r<3?e(N=>N+1):await y())},y=async()=>{s(!0);try{const N={...a,submittedAt:new Date().toISOString(),timestamp:Date.now(),userAgent:navigator.userAgent,formType:"Youth Empowerment Application"};console.log("=== YOUTH EMPOWERMENT FORM SUBMISSION ==="),console.log("Form Data:",N),console.log("Submission Time:",new Date().toLocaleString()),console.log("Total Fields:",Object.keys(a).length),console.log("=========================================="),console.log("Sending data to /api/youth-empowerment...");const S=await fetch("https://foremade-backend.onrender.com/api/youth-empowerment",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(N)});if(console.log("API Response Status:",S.status),console.log("API Response Headers:",Object.fromEntries(S.headers.entries())),!S.ok){const A=await S.text();throw console.error("API Error Response:",A),new Error(`HTTP error! status: ${S.status}, message: ${A}`)}const R=await S.json();console.log("API Success Response:",R),console.log("=== SUBMISSION COMPLETED SUCCESSFULLY ==="),d("Application submitted successfully! We will review your application and get back to you soon.","success"),i({fullName:"",age:"",email:"",businessIdea:"",motivation:"",relevantExperience:"",expectedChallenges:"",twelveMonthGoals:"",supportNeeded:""}),e(1)}catch(N){console.error("=== SUBMISSION ERROR ==="),console.error("Error Details:",N),console.error("Error Message:",N.message),console.error("Error Stack:",N.stack),console.error("======================="),d("There was an error submitting your application. Please try again or contact support at support@foremade.com","error")}finally{s(!1)}},x=()=>{r>1&&e(N=>N-1)},v=()=>{const N={enter:{x:50,opacity:0},center:{x:0,opacity:1},exit:{x:-50,opacity:0}};return n.jsx(Zn,{mode:"wait",children:n.jsxs(vt.div,{variants:N,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[r===1&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(tc,{className:"w-6 h-6 text-neutral-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-neutral-800 mb-2",children:"Personal Information"}),n.jsx("p",{className:"text-neutral-600",children:"Let's start with the basics"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Enter your full name",value:a.fullName,onChange:k=>f("fullName",k.target.value),className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all ${o.fullName?"border-red-500":"border-gray-300"}`}),o.fullName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.fullName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Age ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Enter your age",value:a.age,onChange:k=>f("age",k.target.value),className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all pr-12 ${o.age?"border-red-500":"border-gray-300"}`}),n.jsx(Fse,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"})]}),o.age&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.age})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",placeholder:"your.email@example.com",value:a.email,onChange:k=>f("email",k.target.value),className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all ${o.email?"border-red-500":"border-gray-300"}`}),o.email&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.email})]})]}),r===2&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(kF,{className:"w-6 h-6 text-neutral-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-neutral-800 mb-2",children:"Your Business Vision"}),n.jsx("p",{className:"text-neutral-600",children:"Tell us about your entrepreneurial journey"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Idea ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{placeholder:"Describe your business idea in detail...",value:a.businessIdea,onChange:k=>f("businessIdea",k.target.value),rows:4,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.businessIdea?"border-red-500":"border-gray-300"}`}),o.businessIdea&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.businessIdea})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Motivation ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{placeholder:"What drives you to pursue this business opportunity?",value:a.motivation,onChange:k=>f("motivation",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.motivation?"border-red-500":"border-gray-300"}`}),o.motivation&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.motivation})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Relevant Experience ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{placeholder:"Share any relevant experience, skills, or background...",value:a.relevantExperience,onChange:k=>f("relevantExperience",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.relevantExperience?"border-red-500":"border-gray-300"}`}),o.relevantExperience&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.relevantExperience})]})]}),r===3&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(rae,{className:"w-6 h-6 text-neutral-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-neutral-800 mb-2",children:"Goals & Support"}),n.jsx("p",{className:"text-neutral-600",children:"Help us understand how we can support your success"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Expected Challenges ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{placeholder:"What obstacles do you anticipate in your entrepreneurial journey?",value:a.expectedChallenges,onChange:k=>f("expectedChallenges",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.expectedChallenges?"border-red-500":"border-gray-300"}`}),o.expectedChallenges&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.expectedChallenges})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["12-Month Goals ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{placeholder:"What do you aim to achieve in the next 12 months?",value:a.twelveMonthGoals,onChange:k=>f("twelveMonthGoals",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.twelveMonthGoals?"border-red-500":"border-gray-300"}`}),o.twelveMonthGoals&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.twelveMonthGoals})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Support Needed from Foremade ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{placeholder:"What specific support, resources, or guidance would be most valuable to you?",value:a.supportNeeded,onChange:k=>f("supportNeeded",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.supportNeeded?"border-red-500":"border-gray-300"}`}),o.supportNeeded&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.supportNeeded})]})]})]},r)})};return n.jsxs("div",{className:"relative",children:[n.jsx(Bo,{alerts:c,removeAlert:u}),n.jsx("div",{className:"min-h-screen bg-neutral-50 py-6 px-4 sm:py-8 md:py-12 lg:py-16",children:n.jsxs("div",{className:"max-w-md lg:max-w-2xl xl:max-w-3xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8 sm:mb-10 lg:mb-12",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-black rounded-2xl flex items-center justify-center mx-auto mb-4 sm:mb-6",children:n.jsx(IF,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-neutral-900 mb-3 sm:mb-4 leading-tight",children:["Youth Empowerment",n.jsx("br",{}),"Program"]}),n.jsx("p",{className:"text-neutral-600 text-sm sm:text-base lg:text-lg leading-relaxed max-w-2xl mx-auto",children:"Join our exclusive community of ambitious young entrepreneurs and creators."})]}),n.jsx("div",{className:"flex justify-center items-center gap-2 sm:gap-4 lg:gap-6 mb-8 sm:mb-10 max-w-lg mx-auto",children:[1,2,3].map((N,k)=>n.jsxs(js.Fragment,{children:[n.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-all
                    ${r>N||r===N?"bg-black text-white":"bg-neutral-200 text-neutral-600"}`,children:r>N?n.jsx(ii,{className:"w-4 h-4 sm:w-5 sm:h-5"}):n.jsx("span",{className:"text-sm sm:text-base font-bold",children:N})}),k<2&&n.jsx("div",{className:`w-8 sm:w-12 h-0.5 transition-all ${r>N+1?"bg-black":"bg-neutral-200"}`})]},N))}),n.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 lg:p-8 shadow-xl shadow-neutral-200/50 mb-6",children:[v(),n.jsxs("div",{className:"flex gap-3 mt-6 sm:mt-8 lg:mt-10",children:[r>1&&n.jsx("button",{onClick:x,className:"flex-1 px-4 py-3 sm:py-4 border border-neutral-300 rounded-xl font-semibold text-neutral-600 hover:bg-neutral-50 transition-colors lg:text-lg",children:"Previous"}),n.jsx("button",{onClick:p,disabled:t,className:`flex-1 bg-black text-white py-3 sm:py-4 px-6 rounded-xl font-semibold flex items-center justify-center gap-2 transition-colors lg:text-lg ${t?"bg-gray-400 cursor-not-allowed":"hover:bg-neutral-800"}`,children:r===3?t?n.jsxs(n.Fragment,{children:["Submitting...",n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})]}):n.jsxs(n.Fragment,{children:["Submit Application",n.jsx(ii,{className:"w-4 h-4"})]}):n.jsxs(n.Fragment,{children:["Continue",n.jsx(yg,{className:"w-4 h-4"})]})})]})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-xs sm:text-sm lg:text-base text-neutral-500",children:["Questions? Contact us at"," ",n.jsx("span",{className:"text-black font-medium hover:underline",children:"support@foremade.com"})]})})]})})]})},Bme=()=>n.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 min-h-screen py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx(zme,{})})}),Vme=()=>n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[n.jsxs("div",{className:"max-w-5xl mx-auto p-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8 border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 rounded-full",children:n.jsx("i",{className:"bx bx-world text-3xl text-white"})})}),n.jsx("h1",{className:"text-4xl font-bold text-center bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"FOREMADE Youth Empowerment"}),n.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-700 mb-4",children:"Terms of Engagement"}),n.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:n.jsx("p",{className:"text-center text-gray-700 font-medium",children:'"Empowered Creators Collaboration Agreement"'})}),n.jsxs("p",{className:"mt-6 text-gray-600 text-center leading-relaxed",children:["This agreement outlines the terms and conditions between ",n.jsx("strong",{className:"text-indigo-600",children:"FOREMADE Marketplace"}),' ("FOREMADE") and the selected participant/brand ("Creator") under the ',n.jsx("strong",{className:"text-purple-600",children:"FOREMADE Youth Empowerment Initiative"}),"."]})]}),n.jsx("div",{className:"space-y-6",children:Hme.map((r,e)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"bg-indigo-50 p-2 rounded-lg mr-3",children:n.jsx("i",{className:`bx ${r.icon} text-indigo-600 text-xl`})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:r.title})]}),r.content]},e))}),n.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl shadow-lg p-6 text-white mb-20",children:[n.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n.jsx("i",{className:"bx bx-handshake text-3xl mr-3"}),n.jsx("h3",{className:"text-xl font-semibold",children:"Agreement Commitment"})]}),n.jsx("p",{className:"text-center leading-relaxed",children:n.jsx("strong",{children:"By entering into this agreement, both parties commit to upholding the objectives of the Youth Empowerment Initiative in a fair and transparent manner."})})]})]}),n.jsx("link",{href:"https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css",rel:"stylesheet"})]}),Hme=[{icon:"bx-target-lock",title:"1. Purpose",content:n.jsx("p",{className:"text-gray-600 leading-relaxed ml-12",children:"The initiative aims to empower talented youth-led creators by offering financial support, free retail exposure, and a structured commercial partnership to scale their creations through the FOREMADE platform."})},{icon:"bx-briefcase",title:"2. Project Scope",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-dollar-circle text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Provide initial funding for production setup"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-store text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Offer access to online retail infrastructure"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-trending-up text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Co-market the Creator's selected product lines through web and social campaigns"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-shield-check text-indigo-500 mr-2"}),n.jsxs("span",{className:"text-gray-600",children:["Retain co-ownership of the empowered product lines ",n.jsx("strong",{className:"text-indigo-600",children:"until 10,000 units are sold"})]})]})]})},{icon:"bx-time",title:"3. Duration & Termination",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-calendar text-indigo-500 mr-2"}),n.jsxs("span",{className:"text-gray-600",children:["The partnership runs until a total of ",n.jsx("strong",{className:"text-indigo-600",children:"10,000 units"})," have been sold"]})]}),n.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4 mt-3",children:[n.jsx("div",{className:"font-medium text-indigo-700 mb-2",children:"After reaching this threshold:"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-crown text-indigo-500 mr-2"}),n.jsxs("span",{className:"text-gray-600",children:["Creator retains ",n.jsx("strong",{className:"text-indigo-600",children:"100% ownership"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-no-entry text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"FOREMADE no longer shares in profits"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-wallet text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"50% of capital funding is retained by the Creator"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-refresh text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Option to renew under revised terms"})]})]})]})]})},{icon:"bx-pie-chart-alt",title:"4. Profit Sharing",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-line-chart text-indigo-500 mr-2"}),n.jsxs("span",{className:"text-gray-700",children:[n.jsx("strong",{children:"010,000 units:"})," Creator gets ",n.jsx("strong",{className:"text-indigo-600",children:"40% net profit"})]})]})}),n.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-trending-up text-indigo-500 mr-2"}),n.jsxs("span",{className:"text-gray-700",children:[n.jsx("strong",{children:"Post-10,000 units:"})," Creator gets ",n.jsx("strong",{className:"text-indigo-600",children:"60%"}),", FOREMADE gets ",n.jsx("strong",{className:"text-indigo-600",children:"40%"})," (if agreement continues)"]})]})})]})},{icon:"bx-money",title:"5. Capital Funding",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-package text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Initial setup costs covered by FOREMADE"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-repeat text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Performance-based funding adjustments"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-coin-stack text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Materials and packaging support included"})]})]})},{icon:"bx-refresh",title:"6. Continuation Clause",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-copyright text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Creator retains intellectual property rights"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-package text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"FOREMADE continues logistics support"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-calendar-check text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Quarterly performance reviews"})]})]})},{icon:"bx-package",title:"7. Product Standards",content:n.jsx("p",{className:"text-gray-600 text-sm leading-relaxed ml-12",children:"All products must meet agreed quality standards. Packaging design must align with youth-focused branding and maintain consistency with the Creator's vision while meeting FOREMADE's marketplace requirements."})},{icon:"bx-bullhorn",title:"8. Marketing & Branding",content:n.jsx("p",{className:"text-gray-600 text-sm leading-relaxed ml-12",children:'Products will be featured prominently on the "Empowered Creators" section. All marketing materials will include Creator credits and cultural storytelling elements to maintain authenticity.'})},{icon:"bx-exit",title:"9. Termination Clause",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-time text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"14 days notice required"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-calculator text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Fair reconciliation of funding and inventory"})]})]})},{icon:"bx-balance-scale",title:"10. Dispute Resolution",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-conversation text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Mediation as primary resolution method"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-book-open text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Local jurisdiction laws apply"})]}),n.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:[n.jsx("strong",{children:"Note:"})," All disputes will be handled in accordance with the laws applicable to your country of operation."]})]})}],$me=()=>{const r=()=>{window.open("https://gdpr-info.eu/art-15-gdpr/","_blank","noopener,noreferrer")};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[n.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 text-white",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-12",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ve,{to:"/privacy-policy/eu",className:"bg-white/10 p-2 rounded-lg hover:bg-white/20 transition-colors",children:n.jsx("i",{className:"bx bx-arrow-back text-2xl"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Right of Access (Article 15 GDPR)"})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:n.jsxs("div",{className:"prose prose-blue max-w-none",children:[n.jsx("div",{className:"mb-6",children:n.jsx("p",{className:"text-gray-700",children:"To view the official text of Article 15 of the GDPR, please click the button below to open it in a new window:"})}),n.jsx("div",{className:"flex justify-center mb-8",children:n.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx("i",{className:"bx bx-external-link text-xl"}),"View Article 15 GDPR"]})}),n.jsxs("div",{className:"mt-8 bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"How to Exercise Your Right"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"To exercise your right of access, you can:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("i",{className:"bx bx-envelope text-blue-600 text-xl mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Email Request"}),n.jsx("p",{className:"text-gray-600",children:"Send your request to privacy@foremade.com"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("i",{className:"bx bx-user text-blue-600 text-xl mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Privacy Centre"}),n.jsxs("p",{className:"text-gray-600",children:["Submit your request through our ",n.jsx(ve,{to:"/privacy-policy/contact",className:"text-blue-600 hover:text-blue-800",children:"Privacy Centre"})]})]})]})]})]})]})}),n.jsx("footer",{className:"mt-16 pt-8 border-t border-gray-200 text-center",children:n.jsx("div",{className:"text-gray-500 text-sm",children:" 2025 Foremade Global. All rights reserved."})})]})]})},kh=({category:r})=>{const e={"Tablet & Phones":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496510/photo_2025-06-09_20-11-21_vsojz8.jpg","Health & Beauty":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496502/photo_2025-06-09_20-11-23_2_kwjqqr.jpg",Electronics:"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496477/photo_2025-06-09_20-11-29_tzs0vs.jpg","Computers & Accessories":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496469/photo_2025-06-09_20-11-31_xtfepw.jpg","Baby Products":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496470/photo_2025-06-09_20-11-30_ht9ms8.jpg","Games & Fun":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749425277/photo_2025-06-09_00-28-12_dt7sp3.jpg","Drinks & Categories":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749417059/photo_2025-06-08_22-10-17_inpwcf.jpg","Home & Kitchen":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749425370/photo_2025-06-09_00-28-16_mildb8.jpg","Smart Watches":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749425266/photo_2025-06-09_00-28-13_hai2go.jpg"};return n.jsxs("div",{className:"w-full h-[200px] relative overflow-hidden rounded-lg mb-6",children:[n.jsx("img",{src:e[r]||"default-banner-url.jpg",alt:`${r} banner`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/50 to-transparent",children:n.jsx("div",{className:"flex items-center h-full px-6",children:n.jsx("h1",{className:"hidden text-3xl font-bold text-white",children:r})})})]})};function qme(){const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(null),o="Tablet & Phones",l=1,c="tablet & phones";return C.useEffect(()=>{(async()=>{try{s(!0),i(null);const u=Et(Ie(J,"products"),bt("category","==",c)),m=(await dt(u)).docs.map(y=>{const x=y.data();return{id:y.id,...x}});console.log("All fetched products (Tablet & Phones):",m);const p=m.map(y=>{const x=y;let v=x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://")?x.imageUrl:Array.isArray(x.imageUrls)&&x.imageUrls[0]&&typeof x.imageUrls[0]=="string"&&x.imageUrls[0].startsWith("https://")?x.imageUrls[0]:"/images/placeholder.jpg";return{id:y.id,name:x.name||"Unnamed Product",description:x.description||"",price:x.price||0,stock:x.stock||0,category:x.category||"tablet & phones",categoryId:x.category?.trim().toLowerCase()===c.toLowerCase()?l:1,colors:x.colors||[],sizes:x.sizes||[],condition:x.condition||"",imageUrl:v,sellerId:x.sellerId||"",rating:x.rating||Math.random()*2+3}}).filter(y=>y.stock<10?(console.warn("Filtered out product with low stock (Tablet & Phones):",{id:y.id,name:y.name,stock:y.stock}),!1):!(y.imageUrl&&typeof y.imageUrl=="string"&&y.imageUrl.startsWith("https://"))&&y.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (Tablet & Phones):",{id:y.id,name:y.name,imageUrl:y.imageUrl}),!1):!0).sort((y,x)=>x.rating-y.rating);if(console.log(`Fetched ${o} products:`,p),p.length===0){console.warn("No products passed the filters (Tablet & Phones). Relaxing stock filter to debug...");const y=m.map(x=>{const v=x;let N=v.imageUrl&&typeof v.imageUrl=="string"&&v.imageUrl.startsWith("https://")?v.imageUrl:Array.isArray(v.imageUrls)&&v.imageUrls[0]&&typeof v.imageUrls[0]=="string"&&v.imageUrls[0].startsWith("https://")?v.imageUrls[0]:"/images/placeholder.jpg";return{id:x.id,name:v.name||"Unnamed Product",description:v.description||"",price:v.price||0,stock:v.stock||0,category:v.category||"tablet & phones",categoryId:v.category?.trim().toLowerCase()===c.toLowerCase()?l:1,colors:v.colors||[],sizes:v.sizes||[],condition:v.condition||"",imageUrl:N,sellerId:v.sellerId||"",rating:v.rating||Math.random()*2+3}}).filter(x=>!(x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://"))&&x.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (relaxed filter, Tablet & Phones):",{id:x.id,name:x.name,imageUrl:x.imageUrl}),!1):!0);console.log("Products with relaxed stock filter (Tablet & Phones):",y),e(y.sort((x,v)=>v.rating-x.rating))}else e(p)}catch(u){console.error(`Error loading ${o} products:`,{message:u.message,code:u.code}),i(`Failed to load ${o} products.`)}finally{s(!1)}})()},[]),t?n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(kh,{category:o}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(4)].map((d,u)=>n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},u))})]})}):n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(kh,{category:o}),n.jsxs("div",{className:"flex mt-6 justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending ",o]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx(ve,{to:`/products?category=${l}`,className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"})})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[r.length===0?n.jsxs("p",{className:"text-gray-600",children:["No ",o," products found."]}):r.map(d=>n.jsx("div",{className:"w-full",children:n.jsx(Zr,{product:d})},d.id)),console.log(a)]})]})})}function Wme(){const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(null),o="Electronics",l=3,c="electronics";return C.useEffect(()=>{(async()=>{try{s(!0),i(null);const u=Et(Ie(J,"products"),bt("category","==",c)),m=(await dt(u)).docs.map(y=>{const x=y.data();return{id:y.id,...x}});console.log("All fetched products (Electronics):",m);const p=m.map(y=>{const x=y;let v=x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://")?x.imageUrl:Array.isArray(x.imageUrls)&&x.imageUrls[0]&&typeof x.imageUrls[0]=="string"&&x.imageUrls[0].startsWith("https://")?x.imageUrls[0]:"/images/placeholder.jpg";return{id:y.id,name:x.name||"Unnamed Product",description:x.description||"",price:x.price||0,stock:x.stock||0,category:x.category||"electronics",categoryId:x.category?.trim().toLowerCase()===c.toLowerCase()?l:3,colors:x.colors||[],sizes:x.sizes||[],condition:x.condition||"",imageUrl:v,sellerId:x.sellerId||"",rating:x.rating||Math.random()*2+3}}).filter(y=>y.stock<10?(console.warn("Filtered out product with low stock (Electronics):",{id:y.id,name:y.name,stock:y.stock}),!1):!(y.imageUrl&&typeof y.imageUrl=="string"&&y.imageUrl.startsWith("https://"))&&y.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (Electronics):",{id:y.id,name:y.name,imageUrl:y.imageUrl}),!1):!0).sort((y,x)=>x.rating-y.rating);if(console.log(`Fetched ${o} products:`,p),p.length===0){console.warn("No products passed the filters (Electronics). Relaxing stock filter to debug...");const y=m.map(x=>{const v=x;let N=v.imageUrl&&typeof v.imageUrl=="string"&&v.imageUrl.startsWith("https://")?v.imageUrl:Array.isArray(v.imageUrls)&&v.imageUrls[0]&&typeof v.imageUrls[0]=="string"&&v.imageUrls[0].startsWith("https://")?v.imageUrls[0]:"/images/placeholder.jpg";return{id:x.id,name:v.name||"Unnamed Product",description:v.description||"",price:v.price||0,stock:v.stock||0,category:v.category||"electronics",categoryId:v.category?.trim().toLowerCase()===c.toLowerCase()?l:3,colors:v.colors||[],sizes:v.sizes||[],condition:v.condition||"",imageUrl:N,sellerId:v.sellerId||"",rating:v.rating||Math.random()*2+3}}).filter(x=>!(x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://"))&&x.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (relaxed filter, Electronics):",{id:x.id,name:x.name,imageUrl:x.imageUrl}),!1):!0);console.log("Products with relaxed stock filter (Electronics):",y),e(y.sort((x,v)=>v.rating-x.rating))}else e(p)}catch(u){console.error(`Error loading ${o} products:`,{message:u.message,code:u.code}),i(`Failed to load ${o} products.`)}finally{s(!1)}})()},[]),t?n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(kh,{category:o}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[...Array(4)].map((d,u)=>n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},u))})]})}):n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(kh,{category:o}),n.jsxs("div",{className:"flex mt-6 justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx(ve,{to:`/products?category=${l}`,className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"})})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[r.length===0?n.jsxs("p",{className:"text-gray-600 p-4",children:["No ",o," products found."]}):r.map(d=>n.jsx("div",{className:"w-full",children:n.jsx(Zr,{product:d})},d.id)),console.log(a)]})]})})}function Yme(){const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(null),o="Smart Watches",l=9,c="smart watches";return C.useEffect(()=>{(async()=>{try{s(!0),i(null);const u=Et(Ie(J,"products"),bt("category","==",c)),m=(await dt(u)).docs.map(y=>{const x=y.data();return{id:y.id,...x}});console.log("All fetched products (Smart Watches):",m);const p=m.map(y=>{const x=y;let v=x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://")?x.imageUrl:Array.isArray(x.imageUrls)&&x.imageUrls[0]&&typeof x.imageUrls[0]=="string"&&x.imageUrls[0].startsWith("https://")?x.imageUrls[0]:"/images/placeholder.jpg";return{id:y.id,name:x.name||"Unnamed Product",description:x.description||"",price:x.price||0,stock:x.stock||0,category:x.category||"smart watches",categoryId:x.category?.trim().toLowerCase()===c.toLowerCase()?l:9,colors:x.colors||[],sizes:x.sizes||[],condition:x.condition||"",imageUrl:v,sellerId:x.sellerId||"",rating:x.rating||Math.random()*2+3}}).filter(y=>y.stock<10?(console.warn("Filtered out product with low stock (Smart Watches):",{id:y.id,name:y.name,stock:y.stock}),!1):!(y.imageUrl&&typeof y.imageUrl=="string"&&y.imageUrl.startsWith("https://"))&&y.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (Smart Watches):",{id:y.id,name:y.name,imageUrl:y.imageUrl}),!1):!0).sort((y,x)=>x.rating-y.rating);if(console.log(`Fetched ${o} products:`,p),p.length===0){console.warn("No products passed the filters (Smart Watches). Relaxing stock filter to debug...");const y=m.map(x=>{const v=x;let N=v.imageUrl&&typeof v.imageUrl=="string"&&v.imageUrl.startsWith("https://")?v.imageUrl:Array.isArray(v.imageUrls)&&v.imageUrls[0]&&typeof v.imageUrls[0]=="string"&&v.imageUrls[0].startsWith("https://")?v.imageUrls[0]:"/images/placeholder.jpg";return{id:x.id,name:v.name||"Unnamed Product",description:v.description||"",price:v.price||0,stock:v.stock||0,category:v.category||"smart watches",categoryId:v.category?.trim().toLowerCase()===c.toLowerCase()?l:9,colors:v.colors||[],sizes:v.sizes||[],condition:v.condition||"",imageUrl:N,sellerId:v.sellerId||"",rating:v.rating||Math.random()*2+3}}).filter(x=>!(x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://"))&&x.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (relaxed filter, Smart Watches):",{id:x.id,name:x.name,imageUrl:x.imageUrl}),!1):!0);console.log("Products with relaxed stock filter (Smart Watches):",y),e(y.sort((x,v)=>v.rating-x.rating))}else e(p)}catch(u){console.error(`Error loading ${o} products:`,{message:u.message,code:u.code}),i(`Failed to load ${o} products.`)}finally{s(!1)}})()},[]),t?n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(kh,{category:o}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(4)].map((d,u)=>n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},u))})]})}):n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(kh,{category:o}),n.jsxs("div",{className:"flex mt-6 justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx(ve,{to:`/products?category=${l}`,className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"})})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[r.length===0?n.jsx("p",{className:"text-gray-600",children:"No product found."}):r.map(d=>n.jsx("div",{className:"w-full",children:n.jsx(Zr,{product:d})},d.id)),console.log(a)]})]})})}const Gme=r=>{switch(r.message){case"Network Error":return"Check your network connection and try again.";case"No user found with this email":return"No user found with this email.";case"Valid email is required":return"Please enter a valid email address.";default:return"An unexpected error occurred. Please try again later."}};function Xme(){const r=_s(),[e,t]=C.useState(""),[s,a]=C.useState(""),[i,o]=C.useState(""),[l,c]=C.useState(!1),d=f=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f),u=async f=>{if(f.preventDefault(),a(""),o(""),c(!0),!e){a("Email is required."),c(!1);return}if(!d(e)){a("Please enter a valid email address."),c(!1);return}try{const m=await fetch("https://foremade-backend.onrender.com/request-password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),p=await m.json();if(!m.ok)throw new Error(p.error||"Failed to send reset link");o(`Password reset email sent to ${e}. Please check your inbox.`),t(""),setTimeout(()=>{c(!1),r("/login")},7e3)}catch(m){console.error("Error sending password reset email:",m),a(Gme(m)),c(!1)}};return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"w-full h-screen flex",children:[n.jsx("div",{className:"hidden md:block md:w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('https://images.pexels.com/photos/5625115/pexels-photo-5625115.jpeg?auto=compress&cs=tinysrgb&w=600')"},children:n.jsxs("div",{className:"w-full h-full bg-black bg-opacity-40 dark:bg-black/50 flex flex-col justify-center items-center text-white p-8",children:[n.jsx("h1",{className:"text-3xl font-bold flex-col items-center",children:n.jsx("img",{src:Vh,alt:"Formade logo",className:"h-20"})}),n.jsx("p",{className:"text-lg",children:"Recover Your Password."})]})}),n.jsxs("div",{className:"w-full md:w-1/2 h-full p-9 flex flex-col justify-center bg-white dark:bg-gray-800",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Forgot Password"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Already have an account?"," ",n.jsx(ve,{to:"/login",className:"text-blue-600 hover:underline dark:text-blue-400 dark:hover:text-blue-300",children:"Sign In"})]}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",id:"email",value:e,onChange:f=>{t(f.target.value),a("")},className:`w-full p-3 border rounded-lg transition-all duration-300 ${s?"border-red-500":i?"border-green-500":"border-gray-300 dark:border-gray-600"}`,autoComplete:"email",required:!0}),n.jsx("label",{htmlFor:"email",className:`absolute left-3 top-3 text-gray-500 dark:text-gray-400 transition-all duration-300 transform origin-left pointer-events-none peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-500 peer-focus:bg-white dark:peer-focus:bg-gray-800 peer-focus:px-1 ${e?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""}`,children:"Email"}),n.jsx("span",{className:"absolute right-3 top-3 text-blue-500 dark:text-blue-400",children:n.jsx("i",{className:"bx bx-envelope text-xl"})}),s&&n.jsx("p",{className:"text-red-600 text-[10px] mt-1",children:s})]}),i&&n.jsx("p",{className:"text-green-600 text-[10px] mb-4",children:i}),n.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200 dark:bg-slate-700 dark:hover:bg-blue-900",disabled:l,children:l?"Sending...":n.jsxs(n.Fragment,{children:["Send Reset Link"," ",n.jsx("i",{className:"bx bx-send text-blue-500 text-xl inline-block ml-2"})]})})]}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-5",children:["Dont have an account?"," ",n.jsx(ve,{to:"/register",className:"text-blue-600 hover:underline dark:text-blue-400 dark:hover:text-blue-300",children:"Sign Up"})]})]})]})})}const Kme="https://foremade-backend.onrender.com",Zme=r=>{switch(r.message){case"Network Error":return"Check your network connection and try again.";case"Invalid or used token":return"Invalid or expired reset link. Please request a new one.";case"No user found with this email":return"No user found with this email.";case"New password must be at least 8 characters":return"New password must be at least 8 characters long.";default:return"An unexpected error occurred. Please try again later."}};function Qme(){const r=_s(),e=Qr(),[t,s]=C.useState(""),[a,i]=C.useState(""),[o,l]=C.useState(""),[c,d]=C.useState(!1),u=new URLSearchParams(e.search),f=u.get("token"),m=u.get("email");C.useEffect(()=>{(!f||!m)&&i("Invalid or missing reset link. Please request a new one.")},[f,m]);const p=async y=>{if(y.preventDefault(),i(""),l(""),d(!0),!t){i("New password is required."),d(!1);return}if(t.length<8){i("New password must be at least 8 characters long."),d(!1);return}try{const x=await fetch(`${Kme}/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,token:f,newPassword:t})});let v;try{v=await x.json()}catch(N){throw console.error("JSON parse error:",N),new Error("Server returned an invalid response")}if(!x.ok)throw new Error(v.error||"Failed to reset password");l("Password reset successfully! Redirecting to login..."),s(""),setTimeout(()=>{d(!1),r("/login")},3e3)}catch(x){console.error("Error resetting password:",x),i(Zme(x)),d(!1)}};return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:n.jsxs("div",{className:"w-full h-screen flex",children:[n.jsx("div",{className:"hidden md:block md:w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('https://images.pexels.com/photos/5625115/pexels-photo-5625115.jpeg?auto=compress&cs=tinysrgb&w=600')"},children:n.jsxs("div",{className:"w-full h-full bg-black bg-opacity-40 dark:bg-black/50 flex flex-col justify-center items-center text-white p-8",children:[n.jsx("h1",{className:"text-3xl font-bold flex-col items-center",children:n.jsx("img",{src:Vh,alt:"Formade logo",className:"h-20",onError:y=>{y.target.src="/fallback-logo.png"}})}),n.jsx("p",{className:"text-lg",children:"Reset Your Password"})]})}),n.jsxs("div",{className:"w-full md:w-1/2 h-full p-6 sm:p-9 flex flex-col justify-center bg-white dark:bg-gray-800",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Reset Password"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Back to login?"," ",n.jsx(ve,{to:"/login",className:"text-blue-600 hover:underline dark:text-blue-400 dark:hover:text-blue-300","aria-label":"Sign in to your account",children:"Sign In"})]}),n.jsxs("form",{onSubmit:p,className:"space-y-4",noValidate:!0,children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"password",id:"new-password",value:t,onChange:y=>{s(y.target.value),i(""),l("")},className:`w-full p-3 border rounded-lg transition-all duration-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 ${a?"border-red-500":o?"border-green-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`,autoComplete:"new-password",required:!0,disabled:c,"aria-describedby":a?"password-error":void 0,"aria-invalid":a?"true":"false"}),n.jsx("label",{htmlFor:"new-password",className:`absolute left-3 top-3 text-gray-500 dark:text-gray-400 transition-all duration-300 transform origin-left pointer-events-none ${t?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":"peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-500 peer-focus:bg-white dark:peer-focus:bg-gray-800 peer-focus:px-1"}`,children:"New Password"}),n.jsx("span",{className:"absolute right-3 top-3 text-blue-500 dark:text-blue-400",children:n.jsx("i",{className:"bx bx-lock text-xl"})}),a&&n.jsx("p",{id:"password-error",className:"text-red-600 text-xs mt-1",children:a})]}),o&&n.jsxs("div",{className:"relative bg-green-100 text-green-700 p-3 rounded-lg flex items-center justify-between",children:[n.jsx("p",{className:"text-sm",children:o}),n.jsx("button",{onClick:()=>r("/login"),className:"ml-2 text-green-700 hover:text-green-900 focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Dismiss success message and go to login",children:n.jsx("i",{className:"bx bx-check-circle text-xl"})})]}),n.jsx("button",{type:"submit",className:`w-full p-3 rounded-lg font-semibold transition duration-200 flex items-center justify-center space-x-2 ${c||!f||!m?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-slate-600 hover:bg-blue-800 dark:bg-slate-700 dark:hover:bg-blue-900 text-white"}`,disabled:c||!f||!m,"aria-label":"Reset password",children:c?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}),n.jsx("span",{children:"Resetting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Reset Password"}),n.jsx("i",{className:"bx bx-lock text-xl"})]})})]}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-5",children:["Dont have an account?"," ",n.jsx(ve,{to:"/register",className:"text-blue-600 hover:underline dark:text-blue-400 dark:hover:text-blue-300","aria-label":"Sign up for a new account",children:"Sign Up"})]})]})]})})}const Jme={Shoes:"https://banner2.cleanpng.com/20180406/wow/kisspng-shoe-jumpman-sneakers-air-jordan-teal-jordan-5ac6ff9c2fcfe2.7959868915229910041959.jpg",Fashion:"https://pngimg.com/uploads/dress_shirt/dress_shirt_PNG8088.png",Phones:"https://banner2.cleanpng.com/20240415/cv/transparent-apple-logo-person-holding-iphone-11-pro-max661df755177ea1.73458741.webp",Laptops:"https://banner2.cleanpng.com/lnd/20240424/uxz/transparent-rainbow-open-laptop-with-rainbow-gradient-background-image662945f170dc49.58708681.webp",Watches:"https://banner2.cleanpng.com/20180202/lie/av2ldq3r4.webp",Electronics:"https://banner2.cleanpng.com/20180131/jgw/av1z4nree.webp"};function ege(r){const e=Zo();Qr();const t=r.category||e.category||"",[s,a]=C.useState([]),[i,o]=C.useState(!0);C.useEffect(()=>{if(!t)return;(async()=>{o(!0);try{const d=Et(Ie(J,"products"),bt("category","==",t.toLowerCase())),f=(await dt(d)).docs.map(m=>({id:m.id,...m.data()}));a(f)}catch{a([])}finally{o(!1)}})()},[t]);const l=Jme[t]||null;return n.jsxs("section",{className:"py-8 bg-white",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative w-full h-40 md:h-56 bg-gradient-to-r from-blue-100 to-blue-300 flex items-center justify-center rounded-lg overflow-hidden",children:[l&&n.jsx("img",{src:l,alt:t,className:"absolute right-4 bottom-0 h-32 md:h-48 object-contain opacity-60 pointer-events-none",style:{maxWidth:"40%"}}),n.jsx("h1",{className:"relative z-10 text-2xl md:text-4xl font-bold text-blue-900 drop-shadow-lg",children:t?`${t} Products`:"Products"})]})}),n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-4",children:t?`Products in ${t}`:"Products"}),i?n.jsx("div",{children:"Loading..."}):s.length===0?n.jsx("p",{className:"text-gray-600",children:"No products found for this category."}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:s.map(c=>n.jsx(Zr,{product:c},c.id))})]})]})}const tge=()=>n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[n.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 text-white",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-16",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"bg-blue-100 p-4 rounded-2xl",children:n.jsx("i",{className:"bx bx-store text-4xl text-blue-600"})})}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"About Us"}),n.jsx("p",{className:"text-xl text-blue-100",children:"Shop. Sell. Smile."})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Welcome to ",n.jsx("strong",{className:"text-blue-600",children:"FOREMADE Marketplace"}),"  the people-first platform where ",n.jsx("em",{children:"everyone can shop, sell, and smile"}),".",n.jsx("br",{}),"Whether you're clearing out the old, launching something new, or simply looking to buy smart, FOREMADE gives you the tools, the platform, and the audience."]})}),n.jsx("div",{className:"mb-8",children:n.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["We're ",n.jsx("strong",{className:"text-blue-600",children:"not just another marketplace"}),". FOREMADE was created to ",n.jsx("strong",{children:"level the playing field"}),"  giving everyday people, creatives, and entrepreneurs a ",n.jsx("strong",{children:"free, secure space to sell"})," new or used products and reach buyers everywhere."]})}),n.jsxs("div",{className:"mb-12",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx("i",{className:"bx bx-star text-2xl text-yellow-500 mr-3"}),"What Makes Us Different?"]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{icon:"bx-gift",title:"Free to Sell",desc:"List your items at no cost  new, handmade, or preloved."},{icon:"bx-money",title:"Get Paid Fast",desc:"Sellers receive full payment after confirmed deliveries. No delays."},{icon:"bx-mobile",title:"User-Friendly Platform",desc:"Designed to be mobile-first, easy to use, and built with sellers in mind."},{icon:"bx-globe",title:"Worldwide Reach",desc:"Buy or sell across cities, countries, and continents."},{icon:"bx-shield",title:"Safe & Secure",desc:"Protected payments, verified vendors, and encrypted data."},{icon:"bx-check-shield",title:"Zero Tolerance for Fraud",desc:"Robust anti-money laundering and transaction monitoring systems."},{icon:"bx-truck",title:"Fast, Discounted Delivery",desc:"Reliable logistics and savings on bundled shipments."}].map((r,e)=>n.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx("div",{className:"text-blue-600 flex items-center justify-center w-8",children:n.jsx("i",{className:`bx ${r.icon} text-2xl`})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:r.title}),n.jsx("p",{className:"text-sm text-gray-600",children:r.desc})]})]},e))})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx("i",{className:"bx bx-globe text-2xl text-green-600 mr-3"}),"For Everyone. Open to the World."]}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"FOREMADE empowers sellers from all walks of life to connect with a growing global marketplace. Whether you're a student with a side hustle or a brand ready to scale, we help you get noticed  and get paid."})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-100",children:[n.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Shop what you love. Sell what you have. To your neighborhood  or across borders. And always, smile."}),n.jsx("p",{className:"text-gray-600 italic",children:"Because on FOREMADE, everyone is a seller, and everyone is a customer."})]})]})}),n.jsx("div",{className:"mt-12 text-center",children:n.jsxs(ve,{to:"/products",className:"inline-flex items-center gap-2 px-6 py-3 bg-[#112d4e] text-white rounded-lg hover:bg-[#112d4e] transition-colors",children:["Start Shopping",n.jsx("i",{className:"bx bx-right-arrow-alt"})]})}),n.jsx("footer",{className:"mt-16 pt-8 border-t border-gray-200 text-center",children:n.jsx("div",{className:"text-gray-500 text-sm",children:" 2025 Foremade Global. All rights reserved."})})]})]}),sge=()=>{const[r,e]=C.useState(""),[t,s]=C.useState([]),[a,i]=C.useState(!1),[o,l]=C.useState([]),[c,d]=C.useState("All"),[u,f]=C.useState([0,1e5]);C.useEffect(()=>{(async()=>{try{const y=await dt(Ie(J,"products")),x=new Set(y.docs.map(v=>v.data().category||"Other"));l(["All",...x])}catch(y){console.error("Error fetching categories:",y),Me.error("Failed to load categories.")}})()},[]);const m=async()=>{if(!r.trim()){s([]);return}i(!0);try{let p=Et(Ie(J,"products"),bt("status","==","approved"));c!=="All"&&(p=Et(p,bt("category","==",c)));const x=(await dt(p)).docs.map(v=>({id:v.id,...v.data()})).filter(v=>v.name.toLowerCase().includes(r.toLowerCase())&&v.price>=u[0]&&v.price<=u[1]);s(x)}catch(p){console.error("Error searching products:",p),Me.error("Failed to load search results.")}finally{i(!1)}};return C.useEffect(()=>{const p=setTimeout(m,500);return()=>clearTimeout(p)},[r,c,u]),n.jsx("div",{className:"min-h-screen bg-gray-100 py-4 xs:py-6",children:n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsxs("div",{className:"relative mb-4 xs:mb-6",children:[n.jsx("input",{type:"text",placeholder:"Search for items...",value:r,onChange:p=>e(p.target.value),className:"w-full pl-10 pr-4 py-2 xs:py-3 rounded-full bg-white shadow-sm text-sm xs:text-base focus:outline-none focus:ring-2 focus:ring-blue-500 justify-end"}),n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-lg xs:text-xl"})]}),n.jsxs("div",{className:"flex flex-col xs:flex-row gap-3 xs:gap-4 mb-4 xs:mb-6",children:[n.jsx("select",{value:c,onChange:p=>d(p.target.value),className:"px-3 py-2 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:o.map(p=>n.jsx("option",{value:p,children:p},p))}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"number",placeholder:"Min",value:u[0]||"",onChange:p=>f([Number(p.target.value)||0,u[1]]),className:"w-20 px-2 py-2 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("span",{children:"-"}),n.jsx("input",{type:"number",placeholder:"Max",value:u[1]||"",onChange:p=>f([u[0],Number(p.target.value)||1e5]),className:"w-20 px-2 py-2 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 xs:gap-4",children:[...Array(8)].map((p,y)=>n.jsx("div",{className:"bg-white rounded-lg shadow-sm h-[260px] animate-pulse"},y))}):t.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-600",children:[n.jsx("i",{className:"bx bx-search-alt-2 text-4xl mb-2"}),n.jsx("p",{className:"text-sm xs:text-base",children:"No products found. Try a different search term."})]}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 xs:gap-4",children:t.map(p=>n.jsx(Zr,{product:{id:p.id,name:p.name,price:p.price,imageUrls:p.imageUrls,sellerName:p.sellerName||"Unknown Seller"}},p.id))})]})})},rge=()=>{const[r,e]=C.useState([]),[t,s]=C.useState(!0);C.useEffect(()=>{(async()=>{s(!0);try{const c=Pe.currentUser?.uid;if(!c){e([]),s(!1);return}const d=Et(Ie(J,"users-notifications"),bt("userId","==",c),mh("createdAt","desc")),f=(await dt(d)).docs.map(m=>({id:m.id,...m.data()}));e(f)}catch(c){console.error("Error fetching notifications:",c),Me.error("Failed to load notifications.")}finally{s(!1)}})()},[]);const a=l=>{switch(l){case"message":return"bx bx-message-dots";case"signup":return"bx bx-user-plus";case"login":return"bx bx-log-in";case"order_placed":return"bx bx-package";case"order_status":return"bx bx-truck";case"promo":return"bx bx-gift";default:return"bx bx-bell"}},i=(l,c)=>{switch(l){case"message":return`${c?.senderName||"Someone"} sent you a new message about ${c?.productName||"a product"}.`;case"signup":return"Welcome! You have successfully signed up.";case"login":return`You logged in from ${c?.device||"an unknown device"} at ${o(c?.timestamp||new Date)}`;case"order_placed":return`Your order #${c?.orderId||"N/A"} has been placed.`;case"order_status":return`Order #${c?.orderId||"N/A"} is now ${c?.status||"updated"}.`;case"promo":return c?.message||"New promotion available! Check it out.";default:return"New notification received."}},o=l=>l?(l.toDate?l.toDate():new Date(l)).toLocaleString("en-NG",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"Unknown time";return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-6",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx("i",{className:"bx bx-bell text-blue-600 mr-3 text-2xl"}),"Your Activity & Notifications"]}),t?n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((l,c)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},c))}):r.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[n.jsx("i",{className:"bx bx-bell-off text-4xl mb-4"}),n.jsx("p",{className:"text-lg",children:"No activities or notifications yet."})]}):n.jsx("div",{className:"space-y-4",children:r.map(l=>n.jsxs("div",{className:`bg-white rounded-lg shadow-md p-4 flex items-start gap-4 ${l.read===!1?"border-l-4 border-blue-500":""}`,children:[n.jsx("i",{className:`${a(l.type)} text-blue-600 text-2xl`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-base text-gray-800",children:i(l.type,l.data)}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o(l.createdAt)})]})]},l.id))})]})})};function age(){return n.jsxs("div",{children:["No store available at the moment.",n.jsx("p",{children:"Check back later for updates."})]})}function nge(){const{productId:r}=Zo(),e=_s(),[t,s]=C.useState({name:"",price:"",quantity:0,description:"",imageUrls:[],videoUrls:[],colors:[],status:"pending",isDailyDeal:!1,discountPercentage:0,variants:[]}),[a,i]=C.useState(!0),[o,l]=C.useState({}),[c,d]=C.useState(""),[u,f]=C.useState(""),[m,p]=C.useState({price:"",stock:0,imageUrls:[]}),[y,x]=C.useState([]),[v,N]=C.useState([]),[k,S]=C.useState({});C.useEffect(()=>{(async()=>{try{const B=Pe.currentUser?.uid;if(!B)throw new Error("User not authenticated");const G=Te(J,"products",r),te=await ft(G);if(te.exists()&&te.data().sellerId===B){const re=te.data();s({name:re.name||"",price:re.price||"",quantity:re.quantity||0,description:re.description||"",imageUrls:Array.isArray(re.imageUrls)?re.imageUrls:[],videoUrls:Array.isArray(re.videoUrls)?re.videoUrls:[],colors:Array.isArray(re.colors)?re.colors:[],status:re.status||"pending",isDailyDeal:re.isDailyDeal||!1,discountPercentage:re.discountPercentage||0,variants:Array.isArray(re.variants)?re.variants:[]})}else throw new Error("Product not found or unauthorized")}catch(B){console.error("Error fetching product:",{message:B.message,code:B.code}),l({general:B.message})}finally{i(!1)}})()},[r]);const R=()=>{const W={};return t.name.trim()||(W.name="Product name is required"),(!t.price||isNaN(t.price)||Number(t.price)<=0)&&(W.price="Valid price is required"),t.quantity<0&&(W.quantity="Quantity cannot be negative"),t.isDailyDeal&&(!t.discountPercentage||t.discountPercentage<0||t.discountPercentage>100)&&(W.discountPercentage="Discount must be between 0 and 100%"),t.variants.forEach((B,G)=>{(!B.price||isNaN(B.price)||Number(B.price)<=0)&&(W[`variantPrice${G}`]=`Valid price for variant ${G+1} is required`),B.stock<0&&(W[`variantStock${G}`]=`Stock for variant ${G+1} cannot be negative`)}),W},A=W=>{const{name:B,value:G,type:te,checked:re}=W.target;s(ie=>({...ie,[B]:te==="checkbox"?re:G}))},D=W=>{const B=Number(W.target.value);s(G=>({...G,quantity:B>=0?B:0}))},P=W=>{const B=W.target.value.trim();B&&!t.colors.includes(B)&&(s(G=>({...G,colors:[...G.colors,B]})),f(""))},E=W=>{window.confirm(`Remove color ${W}?`)&&s(B=>({...B,colors:B.colors.filter(G=>G!==W)}))},I=async W=>{const B=W.target.files[0];if(B){const G=new FileReader;G.onloadend=async()=>{const te=G.result,re=Date.now().toString();x(ie=>[...ie,{id:re,url:te}]),S(ie=>({...ie,[re]:"uploading"}));try{const ie=X1(yb,`products/${r}/images/${re}`);await Y1(ie,te,"data_url");const he=await G1(ie);s(le=>({...le,imageUrls:[...le.imageUrls,he]})),x(le=>le.filter(De=>De.id!==re)),S(le=>({...le,[re]:"success"})),setTimeout(()=>S(le=>({...le,[re]:void 0})),2e3)}catch(ie){console.error("Error uploading image:",ie),l(he=>({...he,image:"Failed to upload image"})),S(he=>({...he,[re]:"error"})),setTimeout(()=>S(he=>({...he,[re]:void 0})),2e3)}},G.readAsDataURL(B)}},M=W=>{window.confirm("Remove this image?")&&s(B=>({...B,imageUrls:B.imageUrls.filter(G=>G!==W)}))},L=async W=>{const B=W.target.files[0];if(B){const G=new FileReader;G.onloadend=async()=>{const te=G.result,re=Date.now().toString();N(ie=>[...ie,{id:re,url:te}]),S(ie=>({...ie,[re]:"uploading"}));try{const ie=X1(yb,`products/${r}/videos/${re}`);await Y1(ie,te,"data_url");const he=await G1(ie);s(le=>({...le,videoUrls:[...le.videoUrls,he]})),N(le=>le.filter(De=>De.id!==re)),S(le=>({...le,[re]:"success"})),setTimeout(()=>S(le=>({...le,[re]:void 0})),2e3)}catch(ie){console.error("Error uploading video:",ie),l(he=>({...he,video:"Failed to upload video"})),S(he=>({...he,[re]:"error"})),setTimeout(()=>S(he=>({...he,[re]:void 0})),2e3)}},G.readAsDataURL(B)}},z=W=>{window.confirm("Remove this video?")&&s(B=>({...B,videoUrls:B.videoUrls.filter(G=>G!==W)}))},F=(W,B,G)=>{s(te=>{const re=[...te.variants];return re[W]={...re[W],[B]:G},{...te,variants:re}})},V=async(W,B)=>{const G=W.target.files[0];if(G){const te=new FileReader;te.onloadend=async()=>{const re=te.result,ie=Date.now().toString();s(he=>{const le=[...he.variants];return le[B]={...le[B],imageUrls:[...le[B].imageUrls||[],{id:ie,url:re}]},{...he,variants:le}}),S(he=>({...he,[ie]:"uploading"}));try{const he=X1(yb,`products/${r}/variants/${B}/images/${ie}`);await Y1(he,re,"data_url");const le=await G1(he);s(De=>{const Oe=[...De.variants];return Oe[B]={...Oe[B],imageUrls:Oe[B].imageUrls.map(Be=>Be.id===ie?le:Be.url).filter(Be=>typeof Be=="string")},{...De,variants:Oe}}),S(De=>({...De,[ie]:"success"})),setTimeout(()=>S(De=>({...De,[ie]:void 0})),2e3)}catch(he){console.error("Error uploading variant image:",he),l(le=>({...le,[`variantImage${B}`]:"Failed to upload variant image"})),S(le=>({...le,[ie]:"error"})),setTimeout(()=>S(le=>({...le,[ie]:void 0})),2e3)}},te.readAsDataURL(G)}},$=(W,B)=>{window.confirm("Remove this variant image?")&&s(G=>{const te=[...G.variants];return te[W]={...te[W],imageUrls:te[W].imageUrls.filter(re=>re!==B)},{...G,variants:te}})},Y=()=>{s(W=>({...W,variants:[...W.variants,{price:"",stock:0,imageUrls:[]}]}))},X=W=>{window.confirm(`Remove variant ${W+1}?`)&&s(B=>({...B,variants:B.variants.filter((G,te)=>te!==W)}))},ee=async()=>{const W=R();if(Object.keys(W).length>0){l(W);return}try{const B=Pe.currentUser?.uid,G=Te(J,"products",r);await _n(G,{name:t.name,price:Number(t.price),quantity:t.quantity,description:t.description,imageUrls:t.imageUrls,videoUrls:t.videoUrls,colors:t.colors,variants:t.variants,isDailyDeal:t.isDailyDeal,discountPercentage:Number(t.discountPercentage),updatedAt:Wn()});const te=Te(Ie(J,"adminNotifications"));await as(te,{message:`Product "${t.name}" (ID: ${r}) edited by seller ${B}`,type:"product_edit",sellerId:B,productId:r,timestamp:Wn(),read:!1}),d("Product updated successfully!"),setTimeout(()=>e("/seller/products"),2e3)}catch(B){console.error("Error saving product:",{message:B.message,code:B.code}),l({general:"Failed to save product: "+B.message})}};return a?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 flex justify-center items-start mb-14",children:n.jsxs("div",{className:"w-full max-w-7xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-6 flex items-center",children:[n.jsx("i",{className:"bx bx-edit-alt text-blue-500 mr-2"})," Edit Product"]}),o.general&&n.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg mb-6",children:n.jsx("p",{className:"text-red-700",children:o.general})}),c&&n.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg mb-6",children:n.jsx("p",{className:"text-green-700",children:c})}),n.jsxs("form",{className:"space-y-6 sm:space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Product Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:A,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o.name?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o.name&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.name})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:["Price () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",id:"price",name:"price",value:t.price,onChange:A,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o.price?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o.price&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.price})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:["Quantity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",id:"quantity",name:"quantity",value:t.quantity,onChange:D,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o.quantity?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o.quantity&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.quantity})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{htmlFor:"colors",className:"block text-sm font-medium text-gray-700",children:"Colors"}),n.jsx("input",{type:"text",id:"colors",name:"colors",value:u,onChange:W=>f(W.target.value),onKeyPress:W=>W.key==="Enter"&&P(W),placeholder:"Enter a color (e.g., #FF0000) and press Enter",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.colors.map((W,B)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"inline-block w-6 h-6 rounded-full",style:{backgroundColor:W}}),n.jsx("button",{type:"button",onClick:()=>E(W),className:"ml-1 text-red-600 hover:text-red-800",children:n.jsx("i",{className:"bx bx-x"})})]},B))})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{htmlFor:"isDailyDeal",className:"block text-sm font-medium text-gray-700",children:"Daily Deal"}),n.jsx("input",{type:"checkbox",id:"isDailyDeal",name:"isDailyDeal",checked:t.isDailyDeal,onChange:A,className:"mt-1"})]}),t.isDailyDeal&&n.jsxs("div",{className:"relative group",children:[n.jsx("label",{htmlFor:"discountPercentage",className:"block text-sm font-medium text-gray-700",children:"Discount Percentage"}),n.jsx("input",{type:"number",id:"discountPercentage",name:"discountPercentage",value:t.discountPercentage,onChange:A,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o.discountPercentage?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o.discountPercentage&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.discountPercentage})]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx("textarea",{id:"description",name:"description",value:t.description,onChange:A,className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500",rows:"4"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),n.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500"}),o.image&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.image}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[y.map(W=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:W.url,alt:"Pending",className:"w-24 h-24 object-cover rounded-lg"}),k[W.id]==="uploading"&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-lg",children:n.jsx("i",{className:"bx bx-loader bx-spin text-white text-xl"})}),k[W.id]==="success"&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-green-500 bg-opacity-75 rounded-lg",children:n.jsx("i",{className:"bx bx-check text-white text-xl"})}),k[W.id]==="error"&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-500 bg-opacity-75 rounded-lg",children:n.jsx("i",{className:"bx bx-x text-white text-xl"})})]},W.id)),t.imageUrls.map((W,B)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:W,alt:"Product",className:"w-24 h-24 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>M(W),className:"absolute top-0 right-0 text-red-600 hover:text-red-800 bg-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:n.jsx("i",{className:"bx bx-x"})})]},B))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Videos"}),n.jsx("input",{type:"file",accept:"video/*",onChange:L,className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500"}),o.video&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.video}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[v.map(W=>n.jsxs("div",{className:"relative",children:[n.jsxs("video",{controls:!0,className:"w-32 h-20 object-cover rounded-lg",children:[n.jsx("source",{src:W.url,type:"video/mp4"}),"Your browser does not support the video tag."]}),k[W.id]==="uploading"&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-lg",children:n.jsx("i",{className:"bx bx-loader bx-spin text-white text-xl"})}),k[W.id]==="success"&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-green-500 bg-opacity-75 rounded-lg",children:n.jsx("i",{className:"bx bx-check text-white text-xl"})}),k[W.id]==="error"&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-500 bg-opacity-75 rounded-lg",children:n.jsx("i",{className:"bx bx-x text-white text-xl"})})]},W.id)),t.videoUrls.map((W,B)=>n.jsxs("div",{className:"relative group",children:[n.jsxs("video",{controls:!0,className:"w-32 h-20 object-cover rounded-lg",children:[n.jsx("source",{src:W,type:"video/mp4"}),"Your browser does not support the video tag."]}),n.jsx("button",{type:"button",onClick:()=>z(W),className:"absolute top-0 right-0 text-red-600 hover:text-red-800 bg-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:n.jsx("i",{className:"bx bx-x"})})]},B))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Variants"}),n.jsx("button",{type:"button",onClick:Y,className:"mt-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Add Variant"}),t.variants.map((W,B)=>n.jsxs("div",{className:"mt-4 p-4 border rounded-lg",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700",children:["Variant ",B+1]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Price () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:W.price,onChange:G=>F(B,"price",Number(G.target.value)),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o[`variantPrice${B}`]?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o[`variantPrice${B}`]&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o[`variantPrice${B}`]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Stock ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:W.stock,onChange:G=>F(B,"stock",Number(G.target.value)),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o[`variantStock${B}`]?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o[`variantStock${B}`]&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o[`variantStock${B}`]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Variant Images"}),n.jsx("input",{type:"file",accept:"image/*",onChange:G=>V(G,B),className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500"}),o[`variantImage${B}`]&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o[`variantImage${B}`]}),n.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-4",children:(W.imageUrls||[]).map((G,te)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:G,alt:`Variant ${B+1}`,className:"w-24 h-24 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>$(B,G),className:"absolute top-0 right-0 text-red-600 hover:text-red-800 bg-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:n.jsx("i",{className:"bx bx-x"})})]},te))})]})]}),n.jsx("button",{type:"button",onClick:()=>X(B),className:"mt-2 text-red-600 hover:text-red-800",children:"Remove Variant"})]},B))]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:ee,className:"w-full sm:w-auto px-6 py-3 rounded-lg bg-gray-800 text-white hover:bg-gray-700 font-bold shadow-md transition focus:outline-blue-400 focus:ring-4 focus:ring-blue-300 mt-4 sm:mt-0",children:"Save Changes"})})]})]})})]})}function ige({title:r,imageUrl:e}){return n.jsxs("div",{className:"relative h-64 md:h-96 overflow-hidden",children:[e?n.jsx("img",{src:e,alt:r,className:"w-full h-full object-cover"}):n.jsx("div",{className:"bg-gray-200 border-2 border-dashed w-full h-full"}),r&&n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:n.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white text-center",children:r})})]})}const rb={Transport:{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485716/auto_big_k4jp8e.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485719/auto_small_fvr8do.jpg"},Television:{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485684/screens_big_stuvgq.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485713/screens_small_wzvifu.jpg"},Scent:{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485702/perfume_big_mzpohm.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485684/perfume_small_xhsxan.jpg"},"Home & Living":{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485706/garden_big_p9bfjz.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485710/garden_small_ruvatt.jpg"},Photography:{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485711/camera_big_icewmf.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485703/camera_small_dv0k55.jpg"},"Game & Console":{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485685/games_big_tyfg2v.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485698/games_small_s2hvrp.jpg"},Beverages:{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485685/drink_big_afnisz.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485685/drink_small_tsaqxo.jpg"}};function oge(){const[r,e]=C.useState(window.innerWidth<768);return C.useEffect(()=>{const t=()=>e(window.innerWidth<768);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r}const ab="https://cdn.pixabay.com/photo/2018/08/29/17/07/ecommerce-3640321_640.jpg";function lge(r){return r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function cge(r,e){return Object.keys(e).find(t=>lge(t)===r)}function dge(){const{categoryName:r}=Zo(),[e,t]=C.useState({}),[s,a]=C.useState(null),[i,o]=C.useState(null),[l,c]=C.useState(!0),[d,u]=C.useState(""),[f,m]=C.useState([]),[p,y]=C.useState(!1),x=oge();C.useEffect(()=>{const R=is(Ie(J,"customSubcategories"),A=>{const D={};A.forEach(P=>{D[P.id]=P.data().subcategories||[]}),t(D),c(!1)});return()=>R()},[]);const v=cge(r,e),N=v?e[v]:null;C.useEffect(()=>{v&&(async()=>{const A=Te(J,"categories",v),D=await ft(A);if(D.exists()){const P=D.data();a(P.bannerDesktop||rb[v]?.desktop||ab),o(P.bannerMobile||rb[v]?.mobile||ab)}else a(rb[v]?.desktop||ab),o(rb[v]?.mobile||ab)})()},[v]);const k=x?i:s,S=!s;return C.useEffect(()=>{N&&N.length>0&&u(N[0])},[N]),C.useEffect(()=>{(async()=>{if(!(!v||!d)){y(!0);try{const A=Et(Ie(J,"products"),bt("category","==",v.toLowerCase()),bt("subcategory","==",d)),P=(await dt(A)).docs.map(E=>({id:E.id,...E.data()}));m(P)}catch{m([])}finally{y(!1)}}})()},[v,d]),l?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):N?n.jsxs("div",{className:"bg-white min-h-screen mb-14",children:[n.jsx(ige,{title:S?v:"",imageUrl:k}),n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsx("div",{className:"flex overflow-x-auto pb-2 mb-6 -mx-4 px-4 border-b",children:N.map(R=>n.jsx("button",{className:`px-4 py-2 font-medium whitespace-nowrap ${d===R?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,onClick:()=>u(R),children:R},R))}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-xl font-bold",children:[d," Products"]}),n.jsx(ve,{to:`/products?category=${encodeURIComponent(v)}&subcategory=${encodeURIComponent(d)}`,className:"text-blue-600 hover:underline",children:"See All"})]}),p?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(5)].map((R,A)=>n.jsx("div",{className:"bg-gray-200 rounded-lg aspect-square animate-pulse"},A))}):f.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-600",children:["No products found in ",d]}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:f.map(R=>n.jsx(Zr,{product:R},R.id))})]})]})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Category not found"}),n.jsxs("p",{className:"mt-4",children:['The category "',r,`" doesn't exist.`]}),n.jsx(ve,{to:"/",className:"mt-6 inline-block text-blue-600 hover:underline",children:"Return to homepage"})]})})}const sM={businessName:"",regNumber:"",regVerified:!1,regVerifying:!1,regError:"",taxRef:"",taxVerified:!1,taxVerifying:!1,taxError:"",address:"",country:"Nigeria",phone:"",phoneCode:"+234",email:"",password:"",firstName:"",lastName:"",manager:"",managerEmail:"",managerPhone:"",productLines:[],categories:[],bankName:"",bankCode:"",accountNumber:"",accountName:"",accountVerified:!1,accountVerifying:!1,accountError:"",agree:!1,signup:!1},uge=(r,e)=>{const t=[r,e].filter(l=>l?.trim()),s=t[0]?.slice(0,4).toLowerCase()||"user",a=t[1]?.slice(0,3).toLowerCase()||"",i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return(s+a).replace(/[^a-z0-9]/g,"")+i},hge=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo (Congo-Brazzaville)","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea (North)","Korea (South)","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],fge=()=>{const r=async be=>{z(""),Y(""),V(!0);try{const We=await(await fetch("https://foremade-backend.onrender.com/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:be})})).json();We.success?(Y("OTP sent! Please check your email."),M(!0)):z(We.error||"Failed to send OTP. Please try again.")}catch{z("Failed to send OTP. Please check your connection and try again.")}finally{V(!1)}},[e,t]=C.useState(1),[s,a]=C.useState(!1),[i,o]=C.useState(sM),[l,c]=C.useState({}),[d,u]=C.useState([]),[f,m]=C.useState([]),[p,y]=C.useState(!0),[x,v]=C.useState(!0),{alerts:N,addAlert:k,removeAlert:S}=sc(),{user:R,setUser:A}=Sd(),D=_s(),[P,E]=C.useState(""),[I,M]=C.useState(!1),[L,z]=C.useState(""),[F,V]=C.useState(!1),[$,Y]=C.useState(""),[X,ee]=C.useState(!1),W=async be=>{be.preventDefault(),z(""),Y(""),V(!0);const Q=i.managerEmail||i.email;try{const xe=await(await fetch("https://foremade-backend.onrender.com/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:Q,otp:P})})).json();xe.success?(Y("Email verified! You can now submit your application."),ee(!0),M(!1),k("Email verified! You can now submit your application.","success")):z(xe.error||"Invalid or expired code. Please try again.")}catch{z("Verification failed. Check your connection or try again.")}finally{V(!1)}},B=()=>n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"m-4 bg-white p-6 rounded-lg w-full max-w-md animate-slide-up",children:[n.jsxs("div",{className:"flex items-center justify-between mb-5",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Verify Your Email"}),n.jsx("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx("i",{className:"bx bx-x text-[24px]"})})]}),n.jsxs("p",{className:"text-gray-600 mb-4 text-sm text-center",children:["Enter the 6-digit code sent to your email ",i.managerEmail||i.email,".",n.jsx("br",{}),n.jsx("span",{className:"block mt-2 text-orange-500 font-medium",children:"Please wait at least 2 minutes for the email to arrive."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-between gap-2",children:[0,1,2,3,4,5].map(be=>n.jsx("input",{type:"text",maxLength:"1",value:P[be]||"",onChange:Q=>{const me=P.split("");me[be]=Q.target.value,E(me.join("")),Q.target.value&&be<5&&document.getElementsByTagName("input")[be+1].focus()},onKeyDown:Q=>{Q.key==="Backspace"&&!P[be]&&be>0&&document.getElementsByTagName("input")[be-1].focus(),Q.key==="Enter"&&W(Q)},className:"w-12 h-12 text-center border rounded-lg focus:border-blue-500 focus:outline-none text-2xl font-medium",required:!0},be))}),L&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:L}),n.jsx("button",{type:"button",onClick:W,className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:F,children:F?"Verifying...":"Verify Code"}),n.jsxs("p",{className:"text-center text-gray-600 mt-2 text-sm",children:["Didnt receive a code?"," ",n.jsx("button",{type:"button",onClick:be=>{be.preventDefault(),r(i.managerEmail||i.email)},className:"text-blue-600 hover:underline",disabled:F,children:"Resend"})]}),$&&n.jsx("p",{className:"text-center text-green-600 text-xs mt-2",children:$})]})]})});C.useEffect(()=>{let be=!1;y(!0),v(!0);const Q="https://foremade-backend.onrender.com";return fetch("/api/categories").then(me=>me.json()).then(me=>{be||(u(me),y(!1))}).catch(me=>{be||(u([{name:"Electronics"},{name:"Fashion"},{name:"Home & Living"},{name:"Beauty"},{name:"Sports"},{name:"Automotive"},{name:"Books"},{name:"Toys"},{name:"Groceries"},{name:"Health"}]),y(!1))}),fetch(`${Q}/fetch-banks`).then(me=>me.json()).then(me=>{be||(m(me),v(!1))}).catch(me=>{be||(m([{code:"044",name:"Access Bank"},{code:"063",name:"Diamond Bank"},{code:"050",name:"Ecobank"},{code:"011",name:"First Bank"},{code:"033",name:"United Bank for Africa"}]),v(!1),k("Failed to fetch banks. Using fallback data.","error"))}),()=>{be=!0}},[]);const G=(be,Q)=>{let me=Q;be==="regNumber"&&(me=Q.replace(/[^0-9]/g,"").slice(0,8),te(me)),o(We=>({...We,[be]:me})),l[be]&&c(We=>({...We,[be]:""}))},te=be=>{o(me=>({...me,regError:"",regVerified:!1,regVerifying:!1}));const Q=/^\d{7,8}$/.test(be);!Q&&be?o(me=>({...me,regError:"Registration number must be 7-8 digits"})):Q&&(o(me=>({...me,regVerifying:!0})),setTimeout(()=>{o(me=>({...me,regVerified:!0,regVerifying:!1}))},1500))},re=be=>{const Q={};return be===1&&(i.businessName||(Q.businessName="Business name is required"),i.regNumber||(Q.regNumber="Registration number is required"),i.regError&&(Q.regNumber=i.regError),i.address||(Q.address="Business address is required"),i.country||(Q.country="Country is required")),be===2&&(i.firstName||(Q.firstName="First name is required"),i.lastName||(Q.lastName="Last name is required"),i.phone||(Q.phone="Phone number is required"),i.email||(Q.email="Email is required"),i.signup&&!i.password&&(Q.password="Password is required for signup"),i.manager||(Q.manager="Manager name is required"),i.managerEmail||(Q.managerEmail="Manager email is required"),i.managerEmail&&i.email&&i.managerEmail.trim().toLowerCase()===i.email.trim().toLowerCase()&&(Q.managerEmail="Manager/Company email must be different from your personal email")),be===3&&(i.productLines.length||(Q.productLines="At least one product line is required"),i.bankName||(Q.bankName="Bank name is required"),i.accountNumber||(Q.accountNumber="Account number is required"),i.agree||(Q.agree="You must agree to the terms"),i.accountError&&(Q.accountNumber=i.accountError)),c(Q),Object.keys(Q).length===0},ie=async()=>{if(e<4)re(e)&&t(e+1);else{if(!X){const be=i.managerEmail||i.email;await r(be);return}await he()}},he=async()=>{if(!re(3)){a(!1);return}if(!X){M(!0),a(!1),k("Please verify your email with the OTP code before submitting.","error");return}a(!0);try{let be=R?.uid,Q=null;const We=Hg().currentUser;if(!We&&i.signup&&i.email&&i.password){const rt=await Wb(Pe,i.email,i.password);be=rt.user.uid,Q=await rt.user.getIdToken(!0),await ag(rt.user,{displayName:`${i.firstName} ${i.lastName}`}),typeof A=="function"?A(rt.user):console.warn("setUser is not a function. Skipping auth context update.");const et=uge(i.firstName,i.lastName),Rt=Te(J,"users",be);let Tt=0;const ut=3;for(;Tt<ut;)try{await as(Rt,{email:i.email,username:et,firstName:i.firstName,lastName:i.lastName,createdAt:new Date().toISOString(),phoneNumber:i.phoneCode+i.phone,country:i.country,addresses:[{street:i.address,city:"",state:"",postalCode:"",country:i.country}],proStatus:"pending"},{merge:!0}),k("Account and profile created successfully!","success");break}catch(At){if(Tt++,Tt===ut)throw console.error("Firestore profile creation failed after retries:",At),new Error("Failed to create user profile in Firestore after multiple attempts.");await new Promise(st=>setTimeout(st,1e3))}}else if(We){be=We.uid;try{Q=await We.getIdToken(!0)}catch(rt){if(rt.code==="auth/user-token-expired"){k("Your session has expired. Please sign in again.","error"),D("/login");return}throw rt}}else throw new Error("No authenticated user found and signup not selected.");const xe={...i,submittedAt:new Date().toISOString(),timestamp:Date.now(),userAgent:navigator.userAgent,formType:"Pro Seller Application",uid:be||`guest_${Date.now()}_${Math.random().toString(36).substring(2,8)}`},ot=await fetch("https://foremade-backend.onrender.com/api/pro-seller",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...Q?{Authorization:`Bearer ${Q}`}:{}},body:JSON.stringify(xe)}),lt=await ot.json();if(!ot.ok)throw new Error(lt.error||lt.message||"Submission failed");k("Pro Seller application submitted successfully! We will review your application and get back to you soon.","success"),o(sM),t(1),D("/profile")}catch(be){console.error("Submission error:",be.message,be),be.code==="auth/user-token-expired"?(k("Your session has expired. Please sign in again.","error"),D("/login")):k(`There was an error submitting your application: ${be.message}. Please try again or contact support.`,"error")}finally{a(!1)}},le=()=>{e>1&&t(be=>be-1)},De=()=>{te(i.regNumber)},Oe=()=>{o(be=>({...be,taxError:"",taxVerified:!0}))},Be=async()=>{if(!(!i.accountNumber||!i.bankCode)){o(be=>({...be,accountVerifying:!0,accountError:"",accountVerified:!1,accountName:""}));try{const be={accountNumber:i.accountNumber,bankCode:i.bankCode},me=await fetch("https://foremade-backend.onrender.com/verify-bank-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(be)}),We=await me.json();me.ok&&(We.accountName||We.account_name)?o(xe=>({...xe,accountVerified:!0,accountVerifying:!1,accountError:"",accountName:We.accountName||We.account_name})):o(xe=>({...xe,accountVerified:!1,accountVerifying:!1,accountError:We.message||"Verification failed.",accountName:""}))}catch(be){o(Q=>({...Q,accountVerified:!1,accountVerifying:!1,accountError:"Network or server error.",accountName:""})),console.error("Bank account verification error:",be)}}},de=()=>{const be={enter:{x:50,opacity:0},center:{x:0,opacity:1},exit:{x:-50,opacity:0}};return n.jsxs(n.Fragment,{children:[I&&n.jsx(B,{}),n.jsx(Zn,{mode:"wait",children:n.jsxs(vt.div,{variants:be,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[e===1&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(jse,{className:"w-6 h-6 text-orange-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-orange-800 mb-2",children:"Business Information"}),n.jsx("p",{className:"text-orange-600",children:"Let's start with your business details"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Business Name",value:i.businessName,onChange:Q=>G("businessName",Q.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.businessName?"border-red-500":"border-gray-300"}`}),l.businessName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.businessName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center",children:["Registration Number ",n.jsx("span",{className:"text-red-500",children:"*"}),i.regVerifying&&n.jsxs("span",{className:"ml-2 text-xs text-orange-500 animate-pulse",children:["Verifying... ",n.jsx("span",{className:"ml-1 w-4 h-4 border-2 border-t-orange-500 border-orange-200 rounded-full animate-spin"})]}),i.regVerified&&!i.regError&&n.jsx(ii,{className:"ml-2 w-5 h-5 text-green-500"}),i.regError&&n.jsx("span",{className:"ml-2 text-xs text-red-500",children:i.regError})]}),n.jsx("input",{type:"text",placeholder:"7-8 digits (e.g., 1234567)",value:i.regNumber,onChange:Q=>G("regNumber",Q.target.value),onBlur:De,pattern:"\\d{7,8}",title:"Must be 7-8 digits",className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${i.regError?"border-red-500":i.regVerified?"border-green-500":l.regNumber?"border-red-500":"border-gray-300"}`,required:!0}),l.regNumber&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.regNumber})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Tax Reference (Optional)",i.taxVerifying&&n.jsx("span",{className:"ml-2 text-xs text-orange-500 animate-pulse",children:"Verifying..."}),i.taxVerified&&!i.taxError&&n.jsx(ii,{className:"ml-2 w-5 h-5 text-green-500"}),i.taxError&&n.jsx("span",{className:"ml-2 text-xs text-red-500",children:i.taxError})]}),n.jsx("input",{type:"text",placeholder:"Tax Reference (optional)",value:i.taxRef,onChange:Q=>G("taxRef",Q.target.value),onBlur:Oe,className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${i.taxError?"border-red-500":i.taxVerified?"border-green-500":"border-gray-300"}`})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Business Address",value:i.address,onChange:Q=>G("address",Q.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.address?"border-red-500":"border-gray-300"}`}),l.address&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.address})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Country ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:i.country,onChange:Q=>{G("country",Q.target.value),G("regNumber",""),o(me=>({...me,regError:"",regVerified:!1}))},className:`w-full px-4 py-3 border rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.country?"border-red-500":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:"Select Country"}),hge.map(Q=>n.jsx("option",{value:Q,children:Q},Q))]}),l.country&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.country})]})]}),e===2&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(tc,{className:"w-6 h-6 text-orange-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-orange-800 mb-2",children:"Contact Information"}),n.jsxs("p",{className:"text-orange-600",children:["How can we reach you? ",n.jsx("span",{className:"text-sm text-gray-500",children:"(Sign up option available)"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["First Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"First Name",value:i.firstName,onChange:Q=>G("firstName",Q.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.firstName?"border-red-500":"border-gray-300"}`}),l.firstName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.firstName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Last Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Last Name",value:i.lastName,onChange:Q=>G("lastName",Q.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.lastName?"border-red-500":"border-gray-300"}`}),l.lastName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.lastName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Phone Number",value:i.phone,onChange:Q=>G("phone",Q.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.phone?"border-red-500":"border-gray-300"}`}),l.phone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.phone})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",placeholder:"Email Address",value:i.email,onChange:Q=>G("email",Q.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.email?"border-red-500":"border-gray-300"}`}),l.email&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.email})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:i.signup,onChange:Q=>G("signup",Q.target.checked),className:"accent-orange-500 w-4 h-4"}),n.jsx("label",{className:"text-sm text-gray-700",children:"Create an account with this email"})]}),i.signup&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"password",placeholder:"Password",value:i.password,onChange:Q=>G("password",Q.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.password?"border-red-500":"border-gray-300"}`}),l.password&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.password})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Manager Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Manager Name",value:i.manager,onChange:Q=>G("manager",Q.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.manager?"border-red-500":"border-gray-300"}`}),l.manager&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.manager})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Manager Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",placeholder:"Manager Email",value:i.managerEmail,onChange:Q=>G("managerEmail",Q.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.managerEmail?"border-red-500":"border-gray-300"}`}),l.managerEmail&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.managerEmail})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Manager Phone ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Manager Phone",value:i.managerPhone,onChange:Q=>G("managerPhone",Q.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.managerPhone?"border-red-500":"border-gray-300"}`}),l.managerPhone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.managerPhone})]})]}),e===3&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(Cd,{className:"w-6 h-6 text-orange-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-orange-800 mb-2",children:"Products & Banking"}),n.jsx("p",{className:"text-orange-600",children:"Tell us about your products and banking details"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Product Line ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:p?n.jsx("span",{className:"text-gray-400 italic",children:"Loading categories..."}):d.length>0?d.map((Q,me)=>n.jsxs("label",{className:"flex items-center space-x-2 bg-orange-50 rounded-lg px-3 py-2 cursor-pointer hover:bg-orange-100 transition",children:[n.jsx("input",{type:"checkbox",checked:i.productLines.includes(Q.value||Q.name||Q),onChange:We=>{let xe=i.productLines.includes(Q.value||Q.name||Q)?i.productLines.filter(Je=>Je!==(Q.value||Q.name||Q)):[...i.productLines,Q.value||Q.name||Q];G("productLines",xe)},className:"accent-orange-500 w-4 h-4"}),n.jsx("span",{className:"text-sm",children:Q.label||Q.name||Q})]},`${Q.value||Q.code||Q.name}-${me}`)):n.jsx("span",{className:"text-gray-400 italic",children:"No categories available."})}),l.productLines&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.productLines})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Bank Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:i.bankCode,onChange:Q=>{const me=f.find(We=>We.code===Q.target.value);G("bankCode",Q.target.value),G("bankName",me?me.name:"")},className:`w-full px-4 py-3 border rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.bankName?"border-red-500":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:"Select Bank"}),x?n.jsx("option",{value:"",children:"Loading banks..."}):f.length>0?f.map((Q,me)=>n.jsx("option",{value:Q.code,children:Q.name},`${Q.code||"bank"}-${me}`)):n.jsx("option",{value:"",children:"No banks available."})]}),l.bankName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.bankName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center",children:["Account Number ",n.jsx("span",{className:"text-red-500",children:"*"}),i.accountVerifying&&n.jsx("span",{className:"ml-2 text-xs text-orange-500 animate-pulse",children:"Verifying..."}),i.accountVerified&&!i.accountError&&n.jsx(ii,{className:"ml-2 w-5 h-5 text-green-500"}),i.accountError&&n.jsx("span",{className:"ml-2 text-xs text-red-500",children:i.accountError})]}),n.jsx("input",{type:"text",placeholder:"Account Number",value:i.accountNumber,onChange:Q=>G("accountNumber",Q.target.value),onBlur:Be,className:`w-full px-4 py-3 border rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${i.accountError?"border-red-500":i.accountVerified?"border-green-500":l.accountNumber?"border-red-500":"border-gray-300"}`}),i.accountName&&n.jsxs("div",{className:"mt-2 flex items-center text-green-600 text-sm font-semibold",children:[n.jsx(ii,{className:"w-5 h-5 mr-1"}),i.accountName]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:i.agree,onChange:Q=>G("agree",Q.target.checked),className:"accent-orange-500 w-4 h-4"}),n.jsxs("label",{className:"text-sm text-gray-700",children:["I agree to the",n.jsx(ve,{to:"/terms-conditions",target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 underline hover:text-orange-800 ml-1",children:"Pro Seller Terms & Conditions"}),n.jsx("span",{className:"text-red-500",children:"*"})]}),l.agree&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.agree})]})]}),e===4&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(ii,{className:"w-8 h-8 text-green-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-2",children:"Review & Submit"}),n.jsx("p",{className:"text-green-600",children:"Please review your information before submitting."})]}),n.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 shadow space-y-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Business Name:"})," ",i.businessName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Registration Number:"})," ",i.regNumber," ",i.regVerified&&n.jsx(ii,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Tax Reference:"})," ",i.taxRef||"Not provided"," ",i.taxVerified&&n.jsx(ii,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Business Address:"})," ",i.address]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Country:"})," ",i.country]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"First Name:"})," ",i.firstName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Last Name:"})," ",i.lastName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Phone:"})," ",i.phoneCode," ",i.phone]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Email:"})," ",i.email]}),i.signup&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Password:"})," [Set for new account]"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Manager:"})," ",i.manager]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Manager Email:"})," ",i.managerEmail]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Manager Phone:"})," ",i.managerPhone]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Product Lines:"})," ",i.productLines.join(", ")||"None"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Bank:"})," ",i.bankName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Account Number:"})," ",i.accountNumber," ",i.accountVerified&&n.jsx(ii,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Account Name:"})," ",i.accountName||"Not verified"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Agreed to Terms:"})," ",i.agree?"Yes":"No"]})]}),n.jsx("div",{className:"text-xs text-gray-500 text-center",children:"By submitting, you confirm all information is correct and consent to verification."})]})]},e)})]})},Ye=[{label:"Business Info"},{label:"Contact Info"},{label:"Products & Banking"},{label:"Review & Submit"}];return n.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100 flex items-center justify-center py-8 px-2 sm:px-4",children:[n.jsx(Bo,{alerts:N,removeAlert:S}),n.jsx("div",{className:"w-full max-w-2xl mx-auto px-2 sm:px-4 md:px-8",children:n.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-3xl shadow-2xl border border-orange-100 dark:border-gray-800 overflow-hidden",children:n.jsxs("div",{className:"px-4 sm:px-8 md:px-12 pt-10 pb-4 md:pt-14 md:pb-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold text-orange-700 dark:text-orange-400 tracking-tight",children:"Pro Seller Registration"}),n.jsx(ii,{className:"w-9 h-9 text-orange-500 self-center"})]}),n.jsxs("div",{className:"block sm:hidden mb-10",children:[n.jsx("div",{className:"flex items-center w-full mb-2",children:Ye.map((be,Q)=>n.jsxs(js.Fragment,{children:[n.jsx("div",{className:"flex-1 flex flex-col items-center",children:n.jsx("div",{className:`w-7 h-7 flex items-center justify-center rounded-full border-2 text-sm font-bold
                          ${Q<e-1?"border-orange-600 bg-orange-100 text-orange-600":Q===e-1?"border-orange-700 bg-orange-200 text-orange-700":"border-gray-200 bg-gray-100 text-gray-400"}`,children:Q+1})}),Q<Ye.length-1&&n.jsx("div",{className:`flex-1 h-1 mx-1 rounded-full ${Q<e-1?"bg-orange-600":"bg-gray-200"}`})]},be.label))}),n.jsx("div",{className:"flex justify-between w-full px-1",children:Ye.map((be,Q)=>n.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wide text-center flex-1 ${Q===e-1?"text-orange-700":"text-gray-400"}`,children:be.label},be.label))})]}),n.jsx("div",{className:"hidden sm:flex items-center justify-center mb-10 gap-4",children:Ye.map((be,Q)=>n.jsxs(js.Fragment,{children:[n.jsxs("div",{className:`flex flex-col items-center ${Q<e-1?"text-orange-600":Q===e-1?"text-orange-700 font-bold dark:text-orange-300":"text-gray-300 dark:text-gray-600"}`,children:[n.jsx("div",{className:`w-9 h-9 flex items-center justify-center rounded-full border-4 ${Q<e-1?"border-orange-600 bg-orange-100":Q===e-1?"border-orange-700 bg-orange-200 dark:bg-orange-900":"border-gray-200 bg-gray-100 dark:bg-gray-800"} text-lg font-bold`,children:Q+1}),n.jsx("span",{className:"text-xs mt-2 font-semibold tracking-wide uppercase whitespace-nowrap",children:be.label})]}),Q<Ye.length-1&&n.jsx("div",{className:`flex-1 h-1 mx-2 rounded-full ${Q<e-1?"bg-orange-600":"bg-gray-200 dark:bg-gray-700"}`})]},be.label))}),n.jsxs("form",{onSubmit:be=>{be.preventDefault(),ie()},children:[n.jsx("div",{className:"max-h-[60vh] md:max-h-[65vh] overflow-y-auto pb-4 custom-scrollbar px-1 md:px-2",children:de()}),n.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-20 bg-gradient-to-t from-white via-white/90 to-transparent dark:from-gray-900 dark:via-gray-900/90 dark:to-transparent px-0 pt-6 pb-4 mt-8 border-t border-orange-100 dark:border-gray-800 shadow-2xl flex flex-col items-center gap-2",children:n.jsxs("div",{className:"flex flex-col sm:flex-row w-full gap-3 sm:gap-4",children:[e>1&&n.jsx("button",{type:"button",onClick:le,className:"flex-1 px-6 py-3 rounded-xl bg-orange-100 text-orange-700 font-bold text-base sm:text-lg shadow hover:bg-orange-200 transition border-2 border-orange-200",children:"Back"}),n.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-6 py-3 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 text-white font-extrabold text-base sm:text-lg shadow-lg hover:from-orange-600 hover:to-orange-700 focus:ring-4 focus:ring-orange-200 transition border-2 border-orange-500 disabled:opacity-60 disabled:cursor-not-allowed",children:s?"Submitting...":e<4?"Continue":"Submit"})]})})]})]})})})]})},nz="/assets/bg-wEpT47DD.jpg",mge="/assets/1-BrZQmCyo.png",gge="/assets/3-jTyAYhqG.png",pge="/assets/2-DOJJuS8a.png";function xge(){return n.jsxs("div",{className:"min-h-screen relative overflow-x-hidden flex flex-col",children:[n.jsx("style",{children:`
        .arrow-border {
          clip-path: polygon(0% 10%, 50% 10%, 50% 0%, 100% 50%, 50% 100%, 50% 90%, 0% 90%);
          box-shadow: 0 4px 24px 0 rgba(0,0,0,0.08);
          background: white;
        }
        .fold-effect {
          /* Optionally add a slight transform for the fold effect */
          box-shadow: 0 8px 32px 0 rgba(0,0,0,0.18);
          z-index: 2;
        }
        .sway {
          animation: sway-left-right 2.2s ease-in-out infinite alternate;
        }
        @keyframes sway-left-right {
          0% { transform: translateX(0); }
          50% { transform: translateX(10px); }
          100% { transform: translateX(0); }
        }
        .learn-more-anim {
          transition: background 0.3s, color 0.3s, transform 0.3s;
        }
        .learn-more-anim:hover {
          background: #f59e42;
          color: #fff;
          transform: scale(1.07) translateY(-2px);
        }
        .learn-more-anim .arrow-anim {
          transition: transform 0.3s;
        }
        .learn-more-anim:hover .arrow-anim {
          transform: translateX(8px) scale(1.2) rotate(8deg);
        }
        .register-anim {
          transition: background 0.3s, box-shadow 0.3s, transform 0.3s;
        }
        .register-anim:hover {
          background: linear-gradient(90deg, #1e3a8a 0%, #7c3aed 100%);
          box-shadow: 0 8px 32px 0 rgba(245,158,66,0.18);
          transform: scale(1.06) translateY(-2px);
        }
        .register-anim .arrow-anim {
          transition: transform 0.3s;
        }
        .register-anim:hover .arrow-anim {
          transform: translateX(8px) scale(1.2) rotate(8deg);
        }
      `}),n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat pointer-events-none",style:{backgroundImage:`url(${nz})`}}),n.jsx("div",{className:"absolute right-0 top-0 h-full w-1/2 flex items-center justify-end pr-8 pointer-events-none select-none"}),n.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-center max-w-6xl mx-auto px-4 py-12 w-full",children:[n.jsx("div",{className:"mb-12 max-w-2xl lg:ml-0 ml-0",children:n.jsxs("div",{className:"bg-gradient-to-r from-blue-900 via-blue-800 to-purple-900 text-white p-10 md:p-16 rounded-2xl shadow-2xl flex flex-col items-start",children:[n.jsx("h1",{className:"text-orange-400 text-4xl md:text-5xl font-extrabold mb-4 self-start",children:"Foremade Pro Seller"}),n.jsxs("div",{className:"flex items-center text-lg md:text-xl",children:[n.jsx("span",{children:"Grow Your Business With Ease"}),n.jsxs(ve,{to:"/pro-seller-form",className:"ml-4 flex items-center group",children:[n.jsx(Ym,{className:"w-8 h-8 animate-pulse text-yellow-300 group-hover:text-orange-400 transition-colors duration-200 sway"}),n.jsx(Ym,{className:"w-8 h-8 animate-pulse delay-75 text-yellow-300 group-hover:text-orange-400 transition-colors duration-200 sway"}),n.jsx(Ym,{className:"w-8 h-8 animate-pulse delay-150 text-yellow-300 group-hover:text-orange-400 transition-colors duration-200 sway"})]})]})]})}),n.jsx("div",{className:"mb-12 max-w-4xl lg:ml-0 ml-0",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-10 md:p-16 w-full",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 pb-2 border-b border-gray-200",children:"WHO CAN REGISTER AS A PRO SELLER?"}),n.jsx("div",{className:"mb-8",children:n.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"Are you a manufacturer, trader, brand, or retail business looking to expand your reach and grow your customer base? Become a FOREMADE Pro Seller and gain access to advanced features, dedicated support, and increased visibility."})}),n.jsxs("div",{className:"space-y-6 mb-8",children:[n.jsxs("div",{className:"hover:bg-blue-50 p-4 rounded transition-colors duration-200",children:[n.jsx("h3",{className:"font-semibold text-blue-900 text-lg mb-2",children:"1. New to FOREMADE?"}),n.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Sign up directly through the FOREMADE Pro Seller registration page."})]}),n.jsxs("div",{className:"hover:bg-blue-50 p-4 rounded transition-colors duration-200",children:[n.jsx("h3",{className:"font-semibold text-blue-900 text-lg mb-2",children:"2. Already have a FOREMADE account?"}),n.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"You can upgrade your existing seller account to a Pro account once all current orders are fulfilled."})]}),n.jsxs("div",{className:"hover:bg-blue-50 p-4 rounded transition-colors duration-200",children:[n.jsx("h3",{className:"font-semibold text-blue-900 text-lg mb-2",children:"3. Need both personal and business accounts?"}),n.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"No problem! You're welcome to have one standard account and one Pro account - just use a different email and phone number for your Pro registration."})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ve,{to:"/pro-seller-guide-full",className:"learn-more-anim group text-orange-500 text-lg font-semibold px-6 py-2 rounded-full border border-orange-200 shadow hover:shadow-lg flex items-center justify-end w-fit",children:n.jsxs("span",{className:"flex items-center justify-center",children:["Learn more",n.jsx(yg,{className:"ml-2 w-5 h-5 arrow-anim group-hover:text-white transition-transform duration-200 sway"})]})})})]})}),n.jsxs("div",{className:"flex flex-col items-center justify-center w-full gap-8 -mt-11 -mb-4",children:[n.jsxs("div",{className:"flex flex-row items-end justify-start gap-8 w-full",children:[n.jsx("div",{className:"w-48 h-48 md:w-52 md:h-52 lg:w-72 lg:h-72 rounded-full shadow-lg bg-white flex items-center justify-center overflow-hidden",children:n.jsx("img",{src:mge,alt:"Seller 1",className:"w-full h-full object-cover"})}),n.jsx("div",{className:"w-48 h-48 md:w-52 md:h-52 lg:w-72 lg:h-72 rounded-full shadow-xl bg-white flex items-center justify-center overflow-hidden fold-effect",children:n.jsx("img",{src:gge,alt:"Seller 2",className:"w-full h-full object-cover"})})]}),n.jsxs("div",{className:"flex flex-row items-center justify-center lg:justify-end w-full gap-6 -mt-9 mb-8",children:[n.jsx("div",{className:"w-48 h-48 md:w-52 md:h-52 lg:w-72 lg:h-72 arrow-border shadow-xl bg-white flex items-center justify-center overflow-hidden flex-shrink-0",children:n.jsx("img",{src:pge,alt:"Seller 3",className:"w-full h-full object-cover"})}),n.jsx(ve,{to:"/pro-seller-form",className:"register-anim group bg-gradient-to-r from-blue-900 to-purple-900 text-white px-8 py-4 rounded-full font-semibold text-base flex items-center hover:from-blue-800 hover:to-purple-800 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:n.jsxs("span",{className:"flex items-center",children:["Register Now",n.jsx(yg,{className:"ml-2 w-5 h-5 arrow-anim group-hover:text-orange-300 transition-transform duration-200 sway"})]})})]})]})]})]})}function bge(){return n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[n.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-10 pointer-events-none",style:{backgroundImage:`url(${nz})`}}),n.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 py-12 w-full",children:[n.jsxs("section",{className:"mb-10 bg-white rounded-2xl shadow-lg p-8",children:[n.jsx("h1",{className:"text-4xl font-extrabold text-blue-900 mb-4",children:"Foremade Pro Seller Guide"}),n.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"Welcome to the comprehensive guide for becoming a Foremade Pro Seller. This page covers everything you need to know to get started, maximize your success, and understand the benefits and requirements of the Pro Seller program."})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Who Can Register?"}),n.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[n.jsx("li",{children:"Manufacturers, brands, and authorized distributors"}),n.jsx("li",{children:"Retailers and traders with a business presence"}),n.jsx("li",{children:"Businesses seeking advanced selling tools and analytics"}),n.jsx("li",{children:"Existing Foremade sellers ready to upgrade"})]})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Benefits of Becoming a Pro Seller"}),n.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[n.jsx("li",{children:"Priority listing and increased product visibility"}),n.jsx("li",{children:"Access to advanced analytics and sales reports"}),n.jsx("li",{children:"Dedicated account manager and support"}),n.jsx("li",{children:"Bulk product upload and inventory management tools"}),n.jsx("li",{children:"Exclusive marketing and promotional opportunities"}),n.jsx("li",{children:"Early access to new platform features"})]})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Requirements"}),n.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[n.jsx("li",{children:"Valid business registration and tax information"}),n.jsx("li",{children:"Proof of product authenticity (for brands/distributors)"}),n.jsx("li",{children:"Minimum monthly sales volume (varies by category)"}),n.jsx("li",{children:"Compliance with Foremades seller policies"}),n.jsx("li",{children:"Active fulfillment of orders and positive ratings"})]})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"How to Register"}),n.jsxs("ol",{className:"list-decimal pl-6 text-gray-700 space-y-1",children:[n.jsxs("li",{children:["Go to the ",n.jsx(ve,{to:"/pro-seller-form",className:"text-blue-600 underline",children:"Pro Seller Registration Form"}),"."]}),n.jsx("li",{children:"Fill in your business and contact details."}),n.jsx("li",{children:"Upload required documents (business registration, product certificates, etc.)."}),n.jsx("li",{children:"Submit your application for review."}),n.jsx("li",{children:"Wait for approval and onboarding instructions from the Foremade team."})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsxs(ve,{to:"/pro-seller-form",className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-full font-semibold flex items-center shadow",children:["Register Now ",n.jsx(yg,{className:"ml-2 w-5 h-5"})]})})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Fees & Commissions"}),n.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[n.jsx("li",{children:"One-time registration fee (see registration form for current amount)"}),n.jsx("li",{children:"Commission on sales (varies by product category, typically 5-15%)"}),n.jsx("li",{children:"No hidden charges; all fees are transparently listed in your seller dashboard"})]})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Support & Resources"}),n.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[n.jsx("li",{children:"Dedicated Pro Seller support team"}),n.jsx("li",{children:"Access to training materials and webinars"}),n.jsx("li",{children:"Community forums and peer support"}),n.jsx("li",{children:"Knowledge base with step-by-step guides"})]})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Frequently Asked Questions"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"How long does approval take?"}),n.jsx("p",{className:"text-gray-700",children:"Most applications are reviewed within 2-5 business days. You will be notified by email once your account is approved or if more information is needed."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Can I upgrade from a regular seller account?"}),n.jsx("p",{className:"text-gray-700",children:"Yes! If you already sell on Foremade, you can apply for Pro Seller status. Make sure all your current orders are fulfilled before applying."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"What if I need help with my application?"}),n.jsxs("p",{className:"text-gray-700",children:["Contact our support team at ",n.jsx("a",{href:"mailto:support@foremade.com",className:"text-blue-600 underline",children:"support@foremade.com"})," for assistance."]})]})]})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Contact & Help"}),n.jsxs("p",{className:"text-gray-700",children:["For further questions or support, email ",n.jsx("a",{href:"mailto:support@foremade.com",className:"text-blue-600 underline",children:"support@foremade.com"})," or visit our ",n.jsx(ve,{to:"/support",className:"text-blue-600 underline",children:"Support Center"}),"."]})]})]})]})}const yge=["name","description","price","stock","category","subcategory","colors","sizes","condition","tags","manualSize","imageUrls","videoUrl","country","state","city","address","specifications"],vge=()=>{const[r,e]=C.useState([]),[t,s]=C.useState(!1),[a,i]=C.useState([]),[o,l]=C.useState({}),[c,d]=C.useState(""),u=C.useRef(null),{alerts:f,removeAlert:m}=sc(),{userProfile:p}=Sd();if(C.useEffect(()=>{(async()=>{try{const $=(await dt(Ie(J,"categories"))).docs.map(ie=>ie.data().name);i($);const Y=await dt(Ie(J,"customSubcategories")),X={};Y.forEach(ie=>{X[ie.id]=ie.data().subcategories||[]}),l(X);let ee=["# VALID CATEGORIES & SUBCATEGORIES:"];$.forEach(ie=>{ee.push(`# ${ie}: ${X[ie]?.join(", ")||""}`)});const W=[];let B=0;for(const ie of $){const he=X[ie]||[];if(he.length!==0){for(const le of he)if(B>=5||(W.push([`Sample Product ${B+1}`,`Description for sample product ${B+1}`,1e4+B*1e3,10+B,ie,le,"Red|blue","M|L","New","Sample|Demo","Medium","https://dummyphotos.com/sample1.jpg|https://dummyphotos.com/sample2.jpg","","Nigeria","Lagos","Ikeja",`${10+B} Sample Address St`,'{"brand":"SampleBrand"}'].join(",")),B++,B>=5))break;if(B>=5)break}}const[G,te]=C.useState(!1),re=["# INSTRUCTIONS:",...ee,"# - Do NOT change the column headers.","# - Use only valid categories and subcategories as listed above.","# - For multiple values (colors, sizes, tags, imageUrls), separate with | (pipe).","# - Specifications must be valid JSON.","# - Do not add extra columns or change the order.","# - If unsure, download the latest template or check the category list in the product upload form.",yge.join(","),...W];d(re.join(`
`))}catch{d("")}})()},[]),!p||!p.isProSeller)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow text-center max-w-md mx-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 text-orange-600",children:"Pro Seller Feature"}),n.jsx("p",{className:"mb-4 text-gray-700",children:"Bulk product upload is only available to Pro Sellers. Upgrade now to manage your inventory more efficiently!"}),n.jsx("a",{href:"/pro-seller-guide-full",className:"inline-block px-6 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 font-semibold",children:"Upgrade to Pro Seller"}),n.jsx("div",{className:"mt-6",children:n.jsx("a",{href:"/sell",className:"inline-block px-5 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold",children:"Return to Dashboard"})})]})});const y=()=>{if(!c){Me.error("Categories are still loading. Please try again in a moment.");return}const F=new Blob([c],{type:"text/csv"}),V=window.URL.createObjectURL(F),$=document.createElement("a");$.href=V,$.download="bulk_upload_template.csv",document.body.appendChild($),$.click(),document.body.removeChild($),window.URL.revokeObjectURL(V),Me.success("Template downloaded successfully!")},x=F=>{const V=F.split(/\r?\n/).filter(Boolean),$=V[0].split(","),Y=[];for(let X=1;X<V.length;X++){const ee=[];let W="",B=!1;for(let te of V[X])te==='"'?B=!B:te===","&&!B?(ee.push(W),W=""):W+=te;ee.push(W);const G={};$.forEach((te,re)=>{let ie=ee[re]||"";if(te==="price"||te==="stock")ie=parseFloat(ie)||0;else if(["colors","sizes","tags","imageUrls"].includes(te))ie=ie?ie.split("|").map(he=>he.trim()).filter(Boolean):[];else if(te==="specifications")try{ie=ie?JSON.parse(ie):{}}catch{ie={}}else ie=ie.trim();G[te]=ie}),Y.push(G)}return Y};function v(F){return(F||"").replace(/\s+/g," ").trim().toLowerCase()}function N(F,V){const $=v(F);return V.find(Y=>v(Y)===$)||F}function k(F,V){const $=v(F);return V.some(Y=>v(Y)===$)}const S=F=>{if(!a.length||!Object.keys(o).length){Me.error("Categories are still loading. Please wait a moment and try again.");return}const V=F.target.files[0];if(!V)return;if(V.type!=="text/csv"&&V.type!=="application/vnd.ms-excel"){Me.error("Please upload a CSV file");return}const $=new FileReader;$.onload=Y=>{try{const ee=x(Y.target.result).map(W=>{const B=N(W.category,a),G=o[B]||[];o[B]||console.warn(`Category "${B}" not found in subcategories object`,o);const te=N(W.subcategory,G);return console.log("Categories:",a),console.log("Subcategories:",o),console.log("Product category:",W.category,"->",B,"subcategory:",W.subcategory,"->",te),{...W,category:B,subcategory:te}});e(ee),Me.success(`${ee.length} products loaded successfully!`)}catch{Me.error("Error parsing CSV file. Please check the format.")}},$.readAsText(V)},R=F=>{const V={};return F.name||(V.name="Name is required"),F.description||(V.description="Description is required"),(!F.price||F.price<=0)&&(V.price="Valid price is required"),(!F.stock||F.stock<0)&&(V.stock="Stock is required"),F.category?k(F.category,a)||(V.category=`Invalid category: "${F.category}". Valid: ${a.join(", ")}`):V.category="Category is required",F.subcategory?k(F.subcategory,o[F.category]||[])||(V.subcategory=`Invalid subcategory: "${F.subcategory}". Valid: ${(o[F.category]||[]).join(", ")}`):V.subcategory="Subcategory is required",(!F.colors||F.colors.length===0)&&(V.colors="At least one color is required"),(!F.imageUrls||F.imageUrls.length===0)&&(V.imageUrls="At least one image is required"),F.country||(V.country="Country is required"),F.state||(V.state="State is required"),V},[A,D]=C.useState([]),P=(F,V,$)=>{e(Y=>Y.map((X,ee)=>ee===F?{...X,[V]:$}:X))},E=async(F,V=!1,$)=>{const Y=new FormData;Y.append("file",F),Y.append("isVideo",V);try{const ee=await os.post("https://foremade-backend.onrender.com/upload",Y,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4,onUploadProgress:W=>{}});if(ee.status!==200||!ee.data.url)throw new Error(`Failed to upload ${V?"video":"image"} to Cloudinary.`);return ee.data.url}catch(X){throw console.error(`${V?"Video":"Image"} upload error:`,{message:X.message,code:X.code,response:X.response?.data}),new Error(X.code==="ECONNABORTED"?"Request timed out. Please check your network or try again later.":X.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network or server status.":X.response?.data?.error||`Failed to upload ${V?"video":"image"}.`)}finally{}},I=(F,V)=>{const $=Array.from(V);e(Y=>Y.map((X,ee)=>ee===F?{...X,imageFiles:$,imageUrls:[]}:X))},M=(F,V)=>{const $=V[0];e(Y=>Y.map((X,ee)=>ee===F?{...X,videoFile:$,videoUrl:""}:X))},L=F=>{e(V=>V.filter(($,Y)=>Y!==F))},z=async()=>{if(!a.length||!Object.keys(o).length){Me.error("Categories are still loading. Please wait a moment and try again.");return}const F=r.map(G=>{const te=N(G.category,a),re=o[te]||[];o[te]||console.warn(`Category "${te}" not found in subcategories object`,o);const ie=N(G.subcategory,re);return console.log("Categories:",a),console.log("Subcategories:",o),console.log("Product category:",G.category,"->",te,"subcategory:",G.subcategory,"->",ie),{...G,category:te,subcategory:ie}}),V=F.map(R);if(D(V),V.some(G=>Object.keys(G).length>0)){Me.error("Please fix errors before submitting.");return}s(!0);let $=0,Y=0,X=[];const ee=Pe.currentUser,W=ee?.uid||p?.uid||"",B=ee?.displayName||p?.displayName||p?.name||"";try{const G=await Promise.all(F.map(async te=>{let re=[];te.imageFiles&&te.imageFiles.length>0?re=await Promise.all(te.imageFiles.map(le=>E(le,!1))):te.imageUrls&&te.imageUrls.length>0&&(re=te.imageUrls);let ie="";te.videoFile?ie=await E(te.videoFile,!0):te.videoUrl&&(ie=te.videoUrl);const he={...te,imageUrls:re,videoUrl:ie,sellerId:W,seller:{name:B,id:W},sellerName:B};return delete he.imageFiles,delete he.videoFile,he}));for(const te of G)try{await cn(Ie(J,"products"),te),$++}catch(re){Y++,X.push(te.name||"Unnamed product"),console.error("Failed to upload product:",te,re)}$>0&&(Me.success(`${$} products uploaded successfully!`),e([]),u.current&&(u.current.value="")),Y>0&&Me.error(`Failed to upload ${Y} products: ${X.join(", ")}`)}catch(G){Me.error(G.message||"Failed to upload products")}finally{s(!1)}};return n.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 md:p-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-center gap-2",children:n.jsx("a",{href:"/sell",className:"inline-block px-5 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold",children:"Return to Dashboard"})}),n.jsx("div",{className:"mb-6",children:n.jsx("a",{href:"/guidelines",className:"inline-block px-4 py-2 bg-blue-50 text-blue-700 rounded hover:bg-blue-100 font-semibold shadow",children:"View Product Upload Guidelines"})}),n.jsx("div",{className:"mb-6",children:n.jsxs("label",{className:"flex items-center gap-2 text-blue-900 font-semibold",children:[n.jsx("input",{type:"checkbox",checked:hasReadGuidelines,onChange:F=>setHasReadGuidelines(F.target.checked),className:"accent-blue-600 w-4 h-4"}),"I have read and understood the ",n.jsx("a",{href:"/guidelines",className:"underline text-blue-700",children:"Product Upload Guidelines"})]})}),n.jsx(Bo,{alerts:f,removeAlert:m}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bulk Product Upload"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Upload multiple products at once for faster inventory management"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-[#112d4e]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Download Template"}),n.jsx("p",{className:"text-sm text-[#112d4e]",children:"Get the CSV template to format your data correctly"})]})]}),n.jsx("button",{onClick:y,className:"mt-4 w-full px-4 py-2 bg-[#112d4e] text-white rounded-md hover:bg-blue-700 transition-colors",disabled:!hasReadGuidelines,title:hasReadGuidelines?"":"Please read the guidelines before proceeding.",children:"Download Template"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-blue-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#112d4e]",children:"Upload CSV"}),n.jsx("p",{className:"text-sm text-[#112d4e]",children:"Upload your formatted CSV file with product data"})]})]}),n.jsx("input",{ref:u,type:"file",accept:".csv",onChange:S,className:"mt-4 w-full px-4 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-[#112d4e]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#112d4e]",children:"Submit for Review"}),n.jsx("p",{className:"text-sm text-[#112d4e]",children:"Submit your products for admin approval"})]})]}),n.jsx("button",{onClick:z,disabled:t||r.length===0,className:"mt-4 w-full px-4 py-2 bg-[#112d4e] text-white rounded-md hover:bg-[#112d4e] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?"Submitting...":`Submit ${r.length} Products`})]})]}),r.length>0&&n.jsx("div",{className:"space-y-6",children:r.map((F,V)=>n.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Name *"}),n.jsx("input",{type:"text",value:F.name||"",onChange:$=>P(V,"name",$.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[V]?.name?"border-red-500":"border-gray-300"}`}),A[V]?.name&&n.jsx("div",{className:"text-xs text-red-600",children:A[V].name})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Category *"}),n.jsx("input",{type:"text",value:F.category||"",onChange:$=>P(V,"category",$.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[V]?.category?"border-red-500":"border-gray-300"}`}),A[V]?.category&&n.jsx("div",{className:"text-xs text-red-600",children:A[V].category})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Description *"}),n.jsx("textarea",{value:F.description||"",onChange:$=>P(V,"description",$.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[V]?.description?"border-red-500":"border-gray-300"}`,rows:2}),A[V]?.description&&n.jsx("div",{className:"text-xs text-red-600",children:A[V].description})]}),n.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Price *"}),n.jsx("input",{type:"number",value:F.price||"",onChange:$=>P(V,"price",$.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[V]?.price?"border-red-500":"border-gray-300"}`}),A[V]?.price&&n.jsx("div",{className:"text-xs text-red-600",children:A[V].price})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Stock *"}),n.jsx("input",{type:"number",value:F.stock||"",onChange:$=>P(V,"stock",$.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[V]?.stock?"border-red-500":"border-gray-300"}`}),A[V]?.stock&&n.jsx("div",{className:"text-xs text-red-600",children:A[V].stock})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Colors *"}),n.jsx("input",{type:"text",value:F.colors?.join(" | ")||"",onChange:$=>P(V,"colors",$.target.value.split("|").map(Y=>Y.trim()).filter(Boolean)),className:`w-full border rounded px-2 py-1 text-sm ${A[V]?.colors?"border-red-500":"border-gray-300"}`,placeholder:"e.g. Red | blue"}),A[V]?.colors&&n.jsx("div",{className:"text-xs text-red-600",children:A[V].colors})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Sizes"}),n.jsx("input",{type:"text",value:F.sizes?.join(" | ")||"",onChange:$=>P(V,"sizes",$.target.value.split("|").map(Y=>Y.trim()).filter(Boolean)),className:"w-full border rounded px-2 py-1 text-sm",placeholder:"e.g. S | M | L"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Tags"}),n.jsx("input",{type:"text",value:F.tags?.join(" | ")||"",onChange:$=>P(V,"tags",$.target.value.split("|").map(Y=>Y.trim()).filter(Boolean)),className:"w-full border rounded px-2 py-1 text-sm",placeholder:"e.g. Audio | Portable"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Manual Size"}),n.jsx("input",{type:"text",value:F.manualSize||"",onChange:$=>P(V,"manualSize",$.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Condition"}),n.jsx("input",{type:"text",value:F.condition||"",onChange:$=>P(V,"condition",$.target.value),className:"w-full border rounded px-2 py-1 text-sm",placeholder:"e.g. New"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Subcategory"}),n.jsx("input",{type:"text",value:F.subcategory||"",onChange:$=>P(V,"subcategory",$.target.value),className:"w-full border rounded px-2 py-1 text-sm"}),A[V]?.subcategory&&n.jsx("div",{className:"text-xs text-red-600",children:A[V].subcategory})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Country *"}),n.jsx("input",{type:"text",value:F.country||"",onChange:$=>P(V,"country",$.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[V]?.country?"border-red-500":"border-gray-300"}`}),A[V]?.country&&n.jsx("div",{className:"text-xs text-red-600",children:A[V].country})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"State *"}),n.jsx("input",{type:"text",value:F.state||"",onChange:$=>P(V,"state",$.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[V]?.state?"border-red-500":"border-gray-300"}`}),A[V]?.state&&n.jsx("div",{className:"text-xs text-red-600",children:A[V].state})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"City"}),n.jsx("input",{type:"text",value:F.city||"",onChange:$=>P(V,"city",$.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Address"}),n.jsx("input",{type:"text",value:F.address||"",onChange:$=>P(V,"address",$.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Specifications (JSON)"}),n.jsx("textarea",{value:typeof F.specifications=="string"?F.specifications:JSON.stringify(F.specifications||{}),onChange:$=>P(V,"specifications",$.target.value),className:"w-full border rounded px-2 py-1 text-sm",rows:2})]})]}),n.jsxs("div",{className:"flex flex-col gap-2 w-full md:w-64",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Images *"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:F.imageFiles&&F.imageFiles.length>0?F.imageFiles.map(($,Y)=>$ instanceof File?n.jsx("img",{src:URL.createObjectURL($),alt:"preview",className:"w-16 h-16 object-cover rounded border"},Y):null):F.imageUrls?.map(($,Y)=>typeof $=="string"&&$?n.jsx("img",{src:$,alt:"preview",className:"w-16 h-16 object-cover rounded border"},Y):null)}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:$=>I(V,$.target.files),className:"w-full"}),n.jsx("input",{type:"text",placeholder:"Or paste image URLs separated by |",value:F.imageUrls?.join(" | ")||"",onChange:$=>P(V,"imageUrls",$.target.value.split("|").map(Y=>Y.trim()).filter(Boolean)),className:"w-full mt-1 text-xs border rounded px-2 py-1"}),A[V]?.imageUrls&&n.jsx("div",{className:"text-xs text-red-600",children:A[V].imageUrls})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Video"}),F.videoFile&&n.jsx("video",{src:URL.createObjectURL(F.videoFile),controls:!0,className:"w-full h-24 object-cover rounded mb-1"}),!F.videoFile&&F.videoUrl&&n.jsx("video",{src:F.videoUrl,controls:!0,className:"w-full h-24 object-cover rounded mb-1"}),n.jsx("input",{type:"file",accept:"video/*",onChange:$=>M(V,$.target.files),className:"w-full"}),n.jsx("input",{type:"text",placeholder:"Or paste video URL",value:F.videoUrl||"",onChange:$=>P(V,"videoUrl",$.target.value),className:"w-full mt-1 text-xs border rounded px-2 py-1"})]}),n.jsx("button",{onClick:()=>L(V),type:"button",className:"mt-2 w-full px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 text-xs",children:"Remove Product"})]})]},V))}),n.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Instructions"}),n.jsxs("div",{className:"text-sm text-blue-900 space-y-2",children:[n.jsxs("p",{children:[" Download the CSV template and fill in your product data. Use ",n.jsx("b",{children:"|"})," to separate multiple values (e.g. Red|blue for colors)."]}),n.jsx("p",{children:" Ensure all required fields are filled (name, description, price, stock, category, colors, imageUrls, country, state)."}),n.jsx("p",{children:" Maximum 100 products per upload."}),n.jsx("p",{children:" All products will be reviewed by admin before approval."}),n.jsx("p",{children:" Image URLs should be publicly accessible, or you can upload images after CSV upload."}),n.jsx("p",{children:" Specifications should be in valid JSON format."})]})]})]})})]})},wge=()=>{const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(""),[o,l]=C.useState({}),[c,d]=C.useState(""),[u,f]=C.useState(!1),{userProfile:m}=Sd(),[p,y]=C.useState({}),x=[{value:"72h",label:"3 Days",price:1500,hours:"72h"},{value:"168h",label:"7 Days",price:3500,hours:"168h"}];C.useCallback(Fd(I=>{d(I)},300),[]);const v=async()=>{try{const I=Pe.currentUser;if(!I){i("Please log in to view your products."),s(!1);return}const M=Et(Ie(J,"products"),bt("sellerId","==",I.uid)),z=(await dt(M)).docs.map(F=>{const V=F.data(),$=Array.isArray(V.imageUrls)?V.imageUrls.filter(Y=>typeof Y=="string"&&Y.startsWith("https://res.cloudinary.com/")):V.imageUrl&&typeof V.imageUrl=="string"&&V.imageUrl.startsWith("https://res.cloudinary.com/")?[V.imageUrl]:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"];return{id:F.id,...V,imageUrls:$.length>0?$:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"],uploadDate:V.uploadDate?V.uploadDate.toDate():new Date,bumpExpiry:V.bumpExpiry?V.bumpExpiry.toDate():null,bumpDuration:V.bumpDuration||null,isBumped:V.isBumped||!1}});e(z)}catch(I){i("Failed to fetch products: "+I.message),console.error(I)}finally{s(!1)}},N=async(I,M,L)=>{try{l(te=>({...te,[M]:!0}));const z=Pe.currentUser;if(!z)throw new Error("User not authenticated");const F=L,V=x.find(te=>te.hours===L);Me.success(`Payment successful for ${V.label} bump! Your product is now boosted.`,{position:"top-center",autoClose:3500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}),await new Promise(te=>setTimeout(te,3500));const $=new Date,Y={"72h":4320*60*1e3,"168h":10080*60*1e3}[F],X=new Date($.getTime()+Y);await cn(Ie(J,"productBumps"),{productId:M,sellerId:z.uid,bumpDuration:F,paymentIntentId:I.reference||`fallback-${Date.now()}`,startDate:$,expiry:X,timestamp:$});const ee=Te(J,"products",M);await _n(ee,{bumpExpiry:X,isBumped:!0,bumpDuration:F});const W=await z.getIdToken(!0),G=await fetch("https://foremade-backend.onrender.com/api/send-bump-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify({sellerId:z.uid,productId:M,productName:r.find(te=>te.id===M)?.name||"Unnamed Product",expiryDate:X.toISOString()})});G.ok||console.warn("Email notification failed:",await G.text()),e(te=>te.map(re=>re.id===M?{...re,bumpExpiry:X,bumpDuration:F,isBumped:!0}:re)),Me.success("Product bumped successfully!")}catch(z){console.error("Bump product error:",z.message),Me.error(z.message||"Failed to bump product. Check console for details.")}finally{l(z=>({...z,[M]:!1}))}},k=()=>{Me.info("Payment cancelled.",{position:"top-right",autoClose:3e3})},S=async I=>{const M=Te(J,"products",I);await _n(M,{views:(r.find(L=>L.id===I)?.views||0)+1})};C.useEffect(()=>{const I=eo(Pe,M=>{M?v():(i("Please log in to view your products."),s(!1))});return()=>I()},[]),C.useEffect(()=>{const I=()=>{const L={};r.forEach(z=>{if(z.bumpExpiry&&new Date(z.bumpExpiry)>new Date){const F=new Date,$=new Date(z.bumpExpiry)-F;L[z.id]=$>0?$:0}}),y(L)};I();const M=setInterval(I,1e3);return()=>clearInterval(M)},[r]);const R=I=>{if(I<=0)return"Expired";const M=Math.floor(I/(1e3*60*60)),L=Math.floor(I%(1e3*60*60)/(1e3*60)),z=Math.floor(I%(1e3*60)/1e3);return`${M}:${L.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}`},A=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=I=>I.isBumped&&I.bumpExpiry&&new Date(I.bumpExpiry)>new Date,P=()=>{v()},E=r.filter(I=>I.name?.toLowerCase().includes(c.toLowerCase()));return t?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[n.jsx(tr,{onToggle:()=>f(!u),isOpen:u}),n.jsx("div",{className:`flex-1 p-2 sm:p-4 ${u?"ml-64":"ml-0"} transition-all duration-300 md:ml-64 flex justify-center items-center`,children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-4 w-full max-w-5xl",children:Array.from({length:6}).map((I,M)=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-2 sm:p-3 shadow-sm animate-pulse h-32 sm:h-40"},M))})})]}):a?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-gray-50",children:n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 sm:p-4 rounded-lg shadow-lg max-w-xs sm:max-w-md mx-auto",children:[n.jsx("p",{className:"text-red-700 text-sm sm:text-base mb-1 sm:mb-2",children:a}),n.jsx(ve,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium underline text-sm sm:text-base",children:"Return to Login"})]})}):m&&!m.isProSeller?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow text-center max-w-sm sm:max-w-md mx-auto",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3 text-orange-600",children:"Pro Seller Feature"}),n.jsx("p",{className:"mb-2 sm:mb-3 text-gray-700 text-sm sm:text-base",children:"Product bump is only available to Pro Sellers. Upgrade now to boost your products' visibility!"}),n.jsx(ve,{to:"/pro-seller-guide-full",className:"inline-block px-3 sm:px-4 py-1.5 sm:py-2 text-white rounded font-semibold",style:{backgroundColor:"#112d4e"},onMouseOver:I=>I.target.style.backgroundColor="#0d2440",onMouseOut:I=>I.target.style.backgroundColor="#112d4e",children:"Upgrade to Pro Seller"}),n.jsx("div",{className:"mt-2 sm:mt-3",children:n.jsx(ve,{to:"/sell",className:"inline-block px-3 sm:px-4 py-1.5 sm:py-2 bg-gray-200 text-gray-900 rounded hover:bg-gray-300 font-semibold text-sm sm:text-base",children:"Return to Dashboard"})})]})}):n.jsxs("div",{className:"min-h-screen flex m-5",children:[n.jsx(tr,{onToggle:()=>f(!u),isOpen:u}),n.jsxs("div",{className:`flex-1 p-2 sm:p-4 ${u?"ml-64":"ml-0"} mt-6 transition-all duration-300 md:ml-64`,children:[n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Product Bump"}),n.jsx("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Boost your products' visibility with the bump feature."})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 sm:p-3",children:n.jsxs("div",{className:"p-4 flex items-center",children:[n.jsx("div",{className:"p-1 sm:p-1.5 bg-blue-100 rounded-lg",children:n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{className:"ml-1 sm:ml-2",children:[n.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Bump Overview"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Increase visibility of your products"})]})]})}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 sm:p-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-1 sm:p-1.5 bg-blue-100 rounded-lg",children:n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),n.jsxs("div",{className:"ml-1 sm:ml-2",children:[n.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Refresh"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Update your product list"})]})]}),n.jsx("button",{onClick:P,className:"mt-1 sm:mt-2 w-full px-2 sm:px-3 py-1 sm:py-1.5 text-white rounded-lg transition-colors text-xs sm:text-sm",style:{backgroundColor:"#112d4e"},onMouseOver:I=>I.target.style.backgroundColor="#0d2440",onMouseOut:I=>I.target.style.backgroundColor="#112d4e",children:"Refresh"})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-3",children:E.length>0?E.map(I=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 sm:p-3 shadow-md hover:shadow-lg transition duration-300",onClick:()=>S(I.id),children:[n.jsxs("div",{className:"relative aspect-square sm:aspect-[4/3] mb-1 sm:mb-2 overflow-hidden rounded-lg",children:[n.jsx("img",{src:I.imageUrls[0],alt:I.name||"Product Image",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105 cursor-pointer",onError:M=>{M.target.style.display="none",M.target.parentElement.innerHTML='<div class="absolute w-full h-full bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-500 text-xs sm:text-sm">Image N/A</span></div>'}}),D(I)&&n.jsx("span",{className:"absolute top-1 left-1 inline-flex items-center px-1 sm:px-1.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Bumped Up"})]}),n.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 truncate",children:I.name||"Unnamed Product"}),n.jsxs("p",{className:"text-gray-700 text-xs sm:text-sm mb-1",children:["Price: ",(I.price||0).toLocaleString("en-NG")]}),n.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["Uploaded: ",I.uploadDate.toLocaleDateString("en-NG",{day:"2-digit",month:"short",year:"numeric"})]}),D(I)&&p[I.id]>0&&n.jsxs("div",{className:"mt-1 sm:mt-2 p-1 sm:p-1.5 bg-green-50 border border-green-200 rounded-md",children:[n.jsxs("p",{className:"text-xs sm:text-sm text-gray-900",children:["Time Remaining: ",R(p[I.id])]}),n.jsxs("p",{className:"text-xs mt-0.5",children:["Duration: ",x.find(M=>M.hours===I.bumpDuration)?.label||"Unknown"]}),I.bumpExpiry&&n.jsxs("p",{className:"text-xs mt-0.5",children:["Expires: ",A(I.bumpExpiry)]})]}),!D(I)&&n.jsx("div",{className:"mt-1 sm:mt-2 space-y-1 sm:space-y-1.5",children:x.map(M=>n.jsx(KF,{email:Pe.currentUser?.email,amount:M.price*100,onSuccess:L=>N(L,I.id,M.hours),onClose:k,disabled:o[I.id],buttonText:`${M.label} (${M.price.toLocaleString("en-NG")})`,className:`w-full flex items-center justify-center px-1.5 sm:px-2 py-1 rounded-lg text-xs sm:text-sm font-medium transition duration-200 ${o[I.id]?"bg-gray-200 text-gray-500 cursor-not-allowed":"text-white"}`,style:o[I.id]?{}:{backgroundColor:"#112d4e"},onMouseOver:L=>{o[I.id]||(L.target.style.backgroundColor="#0d2440")},onMouseOut:L=>{o[I.id]||(L.target.style.backgroundColor="#112d4e")},sellerId:Pe.currentUser?.uid},M.hours))}),o[I.id]&&n.jsxs("div",{className:"flex items-center justify-center py-1",children:[n.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-1 text-xs sm:text-sm text-blue-600",children:"Processing..."})]})]},I.id)):n.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center mt-4 sm:mt-6 mb-4 sm:mb-6",children:[n.jsx(xh,{className:"w-12 sm:w-16 h-12 sm:h-16 text-gray-300"}),n.jsxs("p",{className:"text-gray-900 text-center text-sm sm:text-base mt-1 sm:mt-2",children:["No products uploaded yet.",n.jsx("br",{}),"Start by adding your first product!"]}),n.jsx(ve,{to:"/products-upload",className:"mt-1 sm:mt-2 px-3 sm:px-4 py-1 sm:py-1.5 text-white rounded-lg transition duration-300 text-sm sm:text-base",style:{backgroundColor:"#112d4e"},onMouseOver:I=>I.target.style.backgroundColor="#0d2440",onMouseOut:I=>I.target.style.backgroundColor="#112d4e",children:"Add Your First Product"})]})}),n.jsxs("div",{className:"mt-3 sm:mt-4 bg-blue-50/50 border border-blue-100 rounded-lg p-4 sm:p-4",children:[n.jsx("h3",{className:"text-sm sm:text-base font-semibold text-blue-800 mb-1 sm:mb-2",children:"How Product Bump Works"}),n.jsxs("div",{className:"text-xs sm:text-sm text-blue-700/80 space-y-0.5 sm:space-y-1",children:[n.jsx("p",{children:" Select a product from the list below."}),n.jsx("p",{children:" Choose a bump duration (3 or 7 days) and complete payment via Paystack."}),n.jsx("p",{children:" A success message will appear, and you'll receive an email confirmation."}),n.jsx("p",{children:" Bumped products appear at the top of search results for the selected duration."})]})]})]})]})};function Nge({alerts:r,removeAlert:e}){return n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:n.jsx(Zn,{children:r.map(t=>n.jsxs(vt.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:.3},className:`p-4 rounded-lg shadow-lg flex items-center gap-2 ${t.type==="error"?"bg-red-600":"bg-green-600"} text-white`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})})}function jge(){const[r,e]=C.useState([]),t=C.useCallback((a,i="success")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}]),setTimeout(()=>e(l=>l.filter(c=>c.id!==o)),5e3)},[]),s=C.useCallback(a=>{e(i=>i.filter(o=>o.id!==a))},[]);return{alerts:r,addAlert:t,removeAlert:s}}function kge(){const r=_s(),{alerts:e,addAlert:t,removeAlert:s}=jge(),[a,i]=C.useState([]),[o,l]=C.useState([]),[c,d]=C.useState(""),u=C.useCallback(Fd(m=>{d(m)},300),[]),f=m=>{u(m.target.value)};return C.useEffect(()=>{if(!Pe.currentUser){t("Please log in.","error"),r("/login");return}const m=Et(Ie(J,"transactions"),bt("sellerId","==",Pe.currentUser.uid)),p=is(m,y=>{const x=y.docs.map(v=>({id:v.id,...v.data()}));i(x),l(x.filter(v=>(v.id?.toLowerCase()||"").includes(c.toLowerCase())||(v.type?.toLowerCase()||"").includes(c.toLowerCase())))},y=>{console.error("Firestore error:",y.message),t(`Failed to fetch transactions: ${y.message}`,"error")});return()=>p()},[r,c]),n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(tr,{}),n.jsx(vt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[n.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:n.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-500 flex items-center gap-2",children:[n.jsx(rh,{className:"w-8 h-8"}),"Transaction History"]})}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search by Transaction ID or Type...",onChange:f,className:"w-full p-3 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]})}),o.length===0?n.jsx(vt.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No transactions found."}):n.jsx(vt.div,{className:"grid gap-4 lg:grid-cols-2",children:n.jsx(Zn,{children:o.map((m,p)=>n.jsxs(vt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3,delay:p*.1},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",m.id]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Type:"})," ",m.type||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Status:"})," ",n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${m.status==="Pending"?"bg-yellow-100 text-yellow-800":m.status==="Approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.status||"N/A"})]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Amount:"})," ",m.country==="United Kingdom"?"":"",m.amount?.toFixed(2)||"0.00"]}),m.type==="Withdrawal"&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Bank:"})," ",m.bankName||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Account:"})," ",m.accountNumber||"N/A"]})]})]})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",m.createdAt?.toDate?new Date(m.createdAt.toDate()).toLocaleString():"N/A"]}),m.status==="Failed"&&m.failureReason&&n.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Reason:"})," ",m.failureReason]})]},m.id))})}),n.jsx(Nge,{alerts:e,removeAlert:s})]})})]})}$h.register(h_,Ide,g_,p_,Dde,m_,f_);const qc={background:"#fff",borderRadius:16,boxShadow:"0 2px 16px rgba(0,0,0,0.06)",width:"100%",padding:"1rem"},Sge=()=>{const[r,e]=C.useState({totalProducts:0,activeProducts:0,totalViews:0,totalSales:0,averageRating:0,topProducts:[],monthlyTrends:[]}),[t,s]=C.useState(!0),[a,i]=C.useState(""),[o,l]=C.useState("30d"),{alerts:c,removeAlert:d}=sc(),{userProfile:u}=Sd(),f=[{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"},{value:"90d",label:"Last 90 Days"},{value:"1y",label:"Last Year"}];if(u&&!u.isProSeller)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow text-center max-w-xs sm:max-w-md mx-auto",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-orange-600",children:"Pro Seller Feature"}),n.jsx("p",{className:"mb-4 text-gray-700 text-sm sm:text-base",children:"Product analytics are only available to Pro Sellers. Upgrade now to track your performance and sales metrics!"}),n.jsx("a",{href:"/pro-seller-guide-full",className:"inline-block px-4 py-2 sm:px-6 sm:py-2 bg-orange-500 text-white rounded hover:bg-orange-600 font-semibold text-sm sm:text-base",children:"Upgrade to Pro Seller"}),n.jsx("div",{className:"mt-4 sm:mt-6",children:n.jsx("a",{href:"/sell",className:"inline-block px-4 py-2 sm:px-5 sm:py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold text-sm sm:text-base",children:"Return to Dashboard"})})]})});C.useEffect(()=>{let N;return s(!0),i(""),N=eo(Pe,async k=>{if(!k){i("Please log in to view analytics."),s(!1);return}try{const S=k.uid,D=(await dt(Et(Ie(J,"products"),bt("sellerId","==",S)))).docs.map($=>({id:$.id,...$.data()})).map($=>{const Y=localStorage.getItem(`analytics_${$.id}`);if(Y){const{views:X,sales:ee,bumpExpiry:W}=JSON.parse(Y);return{...$,views:X,sales:ee,bumpExpiry:W?new Date(W):null}}return $}),P=D.length,E=D.filter($=>$.status==="approved").length,I=D.reduce(($,Y)=>$+(Y.views||0),0),M=D.reduce(($,Y)=>$+(Y.sales||0),0),L=D.length?D.reduce(($,Y)=>$+(Y.rating||0),0)/D.length:0,z=[...D].sort(($,Y)=>(Y.sales||0)-($.sales||0)).slice(0,5).map($=>({name:$.name,sales:$.sales||0,views:$.views||0})),F={};D.forEach($=>{if($.createdAt){const Y=new Date($.createdAt),X=`${Y.getFullYear()}-${String(Y.getMonth()+1).padStart(2,"0")}`;F[X]||(F[X]={month:X,views:0,sales:0}),F[X].views+=$.views||0,F[X].sales+=$.sales||0}});const V=Object.values(F).sort(($,Y)=>$.month.localeCompare(Y.month));e({totalProducts:P,activeProducts:E,totalViews:I,totalSales:M,averageRating:L,topProducts:z,monthlyTrends:V})}catch(S){i("Failed to load analytics: "+S.message)}finally{s(!1)}}),()=>N&&N()},[o]);const m=N=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(N),p=N=>new Intl.NumberFormat("en-NG").format(N);if(t)return n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[n.jsx(tr,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-2 sm:p-4 flex justify-center items-center",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 w-full max-w-4xl",children:Array.from({length:6}).map((N,k)=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-2 sm:p-3 shadow-md animate-pulse h-48 sm:h-56"},k))})})]});if(a)return n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[n.jsx(tr,{}),n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow text-center max-w-xs sm:max-w-md mx-auto",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-red-600",children:"Error"}),n.jsx("p",{className:"mb-4 text-gray-700 text-sm sm:text-base",children:a}),n.jsx("a",{href:"/sell",className:"inline-block px-4 py-2 sm:px-5 sm:py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold text-sm sm:text-base",children:"Return to Dashboard"})]})]});const y={labels:r.topProducts.map(N=>N.name),datasets:[{label:"Sales",data:r.topProducts.map(N=>N.sales),backgroundColor:"#8884d8"}]},x={labels:r.monthlyTrends.map(N=>N.month),datasets:[{label:"Views",data:r.monthlyTrends.map(N=>N.views),borderColor:"#8884d8",backgroundColor:"rgba(136,132,216,0.2)",fill:!0,tension:.4},{label:"Sales",data:r.monthlyTrends.map(N=>N.sales),borderColor:"#82ca9d",backgroundColor:"rgba(130,202,157,0.2)",fill:!0,tension:.4}]},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{enabled:!0}},scales:{x:{ticks:{font:{size:10}}},y:{beginAtZero:!0,ticks:{font:{size:10}}}}};return n.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[n.jsx(tr,{}),n.jsxs("div",{className:"flex-1 ml-0 md:ml-64 p-2 sm:p-4",children:[n.jsx("div",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-4",children:n.jsx(ve,{to:"/sell",className:"inline-block px-3 sm:px-4 py-1 sm:py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold text-xs sm:text-sm",children:"Return to Dashboard"})}),n.jsx(Bo,{alerts:c,removeAlert:d}),n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900",children:"Pro Seller Analytics"}),n.jsx("p",{className:"text-gray-600 mt-1 sm:mt-2 text-xs sm:text-base",children:"Track your performance and sales metrics"}),n.jsx("div",{className:"mt-2 sm:mt-4",children:n.jsx("select",{value:o,onChange:N=>l(N.target.value),className:"w-full sm:w-auto px-2 sm:px-3 py-1 sm:py-2 border border-gray-300 rounded-md text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:f.map(N=>n.jsx("option",{value:N.value,children:N.label},N.value))})})]}),!r.topProducts?.length&&!r.monthlyTrends?.length&&n.jsx("div",{className:"text-center text-gray-500 mb-4 sm:mb-6 text-xs sm:text-base",children:"No analytics data available yet."}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[n.jsxs("div",{style:qc,className:"flex items-center",children:[n.jsx("div",{className:"p-1 sm:p-2 bg-blue-100 rounded-lg",children:n.jsx("svg",{className:"w-4 sm:w-6 h-4 sm:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Products"}),n.jsx("p",{className:"text-base sm:text-2xl font-bold text-gray-900",children:p(r.totalProducts)})]})]}),n.jsxs("div",{style:qc,className:"flex items-center",children:[n.jsx("div",{className:"p-1 sm:p-2 bg-green-100 rounded-lg",children:n.jsxs("svg",{className:"w-4 sm:w-6 h-4 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Views"}),n.jsx("p",{className:"text-base sm:text-2xl font-bold text-gray-900",children:p(r.totalViews)})]})]}),n.jsxs("div",{style:qc,className:"flex items-center",children:[n.jsx("div",{className:"p-1 sm:p-2 bg-yellow-100 rounded-lg",children:n.jsx("svg",{className:"w-4 sm:w-6 h-4 sm:h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Sales"}),n.jsx("p",{className:"text-base sm:text-2xl font-bold text-gray-900",children:m(r.totalSales)})]})]}),n.jsxs("div",{style:qc,className:"flex items-center",children:[n.jsx("div",{className:"p-1 sm:p-2 bg-purple-100 rounded-lg",children:n.jsx("svg",{className:"w-4 sm:w-6 h-4 sm:h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Average Rating"}),n.jsx("p",{className:"text-base sm:text-2xl font-bold text-gray-900",children:r.averageRating.toFixed(1)})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[n.jsxs("div",{style:qc,children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-4",children:"Monthly Trends"}),n.jsx("div",{className:"w-full h-40 sm:h-64 md:h-80",children:n.jsx(due,{data:x,options:v})})]}),n.jsxs("div",{style:qc,children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-4",children:"Top Products"}),n.jsx("div",{className:"w-full h-40 sm:h-64 md:h-80",children:n.jsx(b_,{data:y,options:v})})]})]}),n.jsxs("div",{style:qc,children:[n.jsx("div",{className:"px-2 sm:px-4 py-2 sm:py-3 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Top Performing Products"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),n.jsx("th",{className:"px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Sales"}),n.jsx("th",{className:"px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.topProducts.map((N,k)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap text-sm sm:text-base font-medium text-gray-900",children:N.name}),n.jsx("td",{className:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap text-sm sm:text-base text-gray-900",children:p(N.views)}),n.jsx("td",{className:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap text-sm sm:text-base text-gray-900",children:p(N.sales)}),n.jsx("td",{className:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap text-sm sm:text-base font-medium text-gray-900",children:m(N.sales)})]},N.productId))})]})})]})]})]})},_ge=r=>[/\d{5,}/,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}\b/,/\b(?:\d{4}[- ]?){3}\d{4}\b|\b\d{16}\b/,/(contact me via|whatsapp|telegram|linkedin|call me|sms)/i,/(http|https|www\.)/i,/\b\d{10,}\b/,/(bank account|routing number|ssn|social security)/i,/(<script>|<\/script>|javascript:)/i,/(password|pin|otp)/i,/(\bfree\s+money\b|\bclick here\b|\bsubscribe\b|\boffer\b)/i].some(t=>t.test(r)),rM=()=>{const[r,e]=C.useState([]),[t,s]=C.useState(null),[a,i]=C.useState([]),[o,l]=C.useState(""),c=C.useRef(null),d=()=>c.current?.scrollIntoView({behavior:"smooth"}),u=async m=>{const p=Te(J,"users",m),y=await ft(p);return y.exists()?y.data().name:"Unknown Buyer"};C.useEffect(()=>{if(!Pe.currentUser)return;const m=Et(Ie(J,"messages"),mh("createdAt","asc")),p=is(m,async y=>{const x=y.docs.map(k=>({id:k.id,...k.data()})),v={};for(let k of x)if(k.receiverId===Pe.currentUser.uid||k.senderId===Pe.currentUser.uid){const S=k.senderId===Pe.currentUser.uid?k.receiverId:k.senderId;if(v[k.conversationId])v[k.conversationId].lastMessage=k.text;else{const R=await u(S);v[k.conversationId]={conversationId:k.conversationId,buyerId:S,buyerName:R,lastMessage:k.text}}}const N=Object.values(v);e(N),!t&&N.length>0&&s(N[0])});return()=>p()},[t]),C.useEffect(()=>{if(!t)return;const m=Et(Ie(J,"messages"),mh("createdAt","asc")),p=is(m,y=>{const x=y.docs.map(v=>({id:v.id,...v.data()})).filter(v=>v.conversationId===t.conversationId);i(x),d()});return()=>p()},[t]);const f=async()=>{if(!(!o.trim()||!t)){if(_ge(o)){console.log("connot send message");return}await cn(Ie(J,"messages"),{conversationId:t.conversationId,senderId:Pe.currentUser.uid,receiverId:t.buyerId,text:o.trim(),createdAt:new Date}),l(""),d()}};return n.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen",children:[n.jsx("div",{className:"w-full md:w-64 border-b md:border-b-0 md:border-r bg-gray-50",children:n.jsx(tr,{})}),n.jsxs("div",{className:"flex-1 flex flex-col md:flex-row",children:[n.jsx("div",{className:"w-full md:w-64 border-b md:border-b-0 md:border-r bg-gray-50 p-2 overflow-y-auto max-h-64 md:max-h-full",children:r.map(m=>n.jsxs("div",{className:`p-2 cursor-pointer rounded ${t?.conversationId===m.conversationId?"bg-teal-200":"hover:bg-gray-200"}`,onClick:()=>s(m),children:[n.jsxs("p",{className:"font-medium truncate",children:["Buyer: ",m.buyerName]}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:m.lastMessage})]},m.conversationId))}),n.jsxs("div",{className:"flex-1 flex flex-col bg-gray-100",children:[n.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-3",children:[a.map(m=>n.jsx("div",{className:`flex ${m.senderId===Pe.currentUser.uid?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`p-3 rounded-xl max-w-full sm:max-w-xs md:max-w-md break-words ${m.senderId===Pe.currentUser.uid?"bg-blue-600 text-white":"bg-white text-gray-800"}`,children:[m.text,n.jsx("div",{className:"text-xs text-gray-400 mt-1 text-right",children:m.createdAt?.toDate?m.createdAt.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Sending..."})]})},m.id)),n.jsx("div",{ref:c})]}),n.jsxs("div",{className:"p-4 border-t bg-white flex gap-2",children:[n.jsx("input",{type:"text",value:o,onChange:m=>l(m.target.value),placeholder:"Type a message",className:"flex-1 border rounded-full px-4 py-2 outline-none focus:ring-2 focus:ring-blue-400",onKeyDown:m=>m.key==="Enter"&&f()}),n.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-700 transition",children:"Send"})]})]})]})]})},Age=({isOpen:r,onClose:e,onConfirm:t,password:s,setPassword:a,isDeleting:i})=>n.jsx(Zn,{children:r&&n.jsx(vt.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:n.jsxs(vt.div,{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border border-orange-200 dark:border-gray-700",initial:{scale:.8,y:50,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.8,y:50,opacity:0},transition:{duration:.3,ease:"easeOut"},children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx(dk,{className:"w-12 h-12 text-red-500"})}),n.jsx("h2",{className:"text-xl font-bold text-orange-800 dark:text-orange-400 text-center mb-4",children:"Delete Your Account"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center mb-4",children:"You are about to delete your account. This action cannot be undone."}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(_F,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-400 w-5 h-5"}),n.jsx("input",{type:"password",placeholder:"Enter your password",value:s,onChange:o=>a(o.target.value),className:"w-full pl-10 pr-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all border-gray-300",disabled:i})]})]}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white font-bold text-base shadow-lg hover:from-red-600 hover:to-red-700 focus:ring-4 focus:ring-red-200 transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:i||!s,children:i?"Deleting...":"Yes, Delete"}),n.jsx("button",{onClick:e,className:"px-6 py-3 rounded-xl bg-orange-100 text-orange-700 font-bold text-base shadow hover:bg-orange-200 transition border-2 border-orange-200",disabled:i,children:"No, Cancel"})]})]})})}),Cge=()=>{const[r,e]=C.useState(!1),[t,s,a]=C.useState(""),[i,o]=C.useState(!1),{alerts:l,addAlert:c,removeAlert:d}=sc(),u=_s(),f=Hg(),m=async()=>{if(!f.currentUser){c("No user is logged in.","error");return}if(!t){c("Please enter your password to confirm deletion.","error");return}o(!0);try{const p=lc.credential(f.currentUser.email,t);await aO(f.currentUser,p);const y=Te(J,"users",f.currentUser.uid);await ra(y).catch(x=>{throw console.error("Firestore deletion error:",x),new Error("Failed to delete user data.")}),await n$(f.currentUser).catch(x=>{throw console.error("Auth deletion error:",x),new Error("Failed to delete user account.")}),s(""),e(!1),c("Your account has been successfully deleted.","success"),u("/")}catch(p){console.error("Account deletion error:",p),p.code==="auth/wrong-password"?c("Incorrect password. Please try again.","error"):p.code==="auth/requires-recent-login"?(c("Please log in again to authenticate this action.","error"),u("/login")):c(`Failed to delete account: ${p.message}`,"error")}finally{o(!1)}};return n.jsxs("div",{className:"min-h-screen bg-background-light py-8",children:[n.jsx(Bo,{alerts:l,removeAlert:d}),n.jsx(Age,{isOpen:r,onClose:()=>{e(!1),s("")},onConfirm:m,password:t,setPassword:s,isDeleting:i}),n.jsxs("div",{className:"max-w-3xl mx-auto policy-card",children:[n.jsx("div",{className:"policy-header text-primary",children:"FOREMADE Marketplace & FOREMADEGo User Agreement"}),n.jsxs("div",{className:"policy-content",children:[n.jsxs("p",{className:"mb-2 text-secondary",children:[n.jsx("strong",{children:"Effective Date:"})," 30th July 2025"]}),n.jsxs("p",{className:"mb-2 text-secondary",children:[n.jsx("strong",{children:"Last Updated:"})," 30th July 2025"]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Scope of Agreement"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Buyers and sellers on the FOREMADE Marketplace;"}),n.jsx("li",{children:"Delivery partners and riders using FOREMADEGo;"}),n.jsx("li",{children:"Use of the FOREMADE Wallet for receiving, holding, and withdrawing funds;"}),n.jsx("li",{children:"Any use of linked external websites and services."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Eligibility"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Be at least 18 years of age;"}),n.jsx("li",{children:"Have the legal capacity to enter into contracts;"}),n.jsx("li",{children:"Provide accurate and complete registration details."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Account Registration and Security"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"You must create an account to access key services."}),n.jsx("li",{children:"You are responsible for safeguarding your account credentials and all activity under your account."}),n.jsx("li",{children:"FOREMADE reserves the right to suspend or terminate accounts due to fraud, abuse, or policy violations."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Marketplace Use (Buying & Selling)"}),n.jsx("strong",{className:"block mb-2 text-secondary",children:"Buyers agree to:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Review product listings thoroughly before purchase;"}),n.jsx("li",{children:"Use authorized payment methods only;"}),n.jsx("li",{children:"Raise complaints or disputes through the Platform."})]}),n.jsx("strong",{className:"block mb-2 text-secondary",children:"Sellers agree to:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Provide accurate and honest product listings;"}),n.jsx("li",{children:"Fulfill orders within the promised timeframe;"}),n.jsx("li",{children:"Comply with all relevant product, tax, and business obligations;"}),n.jsx("li",{children:"Accept returns and issue refunds in accordance with FOREMADE guidelines."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"FOREMADEGo (Delivery Network)"}),n.jsx("p",{className:"mb-2 text-secondary",children:"FOREMADEGo is our parcel delivery network connecting senders with approved delivery riders."}),n.jsx("strong",{className:"block mb-2 text-secondary",children:"Riders agree to:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsxs("li",{children:["Register via ",n.jsx("a",{href:"https://foremadego.com/rider/register.php",className:"policy-link",target:"_blank",rel:"noopener noreferrer",children:"Rider Registration"}),";"]}),n.jsx("li",{children:"Accept delivery jobs through the dashboard;"}),n.jsx("li",{children:"Handle deliveries professionally and on time;"}),n.jsx("li",{children:"Confirm delivery with required proof, including photos where applicable;"}),n.jsx("li",{children:"Follow all safety and service standards."})]}),n.jsx("strong",{className:"block mb-2 text-secondary",children:"Senders and recipients agree to:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Provide accurate delivery information;"}),n.jsx("li",{children:"Avoid sending prohibited, restricted, or illegal items;"}),n.jsx("li",{children:"Cooperate with delivery personnel during handoffs."})]}),n.jsx("p",{className:"mb-4 text-secondary",children:"FOREMADE reserves the right to remove any rider or user for misconduct, policy violations, or misuse of the platform."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"FOREMADE Wallet  Fair Use and Security"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Automated System: Powered by integrated financial technology partners to ensure fast and secure processing."}),n.jsx("li",{children:"Regulatory Compliance: Operates in connection with financial regulations applicable in your local jurisdiction."}),n.jsx("li",{children:"Real-Time Tracking: Users can view their wallet balances and transaction history at any time."}),n.jsx("li",{children:"Instant Withdrawals: Earnings can be withdrawn at any time to a verified bank account. Processing times may vary based on the financial institution."}),n.jsxs("li",{children:["Fair Use Policy:",n.jsxs("ul",{className:"list-disc ml-6 mb-2",children:[n.jsx("li",{children:"The Wallet is strictly for funds earned through transactions on FOREMADE or FOREMADEGo."}),n.jsx("li",{children:"Fraudulent activity or system manipulation may result in a freeze or closure of the account."}),n.jsx("li",{children:"FOREMADE may temporarily restrict wallet use during investigations or dispute resolution."})]})]})]}),n.jsx("p",{className:"mb-4 text-secondary",children:"All wallet data is protected using secure encryption and authentication protocols."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Fees and Payments"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"FOREMADE may charge transaction, listing, or service fees as applicable."}),n.jsx("li",{children:"All fees will be clearly displayed during your transaction or use of a service."}),n.jsx("li",{children:"FOREMADE reserves the right to update its fee structure, with notice posted on the Platform."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Returns, Refunds, and Disputes"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Buyers may request returns or refunds in accordance with seller policies and FOREMADE standards."}),n.jsx("li",{children:"Disputes can be raised through the platform for moderation."}),n.jsx("li",{children:"FOREMADE acts as a neutral facilitator and may take appropriate action based on the evidence provided."}),n.jsx("li",{children:"Misuse of the dispute system may result in account restrictions."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"External Links and Third-Party Websites"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"FOREMADE and FOREMADEGo may include links to third-party services such as payment gateways or logistics tools."}),n.jsx("li",{children:"These links are provided for user convenience only."}),n.jsx("li",{children:"FOREMADE is not responsible for the content, policies, or services of any third-party website."}),n.jsx("li",{children:"Users should review third-party terms before engaging with those services."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Intellectual Property"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"All content, branding, and features on FOREMADE and FOREMADEGo are owned by or licensed to FOREMADE Ltd."}),n.jsx("li",{children:"Sellers retain ownership of their content but grant FOREMADE a non-exclusive, royalty-free license to use it for promotion and platform functionality."}),n.jsx("li",{children:"You may not copy, distribute, or reproduce platform content without prior written consent."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Termination and Suspension"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Violating this Agreement;"}),n.jsx("li",{children:"Engaging in fraudulent, harmful, or illegal conduct;"}),n.jsx("li",{children:"Abusing platform systems, wallets, or other users."})]}),n.jsx("p",{className:"mb-4 text-secondary",children:"You may close your account at any time. If eligible, your remaining wallet balance will be made available for withdrawal, subject to any pending investigations or disputes."}),n.jsx("div",{className:"mt-6 flex",children:n.jsx("button",{onClick:()=>e(!0),className:"px-6 py-3 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white font-bold text-base shadow-lg hover:from-red-600 hover:to-red-700 focus:ring-4 focus:ring-red-200 transition",children:"Opt Out"})}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Limitation of Liability"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"FOREMADE is not liable for indirect, incidental, or consequential damages;"}),n.jsx("li",{children:"We are not responsible for the actions or failures of buyers, sellers, riders, or third parties;"}),n.jsx("li",{children:"Platform services are provided as is without warranties of any kind."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Indemnity"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Your breach of this Agreement;"}),n.jsx("li",{children:"Your use or misuse of the Platform;"}),n.jsx("li",{children:"Any product or service you list, purchase, or deliver via FOREMADE or FOREMADEGo."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Governing Law"}),n.jsx("p",{className:"mb-4 text-secondary",children:"This Agreement shall be interpreted and enforced in accordance with applicable local laws, without reference to specific jurisdictions. Users are responsible for complying with laws in their region while using the platform."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Amendments"}),n.jsx("p",{className:"mb-4 text-secondary",children:"We may update or revise this Agreement from time to time. The latest version will be posted on the Platform, and continued use constitutes your acceptance of the updated terms."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Contact Information"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsxs("li",{children:["General Support: ",n.jsx("a",{href:"mailto:support@foremade.com",className:"policy-link",children:"support@foremade.com"})]}),n.jsxs("li",{children:["Privacy Questions: ",n.jsx("a",{href:"mailto:privacy@foremadego.com",className:"policy-link",children:"privacy@foremadego.com"})]}),n.jsxs("li",{children:["Marketplace: ",n.jsx("a",{href:"https://foremade.com",className:"policy-link",target:"_blank",rel:"noopener noreferrer",children:"foremade.com"})]}),n.jsxs("li",{children:["Delivery Platform (FOREMADEGo): ",n.jsx("a",{href:"https://foremadego.com",className:"policy-link",target:"_blank",rel:"noopener noreferrer",children:"foremadego.com"})]}),n.jsxs("li",{children:["Rider Registration: ",n.jsx("a",{href:"https://foremadego.com/rider/register.php",className:"policy-link",target:"_blank",rel:"noopener noreferrer",children:"foremadego.com/rider/register.php"})]})]}),n.jsx("p",{className:"mb-4 text-secondary font-semibold",children:"By using FOREMADE and/or FOREMADEGo, you confirm that you have read, understood, and agreed to this User Agreement."})]}),n.jsxs("footer",{className:"policy-footer",children:[" ",new Date().getFullYear()," Foremade. All rights reserved."]})]})]})},iz="/assets/undraw_my-files_1xwx-DOxcO3os.svg",Ege=()=>n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-10",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("img",{src:iz,alt:"Buyer Protection",className:"w-40 h-40 mb-4"}),n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-blue-700 mb-2",children:"Buyer Protection Policy"}),n.jsx("p",{className:"text-gray-600 max-w-xl",children:"Your peace of mind is our priority. Learn how Foremade protects your purchases and ensures a safe shopping experience."})]}),n.jsxs("div",{className:"bg-white/90 rounded-xl shadow-lg p-6 md:p-10 border border-blue-100",children:[n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3",children:"Important"}),n.jsxs("p",{className:"mb-4",children:["If your purchase was made through a Foremade Pro Seller, please refer to our ",n.jsx("strong",{children:"Pro Refund Policy"})," instead.",n.jsx("br",{}),"Every order placed using the Buy Now button includes our Buyer Protection (added as a fee at checkout), which activates the Foremade Refund Policy. This protection ensures you're eligible for a refund if:"]}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-blue-900",children:[n.jsx("li",{children:"Your parcel never arrives"}),n.jsx("li",{children:"Your parcel arrives damaged"}),n.jsx("li",{children:"The item you receive is significantly not as described (SNAD)"})]}),n.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 mb-4 rounded",children:[n.jsx("strong",{className:"text-blue-700",children:"Please note:"})," Refunds are not guaranteed for items that don't fit or aren't your style. You may still contact the seller to request a return, but approval is at their discretion."]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Refunds for Returns"}),n.jsx("p",{className:"mb-2",children:"A full return refund may include:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"The price of returned items"}),n.jsx("li",{children:"The Buyer Protection fee linked to returned items"}),n.jsx("li",{children:"Your original shipping fee"}),n.jsx("li",{children:"Optional services (e.g., Item or Electronics Verification)"})]}),n.jsx("p",{className:"mb-4",children:"We'll calculate the protection refund based on the items kept and refund the remaining portion. Discounts or voucher values used during purchase will be deducted proportionally from your refund."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Partial Refunds"}),n.jsxs("p",{className:"mb-2",children:["If your item is SNAD, the seller may offer a partial refund, allowing you to keep the item while receiving part of the cost back. You'll see the offer in your chat with the seller, where you can ",n.jsx("em",{children:"accept or decline"}),". Accepted partial refunds include:"]}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"A partial item price refund"}),n.jsx("li",{children:"A proportional refund of the Buyer Protection fee"})]}),n.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4 rounded",children:"Shipping fees and optional service charges are not refunded in partial cases. Bundled purchases don't qualify for partial refundsonly full or item-specific returns."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"How to Request a Refund"}),n.jsx("p",{className:"mb-2",children:"You must act within 2 days of being notified that your order was delivered or marked as lost:"}),n.jsxs("ol",{className:"list-decimal ml-6 mb-4",children:[n.jsxs("li",{children:["Go to your ",n.jsx("em",{children:"chat with the seller"})]}),n.jsxs("li",{children:["Press ",n.jsx("em",{children:"I have an issue"})]}),n.jsx("li",{children:"Follow the prompts to submit your refund request"})]}),n.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 mb-4 rounded",children:"This action temporarily freezes the order while we help resolve the situation. If you do nothing within the 2-day window, payment will be released to the seller."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"What Happens Next?"}),n.jsx("p",{className:"mb-2",children:"Depending on the issue, here's how we handle it:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Order is paused"}),n.jsx("li",{children:"Payment is held securely"}),n.jsx("li",{children:"You and the seller can work toward a solution"})]}),n.jsxs("p",{className:"mb-4",children:["You can track the status directly in the ",n.jsx("em",{children:"conversation screen"}),". If you both resolve the issue yourselves, simply press:"]}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsxs("li",{children:[n.jsx("em",{children:"Resolve this issue"})," for missing/damaged parcels"]}),n.jsxs("li",{children:[n.jsx("em",{children:"Cancel & keep order"})," for agreed resolutions"]})]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If You're the Seller"}),n.jsx("p",{className:"mb-2",children:"If a buyer raises an SNAD claim:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsxs("li",{children:["Ask them to suspend the order by clicking ",n.jsx("em",{children:"I have an issue"})]}),n.jsx("li",{children:"You'll have 14 days to resolve the issue"}),n.jsxs("li",{children:["Review buyer's evidence and choose one option:",n.jsxs("ul",{className:"list-disc ml-6",children:[n.jsxs("li",{children:[n.jsx("em",{children:"Partial refund"})," (buyer keeps item)"]}),n.jsxs("li",{children:[n.jsx("em",{children:"Full refund"})," (buyer keeps item)"]}),n.jsx("li",{children:n.jsx("em",{children:"Request a return"})})]})]})]}),n.jsx("p",{className:"mb-2",children:"If a return is requested:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Buyer ships the item within 5 business days"}),n.jsxs("li",{children:["Share your ",n.jsx("em",{children:"contact info"})," if required"]}),n.jsx("li",{children:"After receiving the item, confirm its condition within 2 days"}),n.jsxs("li",{children:["Press ",n.jsx("em",{children:"Everything is OK"})," to complete the return"]})]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If You Disagree with a Claim"}),n.jsx("p",{className:"mb-2",children:"You may dispute the refund request:"}),n.jsxs("ol",{className:"list-decimal ml-6 mb-4",children:[n.jsxs("li",{children:["Press ",n.jsx("em",{children:"View issue details"})]}),n.jsxs("li",{children:["Click ",n.jsx("em",{children:"Contact Us"})]}),n.jsxs("li",{children:["Review the terms and press ",n.jsx("em",{children:"Agree"})]}),n.jsxs("li",{children:["Press ",n.jsx("em",{children:"Submit"})," to escalate to our support team"]})]}),n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 mb-4 rounded",children:[n.jsx("strong",{children:"Note:"})," You can only dispute if you haven't already accepted a refund option."]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If No Agreement is Reached"}),n.jsx("p",{className:"mb-4",children:"If both sides can't find a solution within 14 days, and no one reaches out for support, Foremade will step in to review the case and issue a final decision."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Special Cases"}),n.jsxs("p",{className:"mb-2",children:[n.jsx("strong",{children:"Item Verified but Still SNAD"}),n.jsx("br",{}),"Follow the steps under ",n.jsx("em",{children:"I've received a SNAD item"})," to request a refund."]}),n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Device Linked to Seller's Account"})}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Notify the seller"}),n.jsx("li",{children:"If unlinking fails, discuss a return or refund"}),n.jsxs("li",{children:["If a return is required, use the ",n.jsx("em",{children:"Return the order"})," button"]})]}),n.jsx("p",{className:"mb-4",children:"Shipping details must be accurate. If not provided, Foremade may issue a refund even without a return."})]})]})}),Tge=()=>n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-10",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("img",{src:iz,alt:"Refund Policy",className:"w-40 h-40 mb-4"}),n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-blue-700 mb-2",children:"Refund Policy"}),n.jsx("p",{className:"text-gray-600 max-w-xl",children:"Understand how Foremade handles refunds and protects your purchases."})]}),n.jsxs("div",{className:"bg-white/90 rounded-xl shadow-lg p-6 md:p-10 border border-blue-100",children:[n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3",children:"Important"}),n.jsxs("p",{className:"mb-4",children:["If your purchase was made through a Foremade ",n.jsx(ve,{to:"/pro-seller-guide",className:"text-blue-600 underline font-semibold",children:"Pro Seller"}),", please refer to our ",n.jsx(ve,{to:"/pro-refund-policy",className:"text-blue-600 underline font-semibold",children:"Pro Refund Policy"})," instead.",n.jsx("br",{}),"Every order placed using the Buy Now button includes our Buyer Protection (added as a fee at checkout), which activates the Foremade Refund Policy. This protection ensures you're eligible for a refund if:"]}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-blue-900",children:[n.jsx("li",{children:"Your parcel never arrives"}),n.jsx("li",{children:"Your parcel arrives damaged"}),n.jsx("li",{children:"The item you receive is significantly not as described (SNAD)"})]}),n.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 mb-4 rounded",children:[n.jsx("strong",{className:"text-blue-700",children:"Please note:"})," Refunds are not guaranteed for items that don't fit or aren't your style. You may still contact the seller to request a return, but approval is at their discretion."]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Refunds for Returns"}),n.jsx("p",{className:"mb-2",children:"A full return refund may include:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"The price of returned items"}),n.jsx("li",{children:"The Buyer Protection fee linked to returned items"}),n.jsx("li",{children:"Your original shipping fee"}),n.jsx("li",{children:"Optional services (e.g., Item or Electronics Verification)"})]}),n.jsx("p",{className:"mb-4",children:"We'll calculate the protection refund based on the items kept and refund the remaining portion. Discounts or voucher values used during purchase will be deducted proportionally from your refund."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Partial Refunds"}),n.jsxs("p",{className:"mb-2",children:["If your item is SNAD, the seller may offer a partial refund, allowing you to keep the item while receiving part of the cost back. You'll see the offer in your chat with the seller, where you can ",n.jsx("em",{children:"accept or decline"}),". Accepted partial refunds include:"]}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"A partial item price refund"}),n.jsx("li",{children:"A proportional refund of the Buyer Protection fee"})]}),n.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4 rounded",children:"Shipping fees and optional service charges are not refunded in partial cases. Bundled purchases don't qualify for partial refundsonly full or item-specific returns."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"How to Request a Refund"}),n.jsx("p",{className:"mb-2",children:"You must act within 2 days of being notified that your order was delivered or marked as lost:"}),n.jsxs("ol",{className:"list-decimal ml-6 mb-4",children:[n.jsxs("li",{children:["Go to your ",n.jsx(ve,{to:"/orders",className:"text-blue-600 underline font-semibold",children:"chat with the seller"})]}),n.jsxs("li",{children:["Press ",n.jsx("em",{children:"I have an issue"})]}),n.jsx("li",{children:"Follow the prompts to submit your refund request"})]}),n.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 mb-4 rounded",children:"This action temporarily freezes the order while we help resolve the situation. If you do nothing within the 2-day window, payment will be released to the seller."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"What Happens Next?"}),n.jsx("p",{className:"mb-2",children:"Depending on the issue, here's how we handle it:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Order is paused"}),n.jsx("li",{children:"Payment is held securely"}),n.jsx("li",{children:"You and the seller can work toward a solution"})]}),n.jsxs("p",{className:"mb-4",children:["You can track the status directly in the ",n.jsx(ve,{to:"/orders",className:"text-blue-600 underline font-semibold",children:"conversation screen"}),". If you both resolve the issue yourselves, simply press:"]}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsxs("li",{children:[n.jsx("em",{children:"Resolve this issue"})," for missing/damaged parcels"]}),n.jsxs("li",{children:[n.jsx("em",{children:"Cancel & keep order"})," for agreed resolutions"]})]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If You're the Seller"}),n.jsx("p",{className:"mb-2",children:"If a buyer raises an SNAD claim:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsxs("li",{children:["Ask them to suspend the order by clicking ",n.jsx("em",{children:"I have an issue"})]}),n.jsx("li",{children:"You'll have 14 days to resolve the issue"}),n.jsxs("li",{children:["Review buyer's evidence and choose one option:",n.jsxs("ul",{className:"list-disc ml-6",children:[n.jsxs("li",{children:[n.jsx("em",{children:"Partial refund"})," (buyer keeps item)"]}),n.jsxs("li",{children:[n.jsx("em",{children:"Full refund"})," (buyer keeps item)"]}),n.jsx("li",{children:n.jsx("em",{children:"Request a return"})})]})]})]}),n.jsx("p",{className:"mb-2",children:"If a return is requested:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Buyer ships the item within 5 business days"}),n.jsxs("li",{children:["Share your ",n.jsx("em",{children:"contact info"})," if required (",n.jsx(ve,{to:"/support",className:"text-blue-600 underline font-semibold",children:"Contact Us"}),")"]}),n.jsx("li",{children:"After receiving the item, confirm its condition within 2 days"}),n.jsxs("li",{children:["Press ",n.jsx("em",{children:"Everything is OK"})," to complete the return"]})]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If You Disagree with a Claim"}),n.jsx("p",{className:"mb-2",children:"You may dispute the refund request:"}),n.jsxs("ol",{className:"list-decimal ml-6 mb-4",children:[n.jsxs("li",{children:["Press ",n.jsx("em",{children:"View issue details"})]}),n.jsxs("li",{children:["Click ",n.jsx(ve,{to:"/support",className:"text-blue-600 underline font-semibold",children:"Contact Us"})]}),n.jsxs("li",{children:["Review the terms and press ",n.jsx("em",{children:"Agree"})]}),n.jsxs("li",{children:["Press ",n.jsx("em",{children:"Submit"})," to escalate to our support team"]})]}),n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 mb-4 rounded",children:[n.jsx("strong",{children:"Note:"})," You can only dispute if you haven't already accepted a refund option."]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If No Agreement is Reached"}),n.jsx("p",{className:"mb-4",children:"If both sides can't find a solution within 14 days, and no one reaches out for support, Foremade will step in to review the case and issue a final decision."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Special Cases"}),n.jsxs("p",{className:"mb-2",children:[n.jsx("strong",{children:"Item Verified but Still SNAD"}),n.jsx("br",{}),"Follow the steps under ",n.jsx("em",{children:"I've received a SNAD item"})," to request a refund."]}),n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Device Linked to Seller's Account"})}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Notify the seller"}),n.jsx("li",{children:"If unlinking fails, discuss a return or refund"}),n.jsxs("li",{children:["If a return is required, use the ",n.jsx(ve,{to:"/orders",className:"text-blue-600 underline font-semibold",children:"Return the order"})," button"]})]}),n.jsx("p",{className:"mb-4",children:"Shipping details must be accurate. If not provided, Foremade may issue a refund even without a return."})]})]})}),Pge={background:"#fff",borderRadius:16,boxShadow:"0 2px 16px rgba(0,0,0,0.06)",maxWidth:600,width:"100%",padding:32,margin:"0 16px"},Ou={marginBottom:32,borderBottom:"1px solid #f0f0f0",paddingBottom:24},Rge={marginBottom:0,borderBottom:"none",paddingBottom:0},Ige={color:"#003366",fontSize:32,fontWeight:800,marginBottom:8,letterSpacing:"-1px"},Wc={color:"#003366",fontSize:22,fontWeight:700,margin:"0 0 12px 0",display:"flex",alignItems:"center",gap:10},Yc={color:"#003366",marginRight:8,verticalAlign:"middle"},Dge={color:"#181818",fontWeight:"bold"},Mge={backgroundColor:"#f9f9f9",padding:15,borderLeft:"4px solid #ffcc00",marginTop:15,color:"#181818",borderRadius:6,fontSize:15},Lu={color:"#003366",textDecoration:"none",fontWeight:"bold",borderBottom:"1px solid #003366",transition:"background 0.2s, color 0.2s",padding:"1px 2px",borderRadius:2},oj={textDecoration:"underline",background:"#f0f6fa"},nb={background:"#003366",color:"#fff",border:"none",borderRadius:6,padding:"10px 22px",fontWeight:600,fontSize:16,cursor:"pointer",marginTop:18,marginBottom:0,transition:"background 0.2s",textDecoration:"none",display:"inline-block"};function Oge(){const[r,e]=js.useState(""),[t,s]=js.useState(!1),a=o=>e(o),i=()=>e("");return n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"relative",children:[n.jsx("button",{className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-[#112d4e] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-300",onClick:()=>s(!t),"aria-label":t?"Close menu":"Open menu",children:t?n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),t&&n.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>s(!1)}),n.jsx("div",{className:`${t?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed md:static top-0 left-0 h-full z-40 md:z-0 w-64 bg-[#112d4e] shadow-lg md:shadow-none transition-transform duration-300 ease-in-out`,children:n.jsx(tr,{})})]}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 flex justify-center items-start py-10 bg-gray-50",children:n.jsxs("div",{style:Pge,children:[n.jsxs("h1",{style:Ige,children:[n.jsx(vg,{size:32,style:{display:"inline",marginRight:12,verticalAlign:"middle"}})," Product Bumps"]}),n.jsx("p",{style:{marginBottom:24,fontSize:18,color:"#181818"},children:"Get more eyes on your listings. Sell faster."}),n.jsxs("div",{style:Ou,children:[n.jsxs("h2",{style:Wc,children:[n.jsx(vg,{style:Yc,size:22}),"What is a Product Bump?"]}),n.jsxs("p",{style:{fontSize:16},children:["A ",n.jsx("strong",{children:"Product Bump"})," is a paid tool that promotes your listing on FOREMADE. It increases visibility by pushing your item higher in search results and buyer feeds for ",n.jsx("strong",{children:"3 or 7 days"}),"or until it sells."]}),n.jsxs("p",{style:{fontSize:16},children:["You can choose to bump your listing ",n.jsx("strong",{children:"locally"})," or make it visible to ",n.jsx("strong",{children:"international buyers"})," across all active FOREMADE regions."]})]}),n.jsxs("div",{style:Ou,children:[n.jsxs("h2",{style:Wc,children:[n.jsx(EF,{style:Yc,size:22}),"Why Use a Product Bump?"]}),n.jsxs("ul",{style:{paddingLeft:20,fontSize:16,margin:0},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"More Visibility:"})," Appear higher in search results and feeds."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Targeted Reach:"})," Get shown to the right buyers based on browsing history."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Performance Tracking:"})," Monitor views and interactions via your dashboard."]})]})]}),n.jsxs("div",{style:Ou,children:[n.jsxs("h2",{style:Wc,children:[n.jsx(dk,{style:Yc,size:22}),"Before You Bump"]}),n.jsxs("ul",{style:{paddingLeft:20,fontSize:16,margin:0},children:[n.jsxs("li",{children:["Ensure your listing meets our "," ",n.jsx("a",{href:"/help/listing-guidelines",style:r==="guidelines"?{...Lu,...oj}:Lu,onMouseEnter:()=>a("guidelines"),onMouseLeave:i,children:"Listing Guidelines"}),"."]}),n.jsx("li",{children:"Update your images, title, price, and description before activating a bump."}),n.jsxs("li",{children:["You can ",n.jsx("span",{style:Dge,children:"lower"})," the price while a bump is activebut you can't raise it until the bump ends."]})]}),n.jsxs("div",{style:Mge,children:[n.jsx(dk,{size:16,style:{display:"inline",marginRight:6,verticalAlign:"middle"}})," Lowering the price doesn't reduce the cost of the bump. No refunds are given for price changes after activation."]})]}),n.jsxs("div",{style:Ou,children:[n.jsxs("h2",{style:Wc,children:[n.jsx(kF,{style:Yc,size:22}),"How to Apply a Bump"]}),n.jsxs("ol",{style:{paddingLeft:20,fontSize:16,margin:0},children:[n.jsxs("li",{children:["Log in to your "," ",n.jsx("a",{href:"/dashboard",style:r==="dashboard1"?{...Lu,...oj}:Lu,onMouseEnter:()=>a("dashboard1"),onMouseLeave:i,children:"Seller Dashboard"}),"."]}),n.jsx("li",{children:"Select the item you want to promote."}),n.jsxs("li",{children:["Choose ",n.jsx("strong",{children:"3 or 7-day duration"}),"."]}),n.jsxs("li",{children:["Choose ",n.jsx("strong",{children:"Local"})," or ",n.jsx("strong",{children:"International"})," visibility."]}),n.jsx("li",{children:"Pay and activate!"})]})]}),n.jsxs("div",{style:Ou,children:[n.jsxs("h2",{style:Wc,children:[n.jsx(yse,{style:Yc,size:22}),"Bump Pricing"]}),n.jsx("p",{style:{fontSize:16},children:"Pricing depends on:"}),n.jsxs("ul",{style:{paddingLeft:20,fontSize:16,margin:0},children:[n.jsx("li",{children:"Item price"}),n.jsx("li",{children:"Bump duration (3 or 7 days)"}),n.jsx("li",{children:"Target location: Local or International"})]}),n.jsx("p",{style:{marginTop:12},children:n.jsx("a",{href:"/pricing",style:r==="pricing"?{...nb,background:"#002244",color:"#fff"}:nb,onMouseEnter:()=>a("pricing"),onMouseLeave:i,children:"View Bump Pricing"})})]}),n.jsxs("div",{style:Ou,children:[n.jsxs("h2",{style:Wc,children:[n.jsx(Yse,{style:Yc,size:22}),"Frequently Asked Questions"]}),n.jsxs("div",{style:{fontSize:16},children:[n.jsxs("p",{style:{marginBottom:10},children:[n.jsx("strong",{children:"What if I cancel the sale?"}),n.jsx("br",{}),"- If you cancel it, the bump ends and is not refunded. You'll need to buy a new bump.",n.jsx("br",{}),"- If the buyer cancels, contact "," ",n.jsx("a",{href:"/contact",style:r==="contact"?{...Lu,...oj}:Lu,onMouseEnter:()=>a("contact"),onMouseLeave:i,children:"FOREMADE Support"})," for help."]}),n.jsxs("p",{style:{marginBottom:10},children:[n.jsx("strong",{children:"Can I bump any item?"}),n.jsx("br",{}),"Yes! Even items under verification can be bumped."]}),n.jsxs("p",{style:{marginBottom:10},children:[n.jsx("strong",{children:"Can I bump multiple listings?"}),n.jsx("br",{}),"Yes, as many as you wantbut only one bump per item at a time."]}),n.jsxs("p",{style:{marginBottom:0},children:[n.jsx("strong",{children:"Can bumps be transferred?"}),n.jsx("br",{}),"No. Bumps are tied to specific listings."]})]})]}),n.jsxs("div",{style:Rge,children:[n.jsxs("h2",{style:Wc,children:[n.jsx(lp,{style:Yc,size:22}),"Start Selling Smarter"]}),n.jsxs("p",{style:{fontSize:16},children:[n.jsx("a",{href:"/dashboard",style:r==="dashboard2"?{...nb,background:"#002244",color:"#fff"}:nb,onMouseEnter:()=>a("dashboard2"),onMouseLeave:i,children:"Go to your dashboard"})," ","to bump a product and increase your sales today!"]})]})]})})]})}function Lge(){_s();const[r,e]=C.useState(""),[t,s]=C.useState(null),[a,i]=C.useState(!1),[o,l]=C.useState(0),[c,d]=C.useState(!1),[u,f]=C.useState(null);C.useEffect(()=>{if(u&&(u(),f(null)),!r||!Pe.currentUser){s(null),l(0),d(!1);return}i(!0);const N=Te(J,"orders",r),k=is(N,S=>{if(S.exists()){const R=S.data();s({status:R.status||"Order Placed",updatedAt:R.updatedAt?.toDate()||new Date,trackingDetails:R.trackingDetails||[]}),l(0),d(!1)}else(async()=>{const A=Et(Ie(J,"orders"),bt("userId","==",Pe.currentUser.uid)),P=(await dt(A)).docs.find(E=>E.data().paymentId===r||`TRK-${E.id.slice(0,8)}`===r);if(P){const E=P.data();s({status:E.status||"Order Placed",updatedAt:E.updatedAt?.toDate()||new Date,trackingDetails:E.trackingDetails||[]}),l(0),d(!1)}else s({status:"Not Found",updatedAt:new Date,trackingDetails:[]}),l(E=>E+1);i(!1)})()},S=>{console.error("Error fetching order:",S),s({status:"Error",updatedAt:new Date,trackingDetails:[]}),l(R=>R+1),i(!1)});return f(()=>k),()=>{u&&u()}},[r,Pe.currentUser]),C.useEffect(()=>{o>=2&&d(!0)},[o]);const m=N=>{N.preventDefault(),r&&Pe.currentUser&&s(null)},p=["Order Placed","Packed","Shipped","Delivered"],x=t?((N,k)=>{if(!N||N==="Not Found"||N==="Error")return 0;if(k.length>0){const S=k[k.length-1].status;return p.indexOf(S)+1||1}return p.indexOf(N)+1||1})(t.status,t.trackingDetails):0,v=x/p.length*100;return n.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx(Ud,{}),n.jsx(vt.div,{className:"md:w-3/4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-black dark:text-white mb-4",children:"Track Your Order"}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsx("input",{type:"text",value:r,onChange:N=>e(N.target.value),placeholder:"Track your orders (e.g., order ID or TRK-...)",className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx("button",{type:"submit",disabled:a||!r||!Pe.currentUser,className:`w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition ${a||!r||!Pe.currentUser?"opacity-50 cursor-not-allowed":""}`,children:a?"Tracking...":"Track Order"})]}),c&&n.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 p-4 bg-yellow-100 dark:bg-yellow-800 rounded-lg text-gray-800 dark:text-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Need Help Tracking Your Order?"}),n.jsx("p",{className:"text-sm mt-2",children:'Enter your full order ID (e.g., "order-12368738293") or tracking ID (e.g., "TRK-order12") from your order history or confirmation email. If you dont know your ID, check your "Orders" page or contact support.'}),n.jsx("button",{onClick:()=>d(!1),className:"mt-2 text-blue-600 dark:text-blue-400 hover:underline",children:"Close Guide"})]}),t&&n.jsxs(vt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"mt-6 space-y-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300",children:"Order Status"}),n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:p.map((N,k)=>n.jsxs("div",{className:"flex flex-col items-center relative",children:[n.jsx(vt.div,{className:`w-8 h-8 rounded-full flex items-center justify-center z-10 ${k<x?"bg-blue-600 text-white":k===x?"bg-blue-200 text-blue-800":"bg-gray-200 text-gray-500"}`,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:k*.1},children:k+1}),n.jsx("span",{className:"text-xs mt-1 text-gray-600 dark:text-gray-400",children:N})]},k))}),n.jsx(vt.div,{className:"absolute top-4 left-0 h-1 bg-gray-300",style:{width:"100%"},initial:{width:0},animate:{width:"100%"},transition:{duration:1,ease:"easeInOut"}}),n.jsx(vt.div,{className:"absolute top-4 left-0 h-1 bg-blue-500",style:{width:`${v}%`},initial:{width:0},animate:{width:`${v}%`},transition:{duration:.8,ease:"easeOut"}})]}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:["Current Step: ",x>0?p[x-1]:"Not Found"]}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Last Updated: ",t.updatedAt.toLocaleString()]}),t.trackingDetails.length>0&&n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Tracking Timeline"}),n.jsx("ul",{className:"list-disc pl-5",children:t.trackingDetails.map((N,k)=>n.jsxs(vt.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:k*.1},className:"text-gray-600 dark:text-gray-400",children:[N.status," - ",new Date(N.timestamp).toLocaleString()]},k))})]})]})]})]})})]})})}function Fge(){const r=[{image:"https://res.cloudinary.com/dbczfoqnc/image/upload/v1751541163/products/kdcrrjozm0dq2r8a74zk.jpg",text:"Daily Deals Await!",tagline:"Limited Time Offers",description:"Grab exclusive discounts on top products before theyre gone.",link:"/daily-deals"},{image:"https://res.cloudinary.com/dbczfoqnc/image/upload/v1748369792/products/d3mt7oyewtwsswr9b9li.jpg",text:"Hot Deals Today",tagline:"Save Big Today",description:"Explore the best deals available only for a short time.",link:"/daily-deals"}],[e,t]=C.useState(0),[s,a]=C.useState(!0),[i,o]=C.useState({hours:0,minutes:0,seconds:0});C.useEffect(()=>{if(!s)return;const c=setInterval(()=>{t(d=>(d+1)%r.length)},6e3);return()=>clearInterval(c)},[e,r.length,s]),C.useEffect(()=>{const c=()=>{const u=new Date,f=new Date(u);f.setHours(23,59,59,999);const m=f-u,p=Math.floor(m/(1e3*60*60)),y=Math.floor(m%(1e3*60*60)/(1e3*60)),x=Math.floor(m%(1e3*60)/1e3);o({hours:p,minutes:y,seconds:x})};c();const d=setInterval(c,1e3);return()=>clearInterval(d)},[]);const l=c=>{t(c),a(!1),setTimeout(()=>a(!0),1e4)};return n.jsxs("div",{className:"relative overflow-hidden my-4 mx-2 sm:mx-4 lg:mx-6 rounded-2xl border border-neutral-800/30 h-[200px] xs:h-[220px] sm:h-[260px] lg:h-[300px]",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx(vt.div,{className:"absolute inset-0 bg-gradient-to-br from-amber-600 via-orange-400/60 to-blue-900 animate-gradient-x",initial:{opacity:0},animate:{opacity:.7},transition:{duration:1}}),n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20 sm:opacity-30 transition-all duration-700 scale-110",style:{backgroundImage:`url(${r[e].image})`}}),n.jsx("div",{className:"absolute inset-0 backdrop-blur-md"})]}),n.jsx(vt.div,{className:"relative z-10 h-full flex items-center w-full",children:n.jsx("div",{className:"w-full mx-auto px-3 xs:px-4 sm:px-8 lg:px-16 flex flex-col items-center justify-center gap-4 sm:gap-6 py-4 sm:py-6 flex-wrap",children:n.jsxs("div",{className:"text-center space-y-3 sm:space-y-4",children:[n.jsx(vt.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"inline-flex items-center h-6 px-3 rounded-full bg-gradient-to-r from-amber-600/30 to-orange-400/20 border border-amber-500/30",children:n.jsx("span",{className:"text-xs font-medium text-amber-100 tracking-wide",children:r[e].tagline})}),n.jsx(vt.h2,{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold leading-tight text-white drop-shadow-lg",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:r[e].text}),n.jsx(vt.p,{className:"hidden sm:block text-sm sm:text-base text-white/90 max-w-md",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r[e].description}),n.jsxs(vt.div,{className:"flex items-center justify-center space-x-2 sm:space-x-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[n.jsxs("div",{className:"bg-white/30 backdrop-blur-lg rounded-lg p-2 sm:p-3 border border-amber-100/30",children:[n.jsx("span",{className:"text-lg sm:text-xl font-bold text-amber-600",children:String(i.hours).padStart(2,"0")}),n.jsx("span",{className:"text-xs sm:text-sm text-white/80 ml-1",children:"Hours"})]}),n.jsx("span",{className:"text-lg sm:text-xl text-white/80 font-bold",children:":"}),n.jsxs("div",{className:"bg-white/30 backdrop-blur-lg rounded-lg p-2 sm:p-3 border border-amber-100/30",children:[n.jsx("span",{className:"text-lg sm:text-xl font-bold text-amber-600",children:String(i.minutes).padStart(2,"0")}),n.jsx("span",{className:"text-xs sm:text-sm text-white/80 ml-1",children:"Minutes"})]}),n.jsx("span",{className:"text-lg sm:text-xl text-white/80 font-bold",children:":"}),n.jsxs("div",{className:"bg-white/30 backdrop-blur-lg rounded-lg p-2 sm:p-3 border border-amber-100/30",children:[n.jsx("span",{className:"text-lg sm:text-xl font-bold text-amber-600",children:String(i.seconds).padStart(2,"0")}),n.jsx("span",{className:"text-xs sm:text-sm text-white/80 ml-1",children:"Seconds"})]})]})]})})}),n.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-2 z-20",children:r.map((c,d)=>n.jsx("button",{onClick:()=>l(d),className:"group","aria-label":`Go to slide ${d+1}`,children:n.jsx("span",{className:`block w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-200 ${e===d?"bg-amber-400 scale-125 shadow-lg shadow-amber-400/50":"bg-white/40 group-hover:bg-white/60 group-hover:scale-105"}`})},d))})]})}const aM=async(r,e=3,t=1e3)=>{for(let s=1;s<=e;s++)try{return await r()}catch(a){if(s===e)throw a;const i=t*Math.pow(2,s-1);console.warn(`Retry ${s}/${e} after ${i}ms due to: ${a.message}`),await new Promise(o=>setTimeout(o,i))}},nM="https://via.placeholder.com/200?text=No+Image";function Uge(){const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(null);return C.useEffect(()=>{(async()=>{try{s(!0),i(null);const c=(await aM(()=>dt(Ie(J,"dailyDeals")))).docs.map(f=>({id:f.id,...f.data()}));console.log("Raw deals:",c);const d=c.filter(f=>new Date(f.endDate)>new Date);console.log("Valid deals:",d);const u=await Promise.all(d.map(async f=>{const m=await aM(()=>ft(Te(J,"products",f.productId))),p=m.exists()?m.data():{};console.log(`Product for deal ${f.id}:`,p);const y=Array.isArray(p.imageUrls)&&p.imageUrls.length>0?p.imageUrls.find(N=>typeof N=="string"&&N.startsWith("https://res.cloudinary.com/"))||nM:p.imageUrl&&typeof p.imageUrl=="string"&&p.imageUrl.startsWith("https://res.cloudinary.com/")?p.imageUrl:nM;console.log(`Image for deal ${f.id}:`,y);const x=Number(p.price)||0,v=Number((f.discount*100).toFixed(2))||0;return{id:f.id,productId:f.productId,productName:p.name||"Unnamed Product",price:x,discountPercentage:v,imageUrl:y,description:p.description||"No description available",condition:p.condition||"",isDailyDeal:!0}}));console.log("Final deal products:",u),e(u)}catch(l){console.error("Error loading daily deals:",{message:l.message,stack:l.stack}),i("Failed to load daily deals. Please try again later.")}finally{s(!1)}})()},[]),t?n.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50 h-screen mb-10",children:n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[n.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),n.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"})]})}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[...Array(8)].map((o,l)=>n.jsx("div",{className:"flex-shrink-0 w-full",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-[200px] xs:h-[240px] sm:h-[260px] w-full animate-pulse"})},l))})]})}):a?n.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50",children:n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[n.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),n.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"})]})}),n.jsxs("p",{className:"text-red-600 text-sm xs:text-base p-3 xs:p-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-error-circle"}),a]})]})}):n.jsxs("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50 mb-16",children:[n.jsx(Fge,{}),n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[n.jsx("i",{className:"bx bx-time text-yellow-600 text-3xl xs:text-3xl"}),n.jsx("h2",{className:"text-base xs:text-xl sm:text-2xl md:text-3xl lg:text-3xl font-bold text-gray-800",children:"Daily Deals"})]})}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:r.length===0?n.jsxs("p",{className:"text-gray-600 text-sm xs:text-base p-3 xs:p-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-info-circle"}),"No deals available right now. Check back later for hot offers! "]}):r.map(o=>n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"relative",children:[n.jsx(Zr,{product:{id:o.productId,name:o.productName,price:o.price,imageUrl:o.imageUrl,condition:o.condition,category:o.category||"default",variants:o.variants||[],stock:o.stock||0,sellerId:o.sellerId||"",currency:localStorage.getItem("currency")||"USD",isDailyDeal:o.isDailyDeal,discountPercentage:o.discountPercentage}}),n.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1.5 xs:px-2 py-0.5 xs:py-1 rounded-full text-[10px] xs:text-xs font-bold",children:[o.discountPercent,"% OFF"]})]})},o.id))})]})]})}function zge(){const[r,e]=C.useState([]),[t,s]=C.useState([]),[a,i]=C.useState(!0),o="Fashion",l=["foremade fashion","clothing","accessories","footwear","jewelry","bags & wallets"],c=async()=>{try{i(!0);const d=Et(Ie(J,"trendingItems"),bt("category","==",o)),f=(await dt(d)).docs.map(x=>x.data());if(f.length>0){const x=f.map(async N=>{const k=await ft(Te(J,"products",N.productId));return k.exists()?{id:k.id,...k.data()}:null}),v=(await Promise.all(x)).filter(N=>N&&N.status==="approved");e(v);return}const m=Et(Ie(J,"products"),bt("status","==","approved"),bt("category","in",l)),y=(await dt(m)).docs.map(x=>({id:x.id,...x.data()}));e(y)}catch{Me.error("Failed to load fashion products")}finally{i(!1)}};return C.useEffect(()=>{c(),dt(Ie(J,"dailyDeals")).then(d=>{s(d.docs.map(u=>({id:u.id,...u.data()})))})},[]),n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-6",children:"All Trending Fashion"}),a?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((d,u)=>n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 animate-pulse"},u))}):r.length===0?n.jsx("p",{className:"text-gray-600",children:"No fashion products found."}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(d=>n.jsx(Zr,{product:d,dailyDeals:t},d.id))})]})})}function Bge(){const[r,e]=C.useState([]),[t,s]=C.useState([]),[a,i]=C.useState(!0),o="Gadgets",l=["tablet & phones","computers & accessories","electronics","smart watches","game & fun"],c=async()=>{try{i(!0);const d=Et(Ie(J,"trendingItems"),bt("category","==",o)),f=(await dt(d)).docs.map(x=>x.data());if(f.length>0){const x=f.map(async N=>{const k=await ft(Te(J,"products",N.productId));return k.exists()?{id:k.id,...k.data()}:null}),v=(await Promise.all(x)).filter(N=>N&&N.status==="approved");e(v);return}const m=Et(Ie(J,"products"),bt("status","==","approved"),bt("category","in",l)),y=(await dt(m)).docs.map(x=>({id:x.id,...x.data()}));e(y)}catch{Me.error("Failed to load gadgets products")}finally{i(!1)}};return C.useEffect(()=>{c(),dt(Ie(J,"dailyDeals")).then(d=>{s(d.docs.map(u=>({id:u.id,...u.data()})))})},[]),n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-6",children:"All Trending Gadgets"}),a?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((d,u)=>n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 animate-pulse"},u))}):r.length===0?n.jsx("p",{className:"text-gray-600",children:"No gadgets products found."}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(d=>n.jsx(Zr,{product:d,dailyDeals:t},d.id))})]})})}const ya=({children:r,requireAdmin:e=!1})=>{const t=Hg(),s=Qr(),a=_s(),[i,o]=C.useState(!0),[l,c]=C.useState(!1);return C.useEffect(()=>{const d=eo(t,u=>{if(!u){console.log("No user authenticated, redirecting to login"),a("/login",{replace:!0,state:{from:s.pathname}}),o(!1);return}const f=["Foremade@icloud.com","echinecherem729@gmail.com"],m=u.email.toLowerCase(),p=f.some(y=>y.toLowerCase()===m);console.log("Authenticated user email:",u.email),console.log("Normalized user email:",m),console.log("Is admin?",p),e&&!p?(console.log("Non-admin access attempted, redirecting to login"),a("/login",{replace:!0,state:{from:s.pathname}})):c(!0),o(!1)});return()=>d()},[t,s.pathname,a,e]),console.log("Rendering ProtectedRoute, loading:",i,"hasAccess:",l),l?r:null},Vge=()=>{const{sellerId:r}=Zo(),[e,t]=C.useState(null),[s,a]=C.useState([]),[i,o]=C.useState({}),[l,c]=C.useState(!0),[d,u]=C.useState(null);return C.useEffect(()=>{r?(async()=>{try{c(!0),u(null);const m=Te(J,"feeConfigurations","categoryFees"),p=await ft(m),y=p.exists()?p.data():{};o(y);const x=Te(J,"users",r),v=await ft(x);if(!v.exists()){u("Seller not found.");return}const N=v.data(),k={username:N.username||`Seller ${r.slice(0,6)}`,profilePicture:N.profilePicture||`https://ui-avatars.com/api/?name=${encodeURIComponent(N.username||"Seller")}&size=128&background=112d4e&color=fff`,isProSeller:N.isProSeller||!1};t(k);const S=Et(Ie(J,"products"),bt("sellerId","==",r)),A=(await dt(S)).docs.map(D=>{const P=D.data(),E=P.category||"default",I=y[E]||{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2},M=P.price||0,L=M+M*I.buyerProtectionRate+M*I.handlingRate;return{id:D.id,...P,imageUrls:Array.isArray(P.imageUrls)&&P.imageUrls.length>0?P.imageUrls[0]:Gs,totalPrice:L,category:E}});a(A)}catch(m){console.error("Error fetching seller data:",m),u("Failed to load seller data."),Me.error("Failed to load seller data.",{position:"top-right",autoClose:3e3})}finally{c(!1)}})():(u("Invalid seller ID."),c(!1))},[r]),l?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(mi,{}),n.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Loading seller data..."})]}):d?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-red-600 text-sm",children:d}),n.jsxs(ve,{to:"/products",className:"text-blue-600 hover:underline text-sm flex items-center gap-1 justify-center mt-4","aria-label":"Back to products",children:[n.jsx("i",{className:"bx bx-arrow-back","aria-hidden":"true"}),"Back to Products"]})]}):n.jsxs("div",{className:"container mx-auto px-4 py-8 mb-10",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-store text-blue-600","aria-hidden":"true"}),"Seller Profile"]}),n.jsxs(ve,{to:"/products",className:"text-blue-600 hover:underline text-sm flex items-center gap-1","aria-label":"Back to products",children:[n.jsx("i",{className:"bx bx-arrow-back","aria-hidden":"true"}),"Back to Products"]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8 flex items-center gap-6",children:[n.jsx("img",{src:e.profilePicture,alt:`${e.username}'s avatar`,className:"w-24 h-24 rounded-full object-cover border-2 border-blue-600",onError:f=>{f.target.src=Gs},loading:"lazy","aria-label":"Seller avatar"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:e.username}),e.isProSeller?n.jsx(TF,{className:"w-5 h-5 text-amber-500","aria-label":"Pro Seller",title:"Premium Seller"}):n.jsx(tc,{className:"w-5 h-5 text-gray-500","aria-label":"Standard Seller",title:"Standard Seller"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," ",s.length===1?"product":"products"," listed"]}),n.jsx("p",{className:"text-sm text-amber-500 mt-3",children:e.isProSeller?"Pro Seller":"Standard Seller"})]})]}),n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-package text-blue-600","aria-hidden":"true"}),"Products by ",e.username,n.jsxs("span",{className:"ml-2 text-xs text-gray-500 cursor-help relative group","aria-label":"Prices include fees",children:[n.jsx("i",{className:"bx bx-info-circle","aria-hidden":"true"}),n.jsx("span",{className:"absolute hidden group-hover:block bg-gray-800 text-white text-xs rounded-lg p-2 -top-10 left-0 w-48 z-10",children:"Prices are inclusive of taxes etc."})]})]}),s.length===0?n.jsxs("p",{className:"text-gray-600 text-sm",children:["No products found for this seller."," ",n.jsx(ve,{to:"/products",className:"text-blue-600 hover:underline",children:"Browse other products"})]}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:s.map(f=>n.jsxs(ve,{to:`/product/${f.id}`,className:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition transform","aria-label":`View ${f.name}`,children:[n.jsx("img",{src:f.imageUrls,alt:f.name||"Product image",className:"w-full h-48 object-cover rounded-lg mb-4",onError:m=>{m.target.src=Gs},loading:"lazy"}),n.jsx("h3",{className:"text-base font-semibold text-gray-800 truncate",children:f.name||"Unnamed Product"}),n.jsx("p",{className:"text-sm text-gray-600",children:n.jsx(hr,{price:f.totalPrice||0,currency:"NGN"})})]},f.id))})]})};function Hge(){const[r,e]=C.useState([]),[t,s]=C.useState(!0),[a,i]=C.useState(null),[o,l]=C.useState("asc");C.useEffect(()=>{(async()=>{if(!Pe.currentUser){i("Please log in as an admin."),s(!1);return}try{const u=Ie(J,"users"),m=(await dt(u)).docs.map(p=>{const y=p.data(),x=y.name||y.username||"N/A";return{id:p.id,name:x,email:y.email||"Not Provided",phoneNumber:y.phoneNumber||"Not Provided"}});e(m.sort((p,y)=>p.name.localeCompare(y.name)))}catch(u){i(`Failed to fetch users: ${u.message}`),console.error("Fetch users error:",u)}finally{s(!1)}})()},[]);const c=()=>{const d=o==="asc"?"desc":"asc";l(d),e([...r].sort((u,f)=>d==="asc"?u.name.localeCompare(f.name):f.name.localeCompare(u.name)))};return t?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx(vt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsx("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10 text-center",children:n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading users..."})})})]}):a?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx(vt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsx("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10 text-center",children:n.jsx("p",{className:"text-red-600 dark:text-red-400",children:a})})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx(vt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsxs("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 mb-6",children:"User Details"}),n.jsx("div",{className:"mb-4 p-4 bg-yellow-100 dark:bg-yellow-900 border border-yellow-300 dark:border-yellow-700 rounded-lg",children:n.jsxs("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm",children:[n.jsx("strong",{children:"Security Warning:"})," Passwords are managed by Firebase Authentication and cannot be accessed or displayed client-side due to security restrictions. To manage user passwords, implement a custom authentication system or password reset endpoint on your Render backend (","https://foremade-backend.onrender.com",")."]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-200 dark:bg-gray-700",children:[n.jsxs("th",{className:"p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 cursor-pointer",onClick:c,children:["Name ",o==="asc"?"":""]}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Email"}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Phone Number"})]})}),n.jsx("tbody",{children:r.map(d=>n.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600",children:[n.jsx("td",{className:"p-3 text-sm text-gray-800 dark:text-gray-200",children:d.name}),n.jsx("td",{className:"p-3 text-sm text-gray-800 dark:text-gray-200",children:d.email}),n.jsx("td",{className:"p-3 text-sm text-gray-800 dark:text-gray-200",children:d.phoneNumber})]},d.id))})]})}),r.length===0&&n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center py-4",children:"No users found."})]})})]})}os.defaults.timeout=8e4;function $ge({alerts:r,removeAlert:e}){return C.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function qge(){const[r,e]=C.useState([]);return{alerts:r,addAlert:(a,i="info")=>{if(r.some(l=>l.message===a))return;const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function Wge(){const r=_s(),{sellerId:e}=Zo(),{alerts:t,addAlert:s,removeAlert:a}=qge(),[i,o]=C.useState(()=>{const se=localStorage.getItem("adminProductForm");return se?JSON.parse(se):{sellerName:"",sellerId:"",name:"",description:"",price:"",stock:"",category:"",subcategory:"",subSubcategory:"",colors:[],sizes:[],condition:"New",productUrl:"",images:[],videos:[],tags:[],manualSize:""}}),[l,c]=C.useState(()=>{const se=localStorage.getItem("adminLocationForm");return se?JSON.parse(se):{country:"",state:"",city:"",address:""}}),[d,u]=C.useState({}),[f,m]=C.useState(!1),[p,y]=C.useState(()=>{const se=localStorage.getItem("adminProductImages");return se?JSON.parse(se):[]}),[x,v]=C.useState(()=>{const se=localStorage.getItem("adminProductPreviews");return se?JSON.parse(se):[]}),[N,k]=C.useState(()=>{const se=localStorage.getItem("adminProductVideos");return se?JSON.parse(se):[]}),[S,R]=C.useState(()=>{const se=localStorage.getItem("adminProductVideoPreviews");return se?JSON.parse(se):[]}),[A,D]=C.useState({}),[P,E]=C.useState(!1),[I,M]=C.useState(0),[L,z]=C.useState(null),[F,V]=C.useState(""),[$,Y]=C.useState([]),[X,ee]=C.useState(!1),[W,B]=C.useState(!1),[G,te]=C.useState(!1),[re,ie]=C.useState(!1),[he,le]=C.useState(!1),[De,Oe]=C.useState({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),[Be,de]=C.useState(!1),[Ye,be]=C.useState([]),[Q,me]=C.useState({}),[We,xe]=C.useState({}),[Je,ot]=C.useState([]),[lt,rt]=C.useState(null),[et,Rt]=C.useState(null),[Tt,ut]=C.useState(""),[At,st]=C.useState(1),qe=[{label:"Media",key:1},{label:"Details",key:2},{label:"Pricing",key:3},{label:"Location",key:4}],xt=se=>se===1?p.length>0:se===2?i.name&&i.description&&i.sellerName&&i.sellerId:se===3?i.price&&i.stock:se===4?l.country&&l.state:!1;C.useEffect(()=>{xt(1)&&At<2&&st(2),xt(2)&&At<3&&st(3),xt(3)&&At<4&&st(4)},[p,i.name,i.description,i.sellerName,i.sellerId,i.price,i.stock,l.country,l.state]);const Nt=se=>{se<At&&st(se)},_t=C.useRef(null),jt=C.useRef(null),Ft=C.useRef(null),Zt=C.useRef(null),Xt=C.useRef(null),ys=[{name:"Red",hex:"#ff0000"},{name:"Orange",hex:"#FFA500"},{name:"blue",hex:"#0000ff"},{name:"Green",hex:"#008000"},{name:"Brown",hex:"#8b4513"},{name:"Black",hex:"#000000"},{name:"White",hex:"#ffffff"},{name:"Purple",hex:"#800080"},{name:"Pink",hex:"#ffc1cc"},{name:"Gray",hex:"#808080"},{name:"Yellow",hex:"#FFFF00"},{name:"Gold",hex:"#ff9a1d"},{name:"Silver",hex:"#e2f2ec"}],It=["S","M","L","XL","XXL"],Wt=["3","4","6","8","10","12","14","16","18","20"],sr=['3"','5"','5.5"','6"','6.5"','7"','7.5"','8"','8.5"','9"','9.5"','10"','10.5"','11"','11.5"','12"','12.5"'],ms=["30ml","50ml","60ml","75ml","100ml"],Jt=["1 to 5kg","5 to 10kg ","10 to 20kg","20kg above"],vs=["Verified","Original","Brand New","Authentic"],ss=8,Ms=1,gs=10*1024*1024,Bt=30;C.useEffect(()=>{localStorage.setItem("adminLocationForm",JSON.stringify(l))},[l]),C.useEffect(()=>{const se=is(Ie(J,"categories"),_e=>{const at=_e.docs.map(it=>({id:it.id,...it.data()}));be(at.map(it=>it.name)),i.category&&!at.some(it=>it.name===i.category)&&(o(it=>({...it,category:"",subcategory:"",subSubcategory:"",sizes:[]})),s("Selected category was removed by admin.","error"))},_e=>{console.error("Error fetching categories:",_e),s("Failed to load categories.","error")}),ye=is(Ie(J,"customSubcategories"),_e=>{const at={};_e.forEach(it=>{at[it.id]=it.data().subcategories||[]}),me(at),i.category&&i.subcategory&&!at[i.category]?.includes(i.subcategory)&&(o(it=>({...it,subcategory:"",subSubcategory:"",sizes:[]})),s("Selected subcategory was removed by admin.","error"))},_e=>{console.error("Error fetching subcategories:",_e),s("Failed to load subcategories.","error")}),Le=is(Ie(J,"customSubSubcategories"),_e=>{const at={};_e.forEach(it=>{const hs=it.id,fr=it.data();at[hs]={},Object.entries(fr).forEach(([sl,no])=>{at[hs][sl]=Array.isArray(no)?no:[]})}),xe(at),i.category&&i.subcategory&&i.subSubcategory&&!at[i.category]?.[i.subcategory]?.includes(i.subSubcategory)&&(o(it=>({...it,subSubcategory:"",sizes:[]})),s("Selected sub-subcategory was removed by admin.","error"))},_e=>{console.error("Error fetching sub-subcategories:",_e),s("Failed to load sub-subcategories.","error")});return(async()=>{try{const _e=Te(J,"feeConfigurations","categoryFees"),at=await ft(_e);at.exists()?Rt(at.data()):s("No fee configurations found.","error")}catch(_e){console.error("Error fetching fee configurations:",_e),s("Failed to load fee configurations.","error")}})(),()=>{se(),ye(),Le()}},[i.category,i.subcategory,i.subSubcategory,s]),C.useEffect(()=>{let se=!0;const ye=Pe.onAuthStateChanged(async Le=>{if(se)if(z(Le),e)try{const ke=await ft(Te(J,"users",e)),_e=ke.exists()&&ke.data().name||"Unknown Seller";console.log(`Seller fetched: ID=${e}, Name=${_e}`),o(at=>({...at,sellerId:e,sellerName:_e})),localStorage.setItem("adminProductForm",JSON.stringify({...i,sellerId:e,sellerName:_e}))}catch(ke){console.error("Error fetching seller:",ke),o(_e=>({..._e,sellerId:e,sellerName:"Unknown Seller"})),s(`Failed to load seller details for ID ${e}. Using default name.`,"warning"),localStorage.setItem("adminProductForm",JSON.stringify({...i,sellerId:e,sellerName:"Unknown Seller"}))}else s("No seller ID provided in URL.","error"),o(ke=>({...ke,sellerId:"",sellerName:""})),r("/admin/users")});return()=>{se=!1,ye()}},[e,r,s,i]),C.useEffect(()=>{if(!et||!i.category)return;const se=parseFloat(i.price);if(!se||isNaN(se)){Oe({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0});return}const ye=et[i.category]||{buyerProtectionRate:.08,handlingRate:.2},Le=se*ye.buyerProtectionRate,ke=se*ye.handlingRate,_e=se+Le+ke,at=se;Oe({productSize:i.category,buyerProtectionFee:Le,handlingFee:ke,totalEstimatedPrice:_e,sellerEarnings:at}),localStorage.setItem("adminProductForm",JSON.stringify(i))},[i.price,i.category,et]),C.useEffect(()=>{localStorage.setItem("adminProductForm",JSON.stringify(i)),localStorage.setItem("adminProductImages",JSON.stringify(p)),localStorage.setItem("adminProductPreviews",JSON.stringify(x)),localStorage.setItem("adminProductVideos",JSON.stringify(N)),localStorage.setItem("adminProductVideoPreviews",JSON.stringify(S))},[i,p,x,N,S]),C.useEffect(()=>{ut(qs(i.description||"",{gfm:!0,breaks:!0}))},[i.description]),C.useEffect(()=>{(()=>{const ye=`${i.name} ${i.description} ${i.subSubcategory}`.toLowerCase(),Le=[];ye.includes("leather")&&Le.push("Leather"),(ye.includes("shoe")||ye.includes("footwear"))&&Le.push("Footwear"),(ye.includes("phone")||ye.includes("mobile"))&&Le.push("Smartphone"),ye.includes("fashion")&&Le.push("Fashion"),ye.includes("vintage")&&Le.push("Vintage"),ye.includes("smart")&&Le.push("Smart"),ot(Le.filter(ke=>!i.tags.includes(ke)))})()},[i.name,i.description,i.subSubcategory]),C.useEffect(()=>{const se=navigator.userAgent||navigator.vendor||window.opera;de(/android|iphone|ipad|ipod|opera mini|mobile/i.test(se))},[]);const es=se=>{const{name:ye,value:Le}=se.target;o(ke=>({...ke,[ye]:Le,...ye==="category"?{subcategory:"",subSubcategory:"",sizes:[]}:{},...ye==="subcategory"?{subSubcategory:"",sizes:[]}:{}})),D(ke=>({...ke,[ye]:""}))},pr=(se,ye=!1)=>{const ke=Array.from(se).filter(it=>it.type.startsWith("image/")&&it.size<=5*1024*1024);if(p.length+ke.length>ss){s(`You can upload a maximum of ${ss} images.`,"error");return}if(ye&&ke.length>1){s("Please upload one image at a time.","error");return}y(it=>[...it,...ke]);const at=ke.map(it=>URL.createObjectURL(it));v(it=>[...it,...at]),D(it=>({...it,images:""})),_t.current&&(_t.current.value=""),jt.current&&(jt.current.value="")},Vs=se=>{const Le=Array.from(se.target.files).filter(_e=>_e.type.startsWith("video/")&&_e.size<=gs);if(N.length+Le.length>Ms){s(`You can upload a maximum of ${Ms} video.`,"error");return}const ke=_e=>new Promise((at,it)=>{const hs=document.createElement("video");hs.preload="metadata",hs.onloadedmetadata=()=>{hs.duration>Bt&&it(new Error(`Video must be under ${Bt} seconds.`)),(hs.audioTracks||[]).length>0?it(new Error("Please upload a video without audio.")):at(_e)},hs.onerror=()=>it(new Error("Error loading video metadata.")),hs.src=URL.createObjectURL(_e)});Promise.all(Le.map(_e=>ke(_e))).then(_e=>{k(it=>[...it,..._e]);const at=_e.map(it=>URL.createObjectURL(it));R(it=>[...it,...at]),D(it=>({...it,videos:""}))}).catch(_e=>{s(_e.message,"error")}),Ft.current&&(Ft.current.value="")},As=se=>pr(se.target.files),ws=se=>pr(se.target.files,!0),Us=se=>{se.preventDefault(),se.stopPropagation(),Zt.current.classList.remove("border-blue-500"),pr(se.dataTransfer.files)},Os=se=>{se.preventDefault(),se.stopPropagation(),Zt.current.classList.add("border-blue-500")},Ls=se=>{se.preventDefault(),se.stopPropagation(),Zt.current.classList.remove("border-blue-500")},_r=se=>{y(ye=>ye.filter((Le,ke)=>ke!==se)),v(ye=>ye.filter((Le,ke)=>ke!==se)),p.length<=1&&(_t.current&&(_t.current.value=""),jt.current&&(jt.current.value=""))},pe=se=>{k(ye=>ye.filter((Le,ke)=>ke!==se)),R(ye=>ye.filter((Le,ke)=>ke!==se)),N.length<=1&&Ft.current&&(Ft.current.value="")},Qe=se=>{o(ye=>{const Le=ye.colors.includes(se)?ye.colors.filter(ke=>ke!==se):[...ye.colors,se];return{...ye,colors:Le}}),V(""),ee(!1)},tt=se=>{const ye=se.target.value;if(V(ye),ye.trim()===""){Y([]),ee(!1);return}const Le=ys.filter(ke=>ke.name.toLowerCase().includes(ye.toLowerCase()));Y(Le),ee(!0)},Lt=se=>{if(se.key==="Enter"&&F.trim()){const ye=F.trim();if(ye.length>20){s("Color name must be 20 characters or less.","error");return}o(Le=>{const ke=Le.colors.includes(ye)?Le.colors:[...Le.colors,ye];return{...Le,colors:ke}}),V(""),Y([]),ee(!1)}},yt=se=>{o(ye=>({...ye,colors:ye.colors.filter(Le=>Le!==se)}))},ue=se=>{o(ye=>{const Le=ye.sizes.includes(se)?ye.sizes.filter(ke=>ke!==se):[...ye.sizes,se];return{...ye,sizes:Le}})},ge=se=>{if(se.key==="Enter"&&se.target.value.trim()){const ye=se.target.value.trim();o(Le=>{const ke=Le.sizes.includes(ye)?Le.sizes:[...Le.sizes,ye];return{...Le,sizes:ke}}),se.target.value=""}},Re=se=>{o(ye=>({...ye,sizes:ye.sizes.filter(Le=>Le!==se)}))},ct=se=>{o(ye=>{const Le=ye.tags.includes(se)?ye.tags.filter(ke=>ke!==se):[...ye.tags,se];return{...ye,tags:Le}})},nt=se=>{const ye=Xt.current;if(!ye)return;const Le=ye.selectionStart,ke=ye.selectionEnd,_e=i.description.substring(Le,ke);let at=i.description,it=Le,hs=ke;se==="bold"?_e?(at=at.substring(0,Le)+`**${_e}**`+at.substring(ke),it=Le+2,hs=ke+2):(at=at.substring(0,Le)+"****"+at.substring(Le),it=Le+2,hs=Le+2):se==="italic"?_e?(at=at.substring(0,Le)+`*${_e}*`+at.substring(ke),it=Le+1,hs=ke+1):(at=at.substring(0,Le)+"**"+at.substring(Le),it=Le+1,hs=Le+1):se==="code"&&(_e?(at=at.substring(0,Le)+`\`${_e}\``+at.substring(ke),it=Le+1,hs=ke+1):(at=at.substring(0,Le)+"``"+at.substring(Le),it=Le+1,hs=Le+1)),o(fr=>({...fr,description:at})),setTimeout(()=>{ye.selectionStart=it,ye.selectionEnd=hs,ye.focus()},0)},He=()=>{const se={};return i.sellerName.trim()||(se.sellerName="Seller name is required."),i.sellerId||(se.sellerId="Seller ID is required."),i.name.trim()||(se.name="Product name is required."),(!i.price||isNaN(i.price)||i.price<=0)&&(se.price="Enter a valid price greater than 0."),(!i.stock||isNaN(i.stock)||i.stock<0)&&(se.stock="Enter a valid stock quantity (0 or more)."),(!i.category||!Ye.includes(i.category))&&(se.category="Select a valid category."),p.length===0&&(se.images="At least one image is required."),p.length>ss&&(se.images=`Maximum ${ss} images allowed.`),N.length>Ms&&(se.videos=`Maximum ${Ms} video allowed.`),i.colors.length===0&&(se.colors="Select at least one color."),i.category==="Clothing"&&i.subcategory&&i.sizes.length===0&&(se.sizes="Select or enter at least one size for clothing products."),i.category==="Footwear"&&i.subcategory&&i.sizes.length===0&&(se.sizes="Select or enter at least one size for footwear products."),i.category==="Perfumes"&&i.subcategory&&i.sizes.length===0&&(se.sizes="Select or enter at least one size for perfume products."),se},ne=()=>{const se={};return l.country||(se.country="Country is required."),l.state||(se.state="State is required."),se},ze=async(se,ye=!1)=>{const Le=new FormData;Le.append("file",se),Le.append("isVideo",ye);try{const _e=await os.post("https://foremade-backend.onrender.com/upload",Le,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4,onUploadProgress:at=>{const it=Math.round(at.loaded*100/at.total);M(it)}});if(_e.status!==200||!_e.data.url)throw new Error(`Failed to upload ${ye?"video":"image"} to Cloudinary.`);return _e.data.url}catch(ke){throw console.error(`${ye?"Video":"Image"} upload error:`,{message:ke.message,code:ke.code,response:ke.response?.data}),new Error(ke.code==="ECONNABORTED"?"Request timed out. Please check your network or try again later.":ke.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network or server status.":ke.response?.data?.error||`Failed to upload ${ye?"video":"image"}.`)}finally{M(0)}},ae=async se=>{if(se.preventDefault(),D({}),u({}),E(!0),!L){s("You must be logged in to add products.","error"),E(!1),r("/login");return}const ye=He(),Le=ne();if(Object.keys(ye).length>0||Object.keys(Le).length>0){D(ye),u(Le),E(!1),s("Please fix the form errors.","error");return}try{const ke=await Promise.all(p.map(hs=>ze(hs))),_e=N.length>0?await Promise.all(N.map(hs=>ze(hs,!0))):[];if(ke.length===0)throw new Error("At least one image URL is required.");const at={sellerName:i.sellerName,sellerId:i.sellerId,seller:{name:i.sellerName,id:i.sellerId},name:i.name,description:i.description||"",price:parseFloat(i.price),stock:parseInt(i.stock,10),category:i.category.toLowerCase(),subcategory:i.subcategory||"",subSubcategory:i.subSubcategory||"",colors:i.colors,sizes:i.sizes,condition:i.condition||"New",productUrl:i.productUrl||"",imageUrls:ke,videoUrls:_e,tags:i.tags,createdAt:new Date().toISOString(),reviews:[],buyerProtectionFee:De.buyerProtectionFee,handlingFee:De.handlingFee,totalEstimatedPrice:De.totalEstimatedPrice,sellerEarnings:De.sellerEarnings,manualSize:i.manualSize||"",location:{country:l.country,state:l.state,city:l.city||"",address:l.address||""},status:"approved"},it=await cn(Ie(J,"products"),at);console.log("Product uploaded with ID:",it.id),m(!0),o({sellerName:"",sellerId:"",name:"",description:"",price:"",stock:"",category:"",subcategory:"",subSubcategory:"",colors:[],sizes:[],condition:"New",productUrl:"",images:[],videos:[],tags:[],manualSize:""}),c({country:"",state:"",city:"",address:""}),y([]),v([]),k([]),R([]),localStorage.removeItem("adminProductForm"),localStorage.removeItem("adminLocationForm"),localStorage.removeItem("adminProductImages"),localStorage.removeItem("adminProductPreviews"),localStorage.removeItem("adminProductVideos"),localStorage.removeItem("adminProductVideoPreviews"),_t.current&&(_t.current.value=""),jt.current&&(jt.current.value=""),Ft.current&&(Ft.current.value=""),Y([]),ee(!1),B(!1),te(!1),ie(!1),Oe({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),le(!1)}catch(ke){console.error("Error uploading product:",{message:ke.message,stack:ke.stack,code:ke.code}),s(ke.message||"Failed to upload product.","error")}finally{E(!1)}},Ce=()=>i.category==="Clothing"&&i.subcategory?i.subcategory==="Men"?It:Wt:i.category==="Footwear"&&i.subcategory?sr:i.category==="Perfumes"&&i.subSubcategory?.startsWith("Oil -")?ms:[];return L?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsxs("div",{className:"flex-1 ml-0 md:ml-64 p-6",children:[n.jsxs("div",{className:"max-w-8xl rounded-xl mx-auto bg-white p-8",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6",children:"Upload Product for Seller"}),n.jsxs("form",{onSubmit:ae,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-user text-blue-500"}),"Seller Information"]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Seller Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:i.sellerName||"No seller selected",readOnly:!0,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${A.sellerId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),A.sellerId&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),A.sellerId]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-image-add text-blue-500"}),"Product Media"]}),n.jsxs("div",{ref:Zt,onDrop:Us,onDragOver:Os,onDragLeave:Ls,children:[n.jsxs("p",{className:"text-gray-600 text-sm dark:text-gray-300",children:["Drag and drop images here or click to upload (Max ",ss," images, 5MB each)"]}),n.jsx("input",{type:"file",ref:_t,onChange:As,accept:"image/*",multiple:!0,className:"hidden",disabled:P}),n.jsx("button",{type:"button",onClick:()=>_t.current?.click(),className:"py-2 px-4 mt-4 m-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:P,children:"Select Images"}),n.jsx("input",{type:"file",ref:jt,onChange:ws,accept:"image/*",className:"hidden",disabled:P}),n.jsx("button",{type:"button",onClick:()=>jt.current?.click(),className:"py-2 px-4 mt-4 m-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:P,children:"Upload Single Image"})]}),x.length>0&&n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:x.map((se,ye)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:se,alt:`Preview ${ye}`,className:"w-full h-32 object-cover rounded-lg shadow-sm cursor-pointer",onClick:()=>rt({src:se,type:"image"})}),n.jsx("button",{type:"button",onClick:()=>_r(ye),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",disabled:P,children:n.jsx("i",{className:"bx bx-x"})})]},ye))}),A.images&&n.jsxs("p",{className:"text-red-600 text-xs mt-2 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),A.images]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Upload a video (Max ",Ms,", 10MB, 30s, no audio)"]}),n.jsx("input",{type:"file",ref:Ft,onChange:Vs,accept:"video/*",className:"hidden",disabled:P}),n.jsx("button",{type:"button",onClick:()=>Ft.current?.click(),className:"mt-2 m-2 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:P,children:"Select Video"})]}),S.length>0&&n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:S.map((se,ye)=>n.jsxs("div",{className:"relative group",children:[n.jsx("video",{src:se,className:"w-full h-32 object-cover rounded-lg shadow-sm cursor-pointer",onClick:()=>rt({src:se,type:"video"})}),n.jsx("button",{type:"button",onClick:()=>pe(ye),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",disabled:P,children:n.jsx("i",{className:"bx bx-x"})})]},ye))}),A.videos&&n.jsxs("p",{className:"text-red-600 text-xs mt-2 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),A.videos]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-detail text-blue-500"}),"Product Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Product Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"name",value:i.name,onChange:es,placeholder:"e.g., GINSENG COFFEE",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:P}),A.name&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),A.name]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("button",{type:"button",onClick:()=>B(!W),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.category?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 flex justify-between items-center`,disabled:P,children:[n.jsx("span",{children:i.category||"Select a category"}),n.jsx("i",{className:"bx bx-chevron-down text-gray-500 dark:text-gray-400"})]}),W&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:Ye.map(se=>n.jsx("button",{type:"button",onClick:()=>{o(ye=>({...ye,category:se,subcategory:"",subSubcategory:"",sizes:[]})),B(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:se},se))}),A.category&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),A.category]})]}),i.category&&Q[i.category]?.length>0&&n.jsxs("div",{className:"relative group",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Subcategory"}),n.jsxs("button",{type:"button",onClick:()=>te(!G),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.subcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 flex justify-between items-center`,disabled:P,children:[n.jsx("span",{children:i.subcategory||"Select a subcategory"}),n.jsx("i",{className:"bx bx-chevron-down text-gray-500 dark:text-gray-400"})]}),G&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:Q[i.category].map(se=>n.jsx("button",{type:"button",onClick:()=>{o(ye=>({...ye,subcategory:se,subSubcategory:"",sizes:[]})),te(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:se},se))})]}),i.subcategory&&We[i.category]?.[i.subcategory]?.length>0&&n.jsxs("div",{className:"relative group",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sub-subcategory"}),n.jsxs("button",{type:"button",onClick:()=>ie(!re),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.subSubcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 flex justify-between items-center`,disabled:P,children:[n.jsx("span",{children:i.subSubcategory||"Select a sub-subcategory"}),n.jsx("i",{className:"bx bx-chevron-down text-gray-500 dark:text-gray-400"})]}),re&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:We[i.category][i.subcategory].map(se=>n.jsx("button",{type:"button",onClick:()=>{o(ye=>({...ye,subSubcategory:se,sizes:[]})),ie(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:se},se))})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("button",{type:"button",onClick:()=>nt("bold"),className:"p-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",title:"Bold",disabled:P,children:n.jsx("i",{className:"bx bx-bold"})}),n.jsx("button",{type:"button",onClick:()=>nt("italic"),className:"p-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",title:"Italic",disabled:P,children:n.jsx("i",{className:"bx bx-italic"})}),n.jsx("button",{type:"button",onClick:()=>nt("code"),className:"p-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",title:"Code",disabled:P,children:n.jsx("i",{className:"bx bx-code"})})]}),n.jsx("textarea",{ref:Xt,name:"description",value:i.description,onChange:es,placeholder:"Describe the product...",className:`w-full h-32 py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.description?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:P}),i.description&&n.jsx("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-800 dark:text-gray-100 prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:Tt}}),A.description&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),A.description]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-money text-blue-500"}),"Pricing & Stock"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Price (NGN) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"price",value:i.price,onChange:es,placeholder:"e.g., 29500",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.price?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:P}),A.price&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),A.price]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Stock Quantity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"stock",value:i.stock,onChange:es,placeholder:"e.g., 46",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.stock?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:P}),A.stock&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),A.stock]})]})]}),De.totalEstimatedPrice>0&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Buyer Protection Fee: ",De.buyerProtectionFee.toFixed(2)]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Handling Fee: ",De.handlingFee.toFixed(2)]}),n.jsxs("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:["Total Estimated Price: ",De.totalEstimatedPrice.toFixed(2)]}),n.jsxs("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:["Seller Earnings: ",De.sellerEarnings.toFixed(2)]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-palette text-blue-500"}),"Colors"]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Colors ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx("input",{type:"text",value:F,onChange:tt,onKeyDown:Lt,placeholder:"Type a color (e.g., Brown) and press Enter",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.colors?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:P}),X&&$.length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:$.map(se=>n.jsxs("button",{type:"button",onClick:()=>Qe(se.name),className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx("span",{className:"inline-block w-4 h-4 rounded-full",style:{backgroundColor:se.hex}}),se.name]},se.name))})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.colors.map(se=>n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[n.jsx("span",{children:se}),n.jsx("button",{type:"button",onClick:()=>yt(se),className:"text-red-500 hover:text-red-700",disabled:P,children:n.jsx("i",{className:"bx bx-x"})})]},se))}),A.colors&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),A.colors]})]}),(i.category==="Clothing"||i.category==="Footwear"||i.category==="Perfumes")&&i.subcategory&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-ruler text-blue-500"}),"Sizes"]}),n.jsx("div",{className:"relative mt-2",children:n.jsx("input",{type:"text",onKeyDown:ge,placeholder:"Type a size and press Enter",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.sizes?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:P})}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Ce().map(se=>n.jsx("button",{type:"button",onClick:()=>ue(se),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${i.sizes.includes(se)?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${P?"opacity-50 cursor-not-allowed":""}`,disabled:P,children:se},se))}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.sizes.map(se=>n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[n.jsx("span",{children:se}),n.jsx("button",{type:"button",onClick:()=>Re(se),className:"text-red-500 hover:text-red-700",disabled:P,children:n.jsx("i",{className:"bx bx-x"})})]},se))}),A.sizes&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),A.sizes]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-package text-blue-500"}),"Product Size"]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Manual Size"}),n.jsxs("select",{name:"manualSize",value:i.manualSize,onChange:es,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.manualSize?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:P,children:[n.jsx("option",{value:"",children:"Select a size"}),Jt.map(se=>n.jsx("option",{value:se,children:se},se))]}),A.manualSize&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),A.manualSize]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-purchase-tag text-blue-500"}),"Tags"]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:vs.concat(Je).map(se=>n.jsx("button",{type:"button",onClick:()=>ct(se),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${i.tags.includes(se)?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${P?"opacity-50 cursor-not-allowed":""}`,disabled:P,children:se},se))}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.tags.map(se=>n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[n.jsx("span",{children:se}),n.jsx("button",{type:"button",onClick:()=>ct(se),className:"text-red-500 hover:text-red-700",disabled:P,children:n.jsx("i",{className:"bx bx-x"})})]},se))})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-map text-blue-500"}),"Location"]}),n.jsx(gp,{locationData:l,setLocationData:c,errors:d,disabled:P})]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{type:"button",onClick:()=>r("/admin/users"),className:"py-2 px-4 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",disabled:P,children:"Cancel"}),n.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",disabled:P,children:P?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"bx bx-loader bx-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"bx bx-upload"}),"Upload Product"]})})]})]}),I>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Upload Progress: ",I,"%"]}),n.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${I}%`}})})]}),f&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-md w-full",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-check-circle text-green-500"}),"Success"]}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:["Product has been successfully uploaded for ",i.sellerName,"."]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{type:"button",onClick:()=>{m(!1),r("/admin/users")},className:"py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Users"}),n.jsx("button",{type:"button",onClick:()=>{m(!1),st(1)},className:"py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Upload Another Product"})]})]})}),lt&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50",children:n.jsxs("div",{className:"relative max-w-4xl w-full",children:[lt.type==="image"?n.jsx("img",{src:lt.src,alt:"Zoomed media",className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"}):n.jsx("video",{src:lt.src,controls:!0,className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>rt(null),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600",children:n.jsx("i",{className:"bx bx-x text-xl"})})]})}),n.jsx($ge,{alerts:t,removeAlert:a})]}),n.jsx("div",{className:"fixed top-4 right-4 md:static md:mt-6 max-w-4xl mx-auto",children:n.jsx("div",{className:"flex items-center gap-2 md:gap-4 bg-white dark:bg-gray-800 p-2 rounded-lg shadow-md",children:qe.map(se=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{type:"button",onClick:()=>Nt(se.key),className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${At===se.key?"bg-blue-600 text-white":xt(se.key)?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"} ${At<se.key?"cursor-not-allowed":""}`,disabled:At<se.key||P,children:xt(se.key)?n.jsx("i",{className:"bx bx-check"}):se.key}),n.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-300 hidden md:block",children:se.label}),se.key<qe.length&&n.jsx("div",{className:`h-1 w-6 md:w-12 ${xt(se.key)?"bg-green-500":"bg-gray-200 dark:bg-gray-700"}`})]},se.key))})})]})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]})}function Yge(){const{proSellerId:r}=Zo(),e=_s(),[t,s]=C.useState(null),[a,i]=C.useState(!1),[o,l]=C.useState({}),[c,d]=C.useState(!0),[u,f]=C.useState(null);C.useEffect(()=>{m()},[r]);const m=async()=>{d(!0);try{const N=Te(J,"proSellers",r),k=await ft(N);if(k.exists()){const S=k.data();s(S),l(S)}else f("Pro seller not found")}catch(N){console.error("Fetch error:",N),f(`Failed to fetch pro seller details: ${N.message}`)}finally{d(!1)}},p=N=>{const{name:k,value:S,type:R,checked:A}=N.target;l(D=>({...D,[k]:R==="checkbox"?A:S}))},y=async()=>{try{const N=Te(J,"proSellers",r);await _n(N,o),s(o),i(!1),Me.success("Pro seller updated successfully")}catch(N){console.error("Update error:",N),Me.error(N.message||"Failed to update pro seller")}},x=async()=>{if(window.confirm("Are you sure you want to delete this pro seller?"))try{const N=Te(J,"proSellers",r);await ra(N),Me.success("Pro seller deleted successfully"),e("/admin/pro-seller-requests")}catch(N){console.error("Delete error:",N),Me.error(N.message||"Failed to delete pro seller")}};if(c)return n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx(vt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsx("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10 text-center",children:n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading pro seller details..."})})})]});if(u)return n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx(vt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsx("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10 text-center",children:n.jsx("p",{className:"text-red-600 dark:text-red-400",children:u})})})]});return n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(Ss,{}),n.jsx(vt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsxs("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 mb-6",children:"Pro Seller Details"}),n.jsxs("div",{className:"flex justify-end mb-6",children:[n.jsxs("button",{onClick:()=>i(!a),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-1 text-sm",children:[n.jsx("i",{className:"bx bx-edit"})," ",a?"Cancel":"Edit"]}),a&&n.jsxs("button",{onClick:y,className:"ml-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center gap-1 text-sm",children:[n.jsx("i",{className:"bx bx-save"})," Save"]}),n.jsxs("button",{onClick:x,className:"ml-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition flex items-center gap-1 text-sm",children:[n.jsx("i",{className:"bx bx-trash"})," Delete"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{label:"Pro Seller ID",key:"proSellerId"},{label:"User ID",key:"userId"},{label:"Business Name",key:"businessName"},{label:"Account Name",key:"accountName"},{label:"Account Number",key:"accountNumber"},{label:"Bank Name",key:"bankName"},{label:"Address",key:"address"},{label:"Email",key:"email"},{label:"Phone",key:"phone"},{label:"Manager",key:"manager"},{label:"Manager Email",key:"managerEmail"},{label:"Manager Phone",key:"managerPhone"},{label:"Reg Number",key:"regNumber"},{label:"Tax Ref",key:"taxRef"},{label:"Country",key:"country"},{label:"Business Type",key:"businessType"},{label:"Status",key:"status"},{label:"Created At",key:"createdAt",format:v},{label:"Updated At",key:"updatedAt",format:v},{label:"Description",key:"description"},{label:"Categories",key:"categories",isArray:!0},{label:"Analytics",key:"features.analytics",isBoolean:!0},{label:"Bulk Upload",key:"features.bulkUpload",isBoolean:!0},{label:"Priority Support",key:"features.prioritySupport",isBoolean:!0},{label:"Product Bumping",key:"features.productBumping",isBoolean:!0},{label:"Is Active",key:"isActive",isBoolean:!0},{label:"Account Verified",key:"extraFields.accountVerified",isBoolean:!0},{label:"Reg Verified",key:"extraFields.regVerified",isBoolean:!0},{label:"Tax Verified",key:"extraFields.taxVerified",isBoolean:!0},{label:"Website",key:"website"}].map(({label:N,key:k,format:S=D=>D,isArray:R=!1,isBoolean:A=!1})=>{const D=R?(o[k]||[]).join(", "):A?o[k]?"Yes":"No":S(o[k]);return n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:N}),a?n.jsx("input",{type:A?"checkbox":"text",name:k,value:A?void 0:o[k]||"",checked:A?!!o[k]:void 0,onChange:p,className:"mt-1 p-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}):n.jsx("p",{className:"mt-1 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-gray-100",children:D||"-"})]},k)})})]})})]});function v(N){if(!N)return"-";if(N instanceof Date)return isNaN(N.getTime())?"-":N.toLocaleDateString();const k=new Date(N);return isNaN(k.getTime())?"-":k.toLocaleDateString()}}const Gge=({children:r})=>{const e=Qr(),t=["/login","/register","/recover-password","/reset-password","/sell","/smile","/overview","/settings","/products-gallery","/products-upload","/products-upload-variant","/admin","/admin/payouts","/admin/dashboard","/admin/users","/admin/admins","/admin/edit/fees","/admin/edit/categories","/admin/sellers/payouts","/admin/products","/admin/notifications","/admin/manager","/admin/edit/banners","/admin/edit/daily-deals","/admin/pro-sellers-requests","/admin/pro-seller-details/:proSellerId","/admin/bumped-products","/admin/users-phone","/bulk-upload","/product-bump","/product-bump-info","/seller-transactions","/pro-seller-analytics","/sellers/orders","/sellers/products","/seller-onboarding","/seller-chat","/admin/sellers-wallet","/admin/transactions","/admin-upload-product/:sellerId","/dashboard"],s=[/^\/seller\/edit-product\/[^/]+$/,/^\/seller-chat\/[^/]+$/,/^\/admin\/pro-seller-details\/[^/]+$/,/^\/admin-upload-product\/[^/]+$/],a=t.includes(e.pathname)||s.some(o=>o.test(e.pathname)),i=["/profile","/about"].includes(e.pathname);return n.jsxs(n.Fragment,{children:[!a&&n.jsx(xae,{}),!a&&n.jsx(RZ,{}),n.jsx("main",{className:"min-h-screen bg-white text-black dark:bg-gray-900 dark:text-white",children:r}),i&&n.jsx(vae,{})]})};function Xge(){return n.jsx(e7,{children:n.jsx(pZ,{children:n.jsx(UX,{children:n.jsx(Gge,{children:n.jsxs(PV,{children:[n.jsx(mt,{path:"/login",element:n.jsx(Wae,{})}),n.jsx(mt,{path:"/register",element:n.jsx(Xae,{})}),n.jsx(mt,{path:"/recover-password",element:n.jsx(Xme,{})}),n.jsx(mt,{path:"/reset-password",element:n.jsx(Qme,{})}),n.jsx(mt,{path:"/pro-seller-form",element:n.jsx(fge,{})}),n.jsx(mt,{path:"/",element:n.jsx(zae,{})}),n.jsx(mt,{path:"/smile",element:n.jsx(Mme,{})}),n.jsx(mt,{path:"/sell",element:n.jsx(m3,{})}),n.jsx(mt,{path:"/sellers/products",element:n.jsx(hue,{})}),n.jsx(mt,{path:"/products-upload",element:n.jsx(Zue,{})}),n.jsx(mt,{path:"/products-upload-variant",element:n.jsx(jhe,{})}),n.jsx(mt,{path:"/products-gallery",element:n.jsx(khe,{})}),n.jsx(mt,{path:"/seller/edit-product/:productId",element:n.jsx(nge,{})}),n.jsx(mt,{path:"/dashboard",element:n.jsx(m3,{})}),n.jsx(mt,{path:"/sellers/orders",element:n.jsx(zie,{})}),n.jsx(mt,{path:"/seller-onboarding",element:n.jsx(fue,{})}),n.jsx(mt,{path:"/bulk-upload",element:n.jsx(vge,{})}),n.jsx(mt,{path:"/product-bump",element:n.jsx(wge,{})}),n.jsx(mt,{path:"/product-bump-info",element:n.jsx(Oge,{})}),n.jsx(mt,{path:"/seller-transactions",element:n.jsx(kge,{})}),n.jsx(mt,{path:"/pro-seller-analytics",element:n.jsx(Sge,{})}),n.jsx(mt,{path:"/terms-conditions",element:n.jsx(_he,{})}),n.jsx(mt,{path:"/seller-agreement",element:n.jsx(u7,{})}),n.jsx(mt,{path:"/pro-seller-guide",element:n.jsx(xge,{})}),n.jsx(mt,{path:"/pro-seller-guide-full",element:n.jsx(bge,{})}),n.jsx(mt,{path:"/support",element:n.jsx(She,{})}),n.jsx(mt,{path:"/buyer-protection-policy",element:n.jsx(Ege,{})}),n.jsx(mt,{path:"/refund-policy",element:n.jsx(Tge,{})}),n.jsx(mt,{path:"/guidelines",element:n.jsx(h7,{})}),n.jsx(mt,{path:"/empowerment-hub",element:n.jsx(Ume,{})}),n.jsx(mt,{path:"/youth-empowerment-form",element:n.jsx(Bme,{})}),n.jsx(mt,{path:"/youth-empowerment-terms",element:n.jsx(Vme,{})}),n.jsx(mt,{path:"/products",element:n.jsx(qae,{})}),n.jsx(mt,{path:"/product/:id",element:n.jsx(ene,{})}),n.jsx(mt,{path:"/best-selling",element:n.jsx(LF,{})}),n.jsx(mt,{path:"/electronics",element:n.jsx(Wme,{})}),n.jsx(mt,{path:"/tablet-phones",element:n.jsx(qme,{})}),n.jsx(mt,{path:"/smart-watches",element:n.jsx(Yme,{})}),n.jsx(mt,{path:"/privacy-policy",element:n.jsx(Ome,{})}),n.jsx(mt,{path:"/shipping-policy",element:n.jsx(f7,{})}),n.jsx(mt,{path:"/privacy-policy/:type",element:n.jsx(Fme,{})}),n.jsx(mt,{path:"/privacy-policy/eu/access",element:n.jsx($me,{})}),n.jsx(mt,{path:"/pages/other-products/:category",element:n.jsx(ege,{})}),n.jsx(mt,{path:"/stores",element:n.jsx(age,{})}),n.jsx(mt,{path:"/cart",element:n.jsx(ane,{})}),n.jsx(mt,{path:"/checkout",element:n.jsx(Yne,{})}),n.jsx(mt,{path:"/favorites",element:n.jsx(nne,{})}),n.jsx(mt,{path:"/order-confirmation",element:n.jsx(Uie,{})}),n.jsx(mt,{path:"/profile",element:n.jsx(ine,{})}),n.jsx(mt,{path:"/orders",element:n.jsx(Gne,{})}),n.jsx(mt,{path:"/address",element:n.jsx(Xne,{})}),n.jsx(mt,{path:"/setting",element:n.jsx(Kne,{})}),n.jsx(mt,{path:"/search",element:n.jsx(sge,{})}),n.jsx(mt,{path:"/notifications",element:n.jsx(rge,{})}),n.jsx(mt,{path:"/about",element:n.jsx(tge,{})}),n.jsx(mt,{path:"/seller-chat",element:n.jsx(rM,{})}),n.jsx(mt,{path:"/seller-chat/:chatId",element:n.jsx(rM,{})}),n.jsx(mt,{path:"/seller/:sellerId",element:n.jsx(Vge,{})}),n.jsx(mt,{path:"/order-tracking",element:n.jsx(Lge,{})}),n.jsx(mt,{path:"/category/:categoryName",element:n.jsx(dge,{})}),n.jsx(mt,{path:"/user-agreement",element:n.jsx(Cge,{})}),n.jsx(mt,{path:"/daily-deals",element:n.jsx(Uge,{})}),n.jsx(mt,{path:"/trending-fashions",element:n.jsx(zge,{})}),n.jsx(mt,{path:"/trending-gadgets",element:n.jsx(Bge,{})}),n.jsx(mt,{path:"/chat/:productId",element:n.jsx(Ahe,{})}),n.jsx(mt,{path:"/chat-overview",element:n.jsx(Zne,{})}),n.jsx(mt,{path:"/admin/dashboard",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(The,{})})}),n.jsx(mt,{path:"/admin/transactions",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(ffe,{})})}),n.jsx(mt,{path:"/admin/users",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(Lhe,{})})}),n.jsx(mt,{path:"/admin/products",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(Ehe,{})})}),n.jsx(mt,{path:"/admin/sellers/payouts",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(zhe,{})})}),n.jsx(mt,{path:"/admin/edit/fees",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(Jhe,{})})}),n.jsx(mt,{path:"/admin/edit/categories",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(sfe,{})})}),n.jsx(mt,{path:"/admin/notifications",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(Ihe,{})})}),n.jsx(mt,{path:"/admin/edit/banners",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx($he,{})})}),n.jsx(mt,{path:"/admin/edit/daily-deals",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(Yhe,{})})}),n.jsx(mt,{path:"/admin/manager",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(nfe,{})})}),n.jsx(mt,{path:"/admin/sellers-wallet",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(lfe,{})})}),n.jsx(mt,{path:"/admin/pro-sellers-requests",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(cfe,{})})}),n.jsx(mt,{path:"/admin/bumped-products",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(dfe,{})})}),n.jsx(mt,{path:"/admin/users-phone",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(Hge,{})})}),n.jsx(mt,{path:"/admin/pro-seller-details/:proSellerId",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(Yge,{})})}),n.jsx(mt,{path:"/admin-upload-product/:sellerId",element:n.jsx(ya,{requireAdmin:!0,children:n.jsx(Wge,{})})}),n.jsx(mt,{path:"*",element:n.jsx(Zae,{})})]})})})})})}BB.createRoot(document.getElementById("root")).render(n.jsx(C.StrictMode,{children:n.jsx(Xge,{})}));
