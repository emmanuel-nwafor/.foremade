(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function M8(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var a=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return r[s]}})}),t}var aw={exports:{}},jm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function O8(){if(pC)return jm;pC=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:r,type:s,key:o,ref:a!==void 0?a:null,props:i}}return jm.Fragment=e,jm.jsx=t,jm.jsxs=t,jm}var xC;function L8(){return xC||(xC=1,aw.exports=O8()),aw.exports}var n=L8(),nw={exports:{}},zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function F8(){if(bC)return zt;bC=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g($){return $===null||typeof $!="object"?null:($=f&&$[f]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function v($,Q,te){this.props=$,this.context=Q,this.refs=b,this.updater=te||x}v.prototype.isReactComponent={},v.prototype.setState=function($,Q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Q,"setState")},v.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=v.prototype;function k($,Q,te){this.props=$,this.context=Q,this.refs=b,this.updater=te||x}var C=k.prototype=new N;C.constructor=k,y(C,v.prototype),C.isPureReactComponent=!0;var R=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function P($,Q,te,ne,ce,Re){return te=Re.ref,{$$typeof:r,type:$,key:Q,ref:te!==void 0?te:null,props:Re}}function T($,Q){return P($.type,Q,void 0,void 0,void 0,$.props)}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===r}function L($){var Q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(te){return Q[te]})}var F=/\/+/g;function z($,Q){return typeof $=="object"&&$!==null&&$.key!=null?L(""+$.key):Q.toString(36)}function O(){}function V($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(O,O):($.status="pending",$.then(function(Q){$.status==="pending"&&($.status="fulfilled",$.value=Q)},function(Q){$.status==="pending"&&($.status="rejected",$.reason=Q)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function H($,Q,te,ne,ce){var Re=typeof $;(Re==="undefined"||Re==="boolean")&&($=null);var de=!1;if($===null)de=!0;else switch(Re){case"bigint":case"string":case"number":de=!0;break;case"object":switch($.$$typeof){case r:case e:de=!0;break;case h:return de=$._init,H(de($._payload),Q,te,ne,ce)}}if(de)return ce=ce($),de=ne===""?"."+z($,0):ne,R(ce)?(te="",de!=null&&(te=de.replace(F,"$&/")+"/"),H(ce,Q,te,"",function(X){return X})):ce!=null&&(D(ce)&&(ce=T(ce,te+(ce.key==null||$&&$.key===ce.key?"":(""+ce.key).replace(F,"$&/")+"/")+de)),Q.push(ce)),1;de=0;var Me=ne===""?".":ne+":";if(R($))for(var ue=0;ue<$.length;ue++)ne=$[ue],Re=Me+z(ne,ue),de+=H(ne,Q,te,Re,ce);else if(ue=g($),typeof ue=="function")for($=ue.call($),ue=0;!(ne=$.next()).done;)ne=ne.value,Re=Me+z(ne,ue++),de+=H(ne,Q,te,Re,ce);else if(Re==="object"){if(typeof $.then=="function")return H(V($),Q,te,ne,ce);throw Q=String($),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return de}function B($,Q,te){if($==null)return $;var ne=[],ce=0;return H($,ne,"","",function(Re){return Q.call(te,Re,ce++)}),ne}function q($){if($._status===-1){var Q=$._result;Q=Q(),Q.then(function(te){($._status===0||$._status===-1)&&($._status=1,$._result=te)},function(te){($._status===0||$._status===-1)&&($._status=2,$._result=te)}),$._status===-1&&($._status=0,$._result=Q)}if($._status===1)return $._result.default;throw $._result}var ee=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function G(){}return zt.Children={map:B,forEach:function($,Q,te){B($,function(){Q.apply(this,arguments)},te)},count:function($){var Q=0;return B($,function(){Q++}),Q},toArray:function($){return B($,function(Q){return Q})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},zt.Component=v,zt.Fragment=t,zt.Profiler=a,zt.PureComponent=k,zt.StrictMode=s,zt.Suspense=c,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,zt.__COMPILER_RUNTIME={__proto__:null,c:function($){return _.H.useMemoCache($)}},zt.cache=function($){return function(){return $.apply(null,arguments)}},zt.cloneElement=function($,Q,te){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ne=y({},$.props),ce=$.key,Re=void 0;if(Q!=null)for(de in Q.ref!==void 0&&(Re=void 0),Q.key!==void 0&&(ce=""+Q.key),Q)!I.call(Q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Q.ref===void 0||(ne[de]=Q[de]);var de=arguments.length-2;if(de===1)ne.children=te;else if(1<de){for(var Me=Array(de),ue=0;ue<de;ue++)Me[ue]=arguments[ue+2];ne.children=Me}return P($.type,ce,void 0,void 0,Re,ne)},zt.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:i,_context:$},$},zt.createElement=function($,Q,te){var ne,ce={},Re=null;if(Q!=null)for(ne in Q.key!==void 0&&(Re=""+Q.key),Q)I.call(Q,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ce[ne]=Q[ne]);var de=arguments.length-2;if(de===1)ce.children=te;else if(1<de){for(var Me=Array(de),ue=0;ue<de;ue++)Me[ue]=arguments[ue+2];ce.children=Me}if($&&$.defaultProps)for(ne in de=$.defaultProps,de)ce[ne]===void 0&&(ce[ne]=de[ne]);return P($,Re,void 0,void 0,null,ce)},zt.createRef=function(){return{current:null}},zt.forwardRef=function($){return{$$typeof:l,render:$}},zt.isValidElement=D,zt.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:q}},zt.memo=function($,Q){return{$$typeof:u,type:$,compare:Q===void 0?null:Q}},zt.startTransition=function($){var Q=_.T,te={};_.T=te;try{var ne=$(),ce=_.S;ce!==null&&ce(te,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(G,ee)}catch(Re){ee(Re)}finally{_.T=Q}},zt.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},zt.use=function($){return _.H.use($)},zt.useActionState=function($,Q,te){return _.H.useActionState($,Q,te)},zt.useCallback=function($,Q){return _.H.useCallback($,Q)},zt.useContext=function($){return _.H.useContext($)},zt.useDebugValue=function(){},zt.useDeferredValue=function($,Q){return _.H.useDeferredValue($,Q)},zt.useEffect=function($,Q,te){var ne=_.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect($,Q)},zt.useId=function(){return _.H.useId()},zt.useImperativeHandle=function($,Q,te){return _.H.useImperativeHandle($,Q,te)},zt.useInsertionEffect=function($,Q){return _.H.useInsertionEffect($,Q)},zt.useLayoutEffect=function($,Q){return _.H.useLayoutEffect($,Q)},zt.useMemo=function($,Q){return _.H.useMemo($,Q)},zt.useOptimistic=function($,Q){return _.H.useOptimistic($,Q)},zt.useReducer=function($,Q,te){return _.H.useReducer($,Q,te)},zt.useRef=function($){return _.H.useRef($)},zt.useState=function($){return _.H.useState($)},zt.useSyncExternalStore=function($,Q,te){return _.H.useSyncExternalStore($,Q,te)},zt.useTransition=function(){return _.H.useTransition()},zt.version="19.1.1",zt}var yC;function db(){return yC||(yC=1,nw.exports=F8()),nw.exports}var E=db();const as=cb(E);var iw={exports:{}},km={},ow={exports:{}},lw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function U8(){return vC||(vC=1,function(r){function e(B,q){var ee=B.length;B.push(q);e:for(;0<ee;){var G=ee-1>>>1,$=B[G];if(0<a($,q))B[G]=q,B[ee]=$,ee=G;else break e}}function t(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var q=B[0],ee=B.pop();if(ee!==q){B[0]=ee;e:for(var G=0,$=B.length,Q=$>>>1;G<Q;){var te=2*(G+1)-1,ne=B[te],ce=te+1,Re=B[ce];if(0>a(ne,ee))ce<$&&0>a(Re,ne)?(B[G]=Re,B[ce]=ee,G=ce):(B[G]=ne,B[te]=ee,G=te);else if(ce<$&&0>a(Re,ee))B[G]=Re,B[ce]=ee,G=ce;else break e}}return q}function a(B,q){var ee=B.sortIndex-q.sortIndex;return ee!==0?ee:B.id-q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,g=3,x=!1,y=!1,b=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(B){for(var q=t(u);q!==null;){if(q.callback===null)s(u);else if(q.startTime<=B)s(u),q.sortIndex=q.expirationTime,e(c,q);else break;q=t(u)}}function _(B){if(b=!1,R(B),!y)if(t(c)!==null)y=!0,I||(I=!0,z());else{var q=t(u);q!==null&&H(_,q.startTime-B)}}var I=!1,P=-1,T=5,D=-1;function L(){return v?!0:!(r.unstable_now()-D<T)}function F(){if(v=!1,I){var B=r.unstable_now();D=B;var q=!0;try{e:{y=!1,b&&(b=!1,k(P),P=-1),x=!0;var ee=g;try{t:{for(R(B),f=t(c);f!==null&&!(f.expirationTime>B&&L());){var G=f.callback;if(typeof G=="function"){f.callback=null,g=f.priorityLevel;var $=G(f.expirationTime<=B);if(B=r.unstable_now(),typeof $=="function"){f.callback=$,R(B),q=!0;break t}f===t(c)&&s(c),R(B)}else s(c);f=t(c)}if(f!==null)q=!0;else{var Q=t(u);Q!==null&&H(_,Q.startTime-B),q=!1}}break e}finally{f=null,g=ee,x=!1}q=void 0}}finally{q?z():I=!1}}}var z;if(typeof C=="function")z=function(){C(F)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=F,z=function(){V.postMessage(null)}}else z=function(){N(F,0)};function H(B,q){P=N(function(){B(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(B){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var ee=g;g=q;try{return B()}finally{g=ee}},r.unstable_requestPaint=function(){v=!0},r.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ee=g;g=B;try{return q()}finally{g=ee}},r.unstable_scheduleCallback=function(B,q,ee){var G=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?G+ee:G):ee=G,B){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ee+$,B={id:h++,callback:q,priorityLevel:B,startTime:ee,expirationTime:$,sortIndex:-1},ee>G?(B.sortIndex=ee,e(u,B),t(c)===null&&B===t(u)&&(b?(k(P),P=-1):b=!0,H(_,ee-G))):(B.sortIndex=$,e(c,B),y||x||(y=!0,I||(I=!0,z()))),B},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(B){var q=g;return function(){var ee=g;g=q;try{return B.apply(this,arguments)}finally{g=ee}}}}(lw)),lw}var wC;function z8(){return wC||(wC=1,ow.exports=U8()),ow.exports}var cw={exports:{}},ya={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC;function V8(){if(NC)return ya;NC=1;var r=db();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,u,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:c,containerInfo:u,implementation:h}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ya.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ya.createPortal=function(c,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return i(c,u,null,h)},ya.flushSync=function(c){var u=o.T,h=s.p;try{if(o.T=null,s.p=2,c)return c()}finally{o.T=u,s.p=h,s.d.f()}},ya.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,s.d.C(c,u))},ya.prefetchDNS=function(c){typeof c=="string"&&s.d.D(c)},ya.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var h=u.as,f=l(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,x=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?s.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:x}):h==="script"&&s.d.X(c,{crossOrigin:f,integrity:g,fetchPriority:x,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ya.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=l(u.as,u.crossOrigin);s.d.M(c,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&s.d.M(c)},ya.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,f=l(h,u.crossOrigin);s.d.L(c,h,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ya.preloadModule=function(c,u){if(typeof c=="string")if(u){var h=l(u.as,u.crossOrigin);s.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else s.d.m(c)},ya.requestFormReset=function(c){s.d.r(c)},ya.unstable_batchedUpdates=function(c,u){return c(u)},ya.useFormState=function(c,u,h){return o.H.useFormState(c,u,h)},ya.useFormStatus=function(){return o.H.useHostTransitionStatus()},ya.version="19.1.1",ya}var jC;function B8(){if(jC)return cw.exports;jC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cw.exports=V8(),cw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC;function H8(){if(kC)return km;kC=1;var r=z8(),e=db(),t=B8();function s(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function i(d){var m=d,p=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(p=m.return),d=m.return;while(d)}return m.tag===3?p:null}function o(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function l(d){if(i(d)!==d)throw Error(s(188))}function c(d){var m=d.alternate;if(!m){if(m=i(d),m===null)throw Error(s(188));return m!==d?null:d}for(var p=d,w=m;;){var A=p.return;if(A===null)break;var M=A.alternate;if(M===null){if(w=A.return,w!==null){p=w;continue}break}if(A.child===M.child){for(M=A.child;M;){if(M===p)return l(A),d;if(M===w)return l(A),m;M=M.sibling}throw Error(s(188))}if(p.return!==w.return)p=A,w=M;else{for(var Y=!1,K=A.child;K;){if(K===p){Y=!0,p=A,w=M;break}if(K===w){Y=!0,w=A,p=M;break}K=K.sibling}if(!Y){for(K=M.child;K;){if(K===p){Y=!0,p=M,w=A;break}if(K===w){Y=!0,w=M,p=A;break}K=K.sibling}if(!Y)throw Error(s(189))}}if(p.alternate!==w)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?d:m}function u(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(m=u(d),m!==null)return m;d=d.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),C=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(d){return d===null||typeof d!="object"?null:(d=F&&d[F]||d["@@iterator"],typeof d=="function"?d:null)}var O=Symbol.for("react.client.reference");function V(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===O?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case y:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case _:return"Suspense";case I:return"SuspenseList";case D:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case x:return"Portal";case C:return(d.displayName||"Context")+".Provider";case k:return(d._context.displayName||"Context")+".Consumer";case R:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case P:return m=d.displayName||null,m!==null?m:V(d.type)||"Memo";case T:m=d._payload,d=d._init;try{return V(d(m))}catch{}}return null}var H=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},G=[],$=-1;function Q(d){return{current:d}}function te(d){0>$||(d.current=G[$],G[$]=null,$--)}function ne(d,m){$++,G[$]=d.current,d.current=m}var ce=Q(null),Re=Q(null),de=Q(null),Me=Q(null);function ue(d,m){switch(ne(de,m),ne(Re,d),ne(ce,null),m.nodeType){case 9:case 11:d=(d=m.documentElement)&&(d=d.namespaceURI)?$A(d):0;break;default:if(d=m.tagName,m=m.namespaceURI)m=$A(m),d=WA(m,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}te(ce),ne(ce,d)}function X(){te(ce),te(Re),te(de)}function se(d){d.memoizedState!==null&&ne(Me,d);var m=ce.current,p=WA(m,d.type);m!==p&&(ne(Re,d),ne(ce,p))}function ge(d){Re.current===d&&(te(ce),te(Re)),Me.current===d&&(te(Me),bm._currentValue=ee)}var xe=Object.prototype.hasOwnProperty,Ee=r.unstable_scheduleCallback,$e=r.unstable_cancelCallback,rt=r.unstable_shouldYield,be=r.unstable_requestPaint,Ve=r.unstable_now,st=r.unstable_getCurrentPriorityLevel,We=r.unstable_ImmediatePriority,Ge=r.unstable_UserBlockingPriority,et=r.unstable_NormalPriority,xt=r.unstable_LowPriority,es=r.unstable_IdlePriority,Gs=r.log,kr=r.unstable_setDisableYieldValue,Ft=null,lt=null;function Wt(d){if(typeof Gs=="function"&&kr(d),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Ft,d)}catch{}}var gt=Math.clz32?Math.clz32:Ot,Bt=Math.log,St=Math.LN2;function Ot(d){return d>>>=0,d===0?32:31-(Bt(d)/St|0)|0}var Yt=256,Ht=4194304;function Ks(d){var m=d&42;if(m!==0)return m;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function jt(d,m,p){var w=d.pendingLanes;if(w===0)return 0;var A=0,M=d.suspendedLanes,Y=d.pingedLanes;d=d.warmLanes;var K=w&134217727;return K!==0?(w=K&~M,w!==0?A=Ks(w):(Y&=K,Y!==0?A=Ks(Y):p||(p=K&~d,p!==0&&(A=Ks(p))))):(K=w&~M,K!==0?A=Ks(K):Y!==0?A=Ks(Y):p||(p=w&~d,p!==0&&(A=Ks(p)))),A===0?0:m!==0&&m!==A&&(m&M)===0&&(M=A&-A,p=m&-m,M>=p||M===32&&(p&4194048)!==0)?m:A}function Mt(d,m){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&m)===0}function ar(d,m){switch(d){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Is(){var d=Yt;return Yt<<=1,(Yt&4194048)===0&&(Yt=256),d}function nr(){var d=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),d}function Ds(d){for(var m=[],p=0;31>p;p++)m.push(d);return m}function Ms(d,m){d.pendingLanes|=m,m!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Os(d,m,p,w,A,M){var Y=d.pendingLanes;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=p,d.entangledLanes&=p,d.errorRecoveryDisabledLanes&=p,d.shellSuspendCounter=0;var K=d.entanglements,ae=d.expirationTimes,Ne=d.hiddenUpdates;for(p=Y&~p;0<p;){var Oe=31-gt(p),ze=1<<Oe;K[Oe]=0,ae[Oe]=-1;var Se=Ne[Oe];if(Se!==null)for(Ne[Oe]=null,Oe=0;Oe<Se.length;Oe++){var Ae=Se[Oe];Ae!==null&&(Ae.lane&=-536870913)}p&=~ze}w!==0&&Ss(d,w,0),M!==0&&A===0&&d.tag!==0&&(d.suspendedLanes|=M&~(Y&~m))}function Ss(d,m,p){d.pendingLanes|=m,d.suspendedLanes&=~m;var w=31-gt(m);d.entangledLanes|=m,d.entanglements[w]=d.entanglements[w]|1073741824|p&4194090}function Qs(d,m){var p=d.entangledLanes|=m;for(d=d.entanglements;p;){var w=31-gt(p),A=1<<w;A&m|d[w]&m&&(d[w]|=m),p&=~A}}function ps(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function tr(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function _s(){var d=q.p;return d!==0?d:(d=window.event,d===void 0?32:dC(d.type))}function we(d,m){var p=q.p;try{return q.p=d,m()}finally{q.p=p}}var he=Math.random().toString(36).slice(2),J="__reactFiber$"+he,ye="__reactProps$"+he,_e="__reactContainer$"+he,He="__reactEvents$"+he,kt="__reactListeners$"+he,ft="__reactHandles$"+he,Ut="__reactResources$"+he,Sr="__reactMarker$"+he;function _a(d){delete d[J],delete d[ye],delete d[He],delete d[kt],delete d[ft]}function wn(d){var m=d[J];if(m)return m;for(var p=d.parentNode;p;){if(m=p[_e]||p[J]){if(p=m.alternate,m.child!==null||p!==null&&p.child!==null)for(d=GA(d);d!==null;){if(p=d[J])return p;d=GA(d)}return m}d=p,p=d.parentNode}return null}function Ba(d){if(d=d[J]||d[_e]){var m=d.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return d}return null}function is(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d.stateNode;throw Error(s(33))}function Gr(d){var m=d[Ut];return m||(m=d[Ut]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function Ls(d){d[Sr]=!0}var li=new Set,ci={};function Ha(d,m){$a(d,m),$a(d+"Capture",m)}function $a(d,m){for(ci[d]=m,d=0;d<m.length;d++)li.add(m[d])}var Zs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$t={},ie={};function Fe(d){return xe.call(ie,d)?!0:xe.call($t,d)?!1:Zs.test(d)?ie[d]=!0:($t[d]=!0,!1)}function Ye(d,m,p){if(Fe(m))if(p===null)d.removeAttribute(m);else{switch(typeof p){case"undefined":case"function":case"symbol":d.removeAttribute(m);return;case"boolean":var w=m.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){d.removeAttribute(m);return}}d.setAttribute(m,""+p)}}function at(d,m,p){if(p===null)d.removeAttribute(m);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(m);return}d.setAttribute(m,""+p)}}function ht(d,m,p,w){if(w===null)d.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(p);return}d.setAttributeNS(m,p,""+w)}}var Nt,pt;function vs(d){if(Nt===void 0)try{throw Error()}catch(p){var m=p.stack.trim().match(/\n( *(at )?)/);Nt=m&&m[1]||"",pt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nt+d+pt}var Hn=!1;function zo(d,m){if(!d||Hn)return"";Hn=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(m){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Ae){var Se=Ae}Reflect.construct(d,[],ze)}else{try{ze.call()}catch(Ae){Se=Ae}d.call(ze.prototype)}}else{try{throw Error()}catch(Ae){Se=Ae}(ze=d())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Ae){if(Ae&&Se&&typeof Ae.stack=="string")return[Ae.stack,Se.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=w.DetermineComponentFrameRoot(),Y=M[0],K=M[1];if(Y&&K){var ae=Y.split(`
`),Ne=K.split(`
`);for(A=w=0;w<ae.length&&!ae[w].includes("DetermineComponentFrameRoot");)w++;for(;A<Ne.length&&!Ne[A].includes("DetermineComponentFrameRoot");)A++;if(w===ae.length||A===Ne.length)for(w=ae.length-1,A=Ne.length-1;1<=w&&0<=A&&ae[w]!==Ne[A];)A--;for(;1<=w&&0<=A;w--,A--)if(ae[w]!==Ne[A]){if(w!==1||A!==1)do if(w--,A--,0>A||ae[w]!==Ne[A]){var Oe=`
`+ae[w].replace(" at new "," at ");return d.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",d.displayName)),Oe}while(1<=w&&0<=A);break}}}finally{Hn=!1,Error.prepareStackTrace=p}return(p=d?d.displayName||d.name:"")?vs(p):""}function Vo(d){switch(d.tag){case 26:case 27:case 5:return vs(d.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 15:return zo(d.type,!1);case 11:return zo(d.type.render,!1);case 1:return zo(d.type,!0);case 31:return vs("Activity");default:return""}}function Ed(d){try{var m="";do m+=Vo(d),d=d.return;while(d);return m}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Aa(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function _h(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function ly(d){var m=_h(d)?"checked":"value",p=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),w=""+d[m];if(!d.hasOwnProperty(m)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var A=p.get,M=p.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return A.call(this)},set:function(Y){w=""+Y,M.call(this,Y)}}),Object.defineProperty(d,m,{enumerable:p.enumerable}),{getValue:function(){return w},setValue:function(Y){w=""+Y},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Td(d){d._valueTracker||(d._valueTracker=ly(d))}function Ah(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var p=m.getValue(),w="";return d&&(w=_h(d)?d.checked?"true":"false":d.value),d=w,d!==p?(m.setValue(d),!0):!1}function Jl(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var cy=/[\n"\\]/g;function Ir(d){return d.replace(cy,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function an(d,m,p,w,A,M,Y,K){d.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?d.type=Y:d.removeAttribute("type"),m!=null?Y==="number"?(m===0&&d.value===""||d.value!=m)&&(d.value=""+Aa(m)):d.value!==""+Aa(m)&&(d.value=""+Aa(m)):Y!=="submit"&&Y!=="reset"||d.removeAttribute("value"),m!=null?Bo(d,Y,Aa(m)):p!=null?Bo(d,Y,Aa(p)):w!=null&&d.removeAttribute("value"),A==null&&M!=null&&(d.defaultChecked=!!M),A!=null&&(d.checked=A&&typeof A!="function"&&typeof A!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?d.name=""+Aa(K):d.removeAttribute("name")}function ec(d,m,p,w,A,M,Y,K){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(d.type=M),m!=null||p!=null){if(!(M!=="submit"&&M!=="reset"||m!=null))return;p=p!=null?""+Aa(p):"",m=m!=null?""+Aa(m):p,K||m===d.value||(d.value=m),d.defaultValue=m}w=w??A,w=typeof w!="function"&&typeof w!="symbol"&&!!w,d.checked=K?d.checked:!!w,d.defaultChecked=!!w,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(d.name=Y)}function Bo(d,m,p){m==="number"&&Jl(d.ownerDocument)===d||d.defaultValue===""+p||(d.defaultValue=""+p)}function Ki(d,m,p,w){if(d=d.options,m){m={};for(var A=0;A<p.length;A++)m["$"+p[A]]=!0;for(p=0;p<d.length;p++)A=m.hasOwnProperty("$"+d[p].value),d[p].selected!==A&&(d[p].selected=A),A&&w&&(d[p].defaultSelected=!0)}else{for(p=""+Aa(p),m=null,A=0;A<d.length;A++){if(d[A].value===p){d[A].selected=!0,w&&(d[A].defaultSelected=!0);return}m!==null||d[A].disabled||(m=d[A])}m!==null&&(m.selected=!0)}}function Bs(d,m,p){if(m!=null&&(m=""+Aa(m),m!==d.value&&(d.value=m),p==null)){d.defaultValue!==m&&(d.defaultValue=m);return}d.defaultValue=p!=null?""+Aa(p):""}function tc(d,m,p,w){if(m==null){if(w!=null){if(p!=null)throw Error(s(92));if(H(w)){if(1<w.length)throw Error(s(93));w=w[0]}p=w}p==null&&(p=""),m=p}p=Aa(m),d.defaultValue=p,w=d.textContent,w===p&&w!==""&&w!==null&&(d.value=w)}function Nn(d,m){if(m){var p=d.firstChild;if(p&&p===d.lastChild&&p.nodeType===3){p.nodeValue=m;return}}d.textContent=m}var sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vg(d,m,p){var w=m.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?w?d.setProperty(m,""):m==="float"?d.cssFloat="":d[m]="":w?d.setProperty(m,p):typeof p!="number"||p===0||sc.has(m)?m==="float"?d.cssFloat=p:d[m]=(""+p).trim():d[m]=p+"px"}function Ch(d,m,p){if(m!=null&&typeof m!="object")throw Error(s(62));if(d=d.style,p!=null){for(var w in p)!p.hasOwnProperty(w)||m!=null&&m.hasOwnProperty(w)||(w.indexOf("--")===0?d.setProperty(w,""):w==="float"?d.cssFloat="":d[w]="");for(var A in m)w=m[A],m.hasOwnProperty(A)&&p[A]!==w&&Vg(d,A,w)}else for(var M in m)m.hasOwnProperty(M)&&Vg(d,M,m[M])}function Eh(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pd(d){return uy.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var Qi=null;function jn(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Zi=null,Ji=null;function Th(d){var m=Ba(d);if(m&&(d=m.stateNode)){var p=d[ye]||null;e:switch(d=m.stateNode,m.type){case"input":if(an(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),m=p.name,p.type==="radio"&&m!=null){for(p=d;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Ir(""+m)+'"][type="radio"]'),m=0;m<p.length;m++){var w=p[m];if(w!==d&&w.form===d.form){var A=w[ye]||null;if(!A)throw Error(s(90));an(w,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(m=0;m<p.length;m++)w=p[m],w.form===d.form&&Ah(w)}break e;case"textarea":Bs(d,p.value,p.defaultValue);break e;case"select":m=p.value,m!=null&&Ki(d,!!p.multiple,m,!1)}}}var di=!1;function Bg(d,m,p){if(di)return d(m,p);di=!0;try{var w=d(m);return w}finally{if(di=!1,(Zi!==null||Ji!==null)&&(Mp(),Zi&&(m=Zi,d=Ji,Ji=Zi=null,Th(m),d)))for(m=0;m<d.length;m++)Th(d[m])}}function rc(d,m){var p=d.stateNode;if(p===null)return null;var w=p[ye]||null;if(w===null)return null;p=w[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(d=d.type,w=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!w;break e;default:d=!1}if(d)return null;if(p&&typeof p!="function")throw Error(s(231,m,typeof p));return p}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if($n)try{var ac={};Object.defineProperty(ac,"passive",{get:function(){kn=!0}}),window.addEventListener("test",ac,ac),window.removeEventListener("test",ac,ac)}catch{kn=!1}var ui=null,Ho=null,eo=null;function Ph(){if(eo)return eo;var d,m=Ho,p=m.length,w,A="value"in ui?ui.value:ui.textContent,M=A.length;for(d=0;d<p&&m[d]===A[d];d++);var Y=p-d;for(w=1;w<=Y&&m[p-w]===A[M-w];w++);return eo=A.slice(d,1<w?1-w:void 0)}function hi(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function mi(){return!0}function Rh(){return!1}function Kr(d){function m(p,w,A,M,Y){this._reactName=p,this._targetInst=A,this.type=w,this.nativeEvent=M,this.target=Y,this.currentTarget=null;for(var K in d)d.hasOwnProperty(K)&&(p=d[K],this[K]=p?p(M):M[K]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?mi:Rh,this.isPropagationStopped=Rh,this}return h(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),m}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rd=Kr(As),nc=h({},As,{view:0,detail:0}),Hg=Kr(nc),Id,Dd,fi,ic=h({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==fi&&(fi&&d.type==="mousemove"?(Id=d.screenX-fi.screenX,Dd=d.screenY-fi.screenY):Dd=Id=0,fi=d),Id)},movementY:function(d){return"movementY"in d?d.movementY:Dd}}),Sn=Kr(ic),$g=h({},ic,{dataTransfer:0}),hy=Kr($g),oc=h({},nc,{relatedTarget:0}),Md=Kr(oc),Ih=h({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Od=Kr(Ih),Wg=h({},As,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Ld=Kr(Wg),my=h({},As,{data:0}),Dh=Kr(my),lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mh(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=qg[d])?!!m[d]:!1}function cc(){return Mh}var Xg=h({},nc,{key:function(d){if(d.key){var m=lc[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=hi(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Yg[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(d){return d.type==="keypress"?hi(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?hi(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Fd=Kr(Xg),Gg=h({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oh=Kr(Gg),to=h({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),Kg=Kr(to),Qg=h({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zg=Kr(Qg),Jg=h({},ic,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Ud=Kr(Jg),Ca=h({},As,{newState:0,oldState:0}),ep=Kr(Ca),tp=[9,13,27,32],gi=$n&&"CompositionEvent"in window,S=null;$n&&"documentMode"in document&&(S=document.documentMode);var U=$n&&"TextEvent"in window&&!S,W=$n&&(!gi||S&&8<S&&11>=S),Z=" ",pe=!1;function Te(d,m){switch(d){case"keyup":return tp.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qe(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var os=!1;function Vr(d,m){switch(d){case"compositionend":return Qe(m);case"keypress":return m.which!==32?null:(pe=!0,Z);case"textInput":return d=m.data,d===Z&&pe?null:d;default:return null}}function ls(d,m){if(os)return d==="compositionend"||!gi&&Te(d,m)?(d=Ph(),eo=Ho=ui=null,os=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return W&&m.locale!=="ko"?null:m.data;default:return null}}var Qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Br(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!Qr[d.type]:m==="textarea"}function so(d,m,p,w){Zi?Ji?Ji.push(w):Ji=[w]:Zi=w,m=Vp(m,"onChange"),0<m.length&&(p=new Rd("onChange","change",null,p,w),d.push({event:p,listeners:m}))}var na=null,pi=null;function Lh(d){UA(d,0)}function sp(d){var m=is(d);if(Ah(m))return d}function iS(d,m){if(d==="change")return m}var oS=!1;if($n){var fy;if($n){var gy="oninput"in document;if(!gy){var lS=document.createElement("div");lS.setAttribute("oninput","return;"),gy=typeof lS.oninput=="function"}fy=gy}else fy=!1;oS=fy&&(!document.documentMode||9<document.documentMode)}function cS(){na&&(na.detachEvent("onpropertychange",dS),pi=na=null)}function dS(d){if(d.propertyName==="value"&&sp(pi)){var m=[];so(m,pi,d,jn(d)),Bg(Lh,m)}}function uF(d,m,p){d==="focusin"?(cS(),na=m,pi=p,na.attachEvent("onpropertychange",dS)):d==="focusout"&&cS()}function hF(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return sp(pi)}function mF(d,m){if(d==="click")return sp(m)}function fF(d,m){if(d==="input"||d==="change")return sp(m)}function gF(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var nn=typeof Object.is=="function"?Object.is:gF;function Fh(d,m){if(nn(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var p=Object.keys(d),w=Object.keys(m);if(p.length!==w.length)return!1;for(w=0;w<p.length;w++){var A=p[w];if(!xe.call(m,A)||!nn(d[A],m[A]))return!1}return!0}function uS(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function hS(d,m){var p=uS(d);d=0;for(var w;p;){if(p.nodeType===3){if(w=d+p.textContent.length,d<=m&&w>=m)return{node:p,offset:m-d};d=w}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=uS(p)}}function mS(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?mS(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function fS(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var m=Jl(d.document);m instanceof d.HTMLIFrameElement;){try{var p=typeof m.contentWindow.location.href=="string"}catch{p=!1}if(p)d=m.contentWindow;else break;m=Jl(d.document)}return m}function py(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}var pF=$n&&"documentMode"in document&&11>=document.documentMode,zd=null,xy=null,Uh=null,by=!1;function gS(d,m,p){var w=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;by||zd==null||zd!==Jl(w)||(w=zd,"selectionStart"in w&&py(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Uh&&Fh(Uh,w)||(Uh=w,w=Vp(xy,"onSelect"),0<w.length&&(m=new Rd("onSelect","select",null,m,p),d.push({event:m,listeners:w}),m.target=zd)))}function dc(d,m){var p={};return p[d.toLowerCase()]=m.toLowerCase(),p["Webkit"+d]="webkit"+m,p["Moz"+d]="moz"+m,p}var Vd={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionrun:dc("Transition","TransitionRun"),transitionstart:dc("Transition","TransitionStart"),transitioncancel:dc("Transition","TransitionCancel"),transitionend:dc("Transition","TransitionEnd")},yy={},pS={};$n&&(pS=document.createElement("div").style,"AnimationEvent"in window||(delete Vd.animationend.animation,delete Vd.animationiteration.animation,delete Vd.animationstart.animation),"TransitionEvent"in window||delete Vd.transitionend.transition);function uc(d){if(yy[d])return yy[d];if(!Vd[d])return d;var m=Vd[d],p;for(p in m)if(m.hasOwnProperty(p)&&p in pS)return yy[d]=m[p];return d}var xS=uc("animationend"),bS=uc("animationiteration"),yS=uc("animationstart"),xF=uc("transitionrun"),bF=uc("transitionstart"),yF=uc("transitioncancel"),vS=uc("transitionend"),wS=new Map,vy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vy.push("scrollEnd");function Wn(d,m){wS.set(d,m),Ha(m,[d])}var NS=new WeakMap;function _n(d,m){if(typeof d=="object"&&d!==null){var p=NS.get(d);return p!==void 0?p:(m={value:d,source:m,stack:Ed(m)},NS.set(d,m),m)}return{value:d,source:m,stack:Ed(m)}}var An=[],Bd=0,wy=0;function rp(){for(var d=Bd,m=wy=Bd=0;m<d;){var p=An[m];An[m++]=null;var w=An[m];An[m++]=null;var A=An[m];An[m++]=null;var M=An[m];if(An[m++]=null,w!==null&&A!==null){var Y=w.pending;Y===null?A.next=A:(A.next=Y.next,Y.next=A),w.pending=A}M!==0&&jS(p,A,M)}}function ap(d,m,p,w){An[Bd++]=d,An[Bd++]=m,An[Bd++]=p,An[Bd++]=w,wy|=w,d.lanes|=w,d=d.alternate,d!==null&&(d.lanes|=w)}function Ny(d,m,p,w){return ap(d,m,p,w),np(d)}function Hd(d,m){return ap(d,null,null,m),np(d)}function jS(d,m,p){d.lanes|=p;var w=d.alternate;w!==null&&(w.lanes|=p);for(var A=!1,M=d.return;M!==null;)M.childLanes|=p,w=M.alternate,w!==null&&(w.childLanes|=p),M.tag===22&&(d=M.stateNode,d===null||d._visibility&1||(A=!0)),d=M,M=M.return;return d.tag===3?(M=d.stateNode,A&&m!==null&&(A=31-gt(p),d=M.hiddenUpdates,w=d[A],w===null?d[A]=[m]:w.push(m),m.lane=p|536870912),M):null}function np(d){if(50<dm)throw dm=0,Cv=null,Error(s(185));for(var m=d.return;m!==null;)d=m,m=d.return;return d.tag===3?d.stateNode:null}var $d={};function vF(d,m,p,w){this.tag=d,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(d,m,p,w){return new vF(d,m,p,w)}function jy(d){return d=d.prototype,!(!d||!d.isReactComponent)}function ro(d,m){var p=d.alternate;return p===null?(p=on(d.tag,m,d.key,d.mode),p.elementType=d.elementType,p.type=d.type,p.stateNode=d.stateNode,p.alternate=d,d.alternate=p):(p.pendingProps=m,p.type=d.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=d.flags&65011712,p.childLanes=d.childLanes,p.lanes=d.lanes,p.child=d.child,p.memoizedProps=d.memoizedProps,p.memoizedState=d.memoizedState,p.updateQueue=d.updateQueue,m=d.dependencies,p.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},p.sibling=d.sibling,p.index=d.index,p.ref=d.ref,p.refCleanup=d.refCleanup,p}function kS(d,m){d.flags&=65011714;var p=d.alternate;return p===null?(d.childLanes=0,d.lanes=m,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,m=p.dependencies,d.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),d}function ip(d,m,p,w,A,M){var Y=0;if(w=d,typeof d=="function")jy(d)&&(Y=1);else if(typeof d=="string")Y=N8(d,p,ce.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case D:return d=on(31,p,m,A),d.elementType=D,d.lanes=M,d;case y:return hc(p.children,A,M,m);case b:Y=8,A|=24;break;case v:return d=on(12,p,m,A|2),d.elementType=v,d.lanes=M,d;case _:return d=on(13,p,m,A),d.elementType=_,d.lanes=M,d;case I:return d=on(19,p,m,A),d.elementType=I,d.lanes=M,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case N:case C:Y=10;break e;case k:Y=9;break e;case R:Y=11;break e;case P:Y=14;break e;case T:Y=16,w=null;break e}Y=29,p=Error(s(130,d===null?"null":typeof d,"")),w=null}return m=on(Y,p,m,A),m.elementType=d,m.type=w,m.lanes=M,m}function hc(d,m,p,w){return d=on(7,d,w,m),d.lanes=p,d}function ky(d,m,p){return d=on(6,d,null,m),d.lanes=p,d}function Sy(d,m,p){return m=on(4,d.children!==null?d.children:[],d.key,m),m.lanes=p,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}var Wd=[],Yd=0,op=null,lp=0,Cn=[],En=0,mc=null,ao=1,no="";function fc(d,m){Wd[Yd++]=lp,Wd[Yd++]=op,op=d,lp=m}function SS(d,m,p){Cn[En++]=ao,Cn[En++]=no,Cn[En++]=mc,mc=d;var w=ao;d=no;var A=32-gt(w)-1;w&=~(1<<A),p+=1;var M=32-gt(m)+A;if(30<M){var Y=A-A%5;M=(w&(1<<Y)-1).toString(32),w>>=Y,A-=Y,ao=1<<32-gt(m)+A|p<<A|w,no=M+d}else ao=1<<M|p<<A|w,no=d}function _y(d){d.return!==null&&(fc(d,1),SS(d,1,0))}function Ay(d){for(;d===op;)op=Wd[--Yd],Wd[Yd]=null,lp=Wd[--Yd],Wd[Yd]=null;for(;d===mc;)mc=Cn[--En],Cn[En]=null,no=Cn[--En],Cn[En]=null,ao=Cn[--En],Cn[En]=null}var Ea=null,pr=null,ws=!1,gc=null,xi=!1,Cy=Error(s(519));function pc(d){var m=Error(s(418,""));throw Bh(_n(m,d)),Cy}function _S(d){var m=d.stateNode,p=d.type,w=d.memoizedProps;switch(m[J]=d,m[ye]=w,p){case"dialog":ss("cancel",m),ss("close",m);break;case"iframe":case"object":case"embed":ss("load",m);break;case"video":case"audio":for(p=0;p<hm.length;p++)ss(hm[p],m);break;case"source":ss("error",m);break;case"img":case"image":case"link":ss("error",m),ss("load",m);break;case"details":ss("toggle",m);break;case"input":ss("invalid",m),ec(m,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),Td(m);break;case"select":ss("invalid",m);break;case"textarea":ss("invalid",m),tc(m,w.value,w.defaultValue,w.children),Td(m)}p=w.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||m.textContent===""+p||w.suppressHydrationWarning===!0||HA(m.textContent,p)?(w.popover!=null&&(ss("beforetoggle",m),ss("toggle",m)),w.onScroll!=null&&ss("scroll",m),w.onScrollEnd!=null&&ss("scrollend",m),w.onClick!=null&&(m.onclick=Bp),m=!0):m=!1,m||pc(d)}function AS(d){for(Ea=d.return;Ea;)switch(Ea.tag){case 5:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Ea=Ea.return}}function zh(d){if(d!==Ea)return!1;if(!ws)return AS(d),ws=!0,!1;var m=d.tag,p;if((p=m!==3&&m!==27)&&((p=m===5)&&(p=d.type,p=!(p!=="form"&&p!=="button")||$v(d.type,d.memoizedProps)),p=!p),p&&pr&&pc(d),AS(d),m===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8)if(p=d.data,p==="/$"){if(m===0){pr=qn(d.nextSibling);break e}m--}else p!=="$"&&p!=="$!"&&p!=="$?"||m++;d=d.nextSibling}pr=null}}else m===27?(m=pr,nl(d.type)?(d=Xv,Xv=null,pr=d):pr=m):pr=Ea?qn(d.stateNode.nextSibling):null;return!0}function Vh(){pr=Ea=null,ws=!1}function CS(){var d=gc;return d!==null&&(qa===null?qa=d:qa.push.apply(qa,d),gc=null),d}function Bh(d){gc===null?gc=[d]:gc.push(d)}var Ey=Q(null),xc=null,io=null;function $o(d,m,p){ne(Ey,m._currentValue),m._currentValue=p}function oo(d){d._currentValue=Ey.current,te(Ey)}function Ty(d,m,p){for(;d!==null;){var w=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,w!==null&&(w.childLanes|=m)):w!==null&&(w.childLanes&m)!==m&&(w.childLanes|=m),d===p)break;d=d.return}}function Py(d,m,p,w){var A=d.child;for(A!==null&&(A.return=d);A!==null;){var M=A.dependencies;if(M!==null){var Y=A.child;M=M.firstContext;e:for(;M!==null;){var K=M;M=A;for(var ae=0;ae<m.length;ae++)if(K.context===m[ae]){M.lanes|=p,K=M.alternate,K!==null&&(K.lanes|=p),Ty(M.return,p,d),w||(Y=null);break e}M=K.next}}else if(A.tag===18){if(Y=A.return,Y===null)throw Error(s(341));Y.lanes|=p,M=Y.alternate,M!==null&&(M.lanes|=p),Ty(Y,p,d),Y=null}else Y=A.child;if(Y!==null)Y.return=A;else for(Y=A;Y!==null;){if(Y===d){Y=null;break}if(A=Y.sibling,A!==null){A.return=Y.return,Y=A;break}Y=Y.return}A=Y}}function Hh(d,m,p,w){d=null;for(var A=m,M=!1;A!==null;){if(!M){if((A.flags&524288)!==0)M=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var Y=A.alternate;if(Y===null)throw Error(s(387));if(Y=Y.memoizedProps,Y!==null){var K=A.type;nn(A.pendingProps.value,Y.value)||(d!==null?d.push(K):d=[K])}}else if(A===Me.current){if(Y=A.alternate,Y===null)throw Error(s(387));Y.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(d!==null?d.push(bm):d=[bm])}A=A.return}d!==null&&Py(m,d,p,w),m.flags|=262144}function cp(d){for(d=d.firstContext;d!==null;){if(!nn(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function bc(d){xc=d,io=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function ba(d){return ES(xc,d)}function dp(d,m){return xc===null&&bc(d),ES(d,m)}function ES(d,m){var p=m._currentValue;if(m={context:m,memoizedValue:p,next:null},io===null){if(d===null)throw Error(s(308));io=m,d.dependencies={lanes:0,firstContext:m},d.flags|=524288}else io=io.next=m;return p}var wF=typeof AbortController<"u"?AbortController:function(){var d=[],m=this.signal={aborted:!1,addEventListener:function(p,w){d.push(w)}};this.abort=function(){m.aborted=!0,d.forEach(function(p){return p()})}},NF=r.unstable_scheduleCallback,jF=r.unstable_NormalPriority,Hr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ry(){return{controller:new wF,data:new Map,refCount:0}}function $h(d){d.refCount--,d.refCount===0&&NF(jF,function(){d.controller.abort()})}var Wh=null,Iy=0,qd=0,Xd=null;function kF(d,m){if(Wh===null){var p=Wh=[];Iy=0,qd=Mv(),Xd={status:"pending",value:void 0,then:function(w){p.push(w)}}}return Iy++,m.then(TS,TS),m}function TS(){if(--Iy===0&&Wh!==null){Xd!==null&&(Xd.status="fulfilled");var d=Wh;Wh=null,qd=0,Xd=null;for(var m=0;m<d.length;m++)(0,d[m])()}}function SF(d,m){var p=[],w={status:"pending",value:null,reason:null,then:function(A){p.push(A)}};return d.then(function(){w.status="fulfilled",w.value=m;for(var A=0;A<p.length;A++)(0,p[A])(m)},function(A){for(w.status="rejected",w.reason=A,A=0;A<p.length;A++)(0,p[A])(void 0)}),w}var PS=B.S;B.S=function(d,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&kF(d,m),PS!==null&&PS(d,m)};var yc=Q(null);function Dy(){var d=yc.current;return d!==null?d:sr.pooledCache}function up(d,m){m===null?ne(yc,yc.current):ne(yc,m.pool)}function RS(){var d=Dy();return d===null?null:{parent:Hr._currentValue,pool:d}}var Yh=Error(s(460)),IS=Error(s(474)),hp=Error(s(542)),My={then:function(){}};function DS(d){return d=d.status,d==="fulfilled"||d==="rejected"}function mp(){}function MS(d,m,p){switch(p=d[p],p===void 0?d.push(m):p!==m&&(m.then(mp,mp),m=p),m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,LS(d),d;default:if(typeof m.status=="string")m.then(mp,mp);else{if(d=sr,d!==null&&100<d.shellSuspendCounter)throw Error(s(482));d=m,d.status="pending",d.then(function(w){if(m.status==="pending"){var A=m;A.status="fulfilled",A.value=w}},function(w){if(m.status==="pending"){var A=m;A.status="rejected",A.reason=w}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,LS(d),d}throw qh=m,Yh}}var qh=null;function OS(){if(qh===null)throw Error(s(459));var d=qh;return qh=null,d}function LS(d){if(d===Yh||d===hp)throw Error(s(483))}var Wo=!1;function Oy(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ly(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Yo(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function qo(d,m,p){var w=d.updateQueue;if(w===null)return null;if(w=w.shared,(Fs&2)!==0){var A=w.pending;return A===null?m.next=m:(m.next=A.next,A.next=m),w.pending=m,m=np(d),jS(d,null,p),m}return ap(d,w,m,p),np(d)}function Xh(d,m,p){if(m=m.updateQueue,m!==null&&(m=m.shared,(p&4194048)!==0)){var w=m.lanes;w&=d.pendingLanes,p|=w,m.lanes=p,Qs(d,p)}}function Fy(d,m){var p=d.updateQueue,w=d.alternate;if(w!==null&&(w=w.updateQueue,p===w)){var A=null,M=null;if(p=p.firstBaseUpdate,p!==null){do{var Y={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};M===null?A=M=Y:M=M.next=Y,p=p.next}while(p!==null);M===null?A=M=m:M=M.next=m}else A=M=m;p={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:M,shared:w.shared,callbacks:w.callbacks},d.updateQueue=p;return}d=p.lastBaseUpdate,d===null?p.firstBaseUpdate=m:d.next=m,p.lastBaseUpdate=m}var Uy=!1;function Gh(){if(Uy){var d=Xd;if(d!==null)throw d}}function Kh(d,m,p,w){Uy=!1;var A=d.updateQueue;Wo=!1;var M=A.firstBaseUpdate,Y=A.lastBaseUpdate,K=A.shared.pending;if(K!==null){A.shared.pending=null;var ae=K,Ne=ae.next;ae.next=null,Y===null?M=Ne:Y.next=Ne,Y=ae;var Oe=d.alternate;Oe!==null&&(Oe=Oe.updateQueue,K=Oe.lastBaseUpdate,K!==Y&&(K===null?Oe.firstBaseUpdate=Ne:K.next=Ne,Oe.lastBaseUpdate=ae))}if(M!==null){var ze=A.baseState;Y=0,Oe=Ne=ae=null,K=M;do{var Se=K.lane&-536870913,Ae=Se!==K.lane;if(Ae?(cs&Se)===Se:(w&Se)===Se){Se!==0&&Se===qd&&(Uy=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var Pt=d,Ct=K;Se=m;var Ws=p;switch(Ct.tag){case 1:if(Pt=Ct.payload,typeof Pt=="function"){ze=Pt.call(Ws,ze,Se);break e}ze=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Ct.payload,Se=typeof Pt=="function"?Pt.call(Ws,ze,Se):Pt,Se==null)break e;ze=h({},ze,Se);break e;case 2:Wo=!0}}Se=K.callback,Se!==null&&(d.flags|=64,Ae&&(d.flags|=8192),Ae=A.callbacks,Ae===null?A.callbacks=[Se]:Ae.push(Se))}else Ae={lane:Se,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Oe===null?(Ne=Oe=Ae,ae=ze):Oe=Oe.next=Ae,Y|=Se;if(K=K.next,K===null){if(K=A.shared.pending,K===null)break;Ae=K,K=Ae.next,Ae.next=null,A.lastBaseUpdate=Ae,A.shared.pending=null}}while(!0);Oe===null&&(ae=ze),A.baseState=ae,A.firstBaseUpdate=Ne,A.lastBaseUpdate=Oe,M===null&&(A.shared.lanes=0),tl|=Y,d.lanes=Y,d.memoizedState=ze}}function FS(d,m){if(typeof d!="function")throw Error(s(191,d));d.call(m)}function US(d,m){var p=d.callbacks;if(p!==null)for(d.callbacks=null,d=0;d<p.length;d++)FS(p[d],m)}var Gd=Q(null),fp=Q(0);function zS(d,m){d=go,ne(fp,d),ne(Gd,m),go=d|m.baseLanes}function zy(){ne(fp,go),ne(Gd,Gd.current)}function Vy(){go=fp.current,te(Gd),te(fp)}var Xo=0,qt=null,Hs=null,Dr=null,gp=!1,Kd=!1,vc=!1,pp=0,Qh=0,Qd=null,_F=0;function _r(){throw Error(s(321))}function By(d,m){if(m===null)return!1;for(var p=0;p<m.length&&p<d.length;p++)if(!nn(d[p],m[p]))return!1;return!0}function Hy(d,m,p,w,A,M){return Xo=M,qt=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,B.H=d===null||d.memoizedState===null?j_:k_,vc=!1,M=p(w,A),vc=!1,Kd&&(M=BS(m,p,w,A)),VS(d),M}function VS(d){B.H=Np;var m=Hs!==null&&Hs.next!==null;if(Xo=0,Dr=Hs=qt=null,gp=!1,Qh=0,Qd=null,m)throw Error(s(300));d===null||Zr||(d=d.dependencies,d!==null&&cp(d)&&(Zr=!0))}function BS(d,m,p,w){qt=d;var A=0;do{if(Kd&&(Qd=null),Qh=0,Kd=!1,25<=A)throw Error(s(301));if(A+=1,Dr=Hs=null,d.updateQueue!=null){var M=d.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}B.H=IF,M=m(p,w)}while(Kd);return M}function AF(){var d=B.H,m=d.useState()[0];return m=typeof m.then=="function"?Zh(m):m,d=d.useState()[0],(Hs!==null?Hs.memoizedState:null)!==d&&(qt.flags|=1024),m}function $y(){var d=pp!==0;return pp=0,d}function Wy(d,m,p){m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~p}function Yy(d){if(gp){for(d=d.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}gp=!1}Xo=0,Dr=Hs=qt=null,Kd=!1,Qh=pp=0,Qd=null}function Wa(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?qt.memoizedState=Dr=d:Dr=Dr.next=d,Dr}function Mr(){if(Hs===null){var d=qt.alternate;d=d!==null?d.memoizedState:null}else d=Hs.next;var m=Dr===null?qt.memoizedState:Dr.next;if(m!==null)Dr=m,Hs=d;else{if(d===null)throw qt.alternate===null?Error(s(467)):Error(s(310));Hs=d,d={memoizedState:Hs.memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},Dr===null?qt.memoizedState=Dr=d:Dr=Dr.next=d}return Dr}function qy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zh(d){var m=Qh;return Qh+=1,Qd===null&&(Qd=[]),d=MS(Qd,d,m),m=qt,(Dr===null?m.memoizedState:Dr.next)===null&&(m=m.alternate,B.H=m===null||m.memoizedState===null?j_:k_),d}function xp(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Zh(d);if(d.$$typeof===C)return ba(d)}throw Error(s(438,String(d)))}function Xy(d){var m=null,p=qt.updateQueue;if(p!==null&&(m=p.memoCache),m==null){var w=qt.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(m={data:w.data.map(function(A){return A.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),p===null&&(p=qy(),qt.updateQueue=p),p.memoCache=m,p=m.data[m.index],p===void 0)for(p=m.data[m.index]=Array(d),w=0;w<d;w++)p[w]=L;return m.index++,p}function lo(d,m){return typeof m=="function"?m(d):m}function bp(d){var m=Mr();return Gy(m,Hs,d)}function Gy(d,m,p){var w=d.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=p;var A=d.baseQueue,M=w.pending;if(M!==null){if(A!==null){var Y=A.next;A.next=M.next,M.next=Y}m.baseQueue=A=M,w.pending=null}if(M=d.baseState,A===null)d.memoizedState=M;else{m=A.next;var K=Y=null,ae=null,Ne=m,Oe=!1;do{var ze=Ne.lane&-536870913;if(ze!==Ne.lane?(cs&ze)===ze:(Xo&ze)===ze){var Se=Ne.revertLane;if(Se===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),ze===qd&&(Oe=!0);else if((Xo&Se)===Se){Ne=Ne.next,Se===qd&&(Oe=!0);continue}else ze={lane:0,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ae===null?(K=ae=ze,Y=M):ae=ae.next=ze,qt.lanes|=Se,tl|=Se;ze=Ne.action,vc&&p(M,ze),M=Ne.hasEagerState?Ne.eagerState:p(M,ze)}else Se={lane:ze,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ae===null?(K=ae=Se,Y=M):ae=ae.next=Se,qt.lanes|=ze,tl|=ze;Ne=Ne.next}while(Ne!==null&&Ne!==m);if(ae===null?Y=M:ae.next=K,!nn(M,d.memoizedState)&&(Zr=!0,Oe&&(p=Xd,p!==null)))throw p;d.memoizedState=M,d.baseState=Y,d.baseQueue=ae,w.lastRenderedState=M}return A===null&&(w.lanes=0),[d.memoizedState,w.dispatch]}function Ky(d){var m=Mr(),p=m.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=d;var w=p.dispatch,A=p.pending,M=m.memoizedState;if(A!==null){p.pending=null;var Y=A=A.next;do M=d(M,Y.action),Y=Y.next;while(Y!==A);nn(M,m.memoizedState)||(Zr=!0),m.memoizedState=M,m.baseQueue===null&&(m.baseState=M),p.lastRenderedState=M}return[M,w]}function HS(d,m,p){var w=qt,A=Mr(),M=ws;if(M){if(p===void 0)throw Error(s(407));p=p()}else p=m();var Y=!nn((Hs||A).memoizedState,p);Y&&(A.memoizedState=p,Zr=!0),A=A.queue;var K=YS.bind(null,w,A,d);if(Jh(2048,8,K,[d]),A.getSnapshot!==m||Y||Dr!==null&&Dr.memoizedState.tag&1){if(w.flags|=2048,Zd(9,yp(),WS.bind(null,w,A,p,m),null),sr===null)throw Error(s(349));M||(Xo&124)!==0||$S(w,m,p)}return p}function $S(d,m,p){d.flags|=16384,d={getSnapshot:m,value:p},m=qt.updateQueue,m===null?(m=qy(),qt.updateQueue=m,m.stores=[d]):(p=m.stores,p===null?m.stores=[d]:p.push(d))}function WS(d,m,p,w){m.value=p,m.getSnapshot=w,qS(m)&&XS(d)}function YS(d,m,p){return p(function(){qS(m)&&XS(d)})}function qS(d){var m=d.getSnapshot;d=d.value;try{var p=m();return!nn(d,p)}catch{return!0}}function XS(d){var m=Hd(d,2);m!==null&&hn(m,d,2)}function Qy(d){var m=Wa();if(typeof d=="function"){var p=d;if(d=p(),vc){Wt(!0);try{p()}finally{Wt(!1)}}}return m.memoizedState=m.baseState=d,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:d},m}function GS(d,m,p,w){return d.baseState=p,Gy(d,Hs,typeof w=="function"?w:lo)}function CF(d,m,p,w,A){if(wp(d))throw Error(s(485));if(d=m.action,d!==null){var M={payload:A,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){M.listeners.push(Y)}};B.T!==null?p(!0):M.isTransition=!1,w(M),p=m.pending,p===null?(M.next=m.pending=M,KS(m,M)):(M.next=p.next,m.pending=p.next=M)}}function KS(d,m){var p=m.action,w=m.payload,A=d.state;if(m.isTransition){var M=B.T,Y={};B.T=Y;try{var K=p(A,w),ae=B.S;ae!==null&&ae(Y,K),QS(d,m,K)}catch(Ne){Zy(d,m,Ne)}finally{B.T=M}}else try{M=p(A,w),QS(d,m,M)}catch(Ne){Zy(d,m,Ne)}}function QS(d,m,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(w){ZS(d,m,w)},function(w){return Zy(d,m,w)}):ZS(d,m,p)}function ZS(d,m,p){m.status="fulfilled",m.value=p,JS(m),d.state=p,m=d.pending,m!==null&&(p=m.next,p===m?d.pending=null:(p=p.next,m.next=p,KS(d,p)))}function Zy(d,m,p){var w=d.pending;if(d.pending=null,w!==null){w=w.next;do m.status="rejected",m.reason=p,JS(m),m=m.next;while(m!==w)}d.action=null}function JS(d){d=d.listeners;for(var m=0;m<d.length;m++)(0,d[m])()}function e_(d,m){return m}function t_(d,m){if(ws){var p=sr.formState;if(p!==null){e:{var w=qt;if(ws){if(pr){t:{for(var A=pr,M=xi;A.nodeType!==8;){if(!M){A=null;break t}if(A=qn(A.nextSibling),A===null){A=null;break t}}M=A.data,A=M==="F!"||M==="F"?A:null}if(A){pr=qn(A.nextSibling),w=A.data==="F!";break e}}pc(w)}w=!1}w&&(m=p[0])}}return p=Wa(),p.memoizedState=p.baseState=m,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:m},p.queue=w,p=v_.bind(null,qt,w),w.dispatch=p,w=Qy(!1),M=rv.bind(null,qt,!1,w.queue),w=Wa(),A={state:m,dispatch:null,action:d,pending:null},w.queue=A,p=CF.bind(null,qt,A,M,p),A.dispatch=p,w.memoizedState=d,[m,p,!1]}function s_(d){var m=Mr();return r_(m,Hs,d)}function r_(d,m,p){if(m=Gy(d,m,e_)[0],d=bp(lo)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var w=Zh(m)}catch(Y){throw Y===Yh?hp:Y}else w=m;m=Mr();var A=m.queue,M=A.dispatch;return p!==m.memoizedState&&(qt.flags|=2048,Zd(9,yp(),EF.bind(null,A,p),null)),[w,M,d]}function EF(d,m){d.action=m}function a_(d){var m=Mr(),p=Hs;if(p!==null)return r_(m,p,d);Mr(),m=m.memoizedState,p=Mr();var w=p.queue.dispatch;return p.memoizedState=d,[m,w,!1]}function Zd(d,m,p,w){return d={tag:d,create:p,deps:w,inst:m,next:null},m=qt.updateQueue,m===null&&(m=qy(),qt.updateQueue=m),p=m.lastEffect,p===null?m.lastEffect=d.next=d:(w=p.next,p.next=d,d.next=w,m.lastEffect=d),d}function yp(){return{destroy:void 0,resource:void 0}}function n_(){return Mr().memoizedState}function vp(d,m,p,w){var A=Wa();w=w===void 0?null:w,qt.flags|=d,A.memoizedState=Zd(1|m,yp(),p,w)}function Jh(d,m,p,w){var A=Mr();w=w===void 0?null:w;var M=A.memoizedState.inst;Hs!==null&&w!==null&&By(w,Hs.memoizedState.deps)?A.memoizedState=Zd(m,M,p,w):(qt.flags|=d,A.memoizedState=Zd(1|m,M,p,w))}function i_(d,m){vp(8390656,8,d,m)}function o_(d,m){Jh(2048,8,d,m)}function l_(d,m){return Jh(4,2,d,m)}function c_(d,m){return Jh(4,4,d,m)}function d_(d,m){if(typeof m=="function"){d=d();var p=m(d);return function(){typeof p=="function"?p():m(null)}}if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function u_(d,m,p){p=p!=null?p.concat([d]):null,Jh(4,4,d_.bind(null,m,d),p)}function Jy(){}function h_(d,m){var p=Mr();m=m===void 0?null:m;var w=p.memoizedState;return m!==null&&By(m,w[1])?w[0]:(p.memoizedState=[d,m],d)}function m_(d,m){var p=Mr();m=m===void 0?null:m;var w=p.memoizedState;if(m!==null&&By(m,w[1]))return w[0];if(w=d(),vc){Wt(!0);try{d()}finally{Wt(!1)}}return p.memoizedState=[w,m],w}function ev(d,m,p){return p===void 0||(Xo&1073741824)!==0?d.memoizedState=m:(d.memoizedState=p,d=pA(),qt.lanes|=d,tl|=d,p)}function f_(d,m,p,w){return nn(p,m)?p:Gd.current!==null?(d=ev(d,p,w),nn(d,m)||(Zr=!0),d):(Xo&42)===0?(Zr=!0,d.memoizedState=p):(d=pA(),qt.lanes|=d,tl|=d,m)}function g_(d,m,p,w,A){var M=q.p;q.p=M!==0&&8>M?M:8;var Y=B.T,K={};B.T=K,rv(d,!1,m,p);try{var ae=A(),Ne=B.S;if(Ne!==null&&Ne(K,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Oe=SF(ae,w);em(d,m,Oe,un(d))}else em(d,m,w,un(d))}catch(ze){em(d,m,{then:function(){},status:"rejected",reason:ze},un())}finally{q.p=M,B.T=Y}}function TF(){}function tv(d,m,p,w){if(d.tag!==5)throw Error(s(476));var A=p_(d).queue;g_(d,A,m,ee,p===null?TF:function(){return x_(d),p(w)})}function p_(d){var m=d.memoizedState;if(m!==null)return m;m={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:ee},next:null};var p={};return m.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:p},next:null},d.memoizedState=m,d=d.alternate,d!==null&&(d.memoizedState=m),m}function x_(d){var m=p_(d).next.queue;em(d,m,{},un())}function sv(){return ba(bm)}function b_(){return Mr().memoizedState}function y_(){return Mr().memoizedState}function PF(d){for(var m=d.return;m!==null;){switch(m.tag){case 24:case 3:var p=un();d=Yo(p);var w=qo(m,d,p);w!==null&&(hn(w,m,p),Xh(w,m,p)),m={cache:Ry()},d.payload=m;return}m=m.return}}function RF(d,m,p){var w=un();p={lane:w,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},wp(d)?w_(m,p):(p=Ny(d,m,p,w),p!==null&&(hn(p,d,w),N_(p,m,w)))}function v_(d,m,p){var w=un();em(d,m,p,w)}function em(d,m,p,w){var A={lane:w,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(wp(d))w_(m,A);else{var M=d.alternate;if(d.lanes===0&&(M===null||M.lanes===0)&&(M=m.lastRenderedReducer,M!==null))try{var Y=m.lastRenderedState,K=M(Y,p);if(A.hasEagerState=!0,A.eagerState=K,nn(K,Y))return ap(d,m,A,0),sr===null&&rp(),!1}catch{}finally{}if(p=Ny(d,m,A,w),p!==null)return hn(p,d,w),N_(p,m,w),!0}return!1}function rv(d,m,p,w){if(w={lane:2,revertLane:Mv(),action:w,hasEagerState:!1,eagerState:null,next:null},wp(d)){if(m)throw Error(s(479))}else m=Ny(d,p,w,2),m!==null&&hn(m,d,2)}function wp(d){var m=d.alternate;return d===qt||m!==null&&m===qt}function w_(d,m){Kd=gp=!0;var p=d.pending;p===null?m.next=m:(m.next=p.next,p.next=m),d.pending=m}function N_(d,m,p){if((p&4194048)!==0){var w=m.lanes;w&=d.pendingLanes,p|=w,m.lanes=p,Qs(d,p)}}var Np={readContext:ba,use:xp,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useLayoutEffect:_r,useInsertionEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useSyncExternalStore:_r,useId:_r,useHostTransitionStatus:_r,useFormState:_r,useActionState:_r,useOptimistic:_r,useMemoCache:_r,useCacheRefresh:_r},j_={readContext:ba,use:xp,useCallback:function(d,m){return Wa().memoizedState=[d,m===void 0?null:m],d},useContext:ba,useEffect:i_,useImperativeHandle:function(d,m,p){p=p!=null?p.concat([d]):null,vp(4194308,4,d_.bind(null,m,d),p)},useLayoutEffect:function(d,m){return vp(4194308,4,d,m)},useInsertionEffect:function(d,m){vp(4,2,d,m)},useMemo:function(d,m){var p=Wa();m=m===void 0?null:m;var w=d();if(vc){Wt(!0);try{d()}finally{Wt(!1)}}return p.memoizedState=[w,m],w},useReducer:function(d,m,p){var w=Wa();if(p!==void 0){var A=p(m);if(vc){Wt(!0);try{p(m)}finally{Wt(!1)}}}else A=m;return w.memoizedState=w.baseState=A,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:A},w.queue=d,d=d.dispatch=RF.bind(null,qt,d),[w.memoizedState,d]},useRef:function(d){var m=Wa();return d={current:d},m.memoizedState=d},useState:function(d){d=Qy(d);var m=d.queue,p=v_.bind(null,qt,m);return m.dispatch=p,[d.memoizedState,p]},useDebugValue:Jy,useDeferredValue:function(d,m){var p=Wa();return ev(p,d,m)},useTransition:function(){var d=Qy(!1);return d=g_.bind(null,qt,d.queue,!0,!1),Wa().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,m,p){var w=qt,A=Wa();if(ws){if(p===void 0)throw Error(s(407));p=p()}else{if(p=m(),sr===null)throw Error(s(349));(cs&124)!==0||$S(w,m,p)}A.memoizedState=p;var M={value:p,getSnapshot:m};return A.queue=M,i_(YS.bind(null,w,M,d),[d]),w.flags|=2048,Zd(9,yp(),WS.bind(null,w,M,p,m),null),p},useId:function(){var d=Wa(),m=sr.identifierPrefix;if(ws){var p=no,w=ao;p=(w&~(1<<32-gt(w)-1)).toString(32)+p,m=""+m+"R"+p,p=pp++,0<p&&(m+="H"+p.toString(32)),m+=""}else p=_F++,m=""+m+"r"+p.toString(32)+"";return d.memoizedState=m},useHostTransitionStatus:sv,useFormState:t_,useActionState:t_,useOptimistic:function(d){var m=Wa();m.memoizedState=m.baseState=d;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=p,m=rv.bind(null,qt,!0,p),p.dispatch=m,[d,m]},useMemoCache:Xy,useCacheRefresh:function(){return Wa().memoizedState=PF.bind(null,qt)}},k_={readContext:ba,use:xp,useCallback:h_,useContext:ba,useEffect:o_,useImperativeHandle:u_,useInsertionEffect:l_,useLayoutEffect:c_,useMemo:m_,useReducer:bp,useRef:n_,useState:function(){return bp(lo)},useDebugValue:Jy,useDeferredValue:function(d,m){var p=Mr();return f_(p,Hs.memoizedState,d,m)},useTransition:function(){var d=bp(lo)[0],m=Mr().memoizedState;return[typeof d=="boolean"?d:Zh(d),m]},useSyncExternalStore:HS,useId:b_,useHostTransitionStatus:sv,useFormState:s_,useActionState:s_,useOptimistic:function(d,m){var p=Mr();return GS(p,Hs,d,m)},useMemoCache:Xy,useCacheRefresh:y_},IF={readContext:ba,use:xp,useCallback:h_,useContext:ba,useEffect:o_,useImperativeHandle:u_,useInsertionEffect:l_,useLayoutEffect:c_,useMemo:m_,useReducer:Ky,useRef:n_,useState:function(){return Ky(lo)},useDebugValue:Jy,useDeferredValue:function(d,m){var p=Mr();return Hs===null?ev(p,d,m):f_(p,Hs.memoizedState,d,m)},useTransition:function(){var d=Ky(lo)[0],m=Mr().memoizedState;return[typeof d=="boolean"?d:Zh(d),m]},useSyncExternalStore:HS,useId:b_,useHostTransitionStatus:sv,useFormState:a_,useActionState:a_,useOptimistic:function(d,m){var p=Mr();return Hs!==null?GS(p,Hs,d,m):(p.baseState=d,[d,p.queue.dispatch])},useMemoCache:Xy,useCacheRefresh:y_},Jd=null,tm=0;function jp(d){var m=tm;return tm+=1,Jd===null&&(Jd=[]),MS(Jd,d,m)}function sm(d,m){m=m.props.ref,d.ref=m!==void 0?m:null}function kp(d,m){throw m.$$typeof===f?Error(s(525)):(d=Object.prototype.toString.call(m),Error(s(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d)))}function S_(d){var m=d._init;return m(d._payload)}function __(d){function m(me,le){if(d){var ve=me.deletions;ve===null?(me.deletions=[le],me.flags|=16):ve.push(le)}}function p(me,le){if(!d)return null;for(;le!==null;)m(me,le),le=le.sibling;return null}function w(me){for(var le=new Map;me!==null;)me.key!==null?le.set(me.key,me):le.set(me.index,me),me=me.sibling;return le}function A(me,le){return me=ro(me,le),me.index=0,me.sibling=null,me}function M(me,le,ve){return me.index=ve,d?(ve=me.alternate,ve!==null?(ve=ve.index,ve<le?(me.flags|=67108866,le):ve):(me.flags|=67108866,le)):(me.flags|=1048576,le)}function Y(me){return d&&me.alternate===null&&(me.flags|=67108866),me}function K(me,le,ve,Le){return le===null||le.tag!==6?(le=ky(ve,me.mode,Le),le.return=me,le):(le=A(le,ve),le.return=me,le)}function ae(me,le,ve,Le){var ut=ve.type;return ut===y?Oe(me,le,ve.props.children,Le,ve.key):le!==null&&(le.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===T&&S_(ut)===le.type)?(le=A(le,ve.props),sm(le,ve),le.return=me,le):(le=ip(ve.type,ve.key,ve.props,null,me.mode,Le),sm(le,ve),le.return=me,le)}function Ne(me,le,ve,Le){return le===null||le.tag!==4||le.stateNode.containerInfo!==ve.containerInfo||le.stateNode.implementation!==ve.implementation?(le=Sy(ve,me.mode,Le),le.return=me,le):(le=A(le,ve.children||[]),le.return=me,le)}function Oe(me,le,ve,Le,ut){return le===null||le.tag!==7?(le=hc(ve,me.mode,Le,ut),le.return=me,le):(le=A(le,ve),le.return=me,le)}function ze(me,le,ve){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=ky(""+le,me.mode,ve),le.return=me,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case g:return ve=ip(le.type,le.key,le.props,null,me.mode,ve),sm(ve,le),ve.return=me,ve;case x:return le=Sy(le,me.mode,ve),le.return=me,le;case T:var Le=le._init;return le=Le(le._payload),ze(me,le,ve)}if(H(le)||z(le))return le=hc(le,me.mode,ve,null),le.return=me,le;if(typeof le.then=="function")return ze(me,jp(le),ve);if(le.$$typeof===C)return ze(me,dp(me,le),ve);kp(me,le)}return null}function Se(me,le,ve,Le){var ut=le!==null?le.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ut!==null?null:K(me,le,""+ve,Le);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case g:return ve.key===ut?ae(me,le,ve,Le):null;case x:return ve.key===ut?Ne(me,le,ve,Le):null;case T:return ut=ve._init,ve=ut(ve._payload),Se(me,le,ve,Le)}if(H(ve)||z(ve))return ut!==null?null:Oe(me,le,ve,Le,null);if(typeof ve.then=="function")return Se(me,le,jp(ve),Le);if(ve.$$typeof===C)return Se(me,le,dp(me,ve),Le);kp(me,ve)}return null}function Ae(me,le,ve,Le,ut){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return me=me.get(ve)||null,K(le,me,""+Le,ut);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case g:return me=me.get(Le.key===null?ve:Le.key)||null,ae(le,me,Le,ut);case x:return me=me.get(Le.key===null?ve:Le.key)||null,Ne(le,me,Le,ut);case T:var Jt=Le._init;return Le=Jt(Le._payload),Ae(me,le,ve,Le,ut)}if(H(Le)||z(Le))return me=me.get(ve)||null,Oe(le,me,Le,ut,null);if(typeof Le.then=="function")return Ae(me,le,ve,jp(Le),ut);if(Le.$$typeof===C)return Ae(me,le,ve,dp(le,Le),ut);kp(le,Le)}return null}function Pt(me,le,ve,Le){for(var ut=null,Jt=null,bt=le,Et=le=0,ea=null;bt!==null&&Et<ve.length;Et++){bt.index>Et?(ea=bt,bt=null):ea=bt.sibling;var xs=Se(me,bt,ve[Et],Le);if(xs===null){bt===null&&(bt=ea);break}d&&bt&&xs.alternate===null&&m(me,bt),le=M(xs,le,Et),Jt===null?ut=xs:Jt.sibling=xs,Jt=xs,bt=ea}if(Et===ve.length)return p(me,bt),ws&&fc(me,Et),ut;if(bt===null){for(;Et<ve.length;Et++)bt=ze(me,ve[Et],Le),bt!==null&&(le=M(bt,le,Et),Jt===null?ut=bt:Jt.sibling=bt,Jt=bt);return ws&&fc(me,Et),ut}for(bt=w(bt);Et<ve.length;Et++)ea=Ae(bt,me,Et,ve[Et],Le),ea!==null&&(d&&ea.alternate!==null&&bt.delete(ea.key===null?Et:ea.key),le=M(ea,le,Et),Jt===null?ut=ea:Jt.sibling=ea,Jt=ea);return d&&bt.forEach(function(dl){return m(me,dl)}),ws&&fc(me,Et),ut}function Ct(me,le,ve,Le){if(ve==null)throw Error(s(151));for(var ut=null,Jt=null,bt=le,Et=le=0,ea=null,xs=ve.next();bt!==null&&!xs.done;Et++,xs=ve.next()){bt.index>Et?(ea=bt,bt=null):ea=bt.sibling;var dl=Se(me,bt,xs.value,Le);if(dl===null){bt===null&&(bt=ea);break}d&&bt&&dl.alternate===null&&m(me,bt),le=M(dl,le,Et),Jt===null?ut=dl:Jt.sibling=dl,Jt=dl,bt=ea}if(xs.done)return p(me,bt),ws&&fc(me,Et),ut;if(bt===null){for(;!xs.done;Et++,xs=ve.next())xs=ze(me,xs.value,Le),xs!==null&&(le=M(xs,le,Et),Jt===null?ut=xs:Jt.sibling=xs,Jt=xs);return ws&&fc(me,Et),ut}for(bt=w(bt);!xs.done;Et++,xs=ve.next())xs=Ae(bt,me,Et,xs.value,Le),xs!==null&&(d&&xs.alternate!==null&&bt.delete(xs.key===null?Et:xs.key),le=M(xs,le,Et),Jt===null?ut=xs:Jt.sibling=xs,Jt=xs);return d&&bt.forEach(function(D8){return m(me,D8)}),ws&&fc(me,Et),ut}function Ws(me,le,ve,Le){if(typeof ve=="object"&&ve!==null&&ve.type===y&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case g:e:{for(var ut=ve.key;le!==null;){if(le.key===ut){if(ut=ve.type,ut===y){if(le.tag===7){p(me,le.sibling),Le=A(le,ve.props.children),Le.return=me,me=Le;break e}}else if(le.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===T&&S_(ut)===le.type){p(me,le.sibling),Le=A(le,ve.props),sm(Le,ve),Le.return=me,me=Le;break e}p(me,le);break}else m(me,le);le=le.sibling}ve.type===y?(Le=hc(ve.props.children,me.mode,Le,ve.key),Le.return=me,me=Le):(Le=ip(ve.type,ve.key,ve.props,null,me.mode,Le),sm(Le,ve),Le.return=me,me=Le)}return Y(me);case x:e:{for(ut=ve.key;le!==null;){if(le.key===ut)if(le.tag===4&&le.stateNode.containerInfo===ve.containerInfo&&le.stateNode.implementation===ve.implementation){p(me,le.sibling),Le=A(le,ve.children||[]),Le.return=me,me=Le;break e}else{p(me,le);break}else m(me,le);le=le.sibling}Le=Sy(ve,me.mode,Le),Le.return=me,me=Le}return Y(me);case T:return ut=ve._init,ve=ut(ve._payload),Ws(me,le,ve,Le)}if(H(ve))return Pt(me,le,ve,Le);if(z(ve)){if(ut=z(ve),typeof ut!="function")throw Error(s(150));return ve=ut.call(ve),Ct(me,le,ve,Le)}if(typeof ve.then=="function")return Ws(me,le,jp(ve),Le);if(ve.$$typeof===C)return Ws(me,le,dp(me,ve),Le);kp(me,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,le!==null&&le.tag===6?(p(me,le.sibling),Le=A(le,ve),Le.return=me,me=Le):(p(me,le),Le=ky(ve,me.mode,Le),Le.return=me,me=Le),Y(me)):p(me,le)}return function(me,le,ve,Le){try{tm=0;var ut=Ws(me,le,ve,Le);return Jd=null,ut}catch(bt){if(bt===Yh||bt===hp)throw bt;var Jt=on(29,bt,null,me.mode);return Jt.lanes=Le,Jt.return=me,Jt}finally{}}}var eu=__(!0),A_=__(!1),Tn=Q(null),bi=null;function Go(d){var m=d.alternate;ne($r,$r.current&1),ne(Tn,d),bi===null&&(m===null||Gd.current!==null||m.memoizedState!==null)&&(bi=d)}function C_(d){if(d.tag===22){if(ne($r,$r.current),ne(Tn,d),bi===null){var m=d.alternate;m!==null&&m.memoizedState!==null&&(bi=d)}}else Ko()}function Ko(){ne($r,$r.current),ne(Tn,Tn.current)}function co(d){te(Tn),bi===d&&(bi=null),te($r)}var $r=Q(0);function Sp(d){for(var m=d;m!==null;){if(m.tag===13){var p=m.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||qv(p)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function av(d,m,p,w){m=d.memoizedState,p=p(w,m),p=p==null?m:h({},m,p),d.memoizedState=p,d.lanes===0&&(d.updateQueue.baseState=p)}var nv={enqueueSetState:function(d,m,p){d=d._reactInternals;var w=un(),A=Yo(w);A.payload=m,p!=null&&(A.callback=p),m=qo(d,A,w),m!==null&&(hn(m,d,w),Xh(m,d,w))},enqueueReplaceState:function(d,m,p){d=d._reactInternals;var w=un(),A=Yo(w);A.tag=1,A.payload=m,p!=null&&(A.callback=p),m=qo(d,A,w),m!==null&&(hn(m,d,w),Xh(m,d,w))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var p=un(),w=Yo(p);w.tag=2,m!=null&&(w.callback=m),m=qo(d,w,p),m!==null&&(hn(m,d,p),Xh(m,d,p))}};function E_(d,m,p,w,A,M,Y){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(w,M,Y):m.prototype&&m.prototype.isPureReactComponent?!Fh(p,w)||!Fh(A,M):!0}function T_(d,m,p,w){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(p,w),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(p,w),m.state!==d&&nv.enqueueReplaceState(m,m.state,null)}function wc(d,m){var p=m;if("ref"in m){p={};for(var w in m)w!=="ref"&&(p[w]=m[w])}if(d=d.defaultProps){p===m&&(p=h({},p));for(var A in d)p[A]===void 0&&(p[A]=d[A])}return p}var _p=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function P_(d){_p(d)}function R_(d){console.error(d)}function I_(d){_p(d)}function Ap(d,m){try{var p=d.onUncaughtError;p(m.value,{componentStack:m.stack})}catch(w){setTimeout(function(){throw w})}}function D_(d,m,p){try{var w=d.onCaughtError;w(p.value,{componentStack:p.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function iv(d,m,p){return p=Yo(p),p.tag=3,p.payload={element:null},p.callback=function(){Ap(d,m)},p}function M_(d){return d=Yo(d),d.tag=3,d}function O_(d,m,p,w){var A=p.type.getDerivedStateFromError;if(typeof A=="function"){var M=w.value;d.payload=function(){return A(M)},d.callback=function(){D_(m,p,w)}}var Y=p.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(d.callback=function(){D_(m,p,w),typeof A!="function"&&(sl===null?sl=new Set([this]):sl.add(this));var K=w.stack;this.componentDidCatch(w.value,{componentStack:K!==null?K:""})})}function DF(d,m,p,w,A){if(p.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(m=p.alternate,m!==null&&Hh(m,p,A,!0),p=Tn.current,p!==null){switch(p.tag){case 13:return bi===null?Tv():p.alternate===null&&xr===0&&(xr=3),p.flags&=-257,p.flags|=65536,p.lanes=A,w===My?p.flags|=16384:(m=p.updateQueue,m===null?p.updateQueue=new Set([w]):m.add(w),Rv(d,w,A)),!1;case 22:return p.flags|=65536,w===My?p.flags|=16384:(m=p.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([w])},p.updateQueue=m):(p=m.retryQueue,p===null?m.retryQueue=new Set([w]):p.add(w)),Rv(d,w,A)),!1}throw Error(s(435,p.tag))}return Rv(d,w,A),Tv(),!1}if(ws)return m=Tn.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=A,w!==Cy&&(d=Error(s(422),{cause:w}),Bh(_n(d,p)))):(w!==Cy&&(m=Error(s(423),{cause:w}),Bh(_n(m,p))),d=d.current.alternate,d.flags|=65536,A&=-A,d.lanes|=A,w=_n(w,p),A=iv(d.stateNode,w,A),Fy(d,A),xr!==4&&(xr=2)),!1;var M=Error(s(520),{cause:w});if(M=_n(M,p),cm===null?cm=[M]:cm.push(M),xr!==4&&(xr=2),m===null)return!0;w=_n(w,p),p=m;do{switch(p.tag){case 3:return p.flags|=65536,d=A&-A,p.lanes|=d,d=iv(p.stateNode,w,d),Fy(p,d),!1;case 1:if(m=p.type,M=p.stateNode,(p.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(sl===null||!sl.has(M))))return p.flags|=65536,A&=-A,p.lanes|=A,A=M_(A),O_(A,d,p,w),Fy(p,A),!1}p=p.return}while(p!==null);return!1}var L_=Error(s(461)),Zr=!1;function ia(d,m,p,w){m.child=d===null?A_(m,null,p,w):eu(m,d.child,p,w)}function F_(d,m,p,w,A){p=p.render;var M=m.ref;if("ref"in w){var Y={};for(var K in w)K!=="ref"&&(Y[K]=w[K])}else Y=w;return bc(m),w=Hy(d,m,p,Y,M,A),K=$y(),d!==null&&!Zr?(Wy(d,m,A),uo(d,m,A)):(ws&&K&&_y(m),m.flags|=1,ia(d,m,w,A),m.child)}function U_(d,m,p,w,A){if(d===null){var M=p.type;return typeof M=="function"&&!jy(M)&&M.defaultProps===void 0&&p.compare===null?(m.tag=15,m.type=M,z_(d,m,M,w,A)):(d=ip(p.type,null,w,m,m.mode,A),d.ref=m.ref,d.return=m,m.child=d)}if(M=d.child,!fv(d,A)){var Y=M.memoizedProps;if(p=p.compare,p=p!==null?p:Fh,p(Y,w)&&d.ref===m.ref)return uo(d,m,A)}return m.flags|=1,d=ro(M,w),d.ref=m.ref,d.return=m,m.child=d}function z_(d,m,p,w,A){if(d!==null){var M=d.memoizedProps;if(Fh(M,w)&&d.ref===m.ref)if(Zr=!1,m.pendingProps=w=M,fv(d,A))(d.flags&131072)!==0&&(Zr=!0);else return m.lanes=d.lanes,uo(d,m,A)}return ov(d,m,p,w,A)}function V_(d,m,p){var w=m.pendingProps,A=w.children,M=d!==null?d.memoizedState:null;if(w.mode==="hidden"){if((m.flags&128)!==0){if(w=M!==null?M.baseLanes|p:p,d!==null){for(A=m.child=d.child,M=0;A!==null;)M=M|A.lanes|A.childLanes,A=A.sibling;m.childLanes=M&~w}else m.childLanes=0,m.child=null;return B_(d,m,w,p)}if((p&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},d!==null&&up(m,M!==null?M.cachePool:null),M!==null?zS(m,M):zy(),C_(m);else return m.lanes=m.childLanes=536870912,B_(d,m,M!==null?M.baseLanes|p:p,p)}else M!==null?(up(m,M.cachePool),zS(m,M),Ko(),m.memoizedState=null):(d!==null&&up(m,null),zy(),Ko());return ia(d,m,A,p),m.child}function B_(d,m,p,w){var A=Dy();return A=A===null?null:{parent:Hr._currentValue,pool:A},m.memoizedState={baseLanes:p,cachePool:A},d!==null&&up(m,null),zy(),C_(m),d!==null&&Hh(d,m,w,!0),null}function Cp(d,m){var p=m.ref;if(p===null)d!==null&&d.ref!==null&&(m.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(s(284));(d===null||d.ref!==p)&&(m.flags|=4194816)}}function ov(d,m,p,w,A){return bc(m),p=Hy(d,m,p,w,void 0,A),w=$y(),d!==null&&!Zr?(Wy(d,m,A),uo(d,m,A)):(ws&&w&&_y(m),m.flags|=1,ia(d,m,p,A),m.child)}function H_(d,m,p,w,A,M){return bc(m),m.updateQueue=null,p=BS(m,w,p,A),VS(d),w=$y(),d!==null&&!Zr?(Wy(d,m,M),uo(d,m,M)):(ws&&w&&_y(m),m.flags|=1,ia(d,m,p,M),m.child)}function $_(d,m,p,w,A){if(bc(m),m.stateNode===null){var M=$d,Y=p.contextType;typeof Y=="object"&&Y!==null&&(M=ba(Y)),M=new p(w,M),m.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=nv,m.stateNode=M,M._reactInternals=m,M=m.stateNode,M.props=w,M.state=m.memoizedState,M.refs={},Oy(m),Y=p.contextType,M.context=typeof Y=="object"&&Y!==null?ba(Y):$d,M.state=m.memoizedState,Y=p.getDerivedStateFromProps,typeof Y=="function"&&(av(m,p,Y,w),M.state=m.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(Y=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),Y!==M.state&&nv.enqueueReplaceState(M,M.state,null),Kh(m,w,M,A),Gh(),M.state=m.memoizedState),typeof M.componentDidMount=="function"&&(m.flags|=4194308),w=!0}else if(d===null){M=m.stateNode;var K=m.memoizedProps,ae=wc(p,K);M.props=ae;var Ne=M.context,Oe=p.contextType;Y=$d,typeof Oe=="object"&&Oe!==null&&(Y=ba(Oe));var ze=p.getDerivedStateFromProps;Oe=typeof ze=="function"||typeof M.getSnapshotBeforeUpdate=="function",K=m.pendingProps!==K,Oe||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(K||Ne!==Y)&&T_(m,M,w,Y),Wo=!1;var Se=m.memoizedState;M.state=Se,Kh(m,w,M,A),Gh(),Ne=m.memoizedState,K||Se!==Ne||Wo?(typeof ze=="function"&&(av(m,p,ze,w),Ne=m.memoizedState),(ae=Wo||E_(m,p,ae,w,Se,Ne,Y))?(Oe||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(m.flags|=4194308)):(typeof M.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=w,m.memoizedState=Ne),M.props=w,M.state=Ne,M.context=Y,w=ae):(typeof M.componentDidMount=="function"&&(m.flags|=4194308),w=!1)}else{M=m.stateNode,Ly(d,m),Y=m.memoizedProps,Oe=wc(p,Y),M.props=Oe,ze=m.pendingProps,Se=M.context,Ne=p.contextType,ae=$d,typeof Ne=="object"&&Ne!==null&&(ae=ba(Ne)),K=p.getDerivedStateFromProps,(Ne=typeof K=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(Y!==ze||Se!==ae)&&T_(m,M,w,ae),Wo=!1,Se=m.memoizedState,M.state=Se,Kh(m,w,M,A),Gh();var Ae=m.memoizedState;Y!==ze||Se!==Ae||Wo||d!==null&&d.dependencies!==null&&cp(d.dependencies)?(typeof K=="function"&&(av(m,p,K,w),Ae=m.memoizedState),(Oe=Wo||E_(m,p,Oe,w,Se,Ae,ae)||d!==null&&d.dependencies!==null&&cp(d.dependencies))?(Ne||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(w,Ae,ae),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(w,Ae,ae)),typeof M.componentDidUpdate=="function"&&(m.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof M.componentDidUpdate!="function"||Y===d.memoizedProps&&Se===d.memoizedState||(m.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||Y===d.memoizedProps&&Se===d.memoizedState||(m.flags|=1024),m.memoizedProps=w,m.memoizedState=Ae),M.props=w,M.state=Ae,M.context=ae,w=Oe):(typeof M.componentDidUpdate!="function"||Y===d.memoizedProps&&Se===d.memoizedState||(m.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||Y===d.memoizedProps&&Se===d.memoizedState||(m.flags|=1024),w=!1)}return M=w,Cp(d,m),w=(m.flags&128)!==0,M||w?(M=m.stateNode,p=w&&typeof p.getDerivedStateFromError!="function"?null:M.render(),m.flags|=1,d!==null&&w?(m.child=eu(m,d.child,null,A),m.child=eu(m,null,p,A)):ia(d,m,p,A),m.memoizedState=M.state,d=m.child):d=uo(d,m,A),d}function W_(d,m,p,w){return Vh(),m.flags|=256,ia(d,m,p,w),m.child}var lv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cv(d){return{baseLanes:d,cachePool:RS()}}function dv(d,m,p){return d=d!==null?d.childLanes&~p:0,m&&(d|=Pn),d}function Y_(d,m,p){var w=m.pendingProps,A=!1,M=(m.flags&128)!==0,Y;if((Y=M)||(Y=d!==null&&d.memoizedState===null?!1:($r.current&2)!==0),Y&&(A=!0,m.flags&=-129),Y=(m.flags&32)!==0,m.flags&=-33,d===null){if(ws){if(A?Go(m):Ko(),ws){var K=pr,ae;if(ae=K){e:{for(ae=K,K=xi;ae.nodeType!==8;){if(!K){K=null;break e}if(ae=qn(ae.nextSibling),ae===null){K=null;break e}}K=ae}K!==null?(m.memoizedState={dehydrated:K,treeContext:mc!==null?{id:ao,overflow:no}:null,retryLane:536870912,hydrationErrors:null},ae=on(18,null,null,0),ae.stateNode=K,ae.return=m,m.child=ae,Ea=m,pr=null,ae=!0):ae=!1}ae||pc(m)}if(K=m.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return qv(K)?m.lanes=32:m.lanes=536870912,null;co(m)}return K=w.children,w=w.fallback,A?(Ko(),A=m.mode,K=Ep({mode:"hidden",children:K},A),w=hc(w,A,p,null),K.return=m,w.return=m,K.sibling=w,m.child=K,A=m.child,A.memoizedState=cv(p),A.childLanes=dv(d,Y,p),m.memoizedState=lv,w):(Go(m),uv(m,K))}if(ae=d.memoizedState,ae!==null&&(K=ae.dehydrated,K!==null)){if(M)m.flags&256?(Go(m),m.flags&=-257,m=hv(d,m,p)):m.memoizedState!==null?(Ko(),m.child=d.child,m.flags|=128,m=null):(Ko(),A=w.fallback,K=m.mode,w=Ep({mode:"visible",children:w.children},K),A=hc(A,K,p,null),A.flags|=2,w.return=m,A.return=m,w.sibling=A,m.child=w,eu(m,d.child,null,p),w=m.child,w.memoizedState=cv(p),w.childLanes=dv(d,Y,p),m.memoizedState=lv,m=A);else if(Go(m),qv(K)){if(Y=K.nextSibling&&K.nextSibling.dataset,Y)var Ne=Y.dgst;Y=Ne,w=Error(s(419)),w.stack="",w.digest=Y,Bh({value:w,source:null,stack:null}),m=hv(d,m,p)}else if(Zr||Hh(d,m,p,!1),Y=(p&d.childLanes)!==0,Zr||Y){if(Y=sr,Y!==null&&(w=p&-p,w=(w&42)!==0?1:ps(w),w=(w&(Y.suspendedLanes|p))!==0?0:w,w!==0&&w!==ae.retryLane))throw ae.retryLane=w,Hd(d,w),hn(Y,d,w),L_;K.data==="$?"||Tv(),m=hv(d,m,p)}else K.data==="$?"?(m.flags|=192,m.child=d.child,m=null):(d=ae.treeContext,pr=qn(K.nextSibling),Ea=m,ws=!0,gc=null,xi=!1,d!==null&&(Cn[En++]=ao,Cn[En++]=no,Cn[En++]=mc,ao=d.id,no=d.overflow,mc=m),m=uv(m,w.children),m.flags|=4096);return m}return A?(Ko(),A=w.fallback,K=m.mode,ae=d.child,Ne=ae.sibling,w=ro(ae,{mode:"hidden",children:w.children}),w.subtreeFlags=ae.subtreeFlags&65011712,Ne!==null?A=ro(Ne,A):(A=hc(A,K,p,null),A.flags|=2),A.return=m,w.return=m,w.sibling=A,m.child=w,w=A,A=m.child,K=d.child.memoizedState,K===null?K=cv(p):(ae=K.cachePool,ae!==null?(Ne=Hr._currentValue,ae=ae.parent!==Ne?{parent:Ne,pool:Ne}:ae):ae=RS(),K={baseLanes:K.baseLanes|p,cachePool:ae}),A.memoizedState=K,A.childLanes=dv(d,Y,p),m.memoizedState=lv,w):(Go(m),p=d.child,d=p.sibling,p=ro(p,{mode:"visible",children:w.children}),p.return=m,p.sibling=null,d!==null&&(Y=m.deletions,Y===null?(m.deletions=[d],m.flags|=16):Y.push(d)),m.child=p,m.memoizedState=null,p)}function uv(d,m){return m=Ep({mode:"visible",children:m},d.mode),m.return=d,d.child=m}function Ep(d,m){return d=on(22,d,null,m),d.lanes=0,d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},d}function hv(d,m,p){return eu(m,d.child,null,p),d=uv(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function q_(d,m,p){d.lanes|=m;var w=d.alternate;w!==null&&(w.lanes|=m),Ty(d.return,m,p)}function mv(d,m,p,w,A){var M=d.memoizedState;M===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:w,tail:p,tailMode:A}:(M.isBackwards=m,M.rendering=null,M.renderingStartTime=0,M.last=w,M.tail=p,M.tailMode=A)}function X_(d,m,p){var w=m.pendingProps,A=w.revealOrder,M=w.tail;if(ia(d,m,w.children,p),w=$r.current,(w&2)!==0)w=w&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&q_(d,p,m);else if(d.tag===19)q_(d,p,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}w&=1}switch(ne($r,w),A){case"forwards":for(p=m.child,A=null;p!==null;)d=p.alternate,d!==null&&Sp(d)===null&&(A=p),p=p.sibling;p=A,p===null?(A=m.child,m.child=null):(A=p.sibling,p.sibling=null),mv(m,!1,A,p,M);break;case"backwards":for(p=null,A=m.child,m.child=null;A!==null;){if(d=A.alternate,d!==null&&Sp(d)===null){m.child=A;break}d=A.sibling,A.sibling=p,p=A,A=d}mv(m,!0,p,null,M);break;case"together":mv(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function uo(d,m,p){if(d!==null&&(m.dependencies=d.dependencies),tl|=m.lanes,(p&m.childLanes)===0)if(d!==null){if(Hh(d,m,p,!1),(p&m.childLanes)===0)return null}else return null;if(d!==null&&m.child!==d.child)throw Error(s(153));if(m.child!==null){for(d=m.child,p=ro(d,d.pendingProps),m.child=p,p.return=m;d.sibling!==null;)d=d.sibling,p=p.sibling=ro(d,d.pendingProps),p.return=m;p.sibling=null}return m.child}function fv(d,m){return(d.lanes&m)!==0?!0:(d=d.dependencies,!!(d!==null&&cp(d)))}function MF(d,m,p){switch(m.tag){case 3:ue(m,m.stateNode.containerInfo),$o(m,Hr,d.memoizedState.cache),Vh();break;case 27:case 5:se(m);break;case 4:ue(m,m.stateNode.containerInfo);break;case 10:$o(m,m.type,m.memoizedProps.value);break;case 13:var w=m.memoizedState;if(w!==null)return w.dehydrated!==null?(Go(m),m.flags|=128,null):(p&m.child.childLanes)!==0?Y_(d,m,p):(Go(m),d=uo(d,m,p),d!==null?d.sibling:null);Go(m);break;case 19:var A=(d.flags&128)!==0;if(w=(p&m.childLanes)!==0,w||(Hh(d,m,p,!1),w=(p&m.childLanes)!==0),A){if(w)return X_(d,m,p);m.flags|=128}if(A=m.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ne($r,$r.current),w)break;return null;case 22:case 23:return m.lanes=0,V_(d,m,p);case 24:$o(m,Hr,d.memoizedState.cache)}return uo(d,m,p)}function G_(d,m,p){if(d!==null)if(d.memoizedProps!==m.pendingProps)Zr=!0;else{if(!fv(d,p)&&(m.flags&128)===0)return Zr=!1,MF(d,m,p);Zr=(d.flags&131072)!==0}else Zr=!1,ws&&(m.flags&1048576)!==0&&SS(m,lp,m.index);switch(m.lanes=0,m.tag){case 16:e:{d=m.pendingProps;var w=m.elementType,A=w._init;if(w=A(w._payload),m.type=w,typeof w=="function")jy(w)?(d=wc(w,d),m.tag=1,m=$_(null,m,w,d,p)):(m.tag=0,m=ov(null,m,w,d,p));else{if(w!=null){if(A=w.$$typeof,A===R){m.tag=11,m=F_(null,m,w,d,p);break e}else if(A===P){m.tag=14,m=U_(null,m,w,d,p);break e}}throw m=V(w)||w,Error(s(306,m,""))}}return m;case 0:return ov(d,m,m.type,m.pendingProps,p);case 1:return w=m.type,A=wc(w,m.pendingProps),$_(d,m,w,A,p);case 3:e:{if(ue(m,m.stateNode.containerInfo),d===null)throw Error(s(387));w=m.pendingProps;var M=m.memoizedState;A=M.element,Ly(d,m),Kh(m,w,null,p);var Y=m.memoizedState;if(w=Y.cache,$o(m,Hr,w),w!==M.cache&&Py(m,[Hr],p,!0),Gh(),w=Y.element,M.isDehydrated)if(M={element:w,isDehydrated:!1,cache:Y.cache},m.updateQueue.baseState=M,m.memoizedState=M,m.flags&256){m=W_(d,m,w,p);break e}else if(w!==A){A=_n(Error(s(424)),m),Bh(A),m=W_(d,m,w,p);break e}else{switch(d=m.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(pr=qn(d.firstChild),Ea=m,ws=!0,gc=null,xi=!0,p=A_(m,null,w,p),m.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Vh(),w===A){m=uo(d,m,p);break e}ia(d,m,w,p)}m=m.child}return m;case 26:return Cp(d,m),d===null?(p=JA(m.type,null,m.pendingProps,null))?m.memoizedState=p:ws||(p=m.type,d=m.pendingProps,w=Hp(de.current).createElement(p),w[J]=m,w[ye]=d,la(w,p,d),Ls(w),m.stateNode=w):m.memoizedState=JA(m.type,d.memoizedProps,m.pendingProps,d.memoizedState),null;case 27:return se(m),d===null&&ws&&(w=m.stateNode=KA(m.type,m.pendingProps,de.current),Ea=m,xi=!0,A=pr,nl(m.type)?(Xv=A,pr=qn(w.firstChild)):pr=A),ia(d,m,m.pendingProps.children,p),Cp(d,m),d===null&&(m.flags|=4194304),m.child;case 5:return d===null&&ws&&((A=w=pr)&&(w=c8(w,m.type,m.pendingProps,xi),w!==null?(m.stateNode=w,Ea=m,pr=qn(w.firstChild),xi=!1,A=!0):A=!1),A||pc(m)),se(m),A=m.type,M=m.pendingProps,Y=d!==null?d.memoizedProps:null,w=M.children,$v(A,M)?w=null:Y!==null&&$v(A,Y)&&(m.flags|=32),m.memoizedState!==null&&(A=Hy(d,m,AF,null,null,p),bm._currentValue=A),Cp(d,m),ia(d,m,w,p),m.child;case 6:return d===null&&ws&&((d=p=pr)&&(p=d8(p,m.pendingProps,xi),p!==null?(m.stateNode=p,Ea=m,pr=null,d=!0):d=!1),d||pc(m)),null;case 13:return Y_(d,m,p);case 4:return ue(m,m.stateNode.containerInfo),w=m.pendingProps,d===null?m.child=eu(m,null,w,p):ia(d,m,w,p),m.child;case 11:return F_(d,m,m.type,m.pendingProps,p);case 7:return ia(d,m,m.pendingProps,p),m.child;case 8:return ia(d,m,m.pendingProps.children,p),m.child;case 12:return ia(d,m,m.pendingProps.children,p),m.child;case 10:return w=m.pendingProps,$o(m,m.type,w.value),ia(d,m,w.children,p),m.child;case 9:return A=m.type._context,w=m.pendingProps.children,bc(m),A=ba(A),w=w(A),m.flags|=1,ia(d,m,w,p),m.child;case 14:return U_(d,m,m.type,m.pendingProps,p);case 15:return z_(d,m,m.type,m.pendingProps,p);case 19:return X_(d,m,p);case 31:return w=m.pendingProps,p=m.mode,w={mode:w.mode,children:w.children},d===null?(p=Ep(w,p),p.ref=m.ref,m.child=p,p.return=m,m=p):(p=ro(d.child,w),p.ref=m.ref,m.child=p,p.return=m,m=p),m;case 22:return V_(d,m,p);case 24:return bc(m),w=ba(Hr),d===null?(A=Dy(),A===null&&(A=sr,M=Ry(),A.pooledCache=M,M.refCount++,M!==null&&(A.pooledCacheLanes|=p),A=M),m.memoizedState={parent:w,cache:A},Oy(m),$o(m,Hr,A)):((d.lanes&p)!==0&&(Ly(d,m),Kh(m,null,null,p),Gh()),A=d.memoizedState,M=m.memoizedState,A.parent!==w?(A={parent:w,cache:w},m.memoizedState=A,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=A),$o(m,Hr,w)):(w=M.cache,$o(m,Hr,w),w!==A.cache&&Py(m,[Hr],p,!0))),ia(d,m,m.pendingProps.children,p),m.child;case 29:throw m.pendingProps}throw Error(s(156,m.tag))}function ho(d){d.flags|=4}function K_(d,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!aC(m)){if(m=Tn.current,m!==null&&((cs&4194048)===cs?bi!==null:(cs&62914560)!==cs&&(cs&536870912)===0||m!==bi))throw qh=My,IS;d.flags|=8192}}function Tp(d,m){m!==null&&(d.flags|=4),d.flags&16384&&(m=d.tag!==22?nr():536870912,d.lanes|=m,au|=m)}function rm(d,m){if(!ws)switch(d.tailMode){case"hidden":m=d.tail;for(var p=null;m!==null;)m.alternate!==null&&(p=m),m=m.sibling;p===null?d.tail=null:p.sibling=null;break;case"collapsed":p=d.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:w.sibling=null}}function ur(d){var m=d.alternate!==null&&d.alternate.child===d.child,p=0,w=0;if(m)for(var A=d.child;A!==null;)p|=A.lanes|A.childLanes,w|=A.subtreeFlags&65011712,w|=A.flags&65011712,A.return=d,A=A.sibling;else for(A=d.child;A!==null;)p|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=d,A=A.sibling;return d.subtreeFlags|=w,d.childLanes=p,m}function OF(d,m,p){var w=m.pendingProps;switch(Ay(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(m),null;case 1:return ur(m),null;case 3:return p=m.stateNode,w=null,d!==null&&(w=d.memoizedState.cache),m.memoizedState.cache!==w&&(m.flags|=2048),oo(Hr),X(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(d===null||d.child===null)&&(zh(m)?ho(m):d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,CS())),ur(m),null;case 26:return p=m.memoizedState,d===null?(ho(m),p!==null?(ur(m),K_(m,p)):(ur(m),m.flags&=-16777217)):p?p!==d.memoizedState?(ho(m),ur(m),K_(m,p)):(ur(m),m.flags&=-16777217):(d.memoizedProps!==w&&ho(m),ur(m),m.flags&=-16777217),null;case 27:ge(m),p=de.current;var A=m.type;if(d!==null&&m.stateNode!=null)d.memoizedProps!==w&&ho(m);else{if(!w){if(m.stateNode===null)throw Error(s(166));return ur(m),null}d=ce.current,zh(m)?_S(m):(d=KA(A,w,p),m.stateNode=d,ho(m))}return ur(m),null;case 5:if(ge(m),p=m.type,d!==null&&m.stateNode!=null)d.memoizedProps!==w&&ho(m);else{if(!w){if(m.stateNode===null)throw Error(s(166));return ur(m),null}if(d=ce.current,zh(m))_S(m);else{switch(A=Hp(de.current),d){case 1:d=A.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:d=A.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":d=A.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":d=A.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":d=A.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof w.is=="string"?A.createElement("select",{is:w.is}):A.createElement("select"),w.multiple?d.multiple=!0:w.size&&(d.size=w.size);break;default:d=typeof w.is=="string"?A.createElement(p,{is:w.is}):A.createElement(p)}}d[J]=m,d[ye]=w;e:for(A=m.child;A!==null;){if(A.tag===5||A.tag===6)d.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===m)break e;for(;A.sibling===null;){if(A.return===null||A.return===m)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}m.stateNode=d;e:switch(la(d,p,w),p){case"button":case"input":case"select":case"textarea":d=!!w.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ho(m)}}return ur(m),m.flags&=-16777217,null;case 6:if(d&&m.stateNode!=null)d.memoizedProps!==w&&ho(m);else{if(typeof w!="string"&&m.stateNode===null)throw Error(s(166));if(d=de.current,zh(m)){if(d=m.stateNode,p=m.memoizedProps,w=null,A=Ea,A!==null)switch(A.tag){case 27:case 5:w=A.memoizedProps}d[J]=m,d=!!(d.nodeValue===p||w!==null&&w.suppressHydrationWarning===!0||HA(d.nodeValue,p)),d||pc(m)}else d=Hp(d).createTextNode(w),d[J]=m,m.stateNode=d}return ur(m),null;case 13:if(w=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(A=zh(m),w!==null&&w.dehydrated!==null){if(d===null){if(!A)throw Error(s(318));if(A=m.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(s(317));A[J]=m}else Vh(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;ur(m),A=!1}else A=CS(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=A),A=!0;if(!A)return m.flags&256?(co(m),m):(co(m),null)}if(co(m),(m.flags&128)!==0)return m.lanes=p,m;if(p=w!==null,d=d!==null&&d.memoizedState!==null,p){w=m.child,A=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(A=w.alternate.memoizedState.cachePool.pool);var M=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(M=w.memoizedState.cachePool.pool),M!==A&&(w.flags|=2048)}return p!==d&&p&&(m.child.flags|=8192),Tp(m,m.updateQueue),ur(m),null;case 4:return X(),d===null&&Uv(m.stateNode.containerInfo),ur(m),null;case 10:return oo(m.type),ur(m),null;case 19:if(te($r),A=m.memoizedState,A===null)return ur(m),null;if(w=(m.flags&128)!==0,M=A.rendering,M===null)if(w)rm(A,!1);else{if(xr!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(M=Sp(d),M!==null){for(m.flags|=128,rm(A,!1),d=M.updateQueue,m.updateQueue=d,Tp(m,d),m.subtreeFlags=0,d=p,p=m.child;p!==null;)kS(p,d),p=p.sibling;return ne($r,$r.current&1|2),m.child}d=d.sibling}A.tail!==null&&Ve()>Ip&&(m.flags|=128,w=!0,rm(A,!1),m.lanes=4194304)}else{if(!w)if(d=Sp(M),d!==null){if(m.flags|=128,w=!0,d=d.updateQueue,m.updateQueue=d,Tp(m,d),rm(A,!0),A.tail===null&&A.tailMode==="hidden"&&!M.alternate&&!ws)return ur(m),null}else 2*Ve()-A.renderingStartTime>Ip&&p!==536870912&&(m.flags|=128,w=!0,rm(A,!1),m.lanes=4194304);A.isBackwards?(M.sibling=m.child,m.child=M):(d=A.last,d!==null?d.sibling=M:m.child=M,A.last=M)}return A.tail!==null?(m=A.tail,A.rendering=m,A.tail=m.sibling,A.renderingStartTime=Ve(),m.sibling=null,d=$r.current,ne($r,w?d&1|2:d&1),m):(ur(m),null);case 22:case 23:return co(m),Vy(),w=m.memoizedState!==null,d!==null?d.memoizedState!==null!==w&&(m.flags|=8192):w&&(m.flags|=8192),w?(p&536870912)!==0&&(m.flags&128)===0&&(ur(m),m.subtreeFlags&6&&(m.flags|=8192)):ur(m),p=m.updateQueue,p!==null&&Tp(m,p.retryQueue),p=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(p=d.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==p&&(m.flags|=2048),d!==null&&te(yc),null;case 24:return p=null,d!==null&&(p=d.memoizedState.cache),m.memoizedState.cache!==p&&(m.flags|=2048),oo(Hr),ur(m),null;case 25:return null;case 30:return null}throw Error(s(156,m.tag))}function LF(d,m){switch(Ay(m),m.tag){case 1:return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return oo(Hr),X(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 26:case 27:case 5:return ge(m),null;case 13:if(co(m),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(s(340));Vh()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return te($r),null;case 4:return X(),null;case 10:return oo(m.type),null;case 22:case 23:return co(m),Vy(),d!==null&&te(yc),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 24:return oo(Hr),null;case 25:return null;default:return null}}function Q_(d,m){switch(Ay(m),m.tag){case 3:oo(Hr),X();break;case 26:case 27:case 5:ge(m);break;case 4:X();break;case 13:co(m);break;case 19:te($r);break;case 10:oo(m.type);break;case 22:case 23:co(m),Vy(),d!==null&&te(yc);break;case 24:oo(Hr)}}function am(d,m){try{var p=m.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var A=w.next;p=A;do{if((p.tag&d)===d){w=void 0;var M=p.create,Y=p.inst;w=M(),Y.destroy=w}p=p.next}while(p!==A)}}catch(K){Js(m,m.return,K)}}function Qo(d,m,p){try{var w=m.updateQueue,A=w!==null?w.lastEffect:null;if(A!==null){var M=A.next;w=M;do{if((w.tag&d)===d){var Y=w.inst,K=Y.destroy;if(K!==void 0){Y.destroy=void 0,A=m;var ae=p,Ne=K;try{Ne()}catch(Oe){Js(A,ae,Oe)}}}w=w.next}while(w!==M)}}catch(Oe){Js(m,m.return,Oe)}}function Z_(d){var m=d.updateQueue;if(m!==null){var p=d.stateNode;try{US(m,p)}catch(w){Js(d,d.return,w)}}}function J_(d,m,p){p.props=wc(d.type,d.memoizedProps),p.state=d.memoizedState;try{p.componentWillUnmount()}catch(w){Js(d,m,w)}}function nm(d,m){try{var p=d.ref;if(p!==null){switch(d.tag){case 26:case 27:case 5:var w=d.stateNode;break;case 30:w=d.stateNode;break;default:w=d.stateNode}typeof p=="function"?d.refCleanup=p(w):p.current=w}}catch(A){Js(d,m,A)}}function yi(d,m){var p=d.ref,w=d.refCleanup;if(p!==null)if(typeof w=="function")try{w()}catch(A){Js(d,m,A)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(A){Js(d,m,A)}else p.current=null}function eA(d){var m=d.type,p=d.memoizedProps,w=d.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":p.autoFocus&&w.focus();break e;case"img":p.src?w.src=p.src:p.srcSet&&(w.srcset=p.srcSet)}}catch(A){Js(d,d.return,A)}}function gv(d,m,p){try{var w=d.stateNode;a8(w,d.type,p,m),w[ye]=m}catch(A){Js(d,d.return,A)}}function tA(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&nl(d.type)||d.tag===4}function pv(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||tA(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&nl(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function xv(d,m,p){var w=d.tag;if(w===5||w===6)d=d.stateNode,m?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(d,m):(m=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,m.appendChild(d),p=p._reactRootContainer,p!=null||m.onclick!==null||(m.onclick=Bp));else if(w!==4&&(w===27&&nl(d.type)&&(p=d.stateNode,m=null),d=d.child,d!==null))for(xv(d,m,p),d=d.sibling;d!==null;)xv(d,m,p),d=d.sibling}function Pp(d,m,p){var w=d.tag;if(w===5||w===6)d=d.stateNode,m?p.insertBefore(d,m):p.appendChild(d);else if(w!==4&&(w===27&&nl(d.type)&&(p=d.stateNode),d=d.child,d!==null))for(Pp(d,m,p),d=d.sibling;d!==null;)Pp(d,m,p),d=d.sibling}function sA(d){var m=d.stateNode,p=d.memoizedProps;try{for(var w=d.type,A=m.attributes;A.length;)m.removeAttributeNode(A[0]);la(m,w,p),m[J]=d,m[ye]=p}catch(M){Js(d,d.return,M)}}var mo=!1,Ar=!1,bv=!1,rA=typeof WeakSet=="function"?WeakSet:Set,Jr=null;function FF(d,m){if(d=d.containerInfo,Bv=Gp,d=fS(d),py(d)){if("selectionStart"in d)var p={start:d.selectionStart,end:d.selectionEnd};else e:{p=(p=d.ownerDocument)&&p.defaultView||window;var w=p.getSelection&&p.getSelection();if(w&&w.rangeCount!==0){p=w.anchorNode;var A=w.anchorOffset,M=w.focusNode;w=w.focusOffset;try{p.nodeType,M.nodeType}catch{p=null;break e}var Y=0,K=-1,ae=-1,Ne=0,Oe=0,ze=d,Se=null;t:for(;;){for(var Ae;ze!==p||A!==0&&ze.nodeType!==3||(K=Y+A),ze!==M||w!==0&&ze.nodeType!==3||(ae=Y+w),ze.nodeType===3&&(Y+=ze.nodeValue.length),(Ae=ze.firstChild)!==null;)Se=ze,ze=Ae;for(;;){if(ze===d)break t;if(Se===p&&++Ne===A&&(K=Y),Se===M&&++Oe===w&&(ae=Y),(Ae=ze.nextSibling)!==null)break;ze=Se,Se=ze.parentNode}ze=Ae}p=K===-1||ae===-1?null:{start:K,end:ae}}else p=null}p=p||{start:0,end:0}}else p=null;for(Hv={focusedElem:d,selectionRange:p},Gp=!1,Jr=m;Jr!==null;)if(m=Jr,d=m.child,(m.subtreeFlags&1024)!==0&&d!==null)d.return=m,Jr=d;else for(;Jr!==null;){switch(m=Jr,M=m.alternate,d=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&M!==null){d=void 0,p=m,A=M.memoizedProps,M=M.memoizedState,w=p.stateNode;try{var Pt=wc(p.type,A,p.elementType===p.type);d=w.getSnapshotBeforeUpdate(Pt,M),w.__reactInternalSnapshotBeforeUpdate=d}catch(Ct){Js(p,p.return,Ct)}}break;case 3:if((d&1024)!==0){if(d=m.stateNode.containerInfo,p=d.nodeType,p===9)Yv(d);else if(p===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":Yv(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(s(163))}if(d=m.sibling,d!==null){d.return=m.return,Jr=d;break}Jr=m.return}}function aA(d,m,p){var w=p.flags;switch(p.tag){case 0:case 11:case 15:Zo(d,p),w&4&&am(5,p);break;case 1:if(Zo(d,p),w&4)if(d=p.stateNode,m===null)try{d.componentDidMount()}catch(Y){Js(p,p.return,Y)}else{var A=wc(p.type,m.memoizedProps);m=m.memoizedState;try{d.componentDidUpdate(A,m,d.__reactInternalSnapshotBeforeUpdate)}catch(Y){Js(p,p.return,Y)}}w&64&&Z_(p),w&512&&nm(p,p.return);break;case 3:if(Zo(d,p),w&64&&(d=p.updateQueue,d!==null)){if(m=null,p.child!==null)switch(p.child.tag){case 27:case 5:m=p.child.stateNode;break;case 1:m=p.child.stateNode}try{US(d,m)}catch(Y){Js(p,p.return,Y)}}break;case 27:m===null&&w&4&&sA(p);case 26:case 5:Zo(d,p),m===null&&w&4&&eA(p),w&512&&nm(p,p.return);break;case 12:Zo(d,p);break;case 13:Zo(d,p),w&4&&oA(d,p),w&64&&(d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(p=qF.bind(null,p),u8(d,p))));break;case 22:if(w=p.memoizedState!==null||mo,!w){m=m!==null&&m.memoizedState!==null||Ar,A=mo;var M=Ar;mo=w,(Ar=m)&&!M?Jo(d,p,(p.subtreeFlags&8772)!==0):Zo(d,p),mo=A,Ar=M}break;case 30:break;default:Zo(d,p)}}function nA(d){var m=d.alternate;m!==null&&(d.alternate=null,nA(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&_a(m)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var cr=null,Ya=!1;function fo(d,m,p){for(p=p.child;p!==null;)iA(d,m,p),p=p.sibling}function iA(d,m,p){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Ft,p)}catch{}switch(p.tag){case 26:Ar||yi(p,m),fo(d,m,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ar||yi(p,m);var w=cr,A=Ya;nl(p.type)&&(cr=p.stateNode,Ya=!1),fo(d,m,p),fm(p.stateNode),cr=w,Ya=A;break;case 5:Ar||yi(p,m);case 6:if(w=cr,A=Ya,cr=null,fo(d,m,p),cr=w,Ya=A,cr!==null)if(Ya)try{(cr.nodeType===9?cr.body:cr.nodeName==="HTML"?cr.ownerDocument.body:cr).removeChild(p.stateNode)}catch(M){Js(p,m,M)}else try{cr.removeChild(p.stateNode)}catch(M){Js(p,m,M)}break;case 18:cr!==null&&(Ya?(d=cr,XA(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,p.stateNode),Nm(d)):XA(cr,p.stateNode));break;case 4:w=cr,A=Ya,cr=p.stateNode.containerInfo,Ya=!0,fo(d,m,p),cr=w,Ya=A;break;case 0:case 11:case 14:case 15:Ar||Qo(2,p,m),Ar||Qo(4,p,m),fo(d,m,p);break;case 1:Ar||(yi(p,m),w=p.stateNode,typeof w.componentWillUnmount=="function"&&J_(p,m,w)),fo(d,m,p);break;case 21:fo(d,m,p);break;case 22:Ar=(w=Ar)||p.memoizedState!==null,fo(d,m,p),Ar=w;break;default:fo(d,m,p)}}function oA(d,m){if(m.memoizedState===null&&(d=m.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Nm(d)}catch(p){Js(m,m.return,p)}}function UF(d){switch(d.tag){case 13:case 19:var m=d.stateNode;return m===null&&(m=d.stateNode=new rA),m;case 22:return d=d.stateNode,m=d._retryCache,m===null&&(m=d._retryCache=new rA),m;default:throw Error(s(435,d.tag))}}function yv(d,m){var p=UF(d);m.forEach(function(w){var A=XF.bind(null,d,w);p.has(w)||(p.add(w),w.then(A,A))})}function ln(d,m){var p=m.deletions;if(p!==null)for(var w=0;w<p.length;w++){var A=p[w],M=d,Y=m,K=Y;e:for(;K!==null;){switch(K.tag){case 27:if(nl(K.type)){cr=K.stateNode,Ya=!1;break e}break;case 5:cr=K.stateNode,Ya=!1;break e;case 3:case 4:cr=K.stateNode.containerInfo,Ya=!0;break e}K=K.return}if(cr===null)throw Error(s(160));iA(M,Y,A),cr=null,Ya=!1,M=A.alternate,M!==null&&(M.return=null),A.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)lA(m,d),m=m.sibling}var Yn=null;function lA(d,m){var p=d.alternate,w=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:ln(m,d),cn(d),w&4&&(Qo(3,d,d.return),am(3,d),Qo(5,d,d.return));break;case 1:ln(m,d),cn(d),w&512&&(Ar||p===null||yi(p,p.return)),w&64&&mo&&(d=d.updateQueue,d!==null&&(w=d.callbacks,w!==null&&(p=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=p===null?w:p.concat(w))));break;case 26:var A=Yn;if(ln(m,d),cn(d),w&512&&(Ar||p===null||yi(p,p.return)),w&4){var M=p!==null?p.memoizedState:null;if(w=d.memoizedState,p===null)if(w===null)if(d.stateNode===null){e:{w=d.type,p=d.memoizedProps,A=A.ownerDocument||A;t:switch(w){case"title":M=A.getElementsByTagName("title")[0],(!M||M[Sr]||M[J]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=A.createElement(w),A.head.insertBefore(M,A.querySelector("head > title"))),la(M,w,p),M[J]=d,Ls(M),w=M;break e;case"link":var Y=sC("link","href",A).get(w+(p.href||""));if(Y){for(var K=0;K<Y.length;K++)if(M=Y[K],M.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&M.getAttribute("rel")===(p.rel==null?null:p.rel)&&M.getAttribute("title")===(p.title==null?null:p.title)&&M.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){Y.splice(K,1);break t}}M=A.createElement(w),la(M,w,p),A.head.appendChild(M);break;case"meta":if(Y=sC("meta","content",A).get(w+(p.content||""))){for(K=0;K<Y.length;K++)if(M=Y[K],M.getAttribute("content")===(p.content==null?null:""+p.content)&&M.getAttribute("name")===(p.name==null?null:p.name)&&M.getAttribute("property")===(p.property==null?null:p.property)&&M.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&M.getAttribute("charset")===(p.charSet==null?null:p.charSet)){Y.splice(K,1);break t}}M=A.createElement(w),la(M,w,p),A.head.appendChild(M);break;default:throw Error(s(468,w))}M[J]=d,Ls(M),w=M}d.stateNode=w}else rC(A,d.type,d.stateNode);else d.stateNode=tC(A,w,d.memoizedProps);else M!==w?(M===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):M.count--,w===null?rC(A,d.type,d.stateNode):tC(A,w,d.memoizedProps)):w===null&&d.stateNode!==null&&gv(d,d.memoizedProps,p.memoizedProps)}break;case 27:ln(m,d),cn(d),w&512&&(Ar||p===null||yi(p,p.return)),p!==null&&w&4&&gv(d,d.memoizedProps,p.memoizedProps);break;case 5:if(ln(m,d),cn(d),w&512&&(Ar||p===null||yi(p,p.return)),d.flags&32){A=d.stateNode;try{Nn(A,"")}catch(Ae){Js(d,d.return,Ae)}}w&4&&d.stateNode!=null&&(A=d.memoizedProps,gv(d,A,p!==null?p.memoizedProps:A)),w&1024&&(bv=!0);break;case 6:if(ln(m,d),cn(d),w&4){if(d.stateNode===null)throw Error(s(162));w=d.memoizedProps,p=d.stateNode;try{p.nodeValue=w}catch(Ae){Js(d,d.return,Ae)}}break;case 3:if(Yp=null,A=Yn,Yn=$p(m.containerInfo),ln(m,d),Yn=A,cn(d),w&4&&p!==null&&p.memoizedState.isDehydrated)try{Nm(m.containerInfo)}catch(Ae){Js(d,d.return,Ae)}bv&&(bv=!1,cA(d));break;case 4:w=Yn,Yn=$p(d.stateNode.containerInfo),ln(m,d),cn(d),Yn=w;break;case 12:ln(m,d),cn(d);break;case 13:ln(m,d),cn(d),d.child.flags&8192&&d.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Sv=Ve()),w&4&&(w=d.updateQueue,w!==null&&(d.updateQueue=null,yv(d,w)));break;case 22:A=d.memoizedState!==null;var ae=p!==null&&p.memoizedState!==null,Ne=mo,Oe=Ar;if(mo=Ne||A,Ar=Oe||ae,ln(m,d),Ar=Oe,mo=Ne,cn(d),w&8192)e:for(m=d.stateNode,m._visibility=A?m._visibility&-2:m._visibility|1,A&&(p===null||ae||mo||Ar||Nc(d)),p=null,m=d;;){if(m.tag===5||m.tag===26){if(p===null){ae=p=m;try{if(M=ae.stateNode,A)Y=M.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{K=ae.stateNode;var ze=ae.memoizedProps.style,Se=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;K.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(Ae){Js(ae,ae.return,Ae)}}}else if(m.tag===6){if(p===null){ae=m;try{ae.stateNode.nodeValue=A?"":ae.memoizedProps}catch(Ae){Js(ae,ae.return,Ae)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===d)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break e;for(;m.sibling===null;){if(m.return===null||m.return===d)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}w&4&&(w=d.updateQueue,w!==null&&(p=w.retryQueue,p!==null&&(w.retryQueue=null,yv(d,p))));break;case 19:ln(m,d),cn(d),w&4&&(w=d.updateQueue,w!==null&&(d.updateQueue=null,yv(d,w)));break;case 30:break;case 21:break;default:ln(m,d),cn(d)}}function cn(d){var m=d.flags;if(m&2){try{for(var p,w=d.return;w!==null;){if(tA(w)){p=w;break}w=w.return}if(p==null)throw Error(s(160));switch(p.tag){case 27:var A=p.stateNode,M=pv(d);Pp(d,M,A);break;case 5:var Y=p.stateNode;p.flags&32&&(Nn(Y,""),p.flags&=-33);var K=pv(d);Pp(d,K,Y);break;case 3:case 4:var ae=p.stateNode.containerInfo,Ne=pv(d);xv(d,Ne,ae);break;default:throw Error(s(161))}}catch(Oe){Js(d,d.return,Oe)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function cA(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var m=d;cA(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),d=d.sibling}}function Zo(d,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)aA(d,m.alternate,m),m=m.sibling}function Nc(d){for(d=d.child;d!==null;){var m=d;switch(m.tag){case 0:case 11:case 14:case 15:Qo(4,m,m.return),Nc(m);break;case 1:yi(m,m.return);var p=m.stateNode;typeof p.componentWillUnmount=="function"&&J_(m,m.return,p),Nc(m);break;case 27:fm(m.stateNode);case 26:case 5:yi(m,m.return),Nc(m);break;case 22:m.memoizedState===null&&Nc(m);break;case 30:Nc(m);break;default:Nc(m)}d=d.sibling}}function Jo(d,m,p){for(p=p&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var w=m.alternate,A=d,M=m,Y=M.flags;switch(M.tag){case 0:case 11:case 15:Jo(A,M,p),am(4,M);break;case 1:if(Jo(A,M,p),w=M,A=w.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Ne){Js(w,w.return,Ne)}if(w=M,A=w.updateQueue,A!==null){var K=w.stateNode;try{var ae=A.shared.hiddenCallbacks;if(ae!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ae.length;A++)FS(ae[A],K)}catch(Ne){Js(w,w.return,Ne)}}p&&Y&64&&Z_(M),nm(M,M.return);break;case 27:sA(M);case 26:case 5:Jo(A,M,p),p&&w===null&&Y&4&&eA(M),nm(M,M.return);break;case 12:Jo(A,M,p);break;case 13:Jo(A,M,p),p&&Y&4&&oA(A,M);break;case 22:M.memoizedState===null&&Jo(A,M,p),nm(M,M.return);break;case 30:break;default:Jo(A,M,p)}m=m.sibling}}function vv(d,m){var p=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(p=d.memoizedState.cachePool.pool),d=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(d=m.memoizedState.cachePool.pool),d!==p&&(d!=null&&d.refCount++,p!=null&&$h(p))}function wv(d,m){d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&$h(d))}function vi(d,m,p,w){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)dA(d,m,p,w),m=m.sibling}function dA(d,m,p,w){var A=m.flags;switch(m.tag){case 0:case 11:case 15:vi(d,m,p,w),A&2048&&am(9,m);break;case 1:vi(d,m,p,w);break;case 3:vi(d,m,p,w),A&2048&&(d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&$h(d)));break;case 12:if(A&2048){vi(d,m,p,w),d=m.stateNode;try{var M=m.memoizedProps,Y=M.id,K=M.onPostCommit;typeof K=="function"&&K(Y,m.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(ae){Js(m,m.return,ae)}}else vi(d,m,p,w);break;case 13:vi(d,m,p,w);break;case 23:break;case 22:M=m.stateNode,Y=m.alternate,m.memoizedState!==null?M._visibility&2?vi(d,m,p,w):im(d,m):M._visibility&2?vi(d,m,p,w):(M._visibility|=2,tu(d,m,p,w,(m.subtreeFlags&10256)!==0)),A&2048&&vv(Y,m);break;case 24:vi(d,m,p,w),A&2048&&wv(m.alternate,m);break;default:vi(d,m,p,w)}}function tu(d,m,p,w,A){for(A=A&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var M=d,Y=m,K=p,ae=w,Ne=Y.flags;switch(Y.tag){case 0:case 11:case 15:tu(M,Y,K,ae,A),am(8,Y);break;case 23:break;case 22:var Oe=Y.stateNode;Y.memoizedState!==null?Oe._visibility&2?tu(M,Y,K,ae,A):im(M,Y):(Oe._visibility|=2,tu(M,Y,K,ae,A)),A&&Ne&2048&&vv(Y.alternate,Y);break;case 24:tu(M,Y,K,ae,A),A&&Ne&2048&&wv(Y.alternate,Y);break;default:tu(M,Y,K,ae,A)}m=m.sibling}}function im(d,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var p=d,w=m,A=w.flags;switch(w.tag){case 22:im(p,w),A&2048&&vv(w.alternate,w);break;case 24:im(p,w),A&2048&&wv(w.alternate,w);break;default:im(p,w)}m=m.sibling}}var om=8192;function su(d){if(d.subtreeFlags&om)for(d=d.child;d!==null;)uA(d),d=d.sibling}function uA(d){switch(d.tag){case 26:su(d),d.flags&om&&d.memoizedState!==null&&k8(Yn,d.memoizedState,d.memoizedProps);break;case 5:su(d);break;case 3:case 4:var m=Yn;Yn=$p(d.stateNode.containerInfo),su(d),Yn=m;break;case 22:d.memoizedState===null&&(m=d.alternate,m!==null&&m.memoizedState!==null?(m=om,om=16777216,su(d),om=m):su(d));break;default:su(d)}}function hA(d){var m=d.alternate;if(m!==null&&(d=m.child,d!==null)){m.child=null;do m=d.sibling,d.sibling=null,d=m;while(d!==null)}}function lm(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var p=0;p<m.length;p++){var w=m[p];Jr=w,fA(w,d)}hA(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)mA(d),d=d.sibling}function mA(d){switch(d.tag){case 0:case 11:case 15:lm(d),d.flags&2048&&Qo(9,d,d.return);break;case 3:lm(d);break;case 12:lm(d);break;case 22:var m=d.stateNode;d.memoizedState!==null&&m._visibility&2&&(d.return===null||d.return.tag!==13)?(m._visibility&=-3,Rp(d)):lm(d);break;default:lm(d)}}function Rp(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var p=0;p<m.length;p++){var w=m[p];Jr=w,fA(w,d)}hA(d)}for(d=d.child;d!==null;){switch(m=d,m.tag){case 0:case 11:case 15:Qo(8,m,m.return),Rp(m);break;case 22:p=m.stateNode,p._visibility&2&&(p._visibility&=-3,Rp(m));break;default:Rp(m)}d=d.sibling}}function fA(d,m){for(;Jr!==null;){var p=Jr;switch(p.tag){case 0:case 11:case 15:Qo(8,p,m);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var w=p.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:$h(p.memoizedState.cache)}if(w=p.child,w!==null)w.return=p,Jr=w;else e:for(p=d;Jr!==null;){w=Jr;var A=w.sibling,M=w.return;if(nA(w),w===p){Jr=null;break e}if(A!==null){A.return=M,Jr=A;break e}Jr=M}}}var zF={getCacheForType:function(d){var m=ba(Hr),p=m.data.get(d);return p===void 0&&(p=d(),m.data.set(d,p)),p}},VF=typeof WeakMap=="function"?WeakMap:Map,Fs=0,sr=null,ts=null,cs=0,Us=0,dn=null,el=!1,ru=!1,Nv=!1,go=0,xr=0,tl=0,jc=0,jv=0,Pn=0,au=0,cm=null,qa=null,kv=!1,Sv=0,Ip=1/0,Dp=null,sl=null,oa=0,rl=null,nu=null,iu=0,_v=0,Av=null,gA=null,dm=0,Cv=null;function un(){if((Fs&2)!==0&&cs!==0)return cs&-cs;if(B.T!==null){var d=qd;return d!==0?d:Mv()}return _s()}function pA(){Pn===0&&(Pn=(cs&536870912)===0||ws?Is():536870912);var d=Tn.current;return d!==null&&(d.flags|=32),Pn}function hn(d,m,p){(d===sr&&(Us===2||Us===9)||d.cancelPendingCommit!==null)&&(ou(d,0),al(d,cs,Pn,!1)),Ms(d,p),((Fs&2)===0||d!==sr)&&(d===sr&&((Fs&2)===0&&(jc|=p),xr===4&&al(d,cs,Pn,!1)),wi(d))}function xA(d,m,p){if((Fs&6)!==0)throw Error(s(327));var w=!p&&(m&124)===0&&(m&d.expiredLanes)===0||Mt(d,m),A=w?$F(d,m):Pv(d,m,!0),M=w;do{if(A===0){ru&&!w&&al(d,m,0,!1);break}else{if(p=d.current.alternate,M&&!BF(p)){A=Pv(d,m,!1),M=!1;continue}if(A===2){if(M=m,d.errorRecoveryDisabledLanes&M)var Y=0;else Y=d.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){m=Y;e:{var K=d;A=cm;var ae=K.current.memoizedState.isDehydrated;if(ae&&(ou(K,Y).flags|=256),Y=Pv(K,Y,!1),Y!==2){if(Nv&&!ae){K.errorRecoveryDisabledLanes|=M,jc|=M,A=4;break e}M=qa,qa=A,M!==null&&(qa===null?qa=M:qa.push.apply(qa,M))}A=Y}if(M=!1,A!==2)continue}}if(A===1){ou(d,0),al(d,m,0,!0);break}e:{switch(w=d,M=A,M){case 0:case 1:throw Error(s(345));case 4:if((m&4194048)!==m)break;case 6:al(w,m,Pn,!el);break e;case 2:qa=null;break;case 3:case 5:break;default:throw Error(s(329))}if((m&62914560)===m&&(A=Sv+300-Ve(),10<A)){if(al(w,m,Pn,!el),jt(w,0,!0)!==0)break e;w.timeoutHandle=YA(bA.bind(null,w,p,qa,Dp,kv,m,Pn,jc,au,el,M,2,-0,0),A);break e}bA(w,p,qa,Dp,kv,m,Pn,jc,au,el,M,0,-0,0)}}break}while(!0);wi(d)}function bA(d,m,p,w,A,M,Y,K,ae,Ne,Oe,ze,Se,Ae){if(d.timeoutHandle=-1,ze=m.subtreeFlags,(ze&8192||(ze&16785408)===16785408)&&(xm={stylesheets:null,count:0,unsuspend:j8},uA(m),ze=S8(),ze!==null)){d.cancelPendingCommit=ze(SA.bind(null,d,m,M,p,w,A,Y,K,ae,Oe,1,Se,Ae)),al(d,M,Y,!Ne);return}SA(d,m,M,p,w,A,Y,K,ae)}function BF(d){for(var m=d;;){var p=m.tag;if((p===0||p===11||p===15)&&m.flags&16384&&(p=m.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var w=0;w<p.length;w++){var A=p[w],M=A.getSnapshot;A=A.value;try{if(!nn(M(),A))return!1}catch{return!1}}if(p=m.child,m.subtreeFlags&16384&&p!==null)p.return=m,m=p;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function al(d,m,p,w){m&=~jv,m&=~jc,d.suspendedLanes|=m,d.pingedLanes&=~m,w&&(d.warmLanes|=m),w=d.expirationTimes;for(var A=m;0<A;){var M=31-gt(A),Y=1<<M;w[M]=-1,A&=~Y}p!==0&&Ss(d,p,m)}function Mp(){return(Fs&6)===0?(um(0),!1):!0}function Ev(){if(ts!==null){if(Us===0)var d=ts.return;else d=ts,io=xc=null,Yy(d),Jd=null,tm=0,d=ts;for(;d!==null;)Q_(d.alternate,d),d=d.return;ts=null}}function ou(d,m){var p=d.timeoutHandle;p!==-1&&(d.timeoutHandle=-1,i8(p)),p=d.cancelPendingCommit,p!==null&&(d.cancelPendingCommit=null,p()),Ev(),sr=d,ts=p=ro(d.current,null),cs=m,Us=0,dn=null,el=!1,ru=Mt(d,m),Nv=!1,au=Pn=jv=jc=tl=xr=0,qa=cm=null,kv=!1,(m&8)!==0&&(m|=m&32);var w=d.entangledLanes;if(w!==0)for(d=d.entanglements,w&=m;0<w;){var A=31-gt(w),M=1<<A;m|=d[A],w&=~M}return go=m,rp(),p}function yA(d,m){qt=null,B.H=Np,m===Yh||m===hp?(m=OS(),Us=3):m===IS?(m=OS(),Us=4):Us=m===L_?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,dn=m,ts===null&&(xr=1,Ap(d,_n(m,d.current)))}function vA(){var d=B.H;return B.H=Np,d===null?Np:d}function wA(){var d=B.A;return B.A=zF,d}function Tv(){xr=4,el||(cs&4194048)!==cs&&Tn.current!==null||(ru=!0),(tl&134217727)===0&&(jc&134217727)===0||sr===null||al(sr,cs,Pn,!1)}function Pv(d,m,p){var w=Fs;Fs|=2;var A=vA(),M=wA();(sr!==d||cs!==m)&&(Dp=null,ou(d,m)),m=!1;var Y=xr;e:do try{if(Us!==0&&ts!==null){var K=ts,ae=dn;switch(Us){case 8:Ev(),Y=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(m=!0);var Ne=Us;if(Us=0,dn=null,lu(d,K,ae,Ne),p&&ru){Y=0;break e}break;default:Ne=Us,Us=0,dn=null,lu(d,K,ae,Ne)}}HF(),Y=xr;break}catch(Oe){yA(d,Oe)}while(!0);return m&&d.shellSuspendCounter++,io=xc=null,Fs=w,B.H=A,B.A=M,ts===null&&(sr=null,cs=0,rp()),Y}function HF(){for(;ts!==null;)NA(ts)}function $F(d,m){var p=Fs;Fs|=2;var w=vA(),A=wA();sr!==d||cs!==m?(Dp=null,Ip=Ve()+500,ou(d,m)):ru=Mt(d,m);e:do try{if(Us!==0&&ts!==null){m=ts;var M=dn;t:switch(Us){case 1:Us=0,dn=null,lu(d,m,M,1);break;case 2:case 9:if(DS(M)){Us=0,dn=null,jA(m);break}m=function(){Us!==2&&Us!==9||sr!==d||(Us=7),wi(d)},M.then(m,m);break e;case 3:Us=7;break e;case 4:Us=5;break e;case 7:DS(M)?(Us=0,dn=null,jA(m)):(Us=0,dn=null,lu(d,m,M,7));break;case 5:var Y=null;switch(ts.tag){case 26:Y=ts.memoizedState;case 5:case 27:var K=ts;if(!Y||aC(Y)){Us=0,dn=null;var ae=K.sibling;if(ae!==null)ts=ae;else{var Ne=K.return;Ne!==null?(ts=Ne,Op(Ne)):ts=null}break t}}Us=0,dn=null,lu(d,m,M,5);break;case 6:Us=0,dn=null,lu(d,m,M,6);break;case 8:Ev(),xr=6;break e;default:throw Error(s(462))}}WF();break}catch(Oe){yA(d,Oe)}while(!0);return io=xc=null,B.H=w,B.A=A,Fs=p,ts!==null?0:(sr=null,cs=0,rp(),xr)}function WF(){for(;ts!==null&&!rt();)NA(ts)}function NA(d){var m=G_(d.alternate,d,go);d.memoizedProps=d.pendingProps,m===null?Op(d):ts=m}function jA(d){var m=d,p=m.alternate;switch(m.tag){case 15:case 0:m=H_(p,m,m.pendingProps,m.type,void 0,cs);break;case 11:m=H_(p,m,m.pendingProps,m.type.render,m.ref,cs);break;case 5:Yy(m);default:Q_(p,m),m=ts=kS(m,go),m=G_(p,m,go)}d.memoizedProps=d.pendingProps,m===null?Op(d):ts=m}function lu(d,m,p,w){io=xc=null,Yy(m),Jd=null,tm=0;var A=m.return;try{if(DF(d,A,m,p,cs)){xr=1,Ap(d,_n(p,d.current)),ts=null;return}}catch(M){if(A!==null)throw ts=A,M;xr=1,Ap(d,_n(p,d.current)),ts=null;return}m.flags&32768?(ws||w===1?d=!0:ru||(cs&536870912)!==0?d=!1:(el=d=!0,(w===2||w===9||w===3||w===6)&&(w=Tn.current,w!==null&&w.tag===13&&(w.flags|=16384))),kA(m,d)):Op(m)}function Op(d){var m=d;do{if((m.flags&32768)!==0){kA(m,el);return}d=m.return;var p=OF(m.alternate,m,go);if(p!==null){ts=p;return}if(m=m.sibling,m!==null){ts=m;return}ts=m=d}while(m!==null);xr===0&&(xr=5)}function kA(d,m){do{var p=LF(d.alternate,d);if(p!==null){p.flags&=32767,ts=p;return}if(p=d.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!m&&(d=d.sibling,d!==null)){ts=d;return}ts=d=p}while(d!==null);xr=6,ts=null}function SA(d,m,p,w,A,M,Y,K,ae){d.cancelPendingCommit=null;do Lp();while(oa!==0);if((Fs&6)!==0)throw Error(s(327));if(m!==null){if(m===d.current)throw Error(s(177));if(M=m.lanes|m.childLanes,M|=wy,Os(d,p,M,Y,K,ae),d===sr&&(ts=sr=null,cs=0),nu=m,rl=d,iu=p,_v=M,Av=A,gA=w,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,GF(et,function(){return TA(),null})):(d.callbackNode=null,d.callbackPriority=0),w=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||w){w=B.T,B.T=null,A=q.p,q.p=2,Y=Fs,Fs|=4;try{FF(d,m,p)}finally{Fs=Y,q.p=A,B.T=w}}oa=1,_A(),AA(),CA()}}function _A(){if(oa===1){oa=0;var d=rl,m=nu,p=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||p){p=B.T,B.T=null;var w=q.p;q.p=2;var A=Fs;Fs|=4;try{lA(m,d);var M=Hv,Y=fS(d.containerInfo),K=M.focusedElem,ae=M.selectionRange;if(Y!==K&&K&&K.ownerDocument&&mS(K.ownerDocument.documentElement,K)){if(ae!==null&&py(K)){var Ne=ae.start,Oe=ae.end;if(Oe===void 0&&(Oe=Ne),"selectionStart"in K)K.selectionStart=Ne,K.selectionEnd=Math.min(Oe,K.value.length);else{var ze=K.ownerDocument||document,Se=ze&&ze.defaultView||window;if(Se.getSelection){var Ae=Se.getSelection(),Pt=K.textContent.length,Ct=Math.min(ae.start,Pt),Ws=ae.end===void 0?Ct:Math.min(ae.end,Pt);!Ae.extend&&Ct>Ws&&(Y=Ws,Ws=Ct,Ct=Y);var me=hS(K,Ct),le=hS(K,Ws);if(me&&le&&(Ae.rangeCount!==1||Ae.anchorNode!==me.node||Ae.anchorOffset!==me.offset||Ae.focusNode!==le.node||Ae.focusOffset!==le.offset)){var ve=ze.createRange();ve.setStart(me.node,me.offset),Ae.removeAllRanges(),Ct>Ws?(Ae.addRange(ve),Ae.extend(le.node,le.offset)):(ve.setEnd(le.node,le.offset),Ae.addRange(ve))}}}}for(ze=[],Ae=K;Ae=Ae.parentNode;)Ae.nodeType===1&&ze.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<ze.length;K++){var Le=ze[K];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}Gp=!!Bv,Hv=Bv=null}finally{Fs=A,q.p=w,B.T=p}}d.current=m,oa=2}}function AA(){if(oa===2){oa=0;var d=rl,m=nu,p=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||p){p=B.T,B.T=null;var w=q.p;q.p=2;var A=Fs;Fs|=4;try{aA(d,m.alternate,m)}finally{Fs=A,q.p=w,B.T=p}}oa=3}}function CA(){if(oa===4||oa===3){oa=0,be();var d=rl,m=nu,p=iu,w=gA;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?oa=5:(oa=0,nu=rl=null,EA(d,d.pendingLanes));var A=d.pendingLanes;if(A===0&&(sl=null),tr(p),m=m.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Ft,m,void 0,(m.current.flags&128)===128)}catch{}if(w!==null){m=B.T,A=q.p,q.p=2,B.T=null;try{for(var M=d.onRecoverableError,Y=0;Y<w.length;Y++){var K=w[Y];M(K.value,{componentStack:K.stack})}}finally{B.T=m,q.p=A}}(iu&3)!==0&&Lp(),wi(d),A=d.pendingLanes,(p&4194090)!==0&&(A&42)!==0?d===Cv?dm++:(dm=0,Cv=d):dm=0,um(0)}}function EA(d,m){(d.pooledCacheLanes&=m)===0&&(m=d.pooledCache,m!=null&&(d.pooledCache=null,$h(m)))}function Lp(d){return _A(),AA(),CA(),TA()}function TA(){if(oa!==5)return!1;var d=rl,m=_v;_v=0;var p=tr(iu),w=B.T,A=q.p;try{q.p=32>p?32:p,B.T=null,p=Av,Av=null;var M=rl,Y=iu;if(oa=0,nu=rl=null,iu=0,(Fs&6)!==0)throw Error(s(331));var K=Fs;if(Fs|=4,mA(M.current),dA(M,M.current,Y,p),Fs=K,um(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Ft,M)}catch{}return!0}finally{q.p=A,B.T=w,EA(d,m)}}function PA(d,m,p){m=_n(p,m),m=iv(d.stateNode,m,2),d=qo(d,m,2),d!==null&&(Ms(d,2),wi(d))}function Js(d,m,p){if(d.tag===3)PA(d,d,p);else for(;m!==null;){if(m.tag===3){PA(m,d,p);break}else if(m.tag===1){var w=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(sl===null||!sl.has(w))){d=_n(p,d),p=M_(2),w=qo(m,p,2),w!==null&&(O_(p,w,m,d),Ms(w,2),wi(w));break}}m=m.return}}function Rv(d,m,p){var w=d.pingCache;if(w===null){w=d.pingCache=new VF;var A=new Set;w.set(m,A)}else A=w.get(m),A===void 0&&(A=new Set,w.set(m,A));A.has(p)||(Nv=!0,A.add(p),d=YF.bind(null,d,m,p),m.then(d,d))}function YF(d,m,p){var w=d.pingCache;w!==null&&w.delete(m),d.pingedLanes|=d.suspendedLanes&p,d.warmLanes&=~p,sr===d&&(cs&p)===p&&(xr===4||xr===3&&(cs&62914560)===cs&&300>Ve()-Sv?(Fs&2)===0&&ou(d,0):jv|=p,au===cs&&(au=0)),wi(d)}function RA(d,m){m===0&&(m=nr()),d=Hd(d,m),d!==null&&(Ms(d,m),wi(d))}function qF(d){var m=d.memoizedState,p=0;m!==null&&(p=m.retryLane),RA(d,p)}function XF(d,m){var p=0;switch(d.tag){case 13:var w=d.stateNode,A=d.memoizedState;A!==null&&(p=A.retryLane);break;case 19:w=d.stateNode;break;case 22:w=d.stateNode._retryCache;break;default:throw Error(s(314))}w!==null&&w.delete(m),RA(d,p)}function GF(d,m){return Ee(d,m)}var Fp=null,cu=null,Iv=!1,Up=!1,Dv=!1,kc=0;function wi(d){d!==cu&&d.next===null&&(cu===null?Fp=cu=d:cu=cu.next=d),Up=!0,Iv||(Iv=!0,QF())}function um(d,m){if(!Dv&&Up){Dv=!0;do for(var p=!1,w=Fp;w!==null;){if(d!==0){var A=w.pendingLanes;if(A===0)var M=0;else{var Y=w.suspendedLanes,K=w.pingedLanes;M=(1<<31-gt(42|d)+1)-1,M&=A&~(Y&~K),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(p=!0,OA(w,M))}else M=cs,M=jt(w,w===sr?M:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(M&3)===0||Mt(w,M)||(p=!0,OA(w,M));w=w.next}while(p);Dv=!1}}function KF(){IA()}function IA(){Up=Iv=!1;var d=0;kc!==0&&(n8()&&(d=kc),kc=0);for(var m=Ve(),p=null,w=Fp;w!==null;){var A=w.next,M=DA(w,m);M===0?(w.next=null,p===null?Fp=A:p.next=A,A===null&&(cu=p)):(p=w,(d!==0||(M&3)!==0)&&(Up=!0)),w=A}um(d)}function DA(d,m){for(var p=d.suspendedLanes,w=d.pingedLanes,A=d.expirationTimes,M=d.pendingLanes&-62914561;0<M;){var Y=31-gt(M),K=1<<Y,ae=A[Y];ae===-1?((K&p)===0||(K&w)!==0)&&(A[Y]=ar(K,m)):ae<=m&&(d.expiredLanes|=K),M&=~K}if(m=sr,p=cs,p=jt(d,d===m?p:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),w=d.callbackNode,p===0||d===m&&(Us===2||Us===9)||d.cancelPendingCommit!==null)return w!==null&&w!==null&&$e(w),d.callbackNode=null,d.callbackPriority=0;if((p&3)===0||Mt(d,p)){if(m=p&-p,m===d.callbackPriority)return m;switch(w!==null&&$e(w),tr(p)){case 2:case 8:p=Ge;break;case 32:p=et;break;case 268435456:p=es;break;default:p=et}return w=MA.bind(null,d),p=Ee(p,w),d.callbackPriority=m,d.callbackNode=p,m}return w!==null&&w!==null&&$e(w),d.callbackPriority=2,d.callbackNode=null,2}function MA(d,m){if(oa!==0&&oa!==5)return d.callbackNode=null,d.callbackPriority=0,null;var p=d.callbackNode;if(Lp()&&d.callbackNode!==p)return null;var w=cs;return w=jt(d,d===sr?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),w===0?null:(xA(d,w,m),DA(d,Ve()),d.callbackNode!=null&&d.callbackNode===p?MA.bind(null,d):null)}function OA(d,m){if(Lp())return null;xA(d,m,!0)}function QF(){o8(function(){(Fs&6)!==0?Ee(We,KF):IA()})}function Mv(){return kc===0&&(kc=Is()),kc}function LA(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Pd(""+d)}function FA(d,m){var p=m.ownerDocument.createElement("input");return p.name=m.name,p.value=m.value,d.id&&p.setAttribute("form",d.id),m.parentNode.insertBefore(p,m),d=new FormData(d),p.parentNode.removeChild(p),d}function ZF(d,m,p,w,A){if(m==="submit"&&p&&p.stateNode===A){var M=LA((A[ye]||null).action),Y=w.submitter;Y&&(m=(m=Y[ye]||null)?LA(m.formAction):Y.getAttribute("formAction"),m!==null&&(M=m,Y=null));var K=new Rd("action","action",null,w,A);d.push({event:K,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(kc!==0){var ae=Y?FA(A,Y):new FormData(A);tv(p,{pending:!0,data:ae,method:A.method,action:M},null,ae)}}else typeof M=="function"&&(K.preventDefault(),ae=Y?FA(A,Y):new FormData(A),tv(p,{pending:!0,data:ae,method:A.method,action:M},M,ae))},currentTarget:A}]})}}for(var Ov=0;Ov<vy.length;Ov++){var Lv=vy[Ov],JF=Lv.toLowerCase(),e8=Lv[0].toUpperCase()+Lv.slice(1);Wn(JF,"on"+e8)}Wn(xS,"onAnimationEnd"),Wn(bS,"onAnimationIteration"),Wn(yS,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(xF,"onTransitionRun"),Wn(bF,"onTransitionStart"),Wn(yF,"onTransitionCancel"),Wn(vS,"onTransitionEnd"),$a("onMouseEnter",["mouseout","mouseover"]),$a("onMouseLeave",["mouseout","mouseover"]),$a("onPointerEnter",["pointerout","pointerover"]),$a("onPointerLeave",["pointerout","pointerover"]),Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hm));function UA(d,m){m=(m&4)!==0;for(var p=0;p<d.length;p++){var w=d[p],A=w.event;w=w.listeners;e:{var M=void 0;if(m)for(var Y=w.length-1;0<=Y;Y--){var K=w[Y],ae=K.instance,Ne=K.currentTarget;if(K=K.listener,ae!==M&&A.isPropagationStopped())break e;M=K,A.currentTarget=Ne;try{M(A)}catch(Oe){_p(Oe)}A.currentTarget=null,M=ae}else for(Y=0;Y<w.length;Y++){if(K=w[Y],ae=K.instance,Ne=K.currentTarget,K=K.listener,ae!==M&&A.isPropagationStopped())break e;M=K,A.currentTarget=Ne;try{M(A)}catch(Oe){_p(Oe)}A.currentTarget=null,M=ae}}}}function ss(d,m){var p=m[He];p===void 0&&(p=m[He]=new Set);var w=d+"__bubble";p.has(w)||(zA(m,d,2,!1),p.add(w))}function Fv(d,m,p){var w=0;m&&(w|=4),zA(p,d,w,m)}var zp="_reactListening"+Math.random().toString(36).slice(2);function Uv(d){if(!d[zp]){d[zp]=!0,li.forEach(function(p){p!=="selectionchange"&&(t8.has(p)||Fv(p,!1,d),Fv(p,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[zp]||(m[zp]=!0,Fv("selectionchange",!1,m))}}function zA(d,m,p,w){switch(dC(m)){case 2:var A=C8;break;case 8:A=E8;break;default:A=Jv}p=A.bind(null,m,p,d),A=void 0,!kn||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(A=!0),w?A!==void 0?d.addEventListener(m,p,{capture:!0,passive:A}):d.addEventListener(m,p,!0):A!==void 0?d.addEventListener(m,p,{passive:A}):d.addEventListener(m,p,!1)}function zv(d,m,p,w,A){var M=w;if((m&1)===0&&(m&2)===0&&w!==null)e:for(;;){if(w===null)return;var Y=w.tag;if(Y===3||Y===4){var K=w.stateNode.containerInfo;if(K===A)break;if(Y===4)for(Y=w.return;Y!==null;){var ae=Y.tag;if((ae===3||ae===4)&&Y.stateNode.containerInfo===A)return;Y=Y.return}for(;K!==null;){if(Y=wn(K),Y===null)return;if(ae=Y.tag,ae===5||ae===6||ae===26||ae===27){w=M=Y;continue e}K=K.parentNode}}w=w.return}Bg(function(){var Ne=M,Oe=jn(p),ze=[];e:{var Se=wS.get(d);if(Se!==void 0){var Ae=Rd,Pt=d;switch(d){case"keypress":if(hi(p)===0)break e;case"keydown":case"keyup":Ae=Fd;break;case"focusin":Pt="focus",Ae=Md;break;case"focusout":Pt="blur",Ae=Md;break;case"beforeblur":case"afterblur":Ae=Md;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=Kg;break;case xS:case bS:case yS:Ae=Od;break;case vS:Ae=Zg;break;case"scroll":case"scrollend":Ae=Hg;break;case"wheel":Ae=Ud;break;case"copy":case"cut":case"paste":Ae=Ld;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=Oh;break;case"toggle":case"beforetoggle":Ae=ep}var Ct=(m&4)!==0,Ws=!Ct&&(d==="scroll"||d==="scrollend"),me=Ct?Se!==null?Se+"Capture":null:Se;Ct=[];for(var le=Ne,ve;le!==null;){var Le=le;if(ve=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||ve===null||me===null||(Le=rc(le,me),Le!=null&&Ct.push(mm(le,Le,ve))),Ws)break;le=le.return}0<Ct.length&&(Se=new Ae(Se,Pt,null,p,Oe),ze.push({event:Se,listeners:Ct}))}}if((m&7)===0){e:{if(Se=d==="mouseover"||d==="pointerover",Ae=d==="mouseout"||d==="pointerout",Se&&p!==Qi&&(Pt=p.relatedTarget||p.fromElement)&&(wn(Pt)||Pt[_e]))break e;if((Ae||Se)&&(Se=Oe.window===Oe?Oe:(Se=Oe.ownerDocument)?Se.defaultView||Se.parentWindow:window,Ae?(Pt=p.relatedTarget||p.toElement,Ae=Ne,Pt=Pt?wn(Pt):null,Pt!==null&&(Ws=i(Pt),Ct=Pt.tag,Pt!==Ws||Ct!==5&&Ct!==27&&Ct!==6)&&(Pt=null)):(Ae=null,Pt=Ne),Ae!==Pt)){if(Ct=Sn,Le="onMouseLeave",me="onMouseEnter",le="mouse",(d==="pointerout"||d==="pointerover")&&(Ct=Oh,Le="onPointerLeave",me="onPointerEnter",le="pointer"),Ws=Ae==null?Se:is(Ae),ve=Pt==null?Se:is(Pt),Se=new Ct(Le,le+"leave",Ae,p,Oe),Se.target=Ws,Se.relatedTarget=ve,Le=null,wn(Oe)===Ne&&(Ct=new Ct(me,le+"enter",Pt,p,Oe),Ct.target=ve,Ct.relatedTarget=Ws,Le=Ct),Ws=Le,Ae&&Pt)t:{for(Ct=Ae,me=Pt,le=0,ve=Ct;ve;ve=du(ve))le++;for(ve=0,Le=me;Le;Le=du(Le))ve++;for(;0<le-ve;)Ct=du(Ct),le--;for(;0<ve-le;)me=du(me),ve--;for(;le--;){if(Ct===me||me!==null&&Ct===me.alternate)break t;Ct=du(Ct),me=du(me)}Ct=null}else Ct=null;Ae!==null&&VA(ze,Se,Ae,Ct,!1),Pt!==null&&Ws!==null&&VA(ze,Ws,Pt,Ct,!0)}}e:{if(Se=Ne?is(Ne):window,Ae=Se.nodeName&&Se.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&Se.type==="file")var ut=iS;else if(Br(Se))if(oS)ut=fF;else{ut=hF;var Jt=uF}else Ae=Se.nodeName,!Ae||Ae.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?Ne&&Eh(Ne.elementType)&&(ut=iS):ut=mF;if(ut&&(ut=ut(d,Ne))){so(ze,ut,p,Oe);break e}Jt&&Jt(d,Se,Ne),d==="focusout"&&Ne&&Se.type==="number"&&Ne.memoizedProps.value!=null&&Bo(Se,"number",Se.value)}switch(Jt=Ne?is(Ne):window,d){case"focusin":(Br(Jt)||Jt.contentEditable==="true")&&(zd=Jt,xy=Ne,Uh=null);break;case"focusout":Uh=xy=zd=null;break;case"mousedown":by=!0;break;case"contextmenu":case"mouseup":case"dragend":by=!1,gS(ze,p,Oe);break;case"selectionchange":if(pF)break;case"keydown":case"keyup":gS(ze,p,Oe)}var bt;if(gi)e:{switch(d){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else os?Te(d,p)&&(Et="onCompositionEnd"):d==="keydown"&&p.keyCode===229&&(Et="onCompositionStart");Et&&(W&&p.locale!=="ko"&&(os||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&os&&(bt=Ph()):(ui=Oe,Ho="value"in ui?ui.value:ui.textContent,os=!0)),Jt=Vp(Ne,Et),0<Jt.length&&(Et=new Dh(Et,d,null,p,Oe),ze.push({event:Et,listeners:Jt}),bt?Et.data=bt:(bt=Qe(p),bt!==null&&(Et.data=bt)))),(bt=U?Vr(d,p):ls(d,p))&&(Et=Vp(Ne,"onBeforeInput"),0<Et.length&&(Jt=new Dh("onBeforeInput","beforeinput",null,p,Oe),ze.push({event:Jt,listeners:Et}),Jt.data=bt)),ZF(ze,d,Ne,p,Oe)}UA(ze,m)})}function mm(d,m,p){return{instance:d,listener:m,currentTarget:p}}function Vp(d,m){for(var p=m+"Capture",w=[];d!==null;){var A=d,M=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||M===null||(A=rc(d,p),A!=null&&w.unshift(mm(d,A,M)),A=rc(d,m),A!=null&&w.push(mm(d,A,M))),d.tag===3)return w;d=d.return}return[]}function du(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function VA(d,m,p,w,A){for(var M=m._reactName,Y=[];p!==null&&p!==w;){var K=p,ae=K.alternate,Ne=K.stateNode;if(K=K.tag,ae!==null&&ae===w)break;K!==5&&K!==26&&K!==27||Ne===null||(ae=Ne,A?(Ne=rc(p,M),Ne!=null&&Y.unshift(mm(p,Ne,ae))):A||(Ne=rc(p,M),Ne!=null&&Y.push(mm(p,Ne,ae)))),p=p.return}Y.length!==0&&d.push({event:m,listeners:Y})}var s8=/\r\n?/g,r8=/\u0000|\uFFFD/g;function BA(d){return(typeof d=="string"?d:""+d).replace(s8,`
`).replace(r8,"")}function HA(d,m){return m=BA(m),BA(d)===m}function Bp(){}function $s(d,m,p,w,A,M){switch(p){case"children":typeof w=="string"?m==="body"||m==="textarea"&&w===""||Nn(d,w):(typeof w=="number"||typeof w=="bigint")&&m!=="body"&&Nn(d,""+w);break;case"className":at(d,"class",w);break;case"tabIndex":at(d,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":at(d,p,w);break;case"style":Ch(d,w,M);break;case"data":if(m!=="object"){at(d,"data",w);break}case"src":case"href":if(w===""&&(m!=="a"||p!=="href")){d.removeAttribute(p);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){d.removeAttribute(p);break}w=Pd(""+w),d.setAttribute(p,w);break;case"action":case"formAction":if(typeof w=="function"){d.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(p==="formAction"?(m!=="input"&&$s(d,m,"name",A.name,A,null),$s(d,m,"formEncType",A.formEncType,A,null),$s(d,m,"formMethod",A.formMethod,A,null),$s(d,m,"formTarget",A.formTarget,A,null)):($s(d,m,"encType",A.encType,A,null),$s(d,m,"method",A.method,A,null),$s(d,m,"target",A.target,A,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){d.removeAttribute(p);break}w=Pd(""+w),d.setAttribute(p,w);break;case"onClick":w!=null&&(d.onclick=Bp);break;case"onScroll":w!=null&&ss("scroll",d);break;case"onScrollEnd":w!=null&&ss("scrollend",d);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(s(61));if(p=w.__html,p!=null){if(A.children!=null)throw Error(s(60));d.innerHTML=p}}break;case"multiple":d.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":d.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){d.removeAttribute("xlink:href");break}p=Pd(""+w),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(p,""+w):d.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(p,""):d.removeAttribute(p);break;case"capture":case"download":w===!0?d.setAttribute(p,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(p,w):d.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?d.setAttribute(p,w):d.removeAttribute(p);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?d.removeAttribute(p):d.setAttribute(p,w);break;case"popover":ss("beforetoggle",d),ss("toggle",d),Ye(d,"popover",w);break;case"xlinkActuate":ht(d,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":ht(d,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":ht(d,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":ht(d,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":ht(d,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":ht(d,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":ht(d,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":ht(d,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":ht(d,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Ye(d,"is",w);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=dy.get(p)||p,Ye(d,p,w))}}function Vv(d,m,p,w,A,M){switch(p){case"style":Ch(d,w,M);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(s(61));if(p=w.__html,p!=null){if(A.children!=null)throw Error(s(60));d.innerHTML=p}}break;case"children":typeof w=="string"?Nn(d,w):(typeof w=="number"||typeof w=="bigint")&&Nn(d,""+w);break;case"onScroll":w!=null&&ss("scroll",d);break;case"onScrollEnd":w!=null&&ss("scrollend",d);break;case"onClick":w!=null&&(d.onclick=Bp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ci.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(A=p.endsWith("Capture"),m=p.slice(2,A?p.length-7:void 0),M=d[ye]||null,M=M!=null?M[p]:null,typeof M=="function"&&d.removeEventListener(m,M,A),typeof w=="function")){typeof M!="function"&&M!==null&&(p in d?d[p]=null:d.hasAttribute(p)&&d.removeAttribute(p)),d.addEventListener(m,w,A);break e}p in d?d[p]=w:w===!0?d.setAttribute(p,""):Ye(d,p,w)}}}function la(d,m,p){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ss("error",d),ss("load",d);var w=!1,A=!1,M;for(M in p)if(p.hasOwnProperty(M)){var Y=p[M];if(Y!=null)switch(M){case"src":w=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,m));default:$s(d,m,M,Y,p,null)}}A&&$s(d,m,"srcSet",p.srcSet,p,null),w&&$s(d,m,"src",p.src,p,null);return;case"input":ss("invalid",d);var K=M=Y=A=null,ae=null,Ne=null;for(w in p)if(p.hasOwnProperty(w)){var Oe=p[w];if(Oe!=null)switch(w){case"name":A=Oe;break;case"type":Y=Oe;break;case"checked":ae=Oe;break;case"defaultChecked":Ne=Oe;break;case"value":M=Oe;break;case"defaultValue":K=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(s(137,m));break;default:$s(d,m,w,Oe,p,null)}}ec(d,M,K,ae,Ne,Y,A,!1),Td(d);return;case"select":ss("invalid",d),w=Y=M=null;for(A in p)if(p.hasOwnProperty(A)&&(K=p[A],K!=null))switch(A){case"value":M=K;break;case"defaultValue":Y=K;break;case"multiple":w=K;default:$s(d,m,A,K,p,null)}m=M,p=Y,d.multiple=!!w,m!=null?Ki(d,!!w,m,!1):p!=null&&Ki(d,!!w,p,!0);return;case"textarea":ss("invalid",d),M=A=w=null;for(Y in p)if(p.hasOwnProperty(Y)&&(K=p[Y],K!=null))switch(Y){case"value":w=K;break;case"defaultValue":A=K;break;case"children":M=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(91));break;default:$s(d,m,Y,K,p,null)}tc(d,w,A,M),Td(d);return;case"option":for(ae in p)if(p.hasOwnProperty(ae)&&(w=p[ae],w!=null))switch(ae){case"selected":d.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:$s(d,m,ae,w,p,null)}return;case"dialog":ss("beforetoggle",d),ss("toggle",d),ss("cancel",d),ss("close",d);break;case"iframe":case"object":ss("load",d);break;case"video":case"audio":for(w=0;w<hm.length;w++)ss(hm[w],d);break;case"image":ss("error",d),ss("load",d);break;case"details":ss("toggle",d);break;case"embed":case"source":case"link":ss("error",d),ss("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in p)if(p.hasOwnProperty(Ne)&&(w=p[Ne],w!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,m));default:$s(d,m,Ne,w,p,null)}return;default:if(Eh(m)){for(Oe in p)p.hasOwnProperty(Oe)&&(w=p[Oe],w!==void 0&&Vv(d,m,Oe,w,p,void 0));return}}for(K in p)p.hasOwnProperty(K)&&(w=p[K],w!=null&&$s(d,m,K,w,p,null))}function a8(d,m,p,w){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,M=null,Y=null,K=null,ae=null,Ne=null,Oe=null;for(Ae in p){var ze=p[Ae];if(p.hasOwnProperty(Ae)&&ze!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":ae=ze;default:w.hasOwnProperty(Ae)||$s(d,m,Ae,null,w,ze)}}for(var Se in w){var Ae=w[Se];if(ze=p[Se],w.hasOwnProperty(Se)&&(Ae!=null||ze!=null))switch(Se){case"type":M=Ae;break;case"name":A=Ae;break;case"checked":Ne=Ae;break;case"defaultChecked":Oe=Ae;break;case"value":Y=Ae;break;case"defaultValue":K=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(s(137,m));break;default:Ae!==ze&&$s(d,m,Se,Ae,w,ze)}}an(d,Y,K,ae,Ne,Oe,M,A);return;case"select":Ae=Y=K=Se=null;for(M in p)if(ae=p[M],p.hasOwnProperty(M)&&ae!=null)switch(M){case"value":break;case"multiple":Ae=ae;default:w.hasOwnProperty(M)||$s(d,m,M,null,w,ae)}for(A in w)if(M=w[A],ae=p[A],w.hasOwnProperty(A)&&(M!=null||ae!=null))switch(A){case"value":Se=M;break;case"defaultValue":K=M;break;case"multiple":Y=M;default:M!==ae&&$s(d,m,A,M,w,ae)}m=K,p=Y,w=Ae,Se!=null?Ki(d,!!p,Se,!1):!!w!=!!p&&(m!=null?Ki(d,!!p,m,!0):Ki(d,!!p,p?[]:"",!1));return;case"textarea":Ae=Se=null;for(K in p)if(A=p[K],p.hasOwnProperty(K)&&A!=null&&!w.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:$s(d,m,K,null,w,A)}for(Y in w)if(A=w[Y],M=p[Y],w.hasOwnProperty(Y)&&(A!=null||M!=null))switch(Y){case"value":Se=A;break;case"defaultValue":Ae=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:A!==M&&$s(d,m,Y,A,w,M)}Bs(d,Se,Ae);return;case"option":for(var Pt in p)if(Se=p[Pt],p.hasOwnProperty(Pt)&&Se!=null&&!w.hasOwnProperty(Pt))switch(Pt){case"selected":d.selected=!1;break;default:$s(d,m,Pt,null,w,Se)}for(ae in w)if(Se=w[ae],Ae=p[ae],w.hasOwnProperty(ae)&&Se!==Ae&&(Se!=null||Ae!=null))switch(ae){case"selected":d.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:$s(d,m,ae,Se,w,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in p)Se=p[Ct],p.hasOwnProperty(Ct)&&Se!=null&&!w.hasOwnProperty(Ct)&&$s(d,m,Ct,null,w,Se);for(Ne in w)if(Se=w[Ne],Ae=p[Ne],w.hasOwnProperty(Ne)&&Se!==Ae&&(Se!=null||Ae!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(s(137,m));break;default:$s(d,m,Ne,Se,w,Ae)}return;default:if(Eh(m)){for(var Ws in p)Se=p[Ws],p.hasOwnProperty(Ws)&&Se!==void 0&&!w.hasOwnProperty(Ws)&&Vv(d,m,Ws,void 0,w,Se);for(Oe in w)Se=w[Oe],Ae=p[Oe],!w.hasOwnProperty(Oe)||Se===Ae||Se===void 0&&Ae===void 0||Vv(d,m,Oe,Se,w,Ae);return}}for(var me in p)Se=p[me],p.hasOwnProperty(me)&&Se!=null&&!w.hasOwnProperty(me)&&$s(d,m,me,null,w,Se);for(ze in w)Se=w[ze],Ae=p[ze],!w.hasOwnProperty(ze)||Se===Ae||Se==null&&Ae==null||$s(d,m,ze,Se,w,Ae)}var Bv=null,Hv=null;function Hp(d){return d.nodeType===9?d:d.ownerDocument}function $A(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function WA(d,m){if(d===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&m==="foreignObject"?0:d}function $v(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Wv=null;function n8(){var d=window.event;return d&&d.type==="popstate"?d===Wv?!1:(Wv=d,!0):(Wv=null,!1)}var YA=typeof setTimeout=="function"?setTimeout:void 0,i8=typeof clearTimeout=="function"?clearTimeout:void 0,qA=typeof Promise=="function"?Promise:void 0,o8=typeof queueMicrotask=="function"?queueMicrotask:typeof qA<"u"?function(d){return qA.resolve(null).then(d).catch(l8)}:YA;function l8(d){setTimeout(function(){throw d})}function nl(d){return d==="head"}function XA(d,m){var p=m,w=0,A=0;do{var M=p.nextSibling;if(d.removeChild(p),M&&M.nodeType===8)if(p=M.data,p==="/$"){if(0<w&&8>w){p=w;var Y=d.ownerDocument;if(p&1&&fm(Y.documentElement),p&2&&fm(Y.body),p&4)for(p=Y.head,fm(p),Y=p.firstChild;Y;){var K=Y.nextSibling,ae=Y.nodeName;Y[Sr]||ae==="SCRIPT"||ae==="STYLE"||ae==="LINK"&&Y.rel.toLowerCase()==="stylesheet"||p.removeChild(Y),Y=K}}if(A===0){d.removeChild(M),Nm(m);return}A--}else p==="$"||p==="$?"||p==="$!"?A++:w=p.charCodeAt(0)-48;else w=0;p=M}while(p);Nm(m)}function Yv(d){var m=d.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var p=m;switch(m=m.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Yv(p),_a(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}d.removeChild(p)}}function c8(d,m,p,w){for(;d.nodeType===1;){var A=p;if(d.nodeName.toLowerCase()!==m.toLowerCase()){if(!w&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(w){if(!d[Sr])switch(m){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(M=d.getAttribute("rel"),M==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(M!==A.rel||d.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||d.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||d.getAttribute("title")!==(A.title==null?null:A.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(M=d.getAttribute("src"),(M!==(A.src==null?null:A.src)||d.getAttribute("type")!==(A.type==null?null:A.type)||d.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&M&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(m==="input"&&d.type==="hidden"){var M=A.name==null?null:""+A.name;if(A.type==="hidden"&&d.getAttribute("name")===M)return d}else return d;if(d=qn(d.nextSibling),d===null)break}return null}function d8(d,m,p){if(m==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!p||(d=qn(d.nextSibling),d===null))return null;return d}function qv(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState==="complete"}function u8(d,m){var p=d.ownerDocument;if(d.data!=="$?"||p.readyState==="complete")m();else{var w=function(){m(),p.removeEventListener("DOMContentLoaded",w)};p.addEventListener("DOMContentLoaded",w),d._reactRetry=w}}function qn(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return d}var Xv=null;function GA(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var p=d.data;if(p==="$"||p==="$!"||p==="$?"){if(m===0)return d;m--}else p==="/$"&&m++}d=d.previousSibling}return null}function KA(d,m,p){switch(m=Hp(p),d){case"html":if(d=m.documentElement,!d)throw Error(s(452));return d;case"head":if(d=m.head,!d)throw Error(s(453));return d;case"body":if(d=m.body,!d)throw Error(s(454));return d;default:throw Error(s(451))}}function fm(d){for(var m=d.attributes;m.length;)d.removeAttributeNode(m[0]);_a(d)}var Rn=new Map,QA=new Set;function $p(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var po=q.d;q.d={f:h8,r:m8,D:f8,C:g8,L:p8,m:x8,X:y8,S:b8,M:v8};function h8(){var d=po.f(),m=Mp();return d||m}function m8(d){var m=Ba(d);m!==null&&m.tag===5&&m.type==="form"?x_(m):po.r(d)}var uu=typeof document>"u"?null:document;function ZA(d,m,p){var w=uu;if(w&&typeof m=="string"&&m){var A=Ir(m);A='link[rel="'+d+'"][href="'+A+'"]',typeof p=="string"&&(A+='[crossorigin="'+p+'"]'),QA.has(A)||(QA.add(A),d={rel:d,crossOrigin:p,href:m},w.querySelector(A)===null&&(m=w.createElement("link"),la(m,"link",d),Ls(m),w.head.appendChild(m)))}}function f8(d){po.D(d),ZA("dns-prefetch",d,null)}function g8(d,m){po.C(d,m),ZA("preconnect",d,m)}function p8(d,m,p){po.L(d,m,p);var w=uu;if(w&&d&&m){var A='link[rel="preload"][as="'+Ir(m)+'"]';m==="image"&&p&&p.imageSrcSet?(A+='[imagesrcset="'+Ir(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(A+='[imagesizes="'+Ir(p.imageSizes)+'"]')):A+='[href="'+Ir(d)+'"]';var M=A;switch(m){case"style":M=hu(d);break;case"script":M=mu(d)}Rn.has(M)||(d=h({rel:"preload",href:m==="image"&&p&&p.imageSrcSet?void 0:d,as:m},p),Rn.set(M,d),w.querySelector(A)!==null||m==="style"&&w.querySelector(gm(M))||m==="script"&&w.querySelector(pm(M))||(m=w.createElement("link"),la(m,"link",d),Ls(m),w.head.appendChild(m)))}}function x8(d,m){po.m(d,m);var p=uu;if(p&&d){var w=m&&typeof m.as=="string"?m.as:"script",A='link[rel="modulepreload"][as="'+Ir(w)+'"][href="'+Ir(d)+'"]',M=A;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=mu(d)}if(!Rn.has(M)&&(d=h({rel:"modulepreload",href:d},m),Rn.set(M,d),p.querySelector(A)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(pm(M)))return}w=p.createElement("link"),la(w,"link",d),Ls(w),p.head.appendChild(w)}}}function b8(d,m,p){po.S(d,m,p);var w=uu;if(w&&d){var A=Gr(w).hoistableStyles,M=hu(d);m=m||"default";var Y=A.get(M);if(!Y){var K={loading:0,preload:null};if(Y=w.querySelector(gm(M)))K.loading=5;else{d=h({rel:"stylesheet",href:d,"data-precedence":m},p),(p=Rn.get(M))&&Gv(d,p);var ae=Y=w.createElement("link");Ls(ae),la(ae,"link",d),ae._p=new Promise(function(Ne,Oe){ae.onload=Ne,ae.onerror=Oe}),ae.addEventListener("load",function(){K.loading|=1}),ae.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Wp(Y,m,w)}Y={type:"stylesheet",instance:Y,count:1,state:K},A.set(M,Y)}}}function y8(d,m){po.X(d,m);var p=uu;if(p&&d){var w=Gr(p).hoistableScripts,A=mu(d),M=w.get(A);M||(M=p.querySelector(pm(A)),M||(d=h({src:d,async:!0},m),(m=Rn.get(A))&&Kv(d,m),M=p.createElement("script"),Ls(M),la(M,"link",d),p.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},w.set(A,M))}}function v8(d,m){po.M(d,m);var p=uu;if(p&&d){var w=Gr(p).hoistableScripts,A=mu(d),M=w.get(A);M||(M=p.querySelector(pm(A)),M||(d=h({src:d,async:!0,type:"module"},m),(m=Rn.get(A))&&Kv(d,m),M=p.createElement("script"),Ls(M),la(M,"link",d),p.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},w.set(A,M))}}function JA(d,m,p,w){var A=(A=de.current)?$p(A):null;if(!A)throw Error(s(446));switch(d){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(m=hu(p.href),p=Gr(A).hoistableStyles,w=p.get(m),w||(w={type:"style",instance:null,count:0,state:null},p.set(m,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){d=hu(p.href);var M=Gr(A).hoistableStyles,Y=M.get(d);if(Y||(A=A.ownerDocument||A,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(d,Y),(M=A.querySelector(gm(d)))&&!M._p&&(Y.instance=M,Y.state.loading=5),Rn.has(d)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Rn.set(d,p),M||w8(A,d,p,Y.state))),m&&w===null)throw Error(s(528,""));return Y}if(m&&w!==null)throw Error(s(529,""));return null;case"script":return m=p.async,p=p.src,typeof p=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=mu(p),p=Gr(A).hoistableScripts,w=p.get(m),w||(w={type:"script",instance:null,count:0,state:null},p.set(m,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,d))}}function hu(d){return'href="'+Ir(d)+'"'}function gm(d){return'link[rel="stylesheet"]['+d+"]"}function eC(d){return h({},d,{"data-precedence":d.precedence,precedence:null})}function w8(d,m,p,w){d.querySelector('link[rel="preload"][as="style"]['+m+"]")?w.loading=1:(m=d.createElement("link"),w.preload=m,m.addEventListener("load",function(){return w.loading|=1}),m.addEventListener("error",function(){return w.loading|=2}),la(m,"link",p),Ls(m),d.head.appendChild(m))}function mu(d){return'[src="'+Ir(d)+'"]'}function pm(d){return"script[async]"+d}function tC(d,m,p){if(m.count++,m.instance===null)switch(m.type){case"style":var w=d.querySelector('style[data-href~="'+Ir(p.href)+'"]');if(w)return m.instance=w,Ls(w),w;var A=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return w=(d.ownerDocument||d).createElement("style"),Ls(w),la(w,"style",A),Wp(w,p.precedence,d),m.instance=w;case"stylesheet":A=hu(p.href);var M=d.querySelector(gm(A));if(M)return m.state.loading|=4,m.instance=M,Ls(M),M;w=eC(p),(A=Rn.get(A))&&Gv(w,A),M=(d.ownerDocument||d).createElement("link"),Ls(M);var Y=M;return Y._p=new Promise(function(K,ae){Y.onload=K,Y.onerror=ae}),la(M,"link",w),m.state.loading|=4,Wp(M,p.precedence,d),m.instance=M;case"script":return M=mu(p.src),(A=d.querySelector(pm(M)))?(m.instance=A,Ls(A),A):(w=p,(A=Rn.get(M))&&(w=h({},p),Kv(w,A)),d=d.ownerDocument||d,A=d.createElement("script"),Ls(A),la(A,"link",w),d.head.appendChild(A),m.instance=A);case"void":return null;default:throw Error(s(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(w=m.instance,m.state.loading|=4,Wp(w,p.precedence,d));return m.instance}function Wp(d,m,p){for(var w=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=w.length?w[w.length-1]:null,M=A,Y=0;Y<w.length;Y++){var K=w[Y];if(K.dataset.precedence===m)M=K;else if(M!==A)break}M?M.parentNode.insertBefore(d,M.nextSibling):(m=p.nodeType===9?p.head:p,m.insertBefore(d,m.firstChild))}function Gv(d,m){d.crossOrigin==null&&(d.crossOrigin=m.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=m.referrerPolicy),d.title==null&&(d.title=m.title)}function Kv(d,m){d.crossOrigin==null&&(d.crossOrigin=m.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=m.referrerPolicy),d.integrity==null&&(d.integrity=m.integrity)}var Yp=null;function sC(d,m,p){if(Yp===null){var w=new Map,A=Yp=new Map;A.set(p,w)}else A=Yp,w=A.get(p),w||(w=new Map,A.set(p,w));if(w.has(d))return w;for(w.set(d,null),p=p.getElementsByTagName(d),A=0;A<p.length;A++){var M=p[A];if(!(M[Sr]||M[J]||d==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=M.getAttribute(m)||"";Y=d+Y;var K=w.get(Y);K?K.push(M):w.set(Y,[M])}}return w}function rC(d,m,p){d=d.ownerDocument||d,d.head.insertBefore(p,m==="title"?d.querySelector("head > title"):null)}function N8(d,m,p){if(p===1||m.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return d=m.disabled,typeof m.precedence=="string"&&d==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function aC(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var xm=null;function j8(){}function k8(d,m,p){if(xm===null)throw Error(s(475));var w=xm;if(m.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var A=hu(p.href),M=d.querySelector(gm(A));if(M){d=M._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(w.count++,w=qp.bind(w),d.then(w,w)),m.state.loading|=4,m.instance=M,Ls(M);return}M=d.ownerDocument||d,p=eC(p),(A=Rn.get(A))&&Gv(p,A),M=M.createElement("link"),Ls(M);var Y=M;Y._p=new Promise(function(K,ae){Y.onload=K,Y.onerror=ae}),la(M,"link",p),m.instance=M}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(m,d),(d=m.state.preload)&&(m.state.loading&3)===0&&(w.count++,m=qp.bind(w),d.addEventListener("load",m),d.addEventListener("error",m))}}function S8(){if(xm===null)throw Error(s(475));var d=xm;return d.stylesheets&&d.count===0&&Qv(d,d.stylesheets),0<d.count?function(m){var p=setTimeout(function(){if(d.stylesheets&&Qv(d,d.stylesheets),d.unsuspend){var w=d.unsuspend;d.unsuspend=null,w()}},6e4);return d.unsuspend=m,function(){d.unsuspend=null,clearTimeout(p)}}:null}function qp(){if(this.count--,this.count===0){if(this.stylesheets)Qv(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var Xp=null;function Qv(d,m){d.stylesheets=null,d.unsuspend!==null&&(d.count++,Xp=new Map,m.forEach(_8,d),Xp=null,qp.call(d))}function _8(d,m){if(!(m.state.loading&4)){var p=Xp.get(d);if(p)var w=p.get(null);else{p=new Map,Xp.set(d,p);for(var A=d.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<A.length;M++){var Y=A[M];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(p.set(Y.dataset.precedence,Y),w=Y)}w&&p.set(null,w)}A=m.instance,Y=A.getAttribute("data-precedence"),M=p.get(Y)||w,M===w&&p.set(null,A),p.set(Y,A),this.count++,w=qp.bind(this),A.addEventListener("load",w),A.addEventListener("error",w),M?M.parentNode.insertBefore(A,M.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(A,d.firstChild)),m.state.loading|=4}}var bm={$$typeof:C,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function A8(d,m,p,w,A,M,Y,K){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ds(0),this.hiddenUpdates=Ds(null),this.identifierPrefix=w,this.onUncaughtError=A,this.onCaughtError=M,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function nC(d,m,p,w,A,M,Y,K,ae,Ne,Oe,ze){return d=new A8(d,m,p,Y,K,ae,Ne,ze),m=1,M===!0&&(m|=24),M=on(3,null,null,m),d.current=M,M.stateNode=d,m=Ry(),m.refCount++,d.pooledCache=m,m.refCount++,M.memoizedState={element:w,isDehydrated:p,cache:m},Oy(M),d}function iC(d){return d?(d=$d,d):$d}function oC(d,m,p,w,A,M){A=iC(A),w.context===null?w.context=A:w.pendingContext=A,w=Yo(m),w.payload={element:p},M=M===void 0?null:M,M!==null&&(w.callback=M),p=qo(d,w,m),p!==null&&(hn(p,d,m),Xh(p,d,m))}function lC(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var p=d.retryLane;d.retryLane=p!==0&&p<m?p:m}}function Zv(d,m){lC(d,m),(d=d.alternate)&&lC(d,m)}function cC(d){if(d.tag===13){var m=Hd(d,67108864);m!==null&&hn(m,d,67108864),Zv(d,67108864)}}var Gp=!0;function C8(d,m,p,w){var A=B.T;B.T=null;var M=q.p;try{q.p=2,Jv(d,m,p,w)}finally{q.p=M,B.T=A}}function E8(d,m,p,w){var A=B.T;B.T=null;var M=q.p;try{q.p=8,Jv(d,m,p,w)}finally{q.p=M,B.T=A}}function Jv(d,m,p,w){if(Gp){var A=ew(w);if(A===null)zv(d,m,w,Kp,p),uC(d,w);else if(P8(A,d,m,p,w))w.stopPropagation();else if(uC(d,w),m&4&&-1<T8.indexOf(d)){for(;A!==null;){var M=Ba(A);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var Y=Ks(M.pendingLanes);if(Y!==0){var K=M;for(K.pendingLanes|=2,K.entangledLanes|=2;Y;){var ae=1<<31-gt(Y);K.entanglements[1]|=ae,Y&=~ae}wi(M),(Fs&6)===0&&(Ip=Ve()+500,um(0))}}break;case 13:K=Hd(M,2),K!==null&&hn(K,M,2),Mp(),Zv(M,2)}if(M=ew(w),M===null&&zv(d,m,w,Kp,p),M===A)break;A=M}A!==null&&w.stopPropagation()}else zv(d,m,w,null,p)}}function ew(d){return d=jn(d),tw(d)}var Kp=null;function tw(d){if(Kp=null,d=wn(d),d!==null){var m=i(d);if(m===null)d=null;else{var p=m.tag;if(p===13){if(d=o(m),d!==null)return d;d=null}else if(p===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null)}}return Kp=d,null}function dC(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case We:return 2;case Ge:return 8;case et:case xt:return 32;case es:return 268435456;default:return 32}default:return 32}}var sw=!1,il=null,ol=null,ll=null,ym=new Map,vm=new Map,cl=[],T8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uC(d,m){switch(d){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":ol=null;break;case"mouseover":case"mouseout":ll=null;break;case"pointerover":case"pointerout":ym.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":vm.delete(m.pointerId)}}function wm(d,m,p,w,A,M){return d===null||d.nativeEvent!==M?(d={blockedOn:m,domEventName:p,eventSystemFlags:w,nativeEvent:M,targetContainers:[A]},m!==null&&(m=Ba(m),m!==null&&cC(m)),d):(d.eventSystemFlags|=w,m=d.targetContainers,A!==null&&m.indexOf(A)===-1&&m.push(A),d)}function P8(d,m,p,w,A){switch(m){case"focusin":return il=wm(il,d,m,p,w,A),!0;case"dragenter":return ol=wm(ol,d,m,p,w,A),!0;case"mouseover":return ll=wm(ll,d,m,p,w,A),!0;case"pointerover":var M=A.pointerId;return ym.set(M,wm(ym.get(M)||null,d,m,p,w,A)),!0;case"gotpointercapture":return M=A.pointerId,vm.set(M,wm(vm.get(M)||null,d,m,p,w,A)),!0}return!1}function hC(d){var m=wn(d.target);if(m!==null){var p=i(m);if(p!==null){if(m=p.tag,m===13){if(m=o(p),m!==null){d.blockedOn=m,we(d.priority,function(){if(p.tag===13){var w=un();w=ps(w);var A=Hd(p,w);A!==null&&hn(A,p,w),Zv(p,w)}});return}}else if(m===3&&p.stateNode.current.memoizedState.isDehydrated){d.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Qp(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var p=ew(d.nativeEvent);if(p===null){p=d.nativeEvent;var w=new p.constructor(p.type,p);Qi=w,p.target.dispatchEvent(w),Qi=null}else return m=Ba(p),m!==null&&cC(m),d.blockedOn=p,!1;m.shift()}return!0}function mC(d,m,p){Qp(d)&&p.delete(m)}function R8(){sw=!1,il!==null&&Qp(il)&&(il=null),ol!==null&&Qp(ol)&&(ol=null),ll!==null&&Qp(ll)&&(ll=null),ym.forEach(mC),vm.forEach(mC)}function Zp(d,m){d.blockedOn===m&&(d.blockedOn=null,sw||(sw=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,R8)))}var Jp=null;function fC(d){Jp!==d&&(Jp=d,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jp===d&&(Jp=null);for(var m=0;m<d.length;m+=3){var p=d[m],w=d[m+1],A=d[m+2];if(typeof w!="function"){if(tw(w||p)===null)continue;break}var M=Ba(p);M!==null&&(d.splice(m,3),m-=3,tv(M,{pending:!0,data:A,method:p.method,action:w},w,A))}}))}function Nm(d){function m(ae){return Zp(ae,d)}il!==null&&Zp(il,d),ol!==null&&Zp(ol,d),ll!==null&&Zp(ll,d),ym.forEach(m),vm.forEach(m);for(var p=0;p<cl.length;p++){var w=cl[p];w.blockedOn===d&&(w.blockedOn=null)}for(;0<cl.length&&(p=cl[0],p.blockedOn===null);)hC(p),p.blockedOn===null&&cl.shift();if(p=(d.ownerDocument||d).$$reactFormReplay,p!=null)for(w=0;w<p.length;w+=3){var A=p[w],M=p[w+1],Y=A[ye]||null;if(typeof M=="function")Y||fC(p);else if(Y){var K=null;if(M&&M.hasAttribute("formAction")){if(A=M,Y=M[ye]||null)K=Y.formAction;else if(tw(A)!==null)continue}else K=Y.action;typeof K=="function"?p[w+1]=K:(p.splice(w,3),w-=3),fC(p)}}}function rw(d){this._internalRoot=d}ex.prototype.render=rw.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(s(409));var p=m.current,w=un();oC(p,w,d,m,null,null)},ex.prototype.unmount=rw.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;oC(d.current,2,null,d,null,null),Mp(),m[_e]=null}};function ex(d){this._internalRoot=d}ex.prototype.unstable_scheduleHydration=function(d){if(d){var m=_s();d={blockedOn:null,target:d,priority:m};for(var p=0;p<cl.length&&m!==0&&m<cl[p].priority;p++);cl.splice(p,0,d),p===0&&hC(d)}};var gC=e.version;if(gC!=="19.1.1")throw Error(s(527,gC,"19.1.1"));q.findDOMNode=function(d){var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(s(188)):(d=Object.keys(d).join(","),Error(s(268,d)));return d=c(m),d=d!==null?u(d):null,d=d===null?null:d.stateNode,d};var I8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tx.isDisabled&&tx.supportsFiber)try{Ft=tx.inject(I8),lt=tx}catch{}}return km.createRoot=function(d,m){if(!a(d))throw Error(s(299));var p=!1,w="",A=P_,M=R_,Y=I_,K=null;return m!=null&&(m.unstable_strictMode===!0&&(p=!0),m.identifierPrefix!==void 0&&(w=m.identifierPrefix),m.onUncaughtError!==void 0&&(A=m.onUncaughtError),m.onCaughtError!==void 0&&(M=m.onCaughtError),m.onRecoverableError!==void 0&&(Y=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(K=m.unstable_transitionCallbacks)),m=nC(d,1,!1,null,null,p,w,A,M,Y,K,null),d[_e]=m.current,Uv(d),new rw(m)},km.hydrateRoot=function(d,m,p){if(!a(d))throw Error(s(299));var w=!1,A="",M=P_,Y=R_,K=I_,ae=null,Ne=null;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onUncaughtError!==void 0&&(M=p.onUncaughtError),p.onCaughtError!==void 0&&(Y=p.onCaughtError),p.onRecoverableError!==void 0&&(K=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ae=p.unstable_transitionCallbacks),p.formState!==void 0&&(Ne=p.formState)),m=nC(d,1,!0,m,p??null,w,A,M,Y,K,ae,Ne),m.context=iC(null),p=m.current,w=un(),w=ps(w),A=Yo(w),A.callback=null,qo(p,A,w),p=w,m.current.lanes=p,Ms(m,p),wi(m),d[_e]=m.current,Uv(d),new ex(m)},km.version="19.1.1",km}var SC;function $8(){if(SC)return iw.exports;SC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),iw.exports=H8(),iw.exports}var W8=$8();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _C="popstate";function Y8(r={}){function e(s,a){let{pathname:i,search:o,hash:l}=s.location;return A1("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:jf(a)}return X8(e,t,null,r)}function fr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $i(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q8(){return Math.random().toString(36).substring(2,10)}function AC(r,e){return{usr:r.state,key:r.key,idx:e}}function A1(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?nh(e):e,state:t,key:e&&e.key||s||q8()}}function jf({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function nh(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function X8(r,e,t,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let v=h(),N=v==null?null:v-u;u=v,c&&c({action:l,location:b.location,delta:N})}function g(v,N){l="PUSH";let k=A1(b.location,v,N);u=h()+1;let C=AC(k,u),R=b.createHref(k);try{o.pushState(C,"",R)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(R)}i&&c&&c({action:l,location:b.location,delta:1})}function x(v,N){l="REPLACE";let k=A1(b.location,v,N);u=h();let C=AC(k,u),R=b.createHref(k);o.replaceState(C,"",R),i&&c&&c({action:l,location:b.location,delta:0})}function y(v){return G8(v)}let b={get action(){return l},get location(){return r(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(_C,f),c=v,()=>{a.removeEventListener(_C,f),c=null}},createHref(v){return e(a,v)},createURL:y,encodeLocation(v){let N=y(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(v){return o.go(v)}};return b}function G8(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),fr(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:jf(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function x4(r,e,t="/"){return K8(r,e,t,!1)}function K8(r,e,t,s){let a=typeof e=="string"?nh(e):e,i=To(a.pathname||"/",t);if(i==null)return null;let o=b4(r);Q8(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=lU(i);l=iU(o[c],u,s)}return l}function b4(r,e=[],t=[],s=""){let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(fr(c.relativePath.startsWith(s),`Absolute route path "${c.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(s.length));let u=Co([s,c.relativePath]),h=t.concat(c);i.children&&i.children.length>0&&(fr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),b4(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:aU(u,i.index),routesMeta:h})};return r.forEach((i,o)=>{if(i.path===""||!i.path?.includes("?"))a(i,o);else for(let l of y4(i.path))a(i,o,l)}),e}function y4(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=y4(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function Q8(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:nU(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Z8=/^:[\w-]+$/,J8=3,eU=2,tU=1,sU=10,rU=-2,CC=r=>r==="*";function aU(r,e){let t=r.split("/"),s=t.length;return t.some(CC)&&(s+=rU),e&&(s+=eU),t.filter(a=>!CC(a)).reduce((a,i)=>a+(Z8.test(i)?J8:i===""?tU:sU),s)}function nU(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function iU(r,e,t=!1){let{routesMeta:s}=r,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=p0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),g=c.route;if(!f&&u&&t&&!s[s.length-1].route.index&&(f=p0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Co([i,f.pathname]),pathnameBase:hU(Co([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=Co([i,f.pathnameBase]))}return o}function p0(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=oU(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((u,{paramName:h,isOptional:f},g)=>{if(h==="*"){let y=l[g]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[g];return f&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:r}}function oU(r,e=!1,t=!0){$i(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function lU(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $i(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function To(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function cU(r,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof r=="string"?nh(r):r;return{pathname:t?t.startsWith("/")?t:dU(t,e):e,search:mU(s),hash:fU(a)}}function dU(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function dw(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uU(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function v4(r){let e=uU(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function w4(r,e,t,s=!1){let a;typeof r=="string"?a=nh(r):(a={...r},fr(!a.pathname||!a.pathname.includes("?"),dw("?","pathname","search",a)),fr(!a.pathname||!a.pathname.includes("#"),dw("#","pathname","hash",a)),fr(!a.search||!a.search.includes("#"),dw("#","search","hash",a)));let i=r===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=t;else{let f=e.length-1;if(!s&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;a.pathname=g.join("/")}l=f>=0?e[f]:"/"}let c=cU(a,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var Co=r=>r.join("/").replace(/\/\/+/g,"/"),hU=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mU=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,fU=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gU(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var N4=["POST","PUT","PATCH","DELETE"];new Set(N4);var pU=["GET",...N4];new Set(pU);var ih=E.createContext(null);ih.displayName="DataRouter";var ub=E.createContext(null);ub.displayName="DataRouterState";E.createContext(!1);var j4=E.createContext({isTransitioning:!1});j4.displayName="ViewTransition";var xU=E.createContext(new Map);xU.displayName="Fetchers";var bU=E.createContext(null);bU.displayName="Await";var qi=E.createContext(null);qi.displayName="Navigation";var rg=E.createContext(null);rg.displayName="Location";var Xi=E.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var uj=E.createContext(null);uj.displayName="RouteError";function yU(r,{relative:e}={}){fr(ag(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=E.useContext(qi),{hash:a,pathname:i,search:o}=ng(r,{relative:e}),l=i;return t!=="/"&&(l=i==="/"?t:Co([t,i])),s.createHref({pathname:l,search:o,hash:a})}function ag(){return E.useContext(rg)!=null}function Xr(){return fr(ag(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(rg).location}var k4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S4(r){E.useContext(qi).static||E.useLayoutEffect(r)}function gs(){let{isDataRoute:r}=E.useContext(Xi);return r?RU():vU()}function vU(){fr(ag(),"useNavigate() may be used only in the context of a <Router> component.");let r=E.useContext(ih),{basename:e,navigator:t}=E.useContext(qi),{matches:s}=E.useContext(Xi),{pathname:a}=Xr(),i=JSON.stringify(v4(s)),o=E.useRef(!1);return S4(()=>{o.current=!0}),E.useCallback((c,u={})=>{if($i(o.current,k4),!o.current)return;if(typeof c=="number"){t.go(c);return}let h=w4(c,JSON.parse(i),a,u.relative==="path");r==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Co([e,h.pathname])),(u.replace?t.replace:t.push)(h,u.state,u)},[e,t,i,a,r])}E.createContext(null);function Wl(){let{matches:r}=E.useContext(Xi),e=r[r.length-1];return e?e.params:{}}function ng(r,{relative:e}={}){let{matches:t}=E.useContext(Xi),{pathname:s}=Xr(),a=JSON.stringify(v4(t));return E.useMemo(()=>w4(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function wU(r,e){return _4(r,e)}function _4(r,e,t,s){fr(ag(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(qi),{matches:i}=E.useContext(Xi),o=i[i.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let N=h&&h.path||"";A4(c,!h||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let f=Xr(),g;if(e){let N=typeof e=="string"?nh(e):e;fr(u==="/"||N.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${N.pathname}" was given in the \`location\` prop.`),g=N}else g=f;let x=g.pathname||"/",y=x;if(u!=="/"){let N=u.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=x4(r,{pathname:y});$i(h||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),$i(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=_U(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Co([u,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Co([u,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,t,s);return e&&v?E.createElement(rg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},v):v}function NU(){let r=PU(),e=gU(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:a},t):null,o)}var jU=E.createElement(NU,null),kU=class extends E.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?E.createElement(Xi.Provider,{value:this.props.routeContext},E.createElement(uj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SU({routeContext:r,match:e,children:t}){let s=E.useContext(ih);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Xi.Provider,{value:r},t)}function _U(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,i=t?.errors;if(i!=null){let c=a.findIndex(u=>u.route.id&&i?.[u.route.id]!==void 0);fr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(t)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:h,errors:f}=t,g=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||g){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,u,h)=>{let f,g=!1,x=null,y=null;t&&(f=i&&u.route.id?i[u.route.id]:void 0,x=u.route.errorElement||jU,o&&(l<0&&h===0?(A4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):l===h&&(g=!0,y=u.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,h+1)),v=()=>{let N;return f?N=x:g?N=y:u.route.Component?N=E.createElement(u.route.Component,null):u.route.element?N=u.route.element:N=c,E.createElement(SU,{match:u,routeContext:{outlet:c,matches:b,isDataRoute:t!=null},children:N})};return t&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?E.createElement(kU,{location:t.location,revalidation:t.revalidation,component:x,error:f,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}function hj(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AU(r){let e=E.useContext(ih);return fr(e,hj(r)),e}function CU(r){let e=E.useContext(ub);return fr(e,hj(r)),e}function EU(r){let e=E.useContext(Xi);return fr(e,hj(r)),e}function mj(r){let e=EU(r),t=e.matches[e.matches.length-1];return fr(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function TU(){return mj("useRouteId")}function PU(){let r=E.useContext(uj),e=CU("useRouteError"),t=mj("useRouteError");return r!==void 0?r:e.errors?.[t]}function RU(){let{router:r}=AU("useNavigate"),e=mj("useNavigate"),t=E.useRef(!1);return S4(()=>{t.current=!0}),E.useCallback(async(a,i={})=>{$i(t.current,k4),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...i}))},[r,e])}var EC={};function A4(r,e,t){!e&&!EC[r]&&(EC[r]=!0,$i(!1,t))}E.memo(IU);function IU({routes:r,future:e,state:t}){return _4(r,void 0,t,e)}function Ze(r){fr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DU({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:i=!1}){fr(!ag(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof t=="string"&&(t=nh(t));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:g="default"}=t,x=E.useMemo(()=>{let y=To(c,o);return y==null?null:{location:{pathname:y,search:u,hash:h,state:f,key:g},navigationType:s}},[o,c,u,h,f,g,s]);return $i(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:E.createElement(qi.Provider,{value:l},E.createElement(rg.Provider,{children:e,value:x}))}function MU({children:r,location:e}){return wU(C1(r),e)}function C1(r,e=[]){let t=[];return E.Children.forEach(r,(s,a)=>{if(!E.isValidElement(s))return;let i=[...e,a];if(s.type===E.Fragment){t.push.apply(t,C1(s.props.children,i));return}fr(s.type===Ze,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fr(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=C1(s.props.children,i)),t.push(o)}),t}var zx="get",Vx="application/x-www-form-urlencoded";function hb(r){return r!=null&&typeof r.tagName=="string"}function OU(r){return hb(r)&&r.tagName.toLowerCase()==="button"}function LU(r){return hb(r)&&r.tagName.toLowerCase()==="form"}function FU(r){return hb(r)&&r.tagName.toLowerCase()==="input"}function UU(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function zU(r,e){return r.button===0&&(!e||e==="_self")&&!UU(r)}var rx=null;function VU(){if(rx===null)try{new FormData(document.createElement("form"),0),rx=!1}catch{rx=!0}return rx}var BU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uw(r){return r!=null&&!BU.has(r)?($i(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vx}"`),null):r}function HU(r,e){let t,s,a,i,o;if(LU(r)){let l=r.getAttribute("action");s=l?To(l,e):null,t=r.getAttribute("method")||zx,a=uw(r.getAttribute("enctype"))||Vx,i=new FormData(r)}else if(OU(r)||FU(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||l.getAttribute("action");if(s=c?To(c,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||zx,a=uw(r.getAttribute("formenctype"))||uw(l.getAttribute("enctype"))||Vx,i=new FormData(l,r),!VU()){let{name:u,type:h,value:f}=r;if(h==="image"){let g=u?`${u}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else u&&i.append(u,f)}}else{if(hb(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zx,s=null,a=Vx,o=r}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fj(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $U(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&To(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function WU(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YU(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qU(r,e,t){let s=await Promise.all(r.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await WU(i,t);return o.links?o.links():[]}return[]}));return QU(s.flat(1).filter(YU).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function TC(r,e,t,s,a,i){let o=(c,u)=>t[u]?c.route.id!==t[u].route.id:!0,l=(c,u)=>t[u].pathname!==c.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==c.params["*"];return i==="assets"?e.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{let h=s.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function XU(r,e,{includeHydrateFallback:t}={}){return GU(r.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function GU(r){return[...new Set(r)]}function KU(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function QU(r,e){let t=new Set;return new Set(e),r.reduce((s,a)=>{let i=JSON.stringify(KU(a));return t.has(i)||(t.add(i),s.push({key:i,link:a})),s},[])}function C4(){let r=E.useContext(ih);return fj(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ZU(){let r=E.useContext(ub);return fj(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gj=E.createContext(void 0);gj.displayName="FrameworkContext";function E4(){let r=E.useContext(gj);return fj(r,"You must render this element inside a <HydratedRouter> element"),r}function JU(r,e){let t=E.useContext(gj),[s,a]=E.useState(!1),[i,o]=E.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,g=E.useRef(null);E.useEffect(()=>{if(r==="render"&&o(!0),r==="viewport"){let b=N=>{N.forEach(k=>{o(k.isIntersecting)})},v=new IntersectionObserver(b,{threshold:.5});return g.current&&v.observe(g.current),()=>{v.disconnect()}}},[r]),E.useEffect(()=>{if(s){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[s]);let x=()=>{a(!0)},y=()=>{a(!1),o(!1)};return t?r!=="intent"?[i,g,{}]:[i,g,{onFocus:Sm(l,x),onBlur:Sm(c,y),onMouseEnter:Sm(u,x),onMouseLeave:Sm(h,y),onTouchStart:Sm(f,x)}]:[!1,g,{}]}function Sm(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function ez({page:r,...e}){let{router:t}=C4(),s=E.useMemo(()=>x4(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?E.createElement(sz,{page:r,matches:s,...e}):null}function tz(r){let{manifest:e,routeModules:t}=E4(),[s,a]=E.useState([]);return E.useEffect(()=>{let i=!1;return qU(r,e,t).then(o=>{i||a(o)}),()=>{i=!0}},[r,e,t]),s}function sz({page:r,matches:e,...t}){let s=Xr(),{manifest:a,routeModules:i}=E4(),{basename:o}=C4(),{loaderData:l,matches:c}=ZU(),u=E.useMemo(()=>TC(r,e,c,a,s,"data"),[r,e,c,a,s]),h=E.useMemo(()=>TC(r,e,c,a,s,"assets"),[r,e,c,a,s]),f=E.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let y=new Set,b=!1;if(e.forEach(N=>{let k=a.routes[N.route.id];!k||!k.hasLoader||(!u.some(C=>C.route.id===N.route.id)&&N.route.id in l&&i[N.route.id]?.shouldRevalidate||k.hasClientLoader?b=!0:y.add(N.route.id))}),y.size===0)return[];let v=$U(r,o,"data");return b&&y.size>0&&v.searchParams.set("_routes",e.filter(N=>y.has(N.route.id)).map(N=>N.route.id).join(",")),[v.pathname+v.search]},[o,l,s,a,u,e,r,i]),g=E.useMemo(()=>XU(h,a),[h,a]),x=tz(h);return E.createElement(E.Fragment,null,f.map(y=>E.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),g.map(y=>E.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),x.map(({key:y,link:b})=>E.createElement("link",{key:y,...b})))}function rz(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var T4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T4&&(window.__reactRouterVersion="7.7.1")}catch{}function az({basename:r,children:e,window:t}){let s=E.useRef();s.current==null&&(s.current=Y8({window:t,v5Compat:!0}));let a=s.current,[i,o]=E.useState({action:a.action,location:a.location}),l=E.useCallback(c=>{E.startTransition(()=>o(c))},[o]);return E.useLayoutEffect(()=>a.listen(l),[a,l]),E.createElement(DU,{basename:r,children:e,location:i.location,navigationType:i.action,navigator:a})}var P4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=E.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f,...g},x){let{basename:y}=E.useContext(qi),b=typeof u=="string"&&P4.test(u),v,N=!1;if(typeof u=="string"&&b&&(v=u,T4))try{let D=new URL(window.location.href),L=u.startsWith("//")?new URL(D.protocol+u):new URL(u),F=To(L.pathname,y);L.origin===D.origin&&F!=null?u=F+L.search+L.hash:N=!0}catch{$i(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=yU(u,{relative:a}),[C,R,_]=JU(s,g),I=lz(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:f});function P(D){e&&e(D),D.defaultPrevented||I(D)}let T=E.createElement("a",{...g,..._,href:v||k,onClick:N||i?e:P,ref:rz(x,R),target:c,"data-discover":!b&&t==="render"?"true":void 0});return C&&!b?E.createElement(E.Fragment,null,T,E.createElement(ez,{page:k})):T});fe.displayName="Link";var nz=E.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...u},h){let f=ng(o,{relative:u.relative}),g=Xr(),x=E.useContext(ub),{navigator:y,basename:b}=E.useContext(qi),v=x!=null&&mz(f)&&l===!0,N=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,k=g.pathname,C=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(k=k.toLowerCase(),C=C?C.toLowerCase():null,N=N.toLowerCase()),C&&b&&(C=To(C,b)||C);const R=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let _=k===N||!a&&k.startsWith(N)&&k.charAt(R)==="/",I=C!=null&&(C===N||!a&&C.startsWith(N)&&C.charAt(N.length)==="/"),P={isActive:_,isPending:I,isTransitioning:v},T=_?e:void 0,D;typeof s=="function"?D=s(P):D=[s,_?"active":null,I?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(P):i;return E.createElement(fe,{...u,"aria-current":T,className:D,ref:h,style:L,to:o,viewTransition:l},typeof c=="function"?c(P):c)});nz.displayName="NavLink";var iz=E.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:i,method:o=zx,action:l,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:f,...g},x)=>{let y=uz(),b=hz(l,{relative:u}),v=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&P4.test(l),k=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let R=C.nativeEvent.submitter,_=R?.getAttribute("formmethod")||o;y(R||C.currentTarget,{fetcherKey:e,method:_,navigate:t,replace:a,state:i,relative:u,preventScrollReset:h,viewTransition:f})};return E.createElement("form",{ref:x,method:v,action:b,onSubmit:s?c:k,...g,"data-discover":!N&&r==="render"?"true":void 0})});iz.displayName="Form";function oz(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R4(r){let e=E.useContext(ih);return fr(e,oz(r)),e}function lz(r,{target:e,replace:t,state:s,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=gs(),c=Xr(),u=ng(r,{relative:i});return E.useCallback(h=>{if(zU(h,e)){h.preventDefault();let f=t!==void 0?t:jf(c)===jf(u);l(r,{replace:f,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,u,t,s,e,r,a,i,o])}var cz=0,dz=()=>`__${String(++cz)}__`;function uz(){let{router:r}=R4("useSubmit"),{basename:e}=E.useContext(qi),t=TU();return E.useCallback(async(s,a={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=HU(s,e);if(a.navigate===!1){let h=a.fetcherKey||dz();await r.fetch(h,t,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await r.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function hz(r,{relative:e}={}){let{basename:t}=E.useContext(qi),s=E.useContext(Xi);fr(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...ng(r||".",{relative:e})},o=Xr();if(r==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();i.search=h?`?${h}`:""}}return(!r||r===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Co([t,i.pathname])),jf(i)}function mz(r,{relative:e}={}){let t=E.useContext(j4);fr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=R4("useViewTransitionState"),a=ng(r,{relative:e});if(!t.isTransitioning)return!1;let i=To(t.currentLocation.pathname,s)||t.currentLocation.pathname,o=To(t.nextLocation.pathname,s)||t.nextLocation.pathname;return p0(a.pathname,o)!=null||p0(a.pathname,i)!=null}const fz="/assets/logo-Bi-0vyp2.png";function gz(){const r=()=>{const e="/agreement.pdf",t=document.createElement("a");t.href=e,t.download="FOREMADE_Vendor_Agreement.pdf",document.body.appendChild(t),t.click(),document.body.removeChild(t)};return n.jsxs("div",{className:"min-h-screen bg-white flex flex-col font-serif text-gray-800",children:[n.jsx("header",{className:"pt-16 pb-8 text-center border-b border-gray-300",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("img",{src:fz,alt:"Formade logo",className:"h-16 mx-auto mb-4"}),n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Vendor User Agreement"}),n.jsx("p",{className:"text-lg mb-2",children:"Workbay, 2nd Floor, Lagos City Mall, Onikan, TBS Lagos"}),n.jsxs("p",{className:"text-lg mb-2",children:["Contact:"," ",n.jsx("a",{href:"mailto:info@foremade.com",className:"underline hover:text-blue-600",children:"info@foremade.com"})]}),n.jsx("p",{className:"text-lg mb-4",children:"Tel: +234 9126866984, +44 7481841132 (WhatsApp)"}),n.jsx("p",{className:"text-lg",children:"Effective Date: _________________________"})]})}),n.jsxs("main",{className:"max-w-4xl mx-auto p-8 my-8 border border-gray-200",children:[n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"Introduction"}),n.jsx("p",{className:"text-justify",children:"Welcome to FOREMADE. This Vendor User Agreement (Agreement) governs your participation as a seller (Vendor, You, Your) on the FOREMADE Online Marketplace (FOREMADE, Platform, We, Us, Our). By registering and listing products on FOREMADE, you agree to be bound by the terms and conditions set forth below."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"1. Purpose of the Platform"}),n.jsx("p",{className:"text-justify",children:"FOREMADE provides Vendors with a free, professional online platform to sell their products to buyers both locally and internationally. FOREMADE offers unmatched visibility, access to a growing customer base, and a seamless transaction experience."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"2. Platform Usage Rights"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Vendors are granted the right to list, market, and sell products on the FOREMADE marketplace."}),n.jsx("li",{children:"Vendors retain full ownership of their products but grant FOREMADE a non-exclusive, royalty-free license to display, market, and promote the products across the platform and its promotional channels."}),n.jsx("li",{children:"Vendors must provide accurate product descriptions, pricing, and images."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"3. Free Access & Seller Costs"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"As of the effective date of this agreement, FOREMADE does not charge Vendors any listing fees or commissions to sell products on the platform."}),n.jsx("li",{children:"Visibility on FOREMADE is free of charge."}),n.jsx("li",{children:"FOREMADE reserves the right to introduce optional paid promotional services to Vendors for enhanced visibility."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"4. Pricing, Taxes, and Shipping Structure"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Vendors set their base product prices."}),n.jsx("li",{children:"FOREMADE may add applicable government taxes and shipping fees to the listed price for the buyer."}),n.jsx("li",{children:"Example: If you price an item at 200, the displayed price to the buyer may be 220 (which includes tax and delivery). You will always receive 200 per unit sold."}),n.jsx("li",{children:"Buyers, not Vendors, pay for delivery."}),n.jsx("li",{children:"FOREMADE manages shipping logistics to ensure professional delivery and compliance."}),n.jsx("li",{children:"FOREMADE may generate revenue from buyer protection fees and optional Vendor promotions."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"5. Vendor Responsibilities"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Maintain product quality and provide accurate product listings."}),n.jsx("li",{children:"Keep product prices competitive, ideally lower than your in-store prices, to attract more customers and stay ahead of competition."}),n.jsx("li",{children:"Comply with all applicable laws, including product safety, labelling, and intellectual property rights."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"6. Prohibited Activities"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Direct private interactions between Vendors and customers outside the FOREMADE platform are strictly prohibited to maintain professionalism and platform integrity."}),n.jsx("li",{children:"Personal deliveries by Vendors are not allowed. All items must pass through FOREMADEs logistics system for quality control and tracking."}),n.jsx("li",{children:"Any attempt to bypass the platforms payment or shipping process will result in immediate termination of your account."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"7. Returns, Damages, and Loss"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Refer to the FOREMADE Return Policy published on our website for details on customer returns."}),n.jsx("li",{children:"Any product lost or damaged while in the custody of FOREMADE will be replaced or reimbursed by FOREMADE."}),n.jsx("li",{children:"Products are inspected at collection to ensure compliance with the listing description."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"8. Payment to Vendors"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Payment for products sold will be processed and released upon the successful pickup of the item from the Vendors shop by FOREMADEs logistics team."}),n.jsx("li",{children:"FOREMADE provides transparent statements of sales and payments to Vendors."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"9. Transparency & Trust"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"FOREMADE is committed to operating with honesty, fairness, and full disclosure."}),n.jsx("li",{children:"We encourage open communication regarding your concerns and we are dedicated to building long-term partnerships with all Vendors."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"10. Modifications to Agreement"}),n.jsx("p",{className:"text-justify",children:"FOREMADE may update this Agreement periodically. You will be notified of any significant changes, and continued use of the platform constitutes acceptance of the revised terms."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"11. Termination"}),n.jsx("p",{className:"text-justify",children:"FOREMADE reserves the right to suspend or terminate any Vendor account found to be in violation of this Agreement or applicable laws."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"12. Governing Law"}),n.jsx("p",{className:"text-justify",children:"This Agreement shall be governed and interpreted under the laws of the Federal Republic of Nigeria."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"Acceptance"}),n.jsx("p",{className:"text-justify mb-4",children:"By registering and selling on FOREMADE, you acknowledge that you have read, understood, and agreed to all the terms of this Agreement."}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t border-gray-300 pt-4",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Vendors Name:"})," _______________________________"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Position:"})," _____________________________________"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Business Name:"})," _______________________________"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," _____________________________________"]})]}),n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Signature:"})," _____________________________"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ________________________________"]})]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("button",{onClick:r,className:"bg-slate-600 text-white px-4 py-2 rounded hover:bg-slate-800 transition duration-200",children:"Download Agreement"})})]}),n.jsxs("footer",{className:"border-t border-gray-300 p-6 text-center text-gray-800",children:[n.jsx("p",{children:"Workbay, 2nd Floor, Lagos City Mall, Onikan, TBS Lagos"}),n.jsxs("p",{children:["Contact:"," ",n.jsx("a",{href:"mailto:info@foremade.com",className:"underline hover:text-blue-600",children:"info@foremade.com"})]}),n.jsx("p",{children:"Tel: +234 9126866984, +44 7481841132 (WhatsApp)"}),n.jsx("p",{className:"mt-2",children:n.jsx(fe,{to:"/seller/register",className:"underline hover:text-blue-600",children:"Back to Vendor Registration"})})]})]})}const pz=()=>n.jsx("div",{className:"min-h-screen bg-background-light py-10",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-20 h-20 mb-4 flex items-center justify-center bg-primary/10 rounded-full",children:n.jsx("i",{className:"bx bx-package text-5xl text-primary"})}),n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-primary mb-2",children:"FOREMADE Shipping Policy"}),n.jsx("p",{className:"text-secondary max-w-xl",children:"Learn about our shipping methods, fees, and delivery timeframes for FOREMADE Marketplace."})]}),n.jsxs("div",{className:"bg-background-light rounded-xl shadow-lg p-6 md:p-10 border border-border-light",children:[n.jsxs("p",{className:"mb-2 text-secondary",children:[n.jsx("strong",{children:"Last Updated:"})," July 5, 2024"]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"1. Shipping Methods"}),n.jsx("p",{className:"mb-4 text-secondary",children:"FOREMADE offers multiple shipping options depending on the location of the buyer and seller:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Local Delivery:"})," Available for buyers and sellers within the same country or region."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Standard Shipping:"})," Carried out through our partnered courier services with tracking provided."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Express Shipping:"})," Optional faster delivery for eligible items at an additional cost."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Pick-Up Options:"})," In some locations, buyers may choose to collect items directly from sellers or drop-off points."]})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"2. Shipping Fees"}),n.jsx("p",{className:"mb-4 text-secondary",children:"Shipping fees are automatically calculated at checkout based on item size, weight, and destination. Multi-item discounts may apply when purchasing several products from the same seller. Sellers are responsible for accurately entering item weight and dimensions to ensure correct fee calculation."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"3. Order Processing Time"}),n.jsxs("p",{className:"mb-4 text-secondary",children:["Sellers must ship items within ",n.jsx("strong",{children:"2 business days"})," of receiving an order. Failure to ship within the required time may lead to order cancellation and account penalties."]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"4. Delivery Timeframes"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Local Delivery:"})," 25 business days"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Domestic Standard Shipping:"})," 37 business days"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"International Shipping:"})," 721 business days (depending on destination and customs)"]})]}),n.jsx("p",{className:"mb-4 text-secondary",children:"Delivery times may vary based on the courier and unforeseen circumstances such as weather or strikes."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"5. Tracking & Confirmation"}),n.jsx("p",{className:"mb-4 text-secondary",children:"All shipped orders must include tracking information. Buyers will receive tracking updates and can monitor delivery progress through their FOREMADE account."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"6. Shipping Responsibility"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Sellers:"})," Responsible for packaging items securely and dispatching within the stated timeframe."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Buyers:"})," Responsible for providing a complete and accurate delivery address."]})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"7. Lost or Delayed Shipments"}),n.jsxs("p",{className:"mb-4 text-secondary",children:["If an item hasnt arrived within the expected timeframe, buyers should contact the seller first via the platform. If unresolved, buyers can raise an issue within ",n.jsx("strong",{children:"7 days after the estimated delivery date"})," for further investigation and support."]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"8. International Shipping & Customs"}),n.jsx("p",{className:"mb-4 text-secondary",children:"International orders may be subject to customs fees, import duties, or taxes depending on the destination country. These charges are the responsibility of the buyer unless otherwise stated."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"9. Non-Delivery or Return to Sender"}),n.jsx("p",{className:"mb-4 text-secondary",children:"If an order is returned due to incorrect address or non-collection, the buyer may be responsible for re-shipping costs."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"10. Prohibited Items"}),n.jsxs("p",{className:"mb-4 text-secondary",children:["Items that violate FOREMADE's ",n.jsx(fe,{to:"/terms-conditions",className:"policy-link",children:"Prohibited Products Policy"})," or applicable shipping laws will not be permitted."]}),n.jsxs("p",{className:"mb-4 text-secondary",children:["If you need help with your shipment, contact our support team via the ",n.jsx(fe,{to:"/support",className:"policy-link",children:"Help Centre"})," on your dashboard."]})]})]})}),xz=()=>{};var PC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},bz=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const i=r[t++];e[s++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=r[t++],o=r[t++],l=r[t++],c=((a&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=r[t++],o=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(i&63)<<6|o&63)}}return e.join("")},D4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const i=r[a],o=a+1<r.length,l=o?r[a+1]:0,c=a+2<r.length,u=c?r[a+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let g=(l&15)<<2|u>>6,x=u&63;c||(x=64,o||(g=64)),s.push(t[h],t[f],t[g],t[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(I4(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):bz(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const i=t[r.charAt(a++)],l=a<r.length?t[r.charAt(a)]:0;++a;const u=a<r.length?t[r.charAt(a)]:64;++a;const f=a<r.length?t[r.charAt(a)]:64;if(++a,i==null||l==null||u==null||f==null)throw new yz;const g=i<<2|l>>4;if(s.push(g),u!==64){const x=l<<4&240|u>>2;if(s.push(x),f!==64){const y=u<<6&192|f;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vz=function(r){const e=I4(r);return D4.encodeByteArray(e,!0)},x0=function(r){return vz(r).replace(/\./g,"")},M4=function(r){try{return D4.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=()=>wz().__FIREBASE_DEFAULTS__,jz=()=>{if(typeof process>"u"||typeof PC>"u")return;const r=PC.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kz=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&M4(r[1]);return e&&JSON.parse(e)},mb=()=>{try{return xz()||Nz()||jz()||kz()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},O4=r=>{var e,t;return(t=(e=mb())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},L4=r=>{const e=O4(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},F4=()=>{var r;return(r=mb())===null||r===void 0?void 0:r.config},U4=r=>{var e;return(e=mb())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pj(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,i=r.sub||r.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},r);return[x0(JSON.stringify(t)),x0(JSON.stringify(o)),""].join(".")}const Zm={};function _z(){const r={prod:[],emulator:[]};for(const e of Object.keys(Zm))Zm[e]?r.emulator.push(e):r.prod.push(e);return r}function Az(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let RC=!1;function xj(r,e){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||Zm[r]===e||Zm[r]||RC)return;Zm[r]=e;function t(g){return`__firebase__banner__${g}`}const s="__firebase__banner",i=_z().prod.length>0;function o(){const g=document.getElementById(s);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{RC=!0,o()},g}function h(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=Az(s),x=t("text"),y=document.getElementById(x)||document.createElement("span"),b=t("learnmore"),v=document.getElementById(b)||document.createElement("a"),N=t("preprendIcon"),k=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const C=g.element;l(C),h(v,b);const R=u();c(k,N),C.append(k,y,v,R),document.body.appendChild(C)}i?(y.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sa())}function Ez(){var r;const e=(r=mb())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pz(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Rz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Iz(){const r=Sa();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Dz(){return!Ez()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mz(){try{return typeof indexedDB=="object"}catch{return!1}}function Oz(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var i;e(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="FirebaseError";class Gi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Lz,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ig.prototype.create)}}class ig{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,i=this.errors[e],o=i?Fz(i,s):"Error",l=`${this.serviceName}: ${o} (${a}).`;return new Gi(a,l,s)}}function Fz(r,e){return r.replace(Uz,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Uz=/\{\$([^}]+)}/g;function zz(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Po(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const i=r[a],o=e[a];if(IC(i)&&IC(o)){if(!Po(i,o))return!1}else if(i!==o)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function IC(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zm(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,i]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function Vm(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function Vz(r,e){const t=new Bz(r,e);return t.subscribe.bind(t)}class Bz{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");Hz(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=hw),a.error===void 0&&(a.error=hw),a.complete===void 0&&(a.complete=hw);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hz(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function hw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(r){return r&&r._delegate?r._delegate:r}class El{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Sz;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yz(e))try{this.getOrInitializeService({instanceIdentifier:Rc})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:a});s.resolve(i)}catch{}}}}clearInstance(e=Rc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rc){return this.instances.has(e)}getOptions(e=Rc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&o.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),i=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(a,i);const o=this.instances.get(a);return o&&e(o,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Wz(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Rc){return this.component?this.component.multipleInstances?e:Rc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wz(r){return r===Rc?void 0:r}function Yz(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $z(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rs;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(rs||(rs={}));const Xz={debug:rs.DEBUG,verbose:rs.VERBOSE,info:rs.INFO,warn:rs.WARN,error:rs.ERROR,silent:rs.SILENT},Gz=rs.INFO,Kz={[rs.DEBUG]:"log",[rs.VERBOSE]:"log",[rs.INFO]:"info",[rs.WARN]:"warn",[rs.ERROR]:"error"},Qz=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=Kz[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bj{constructor(e){this.name=e,this._logLevel=Gz,this._logHandler=Qz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rs))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rs.DEBUG,...e),this._logHandler(this,rs.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rs.VERBOSE,...e),this._logHandler(this,rs.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rs.INFO,...e),this._logHandler(this,rs.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rs.WARN,...e),this._logHandler(this,rs.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rs.ERROR,...e),this._logHandler(this,rs.ERROR,...e)}}const Zz=(r,e)=>e.some(t=>r instanceof t);let DC,MC;function Jz(){return DC||(DC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eV(){return MC||(MC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V4=new WeakMap,E1=new WeakMap,B4=new WeakMap,mw=new WeakMap,yj=new WeakMap;function tV(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",i),r.removeEventListener("error",o)},i=()=>{t(Nl(r.result)),a()},o=()=>{s(r.error),a()};r.addEventListener("success",i),r.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&V4.set(t,r)}).catch(()=>{}),yj.set(e,r),e}function sV(r){if(E1.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",o),r.removeEventListener("abort",o)},i=()=>{t(),a()},o=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",i),r.addEventListener("error",o),r.addEventListener("abort",o)});E1.set(r,e)}let T1={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return E1.get(r);if(e==="objectStoreNames")return r.objectStoreNames||B4.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Nl(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function rV(r){T1=r(T1)}function aV(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(fw(this),e,...t);return B4.set(s,e.sort?e.sort():[e]),Nl(s)}:eV().includes(r)?function(...e){return r.apply(fw(this),e),Nl(V4.get(this))}:function(...e){return Nl(r.apply(fw(this),e))}}function nV(r){return typeof r=="function"?aV(r):(r instanceof IDBTransaction&&sV(r),Zz(r,Jz())?new Proxy(r,T1):r)}function Nl(r){if(r instanceof IDBRequest)return tV(r);if(mw.has(r))return mw.get(r);const e=nV(r);return e!==r&&(mw.set(r,e),yj.set(e,r)),e}const fw=r=>yj.get(r);function iV(r,e,{blocked:t,upgrade:s,blocking:a,terminated:i}={}){const o=indexedDB.open(r,e),l=Nl(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Nl(o.result),c.oldVersion,c.newVersion,Nl(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const oV=["get","getKey","getAll","getAllKeys","count"],lV=["put","add","delete","clear"],gw=new Map;function OC(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(gw.get(e))return gw.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=lV.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||oV.includes(t)))return;const i=async function(o,...l){const c=this.transaction(o,a?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[t](...l),a&&c.done]))[0]};return gw.set(e,i),i}rV(r=>({...r,get:(e,t,s)=>OC(e,t)||r.get(e,t,s),has:(e,t)=>!!OC(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dV(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function dV(r){const e=r.getComponent();return e?.type==="VERSION"}const P1="@firebase/app",LC="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new bj("@firebase/app"),uV="@firebase/app-compat",hV="@firebase/analytics-compat",mV="@firebase/analytics",fV="@firebase/app-check-compat",gV="@firebase/app-check",pV="@firebase/auth",xV="@firebase/auth-compat",bV="@firebase/database",yV="@firebase/data-connect",vV="@firebase/database-compat",wV="@firebase/functions",NV="@firebase/functions-compat",jV="@firebase/installations",kV="@firebase/installations-compat",SV="@firebase/messaging",_V="@firebase/messaging-compat",AV="@firebase/performance",CV="@firebase/performance-compat",EV="@firebase/remote-config",TV="@firebase/remote-config-compat",PV="@firebase/storage",RV="@firebase/storage-compat",IV="@firebase/firestore",DV="@firebase/ai",MV="@firebase/firestore-compat",OV="firebase",LV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="[DEFAULT]",FV={[P1]:"fire-core",[uV]:"fire-core-compat",[mV]:"fire-analytics",[hV]:"fire-analytics-compat",[gV]:"fire-app-check",[fV]:"fire-app-check-compat",[pV]:"fire-auth",[xV]:"fire-auth-compat",[bV]:"fire-rtdb",[yV]:"fire-data-connect",[vV]:"fire-rtdb-compat",[wV]:"fire-fn",[NV]:"fire-fn-compat",[jV]:"fire-iid",[kV]:"fire-iid-compat",[SV]:"fire-fcm",[_V]:"fire-fcm-compat",[AV]:"fire-perf",[CV]:"fire-perf-compat",[EV]:"fire-rc",[TV]:"fire-rc-compat",[PV]:"fire-gcs",[RV]:"fire-gcs-compat",[IV]:"fire-fst",[MV]:"fire-fst-compat",[DV]:"fire-vertex","fire-js":"fire-js",[OV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map,UV=new Map,I1=new Map;function FC(r,e){try{r.container.addComponent(e)}catch(t){Ro.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ad(r){const e=r.name;if(I1.has(e))return Ro.debug(`There were multiple attempts to register component ${e}.`),!1;I1.set(e,r);for(const t of b0.values())FC(t,r);for(const t of UV.values())FC(t,r);return!0}function fb(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Ia(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jl=new ig("app","Firebase",zV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new El("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=LV;function H4(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:R1,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw jl.create("bad-app-name",{appName:String(a)});if(t||(t=F4()),!t)throw jl.create("no-options");const i=b0.get(a);if(i){if(Po(t,i.options)&&Po(s,i.config))return i;throw jl.create("duplicate-app",{appName:a})}const o=new qz(a);for(const c of I1.values())o.addComponent(c);const l=new VV(t,s,o);return b0.set(a,l),l}function vj(r=R1){const e=b0.get(r);if(!e&&r===R1&&F4())return H4();if(!e)throw jl.create("no-app",{appName:r});return e}function Pi(r,e,t){var s;let a=(s=FV[r])!==null&&s!==void 0?s:r;t&&(a+=`-${t}`);const i=a.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${a}" with version "${e}":`];i&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ro.warn(l.join(" "));return}ad(new El(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="firebase-heartbeat-database",HV=1,kf="firebase-heartbeat-store";let pw=null;function $4(){return pw||(pw=iV(BV,HV,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(kf)}catch(t){console.warn(t)}}}}).catch(r=>{throw jl.create("idb-open",{originalErrorMessage:r.message})})),pw}async function $V(r){try{const t=(await $4()).transaction(kf),s=await t.objectStore(kf).get(W4(r));return await t.done,s}catch(e){if(e instanceof Gi)Ro.warn(e.message);else{const t=jl.create("idb-get",{originalErrorMessage:e?.message});Ro.warn(t.message)}}}async function UC(r,e){try{const s=(await $4()).transaction(kf,"readwrite");await s.objectStore(kf).put(e,W4(r)),await s.done}catch(t){if(t instanceof Gi)Ro.warn(t.message);else{const s=jl.create("idb-set",{originalErrorMessage:t?.message});Ro.warn(s.message)}}}function W4(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=1024,YV=30;class qV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GV(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>YV){const o=KV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ro.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zC(),{heartbeatsToSend:s,unsentEntries:a}=XV(this._heartbeatsCache.heartbeats),i=x0(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Ro.warn(t),""}}}function zC(){return new Date().toISOString().substring(0,10)}function XV(r,e=WV){const t=[];let s=r.slice();for(const a of r){const i=t.find(o=>o.agent===a.agent);if(i){if(i.dates.push(a.date),VC(t)>e){i.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),VC(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class GV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mz()?Oz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $V(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return UC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return UC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function VC(r){return x0(JSON.stringify({version:2,heartbeats:r})).length}function KV(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(r){ad(new El("platform-logger",e=>new cV(e),"PRIVATE")),ad(new El("heartbeat",e=>new qV(e),"PRIVATE")),Pi(P1,LC,r),Pi(P1,LC,"esm2017"),Pi("fire-js","")}QV("");var ZV="firebase",JV="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(ZV,JV,"app");function wj(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t}function Y4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eB=Y4,q4=new ig("auth","Firebase",Y4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new bj("@firebase/auth");function tB(r,...e){y0.logLevel<=rs.WARN&&y0.warn(`Auth (${vd}): ${r}`,...e)}function Bx(r,...e){y0.logLevel<=rs.ERROR&&y0.error(`Auth (${vd}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(r,...e){throw jj(r,...e)}function ei(r,...e){return jj(r,...e)}function Nj(r,e,t){const s=Object.assign(Object.assign({},eB()),{[e]:t});return new ig("auth","Firebase",s).create(e,{appName:r.name})}function Ri(r){return Nj(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sB(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Vn(r,"argument-error"),Nj(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jj(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return q4.create(r,...e)}function vt(r,e,...t){if(!r)throw jj(e,...t)}function No(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Bx(e),new Error(e)}function Io(r,e){r||No(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function rB(){return BC()==="http:"||BC()==="https:"}function BC(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rB()||Pz()||"connection"in navigator)?navigator.onLine:!0}function nB(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t){this.shortDelay=e,this.longDelay=t,Io(t>e,"Short delay should be less than long delay!"),this.isMobile=Cz()||Rz()}get(){return aB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(r,e){Io(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;No("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;No("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;No("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lB=new lg(3e4,6e4);function za(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function rn(r,e,t,s,a={}){return G4(r,a,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const l=og(Object.assign({key:r.config.apiKey},o)).slice(1),c=await r._getAdditionalHeaders();c["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode);const u=Object.assign({method:e,headers:c},i);return Tz()||(u.referrerPolicy="no-referrer"),r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(u.credentials="include"),X4.fetch()(await K4(r,r.config.apiHost,t,l),u)})}async function G4(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},iB),e);try{const a=new dB(r),i=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Bm(r,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bm(r,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Bm(r,"email-already-in-use",o);if(c==="USER_DISABLED")throw Bm(r,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Nj(r,h,u);Vn(r,h)}}catch(a){if(a instanceof Gi)throw a;Vn(r,"network-request-failed",{message:String(a)})}}async function ql(r,e,t,s,a={}){const i=await rn(r,e,t,s,a);return"mfaPendingCredential"in i&&Vn(r,"multi-factor-auth-required",{_serverResponse:i}),i}async function K4(r,e,t,s){const a=`${e}${t}?${s}`,i=r,o=i.config.emulator?kj(r.config,a):`${r.config.apiScheme}://${a}`;return oB.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function cB(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ei(this.auth,"network-request-failed")),lB.get())})}}function Bm(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=ei(r,e,s);return a.customData._tokenResponse=t,a}function HC(r){return r!==void 0&&r.enterprise!==void 0}class Q4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return cB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Z4(r,e){return rn(r,"GET","/v2/recaptchaConfig",za(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(r,e){return rn(r,"POST","/v1/accounts:delete",e)}async function v0(r,e){return rn(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(r,e=!1){return ys(r).getIdToken(e)}async function mB(r,e=!1){const t=ys(r),s=await t.getIdToken(e),a=Sj(s);vt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,o=i?.sign_in_provider;return{claims:a,token:s,authTime:Jm(xw(a.auth_time)),issuedAtTime:Jm(xw(a.iat)),expirationTime:Jm(xw(a.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function xw(r){return Number(r)*1e3}function Sj(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Bx("JWT malformed, contained fewer than 3 sections"),null;try{const a=M4(t);return a?JSON.parse(a):(Bx("Failed to decode base64 JWT payload"),null)}catch(a){return Bx("Caught error parsing JWT payload as JSON",a?.toString()),null}}function $C(r){const e=Sj(r);return vt(e,"internal-error"),vt(typeof e.exp<"u","internal-error"),vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Gi&&fB(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function fB({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jm(this.lastLoginAt),this.creationTime=Jm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(r){var e;const t=r.auth,s=await r.getIdToken(),a=await nd(r,v0(t,{idToken:s}));vt(a?.users.length,t,"internal-error");const i=a.users[0];r._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?J4(i.providerUserInfo):[],l=xB(r.providerData,o),c=r.isAnonymous,u=!(r.email&&i.passwordHash)&&!l?.length,h=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new M1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(r,f)}async function pB(r){const e=ys(r);await w0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xB(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function J4(r){return r.map(e=>{var{providerId:t}=e,s=wj(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(r,e){const t=await G4(r,{},async()=>{const s=og({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=r.config,o=await K4(r,a,"/v1/token",`key=${i}`),l=await r._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(c.credentials="include"),X4.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yB(r,e){return rn(r,"POST","/v2/accounts:revokeToken",za(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vt(e.idToken,"internal-error"),vt(typeof e.idToken<"u","internal-error"),vt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$C(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){vt(e.length!==0,"internal-error");const t=$C(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:i}=await bB(e,t);this.updateTokensAndExpiration(s,a,Number(i))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:i}=t,o=new Ru;return s&&(vt(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),a&&(vt(typeof a=="string","internal-error",{appName:e}),o.accessToken=a),i&&(vt(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ru,this.toJSON())}_performRefresh(){return No("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(r,e){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,i=wj(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new M1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await nd(this,this.stsTokenManager.getToken(this.auth,e));return vt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mB(this,e)}reload(){return pB(this)}_assign(e){this!==e&&(vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await w0(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ia(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await nd(this,uB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,i,o,l,c,u,h;const f=(s=t.displayName)!==null&&s!==void 0?s:void 0,g=(a=t.email)!==null&&a!==void 0?a:void 0,x=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=t.photoURL)!==null&&o!==void 0?o:void 0,b=(l=t.tenantId)!==null&&l!==void 0?l:void 0,v=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,N=(u=t.createdAt)!==null&&u!==void 0?u:void 0,k=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:R,isAnonymous:_,providerData:I,stsTokenManager:P}=t;vt(C&&P,e,"internal-error");const T=Ru.fromJSON(this.name,P);vt(typeof C=="string",e,"internal-error"),ul(f,e.name),ul(g,e.name),vt(typeof R=="boolean",e,"internal-error"),vt(typeof _=="boolean",e,"internal-error"),ul(x,e.name),ul(y,e.name),ul(b,e.name),ul(v,e.name),ul(N,e.name),ul(k,e.name);const D=new Kn({uid:C,auth:e,email:g,emailVerified:R,displayName:f,isAnonymous:_,photoURL:y,phoneNumber:x,tenantId:b,stsTokenManager:T,createdAt:N,lastLoginAt:k});return I&&Array.isArray(I)&&(D.providerData=I.map(L=>Object.assign({},L))),v&&(D._redirectEventId=v),D}static async _fromIdTokenResponse(e,t,s=!1){const a=new Ru;a.updateFromServerResponse(t);const i=new Kn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await w0(i),i}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];vt(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?J4(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!i?.length,l=new Ru;l.updateFromIdToken(s);const c=new Kn({uid:a.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new M1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!i?.length};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new Map;function jo(r){Io(r instanceof Function,"Expected a class definition");let e=WC.get(r);return e?(Io(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,WC.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}e3.type="NONE";const YC=e3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(r,e,t){return`firebase:${r}:${e}:${t}`}class Iu{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:i}=this.auth;this.fullUserKey=Hx(this.userKey,a.apiKey,i),this.fullPersistenceKey=Hx("persistence",a.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await v0(this.auth,{idToken:e}).catch(()=>{});return t?Kn._fromGetAccountInfoResponse(this.auth,t,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Iu(jo(YC),e,s);const a=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=a[0]||jo(YC);const o=Hx(s,e.config.apiKey,e.name);let l=null;for(const u of t)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const g=await v0(e,{idToken:h}).catch(()=>{});if(!g)break;f=await Kn._fromGetAccountInfoResponse(e,g,h)}else f=Kn._fromJSON(e,h);u!==i&&(l=f),i=u;break}}catch{}const c=a.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Iu(i,e,s):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Iu(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i3(e))return"Blackberry";if(o3(e))return"Webos";if(s3(e))return"Safari";if((e.includes("chrome/")||r3(e))&&!e.includes("edge/"))return"Chrome";if(n3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function t3(r=Sa()){return/firefox\//i.test(r)}function s3(r=Sa()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r3(r=Sa()){return/crios\//i.test(r)}function a3(r=Sa()){return/iemobile/i.test(r)}function n3(r=Sa()){return/android/i.test(r)}function i3(r=Sa()){return/blackberry/i.test(r)}function o3(r=Sa()){return/webos/i.test(r)}function _j(r=Sa()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function vB(r=Sa()){var e;return _j(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wB(){return Iz()&&document.documentMode===10}function l3(r=Sa()){return _j(r)||n3(r)||o3(r)||i3(r)||/windows phone/i.test(r)||a3(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(r,e=[]){let t;switch(r){case"Browser":t=qC(Sa());break;case"Worker":t=`${qC(Sa())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vd}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jB(r,e={}){return rn(r,"GET","/v2/passwordPolicy",za(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=6;class SB{constructor(e){var t,s,a,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:kB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsLowercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XC(this),this.idTokenSubscription=new XC(this),this.beforeStateQueue=new NB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=jo(t)),this._initializationPromise=this.queue(async()=>{var s,a,i;if(!this._deleted&&(this.persistenceManager=await Iu.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await v0(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ia(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=a?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(a=c.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(o){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await w0(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ia(this.app))return Promise.reject(Ri(this));const t=e?ys(e):null;return t&&vt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ia(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ia(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jB(this),t=new SB(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ig("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await yB(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&jo(e)||this._popupRedirectResolver;vt(t,this,"argument-error"),this.redirectPersistenceManager=await Iu.create(this,[jo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,s,a);return()=>{o=!0,c()}}else{const c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=c3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Ia(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&tB(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ii(r){return ys(r)}class XC{constructor(e){this.auth=e,this.observer=null,this.addObserver=Vz(t=>this.observer=t)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AB(r){gb=r}function d3(r){return gb.loadJS(r)}function CB(){return gb.recaptchaEnterpriseScript}function EB(){return gb.gapiScript}function TB(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class PB{constructor(){this.enterprise=new RB}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class RB{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const IB="recaptcha-enterprise",ef="NO_RECAPTCHA";class u3{constructor(e){this.type=IB,this.auth=ii(e)}async verify(e="verify",t=!1){async function s(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{Z4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Q4(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function a(i,o,l){const c=window.grecaptcha;HC(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(ef)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PB().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(l=>{if(!t&&HC(window.grecaptcha))a(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=CB();c.length!==0&&(c+=l),d3(c).then(()=>{a(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function _m(r,e,t,s=!1,a=!1){const i=new u3(r);let o;if(a)o=ef;else try{o=await i.verify(t)}catch{o=await i.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Kc(r,e,t,s,a){var i,o;if(a==="EMAIL_PASSWORD_PROVIDER")if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await _m(r,e,t,t==="getOobCode");return s(r,l)}else return s(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await _m(r,e,t,t==="getOobCode");return s(r,c)}else return Promise.reject(l)});else if(a==="PHONE_PROVIDER")if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const l=await _m(r,e,t);return s(r,l).catch(async c=>{var u;if(((u=r._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const h=await _m(r,e,t,!1,!0);return s(r,h)}return Promise.reject(c)})}else{const l=await _m(r,e,t,!1,!0);return s(r,l)}else return Promise.reject(a+" provider is not supported.")}async function DB(r){const e=ii(r),t=await Z4(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new Q4(t);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new u3(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(r,e){const t=fb(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),i=t.getOptions();if(Po(i,e??{}))return a;Vn(a,"already-initialized")}return t.initialize({options:e})}function OB(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(jo);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function LB(r,e,t){const s=ii(r);vt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,i=h3(e),{host:o,port:l}=FB(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(Po(u,s.config.emulator)&&Po(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,Yl(o)?(pj(`${i}//${o}${c}`),xj("Auth",!0)):UB()}function h3(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function FB(r){const e=h3(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const i=a[1];return{host:i,port:GC(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:GC(o)}}}function GC(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function UB(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return No("not implemented")}_getIdTokenResponse(e){return No("not implemented")}_linkToIdToken(e,t){return No("not implemented")}_getReauthenticationResolver(e){return No("not implemented")}}async function zB(r,e){return rn(r,"POST","/v1/accounts:update",e)}async function VB(r,e){return rn(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BB(r,e){return ql(r,"POST","/v1/accounts:signInWithPassword",za(r,e))}async function m3(r,e){return rn(r,"POST","/v1/accounts:sendOobCode",za(r,e))}async function HB(r,e){return m3(r,e)}async function $B(r,e){return m3(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WB(r,e){return ql(r,"POST","/v1/accounts:signInWithEmailLink",za(r,e))}async function YB(r,e){return ql(r,"POST","/v1/accounts:signInWithEmailLink",za(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends pb{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Sf(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Sf(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kc(e,t,"signInWithPassword",BB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return WB(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kc(e,s,"signUpPassword",VB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return YB(e,{idToken:t,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(r,e){return ql(r,"POST","/v1/accounts:signInWithIdp",za(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB="http://localhost";class id extends pb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new id(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,i=wj(t,["providerId","signInMethod"]);if(!s||!a)return null;const o=new id(s,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Du(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Du(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Du(e,t)}buildRequest(){const e={requestUri:qB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=og(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(r,e){return rn(r,"POST","/v1/accounts:sendVerificationCode",za(r,e))}async function XB(r,e){return ql(r,"POST","/v1/accounts:signInWithPhoneNumber",za(r,e))}async function GB(r,e){const t=await ql(r,"POST","/v1/accounts:signInWithPhoneNumber",za(r,e));if(t.temporaryProof)throw Bm(r,"account-exists-with-different-credential",t);return t}const KB={USER_NOT_FOUND:"user-not-found"};async function QB(r,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ql(r,"POST","/v1/accounts:signInWithPhoneNumber",za(r,t),KB)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends pb{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new tf({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new tf({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return XB(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return GB(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return QB(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:s,verificationCode:a}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:s,code:a}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:s,phoneNumber:a,temporaryProof:i}=e;return!s&&!t&&!a&&!i?null:new tf({verificationId:t,verificationCode:s,phoneNumber:a,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JB(r){const e=zm(Vm(r)).link,t=e?zm(Vm(e)).deep_link_id:null,s=zm(Vm(r)).deep_link_id;return(s?zm(Vm(s)).link:null)||s||t||e||r}class Aj{constructor(e){var t,s,a,i,o,l;const c=zm(Vm(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(s=c.oobCode)!==null&&s!==void 0?s:null,f=ZB((a=c.mode)!==null&&a!==void 0?a:null);vt(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=JB(e);try{return new Aj(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.providerId=Xl.PROVIDER_ID}static credential(e,t){return Sf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Aj.parseLink(t);return vt(s,"argument-error"),Sf._fromEmailAndCode(e,s.code,s.tenantId)}}Xl.PROVIDER_ID="password";Xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends Cj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends cg{constructor(){super("facebook.com")}static credential(e){return id._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends cg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return id._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ei.credential(t,s)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends cg{constructor(){super("github.com")}static credential(e){return id._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ml.credential(e.oauthAccessToken)}catch{return null}}}ml.GITHUB_SIGN_IN_METHOD="github.com";ml.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends cg{constructor(){super("twitter.com")}static credential(e,t){return id._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return fl.credential(t,s)}catch{return null}}}fl.TWITTER_SIGN_IN_METHOD="twitter.com";fl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(r,e){return ql(r,"POST","/v1/accounts:signUp",za(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const i=await Kn._fromIdTokenResponse(e,s,a),o=QC(s);return new od({user:i,providerId:o,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=QC(s);return new od({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function QC(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends Gi{constructor(e,t,s,a){var i;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,N0.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new N0(e,t,s,a)}}function f3(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?N0._fromErrorAndOperation(r,i,e,s):i})}async function t7(r,e,t=!1){const s=await nd(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return od._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(r,e,t=!1){const{auth:s}=r;if(Ia(s.app))return Promise.reject(Ri(s));const a="reauthenticate";try{const i=await nd(r,f3(s,a,e,r),t);vt(i.idToken,s,"internal-error");const o=Sj(i.idToken);vt(o,s,"internal-error");const{sub:l}=o;return vt(r.uid===l,s,"user-mismatch"),od._forOperation(r,a,i)}catch(i){throw i?.code==="auth/user-not-found"&&Vn(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(r,e,t=!1){if(Ia(r.app))return Promise.reject(Ri(r));const s="signIn",a=await f3(r,s,e),i=await od._fromIdTokenResponse(r,s,a);return t||await r._updateCurrentUser(i.user),i}async function x3(r,e){return p3(ii(r),e)}async function b3(r,e){return g3(ys(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(r){const e=ii(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function v3(r,e,t){const s=ii(r);await Kc(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$B,"EMAIL_PASSWORD_PROVIDER")}async function j0(r,e,t){if(Ia(r.app))return Promise.reject(Ri(r));const s=ii(r),o=await Kc(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e7,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&y3(r),c}),l=await od._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function s7(r,e,t){return Ia(r.app)?Promise.reject(Ri(r)):x3(ys(r),Xl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&y3(r),s})}async function r7(r,e){const t=ys(r),a={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:i}=await HB(t.auth,a);i!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a7(r,e){return rn(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=ys(r),i={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await nd(s,a7(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function n7(r,e){return i7(ys(r),null,e)}async function i7(r,e,t){const{auth:s}=r,i={idToken:await r.getIdToken(),returnSecureToken:!0};t&&(i.password=t);const o=await nd(r,zB(s,i));await r._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(r,e){return ys(r).setPersistence(e)}function o7(r,e,t,s){return ys(r).onIdTokenChanged(e,t,s)}function l7(r,e,t){return ys(r).beforeAuthStateChanged(e,t)}function ri(r,e,t,s){return ys(r).onAuthStateChanged(e,t,s)}async function c7(r){return ys(r).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(r,e){return rn(r,"POST","/v2/accounts/mfaEnrollment:start",za(r,e))}const k0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(k0,"1"),this.storage.removeItem(k0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=1e3,u7=10;class j3 extends N3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(s);!t&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);wB()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,u7):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},d7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}j3.type="LOCAL";const k3=j3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3 extends N3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}S3.type="SESSION";const Ej=S3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new xb(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:i}=t.data,o=this.handlersMap[a];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const l=Array.from(o).map(async u=>u(t.origin,i)),c=await h7(l);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=Tj("",20);a.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:a,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(g.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function f7(r){Ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function g7(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p7(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function x7(){return _3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="firebaseLocalStorageDb",b7=1,S0="firebaseLocalStorage",C3="fbase_key";class dg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bb(r,e){return r.transaction([S0],e?"readwrite":"readonly").objectStore(S0)}function y7(){const r=indexedDB.deleteDatabase(A3);return new dg(r).toPromise()}function O1(){const r=indexedDB.open(A3,b7);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(S0,{keyPath:C3})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(S0)?e(s):(s.close(),await y7(),e(await O1()))})})}async function JC(r,e,t){const s=bb(r,!0).put({[C3]:e,value:t});return new dg(s).toPromise()}async function v7(r,e){const t=bb(r,!1).get(e),s=await new dg(t).toPromise();return s===void 0?null:s.value}function eE(r,e){const t=bb(r,!0).delete(e);return new dg(t).toPromise()}const w7=800,N7=3;class E3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>N7)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xb._getInstance(x7()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await g7(),!this.activeServiceWorker)return;this.sender=new m7(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O1();return await JC(e,k0,"1"),await eE(e,k0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>JC(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>v7(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>eE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=bb(a,!1).getAll();return new dg(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E3.type="LOCAL";const j7=E3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r,e){return rn(r,"POST","/v2/accounts/mfaSignIn:start",za(r,e))}new lg(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="recaptcha";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=tf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function S7(r,e,t){if(Ia(r.app))return Promise.reject(Ri(r));const s=ii(r),a=await _7(s,e,ys(t));return new k7(a,i=>x3(s,i))}async function _7(r,e,t){var s;if(!r._getRecaptchaConfig())try{await DB(r)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(typeof e=="string"?a={phoneNumber:e}:a=e,"session"in a){const i=a.session;if("phoneNumber"in a){vt(i.type==="enroll",r,"internal-error");const o={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Kc(r,o,"mfaSmsEnrollment",async(h,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===ef){vt(t?.type===$x,h,"argument-error");const g=await bw(h,f,t);return ZC(h,g)}return ZC(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{vt(i.type==="signin",r,"internal-error");const o=((s=a.multiFactorHint)===null||s===void 0?void 0:s.uid)||a.multiFactorUid;vt(o,r,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Kc(r,l,"mfaSmsSignIn",async(f,g)=>{if(g.phoneSignInInfo.captchaResponse===ef){vt(t?.type===$x,f,"argument-error");const x=await bw(f,g,t);return tE(f,x)}return tE(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Kc(r,i,"sendVerificationCode",async(u,h)=>{if(h.captchaResponse===ef){vt(t?.type===$x,u,"argument-error");const f=await bw(u,h,t);return KC(u,f)}return KC(u,h)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{t?._reset()}}async function bw(r,e,t){vt(t.type===$x,r,"argument-error");const s=await t.verify();vt(typeof s=="string",r,"argument-error");const a=Object.assign({},e);if("phoneEnrollmentInfo"in a){const i=a.phoneEnrollmentInfo.phoneNumber,o=a.phoneEnrollmentInfo.captchaResponse,l=a.phoneEnrollmentInfo.clientType,c=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:s,captchaResponse:o,clientType:l,recaptchaVersion:c}}),a}else if("phoneSignInInfo"in a){const i=a.phoneSignInInfo.captchaResponse,o=a.phoneSignInInfo.clientType,l=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:i,clientType:o,recaptchaVersion:l}}),a}else return Object.assign(a,{recaptchaToken:s}),a}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(r,e){return e?jo(e):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj extends pb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Du(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Du(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Du(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function A7(r){return p3(r.auth,new Pj(r),r.bypassAuthState)}function C7(r){const{auth:e,user:t}=r;return vt(t,e,"internal-error"),g3(t,new Pj(r),r.bypassAuthState)}async function E7(r){const{auth:e,user:t}=r;return vt(t,e,"internal-error"),t7(t,new Pj(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,t,s,a,i=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:t,sessionId:s,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A7;case"linkViaPopup":case"linkViaRedirect":return E7;case"reauthViaPopup":case"reauthViaRedirect":return C7;default:Vn(this.auth,"internal-error")}}resolve(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=new lg(2e3,1e4);async function L1(r,e,t){if(Ia(r.app))return Promise.reject(ei(r,"operation-not-supported-in-this-environment"));const s=ii(r);sB(r,e,Cj);const a=T3(s,t);return new Uc(s,"signInViaPopup",e,a).executeNotNull()}class Uc extends P3{constructor(e,t,s,a,i){super(e,t,a,i),this.provider=s,this.authWindow=null,this.pollId=null,Uc.currentPopupAction&&Uc.currentPopupAction.cancel(),Uc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vt(e,this.auth,"internal-error"),e}async onExecution(){Io(this.filter.length===1,"Popup operations only handle one event");const e=Tj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T7.get())};e()}}Uc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7="pendingRedirect",Wx=new Map;class R7 extends P3{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Wx.get(this.auth._key());if(!e){try{const s=await I7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Wx.set(this.auth._key(),e)}return this.bypassAuthState||Wx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I7(r,e){const t=O7(e),s=M7(r);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function D7(r,e){Wx.set(r._key(),e)}function M7(r){return jo(r._redirectPersistence)}function O7(r){return Hx(P7,r.config.apiKey,r.name)}async function L7(r,e,t=!1){if(Ia(r.app))return Promise.reject(Ri(r));const s=ii(r),a=T3(s,e),o=await new R7(s,a,t).execute();return o&&!t&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=600*1e3;class U7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!R3(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ei(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F7&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}saveEventToCache(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}function sE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function R3({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function z7(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R3(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V7(r,e={}){return rn(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H7=/^https?/;async function $7(r){if(r.config.emulator)return;const{authorizedDomains:e}=await V7(r);for(const t of e)try{if(W7(t))return}catch{}Vn(r,"unauthorized-domain")}function W7(r){const e=D1(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const o=new URL(r);return o.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===s}if(!H7.test(t))return!1;if(B7.test(r))return s===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7=new lg(3e4,6e4);function rE(){const r=Ii().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function q7(r){return new Promise((e,t)=>{var s,a,i;function o(){rE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rE(),t(ei(r,"network-request-failed"))},timeout:Y7.get()})}if(!((a=(s=Ii().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((i=Ii().gapi)===null||i===void 0)&&i.load)o();else{const l=TB("iframefcb");return Ii()[l]=()=>{gapi.load?o():t(ei(r,"network-request-failed"))},d3(`${EB()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw Yx=null,e})}let Yx=null;function X7(r){return Yx=Yx||q7(r),Yx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=new lg(5e3,15e3),K7="__/auth/iframe",Q7="emulator/auth/iframe",Z7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e9(r){const e=r.config;vt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?kj(e,Q7):`https://${r.config.authDomain}/${K7}`,s={apiKey:e.apiKey,appName:r.name,v:vd},a=J7.get(r.config.apiHost);a&&(s.eid=a);const i=r._getFrameworks();return i.length&&(s.fw=i.join(",")),`${t}?${og(s).slice(1)}`}async function t9(r){const e=await X7(r),t=Ii().gapi;return vt(t,r,"internal-error"),e.open({where:document.body,url:e9(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z7,dontclear:!0},s=>new Promise(async(a,i)=>{await s.restyle({setHideOnLeave:!1});const o=ei(r,"network-request-failed"),l=Ii().setTimeout(()=>{i(o)},G7.get());function c(){Ii().clearTimeout(l),a(s)}s.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r9=500,a9=600,n9="_blank",i9="http://localhost";class aE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o9(r,e,t,s=r9,a=a9){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},s9),{width:s.toString(),height:a.toString(),top:i,left:o}),u=Sa().toLowerCase();t&&(l=r3(u)?n9:t),t3(u)&&(e=e||i9,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[x,y])=>`${g}${x}=${y},`,"");if(vB(u)&&l!=="_self")return l9(e||"",l),new aE(null);const f=window.open(e||"",l,h);vt(f,r,"popup-blocked");try{f.focus()}catch{}return new aE(f)}function l9(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="__/auth/handler",d9="emulator/auth/handler",u9=encodeURIComponent("fac");async function nE(r,e,t,s,a,i){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const o={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:vd,eventId:a};if(e instanceof Cj){e.setDefaultLanguage(r.languageCode),o.providerId=e.providerId||"",zz(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof cg){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}r.tenantId&&(o.tid=r.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await r._getAppCheckToken(),u=c?`#${u9}=${encodeURIComponent(c)}`:"";return`${h9(r)}?${og(l).slice(1)}${u}`}function h9({config:r}){return r.emulator?kj(r,d9):`https://${r.authDomain}/${c9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="webStorageSupport";class m9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ej,this._completeRedirectFn=L7,this._overrideRedirectResult=D7}async _openPopup(e,t,s,a){var i;Io((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await nE(e,t,s,D1(),a);return o9(e,o,Tj())}async _openRedirect(e,t,s,a){await this._originValidation(e);const i=await nE(e,t,s,D1(),a);return f7(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:i}=this.eventManagers[t];return a?Promise.resolve(a):(Io(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await t9(e),s=new U7(e);return t.register("authEvent",a=>(vt(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yw,{type:yw},a=>{var i;const o=(i=a?.[0])===null||i===void 0?void 0:i[yw];o!==void 0&&t(!!o),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return l3()||s3()||_j()}}const f9=m9;var iE="@firebase/auth",oE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x9(r){ad(new El("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;vt(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:c3(r)},u=new _B(s,a,i,c);return OB(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ad(new El("auth-internal",e=>{const t=ii(e.getProvider("auth").getImmediate());return(s=>new g9(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(iE,oE,p9(r)),Pi(iE,oE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=300,y9=U4("authIdTokenMaxAge")||b9;let lE=null;const v9=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>y9)return;const a=t?.token;lE!==a&&(lE=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function oh(r=vj()){const e=fb(r,"auth");if(e.isInitialized())return e.getImmediate();const t=MB(r,{popupRedirectResolver:f9,persistence:[j7,k3,Ej]}),s=U4("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=v9(i.toString());l7(t,o,()=>o(t.currentUser)),o7(t,l=>o(l))}}const a=O4("auth");return a&&LB(t,`http://${a}`),t}function w9(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}AB({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{const i=ei("internal-error");i.customData=a,t(i)},s.type="text/javascript",s.charset="UTF-8",w9().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x9("Browser");var cE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kl,I3;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function D(){}D.prototype=T.prototype,P.D=T.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(L,F,z){for(var O=Array(arguments.length-2),V=2;V<arguments.length;V++)O[V-2]=arguments[V];return T.prototype[F].apply(L,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,T,D){D||(D=0);var L=Array(16);if(typeof T=="string")for(var F=0;16>F;++F)L[F]=T.charCodeAt(D++)|T.charCodeAt(D++)<<8|T.charCodeAt(D++)<<16|T.charCodeAt(D++)<<24;else for(F=0;16>F;++F)L[F]=T[D++]|T[D++]<<8|T[D++]<<16|T[D++]<<24;T=P.g[0],D=P.g[1],F=P.g[2];var z=P.g[3],O=T+(z^D&(F^z))+L[0]+3614090360&4294967295;T=D+(O<<7&4294967295|O>>>25),O=z+(F^T&(D^F))+L[1]+3905402710&4294967295,z=T+(O<<12&4294967295|O>>>20),O=F+(D^z&(T^D))+L[2]+606105819&4294967295,F=z+(O<<17&4294967295|O>>>15),O=D+(T^F&(z^T))+L[3]+3250441966&4294967295,D=F+(O<<22&4294967295|O>>>10),O=T+(z^D&(F^z))+L[4]+4118548399&4294967295,T=D+(O<<7&4294967295|O>>>25),O=z+(F^T&(D^F))+L[5]+1200080426&4294967295,z=T+(O<<12&4294967295|O>>>20),O=F+(D^z&(T^D))+L[6]+2821735955&4294967295,F=z+(O<<17&4294967295|O>>>15),O=D+(T^F&(z^T))+L[7]+4249261313&4294967295,D=F+(O<<22&4294967295|O>>>10),O=T+(z^D&(F^z))+L[8]+1770035416&4294967295,T=D+(O<<7&4294967295|O>>>25),O=z+(F^T&(D^F))+L[9]+2336552879&4294967295,z=T+(O<<12&4294967295|O>>>20),O=F+(D^z&(T^D))+L[10]+4294925233&4294967295,F=z+(O<<17&4294967295|O>>>15),O=D+(T^F&(z^T))+L[11]+2304563134&4294967295,D=F+(O<<22&4294967295|O>>>10),O=T+(z^D&(F^z))+L[12]+1804603682&4294967295,T=D+(O<<7&4294967295|O>>>25),O=z+(F^T&(D^F))+L[13]+4254626195&4294967295,z=T+(O<<12&4294967295|O>>>20),O=F+(D^z&(T^D))+L[14]+2792965006&4294967295,F=z+(O<<17&4294967295|O>>>15),O=D+(T^F&(z^T))+L[15]+1236535329&4294967295,D=F+(O<<22&4294967295|O>>>10),O=T+(F^z&(D^F))+L[1]+4129170786&4294967295,T=D+(O<<5&4294967295|O>>>27),O=z+(D^F&(T^D))+L[6]+3225465664&4294967295,z=T+(O<<9&4294967295|O>>>23),O=F+(T^D&(z^T))+L[11]+643717713&4294967295,F=z+(O<<14&4294967295|O>>>18),O=D+(z^T&(F^z))+L[0]+3921069994&4294967295,D=F+(O<<20&4294967295|O>>>12),O=T+(F^z&(D^F))+L[5]+3593408605&4294967295,T=D+(O<<5&4294967295|O>>>27),O=z+(D^F&(T^D))+L[10]+38016083&4294967295,z=T+(O<<9&4294967295|O>>>23),O=F+(T^D&(z^T))+L[15]+3634488961&4294967295,F=z+(O<<14&4294967295|O>>>18),O=D+(z^T&(F^z))+L[4]+3889429448&4294967295,D=F+(O<<20&4294967295|O>>>12),O=T+(F^z&(D^F))+L[9]+568446438&4294967295,T=D+(O<<5&4294967295|O>>>27),O=z+(D^F&(T^D))+L[14]+3275163606&4294967295,z=T+(O<<9&4294967295|O>>>23),O=F+(T^D&(z^T))+L[3]+4107603335&4294967295,F=z+(O<<14&4294967295|O>>>18),O=D+(z^T&(F^z))+L[8]+1163531501&4294967295,D=F+(O<<20&4294967295|O>>>12),O=T+(F^z&(D^F))+L[13]+2850285829&4294967295,T=D+(O<<5&4294967295|O>>>27),O=z+(D^F&(T^D))+L[2]+4243563512&4294967295,z=T+(O<<9&4294967295|O>>>23),O=F+(T^D&(z^T))+L[7]+1735328473&4294967295,F=z+(O<<14&4294967295|O>>>18),O=D+(z^T&(F^z))+L[12]+2368359562&4294967295,D=F+(O<<20&4294967295|O>>>12),O=T+(D^F^z)+L[5]+4294588738&4294967295,T=D+(O<<4&4294967295|O>>>28),O=z+(T^D^F)+L[8]+2272392833&4294967295,z=T+(O<<11&4294967295|O>>>21),O=F+(z^T^D)+L[11]+1839030562&4294967295,F=z+(O<<16&4294967295|O>>>16),O=D+(F^z^T)+L[14]+4259657740&4294967295,D=F+(O<<23&4294967295|O>>>9),O=T+(D^F^z)+L[1]+2763975236&4294967295,T=D+(O<<4&4294967295|O>>>28),O=z+(T^D^F)+L[4]+1272893353&4294967295,z=T+(O<<11&4294967295|O>>>21),O=F+(z^T^D)+L[7]+4139469664&4294967295,F=z+(O<<16&4294967295|O>>>16),O=D+(F^z^T)+L[10]+3200236656&4294967295,D=F+(O<<23&4294967295|O>>>9),O=T+(D^F^z)+L[13]+681279174&4294967295,T=D+(O<<4&4294967295|O>>>28),O=z+(T^D^F)+L[0]+3936430074&4294967295,z=T+(O<<11&4294967295|O>>>21),O=F+(z^T^D)+L[3]+3572445317&4294967295,F=z+(O<<16&4294967295|O>>>16),O=D+(F^z^T)+L[6]+76029189&4294967295,D=F+(O<<23&4294967295|O>>>9),O=T+(D^F^z)+L[9]+3654602809&4294967295,T=D+(O<<4&4294967295|O>>>28),O=z+(T^D^F)+L[12]+3873151461&4294967295,z=T+(O<<11&4294967295|O>>>21),O=F+(z^T^D)+L[15]+530742520&4294967295,F=z+(O<<16&4294967295|O>>>16),O=D+(F^z^T)+L[2]+3299628645&4294967295,D=F+(O<<23&4294967295|O>>>9),O=T+(F^(D|~z))+L[0]+4096336452&4294967295,T=D+(O<<6&4294967295|O>>>26),O=z+(D^(T|~F))+L[7]+1126891415&4294967295,z=T+(O<<10&4294967295|O>>>22),O=F+(T^(z|~D))+L[14]+2878612391&4294967295,F=z+(O<<15&4294967295|O>>>17),O=D+(z^(F|~T))+L[5]+4237533241&4294967295,D=F+(O<<21&4294967295|O>>>11),O=T+(F^(D|~z))+L[12]+1700485571&4294967295,T=D+(O<<6&4294967295|O>>>26),O=z+(D^(T|~F))+L[3]+2399980690&4294967295,z=T+(O<<10&4294967295|O>>>22),O=F+(T^(z|~D))+L[10]+4293915773&4294967295,F=z+(O<<15&4294967295|O>>>17),O=D+(z^(F|~T))+L[1]+2240044497&4294967295,D=F+(O<<21&4294967295|O>>>11),O=T+(F^(D|~z))+L[8]+1873313359&4294967295,T=D+(O<<6&4294967295|O>>>26),O=z+(D^(T|~F))+L[15]+4264355552&4294967295,z=T+(O<<10&4294967295|O>>>22),O=F+(T^(z|~D))+L[6]+2734768916&4294967295,F=z+(O<<15&4294967295|O>>>17),O=D+(z^(F|~T))+L[13]+1309151649&4294967295,D=F+(O<<21&4294967295|O>>>11),O=T+(F^(D|~z))+L[4]+4149444226&4294967295,T=D+(O<<6&4294967295|O>>>26),O=z+(D^(T|~F))+L[11]+3174756917&4294967295,z=T+(O<<10&4294967295|O>>>22),O=F+(T^(z|~D))+L[2]+718787259&4294967295,F=z+(O<<15&4294967295|O>>>17),O=D+(z^(F|~T))+L[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+F&4294967295,P.g[3]=P.g[3]+z&4294967295}s.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var D=T-this.blockSize,L=this.B,F=this.h,z=0;z<T;){if(F==0)for(;z<=D;)a(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<T;)if(L[F++]=P.charCodeAt(z++),F==this.blockSize){a(this,L),F=0;break}}else for(;z<T;)if(L[F++]=P[z++],F==this.blockSize){a(this,L),F=0;break}}this.h=F,this.o+=T},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var D=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=D&255,D/=256;for(this.u(P),P=Array(16),T=D=0;4>T;++T)for(var L=0;32>L;L+=8)P[D++]=this.g[T]>>>L&255;return P};function i(P,T){var D=l;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=T(P)}function o(P,T){this.h=T;for(var D=[],L=!0,F=P.length-1;0<=F;F--){var z=P[F]|0;L&&z==T||(D[F]=z,L=!1)}this.g=D}var l={};function c(P){return-128<=P&&128>P?i(P,function(T){return new o([T|0],0>T?-1:0)}):new o([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return f;if(0>P)return v(u(-P));for(var T=[],D=1,L=0;P>=D;L++)T[L]=P/D|0,D*=4294967296;return new o(T,0)}function h(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return v(h(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(T,8)),L=f,F=0;F<P.length;F+=8){var z=Math.min(8,P.length-F),O=parseInt(P.substring(F,F+z),T);8>z?(z=u(Math.pow(T,z)),L=L.j(z).add(u(O))):(L=L.j(D),L=L.add(u(O)))}return L}var f=c(0),g=c(1),x=c(16777216);r=o.prototype,r.m=function(){if(b(this))return-v(this).m();for(var P=0,T=1,D=0;D<this.g.length;D++){var L=this.i(D);P+=(0<=L?L:4294967296+L)*T,T*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(y(this))return"0";if(b(this))return"-"+v(this).toString(P);for(var T=u(Math.pow(P,6)),D=this,L="";;){var F=R(D,T).g;D=N(D,F.j(T));var z=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=F,y(D))return z+L;for(;6>z.length;)z="0"+z;L=z+L}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function y(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function b(P){return P.h==-1}r.l=function(P){return P=N(this,P),b(P)?-1:y(P)?0:1};function v(P){for(var T=P.g.length,D=[],L=0;L<T;L++)D[L]=~P.g[L];return new o(D,~P.h).add(g)}r.abs=function(){return b(this)?v(this):this},r.add=function(P){for(var T=Math.max(this.g.length,P.g.length),D=[],L=0,F=0;F<=T;F++){var z=L+(this.i(F)&65535)+(P.i(F)&65535),O=(z>>>16)+(this.i(F)>>>16)+(P.i(F)>>>16);L=O>>>16,z&=65535,O&=65535,D[F]=O<<16|z}return new o(D,D[D.length-1]&-2147483648?-1:0)};function N(P,T){return P.add(v(T))}r.j=function(P){if(y(this)||y(P))return f;if(b(this))return b(P)?v(this).j(v(P)):v(v(this).j(P));if(b(P))return v(this.j(v(P)));if(0>this.l(x)&&0>P.l(x))return u(this.m()*P.m());for(var T=this.g.length+P.g.length,D=[],L=0;L<2*T;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<P.g.length;F++){var z=this.i(L)>>>16,O=this.i(L)&65535,V=P.i(F)>>>16,H=P.i(F)&65535;D[2*L+2*F]+=O*H,k(D,2*L+2*F),D[2*L+2*F+1]+=z*H,k(D,2*L+2*F+1),D[2*L+2*F+1]+=O*V,k(D,2*L+2*F+1),D[2*L+2*F+2]+=z*V,k(D,2*L+2*F+2)}for(L=0;L<T;L++)D[L]=D[2*L+1]<<16|D[2*L];for(L=T;L<2*T;L++)D[L]=0;return new o(D,0)};function k(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function C(P,T){this.g=P,this.h=T}function R(P,T){if(y(T))throw Error("division by zero");if(y(P))return new C(f,f);if(b(P))return T=R(v(P),T),new C(v(T.g),v(T.h));if(b(T))return T=R(P,v(T)),new C(v(T.g),T.h);if(30<P.g.length){if(b(P)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var D=g,L=T;0>=L.l(P);)D=_(D),L=_(L);var F=I(D,1),z=I(L,1);for(L=I(L,2),D=I(D,2);!y(L);){var O=z.add(L);0>=O.l(P)&&(F=F.add(D),z=O),L=I(L,1),D=I(D,1)}return T=N(P,F.j(T)),new C(F,T)}for(F=f;0<=P.l(T);){for(D=Math.max(1,Math.floor(P.m()/T.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),z=u(D),O=z.j(T);b(O)||0<O.l(P);)D-=L,z=u(D),O=z.j(T);y(z)&&(z=g),F=F.add(z),P=N(P,O)}return new C(F,P)}r.A=function(P){return R(this,P).h},r.and=function(P){for(var T=Math.max(this.g.length,P.g.length),D=[],L=0;L<T;L++)D[L]=this.i(L)&P.i(L);return new o(D,this.h&P.h)},r.or=function(P){for(var T=Math.max(this.g.length,P.g.length),D=[],L=0;L<T;L++)D[L]=this.i(L)|P.i(L);return new o(D,this.h|P.h)},r.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),D=[],L=0;L<T;L++)D[L]=this.i(L)^P.i(L);return new o(D,this.h^P.h)};function _(P){for(var T=P.g.length+1,D=[],L=0;L<T;L++)D[L]=P.i(L)<<1|P.i(L-1)>>>31;return new o(D,P.h)}function I(P,T){var D=T>>5;T%=32;for(var L=P.g.length-D,F=[],z=0;z<L;z++)F[z]=0<T?P.i(z+D)>>>T|P.i(z+D+1)<<32-T:P.i(z+D);return new o(F,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,I3=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,kl=o}).apply(typeof cE<"u"?cE:typeof self<"u"?self:typeof window<"u"?window:{});var ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D3,Hm,M3,qx,F1,O3,L3,F3;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,U,W){return S==Array.prototype||S==Object.prototype||(S[U]=W.value),S};function t(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof ax=="object"&&ax];for(var U=0;U<S.length;++U){var W=S[U];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var s=t(this);function a(S,U){if(U)e:{var W=s;S=S.split(".");for(var Z=0;Z<S.length-1;Z++){var pe=S[Z];if(!(pe in W))break e;W=W[pe]}S=S[S.length-1],Z=W[S],U=U(Z),U!=Z&&U!=null&&e(W,S,{configurable:!0,writable:!0,value:U})}}function i(S,U){S instanceof String&&(S+="");var W=0,Z=!1,pe={next:function(){if(!Z&&W<S.length){var Te=W++;return{value:U(Te,S[Te]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}a("Array.prototype.values",function(S){return S||function(){return i(this,function(U,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(S){var U=typeof S;return U=U!="object"?U:S?Array.isArray(S)?"array":U:"null",U=="array"||U=="object"&&typeof S.length=="number"}function u(S){var U=typeof S;return U=="object"&&S!=null||U=="function"}function h(S,U,W){return S.call.apply(S.bind,arguments)}function f(S,U,W){if(!S)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,Z),S.apply(U,pe)}}return function(){return S.apply(U,arguments)}}function g(S,U,W){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function x(S,U){var W=Array.prototype.slice.call(arguments,1);return function(){var Z=W.slice();return Z.push.apply(Z,arguments),S.apply(this,Z)}}function y(S,U){function W(){}W.prototype=U.prototype,S.aa=U.prototype,S.prototype=new W,S.prototype.constructor=S,S.Qb=function(Z,pe,Te){for(var Qe=Array(arguments.length-2),os=2;os<arguments.length;os++)Qe[os-2]=arguments[os];return U.prototype[pe].apply(Z,Qe)}}function b(S){const U=S.length;if(0<U){const W=Array(U);for(let Z=0;Z<U;Z++)W[Z]=S[Z];return W}return[]}function v(S,U){for(let W=1;W<arguments.length;W++){const Z=arguments[W];if(c(Z)){const pe=S.length||0,Te=Z.length||0;S.length=pe+Te;for(let Qe=0;Qe<Te;Qe++)S[pe+Qe]=Z[Qe]}else S.push(Z)}}class N{constructor(U,W){this.i=U,this.j=W,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function k(S){return/^[\s\xa0]*$/.test(S)}function C(){var S=l.navigator;return S&&(S=S.userAgent)?S:""}function R(S){return R[" "](S),S}R[" "]=function(){};var _=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function I(S,U,W){for(const Z in S)U.call(W,S[Z],Z,S)}function P(S,U){for(const W in S)U.call(void 0,S[W],W,S)}function T(S){const U={};for(const W in S)U[W]=S[W];return U}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(S,U){let W,Z;for(let pe=1;pe<arguments.length;pe++){Z=arguments[pe];for(W in Z)S[W]=Z[W];for(let Te=0;Te<D.length;Te++)W=D[Te],Object.prototype.hasOwnProperty.call(Z,W)&&(S[W]=Z[W])}}function F(S){var U=1;S=S.split(":");const W=[];for(;0<U&&S.length;)W.push(S.shift()),U--;return S.length&&W.push(S.join(":")),W}function z(S){l.setTimeout(()=>{throw S},0)}function O(){var S=G;let U=null;return S.g&&(U=S.g,S.g=S.g.next,S.g||(S.h=null),U.next=null),U}class V{constructor(){this.h=this.g=null}add(U,W){const Z=H.get();Z.set(U,W),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var H=new N(()=>new B,S=>S.reset());class B{constructor(){this.next=this.g=this.h=null}set(U,W){this.h=U,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let q,ee=!1,G=new V,$=()=>{const S=l.Promise.resolve(void 0);q=()=>{S.then(Q)}};var Q=()=>{for(var S;S=O();){try{S.h.call(S.g)}catch(W){z(W)}var U=H;U.j(S),100>U.h&&(U.h++,S.next=U.g,U.g=S)}ee=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(S,U){this.type=S,this.g=this.target=U,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var S=!1,U=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const W=()=>{};l.addEventListener("test",W,U),l.removeEventListener("test",W,U)}catch{}return S}();function Re(S,U){if(ne.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var W=this.type=S.type,Z=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=U,U=S.relatedTarget){if(_){e:{try{R(U.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(U=null)}}else W=="mouseover"?U=S.fromElement:W=="mouseout"&&(U=S.toElement);this.relatedTarget=U,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:de[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&Re.aa.h.call(this)}}y(Re,ne);var de={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),ue=0;function X(S,U,W,Z,pe){this.listener=S,this.proxy=null,this.src=U,this.type=W,this.capture=!!Z,this.ha=pe,this.key=++ue,this.da=this.fa=!1}function se(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function ge(S){this.src=S,this.g={},this.h=0}ge.prototype.add=function(S,U,W,Z,pe){var Te=S.toString();S=this.g[Te],S||(S=this.g[Te]=[],this.h++);var Qe=Ee(S,U,Z,pe);return-1<Qe?(U=S[Qe],W||(U.fa=!1)):(U=new X(U,this.src,Te,!!Z,pe),U.fa=W,S.push(U)),U};function xe(S,U){var W=U.type;if(W in S.g){var Z=S.g[W],pe=Array.prototype.indexOf.call(Z,U,void 0),Te;(Te=0<=pe)&&Array.prototype.splice.call(Z,pe,1),Te&&(se(U),S.g[W].length==0&&(delete S.g[W],S.h--))}}function Ee(S,U,W,Z){for(var pe=0;pe<S.length;++pe){var Te=S[pe];if(!Te.da&&Te.listener==U&&Te.capture==!!W&&Te.ha==Z)return pe}return-1}var $e="closure_lm_"+(1e6*Math.random()|0),rt={};function be(S,U,W,Z,pe){if(Array.isArray(U)){for(var Te=0;Te<U.length;Te++)be(S,U[Te],W,Z,pe);return null}return W=kr(W),S&&S[Me]?S.K(U,W,u(Z)?!!Z.capture:!1,pe):Ve(S,U,W,!1,Z,pe)}function Ve(S,U,W,Z,pe,Te){if(!U)throw Error("Invalid event type");var Qe=u(pe)?!!pe.capture:!!pe,os=es(S);if(os||(S[$e]=os=new ge(S)),W=os.add(U,W,Z,Qe,Te),W.proxy)return W;if(Z=st(),W.proxy=Z,Z.src=S,Z.listener=W,S.addEventListener)ce||(pe=Qe),pe===void 0&&(pe=!1),S.addEventListener(U.toString(),Z,pe);else if(S.attachEvent)S.attachEvent(et(U.toString()),Z);else if(S.addListener&&S.removeListener)S.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return W}function st(){function S(W){return U.call(S.src,S.listener,W)}const U=xt;return S}function We(S,U,W,Z,pe){if(Array.isArray(U))for(var Te=0;Te<U.length;Te++)We(S,U[Te],W,Z,pe);else Z=u(Z)?!!Z.capture:!!Z,W=kr(W),S&&S[Me]?(S=S.i,U=String(U).toString(),U in S.g&&(Te=S.g[U],W=Ee(Te,W,Z,pe),-1<W&&(se(Te[W]),Array.prototype.splice.call(Te,W,1),Te.length==0&&(delete S.g[U],S.h--)))):S&&(S=es(S))&&(U=S.g[U.toString()],S=-1,U&&(S=Ee(U,W,Z,pe)),(W=-1<S?U[S]:null)&&Ge(W))}function Ge(S){if(typeof S!="number"&&S&&!S.da){var U=S.src;if(U&&U[Me])xe(U.i,S);else{var W=S.type,Z=S.proxy;U.removeEventListener?U.removeEventListener(W,Z,S.capture):U.detachEvent?U.detachEvent(et(W),Z):U.addListener&&U.removeListener&&U.removeListener(Z),(W=es(U))?(xe(W,S),W.h==0&&(W.src=null,U[$e]=null)):se(S)}}}function et(S){return S in rt?rt[S]:rt[S]="on"+S}function xt(S,U){if(S.da)S=!0;else{U=new Re(U,this);var W=S.listener,Z=S.ha||S.src;S.fa&&Ge(S),S=W.call(Z,U)}return S}function es(S){return S=S[$e],S instanceof ge?S:null}var Gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function kr(S){return typeof S=="function"?S:(S[Gs]||(S[Gs]=function(U){return S.handleEvent(U)}),S[Gs])}function Ft(){te.call(this),this.i=new ge(this),this.M=this,this.F=null}y(Ft,te),Ft.prototype[Me]=!0,Ft.prototype.removeEventListener=function(S,U,W,Z){We(this,S,U,W,Z)};function lt(S,U){var W,Z=S.F;if(Z)for(W=[];Z;Z=Z.F)W.push(Z);if(S=S.M,Z=U.type||U,typeof U=="string")U=new ne(U,S);else if(U instanceof ne)U.target=U.target||S;else{var pe=U;U=new ne(Z,S),L(U,pe)}if(pe=!0,W)for(var Te=W.length-1;0<=Te;Te--){var Qe=U.g=W[Te];pe=Wt(Qe,Z,!0,U)&&pe}if(Qe=U.g=S,pe=Wt(Qe,Z,!0,U)&&pe,pe=Wt(Qe,Z,!1,U)&&pe,W)for(Te=0;Te<W.length;Te++)Qe=U.g=W[Te],pe=Wt(Qe,Z,!1,U)&&pe}Ft.prototype.N=function(){if(Ft.aa.N.call(this),this.i){var S=this.i,U;for(U in S.g){for(var W=S.g[U],Z=0;Z<W.length;Z++)se(W[Z]);delete S.g[U],S.h--}}this.F=null},Ft.prototype.K=function(S,U,W,Z){return this.i.add(String(S),U,!1,W,Z)},Ft.prototype.L=function(S,U,W,Z){return this.i.add(String(S),U,!0,W,Z)};function Wt(S,U,W,Z){if(U=S.i.g[String(U)],!U)return!0;U=U.concat();for(var pe=!0,Te=0;Te<U.length;++Te){var Qe=U[Te];if(Qe&&!Qe.da&&Qe.capture==W){var os=Qe.listener,Vr=Qe.ha||Qe.src;Qe.fa&&xe(S.i,Qe),pe=os.call(Vr,Z)!==!1&&pe}}return pe&&!Z.defaultPrevented}function gt(S,U,W){if(typeof S=="function")W&&(S=g(S,W));else if(S&&typeof S.handleEvent=="function")S=g(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:l.setTimeout(S,U||0)}function Bt(S){S.g=gt(()=>{S.g=null,S.i&&(S.i=!1,Bt(S))},S.l);const U=S.h;S.h=null,S.m.apply(null,U)}class St extends te{constructor(U,W){super(),this.m=U,this.l=W,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Bt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ot(S){te.call(this),this.h=S,this.g={}}y(Ot,te);var Yt=[];function Ht(S){I(S.g,function(U,W){this.g.hasOwnProperty(W)&&Ge(U)},S),S.g={}}Ot.prototype.N=function(){Ot.aa.N.call(this),Ht(this)},Ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=l.JSON.stringify,jt=l.JSON.parse,Mt=class{stringify(S){return l.JSON.stringify(S,void 0)}parse(S){return l.JSON.parse(S,void 0)}};function ar(){}ar.prototype.h=null;function Is(S){return S.h||(S.h=S.i())}function nr(){}var Ds={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ms(){ne.call(this,"d")}y(Ms,ne);function Os(){ne.call(this,"c")}y(Os,ne);var Ss={},Qs=null;function ps(){return Qs=Qs||new Ft}Ss.La="serverreachability";function tr(S){ne.call(this,Ss.La,S)}y(tr,ne);function _s(S){const U=ps();lt(U,new tr(U))}Ss.STAT_EVENT="statevent";function we(S,U){ne.call(this,Ss.STAT_EVENT,S),this.stat=U}y(we,ne);function he(S){const U=ps();lt(U,new we(U,S))}Ss.Ma="timingevent";function J(S,U){ne.call(this,Ss.Ma,S),this.size=U}y(J,ne);function ye(S,U){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){S()},U)}function _e(){this.g=!0}_e.prototype.xa=function(){this.g=!1};function He(S,U,W,Z,pe,Te){S.info(function(){if(S.g)if(Te)for(var Qe="",os=Te.split("&"),Vr=0;Vr<os.length;Vr++){var ls=os[Vr].split("=");if(1<ls.length){var Qr=ls[0];ls=ls[1];var Br=Qr.split("_");Qe=2<=Br.length&&Br[1]=="type"?Qe+(Qr+"="+ls+"&"):Qe+(Qr+"=redacted&")}}else Qe=null;else Qe=Te;return"XMLHTTP REQ ("+Z+") [attempt "+pe+"]: "+U+`
`+W+`
`+Qe})}function kt(S,U,W,Z,pe,Te,Qe){S.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+pe+"]: "+U+`
`+W+`
`+Te+" "+Qe})}function ft(S,U,W,Z){S.info(function(){return"XMLHTTP TEXT ("+U+"): "+Sr(S,W)+(Z?" "+Z:"")})}function Ut(S,U){S.info(function(){return"TIMEOUT: "+U})}_e.prototype.info=function(){};function Sr(S,U){if(!S.g)return U;if(!U)return null;try{var W=JSON.parse(U);if(W){for(S=0;S<W.length;S++)if(Array.isArray(W[S])){var Z=W[S];if(!(2>Z.length)){var pe=Z[1];if(Array.isArray(pe)&&!(1>pe.length)){var Te=pe[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(var Qe=1;Qe<pe.length;Qe++)pe[Qe]=""}}}}return Ks(W)}catch{return U}}var _a={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ba;function is(){}y(is,ar),is.prototype.g=function(){return new XMLHttpRequest},is.prototype.i=function(){return{}},Ba=new is;function Gr(S,U,W,Z){this.j=S,this.i=U,this.l=W,this.R=Z||1,this.U=new Ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ls}function Ls(){this.i=null,this.g="",this.h=!1}var li={},ci={};function Ha(S,U,W){S.L=1,S.v=tc(an(U)),S.m=W,S.P=!0,$a(S,null)}function $a(S,U){S.F=Date.now(),ie(S),S.A=an(S.v);var W=S.A,Z=S.R;Array.isArray(Z)||(Z=[String(Z)]),Th(W.i,"t",Z),S.C=0,W=S.j.J,S.h=new Ls,S.g=Zg(S.j,W?U:null,!S.m),0<S.O&&(S.M=new St(g(S.Y,S,S.g),S.O)),U=S.U,W=S.g,Z=S.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(Yt[0]=pe.toString()),pe=Yt);for(var Te=0;Te<pe.length;Te++){var Qe=be(W,pe[Te],Z||U.handleEvent,!1,U.h||U);if(!Qe)break;U.g[Qe.key]=Qe}U=S.H?T(S.H):{},S.m?(S.u||(S.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,U)):(S.u="GET",S.g.ea(S.A,S.u,null,U)),_s(),He(S.i,S.u,S.A,S.l,S.R,S.m)}Gr.prototype.ca=function(S){S=S.target;const U=this.M;U&&Sn(S)==3?U.j():this.Y(S)},Gr.prototype.Y=function(S){try{if(S==this.g)e:{const Br=Sn(this.g);var U=this.g.Ba();const so=this.g.Z();if(!(3>Br)&&(Br!=3||this.g&&(this.h.h||this.g.oa()||$g(this.g)))){this.J||Br!=4||U==7||(U==8||0>=so?_s(3):_s(2)),Ye(this);var W=this.g.Z();this.X=W;t:if(Zs(this)){var Z=$g(this.g);S="";var pe=Z.length,Te=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ht(this),at(this);var Qe="";break t}this.h.i=new l.TextDecoder}for(U=0;U<pe;U++)this.h.h=!0,S+=this.h.i.decode(Z[U],{stream:!(Te&&U==pe-1)});Z.length=0,this.h.g+=S,this.C=0,Qe=this.h.g}else Qe=this.g.oa();if(this.o=W==200,kt(this.i,this.u,this.A,this.l,this.R,Br,W),this.o){if(this.T&&!this.K){t:{if(this.g){var os,Vr=this.g;if((os=Vr.g?Vr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(os)){var ls=os;break t}}ls=null}if(W=ls)ft(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nt(this,W);else{this.o=!1,this.s=3,he(12),ht(this),at(this);break e}}if(this.P){W=!0;let na;for(;!this.J&&this.C<Qe.length;)if(na=$t(this,Qe),na==ci){Br==4&&(this.s=4,he(14),W=!1),ft(this.i,this.l,null,"[Incomplete Response]");break}else if(na==li){this.s=4,he(15),ft(this.i,this.l,Qe,"[Invalid Chunk]"),W=!1;break}else ft(this.i,this.l,na,null),Nt(this,na);if(Zs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Br!=4||Qe.length!=0||this.h.h||(this.s=1,he(16),W=!1),this.o=this.o&&W,!W)ft(this.i,this.l,Qe,"[Invalid Chunked Response]"),ht(this),at(this);else if(0<Qe.length&&!this.W){this.W=!0;var Qr=this.j;Qr.g==this&&Qr.ba&&!Qr.M&&(Qr.j.info("Great, no buffering proxy detected. Bytes received: "+Qe.length),cc(Qr),Qr.M=!0,he(11))}}else ft(this.i,this.l,Qe,null),Nt(this,Qe);Br==4&&ht(this),this.o&&!this.J&&(Br==4?Gg(this.j,this):(this.o=!1,ie(this)))}else hy(this.g),W==400&&0<Qe.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),ht(this),at(this)}}}catch{}finally{}};function Zs(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function $t(S,U){var W=S.C,Z=U.indexOf(`
`,W);return Z==-1?ci:(W=Number(U.substring(W,Z)),isNaN(W)?li:(Z+=1,Z+W>U.length?ci:(U=U.slice(Z,Z+W),S.C=Z+W,U)))}Gr.prototype.cancel=function(){this.J=!0,ht(this)};function ie(S){S.S=Date.now()+S.I,Fe(S,S.I)}function Fe(S,U){if(S.B!=null)throw Error("WatchDog timer not null");S.B=ye(g(S.ba,S),U)}function Ye(S){S.B&&(l.clearTimeout(S.B),S.B=null)}Gr.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(Ut(this.i,this.A),this.L!=2&&(_s(),he(17)),ht(this),this.s=2,at(this)):Fe(this,this.S-S)};function at(S){S.j.G==0||S.J||Gg(S.j,S)}function ht(S){Ye(S);var U=S.M;U&&typeof U.ma=="function"&&U.ma(),S.M=null,Ht(S.U),S.g&&(U=S.g,S.g=null,U.abort(),U.ma())}function Nt(S,U){try{var W=S.j;if(W.G!=0&&(W.g==S||Vo(W.h,S))){if(!S.K&&Vo(W.h,S)&&W.G==3){try{var Z=W.Da.g.parse(U)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var pe=Z;if(pe[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<S.F)Fd(W),Od(W);else break e;Mh(W),he(18)}}else W.za=pe[1],0<W.za-W.T&&37500>pe[2]&&W.F&&W.v==0&&!W.C&&(W.C=ye(g(W.Za,W),6e3));if(1>=zo(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else to(W,11)}else if((S.K||W.g==S)&&Fd(W),!k(U))for(pe=W.Da.g.parse(U),U=0;U<pe.length;U++){let ls=pe[U];if(W.T=ls[0],ls=ls[1],W.G==2)if(ls[0]=="c"){W.K=ls[1],W.ia=ls[2];const Qr=ls[3];Qr!=null&&(W.la=Qr,W.j.info("VER="+W.la));const Br=ls[4];Br!=null&&(W.Aa=Br,W.j.info("SVER="+W.Aa));const so=ls[5];so!=null&&typeof so=="number"&&0<so&&(Z=1.5*so,W.L=Z,W.j.info("backChannelRequestTimeoutMs_="+Z)),Z=W;const na=S.g;if(na){const pi=na.g?na.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var Te=Z.h;Te.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(Te.j=Te.l,Te.g=new Set,Te.h&&(Ed(Te,Te.h),Te.h=null))}if(Z.D){const Lh=na.g?na.g.getResponseHeader("X-HTTP-Session-Id"):null;Lh&&(Z.ya=Lh,Bs(Z.I,Z.D,Lh))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-S.F,W.j.info("Handshake RTT: "+W.R+"ms")),Z=W;var Qe=S;if(Z.qa=Qg(Z,Z.J?Z.ia:null,Z.W),Qe.K){Aa(Z.h,Qe);var os=Qe,Vr=Z.L;Vr&&(os.I=Vr),os.B&&(Ye(os),ie(os)),Z.g=Qe}else qg(Z);0<W.i.length&&Ld(W)}else ls[0]!="stop"&&ls[0]!="close"||to(W,7);else W.G==3&&(ls[0]=="stop"||ls[0]=="close"?ls[0]=="stop"?to(W,7):Ih(W):ls[0]!="noop"&&W.l&&W.l.ta(ls),W.v=0)}}_s(4)}catch{}}var pt=class{constructor(S,U){this.g=S,this.map=U}};function vs(S){this.l=S||10,l.PerformanceNavigationTiming?(S=l.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hn(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function zo(S){return S.h?1:S.g?S.g.size:0}function Vo(S,U){return S.h?S.h==U:S.g?S.g.has(U):!1}function Ed(S,U){S.g?S.g.add(U):S.h=U}function Aa(S,U){S.h&&S.h==U?S.h=null:S.g&&S.g.has(U)&&S.g.delete(U)}vs.prototype.cancel=function(){if(this.i=_h(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function _h(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let U=S.i;for(const W of S.g.values())U=U.concat(W.D);return U}return b(S.i)}function ly(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(c(S)){for(var U=[],W=S.length,Z=0;Z<W;Z++)U.push(S[Z]);return U}U=[],W=0;for(Z in S)U[W++]=S[Z];return U}function Td(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(c(S)||typeof S=="string"){var U=[];S=S.length;for(var W=0;W<S;W++)U.push(W);return U}U=[],W=0;for(const Z in S)U[W++]=Z;return U}}}function Ah(S,U){if(S.forEach&&typeof S.forEach=="function")S.forEach(U,void 0);else if(c(S)||typeof S=="string")Array.prototype.forEach.call(S,U,void 0);else for(var W=Td(S),Z=ly(S),pe=Z.length,Te=0;Te<pe;Te++)U.call(void 0,Z[Te],W&&W[Te],S)}var Jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cy(S,U){if(S){S=S.split("&");for(var W=0;W<S.length;W++){var Z=S[W].indexOf("="),pe=null;if(0<=Z){var Te=S[W].substring(0,Z);pe=S[W].substring(Z+1)}else Te=S[W];U(Te,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Ir(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof Ir){this.h=S.h,ec(this,S.j),this.o=S.o,this.g=S.g,Bo(this,S.s),this.l=S.l;var U=S.i,W=new Qi;W.i=U.i,U.g&&(W.g=new Map(U.g),W.h=U.h),Ki(this,W),this.m=S.m}else S&&(U=String(S).match(Jl))?(this.h=!1,ec(this,U[1]||"",!0),this.o=Nn(U[2]||""),this.g=Nn(U[3]||"",!0),Bo(this,U[4]),this.l=Nn(U[5]||"",!0),Ki(this,U[6]||"",!0),this.m=Nn(U[7]||"")):(this.h=!1,this.i=new Qi(null,this.h))}Ir.prototype.toString=function(){var S=[],U=this.j;U&&S.push(sc(U,Ch,!0),":");var W=this.g;return(W||U=="file")&&(S.push("//"),(U=this.o)&&S.push(sc(U,Ch,!0),"@"),S.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&S.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&S.push("/"),S.push(sc(W,W.charAt(0)=="/"?dy:Eh,!0))),(W=this.i.toString())&&S.push("?",W),(W=this.m)&&S.push("#",sc(W,Pd)),S.join("")};function an(S){return new Ir(S)}function ec(S,U,W){S.j=W?Nn(U,!0):U,S.j&&(S.j=S.j.replace(/:$/,""))}function Bo(S,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);S.s=U}else S.s=null}function Ki(S,U,W){U instanceof Qi?(S.i=U,Bg(S.i,S.h)):(W||(U=sc(U,uy)),S.i=new Qi(U,S.h))}function Bs(S,U,W){S.i.set(U,W)}function tc(S){return Bs(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function Nn(S,U){return S?U?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function sc(S,U,W){return typeof S=="string"?(S=encodeURI(S).replace(U,Vg),W&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function Vg(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Ch=/[#\/\?@]/g,Eh=/[#\?:]/g,dy=/[#\?]/g,uy=/[#\?@]/g,Pd=/#/g;function Qi(S,U){this.h=this.g=null,this.i=S||null,this.j=!!U}function jn(S){S.g||(S.g=new Map,S.h=0,S.i&&cy(S.i,function(U,W){S.add(decodeURIComponent(U.replace(/\+/g," ")),W)}))}r=Qi.prototype,r.add=function(S,U){jn(this),this.i=null,S=di(this,S);var W=this.g.get(S);return W||this.g.set(S,W=[]),W.push(U),this.h+=1,this};function Zi(S,U){jn(S),U=di(S,U),S.g.has(U)&&(S.i=null,S.h-=S.g.get(U).length,S.g.delete(U))}function Ji(S,U){return jn(S),U=di(S,U),S.g.has(U)}r.forEach=function(S,U){jn(this),this.g.forEach(function(W,Z){W.forEach(function(pe){S.call(U,pe,Z,this)},this)},this)},r.na=function(){jn(this);const S=Array.from(this.g.values()),U=Array.from(this.g.keys()),W=[];for(let Z=0;Z<U.length;Z++){const pe=S[Z];for(let Te=0;Te<pe.length;Te++)W.push(U[Z])}return W},r.V=function(S){jn(this);let U=[];if(typeof S=="string")Ji(this,S)&&(U=U.concat(this.g.get(di(this,S))));else{S=Array.from(this.g.values());for(let W=0;W<S.length;W++)U=U.concat(S[W])}return U},r.set=function(S,U){return jn(this),this.i=null,S=di(this,S),Ji(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[U]),this.h+=1,this},r.get=function(S,U){return S?(S=this.V(S),0<S.length?String(S[0]):U):U};function Th(S,U,W){Zi(S,U),0<W.length&&(S.i=null,S.g.set(di(S,U),b(W)),S.h+=W.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],U=Array.from(this.g.keys());for(var W=0;W<U.length;W++){var Z=U[W];const Te=encodeURIComponent(String(Z)),Qe=this.V(Z);for(Z=0;Z<Qe.length;Z++){var pe=Te;Qe[Z]!==""&&(pe+="="+encodeURIComponent(String(Qe[Z]))),S.push(pe)}}return this.i=S.join("&")};function di(S,U){return U=String(U),S.j&&(U=U.toLowerCase()),U}function Bg(S,U){U&&!S.j&&(jn(S),S.i=null,S.g.forEach(function(W,Z){var pe=Z.toLowerCase();Z!=pe&&(Zi(this,Z),Th(this,pe,W))},S)),S.j=U}function rc(S,U){const W=new _e;if(l.Image){const Z=new Image;Z.onload=x(kn,W,"TestLoadImage: loaded",!0,U,Z),Z.onerror=x(kn,W,"TestLoadImage: error",!1,U,Z),Z.onabort=x(kn,W,"TestLoadImage: abort",!1,U,Z),Z.ontimeout=x(kn,W,"TestLoadImage: timeout",!1,U,Z),l.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=S}else U(!1)}function $n(S,U){const W=new _e,Z=new AbortController,pe=setTimeout(()=>{Z.abort(),kn(W,"TestPingServer: timeout",!1,U)},1e4);fetch(S,{signal:Z.signal}).then(Te=>{clearTimeout(pe),Te.ok?kn(W,"TestPingServer: ok",!0,U):kn(W,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(pe),kn(W,"TestPingServer: error",!1,U)})}function kn(S,U,W,Z,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),Z(W)}catch{}}function ac(){this.g=new Mt}function ui(S,U,W){const Z=W||"";try{Ah(S,function(pe,Te){let Qe=pe;u(pe)&&(Qe=Ks(pe)),U.push(Z+Te+"="+encodeURIComponent(Qe))})}catch(pe){throw U.push(Z+"type="+encodeURIComponent("_badmap")),pe}}function Ho(S){this.l=S.Ub||null,this.j=S.eb||!1}y(Ho,ar),Ho.prototype.g=function(){return new eo(this.l,this.j)},Ho.prototype.i=function(S){return function(){return S}}({});function eo(S,U){Ft.call(this),this.D=S,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(eo,Ft),r=eo.prototype,r.open=function(S,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=U,this.readyState=1,mi(this)},r.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(U.body=S),(this.D||l).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},r.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ph(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ph(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}r.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var U=S.value?S.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!S.done}))&&(this.response=this.responseText+=U)}S.done?hi(this):mi(this),this.readyState==3&&Ph(this)}},r.Ra=function(S){this.g&&(this.response=this.responseText=S,hi(this))},r.Qa=function(S){this.g&&(this.response=S,hi(this))},r.ga=function(){this.g&&hi(this)};function hi(S){S.readyState=4,S.l=null,S.j=null,S.v=null,mi(S)}r.setRequestHeader=function(S,U){this.u.append(S,U)},r.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],U=this.h.entries();for(var W=U.next();!W.done;)W=W.value,S.push(W[0]+": "+W[1]),W=U.next();return S.join(`\r
`)};function mi(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(eo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Rh(S){let U="";return I(S,function(W,Z){U+=Z,U+=":",U+=W,U+=`\r
`}),U}function Kr(S,U,W){e:{for(Z in W){var Z=!1;break e}Z=!0}Z||(W=Rh(W),typeof S=="string"?W!=null&&encodeURIComponent(String(W)):Bs(S,U,W))}function As(S){Ft.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(As,Ft);var Rd=/^https?$/i,nc=["POST","PUT"];r=As.prototype,r.Ha=function(S){this.J=S},r.ea=function(S,U,W,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);U=U?U.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ba.g(),this.v=this.o?Is(this.o):Is(Ba),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(U,String(S),!0),this.B=!1}catch(Te){Hg(this,Te);return}if(S=W||"",W=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var pe in Z)W.set(pe,Z[pe]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const Te of Z.keys())W.set(Te,Z.get(Te));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(W.keys()).find(Te=>Te.toLowerCase()=="content-type"),pe=l.FormData&&S instanceof l.FormData,!(0<=Array.prototype.indexOf.call(nc,U,void 0))||Z||pe||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Te,Qe]of W)this.g.setRequestHeader(Te,Qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ic(this),this.u=!0,this.g.send(S),this.u=!1}catch(Te){Hg(this,Te)}};function Hg(S,U){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=U,S.m=5,Id(S),fi(S)}function Id(S){S.A||(S.A=!0,lt(S,"complete"),lt(S,"error"))}r.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,lt(this,"complete"),lt(this,"abort"),fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),As.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Dd(this):this.bb())},r.bb=function(){Dd(this)};function Dd(S){if(S.h&&typeof o<"u"&&(!S.v[1]||Sn(S)!=4||S.Z()!=2)){if(S.u&&Sn(S)==4)gt(S.Ea,0,S);else if(lt(S,"readystatechange"),Sn(S)==4){S.h=!1;try{const Qe=S.Z();e:switch(Qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var W;if(!(W=U)){var Z;if(Z=Qe===0){var pe=String(S.D).match(Jl)[1]||null;!pe&&l.self&&l.self.location&&(pe=l.self.location.protocol.slice(0,-1)),Z=!Rd.test(pe?pe.toLowerCase():"")}W=Z}if(W)lt(S,"complete"),lt(S,"success");else{S.m=6;try{var Te=2<Sn(S)?S.g.statusText:""}catch{Te=""}S.l=Te+" ["+S.Z()+"]",Id(S)}}finally{fi(S)}}}}function fi(S,U){if(S.g){ic(S);const W=S.g,Z=S.v[0]?()=>{}:null;S.g=null,S.v=null,U||lt(S,"ready");try{W.onreadystatechange=Z}catch{}}}function ic(S){S.I&&(l.clearTimeout(S.I),S.I=null)}r.isActive=function(){return!!this.g};function Sn(S){return S.g?S.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(S){if(this.g){var U=this.g.responseText;return S&&U.indexOf(S)==0&&(U=U.substring(S.length)),jt(U)}};function $g(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function hy(S){const U={};S=(S.g&&2<=Sn(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<S.length;Z++){if(k(S[Z]))continue;var W=F(S[Z]);const pe=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const Te=U[pe]||[];U[pe]=Te,Te.push(W)}P(U,function(Z){return Z.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oc(S,U,W){return W&&W.internalChannelParams&&W.internalChannelParams[S]||U}function Md(S){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oc("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oc("baseRetryDelayMs",5e3,S),this.cb=oc("retryDelaySeedMs",1e4,S),this.Wa=oc("forwardChannelMaxRetries",2,S),this.wa=oc("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new vs(S&&S.concurrentRequestLimit),this.Da=new ac,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Md.prototype,r.la=8,r.G=1,r.connect=function(S,U,W,Z){he(0),this.W=S,this.H=U||{},W&&Z!==void 0&&(this.H.OSID=W,this.H.OAID=Z),this.F=this.X,this.I=Qg(this,null,this.W),Ld(this)};function Ih(S){if(Wg(S),S.G==3){var U=S.U++,W=an(S.I);if(Bs(W,"SID",S.K),Bs(W,"RID",U),Bs(W,"TYPE","terminate"),lc(S,W),U=new Gr(S,S.j,U),U.L=2,U.v=tc(an(W)),W=!1,l.navigator&&l.navigator.sendBeacon)try{W=l.navigator.sendBeacon(U.v.toString(),"")}catch{}!W&&l.Image&&(new Image().src=U.v,W=!0),W||(U.g=Zg(U.j,null),U.g.ea(U.v)),U.F=Date.now(),ie(U)}Kg(S)}function Od(S){S.g&&(cc(S),S.g.cancel(),S.g=null)}function Wg(S){Od(S),S.u&&(l.clearTimeout(S.u),S.u=null),Fd(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&l.clearTimeout(S.s),S.s=null)}function Ld(S){if(!Hn(S.h)&&!S.s){S.s=!0;var U=S.Ga;q||$(),ee||(q(),ee=!0),G.add(U,S),S.B=0}}function my(S,U){return zo(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=U.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=ye(g(S.Ga,S,U),Oh(S,S.B)),S.B++,!0)}r.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const pe=new Gr(this,this.j,S);let Te=this.o;if(this.S&&(Te?(Te=T(Te),L(Te,this.S)):Te=this.S),this.m!==null||this.O||(pe.H=Te,Te=null),this.P)e:{for(var U=0,W=0;W<this.i.length;W++){t:{var Z=this.i[W];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(U+=Z,4096<U){U=W;break e}if(U===4096||W===this.i.length-1){U=W+1;break e}}U=1e3}else U=1e3;U=Yg(this,pe,U),W=an(this.I),Bs(W,"RID",S),Bs(W,"CVER",22),this.D&&Bs(W,"X-HTTP-Session-Id",this.D),lc(this,W),Te&&(this.O?U="headers="+encodeURIComponent(String(Rh(Te)))+"&"+U:this.m&&Kr(W,this.m,Te)),Ed(this.h,pe),this.Ua&&Bs(W,"TYPE","init"),this.P?(Bs(W,"$req",U),Bs(W,"SID","null"),pe.T=!0,Ha(pe,W,null)):Ha(pe,W,U),this.G=2}}else this.G==3&&(S?Dh(this,S):this.i.length==0||Hn(this.h)||Dh(this))};function Dh(S,U){var W;U?W=U.l:W=S.U++;const Z=an(S.I);Bs(Z,"SID",S.K),Bs(Z,"RID",W),Bs(Z,"AID",S.T),lc(S,Z),S.m&&S.o&&Kr(Z,S.m,S.o),W=new Gr(S,S.j,W,S.B+1),S.m===null&&(W.H=S.o),U&&(S.i=U.D.concat(S.i)),U=Yg(S,W,1e3),W.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),Ed(S.h,W),Ha(W,Z,U)}function lc(S,U){S.H&&I(S.H,function(W,Z){Bs(U,Z,W)}),S.l&&Ah({},function(W,Z){Bs(U,Z,W)})}function Yg(S,U,W){W=Math.min(S.i.length,W);var Z=S.l?g(S.l.Na,S.l,S):null;e:{var pe=S.i;let Te=-1;for(;;){const Qe=["count="+W];Te==-1?0<W?(Te=pe[0].g,Qe.push("ofs="+Te)):Te=0:Qe.push("ofs="+Te);let os=!0;for(let Vr=0;Vr<W;Vr++){let ls=pe[Vr].g;const Qr=pe[Vr].map;if(ls-=Te,0>ls)Te=Math.max(0,pe[Vr].g-100),os=!1;else try{ui(Qr,Qe,"req"+ls+"_")}catch{Z&&Z(Qr)}}if(os){Z=Qe.join("&");break e}}}return S=S.i.splice(0,W),U.D=S,Z}function qg(S){if(!S.g&&!S.u){S.Y=1;var U=S.Fa;q||$(),ee||(q(),ee=!0),G.add(U,S),S.v=0}}function Mh(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=ye(g(S.Fa,S),Oh(S,S.v)),S.v++,!0)}r.Fa=function(){if(this.u=null,Xg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=ye(g(this.ab,this),S)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),Od(this),Xg(this))};function cc(S){S.A!=null&&(l.clearTimeout(S.A),S.A=null)}function Xg(S){S.g=new Gr(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var U=an(S.qa);Bs(U,"RID","rpc"),Bs(U,"SID",S.K),Bs(U,"AID",S.T),Bs(U,"CI",S.F?"0":"1"),!S.F&&S.ja&&Bs(U,"TO",S.ja),Bs(U,"TYPE","xmlhttp"),lc(S,U),S.m&&S.o&&Kr(U,S.m,S.o),S.L&&(S.g.I=S.L);var W=S.g;S=S.ia,W.L=1,W.v=tc(an(U)),W.m=null,W.P=!0,$a(W,S)}r.Za=function(){this.C!=null&&(this.C=null,Od(this),Mh(this),he(19))};function Fd(S){S.C!=null&&(l.clearTimeout(S.C),S.C=null)}function Gg(S,U){var W=null;if(S.g==U){Fd(S),cc(S),S.g=null;var Z=2}else if(Vo(S.h,U))W=U.D,Aa(S.h,U),Z=1;else return;if(S.G!=0){if(U.o)if(Z==1){W=U.m?U.m.length:0,U=Date.now()-U.F;var pe=S.B;Z=ps(),lt(Z,new J(Z,W)),Ld(S)}else qg(S);else if(pe=U.s,pe==3||pe==0&&0<U.X||!(Z==1&&my(S,U)||Z==2&&Mh(S)))switch(W&&0<W.length&&(U=S.h,U.i=U.i.concat(W)),pe){case 1:to(S,5);break;case 4:to(S,10);break;case 3:to(S,6);break;default:to(S,2)}}}function Oh(S,U){let W=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(W*=2),W*U}function to(S,U){if(S.j.info("Error code "+U),U==2){var W=g(S.fb,S),Z=S.Xa;const pe=!Z;Z=new Ir(Z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ec(Z,"https"),tc(Z),pe?rc(Z.toString(),W):$n(Z.toString(),W)}else he(2);S.G=0,S.l&&S.l.sa(U),Kg(S),Wg(S)}r.fb=function(S){S?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function Kg(S){if(S.G=0,S.ka=[],S.l){const U=_h(S.h);(U.length!=0||S.i.length!=0)&&(v(S.ka,U),v(S.ka,S.i),S.h.i.length=0,b(S.i),S.i.length=0),S.l.ra()}}function Qg(S,U,W){var Z=W instanceof Ir?an(W):new Ir(W);if(Z.g!="")U&&(Z.g=U+"."+Z.g),Bo(Z,Z.s);else{var pe=l.location;Z=pe.protocol,U=U?U+"."+pe.hostname:pe.hostname,pe=+pe.port;var Te=new Ir(null);Z&&ec(Te,Z),U&&(Te.g=U),pe&&Bo(Te,pe),W&&(Te.l=W),Z=Te}return W=S.D,U=S.ya,W&&U&&Bs(Z,W,U),Bs(Z,"VER",S.la),lc(S,Z),Z}function Zg(S,U,W){if(U&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=S.Ca&&!S.pa?new As(new Ho({eb:W})):new As(S.pa),U.Ha(S.J),U}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jg(){}r=Jg.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ud(){}Ud.prototype.g=function(S,U){return new Ca(S,U)};function Ca(S,U){Ft.call(this),this.g=new Md(U),this.l=S,this.h=U&&U.messageUrlParams||null,S=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(S?S["X-WebChannel-Content-Type"]=U.messageContentType:S={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(S?S["X-WebChannel-Client-Profile"]=U.va:S={"X-WebChannel-Client-Profile":U.va}),this.g.S=S,(S=U&&U.Sb)&&!k(S)&&(this.g.m=S),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!k(U)&&(this.g.D=U,S=this.h,S!==null&&U in S&&(S=this.h,U in S&&delete S[U])),this.j=new gi(this)}y(Ca,Ft),Ca.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ca.prototype.close=function(){Ih(this.g)},Ca.prototype.o=function(S){var U=this.g;if(typeof S=="string"){var W={};W.__data__=S,S=W}else this.u&&(W={},W.__data__=Ks(S),S=W);U.i.push(new pt(U.Ya++,S)),U.G==3&&Ld(U)},Ca.prototype.N=function(){this.g.l=null,delete this.j,Ih(this.g),delete this.g,Ca.aa.N.call(this)};function ep(S){Ms.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var U=S.__sm__;if(U){e:{for(const W in U){S=W;break e}S=void 0}(this.i=S)&&(S=this.i,U=U!==null&&S in U?U[S]:void 0),this.data=U}else this.data=S}y(ep,Ms);function tp(){Os.call(this),this.status=1}y(tp,Os);function gi(S){this.g=S}y(gi,Jg),gi.prototype.ua=function(){lt(this.g,"a")},gi.prototype.ta=function(S){lt(this.g,new ep(S))},gi.prototype.sa=function(S){lt(this.g,new tp)},gi.prototype.ra=function(){lt(this.g,"b")},Ud.prototype.createWebChannel=Ud.prototype.g,Ca.prototype.send=Ca.prototype.o,Ca.prototype.open=Ca.prototype.m,Ca.prototype.close=Ca.prototype.close,F3=function(){return new Ud},L3=function(){return ps()},O3=Ss,F1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,qx=_a,wn.COMPLETE="complete",M3=wn,nr.EventType=Ds,Ds.OPEN="a",Ds.CLOSE="b",Ds.ERROR="c",Ds.MESSAGE="d",Ft.prototype.listen=Ft.prototype.K,Hm=nr,As.prototype.listenOnce=As.prototype.L,As.prototype.getLastError=As.prototype.Ka,As.prototype.getLastErrorCode=As.prototype.Ba,As.prototype.getStatus=As.prototype.Z,As.prototype.getResponseJson=As.prototype.Oa,As.prototype.getResponseText=As.prototype.oa,As.prototype.send=As.prototype.ea,As.prototype.setWithCredentials=As.prototype.Ha,D3=As}).apply(typeof ax<"u"?ax:typeof self<"u"?self:typeof window<"u"?window:{});const dE="@firebase/firestore",uE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wa.UNAUTHENTICATED=new wa(null),wa.GOOGLE_CREDENTIALS=new wa("google-credentials-uid"),wa.FIRST_PARTY=new wa("first-party-uid"),wa.MOCK_USER=new wa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new bj("@firebase/firestore");function vu(){return ld.logLevel}function dt(r,...e){if(ld.logLevel<=rs.DEBUG){const t=e.map(Rj);ld.debug(`Firestore (${lh}): ${r}`,...t)}}function Do(r,...e){if(ld.logLevel<=rs.ERROR){const t=e.map(Rj);ld.error(`Firestore (${lh}): ${r}`,...t)}}function Tl(r,...e){if(ld.logLevel<=rs.WARN){const t=e.map(Rj);ld.warn(`Firestore (${lh}): ${r}`,...t)}}function Rj(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,U3(r,s,t)}function U3(r,e,t){let s=`FIRESTORE (${lh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Do(s),new Error(s)}function hs(r,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,r||U3(e,a,s)}function It(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends Gi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wa.UNAUTHENTICATED))}shutdown(){}}class j9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class k9{constructor(e){this.t=e,this.currentUser=wa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){hs(this.o===void 0,42304);let s=this.i;const a=c=>this.i!==s?(s=this.i,t(c)):Promise.resolve();let i=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Di,e.enqueueRetryable(()=>a(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await a(this.currentUser)})},l=c=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Di)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(hs(typeof s.accessToken=="string",31837,{l:s}),new z3(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hs(e===null||typeof e=="string",2055,{h:e}),new wa(e)}}class S9{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=wa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _9{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new S9(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(wa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A9{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ia(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){hs(this.o===void 0,3512);const s=i=>{i.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,dt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const a=i=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(hs(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=C9(40);for(let i=0;i<a.length;++i)s.length<20&&a[i]<t&&(s+=e.charAt(a[i]%62))}return s}}function Kt(r,e){return r<e?-1:r>e?1:0}function U1(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return Kt(s,a);{const i=V3(),o=E9(i.encode(mE(r,t)),i.encode(mE(e,t)));return o!==0?o:Kt(s,a)}}t+=s>65535?2:1}return Kt(r.length,e.length)}function mE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function E9(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Kt(r[t],e[t]);return Kt(r.length,e.length)}function Bu(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__name__";class Ai{constructor(e,t,s){t===void 0?t=0:t>e.length&&_t(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&_t(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const i=Ai.compareSegments(e.get(a),t.get(a));if(i!==0)return i}return Kt(e.length,t.length)}static compareSegments(e,t){const s=Ai.isNumericId(e),a=Ai.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Ai.extractNumericId(e).compare(Ai.extractNumericId(t)):U1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kl.fromString(e.substring(4,e.length-2))}}class Ys extends Ai{construct(e,t,s){return new Ys(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new tt(De.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Ys(t)}static emptyPath(){return new Ys([])}}const T9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ma extends Ai{construct(e,t,s){return new ma(e,t,s)}static isValidIdentifier(e){return T9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ma.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fE}static keyField(){return new ma([fE])}static fromServerFormat(e){const t=[];let s="",a=0;const i=()=>{if(s.length===0)throw new tt(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let o=!1;for(;a<e.length;){const l=e[a];if(l==="\\"){if(a+1===e.length)throw new tt(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new tt(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,a+=2}else l==="`"?(o=!o,a++):l!=="."||o?(s+=l,a++):(i(),a++)}if(i(),o)throw new tt(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ma(t)}static emptyPath(){return new ma([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.path=e}static fromPath(e){return new wt(Ys.fromString(e))}static fromName(e){return new wt(Ys.fromString(e).popFirst(5))}static empty(){return new wt(Ys.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ys.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ys.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new Ys(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(r,e,t){if(!t)throw new tt(De.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function P9(r,e,t,s){if(e===!0&&s===!0)throw new tt(De.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function gE(r){if(!wt.isDocumentKey(r))throw new tt(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pE(r){if(wt.isDocumentKey(r))throw new tt(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function H3(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function yb(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Fa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new tt(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yb(r);throw new tt(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function R9(r,e){if(e<=0)throw new tt(De.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(r,e){const t={typeString:r};return e&&(t.value=e),t}function ug(r,e){if(!H3(r))throw new tt(De.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const o=r[s];if(a&&typeof o!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(i!==void 0&&o!==i.value){t=`Expected '${s}' field to equal '${i.value}'`;break}}if(t)throw new tt(De.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=-62135596800,bE=1e6;class or{static now(){return or.fromMillis(Date.now())}static fromDate(e){return or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*bE);return new or(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tt(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tt(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xE)throw new tt(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bE}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:or._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ug(e,or._jsonSchema))return new or(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}or._jsonSchemaVersion="firestore/timestamp/1.0",or._jsonSchema={type:Ur("string",or._jsonSchemaVersion),seconds:Ur("number"),nanoseconds:Ur("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new or(0,0))}static max(){return new Tt(new or(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=-1;function I9(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Tt.fromTimestamp(s===1e9?new or(t+1,0):new or(t,s));return new Pl(a,wt.empty(),e)}function D9(r){return new Pl(r.readTime,r.key,Af)}class Pl{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Pl(Tt.min(),wt.empty(),Af)}static max(){return new Pl(Tt.max(),wt.empty(),Af)}}function M9(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=wt.comparator(r.documentKey,e.documentKey),t!==0?t:Kt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(r){if(r.code!==De.FAILED_PRECONDITION||r.message!==O9)throw r;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Be((s,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,a)},this.catchCallback=i=>{this.wrapFailure(t,i).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Be?t:Be.resolve(t)}catch(t){return Be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.reject(t)}static resolve(e){return new Be((t,s)=>{t(e)})}static reject(e){return new Be((t,s)=>{s(e)})}static waitFor(e){return new Be((t,s)=>{let a=0,i=0,o=!1;e.forEach(l=>{++a,l.next(()=>{++i,o&&i===a&&t()},c=>s(c))}),o=!0,i===a&&t()})}static or(e){let t=Be.resolve(!1);for(const s of e)t=t.next(a=>a?Be.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,i)=>{s.push(t.call(this,a,i))}),this.waitFor(s)}static mapArray(e,t){return new Be((s,a)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;t(e[u]).next(h=>{o[u]=h,++l,l===i&&s(o)},h=>a(h))}})}static doWhile(e,t){return new Be((s,a)=>{const i=()=>{e()===!0?t().next(()=>{i()},a):s()};i()})}}function F9(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dh(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}vb.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=-1;function hg(r){return r==null}function _0(r){return r===0&&1/r==-1/0}function U9(r){return typeof r=="number"&&Number.isInteger(r)&&!_0(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="";function z9(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=yE(e)),e=V9(r.get(t),e);return yE(e)}function V9(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const i=r.charAt(a);switch(i){case"\0":t+="";break;case $3:t+="";break;default:t+=i}}return t}function yE(r){return r+$3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Gl(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function W3(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,t){this.comparator=e,this.root=t||da.EMPTY}insert(e,t){return new gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,da.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,da.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nx(this.root,e,this.comparator,!1)}getReverseIterator(){return new nx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nx(this.root,e,this.comparator,!0)}}class nx{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?s(e.key,t):1,t&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class da{constructor(e,t,s,a,i){this.key=e,this.value=t,this.color=s??da.RED,this.left=a??da.EMPTY,this.right=i??da.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,i){return new da(e??this.key,t??this.value,s??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const i=s(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,t,s),null):i===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return da.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return da.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,da.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,da.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}da.EMPTY=null,da.RED=!0,da.BLACK=!1;da.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,t,s,a,i){return this}insert(e,t,s){return new da(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof qr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,i=s.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qr(this.comparator);return t.data=e,t}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(ma.comparator)}static empty(){return new pn([])}unionWith(e){let t=new qr(ma.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bu(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Y3("Invalid base64 string: "+i):i}}(e);return new pa(t)}static fromUint8Array(e){const t=function(a){let i="";for(let o=0;o<a.length;++o)i+=String.fromCharCode(a[o]);return i}(e);return new pa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pa.EMPTY_BYTE_STRING=new pa("");const B9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rl(r){if(hs(!!r,39018),typeof r=="string"){let e=0;const t=B9.exec(r);if(hs(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Er(r.seconds),nanos:Er(r.nanos)}}function Er(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Il(r){return typeof r=="string"?pa.fromBase64String(r):pa.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="server_timestamp",X3="__type__",G3="__previous_value__",K3="__local_write_time__";function Mj(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[X3])===null||t===void 0?void 0:t.stringValue)===q3}function wb(r){const e=r.mapValue.fields[G3];return Mj(e)?wb(e):e}function Cf(r){const e=Rl(r.mapValue.fields[K3].timestampValue);return new or(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,t,s,a,i,o,l,c,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const A0="(default)";class Ef{constructor(e,t){this.projectId=e,this.database=t||A0}static empty(){return new Ef("","")}get isDefaultDatabase(){return this.database===A0}isEqual(e){return e instanceof Ef&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="__type__",$9="__max__",ix={mapValue:{}},Z3="__vector__",C0="value";function Dl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mj(r)?4:Y9(r)?9007199254740991:W9(r)?10:11:_t(28295,{value:r})}function Wi(r,e){if(r===e)return!0;const t=Dl(r);if(t!==Dl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Cf(r).isEqual(Cf(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const o=Rl(a.timestampValue),l=Rl(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,i){return Il(a.bytesValue).isEqual(Il(i.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,i){return Er(a.geoPointValue.latitude)===Er(i.geoPointValue.latitude)&&Er(a.geoPointValue.longitude)===Er(i.geoPointValue.longitude)}(r,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return Er(a.integerValue)===Er(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const o=Er(a.doubleValue),l=Er(i.doubleValue);return o===l?_0(o)===_0(l):isNaN(o)&&isNaN(l)}return!1}(r,e);case 9:return Bu(r.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return function(a,i){const o=a.mapValue.fields||{},l=i.mapValue.fields||{};if(vE(o)!==vE(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Wi(o[c],l[c])))return!1;return!0}(r,e);default:return _t(52216,{left:r})}}function Tf(r,e){return(r.values||[]).find(t=>Wi(t,e))!==void 0}function Hu(r,e){if(r===e)return 0;const t=Dl(r),s=Dl(e);if(t!==s)return Kt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(r.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Er(i.integerValue||i.doubleValue),c=Er(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(r,e);case 3:return NE(r.timestampValue,e.timestampValue);case 4:return NE(Cf(r),Cf(e));case 5:return U1(r.stringValue,e.stringValue);case 6:return function(i,o){const l=Il(i),c=Il(o);return l.compareTo(c)}(r.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=Kt(l[u],c[u]);if(h!==0)return h}return Kt(l.length,c.length)}(r.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Kt(Er(i.latitude),Er(o.latitude));return l!==0?l:Kt(Er(i.longitude),Er(o.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return jE(r.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,h;const f=i.fields||{},g=o.fields||{},x=(l=f[C0])===null||l===void 0?void 0:l.arrayValue,y=(c=g[C0])===null||c===void 0?void 0:c.arrayValue,b=Kt(((u=x?.values)===null||u===void 0?void 0:u.length)||0,((h=y?.values)===null||h===void 0?void 0:h.length)||0);return b!==0?b:jE(x,y)}(r.mapValue,e.mapValue);case 11:return function(i,o){if(i===ix.mapValue&&o===ix.mapValue)return 0;if(i===ix.mapValue)return 1;if(o===ix.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const g=U1(c[f],h[f]);if(g!==0)return g;const x=Hu(l[c[f]],u[h[f]]);if(x!==0)return x}return Kt(c.length,h.length)}(r.mapValue,e.mapValue);default:throw _t(23264,{le:t})}}function NE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Kt(r,e);const t=Rl(r),s=Rl(e),a=Kt(t.seconds,s.seconds);return a!==0?a:Kt(t.nanos,s.nanos)}function jE(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const i=Hu(t[a],s[a]);if(i)return i}return Kt(t.length,s.length)}function $u(r){return z1(r)}function z1(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Rl(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Il(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return wt.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",a=!0;for(const i of t.values||[])a?a=!1:s+=",",s+=z1(i);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",i=!0;for(const o of s)i?i=!1:a+=",",a+=`${o}:${z1(t.fields[o])}`;return a+"}"}(r.mapValue):_t(61005,{value:r})}function Xx(r){switch(Dl(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wb(r);return e?16+Xx(e):16;case 5:return 2*r.stringValue.length;case 6:return Il(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,i)=>a+Xx(i),0)}(r.arrayValue);case 10:case 11:return function(s){let a=0;return Gl(s.fields,(i,o)=>{a+=i.length+Xx(o)}),a}(r.mapValue);default:throw _t(13486,{value:r})}}function kE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function V1(r){return!!r&&"integerValue"in r}function Oj(r){return!!r&&"arrayValue"in r}function SE(r){return!!r&&"nullValue"in r}function _E(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gx(r){return!!r&&"mapValue"in r}function W9(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Q3])===null||t===void 0?void 0:t.stringValue)===Z3}function sf(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Gl(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=sf(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sf(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Y9(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.value=e}static empty(){return new Da({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Gx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sf(t)}setAll(e){let t=ma.emptyPath(),s={},a=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,s,a),s={},a=[],t=l.popLast()}o?s[l.lastSegment()]=sf(o):a.push(l.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,s,a)}delete(e){const t=this.field(e.popLast());Gx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Gx(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Gl(t,(a,i)=>e[a]=i);for(const a of s)delete e[a]}clone(){return new Da(sf(this.value))}}function J3(r){const e=[];return Gl(r.fields,(t,s)=>{const a=new ma([t]);if(Gx(s)){const i=J3(s.mapValue).fields;if(i.length===0)e.push(a);else for(const o of i)e.push(a.child(o))}else e.push(a)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,s,a,i,o,l){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new sa(e,0,Tt.min(),Tt.min(),Tt.min(),Da.empty(),0)}static newFoundDocument(e,t,s,a){return new sa(e,1,t,Tt.min(),s,a,0)}static newNoDocument(e,t){return new sa(e,2,t,Tt.min(),Tt.min(),Da.empty(),0)}static newUnknownDocument(e,t){return new sa(e,3,t,Tt.min(),Tt.min(),Da.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Da.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Da.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,t){this.position=e,this.inclusive=t}}function AE(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const i=e[a],o=r.position[a];if(i.field.isKeyField()?s=wt.comparator(wt.fromName(o.referenceValue),t.key):s=Hu(o,t.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function CE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Wi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t="asc"){this.field=e,this.dir=t}}function q9(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{}class Fr extends eD{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new G9(e,t,s):t==="array-contains"?new Z9(e,s):t==="in"?new J9(e,s):t==="not-in"?new eH(e,s):t==="array-contains-any"?new tH(e,s):new Fr(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new K9(e,s):new Q9(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Hu(t,this.value)):t!==null&&Dl(this.value)===Dl(t)&&this.matchesComparison(Hu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends eD{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ai(e,t)}matches(e){return tD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function tD(r){return r.op==="and"}function sD(r){return X9(r)&&tD(r)}function X9(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function B1(r){if(r instanceof Fr)return r.field.canonicalString()+r.op.toString()+$u(r.value);if(sD(r))return r.filters.map(e=>B1(e)).join(",");{const e=r.filters.map(t=>B1(t)).join(",");return`${r.op}(${e})`}}function rD(r,e){return r instanceof Fr?function(s,a){return a instanceof Fr&&s.op===a.op&&s.field.isEqual(a.field)&&Wi(s.value,a.value)}(r,e):r instanceof ai?function(s,a){return a instanceof ai&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((i,o,l)=>i&&rD(o,a.filters[l]),!0):!1}(r,e):void _t(19439)}function aD(r){return r instanceof Fr?function(t){return`${t.field.canonicalString()} ${t.op} ${$u(t.value)}`}(r):r instanceof ai?function(t){return t.op.toString()+" {"+t.getFilters().map(aD).join(" ,")+"}"}(r):"Filter"}class G9 extends Fr{constructor(e,t,s){super(e,t,s),this.key=wt.fromName(s.referenceValue)}matches(e){const t=wt.comparator(e.key,this.key);return this.matchesComparison(t)}}class K9 extends Fr{constructor(e,t){super(e,"in",t),this.keys=nD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Q9 extends Fr{constructor(e,t){super(e,"not-in",t),this.keys=nD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nD(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>wt.fromName(s.referenceValue))}class Z9 extends Fr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oj(t)&&Tf(t.arrayValue,this.value)}}class J9 extends Fr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tf(this.value.arrayValue,t)}}class eH extends Fr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tf(this.value.arrayValue,t)}}class tH extends Fr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oj(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Tf(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e,t=null,s=[],a=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=i,this.startAt=o,this.endAt=l,this.Pe=null}}function EE(r,e=null,t=[],s=[],a=null,i=null,o=null){return new sH(r,e,t,s,a,i,o)}function Lj(r){const e=It(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>B1(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),hg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>$u(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>$u(s)).join(",")),e.Pe=t}return e.Pe}function Fj(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!q9(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!rD(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!CE(r.startAt,e.startAt)&&CE(r.endAt,e.endAt)}function H1(r){return wt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t=null,s=[],a=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function rH(r,e,t,s,a,i,o,l){return new uh(r,e,t,s,a,i,o,l)}function Nb(r){return new uh(r)}function TE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iD(r){return r.collectionGroup!==null}function rf(r){const e=It(r);if(e.Te===null){e.Te=[];const t=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),t.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new qr(ma.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.Te.push(new Pf(i,s))}),t.has(ma.keyField().canonicalString())||e.Te.push(new Pf(ma.keyField(),s))}return e.Te}function Mi(r){const e=It(r);return e.Ie||(e.Ie=aH(e,rf(r))),e.Ie}function aH(r,e){if(r.limitType==="F")return EE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Pf(a.field,i)});const t=r.endAt?new E0(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new E0(r.startAt.position,r.startAt.inclusive):null;return EE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function $1(r,e){const t=r.filters.concat([e]);return new uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function T0(r,e,t){return new uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function jb(r,e){return Fj(Mi(r),Mi(e))&&r.limitType===e.limitType}function oD(r){return`${Lj(Mi(r))}|lt:${r.limitType}`}function wu(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>aD(a)).join(", ")}]`),hg(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>$u(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>$u(a)).join(",")),`Target(${s})`}(Mi(r))}; limitType=${r.limitType})`}function kb(r,e){return e.isFoundDocument()&&function(s,a){const i=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):wt.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(r,e)&&function(s,a){for(const i of rf(s))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(r,e)&&function(s,a){for(const i of s.filters)if(!i.matches(a))return!1;return!0}(r,e)&&function(s,a){return!(s.startAt&&!function(o,l,c){const u=AE(o,l,c);return o.inclusive?u<=0:u<0}(s.startAt,rf(s),a)||s.endAt&&!function(o,l,c){const u=AE(o,l,c);return o.inclusive?u>=0:u>0}(s.endAt,rf(s),a))}(r,e)}function nH(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function lD(r){return(e,t)=>{let s=!1;for(const a of rf(r)){const i=iH(a,e,t);if(i!==0)return i;s=s||a.field.isKeyField()}return 0}}function iH(r,e,t){const s=r.field.isKeyField()?wt.comparator(e.key,t.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Hu(c,u):_t(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,i]of s)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Gl(this.inner,(t,s)=>{for(const[a,i]of s)e(a,i)})}isEmpty(){return W3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=new gr(wt.comparator);function Mo(){return oH}const cD=new gr(wt.comparator);function $m(...r){let e=cD;for(const t of r)e=e.insert(t.key,t);return e}function dD(r){let e=cD;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function zc(){return af()}function uD(){return af()}function af(){return new wd(r=>r.toString(),(r,e)=>r.isEqual(e))}const lH=new gr(wt.comparator),cH=new qr(wt.comparator);function ns(...r){let e=cH;for(const t of r)e=e.add(t);return e}const dH=new qr(Kt);function uH(){return dH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_0(e)?"-0":e}}function hD(r){return{integerValue:""+r}}function hH(r,e){return U9(e)?hD(e):Uj(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this._=void 0}}function mH(r,e,t){return r instanceof Rf?function(a,i){const o={fields:{[X3]:{stringValue:q3},[K3]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&Mj(i)&&(i=wb(i)),i&&(o.fields[G3]=i),{mapValue:o}}(t,e):r instanceof Wu?fD(r,e):r instanceof Yu?gD(r,e):function(a,i){const o=mD(a,i),l=PE(o)+PE(a.Ee);return V1(o)&&V1(a.Ee)?hD(l):Uj(a.serializer,l)}(r,e)}function fH(r,e,t){return r instanceof Wu?fD(r,e):r instanceof Yu?gD(r,e):t}function mD(r,e){return r instanceof P0?function(s){return V1(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class Rf extends Sb{}class Wu extends Sb{constructor(e){super(),this.elements=e}}function fD(r,e){const t=pD(e);for(const s of r.elements)t.some(a=>Wi(a,s))||t.push(s);return{arrayValue:{values:t}}}class Yu extends Sb{constructor(e){super(),this.elements=e}}function gD(r,e){let t=pD(e);for(const s of r.elements)t=t.filter(a=>!Wi(a,s));return{arrayValue:{values:t}}}class P0 extends Sb{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function PE(r){return Er(r.integerValue||r.doubleValue)}function pD(r){return Oj(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,t){this.field=e,this.transform=t}}function gH(r,e){return r.field.isEqual(e.field)&&function(s,a){return s instanceof Wu&&a instanceof Wu||s instanceof Yu&&a instanceof Yu?Bu(s.elements,a.elements,Wi):s instanceof P0&&a instanceof P0?Wi(s.Ee,a.Ee):s instanceof Rf&&a instanceof Rf}(r.transform,e.transform)}class pH{constructor(e,t){this.version=e,this.transformResults=t}}class fa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fa}static exists(e){return new fa(void 0,e)}static updateTime(e){return new fa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kx(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _b{}function xD(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ab(r.key,fa.none()):new mg(r.key,r.data,fa.none());{const t=r.data,s=Da.empty();let a=new qr(ma.comparator);for(let i of e.fields)if(!a.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?s.delete(i):s.set(i,o),a=a.add(i)}return new Kl(r.key,s,new pn(a.toArray()),fa.none())}}function xH(r,e,t){r instanceof mg?function(a,i,o){const l=a.value.clone(),c=IE(a.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(r,e,t):r instanceof Kl?function(a,i,o){if(!Kx(a.precondition,i))return void i.convertToUnknownDocument(o.version);const l=IE(a.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(bD(a)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(r,e,t):function(a,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function nf(r,e,t,s){return r instanceof mg?function(i,o,l,c){if(!Kx(i.precondition,o))return l;const u=i.value.clone(),h=DE(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(r,e,t,s):r instanceof Kl?function(i,o,l,c){if(!Kx(i.precondition,o))return l;const u=DE(i.fieldTransforms,c,o),h=o.data;return h.setAll(bD(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(r,e,t,s):function(i,o,l){return Kx(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(r,e,t)}function bH(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),i=mD(s.transform,a||null);i!=null&&(t===null&&(t=Da.empty()),t.set(s.field,i))}return t||null}function RE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Bu(s,a,(i,o)=>gH(i,o))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mg extends _b{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Kl extends _b{constructor(e,t,s,a,i=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bD(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function IE(r,e,t){const s=new Map;hs(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let a=0;a<t.length;a++){const i=r[a],o=i.transform,l=e.data.field(i.field);s.set(i.field,fH(o,l,t[a]))}return s}function DE(r,e,t){const s=new Map;for(const a of r){const i=a.transform,o=t.data.field(a.field);s.set(a.field,mH(i,o,e))}return s}class Ab extends _b{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yD extends _b{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&xH(i,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=nf(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=nf(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=uD();return this.mutations.forEach(a=>{const i=e.get(a.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=t.has(a.key)?null:l;const c=xD(o,l);c!==null&&s.set(a.key,c),o.isValidDocument()||o.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ns())}isEqual(e){return this.batchId===e.batchId&&Bu(this.mutations,e.mutations,(t,s)=>RE(t,s))&&Bu(this.baseMutations,e.baseMutations,(t,s)=>RE(t,s))}}class Vj{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){hs(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let a=function(){return lH}();const i=e.mutations;for(let o=0;o<i.length;o++)a=a.insert(i[o].key,s[o].version);return new Vj(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or,ds;function vD(r){switch(r){case De.OK:return _t(64938);case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function wD(r){if(r===void 0)return Do("GRPC error has no .code"),De.UNKNOWN;switch(r){case Or.OK:return De.OK;case Or.CANCELLED:return De.CANCELLED;case Or.UNKNOWN:return De.UNKNOWN;case Or.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case Or.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case Or.INTERNAL:return De.INTERNAL;case Or.UNAVAILABLE:return De.UNAVAILABLE;case Or.UNAUTHENTICATED:return De.UNAUTHENTICATED;case Or.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case Or.NOT_FOUND:return De.NOT_FOUND;case Or.ALREADY_EXISTS:return De.ALREADY_EXISTS;case Or.PERMISSION_DENIED:return De.PERMISSION_DENIED;case Or.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case Or.ABORTED:return De.ABORTED;case Or.OUT_OF_RANGE:return De.OUT_OF_RANGE;case Or.UNIMPLEMENTED:return De.UNIMPLEMENTED;case Or.DATA_LOSS:return De.DATA_LOSS;default:return _t(39323,{code:r})}}(ds=Or||(Or={}))[ds.OK=0]="OK",ds[ds.CANCELLED=1]="CANCELLED",ds[ds.UNKNOWN=2]="UNKNOWN",ds[ds.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ds[ds.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ds[ds.NOT_FOUND=5]="NOT_FOUND",ds[ds.ALREADY_EXISTS=6]="ALREADY_EXISTS",ds[ds.PERMISSION_DENIED=7]="PERMISSION_DENIED",ds[ds.UNAUTHENTICATED=16]="UNAUTHENTICATED",ds[ds.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ds[ds.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ds[ds.ABORTED=10]="ABORTED",ds[ds.OUT_OF_RANGE=11]="OUT_OF_RANGE",ds[ds.UNIMPLEMENTED=12]="UNIMPLEMENTED",ds[ds.INTERNAL=13]="INTERNAL",ds[ds.UNAVAILABLE=14]="UNAVAILABLE",ds[ds.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=new kl([4294967295,4294967295],0);function ME(r){const e=V3().encode(r),t=new I3;return t.update(e),new Uint8Array(t.digest())}function OE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new kl([t,s],0),new kl([a,i],0)]}class Bj{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Wm(`Invalid padding: ${t}`);if(s<0)throw new Wm(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wm(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Wm(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=kl.fromNumber(this.fe)}pe(e,t,s){let a=e.add(t.multiply(kl.fromNumber(s)));return a.compare(NH)===1&&(a=new kl([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=ME(e),[s,a]=OE(t);for(let i=0;i<this.hashCount;i++){const o=this.pe(s,a,i);if(!this.ye(o))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Bj(i,a,t);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.fe===0)return;const t=ME(e),[s,a]=OE(t);for(let i=0;i<this.hashCount;i++){const o=this.pe(s,a,i);this.we(o)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Wm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,t,s,a,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,fg.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Cb(Tt.min(),a,new gr(Kt),Mo(),ns())}}class fg{constructor(e,t,s,a,i){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new fg(s,t,ns(),ns(),ns())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,t,s,a){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=a}}class ND{constructor(e,t){this.targetId=e,this.De=t}}class jD{constructor(e,t,s=pa.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class LE{constructor(){this.ve=0,this.Ce=FE(),this.Fe=pa.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ns(),t=ns(),s=ns();return this.Ce.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:_t(38017,{changeType:i})}}),new fg(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=FE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,hs(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class jH{constructor(e){this.We=e,this.Ge=new Map,this.ze=Mo(),this.je=ox(),this.Je=ox(),this.He=new gr(Kt)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:_t(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,a)=>{this.nt(a)&&t(a)})}it(e){const t=e.targetId,s=e.De.count,a=this.st(t);if(a){const i=a.target;if(H1(i))if(s===0){const o=new wt(i.path);this.Xe(t,o,sa.newNoDocument(o,Tt.min()))}else hs(s===1,20013,{expectedCount:s});else{const o=this.ot(t);if(o!==s){const l=this._t(e),c=l?this.ut(l,e,o):1;if(c!==0){this.rt(t);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:i=0}=t;let o,l;try{o=Il(s).toUint8Array()}catch(c){if(c instanceof Y3)return Tl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Bj(o,a,i)}catch(c){return Tl(c instanceof Wm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let a=0;return s.forEach(i=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Xe(t,i,null),a++)}),a}Pt(e){const t=new Map;this.Ge.forEach((i,o)=>{const l=this.st(o);if(l){if(i.current&&H1(l.target)){const c=new wt(l.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,sa.newNoDocument(c,e))}i.Ne&&(t.set(o,i.Le()),i.ke())}});let s=ns();this.Je.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const a=new Cb(e,t,this.He,this.ze,s);return this.ze=Mo(),this.je=ox(),this.Je=ox(),this.He=new gr(Kt),a}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const a=this.tt(e);this.It(e,t)?a.qe(t,1):a.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new LE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new qr(Kt),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new qr(Kt),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||dt("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new LE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ox(){return new gr(wt.comparator)}function FE(){return new gr(wt.comparator)}const kH={asc:"ASCENDING",desc:"DESCENDING"},SH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_H={and:"AND",or:"OR"};class AH{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function W1(r,e){return r.useProto3Json||hg(e)?e:{value:e}}function R0(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kD(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function CH(r,e){return R0(r,e.toTimestamp())}function bn(r){return hs(!!r,49232),Tt.fromTimestamp(function(t){const s=Rl(t);return new or(s.seconds,s.nanos)}(r))}function Hj(r,e){return Y1(r,e).canonicalString()}function Y1(r,e){const t=function(a){return new Ys(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function SD(r){const e=Ys.fromString(r);return hs(PD(e),10190,{key:e.toString()}),e}function I0(r,e){return Hj(r.databaseId,e.path)}function of(r,e){const t=SD(e);if(t.get(1)!==r.databaseId.projectId)throw new tt(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new tt(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new wt(AD(t))}function _D(r,e){return Hj(r.databaseId,e)}function EH(r){const e=SD(r);return e.length===4?Ys.emptyPath():AD(e)}function q1(r){return new Ys(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function AD(r){return hs(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function UE(r,e,t){return{name:I0(r,e),fields:t.value.mapValue.fields}}function TH(r,e){return"found"in e?function(s,a){hs(!!a.found,43571),a.found.name,a.found.updateTime;const i=of(s,a.found.name),o=bn(a.found.updateTime),l=a.found.createTime?bn(a.found.createTime):Tt.min(),c=new Da({mapValue:{fields:a.found.fields}});return sa.newFoundDocument(i,o,l,c)}(r,e):"missing"in e?function(s,a){hs(!!a.missing,3894),hs(!!a.readTime,22933);const i=of(s,a.missing),o=bn(a.readTime);return sa.newNoDocument(i,o)}(r,e):_t(7234,{result:e})}function PH(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_t(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(hs(h===void 0||typeof h=="string",58123),pa.fromBase64String(h||"")):(hs(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),pa.fromUint8Array(h||new Uint8Array))}(r,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const h=u.code===void 0?De.UNKNOWN:wD(u.code);return new tt(h,u.message||"")}(o);t=new jD(s,a,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=of(r,s.document.name),i=bn(s.document.updateTime),o=s.document.createTime?bn(s.document.createTime):Tt.min(),l=new Da({mapValue:{fields:s.document.fields}}),c=sa.newFoundDocument(a,i,o,l),u=s.targetIds||[],h=s.removedTargetIds||[];t=new Qx(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=of(r,s.document),i=s.readTime?bn(s.readTime):Tt.min(),o=sa.newNoDocument(a,i),l=s.removedTargetIds||[];t=new Qx([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=of(r,s.document),i=s.removedTargetIds||[];t=new Qx([],i,a,null)}else{if(!("filter"in e))return _t(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:i}=s,o=new wH(a,i),l=s.targetId;t=new ND(l,o)}}return t}function CD(r,e){let t;if(e instanceof mg)t={update:UE(r,e.key,e.value)};else if(e instanceof Ab)t={delete:I0(r,e.key)};else if(e instanceof Kl)t={update:UE(r,e.key,e.data),updateMask:zH(e.fieldMask)};else{if(!(e instanceof yD))return _t(16599,{Rt:e.type});t={verify:I0(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(i,o){const l=o.transform;if(l instanceof Rf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Wu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Yu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof P0)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw _t(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:CH(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_t(27497)}(r,e.precondition)),t}function RH(r,e){return r&&r.length>0?(hs(e!==void 0,14353),r.map(t=>function(a,i){let o=a.updateTime?bn(a.updateTime):bn(i);return o.isEqual(Tt.min())&&(o=bn(i)),new pH(o,a.transformResults||[])}(t,e))):[]}function IH(r,e){return{documents:[_D(r,e.path)]}}function DH(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=_D(r,a);const i=function(u){if(u.length!==0)return TD(ai.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:Nu(g.field),direction:LH(g.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=W1(r,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:a}}function MH(r){let e=EH(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){hs(s===1,65062);const h=t.from[0];h.allDescendants?a=h.collectionId:e=e.child(h.collectionId)}let i=[];t.where&&(i=function(f){const g=ED(f);return g instanceof ai&&sD(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(g=>function(y){return new Pf(ju(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(g))}(t.orderBy));let l=null;t.limit&&(l=function(f){let g;return g=typeof f=="object"?f.value:f,hg(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(f){const g=!!f.before,x=f.values||[];return new E0(x,g)}(t.startAt));let u=null;return t.endAt&&(u=function(f){const g=!f.before,x=f.values||[];return new E0(x,g)}(t.endAt)),rH(e,a,o,i,l,"F",c,u)}function OH(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ED(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ju(t.unaryFilter.field);return Fr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ju(t.unaryFilter.field);return Fr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ju(t.unaryFilter.field);return Fr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ju(t.unaryFilter.field);return Fr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(r):r.fieldFilter!==void 0?function(t){return Fr.create(ju(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ai.create(t.compositeFilter.filters.map(s=>ED(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(t.compositeFilter.op))}(r):_t(30097,{filter:r})}function LH(r){return kH[r]}function FH(r){return SH[r]}function UH(r){return _H[r]}function Nu(r){return{fieldPath:r.canonicalString()}}function ju(r){return ma.fromServerFormat(r.fieldPath)}function TD(r){return r instanceof Fr?function(t){if(t.op==="=="){if(_E(t.value))return{unaryFilter:{field:Nu(t.field),op:"IS_NAN"}};if(SE(t.value))return{unaryFilter:{field:Nu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_E(t.value))return{unaryFilter:{field:Nu(t.field),op:"IS_NOT_NAN"}};if(SE(t.value))return{unaryFilter:{field:Nu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nu(t.field),op:FH(t.op),value:t.value}}}(r):r instanceof ai?function(t){const s=t.getFilters().map(a=>TD(a));return s.length===1?s[0]:{compositeFilter:{op:UH(t.op),filters:s}}}(r):_t(54877,{filter:r})}function zH(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function PD(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t,s,a,i=Tt.min(),o=Tt.min(),l=pa.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new xl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.gt=e}}function BH(r){const e=MH({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?T0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(){this.Dn=new $H}addToCollectionParentIndex(e,t){return this.Dn.add(t),Be.resolve()}getCollectionParents(e,t){return Be.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Be.resolve()}deleteFieldIndex(e,t){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,t){return Be.resolve()}getDocumentsMatchingTarget(e,t){return Be.resolve(null)}getIndexType(e,t){return Be.resolve(0)}getFieldIndexes(e,t){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,t){return Be.resolve(Pl.min())}getMinOffsetFromCollectionGroup(e,t){return Be.resolve(Pl.min())}updateCollectionGroup(e,t,s){return Be.resolve()}updateIndexEntries(e,t){return Be.resolve()}}class $H{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new qr(Ys.comparator),i=!a.has(s);return this.index[t]=a.add(s),i}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new qr(Ys.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RD=41943040;class Ka{static withCacheSize(e){return new Ka(e,Ka.DEFAULT_COLLECTION_PERCENTILE,Ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ka.DEFAULT_COLLECTION_PERCENTILE=10,Ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ka.DEFAULT=new Ka(RD,Ka.DEFAULT_COLLECTION_PERCENTILE,Ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ka.DISABLED=new Ka(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new qu(0)}static ur(){return new qu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="LruGarbageCollector",WH=1048576;function BE([r,e],[t,s]){const a=Kt(r,t);return a===0?Kt(e,s):a}class YH{constructor(e){this.Tr=e,this.buffer=new qr(BE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();BE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qH{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){dt(VE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dh(t)?dt(VE,"Ignoring IndexedDB error during garbage collection: ",t):await ch(t)}await this.Rr(3e5)})}}class XH{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Be.resolve(vb.ue);const s=new YH(t);return this.Vr.forEachTarget(e,a=>s.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>s.Er(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(zE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,a,i,o,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,o=Date.now(),this.nthSequenceNumber(e,a))).next(f=>(s=f,l=Date.now(),this.removeTargets(e,s,t))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(u=Date.now(),vu()<=rs.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${a} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function GH(r,e){return new XH(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(){this.changes=new wd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Be.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&nf(s.mutation,a,pn.empty(),or.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ns()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ns()){const a=zc();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(i=>{let o=$m();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const s=zc();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ns()))}populateOverlays(e,t,s){const a=[];return s.forEach(i=>{t.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,s,a){let i=Mo();const o=af(),l=function(){return af()}();return t.forEach((c,u)=>{const h=s.get(u.key);a.has(u.key)&&(h===void 0||h.mutation instanceof Kl)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),nf(h.mutation,u,h.mutation.getFieldMask(),or.now())):o.set(u.key,pn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),t.forEach((u,h)=>{var f;return l.set(u,new QH(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,t){const s=af();let a=new gr((o,l)=>o-l),i=ns();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=t.get(c);if(u===null)return;let h=s.get(c)||pn.empty();h=l.applyToLocalView(u,h),s.set(c,h);const f=(a.get(l.batchId)||ns()).add(c);a=a.insert(l.batchId,f)})}).next(()=>{const o=[],l=a.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,f=uD();h.forEach(g=>{if(!i.has(g)){const x=xD(t.get(g),s.get(g));x!==null&&f.set(g,x),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Be.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(o){return wt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(i=>{const o=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-i.size):Be.resolve(zc());let l=Af,c=i;return o.next(u=>Be.forEach(u,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?Be.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ns())).next(h=>({batchId:l,changes:dD(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wt(t)).next(s=>{let a=$m();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const i=t.collectionGroup;let o=$m();return this.indexManager.getCollectionParents(e,i).next(l=>Be.forEach(l,c=>{const u=function(f,g){return new uh(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,s,a).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,s,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,i,a))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,sa.newInvalidDocument(h)))});let l=$m();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&nf(h.mutation,u,pn.empty(),or.now()),kb(t,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Be.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(a){return{id:a.id,version:a.version,createTime:bn(a.createTime)}}(t)),Be.resolve()}getNamedQuery(e,t){return Be.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(a){return{name:a.name,query:BH(a.bundledQuery),readTime:bn(a.readTime)}}(t)),Be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this.overlays=new gr(wt.comparator),this.kr=new Map}getOverlay(e,t){return Be.resolve(this.overlays.get(t))}getOverlays(e,t){const s=zc();return Be.forEach(t,a=>this.getOverlay(e,a).next(i=>{i!==null&&s.set(a,i)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,i)=>{this.wt(e,t,i)}),Be.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.kr.get(s);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(s)),Be.resolve()}getOverlaysForCollection(e,t,s){const a=zc(),i=t.length+1,o=new wt(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>s&&a.set(c.getKey(),c)}return Be.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let i=new gr((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>s){let h=i.get(u.largestBatchId);h===null&&(h=zc(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=zc(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=a)););return Be.resolve(l)}wt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const o=this.kr.get(a.largestBatchId).delete(s.key);this.kr.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new vH(t,s));let i=this.kr.get(t);i===void 0&&(i=ns(),this.kr.set(t,i)),this.kr.set(t,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(){this.sessionToken=pa.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.qr=new qr(ta.Qr),this.$r=new qr(ta.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new ta(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new ta(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new wt(new Ys([])),s=new ta(t,e),a=new ta(t,e+1),i=[];return this.$r.forEachInRange([s,a],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new wt(new Ys([])),s=new ta(t,e),a=new ta(t,e+1);let i=ns();return this.$r.forEachInRange([s,a],o=>{i=i.add(o.key)}),i}containsKey(e){const t=new ta(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class ta{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return wt.comparator(e.key,t.key)||Kt(e.Hr,t.Hr)}static Ur(e,t){return Kt(e.Hr,t.Hr)||wt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new qr(ta.Qr)}checkEmpty(e){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yH(i,t,s,a);this.mutationQueue.push(o);for(const l of a)this.Yr=this.Yr.add(new ta(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Be.resolve(o)}lookupMutationBatch(e,t){return Be.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Xr(s),i=a<0?0:a;return Be.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?Dj:this.er-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new ta(t,0),a=new ta(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([s,a],o=>{const l=this.Zr(o.Hr);i.push(l)}),Be.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qr(Kt);return t.forEach(a=>{const i=new ta(a,0),o=new ta(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],l=>{s=s.add(l.Hr)})}),Be.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let i=s;wt.isDocumentKey(i)||(i=i.child(""));const o=new ta(new wt(i),0);let l=new qr(Kt);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===a&&(l=l.add(c.Hr)),!0)},o),Be.resolve(this.ei(l))}ei(e){const t=[];return e.forEach(s=>{const a=this.Zr(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){hs(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Be.forEach(t.mutations,a=>{const i=new ta(a.key,t.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new ta(t,0),a=this.Yr.firstAfterOrEqual(s);return Be.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e){this.ni=e,this.docs=function(){return new gr(wt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),i=a?a.size:0,o=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Be.resolve(s?s.document.mutableCopy():sa.newInvalidDocument(t))}getEntries(e,t){let s=Mo();return t.forEach(a=>{const i=this.docs.get(a);s=s.insert(a,i?i.document.mutableCopy():sa.newInvalidDocument(a))}),Be.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let i=Mo();const o=t.path,l=new wt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||M9(D9(h),s)<=0||(a.has(h.key)||kb(t,h))&&(i=i.insert(h.key,h.mutableCopy()))}return Be.resolve(i)}getAllFromCollectionGroup(e,t,s,a){_t(9500)}ri(e,t){return Be.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new a$(this)}getSize(e){return Be.resolve(this.size)}}class a$ extends KH{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Or.addEntry(e,a)):this.Or.removeEntry(s)}),Be.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.persistence=e,this.ii=new wd(t=>Lj(t),Fj),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.si=0,this.oi=new $j,this.targetCount=0,this._i=qu.ar()}forEachTarget(e,t){return this.ii.forEach((s,a)=>t(a)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),Be.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new qu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Be.resolve()}updateTargetData(e,t){return this.hr(t),Be.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,t,s){let a=0;const i=[];return this.ii.forEach((o,l)=>{l.sequenceNumber<=t&&s.get(l.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),a++)}),Be.waitFor(i).next(()=>a)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return Be.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),Be.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const a=this.persistence.referenceDelegate,i=[];return a&&t.forEach(o=>{i.push(a.markPotentiallyOrphaned(e,o))}),Be.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Be.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return Be.resolve(s)}containsKey(e,t){return Be.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,t){this.ai={},this.overlays={},this.ui=new vb(0),this.ci=!1,this.ci=!0,this.li=new t$,this.referenceDelegate=e(this),this.hi=new n$(this),this.indexManager=new HH,this.remoteDocumentCache=function(a){return new r$(a)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new VH(t),this.Ti=new JH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new e$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new s$(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){dt("MemoryPersistence","Starting transaction:",e);const a=new i$(this.ui.next());return this.referenceDelegate.Ii(),s(a).next(i=>this.referenceDelegate.di(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ei(e,t){return Be.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class i$ extends L9{constructor(e){super(),this.currentSequenceNumber=e}}class Wj{constructor(e){this.persistence=e,this.Ai=new $j,this.Ri=null}static Vi(e){return new Wj(e)}get mi(){if(this.Ri)return this.Ri;throw _t(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),Be.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),Be.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Be.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(a=>this.mi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(i=>this.mi.add(i.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.mi,s=>{const a=wt.fromPath(s);return this.fi(e,a).next(i=>{i||t.removeEntry(a,Tt.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Be.or([()=>Be.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class D0{constructor(e,t){this.persistence=e,this.gi=new wd(s=>z9(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=GH(this,t)}static Vi(e,t){return new D0(e,t)}Ii(){}di(e){return Be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return Be.forEach(this.gi,(s,a)=>this.Sr(e,s,a).next(i=>i?Be.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ri(e,o=>this.Sr(e,o,t).next(l=>{l||(s++,i.removeEntry(o,Tt.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Be.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),Be.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),Be.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Be.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xx(e.data.value)),t}Sr(e,t,s){return Be.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.gi.get(t);return Be.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=a}static Es(e,t){let s=ns(),a=ns();for(const i of t.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new Yj(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Dz()?8:F9(Sa())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,a){const i={result:null};return this.ps(e,t).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,t,a,s).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new o$;return this.ws(e,t,o).next(l=>{if(i.result=l,this.Rs)return this.Ss(e,t,o,l.size)})}).next(()=>i.result)}Ss(e,t,s,a){return s.documentReadCount<this.Vs?(vu()<=rs.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",wu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Be.resolve()):(vu()<=rs.DEBUG&&dt("QueryEngine","Query:",wu(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.fs*a?(vu()<=rs.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",wu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(t))):Be.resolve())}ps(e,t){if(TE(t))return Be.resolve(null);let s=Mi(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=T0(t,null,"F"),s=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=ns(...i);return this.gs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.bs(t,l);return this.Ds(t,u,o,c.readTime)?this.ps(e,T0(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,s,a){return TE(t)||a.isEqual(Tt.min())?Be.resolve(null):this.gs.getDocuments(e,s).next(i=>{const o=this.bs(t,i);return this.Ds(t,o,s,a)?Be.resolve(null):(vu()<=rs.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wu(t)),this.vs(e,o,t,I9(a,Af)).next(l=>l))})}bs(e,t){let s=new qr(lD(e));return t.forEach((a,i)=>{kb(e,i)&&(s=s.add(i))}),s}Ds(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}ws(e,t,s){return vu()<=rs.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",wu(t)),this.gs.getDocumentsMatchingQuery(e,t,Pl.min(),s)}vs(e,t,s,a){return this.gs.getDocumentsMatchingQuery(e,s,a).next(i=>(t.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj="LocalStore",c$=3e8;class d${constructor(e,t,s,a){this.persistence=e,this.Cs=t,this.serializer=a,this.Fs=new gr(Kt),this.Ms=new wd(i=>Lj(i),Fj),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZH(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function u$(r,e,t,s){return new d$(r,e,t,s)}async function DD(r,e){const t=It(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(i=>(a=i,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],l=[];let c=ns();for(const u of a){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(s,c).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:l}))})})}function h$(r,e){const t=It(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),i=t.Os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const f=u.batch,g=f.keys();let x=Be.resolve();return g.forEach(y=>{x=x.next(()=>h.getEntry(c,y)).next(b=>{const v=u.docVersions.get(y);hs(v!==null,48541),b.version.compareTo(v)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),h.addEntry(b)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(t,s,e,i).next(()=>i.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=ns();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function MD(r){const e=It(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function m$(r,e){const t=It(r),s=e.snapshotVersion;let a=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=t.Os.newChangeBuffer({trackRemovals:!0});a=t.Fs;const l=[];e.targetChanges.forEach((h,f)=>{const g=a.get(f);if(!g)return;l.push(t.hi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>t.hi.addMatchingKeys(i,h.addedDocuments,f)));let x=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(pa.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,s)),a=a.insert(f,x),function(b,v,N){return b.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=c$?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(g,x,h)&&l.push(t.hi.updateTargetData(i,x))});let c=Mo(),u=ns();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(f$(i,o,e.documentUpdates).next(h=>{c=h.Ls,u=h.ks})),!s.isEqual(Tt.min())){const h=t.hi.getLastRemoteSnapshotVersion(i).next(f=>t.hi.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(h)}return Be.waitFor(l).next(()=>o.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(t.Fs=a,i))}function f$(r,e,t){let s=ns(),a=ns();return t.forEach(i=>s=s.add(i)),e.getEntries(r,s).next(i=>{let o=Mo();return t.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(a=a.add(l)),c.isNoDocument()&&c.version.isEqual(Tt.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):dt(qj,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ls:o,ks:a}})}function g$(r,e){const t=It(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Dj),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function p$(r,e){const t=It(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.hi.getTargetData(s,e).next(i=>i?(a=i,Be.resolve(a)):t.hi.allocateTargetId(s).next(o=>(a=new xl(e,o,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Fs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function X1(r,e,t){const s=It(r),a=s.Fs.get(e),i=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,a))}catch(o){if(!dh(o))throw o;dt(qj,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(a.target)}function HE(r,e,t){const s=It(r);let a=Tt.min(),i=ns();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=It(c),g=f.Ms.get(h);return g!==void 0?Be.resolve(f.Fs.get(g)):f.hi.getTargetData(u,h)}(s,o,Mi(e)).next(l=>{if(l)return a=l.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>s.Cs.getDocumentsMatchingQuery(o,e,t?a:Tt.min(),t?i:ns())).next(l=>(x$(s,nH(e),l),{documents:l,qs:i})))}function x$(r,e,t){let s=r.xs.get(e)||Tt.min();t.forEach((a,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),r.xs.set(e,s)}class $E{constructor(){this.activeTargetIds=uH()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b${constructor(){this.Fo=new $E,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new $E,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="ConnectivityMonitor";class YE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){dt(WE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){dt(WE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lx=null;function G1(){return lx===null?lx=function(){return 268435456+Math.round(2147483648*Math.random())}():lx++,"0x"+lx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="RestConnection",v$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w${get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.Ko=this.databaseId.database===A0?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,t,s,a,i){const o=G1(),l=this.Go(e,t.toUriEncodedString());dt(vw,`Sending RPC '${e}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,a,i);const{host:u}=new URL(l),h=Yl(u);return this.jo(e,l,c,s,h).then(f=>(dt(vw,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Tl(vw,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",s),f})}Jo(e,t,s,a,i,o){return this.Wo(e,t,s,a,i)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,i)=>e[i]=a),s&&s.headers.forEach((a,i)=>e[i]=a)}Go(e,t){const s=v$[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="WebChannelConnection";class j$ extends w${constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,a,i){const o=G1();return new Promise((l,c)=>{const u=new D3;u.setWithCredentials(!0),u.listenOnce(M3.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qx.NO_ERROR:const f=u.getResponseJson();dt(va,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case qx.TIMEOUT:dt(va,`RPC '${e}' ${o} timed out`),c(new tt(De.DEADLINE_EXCEEDED,"Request time out"));break;case qx.HTTP_ERROR:const g=u.getStatus();if(dt(va,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let x=u.getResponseJson();Array.isArray(x)&&(x=x[0]);const y=x?.error;if(y&&y.status&&y.message){const b=function(N){const k=N.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(k)>=0?k:De.UNKNOWN}(y.status);c(new tt(b,y.message))}else c(new tt(De.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new tt(De.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{dt(va,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(a);dt(va,`RPC '${e}' ${o} sending request:`,a),u.send(t,"POST",h,s,15)})}P_(e,t,s){const a=G1(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=F3(),l=L3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,s),c.encodeInitMessageHeaders=!0;const h=i.join("");dt(va,`Creating RPC '${e}' stream ${a}: ${h}`,c);const f=o.createWebChannel(h,c);this.T_(f);let g=!1,x=!1;const y=new N$({Ho:v=>{x?dt(va,`Not sending because RPC '${e}' stream ${a} is closed:`,v):(g||(dt(va,`Opening RPC '${e}' stream ${a} transport.`),f.open(),g=!0),dt(va,`RPC '${e}' stream ${a} sending:`,v),f.send(v))},Yo:()=>f.close()}),b=(v,N,k)=>{v.listen(N,C=>{try{k(C)}catch(R){setTimeout(()=>{throw R},0)}})};return b(f,Hm.EventType.OPEN,()=>{x||(dt(va,`RPC '${e}' stream ${a} transport opened.`),y.s_())}),b(f,Hm.EventType.CLOSE,()=>{x||(x=!0,dt(va,`RPC '${e}' stream ${a} transport closed`),y.__(),this.I_(f))}),b(f,Hm.EventType.ERROR,v=>{x||(x=!0,Tl(va,`RPC '${e}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),y.__(new tt(De.UNAVAILABLE,"The operation could not be completed")))}),b(f,Hm.EventType.MESSAGE,v=>{var N;if(!x){const k=v.data[0];hs(!!k,16349);const C=k,R=C?.error||((N=C[0])===null||N===void 0?void 0:N.error);if(R){dt(va,`RPC '${e}' stream ${a} received error:`,R);const _=R.status;let I=function(D){const L=Or[D];if(L!==void 0)return wD(L)}(_),P=R.message;I===void 0&&(I=De.INTERNAL,P="Unknown error status: "+_+" with message "+R.message),x=!0,y.__(new tt(I,P)),f.close()}else dt(va,`RPC '${e}' stream ${a} received:`,k),y.a_(k)}}),b(l,O3.STAT_EVENT,v=>{v.stat===F1.PROXY?dt(va,`RPC '${e}' stream ${a} detected buffering proxy`):v.stat===F1.NOPROXY&&dt(va,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{y.o_()},0),y}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function ww(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(r){return new AH(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,t,s=1e3,a=1.5,i=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=a,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),a=Math.max(0,t-s);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="PersistentStream";class OD{constructor(e,t,s,a,i,o,l,c){this.Fi=e,this.w_=s,this.S_=a,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Xj(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===De.RESOURCE_EXHAUSTED?(Do(t.toString()),Do("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===De.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.b_===t&&this.W_(s,a)},s=>{e(()=>{const a=new tt(De.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(a)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{s(()=>this.G_(a))}),this.stream.onMessage(a=>{s(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return dt(qE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(dt(qE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k$ extends OD{constructor(e,t,s,a,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,o),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=PH(this.serializer,e),s=function(i){if(!("targetChange"in i))return Tt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Tt.min():o.readTime?bn(o.readTime):Tt.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=q1(this.serializer),t.addTarget=function(i,o){let l;const c=o.target;if(l=H1(c)?{documents:IH(i,c)}:{query:DH(i,c).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=kD(i,o.resumeToken);const u=W1(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Tt.min())>0){l.readTime=R0(i,o.snapshotVersion.toTimestamp());const u=W1(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const s=OH(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=q1(this.serializer),t.removeTarget=e,this.k_(t)}}class S$ extends OD{constructor(e,t,s,a,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return hs(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,hs(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){hs(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=RH(e.writeResults,e.commitTime),s=bn(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=q1(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>CD(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${}class A$ extends _${constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new tt(De.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Y1(t,s),a,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new tt(De.UNKNOWN,i.toString())})}Jo(e,t,s,a,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Jo(e,Y1(t,s),a,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new tt(De.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class C${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Do(t),this._a=!1):dt("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="RemoteStore";class E${constructor(e,t,s,a,i){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{s.enqueueAndForget(async()=>{Nd(this)&&(dt(cd,"Restarting streams for network reachability change."),await async function(c){const u=It(c);u.Ia.add(4),await gg(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Tb(u)}(this))})}),this.Aa=new C$(s,a)}}async function Tb(r){if(Nd(r))for(const e of r.da)await e(!0)}async function gg(r){for(const e of r.da)await e(!1)}function LD(r,e){const t=It(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Zj(t)?Qj(t):hh(t).x_()&&Kj(t,e))}function Gj(r,e){const t=It(r),s=hh(t);t.Ta.delete(e),s.x_()&&FD(t,e),t.Ta.size===0&&(s.x_()?s.B_():Nd(t)&&t.Aa.set("Unknown"))}function Kj(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hh(r).H_(e)}function FD(r,e){r.Ra.$e(e),hh(r).Y_(e)}function Qj(r){r.Ra=new jH({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),hh(r).start(),r.Aa.aa()}function Zj(r){return Nd(r)&&!hh(r).M_()&&r.Ta.size>0}function Nd(r){return It(r).Ia.size===0}function UD(r){r.Ra=void 0}async function T$(r){r.Aa.set("Online")}async function P$(r){r.Ta.forEach((e,t)=>{Kj(r,e)})}async function R$(r,e){UD(r),Zj(r)?(r.Aa.la(e),Qj(r)):r.Aa.set("Unknown")}async function I$(r,e,t){if(r.Aa.set("Online"),e instanceof jD&&e.state===2&&e.cause)try{await async function(a,i){const o=i.cause;for(const l of i.targetIds)a.Ta.has(l)&&(await a.remoteSyncer.rejectListen(l,o),a.Ta.delete(l),a.Ra.removeTarget(l))}(r,e)}catch(s){dt(cd,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await M0(r,s)}else if(e instanceof Qx?r.Ra.Ye(e):e instanceof ND?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Tt.min()))try{const s=await MD(r.localStore);t.compareTo(s)>=0&&await function(i,o){const l=i.Ra.Pt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ta.get(u);h&&i.Ta.set(u,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ta.get(c);if(!h)return;i.Ta.set(c,h.withResumeToken(pa.EMPTY_BYTE_STRING,h.snapshotVersion)),FD(i,c);const f=new xl(h.target,c,u,h.sequenceNumber);Kj(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(r,t)}catch(s){dt(cd,"Failed to raise snapshot:",s),await M0(r,s)}}async function M0(r,e,t){if(!dh(e))throw e;r.Ia.add(1),await gg(r),r.Aa.set("Offline"),t||(t=()=>MD(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{dt(cd,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Tb(r)})}function zD(r,e){return e().catch(t=>M0(r,t,e))}async function Pb(r){const e=It(r),t=Ml(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Dj;for(;D$(e);)try{const a=await g$(e.localStore,s);if(a===null){e.Pa.length===0&&t.B_();break}s=a.batchId,M$(e,a)}catch(a){await M0(e,a)}VD(e)&&BD(e)}function D$(r){return Nd(r)&&r.Pa.length<10}function M$(r,e){r.Pa.push(e);const t=Ml(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function VD(r){return Nd(r)&&!Ml(r).M_()&&r.Pa.length>0}function BD(r){Ml(r).start()}async function O$(r){Ml(r).na()}async function L$(r){const e=Ml(r);for(const t of r.Pa)e.X_(t.mutations)}async function F$(r,e,t){const s=r.Pa.shift(),a=Vj.from(s,e,t);await zD(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await Pb(r)}async function U$(r,e){e&&Ml(r).Z_&&await async function(s,a){if(function(o){return vD(o)&&o!==De.ABORTED}(a.code)){const i=s.Pa.shift();Ml(s).N_(),await zD(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Pb(s)}}(r,e),VD(r)&&BD(r)}async function XE(r,e){const t=It(r);t.asyncQueue.verifyOperationInProgress(),dt(cd,"RemoteStore received new credentials");const s=Nd(t);t.Ia.add(3),await gg(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Tb(t)}async function z$(r,e){const t=It(r);e?(t.Ia.delete(2),await Tb(t)):e||(t.Ia.add(2),await gg(t),t.Aa.set("Unknown"))}function hh(r){return r.Va||(r.Va=function(t,s,a){const i=It(t);return i.ia(),new k$(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(r.datastore,r.asyncQueue,{Zo:T$.bind(null,r),e_:P$.bind(null,r),n_:R$.bind(null,r),J_:I$.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),Zj(r)?Qj(r):r.Aa.set("Unknown")):(await r.Va.stop(),UD(r))})),r.Va}function Ml(r){return r.ma||(r.ma=function(t,s,a){const i=It(t);return i.ia(),new S$(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:O$.bind(null,r),n_:U$.bind(null,r),ea:L$.bind(null,r),ta:F$.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Pb(r)):(await r.ma.stop(),r.Pa.length>0&&(dt(cd,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t,s,a,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=i,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,i){const o=Date.now()+s,l=new Jj(e,t,o,a,i);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tt(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e2(r,e){if(Do("AsyncQueue",`${e}: ${r}`),dh(r))return new tt(De.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{static emptySet(e){return new Mu(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||wt.comparator(t.key,s.key):(t,s)=>wt.comparator(t.key,s.key),this.keyedMap=$m(),this.sortedSet=new gr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,i=s.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Mu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.fa=new gr(wt.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):_t(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Xu{constructor(e,t,s,a,i,o,l,c,u){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,s,a,i){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new Xu(e,t,Mu.emptySet(t),o,s,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class B${constructor(){this.queries=KE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const a=It(t),i=a.queries;a.queries=KE(),i.forEach((o,l)=>{for(const c of l.wa)c.onError(s)})})(this,new tt(De.ABORTED,"Firestore shutting down"))}}function KE(){return new wd(r=>oD(r),jb)}async function t2(r,e){const t=It(r);let s=3;const a=e.query;let i=t.queries.get(a);i?!i.Sa()&&e.ba()&&(s=2):(i=new V$,s=e.ba()?0:1);try{switch(s){case 0:i.ya=await t.onListen(a,!0);break;case 1:i.ya=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(o){const l=e2(o,`Initialization of query '${wu(e.query)}' failed`);return void e.onError(l)}t.queries.set(a,i),i.wa.push(e),e.va(t.onlineState),i.ya&&e.Ca(i.ya)&&r2(t)}async function s2(r,e){const t=It(r),s=e.query;let a=3;const i=t.queries.get(s);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?a=e.ba()?0:1:!i.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function H$(r,e){const t=It(r);let s=!1;for(const a of e){const i=a.query,o=t.queries.get(i);if(o){for(const l of o.wa)l.Ca(a)&&(s=!0);o.ya=a}}s&&r2(t)}function $$(r,e,t){const s=It(r),a=s.queries.get(e);if(a)for(const i of a.wa)i.onError(t);s.queries.delete(e)}function r2(r){r.Da.forEach(e=>{e.next()})}var K1,QE;(QE=K1||(K1={})).Fa="default",QE.Cache="cache";class a2{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Xu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==K1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.key=e}}class $D{constructor(e){this.key=e}}class W${constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ns(),this.mutatedKeys=ns(),this.Xa=lD(e),this.eu=new Mu(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new GE,a=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,o=a,l=!1;const c=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,u=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((h,f)=>{const g=a.get(h),x=kb(this.query,f)?f:null,y=!!g&&this.mutatedKeys.has(g.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let v=!1;g&&x?g.data.isEqual(x.data)?y!==b&&(s.track({type:3,doc:x}),v=!0):this.iu(g,x)||(s.track({type:2,doc:x}),v=!0,(c&&this.Xa(x,c)>0||u&&this.Xa(x,u)<0)&&(l=!0)):!g&&x?(s.track({type:0,doc:x}),v=!0):g&&!x&&(s.track({type:1,doc:g}),v=!0,(c||u)&&(l=!0)),v&&(x?(o=o.add(x),i=b?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),s.track({type:1,doc:h})}return{eu:o,ru:s,Ds:l,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,f)=>function(x,y){const b=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{At:v})}};return b(x)-b(y)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(s),a=a!=null&&a;const l=t&&!a?this.ou():[],c=this.Za.size===0&&this.current&&!a?1:0,u=c!==this.Ya;return this.Ya=c,o.length!==0||u?{snapshot:new Xu(this.query,e.eu,i,o,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new GE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ns(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new $D(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new HD(s))}),t}uu(e){this.Ha=e.qs,this.Za=ns();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Xu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const n2="SyncEngine";class Y${constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class q${constructor(e){this.key=e,this.lu=!1}}class X${constructor(e,t,s,a,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new wd(l=>oD(l),jb),this.Tu=new Map,this.Iu=new Set,this.du=new gr(wt.comparator),this.Eu=new Map,this.Au=new $j,this.Ru={},this.Vu=new Map,this.mu=qu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function G$(r,e,t=!0){const s=KD(r);let a;const i=s.Pu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.cu()):a=await WD(s,e,t,!0),a}async function K$(r,e){const t=KD(r);await WD(t,e,!0,!1)}async function WD(r,e,t,s){const a=await p$(r.localStore,Mi(e)),i=a.targetId,o=r.sharedClientState.addLocalQueryTarget(i,t);let l;return s&&(l=await Q$(r,e,i,o==="current",a.resumeToken)),r.isPrimaryClient&&t&&LD(r.remoteStore,a),l}async function Q$(r,e,t,s,a){r.gu=(f,g,x)=>async function(b,v,N,k){let C=v.view.nu(N);C.Ds&&(C=await HE(b.localStore,v.query,!1).then(({documents:P})=>v.view.nu(P,C)));const R=k&&k.targetChanges.get(v.targetId),_=k&&k.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(C,b.isPrimaryClient,R,_);return JE(b,v.targetId,I._u),I.snapshot}(r,f,g,x);const i=await HE(r.localStore,e,!0),o=new W$(e,i.qs),l=o.nu(i.documents),c=fg.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),u=o.applyChanges(l,r.isPrimaryClient,c);JE(r,t,u._u);const h=new Y$(e,t,o);return r.Pu.set(e,h),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),u.snapshot}async function Z$(r,e,t){const s=It(r),a=s.Pu.get(e),i=s.Tu.get(a.targetId);if(i.length>1)return s.Tu.set(a.targetId,i.filter(o=>!jb(o,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await X1(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Gj(s.remoteStore,a.targetId),Q1(s,a.targetId)}).catch(ch)):(Q1(s,a.targetId),await X1(s.localStore,a.targetId,!0))}async function J$(r,e){const t=It(r),s=t.Pu.get(e),a=t.Tu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Gj(t.remoteStore,s.targetId))}async function eW(r,e,t){const s=oW(r);try{const a=await function(o,l){const c=It(o),u=or.now(),h=l.reduce((x,y)=>x.add(y.key),ns());let f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let y=Mo(),b=ns();return c.Os.getEntries(x,h).next(v=>{y=v,y.forEach((N,k)=>{k.isValidDocument()||(b=b.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,y)).next(v=>{f=v;const N=[];for(const k of l){const C=bH(k,f.get(k.key).overlayedDocument);C!=null&&N.push(new Kl(k.key,C,J3(C.value.mapValue),fa.exists(!0)))}return c.mutationQueue.addMutationBatch(x,u,N,l)}).next(v=>{g=v;const N=v.applyToLocalDocumentSet(f,b);return c.documentOverlayCache.saveOverlays(x,v.batchId,N)})}).then(()=>({batchId:g.batchId,changes:dD(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(o,l,c){let u=o.Ru[o.currentUser.toKey()];u||(u=new gr(Kt)),u=u.insert(l,c),o.Ru[o.currentUser.toKey()]=u}(s,a.batchId,t),await pg(s,a.changes),await Pb(s.remoteStore)}catch(a){const i=e2(a,"Failed to persist write");t.reject(i)}}async function YD(r,e){const t=It(r);try{const s=await m$(t.localStore,e);e.targetChanges.forEach((a,i)=>{const o=t.Eu.get(i);o&&(hs(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?o.lu=!0:a.modifiedDocuments.size>0?hs(o.lu,14607):a.removedDocuments.size>0&&(hs(o.lu,42227),o.lu=!1))}),await pg(t,s,e)}catch(s){await ch(s)}}function ZE(r,e,t){const s=It(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Pu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&a.push(l.snapshot)}),function(o,l){const c=It(o);c.onlineState=l;let u=!1;c.queries.forEach((h,f)=>{for(const g of f.wa)g.va(l)&&(u=!0)}),u&&r2(c)}(s.eventManager,e),a.length&&s.hu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function tW(r,e,t){const s=It(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Eu.get(e),i=a&&a.key;if(i){let o=new gr(wt.comparator);o=o.insert(i,sa.newNoDocument(i,Tt.min()));const l=ns().add(i),c=new Cb(Tt.min(),new Map,new gr(Kt),o,l);await YD(s,c),s.du=s.du.remove(i),s.Eu.delete(e),i2(s)}else await X1(s.localStore,e,!1).then(()=>Q1(s,e,t)).catch(ch)}async function sW(r,e){const t=It(r),s=e.batch.batchId;try{const a=await h$(t.localStore,e);XD(t,s,null),qD(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await pg(t,a)}catch(a){await ch(a)}}async function rW(r,e,t){const s=It(r);try{const a=await function(o,l){const c=It(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(hs(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(s.localStore,e);XD(s,e,t),qD(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await pg(s,a)}catch(a){await ch(a)}}function qD(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function XD(r,e,t){const s=It(r);let a=s.Ru[s.currentUser.toKey()];if(a){const i=a.get(e);i&&(t?i.reject(t):i.resolve(),a=a.remove(e)),s.Ru[s.currentUser.toKey()]=a}}function Q1(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||GD(r,s)})}function GD(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Gj(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),i2(r))}function JE(r,e,t){for(const s of t)s instanceof HD?(r.Au.addReference(s.key,e),aW(r,s)):s instanceof $D?(dt(n2,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||GD(r,s.key)):_t(19791,{yu:s})}function aW(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(dt(n2,"New document in limbo: "+t),r.Iu.add(s),i2(r))}function i2(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new wt(Ys.fromString(e)),s=r.mu.next();r.Eu.set(s,new q$(t)),r.du=r.du.insert(t,s),LD(r.remoteStore,new xl(Mi(Nb(t.path)),s,"TargetPurposeLimboResolution",vb.ue))}}async function pg(r,e,t){const s=It(r),a=[],i=[],o=[];s.Pu.isEmpty()||(s.Pu.forEach((l,c)=>{o.push(s.gu(c,e,t).then(u=>{var h;if((u||t)&&s.isPrimaryClient){const f=u?!u.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){a.push(u);const f=Yj.Es(c.targetId,u);i.push(f)}}))}),await Promise.all(o),s.hu.J_(a),await async function(c,u){const h=It(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Be.forEach(u,g=>Be.forEach(g.Is,x=>h.persistence.referenceDelegate.addReference(f,g.targetId,x)).next(()=>Be.forEach(g.ds,x=>h.persistence.referenceDelegate.removeReference(f,g.targetId,x)))))}catch(f){if(!dh(f))throw f;dt(qj,"Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const x=h.Fs.get(g),y=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(y);h.Fs=h.Fs.insert(g,b)}}}(s.localStore,i))}async function nW(r,e){const t=It(r);if(!t.currentUser.isEqual(e)){dt(n2,"User change. New user:",e.toKey());const s=await DD(t.localStore,e);t.currentUser=e,function(i,o){i.Vu.forEach(l=>{l.forEach(c=>{c.reject(new tt(De.CANCELLED,o))})}),i.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pg(t,s.Bs)}}function iW(r,e){const t=It(r),s=t.Eu.get(e);if(s&&s.lu)return ns().add(s.key);{let a=ns();const i=t.Tu.get(e);if(!i)return a;for(const o of i){const l=t.Pu.get(o);a=a.unionWith(l.view.tu)}return a}}function KD(r){const e=It(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=YD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tW.bind(null,e),e.hu.J_=H$.bind(null,e.eventManager),e.hu.pu=$$.bind(null,e.eventManager),e}function oW(r){const e=It(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rW.bind(null,e),e}class O0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eb(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return u$(this.persistence,new l$,e.initialUser,this.serializer)}Du(e){return new ID(Wj.Vi,this.serializer)}bu(e){return new b$}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}O0.provider={build:()=>new O0};class lW extends O0{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){hs(this.persistence.referenceDelegate instanceof D0,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new qH(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Ka.withCacheSize(this.cacheSizeBytes):Ka.DEFAULT;return new ID(s=>D0.Vi(s,t),this.serializer)}}class Z1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ZE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nW.bind(null,this.syncEngine),await z$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new B$}()}createDatastore(e){const t=Eb(e.databaseInfo.databaseId),s=function(i){return new j$(i)}(e.databaseInfo);return function(i,o,l,c){return new A$(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,i,o,l){return new E$(s,a,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,t=>ZE(this.syncEngine,t,0),function(){return YE.C()?new YE:new y$}())}createSyncEngine(e,t){return function(a,i,o,l,c,u,h){const f=new X$(a,i,o,l,c,u);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const i=It(a);dt(cd,"RemoteStore shutting down."),i.Ia.add(5),await gg(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Z1.provider={build:()=>new Z1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Do("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new tt(De.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(a,i){const o=It(a),l={documents:i.map(f=>I0(o.serializer,f))},c=await o.Jo("BatchGetDocuments",o.serializer.databaseId,Ys.emptyPath(),l,i.length),u=new Map;c.forEach(f=>{const g=TH(o.serializer,f);u.set(g.key.toString(),g)});const h=[];return i.forEach(f=>{const g=u.get(f.toString());hs(!!g,55234,{key:f}),h.push(g)}),h}(this.datastore,e);return t.forEach(s=>this.recordVersion(s)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ab(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,s)=>{const a=wt.fromPath(s);this.mutations.push(new yD(a,this.precondition(a)))}),await async function(s,a){const i=It(s),o={writes:a.map(l=>CD(i.serializer,l))};await i.Wo("Commit",i.serializer.databaseId,Ys.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _t(50498,{Wu:e.constructor.name});t=Tt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new tt(De.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Tt.min())?fa.exists(!1):fa.updateTime(t):fa.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tt.min()))throw new tt(De.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fa.updateTime(t)}return fa.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e,t,s,a,i){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=i,this.Gu=s.maxAttempts,this.F_=new Xj(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new cW(this.datastore),t=this.Ju(e);t&&t.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(a=>{this.Hu(a)}))}).catch(s=>{this.Hu(s)})})}Ju(e){try{const t=this.updateFunction(e);return!hg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!vD(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="FirestoreClient";class uW{constructor(e,t,s,a,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=wa.UNAUTHENTICATED,this.clientId=Ij.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async o=>{dt(Ol,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(dt(Ol,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=e2(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Nw(r,e){r.asyncQueue.verifyOperationInProgress(),dt(Ol,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async a=>{s.isEqual(a)||(await DD(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>{Tl("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{dt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{Tl("Terminating Firestore due to IndexedDb database deletion failed",a)})}),r._offlineComponents=e}async function eT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await hW(r);dt(Ol,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>XE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,a)=>XE(e.remoteStore,a)),r._onlineComponents=e}async function hW(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){dt(Ol,"Using user provided OfflineComponentProvider");try{await Nw(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===De.FAILED_PRECONDITION||a.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Tl("Error using user provided cache. Falling back to memory cache: "+t),await Nw(r,new O0)}}else dt(Ol,"Using default OfflineComponentProvider"),await Nw(r,new lW(void 0));return r._offlineComponents}async function l2(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(dt(Ol,"Using user provided OnlineComponentProvider"),await eT(r,r._uninitializedComponentsProvider._online)):(dt(Ol,"Using default OnlineComponentProvider"),await eT(r,new Z1))),r._onlineComponents}function mW(r){return l2(r).then(e=>e.syncEngine)}function fW(r){return l2(r).then(e=>e.datastore)}async function L0(r){const e=await l2(r),t=e.eventManager;return t.onListen=G$.bind(null,e.syncEngine),t.onUnlisten=Z$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=K$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=J$.bind(null,e.syncEngine),t}function gW(r,e,t={}){const s=new Di;return r.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const h=new o2({next:g=>{h.Ou(),o.enqueueAndForget(()=>s2(i,f));const x=g.docs.has(l);!x&&g.fromCache?u.reject(new tt(De.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&c&&c.source==="server"?u.reject(new tt(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new a2(Nb(l.path),h,{includeMetadataChanges:!0,ka:!0});return t2(i,f)}(await L0(r),r.asyncQueue,e,t,s)),s.promise}function pW(r,e,t={}){const s=new Di;return r.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const h=new o2({next:g=>{h.Ou(),o.enqueueAndForget(()=>s2(i,f)),g.fromCache&&c.source==="server"?u.reject(new tt(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new a2(l,h,{includeMetadataChanges:!0,ka:!0});return t2(i,f)}(await L0(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="firestore.googleapis.com",sT=!0;class rT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new tt(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZD,this.ssl=sT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:sT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WH)throw new tt(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QD((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new tt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new tt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new tt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rb{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new tt(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new N9;switch(s.type){case"firstParty":return new _9(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new tt(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=tT.get(t);s&&(dt("ComponentProvider","Removing Datastore"),tT.delete(t),s.terminate())}(this),Promise.resolve()}}function xW(r,e,t,s={}){var a;r=Fa(r,Rb);const i=Yl(e),o=r._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:r._getEmulatorOptions()}),c=`${e}:${t}`;i&&(pj(`https://${c}`),xj("Firestore",!0)),o.host!==ZD&&o.host!==c&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:s});if(!Po(u,l)&&(r._setSettings(u),s.mockUserToken)){let h,f;if(typeof s.mockUserToken=="string")h=s.mockUserToken,f=wa.MOCK_USER;else{h=z4(s.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new tt(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new wa(g)}r._authCredentials=new j9(new z3(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class mr{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}toJSON(){return{type:mr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(ug(t,mr._jsonSchema))return new mr(e,s||null,new wt(Ys.fromString(t.referencePath)))}}mr._jsonSchemaVersion="firestore/documentReference/1.0",mr._jsonSchema={type:Ur("string",mr._jsonSchemaVersion),referencePath:Ur("string")};class Sl extends Fo{constructor(e,t,s){super(e,t,Nb(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new wt(e))}withConverter(e){return new Sl(this.firestore,e,this._path)}}function Ie(r,e,...t){if(r=ys(r),B3("collection","path",e),r instanceof Rb){const s=Ys.fromString(e,...t);return pE(s),new Sl(r,null,s)}{if(!(r instanceof mr||r instanceof Sl))throw new tt(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ys.fromString(e,...t));return pE(s),new Sl(r.firestore,null,s)}}function Ce(r,e,...t){if(r=ys(r),arguments.length===1&&(e=Ij.newId()),B3("doc","path",e),r instanceof Rb){const s=Ys.fromString(e,...t);return gE(s),new mr(r,null,new wt(s))}{if(!(r instanceof mr||r instanceof Sl))throw new tt(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ys.fromString(e,...t));return gE(s),new mr(r.firestore,r instanceof Sl?r.converter:null,new wt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="AsyncQueue";class nT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Xj(this,"async_queue_retry"),this.oc=()=>{const s=ww();s&&dt(aT,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=ww();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=ww();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Di;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!dh(e))throw e;dt(aT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Do("INTERNAL UNHANDLED ERROR: ",iT(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const a=Jj.createAndSchedule(this,e,t,s,i=>this.lc(i));return this.ec.push(a),a}ac(){this.tc&&_t(47125,{hc:iT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function iT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const i of s)if(i in a&&typeof a[i]=="function")return!0;return!1}(r,["next","error","complete"])}class Yi extends Rb{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new nT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nT(e),this._firestoreClient=void 0,await e}}}function bW(r,e){const t=typeof r=="object"?r:vj(),s=typeof r=="string"?r:A0,a=fb(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const i=L4("firestore");i&&xW(a,...i)}return a}function xg(r){if(r._terminated)throw new tt(De.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yW(r),r._firestoreClient}function yW(r){var e,t,s;const a=r._freezeSettings(),i=function(l,c,u,h){return new H9(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,QD(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new uW(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gn(pa.fromBase64String(e))}catch(t){throw new tt(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gn(pa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ug(e,gn._jsonSchema))return gn.fromBase64String(e.bytes)}}gn._jsonSchemaVersion="firestore/bytes/1.0",gn._jsonSchema={type:Ur("string",gn._jsonSchemaVersion),bytes:Ur("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new tt(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ma(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tt(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tt(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(ug(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ur("string",Oi._jsonSchemaVersion),latitude:Ur("number"),longitude:Ur("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==a[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ug(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Li(e.vectorValues);throw new tt(De.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Ur("string",Li._jsonSchemaVersion),vectorValues:Ur("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=/^__.*__$/;class wW{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Kl(e,this.data,this.fieldMask,t,this.fieldTransforms):new mg(e,this.data,t,this.fieldTransforms)}}class JD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Kl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function e6(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ec:r})}}class Ib{constructor(e,t,s,a,i,o){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ib(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:s,mc:!1});return a.fc(e),a}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:s,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return F0(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(e6(this.Ec)&&vW.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class NW{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Eb(e)}Dc(e,t,s,a=!1){return new Ib({Ec:e,methodName:t,bc:s,path:ma.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yg(r){const e=r._freezeSettings(),t=Eb(r._databaseId);return new NW(r._databaseId,!!e.ignoreUndefinedProperties,t)}function c2(r,e,t,s,a,i={}){const o=r.Dc(i.merge||i.mergeFields?2:0,e,t,a);m2("Data must be an object, but it was:",o,s);const l=a6(s,o);let c,u;if(i.merge)c=new pn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const g=J1(e,f,t);if(!o.contains(g))throw new tt(De.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);i6(h,g)||h.push(g)}c=new pn(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new wW(new Da(l),c,u)}class Db extends mh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Db}}function t6(r,e,t){return new Ib({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class d2 extends mh{_toFieldTransform(e){return new zj(e.path,new Rf)}isEqual(e){return e instanceof d2}}class u2 extends mh{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=t6(this,e,!0),s=this.vc.map(i=>jd(i,t)),a=new Wu(s);return new zj(e.path,a)}isEqual(e){return e instanceof u2&&Po(this.vc,e.vc)}}class h2 extends mh{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=t6(this,e,!0),s=this.vc.map(i=>jd(i,t)),a=new Yu(s);return new zj(e.path,a)}isEqual(e){return e instanceof h2&&Po(this.vc,e.vc)}}function s6(r,e,t,s){const a=r.Dc(1,e,t);m2("Data must be an object, but it was:",a,s);const i=[],o=Da.empty();Gl(s,(c,u)=>{const h=f2(e,c,t);u=ys(u);const f=a.gc(h);if(u instanceof Db)i.push(h);else{const g=jd(u,f);g!=null&&(i.push(h),o.set(h,g))}});const l=new pn(i);return new JD(o,l,a.fieldTransforms)}function r6(r,e,t,s,a,i){const o=r.Dc(1,e,t),l=[J1(e,s,t)],c=[a];if(i.length%2!=0)throw new tt(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)l.push(J1(e,i[g])),c.push(i[g+1]);const u=[],h=Da.empty();for(let g=l.length-1;g>=0;--g)if(!i6(u,l[g])){const x=l[g];let y=c[g];y=ys(y);const b=o.gc(x);if(y instanceof Db)u.push(x);else{const v=jd(y,b);v!=null&&(u.push(x),h.set(x,v))}}const f=new pn(u);return new JD(h,f,o.fieldTransforms)}function jW(r,e,t,s=!1){return jd(t,r.Dc(s?4:3,e))}function jd(r,e){if(n6(r=ys(r)))return m2("Unsupported field value:",e,r),a6(r,e);if(r instanceof mh)return function(s,a){if(!e6(a.Ec))throw a.wc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,a){const i=[];let o=0;for(const l of s){let c=jd(l,a.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(r,e)}return function(s,a){if((s=ys(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hH(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=or.fromDate(s);return{timestampValue:R0(a.serializer,i)}}if(s instanceof or){const i=new or(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:R0(a.serializer,i)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gn)return{bytesValue:kD(a.serializer,s._byteString)};if(s instanceof mr){const i=a.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw a.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Hj(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Li)return function(o,l){return{mapValue:{fields:{[Q3]:{stringValue:Z3},[C0]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.wc("VectorValues must only contain numeric values.");return Uj(l.serializer,u)})}}}}}}(s,a);throw a.wc(`Unsupported field value: ${yb(s)}`)}(r,e)}function a6(r,e){const t={};return W3(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gl(r,(s,a)=>{const i=jd(a,e.Vc(s));i!=null&&(t[s]=i)}),{mapValue:{fields:t}}}function n6(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof or||r instanceof Oi||r instanceof gn||r instanceof mr||r instanceof mh||r instanceof Li)}function m2(r,e,t){if(!n6(t)||!H3(t)){const s=yb(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function J1(r,e,t){if((e=ys(e))instanceof bg)return e._internalPath;if(typeof e=="string")return f2(r,e);throw F0("Field path arguments must be of type string or ",r,!1,void 0,t)}const kW=new RegExp("[~\\*/\\[\\]]");function f2(r,e,t){if(e.search(kW)>=0)throw F0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new bg(...e.split("."))._internalPath}catch{throw F0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function F0(r,e,t,s,a){const i=s&&!s.isEmpty(),o=a!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${a}`),c+=")"),new tt(De.INVALID_ARGUMENT,l+r+c)}function i6(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t,s,a,i){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class SW extends U0{data(){return super.data()}}function Mb(r,e){return typeof e=="string"?f2(r,e):e instanceof bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new tt(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g2{}class p2 extends g2{}function mt(r,e,...t){let s=[];e instanceof g2&&s.push(e),s=s.concat(t),function(i){const o=i.filter(c=>c instanceof x2).length,l=i.filter(c=>c instanceof Ob).length;if(o>1||o>0&&l>0)throw new tt(De.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class Ob extends p2{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Ob(e,t,s)}_apply(e){const t=this._parse(e);return c6(e._query,t),new Fo(e.firestore,e.converter,$1(e._query,t))}_parse(e){const t=yg(e.firestore);return function(i,o,l,c,u,h,f){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new tt(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){cT(f,h);const y=[];for(const b of f)y.push(lT(c,i,b));g={arrayValue:{values:y}}}else g=lT(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||cT(f,h),g=jW(l,o,f,h==="in"||h==="not-in");return Fr.create(u,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nt(r,e,t){const s=e,a=Mb("where",r);return Ob._create(a,s,t)}class x2 extends g2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new x2(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,i){let o=a;const l=i.getFlattenedFilters();for(const c of l)c6(o,c),o=$1(o,c)}(e._query,t),new Fo(e.firestore,e.converter,$1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class b2 extends p2{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new b2(e,t)}_apply(e){const t=function(a,i,o){if(a.startAt!==null)throw new tt(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new tt(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pf(i,o)}(e._query,this._field,this._direction);return new Fo(e.firestore,e.converter,function(a,i){const o=a.explicitOrderBy.concat([i]);return new uh(a.path,a.collectionGroup,o,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function vg(r,e="asc"){const t=e,s=Mb("orderBy",r);return b2._create(s,t)}class y2 extends p2{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new y2(e,t,s)}_apply(e){return new Fo(e.firestore,e.converter,T0(e._query,this._limit,this._limitType))}}function l6(r){return R9("limit",r),y2._create("limit",r,"F")}function lT(r,e,t){if(typeof(t=ys(t))=="string"){if(t==="")throw new tt(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iD(e)&&t.indexOf("/")!==-1)throw new tt(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ys.fromString(t));if(!wt.isDocumentKey(s))throw new tt(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return kE(r,new wt(s))}if(t instanceof mr)return kE(r,t._key);throw new tt(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yb(t)}.`)}function cT(r,e){if(!Array.isArray(r)||r.length===0)throw new tt(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c6(r,e){const t=function(a,i){for(const o of a)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new tt(De.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new tt(De.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class d6{convertValue(e,t="none"){switch(Dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Gl(e,(a,i)=>{s[a]=this.convertValue(i,t)}),s}convertVectorValue(e){var t,s,a;const i=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[C0].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(o=>Er(o.doubleValue));return new Li(i)}convertGeoPoint(e){return new Oi(Er(e.latitude),Er(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=wb(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Cf(e));default:return null}}convertTimestamp(e){const t=Rl(e);return new or(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ys.fromString(e);hs(PD(s),9688,{name:e});const a=new Ef(s.get(1),s.get(3)),i=new wt(s.popFirst(5));return a.isEqual(t)||Do(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class _W extends d6{constructor(e){super(),this.firestore=e}convertBytes(e){return new gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,t)}}class Su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _l extends U0{constructor(e,t,s,a,i,o){super(e,t,s,a,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Mb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(De.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=_l._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}_l._jsonSchemaVersion="firestore/documentSnapshot/1.0",_l._jsonSchema={type:Ur("string",_l._jsonSchemaVersion),bundleSource:Ur("string","DocumentSnapshot"),bundleName:Ur("string"),bundle:Ur("string")};class Zx extends _l{data(e={}){return super.data(e)}}class Qc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Su(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Zx(this._firestore,this._userDataWriter,s.key,s,new Su(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tt(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let o=0;return a._snapshot.docChanges.map(l=>{const c=new Zx(a._firestore,a._userDataWriter,l.doc.key,l.doc,new Su(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Zx(a._firestore,a._userDataWriter,l.doc.key,l.doc,new Su(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:AW(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(De.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ij.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach(i=>{i._document!==null&&(t.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AW(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(r){r=Fa(r,mr);const e=Fa(r.firestore,Yi);return gW(xg(e),r._key).then(t=>u6(e,r,t))}Qc._jsonSchemaVersion="firestore/querySnapshot/1.0",Qc._jsonSchema={type:Ur("string",Qc._jsonSchemaVersion),bundleSource:Ur("string","QuerySnapshot"),bundleName:Ur("string"),bundle:Ur("string")};class Lb extends d6{constructor(e){super(),this.firestore=e}convertBytes(e){return new gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,t)}}function Ke(r){r=Fa(r,Fo);const e=Fa(r.firestore,Yi),t=xg(e),s=new Lb(e);return o6(r._query),pW(t,r._query).then(a=>new Qc(e,s,r,a))}function Xt(r,e,t){r=Fa(r,mr);const s=Fa(r.firestore,Yi),a=v2(r.converter,e,t);return Fb(s,[c2(yg(s),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,fa.none())])}function aa(r,e,t,...s){r=Fa(r,mr);const a=Fa(r.firestore,Yi),i=yg(a);let o;return o=typeof(e=ys(e))=="string"||e instanceof bg?r6(i,"updateDoc",r._key,e,t,s):s6(i,"updateDoc",r._key,e),Fb(a,[o.toMutation(r._key,fa.exists(!0))])}function ua(r){return Fb(Fa(r.firestore,Yi),[new Ab(r._key,fa.none())])}function en(r,e){const t=Fa(r.firestore,Yi),s=Ce(r),a=v2(r.converter,e);return Fb(t,[c2(yg(r.firestore),"addDoc",s._key,a,r.converter!==null,{}).toMutation(s._key,fa.exists(!1))]).then(()=>s)}function bs(r,...e){var t,s,a;r=ys(r);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||oT(e[o])||(i=e[o++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(oT(e[o])){const f=e[o];e[o]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[o+1]=(s=f.error)===null||s===void 0?void 0:s.bind(f),e[o+2]=(a=f.complete)===null||a===void 0?void 0:a.bind(f)}let c,u,h;if(r instanceof mr)u=Fa(r.firestore,Yi),h=Nb(r._key.path),c={next:f=>{e[o]&&e[o](u6(u,r,f))},error:e[o+1],complete:e[o+2]};else{const f=Fa(r,Fo);u=Fa(f.firestore,Yi),h=f._query;const g=new Lb(u);c={next:x=>{e[o]&&e[o](new Qc(u,g,f,x))},error:e[o+1],complete:e[o+2]},o6(r._query)}return function(g,x,y,b){const v=new o2(b),N=new a2(x,v,y);return g.asyncQueue.enqueueAndForget(async()=>t2(await L0(g),N)),()=>{v.Ou(),g.asyncQueue.enqueueAndForget(async()=>s2(await L0(g),N))}}(xg(u),h,l,c)}function Fb(r,e){return function(s,a){const i=new Di;return s.asyncQueue.enqueueAndForget(async()=>eW(await mW(s),a,i)),i.promise}(xg(r),e)}function u6(r,e,t){const s=t.docs.get(e._key),a=new Lb(r);return new _l(r,a,e._key,s,new Su(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW={maxAttempts:5};function Ym(r,e){if((r=ys(r)).firestore!==e)throw new tt(De.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=yg(e)}get(e){const t=Ym(e,this._firestore),s=new _W(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||a.length!==1)return _t(24041);const i=a[0];if(i.isFoundDocument())return new U0(this._firestore,s,i.key,i,t.converter);if(i.isNoDocument())return new U0(this._firestore,s,t._key,null,t.converter);throw _t(18433,{doc:i})})}set(e,t,s){const a=Ym(e,this._firestore),i=v2(a.converter,t,s),o=c2(this._dataReader,"Transaction.set",a._key,i,a.converter!==null,s);return this._transaction.set(a._key,o),this}update(e,t,s,...a){const i=Ym(e,this._firestore);let o;return o=typeof(t=ys(t))=="string"||t instanceof bg?r6(this._dataReader,"Transaction.update",i._key,t,s,a):s6(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=Ym(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW extends EW{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ym(e,this._firestore),s=new Lb(this._firestore);return super.get(e).then(a=>new _l(this._firestore,s,t._key,a._document,new Su(!1,!1),t.converter))}}function PW(r,e,t){r=Fa(r,Yi);const s=Object.assign(Object.assign({},CW),t);return function(i){if(i.maxAttempts<1)throw new tt(De.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(i,o,l){const c=new Di;return i.asyncQueue.enqueueAndForget(async()=>{const u=await fW(i);new dW(i.asyncQueue,u,l,o,c).zu()}),c.promise}(xg(r),a=>e(new TW(r,a)),s)}function Ti(){return new d2("serverTimestamp")}function RW(...r){return new u2("arrayUnion",r)}function IW(...r){return new h2("arrayRemove",r)}(function(e,t=!0){(function(a){lh=a})(vd),ad(new El("firestore",(s,{instanceIdentifier:a,options:i})=>{const o=s.getProvider("app").getImmediate(),l=new Yi(new k9(s.getProvider("auth-internal")),new A9(o,s.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new tt(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ef(u.options.projectId,h)}(o,a),o);return i=Object.assign({useFetchStreams:t},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Pi(dE,uE,e),Pi(dE,uE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="firebasestorage.googleapis.com",m6="storageBucket",DW=120*1e3,MW=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Gi{constructor(e,t,s=0){super(jw(e),`Firebase Storage: ${t} (${jw(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,jr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nr||(Nr={}));function jw(r){return"storage/"+r}function w2(){const r="An unknown error occurred, please check the error payload for server response.";return new jr(Nr.UNKNOWN,r)}function OW(r){return new jr(Nr.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function LW(r){return new jr(Nr.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FW(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new jr(Nr.UNAUTHENTICATED,r)}function UW(){return new jr(Nr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zW(r){return new jr(Nr.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function VW(){return new jr(Nr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BW(){return new jr(Nr.CANCELED,"User canceled the upload/download.")}function HW(r){return new jr(Nr.INVALID_URL,"Invalid URL '"+r+"'.")}function $W(r){return new jr(Nr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function WW(){return new jr(Nr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+m6+"' property when initializing the app?")}function YW(){return new jr(Nr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qW(){return new jr(Nr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function XW(r){return new jr(Nr.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function eN(r){return new jr(Nr.INVALID_ARGUMENT,r)}function f6(){return new jr(Nr.APP_DELETED,"The Firebase app was deleted.")}function GW(r){return new jr(Nr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lf(r,e){return new jr(Nr.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Am(r){throw new jr(Nr.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=xn.makeFromUrl(e,t)}catch{return new xn(e,"")}if(s.path==="")return s;throw $W(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+a+o,"i"),c={bucket:1,path:3};function u(R){R.path_=decodeURIComponent(R.path)}const h="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",x=new RegExp(`^https?://${f}/${h}/b/${a}/o${g}`,"i"),y={bucket:1,path:3},b=t===h6?"(?:storage.googleapis.com|storage.cloud.google.com)":t,v="([^?#]*)",N=new RegExp(`^https?://${b}/${a}/${v}`,"i"),C=[{regex:l,indices:c,postModify:i},{regex:x,indices:y,postModify:u},{regex:N,indices:{bucket:1,path:2},postModify:u}];for(let R=0;R<C.length;R++){const _=C[R],I=_.regex.exec(e);if(I){const P=I[_.indices.bucket];let T=I[_.indices.path];T||(T=""),s=new xn(P,T),_.postModify(s);break}}if(s==null)throw HW(e);return s}}class KW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(r,e,t){let s=1,a=null,i=null,o=!1,l=0;function c(){return l===2}let u=!1;function h(...v){u||(u=!0,e.apply(null,v))}function f(v){a=setTimeout(()=>{a=null,r(x,c())},v)}function g(){i&&clearTimeout(i)}function x(v,...N){if(u){g();return}if(v){g(),h.call(null,v,...N);return}if(c()||o){g(),h.call(null,v,...N);return}s<64&&(s*=2);let C;l===1?(l=2,C=0):C=(s+Math.random())*1e3,f(C)}let y=!1;function b(v){y||(y=!0,g(),!u&&(a!==null?(v||(l=2),clearTimeout(a),f(0)):v||(l=1)))}return f(0),i=setTimeout(()=>{o=!0,b(!0)},t),b}function ZW(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(r){return r!==void 0}function eY(r){return typeof r=="object"&&!Array.isArray(r)}function N2(r){return typeof r=="string"||r instanceof String}function dT(r){return j2()&&r instanceof Blob}function j2(){return typeof Blob<"u"}function uT(r,e,t,s){if(s<e)throw eN(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw eN(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function g6(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const a=e(s)+"="+e(r[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var Zc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Zc||(Zc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(r,e){const t=r>=500&&r<600,a=[408,429].indexOf(r)!==-1,i=e.indexOf(r)!==-1;return t||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(e,t,s,a,i,o,l,c,u,h,f,g=!0,x=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new cx(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Zc.NO_ERROR,c=i.getStatus();if(!l||tY(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Zc.ABORT;s(!1,new cx(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new cx(u,i))})},t=(s,a)=>{const i=this.resolve_,o=this.reject_,l=a.connection;if(a.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());JW(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=w2();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(a.canceled){const c=this.appDelete_?f6():BW();o(c)}else{const c=VW();o(c)}};this.canceled_?t(!1,new cx(!1,null,!0)):this.backoffId_=QW(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cx{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function rY(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function aY(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nY(r,e){e&&(r["X-Firebase-GMPID"]=e)}function iY(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function oY(r,e,t,s,a,i,o=!0,l=!1){const c=g6(r.urlParams),u=r.url+c,h=Object.assign({},r.headers);return nY(h,e),rY(h,t),aY(h,i),iY(h,s),new sY(u,r.method,h,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lY(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function cY(...r){const e=lY();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(j2())return new Blob(r);throw new jr(Nr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dY(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(r){if(typeof atob>"u")throw XW("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kw{constructor(e,t){this.data=e,this.contentType=t||null}}function p6(r,e){switch(r){case Qn.RAW:return new kw(x6(e));case Qn.BASE64:case Qn.BASE64URL:return new kw(b6(r,e));case Qn.DATA_URL:return new kw(mY(e),fY(e))}throw w2()}function x6(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const i=s,o=r.charCodeAt(++t);s=65536|(i&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function hY(r){let e;try{e=decodeURIComponent(r)}catch{throw lf(Qn.DATA_URL,"Malformed data URL.")}return x6(e)}function b6(r,e){switch(r){case Qn.BASE64:{const a=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(a||i)throw lf(r,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Qn.BASE64URL:{const a=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(a||i)throw lf(r,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=uY(e)}catch(a){throw a.message.includes("polyfill")?a:lf(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class y6{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw lf(Qn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=gY(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function mY(r){const e=new y6(r);return e.base64?b6(Qn.BASE64,e.rest):hY(e.rest)}function fY(r){return new y6(r).contentType}function gY(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t){let s=0,a="";dT(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(dT(this.data_)){const s=this.data_,a=dY(s,e,t);return a===null?null:new gl(a)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new gl(s,!0)}}static getBlob(...e){if(j2()){const t=e.map(s=>s instanceof gl?s.data_:s);return new gl(cY.apply(null,t))}else{const t=e.map(o=>N2(o)?p6(Qn.RAW,o).data:o.data_);let s=0;t.forEach(o=>{s+=o.byteLength});const a=new Uint8Array(s);let i=0;return t.forEach(o=>{for(let l=0;l<o.length;l++)a[i++]=o[l]}),new gl(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(r){let e;try{e=JSON.parse(r)}catch{return null}return eY(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function xY(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function w6(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bY(r,e){return e}class Ta{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||bY}}let dx=null;function yY(r){return!N2(r)||r.length<2?r:w6(r)}function N6(){if(dx)return dx;const r=[];r.push(new Ta("bucket")),r.push(new Ta("generation")),r.push(new Ta("metageneration")),r.push(new Ta("name","fullPath",!0));function e(i,o){return yY(o)}const t=new Ta("name");t.xform=e,r.push(t);function s(i,o){return o!==void 0?Number(o):o}const a=new Ta("size");return a.xform=s,r.push(a),r.push(new Ta("timeCreated")),r.push(new Ta("updated")),r.push(new Ta("md5Hash",null,!0)),r.push(new Ta("cacheControl",null,!0)),r.push(new Ta("contentDisposition",null,!0)),r.push(new Ta("contentEncoding",null,!0)),r.push(new Ta("contentLanguage",null,!0)),r.push(new Ta("contentType",null,!0)),r.push(new Ta("metadata","customMetadata",!0)),dx=r,dx}function vY(r,e){function t(){const s=r.bucket,a=r.fullPath,i=new xn(s,a);return e._makeStorageReference(i)}Object.defineProperty(r,"ref",{get:t})}function wY(r,e,t){const s={};s.type="file";const a=t.length;for(let i=0;i<a;i++){const o=t[i];s[o.local]=o.xform(s,e[o.server])}return vY(s,r),s}function j6(r,e,t){const s=v6(e);return s===null?null:wY(r,s,t)}function NY(r,e,t,s){const a=v6(e);if(a===null||!N2(a.downloadTokens))return null;const i=a.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=r.bucket,f=r.fullPath,g="/b/"+o(h)+"/o/"+o(f),x=k2(g,t,s),y=g6({alt:"media",token:u});return x+y})[0]}function jY(r,e){const t={},s=e.length;for(let a=0;a<s;a++){const i=e[a];i.writable&&(t[i.server]=r[i.local])}return JSON.stringify(t)}class k6{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(r){if(!r)throw w2()}function kY(r,e){function t(s,a){const i=j6(r,a,e);return S6(i!==null),i}return t}function SY(r,e){function t(s,a){const i=j6(r,a,e);return S6(i!==null),NY(i,a,r.host,r._protocol)}return t}function _6(r){function e(t,s){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=UW():a=FW():t.getStatus()===402?a=LW(r.bucket):t.getStatus()===403?a=zW(r.path):a=s,a.status=t.getStatus(),a.serverResponse=s.serverResponse,a}return e}function _Y(r){const e=_6(r);function t(s,a){let i=e(s,a);return s.getStatus()===404&&(i=OW(r.path)),i.serverResponse=a.serverResponse,i}return t}function AY(r,e,t){const s=e.fullServerUrl(),a=k2(s,r.host,r._protocol),i="GET",o=r.maxOperationRetryTime,l=new k6(a,i,SY(r,t),o);return l.errorHandler=_Y(e),l}function CY(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function EY(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=CY(null,e)),s}function TY(r,e,t,s,a){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let C="";for(let R=0;R<2;R++)C=C+Math.random().toString().slice(2);return C}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=EY(e,s,a),h=jY(u,t),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+c+"--",x=gl.getBlob(f,s,g);if(x===null)throw YW();const y={name:u.fullPath},b=k2(i,r.host,r._protocol),v="POST",N=r.maxUploadRetryTime,k=new k6(b,v,kY(r,t),N);return k.urlParams=y,k.headers=o,k.body=x.uploadData(),k.errorHandler=_6(e),k}class PY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a,i){if(this.sent_)throw Am("cannot .send() more than once");if(Yl(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Am("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Am("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Am("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Am("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class RY extends PY{initXhr(){this.xhr_.responseType="text"}}function A6(){return new RY}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t){this._service=e,t instanceof xn?this._location=t:this._location=xn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new dd(e,t)}get root(){const e=new xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return w6(this._location.path)}get storage(){return this._service}get parent(){const e=pY(this._location.path);if(e===null)return null;const t=new xn(this._location.bucket,e);return new dd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw GW(e)}}function IY(r,e,t){r._throwIfRoot("uploadBytes");const s=TY(r.storage,r._location,N6(),new gl(e,!0),t);return r.storage.makeRequestWithTokens(s,A6).then(a=>({metadata:a,ref:r}))}function DY(r,e,t=Qn.RAW,s){r._throwIfRoot("uploadString");const a=p6(t,e),i=Object.assign({},s);return i.contentType==null&&a.contentType!=null&&(i.contentType=a.contentType),IY(r,a.data,i)}function MY(r){r._throwIfRoot("getDownloadURL");const e=AY(r.storage,r._location,N6());return r.storage.makeRequestWithTokens(e,A6).then(t=>{if(t===null)throw qW();return t})}function OY(r,e){const t=xY(r._location.path,e),s=new xn(r._location.bucket,t);return new dd(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LY(r){return/^[A-Za-z]+:\/\//.test(r)}function FY(r,e){return new dd(r,e)}function C6(r,e){if(r instanceof S2){const t=r;if(t._bucket==null)throw WW();const s=new dd(t,t._bucket);return e!=null?C6(s,e):s}else return e!==void 0?OY(r,e):r}function UY(r,e){if(e&&LY(e)){if(r instanceof S2)return FY(r,e);throw eN("To use ref(service, url), the first argument must be a Storage instance.")}else return C6(r,e)}function hT(r,e){const t=e?.[m6];return t==null?null:xn.makeFromBucketSpec(t,r)}function zY(r,e,t,s={}){r.host=`${e}:${t}`;const a=Yl(e);a&&(pj(`https://${r.host}/b`),xj("Storage",!0)),r._isUsingEmulator=!0,r._protocol=a?"https":"http";const{mockUserToken:i}=s;i&&(r._overrideAuthToken=typeof i=="string"?i:z4(i,r.app.options.projectId))}class S2{constructor(e,t,s,a,i,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=h6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DW,this._maxUploadRetryTime=MW,this._requests=new Set,a!=null?this._bucket=xn.makeFromBucketSpec(a,this._host):this._bucket=hT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,e):this._bucket=hT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Ia(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dd(this,e)}_makeRequest(e,t,s,a,i=!0){if(this._deleted)return new KW(f6());{const o=oY(e,this._appId,s,a,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const mT="@firebase/storage",fT="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="storage";function gT(r,e,t,s){return r=ys(r),DY(r,e,t,s)}function pT(r){return r=ys(r),MY(r)}function xT(r,e){return r=ys(r),UY(r,e)}function VY(r=vj(),e){r=ys(r);const s=fb(r,E6).getImmediate({identifier:e}),a=L4("storage");return a&&BY(s,...a),s}function BY(r,e,t,s={}){zY(r,e,t,s)}function HY(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new S2(t,s,a,e,vd)}function $Y(){ad(new El(E6,HY,"PUBLIC").setMultipleInstances(!0)),Pi(mT,fT,""),Pi(mT,fT,"esm2017")}$Y();let ke,re,tN;try{const r=H4({apiKey:"AIzaSyCRWR2Z2xlmcGBSVHEbbkIm9nL_qpTGSno",authDomain:"foremade-backend.firebaseapp.com",projectId:"foremade-backend",storageBucket:"foremade-backend.firebasestorage.app",messagingSenderId:"957543574407",appId:"1:957543574407:web:315572254cc0ba6b80c122"});ke=oh(r),re=bW(r),tN=VY(r),w3(ke,k3).then(()=>console.log("User auth persistence set to local")).catch(e=>console.error("Error setting user auth persistence:",e)),console.log("Firebase initialized successfully for users")}catch(r){throw console.error("Firebase initialization error for users:",r),new Error("Failed to initialize Firebase for users. Check your configuration.")}const T6=E.createContext(),ud=()=>{const r=E.useContext(T6);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},WY=({children:r})=>{const[e,t]=E.useState(null),[s,a]=E.useState(null),[i,o]=E.useState(!0);E.useEffect(()=>{console.log("Setting up auth provider");const c=ri(ke,async u=>{if(console.log("Auth state changed in context:",u?.uid),t(u),o(!1),u)try{const h=await Je(Ce(re,"users",u.uid));h.exists()?a(h.data()):a(null)}catch(h){console.error("Error fetching user profile:",h),a(null)}else a(null)});return()=>{console.log("Cleaning up auth provider"),c()}},[]);const l={user:e,userProfile:s,loading:i,isAuthenticated:!!e};return n.jsx(T6.Provider,{value:l,children:!i&&r})};function P6(r,e){return function(){return r.apply(e,arguments)}}const{toString:YY}=Object.prototype,{getPrototypeOf:_2}=Object,{iterator:Ub,toStringTag:R6}=Symbol,zb=(r=>e=>{const t=YY.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),oi=r=>(r=r.toLowerCase(),e=>zb(e)===r),Vb=r=>e=>typeof e===r,{isArray:fh}=Array,If=Vb("undefined");function wg(r){return r!==null&&!If(r)&&r.constructor!==null&&!If(r.constructor)&&tn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const I6=oi("ArrayBuffer");function qY(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&I6(r.buffer),e}const XY=Vb("string"),tn=Vb("function"),D6=Vb("number"),Ng=r=>r!==null&&typeof r=="object",GY=r=>r===!0||r===!1,Jx=r=>{if(zb(r)!=="object")return!1;const e=_2(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(R6 in r)&&!(Ub in r)},KY=r=>{if(!Ng(r)||wg(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},QY=oi("Date"),ZY=oi("File"),JY=oi("Blob"),eq=oi("FileList"),tq=r=>Ng(r)&&tn(r.pipe),sq=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||tn(r.append)&&((e=zb(r))==="formdata"||e==="object"&&tn(r.toString)&&r.toString()==="[object FormData]"))},rq=oi("URLSearchParams"),[aq,nq,iq,oq]=["ReadableStream","Request","Response","Headers"].map(oi),lq=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jg(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,a;if(typeof r!="object"&&(r=[r]),fh(r))for(s=0,a=r.length;s<a;s++)e.call(null,r[s],s,r);else{if(wg(r))return;const i=t?Object.getOwnPropertyNames(r):Object.keys(r),o=i.length;let l;for(s=0;s<o;s++)l=i[s],e.call(null,r[l],l,r)}}function M6(r,e){if(wg(r))return null;e=e.toLowerCase();const t=Object.keys(r);let s=t.length,a;for(;s-- >0;)if(a=t[s],e===a.toLowerCase())return a;return null}const Vc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,O6=r=>!If(r)&&r!==Vc;function sN(){const{caseless:r}=O6(this)&&this||{},e={},t=(s,a)=>{const i=r&&M6(e,a)||a;Jx(e[i])&&Jx(s)?e[i]=sN(e[i],s):Jx(s)?e[i]=sN({},s):fh(s)?e[i]=s.slice():e[i]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&jg(arguments[s],t);return e}const cq=(r,e,t,{allOwnKeys:s}={})=>(jg(e,(a,i)=>{t&&tn(a)?r[i]=P6(a,t):r[i]=a},{allOwnKeys:s}),r),dq=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),uq=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},hq=(r,e,t,s)=>{let a,i,o;const l={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),i=a.length;i-- >0;)o=a[i],(!s||s(o,r,e))&&!l[o]&&(e[o]=r[o],l[o]=!0);r=t!==!1&&_2(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},mq=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},fq=r=>{if(!r)return null;if(fh(r))return r;let e=r.length;if(!D6(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},gq=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&_2(Uint8Array)),pq=(r,e)=>{const s=(r&&r[Ub]).call(r);let a;for(;(a=s.next())&&!a.done;){const i=a.value;e.call(r,i[0],i[1])}},xq=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},bq=oi("HTMLFormElement"),yq=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,a){return s.toUpperCase()+a}),bT=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),vq=oi("RegExp"),L6=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};jg(t,(a,i)=>{let o;(o=e(a,i,r))!==!1&&(s[i]=o||a)}),Object.defineProperties(r,s)},wq=r=>{L6(r,(e,t)=>{if(tn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(tn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Nq=(r,e)=>{const t={},s=a=>{a.forEach(i=>{t[i]=!0})};return fh(r)?s(r):s(String(r).split(e)),t},jq=()=>{},kq=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Sq(r){return!!(r&&tn(r.append)&&r[R6]==="FormData"&&r[Ub])}const _q=r=>{const e=new Array(10),t=(s,a)=>{if(Ng(s)){if(e.indexOf(s)>=0)return;if(wg(s))return s;if(!("toJSON"in s)){e[a]=s;const i=fh(s)?[]:{};return jg(s,(o,l)=>{const c=t(o,a+1);!If(c)&&(i[l]=c)}),e[a]=void 0,i}}return s};return t(r,0)},Aq=oi("AsyncFunction"),Cq=r=>r&&(Ng(r)||tn(r))&&tn(r.then)&&tn(r.catch),F6=((r,e)=>r?setImmediate:e?((t,s)=>(Vc.addEventListener("message",({source:a,data:i})=>{a===Vc&&i===t&&s.length&&s.shift()()},!1),a=>{s.push(a),Vc.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",tn(Vc.postMessage)),Eq=typeof queueMicrotask<"u"?queueMicrotask.bind(Vc):typeof process<"u"&&process.nextTick||F6,Tq=r=>r!=null&&tn(r[Ub]),Pe={isArray:fh,isArrayBuffer:I6,isBuffer:wg,isFormData:sq,isArrayBufferView:qY,isString:XY,isNumber:D6,isBoolean:GY,isObject:Ng,isPlainObject:Jx,isEmptyObject:KY,isReadableStream:aq,isRequest:nq,isResponse:iq,isHeaders:oq,isUndefined:If,isDate:QY,isFile:ZY,isBlob:JY,isRegExp:vq,isFunction:tn,isStream:tq,isURLSearchParams:rq,isTypedArray:gq,isFileList:eq,forEach:jg,merge:sN,extend:cq,trim:lq,stripBOM:dq,inherits:uq,toFlatObject:hq,kindOf:zb,kindOfTest:oi,endsWith:mq,toArray:fq,forEachEntry:pq,matchAll:xq,isHTMLForm:bq,hasOwnProperty:bT,hasOwnProp:bT,reduceDescriptors:L6,freezeMethods:wq,toObjectSet:Nq,toCamelCase:yq,noop:jq,toFiniteNumber:kq,findKey:M6,global:Vc,isContextDefined:O6,isSpecCompliantForm:Sq,toJSONObject:_q,isAsyncFn:Aq,isThenable:Cq,setImmediate:F6,asap:Eq,isIterable:Tq};function Lt(r,e,t,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Pe.inherits(Lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const U6=Lt.prototype,z6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{z6[r]={value:r}});Object.defineProperties(Lt,z6);Object.defineProperty(U6,"isAxiosError",{value:!0});Lt.from=(r,e,t,s,a,i)=>{const o=Object.create(U6);return Pe.toFlatObject(r,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Lt.call(o,r.message,e,t,s,a),o.cause=r,o.name=r.name,i&&Object.assign(o,i),o};const Pq=null;function rN(r){return Pe.isPlainObject(r)||Pe.isArray(r)}function V6(r){return Pe.endsWith(r,"[]")?r.slice(0,-2):r}function yT(r,e,t){return r?r.concat(e).map(function(a,i){return a=V6(a),!t&&i?"["+a+"]":a}).join(t?".":""):e}function Rq(r){return Pe.isArray(r)&&!r.some(rN)}const Iq=Pe.toFlatObject(Pe,{},null,function(e){return/^is[A-Z]/.test(e)});function Bb(r,e,t){if(!Pe.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Pe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!Pe.isUndefined(v[b])});const s=t.metaTokens,a=t.visitor||h,i=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(e);if(!Pe.isFunction(a))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(Pe.isDate(y))return y.toISOString();if(Pe.isBoolean(y))return y.toString();if(!c&&Pe.isBlob(y))throw new Lt("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(y)||Pe.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,b,v){let N=y;if(y&&!v&&typeof y=="object"){if(Pe.endsWith(b,"{}"))b=s?b:b.slice(0,-2),y=JSON.stringify(y);else if(Pe.isArray(y)&&Rq(y)||(Pe.isFileList(y)||Pe.endsWith(b,"[]"))&&(N=Pe.toArray(y)))return b=V6(b),N.forEach(function(C,R){!(Pe.isUndefined(C)||C===null)&&e.append(o===!0?yT([b],R,i):o===null?b:b+"[]",u(C))}),!1}return rN(y)?!0:(e.append(yT(v,b,i),u(y)),!1)}const f=[],g=Object.assign(Iq,{defaultVisitor:h,convertValue:u,isVisitable:rN});function x(y,b){if(!Pe.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(y),Pe.forEach(y,function(N,k){(!(Pe.isUndefined(N)||N===null)&&a.call(e,N,Pe.isString(k)?k.trim():k,b,g))===!0&&x(N,b?b.concat(k):[k])}),f.pop()}}if(!Pe.isObject(r))throw new TypeError("data must be an object");return x(r),e}function vT(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function A2(r,e){this._pairs=[],r&&Bb(r,this,e)}const B6=A2.prototype;B6.append=function(e,t){this._pairs.push([e,t])};B6.toString=function(e){const t=e?function(s){return e.call(this,s,vT)}:vT;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function Dq(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function H6(r,e,t){if(!e)return r;const s=t&&t.encode||Dq;Pe.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let i;if(a?i=a(e,t):i=Pe.isURLSearchParams(e)?e.toString():new A2(e,t).toString(s),i){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class wT{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pe.forEach(this.handlers,function(s){s!==null&&e(s)})}}const $6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mq=typeof URLSearchParams<"u"?URLSearchParams:A2,Oq=typeof FormData<"u"?FormData:null,Lq=typeof Blob<"u"?Blob:null,Fq={isBrowser:!0,classes:{URLSearchParams:Mq,FormData:Oq,Blob:Lq},protocols:["http","https","file","blob","url","data"]},C2=typeof window<"u"&&typeof document<"u",aN=typeof navigator=="object"&&navigator||void 0,Uq=C2&&(!aN||["ReactNative","NativeScript","NS"].indexOf(aN.product)<0),zq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vq=C2&&window.location.href||"http://localhost",Bq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:C2,hasStandardBrowserEnv:Uq,hasStandardBrowserWebWorkerEnv:zq,navigator:aN,origin:Vq},Symbol.toStringTag,{value:"Module"})),Na={...Bq,...Fq};function Hq(r,e){return Bb(r,new Na.classes.URLSearchParams,{visitor:function(t,s,a,i){return Na.isNode&&Pe.isBuffer(t)?(this.append(s,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function $q(r){return Pe.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Wq(r){const e={},t=Object.keys(r);let s;const a=t.length;let i;for(s=0;s<a;s++)i=t[s],e[i]=r[i];return e}function W6(r){function e(t,s,a,i){let o=t[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=t.length;return o=!o&&Pe.isArray(a)?a.length:o,c?(Pe.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!Pe.isObject(a[o]))&&(a[o]=[]),e(t,s,a[o],i)&&Pe.isArray(a[o])&&(a[o]=Wq(a[o])),!l)}if(Pe.isFormData(r)&&Pe.isFunction(r.entries)){const t={};return Pe.forEachEntry(r,(s,a)=>{e($q(s),a,t,0)}),t}return null}function Yq(r,e,t){if(Pe.isString(r))try{return(e||JSON.parse)(r),Pe.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const kg={transitional:$6,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,i=Pe.isObject(e);if(i&&Pe.isHTMLForm(e)&&(e=new FormData(e)),Pe.isFormData(e))return a?JSON.stringify(W6(e)):e;if(Pe.isArrayBuffer(e)||Pe.isBuffer(e)||Pe.isStream(e)||Pe.isFile(e)||Pe.isBlob(e)||Pe.isReadableStream(e))return e;if(Pe.isArrayBufferView(e))return e.buffer;if(Pe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Hq(e,this.formSerializer).toString();if((l=Pe.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Bb(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||a?(t.setContentType("application/json",!1),Yq(e)):e}],transformResponse:[function(e){const t=this.transitional||kg.transitional,s=t&&t.forcedJSONParsing,a=this.responseType==="json";if(Pe.isResponse(e)||Pe.isReadableStream(e))return e;if(e&&Pe.isString(e)&&(s&&!this.responseType||a)){const o=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Lt.from(l,Lt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Na.classes.FormData,Blob:Na.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],r=>{kg.headers[r]={}});const qq=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xq=r=>{const e={};let t,s,a;return r&&r.split(`
`).forEach(function(o){a=o.indexOf(":"),t=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!t||e[t]&&qq[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},NT=Symbol("internals");function Cm(r){return r&&String(r).trim().toLowerCase()}function e0(r){return r===!1||r==null?r:Pe.isArray(r)?r.map(e0):String(r)}function Gq(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const Kq=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Sw(r,e,t,s,a){if(Pe.isFunction(s))return s.call(this,e,t);if(a&&(e=t),!!Pe.isString(e)){if(Pe.isString(s))return e.indexOf(s)!==-1;if(Pe.isRegExp(s))return s.test(e)}}function Qq(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function Zq(r,e){const t=Pe.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(a,i,o){return this[s].call(this,e,a,i,o)},configurable:!0})})}let sn=class{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function i(l,c,u){const h=Cm(c);if(!h)throw new Error("header name must be a non-empty string");const f=Pe.findKey(a,h);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=e0(l))}const o=(l,c)=>Pe.forEach(l,(u,h)=>i(u,h,c));if(Pe.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Pe.isString(e)&&(e=e.trim())&&!Kq(e))o(Xq(e),t);else if(Pe.isObject(e)&&Pe.isIterable(e)){let l={},c,u;for(const h of e){if(!Pe.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(c=l[u])?Pe.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,t)}else e!=null&&i(t,e,s);return this}get(e,t){if(e=Cm(e),e){const s=Pe.findKey(this,e);if(s){const a=this[s];if(!t)return a;if(t===!0)return Gq(a);if(Pe.isFunction(t))return t.call(this,a,s);if(Pe.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Cm(e),e){const s=Pe.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Sw(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let a=!1;function i(o){if(o=Cm(o),o){const l=Pe.findKey(s,o);l&&(!t||Sw(s,s[l],l,t))&&(delete s[l],a=!0)}}return Pe.isArray(e)?e.forEach(i):i(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const i=t[s];(!e||Sw(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const t=this,s={};return Pe.forEach(this,(a,i)=>{const o=Pe.findKey(s,i);if(o){t[o]=e0(a),delete t[i];return}const l=e?Qq(i):String(i).trim();l!==i&&delete t[i],t[l]=e0(a),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Pe.forEach(this,(s,a)=>{s!=null&&s!==!1&&(t[a]=e&&Pe.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[NT]=this[NT]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Cm(o);s[l]||(Zq(a,o),s[l]=!0)}return Pe.isArray(e)?e.forEach(i):i(e),this}};sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(sn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});Pe.freezeMethods(sn);function _w(r,e){const t=this||kg,s=e||t,a=sn.from(s.headers);let i=s.data;return Pe.forEach(r,function(l){i=l.call(t,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function Y6(r){return!!(r&&r.__CANCEL__)}function gh(r,e,t){Lt.call(this,r??"canceled",Lt.ERR_CANCELED,e,t),this.name="CanceledError"}Pe.inherits(gh,Lt,{__CANCEL__:!0});function q6(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new Lt("Request failed with status code "+t.status,[Lt.ERR_BAD_REQUEST,Lt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Jq(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function eX(r,e){r=r||10;const t=new Array(r),s=new Array(r);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),h=s[i];o||(o=u),t[a]=c,s[a]=u;let f=i,g=0;for(;f!==a;)g+=t[f++],f=f%r;if(a=(a+1)%r,a===i&&(i=(i+1)%r),u-o<e)return;const x=h&&u-h;return x?Math.round(g*1e3/x):void 0}}function tX(r,e){let t=0,s=1e3/e,a,i;const o=(u,h=Date.now())=>{t=h,a=null,i&&(clearTimeout(i),i=null),r(...u)};return[(...u)=>{const h=Date.now(),f=h-t;f>=s?o(u,h):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},s-f)))},()=>a&&o(a)]}const z0=(r,e,t=3)=>{let s=0;const a=eX(50,250);return tX(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,u=a(c),h=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(f)},t)},jT=(r,e)=>{const t=r!=null;return[s=>e[0]({lengthComputable:t,total:r,loaded:s}),e[1]]},kT=r=>(...e)=>Pe.asap(()=>r(...e)),sX=Na.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Na.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Na.origin),Na.navigator&&/(msie|trident)/i.test(Na.navigator.userAgent)):()=>!0,rX=Na.hasStandardBrowserEnv?{write(r,e,t,s,a,i){const o=[r+"="+encodeURIComponent(e)];Pe.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Pe.isString(s)&&o.push("path="+s),Pe.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function aX(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function nX(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function X6(r,e,t){let s=!aX(e);return r&&(s||t==!1)?nX(r,e):e}const ST=r=>r instanceof sn?{...r}:r;function hd(r,e){e=e||{};const t={};function s(u,h,f,g){return Pe.isPlainObject(u)&&Pe.isPlainObject(h)?Pe.merge.call({caseless:g},u,h):Pe.isPlainObject(h)?Pe.merge({},h):Pe.isArray(h)?h.slice():h}function a(u,h,f,g){if(Pe.isUndefined(h)){if(!Pe.isUndefined(u))return s(void 0,u,f,g)}else return s(u,h,f,g)}function i(u,h){if(!Pe.isUndefined(h))return s(void 0,h)}function o(u,h){if(Pe.isUndefined(h)){if(!Pe.isUndefined(u))return s(void 0,u)}else return s(void 0,h)}function l(u,h,f){if(f in e)return s(u,h);if(f in r)return s(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,f)=>a(ST(u),ST(h),f,!0)};return Pe.forEach(Object.keys({...r,...e}),function(h){const f=c[h]||a,g=f(r[h],e[h],h);Pe.isUndefined(g)&&f!==l||(t[h]=g)}),t}const G6=r=>{const e=hd({},r);let{data:t,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=sn.from(o),e.url=H6(X6(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Pe.isFormData(t)){if(Na.hasStandardBrowserEnv||Na.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Na.hasStandardBrowserEnv&&(s&&Pe.isFunction(s)&&(s=s(e)),s||s!==!1&&sX(e.url))){const u=a&&i&&rX.read(i);u&&o.set(a,u)}return e},iX=typeof XMLHttpRequest<"u",oX=iX&&function(r){return new Promise(function(t,s){const a=G6(r);let i=a.data;const o=sn.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,h,f,g,x,y;function b(){x&&x(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function N(){if(!v)return;const C=sn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:C,config:r,request:v};q6(function(P){t(P),b()},function(P){s(P),b()},_),v=null}"onloadend"in v?v.onloadend=N:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(N)},v.onabort=function(){v&&(s(new Lt("Request aborted",Lt.ECONNABORTED,r,v)),v=null)},v.onerror=function(){s(new Lt("Network Error",Lt.ERR_NETWORK,r,v)),v=null},v.ontimeout=function(){let R=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||$6;a.timeoutErrorMessage&&(R=a.timeoutErrorMessage),s(new Lt(R,_.clarifyTimeoutError?Lt.ETIMEDOUT:Lt.ECONNABORTED,r,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&Pe.forEach(o.toJSON(),function(R,_){v.setRequestHeader(_,R)}),Pe.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([g,y]=z0(u,!0),v.addEventListener("progress",g)),c&&v.upload&&([f,x]=z0(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(h=C=>{v&&(s(!C||C.type?new gh(null,r,v):C),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const k=Jq(a.url);if(k&&Na.protocols.indexOf(k)===-1){s(new Lt("Unsupported protocol "+k+":",Lt.ERR_BAD_REQUEST,r));return}v.send(i||null)})},lX=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let s=new AbortController,a;const i=function(u){if(!a){a=!0,l();const h=u instanceof Error?u:this.reason;s.abort(h instanceof Lt?h:new gh(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new Lt(`timeout ${e} of ms exceeded`,Lt.ETIMEDOUT))},e);const l=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),r=null)};r.forEach(u=>u.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>Pe.asap(l),c}},cX=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let s=0,a;for(;s<t;)a=s+e,yield r.slice(s,a),s=a},dX=async function*(r,e){for await(const t of uX(r))yield*cX(t,e)},uX=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},_T=(r,e,t,s)=>{const a=dX(r,e);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await a.next();if(u){l(),c.close();return}let f=h.byteLength;if(t){let g=i+=f;t(g)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Hb=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",K6=Hb&&typeof ReadableStream=="function",hX=Hb&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Q6=(r,...e)=>{try{return!!r(...e)}catch{return!1}},mX=K6&&Q6(()=>{let r=!1;const e=new Request(Na.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),AT=64*1024,nN=K6&&Q6(()=>Pe.isReadableStream(new Response("").body)),V0={stream:nN&&(r=>r.body)};Hb&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!V0[e]&&(V0[e]=Pe.isFunction(r[e])?t=>t[e]():(t,s)=>{throw new Lt(`Response type '${e}' is not supported`,Lt.ERR_NOT_SUPPORT,s)})})})(new Response);const fX=async r=>{if(r==null)return 0;if(Pe.isBlob(r))return r.size;if(Pe.isSpecCompliantForm(r))return(await new Request(Na.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(r)||Pe.isArrayBuffer(r))return r.byteLength;if(Pe.isURLSearchParams(r)&&(r=r+""),Pe.isString(r))return(await hX(r)).byteLength},gX=async(r,e)=>{const t=Pe.toFiniteNumber(r.getContentLength());return t??fX(e)},pX=Hb&&(async r=>{let{url:e,method:t,data:s,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:g}=G6(r);u=u?(u+"").toLowerCase():"text";let x=lX([a,i&&i.toAbortSignal()],o),y;const b=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let v;try{if(c&&mX&&t!=="get"&&t!=="head"&&(v=await gX(h,s))!==0){let _=new Request(e,{method:"POST",body:s,duplex:"half"}),I;if(Pe.isFormData(s)&&(I=_.headers.get("content-type"))&&h.setContentType(I),_.body){const[P,T]=jT(v,z0(kT(c)));s=_T(_.body,AT,P,T)}}Pe.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;y=new Request(e,{...g,signal:x,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:s,duplex:"half",credentials:N?f:void 0});let k=await fetch(y,g);const C=nN&&(u==="stream"||u==="response");if(nN&&(l||C&&b)){const _={};["status","statusText","headers"].forEach(D=>{_[D]=k[D]});const I=Pe.toFiniteNumber(k.headers.get("content-length")),[P,T]=l&&jT(I,z0(kT(l),!0))||[];k=new Response(_T(k.body,AT,P,()=>{T&&T(),b&&b()}),_)}u=u||"text";let R=await V0[Pe.findKey(V0,u)||"text"](k,r);return!C&&b&&b(),await new Promise((_,I)=>{q6(_,I,{data:R,headers:sn.from(k.headers),status:k.status,statusText:k.statusText,config:r,request:y})})}catch(N){throw b&&b(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Lt("Network Error",Lt.ERR_NETWORK,r,y),{cause:N.cause||N}):Lt.from(N,N&&N.code,r,y)}}),iN={http:Pq,xhr:oX,fetch:pX};Pe.forEach(iN,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const CT=r=>`- ${r}`,xX=r=>Pe.isFunction(r)||r===null||r===!1,Z6={getAdapter:r=>{r=Pe.isArray(r)?r:[r];const{length:e}=r;let t,s;const a={};for(let i=0;i<e;i++){t=r[i];let o;if(s=t,!xX(t)&&(s=iN[(o=String(t)).toLowerCase()],s===void 0))throw new Lt(`Unknown adapter '${o}'`);if(s)break;a[o||"#"+i]=s}if(!s){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(CT).join(`
`):" "+CT(i[0]):"as no adapter specified";throw new Lt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:iN};function Aw(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new gh(null,r)}function ET(r){return Aw(r),r.headers=sn.from(r.headers),r.data=_w.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Z6.getAdapter(r.adapter||kg.adapter)(r).then(function(s){return Aw(r),s.data=_w.call(r,r.transformResponse,s),s.headers=sn.from(s.headers),s},function(s){return Y6(s)||(Aw(r),s&&s.response&&(s.response.data=_w.call(r,r.transformResponse,s.response),s.response.headers=sn.from(s.response.headers))),Promise.reject(s)})}const J6="1.11.0",$b={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{$b[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const TT={};$b.transitional=function(e,t,s){function a(i,o){return"[Axios v"+J6+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(e===!1)throw new Lt(a(o," has been removed"+(t?" in "+t:"")),Lt.ERR_DEPRECATED);return t&&!TT[o]&&(TT[o]=!0,console.warn(a(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,l):!0}};$b.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function bX(r,e,t){if(typeof r!="object")throw new Lt("options must be an object",Lt.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let a=s.length;for(;a-- >0;){const i=s[a],o=e[i];if(o){const l=r[i],c=l===void 0||o(l,i,r);if(c!==!0)throw new Lt("option "+i+" must be "+c,Lt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Lt("Unknown option "+i,Lt.ERR_BAD_OPTION)}}const t0={assertOptions:bX,validators:$b},Ni=t0.validators;let Jc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new wT,response:new wT}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=hd(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:i}=t;s!==void 0&&t0.assertOptions(s,{silentJSONParsing:Ni.transitional(Ni.boolean),forcedJSONParsing:Ni.transitional(Ni.boolean),clarifyTimeoutError:Ni.transitional(Ni.boolean)},!1),a!=null&&(Pe.isFunction(a)?t.paramsSerializer={serialize:a}:t0.assertOptions(a,{encode:Ni.function,serialize:Ni.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),t0.assertOptions(t,{baseUrl:Ni.spelling("baseURL"),withXsrfToken:Ni.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Pe.merge(i.common,i[t.method]);i&&Pe.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),t.headers=sn.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let h,f=0,g;if(!c){const y=[ET.bind(this),void 0];for(y.unshift(...l),y.push(...u),g=y.length,h=Promise.resolve(t);f<g;)h=h.then(y[f++],y[f++]);return h}g=l.length;let x=t;for(f=0;f<g;){const y=l[f++],b=l[f++];try{x=y(x)}catch(v){b.call(this,v);break}}try{h=ET.call(this,x)}catch(y){return Promise.reject(y)}for(f=0,g=u.length;f<g;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=hd(this.defaults,e);const t=X6(e.baseURL,e.url,e.allowAbsoluteUrls);return H6(t,e.params,e.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(e){Jc.prototype[e]=function(t,s){return this.request(hd(s||{},{method:e,url:t,data:(s||{}).data}))}});Pe.forEach(["post","put","patch"],function(e){function t(s){return function(i,o,l){return this.request(hd(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Jc.prototype[e]=t(),Jc.prototype[e+"Form"]=t(!0)});let yX=class eM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,l){s.reason||(s.reason=new gh(i,o,l),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new eM(function(a){e=a}),cancel:e}}};function vX(r){return function(t){return r.apply(null,t)}}function wX(r){return Pe.isObject(r)&&r.isAxiosError===!0}const oN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oN).forEach(([r,e])=>{oN[e]=r});function tM(r){const e=new Jc(r),t=P6(Jc.prototype.request,e);return Pe.extend(t,Jc.prototype,e,{allOwnKeys:!0}),Pe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return tM(hd(r,a))},t}const Zt=tM(kg);Zt.Axios=Jc;Zt.CanceledError=gh;Zt.CancelToken=yX;Zt.isCancel=Y6;Zt.VERSION=J6;Zt.toFormData=Bb;Zt.AxiosError=Lt;Zt.Cancel=Zt.CanceledError;Zt.all=function(e){return Promise.all(e)};Zt.spread=vX;Zt.isAxiosError=wX;Zt.mergeConfig=hd;Zt.AxiosHeaders=sn;Zt.formToJSON=r=>W6(Pe.isHTMLForm(r)?new FormData(r):r);Zt.getAdapter=Z6.getAdapter;Zt.HttpStatusCode=oN;Zt.default=Zt;const{Axios:Gue,AxiosError:Kue,CanceledError:Que,isCancel:Zue,CancelToken:Jue,VERSION:ehe,all:the,Cancel:she,isAxiosError:rhe,spread:ahe,toFormData:nhe,AxiosHeaders:ihe,HttpStatusCode:ohe,formToJSON:lhe,getAdapter:che,mergeConfig:dhe}=Zt,sM=E.createContext(),Sg=()=>E.useContext(sM),NX=({children:r})=>{const[e,t]=E.useState("USD"),[s,a]=E.useState({NGN:1,USD:62e-5,GBP:48e-5,JPY:.099,GHS:.0096,EUR:58e-5}),[i,o]=E.useState([{code:"USD",label:"$ USD"},{code:"NGN",label:" NGN"},{code:"GBP",label:" GBP"},{code:"JPY",label:" JPY"},{code:"GHS",label:" GHS"},{code:"EUR",label:" EUR"},{code:"CAD",label:"$ CAD"},{code:"AUD",label:"$ AUD"},{code:"CNY",label:" CNY"},{code:"INR",label:" INR"}]),[l,c]=E.useState(!0);E.useEffect(()=>{(async()=>{let g="US",x="USD";console.log("Starting currency detection via IP...");try{g=(await Zt.get("https://ipapi.co/json/",{timeout:5e3})).data.country_code?.toUpperCase()||"US",console.log("Country from IP:",g)}catch(b){console.error("IP geolocation error:",b.message)}x={NG:"NGN",GB:"GBP",US:"USD",JP:"JPY",GH:"GHS",DE:"EUR",FR:"EUR",IT:"EUR",ES:"EUR",CA:"CAD",AU:"AUD",CN:"CNY",IN:"INR",BR:"BRL",ZA:"ZAR",KE:"KES",MX:"MXN",RU:"RUB",SG:"SGD",AE:"AED",SA:"SAR",KR:"KRW",NZ:"NZD",CH:"CHF",SE:"SEK",NO:"NOK",DK:"DKK",EG:"EGP",TR:"TRY"}[g]||"USD",console.log("Set currency to:",x),t(x);try{console.log("Fetching exchange rates...");const b=Ce(re,"currencyRates","latest"),v=await Je(b);if(v.exists()&&v.data().updatedAt?.toDate()>new Date(Date.now()-864e5))a(v.data().rates),o(v.data().availableCurrencies||i),console.log("Loaded rates from Firestore:",v.data().rates);else{const k=(await Zt.get("https://v6.exchangerate-api.com/v6/YOUR_API_KEY/latest/NGN",{timeout:5e3})).data.conversion_rates,C=Object.keys(k).sort().map(R=>({code:R,label:new Intl.NumberFormat("en-US",{style:"currency",currency:R}).format(0).replace(/[0-9.,]/g,"")+` ${R}`}));await Xt(b,{base:"NGN",rates:k,availableCurrencies:C,updatedAt:Ti()}),a(k),o(C),console.log("Fetched rates from API:",k)}}catch(b){console.error("Exchange rate fetch error:",b.message),a({NGN:1,USD:62e-5,GBP:48e-5,JPY:.099,GHS:.0096,EUR:58e-5})}finally{c(!1),console.log("Currency detection complete")}})()},[]);const u=f=>{if(!s[e])return console.warn(`Rate not found for ${e}, using NGN`),new Intl.NumberFormat("en-US",{style:"currency",currency:"NGN"}).format(f);const g=f*s[e];return new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(g)},h=f=>{s[f]?(console.log("Changing currency to:",f),t(f)):console.warn(`No rate for ${f}`)};return n.jsx(sM.Provider,{value:{currency:e,rates:s,convertPrice:u,changeCurrency:h,loading:l,availableCurrencies:i},children:r})};function jX(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}jX(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var E2=r=>typeof r=="number"&&!isNaN(r),Df=r=>typeof r=="string",rM=r=>typeof r=="function",kX=r=>Df(r)||E2(r),SX=r=>E.isValidElement(r)||Df(r)||rM(r)||E2(r),_X=1,aM=()=>`${_X++}`,Fi=new Map,lN=[],PT=new Set,nM=()=>Fi.size>0,AX=(r,{containerId:e})=>{var t;return(t=Fi.get(e||1))==null?void 0:t.toasts.get(r)};function CX(r,e){var t;if(e)return!!((t=Fi.get(e))!=null&&t.isToastActive(r));let s=!1;return Fi.forEach(a=>{a.isToastActive(r)&&(s=!0)}),s}function EX(r){if(!nM()){lN=lN.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||kX(r))Fi.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=Fi.get(r.containerId);e?e.removeToast(r.id):Fi.forEach(t=>{t.removeToast(r.id)})}}var TX=(r={})=>{Fi.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function PX(r,e){SX(r)&&(nM()||lN.push({content:r,options:e}),Fi.forEach(t=>{t.buildToast(r,e)}))}function iM(r,e){Fi.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(r,e?.id)})}function RX(r){return PT.add(r),()=>{PT.delete(r)}}function IX(r){return r&&(Df(r.toastId)||E2(r.toastId))?r.toastId:aM()}function _g(r,e){return PX(r,e),e.toastId}function Wb(r,e){return{...e,type:e&&e.type||r,toastId:IX(e)}}function Yb(r){return(e,t)=>_g(e,Wb(r,t))}function je(r,e){return _g(r,Wb("default",e))}je.loading=(r,e)=>_g(r,Wb("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function DX(r,{pending:e,error:t,success:s},a){let i;e&&(i=Df(e)?je.loading(e,a):je.loading(e.render,{...a,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,h,f)=>{if(h==null){je.dismiss(i);return}let g={type:u,...o,...a,data:f},x=Df(h)?{render:h}:h;return i?je.update(i,{...g,...x}):je(x.render,{...g,...x}),f},c=rM(r)?r():r;return c.then(u=>l("success",s,u)).catch(u=>l("error",t,u)),c}je.promise=DX;je.success=Yb("success");je.info=Yb("info");je.error=Yb("error");je.warning=Yb("warning");je.warn=je.warning;je.dark=(r,e)=>_g(r,Wb("default",{theme:"dark",...e}));function MX(r){EX(r)}je.dismiss=MX;je.clearWaitingQueue=TX;je.isActive=CX;je.update=(r,e={})=>{let t=AX(r,e);if(t){let{props:s,content:a}=t,i={delay:100,...s,...e,toastId:e.toastId||r,updateId:aM()};i.toastId!==r&&(i.staleId=r);let o=i.render||a;delete i.render,_g(o,i)}};je.done=r=>{je.update(r,{progress:1})};je.onChange=RX;je.play=r=>iM(!0,r);je.pause=r=>iM(!1,r);const cf=async(r,e,t=null)=>{if(!r||e<=0)throw new Error("Invalid cart item data");try{const s=Ce(re,"products",r),a=await Je(s);if(!a.exists())throw new Error("Product not found");const i=a.data();if(i.stock<e)throw new Error(`Only ${i.stock} units available`);const o=await Ui(t),l=o.find(u=>u.productId===r);let c;if(l){const u=l.quantity+e;if(u>i.stock)throw new Error(`Cannot add more than ${i.stock} units`);c=o.map(h=>h.productId===r?{...h,quantity:u}:h)}else c=[...o,{productId:r,quantity:e,product:{name:i.name,price:i.price,image:i.imageUrl,stock:i.stock,sellerId:i.sellerId||"default-seller-id"}}];await md(c,t),je.success("Added to cart")}catch(s){throw console.error("Error adding to cart:",s),je.error(s.message),s}},Ui=async(r=null)=>{const e=r?`userCart_${r}`:"guestCart";let t=[];try{const s=localStorage.getItem(e);s&&(t=JSON.parse(s),Array.isArray(t)||(console.warn("Invalid cart format, resetting:",t),t=[]));const a=[];for(const i of t){if(!i.productId||i.quantity<=0){console.warn("Invalid cart item:",i);continue}try{const o=Ce(re,"products",i.productId),l=await Je(o);if(l.exists()){const c=l.data();a.push({...i,product:{name:c.name,price:c.price,image:c.imageUrl,stock:c.stock,sellerId:c.sellerId||"default-seller-id"}})}else console.warn(`Product not found for ID: ${i.productId}`),je.error(`Removed unavailable product (ID: ${i.productId}) from cart`)}catch(o){console.error(`Error validating product ${i.productId}:`,o),je.error(`Error validating product (ID: ${i.productId})`)}}return a.length<t.length&&await md(a,r),a}catch(s){return console.error("Error fetching cart:",s),je.error("Failed to fetch cart"),[]}},RT=async(r=null)=>{try{return(await Ui(r)).reduce((t,s)=>t+s.quantity,0)}catch(e){return console.error("Error getting cart item count:",e),0}},md=async(r,e=null)=>{const t=e?`userCart_${e}`:"guestCart";try{localStorage.setItem(t,JSON.stringify(r)),window.dispatchEvent(new Event("cartUpdated"))}catch(s){throw console.error("Error updating cart:",s),je.error("Failed to update cart"),s}},qb=async(r=null)=>{try{await md([],r),je.success("Cart cleared")}catch(e){throw console.error("Error clearing cart:",e),je.error("Failed to clear cart"),e}},OX=async r=>{if(!r)throw new Error("Please log in to checkout");const e=await Ui(r);if(e.length===0)throw new Error("Cart is empty");try{for(const s of e){const a=Ce(re,"products",s.productId),i=await Je(a);if(!i.exists())throw new Error(`Product ${s.productId} no longer available`);const o=i.data();if(o.stock<s.quantity)throw new Error(`Insufficient stock for ${o.name}`)}const t=Ie(re,"orders");await en(t,{userId:r,items:e,total:e.reduce((s,a)=>s+a.product.price*a.quantity,0),createdAt:new Date().toISOString(),status:"pending"}),await qb(r),je.success("Order placed successfully")}catch(t){throw console.error("Checkout error:",t),je.error(t.message),t}},LX=async r=>{try{const e=await Ui(null);if(e.length===0)return;const s=[...await Ui(r)];for(const a of e){const i=s.find(o=>o.productId===a.productId);if(i){i.quantity+=a.quantity;try{const o=Ce(re,"products",i.productId),l=await Je(o);if(l.exists()){const c=l.data();i.quantity>c.stock&&(i.quantity=c.stock,je.warn(`Adjusted quantity for ${c.name} to available stock`))}}catch(o){console.error(`Error validating product ${i.productId}:`,o),je.error(`Error validating product (ID: ${i.productId})`)}}else s.push(a)}await md(s,r),await qb(null),je.success("Guest cart merged with your account")}catch(e){console.error("Error merging guest cart:",e),je.error("Failed to merge guest cart")}},IT="/assets/foremade-Bxu0VQA7.png";function DT(){const[r,e]=E.useState(!1);E.useEffect(()=>{const s=localStorage.getItem("userData");s||localStorage.removeItem("freeShippingDismissed"),!localStorage.getItem("freeShippingDismissed")&&!s&&e(!0)},[]);const t=()=>{e(!1),localStorage.setItem("freeShippingDismissed","true")};return r?n.jsx("div",{className:"relative p-[1px] bg-[#eb9325]",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("p",{className:"text-white text-md max-md:text-sm m-1 max-md:m-0 text-center py-2",children:"Up to 30% off when you buy multiple items | Free shipping Nationwide!"}),n.jsx("button",{onClick:t,className:"absolute right-2 top-1/2 -translate-y-1/2 text-white hover:text-gray-200",title:"Dismiss","aria-label":"Dismiss free shipping banner",children:n.jsx("i",{className:"bx bx-x text-xl"})})]})}):null}const FX=()=>{const r=Xr(),e=gs(),[t,s]=E.useState(""),[a,i]=E.useState([]),[o,l]=E.useState(!1),[c,u]=E.useState(!1),[h,f]=E.useState(null),[g,x]=E.useState(0),[y,b]=E.useState([]),[v,N]=E.useState(null),[k,C]=E.useState(null),[R,_]=E.useState(0),[I,P]=E.useState(!1),[T,D]=E.useState(!1),[L,F]=E.useState(!1),[z,O]=E.useState(!1),V="3rem",H=["Camera & Photography","Television & Accessories","Drinks & Beverages","Game & Console","Home & Living","Perfumes & Fragrances","Vehicles & Transport","Clothing","Cocoa, Coffee & Tea","Computers & Laptops","Footwear","Grills & Outdoor Cooking","Hair, Nails & Accessories","Jewellery & Accessories","Sneakers & Joggers","Sound & Audio","Sports & Outdoors"," Pregnancy & Mother Care"," Health & Wellness"],B=X=>X.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),q=H.slice(0,8),ee=H.slice(8),G={Footwear:"footwear",Clothing:"clothing","Computers & Laptops":"computers-laptops","Game & Console":"game-console"},$=X=>`/category/${G[X]||B(X)}`,Q=r.pathname!=="/";E.useEffect(()=>{const X=ke.onAuthStateChanged(async se=>{N(se);try{const ge=await RT(se?.uid);if(x(ge),se)try{const xe=localStorage.getItem("userData");xe&&C(JSON.parse(xe))}catch(xe){console.error("Error parsing userData:",xe),je.error("Failed to load user profile")}else C(null),_(0),b([]),localStorage.removeItem("userData")}catch(ge){console.error("Error in auth state:",ge),je.error("Failed to initialize session")}});return()=>X()},[]),E.useEffect(()=>{v&&(async()=>{try{const se=mt(Ie(re,"notifications"),nt("userId","==",v.uid),nt("read","==",!1)),ge=await Ke(se);_(ge.size)}catch(se){console.error("Error fetching notifications:",se),je.error("Failed to load notifications")}})()},[v]),E.useEffect(()=>{const X=()=>{try{const xe=localStorage.getItem("favorites");b(xe?JSON.parse(xe):[])}catch(xe){console.error("Error loading favorites:",xe),je.error("Failed to sync favorites")}};X();const se=async()=>{try{const xe=await RT(v?.uid);x(xe)}catch(xe){console.error("Error updating cart:",xe),je.error("Failed to update cart")}},ge=xe=>{xe.key==="favorites"&&X()};return window.addEventListener("cartUpdated",se),window.addEventListener("storage",ge),()=>{window.removeEventListener("cartUpdated",se),window.removeEventListener("storage",ge)}},[v]);const te=()=>k&&k.name?k.name.split(" ")[0]||"User":v?v.displayName?.split(" ")[0]||"User":"Guest",ne=async X=>{const se=X.target.value;if(s(se),se.trim()===""){i([]),l(!1);return}u(!0);try{const ge=mt(Ie(re,"products"),nt("status","==","approved")),Ee=(await Ke(ge)).docs.map($e=>({id:$e.id,...$e.data()})).filter($e=>$e.name.toLowerCase().includes(se.toLowerCase()));i(Ee),l(!0)}catch(ge){console.error("Error searching:",ge),f("Failed to search."),je.error("Search failed")}finally{u(!1)}},ce=()=>{t.trim()!==""&&a.length>0&&l(!0)},Re=()=>{setTimeout(()=>l(!1),200)},de=()=>{F(!L)},Me=()=>{O(!z)},ue=()=>{setTimeout(()=>F(!1),200)};return h?n.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",h]}):n.jsxs("header",{className:"w-full",children:[n.jsx("div",{className:"bg-[#112639] hidden sm:flex text-white w-full py-0 h-9.5 items-center",children:n.jsxs("div",{className:"p-2 flex w-full h-full items-center justify-between",children:[" ",n.jsxs("div",{className:"flex items-center h-full pl-4",children:[" ",n.jsx(fe,{to:"/",children:n.jsx("img",{src:IT,className:"h-10 w-auto",alt:"Foremade"})}),n.jsxs("nav",{className:"flex items-center ml-2 mt-1",children:[n.jsx(fe,{to:"/products",className:"hover:text-gray-100 hover:underline transition-all px-2",children:"Shop"}),n.jsx(fe,{to:"/products-upload",className:"hover:text-gray-100 hover:underline transition-all px-2",children:"Sell"}),n.jsx(fe,{to:"/smile",className:"hover:text-gray-100 hover:underline transition-all px-2",children:"Smile"})]})]}),n.jsxs("div",{className:"flex items-center gap-4 pr-4",children:[" ",v?n.jsxs(fe,{to:"/profile",className:"hover:text-gray-300 text-sm whitespace-nowrap",children:["Hi, ",te()]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(fe,{to:"/login",className:"hover:text-gray-300 text-sm whitespace-nowrap",children:"Login"}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsx(fe,{to:"/register",className:"hover:text-gray-300 text-sm whitespace-nowrap",children:"Sign Up"})]}),n.jsxs(fe,{to:"/notifications",className:"relative flex items-center justify-center",children:[n.jsx("i",{className:"bx bx-bell text-xl"}),R>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:R})]}),n.jsxs(fe,{to:"/cart",className:"relative flex items-center justify-center",children:[n.jsx("i",{className:"bx bx-cart-alt text-xl text-white"}),g>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:g})]}),n.jsx(fe,{to:"/search",className:"lg:hidden",children:n.jsx("i",{className:"bx bx-search text-xl"})})]})]})}),n.jsx("div",{className:"hidden sm:block bg-[#eb9325] h-2 w-full"}),n.jsxs("div",{className:"sm:hidden bg-[#112639] text-white p-2 py-3 w-full flex items-center fixed top-0 left-0 right-0 z-40 overflow-x-hidden",style:{paddingTop:"env(safe-area-inset-top)"},children:[n.jsx("div",{className:"flex items-center min-w-0",children:n.jsx(fe,{to:"/",children:n.jsx("img",{src:IT,className:"h-9",alt:"Foremade"})})}),n.jsx("div",{className:"flex-1 min-w-0"}),n.jsxs("div",{className:"flex mt-4 items-center justify-end flex-1 min-w-0",children:[n.jsxs(fe,{to:"/cart",className:"relative flex items-center justify-center",children:[n.jsx("i",{className:"bx bx-cart-alt text-xl text-white"}),g>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:g})]}),n.jsx("button",{onClick:()=>P(!0),className:"ml-4 mr-4 flex items-center justify-center focus:outline-none",children:n.jsx("i",{className:"bx bx-menu text-2xl"})})]})]}),n.jsx("div",{className:"sm:hidden",style:{height:`calc(${V} + env(safe-area-inset-top))`,minHeight:"3rem"}}),n.jsxs("div",{className:"block sm:hidden",children:[n.jsx("div",{className:"block sm:hidden bg-[#eb9325] h-2 w-full -mt-16 mb-14"}),n.jsx(DT,{})]}),n.jsxs("div",{className:"block sm:hidden px-2 mt-2",children:[n.jsxs("div",{className:"relative w-full",children:[n.jsx("input",{type:"text",placeholder:"Search for electronics, accessories...",className:"w-full p-2 pl-8 border border-gray-400 rounded-md text-black placeholder-gray-600 focus:outline-none text-xs",value:t,onChange:ne,onFocus:ce,onBlur:Re}),o&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-50 max-h-80 overflow-y-auto",children:c?n.jsx("div",{className:"p-2 text-xs text-gray-600",children:"Loading..."}):a.length>0?a.map(X=>n.jsxs(fe,{to:`/product/${X.id}`,className:"flex items-center p-2 hover:bg-gray-100",onClick:()=>{l(!1),s("")},children:[n.jsx("img",{src:X.imageUrls&&X.imageUrls[0]?.startsWith("https://")?X.imageUrls[0]:"https://via.placeholder.com/40?text=Image+Not+Found",alt:X.name,className:"w-8 h-8 object-cover rounded mr-2 flex-shrink-0",onError:se=>{se.target.src="https://via.placeholder.com/40?text=Image+Not+Found"}}),n.jsx("span",{className:"text-xs text-gray-800",children:X.name})]},X.id)):n.jsx("div",{className:"p-2 text-xs text-gray-600",children:"No results found"})})]}),n.jsx("div",{className:"flex overflow-x-auto gap-2 text-xs text-gray-700 py-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:H.map(X=>n.jsx(fe,{to:$(X),className:"hover:text-blue-600 bg-gray-100 rounded-full px-3 py-1 whitespace-nowrap flex-shrink-0",children:X},X))})]}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(DT,{})}),n.jsx("div",{className:"hidden sm:block",children:n.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-1 sm:py-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative w-full",children:[n.jsx("input",{type:"text",placeholder:"Search Foremade",className:"placeholder-slate-400 w-full p-2 pl-8 border border-gray-400 rounded-md text-black focus:outline-none text-xs sm:text-base",value:t,onChange:ne,onFocus:ce,onBlur:Re}),n.jsx("i",{className:"bx bx-search absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-600 text-sm sm:text-base"}),o&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10 max-h-80 overflow-y-auto",children:c?n.jsx("div",{className:"p-2 text-xs sm:text-base text-gray-600",children:"Loading..."}):a.length>0?a.map(X=>n.jsxs(fe,{to:`/product/${X.id}`,className:"flex items-center p-2 hover:bg-gray-100",onClick:()=>{l(!1),s("")},children:[n.jsx("img",{src:X.imageUrls&&X.imageUrls[0]?.startsWith("https://")?X.imageUrls[0]:"https://via.placeholder.com/40?text=Image+Not+Found",alt:X.name,className:"w-8 sm:w-10 h-8 sm:h-10 object-cover rounded mr-2",onError:se=>{se.target.src="https://via.placeholder.com/40?text=Image+Not+Found"}}),n.jsx("span",{className:"text-xs sm:text-base text-gray-800",children:X.name})]},X.id)):n.jsx("div",{className:"p-2 text-xs sm:text-base text-gray-600",children:"No results found"})})]}),n.jsx("div",{className:"w-full mt-2 sm:mt-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-700 flex-wrap",children:[q.map(X=>n.jsx(fe,{to:`/category/${B(X)}`,className:"hover:text-blue-600 whitespace-nowrap",children:X},X)),H.length>8&&n.jsxs("div",{className:"relative",onMouseLeave:ue,children:[n.jsxs("button",{onClick:de,className:"hover:text-blue-600 focus:outline-none whitespace-nowrap",children:["More ",n.jsx("i",{className:"bx bx-chevron-down"})]}),L&&n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-[60%] mt-1 w-72 bg-white border border-gray-200 rounded-md shadow-lg z-[9999] max-h-80 overflow-y-auto",children:ee.map(X=>n.jsx(fe,{to:`/category/${B(X)}`,className:"block px-4 py-2 text-gray-800 hover:bg-gray-100 text-sm",onClick:()=>F(!1),children:X},X))})]})]})})]})})}),Q&&n.jsx("div",{className:"w-full flex justify-start mt-2 px-2 sm:px-4",children:n.jsxs("button",{onClick:()=>{window.history.length>2?e(-1):e("/")},className:"flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-200 text-blue-700 text-sm font-medium focus:outline-none","aria-label":"Go back",children:[n.jsx("i",{className:"bx bx-arrow-back text-xl"}),n.jsx("span",{className:"sm:inline",children:"Return"})]})}),n.jsxs("nav",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around items-center py-2 z-40",children:[n.jsxs(fe,{to:"/",className:`flex flex-col items-center ${r.pathname==="/"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-home-alt text-2xl"}),n.jsx("span",{className:"text-xs",children:"Home"})]}),n.jsxs(fe,{to:"/search",className:`flex flex-col items-center ${r.pathname==="/search"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-search text-2xl"}),n.jsx("span",{className:"text-xs",children:"Search"})]}),n.jsxs(fe,{to:"/products-upload",className:`flex flex-col items-center ${r.pathname==="/products-upload"?"text-blue-600":"text-orange-500"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bxs-plus-circle text-2xl"}),n.jsx("span",{className:"text-xs",children:"Sell"})]}),n.jsxs(fe,{to:"/notifications",className:`flex flex-col items-center relative ${r.pathname==="/notifications"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-bell text-2xl"}),R>0&&n.jsx("span",{className:"absolute top-0 right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:R}),n.jsx("span",{className:"text-xs",children:"Inbox"})]}),n.jsxs(fe,{to:"/profile",className:`flex flex-col items-center ${r.pathname==="/profile"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-user text-2xl"}),n.jsx("span",{className:"text-xs",children:"You"})]})]}),n.jsxs("div",{className:"sm:hidden",children:[n.jsx("div",{className:"fixed top-0 left-0 h-full bg-[#f8d7b0] w-full transform transition-transform duration-300 ease-in-out z-50 overflow-y-auto max-h-screen",style:{transform:I?"translateX(0)":"translateX(-100%)"},children:n.jsxs("div",{className:"p-4",children:[n.jsx("button",{onClick:()=>P(!1),className:"mb-4",children:n.jsx("i",{className:"bx bx-x text-2xl text-[#112040]"})}),n.jsxs("div",{className:"flex flex-col space-y-3",children:[n.jsxs("div",{className:"flex justify-center gap-2 w-full mb-4",children:[n.jsx(fe,{to:"/products",className:"bg-white/80 text-[#112040] hover:text-amber-500 text-base py-3 px-4 rounded-lg border border-[#112040]/20 font-semibold shadow-sm hover:bg-white transition-all",onClick:()=>P(!1),children:"Shop"}),n.jsx(fe,{to:"/products-upload",className:"bg-white/80 text-[#112040] hover:text-amber-500 text-base py-3 px-4 rounded-lg border border-[#112040]/20 font-semibold shadow-sm hover:bg-white transition-all",onClick:()=>P(!1),children:"Sell"}),n.jsx(fe,{to:"/smile",className:"bg-white/80 text-[#112040] hover:text-amber-500 text-base py-3 px-4 rounded-lg border border-[#112040]/20 font-semibold shadow-sm hover:bg-white transition-all",onClick:()=>P(!1),children:"Smile"})]}),!v&&n.jsxs("div",{className:"flex items-center justify-center mt-6 bg-[#112040] text-white px-4 py-3 rounded-lg text-sm hover:bg-[#112040]/80",children:[n.jsx(fe,{to:"/login",className:"mx-2",onClick:()=>P(!1),children:"Log in"}),n.jsx("span",{className:"mx-1",children:"|"}),n.jsx(fe,{to:"/register",className:"mx-2",onClick:()=>P(!1),children:"Sign up"})]}),v&&n.jsx(fe,{to:"/profile",className:"mt-6 bg-[#112040] text-white px-4 py-3 rounded-lg text-sm hover:bg-[#112040]/80 text-center",onClick:()=>P(!1),children:"My Profile"}),n.jsxs("div",{className:"space-y-1",children:[H.slice(0,8).map(X=>n.jsx(fe,{to:`/category/${B(X)}`,className:"text-[#112040] hover:text-amber-500 text-sm py-2 border-b border-[#112040]/10 block",onClick:()=>P(!1),children:X},X)),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:Me,className:"text-[#112040] hover:text-amber-500 text-sm py-2 border-b border-[#112040]/10 w-full text-left flex items-center justify-between",children:["More ",n.jsx("i",{className:"bx bx-chevron-down"})]}),z&&n.jsxs("div",{className:"mt-2 space-y-1 z-100",children:[console.log("Mobile More Dropdown Open:",z,"Categories:",H.slice(8)),H.slice(8).map(X=>n.jsx(fe,{to:`/category/${B(X)}`,className:"text-[#112040] hover:text-amber-500 text-sm py-2 pl-4 border-b border-[#112040]/10 block",onClick:()=>{P(!1),O(!1)},children:X},X))]})]})]})]})]})}),I&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>P(!1)})]})]})},T2=E.createContext({});function P2(r){const e=E.useRef(null);return e.current===null&&(e.current=r()),e.current}const R2=typeof window<"u",oM=R2?E.useLayoutEffect:E.useEffect,Xb=E.createContext(null);function I2(r,e){r.indexOf(e)===-1&&r.push(e)}function D2(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}const Oo=(r,e,t)=>t>e?e:t<r?r:t;let M2=()=>{};const Lo={},lM=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function cM(r){return typeof r=="object"&&r!==null}const dM=r=>/^0[^.\s]+$/u.test(r);function O2(r){let e;return()=>(e===void 0&&(e=r()),e)}const Un=r=>r,UX=(r,e)=>t=>e(r(t)),Ag=(...r)=>r.reduce(UX),Mf=(r,e,t)=>{const s=e-r;return s===0?1:(t-r)/s};class L2{constructor(){this.subscriptions=[]}add(e){return I2(this.subscriptions,e),()=>D2(this.subscriptions,e)}notify(e,t,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=r=>r*1e3,Vi=r=>r/1e3;function uM(r,e){return e?r*(1e3/e):0}const hM=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,zX=1e-7,VX=12;function BX(r,e,t,s,a){let i,o,l=0;do o=e+(t-e)/2,i=hM(o,s,a)-r,i>0?t=o:e=o;while(Math.abs(i)>zX&&++l<VX);return o}function Cg(r,e,t,s){if(r===e&&t===s)return Un;const a=i=>BX(i,0,1,r,t);return i=>i===0||i===1?i:hM(a(i),e,s)}const mM=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,fM=r=>e=>1-r(1-e),gM=Cg(.33,1.53,.69,.99),F2=fM(gM),pM=mM(F2),xM=r=>(r*=2)<1?.5*F2(r):.5*(2-Math.pow(2,-10*(r-1))),U2=r=>1-Math.sin(Math.acos(r)),bM=fM(U2),yM=mM(U2),HX=Cg(.42,0,1,1),$X=Cg(0,0,.58,1),vM=Cg(.42,0,.58,1),WX=r=>Array.isArray(r)&&typeof r[0]!="number",wM=r=>Array.isArray(r)&&typeof r[0]=="number",YX={linear:Un,easeIn:HX,easeInOut:vM,easeOut:$X,circIn:U2,circInOut:yM,circOut:bM,backIn:F2,backInOut:pM,backOut:gM,anticipate:xM},qX=r=>typeof r=="string",MT=r=>{if(wM(r)){M2(r.length===4);const[e,t,s,a]=r;return Cg(e,t,s,a)}else if(qX(r))return YX[r];return r},ux=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function XX(r,e){let t=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(u.schedule(h),r()),h(l)}const u={schedule:(h,f=!1,g=!1)=>{const y=g&&a?t:s;return f&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(l=h,a){i=!0;return}a=!0,[t,s]=[s,t],t.forEach(c),t.clear(),a=!1,i&&(i=!1,u.process(h))}};return u}const GX=40;function NM(r,e){let t=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>t=!0,o=ux.reduce((C,R)=>(C[R]=XX(i),C),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:h,update:f,preRender:g,render:x,postRender:y}=o,b=()=>{const C=Lo.useManualTiming?a.timestamp:performance.now();t=!1,Lo.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(C-a.timestamp,GX),1)),a.timestamp=C,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),h.process(a),f.process(a),g.process(a),x.process(a),y.process(a),a.isProcessing=!1,t&&e&&(s=!1,r(b))},v=()=>{t=!0,s=!0,a.isProcessing||r(b)};return{schedule:ux.reduce((C,R)=>{const _=o[R];return C[R]=(I,P=!1,T=!1)=>(t||v(),_.schedule(I,P,T)),C},{}),cancel:C=>{for(let R=0;R<ux.length;R++)o[ux[R]].cancel(C)},state:a,steps:o}}const{schedule:dr,cancel:Ll,state:ca,steps:Cw}=NM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0);let s0;function KX(){s0=void 0}const Za={now:()=>(s0===void 0&&Za.set(ca.isProcessing||Lo.useManualTiming?ca.timestamp:performance.now()),s0),set:r=>{s0=r,queueMicrotask(KX)}},jM=r=>e=>typeof e=="string"&&e.startsWith(r),z2=jM("--"),QX=jM("var(--"),V2=r=>QX(r)?ZX.test(r.split("/*")[0].trim()):!1,ZX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ph={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Of={...ph,transform:r=>Oo(0,1,r)},hx={...ph,default:1},df=r=>Math.round(r*1e5)/1e5,B2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JX(r){return r==null}const eG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,H2=(r,e)=>t=>!!(typeof t=="string"&&eG.test(t)&&t.startsWith(r)||e&&!JX(t)&&Object.prototype.hasOwnProperty.call(t,e)),kM=(r,e,t)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(B2);return{[r]:parseFloat(a),[e]:parseFloat(i),[t]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},tG=r=>Oo(0,255,r),Ew={...ph,transform:r=>Math.round(tG(r))},Bc={test:H2("rgb","red"),parse:kM("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:s=1})=>"rgba("+Ew.transform(r)+", "+Ew.transform(e)+", "+Ew.transform(t)+", "+df(Of.transform(s))+")"};function sG(r){let e="",t="",s="",a="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),s=r.substring(5,7),a=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),s=r.substring(3,4),a=r.substring(4,5),e+=e,t+=t,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const cN={test:H2("#"),parse:sG,transform:Bc.transform},Eg=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),hl=Eg("deg"),Bi=Eg("%"),Rt=Eg("px"),rG=Eg("vh"),aG=Eg("vw"),OT={...Bi,parse:r=>Bi.parse(r)/100,transform:r=>Bi.transform(r*100)},_u={test:H2("hsl","hue"),parse:kM("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(r)+", "+Bi.transform(df(e))+", "+Bi.transform(df(t))+", "+df(Of.transform(s))+")"},Lr={test:r=>Bc.test(r)||cN.test(r)||_u.test(r),parse:r=>Bc.test(r)?Bc.parse(r):_u.test(r)?_u.parse(r):cN.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Bc.transform(r):_u.transform(r),getAnimatableNone:r=>{const e=Lr.parse(r);return e.alpha=0,Lr.transform(e)}},nG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iG(r){return isNaN(r)&&typeof r=="string"&&(r.match(B2)?.length||0)+(r.match(nG)?.length||0)>0}const SM="number",_M="color",oG="var",lG="var(",LT="${}",cG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lf(r){const e=r.toString(),t=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(cG,c=>(Lr.test(c)?(s.color.push(i),a.push(_M),t.push(Lr.parse(c))):c.startsWith(lG)?(s.var.push(i),a.push(oG),t.push(c)):(s.number.push(i),a.push(SM),t.push(parseFloat(c))),++i,LT)).split(LT);return{values:t,split:l,indexes:s,types:a}}function AM(r){return Lf(r).values}function CM(r){const{split:e,types:t}=Lf(r),s=e.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],a[o]!==void 0){const l=t[o];l===SM?i+=df(a[o]):l===_M?i+=Lr.transform(a[o]):i+=a[o]}return i}}const dG=r=>typeof r=="number"?0:Lr.test(r)?Lr.getAnimatableNone(r):r;function uG(r){const e=AM(r);return CM(r)(e.map(dG))}const Fl={test:iG,parse:AM,createTransformer:CM,getAnimatableNone:uG};function Tw(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function hG({hue:r,saturation:e,lightness:t,alpha:s}){r/=360,e/=100,t/=100;let a=0,i=0,o=0;if(!e)a=i=o=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;a=Tw(c,l,r+1/3),i=Tw(c,l,r),o=Tw(c,l,r-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function B0(r,e){return t=>t>0?e:r}const hr=(r,e,t)=>r+(e-r)*t,Pw=(r,e,t)=>{const s=r*r,a=t*(e*e-s)+s;return a<0?0:Math.sqrt(a)},mG=[cN,Bc,_u],fG=r=>mG.find(e=>e.test(r));function FT(r){const e=fG(r);if(!e)return!1;let t=e.parse(r);return e===_u&&(t=hG(t)),t}const UT=(r,e)=>{const t=FT(r),s=FT(e);if(!t||!s)return B0(r,e);const a={...t};return i=>(a.red=Pw(t.red,s.red,i),a.green=Pw(t.green,s.green,i),a.blue=Pw(t.blue,s.blue,i),a.alpha=hr(t.alpha,s.alpha,i),Bc.transform(a))},dN=new Set(["none","hidden"]);function gG(r,e){return dN.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function pG(r,e){return t=>hr(r,e,t)}function $2(r){return typeof r=="number"?pG:typeof r=="string"?V2(r)?B0:Lr.test(r)?UT:yG:Array.isArray(r)?EM:typeof r=="object"?Lr.test(r)?UT:xG:B0}function EM(r,e){const t=[...r],s=t.length,a=r.map((i,o)=>$2(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)t[o]=a[o](i);return t}}function xG(r,e){const t={...r,...e},s={};for(const a in t)r[a]!==void 0&&e[a]!==void 0&&(s[a]=$2(r[a])(r[a],e[a]));return a=>{for(const i in s)t[i]=s[i](a);return t}}function bG(r,e){const t=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=r.indexes[i][s[i]],l=r.values[o]??0;t[a]=l,s[i]++}return t}const yG=(r,e)=>{const t=Fl.createTransformer(e),s=Lf(r),a=Lf(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?dN.has(r)&&!a.values.length||dN.has(e)&&!s.values.length?gG(r,e):Ag(EM(bG(s,a),a.values),t):B0(r,e)};function TM(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?hr(r,e,t):$2(r)(r,e)}const vG=r=>{const e=({timestamp:t})=>r(t);return{start:(t=!0)=>dr.update(e,t),stop:()=>Ll(e),now:()=>ca.isProcessing?ca.timestamp:Za.now()}},PM=(r,e,t=10)=>{let s="";const a=Math.max(Math.round(e/t),2);for(let i=0;i<a;i++)s+=Math.round(r(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},H0=2e4;function W2(r){let e=0;const t=50;let s=r.next(e);for(;!s.done&&e<H0;)e+=t,s=r.next(e);return e>=H0?1/0:e}function wG(r,e=100,t){const s=t({...r,keyframes:[0,e]}),a=Math.min(W2(s),H0);return{type:"keyframes",ease:i=>s.next(a*i).value/e,duration:Vi(a)}}const NG=5;function RM(r,e,t){const s=Math.max(e-NG,0);return uM(t-r(s),e-s)}const br={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rw=.001;function jG({duration:r=br.duration,bounce:e=br.bounce,velocity:t=br.velocity,mass:s=br.mass}){let a,i,o=1-e;o=Oo(br.minDamping,br.maxDamping,o),r=Oo(br.minDuration,br.maxDuration,Vi(r)),o<1?(a=u=>{const h=u*o,f=h*r,g=h-t,x=uN(u,o),y=Math.exp(-f);return Rw-g/x*y},i=u=>{const f=u*o*r,g=f*t+t,x=Math.pow(o,2)*Math.pow(u,2)*r,y=Math.exp(-f),b=uN(Math.pow(u,2),o);return(-a(u)+Rw>0?-1:1)*((g-x)*y)/b}):(a=u=>{const h=Math.exp(-u*r),f=(u-t)*r+1;return-Rw+h*f},i=u=>{const h=Math.exp(-u*r),f=(t-u)*(r*r);return h*f});const l=5/r,c=SG(a,i,l);if(r=zi(r),isNaN(c))return{stiffness:br.stiffness,damping:br.damping,duration:r};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:r}}}const kG=12;function SG(r,e,t){let s=t;for(let a=1;a<kG;a++)s=s-r(s)/e(s);return s}function uN(r,e){return r*Math.sqrt(1-e*e)}const _G=["duration","bounce"],AG=["stiffness","damping","mass"];function zT(r,e){return e.some(t=>r[t]!==void 0)}function CG(r){let e={velocity:br.velocity,stiffness:br.stiffness,damping:br.damping,mass:br.mass,isResolvedFromDuration:!1,...r};if(!zT(r,AG)&&zT(r,_G))if(r.visualDuration){const t=r.visualDuration,s=2*Math.PI/(t*1.2),a=s*s,i=2*Oo(.05,1,1-(r.bounce||0))*Math.sqrt(a);e={...e,mass:br.mass,stiffness:a,damping:i}}else{const t=jG(r);e={...e,...t,mass:br.mass},e.isResolvedFromDuration=!0}return e}function $0(r=br.visualDuration,e=br.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:s,restDelta:a}=t;const i=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:h,duration:f,velocity:g,isResolvedFromDuration:x}=CG({...t,velocity:-Vi(t.velocity||0)}),y=g||0,b=u/(2*Math.sqrt(c*h)),v=o-i,N=Vi(Math.sqrt(c/h)),k=Math.abs(v)<5;s||(s=k?br.restSpeed.granular:br.restSpeed.default),a||(a=k?br.restDelta.granular:br.restDelta.default);let C;if(b<1){const _=uN(N,b);C=I=>{const P=Math.exp(-b*N*I);return o-P*((y+b*N*v)/_*Math.sin(_*I)+v*Math.cos(_*I))}}else if(b===1)C=_=>o-Math.exp(-N*_)*(v+(y+N*v)*_);else{const _=N*Math.sqrt(b*b-1);C=I=>{const P=Math.exp(-b*N*I),T=Math.min(_*I,300);return o-P*((y+b*N*v)*Math.sinh(T)+_*v*Math.cosh(T))/_}}const R={calculatedDuration:x&&f||null,next:_=>{const I=C(_);if(x)l.done=_>=f;else{let P=_===0?y:0;b<1&&(P=_===0?zi(y):RM(C,_,I));const T=Math.abs(P)<=s,D=Math.abs(o-I)<=a;l.done=T&&D}return l.value=l.done?o:I,l},toString:()=>{const _=Math.min(W2(R),H0),I=PM(P=>R.next(_*P).value,_,30);return _+"ms "+I},toTransition:()=>{}};return R}$0.applyToOptions=r=>{const e=wG(r,100,$0);return r.ease=e.ease,r.duration=zi(e.duration),r.type="keyframes",r};function hN({keyframes:r,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const f=r[0],g={done:!1,value:f},x=T=>l!==void 0&&T<l||c!==void 0&&T>c,y=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let b=t*e;const v=f+b,N=o===void 0?v:o(v);N!==v&&(b=N-f);const k=T=>-b*Math.exp(-T/s),C=T=>N+k(T),R=T=>{const D=k(T),L=C(T);g.done=Math.abs(D)<=u,g.value=g.done?N:L};let _,I;const P=T=>{x(g.value)&&(_=T,I=$0({keyframes:[g.value,y(g.value)],velocity:RM(C,T,g.value),damping:a,stiffness:i,restDelta:u,restSpeed:h}))};return P(0),{calculatedDuration:null,next:T=>{let D=!1;return!I&&_===void 0&&(D=!0,R(T),P(T)),_!==void 0&&T>=_?I.next(T-_):(!D&&R(T),g)}}}function EG(r,e,t){const s=[],a=t||Lo.mix||TM,i=r.length-1;for(let o=0;o<i;o++){let l=a(r[o],r[o+1]);if(e){const c=Array.isArray(e)?e[o]||Un:e;l=Ag(c,l)}s.push(l)}return s}function TG(r,e,{clamp:t=!0,ease:s,mixer:a}={}){const i=r.length;if(M2(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=r[0]===r[1];r[0]>r[i-1]&&(r=[...r].reverse(),e=[...e].reverse());const l=EG(e,s,a),c=l.length,u=h=>{if(o&&h<r[0])return e[0];let f=0;if(c>1)for(;f<r.length-2&&!(h<r[f+1]);f++);const g=Mf(r[f],r[f+1],h);return l[f](g)};return t?h=>u(Oo(r[0],r[i-1],h)):u}function PG(r,e){const t=r[r.length-1];for(let s=1;s<=e;s++){const a=Mf(0,e,s);r.push(hr(t,1,a))}}function RG(r){const e=[0];return PG(e,r.length-1),e}function IG(r,e){return r.map(t=>t*e)}function DG(r,e){return r.map(()=>e||vM).splice(0,r.length-1)}function uf({duration:r=300,keyframes:e,times:t,ease:s="easeInOut"}){const a=WX(s)?s.map(MT):MT(s),i={done:!1,value:e[0]},o=IG(t&&t.length===e.length?t:RG(e),r),l=TG(o,e,{ease:Array.isArray(a)?a:DG(e,a)});return{calculatedDuration:r,next:c=>(i.value=l(c),i.done=c>=r,i)}}const MG=r=>r!==null;function Y2(r,{repeat:e,repeatType:t="loop"},s,a=1){const i=r.filter(MG),l=a<0||e&&t!=="loop"&&e%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const OG={decay:hN,inertia:hN,tween:uf,keyframes:uf,spring:$0};function IM(r){typeof r.type=="string"&&(r.type=OG[r.type])}class q2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const LG=r=>r/100;class X2 extends q2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Za.now()&&this.tick(Za.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;IM(e);const{type:t=uf,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=t||uf;c!==uf&&typeof l[0]!="number"&&(this.mixKeyframes=Ag(LG,TM(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=W2(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:h,repeat:f,repeatType:g,repeatDelay:x,type:y,onUpdate:b,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const N=this.currentTime-u*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let C=this.currentTime,R=s;if(f){const T=Math.min(this.currentTime,a)/l;let D=Math.floor(T),L=T%1;!L&&T>=1&&(L=1),L===1&&D--,D=Math.min(D,f+1),!!(D%2)&&(g==="reverse"?(L=1-L,x&&(L-=x/l)):g==="mirror"&&(R=o)),C=Oo(0,1,L)*l}const _=k?{done:!1,value:h[0]}:R.next(C);i&&(_.value=i(_.value));let{done:I}=_;!k&&c!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return P&&y!==hN&&(_.value=Y2(h,this.options,v,this.speed)),b&&b(_.value),P&&this.finish(),_}then(e,t){return this.finished.then(e,t)}get duration(){return Vi(this.calculatedDuration)}get time(){return Vi(this.currentTime)}set time(e){e=zi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Za.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Vi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=vG,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Za.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function FG(r){for(let e=1;e<r.length;e++)r[e]??(r[e]=r[e-1])}const Hc=r=>r*180/Math.PI,mN=r=>{const e=Hc(Math.atan2(r[1],r[0]));return fN(e)},UG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:mN,rotateZ:mN,skewX:r=>Hc(Math.atan(r[1])),skewY:r=>Hc(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},fN=r=>(r=r%360,r<0&&(r+=360),r),VT=mN,BT=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),HT=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),zG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BT,scaleY:HT,scale:r=>(BT(r)+HT(r))/2,rotateX:r=>fN(Hc(Math.atan2(r[6],r[5]))),rotateY:r=>fN(Hc(Math.atan2(-r[2],r[0]))),rotateZ:VT,rotate:VT,skewX:r=>Hc(Math.atan(r[4])),skewY:r=>Hc(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function gN(r){return r.includes("scale")?1:0}function pN(r,e){if(!r||r==="none")return gN(e);const t=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(t)s=zG,a=t;else{const l=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=UG,a=l}if(!a)return gN(e);const i=s[e],o=a[1].split(",").map(BG);return typeof i=="function"?i(o):o[i]}const VG=(r,e)=>{const{transform:t="none"}=getComputedStyle(r);return pN(t,e)};function BG(r){return parseFloat(r.trim())}const xh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bh=new Set(xh),$T=r=>r===ph||r===Rt,HG=new Set(["x","y","z"]),$G=xh.filter(r=>!HG.has(r));function WG(r){const e=[];return $G.forEach(t=>{const s=r.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const ed={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:(r,{transform:e})=>pN(e,"x"),y:(r,{transform:e})=>pN(e,"y")};ed.translateX=ed.x;ed.translateY=ed.y;const td=new Set;let xN=!1,bN=!1,yN=!1;function DM(){if(bN){const r=Array.from(td).filter(s=>s.needsMeasurement),e=new Set(r.map(s=>s.element)),t=new Map;e.forEach(s=>{const a=WG(s);a.length&&(t.set(s,a),s.render())}),r.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=t.get(s);a&&a.forEach(([i,o])=>{s.getValue(i)?.set(o)})}),r.forEach(s=>s.measureEndState()),r.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}bN=!1,xN=!1,td.forEach(r=>r.complete(yN)),td.clear()}function MM(){td.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(bN=!0)})}function YG(){yN=!0,MM(),DM(),yN=!1}class G2{constructor(e,t,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(td.add(this),xN||(xN=!0,dr.read(MM),dr.resolveKeyframes(DM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:a}=this;if(e[0]===null){const i=a?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&t){const l=s.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}FG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),td.delete(this)}cancel(){this.state==="scheduled"&&(td.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qG=r=>r.startsWith("--");function XG(r,e,t){qG(e)?r.style.setProperty(e,t):r.style[e]=t}const GG=O2(()=>window.ScrollTimeline!==void 0),KG={};function QG(r,e){const t=O2(r);return()=>KG[e]??t()}const OM=QG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qm=([r,e,t,s])=>`cubic-bezier(${r}, ${e}, ${t}, ${s})`,WT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qm([0,.65,.55,1]),circOut:qm([.55,0,1,.45]),backIn:qm([.31,.01,.66,-.59]),backOut:qm([.33,1.53,.69,.99])};function LM(r,e){if(r)return typeof r=="function"?OM()?PM(r,e):"ease-out":wM(r)?qm(r):Array.isArray(r)?r.map(t=>LM(t,e)||WT.easeOut):WT[r]}function ZG(r,e,t,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const h={[e]:t};c&&(h.offset=c);const f=LM(l,a);Array.isArray(f)&&(h.easing=f);const g={delay:s,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),r.animate(h,g)}function FM(r){return typeof r=="function"&&"applyToOptions"in r}function JG({type:r,...e}){return FM(r)&&OM()?r.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eK extends q2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,M2(typeof e.type!="string");const u=JG(e);this.animation=ZG(t,s,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=Y2(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):XG(t,s,h),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Vi(Number(e))}get time(){return Vi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&GG()?(this.animation.timeline=e,Un):t(this)}}const UM={anticipate:xM,backInOut:pM,circInOut:yM};function tK(r){return r in UM}function sK(r){typeof r.ease=="string"&&tK(r.ease)&&(r.ease=UM[r.ease])}const YT=10;class rK extends eK{constructor(e){sK(e),IM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new X2({...o,autoplay:!1}),c=zi(this.finishedTime??this.time);t.setWithVelocity(l.sample(c-YT).value,l.sample(c).value,YT),l.stop()}}const qT=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Fl.test(r)||r==="0")&&!r.startsWith("url("));function aK(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function nK(r,e,t,s){const a=r[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=r[r.length-1],o=qT(a,e),l=qT(i,e);return!o||!l?!1:aK(r)||(t==="spring"||FM(t))&&s}function vN(r){r.duration=0,r.type}const iK=new Set(["opacity","clipPath","filter","transform"]),oK=O2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lK(r){const{motionValue:e,name:t,repeatDelay:s,repeatType:a,damping:i,type:o}=r;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return oK()&&t&&iK.has(t)&&(t!=="transform"||!u)&&!c&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const cK=40;class dK extends q2{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:h,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Za.now();const g={autoplay:e,delay:t,type:s,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:h,...f},x=h?.KeyframeResolver||G2;this.keyframeResolver=new x(l,(y,b,v)=>this.onKeyframesResolved(y,b,g,!v),c,u,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:h}=s;this.resolvedAt=Za.now(),nK(e,i,o,l)||((Lo.instantAnimations||!c)&&h?.(Y2(e,s,t)),e[0]=e[e.length-1],vN(s),s.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>cK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},x=!u&&lK(g)?new rK({...g,element:g.motionValue.owner.current}):new X2(g);x.finished.then(()=>this.notifyFinished()).catch(Un),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),YG()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const uK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hK(r){const e=uK.exec(r);if(!e)return[,];const[,t,s,a]=e;return[`--${t??s}`,a]}function zM(r,e,t=1){const[s,a]=hK(r);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return lM(o)?parseFloat(o):o}return V2(a)?zM(a,e,t+1):a}function K2(r,e){return r?.[e]??r?.default??r}const VM=new Set(["width","height","top","left","right","bottom",...xh]),mK={test:r=>r==="auto",parse:r=>r},BM=r=>e=>e.test(r),HM=[ph,Rt,Bi,hl,aG,rG,mK],XT=r=>HM.find(BM(r));function fK(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||dM(r):!0}const gK=new Set(["brightness","contrast","saturate","opacity"]);function pK(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[s]=t.match(B2)||[];if(!s)return r;const a=t.replace(s,"");let i=gK.has(e)?1:0;return s!==t&&(i*=100),e+"("+i+a+")"}const xK=/\b([a-z-]*)\(.*?\)/gu,wN={...Fl,getAnimatableNone:r=>{const e=r.match(xK);return e?e.map(pK).join(" "):r}},GT={...ph,transform:Math.round},bK={rotate:hl,rotateX:hl,rotateY:hl,rotateZ:hl,scale:hx,scaleX:hx,scaleY:hx,scaleZ:hx,skew:hl,skewX:hl,skewY:hl,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:Of,originX:OT,originY:OT,originZ:Rt},Q2={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...bK,zIndex:GT,fillOpacity:Of,strokeOpacity:Of,numOctaves:GT},yK={...Q2,color:Lr,backgroundColor:Lr,outlineColor:Lr,fill:Lr,stroke:Lr,borderColor:Lr,borderTopColor:Lr,borderRightColor:Lr,borderBottomColor:Lr,borderLeftColor:Lr,filter:wN,WebkitFilter:wN},$M=r=>yK[r];function WM(r,e){let t=$M(r);return t!==wN&&(t=Fl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const vK=new Set(["auto","none","0"]);function wK(r,e,t){let s=0,a;for(;s<r.length&&!a;){const i=r[s];typeof i=="string"&&!vK.has(i)&&Lf(i).values.length&&(a=r[s]),s++}if(a&&t)for(const i of e)r[i]=WM(t,a)}class NK extends G2{constructor(e,t,s,a,i){super(e,t,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),V2(u))){const h=zM(u,t.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!VM.has(s)||e.length!==2)return;const[a,i]=e,o=XT(a),l=XT(i);if(o!==l)if($T(o)&&$T(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else ed[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||fK(e[a]))&&s.push(a);s.length&&wK(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ed[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=ed[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function jK(r,e,t){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let s=document;const a=t?.[r]??s.querySelectorAll(r);return a?Array.from(a):[]}return Array.from(r)}const YM=(r,e)=>e&&typeof r=="number"?e.transform(r):r;function qM(r){return cM(r)&&"offsetHeight"in r}const KT=30,kK=r=>!isNaN(parseFloat(r));class SK{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Za.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Za.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new L2);const s=this.events[e].add(t);return e==="change"?()=>{s(),dr.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Za.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>KT)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,KT);return uM(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gu(r,e){return new SK(r,e)}const{schedule:Z2}=NM(queueMicrotask,!1),Xn={x:!1,y:!1};function XM(){return Xn.x||Xn.y}function _K(r){return r==="x"||r==="y"?Xn[r]?null:(Xn[r]=!0,()=>{Xn[r]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}function GM(r,e){const t=jK(r),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[t,a,()=>s.abort()]}function QT(r){return!(r.pointerType==="touch"||XM())}function AK(r,e,t={}){const[s,a,i]=GM(r,t),o=l=>{if(!QT(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const h=f=>{QT(f)&&(u(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const KM=(r,e)=>e?r===e?!0:KM(r,e.parentElement):!1,J2=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,CK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EK(r){return CK.has(r.tagName)||r.tabIndex!==-1}const r0=new WeakSet;function ZT(r){return e=>{e.key==="Enter"&&r(e)}}function Iw(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TK=(r,e)=>{const t=r.currentTarget;if(!t)return;const s=ZT(()=>{if(r0.has(t))return;Iw(t,"down");const a=ZT(()=>{Iw(t,"up")}),i=()=>Iw(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",i,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function JT(r){return J2(r)&&!XM()}function PK(r,e,t={}){const[s,a,i]=GM(r,t),o=l=>{const c=l.currentTarget;if(!JT(l))return;r0.add(c);const u=e(c,l),h=(x,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),r0.has(c)&&r0.delete(c),JT(x)&&typeof u=="function"&&u(x,{success:y})},f=x=>{h(x,c===window||c===document||t.useGlobalTarget||KM(c,x.target))},g=x=>{h(x,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",g,a)};return s.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),qM(l)&&(l.addEventListener("focus",u=>TK(u,a)),!EK(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function QM(r){return cM(r)&&"ownerSVGElement"in r}function RK(r){return QM(r)&&r.tagName==="svg"}const ja=r=>!!(r&&r.getVelocity),IK=[...HM,Lr,Fl],DK=r=>IK.find(BM(r)),ek=E.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class MK extends E.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const s=t.offsetParent,a=qM(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function OK({children:r,isPresent:e,anchorX:t,root:s}){const a=E.useId(),i=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=E.useContext(ek);return E.useInsertionEffect(()=>{const{width:c,height:u,top:h,left:f,right:g}=o.current;if(e||!i.current||!c||!u)return;const x=t==="left"?`left: ${f}`:`right: ${g}`;i.current.dataset.motionPopId=a;const y=document.createElement("style");l&&(y.nonce=l);const b=s??document.head;return b.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{b.contains(y)&&b.removeChild(y)}},[e]),n.jsx(MK,{isPresent:e,childRef:i,sizeRef:o,children:E.cloneElement(r,{ref:i})})}const LK=({children:r,initial:e,isPresent:t,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=P2(FK),h=E.useId();let f=!0,g=E.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:t,custom:a,onExitComplete:x=>{u.set(x,!0);for(const y of u.values())if(!y)return;s&&s()},register:x=>(u.set(x,!1),()=>u.delete(x))}),[t,u,s]);return i&&f&&(g={...g}),E.useMemo(()=>{u.forEach((x,y)=>u.set(y,!1))},[t]),E.useEffect(()=>{!t&&!u.size&&s&&s()},[t]),o==="popLayout"&&(r=n.jsx(OK,{isPresent:t,anchorX:l,root:c,children:r})),n.jsx(Xb.Provider,{value:g,children:r})};function FK(){return new Map}function ZM(r=!0){const e=E.useContext(Xb);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,i=E.useId();E.useEffect(()=>{if(r)return a(i)},[r]);const o=E.useCallback(()=>r&&s&&s(i),[i,s,r]);return!t&&s?[!1,o]:[!0]}const mx=r=>r.key||"";function eP(r){const e=[];return E.Children.forEach(r,t=>{E.isValidElement(t)&&e.push(t)}),e}const Ua=({children:r,custom:e,initial:t=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,h]=ZM(o),f=E.useMemo(()=>eP(r),[r]),g=o&&!u?[]:f.map(mx),x=E.useRef(!0),y=E.useRef(f),b=P2(()=>new Map),[v,N]=E.useState(f),[k,C]=E.useState(f);oM(()=>{x.current=!1,y.current=f;for(let I=0;I<k.length;I++){const P=mx(k[I]);g.includes(P)?b.delete(P):b.get(P)!==!0&&b.set(P,!1)}},[k,g.length,g.join("-")]);const R=[];if(f!==v){let I=[...f];for(let P=0;P<k.length;P++){const T=k[P],D=mx(T);g.includes(D)||(I.splice(P,0,T),R.push(T))}return i==="wait"&&R.length&&(I=R),C(eP(I)),N(f),null}const{forceRender:_}=E.useContext(T2);return n.jsx(n.Fragment,{children:k.map(I=>{const P=mx(I),T=o&&!u?!1:f===k||g.includes(P),D=()=>{if(b.has(P))b.set(P,!0);else return;let L=!0;b.forEach(F=>{F||(L=!1)}),L&&(_?.(),C(y.current),o&&h?.(),s&&s())};return n.jsx(LK,{isPresent:T,initial:!x.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:T?void 0:D,anchorX:l,children:I},P)})})},JM=E.createContext({strict:!1}),tP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ku={};for(const r in tP)Ku[r]={isEnabled:e=>tP[r].some(t=>!!e[t])};function UK(r){for(const e in r)Ku[e]={...Ku[e],...r[e]}}const zK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function W0(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||zK.has(r)}let e5=r=>!W0(r);function VK(r){typeof r=="function"&&(e5=e=>e.startsWith("on")?!W0(e):r(e))}try{VK(require("@emotion/is-prop-valid").default)}catch{}function BK(r,e,t){const s={};for(const a in r)a==="values"&&typeof r.values=="object"||(e5(a)||t===!0&&W0(a)||!e&&!W0(a)||r.draggable&&a.startsWith("onDrag"))&&(s[a]=r[a]);return s}const Gb=E.createContext({});function Kb(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Ff(r){return typeof r=="string"||Array.isArray(r)}const tk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sk=["initial",...tk];function Qb(r){return Kb(r.animate)||sk.some(e=>Ff(r[e]))}function t5(r){return!!(Qb(r)||r.variants)}function HK(r,e){if(Qb(r)){const{initial:t,animate:s}=r;return{initial:t===!1||Ff(t)?t:void 0,animate:Ff(s)?s:void 0}}return r.inherit!==!1?e:{}}function $K(r){const{initial:e,animate:t}=HK(r,E.useContext(Gb));return E.useMemo(()=>({initial:e,animate:t}),[sP(e),sP(t)])}function sP(r){return Array.isArray(r)?r.join(" "):r}const Uf={};function WK(r){for(const e in r)Uf[e]=r[e],z2(e)&&(Uf[e].isCSSVariable=!0)}function s5(r,{layout:e,layoutId:t}){return bh.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!Uf[r]||r==="opacity")}const YK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qK=xh.length;function XK(r,e,t){let s="",a=!0;for(let i=0;i<qK;i++){const o=xh[i],l=r[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const u=YM(l,Q2[o]);if(!c){a=!1;const h=YK[o]||o;s+=`${h}(${u}) `}t&&(e[o]=u)}}return s=s.trim(),t?s=t(e,a?"":s):a&&(s="none"),s}function rk(r,e,t){const{style:s,vars:a,transformOrigin:i}=r;let o=!1,l=!1;for(const c in e){const u=e[c];if(bh.has(c)){o=!0;continue}else if(z2(c)){a[c]=u;continue}else{const h=YM(u,Q2[c]);c.startsWith("origin")?(l=!0,i[c]=h):s[c]=h}}if(e.transform||(o||t?s.transform=XK(e,r.transform,t):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=i;s.transformOrigin=`${c} ${u} ${h}`}}const ak=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r5(r,e,t){for(const s in e)!ja(e[s])&&!s5(s,t)&&(r[s]=e[s])}function GK({transformTemplate:r},e){return E.useMemo(()=>{const t=ak();return rk(t,e,r),Object.assign({},t.vars,t.style)},[e])}function KK(r,e){const t=r.style||{},s={};return r5(s,t,r),Object.assign(s,GK(r,e)),s}function QK(r,e){const t={},s=KK(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=s,t}const ZK={offset:"stroke-dashoffset",array:"stroke-dasharray"},JK={offset:"strokeDashoffset",array:"strokeDasharray"};function eQ(r,e,t=1,s=0,a=!0){r.pathLength=1;const i=a?ZK:JK;r[i.offset]=Rt.transform(-s);const o=Rt.transform(e),l=Rt.transform(t);r[i.array]=`${o} ${l}`}function a5(r,{attrX:e,attrY:t,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,h){if(rk(r,l,u),c){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:f,style:g}=r;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=h?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),s!==void 0&&(f.scale=s),a!==void 0&&eQ(f,a,i,o,!1)}const n5=()=>({...ak(),attrs:{}}),i5=r=>typeof r=="string"&&r.toLowerCase()==="svg";function tQ(r,e,t,s){const a=E.useMemo(()=>{const i=n5();return a5(i,e,i5(s),r.transformTemplate,r.style),{...i.attrs,style:{...i.style}}},[e]);if(r.style){const i={};r5(i,r.style,r),a.style={...i,...a.style}}return a}const sQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nk(r){return typeof r!="string"||r.includes("-")?!1:!!(sQ.indexOf(r)>-1||/[A-Z]/u.test(r))}function rQ(r,e,t,{latestValues:s},a,i=!1){const l=(nk(r)?tQ:QK)(e,s,a,r),c=BK(e,typeof r=="string",i),u=r!==E.Fragment?{...c,...l,ref:t}:{},{children:h}=e,f=E.useMemo(()=>ja(h)?h.get():h,[h]);return E.createElement(r,{...u,children:f})}function rP(r){const e=[{},{}];return r?.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function ik(r,e,t,s){if(typeof e=="function"){const[a,i]=rP(s);e=e(t!==void 0?t:r.custom,a,i)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[a,i]=rP(s);e=e(t!==void 0?t:r.custom,a,i)}return e}function a0(r){return ja(r)?r.get():r}function aQ({scrapeMotionValuesFromProps:r,createRenderState:e},t,s,a){return{latestValues:nQ(t,s,a,r),renderState:e()}}function nQ(r,e,t,s){const a={},i=s(r,{});for(const g in i)a[g]=a0(i[g]);let{initial:o,animate:l}=r;const c=Qb(r),u=t5(r);e&&u&&!c&&r.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!Kb(f)){const g=Array.isArray(f)?f:[f];for(let x=0;x<g.length;x++){const y=ik(r,g[x]);if(y){const{transitionEnd:b,transition:v,...N}=y;for(const k in N){let C=N[k];if(Array.isArray(C)){const R=h?C.length-1:0;C=C[R]}C!==null&&(a[k]=C)}for(const k in b)a[k]=b[k]}}}return a}const o5=r=>(e,t)=>{const s=E.useContext(Gb),a=E.useContext(Xb),i=()=>aQ(r,e,s,a);return t?i():P2(i)};function ok(r,e,t){const{style:s}=r,a={};for(const i in s)(ja(s[i])||e.style&&ja(e.style[i])||s5(i,r)||t?.getValue(i)?.liveStyle!==void 0)&&(a[i]=s[i]);return a}const iQ=o5({scrapeMotionValuesFromProps:ok,createRenderState:ak});function l5(r,e,t){const s=ok(r,e,t);for(const a in r)if(ja(r[a])||ja(e[a])){const i=xh.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=r[a]}return s}const oQ=o5({scrapeMotionValuesFromProps:l5,createRenderState:n5}),lQ=Symbol.for("motionComponentSymbol");function Au(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function cQ(r,e,t){return E.useCallback(s=>{s&&r.onMount&&r.onMount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):Au(t)&&(t.current=s))},[e])}const lk=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dQ="framerAppearId",c5="data-"+lk(dQ),d5=E.createContext({});function uQ(r,e,t,s,a){const{visualElement:i}=E.useContext(Gb),o=E.useContext(JM),l=E.useContext(Xb),c=E.useContext(ek).reducedMotion,u=E.useRef(null);s=s||o.renderer,!u.current&&s&&(u.current=s(r,{visualState:e,parent:i,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,f=E.useContext(d5);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&hQ(u.current,t,a,f);const g=E.useRef(!1);E.useInsertionEffect(()=>{h&&g.current&&h.update(t,l)});const x=t[c5],y=E.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return oM(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),y.current&&h.animationState&&h.animationState.animateChanges())}),E.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),y.current=!1),h.enteringChildren=void 0)}),h}function hQ(r,e,t,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:h}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:u5(r.parent)),r.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Au(l),visualElement:r,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:h,layoutScroll:c,layoutRoot:u})}function u5(r){if(r)return r.options.allowProjection!==!1?r.projection:u5(r.parent)}function Dw(r,{forwardMotionProps:e=!1}={},t,s){t&&UK(t);const a=nk(r)?oQ:iQ;function i(l,c){let u;const h={...E.useContext(ek),...l,layoutId:mQ(l)},{isStatic:f}=h,g=$K(l),x=a(l,f);if(!f&&R2){fQ();const y=gQ(h);u=y.MeasureLayout,g.visualElement=uQ(r,x,h,s,y.ProjectionNode)}return n.jsxs(Gb.Provider,{value:g,children:[u&&g.visualElement?n.jsx(u,{visualElement:g.visualElement,...h}):null,rQ(r,l,cQ(x,g.visualElement,c),x,f,e)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=E.forwardRef(i);return o[lQ]=r,o}function mQ({layoutId:r}){const e=E.useContext(T2).id;return e&&r!==void 0?e+"-"+r:r}function fQ(r,e){E.useContext(JM).strict}function gQ(r){const{drag:e,layout:t}=Ku;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e?.isEnabled(r)||t?.isEnabled(r)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function pQ(r,e){if(typeof Proxy>"u")return Dw;const t=new Map,s=(i,o)=>Dw(i,o,r,e),a=(i,o)=>s(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?s:(t.has(o)||t.set(o,Dw(o,void 0,r,e)),t.get(o))})}function h5({top:r,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:r,max:s}}}function xQ({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function bQ(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),s=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function Mw(r){return r===void 0||r===1}function NN({scale:r,scaleX:e,scaleY:t}){return!Mw(r)||!Mw(e)||!Mw(t)}function Ic(r){return NN(r)||m5(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function m5(r){return aP(r.x)||aP(r.y)}function aP(r){return r&&r!=="0%"}function Y0(r,e,t){const s=r-t,a=e*s;return t+a}function nP(r,e,t,s,a){return a!==void 0&&(r=Y0(r,a,s)),Y0(r,t,s)+e}function jN(r,e=0,t=1,s,a){r.min=nP(r.min,e,t,s,a),r.max=nP(r.max,e,t,s,a)}function f5(r,{x:e,y:t}){jN(r.x,e.translate,e.scale,e.originPoint),jN(r.y,t.translate,t.scale,t.originPoint)}const iP=.999999999999,oP=1.0000000000001;function yQ(r,e,t,s=!1){const a=t.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=t[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Eu(r,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,f5(r,o)),s&&Ic(i.latestValues)&&Eu(r,i.latestValues))}e.x<oP&&e.x>iP&&(e.x=1),e.y<oP&&e.y>iP&&(e.y=1)}function Cu(r,e){r.min=r.min+e,r.max=r.max+e}function lP(r,e,t,s,a=.5){const i=hr(r.min,r.max,a);jN(r,e,t,i,s)}function Eu(r,e){lP(r.x,e.x,e.scaleX,e.scale,e.originX),lP(r.y,e.y,e.scaleY,e.scale,e.originY)}function g5(r,e){return h5(bQ(r.getBoundingClientRect(),e))}function vQ(r,e,t){const s=g5(r,t),{scroll:a}=e;return a&&(Cu(s.x,a.offset.x),Cu(s.y,a.offset.y)),s}const cP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tu=()=>({x:cP(),y:cP()}),dP=()=>({min:0,max:0}),Cr=()=>({x:dP(),y:dP()}),kN={current:null},p5={current:!1};function wQ(){if(p5.current=!0,!!R2)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>kN.current=r.matches;r.addEventListener("change",e),e()}else kN.current=!1}const NQ=new WeakMap;function jQ(r,e,t){for(const s in e){const a=e[s],i=t[s];if(ja(a))r.addValue(s,a);else if(ja(i))r.addValue(s,Gu(a,{owner:r}));else if(i!==a)if(r.hasValue(s)){const o=r.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=r.getStaticValue(s);r.addValue(s,Gu(o!==void 0?o:a,{owner:r}))}}for(const s in t)e[s]===void 0&&r.removeValue(s);return e}const uP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kQ{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=G2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Za.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,dr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Qb(t),this.isVariantNode=t5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(t,{},this);for(const g in f){const x=f[g];c[g]!==void 0&&ja(x)&&x.set(c[g])}}mount(e){this.current=e,NQ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),p5.current||wQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kN.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ll(this.notifyUpdate),Ll(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=bh.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&dr.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ku){const t=Ku[e];if(!t)continue;const{isEnabled:s,Feature:a}=t;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<uP.length;s++){const a=uP[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=jQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=Gu(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(lM(s)||dM(s))?s=parseFloat(s):!DK(s)&&Fl.test(t)&&(s=WM(e,t)),this.setBaseTarget(e,ja(s)?s.get():s)),ja(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const i=ik(this.props,t,this.presenceContext?.custom);i&&(s=i[e])}if(t&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ja(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new L2),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Z2.render(this.render)}}class x5 extends kQ{constructor(){super(...arguments),this.KeyframeResolver=NK}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ja(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function b5(r,{style:e,vars:t},s,a){const i=r.style;let o;for(o in e)i[o]=e[o];a?.applyProjectionStyles(i,s);for(o in t)i.setProperty(o,t[o])}function SQ(r){return window.getComputedStyle(r)}class _Q extends x5{constructor(){super(...arguments),this.type="html",this.renderInstance=b5}readValueFromInstance(e,t){if(bh.has(t))return this.projection?.isProjecting?gN(t):VG(e,t);{const s=SQ(e),a=(z2(t)?s.getPropertyValue(t):s[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return g5(e,t)}build(e,t,s){rk(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return ok(e,t,s)}}const y5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AQ(r,e,t,s){b5(r,e,void 0,s);for(const a in e.attrs)r.setAttribute(y5.has(a)?a:lk(a),e.attrs[a])}class CQ extends x5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(bh.has(t)){const s=$M(t);return s&&s.default||0}return t=y5.has(t)?t:lk(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return l5(e,t,s)}build(e,t,s){a5(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,a){AQ(e,t,s,a)}mount(e){this.isSVGTag=i5(e.tagName),super.mount(e)}}const EQ=(r,e)=>nk(r)?new CQ(e):new _Q(e,{allowProjection:r!==E.Fragment});function Ou(r,e,t){const s=r.getProps();return ik(s,e,t!==void 0?t:s.custom,r)}const SN=r=>Array.isArray(r);function TQ(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,Gu(t))}function PQ(r){return SN(r)?r[r.length-1]||0:r}function RQ(r,e){const t=Ou(r,e);let{transitionEnd:s={},transition:a={},...i}=t||{};i={...i,...s};for(const o in i){const l=PQ(i[o]);TQ(r,o,l)}}function IQ(r){return!!(ja(r)&&r.add)}function _N(r,e){const t=r.getValue("willChange");if(IQ(t))return t.add(e);if(!t&&Lo.WillChange){const s=new Lo.WillChange("auto");r.addValue("willChange",s),s.add(e)}}function v5(r){return r.props[c5]}const DQ=r=>r!==null;function MQ(r,{repeat:e,repeatType:t="loop"},s){const a=r.filter(DQ),i=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[i]}const OQ={type:"spring",stiffness:500,damping:25,restSpeed:10},LQ=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),FQ={type:"keyframes",duration:.8},UQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zQ=(r,{keyframes:e})=>e.length>2?FQ:bh.has(r)?r.startsWith("scale")?LQ(e[1]):OQ:UQ;function VQ({when:r,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const ck=(r,e,t,s={},a,i)=>o=>{const l=K2(s,r)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-zi(c);const h={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:r,motionValue:e,element:i?void 0:a};VQ(l)||Object.assign(h,zQ(r,h)),h.duration&&(h.duration=zi(h.duration)),h.repeatDelay&&(h.repeatDelay=zi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(vN(h),h.delay===0&&(f=!0)),(Lo.instantAnimations||Lo.skipAnimations)&&(f=!0,vN(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!i&&e.get()!==void 0){const g=MQ(h.keyframes,l);if(g!==void 0){dr.update(()=>{h.onUpdate(g),h.onComplete()});return}}return l.isSync?new X2(h):new dK(h)};function BQ({protectedKeys:r,needsAnimating:e},t){const s=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function w5(r,e,{delay:t=0,transitionOverride:s,type:a}={}){let{transition:i=r.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(i=s);const c=[],u=a&&r.animationState&&r.animationState.getState()[a];for(const h in l){const f=r.getValue(h,r.latestValues[h]??null),g=l[h];if(g===void 0||u&&BQ(u,h))continue;const x={delay:t,...K2(i||{},h)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===y&&!x.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const N=v5(r);if(N){const k=window.MotionHandoffAnimation(N,h,dr);k!==null&&(x.startTime=k,b=!0)}}_N(r,h),f.start(ck(h,f,g,r.shouldReduceMotion&&VM.has(h)?{type:!1}:x,r,b));const v=f.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{dr.update(()=>{o&&RQ(r,o)})}),c}function N5(r,e,t,s=0,a=1){const i=Array.from(r).sort((u,h)=>u.sortNodePosition(h)).indexOf(e),o=r.size,l=(o-1)*s;return typeof t=="function"?t(i,o):a===1?i*s:l-i*s}function AN(r,e,t={}){const s=Ou(r,e,t.type==="exit"?r.presenceContext?.custom:void 0);let{transition:a=r.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const i=s?()=>Promise.all(w5(r,s,t)):()=>Promise.resolve(),o=r.variantChildren&&r.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=a;return HQ(r,e,c,u,h,f,t)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(t.delay)])}function HQ(r,e,t=0,s=0,a=0,i=1,o){const l=[];for(const c of r.variantChildren)c.notify("AnimationStart",e),l.push(AN(c,e,{...o,delay:t+(typeof s=="function"?0:s)+N5(r.variantChildren,c,s,a,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function $Q(r,e,t={}){r.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(i=>AN(r,i,t));s=Promise.all(a)}else if(typeof e=="string")s=AN(r,e,t);else{const a=typeof e=="function"?Ou(r,e,t.custom):e;s=Promise.all(w5(r,a,t))}return s.then(()=>{r.notify("AnimationComplete",e)})}function j5(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let s=0;s<t;s++)if(e[s]!==r[s])return!1;return!0}const WQ=sk.length;function k5(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?k5(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<WQ;t++){const s=sk[t],a=r.props[s];(Ff(a)||a===!1)&&(e[s]=a)}return e}const YQ=[...tk].reverse(),qQ=tk.length;function XQ(r){return e=>Promise.all(e.map(({animation:t,options:s})=>$Q(r,t,s)))}function GQ(r){let e=XQ(r),t=hP(),s=!0;const a=c=>(u,h)=>{const f=Ou(r,h,c==="exit"?r.presenceContext?.custom:void 0);if(f){const{transition:g,transitionEnd:x,...y}=f;u={...u,...y,...x}}return u};function i(c){e=c(r)}function o(c){const{props:u}=r,h=k5(r.parent)||{},f=[],g=new Set;let x={},y=1/0;for(let v=0;v<qQ;v++){const N=YQ[v],k=t[N],C=u[N]!==void 0?u[N]:h[N],R=Ff(C),_=N===c?k.isActive:null;_===!1&&(y=v);let I=C===h[N]&&C!==u[N]&&R;if(I&&s&&r.manuallyAnimateOnMount&&(I=!1),k.protectedKeys={...x},!k.isActive&&_===null||!C&&!k.prevProp||Kb(C)||typeof C=="boolean")continue;const P=KQ(k.prevProp,C);let T=P||N===c&&k.isActive&&!I&&R||v>y&&R,D=!1;const L=Array.isArray(C)?C:[C];let F=L.reduce(a(N),{});_===!1&&(F={});const{prevResolvedValues:z={}}=k,O={...z,...F},V=q=>{T=!0,g.has(q)&&(D=!0,g.delete(q)),k.needsAnimating[q]=!0;const ee=r.getValue(q);ee&&(ee.liveStyle=!1)};for(const q in O){const ee=F[q],G=z[q];if(x.hasOwnProperty(q))continue;let $=!1;SN(ee)&&SN(G)?$=!j5(ee,G):$=ee!==G,$?ee!=null?V(q):g.add(q):ee!==void 0&&g.has(q)?V(q):k.protectedKeys[q]=!0}k.prevProp=C,k.prevResolvedValues=F,k.isActive&&(x={...x,...F}),s&&r.blockInitialAnimation&&(T=!1);const H=I&&P;T&&(!H||D)&&f.push(...L.map(q=>{const ee={type:N};if(typeof q=="string"&&s&&!H&&r.manuallyAnimateOnMount&&r.parent){const{parent:G}=r,$=Ou(G,q);if(G.enteringChildren&&$){const{delayChildren:Q}=$.transition||{};ee.delay=N5(G.enteringChildren,r,Q)}}return{animation:q,options:ee}}))}if(g.size){const v={};if(typeof u.initial!="boolean"){const N=Ou(r,Array.isArray(u.initial)?u.initial[0]:u.initial);N&&N.transition&&(v.transition=N.transition)}g.forEach(N=>{const k=r.getBaseTarget(N),C=r.getValue(N);C&&(C.liveStyle=!0),v[N]=k??null}),f.push({animation:v})}let b=!!f.length;return s&&(u.initial===!1||u.initial===u.animate)&&!r.manuallyAnimateOnMount&&(b=!1),s=!1,b?e(f):Promise.resolve()}function l(c,u){if(t[c].isActive===u)return Promise.resolve();r.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),t[c].isActive=u;const h=o(c);for(const f in t)t[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>t,reset:()=>{t=hP(),s=!0}}}function KQ(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!j5(e,r):!1}function Sc(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hP(){return{animate:Sc(!0),whileInView:Sc(),whileHover:Sc(),whileTap:Sc(),whileDrag:Sc(),whileFocus:Sc(),exit:Sc()}}class Ql{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QQ extends Ql{constructor(e){super(e),e.animationState||(e.animationState=GQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ZQ=0;class JQ extends Ql{constructor(){super(...arguments),this.id=ZQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eZ={animation:{Feature:QQ},exit:{Feature:JQ}};function zf(r,e,t,s={passive:!0}){return r.addEventListener(e,t,s),()=>r.removeEventListener(e,t)}function Tg(r){return{point:{x:r.pageX,y:r.pageY}}}const tZ=r=>e=>J2(e)&&r(e,Tg(e));function hf(r,e,t,s){return zf(r,e,tZ(t),s)}const S5=1e-4,sZ=1-S5,rZ=1+S5,_5=.01,aZ=0-_5,nZ=0+_5;function Oa(r){return r.max-r.min}function iZ(r,e,t){return Math.abs(r-e)<=t}function mP(r,e,t,s=.5){r.origin=s,r.originPoint=hr(e.min,e.max,r.origin),r.scale=Oa(t)/Oa(e),r.translate=hr(t.min,t.max,r.origin)-r.originPoint,(r.scale>=sZ&&r.scale<=rZ||isNaN(r.scale))&&(r.scale=1),(r.translate>=aZ&&r.translate<=nZ||isNaN(r.translate))&&(r.translate=0)}function mf(r,e,t,s){mP(r.x,e.x,t.x,s?s.originX:void 0),mP(r.y,e.y,t.y,s?s.originY:void 0)}function fP(r,e,t){r.min=t.min+e.min,r.max=r.min+Oa(e)}function oZ(r,e,t){fP(r.x,e.x,t.x),fP(r.y,e.y,t.y)}function gP(r,e,t){r.min=e.min-t.min,r.max=r.min+Oa(e)}function ff(r,e,t){gP(r.x,e.x,t.x),gP(r.y,e.y,t.y)}function On(r){return[r("x"),r("y")]}const A5=({current:r})=>r?r.ownerDocument.defaultView:null,pP=(r,e)=>Math.abs(r-e);function lZ(r,e){const t=pP(r.x,e.x),s=pP(r.y,e.y);return Math.sqrt(t**2+s**2)}class C5{constructor(e,t,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Lw(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,y=lZ(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!y)return;const{point:b}=g,{timestamp:v}=ca;this.history.push({...b,timestamp:v});const{onStart:N,onMove:k}=this.handlers;x||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Ow(x,this.transformPagePoint),dr.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Lw(g.type==="pointercancel"?this.lastMoveEventInfo:Ow(x,this.transformPagePoint),this.history);this.startEvent&&y&&y(g,N),b&&b(g,N)},!J2(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const l=Tg(e),c=Ow(l,this.transformPagePoint),{point:u}=c,{timestamp:h}=ca;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=t;f&&f(e,Lw(c,this.history)),this.removeListeners=Ag(hf(this.contextWindow,"pointermove",this.handlePointerMove),hf(this.contextWindow,"pointerup",this.handlePointerUp),hf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ll(this.updatePoint)}}function Ow(r,e){return e?{point:e(r.point)}:r}function xP(r,e){return{x:r.x-e.x,y:r.y-e.y}}function Lw({point:r},e){return{point:r,delta:xP(r,E5(e)),offset:xP(r,cZ(e)),velocity:dZ(e,.1)}}function cZ(r){return r[0]}function E5(r){return r[r.length-1]}function dZ(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,s=null;const a=E5(r);for(;t>=0&&(s=r[t],!(a.timestamp-s.timestamp>zi(e)));)t--;if(!s)return{x:0,y:0};const i=Vi(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function uZ(r,{min:e,max:t},s){return e!==void 0&&r<e?r=s?hr(e,r,s.min):Math.max(r,e):t!==void 0&&r>t&&(r=s?hr(t,r,s.max):Math.min(r,t)),r}function bP(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function hZ(r,{top:e,left:t,bottom:s,right:a}){return{x:bP(r.x,t,a),y:bP(r.y,e,s)}}function yP(r,e){let t=e.min-r.min,s=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,s]=[s,t]),{min:t,max:s}}function mZ(r,e){return{x:yP(r.x,e.x),y:yP(r.y,e.y)}}function fZ(r,e){let t=.5;const s=Oa(r),a=Oa(e);return a>s?t=Mf(e.min,e.max-s,r.min):s>a&&(t=Mf(r.min,r.max-a,e.min)),Oo(0,1,t)}function gZ(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const CN=.35;function pZ(r=CN){return r===!1?r=0:r===!0&&(r=CN),{x:vP(r,"left","right"),y:vP(r,"top","bottom")}}function vP(r,e,t){return{min:wP(r,e),max:wP(r,t)}}function wP(r,e){return typeof r=="number"?r:r[e]||0}const xZ=new WeakMap;class bZ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Tg(f).point)},o=(f,g)=>{const{drag:x,dragPropagation:y,onDragStart:b}=this.getProps();if(x&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_K(x),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(N=>{let k=this.getAxisMotionValue(N).get()||0;if(Bi.test(k)){const{projection:C}=this.visualElement;if(C&&C.layout){const R=C.layout.layoutBox[N];R&&(k=Oa(R)*(parseFloat(k)/100))}}this.originPoint[N]=k}),b&&dr.postRender(()=>b(f,g)),_N(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:y,onDirectionLock:b,onDrag:v}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=g;if(y&&this.currentDirection===null){this.currentDirection=yZ(N),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),v&&v(f,g)},c=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>On(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new C5(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:s,contextWindow:A5(this.visualElement)})}stop(e,t){const s=e||this.latestPointerEvent,a=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&dr.postRender(()=>l(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:a}=this.getProps();if(!s||!fx(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=uZ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Au(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=hZ(s.layoutBox,e):this.constraints=!1,this.elastic=pZ(t),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&On(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=gZ(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Au(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=vQ(s,a.root,this.visualElement.getTransformPagePoint());let o=mZ(a.layout.layoutBox,i);if(t){const l=t(xQ(o));this.hasMutatedConstraints=!!l,l&&(o=h5(l))}return o}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=On(h=>{if(!fx(h,t,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const g=a?200:1e6,x=a?40:1e7,y={type:"inertia",velocity:s?e[h]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return _N(this.visualElement,e),s.start(ck(e,s,0,t,this.visualElement,!1))}stopAnimation(){On(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){On(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[t];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){On(t=>{const{drag:s}=this.getProps();if(!fx(t,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(t);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[t];i.set(e[t]-hr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!Au(t)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};On(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=fZ({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),On(o=>{if(!fx(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(hr(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;xZ.set(this.visualElement,this);const e=this.visualElement.current,t=hf(e,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Au(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dr.read(s);const o=zf(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(On(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),t(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=CN,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function fx(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function yZ(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class vZ extends Ql{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new bZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}unmount(){this.removeGroupControls(),this.removeListeners()}}const NP=r=>(e,t)=>{r&&dr.postRender(()=>r(e,t))};class wZ extends Ql{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new C5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:NP(e),onStart:NP(t),onMove:s,onEnd:(i,o)=>{delete this.session,a&&dr.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=hf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const n0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jP(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const Em={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(Rt.test(r))r=parseFloat(r);else return r;const t=jP(r,e.target.x),s=jP(r,e.target.y);return`${t}% ${s}%`}},NZ={correct:(r,{treeScale:e,projectionDelta:t})=>{const s=r,a=Fl.parse(r);if(a.length>5)return s;const i=Fl.createTransformer(r),o=typeof a[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const u=hr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};let Fw=!1;class jZ extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=e;WK(kZ),i&&(t.group&&t.group.add(i),s&&s.register&&a&&s.register(i),Fw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),n0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,Fw=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||dr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Z2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:a}=e;Fw=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function T5(r){const[e,t]=ZM(),s=E.useContext(T2);return n.jsx(jZ,{...r,layoutGroup:s,switchLayoutGroup:E.useContext(d5),isPresent:e,safeToRemove:t})}const kZ={borderRadius:{...Em,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Em,borderTopRightRadius:Em,borderBottomLeftRadius:Em,borderBottomRightRadius:Em,boxShadow:NZ};function SZ(r,e,t){const s=ja(r)?r:Gu(r);return s.start(ck("",s,e,t)),s.animation}const _Z=(r,e)=>r.depth-e.depth;class AZ{constructor(){this.children=[],this.isDirty=!1}add(e){I2(this.children,e),this.isDirty=!0}remove(e){D2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_Z),this.isDirty=!1,this.children.forEach(e)}}function CZ(r,e){const t=Za.now(),s=({timestamp:a})=>{const i=a-t;i>=e&&(Ll(s),r(i-e))};return dr.setup(s,!0),()=>Ll(s)}const P5=["TopLeft","TopRight","BottomLeft","BottomRight"],EZ=P5.length,kP=r=>typeof r=="string"?parseFloat(r):r,SP=r=>typeof r=="number"||Rt.test(r);function TZ(r,e,t,s,a,i){a?(r.opacity=hr(0,t.opacity??1,PZ(s)),r.opacityExit=hr(e.opacity??1,0,RZ(s))):i&&(r.opacity=hr(e.opacity??1,t.opacity??1,s));for(let o=0;o<EZ;o++){const l=`border${P5[o]}Radius`;let c=_P(e,l),u=_P(t,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||SP(c)===SP(u)?(r[l]=Math.max(hr(kP(c),kP(u),s),0),(Bi.test(u)||Bi.test(c))&&(r[l]+="%")):r[l]=u}(e.rotate||t.rotate)&&(r.rotate=hr(e.rotate||0,t.rotate||0,s))}function _P(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const PZ=R5(0,.5,bM),RZ=R5(.5,.95,Un);function R5(r,e,t){return s=>s<r?0:s>e?1:t(Mf(r,e,s))}function AP(r,e){r.min=e.min,r.max=e.max}function In(r,e){AP(r.x,e.x),AP(r.y,e.y)}function CP(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function EP(r,e,t,s,a){return r-=e,r=Y0(r,1/t,s),a!==void 0&&(r=Y0(r,1/a,s)),r}function IZ(r,e=0,t=1,s=.5,a,i=r,o=r){if(Bi.test(e)&&(e=parseFloat(e),e=hr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=hr(i.min,i.max,s);r===i&&(l-=e),r.min=EP(r.min,e,t,l,a),r.max=EP(r.max,e,t,l,a)}function TP(r,e,[t,s,a],i,o){IZ(r,e[t],e[s],e[a],e.scale,i,o)}const DZ=["x","scaleX","originX"],MZ=["y","scaleY","originY"];function PP(r,e,t,s){TP(r.x,e,DZ,t?t.x:void 0,s?s.x:void 0),TP(r.y,e,MZ,t?t.y:void 0,s?s.y:void 0)}function RP(r){return r.translate===0&&r.scale===1}function I5(r){return RP(r.x)&&RP(r.y)}function IP(r,e){return r.min===e.min&&r.max===e.max}function OZ(r,e){return IP(r.x,e.x)&&IP(r.y,e.y)}function DP(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function D5(r,e){return DP(r.x,e.x)&&DP(r.y,e.y)}function MP(r){return Oa(r.x)/Oa(r.y)}function OP(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class LZ{constructor(){this.members=[]}add(e){I2(this.members,e),e.scheduleRender()}remove(e){if(D2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let s;for(let a=t;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FZ(r,e,t){let s="";const a=r.x.translate/e.x,i=r.y.translate/e.y,o=t?.z||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:g,skewX:x,skewY:y}=t;u&&(s=`perspective(${u}px) ${s}`),h&&(s+=`rotate(${h}deg) `),f&&(s+=`rotateX(${f}deg) `),g&&(s+=`rotateY(${g}deg) `),x&&(s+=`skewX(${x}deg) `),y&&(s+=`skewY(${y}deg) `)}const l=r.x.scale*e.x,c=r.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Uw=["","X","Y","Z"],UZ=1e3;let zZ=0;function zw(r,e,t,s){const{latestValues:a}=e;a[r]&&(t[r]=a[r],e.setStaticValue(r,0),s&&(s[r]=0))}function M5(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=v5(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:i}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",dr,!(a||i))}const{parent:s}=r;s&&!s.hasCheckedOptimisedAppear&&M5(s)}function O5({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=e?.()){this.id=zZ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HZ),this.nodes.forEach(qZ),this.nodes.forEach(XZ),this.nodes.forEach($Z)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new AZ)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new L2),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=QM(o)&&!RK(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),r){let h,f=0;const g=()=>this.root.updateBlockedByResize=!1;dr.read(()=>{f=window.innerWidth}),r(o,()=>{const x=window.innerWidth;x!==f&&(f=x,this.root.updateBlockedByResize=!0,h&&h(),h=CZ(g,250),n0.hasAnimatedSinceResize&&(n0.hasAnimatedSinceResize=!1,this.nodes.forEach(UP)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||JZ,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=u.getProps(),N=!this.targetLayout||!D5(this.targetLayout,x),k=!f&&g;if(this.options.layoutRoot||this.resumeFrom||k||f&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...K2(y,"layout"),onPlay:b,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(h,k)}else f||UP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ll(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GZ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&M5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(FP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YZ),this.nodes.forEach(VZ),this.nodes.forEach(BZ)):this.nodes.forEach(FP),this.clearAllSnapshots();const l=Za.now();ca.delta=Oo(0,1e3/60,l-ca.timestamp),ca.timestamp=l,ca.isProcessing=!0,Cw.update.process(ca),Cw.preRender.process(ca),Cw.render.process(ca),ca.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Z2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WZ),this.sharedNodes.forEach(KZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Oa(this.snapshot.measuredBox.x)&&!Oa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Cr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!I5(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ic(this.latestValues)||h)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),eJ(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Cr();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(tJ))){const{scroll:u}=this.root;u&&(Cu(l.x,u.offset.x),Cu(l.y,u.offset.y))}return l}removeElementScroll(o){const l=Cr();if(In(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&In(l,o),Cu(l.x,h.offset.x),Cu(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Cr();In(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Eu(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ic(h.latestValues)&&Eu(c,h.latestValues)}return Ic(this.latestValues)&&Eu(c,this.latestValues),c}removeTransform(o){const l=Cr();In(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ic(u.latestValues))continue;NN(u.latestValues)&&u.updateSnapshot();const h=Cr(),f=u.measurePageBox();In(h,f),PP(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Ic(this.latestValues)&&PP(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ca.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=ca.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),ff(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),In(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cr(),this.targetWithTransforms=Cr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):In(this.target,this.layout.layoutBox),f5(this.target,this.targetDelta)):In(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),ff(this.relativeTargetOrigin,this.target,g.target),In(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||NN(this.parent.latestValues)||m5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ca.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;In(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;yQ(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Cr());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CP(this.prevProjectionDelta.x,this.projectionDelta.x),CP(this.prevProjectionDelta.y,this.projectionDelta.y)),mf(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!OP(this.projectionDelta.x,this.prevProjectionDelta.x)||!OP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tu(),this.projectionDelta=Tu(),this.projectionDeltaWithTransform=Tu()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},f=Tu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Cr(),x=c?c.source:void 0,y=this.layout?this.layout.source:void 0,b=x!==y,v=this.getStack(),N=!v||v.members.length<=1,k=!!(b&&!N&&this.options.crossfade===!0&&!this.path.some(ZZ));this.animationProgress=0;let C;this.mixTargetDelta=R=>{const _=R/1e3;zP(f.x,o.x,_),zP(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ff(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QZ(this.relativeTarget,this.relativeTargetOrigin,g,_),C&&OZ(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Cr()),In(C,this.relativeTarget)),b&&(this.animationValues=h,TZ(h,u,this.latestValues,_,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ll(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dr.update(()=>{n0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gu(0)),this.currentAnimation=SZ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&L5(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Cr();const f=Oa(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const g=Oa(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}In(l,c),Eu(l,h),mf(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new LZ),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&zw("z",o,u,this.animationValues);for(let h=0;h<Uw.length;h++)zw(`rotate${Uw[h]}`,o,u,this.animationValues),zw(`skew${Uw[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=a0(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=a0(l?.pointerEvents)||""),this.hasProjected&&!Ic(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=FZ(this.projectionDeltaWithTransform,this.treeScale,h);c&&(f=c(h,f)),o.transform=f;const{x:g,y:x}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Uf){if(h[y]===void 0)continue;const{correct:b,applyTo:v,isCSSVariable:N}=Uf[y],k=f==="none"?h[y]:b(h[y],u);if(v){const C=v.length;for(let R=0;R<C;R++)o[v[R]]=k}else N?this.options.visualElement.renderState.vars[y]=k:o[y]=k}this.options.layoutId&&(o.pointerEvents=u===this?a0(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(LP),this.root.sharedNodes.clear()}}}function VZ(r){r.updateLayout()}function BZ(r){const e=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:s}=r.layout,{animationType:a}=r.options,i=e.source!==r.layout.source;a==="size"?On(h=>{const f=i?e.measuredBox[h]:e.layoutBox[h],g=Oa(f);f.min=t[h].min,f.max=f.min+g}):L5(a,e.layoutBox,t)&&On(h=>{const f=i?e.measuredBox[h]:e.layoutBox[h],g=Oa(t[h]);f.max=f.min+g,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[h].max=r.relativeTarget[h].min+g)});const o=Tu();mf(o,t,e.layoutBox);const l=Tu();i?mf(l,r.applyTransform(s,!0),e.measuredBox):mf(l,t,e.layoutBox);const c=!I5(o);let u=!1;if(!r.resumeFrom){const h=r.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const x=Cr();ff(x,e.layoutBox,f.layoutBox);const y=Cr();ff(y,t,g.layoutBox),D5(x,y)||(u=!0),h.options.layoutRoot&&(r.relativeTarget=y,r.relativeTargetOrigin=x,r.relativeParent=h)}}}r.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(r.isLead()){const{onExitComplete:t}=r.options;t&&t()}r.options.transition=void 0}function HZ(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function $Z(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function WZ(r){r.clearSnapshot()}function LP(r){r.clearMeasurements()}function FP(r){r.isLayoutDirty=!1}function YZ(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function UP(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function qZ(r){r.resolveTargetDelta()}function XZ(r){r.calcProjection()}function GZ(r){r.resetSkewAndRotation()}function KZ(r){r.removeLeadSnapshot()}function zP(r,e,t){r.translate=hr(e.translate,0,t),r.scale=hr(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function VP(r,e,t,s){r.min=hr(e.min,t.min,s),r.max=hr(e.max,t.max,s)}function QZ(r,e,t,s){VP(r.x,e.x,t.x,s),VP(r.y,e.y,t.y,s)}function ZZ(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const JZ={duration:.45,ease:[.4,0,.1,1]},BP=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),HP=BP("applewebkit/")&&!BP("chrome/")?Math.round:Un;function $P(r){r.min=HP(r.min),r.max=HP(r.max)}function eJ(r){$P(r.x),$P(r.y)}function L5(r,e,t){return r==="position"||r==="preserve-aspect"&&!iZ(MP(e),MP(t),.2)}function tJ(r){return r!==r.root&&r.scroll?.wasRoot}const sJ=O5({attachResizeListener:(r,e)=>zf(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vw={current:void 0},F5=O5({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Vw.current){const r=new sJ({});r.mount(window),r.setOptions({layoutScroll:!0}),Vw.current=r}return Vw.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),rJ={pan:{Feature:wZ},drag:{Feature:vZ,ProjectionNode:F5,MeasureLayout:T5}};function WP(r,e,t){const{props:s}=r;r.animationState&&s.whileHover&&r.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,i=s[a];i&&dr.postRender(()=>i(e,Tg(e)))}class aJ extends Ql{mount(){const{current:e}=this.node;e&&(this.unmount=AK(e,(t,s)=>(WP(this.node,s,"Start"),a=>WP(this.node,a,"End"))))}unmount(){}}class nJ extends Ql{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ag(zf(this.node.current,"focus",()=>this.onFocus()),zf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function YP(r,e,t){const{props:s}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&s.whileTap&&r.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),i=s[a];i&&dr.postRender(()=>i(e,Tg(e)))}class iJ extends Ql{mount(){const{current:e}=this.node;e&&(this.unmount=PK(e,(t,s)=>(YP(this.node,s,"Start"),(a,{success:i})=>YP(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const EN=new WeakMap,Bw=new WeakMap,oJ=r=>{const e=EN.get(r.target);e&&e(r)},lJ=r=>{r.forEach(oJ)};function cJ({root:r,...e}){const t=r||document;Bw.has(t)||Bw.set(t,{});const s=Bw.get(t),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(lJ,{root:r,...e})),s[a]}function dJ(r,e,t){const s=cJ(e);return EN.set(r,t),s.observe(r),()=>{EN.delete(r),s.unobserve(r)}}const uJ={some:0,all:1};class hJ extends Ql{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:a="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:uJ[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),g=u?h:f;g&&g(c)};return dJ(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(mJ(e,t))&&this.startObserver()}unmount(){}}function mJ({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const fJ={inView:{Feature:hJ},tap:{Feature:iJ},focus:{Feature:nJ},hover:{Feature:aJ}},gJ={layout:{ProjectionNode:F5,MeasureLayout:T5}},pJ={...eZ,...fJ,...rJ,...gJ},Xe=pQ(pJ,EQ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bJ=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),qP=r=>{const e=bJ(r);return e.charAt(0).toUpperCase()+e.slice(1)},U5=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),yJ=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=E.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>E.createElement("svg",{ref:c,...vJ,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:U5("lucide",a),...!i&&!yJ(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,h])=>E.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(r,e)=>{const t=E.forwardRef(({className:s,...a},i)=>E.createElement(wJ,{ref:i,iconNode:e,className:U5(`lucide-${xJ(qP(r))}`,`lucide-${r}`,s),...a}));return t.displayName=qP(r),t};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vf=ct("arrow-right",NJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],z5=ct("award",jJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],SJ=ct("badge-dollar-sign",kJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],AJ=ct("bell",_J);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],EJ=ct("building",CJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],PJ=ct("calculator",TJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=[["path",{d:"m14 18 4-4 4 4",key:"ftkppy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M18 22v-8",key:"su0gjh"}],["path",{d:"M21 11.343V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9",key:"1exg90"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],IJ=ct("calendar-arrow-up",RJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]],MJ=ct("calendar-check-2",DJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],XP=ct("camera",OJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],FJ=ct("chart-no-axes-column",LJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],zJ=ct("chart-pie",UJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],BJ=ct("check",VJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$J=ct("chevron-down",HJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],GP=ct("chevron-left",WJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gf=ct("chevron-right",YJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],TN=ct("circle-alert",qJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],GJ=ct("circle-arrow-down",XJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vo=ct("circle-check-big",KJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Pg=ct("circle-check",QJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],JJ=ct("circle-help",ZJ);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Bf=ct("circle-plus",eee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Lu=ct("circle-x",tee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ree=ct("dollar-sign",see);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],KP=ct("eye-off",aee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QP=ct("eye",nee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=[["path",{d:"M2 3v18",key:"pzttux"}],["rect",{width:"12",height:"18",x:"6",y:"3",rx:"2",key:"btr8bg"}],["path",{d:"M22 3v18",key:"6jf3v"}]],oee=ct("gallery-horizontal",iee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],cee=ct("globe",lee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]],uee=ct("heart-handshake",dee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],V5=ct("heart",hee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],PN=ct("house",mee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$c=ct("image",fee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ku=ct("info",gee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],B5=ct("lightbulb",pee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],H5=ct("list",xee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],gx=ct("loader",bee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$5=ct("lock",yee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wee=ct("log-out",vee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],jee=ct("mail",Nee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],See=ct("map",kee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],W5=ct("menu",_ee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],Cee=ct("message-square-plus",Aee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Tee=ct("message-square",Eee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Ree=ct("moon",Pee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],fd=ct("package",Iee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],RN=ct("palette",Dee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Qu=ct("pen",Mee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Lee=ct("phone",Oee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dk=ct("plus",Fee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],uk=ct("refresh-cw",Uee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Y5=ct("rocket",zee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],IN=ct("ruler",Vee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hee=ct("save",Bee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hk=ct("settings",$ee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],q5=ct("shield-check",Wee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ZP=ct("shield",Yee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],i0=ct("shopping-bag",qee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Gee=ct("shopping-cart",Xee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Qee=ct("smile",Kee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jee=ct("square-check-big",Zee);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],tte=ct("store",ete);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],rte=ct("sun",ste);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],nte=ct("tag",ate);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ote=ct("target",ite);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],X5=ct("trash-2",lte);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Hf=ct("trending-up",cte);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],G5=ct("upload",dte);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],hte=ct("user-round-check",ute);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ul=ct("user",mte);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],K5=ct("users",fte);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],pte=ct("video",gte);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Fu=ct("wallet",xte);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wc=ct("x",bte);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vte=ct("zap",yte);function Q5(){const{currency:r,changeCurrency:e,loading:t,availableCurrencies:s=[]}=Sg(),a=[{code:"USD",label:"USD"},{code:"NGN",label:"NGN"},{code:"GBP",label:"GBP"},{code:"JPY",label:"JPY"},{code:"GHS",label:"GHS"},{code:"EUR",label:"EUR"},{code:"CAD",label:"CAD"},{code:"AUD",label:"AUD"},{code:"CNY",label:"CNY"},{code:"INR",label:"INR"}];return n.jsxs("div",{className:"flex items-center",children:[n.jsx(cee,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"}),t?n.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Loading..."}):n.jsx("select",{value:r,onChange:i=>e(i.target.value),className:"rounded-md bg-gray-100 dark:bg-gray-700 text-xs text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500","aria-label":"Select currency",children:(s.length>0?s:a).map(i=>n.jsx("option",{value:i.code,children:i.code},i.code))})]})}const wte=()=>{const[r,e]=E.useState(null),t=[{name:"Help & Support",path:"/support"},{name:"FAQ",path:"/support?tab=faq"}];return n.jsx("div",{className:"bg-gray-100 py-2 border-b border-gray-200 mt-16 sm:mt-8 md:mt-4 lg:mt-0 -mb-8 lg:mb-0",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-end items-center text-[10px] sm:text-xs md:text-sm",children:[t.map((s,a)=>n.jsx("div",{className:"ml-4 first:ml-0 relative",children:n.jsx(fe,{to:s.path,className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",onMouseEnter:()=>e(a),onMouseLeave:()=>e(null),children:s.name})},a)),n.jsx("div",{className:"ml-6 flex items-center text-gray-600",children:n.jsxs(fe,{to:"/sell",className:"flex items-center hover:text-blue-600 transition-colors duration-200",children:[n.jsx(tte,{className:"w-4 h-4 mr-1"}),n.jsx("span",{children:"Sell on Foremade"})]})}),n.jsx("div",{className:"ml-4 flex items-center",children:n.jsx(Q5,{})})]})})})},Nte="/assets/nglogo-qvrtZOMI.png",jte="/assets/uklogo-CgNCKquW.png",kte=()=>{const[r,e]=E.useState(null),[t,s]=E.useState(null),[a,i]=E.useState(""),o=["Television & Accessories","Drinks & Beverages","Game & Console","Home & Living","Perfumes & Fragrances","Vehicles & Transport","Computers & Laptops"],l=g=>g.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),c=[{name:"twitter",icon:"bx bxl-twitter",color:"text-blue-400",url:"https://twitter.com"},{name:"instagram",icon:"bx bxl-instagram",color:"text-pink-400",url:"https://instagram.com"},{name:"facebook",icon:"bx bxl-facebook",color:"text-blue-600",url:"https://facebook.com"}],u=[{icon:"bxs-truck",title:"Fast Shipping",description:"Fast shipping all across the country"},{icon:"bx-check-shield",title:"Authentic Products",description:"100% Authentic products"},{icon:"bx-lock-alt",title:"100% Secure Payment",description:"We Ensure Secure Transactions"},{icon:"bx-headphone",title:"24/7 Support Center",description:"We Ensure Quality Support"}],h={account:[{name:"My Profile",url:"/profile"},{name:"My Orders",url:"/orders"},{name:"My Wishlist",url:"/favorites"}],about:[{name:"About Us",url:"/about"},{name:"Support",url:"/support"}]},f=g=>{g.preventDefault(),alert(`Thanks for subscribing with ${a}!`),i("")};return n.jsxs("footer",{className:"bg-white mt-16",children:[n.jsx("div",{className:"bg-gray-50 py-3 border-t border-b border-gray-200",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center text-xs text-gray-600",children:u.map((g,x)=>n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("i",{className:`bx ${g.icon} text-base mb-1 text-blue-500`}),n.jsx("p",{className:"font-semibold text-xs",children:g.title}),n.jsx("p",{className:"text-xs",children:g.description})]},x))})})}),n.jsx("div",{className:"bg-white text-gray-800 py-6",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex flex-wrap flex-row justify-between",children:[n.jsxs("div",{className:"w-full md:w-auto mb-6 md:mb-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx("span",{className:"text-lg font-bold",children:"Foremade"}),n.jsx("i",{className:"bx bx-chevron-up text-blue-500 rotate-45"})]}),n.jsxs("div",{className:"flex space-x-4 items-center mb-4",children:[c.map((g,x)=>n.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:`text-lg ${r===g.name?g.color:"text-gray-600"}`,onMouseEnter:()=>e(g.name),onMouseLeave:()=>e(null),children:n.jsx("i",{className:g.icon})},x)),n.jsxs("div",{className:"relative group ml-2",children:[n.jsxs("button",{className:"hover:text-blue-600 flex items-center",children:[n.jsx("img",{src:jte,alt:"UK flag",className:"h-4"}),n.jsx("i",{className:"bx bx-chevron-down ml-1"})]}),n.jsx("div",{className:"absolute hidden group-hover:block bg-white z-10 w-36 rounded-md shadow-xl border border-gray-200",children:n.jsx("span",{className:"block px-3 py-1 text-xs hover:bg-gray-100 cursor-pointer",children:n.jsx("img",{src:Nte,alt:"NG flag",className:"h-4"})})})]})]}),n.jsxs("div",{className:"mb-4 md:max-w-xs",children:[n.jsx("h3",{className:"text-xs font-semibold mb-2",children:"Subscribe to our newsletter"}),n.jsxs("form",{onSubmit:f,className:"flex",children:[n.jsx("input",{type:"email",value:a,onChange:g=>i(g.target.value),placeholder:"Your email",className:"flex-1 p-1 border border-gray-300 rounded-l-md focus:outline-none focus:ring-1 focus:ring-blue-500 text-xs",required:!0}),n.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-2 py-1 rounded-r-md hover:bg-blue-600 text-xs",children:n.jsx("i",{className:"bx bx-envelope"})})]})]})]}),n.jsxs("div",{className:"flex flex-wrap w-full md:w-auto justify-between",children:[n.jsxs("div",{className:"w-1/3 pr-2",children:[n.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Categories"}),n.jsxs("ul",{className:"space-y-1 text-xs",children:[o.slice(0,8).map((g,x)=>n.jsx("li",{children:n.jsx(fe,{to:`/category/${l(g)}`,className:"text-gray-600 hover:text-blue-500 transition-colors",onMouseEnter:()=>s(`category-${x}`),onMouseLeave:()=>s(null),children:g})},x)),o.length>8&&n.jsx("li",{children:n.jsx(fe,{to:"/products",className:"text-gray-600 hover:text-blue-500 transition-colors",onMouseEnter:()=>s("more-categories"),onMouseLeave:()=>s(null),children:"More Categories..."})})]})]}),n.jsxs("div",{className:"w-1/3 px-2",children:[n.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Account"}),n.jsx("ul",{className:"space-y-1 text-xs",children:h.account.map((g,x)=>n.jsx("li",{children:n.jsx(fe,{to:g.url,className:"text-gray-600 hover:text-blue-500 transition-colors",onMouseEnter:()=>s(`account-${x}`),onMouseLeave:()=>s(null),children:g.name})},x))})]}),n.jsxs("div",{className:"w-1/3 pl-2",children:[n.jsx("h3",{className:"text-sm font-semibold mb-2",children:"About"}),n.jsxs("ul",{className:"space-y-1 text-xs",children:[h.about.map((g,x)=>n.jsx("li",{children:n.jsx(fe,{to:g.url,className:"text-gray-600 hover:text-blue-500 transition-colors",onMouseEnter:()=>s(`about-${x}`),onMouseLeave:()=>s(null),children:g.name})},x)),n.jsx("li",{children:n.jsx(fe,{to:"/buyer-protection-policy",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Buyer Protection Policy"})}),n.jsx("li",{children:n.jsx(fe,{to:"/refund-policy",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Refund Policy"})}),n.jsx("li",{children:n.jsx(fe,{to:"/terms-conditions",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Terms & Conditions"})}),n.jsx("li",{children:n.jsx(fe,{to:"/seller-agreement",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Seller Agreement"})}),n.jsx("li",{children:n.jsx(fe,{to:"/shipping-policy",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Shipping Policy"})})]})]})]})]}),n.jsx("div",{className:"mt-6 text-center text-xs text-gray-400",children:n.jsxs("p",{children:[" ",new Date().getFullYear()," Foremade, Inc. All rights reserved."]})})]})})]})},px={quote:"I always find what I need on Foremade, and the delivery is super fast. Highly recommended!",name:"Okafor C., Abuja",avatar:"https://randomuser.me/api/portraits/men/59.jpg"};function Ste(){const r=[{image:"https://pngimg.com/uploads/vacuum_cleaner/vacuum_cleaner_PNG3.png",text:"Smart Shopping, Better Living",tagline:"Premium Products",description:"Discover curated collections from verified sellers worldwide",features:[{icon:"bx bx-certification",text:"Quality Assured",desc:"Verified products"},{icon:"bx bx-package",text:"Fast Delivery",desc:"Global shipping"}],button:"Explore Now",secondaryButton:"View Deals",link:"/products"},{image:"https://pngimg.com/uploads/tv/tv_PNG39223.png",text:"Premium Electronics",tagline:"Tech Essentials",description:"Find the latest tech from trusted sellers",features:[{icon:"bx bx-check-shield",text:"Warranty Assured",desc:"Extended coverage"},{icon:"bx bx-credit-card",text:"Easy Payment",desc:"Multiple options"}],button:"Browse Electronics",secondaryButton:"View Brands",link:"/category/electronics"}],[e,t]=E.useState(0),[s,a]=E.useState(!0);E.useEffect(()=>{if(!s)return;const o=setInterval(()=>{t(l=>(l+1)%r.length)},6e3);return()=>clearInterval(o)},[e,r.length,s]);const i=o=>{t(o),a(!1),setTimeout(()=>a(!0),1e4)};return n.jsxs("div",{className:"relative overflow-hidden my-4 mx-2 sm:mx-4 lg:mx-6 rounded-2xl border border-blue-800/30 h-[240px] xs:h-[260px] sm:h-[320px] lg:h-[440px] shadow-xl",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx(Xe.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-700 via-blue-400/60 to-amber-200 animate-gradient-x",initial:{opacity:0},animate:{opacity:.7},transition:{duration:1}}),n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20 sm:opacity-30 transition-all duration-700 scale-110",style:{backgroundImage:`url(${r[e].image})`}}),n.jsx("div",{className:"absolute inset-0 backdrop-blur-md"})]}),n.jsx(Xe.div,{className:"relative z-10 h-full flex items-center w-full",children:n.jsxs("div",{className:"w-full mx-auto px-3 xs:px-4 sm:px-8 lg:px-16 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-8 sm:gap-10 py-6 sm:py-10 flex-wrap",children:[n.jsxs("div",{className:"max-w-2xl w-full space-y-4 sm:space-y-6",children:[n.jsx(Xe.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"inline-flex items-center h-7 px-4 rounded-full bg-gradient-to-r from-blue-600/30 to-blue-400/20 border border-blue-500/30 mb-1",children:n.jsx("span",{className:"text-xs font-medium text-blue-100 tracking-wide",children:r[e].tagline})}),n.jsx(Xe.h2,{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold leading-tight text-white drop-shadow-lg",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:r[e].text}),n.jsx(Xe.p,{className:"hidden sm:block text-base sm:text-lg text-white/90 max-w-lg mt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r[e].description}),n.jsx("div",{className:"flex gap-3 mt-4",children:n.jsx(fe,{to:r[e].link,className:"px-6 py-2 rounded-lg font-bold bg-gradient-to-r from-blue-600 to-blue-400 text-white shadow-lg hover:from-blue-400 hover:to-blue-600 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400 animate-pulse",children:r[e].button})})]}),n.jsxs(Xe.div,{className:"hidden sm:flex flex-col items-center justify-center bg-white/30 backdrop-blur-lg rounded-2xl p-6 shadow-lg max-w-xs ml-0 sm:ml-8 mt-8 sm:mt-0 border border-blue-100/30",initial:{opacity:0,x:30},animate:{opacity:1,x:0},children:[n.jsx("img",{src:px.avatar,alt:px.name,className:"w-16 h-16 rounded-full border-4 border-blue-300 shadow mb-3"}),n.jsx("p",{className:"text-base text-gray-900 font-medium italic mb-2 text-center",children:px.quote}),n.jsx("span",{className:"text-xs text-gray-700 font-semibold",children:px.name})]})]})}),n.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-2 z-20",children:r.map((o,l)=>n.jsx("button",{onClick:()=>i(l),className:"group","aria-label":`Go to slide ${l+1}`,children:n.jsx("span",{className:`block w-3 h-3 rounded-full transition-all duration-200 ${e===l?"bg-blue-400 scale-125 shadow-lg shadow-blue-400/50":"bg-white/40 group-hover:bg-white/60 group-hover:scale-105"}`})},l))})]})}const _te=()=>{const[r,e]=E.useState(!1);E.useEffect(()=>{localStorage.getItem("cookiesAccepted")||e(!0)},[]);const t=()=>{localStorage.setItem("cookiesAccepted","true"),e(!1)};return r?n.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-8 md:right-8 bg-white shadow-lg rounded-lg p-4 z-50 border border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 max-w-7xl mx-auto",children:[n.jsx("div",{className:"flex-1 text-gray-600 text-sm md:text-base",children:"We use cookies to improve your experience on our site. By using our site, you accept our use of cookies."}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("a",{href:"/cookie-policy",className:"text-[#112d4e] hover:text-[#112d4e] text-sm font-medium hover:underline",children:"Learn more"}),n.jsx("button",{onClick:t,className:"bg-[#112d4e] hover:bg-[#112d4e] text-white font-medium px-6 py-2 rounded-md transition-colors duration-200 text-sm",children:"Accept"})]})]})}):null},Ate=()=>{const[r,e]=E.useState({width:window.innerWidth,height:window.innerHeight});return E.useEffect(()=>{const t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r},Cte=()=>{const[r,e]=E.useState([]),[t,s]=E.useState(0),[a,i]=E.useState(null),{width:o}=Ate();E.useEffect(()=>{(async()=>{try{const f=(await Ke(Ie(re,"carouselSlides"))).docs.map(g=>({id:g.id,...g.data()}));e(f)}catch(h){console.error("Error fetching slides:",h)}})()},[]),E.useEffect(()=>{if(r.length===0)return;const u=setInterval(()=>{i(t),s(h=>(h+1)%r.length)},5e3);return()=>clearInterval(u)},[t,r.length]);const l=u=>o<640?u.mobile:o<1024?u.tablet:u.desktop,c=u=>{if(u.mediaType==="video")return!0;const h=l(u);return h&&(h.endsWith(".mp4")||h.endsWith(".webm"))};return r.length===0?n.jsx("div",{className:"relative h-[200px] sm:h-[250px] md:h-[300px] lg:h-[400px] w-full overflow-hidden",children:n.jsx("div",{className:"absolute inset-0",children:n.jsx("div",{className:"w-full h-full bg-gray-200 animate-pulse"})})}):n.jsx("div",{className:"relative h-[200px] sm:h-[250px] md:h-[300px] lg:h-[400px] w-full overflow-hidden",children:r.map((u,h)=>n.jsx("div",{className:`absolute inset-0 transition-all duration-1000 ease-in-out ${h===t?"opacity-100 transform translate-x-0":h===a?"opacity-0 transform -translate-x-10":"opacity-0 transform translate-x-10"}`,children:c(u)?n.jsx("video",{src:l(u),alt:u.alt||`Slide ${u.id}`,className:"w-full h-full object-cover object-center sm:object-[50%_50%]",style:{objectPosition:"center 35%"},autoPlay:!0,loop:!0,muted:!0,playsInline:!0,onError:f=>{console.warn("Video load error:",{slideId:u.id,url:l(u)}),console.log(f)}}):n.jsx("img",{src:l(u),alt:u.alt||`Slide ${u.id}`,className:"w-full h-full object-cover object-center sm:object-[50%_50%]",style:{objectPosition:"center 35%"},loading:"lazy",onError:f=>{console.warn("Image load error:",{slideId:u.id,url:l(u)}),console.log(f)}})},u.id))})},Z5=({type:r="default",count:e=1})=>{const t=()=>{switch(r){case"featuredProduct":case"recommended":return n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-pulse",children:[...Array(e)].map((s,a)=>n.jsxs("div",{className:"w-full h-64 bg-gray-200 rounded-lg",children:[n.jsx("div",{className:"w-full h-48 bg-gray-300 rounded-t-lg"}),n.jsxs("div",{className:"p-2",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},a))});case"productDetail":return n.jsx("div",{className:"animate-pulse",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"order-1",children:[n.jsx("div",{className:"w-full h-96 bg-gray-200 rounded-lg"}),n.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto scrollbar-hide",children:[...Array(4)].map((s,a)=>n.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-lg"},a))})]}),n.jsx("div",{className:"order-2 space-y-4",children:n.jsxs("div",{className:"product-info-card",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[...Array(1)].map((s,a)=>n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"},a))}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),n.jsxs("div",{className:"price-section",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[...Array(1)].map((s,a)=>n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/5"},a))}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-1/2 mb-4"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-1/3 mb-4"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-2/3 mb-4"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"h-12 bg-gray-200 rounded w-2/3"}),n.jsx("div",{className:"h-12 bg-gray-200 rounded w-1/6"})]})]})}),n.jsxs("div",{className:"order-3 md:order-2 lg:order-3 product-info-card mt-6",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-3"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"})]}),n.jsxs("div",{className:"order-4 lg:order-5 product-info-card",style:{marginBottom:"2rem"},children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-3"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-16 bg-gray-200 rounded w-full mb-2"})]})]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"sticky top-4 space-y-6",children:[n.jsxs("div",{className:"product-info-card",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((s,a)=>n.jsxs("div",{className:"h-20 bg-gray-200 rounded-lg flex",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-lg mr-2"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},a))})]}),n.jsxs("div",{className:"product-info-card",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,a)=>n.jsxs("div",{className:"h-16 bg-gray-200 rounded-lg flex",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-lg mr-2"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},a))})]})]})})]})});case"categories":return n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 animate-pulse",children:[n.jsx("div",{className:"sm:col-span-2 h-40 bg-gray-200 rounded-lg"}),n.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"}),n.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"}),n.jsx("div",{className:"h-40 bg-gray-200 rounded-lg max-md:hidden"}),n.jsx("div",{className:"h-40 bg-gray-200 rounded-lg max-md:hidden"})]});default:return n.jsx("div",{className:"w-80 sm:w-full h-40 bg-gray-200 rounded-lg animate-pulse",children:n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"h-5 bg-gray-300 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/4 mb-4"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded-md"}),n.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded-md"})]})]})})}};return n.jsx("div",{className:r==="default"?"flex gap-4 overflow-x-auto":"",children:[...Array(r==="featuredProduct"||r==="recommended"||r==="productDetail"||r==="categories"?1:e)].map((s,a)=>n.jsx("div",{className:r==="default"?"flex-shrink-0":"",children:t()},a))})},Ete="/assets/go-KqmyPzJd.jpg",Tte=()=>{const[r,e]=E.useState(!0);return E.useEffect(()=>{const t=setTimeout(()=>{e(!1)},1500);return()=>clearTimeout(t)},[]),r?n.jsxs("section",{className:"container mx-auto px-4 py-8",children:[n.jsx("h2",{className:"text-lg sm:text-lg md:text-xl font-bold text-gray-800 mb-4",children:"Top Categories"}),n.jsx(Z5,{type:"categories"})]}):n.jsxs("section",{className:"container mx-auto px-4 py-8",children:[n.jsx("h2",{className:"text-lg sm:text-lg md:text-xl font-bold text-gray-800 mb-4",children:"Top Categories"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 ",children:[n.jsxs("div",{className:"p-5 md:col-span-2 bg-gradient-to-br from-[#D1FAE5] to-[#A7F3D0] rounded-2xl sm:p-3 text-gray-900 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:[n.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-white rounded-full"}),n.jsx("div",{className:"absolute top-1/2 -left-8 w-16 h-16 bg-white rounded-full"}),n.jsx("div",{className:"absolute -bottom-6 right-1/3 w-20 h-20 bg-white rounded-full"})]}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-1",children:"ForemadeGo"}),n.jsx("p",{className:"text-teal-100 text-xs sm:text-sm font-medium",children:"Lightning Fast  Ultra Secure"})]}),n.jsx("div",{className:"hidden sm:block",children:n.jsx("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzAiIGN5PSIzMCIgcj0iMzAiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMiIvPgo8cGF0aCBkPSJNMjAgMjVIMzVMMzAgMzVIMjBWMjVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",alt:"Delivery",className:"w-8 h-8"})})]}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 mb-2 items-stretch",children:[n.jsxs("div",{className:"flex flex-col justify-center flex-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-white/30 backdrop-blur-sm rounded-xl p-2",children:[n.jsx("div",{className:"bg-white/40 rounded-full p-1",children:n.jsx(vte,{className:"w-4 h-4 text-teal-500"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-xs text-gray-800",children:"Integrated with Foremade"}),n.jsx("p",{className:"text-teal-600 text-xs",children:"Get your orders in record time"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white/30 backdrop-blur-sm rounded-xl p-2",children:[n.jsx("div",{className:"bg-white/40 rounded-full p-1",children:n.jsx(ZP,{className:"w-4 h-4 text-teal-500"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-xs text-gray-800",children:"100% Secure"}),n.jsx("p",{className:"text-teal-600 text-xs",children:"Your packages, guaranteed safe"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-2 flex items-center justify-center gap-12 mt-2",children:[n.jsx("h3",{className:"text-teal-700 text-xs font-semibold mb-0",children:"Get Delivery in Minutes"}),n.jsxs("a",{href:"https://foremadego.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 bg-gradient-to-r from-teal-400 to-teal-600 hover:from-teal-500 hover:to-teal-700 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-300 shadow-md text-[10px]",children:["Track your orders here",n.jsx(Vf,{className:"w-3.5 h-3.5"})]})]})]}),n.jsx("div",{className:"flex flex-col items-center justify-center flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-56 h-56 sm:w-64 sm:h-64 rounded-2xl overflow-hidden shadow-xl border-4 border-white/40",children:n.jsx("img",{src:Ete,alt:"Happy ForemadeGo delivery person on motorcycle",className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-200 text-teal-700 px-2 py-0.5 rounded-full text-[0.65rem] font-bold shadow-lg",children:"#1 Rated"})]})})]}),n.jsxs("div",{className:"text-center mt-1 flex items-center justify-center gap-2",children:[n.jsx(Y5,{className:"w-4 h-4 text-teal-400",title:"Speed"}),n.jsx(ZP,{className:"w-4 h-4 text-teal-400",title:"Security"}),n.jsx(Qee,{className:"w-4 h-4 text-teal-400",title:"Satisfaction Guaranteed"})]})]})]}),n.jsxs("div",{className:"md:col-span-1 bg-[#E0F4FF] text-black rounded-lg p-4 sm:p-6 flex flex-col sm:flex-row max-md:items-center items-left justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-2",children:"Cut the Price, Not the Features"}),n.jsx("p",{className:"text-sm sm:text-xs mb-4",children:"Get the latest phones at 20% off"}),n.jsx("a",{href:"/electronics",className:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm sm:text-xs inline-block",children:"Buy Now"})]}),n.jsx("div",{className:"mt-4 sm:mt-0 sm:self-start",children:n.jsx("img",{src:"https://pngimg.com/uploads/iphone16/small/iphone16_PNG6.png",alt:"Phone",className:"w-20 h-40"})})]}),n.jsxs("div",{className:"bg-[#EDE9FE] text-black rounded-lg p-4 sm:p-6 flex sm:flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold mb-2",children:"Style Meets Function"}),n.jsx("a",{href:"/electronics",className:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm sm:text-xs inline-block",children:"Shop Now"})]}),n.jsx("div",{className:"mt-4 sm:mt-0",children:n.jsx("img",{src:"https://pngimg.com/uploads/laptop/small/laptop_PNG101763.png",alt:"Laptop",className:"w-24 sm:w-28 h-auto"})})]}),n.jsxs("div",{className:"bg-[#FFE5E5] text-black rounded-lg p-4 sm:p-6 flex sm:flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold mb-2",children:"Capture the Magic Around"}),n.jsx("a",{href:"/electronics",className:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm sm:text-xs inline-block",children:"Shop Now"})]}),n.jsx("div",{className:"mt-4 sm:mt-0",children:n.jsx("img",{src:"https://pngimg.com/uploads/camera_lens/small/camera_lens_PNG4.png",alt:"Camera",className:"w-20 sm:w-24 h-auto"})})]}),n.jsxs("div",{className:"bg-[#E0F4FF] text-black rounded-lg p-4 sm:p-6 flex flex-col sm:flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold mb-2",children:"Health & Wellness"}),n.jsx("a",{href:"/health-beauty",className:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm sm:text-xs inline-block",children:"Shop Now"})]}),n.jsx("div",{className:"mt-4 sm:mt-0",children:n.jsx("img",{src:"https://pngimg.com/uploads/pills/small/pills_PNG16492.png",alt:"Bottle",className:"w-20 sm:w-24 h-auto"})})]})]})]})},xx={quote:"Foremade helped me turn my side hustle into a real business. The dashboard and support are world-class!",name:"Sarah M., London",avatar:"https://randomuser.me/api/portraits/women/44.jpg"};function Pte(){const r=[{image:"https://pngimg.com/uploads/fan/fan_PNG14457.png",text:"Start Your Business Journey",tagline:"Empowering Entrepreneurs",description:"Join our marketplace and transform your passion into profit",features:[{icon:"bx bx-chart",text:"Analytics Dashboard",desc:"Track your growth"},{icon:"bx bx-shield-plus",text:"Secure Payments",desc:"Protected transactions"}],button:"Start Selling",secondaryButton:"Learn More",link:"/sell"},{image:"https://pngimg.com/uploads/laptop/laptop_PNG101773.png",text:"Grow Your Business",tagline:"Scale Globally",description:"Reach millions of potential customers worldwide",features:[{icon:"bx bx-globe",text:"Global Reach",desc:"Worldwide audience"},{icon:"bx bx-trending-up",text:"Growth Tools",desc:"Marketing suite"}],button:"Learn More",secondaryButton:"View Features",link:"/pro-seller-guide"}],[e,t]=E.useState(0),[s,a]=E.useState(!0);E.useEffect(()=>{if(!s)return;const o=setInterval(()=>{t(l=>(l+1)%r.length)},6e3);return()=>clearInterval(o)},[e,r.length,s]);const i=o=>{t(o),a(!1),setTimeout(()=>a(!0),1e4)};return n.jsxs("div",{className:"relative overflow-hidden my-4 mx-2 sm:mx-4 lg:mx-6 rounded-2xl border border-neutral-800/30 h-[240px] xs:h-[260px] sm:h-[320px] lg:h-[440px] shadow-xl",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx(Xe.div,{className:"absolute inset-0 bg-gradient-to-br from-amber-600 via-orange-400/60 to-blue-900 animate-gradient-x",initial:{opacity:0},animate:{opacity:.7},transition:{duration:1}}),n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20 sm:opacity-30 transition-all duration-700 scale-110",style:{backgroundImage:`url(${r[e].image})`}}),n.jsx("div",{className:"absolute inset-0 backdrop-blur-md"})]}),n.jsx(Xe.div,{className:"relative z-10 h-full flex items-center w-full",children:n.jsxs("div",{className:"w-full mx-auto px-3 xs:px-4 sm:px-8 lg:px-16 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-8 sm:gap-10 py-6 sm:py-10 flex-wrap",children:[n.jsxs("div",{className:"max-w-2xl w-full space-y-4 sm:space-y-6",children:[n.jsx(Xe.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"inline-flex items-center h-7 px-4 rounded-full bg-gradient-to-r from-amber-600/30 to-orange-400/20 border border-amber-500/30 mb-1",children:n.jsx("span",{className:"text-xs font-medium text-amber-100 tracking-wide",children:r[e].tagline})}),n.jsx(Xe.h2,{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold leading-tight text-white drop-shadow-lg",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:r[e].text}),n.jsx(Xe.p,{className:"hidden sm:block text-base sm:text-lg text-white/90 max-w-lg mt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r[e].description}),n.jsx("div",{className:"flex gap-3 mt-4",children:n.jsx(fe,{to:r[e].link,className:"px-6 py-2 rounded-lg font-bold bg-gradient-to-r from-amber-500 to-orange-400 text-white shadow-lg hover:from-orange-400 hover:to-amber-500 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-amber-400 animate-pulse",children:r[e].button})})]}),n.jsxs(Xe.div,{className:"hidden sm:flex flex-col items-center justify-center bg-white/30 backdrop-blur-lg rounded-2xl p-6 shadow-lg max-w-xs ml-0 sm:ml-8 mt-8 sm:mt-0 border border-amber-100/30",initial:{opacity:0,x:30},animate:{opacity:1,x:0},children:[n.jsx("img",{src:xx.avatar,alt:xx.name,className:"w-16 h-16 rounded-full border-4 border-amber-300 shadow mb-3"}),n.jsx("p",{className:"text-base text-gray-900 font-medium italic mb-2 text-center",children:xx.quote}),n.jsx("span",{className:"text-xs text-gray-700 font-semibold",children:xx.name})]})]})}),n.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-2 z-20",children:r.map((o,l)=>n.jsx("button",{onClick:()=>i(l),className:"group","aria-label":`Go to slide ${l+1}`,children:n.jsx("span",{className:`block w-3 h-3 rounded-full transition-all duration-200 ${e===l?"bg-amber-400 scale-125 shadow-lg shadow-amber-400/50":"bg-white/40 group-hover:bg-white/60 group-hover:scale-105"}`})},l))})]})}function lr({price:r}){const{convertPrice:e,loading:t}=Sg();return n.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:t?"...":e(r)})}const Es="/assets/placeholder-ZIgPw8SE.png",zr=({product:r,dailyDeals:e=[],selectedColor:t="",selectedSize:s="",selectedVariant:a=null,onClick:i,isFavorite:o=!1,toggleFavorite:l,cardClassName:c="",imageClassName:u="",priceClassName:h="",nameClassName:f=""})=>{const[g,x]=E.useState(o),[y,b]=E.useState(0),[v,N]=E.useState(""),[k,C]=E.useState(!1),[R,_]=E.useState(null),[I,P]=E.useState({buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),[T,D]=E.useState(!1);let L={...r,stock:Number(r.stock)||0};if(Array.isArray(e)&&r.id){const $=e.find(Q=>Q.productId===r.id&&Q.discount&&(!Q.endDate||new Date(Q.endDate)>new Date)&&(!Q.startDate||new Date(Q.startDate)<=new Date));$&&(L.isDailyDeal=!0,L.discountPercentage=Number(($.discount*100).toFixed(2))||0)}const F=Array.isArray(L.variants)&&L.variants.length>0,z=Number(a?.price||r.price)||0;E.useEffect(()=>{(async()=>{try{const ne=Ce(re,"feeConfigurations","categoryFees"),ce=await Je(ne);ce.exists()&&_(ce.data())}catch(ne){console.error("Error fetching fee configurations:",ne)}})(),(async()=>{if(L.sellerId)try{const Re=(await Ke(Ie(re,"proSellers"))).docs.map(de=>de.data()).some(de=>de.userId===L.sellerId);D(Re)}catch(ne){console.error("Error checking pro seller status:",ne),D(!1)}})();let te=Es;a?.imageUrls?.length>0?te=a.imageUrls.find(ce=>typeof ce=="string"&&ce.startsWith("https://"))||a.imageUrls[0]||Es:F&&L.variants[0]?.imageUrls?te=L.variants[0].imageUrls.find(ce=>typeof ce=="string"&&ce.startsWith("https://"))||L.variants[0].imageUrls[0]||Es:Array.isArray(L.imageUrls)&&L.imageUrls.length>0?te=L.imageUrls.find(ce=>typeof ce=="string"&&ce.startsWith("https://"))||L.imageUrls[0]||Es:L.imageUrl&&typeof L.imageUrl=="string"&&L.imageUrl.startsWith("https://")?te=L.imageUrl:console.warn(`Product ${L.id} has no valid imageUrl or imageUrls`),N(te),C(!1)},[L.id,L.imageUrls,L.imageUrl,L.variants,a]),E.useEffect(()=>{(async()=>{if(!r||!r.id){x(!1),b(0);return}try{const Q=Ce(re,"products",r.id),te=await Je(Q);if(te.exists()){const ne=te.data(),ce=ke.currentUser?.uid;x(ce&&Array.isArray(ne.favoritedBy)&&ne.favoritedBy.includes(ce)||o),b(ne.favoriteCount||0)}else x(!1),b(0)}catch(Q){console.error("Error fetching favorite status:",Q)}})()},[r.id,o]),E.useEffect(()=>{if(R&&L.category&&z>0){const $=R[L.category]||{buyerProtectionRate:.08,handlingRate:.2},Q=z*$.buyerProtectionRate,te=z*$.handlingRate,ne=z+Q+te;P({buyerProtectionFee:Q,handlingFee:te,totalEstimatedPrice:ne,sellerEarnings:z})}},[R,L.category,z]);const O=z,V=I.totalEstimatedPrice,H=L.isDailyDeal?Math.round(V*(1-L.discountPercentage/100)):V,B=async $=>{if($.preventDefault(),$.stopPropagation(),l)l();else{const Q=ke.currentUser?.uid;if(!Q||!r?.id){je.error("Please sign in to favorite a product.");return}try{const te=Ce(re,"products",r.id),ne=await Je(te);if(!ne.exists()){je.error("Product not found.");return}const ce=ne.data(),Re=ce.favoriteCount||0,de=ce.favoritedBy||[];if(g)await aa(te,{favoritedBy:IW(Q),favoriteCount:Math.max(0,Re-1)}),x(!1),b(Math.max(0,Re-1)),je.success("Removed from favorites!");else{if(de.includes(Q)){je.info("You have already favorited this product.");return}await aa(te,{favoritedBy:RW(Q),favoriteCount:Re+1}),x(!0),b(Re+1),je.success("Added to favorites!")}}catch(te){console.error("Error updating favorite:",te),je.error("Failed to update favorite. Try again!")}}},q=($,Q=35)=>!$||typeof $!="string"?"No name available":$.length>Q?$.substring(0,Q)+"...":$,ee=F?[...new Set(L.variants.map($=>$.color).filter(Boolean))]:[],G=F?[...new Set(L.variants.map($=>$.size).filter(Boolean))]:[];return n.jsxs(fe,{to:`/product/${L.id}`,onClick:i,className:`bg-white rounded-lg shadow-sm hover:shadow-md transition duration-300 flex flex-col min-w-0 overflow-hidden ${c}`,tabIndex:0,"aria-label":L.name,children:[n.jsxs("div",{className:`relative h-[200px] overflow-hidden rounded-t-lg min-w-0 ${u}`,children:[n.jsx("img",{src:k?Es:v,alt:L.name||"Product Image",className:"w-full h-full object-cover max-w-full max-h-full",onError:$=>{k||(console.error("Image load error for product:",L.id,L.name,{imageUrl:v,attemptedUrl:$.target.src}),C(!0),N(Es))},loading:"lazy",fetchPriority:"low"}),n.jsxs("button",{onClick:B,className:"absolute top-2 right-2 p-1.5 flex items-center justify-evenly bg-white/70 backdrop-blur-sm rounded-full hover:bg-white transition-colors","aria-label":g?"Remove from favorites":"Add to favorites",children:[n.jsx(V5,{className:`w-5 h-5 ${g?"text-gray-600 fill-gray-600":"text-gray-600"}`}),n.jsx("p",{className:"mx-1 text-sm",children:y})]}),L.isDailyDeal&&n.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1.5 xs:px-2 py-0.5 xs:py-1 rounded-full text-[10px] xs:text-xs font-bold",children:[L.discountPercentage,"% OFF"]})]}),n.jsxs("div",{className:"flex flex-col justify-between flex-grow p-3 min-w-0 overflow-hidden",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:`mb-1 break-words line-clamp-2 min-h-[48px] ${f}`,title:L.name,style:{fontSize:"15px",fontWeight:600,color:"#222",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:[q(L.name),L.name&&L.name.length<35&&n.jsx("span",{style:{visibility:"hidden"},children:"".repeat(40)})]}),L.stock<=2&&L.stock>0&&n.jsx("span",{className:"inline-block border border-red-500 text-red-500 text-xs font-semibold px-[5px] py-[2px] rounded-full",children:"Almost Gone"}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[L.condition&&n.jsx("p",{style:{fontSize:"13px",color:"#222",fontWeight:500},className:"mb-2",children:n.jsx("span",{children:L.condition})}),T&&n.jsx("div",{className:"p-[5px] flex items-center justify-center bg-gray-100 rounded-full",children:n.jsx(q5,{className:"w-4 h-4 text-green-500"})})]}),F&&(ee.length>0||G.length>0)&&n.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mb-2 text-xs text-gray-600",children:[ee.length>0&&n.jsxs("span",{className:"flex items-center",children:[n.jsx(RN,{size:14,className:"mr-1 text-gray-500"}),ee.length," Color",ee.length>1?"s":""]}),G.length>0&&n.jsxs("span",{className:"flex items-center",children:[n.jsx(IN,{size:14,className:"mr-1 text-gray-500"}),G.length," Size",G.length>1?"s":""]})]})]}),n.jsxs("div",{className:"mt-auto",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("span",{className:`text-[16px] font-medium text-[#222] flex items-center gap-0.5rem ${h}`,children:n.jsx(lr,{price:L.isDailyDeal?H:V,currency:L.currency||localStorage.getItem("currency")||"USD"})})}),L.isDailyDeal&&n.jsx("span",{className:"text-gray-400 line-through text-[10px]",style:{fontSize:"10px"},children:n.jsx(lr,{price:O,currency:L.currency||localStorage.getItem("currency")||"USD"})})]})]})]})};function J5(){const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(null),[o,l]=E.useState([]),c=["foremade fashion","smart watches","drinks & categories","health & beauty","game & fun","computers & accessories"],u=h=>{let f=[...h];for(let g=f.length-1;g>0;g--){const x=Math.floor(Math.random()*(g+1));[f[g],f[x]]=[f[x],f[g]]}return f};return E.useEffect(()=>{Ke(Ie(re,"dailyDeals")).then(h=>{l(h.docs.map(f=>({id:f.id,...f.data()})))})},[]),E.useEffect(()=>{(async()=>{try{s(!0),i(null);const f=mt(Ie(re,"products"),nt("status","==","approved"),nt("category","in",c)),x=(await Ke(f)).docs.map(b=>({id:b.id,...b.data()}));console.log("All fetched products (Featured):",x);const y=x.filter(b=>(b.stock||0)<10?(console.warn("Filtered out product with low stock:",{id:b.id,name:b.name,stock:b.stock}),!1):!0);if(console.log("Fetched products (Featured - After Filter):",y),y.length===0){console.warn("No products passed the filters (Featured). Relaxing stock filter...");const b=u(x).slice(0,8);console.log("Products with relaxed stock filter (Featured):",b),e(b)}else{const b=u(y).slice(0,8);e(b)}}catch(f){console.error("Error loading featured products:",{message:f.message,code:f.code}),i("Failed to load featured products.")}finally{s(!1)}})()},[]),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-1",children:a?n.jsx("p",{className:"text-red-600 col-span-full text-center",children:a}):t?n.jsx(n.Fragment,{children:[...Array(5)].map((h,f)=>n.jsx("div",{className:"min-w-[200px] h-[300px] bg-gray-200 animate-pulse rounded-lg"},f))}):r.length===0?n.jsx("p",{className:"text-gray-600 col-span-full text-center",children:"No Product Found"}):r.map(h=>n.jsx(zr,{product:h,dailyDeals:o},h.id))})}function eO(){const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(null),[o,l]=E.useState([]),c=u=>{let h=[...u];for(let f=h.length-1;f>0;f--){const g=Math.floor(Math.random()*(f+1));[h[f],h[g]]=[h[g],h[f]]}return h};return E.useEffect(()=>{Ke(Ie(re,"dailyDeals")).then(u=>{l(u.docs.map(h=>({id:h.id,...h.data()})))})},[]),E.useEffect(()=>{(async()=>{try{s(!0),i(null);const h=mt(Ie(re,"products"),nt("status","==","approved")),g=(await Ke(h)).docs.map(y=>({id:y.id,...y.data()}));console.log("All fetched products (Best Selling - Raw Firestore Data):",g);const x=g.filter(y=>{if(y.variants&&y.variants.length>0){const b=y.variants.reduce((v,N)=>v+(N.stock||0),0);if(b<10)return console.warn("Filtered out variant product with low total stock:",{id:y.id,name:y.name,totalStock:b}),!1}else if((y.stock||0)<10)return console.warn("Filtered out single-variant product with low stock:",{id:y.id,name:y.name,stock:y.stock}),!1;return!0}).sort((y,b)=>(b.rating||0)-(y.rating||0));if(console.log("Fetched products (Best Selling - After Filter):",x),x.length===0){console.warn("No products passed the filters (Best Selling). Relaxing stock filter...");const y=c(g.sort((b,v)=>(v.rating||0)-(b.rating||0))).slice(0,8);console.log("Products with relaxed stock filter (Best Selling):",y),e(y)}else{const y=c(x).slice(0,8);e(y)}}catch(h){console.error("Error loading best-selling products:",{message:h.message,code:h.code}),i("Failed to load best-selling products.")}finally{s(!1)}})()},[]),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-1",children:a?n.jsx("p",{className:"text-red-600 col-span-full text-center",children:a}):t?n.jsx(n.Fragment,{children:[...Array(5)].map((u,h)=>n.jsx("div",{className:"min-w-[200px] h-[300px] bg-gray-200 animate-pulse rounded-lg"},h))}):r.length===0?n.jsx("p",{className:"text-gray-600 col-span-full text-center",children:"No best-selling products found."}):r.map(u=>n.jsx(zr,{product:u,dailyDeals:o},u.id))})}function Rte(){const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(null),[o,l]=E.useState([]);return E.useEffect(()=>{Ke(Ie(re,"dailyDeals")).then(c=>{l(c.docs.map(u=>({id:u.id,...u.data()})))})},[]),E.useEffect(()=>{(async()=>{try{s(!0),i(null);const u=mt(Ie(re,"products"),vg("createdAt","desc")),f=(await Ke(u)).docs.map(x=>({id:x.id,...x.data()}));console.log("All fetched products (Latest):",f);const g=f.filter(x=>{if(x.variants&&x.variants.length>0){const y=x.variants.reduce((b,v)=>b+(v.stock||0),0);if(y<10)return console.warn("Filtered out variant product with low total stock:",{id:x.id,name:x.name,totalStock:y}),!1}else if((x.stock||0)<10)return console.warn("Filtered out single-variant product with low stock:",{id:x.id,name:x.name,stock:x.stock}),!1;return!0});if(console.log("Fetched products (Latest - After Filter):",g),g.length===0){console.warn("No products passed the filters (Latest). Relaxing stock filter...");const x=f;console.log("Products with relaxed stock filter (Latest):",x),e(x.slice(0,8))}else e(g.slice(0,8))}catch(u){console.error("Error loading latest products:",{message:u.message,code:u.code}),i("Failed to load latest products.")}finally{s(!1)}})()},[]),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-1",children:a?n.jsx("p",{className:"text-red-600 col-span-full text-center",children:a}):t?n.jsx(n.Fragment,{children:[...Array(5)].map((c,u)=>n.jsx("div",{className:"min-w-[200px] h-[300px] bg-gray-200 animate-pulse rounded-lg"},u))}):r.length===0?n.jsx("p",{className:"text-gray-600 col-span-full text-center",children:"No Latest Products Found"}):r.map(c=>n.jsx(zr,{product:c,dailyDeals:o},c.id))})}const Ite=()=>{const[r,e]=E.useState("featured");return n.jsxs("section",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"flex flex-col items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg text-center sm:text-xl md:text-2xl font-bold text-gray-800 mb-4",children:"Recommended For You"}),n.jsxs("div",{className:"hidden sm:flex items-center justify-center gap-4 sm:gap-6 mb-10",children:[n.jsx("button",{className:`text-sm ${r==="featured"?"text-blue-600 font-semibold":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("featured"),children:"Featured Products"}),n.jsx("button",{className:`text-sm ${r==="bestSelling"?"text-blue-600 font-semibold":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("bestSelling"),children:"Best Selling"}),n.jsx("button",{className:`text-sm ${r==="latest"?"text-blue-600 font-semibold":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("latest"),children:"Latest Products"}),n.jsx(fe,{to:"/products",className:"text-blue-600 text-sm hover:underline",children:"View All"})]}),n.jsxs("div",{className:"flex sm:hidden items-center justify-center gap-4 mb-10",children:[n.jsx("button",{className:`text-xl ${r==="featured"?"text-blue-600":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("featured"),children:n.jsx("i",{className:"bx bx-star"})}),n.jsx("button",{className:`text-xl ${r==="bestSelling"?"text-blue-600":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("bestSelling"),children:n.jsx("i",{className:"bx bxs-hot"})}),n.jsx("button",{className:`text-xl ${r==="latest"?"text-blue-600":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("latest"),children:n.jsx("i",{className:"bx bx-time"})}),n.jsx(fe,{to:"/products",className:"text-blue-600 text-xl hover:text-blue-600",children:n.jsx("i",{className:"bx bx-right-arrow-alt"})})]})]}),r==="featured"&&n.jsx(J5,{}),r==="bestSelling"&&n.jsx(eO,{}),r==="latest"&&n.jsx(Rte,{})]})};function Dte(){const[r,e]=E.useState([]),[t,s]=E.useState([]),[a,i]=E.useState(!0),[o,l]=E.useState(null),c=E.useRef(null),u="Fashion",h=["foremade fashion","clothing","accessories","footwear","jewelry","bags & wallets"],f=b=>{let v=[...b];for(let N=v.length-1;N>0;N--){const k=Math.floor(Math.random()*(N+1));[v[N],v[k]]=[v[k],v[N]]}return v},g=async()=>{try{i(!0),l(null);const b=mt(Ie(re,"trendingItems"),nt("category","==",u)),N=(await Ke(b)).docs.map(C=>C.data());let k=[];if(N.length>0){const C=N.map(async R=>{const _=await Je(Ce(re,"products",R.productId));return _.exists()?{id:_.id,..._.data()}:null});k=(await Promise.all(C)).filter(R=>R&&R.status==="approved").slice(0,10),console.log("Admin-selected trending Fashion products:",k)}if(k.length<10){console.warn("No or insufficient admin-selected trending items for Fashion. Using fallback...");const C=mt(Ie(re,"products"),nt("status","==","approved"),nt("category","in",h)),_=(await Ke(C)).docs.map(P=>({id:P.id,...P.data()}));console.log("All fetched products (Trending Fashion):",_);const I=_.filter(P=>(P.stock||0)>=10).sort((P,T)=>(T.rating||0)-(P.rating||0));if(console.log(`Fetched ${u} products:`,I),I.length===0){console.warn("No products passed the filters (Trending Fashion). Relaxing stock filter...");const P=f(_.sort((T,D)=>(D.rating||0)-(T.rating||0))).slice(0,10);console.log("Products with relaxed stock filter (Trending Fashion):",P),e(P)}else{const P=[...k,...I].slice(0,10),T=f(P);e(T)}}else e(f(k))}catch(b){console.error("Error loading products:",{message:b.message,code:b.code}),l("Failed to load products."),je.error("Failed to load trending products.")}finally{i(!1)}};E.useEffect(()=>{g(),Ke(Ie(re,"dailyDeals")).then(b=>{s(b.docs.map(v=>({id:v.id,...v.data()})))})},[]);const x=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},y=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})};return a?n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending in ",u]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 sm:hidden"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 sm:hidden"})]})]}),n.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:[...Array(7)].map((b,v)=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},v))})]})}):n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending in ",u]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fe,{to:"/trending-fashions",className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"}),n.jsx("button",{onClick:x,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),n.jsx("button",{onClick:y,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})]}),n.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:r.length===0?n.jsxs("p",{className:"text-gray-600 p-4",children:["No ",u," products found."]}):r.map(b=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4 snap-start",children:n.jsx(zr,{product:b,dailyDeals:t})},b.id))})]})})}function Mte(){const[r,e]=E.useState([]),[t,s]=E.useState([]),[a,i]=E.useState(!0),[o,l]=E.useState(null),c=E.useRef(null),u="Gadgets",h=["tablet & phones","computers & accessories","electronics","smart watches","game & fun"],f=b=>{let v=[...b];for(let N=v.length-1;N>0;N--){const k=Math.floor(Math.random()*(N+1));[v[N],v[k]]=[v[k],v[N]]}return v},g=async()=>{try{i(!0),l(null);const b=mt(Ie(re,"trendingItems"),nt("category","==",u)),N=(await Ke(b)).docs.map(C=>C.data());let k=[];if(N.length>0){const C=N.map(async R=>{const _=await Je(Ce(re,"products",R.productId));return _.exists()?{id:_.id,..._.data()}:null});k=(await Promise.all(C)).filter(R=>R&&R.status==="approved").slice(0,10),console.log("Admin-selected trending Gadgets products:",k)}if(k.length<10){console.warn("No or insufficient admin-selected trending items for Gadgets. Using fallback...");const C=mt(Ie(re,"products"),nt("status","==","approved"),nt("category","in",h)),_=(await Ke(C)).docs.map(P=>({id:P.id,...P.data()}));console.log("All fetched products (Gadgets):",_);const I=_.filter(P=>(P.stock||0)>=10).sort((P,T)=>(T.rating||0)-(P.rating||0));if(console.log(`Fetched ${u} products:`,I),I.length===0){console.warn("No products passed the filters (Gadgets). Relaxing stock filter...");const P=f(_.sort((T,D)=>(D.rating||0)-(T.rating||0))).slice(0,10);console.log("Products with relaxed stock filter (Gadgets):",P),e(P)}else{const P=[...k,...I].slice(0,10),T=f(P);e(T)}}else e(f(k))}catch(b){console.error(`Error loading ${u} products:`,{message:b.message,code:b.code}),l(`Failed to load ${u} products.`),je.error("Failed to load trending products.")}finally{i(!1)}};E.useEffect(()=>{g(),Ke(Ie(re,"dailyDeals")).then(b=>{s(b.docs.map(v=>({id:v.id,...v.data()})))})},[]);const x=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},y=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})};return a?n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending in ",u]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 sm:hidden"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 sm:hidden"})]})]}),n.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:[...Array(7)].map((b,v)=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},v))})]})}):n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending in ",u]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fe,{to:"/trending-gadgets",className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"}),n.jsx("button",{onClick:x,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),n.jsx("button",{onClick:y,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:n.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})]}),n.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:r.length===0?n.jsxs("p",{className:"text-gray-600 p-4",children:["No trending ",u," products found."]}):r.map(b=>n.jsx("div",{className:"flex-shrink-0 w-60 mr-4 snap-start",children:n.jsx(zr,{product:b,dailyDeals:t})},b.id))})]})})}const Ote=()=>{const r=gs(),e=Xr();return window.scrollTo(0,0),E.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[e.pathname]),n.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-purple-600 via-indigo-600 to-purple-700 py-6 px-4 sm:py-8 sm:px-6 lg:px-8 my-4 sm:my-6 rounded-xl sm:rounded-2xl mx-2 sm:mx-4 shadow-lg",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-0 left-0 w-48 sm:w-72 h-48 sm:h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),n.jsx("div",{className:"absolute top-0 right-0 w-48 sm:w-72 h-48 sm:h-72 bg-indigo-200 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-2000"}),n.jsx("div",{className:"absolute -bottom-8 left-20 w-48 sm:w-72 h-48 sm:h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-4000"})]}),n.jsx("div",{className:"absolute top-8 left-8 w-1.5 h-1.5 bg-purple-200 rounded-full animate-ping opacity-50"}),n.jsx("div",{className:"absolute top-16 right-12 w-1 h-1 bg-indigo-200 rounded-full animate-ping opacity-50 animation-delay-1000"}),n.jsx("div",{className:"absolute bottom-12 left-16 w-1 h-1 bg-purple-200 rounded-full animate-ping opacity-50 animation-delay-3000"}),n.jsx("div",{className:"relative max-w-6xl mx-auto",children:n.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6 sm:gap-8",children:[n.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[n.jsx("div",{className:"mb-3 sm:mb-4",children:n.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-2 text-white leading-tight flex flex-wrap items-center justify-center lg:justify-start",children:[n.jsx("i",{className:"bx bx-rocket text-xl sm:text-2xl text-purple-200 mr-2 sm:mr-3"}),n.jsx("span",{className:"whitespace-nowrap",children:"Foremade Youth"}),n.jsx("span",{className:"ml-2 bg-gradient-to-r from-purple-200 to-indigo-200 bg-clip-text text-transparent whitespace-nowrap",children:"Empowerment Hub"})]})}),n.jsxs("p",{className:"text-sm sm:text-base md:text-lg mb-4 sm:mb-6 text-purple-100 leading-relaxed px-2 sm:px-0",children:["Join our community of young creators and entrepreneurs. Get funding, mentorship, and a ",n.jsx("span",{className:"font-medium text-purple-200",children:"free platform"})," to showcase your talents."]}),n.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-2 sm:gap-4 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-white bg-opacity-5 px-3 py-1 rounded-full backdrop-blur-sm text-xs sm:text-sm",children:[n.jsx("i",{className:"bx bx-dollar-circle text-purple-200"}),n.jsx("span",{className:"text-white font-medium",children:"Funding"})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white bg-opacity-5 px-3 py-1 rounded-full backdrop-blur-sm text-xs sm:text-sm",children:[n.jsx("i",{className:"bx bx-user-voice text-purple-200"}),n.jsx("span",{className:"text-white font-medium",children:"Mentorship"})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white bg-opacity-5 px-3 py-1 rounded-full backdrop-blur-sm text-xs sm:text-sm",children:[n.jsx("i",{className:"bx bx-devices text-purple-200"}),n.jsx("span",{className:"text-white font-medium",children:"Free Platform"})]})]})]}),n.jsxs("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row lg:flex-col gap-2 sm:gap-3",children:[n.jsxs("button",{onClick:()=>r("/empowerment-hub"),className:"w-full sm:w-auto group inline-flex items-center justify-center px-4 sm:px-6 py-2 sm:py-3 text-sm sm:text-base font-medium rounded-full text-white border border-purple-200 hover:bg-white hover:text-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-200 focus:ring-opacity-50 transition-all duration-200 transform hover:scale-105 backdrop-blur-sm whitespace-nowrap",children:[n.jsx("i",{className:"bx bx-info-circle mr-2"}),n.jsx("span",{children:"Learn More"}),n.jsx("i",{className:"bx bx-chevron-right ml-1 group-hover:translate-x-1 transition-transform duration-200"})]}),n.jsxs("div",{className:"flex items-center justify-center lg:justify-start mt-2 text-xs text-purple-200",children:[n.jsx("i",{className:"bx bx-group mr-1"}),n.jsx("span",{children:"1000+ members"}),n.jsx("div",{className:"flex ml-2",children:[...Array(5)].map((t,s)=>n.jsx("i",{className:"bx bxs-star text-purple-200 text-xs"},s))}),n.jsx("span",{className:"ml-1",children:"4.9"})]})]})]})})]})},JP=async(r,e=3,t=1e3)=>{for(let s=1;s<=e;s++)try{return await r()}catch(a){if(s===e)throw a;const i=t*Math.pow(2,s-1);console.warn(`Retry ${s}/${e} after ${i}ms due to: ${a.message}`),await new Promise(o=>setTimeout(o,i))}},eR="https://via.placeholder.com/200?text=No+Image",Lte=()=>{const{convertPrice:r}=Sg(),[e,t]=E.useState([]),[s,a]=E.useState(!0),[i,o]=E.useState(null),l=E.useRef(null),[c,u]=E.useState({hours:0,minutes:0,seconds:0});E.useEffect(()=>{const g=()=>{const y=new Date,b=new Date;b.setHours(23,59,59,999);const v=b-y,N=Math.floor(v/(1e3*60*60)),k=Math.floor(v%(1e3*60*60)/(1e3*60)),C=Math.floor(v%(1e3*60)/1e3);u({hours:N,minutes:k,seconds:C})};g();const x=setInterval(g,1e3);return()=>clearInterval(x)},[]),E.useEffect(()=>{(async()=>{try{a(!0),o(null);const y=(await JP(()=>Ke(Ie(re,"dailyDeals")))).docs.map(N=>({id:N.id,...N.data()}));console.log("Raw deals:",y);const b=y.filter(N=>new Date(N.endDate)>new Date&&new Date(N.startDate)<=new Date);console.log("Valid deals:",b);const v=await Promise.all(b.map(async N=>{const k=await JP(()=>Je(Ce(re,"products",N.productId))),C=k.exists()?k.data():{};console.log(`Product for deal ${N.id}:`,C);const R=Array.isArray(C.imageUrls)&&C.imageUrls.length>0?C.imageUrls.find(P=>typeof P=="string"&&P.startsWith("https://res.cloudinary.com/"))||eR:C.imageUrl&&typeof C.imageUrl=="string"&&C.imageUrl.startsWith("https://res.cloudinary.com/")?C.imageUrl:eR;console.log(`Image for deal ${N.id}:`,R);const _=Number(C.price)||0,I=Number((N.discount*100).toFixed(2))||0;return{id:N.id,productId:N.productId,productName:C.name||"Unnamed Product",price:_,discountPercentage:I,imageUrl:R,description:C.description||"No description available",condition:C.condition||"",isDailyDeal:!0}}));console.log("Final deal products:",v),t(v)}catch(x){console.error("Error loading daily deals:",{message:x.message,stack:x.stack}),o("Failed to load daily deals. Please try again later.")}finally{a(!1)}})()},[r]);const h=()=>{l.current&&l.current.scrollBy({left:-240,behavior:"smooth"})},f=()=>{l.current&&l.current.scrollBy({left:240,behavior:"smooth"})};return s?n.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50",children:n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[n.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),n.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"}),n.jsxs("div",{className:"flex ml-2 xs:ml-3 space-x-1 xs:space-x-2",children:[n.jsx("div",{className:"h-5 xs:h-6 bg-gray-200 rounded w-8 xs:w-10 animate-pulse"}),n.jsx("span",{children:":"}),n.jsx("div",{className:"h-5 xs:h-6 bg-gray-200 rounded w-8 xs:w-10 animate-pulse"}),n.jsx("span",{children:":"}),n.jsx("div",{className:"h-5 xs:h-6 bg-gray-200 rounded w-8 xs:w-10 animate-pulse"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 xs:gap-3",children:[n.jsx("div",{className:"h-4 xs:h-5 bg-gray-200 rounded w-12 xs:w-16 animate-pulse"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-6 w-6 xs:h-8 xs:w-8 animate-pulse"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-6 w-6 xs:h-8 xs:w-8 animate-pulse"})]})]}),n.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-3 xs:gap-4",children:[...Array(7)].map((g,x)=>n.jsx("div",{className:"flex-shrink-0 w-[140px] xs:w-[180px] sm:w-[200px] md:w-[220px]",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-[200px] xs:h-[240px] sm:h-[260px] w-full animate-pulse"})},x))})]})}):i?n.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50",children:n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[n.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),n.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"})]})}),n.jsxs("p",{className:"text-red-600 text-sm xs:text-base p-3 xs:p-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-error-circle"}),i]})]})}):n.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50",children:n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[n.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),n.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"}),n.jsxs("div",{className:"ml-2 xs:ml-3 flex items-center space-x-1",children:[n.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-1.5 xs:px-2 py-0.5 xs:py-1 rounded text-xs xs:text-sm font-mono",children:String(c.hours).padStart(2,"0")}),n.jsx("span",{className:"text-yellow-800",children:":"}),n.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-1.5 xs:px-2 py-0.5 xs:py-1 rounded text-xs xs:text-sm font-mono",children:String(c.minutes).padStart(2,"0")}),n.jsx("span",{className:"text-yellow-800",children:":"}),n.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-1.5 xs:px-2 py-0.5 xs:py-1 rounded text-xs xs:text-sm font-mono",children:String(c.seconds).padStart(2,"0")})]})]}),n.jsxs("div",{className:"flex items-center gap-2 xs:gap-3",children:[n.jsx(fe,{to:"/daily-deals",className:"text-blue-600 text-xs xs:text-sm hover:text-blue-800",children:"See All"}),n.jsx("button",{onClick:h,className:"bg-yellow-200 rounded-full p-1 hover:bg-yellow-300","aria-label":"Scroll left",children:n.jsx("i",{className:"bx bx-chevron-left text-lg xs:text-xl text-yellow-700"})}),n.jsx("button",{onClick:f,className:"bg-yellow-200 rounded-full p-1 hover:bg-yellow-300","aria-label":"Scroll right",children:n.jsx("i",{className:"bx bx-chevron-right text-lg xs:text-xl text-yellow-700"})})]})]}),n.jsx("div",{ref:l,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory gap-3 xs:gap-4",children:e.length===0?n.jsxs("p",{className:"text-gray-600 text-sm xs:text-base p-3 xs:p-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-info-circle"}),"No deals available right now. Check back later for hot offers! "]}):e.slice(0,8).map(g=>n.jsx("div",{className:"flex-shrink-0 w-[200px] sm:w-[280px] md:w-[220px] snap-start",children:n.jsxs("div",{className:"relative",children:[n.jsx(zr,{product:{id:g.productId,name:g.productName,price:g.price,imageUrl:g.imageUrl,condition:g.condition,category:g.category||"default",variants:g.variants||[],stock:g.stock||0,sellerId:g.sellerId||"",currency:localStorage.getItem("currency")||"USD",isDailyDeal:g.isDailyDeal,discountPercentage:g.discountPercentage}}),g.isDailyDeal&&n.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1.5 xs:px-2 py-0.5 xs:py-1 rounded-full text-[10px] xs:text-xs font-bold",children:[g.discountPercentage,"% OFF"]})]})},g.id))})]})})};function Fte(){const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(null),[o,l]=E.useState([]),c=E.useRef(null);E.useEffect(()=>{Ke(Ie(re,"dailyDeals")).then(g=>{l(g.docs.map(x=>({id:x.id,...x.data()})))})},[]),E.useEffect(()=>{(async()=>{try{s(!0),i(null);const x=ke.currentUser?.uid,y=JSON.parse(localStorage.getItem("recentlyViewed")||"[]");let b=[];if(x)try{const v=Ce(re,"users",x),N=await Je(v);if(N.exists()&&N.data().recentlyViewed){const C=N.data().recentlyViewed.slice(0,10).map(async _=>{const I=Ce(re,"products",_),P=await Je(I);return P.exists()&&P.data().status==="approved"?{id:P.id,...P.data()}:null});b=(await Promise.all(C)).filter(_=>_!==null)}}catch(v){console.error("Error fetching user recently viewed:",v),b=[]}if(b.length===0&&y.length>0){const v=y.map(async k=>{const C=Ce(re,"products",k),R=await Je(C);return R.exists()&&R.data().status==="approved"?{id:R.id,...R.data()}:null});b=(await Promise.all(v)).filter(k=>k!==null)}if(b.length===0){const v=mt(Ie(re,"products"),nt("status","==","approved"),nt("rating",">=",4));b=(await Ke(v)).docs.map(k=>({id:k.id,...k.data()})).slice(0,10),console.log("No recently viewed products, showing recommendations instead")}e(b)}catch(x){console.error("Error loading recently viewed products:",{message:x.message,code:x.code}),i("Failed to load recently viewed products.")}finally{s(!1)}})()},[]);const u=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},h=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})},f=r.length>0?"Recently Viewed":"Recommended For You";return t?n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:f}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16 animate-pulse"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 animate-pulse"}),n.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 animate-pulse"})]})]}),n.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:[...Array(7)].map((g,x)=>n.jsxs("div",{className:"flex-shrink-0 w-48 mr-4",children:[n.jsx("div",{className:"bg-gray-200 rounded-lg h-48 w-full animate-pulse"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mt-2 animate-pulse"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mt-1 animate-pulse"})]},x))})]})}):n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:`bx ${f==="Recently Viewed"?"bx-history":"bx-bulb"} text-blue-600 text-xl mr-2`}),n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:f})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fe,{to:"/products",className:"text-blue-600 text-sm hover:text-blue-800",children:"See All"}),n.jsx("button",{onClick:u,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300","aria-label":"Scroll left",children:n.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),n.jsx("button",{onClick:h,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300","aria-label":"Scroll right",children:n.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})]}),n.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory pb-4",children:r.length===0?n.jsx("p",{className:"text-gray-600 p-4",children:"No products to display."}):r.map(g=>n.jsx("div",{className:"flex-shrink-0 w-48 mr-4 snap-start",children:n.jsx(zr,{product:g,dailyDeals:o})},g.id))})]})})}const Ute=()=>{const[r,e]=E.useState(""),[t,s]=E.useState(!1),a=async o=>{if(o.preventDefault(),!r||!r.includes("@")){je.error("Please enter a valid email address");return}try{s(!0),await en(Ie(re,"newsletter_subscribers"),{email:r,subscribedAt:new Date,active:!0}),je.success("Thanks for subscribing!"),e(""),localStorage.setItem("newsletter_subscribed","true")}catch(l){console.error("Newsletter subscription error:",l),je.error("Failed to subscribe. Please try again.")}finally{s(!1)}},i=localStorage.getItem("newsletter_subscribed")==="true";return n.jsx("div",{className:"bg-gray-100 py-6 sm:py-8 w-full overflow-hidden mb-8 sm:mb-12 lg:mb-16",children:n.jsx("div",{className:"container mx-auto px-4 max-w-7xl",children:n.jsxs("div",{className:"max-w-xl mx-auto text-center",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-2",children:"Stay Connected"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 px-2",children:i?"Thanks for subscribing! You'll receive our best deals and updates.":"Subscribe to our newsletter for exclusive deals and updates"}),!i&&n.jsxs("form",{onSubmit:a,className:"flex flex-col sm:flex-row gap-2 sm:gap-0 max-w-md mx-auto mb-8 sm:mb-12 px-4",children:[n.jsx("input",{type:"email",value:r,onChange:o=>e(o.target.value),placeholder:"Your email address",className:"flex-1 px-4 py-2 border border-gray-300 rounded-md sm:rounded-l-md sm:rounded-r-none focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",disabled:t,required:!0}),n.jsx("button",{type:"submit",className:`${t?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} text-white px-4 py-2 rounded-md sm:rounded-l-none sm:rounded-r-md transition-colors whitespace-nowrap w-full sm:w-auto`,disabled:t,children:t?n.jsxs("span",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-loader-alt animate-spin mr-2"}),"Subscribing..."]}):"Subscribe"})]}),i&&n.jsx("button",{onClick:()=>{localStorage.removeItem("newsletter_subscribed"),window.location.reload()},className:"text-blue-600 hover:text-blue-800 underline text-sm mt-2",children:"Change your email preferences"})]})})})},zte=r=>r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Vte={Shoes:"footwear",Fashion:"clothing",Phones:"computers-laptops",Laptops:"computers-laptops",Gaming:"game-console",Kitchen:"home-living"},Bte=r=>`/category/${Vte[r]||zte(r)}`,Hte=["Shoes","Fashion","Phones","Laptops","Watches","Gaming","Kitchen","Electronics"],$te={Shoes:"https://banner2.cleanpng.com/20180406/wow/kisspng-shoe-jumpman-sneakers-air-jordan-teal-jordan-5ac6ff9c2fcfe2.7959868915229910041959.jpg",Fashion:"https://pngimg.com/uploads/dress_shirt/dress_shirt_PNG8088.png",Phones:"https://banner2.cleanpng.com/20240415/cv/transparent-apple-logo-person-holding-iphone-11-pro-max661df755177ea1.73458741.webp",Laptops:"https://banner2.cleanpng.com/lnd/20240424/uxz/transparent-rainbow-open-laptop-with-rainbow-gradient-background-image662945f170dc49.58708681.webp",Watches:"https://banner2.cleanpng.com/20180202/lie/av2ldq3r4.webp",Gaming:"https://banner2.cleanpng.com/lnd/20240424/jfa/aav33rgh3.webp",Kitchen:"https://banner2.cleanpng.com/20180809/atv/kisspng-ferm-living-asymmetric-cutting-board-ferm-living-b-5b6c3d78edff15.1714747115338202809749.jpg",Electronics:"https://banner2.cleanpng.com/20180131/jgw/av1z4nree.webp"},tR=["from-red-500/10 to-red-500/5","from-blue-500/10 to-blue-500/5","from-green-500/10 to-green-500/5","from-yellow-500/10 to-yellow-500/5","from-purple-500/10 to-purple-500/5","from-pink-500/10 to-pink-500/5","from-indigo-500/10 to-indigo-500/5","from-orange-500/10 to-orange-500/5"],sR=["hover:bg-red-500/10","hover:bg-blue-500/10","hover:bg-green-500/10","hover:bg-yellow-500/10","hover:bg-purple-500/10","hover:bg-pink-500/10","hover:bg-indigo-500/10","hover:bg-orange-500/10"],Wte=()=>{const[r,e]=E.useState(null);return n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-4",children:"Shop by Category"}),n.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4",children:Hte.map((t,s)=>n.jsxs(fe,{to:Bte(t),className:"text-center group",onMouseEnter:()=>e(s),onMouseLeave:()=>e(null),children:[n.jsxs(Xe.div,{className:`rounded-lg overflow-hidden relative bg-gradient-to-b ${tR[s%tR.length]} ${sR[s%sR.length]} transition-all duration-300 h-20 w-full flex items-center justify-center group-hover:shadow-md`,initial:{y:0},animate:{y:r===s?-5:0,scale:r===s?1.05:1},transition:{type:"spring",stiffness:300,damping:15},children:[n.jsx(Xe.img,{src:$te[t]||"https://via.placeholder.com/48",alt:t,className:"w-12 h-12 object-contain",animate:{scale:r===s?1.1:1,rotate:r===s?5:0},transition:{type:"spring",stiffness:200,damping:10}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 rounded-full bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-pulse"})]}),n.jsx(Xe.p,{className:"text-xs md:text-sm text-gray-800 mt-2 font-medium",animate:{fontWeight:r===s?600:500,color:r===s?"#3B82F6":"#1F2937"},children:t})]},t))})]})},Yte=()=>{const[r,e]=E.useState(!1),[t,s]=E.useState([]),[a,i]=E.useState({}),[o,l]=E.useState({}),[c,u]=E.useState("");return E.useEffect(()=>{localStorage.getItem("hasVisitedBefore")||(e(!0),localStorage.setItem("hasVisitedBefore","true"))},[]),E.useEffect(()=>{const h=bs(Ie(re,"categories"),x=>{console.log(" CATEGORIES SNAPSHOT:"),console.log("Categories docs count:",x.docs.length),x.docs.forEach((b,v)=>{console.log(`Category ${v+1}:`,{id:b.id,data:b.data()})});const y=x.docs.map(b=>b.data().name);console.log("Extracted category names:",y),s(y)}),f=bs(Ie(re,"customSubcategories"),x=>{console.log(" CUSTOM SUBCATEGORIES SNAPSHOT:"),console.log("CustomSubcategories docs count:",x.docs.length);const y={};x.forEach((b,v)=>{console.log(`CustomSubcategory ${v+1}:`,{id:b.id,data:b.data(),subcategories:b.data().subcategories||[]}),y[b.id]=b.data().subcategories||[]}),console.log("Final customSubcategories structure:",y),i(y)}),g=bs(Ie(re,"customSubSubcategories"),x=>{console.log(" CUSTOM SUB-SUBCATEGORIES SNAPSHOT:"),console.log("CustomSubSubcategories docs count:",x.docs.length);const y={};x.forEach((b,v)=>{console.log(`CustomSubSubcategory ${v+1}:`,{id:b.id,data:b.data()});const N=b.id;y[N]={},Object.entries(b.data()).forEach(([k,C])=>{console.log(`   ${k}:`,C),y[N][k]=C})}),console.log("Final customSubSubcategories structure:",y),l(y)});return()=>{h(),f(),g()}},[]),E.useEffect(()=>{console.log(" STATE UPDATE - Categories:",t)},[t]),E.useEffect(()=>{console.log(" STATE UPDATE - CustomSubcategories:",a)},[a]),E.useEffect(()=>{console.log(" STATE UPDATE - CustomSubSubcategories:",o)},[o]),n.jsxs("div",{className:"home-main-container bg-background-light",children:[n.jsx(_te,{}),r&&n.jsx("div",{className:"welcome-banner",children:n.jsxs("div",{className:"container mx-auto flex items-center justify-between px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-primary text-base sm:text-lg",children:"Welcome to Foremade!"}),n.jsx("p",{className:"text-sm sm:text-base text-secondary",children:"Discover amazing deals from trusted sellers"})]}),n.jsx("button",{onClick:()=>e(!1),className:"text-primary hover:text-primary-dark",children:n.jsx("i",{className:"bx bx-x text-xl sm:text-2xl"})})]})}),n.jsx(Cte,{}),n.jsx(Wte,{}),n.jsx(Ite,{}),n.jsx(Lte,{}),n.jsx(Mte,{}),n.jsx(Dte,{}),n.jsx(Tte,{}),n.jsx(Fte,{}),n.jsx(Ote,{}),n.jsx(Ste,{}),n.jsx("div",{className:"my-8 px-2 sm:px-4 lg:px-8",children:n.jsx(J5,{})}),n.jsx(Pte,{}),n.jsx(Ute,{}),n.jsx("div",{className:"footer-bar py-6 sm:py-8 bg-background-light border-t border-gray-200",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:n.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 sm:gap-4 text-xs sm:text-sm md:text-base text-secondary",children:[n.jsx(fe,{to:"/user-agreement",className:"footer-link px-3 py-2 hover:text-primary transition-colors min-w-[100px] text-center",children:"User Agreement"}),n.jsx(fe,{to:"/privacy-policy",className:"footer-link px-3 py-2 hover:text-primary transition-colors min-w-[100px] text-center",children:"Privacy Policy"}),n.jsx("span",{className:"footer-separator hidden sm:inline",children:"|"}),n.jsx(fe,{to:"/terms-conditions",className:"footer-link px-3 py-2 hover:text-primary transition-colors min-w-[100px] text-center",children:"Terms & Conditions"}),n.jsx("span",{className:"footer-separator hidden sm:inline",children:"|"})]})})})]})},qte=()=>{const[r,e]=E.useState([]),[t,s]=E.useState([]),[a,i]=E.useState([]),[o,l]=E.useState(!0),c=h=>{let f=[...h];for(let g=f.length-1;g>0;g--){const x=Math.floor(Math.random()*(g+1));[f[g],f[x]]=[f[x],f[g]]}return f};E.useEffect(()=>{(async()=>{try{const g=(await Ke(Ie(re,"products"))).docs.map(b=>({id:b.id,...b.data()}));e(g),i(c(g));const y=(await Ke(Ie(re,"dailyDeals"))).docs.map(b=>({id:b.id,...b.data()}));s(y)}catch(f){console.error("Error fetching data:",f)}finally{l(!1)}})()},[]);const u=({count:h})=>n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:Array.from({length:h}).map((f,g)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 h-[300px] flex flex-col animate-pulse",children:[n.jsx("div",{className:"h-[200px] bg-gray-200 rounded-t-lg"}),n.jsxs("div",{className:"p-3 flex flex-col flex-grow",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded mt-auto"})]})]},g))});return n.jsx("div",{className:"container mx-auto px-4 py-8",children:o?n.jsx(u,{count:8}):a.length===0?n.jsxs("div",{className:"text-center col-span-full py-12",role:"alert","aria-label":"No products found",children:[n.jsx("p",{className:"text-gray-600 text-lg",children:"No products available."}),n.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Please check back later."})]}):n.jsx("div",{children:n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-4",role:"grid","aria-label":"Product list",children:a.map(h=>n.jsx(zr,{product:h,dailyDeals:t},h.id))})})})};var Hw,rR;function Xte(){if(rR)return Hw;rR=1;var r="Expected a function",e=NaN,t="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c=typeof sx=="object"&&sx&&sx.Object===Object&&sx,u=typeof self=="object"&&self&&self.Object===Object&&self,h=c||u||Function("return this")(),f=Object.prototype,g=f.toString,x=Math.max,y=Math.min,b=function(){return h.Date.now()};function v(_,I,P){var T,D,L,F,z,O,V=0,H=!1,B=!1,q=!0;if(typeof _!="function")throw new TypeError(r);I=R(I)||0,N(P)&&(H=!!P.leading,B="maxWait"in P,L=B?x(R(P.maxWait)||0,I):L,q="trailing"in P?!!P.trailing:q);function ee(Me){var ue=T,X=D;return T=D=void 0,V=Me,F=_.apply(X,ue),F}function G(Me){return V=Me,z=setTimeout(te,I),H?ee(Me):F}function $(Me){var ue=Me-O,X=Me-V,se=I-ue;return B?y(se,L-X):se}function Q(Me){var ue=Me-O,X=Me-V;return O===void 0||ue>=I||ue<0||B&&X>=L}function te(){var Me=b();if(Q(Me))return ne(Me);z=setTimeout(te,$(Me))}function ne(Me){return z=void 0,q&&T?ee(Me):(T=D=void 0,F)}function ce(){z!==void 0&&clearTimeout(z),V=0,T=O=D=z=void 0}function Re(){return z===void 0?F:ne(b())}function de(){var Me=b(),ue=Q(Me);if(T=arguments,D=this,O=Me,ue){if(z===void 0)return G(O);if(B)return z=setTimeout(te,I),ee(O)}return z===void 0&&(z=setTimeout(te,I)),F}return de.cancel=ce,de.flush=Re,de}function N(_){var I=typeof _;return!!_&&(I=="object"||I=="function")}function k(_){return!!_&&typeof _=="object"}function C(_){return typeof _=="symbol"||k(_)&&g.call(_)==t}function R(_){if(typeof _=="number")return _;if(C(_))return e;if(N(_)){var I=typeof _.valueOf=="function"?_.valueOf():_;_=N(I)?I+"":I}if(typeof _!="string")return _===0?_:+_;_=_.replace(s,"");var P=i.test(_);return P||o.test(_)?l(_.slice(2),P?2:8):a.test(_)?e:+_}return Hw=v,Hw}var Gte=Xte();const kd=cb(Gte),Kte=({onFilterChange:r})=>{const[e,t]=E.useState([0,1e5]),[s,a]=E.useState([]),[i,o]=E.useState("default"),[l,c]=E.useState(""),[u,h]=E.useState([]),[f,g]=E.useState(!0),[x,y]=E.useState(!1);E.useEffect(()=>{(async()=>{try{g(!0);const P=(await Ke(Ie(re,"categories"))).docs.map(T=>({id:T.id,name:T.data().name||"Unnamed Category"}));h(P)}catch(I){console.error("Error fetching categories:",I)}finally{g(!1)}})()},[]);const b=E.useCallback(kd(_=>{console.log("Applying filters:",{priceRange:e,selectedCategories:s,sortOption:i,searchTerm:_,status:"approved"}),r({priceRange:e,selectedCategories:s,sortOption:i,searchTerm:_,status:"approved"})},300),[e,s,i]),v=_=>{const I=_.target.value;c(I),b(I)},N=_=>{const[I,P]=_;I>P||(t(_),console.log("Price range updated:",_),r({priceRange:_,selectedCategories:s,sortOption:i,searchTerm:l,status:"approved"}))},k=_=>{const I=s.includes(_)?s.filter(P=>P!==_):[...s,_];a(I),console.log("Selected categories updated:",I),r({priceRange:e,selectedCategories:I,sortOption:i,searchTerm:l,status:"approved"})},C=_=>{const I=_.target.value;o(I),console.log("Sort option updated:",I),r({priceRange:e,selectedCategories:s,sortOption:I,searchTerm:l,status:"approved"})},R=()=>{t([0,1e5]),a([]),o("default"),c(""),console.log("Filters cleared"),r({priceRange:[0,1e5],selectedCategories:[],sortOption:"default",searchTerm:"",status:"approved"})};return n.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm md:sticky md:top-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"}),n.jsx("button",{onClick:R,className:"text-sm text-blue-600 hover:text-blue-800 transition","aria-label":"Clear all filters",children:"Clear All"})]}),n.jsx("div",{className:"mb-6",children:n.jsx("input",{type:"text",placeholder:"Search products...",value:l,onChange:v,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm","aria-label":"Search products"})}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Price Range: ",n.jsx(lr,{price:e[0]})," - ",n.jsx(lr,{price:e[1]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("input",{type:"range",min:"0",max:"100000",value:e[0],onChange:_=>N([parseInt(_.target.value),e[1]]),className:"w-full accent-blue-500","aria-label":"Minimum price"}),n.jsx("input",{type:"range",min:"0",max:"100000",value:e[1],onChange:_=>N([e[0],parseInt(_.target.value)]),className:"w-full accent-blue-500","aria-label":"Maximum price"})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Categories"}),n.jsx("button",{className:"md:hidden text-blue-600 text-sm",onClick:()=>y(!x),"aria-label":x?"Collapse categories":"Expand categories",children:x?"Hide":"Show"})]}),n.jsx("div",{className:`text-sm ${x?"block":"hidden md:block"}`,children:f?n.jsxs("div",{className:"animate-pulse space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):u.length===0?n.jsx("p",{className:"text-gray-500",children:"No categories available"}):u.map(_=>n.jsxs("label",{className:"flex items-center space-x-2 py-1 hover:bg-gray-100 rounded px-2 transition",children:[n.jsx("input",{type:"checkbox",value:_.name,checked:s.includes(_.name),onChange:()=>k(_.name),className:"accent-blue-500","aria-label":`Select ${_.name} category`}),n.jsx("span",{className:"text-gray-700",children:_.name})]},_.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),n.jsxs("select",{value:i,onChange:C,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm","aria-label":"Sort products",children:[n.jsx("option",{value:"default",children:"Default"}),n.jsx("option",{value:"price-low-high",children:"Price: Low to High"}),n.jsx("option",{value:"price-high-low",children:"Price: High to Low"}),n.jsx("option",{value:"alpha-asc",children:"Alphabetical: A-Z"}),n.jsx("option",{value:"alpha-desc",children:"Alphabetical: Z-A"})]})]})]})},Qte=()=>{const[r,e]=E.useState([]),[t,s]=E.useState([]),[a,i]=E.useState([]),[o,l]=E.useState(!0),[c,u]=E.useState(null),h=E.useMemo(()=>({"tablet & phones":1,"health & beauty":2,"foremade fashion":3,electronics:4,"baby products":5,"computers & accessories":6,"game & fun":7,"drinks & categories":8,"home & kitchen":9,"smart watches":10,uncategorized:11}),[]),f=x=>{let y=[...x];for(let b=y.length-1;b>0;b--){const v=Math.floor(Math.random()*(b+1));[y[b],y[v]]=[y[v],y[b]]}return y};E.useEffect(()=>{(async()=>{try{l(!0);const y=mt(Ie(re,"products"),nt("status","==","approved")),b=await Ke(y);console.log("Total products fetched from Firestore:",b.docs.length);const v=b.docs.map(N=>{const k=N.data();let C=null;if(Array.isArray(k.variants)&&k.variants.length>0&&k.variants[0]?.imageUrls){const T=k.variants[0].imageUrls.find(D=>typeof D=="string"&&D.trim()&&D.startsWith("https://"));C=T||k.variants[0].imageUrls[0]||null,console.log(`Variant image check for ${N.id}:`,{firstValidUrl:T,allUrls:k.variants[0].imageUrls})}else if(Array.isArray(k.imageUrls)&&k.imageUrls.length>0){const T=k.imageUrls.find(D=>typeof D=="string"&&D.trim()&&D.startsWith("https://"));C=T||k.imageUrls[0]||null,console.log(`Product image check for ${N.id}:`,{firstValidUrl:T,allUrls:k.imageUrls})}else k.imageUrl&&typeof k.imageUrl=="string"&&k.imageUrl.startsWith("https://")?(C=k.imageUrl,console.log(`Single imageUrl check for ${N.id}:`,k.imageUrl)):console.warn(`Product ${N.id} has no valid imageUrl or imageUrls`,{id:N.id,name:k.name,imageUrl:k.imageUrl,imageUrls:k.imageUrls,variants:k.variants});let R=k.price||0,_=k.price||0,I=Array.isArray(k.variants)&&k.variants.length>0;if(I){const T=k.variants.map(D=>D.price||0);R=Math.min(...T),_=Math.max(...T)}const P=I?k.variants.reduce((T,D)=>T+(D.stock||0),0):k.stock||0;return P<10?(console.warn(`Product ${N.id} filtered out due to low stock:`,{name:k.name,totalStock:P}),null):{id:N.id,name:k.name||"Unknown Product",description:k.description||"",price:I?R:k.price||0,minPrice:I?R:null,maxPrice:I?_:null,stock:P,category:k.category||"uncategorized",categoryId:h[k.category?.toLowerCase()]||11,colors:k.colors||[],sizes:k.sizes||[],condition:k.condition||"New",imageUrl:C,variants:k.variants||[],sellerId:k.sellerId||"",seller:k.seller||{name:k.sellerName||"Unknown Seller",id:k.sellerId||""},rating:k.rating||0,reviews:k.reviews||[],status:k.status||"pending",bumpExpiry:k.bumpExpiry||null}}).filter(N=>N!==null&&N.id);console.log("Fetched approved products with sufficient stock:",v),v.length===0&&(console.warn("No approved products with sufficient stock found. Check Firestore data."),u("No approved products available at the moment.")),e(v),s(f(v))}catch(y){console.error("Error fetching products:",y),u("Failed to load products. Please try again.")}finally{l(!1)}})(),Ke(Ie(re,"dailyDeals")).then(y=>{i(y.docs.map(b=>({id:b.id,...b.data()})))})},[h]);const g=E.useCallback(({priceRange:x,selectedCategories:y,sortOption:b,searchTerm:v,status:N})=>{let k=[...r].filter(C=>C!==null);k=k.filter(C=>(C.minPrice!==null?C.minPrice:C.price)>=x[0]&&(C.maxPrice!==null?C.maxPrice:C.price)<=x[1]),y.length>0&&(k=k.filter(C=>y.includes(C.categoryId))),v&&(k=k.filter(C=>C.name.toLowerCase().includes(v.toLowerCase()))),b==="price-low-high"?k.sort((C,R)=>(C.minPrice||C.price)-(R.minPrice||R.price)):b==="price-high-low"?k.sort((C,R)=>(R.minPrice||R.price)-(C.minPrice||C.price)):b==="alpha-asc"?k.sort((C,R)=>C.name.localeCompare(R.name)):b==="alpha-desc"?k.sort((C,R)=>R.name.localeCompare(R.name)):k.sort((C,R)=>{const _=C.bumpExpiry?new Date(C.bumpExpiry):null,I=R.bumpExpiry?new Date(R.bumpExpiry):null;return _&&I?I-_:_?-1:I?1:0}),console.log("Updated filtered products:",k),s(f(k))},[r]);return c?n.jsx("div",{className:"container mx-auto p-4",children:n.jsx("p",{className:"text-red-600 text-center",children:c})}):n.jsxs("div",{className:"mb-10 rounded-lg mx-auto p-3",children:[n.jsx("div",{className:"flex-col",children:n.jsx("h2",{className:"text-2xl font-bold mb-4 m-4",children:"Shop All Products"})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"w-full rounded-lg border md:w-1/4",children:n.jsx(Kte,{onFilterChange:g,categoryMap:h})}),n.jsx("div",{className:"w-full rounded-lg border",children:n.jsx(qte,{products:t,dailyDeals:a})})]})]})},Zu={seller:{orderConfirmation:"Your order has been confirmed and will ship soon!",shippingUpdate:"Your order has been shipped. Tracking ID: [TRACKING_ID].",issueResponse:"Were sorry for the inconvenience. Please share more details so we can assist you.",refundProcessed:"Your refund has been processed and will reflect in 3-5 business days.",productInquiry:"Thank you for your inquiry! Can you specify which product details you need?",deliveryDelay:"We apologize for the delay. Your order is expected to arrive by [DATE].",outOfStock:"The item is currently out of stock. Well notify you when its available.",orderReceived:"Weve received your order and are processing it now.",paymentIssue:"There was an issue with your payment. Please verify your payment details.",productDamaged:"Please send us images of the damaged product so we can process a replacement.",thankYou:"Thank you for shopping with us! Let us know if you need further assistance.",customRequest:"Weve noted your custom request. Well get back to you shortly."},buyer:{orderStatus:"Can you provide an update on my order status?",shippingQuery:"When will my order be shipped?",productQuestion:"Can you share more details about the product?",returnRequest:"Id like to request a return for my order.",paymentIssue:"Im having trouble with the payment. Can you assist?",deliveryIssue:"My order hasnt arrived yet. Can you check on it?",productDamage:"The product I received is damaged. How can I proceed?",refundStatus:"Can you confirm the status of my refund?",cancelOrder:"Id like to cancel my order. Is that possible?",sizeIssue:"The product doesnt fit. Can I exchange it?",qualityConcern:"Im not satisfied with the product quality. Can we discuss this?",customRequest:"I have a special request regarding my order. Can you help?"}},tO=({role:r,onSelect:e,selectedTemplate:t})=>n.jsx("div",{className:"relative",children:n.jsxs("select",{value:t,onChange:s=>e(s.target.value),className:"w-full p-2 rounded-lg bg-gray-100 text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition","aria-label":"Select a message template",children:[n.jsx("option",{value:"",children:"Select a message template"}),Object.keys(Zu[r]||{}).map(s=>n.jsx("option",{value:s,children:Zu[r][s]},s))]})}),ti=()=>n.jsx("div",{className:"flex justify-center items-center h-48",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})}),aR=(r,e)=>{const t=[r,e].filter(l=>l?.trim()),s=t[0]?.slice(0,4).toLowerCase()||"user",a=t[1]?.slice(0,3).toLowerCase()||"",i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return(s+a).replace(/[^a-z0-9]/g,"")+i};function Sd(){const[r,e]=E.useState({firstName:"",lastName:"",username:"guest",email:"",profileImage:localStorage.getItem("profileImage")||null}),t="https://via.placeholder.com/150?text=Profile";E.useEffect(()=>{const a=ke.onAuthStateChanged(async l=>{if(!l){e({firstName:"",lastName:"",username:"guest",email:"",profileImage:null});return}try{const c=Ce(re,"users",l.uid),u=bs(c,h=>{if(h.exists()){const f=h.data();e(g=>({...g,firstName:f.firstName||"",lastName:f.lastName||"",username:f.username||aR(f.firstName||"",f.lastName||""),email:l.email||""}))}});return()=>u()}catch(c){console.error("Error fetching sidebar data:",c)}}),i=()=>{e(l=>({...l,profileImage:localStorage.getItem("profileImage")||null}))},o=()=>{const l=JSON.parse(localStorage.getItem("userData"));l&&e(c=>({...c,firstName:l.firstName||c.firstName,lastName:l.lastName||c.lastName,username:l.username||aR(l.firstName||"",l.lastName||""),email:l.email||c.email}))};return window.addEventListener("profileImageUpdated",i),window.addEventListener("userDataUpdated",o),()=>{a(),window.removeEventListener("profileImageUpdated",i),window.removeEventListener("userDataUpdated",o)}},[]);const s=()=>r.profileImage?n.jsx("img",{src:r.profileImage,alt:"Profile",className:"w-full h-full object-cover",onError:()=>{e(a=>({...a,profileImage:t}))}}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300 text-white text-lg font-bold uppercase rounded-full",children:r.email[0]||"?"});return n.jsxs("div",{className:"md:w-1/4 dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-100 dark:border-black",children:[n.jsxs("div",{className:"flex flex-col items-center mb-6 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto flex items-center justify-center overflow-hidden hover:bg-gray-300 transition-colors duration-300",children:s()}),n.jsxs("h3",{className:"mt-2 text-lg font-semibold text-gray-800 dark:text-gray-200",children:[r.firstName," ",r.lastName||""]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:r.username})]}),n.jsxs("nav",{className:"flex flex-col space-y-2",children:[n.jsxs(fe,{to:"/profile",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-blue-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(Ul,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"Profile"})]}),n.jsxs(fe,{to:"/orders",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-green-100 dark:hover:bg-green-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(fd,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"Orders"})]}),n.jsxs(fe,{to:"/order-tracking",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-green-100 dark:hover:bg-green-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(MJ,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"Track Orders"})]}),n.jsxs(fe,{to:"/favorites",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-red-100 dark:hover:bg-red-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(V5,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"Favorites"})]}),n.jsxs(fe,{to:"/address",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-purple-100 dark:hover:bg-purple-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(See,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"Addresses"})]}),n.jsxs(fe,{to:"/setting",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-orange-100 dark:hover:bg-orange-800 p-2 rounded-lg transition-colors duration-300",children:[n.jsx(hk,{className:"w-6 h-6 text-black dark:text-white"}),n.jsx("span",{children:"Settings"})]})]})]})}function Zte(r){if(r.length===0)return!1;const e=r[r.length-1];return/photo|image|picture|show|damage|send us|share/i.test(e.text)}const Jte=()=>{const{orderId:r}=Wl(),{state:e}=Xr(),t=gs(),[s,a]=E.useState([]),[i,o]=E.useState(""),[l,c]=E.useState(null),[u,h]=E.useState(null),[f,g]=E.useState(!1),[x,y]=E.useState(!1),[b,v]=E.useState({name:"Seller",avatar:null}),[N,k]=E.useState(!1),[C,R]=E.useState(!0),_=E.useRef(null),I=E.useRef(null);E.useEffect(()=>{(async()=>{if(!ke.currentUser){je.error("Please sign in to access chat."),t("/login"),R(!1);return}if(!r||!e?.sellerId||!e?.productName||e?.role!=="buyer"){je.error("Invalid chat request."),t("/orders"),R(!1);return}try{const V=Ce(re,"orders",r),H=await Je(V);if(!H.exists()||H.data().userId!==ke.currentUser.uid){je.error("Invalid order or unauthorized access."),t("/orders"),R(!1);return}const B=Ce(re,"users",e.sellerId),q=await Je(B),ee=q.exists()?q.data():{};v({name:ee.displayName||"Seller",avatar:ee.avatar||"https://ui-avatars.com/api/?name=S&background=3b82f6&color=fff&size=40"}),k(!0);const G=mt(Ie(re,"chats"),nt("orderId","==",r),nt("userId","==",ke.currentUser.uid),nt("sellerId","==",e.sellerId)),$=await Ke(G);let Q;if($.empty){const de=Math.random().toString(36).substr(2,9);Q=`${r}-${de}`,await en(Ie(re,"chats"),{chatId:Q,orderId:r,userId:ke.currentUser.uid,sellerId:e.sellerId,productId:H.data().items[0]?.productId||"",createdAt:new Date,lastMessage:"",lastMessageTime:new Date,typing:{}})}else Q=$.docs[0].id;const te=mt(Ie(re,"chats",Q,"messages"),vg("timestamp","asc")),ne=bs(te,de=>{const Me=de.docs.map(ue=>({id:ue.id,...ue.data()}));a(Me),R(!1)},de=>{console.error("Error fetching messages:",de.message),je.error("Failed to load messages."),R(!1)}),ce=Ce(re,"chats",Q),Re=bs(ce,de=>{const Me=de.data();y(Me?.typing?.[e.sellerId]||!1)},de=>{console.error("Error fetching typing status:",de.message)});return()=>{ne(),Re()}}catch(V){console.error("Error validating chat:",V.message),je.error("Failed to load chat."),t("/orders"),R(!1)}})()},[r,e,t]);const P=()=>{I.current?.scrollIntoView({behavior:"smooth"})};E.useEffect(()=>{P()},[s]);const T=O=>{const V=O.target.files[0];if(V){if(!V.type.startsWith("image/")){je.error("Please select an image file");return}if(V.size>5*1024*1024){je.error("Image size should be less than 5MB");return}c(V);const H=new FileReader;H.onload=B=>h(B.target.result),H.readAsDataURL(V)}},D=async()=>{if(!i){je.error("Please select a message template.");return}try{g(!0);const O=mt(Ie(re,"chats"),nt("orderId","==",r),nt("userId","==",ke.currentUser.uid),nt("sellerId","==",e.sellerId)),V=await Ke(O);if(V.empty){je.error("Chat not found.");return}const H=V.docs[0].id;await en(Ie(re,"chats",H,"messages"),{senderId:ke.currentUser.uid,text:Zu.buyer[i],image:null,timestamp:new Date,status:"delivered"}),await aa(Ce(re,"chats",H),{lastMessage:Zu.buyer[i],lastMessageTime:new Date,[`typing.${ke.currentUser.uid}`]:!1}),o("")}catch(O){console.error("Error sending message:",O.message),je.error("Failed to send message.")}finally{g(!1)}},L=async()=>{if(!(!l||!u))try{g(!0);const O=mt(Ie(re,"chats"),nt("orderId","==",r),nt("userId","==",ke.currentUser.uid),nt("sellerId","==",e.sellerId)),V=await Ke(O);if(V.empty){je.error("Chat not found.");return}const H=V.docs[0].id;await en(Ie(re,"chats",H,"messages"),{senderId:ke.currentUser.uid,text:"",image:u,timestamp:new Date,status:"delivered"}),await aa(Ce(re,"chats",H),{lastMessage:"Image sent",lastMessageTime:new Date,[`typing.${ke.currentUser.uid}`]:!1}),c(null),h(null),_.current&&(_.current.value="")}catch(O){console.error("Error sending image:",O.message),je.error("Failed to send image.")}finally{g(!1)}},F=async()=>{if(N)try{const O=mt(Ie(re,"chats"),nt("orderId","==",r),nt("userId","==",ke.currentUser.uid),nt("sellerId","==",e.sellerId)),V=await Ke(O);if(!V.empty){const H=V.docs[0].id;await aa(Ce(re,"chats",H),{[`typing.${ke.currentUser.uid}`]:!0})}}catch(O){console.error("Error updating typing status:",O.message)}},z=O=>{if(!O)return"";try{return(O.toDate?O.toDate():new Date(O)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return C?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(ti,{}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading chat..."})]}):N?n.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-700",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx(Sd,{}),n.jsxs(Xe.div,{className:"md:w-3/4 flex flex-col bg-white rounded-lg shadow-md overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-green-600 text-white border-b border-gray-200",children:[n.jsx("img",{src:b.avatar,alt:"Seller",className:"w-10 h-10 rounded-full border-2 border-white"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-semibold text-lg",children:b.name}),n.jsxs("div",{className:"text-xs text-green-100",children:["Product: ",e?.productName||"Unknown"]})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-100",children:[n.jsxs(Ua,{children:[s.map(O=>n.jsx(Xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.2},className:`flex ${O.senderId===ke.currentUser.uid?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm relative ${O.senderId===ke.currentUser.uid?"bg-green-500 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none"}`,children:[O.text&&n.jsx("div",{className:"text-sm",children:O.text}),O.image&&n.jsx("img",{src:O.image,alt:"chat-img",className:"max-w-[150px] sm:max-w-[200px] rounded-md border border-gray-200 mb-1"}),n.jsx("div",{className:"flex items-center justify-end gap-1 text-xs mt-1",children:n.jsx("span",{className:O.senderId===ke.currentUser.uid?"text-green-100":"text-gray-500",children:z(O.timestamp)})}),n.jsx("div",{className:`absolute bottom-0 ${O.senderId===ke.currentUser.uid?"right-[-6px]":"left-[-6px]"} w-0 h-0 border-t-[6px] border-t-transparent ${O.senderId===ke.currentUser.uid?"border-l-[6px] border-l-green-500":"border-r-[6px] border-r-white"} border-b-[6px] border-b-transparent`})]})},O.id)),(f||x)&&n.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-start",children:n.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),n.jsx("div",{ref:I})]}),n.jsxs("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:[n.jsx("div",{className:"mb-3",children:n.jsx(tO,{role:"buyer",onSelect:o,selectedTemplate:i,className:"w-full p-2 rounded-full bg-gray-100 text-gray-800 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"})}),l&&u&&n.jsx(Xe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mb-3 p-2 bg-gray-100 rounded-lg border border-gray-200",children:n.jsx("img",{src:u,alt:"preview",className:"max-w-[80px] max-h-[80px] rounded-md"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex-1 flex items-center gap-2 bg-gray-100 rounded-full p-2",children:[Zte(s)&&n.jsxs(n.Fragment,{children:[n.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:T,className:"hidden",id:"image-upload"}),n.jsx(Xe.label,{htmlFor:"image-upload",whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-gray-600 p-1 cursor-pointer hover:text-green-600",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.586-6.586M12 3v6m0 0v6m0-6h6m-6 0H6"})})})]}),i?n.jsx(Xe.button,{onClick:D,disabled:f,whileHover:{scale:1.05},whileTap:{scale:.95},className:`ml-auto p-2 rounded-full ${f?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600"}`,onMouseDown:F,children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}):n.jsx(Xe.button,{onClick:()=>t("/support"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-auto p-2 rounded-full bg-orange-500 text-white hover:bg-orange-600",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 5.636A9 9 0 1121 12h-3m-6 6v3m-6-3h-3m6-6H3m6-6V3"})})})]}),l&&u&&n.jsx(Xe.button,{onClick:L,disabled:f,whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-2 rounded-full ${f?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600"}`,children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})]})]})}):null},Rg="/assets/logi-DGW4y32z.png",nR=async(r,e={})=>{const t=JSON.parse(localStorage.getItem("userData"))||{},a=oh().currentUser,i=a?a.email:t.email||"",o={...e.headers,"x-user-email":i},l=await fetch(r,{...e,headers:o});return console.log("Fetch response status:",l.status),console.log("Fetch headers sent:",o),l},bx=r=>{switch(r.code){case"auth/invalid-credential":return"Incorrect email or password.";case"auth/wrong-password":return"Wrong password. Please try again.";case"auth/user-not-found":return"No account found with this email.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-disabled":return"This account is not available.";case"auth/too-many-requests":return"Too many attempts. Please try again.";case"auth/otp-not-verified":return"Please verify your email with the code sent to you.";default:return"Something went wrong. Please try again."}};function ese(){const[r,e]=E.useState(""),[t,s]=E.useState(""),[a,i]=E.useState(!1),[o,l]=E.useState(""),[c,u]=E.useState(""),[h,f]=E.useState(""),[g,x]=E.useState(!1),[y,b]=E.useState(!1),[v,N]=E.useState(!1),k=gs(),{state:C}=Xr(),R="https://foremade-backend.onrender.com",_=F=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F),I=async F=>{if(!F)return;const z=localStorage.getItem("lastLogin"),O=localStorage.getItem("inactiveEmailSent");if(!z||O==="true")return;const V=new Date(z),B=(new Date().getTime()-V.getTime())/(1e3*60*60*24);if(B>=14&&B<=21)try{const q=await fetch(`${R}/api/send-inactive-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:F.email,name:F.displayName||null})}),ee=await q.json();q.ok?(console.log("Inactive user email triggered:",ee.message),localStorage.setItem("inactiveEmailSent","true")):console.error("Failed to trigger inactive email:",ee.error)}catch(q){console.error("Error triggering inactive email:",q.message)}};E.useEffect(()=>{const F=localStorage.getItem("socialEmail")||C?.email||"";F&&(e(F),u("Use Google Sign-In for this account."));const z=ke.onAuthStateChanged(O=>{O&&I(O)});return()=>z()},[]);const P=async F=>{try{const z=Ce(re,"users",F.uid),O=await Je(z);let V;if(O.exists())V=O.data();else{const ee=F.displayName||"",[G,$]=ee.split(" ").length>1?ee.split(" "):[ee,""];V={uid:F.uid,email:F.email,firstName:G||F.email.split("@")[0],lastName:$||"",username:F.email.split("@")[0].toLowerCase().replace(/[^a-z0-9]/g,"")+Math.floor(Math.random()*1e3),phoneNumber:F.phoneNumber||"",role:"buyer"},await Xt(z,V)}const H=await nR(`${R}/authenticate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:F.email})}),B=await H.json();if(!H.ok)throw new Error(B.error||"Server error");V.role=B.role,localStorage.setItem("userData",JSON.stringify(V)),localStorage.removeItem("socialEmail"),localStorage.setItem("lastLogin",new Date().toISOString()),localStorage.removeItem("inactiveEmailSent");const q=V.firstName||V.name?.split(" ")[0]||"User";f(`Welcome, ${q}!`),setTimeout(()=>{b(!1),N(!1),k(B.redirectUrl,{state:{fromValidNavigation:!0}})},2e3)}catch(z){console.error("Social login error:",z),l(bx(z)||"Login failed. Please try again."),b(!1),N(!1)}},T=async F=>{F.preventDefault(),l(""),u(""),f(""),x(!0);let z=!1;const O=r.trim(),V=t.trim();if(O?_(O)||(l("Please enter a valid email address."),z=!0):(l("Email is required."),z=!0),!V&&!c.includes("Google Sign-In")&&(u("Password is required."),z=!0),z){x(!1);return}try{await w3(ke,Ej);const B=(await s7(ke,O,V)).user;let q={uid:B.uid,email:O,role:"buyer"};const ee=await hB(B),G=await nR(`${R}/authenticate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({email:O})}),$=await G.json();if(!G.ok)throw new Error($.error||"Server error");q.role=$.role;const Q=Ce(re,"users",B.uid),te=await Je(Q);te.exists()?q={...te.data(),...q,role:$.role}:await Xt(Q,q),localStorage.setItem("userData",JSON.stringify(q)),localStorage.setItem("lastLogin",new Date().toISOString()),localStorage.removeItem("inactiveEmailSent");const ne=q.firstName||q.name?.split(" ")[0]||"User";f(`Welcome, ${ne}!`),setTimeout(()=>{x(!1),k($.redirectUrl,{state:{fromValidNavigation:!0}})},2e3)}catch(H){console.error("Login error:",H),x(!1);const B=H.message||bx(H);B.includes("email")||B.includes("account")||B.includes("valid")?l(B):u(B)}},D=async()=>{l(""),u(""),f(""),b(!0);const F=new Ei;F.setCustomParameters({prompt:"select_account"});try{const z=await L1(ke,F);await P(z.user)}catch(z){console.error("Google sign-in error:",z),b(!1),l(bx(z)||"Sign-in failed. Please try again.")}},L=async()=>{l(""),u(""),f(""),N(!0);const F=new Ci;F.setCustomParameters({display:"popup"});try{const z=await L1(ke,F);await P(z.user)}catch(z){console.error("Facebook sign-in error:",z),N(!1),l(bx(z)||"Sign-in failed. Please try again.")}};return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"w-full h-screen flex",children:[n.jsx("div",{className:"hidden md:block md:w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('https://images.pexels.com/photos/7621356/pexels-photo-7621356.jpeg?auto=compress&cs=tinysrgb&w=600')"},children:n.jsxs("div",{className:"w-full h-full bg-black bg-opacity-40 flex flex-col justify-center items-center text-white p-8",children:[n.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center",children:["Welcome to ",n.jsx("img",{src:Rg,alt:"Logo",className:"h-20 ml-2"})]}),n.jsx("p",{className:"text-lg text-center",children:"Where quality meets NEEDS!"})]})}),n.jsxs("div",{className:"w-full md:w-1/2 h-full p-9 flex flex-col justify-center bg-white",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Sign In"}),n.jsxs("p",{className:"text-gray-600 mb-6",children:["Dont have an account?"," ",n.jsx(fe,{to:"/register",className:"text-blue-600 hover:underline",children:"Sign Up"})]}),n.jsxs("form",{onSubmit:T,className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",id:"email",value:r,onChange:F=>e(F.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${o?"border-red-500":h?"border-green-500":"border-gray-300"}`,autoComplete:"email",required:!0}),n.jsx("label",{htmlFor:"email",className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${r?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Email"}),o&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:a?"text":"password",id:"password",value:t,onChange:F=>s(F.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${c?"border-red-500":h?"border-green-500":"border-gray-300"}`,autoComplete:"current-password",required:!0,disabled:c.includes("Google Sign-In")}),n.jsx("label",{htmlFor:"password",className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${t||c.includes("Google Sign-In")?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Password"}),n.jsx("span",{className:"absolute right-3 top-3 text-gray-500 cursor-pointer",onClick:()=>i(!a),style:{display:c.includes("Google Sign-In")?"none":"block"},children:n.jsx("i",{className:`bx ${a?"bx-hide":"bx-show"} text-xl`})}),c&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:c})]}),h&&n.jsx("p",{className:"text-green-600 text-xs mt-1",children:h}),n.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:g||c.includes("Google Sign-In"),children:g?"Logging in...":"Sign In"})]}),n.jsx("p",{className:"text-gray-600 mt-2",children:n.jsx(fe,{to:"/recover-password",className:"hover:underline hover:text-blue-700",children:"Forgot Password?"})}),n.jsxs("div",{className:"mt-5 text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Or continue with"}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsxs("button",{onClick:D,className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:y,children:[n.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5 mr-2"}),y?"Processing...":"Google"]}),n.jsxs("button",{onClick:L,className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:v,children:[n.jsx("img",{src:"https://www.facebook.com/favicon.ico",alt:"Facebook",className:"w-5 h-5 mr-2"}),v?"Processing...":"Facebook"]})]})]})]})]})})}const tse=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),iR=r=>{const e=r.length>=6,t=/[a-zA-Z]/.test(r),s=/[0-9]/.test(r),a=/[_@!+=#$%^&*()[\]{}|;:,.<>?~`/-]/.test(r);return{isValid:e&&t&&s&&a,score:(e?25:0)+(t?25:0)+(s?25:0)+(a?25:0),errors:[!e&&"Password needs 6+ characters.",!t&&"Password needs a letter.",!s&&"Password needs a number.",!a&&"Password needs a special character (e.g., _, @, !)."].filter(Boolean)}},oR=(r,e)=>{const t=[r,e].filter(l=>l?.trim()),s=t[0]?.slice(0,4).toLowerCase()||"user",a=t[1]?.slice(0,3).toLowerCase()||"",i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return(s+a).replace(/[^a-z0-9]/g,"")+i},sse=r=>r.trim()?/^\+\d{7,15}$/.test(r):!0,$w="https://foremade-backend.onrender.com";function rse(){const[r,e]=E.useState(""),[t,s]=E.useState(""),[a,i]=E.useState(""),[o,l]=E.useState(""),[c,u]=E.useState(""),[h,f]=E.useState(""),[g,x]=E.useState(!1),[y,b]=E.useState(""),[v,N]=E.useState(""),[k,C]=E.useState(""),[R,_]=E.useState(""),[I,P]=E.useState(""),[T,D]=E.useState(""),[L,F]=E.useState(""),[z,O]=E.useState(!1),[V,H]=E.useState(!1),[B,q]=E.useState(0),[ee,G]=E.useState(!1),[$,Q]=E.useState(!1),te=gs(),[ne,ce]=E.useState(!1),[Re,de]=E.useState(0);E.useEffect(()=>{const Ee=iR(o);de(Ee.score),!Ee.isValid&&o?_(Ee.errors[0]):_("")},[o]),E.useEffect(()=>{ce(!0)},[]);const Me=async Ee=>{if(Ee.preventDefault(),b(""),N(""),C(""),_(""),P(""),D(""),F(""),O(!0),B>=9){C("Too many attempts. Please try again later."),O(!1);return}let $e=!1;if(r.trim()||(b("First name is required."),$e=!0),t.trim()||(N("Last name is required."),$e=!0),tse(a)||(C("Please enter a valid email address."),$e=!0),!o)_("Password is required."),$e=!0;else{const rt=iR(o);rt.isValid||(_(rt.errors[0]),$e=!0)}if(c&&!sse(c)&&(P("Invalid phone number (e.g., +1234567890)."),$e=!0),$e){O(!1),q(rt=>rt+1);return}console.log("Registering with:",{firstName:r,lastName:t,email:a,password:o});try{const rt=oR(r,t),Ve=(await j0(ke,a,o)).user;await _f(Ve,{displayName:rt});const st={email:Ve.email,name:`${r} ${t}`,username:rt,address:"",phoneNumber:c||"",createdAt:new Date().toISOString(),uid:Ve.uid,profileImage:null};await Xt(Ce(re,"users",Ve.uid),st);const Ge=await(await fetch(`${$w}/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})})).json();Ge.success?(F("Account created! Check your email for a verification code."),H(!0),localStorage.setItem("userData",JSON.stringify(st))):C(Ge.error||"Something went wrong. Please try again.")}catch(rt){C(rt.message.includes("email")?"This email is already in use or invalid. Try another.":"Registration failed. Please check your details and try again.")}finally{O(!1)}},ue=async Ee=>{let $e;Ee==="google"?($e=new Ei,G(!0)):Ee==="facebook"&&($e=new Ci,Q(!0));try{const be=(await L1(ke,$e)).user,[Ve,...st]=be.displayName?.split(" ")||[be.email.split("@")[0],""],We=st.join(" "),Ge=oR(Ve,We);await _f(be,{displayName:Ge});const et={email:be.email,name:`${Ve} ${We}`,username:Ge,address:"",phoneNumber:be.phoneNumber||"",createdAt:new Date().toISOString(),uid:be.uid,profileImage:be.photoURL||null};await Xt(Ce(re,"users",be.uid),et,{merge:!0}),localStorage.setItem("userData",JSON.stringify(et)),F("Account created successfully with "+Ee+"! Redirecting..."),setTimeout(()=>te("/"),2e3)}catch(rt){C("Social signup failed: "+rt.message)}finally{G(!1),Q(!1)}},X=async()=>{O(!0);try{const $e=await(await fetch(`${$w}/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})})).json();$e.success?F("New verification code sent to your email."):C($e.error||"Failed to send code. Please try again.")}catch{C("Unable to send code. Check your network and try again.")}finally{O(!1)}},se=async Ee=>{if(Ee.preventDefault(),D(""),F(""),O(!0),console.log("Verifying OTP:",{email:a,otp:h}),!h.trim()){D("Please enter the verification code."),O(!1);return}try{const rt=await(await fetch(`${$w}/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,otp:h})})).json();rt.success?(F("Email verified! You can log in now."),await r7(ke.currentUser),H(!1),setTimeout(()=>{te("/login")},2e3)):D(rt.error||"Invalid or expired code. Please try again.")}catch{D("Verification failed. Check your connection and try again.")}finally{O(!1)}},ge=()=>{ce(!1)},xe=()=>{te("/pro-seller-form")};return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"w-full h-screen flex",children:[n.jsx("div",{className:"hidden md:block md:w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('https://i.pinimg.com/736x/f2/8c/a4/f28ca4118a46e68b6871946e65ab5665.jpg')"},children:n.jsxs("div",{className:"w-full h-full bg-black bg-opacity-40 flex flex-col justify-center items-center text-white p-8",children:[n.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center",children:["Join ",n.jsx("img",{src:Rg,alt:"Formade logo",className:"h-20 ml-2"})]}),n.jsx("p",{className:"text-lg text-center",children:"Where quality meets NEEDS!"})]})}),n.jsxs("div",{className:"w-full md:w-1/2 h-full p-9 flex flex-col justify-center bg-white relative",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Sign Up"})}),n.jsxs("p",{className:"text-gray-600 mb-6",children:["Already have an account? ",n.jsx(fe,{to:"/login",className:"text-blue-600 hover:underline",children:"Sign In"})]}),n.jsxs("form",{onSubmit:Me,className:"space-y-4",children:[n.jsxs("div",{className:"flex space-x-4 mb-4",children:[n.jsxs("div",{className:"relative w-1/2",children:[n.jsx("input",{type:"text",value:r,onChange:Ee=>e(Ee.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${y?"border-red-500":L?"border-green-500":"border-gray-300"}`,autoComplete:"given-name",required:!0}),n.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${r?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"First Name"}),y&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:y})]}),n.jsxs("div",{className:"relative w-1/2",children:[n.jsx("input",{type:"text",value:t,onChange:Ee=>s(Ee.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${v?"border-red-500":L?"border-green-500":"border-gray-300"}`,autoComplete:"family-name",required:!0}),n.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${t?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Last Name"}),v&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:v})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",value:a,onChange:Ee=>i(Ee.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${k?"border-red-500":L?"border-green-500":"border-gray-300"}`,autoComplete:"email",required:!0}),n.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${a?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Email"}),k&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:k})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"tel",value:c,onChange:Ee=>u(Ee.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${I?"border-red-500":L?"border-green-500":"border-gray-300"}`,autoComplete:"tel"}),n.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${c?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Phone Number"}),I&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:I})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:g?"text":"password",value:o,onChange:Ee=>l(Ee.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${R?"border-red-500":L?"border-green-500":"border-gray-300"}`,autoComplete:"new-password",required:!0}),n.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${o?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Password"}),n.jsx("span",{className:"absolute right-3 top-3 text-gray-500 cursor-pointer",onClick:()=>x(!g),children:n.jsx("i",{className:`bx ${g?"bx-hide":"bx-show"} text-xl`})})]}),o&&n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Password Strength"}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-out ${Re>=75?"bg-green-500":Re>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Re}%`}})}),n.jsx("p",{className:"text-xs mt-1",children:Re>=75?"Strong":Re>=50?"Medium":"Weak"})]}),R&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:R}),L&&n.jsx("p",{className:"text-green-600 text-xs mb-4",children:L}),n.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:z,children:z?"Registering...":"Sign Up"})]}),n.jsxs("div",{className:"mt-6 text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Or continue with"}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsxs("button",{onClick:()=>ue("google"),className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:ee,children:[n.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5 mr-2"}),ee?"Processing...":"Google"]}),n.jsxs("button",{onClick:()=>ue("facebook"),className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:$,children:[n.jsx("img",{src:"https://www.facebook.com/favicon.ico",alt:"Facebook",className:"w-5 h-5 mr-2"}),$?"Processing...":"Facebook"]})]})]}),V&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"m-4 bg-white p-6 rounded-lg w-full max-w-md animate-slide-up",children:[n.jsxs("div",{className:"flex items-center justify-between mb-5",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Verify Your Email"}),n.jsx("button",{onClick:()=>H(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx("i",{className:"bx bx-x text-[24px]"})})]}),n.jsxs("p",{className:"text-gray-600 mb-4 text-sm text-center",children:["Enter the 6-digits code sent to your email ",a,"."]}),n.jsxs("form",{onSubmit:se,className:"space-y-4",children:[n.jsx("div",{className:"flex justify-between gap-2",children:[0,1,2,3,4,5].map(Ee=>n.jsx("input",{type:"text",maxLength:"1",value:h[Ee]||"",onChange:$e=>{const rt=h.split("");rt[Ee]=$e.target.value,f(rt.join("")),$e.target.value&&Ee<5&&document.getElementsByTagName("input")[Ee+1].focus()},onKeyDown:$e=>{$e.key==="Backspace"&&!h[Ee]&&Ee>0&&document.getElementsByTagName("input")[Ee-1].focus()},className:"w-12 h-12 text-center border rounded-lg focus:border-blue-500 focus:outline-none text-2xl font-medium",required:!0},Ee))}),T&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:T}),n.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:z,children:z?"Verifying...":"Verify Code"}),n.jsxs("p",{className:"text-center text-gray-600 mt-2 text-sm",children:["Didnt receive a code?"," ",n.jsx("button",{onClick:X,className:"text-blue-600 hover:underline",disabled:z,children:"Resend"})]}),L&&n.jsx("p",{className:"text-center text-green-600 text-xs mt-2",children:L})]})]})}),ne&&n.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",children:[n.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:.6},exit:{opacity:0},className:"absolute inset-0 bg-black"}),n.jsxs(Xe.div,{initial:{y:40,scale:.95,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:40,scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"relative bg-white rounded-2xl shadow-2xl max-w-lg w-full mx-4 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:n.jsx(hte,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Choose Seller Type"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Would you like to register as a Standard or Pro seller?"})]})]}),n.jsx("button",{onClick:()=>ce(!1),className:"text-gray-400 hover:text-gray-600","aria-label":"Close seller selection",children:n.jsx("i",{className:"bx bx-x text-2xl"})})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs(Xe.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:ge,className:"flex flex-col items-start p-4 border rounded-lg bg-white hover:shadow-lg transition-shadow",children:[n.jsx("span",{className:"text-lg font-medium text-gray-800",children:"Standard Seller"}),n.jsx("span",{className:"text-sm text-gray-500 mt-1",children:"Quick signup, sell basic items, simpler verification."}),n.jsx("span",{className:"mt-3 inline-flex items-center text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:"Learn more"})]}),n.jsxs(Xe.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:xe,className:"flex flex-col items-start p-4 border rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg transition-shadow",children:[n.jsx("span",{className:"text-lg font-medium",children:"Pro Seller"}),n.jsx("span",{className:"text-sm mt-1",children:"Advanced features, premium placement, detailed verification."}),n.jsx("span",{className:"mt-3 inline-flex items-center text-xs bg-white bg-opacity-20 px-2 py-1 rounded",children:"Recommended"})]})]})]})]})]})]})})}const Eo=({alerts:r,removeAlert:e})=>n.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`flex items-center p-4 rounded-lg shadow-lg transition-all duration-300 transform translate-x-0 opacity-100 ${t.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"} animate-slide-in`,onClick:()=>e(t.id),role:"alert",children:[n.jsx("i",{className:`bx ${t.type==="success"?"bx-check-circle":"bx-error-circle"} text-xl mr-2`}),n.jsx("span",{children:t.message}),n.jsx("button",{className:"ml-auto text-white hover:text-gray-200","aria-label":"Close alert",children:n.jsx("i",{className:"bx bx-x text-xl"})})]},t.id))}),zl=()=>{const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="success",o=3e3)=>{const l=Date.now().toString();e(c=>[...c,{id:l,message:a,type:i}]),o&&setTimeout(()=>{e(c=>c.filter(u=>u.id!==l))},o)},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}},ase=({productId:r,isIconOnly:e=!1,customClass:t=""})=>{const[s,a]=E.useState(!1),{alerts:i,addAlert:o}=zl(),{setAlerts:l}=zl(),c=async()=>{if(!r){o("Invalid product ID","error",3e3);return}a(!0);try{await cf(r,1,ke.currentUser?.uid),o("Added to cart!","success",3e3)}catch(h){console.error("Error adding to cart:",h),o(h.message||"Failed to add to cart","error",3e3)}finally{a(!1)}};let u=e?`${t} focus:outline-none`:`rounded-full px-2 py-1 text-white focus:outline-none ml-2 transition-all duration-200 ${s?"bg-gray-300 cursor-not-allowed":"bg-[#000] hover:bg-blue-950"}`;return n.jsxs("div",{className:"",children:[n.jsx("button",{onClick:c,disabled:s,className:u,"aria-label":"Add to cart",children:n.jsx("i",{className:`bx bx-cart-add text-2xl ${s?"opacity-50":""}`})}),n.jsx(Eo,{alerts:i,removeAlert:h=>l(i.filter(f=>f.id!==h))})]})},nse=()=>{const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(null),o=["tablet & phones","health & beauty","foremade fashion","electronics","baby products","computers & accessories","game & fun","drinks & categories","home & kitchen","smart watches"];return E.useEffect(()=>{(async()=>{s(!0),i(null);try{const u=o.sort(()=>.5-Math.random()).slice(0,Math.floor(Math.random()*3)+3).map(async x=>{const y=mt(Ie(re,"products"),nt("category","==",x),l6(4));return(await Ke(y)).docs.map(v=>{const N=v.data();let k=N.imageUrl&&typeof N.imageUrl=="string"&&N.imageUrl.startsWith("https://")?N.imageUrl:Array.isArray(N.imageUrls)&&N.imageUrls[0]&&typeof N.imageUrls[0]=="string"&&N.imageUrls[0].startsWith("https://")?N.imageUrls[0]:"/images/placeholder.jpg";return{id:v.id,name:N.name||"Unnamed Product",price:N.price||0,stock:N.stock||0,category:N.category||"uncategorized",imageUrl:k,rating:N.rating||Math.random()*2+3,colors:N.colors||[],sizes:N.category?.trim().toLowerCase()==="foremade fashion"?N.sizes||[]:[],condition:N.condition||"New",sellerId:N.sellerId||""}})}),g=(await Promise.all(u)).flat().filter(x=>x.imageUrl&&typeof x.imageUrl=="string"&&(x.imageUrl.startsWith("https://")||x.imageUrl==="/images/placeholder.jpg")?!0:(console.warn("Filtered out product with invalid imageUrl:",{id:x.id,name:x.name,imageUrl:x.imageUrl}),!1)).sort(()=>.5-Math.random()).slice(0,12);console.log("Fetched and normalized products:",g),e(g),g.length===0&&i("No products available at the moment.")}catch(c){console.error("Error fetching products:",{message:c.message,code:c.code}),i("Failed to load products. Please try again."),je.error("Failed to load products")}finally{s(!1)}})()},[]),t?n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"})}):a?n.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[n.jsx("i",{className:"bx bx-error-circle text-8xl text-red-600"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-6 text-center",children:a}),n.jsxs(fe,{to:"/",className:"mt-8 inline-flex items-center text-blue-600 hover:underline text-lg",children:[n.jsx("i",{className:"bx bx-home-alt mr-2"}),"Back to Home"]})]}):n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Discover More Products"}),n.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Shop sell, smile, check out these great products!"}),r.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh]",children:[n.jsx("i",{className:"bx bx-cart text-8xl text-gray-600"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-6 text-center",children:"No Products Available"}),n.jsx("p",{className:"text-gray-600 mt-2 text-center",children:"Our catalog is empty. Come back soon!"}),n.jsxs(fe,{to:"/",className:"mt-8 inline-flex items-center text-blue-600 hover:underline text-lg",children:[n.jsx("i",{className:"bx bx-home-alt mr-2"}),"Back to Home"]})]}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(l=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm transition-shadow duration-300",children:[n.jsx(fe,{to:`/product/${l.id}`,children:n.jsx("img",{src:l.imageUrl||"/images/placeholder.jpg",alt:l.name||"Product",className:"w-full h-48 object-cover rounded-t-lg",onError:c=>{c.target.src!=="/images/placeholder.jpg"&&(console.warn("Image load error, falling back to placeholder:",{productId:l.id,imageUrl:l.imageUrl,name:l.name}),c.target.src="/images/placeholder.jpg")},onLoad:()=>{console.log("Product image loaded:",{productId:l.id,imageUrl:l.imageUrl,name:l.name})}})}),n.jsxs("div",{className:"p-4",children:[n.jsx(fe,{to:`/product/${l.id}`,children:n.jsx("h3",{className:"text-lg font-semibold text-gray-800 truncate hover:text-blue-600",children:l.name})}),n.jsxs("p",{className:"text-gray-600 mt-2 text-xl font-bold",children:["",l.price.toLocaleString("en-NG",{minimumFractionDigits:2})]}),n.jsx("div",{className:"mt-4",children:n.jsx(ase,{productId:l.id,stock:l.stock,className:"w-full bg-slate-600 text-black py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center"})})]})]},l.id))})]})},Ww={red:"#DC2626",blue:"#2563EB",green:"#22C55E",yellow:"#E0B912",orange:"#F59E42",purple:"#A21CAF",pink:"#EC4899",black:"#222222",white:"#F0F0F0",silver:"#E5E7EB",gold:"#FFD700",brown:"#A0522D",gray:"#9CA3AF",grey:"#9CA3AF",beige:"#F5F5DC",teal:"#14B8A6",navy:"#1E3A8A",olive:"#808000",maroon:"#800000",cyan:"#06B6D4",magenta:"#D946EF",lime:"#84CC16",coral:"#FB7185",indigo:"#6366F1",violet:"#8B5CF6"},ise=()=>{const[r,e]=E.useState([]),[t,s]=E.useState(null),[a,i]=E.useState(""),[o,l]=E.useState([]),[c,u]=E.useState([]),[h,f]=E.useState(!0),[g,x]=E.useState(1),[y,b]=E.useState([]),[v,N]=E.useState(!1),[k,C]=E.useState(0),[R,_]=E.useState(""),[I,P]=E.useState(!1),[T,D]=E.useState(!1),[L,F]=E.useState(""),[z,O]=E.useState(0),[V,H]=E.useState("right"),[B,q]=E.useState(!1),[ee,G]=E.useState(!1),[$,Q]=E.useState(0),[te,ne]=E.useState(""),[ce,Re]=E.useState(""),[de,Me]=E.useState(null),[ue,X]=E.useState(null),[se,ge]=E.useState(null),[xe,Ee]=E.useState({buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),[$e,rt]=E.useState(25e3),[be,Ve]=E.useState(!1),{alerts:st,addAlert:We,removeAlert:Ge}=zl(),{id:et}=Wl(),xt=gs(),es=Xr(),Gs={new:"bg-amber-100 text-amber-800 border-amber-300",sale:"bg-emerald-100 text-emerald-800 border-emerald-300",trending:"bg-blue-100 text-blue-800 border-blue-300",default:"bg-gray-100 text-gray-800 border-gray-300"},kr=["foremade fashion","clothing","shoes","accessories"];E.useEffect(()=>{(async()=>{try{const ye=Ce(re,"settings","minimumPurchase"),_e=await Je(ye);_e.exists()&&rt(_e.data().amount||25e3)}catch(ye){console.error("Error fetching minimum purchase:",ye),We("Failed to fetch minimum purchase amount.","error",3e3)}})()},[We]),E.useEffect(()=>{(async()=>{try{const ye=await Ke(Ie(re,"dailyDeals"));e(ye.docs.map(_e=>({id:_e.id,..._e.data()})))}catch(ye){console.error("Error fetching daily deals:",ye)}})()},[]),E.useEffect(()=>{(async()=>{try{const ye=Ce(re,"feeConfigurations","categoryFees"),_e=await Je(ye);_e.exists()&&ge(_e.data())}catch(ye){console.error("Error fetching fee configurations:",ye)}})()},[]),E.useEffect(()=>{if(se&&t?.category&&(de?.price||t.price)>0){const J=de?.price||t.price,ye=se[t.category]||{buyerProtectionRate:.08,handlingRate:.2},_e=J*ye.buyerProtectionRate,He=J*ye.handlingRate,kt=J+_e+He;Ee({buyerProtectionFee:_e,handlingFee:He,totalEstimatedPrice:kt,sellerEarnings:J})}},[se,t?.category,de?.price,t?.price]);const Ft=J=>{if(!J||typeof J!="string")return"";const _e=J.replace(/<[^>]+>/g,"").split(`
`);let He=!1,kt=_e.map(ft=>{if(ft=ft.trim(),!ft)return null;if(ft=ft.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),ft=ft.replace(/__(.*?)__/g,"<strong>$1</strong>"),ft.startsWith("- ")||ft.startsWith("* ")){const Ut=ft.substring(2).trim();return He?`<li class="mb-1">${Ut}</li>`:(He=!0,`<ul class="list-disc ml-4"><li class="mb-1">${Ut}</li>`)}return He?(He=!1,`</ul><p class="mb-2">${ft}</p>`):`<p class="mb-2">${ft}</p>`}).filter(Boolean).join("");return He&&(kt+="</ul>"),kt},lt=E.useCallback(async()=>{if(!ke.currentUser){b([]);return}try{const J=mt(Ie(re,"favorites"),nt("userId","==",ke.currentUser.uid)),_e=(await Ke(J)).docs.map(He=>He.data().productId);b(_e)}catch(J){console.error("Error fetching favorites:",J),We("Failed to load favorites.","error",3e3)}},[We]);E.useEffect(()=>{const J=ke.onAuthStateChanged(ye=>{ye?lt():b([])});return()=>J()},[lt]),E.useEffect(()=>{if(window.scrollTo(0,0),f(!0),!et||typeof et!="string"||et.trim()===""){f(!1),We("Invalid product ID","error",3e3),xt("/products");return}return(async()=>{try{if(console.log("Fetching product ID:",et),!et||typeof et!="string"||et.trim()===""||et.includes("/"))throw new Error("Invalid product ID");const ye=Ce(re,"products",et),_e=await Je(ye);if(!_e.exists())throw new Error("Product not found");const He=_e.data();if(He.status!=="approved")throw new Error("Product not approved");let kt="";if(He.sellerId){const Zs=Ce(re,"users",He.sellerId),$t=await Je(Zs);if($t.exists()){const ie=$t.data();kt=ie.location?`${ie.location.city||""}, ${ie.location.state||""}, ${ie.location.country||""}`.trim().replace(/, ,/g,","):""}}i(kt);let ft=Array.isArray(He.imageUrls)?He.imageUrls:He.imageUrl&&typeof He.imageUrl=="string"?[He.imageUrl]:["https://via.placeholder.com/600"],Ut=Array.isArray(He.videoUrls)?He.videoUrls:[];(ft.length===0||!ft[0])&&(ft=["https://via.placeholder.com/600"]);const Sr=He.category?.trim().toLowerCase()||"uncategorized",_a=kr.includes(Sr),Ba=(await Ke(Ie(re,`products/${et}/reviews`))).docs.map(Zs=>{const $t=Zs.data();let ie=$t.userName||"Anonymous";return typeof ie=="object"&&ie.name&&(ie=ie.name),{id:Zs.id,...$t,userName:ie}}),is={id:_e.id,name:He.name||"Unnamed Product",description:He.description||"",price:He.price||0,stock:He.stock||0,category:Sr,colors:He.colors||[],sizes:_a?He.sizes||[]:[],condition:He.condition||"New",imageUrls:ft,videoUrls:Ut,tags:He.tags||[],seller:He.seller||{name:"Unknown Seller",id:He.sellerId||""},sellerId:He.sellerId||"",rating:He.rating||Math.random()*2+3,reviews:Ba,status:He.status||"pending",variants:He.variants||[]},Ls=(await Ke(Ie(re,"dailyDeals"))).docs.map(Zs=>({id:Zs.id,...Zs.data()})).find(Zs=>Zs.productId===et&&new Date(Zs.endDate)>new Date&&new Date(Zs.startDate)<=new Date);Ls?(G(!0),Q((Ls.discount*100).toFixed(2))):(G(!1),Q(0)),console.log("Fetched product:",is),s(is),F(is.imageUrls[0]),O(0),is.colors.length>0&&ne(is.colors[0]),is.sizes.length>0&&Re(is.sizes[0]),is.variants.length>0&&(Me(is.variants[0]),X(is.variants[0]),ne(is.variants[0].color),Re(is.variants[0].size)),(()=>{const Zs=JSON.parse(localStorage.getItem("recentSearches")||"[]"),$t=is.variants.length&&de?{color:de.color,size:de.size,price:de.price,imageUrl:de.imageUrls?.[0]||is.imageUrls[0]}:null,Fe=[{id:is.id,name:is.name,imageUrl:$t?.imageUrl||is.imageUrls[0],price:$t?.price||is.price||0,category:is.category,status:is.status,variant:$t},...Zs.filter(Ye=>Ye.id!==et)].slice(0,5);localStorage.setItem("recentSearches",JSON.stringify(Fe))})();const ci=mt(Ie(re,"products"),nt("category","==",is.category)),$a=(await Ke(ci)).docs.map(Zs=>{const $t=Zs.data();if($t.status!=="approved")return null;let ie=$t.variants&&$t.variants.length>0&&$t.variants[0]?.imageUrls?.[0]?$t.variants[0].imageUrls[0]:$t.imageUrl&&typeof $t.imageUrl=="string"?$t.imageUrl:Array.isArray($t.imageUrls)&&$t.imageUrls[0]?$t.imageUrls[0]:"https://via.placeholder.com/600";if(Zs.id===et)return null;const Fe=$t.category?.trim().toLowerCase()||"uncategorized",Ye=kr.includes(Fe);return{id:Zs.id,name:$t.name||"Unnamed Product",price:$t.price||0,stock:$t.stock||0,category:Fe,colors:$t.colors||[],sizes:Ye?$t.sizes||[]:[],condition:$t.condition||"New",imageUrl:ie,tags:$t.tags||[],seller:$t.seller||{name:"Unknown Seller",id:$t.sellerId||""},rating:$t.rating||Math.random()*2+3,status:$t.status||"pending"}}).filter(Zs=>Zs&&Zs.imageUrl);l($a.slice(0,4))}catch(ye){console.error("Error loading product:",ye),s(null),l([]),We(ye.message||"Failed to load product.","error",3e3),(ye.message.includes("Product not found")||ye.message.includes("Invalid product ID")||ye.message.includes("Product not approved"))&&setTimeout(()=>{xt("/products")},2e3)}finally{f(!1)}})(),()=>{f(!1)}},[et,xt]),E.useEffect(()=>{try{const ye=JSON.parse(localStorage.getItem("recentSearches")||"[]").filter(_e=>_e&&_e.id&&_e.name).map(_e=>({..._e,imageUrl:_e.variant?.imageUrl||_e.imageUrl||"https://via.placeholder.com/600",price:typeof(_e.variant?.price??_e.price)=="number"&&!isNaN(_e.variant?.price??_e.price)?_e.variant?.price??_e.price:0}));u(ye)}catch(J){console.error("Error loading recent searches:",J),u([])}},[]),E.useEffect(()=>{if(!t)return;const J=t.variants.length?de||{imageUrls:[]}:null,ye=t.variants.length?J.imageUrls.map(_e=>({type:"image",url:_e})).filter(_e=>_e.url):t.imageUrls.map(_e=>({type:"image",url:_e})).filter(_e=>_e.url);if(!ye.length){F("https://via.placeholder.com/600"),O(0);return}F(ye[0].url),O(0)},[t,de]),E.useEffect(()=>{if(!t)return;const J=t.variants.length?de||{imageUrls:[]}:null,ye=t.variants.length?J.imageUrls.map(_e=>({type:"image",url:_e})).filter(_e=>_e.url):t.imageUrls.map(_e=>({type:"image",url:_e})).filter(_e=>_e.url);ye.length>0?F(ye[z]?.url||"https://via.placeholder.com/600"):F("https://via.placeholder.com/600")},[z,t,de]);const Wt=async()=>{if(t)try{if(g>(de?.stock||t.stock)){We(`Cannot add more than ${de?.stock||t.stock} units of ${t.name}`,"error",3e3),x((de?.stock||t.stock)>0?de?.stock||t.stock:1);return}await cf(t.id,g,ke.currentUser?.uid,te,ce),We(`${t.name} added to cart!`,"success",3e3),x(1)}catch(J){console.error("Error adding to cart:",J),We("Failed to add to cart","error",3e3)}},gt=()=>{const ye=(de?.price||t.price)*g,_e=ye>1e4?.1:.5;return Math.round(ye*_e)},Bt=async()=>{if(!t)return;if(g>(de?.stock||t.stock)){We(`Cannot purchase more than ${de?.stock||t.stock} units of ${t.name}`,"error",3e3),x((de?.stock||t.stock)>0?de?.stock||t.stock:1);return}const J=xe.totalEstimatedPrice*g;if((ee?Math.round(J*(1-$/100)):J)<$e){Ve(!0);return}try{await cf(t.id,g,ke.currentUser?.uid,te,ce),setTimeout(()=>{xt(`/checkout?productId=${t.id}&quantity=${g}&color=${encodeURIComponent(te||"")}&size=${encodeURIComponent(ce||"")}`)},100)}catch(_e){console.error("Error adding to cart:",_e),We("Failed to add to cart","error",3e3)}},St=async()=>{try{await cf(t.id,g,ke.currentUser?.uid,te,ce);const J=gt();setTimeout(()=>{xt(`/checkout?productId=${t.id}&quantity=${g}&color=${encodeURIComponent(te||"")}&size=${encodeURIComponent(ce||"")}&additionalShippingFee=${J}`)},100)}catch(J){console.error("Error adding to cart:",J),We("Failed to add to cart","error",3e3)}finally{Ve(!1)}},Ot=()=>{Ve(!1),We("Purchase cancelled.","info",3e3)},Yt=J=>{xt(`/product/${J}`,{state:{from:es.pathname}})},Ht=async()=>{if(!t){We("No product selected","error",3e3);return}if(!ke.currentUser){We("Please log in to manage favorites","error",3e3);return}try{const J=Ie(re,"favorites"),ye=mt(J,nt("userId","==",ke.currentUser.uid),nt("productId","==",t.id)),_e=await Ke(ye);if(_e.empty)await en(J,{userId:ke.currentUser.uid,productId:t.id,createdAt:Ti()}),b(He=>[...He,t.id]),We("Added to favorites!","success",3e3);else{for(const He of _e.docs)He.data().userId===ke.currentUser.uid&&await ua(He.ref);b(He=>He.filter(kt=>kt!==t.id)),We("Removed from favorites","success",3e3)}}catch(J){console.error("Error toggling favorite:",J),We("Failed to update favorites.","error",3e3)}},Ks=async J=>{if(J.preventDefault(),!ke.currentUser){We("Please log in to submit a review","error",3e3);return}if(k<1||k>5){We("Please select a valid rating (1-5)","error",3e3);return}if(!R.trim()){We("Please enter a review comment","error",3e3);return}try{let ye;try{const kt=localStorage.getItem("userData");ye=kt?JSON.parse(kt).name||"Anonymous":ke.currentUser.displayName||"Anonymous"}catch{ye=ke.currentUser.displayName||"Anonymous"}await en(Ie(re,`products/${et}/reviews`),{userId:ke.currentUser.uid,userName:ye,rating:k,comment:R,date:Ti()}),We("Review submitted successfully!","success",3e3),C(0),_(""),D(!1);const He=(await Ke(Ie(re,`products/${et}/reviews`))).docs.map(kt=>{const ft=kt.data();let Ut=ft.userName||"Anonymous";return typeof Ut=="object"&&Ut.name&&(Ut=Ut.name),{id:kt.id,...ft,userName:Ut}});s(kt=>({...kt,reviews:He}))}catch(ye){console.error("Error submitting review:",ye),We("Failed to submit review","error",3e3)}},jt=(J,ye)=>{typeof J=="string"&&(J.startsWith("https://res.cloudinary.com/")||J.includes(".mp4"))&&(H(ye>z?"right":"left"),F(J),O(ye),q(J.includes(".mp4")))},Mt=E.useCallback((J,ye)=>{if(!t?.variants)return;const _e=t.variants.find(He=>He.color===J&&He.size===ye);_e&&(X(de),Me(_e),ne(J),Re(ye),s(He=>({...He,price:_e.price,stock:_e.stock,imageUrls:_e.imageUrls&&_e.imageUrls.length>0?_e.imageUrls:He.imageUrls})),F(_e.imageUrls&&_e.imageUrls.length>0?_e.imageUrls[0]:t.imageUrls[0]),O(0),x(1))},[t,de]),ar=J=>!J||J.includes("via.placeholder.com")||J==="https://via.placeholder.com/600"?"/fallback-image.png":J;if(h)return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx(Z5,{type:"productDetail",count:1}),n.jsx(Eo,{alerts:st,removeAlert:Ge})]});if(!t)return n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-[#333333]",children:"Product not found or not approved."}),n.jsx(fe,{to:"/products",className:"text-[#112d4e] hover:underline",children:"Back to Products"}),n.jsx(Eo,{alerts:st,removeAlert:Ge})]});const Is=150,nr=5,Ds=t.description.length>Is?`${t.description.substring(0,Is)}...`:t.description,Ms=t.description.length>Is,Os=I?t.reviews:t.reviews?.slice(0,nr),Ss=t.variants.length?de||{imageUrls:[]}:null,Qs=t.variants.length?Ss.imageUrls.map(J=>({type:"image",url:J})).filter(J=>J.url):t.imageUrls.map(J=>({type:"image",url:J})).filter(J=>J.url),tr=(de?.price||t.price)*g,_s=xe.totalEstimatedPrice*g,we=ee?Math.round(_s*(1-$/100)):_s,he=t.reviews&&t.reviews.length>0?(t.reviews.reduce((J,ye)=>J+ye.rating,0)/t.reviews.length).toFixed(1):t.rating.toFixed(1);return n.jsxs("div",{className:"mb-[140px] container mx-auto px-4 py-6 md:py-8 relative",children:[n.jsx("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .animate-fadeIn { animation: fadeIn 0.5s ease-out; }
          @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          .slide-in-right { animation: slideInRight 0.3s ease-out; }
          .slide-in-left { animation: slideInLeft 0.3s ease-out; }
          .main-media-container {
            position: relative;
            width: 100%;
            padding-top: 100%;
            overflow: hidden;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          }
          .main-media-container img, .main-media-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
          }
          .main-media-container:hover img, .main-media-container:hover video {
            transform: scale(1.05);
          }
          .thumbnail {
            transition: all 0.2s ease;
          }
          .thumbnail:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
          }
          .sticky-cart {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #F0F0F0;
            padding: 1rem;
            box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
            z-index: 50;
          }
          .formatted-description strong {
            font-weight: 600;
          }
          .formatted-description ul {
            list-style: disc;
            margin-left: 1.5rem;
            margin-bottom: 0.5rem;
          }
          .formatted-description li {
            margin-bottom: 0.25rem;
          }
          .product-info-card {
            background: #F0F0F0;
            border: 1px solid #CCCCCC;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
          }
          .product-info-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
          }
          .price-section {
            background: #f0f0f0;
            border: 1px solid #cccccc;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1rem 0;
            color: #F0F0F0;
          }
          .selection-option {
            transition: all 0.2s ease;
            cursor: pointer;
          }
          .selection-option:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          }
          .selection-option.selected {
            border-color: #E0B912;
            background-color: #E0B912;
            color: #333333;
            box-shadow: 0 0 0 2px rgba(224, 185, 18, 0.2);
          }
          .info-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.875rem;
            font-weight: 500;
            padding: 0.375rem 0.75rem;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
            background: #F0F0F0;
            color: #333333;
            border: 1px solid #CCCCCC;
          }
          .info-badge:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          }
          .quantity-controls {
            display: flex;
            align-items: center;
            border: 1px solid #CCCCCC;
            border-radius: 0.5rem;
            overflow: hidden;
            background: #F0F0F0;
            max-width: 120px;
          }
          .quantity-controls button {
            background: #F0F0F0;
            border: none;
            padding: 0.5rem 0.75rem;
            transition: all 0.2s ease;
            cursor: pointer;
            color: #333333;
          }
          .quantity-controls button:hover {
            background: #112d4e;
            color: #F0F0F0;
          }
          .quantity-controls input {
            border: none;
            text-align: center;
            width: 3rem;
            padding: 0.5rem;
            background: #F0F0F0;
            color: #333333;
          }
          .quantity-controls input:focus {
            outline: none;
            box-shadow: inset 0 0 0 2px #E0B912;
          }
          .favorite-button {
            transition: all 0.3s ease;
            color: #333333;
          }
          .favorite-button:hover {
            transform: scale(1.2);
          }
          .favorite-button.active {
            transform: scale(1.1);
            color: gray;
          }
          .back-icon {
            transition: all 0.3s ease;
            color: #333333;
          }
          .back-icon:hover {
            transform: scale(1.2);
          }
          /* Modal Animation Styles */
          @keyframes modalFadeIn {
            from {
              opacity: 0;
              transform: scale(0.8);
            }
            to {
              opacity: 1;
              transform: scale(1);
            }
          }
          .modal-enter {
            animation: modalFadeIn 0.3s ease-out forwards;
          }
          @keyframes modalBackdropFadeIn {
            from {
              opacity: 0;
            }
            to {
              opacity: 0.5;
            }
          }
          .backdrop-enter {
            animation: modalBackdropFadeIn 0.3s ease-out forwards;
          }
        `}),be&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-opacity duration-300 animate-fade",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full animate-scale-in",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-info-circle text-blue-500"}),"Shipping Fee Notice"]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Your purchase of"," ",n.jsx(lr,{price:we,currency:t.currency||localStorage.getItem("currency")||"NGN"})," ","is below the minimum purchase amount of"," ",n.jsx(lr,{price:$e,currency:t.currency||localStorage.getItem("currency")||"NGN"}),". You will incur an additional shipping fee of"," ",n.jsx(lr,{price:gt(),currency:t.currency||localStorage.getItem("currency")||"NGN"}),". Would you like to proceed?"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:St,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition transform hover:scale-105",children:"Proceed"}),n.jsx("button",{onClick:Ot,className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-100 transition transform hover:scale-105",children:"Cancel"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"sticky top-0 bg-white z-10",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-col-3 gap-6 animate-fadeIn",children:[n.jsxs("div",{className:"order-1",children:[n.jsx("div",{className:"relative main-media-container",children:Qs.length>0&&Qs[z].type==="image"?n.jsx("img",{src:ar(Qs[z].url),alt:`${t.name} ${t.variants.length?`variant ${t.variants.findIndex(J=>J===de)+1}`:""} image`,className:V==="right"?"slide-in-right":"slide-in-left",onError:J=>{J.target.onerror=null,J.target.src="/fallback-image.png"}}):Qs.length>0&&Qs[z].type==="video"?n.jsx("video",{src:Qs[z].url,controls:!0,autoPlay:B,className:V==="right"?"slide-in-right":"slide-in-left",children:"Your browser does not support the video tag."}):n.jsx("img",{src:"/fallback-image.png",alt:"Placeholder Image",className:"animate-fadeIn"})}),Qs.length>1&&n.jsx("div",{className:"flex justify-center space-x-2 mt-4 overflow-x-auto pb-2",children:Qs.map((J,ye)=>n.jsx("div",{className:`w-20 h-20 flex-shrink-0 cursor-pointer rounded-md overflow-hidden border-2 ${z===ye?"border-[#112d4e]":"border-transparent"} thumbnail`,onClick:()=>jt(J.url,ye),children:J.type==="image"?n.jsx("img",{src:ar(J.url),alt:`Thumbnail ${ye+1}`,className:"w-full h-full object-cover",onError:_e=>{_e.target.onerror=null,_e.target.src="/fallback-image.png"}}):n.jsx("video",{src:J.url,className:"w-full h-full object-cover",children:"Your browser does not support the video tag."})},ye))})]}),n.jsxs("div",{className:"order-2 md:order-2 product-info-card shadow-lg",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("button",{onClick:()=>xt(-1),className:"flex items-center text-[#333333] hover:text-[#112d4e] back-icon mr-3","aria-label":"Back to previous page",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("h1",{className:"text-3xl font-bold text-[#333333] flex-grow",children:t.name}),n.jsx("button",{onClick:Ht,className:`favorite-button p-2 rounded-full ${y.includes(t.id)?"active text-[#DC2626]":"text-[#333333] hover:text-[#DC2626]"}`,"aria-label":y.includes(t.id)?"Remove from favorites":"Add to favorites",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]}),n.jsxs("div",{className:"price-section text-white text-center",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[n.jsx("p",{className:"text-2xl font-extrabold mb-2 sm:mb-0",children:n.jsx(lr,{price:we,currency:t.currency||localStorage.getItem("currency")||"USD"})}),ee&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm line-through text-black opacity-80",children:n.jsx(lr,{price:tr,currency:t.currency||localStorage.getItem("currency")||"USD"})}),n.jsxs("p",{className:"text-lg font-semibold text-[#E0B912]",children:[$,"% OFF!"]})]})]}),n.jsx("p",{className:"text-sm mt-1 text-[#F0F0F0] opacity-90",children:"Total price (inclusive of fees)"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[n.jsxs("span",{className:"info-badge",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-[#112d4e]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.329 1.14l1.519 4.674c.3.921-.755 1.688-1.539 1.14l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.543-1.838-.219-1.539-1.14l1.519-4.674a1 1 0 00-.329-1.14l-3.976-2.888c-.784-.57-.381-1.81.588-1.81h4.915a1 1 0 00.95-.69l1.519-4.674z"})}),he," (",t.reviews.length," reviews)"]}),n.jsxs("span",{className:"info-badge",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-[#112d4e]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.001 12.001 0 002.92 12c0 2.843.614 5.518 1.697 7.918l-.666 1.055c-.247.391.077.917.555.917h16.486c.478 0 .802-.526.555-.917l-.666-1.055c1.083-2.4 1.697-5.075 1.697-7.918a12.001 12.001 0 00-3.079-8.056z"})}),t.condition]}),n.jsxs(fe,{to:`/seller/${t.sellerId}`,className:"info-badge hover:bg-gray-200",children:[n.jsx("i",{className:"ri-store-line"}),"Seller: ",t.seller.name]})]}),t.variants.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-semibold text-lg text-[#333333] mb-2",children:"Variants:"}),t.colors.length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{className:"text-sm text-[#333333] mb-1",children:["Color:"," ",n.jsx("span",{className:"font-medium text-[#112d4e]",children:te||"N/A"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.colors.map(J=>n.jsx("button",{onClick:()=>Mt(J,ce),className:`selection-option p-2 rounded-lg border-2 flex items-center justify-center min-w-[32px] min-h-[32px] ${te===J?"selected":"border-[#CCCCCC] bg-[#F0F0F0] text-[#333333] hover:bg-[#E0B912] hover:text-[#333333]"}`,style:{backgroundColor:Ww[J.toLowerCase()]||J,borderColor:te===J?"#E0B912":"#CCCCCC",color:J.toLowerCase()==="white"||J.toLowerCase()==="silver"||Ww[J.toLowerCase()]==="#F0F0F0"?"#333333":"#F0F0F0"},"aria-label":`Select color ${J}`,title:J,children:te!==J&&(J.toLowerCase()==="white"||J.toLowerCase()==="silver")?n.jsx("div",{className:"w-5 h-5 rounded-full border border-gray-400",style:{backgroundColor:Ww[J.toLowerCase()]||J}}):null},J))})]}),t.sizes.length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-[#333333] mb-1",children:["Size:"," ",n.jsx("span",{className:"font-medium text-[#112d4e]",children:ce||"N/A"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.sizes.map(J=>n.jsx("button",{onClick:()=>Mt(te,J),className:`selection-option px-4 py-2 rounded-lg border-2 ${ce===J?"selected":"border-[#CCCCCC] bg-[#F0F0F0] text-[#333333] hover:bg-[#E0B912] hover:text-[#333333]"}`,"aria-label":`Select size ${J}`,children:J},J))})]}),t.variants.length>0&&!de&&n.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please select a valid variant combination."})]}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("p",{className:"text-sm font-semibold text-[#333333]",children:"Quantity:"}),n.jsxs("div",{className:"quantity-controls",children:[n.jsx("button",{onClick:()=>x(J=>Math.max(1,J-1)),"aria-label":"Decrease quantity",children:"-"}),n.jsx("input",{type:"number",value:g,onChange:J=>x(Math.max(1,parseInt(J.target.value)||1)),className:"no-arrows",min:"1",max:de?.stock||t.stock,"aria-label":"Product quantity"}),n.jsx("button",{onClick:()=>x(J=>Math.min(J+1,de?.stock||t.stock)),disabled:g>=(de?.stock||t.stock),"aria-label":"Increase quantity",children:"+"})]})]}),n.jsxs("p",{className:`text-sm font-semibold ${(de?.stock||t.stock)>0?"text-[#112d4e]":"text-[#DC2626]"}`,children:["Stock: ",de?.stock||t.stock," units"]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsx("button",{onClick:Wt,disabled:!t.stock||g>t.stock,className:"flex-1 px-6 py-3 rounded-lg bg-[#ffffff] text-[#333333] font-semibold hover:bg-[#cccccc] focus:outline-none focus:ring-2 focus:ring-[#E0B912] focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:"Add to Cart"}),n.jsx("button",{onClick:Bt,disabled:!t.stock||g>t.stock,className:"flex-1 px-6 py-3 rounded-lg bg-[#112d4e] text-[#F0F0F0] font-semibold hover:bg-[#007F8B] focus:outline-none focus:ring-2 focus:ring-[#112d4e] focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:"Pay Now"})]})]})]}),n.jsxs("div",{className:"product-info-card shadow-lg mt-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-[#333333] mb-4",children:"Description"}),n.jsx("div",{className:"text-[#555555] leading-relaxed formatted-description",dangerouslySetInnerHTML:{__html:Ft(v?t.description:Ds)}}),Ms&&n.jsx("button",{onClick:()=>N(!v),className:"text-[#112d4e] hover:underline mt-2 text-sm",children:v?"Show Less":"Read More"}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.tags.map((J,ye)=>{const _e=Gs[J.toLowerCase()]||Gs.default;return n.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border ${_e}`,children:J},ye)})})]}),n.jsxs("div",{className:"product-info-card shadow-lg mt-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-[#333333] mb-4",children:["Customer Reviews (",t.reviews.length,")"]}),t.reviews.length===0?n.jsx("p",{className:"text-[#555555]",children:"No reviews yet. Be the first!"}):n.jsxs("div",{className:"space-y-4",children:[Os.map(J=>n.jsxs("div",{className:"border-b border-[#CCCCCC] pb-4 last:border-b-0",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("p",{className:"font-semibold text-[#333333]",children:J.userName}),n.jsx("span",{className:"ml-3 text-sm text-[#8D8D8D]",children:new Date(J.date?.toDate()).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center mb-2",children:[[...Array(5)].map((ye,_e)=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${_e<J.rating?"text-[#E0B912]":"text-[#CCCCCC]"}`,viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.329 1.14l1.07 3.292c.3.921-.755 1.688-1.539 1.14l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.543-1.838-.219-1.539-1.14l1.07-3.292a1 1 0 00-.329-1.14l-2.8-2.034c-.784-.57-.381-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"})},_e)),n.jsx("span",{className:"ml-2 text-sm font-medium text-[#333333]",children:J.rating.toFixed(1)})]}),n.jsx("p",{className:"text-[#555555]",children:J.comment})]},J.id)),t.reviews.length>nr&&n.jsx("button",{onClick:()=>P(!I),className:"text-[#112d4e] hover:underline mt-4 text-sm",children:I?"Show Less Reviews":"Show All Reviews"})]}),n.jsx("button",{onClick:()=>D(!T),className:"mt-6 px-4 py-2 bg-[#E0B912] text-[#333333] font-semibold rounded-lg hover:bg-[#FACC15] focus:outline-none focus:ring-2 focus:ring-[#E0B912] focus:ring-offset-2 transition duration-200 ease-in-out",children:T?"Cancel Review":"Write a Review"}),T&&n.jsxs("form",{onSubmit:Ks,className:"mt-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium text-[#333333] mb-2",children:"Rating:"}),n.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(J=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-8 w-8 cursor-pointer ${J<=k?"text-[#E0B912]":"text-[#CCCCCC]"}`,viewBox:"0 0 20 20",fill:"currentColor",onClick:()=>C(J),"aria-label":`Rate ${J} stars`,children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.329 1.14l1.07 3.292c.3.921-.755 1.688-1.539 1.14l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.543-1.838-.219-1.539-1.14l1.07-3.292a1 1 0 00-.329-1.14l-2.8-2.034c-.784-.57-.381-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"})},J))})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-[#333333] mb-2",children:"Comment:"}),n.jsx("textarea",{id:"comment",className:"w-full p-3 border border-[#CCCCCC] rounded-lg focus:ring-[#E0B912] focus:border-[#E0B912] outline-none text-[#333333] bg-[#F0F0F0]",rows:"4",value:R,onChange:J=>_(J.target.value),placeholder:"Share your thoughts on this product..."})]}),n.jsx("button",{type:"submit",className:"px-6 py-3 bg-[#112d4e] text-[#F0F0F0] font-semibold rounded-lg hover:bg-[#007F8B] focus:outline-none focus:ring-2 focus:ring-[#112d4e] focus:ring-offset-2 transition duration-200 ease-in-out",children:"Submit Review"})]})]})]})}),n.jsxs("div",{className:"lg:col-span-1",children:[o.length>0&&n.jsxs("div",{className:"product-info-card shadow-lg mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-[#333333] mb-4",children:"Similar Products"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-1 gap-4",children:o.map(J=>{const ye=Array.isArray(J.variants)&&J.variants.length>0;let _e=J.price,He=J.price;if(ye){const Ut=J.variants.map(Sr=>Sr.price).filter(Boolean);_e=Math.min(...Ut),He=Math.max(...Ut)}const kt=ye?[...new Set(J.variants.map(Ut=>Ut.color).filter(Boolean))]:[],ft=ye?[...new Set(J.variants.map(Ut=>Ut.size).filter(Boolean))]:[];return n.jsxs("div",{className:"relative",children:[n.jsx(zr,{product:J,dailyDeals:r,selectedColor:J.selectedColor||J.color||J.colors&&J.colors[0]||"",selectedSize:J.selectedSize||J.size||J.sizes&&J.sizes[0]||"",selectedVariant:J.selectedVariant||J.variants&&J.variants[0]||null,onClick:()=>Yt(J.id),isFavorite:y.includes(J.id),toggleFavorite:Ht,cardClassName:"h-[300px]",imageClassName:"!rounded-md h-[900px]",priceClassName:"!text-[#112d4e] h-[400px]",nameClassName:"!text-[#333333]",minPrice:_e,maxPrice:He,hasVariants:ye}),ye&&n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-600",children:[kt.length>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(RN,{size:14}),kt.length," Color",kt.length>1?"s":""]}),ft.length>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(IN,{size:14}),ft.length," Size",ft.length>1?"s":""]})]})]},J.id)})})]}),c.length>0&&n.jsxs("div",{className:"product-info-card shadow-lg",children:[n.jsx("h2",{className:"text-xl font-bold text-[#333333] mb-4",children:"Recently Viewed"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-1 gap-4",children:c.map(J=>{const ye=Array.isArray(J.variants)&&J.variants.length>0;let _e=J.price,He=J.price;if(ye){const Ut=J.variants.map(Sr=>Sr.price).filter(Boolean);_e=Math.min(...Ut),He=Math.max(...Ut)}const kt=ye?[...new Set(J.variants.map(Ut=>Ut.color).filter(Boolean))]:[],ft=ye?[...new Set(J.variants.map(Ut=>Ut.size).filter(Boolean))]:[];return n.jsxs("div",{className:"relative",children:[n.jsx(zr,{product:J,dailyDeals:r,selectedColor:J.selectedColor||J.color||J.colors&&J.colors[0]||"",selectedSize:J.selectedSize||J.size||J.sizes&&J.sizes[0]||"",selectedVariant:J.selectedVariant||J.variants&&J.variants[0]||null,onClick:()=>Yt(J.id),isFavorite:y.includes(J.id),toggleFavorite:Ht,cardClassName:"h-[300px]",imageClassName:"!rounded-md h-[900px]",priceClassName:"!text-[#112d4e] h-[400px]",nameClassName:"!text-[#333333]",minPrice:_e,maxPrice:He,hasVariants:ye}),ye&&n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-600",children:[kt.length>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(RN,{size:14}),kt.length," Color",kt.length>1?"s":""]}),ft.length>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(IN,{size:14}),ft.length," Size",ft.length>1?"s":""]})]})]},J.id)})})]})]})]}),n.jsx(Eo,{alerts:st,removeAlert:Ge})]})};function ose(){const[r,e]=E.useState(""),[t,s]=E.useState(""),[a,i]=E.useState(""),[o,l]=E.useState(""),[c,u]=E.useState(""),[h,f]=E.useState(!1),[g,x]=E.useState(null),y=gs(),b=C=>/^\+?[1-9]\d{1,14}$/.test(C),v=async C=>{if(C.preventDefault(),s(""),i(""),u(""),!r.trim()){s("Phone number is required.");return}if(!b(r)){s("Please enter a valid phone number (e.g., +1234567890).");return}const R=oh();if(!R){s("Firebase Authentication not initialized.");return}try{const _=r.startsWith("+")?r:`+${r}`,I=await S7(R,_);x(I),f(!0),i("OTP sent to your phone number.")}catch(_){console.error("Error sending OTP:",_),s(k(_))}},N=async C=>{if(C.preventDefault(),u(""),!o){u("Please enter the OTP.");return}try{const _=(await g.confirm(o)).user;console.log("Phone number verified for user:",_.uid),localStorage.setItem("userPhone",r),i("Phone number verified successfully! Redirecting to login..."),setTimeout(()=>y("/login"),2e3)}catch(R){console.error("Error verifying OTP:",R),u(k(R))}},k=C=>{switch(C.code){case"auth/invalid-verification-code":return"Invalid OTP. Please try again.";case"auth/code-expired":return"OTP has expired. Please request a new one.";case"auth/invalid-phone-number":return"Invalid phone number format.";case"auth/too-many-requests":return"Too many attempts. Please try again later.";default:return"An error occurred. Please try again."}};return n.jsx("div",{className:"container mx-auto px-4 py-8 bg-gray-100 text-gray-800",children:n.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Add Your Phone Number"}),n.jsxs("p",{className:"text-gray-600 mb-6",children:["Please provide your phone number to proceed. Already have an account?"," ",n.jsx(fe,{to:"/login",className:"text-blue-600 hover:underline",children:"Skip to Login"})]}),n.jsxs("form",{onSubmit:v,children:[n.jsxs("div",{className:"mb-4 relative",children:[n.jsx("input",{type:"tel",id:"phone",value:r,onChange:C=>e(C.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 peer ${t?"border-red-500":a?"border-green-500":"border-gray-300"}`,autoComplete:"tel"}),n.jsx("label",{htmlFor:"phone",className:"absolute left-3 -top-2 text-gray-500 text-xs bg-white px-1 transition-all duration-300 transform origin-left",children:"Phone Number"}),t&&n.jsx("p",{className:"text-red-600 text-[10px] mt-1",children:t})]}),h&&n.jsxs("div",{className:"mb-4 relative",children:[n.jsx("input",{type:"text",id:"otp",value:o,onChange:C=>l(C.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 peer ${c?"border-red-500":"border-gray-300"}`,autoComplete:"one-time-code"}),n.jsx("label",{htmlFor:"otp",className:"absolute left-3 -top-2 text-gray-500 text-xs bg-white px-1 transition-all duration-300 transform origin-left",children:"OTP"}),c&&n.jsx("p",{className:"text-red-600 text-[10px] mt-1",children:c}),n.jsx("button",{type:"button",onClick:N,className:"mt-2 bg-blue-900 text-white p-2 rounded-lg hover:bg-blue-800 transition duration-200",children:"Verify OTP"})]}),!h&&n.jsx("button",{type:"submit",className:"w-full bg-blue-900 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",children:"Submit"}),a&&n.jsx("p",{className:"text-green-600 text-[10px] mb-4",children:a})]})]})})}const lse="/assets/empty-cart-zEVFI3ed.svg",cse=({item:r,updateCartQuantity:e,removeFromCart:t})=>{const{convertPrice:s}=Sg(),[a,i]=E.useState(Es),[o,l]=E.useState(null),[c,u]=E.useState({buyerProtectionRate:.08,handlingRate:.2}),[h,f]=E.useState(!1),[g,x]=E.useState(0),[y,b]=E.useState(!1),v=(P,T=1,D=0)=>{const L=D>0?P*D/100:0;return(P-L)*(1+c.buyerProtectionRate+c.handlingRate)*T};E.useEffect(()=>{const P=async()=>{try{const D=Ce(re,"feeConfigurations","categoryFees"),L=await Je(D);if(L.exists()){const F=L.data(),z=o?.category||"default";u(F[z]||{buyerProtectionRate:.08,handlingRate:.2})}}catch(D){console.error("Error fetching fee config:",D)}},T=async()=>{if(!r||!r.productId){console.warn("Invalid cart item data:",r),l(null),i(Es);return}try{const D=Ce(re,"products",r.productId),L=await Je(D);if(L.exists()){const F=L.data();l({id:L.id,name:F.name||"Unnamed Product",price:Number(F.price)||0,stock:Number(F.stock)||0,category:F.category?.trim().toLowerCase()||"uncategorized",imageUrls:F.imageUrls||[]});const z=Array.isArray(F.imageUrls)?F.imageUrls.filter(H=>typeof H=="string"&&H.startsWith("https://res.cloudinary.com/")):F.imageUrl&&typeof F.imageUrl=="string"&&F.imageUrl.startsWith("https://res.cloudinary.com/")?[F.imageUrl]:[];i(z.length>0?z[0]:Es);const V=(await Ke(Ie(re,"dailyDeals"))).docs.map(H=>({id:H.id,...H.data()})).find(H=>H.productId===r.productId&&new Date(H.endDate)>new Date&&new Date(H.startDate)<=new Date);V?(f(!0),x(Number((V.discount*100).toFixed(2)))):(f(!1),x(0))}else console.warn(`Product ${r.productId} not found in Firestore.`),l(null),i(Es)}catch(D){console.error("Product fetch error for cart item:",r.productId,":",D),l(null),i(Es)}};P(),T()},[r]);const N=()=>{if(r.quantity<o.stock){const P=r.quantity+1;console.log("Incrementing quantity:",{productId:r.productId,newQuantity:P}),e(r.productId,P)}},k=()=>{if(r.quantity>1){const P=r.quantity-1;console.log("Decrementing quantity:",{productId:r.productId,newQuantity:P}),e(r.productId,P)}};if(!r||!r.productId||!o)return n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-100 rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500 text-xs",children:"Image N/A"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Product Not Found"}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Item ID: ",r?.productId||"Unknown"]}),n.jsx("p",{className:"text-xs text-red-600",children:"This product is no longer available."})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("button",{onClick:()=>t(r?.productId),className:"text-red-500 hover:text-red-700","aria-label":"Remove unavailable product from cart",children:n.jsx("i",{className:"bx bx-trash text-xl"})})})]});const C=o.stock===0,R=v(o.price,r.quantity,h?g:0);typeof r.variant?.price=="number"?r.variant.price:typeof r.price=="number"?r.price:o.price;const _=r.variant?.imageUrl&&typeof r.variant.imageUrl=="string"&&r.variant.imageUrl.startsWith("https://res.cloudinary.com/")?r.variant.imageUrl:r.variants?.length>0&&r.variants[0]?.imageUrls?.length>0&&r.variants[0].imageUrls[0].startsWith("https://res.cloudinary.com/")?r.variants[0].imageUrls[0]:a,I=(P,T=8)=>{const D=P.split(" ");return D.length>T?D.slice(0,T).join(" ")+"":P};return n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-100 rounded-lg",children:[n.jsx(fe,{to:`/product/${o.id}`,children:n.jsxs("div",{className:"relative w-16 h-16",children:[y&&n.jsx("div",{className:"absolute bottom-0 left-0 bg-red-600 text-white text-xs px-1 rounded",children:"Image Failed"}),n.jsx("img",{src:_,alt:o.name,className:"w-16 h-16 object-cover rounded",onError:P=>{y||(console.error("CartItem image load error:",{productId:r.productId,imageUrl:_}),b(!0),P.target.src=Es)},onLoad:()=>{console.log("CartItem image loaded successfully:",{productId:r.productId,imageUrl:_,name:o.name}),b(!1)},loading:"lazy"})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(fe,{to:`/product/${o.id}`,children:n.jsx("h3",{className:"text-sm font-bold text-gray-800",children:I(o.name)})}),h&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-xs text-blue-600 font-medium",children:n.jsx(lr,{price:R})}),n.jsx("p",{className:"text-xs text-gray-500 line-through",children:n.jsx(lr,{price:v(o.price,r.quantity,0)})})]}),!h&&n.jsx("p",{className:"text-xs text-gray-600",children:n.jsx(lr,{price:R})}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Stock:"," ",n.jsx("span",{className:C?"text-red-600":"text-green-600",children:C?"Out of stock":`${o.stock} units available`})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden",children:[n.jsx("button",{onClick:k,className:`px-1 py-1 text-gray-600 hover:bg-gray-200 transition ${r.quantity<=1||C?"opacity-50 cursor-not-allowed":""}`,disabled:r.quantity<=1||C,"aria-label":`Decrease quantity of ${o.name}`,children:n.jsx("i",{className:"bx bx-minus"})}),n.jsx("span",{className:"px-3 py-1 text-gray-800 font-medium",children:r.quantity}),n.jsx("button",{onClick:N,className:`px-1 py-1 text-gray-600 hover:bg-gray-200 transition ${r.quantity>=o.stock||C?"opacity-50 cursor-not-allowed":""}`,disabled:r.quantity>=o.stock||C,"aria-label":`Increase quantity of ${o.name}`,children:n.jsx("i",{className:"bx bx-plus"})})]}),n.jsx("button",{onClick:()=>{console.log("Removing item:",{productId:r.productId,name:o.name}),t(r.productId)},className:"text-red-500 hover:text-red-700","aria-label":`Remove ${o.name} from cart`,children:n.jsx("i",{className:"bx bx-trash text-xl"})})]})]})},dse=({totalPrice:r,cartItems:e,clearCart:t})=>{const{convertPrice:s}=Sg(),a=gs(),[i,o]=E.useState({buyerProtectionRate:.08,handlingRate:.2}),[l,c]=E.useState(25e3);E.useEffect(()=>{const k=async()=>{try{const _=Ce(re,"feeConfigurations","categoryFees"),I=await Je(_);if(I.exists()){const D=I.data(),L=e[0]?.product?.category||"default";o(D[L]||{buyerProtectionRate:.08,handlingRate:.2})}const P=Ce(re,"settings","minimumPurchase"),T=await Je(P);T.exists()&&c(T.data().amount||25e3)}catch(_){console.error("Error fetching configs:",_)}},C=async()=>{try{return(await Ke(Ie(re,"dailyDeals"))).docs.map(P=>({id:P.id,...P.data()})).filter(P=>new Date(P.endDate)>new Date&&new Date(P.startDate)<=new Date)}catch(_){return console.error("Error fetching daily deals:",_),[]}},R=async()=>{const _=await C();e.forEach(I=>{const P=_.find(T=>T.productId===I.product.id);P?(I.isDailyDeal=!0,I.discountPercentage=(P.discount*100).toFixed(2)):(I.isDailyDeal=!1,I.discountPercentage=0)})};e.length>0&&R(),k()},[e]);const u=(k,C=1,R=0)=>{const _=R>0?k*R/100:0;return(k-_)*(1+i.buyerProtectionRate+i.handlingRate)*C},h=e.reduce((k,C)=>k+u(C.product.price||0,C.quantity||1,C.discountPercentage||0),0),f=e.some(k=>k.quantity>(k.product?.stock||0)),g=e.length===0,x=e.reduce((k,C)=>k+(C.quantity||0),0),y=h<l,v=h+0,N=()=>{if(y){alert(`Minimum purchase amount is ${l.toLocaleString("en-NG")} to checkout.`);return}if(x>20){alert("Maximum basket size is 20 items.");return}a("/checkout")};return n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg shadow-sm",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.map((k,C)=>k.isDailyDeal&&n.jsxs("div",{className:"flex justify-between text-xs text-green-600",children:[n.jsxs("span",{children:["Discount on ",k.product.name]}),n.jsxs("span",{children:["-",n.jsx(lr,{price:k.product.price*k.discountPercentage/100*k.quantity})]})]},C)),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal"}),n.jsx("span",{children:n.jsx(lr,{price:h})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Shipping"}),n.jsx("span",{className:"text-green-600 font-semibold",children:"FREE"})]}),n.jsxs("div",{className:"flex justify-between font-bold text-gray-800 border-t pt-2",children:[n.jsx("span",{children:"Grand Total"}),n.jsx("span",{children:n.jsx(lr,{price:v})})]})]}),y&&n.jsxs("p",{className:"text-red-600 text-xs mt-2 bg-red-50 p-2 rounded",children:[" Minimum purchase amount is ",n.jsx(lr,{price:l})," to checkout."]}),x>20&&n.jsx("p",{className:"text-red-600 text-xs mt-2 bg-red-50 p-2 rounded",children:" Maximum basket size is 20 items."}),n.jsxs("div",{className:"mt-4 flex gap-3",children:[n.jsx("button",{onClick:N,className:`flex-1 px-6 py-2 rounded-lg text-white transition ${g||f||y||x>20?"bg-gray-400 cursor-not-allowed":"bg-[#112d4e] hover:bg-[#112d4e]"}`,disabled:g||f||y||x>20,children:"Checkout"}),n.jsx("button",{onClick:t,className:`px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:"Clear Cart"})]})]})},use=()=>{const r=gs(),[e,t]=E.useState([]),[s,a]=E.useState(null),[i,o]=E.useState(!0),[l,c]=E.useState(null),[u,h]=E.useState(0),[f,g]=E.useState([]);E.useEffect(()=>{const C=()=>{h(window.scrollY)};return window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)},[]),E.useEffect(()=>{(async()=>{try{if(e.length===0){g([]);return}const R=[...new Set(e.map(P=>P.product.category).filter(Boolean))];if(R.length===0){g([]);return}const _=e.map(P=>P.productId),I=[];for(const P of R){const T=mt(Ie(re,"products"),nt("category","==",P),l6(4-I.length));if((await Ke(T)).forEach(L=>{const F=L.data();if(!_.includes(L.id)){const z=Array.isArray(F.imageUrls)&&F.imageUrls[0]&&typeof F.imageUrls[0]=="string"&&F.imageUrls[0].startsWith("https://")?F.imageUrls[0]:F.imageUrl&&typeof F.imageUrl=="string"&&F.imageUrl.startsWith("https://")?F.imageUrl:Es;I.push({id:L.id,name:F.name||"Unnamed Product",price:Number(F.price)||0,imageUrl:z,stock:Number(F.stock)||0})}}),I.length>=4)break}g(I.slice(0,4))}catch(R){console.error("Error fetching recommended products:",R),g([])}})()},[e]),E.useEffect(()=>{const C=ke.onAuthStateChanged(async _=>{a(_);try{o(!0),c(null);let I=[];_?(await LX(_.uid),I=await Ui(_.uid)):I=await Ui(),console.log("Raw cart items from getCart:",I);const P=I.map(T=>{if(!T.product)return console.warn("Cart item missing product data:",{productId:T.productId,quantity:T.quantity}),null;const{product:D}=T;let L=D.imageUrl&&typeof D.imageUrl=="string"&&D.imageUrl.startsWith("https://")?D.imageUrl:Array.isArray(D.imageUrls)&&D.imageUrls[0]&&typeof D.imageUrls[0]=="string"&&D.imageUrls[0].startsWith("https://")?D.imageUrls[0]:Es;return{...T,product:{id:D.id||T.productId,name:D.name||"Unnamed Product",price:Number(D.price)||0,stock:Number(D.stock)||0,category:D.category||"uncategorized",imageUrl:L,rating:D.rating||Math.random()*2+3,colors:D.colors||[],sizes:D.sizes||[],condition:D.condition||"New",sellerId:D.sellerId||""}}}).filter(T=>T?T.product.imageUrl&&typeof T.product.imageUrl=="string"&&(T.product.imageUrl.startsWith("https://")||T.product.imageUrl===Es)?!0:(console.warn("Filtered out cart item with invalid imageUrl:",{productId:T.productId,name:T.product.name,imageUrl:T.product.imageUrl}),!1):(console.warn("Filtered out invalid cart item"),!1));console.log("Normalized cart items:",P),t(P),P.length===0&&c("Your cart is empty.")}catch(I){console.error("Error loading cart:",{message:I.message,code:I.code}),c("Failed to load cart. Please try again."),t([]),je.error("Failed to load cart")}finally{o(!1)}}),R=async()=>{try{const _=await Ui(s?.uid);console.log("Raw cart items from handleCartUpdate:",_);const I=_.map(P=>{if(!P.product)return console.warn("Cart item missing product data:",{productId:P.productId,quantity:P.quantity}),null;const{product:T}=P;let D=T.imageUrl&&typeof T.imageUrl=="string"&&T.imageUrl.startsWith("https://")?T.imageUrl:Array.isArray(T.imageUrls)&&T.imageUrls[0]&&typeof T.imageUrls[0]=="string"&&T.imageUrls[0].startsWith("https://")?T.imageUrls[0]:Es;return{...P,product:{id:T.id||P.productId,name:T.name||"Unnamed Product",price:Number(T.price)||0,stock:Number(T.stock)||0,category:T.category||"uncategorized",imageUrl:D,rating:T.rating||Math.random()*2+3,colors:T.colors||[],sizes:T.sizes||[],condition:T.condition||"New",sellerId:T.sellerId||""}}}).filter(P=>P?P.product.imageUrl&&typeof P.product.imageUrl=="string"&&(P.product.imageUrl.startsWith("https://")||P.product.imageUrl===Es)?!0:(console.warn("Filtered out cart item with invalid imageUrl:",{productId:P.productId,name:P.product.name,imageUrl:P.product.imageUrl}),!1):!1);t(I),I.length===0?c("Your cart is empty."):c(null)}catch(_){console.error("Error updating cart:",{message:_.message,code:_.code}),c("Failed to update cart."),je.error("Failed to update cart")}};return window.addEventListener("cartUpdated",R),()=>{C(),window.removeEventListener("cartUpdated",R)}},[s]);const x=async(C,R)=>{if(!(R<1))try{const _=e.find(P=>P.productId===C);if(_&&_.product&&R>_.product.stock){je.error(`Cannot add more than ${_.product.stock} units of ${_.product.name}`);return}const I=e.map(P=>P.productId===C?{...P,quantity:R}:P);await md(I,s?.uid),t(I),je.success("Quantity updated")}catch(_){console.error("Error updating quantity:",{message:_.message,code:_.code}),je.error("Failed to update quantity")}},y=async C=>{try{const R=e.filter(_=>_.productId!==C);await md(R,s?.uid),t(R),je.success("Item removed from cart"),R.length===0&&c("Your cart is empty.")}catch(R){console.error("Error removing item:",{message:R.message,code:R.code}),je.error("Failed to remove item")}},b=async()=>{try{await qb(s?.uid),t([]),c("Your cart is empty."),je.success("Cart cleared successfully")}catch(C){console.error("Error clearing cart:",{message:C.message,code:C.code}),je.error("Failed to clear cart")}},v=async()=>{if(!s){je.error("Please log in to checkout"),r("/login");return}try{await OX(s.uid),je.success("Order placed successfully!"),r("/orders")}catch(C){console.error("Error during checkout:",{message:C.message,code:C.code}),je.error(C.message||"Checkout failed")}},N=async C=>{try{const R=e.find(T=>T.productId===C.id),_=R?R.quantity+1:1;if(_>C.stock){je.error(`Cannot add more than ${C.stock} units of ${C.name}`);return}const I={productId:C.id,quantity:_,product:{id:C.id,name:C.name,price:C.price,stock:C.stock,category:C.category||"uncategorized",imageUrl:C.imageUrl}},P=R?e.map(T=>T.productId===C.id?{...T,quantity:_}:T):[...e,I];await cf(I,s?.uid),t(P),je.success(`${C.name} added to cart`)}catch(R){console.error("Error adding to cart:",R),je.error("Failed to add item to cart")}},k=e.reduce((C,R)=>C+(R.product?.price||0)*R.quantity,0);return i?n.jsxs("div",{className:"p-4 text-gray-600 text-center",children:[n.jsx(ti,{}),"Loading..."]}):n.jsxs("div",{className:"mb-10 container mx-auto px-4 py-8 min-h-screen",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Your Cart"}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsxs("div",{className:"lg:w-2/3",children:[l&&e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx("img",{src:lse,alt:"Empty Cart",className:"h-[420px] m-3",onError:C=>{console.warn("Failed to load empty cart image:",C.target.src),C.target.src=Es}}),n.jsxs("p",{className:"text-gray-600 m-3 text-md",children:[l,n.jsx(fe,{to:"/products",className:"underline text-blue-500 ml-1",children:"Shop Now"})]})]}):n.jsx("div",{className:"space-y-4",children:e.map(C=>n.jsx(cse,{item:C,updateCartQuantity:x,removeFromCart:y},C.productId))}),f.length>0&&n.jsxs("div",{className:"mt-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Customers Also Viewed"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:f.map(C=>n.jsxs("div",{className:"border rounded-lg p-4 bg-white shadow-sm hover:shadow-md transition",children:[n.jsxs(fe,{to:`/product/${C.id}`,children:[n.jsx("img",{src:C.imageUrl,alt:C.name,className:"w-full h-40 object-cover rounded mb-2",onError:R=>{console.warn("Failed to load recommended product image:",C.imageUrl),R.target.src=Es}}),n.jsx("h3",{className:"text-sm font-semibold text-gray-800 truncate",children:C.name})]}),n.jsx("p",{className:"text-xs text-gray-600",children:n.jsx(lr,{price:C.price})}),n.jsx("button",{onClick:()=>N(C),className:`mt-2 w-full px-4 py-2 text-sm text-white rounded-lg transition ${C.stock===0?"bg-gray-400 cursor-not-allowed":"bg-[#112d4e] hover:bg-[#0f2a44]"}`,disabled:C.stock===0,children:C.stock===0?"Out of Stock":"Add to Cart"})]},C.id))})]})]}),n.jsx("div",{className:"lg:w-1/3",children:n.jsx(dse,{totalPrice:k,handleCheckout:v,cartItems:e,clearCart:b,isFixed:u>200})})]})]})};function hse(){const[r,e]=E.useState(!0),[t,s]=E.useState(""),[a,i]=E.useState(!1),[o,l]=E.useState(null),[c,u]=E.useState([]),[h,f]=E.useState([]),g=5;E.useEffect(()=>{const y=ke.onAuthStateChanged(async b=>{if(e(!0),!b){console.log("No authenticated user"),s("Please sign in to view your wishlist."),i(!0),u([]),f([]),e(!1);return}try{console.log("Fetching data for user:",b.uid);const v=localStorage.getItem("userData");let N={};v&&(N=JSON.parse(v)),l({email:b.email||"test@example.com",name:b.displayName||"User",profileImage:N.profileImage||null,createdAt:N.createdAt||null,address:N.address||"Not provided",uid:b.uid}),console.log("Querying favorites for user:",b.uid);const k=mt(Ie(re,"favorites"),nt("userId","==",b.uid)),R=(await Ke(k)).docs.map(P=>(console.log("Favorite doc:",P.id,P.data()),{id:P.id,...P.data()}));u(R);const _=R.map(async P=>{const T=await Je(Ce(re,"products",P.productId));if(T.exists()){const D=T.data();return{id:T.id,name:D.name,description:D.description||"",price:D.price,stock:D.stock||0,category:D.category?.trim().toLowerCase()||"",colors:D.colors||[],sizes:D.category?.trim().toLowerCase()==="foremade fashion"?D.sizes||[]:[],condition:D.condition||"",imageUrls:D.imageUrls||[],seller:D.seller||{name:"Unknown Seller"},rating:D.rating||Math.random()*2+3}}return console.warn("Product not found for favorite:",P.productId),null}),I=(await Promise.all(_)).filter(P=>P!==null);f(I)}catch(v){console.error("Error fetching favorites:",v.code,v.message,v.stack),s("Failed to load wishlist: "+(v.message||"Unknown error"))}finally{e(!1)}});return()=>y()},[]);const x=async(y,b)=>{if(!ke.currentUser){s("Please sign in to manage your wishlist."),i(!0);return}try{console.log("Removing favorite:",y,"for user:",ke.currentUser.uid);const v=await Je(Ce(re,"favorites",y));if(!v.exists()){console.warn("Favorite not found:",y);return}if(v.data().userId!==ke.currentUser.uid){console.error("Cannot delete favorite with mismatched userId:",v.data()),s("Permission denied: Cannot remove this favorite.");return}await ua(Ce(re,"favorites",y)),u(N=>N.filter(k=>k.id!==y)),f(N=>N.filter(k=>k.id!==b)),console.log("Removed favorite:",y)}catch(v){console.error("Error removing favorite:",v.code,v.message,v.stack),s("Failed to remove item from wishlist: "+(v.message||"Unknown error"))}};return r?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(ti,{}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]}):t?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-red-600",children:t}),a?n.jsx(fe,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"}):n.jsx("button",{onClick:()=>{s(""),e(!0)},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]}):n.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx(Sd,{userData:o,orderCount:g,wishlistCount:c.length}),n.jsx("div",{className:"md:w-3/4",children:n.jsxs("div",{className:"rounded-lg p-6  bg-gray-100",children:[n.jsx("div",{className:"flex justify-between items-center mb-4",children:n.jsx("h3",{className:"text-lg font-semibold",children:"Favorites"})}),h.length===0?n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block p-4 rounded-full mb-2 bg-gray-100",children:n.jsx("span",{className:"text-2xl",children:n.jsx(uee,{})})}),n.jsx("p",{className:"text-gray-400",children:"No items in your wish list!"})]}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4",children:h.map(y=>n.jsxs("div",{className:"relative",children:[n.jsx(zr,{product:{...y,imageUrl:y.imageUrls[0]||""}}),n.jsx("button",{onClick:()=>{const b=c.find(v=>v.productId===y.id);b&&x(b.id,y.id)},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",title:"Remove from Wishlist",children:n.jsx("i",{className:"bx bx-x"})})]},y.id))})]})})]})})}function mse(){const[r,e]=E.useState(!0),[t,s]=E.useState(""),[a,i]=E.useState(!1),[o,l]=E.useState(null),[c,u]=E.useState(localStorage.getItem("profileImage")||"https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"),h=3,f=0,[g,x]=E.useState(null);E.useEffect(()=>{const b=ke.onAuthStateChanged(async N=>{if(e(!0),!N){s("Please sign in to view your profile."),i(!0),e(!1);return}try{const k=Ce(re,"users",N.uid),C=bs(k,R=>{if(R.exists()){const _=R.data(),I=_.addresses||[];l({email:N.email||"test@example.com",username:_.username||N.displayName||"emmachi789",name:_.name||N.displayName||"Emmanuel Chinecherem",createdAt:_.createdAt||"2025-05-04T23:28:48.857Z",address:I[0]?.street?`${I[0].street}, ${I[0].city}, ${I[0].state}, ${I[0].postalCode}, ${I[0].country}`:"Not provided",country:_.country||"Nigeria",phone:_.phone||"+234-8052975966",uid:N.uid})}else s("User profile not found.")});return e(!1),()=>C()}catch(k){k.code==="permission-denied"?(s("You do not have permission to view this profile."),i(!0)):s("Failed to load profile. Please try again."),e(!1)}}),v=()=>{u(localStorage.getItem("profileImage")||"https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg")};return window.addEventListener("profileImageUpdated",v),()=>{b(),window.removeEventListener("profileImageUpdated",v)}},[]);const y=b=>{if(!b)return"Not available";try{return new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(v){return console.error("Error formatting date:",v),"Invalid date"}};return r?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(ti,{}),n.jsx("p",{className:"text-gray-600 mt-4",children:"Loading your profile..."})]}):t?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:t}),a?n.jsx(fe,{to:"/login",className:"text-blue-600 hover:underline inline-block",children:"Go to Login"}):n.jsx("button",{onClick:()=>{s(""),e(!0)},className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 shadow-md",children:"Retry"})]}):o?n.jsx("div",{className:"container mx-auto px-4 py-8 text-primary-color",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx(Sd,{}),n.jsxs("div",{className:"md:w-3/4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[n.jsx("div",{className:"rounded-lg p-4 text-center bg-gradient-to-br from-background-light to-white border border-border-light cursor-pointer",children:n.jsxs(fe,{to:"/orders",className:"block",children:[n.jsx("i",{className:"bx bx-package text-2xl text-secondary-color mb-2"}),n.jsx("p",{className:"text-primary-color/60",children:"Orders"}),n.jsx("p",{className:"text-lg font-semibold text-primary-color",children:"9"})]})}),n.jsx("div",{className:"rounded-lg p-4 text-center bg-gradient-to-br from-background-light to-white border border-border-light cursor-pointer",children:n.jsxs(fe,{to:"/favorites",className:"block",children:[n.jsx("i",{className:"bx bx-heart text-2xl text-secondary-color mb-2"}),n.jsx("p",{className:"text-primary-color/60",children:"Wish List"}),n.jsx("p",{className:"text-lg font-semibold text-primary-color",children:h})]})}),n.jsxs("div",{className:"rounded-lg p-4 text-center bg-gradient-to-br from-background-light to-white border border-border-light cursor-pointer",children:[n.jsx("i",{className:"bx bx-star text-2xl text-accent-color mb-2"}),n.jsx("p",{className:"text-primary-color/60",children:"Loyalty Points"}),n.jsxs("p",{className:"text-lg font-semibold text-primary-color",children:[f," ",n.jsx("i",{className:"bx bx-star text-accent-color"})]})]})]}),n.jsxs("div",{className:"rounded-lg p-6 mb-6 bg-background-light border border-border-light shadow-sm",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-color",children:"Personal Details"}),n.jsxs(fe,{to:"/setting",className:"flex items-center px-4 py-2 rounded-lg bg-accent-color/10 text-accent-color hover:bg-accent-color/20 transition duration-200",children:[n.jsx("i",{className:"bx bx-edit mr-1"})," Edit Profile"]})]}),n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"w-24 h-24 bg-background-light rounded-full flex items-center justify-center overflow-hidden border-2 border-secondary-color shadow-lg",children:n.jsx("img",{src:c,alt:"Profile",className:"w-full h-full object-cover",onError:b=>{b.target.src="https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"}})}),n.jsxs("div",{className:"ml-2",children:[n.jsx("h2",{className:"text-xl font-bold text-primary-color",children:o.name}),n.jsxs("p",{className:"text-primary-color/60",children:["Member since ",y(o.createdAt)]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{label:"Username",value:o.username},{label:"First Name",value:o.name.split(" ")[0]},{label:"Last Name",value:o.name.split(" ").slice(1).join(" ")||"-"},{label:"Email",value:o.email,icon:"bx-check-circle",iconColor:"text-secondary-color"},{label:"Country",value:o.country},{label:"Phone",value:o.phone},{label:"Date Joined",value:y(o.createdAt)},{label:"Address",value:o.address}].map((b,v)=>n.jsx("div",{className:"group",children:n.jsxs("div",{className:"p-3 rounded-lg bg-background-light border border-border-light",children:[n.jsx("p",{className:"text-primary-color/60 text-sm",children:b.label}),n.jsxs("p",{className:"font-semibold text-primary-color flex items-center",children:[b.value,b.icon&&n.jsx("i",{className:`bx ${b.icon} ml-2 ${b.iconColor}`})]})]})},v))})]}),n.jsxs("div",{className:"rounded-lg p-6 mb-6 bg-background-light border border-border-light shadow-sm",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-color",children:"User Address"}),n.jsxs(fe,{to:"/setting",className:"flex items-center px-4 py-2 rounded-lg bg-accent-color/10 text-accent-color hover:bg-accent-color/20 transition duration-200",children:[n.jsx("i",{className:"bx bx-map mr-1"})," Update Address"]})]}),n.jsx("div",{className:"p-4 bg-background-light rounded-lg border border-border-light",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("i",{className:"bx bx-map-pin text-secondary-color mr-2 text-xl mt-1"}),n.jsx("p",{className:"font-semibold text-primary-color",children:o.address})]})})]})]})]})}):n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:"User data not available."}),n.jsx("button",{onClick:()=>e(!0),className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 shadow-md",children:"Retry"})]})}var sO="basil",fse=function(e){return e===3?"v3":e},rO="https://js.stripe.com",gse="".concat(rO,"/").concat(sO,"/stripe.js"),pse=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,xse=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var bse=function(e){return pse.test(e)||xse.test(e)},yse=function(){for(var e=document.querySelectorAll('script[src^="'.concat(rO,'"]')),t=0;t<e.length;t++){var s=e[t];if(bse(s.src))return s}return null},lR=function(e){var t="",s=document.createElement("script");s.src="".concat(gse).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},vse=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.7.0",startTime:t})},Tm=null,yx=null,vx=null,wse=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},Nse=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},jse=function(e){return Tm!==null?Tm:(Tm=new Promise(function(t,s){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var a=yse();if(!(a&&e)){if(!a)a=lR(e);else if(a&&vx!==null&&yx!==null){var i;a.removeEventListener("load",vx),a.removeEventListener("error",yx),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=lR(e)}}vx=Nse(t,s),yx=wse(s),a.addEventListener("load",vx),a.addEventListener("error",yx)}catch(o){s(o);return}}),Tm.catch(function(t){return Tm=null,Promise.reject(t)}))},kse=function(e,t,s){if(e===null)return null;var a=t[0],i=a.match(/^pk_test/),o=fse(e.version),l=sO;i&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.7.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,t);return vse(c,s),c},Pm,aO=!1,nO=function(){return Pm||(Pm=jse(null).catch(function(e){return Pm=null,Promise.reject(e)}),Pm)};Promise.resolve().then(function(){return nO()}).catch(function(r){aO||console.warn(r)});var Sse=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];aO=!0;var a=Date.now();return nO().then(function(i){return kse(i,t,a)})},Yw={exports:{}},qw,cR;function _se(){if(cR)return qw;cR=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qw=r,qw}var Xw,dR;function Ase(){if(dR)return Xw;dR=1;var r=_se();function e(){}function t(){}return t.resetWarningCache=e,Xw=function(){function s(o,l,c,u,h,f){if(f!==r){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}s.isRequired=s;function a(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},Xw}var uR;function iO(){return uR||(uR=1,Yw.exports=Ase()()),Yw.exports}var Cse=iO();const Gt=cb(Cse);function hR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,s)}return t}function mR(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(t),!0).forEach(function(s){oO(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hR(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function o0(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o0=function(e){return typeof e}:o0=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o0(r)}function oO(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ese(r,e){if(r==null)return{};var t={},s=Object.keys(r),a,i;for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function Tse(r,e){if(r==null)return{};var t=Ese(r,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function lO(r,e){return Pse(r)||Rse(r,e)||Ise(r,e)||Dse()}function Pse(r){if(Array.isArray(r))return r}function Rse(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var s=[],a=!0,i=!1,o,l;try{for(t=t.call(r);!(a=(o=t.next()).done)&&(s.push(o.value),!(e&&s.length===e));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&t.return!=null&&t.return()}finally{if(i)throw l}}return s}}function Ise(r,e){if(r){if(typeof r=="string")return fR(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fR(r,e)}}function fR(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=r[t];return s}function Dse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mn=function(e,t,s){var a=!!s,i=as.useRef(s);as.useEffect(function(){i.current=s},[s]),as.useEffect(function(){if(!a||!e)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return e.on(t,o),function(){e.off(t,o)}},[a,t,e,i])},DN=function(e){var t=as.useRef(e);return as.useEffect(function(){t.current=e},[e]),t.current},Ju=function(e){return e!==null&&o0(e)==="object"},Mse=function(e){return Ju(e)&&typeof e.then=="function"},Ose=function(e){return Ju(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},gR="[object Object]",Lse=function r(e,t){if(!Ju(e)||!Ju(t))return e===t;var s=Array.isArray(e),a=Array.isArray(t);if(s!==a)return!1;var i=Object.prototype.toString.call(e)===gR,o=Object.prototype.toString.call(t)===gR;if(i!==o)return!1;if(!i&&!s)return e===t;var l=Object.keys(e),c=Object.keys(t);if(l.length!==c.length)return!1;for(var u={},h=0;h<l.length;h+=1)u[l[h]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var g=Object.keys(u);if(g.length!==l.length)return!1;var x=e,y=t,b=function(N){return r(x[N],y[N])};return g.every(b)},cO=function(e,t,s){return Ju(e)?Object.keys(e).reduce(function(a,i){var o=!Ju(t)||!Lse(e[i],t[i]);return s.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?mR(mR({},a||{}),{},oO({},i,e[i])):a},null):null},dO="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",pR=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dO;if(e===null||Ose(e))return e;throw new Error(t)},Fse=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dO;if(Mse(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return pR(a,t)})};var s=pR(e,t);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},Use=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"3.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},Zb=as.createContext(null);Zb.displayName="ElementsContext";var uO=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},hO=function(e){var t=e.stripe,s=e.options,a=e.children,i=as.useMemo(function(){return Fse(t)},[t]),o=as.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(s):null}}),l=lO(o,2),c=l[0],u=l[1];as.useEffect(function(){var g=!0,x=function(b){u(function(v){return v.stripe?v:{stripe:b,elements:b.elements(s)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(y){y&&g&&x(y)}):i.tag==="sync"&&!c.stripe&&x(i.stripe),function(){g=!1}},[i,c,s]);var h=DN(t);as.useEffect(function(){h!==null&&h!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,t]);var f=DN(s);return as.useEffect(function(){if(c.elements){var g=cO(s,f,["clientSecret","fonts"]);g&&c.elements.update(g)}},[s,f,c.elements]),as.useEffect(function(){Use(c.stripe)},[c.stripe]),as.createElement(Zb.Provider,{value:c},a)};hO.propTypes={stripe:Gt.any,options:Gt.object};var zse=function(e){var t=as.useContext(Zb);return uO(t,e)},Vse=function(){var e=zse("calls useElements()"),t=e.elements;return t};Gt.func.isRequired;var mO=as.createContext(null);mO.displayName="CheckoutSdkContext";var Bse=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},Hse=as.createContext(null);Hse.displayName="CheckoutContext";Gt.any,Gt.shape({fetchClientSecret:Gt.func.isRequired,elementsOptions:Gt.object}).isRequired;var MN=function(e){var t=as.useContext(mO),s=as.useContext(Zb);if(t&&s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?Bse(t,e):uO(s,e)},$se=["mode"],Wse=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Pr=function(e,t){var s="".concat(Wse(e),"Element"),a=function(c){var u=c.id,h=c.className,f=c.options,g=f===void 0?{}:f,x=c.onBlur,y=c.onFocus,b=c.onReady,v=c.onChange,N=c.onEscape,k=c.onClick,C=c.onLoadError,R=c.onLoaderStart,_=c.onNetworksChange,I=c.onConfirm,P=c.onCancel,T=c.onShippingAddressChange,D=c.onShippingRateChange,L=MN("mounts <".concat(s,">")),F="elements"in L?L.elements:null,z="checkoutSdk"in L?L.checkoutSdk:null,O=as.useState(null),V=lO(O,2),H=V[0],B=V[1],q=as.useRef(null),ee=as.useRef(null);mn(H,"blur",x),mn(H,"focus",y),mn(H,"escape",N),mn(H,"click",k),mn(H,"loaderror",C),mn(H,"loaderstart",R),mn(H,"networkschange",_),mn(H,"confirm",I),mn(H,"cancel",P),mn(H,"shippingaddresschange",T),mn(H,"shippingratechange",D),mn(H,"change",v);var G;b&&(e==="expressCheckout"?G=b:G=function(){b(H)}),mn(H,"ready",G),as.useLayoutEffect(function(){if(q.current===null&&ee.current!==null&&(F||z)){var Q=null;if(z)switch(e){case"payment":Q=z.createPaymentElement(g);break;case"address":if("mode"in g){var te=g.mode,ne=Tse(g,$se);if(te==="shipping")Q=z.createShippingAddressElement(ne);else if(te==="billing")Q=z.createBillingAddressElement(ne);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Q=z.createExpressCheckoutElement(g);break;case"currencySelector":Q=z.createCurrencySelectorElement();break;case"taxId":Q=z.createTaxIdElement(g);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else F&&(Q=F.create(e,g));q.current=Q,B(Q),Q&&Q.mount(ee.current)}},[F,z,g]);var $=DN(g);return as.useEffect(function(){if(q.current){var Q=cO(g,$,["paymentRequest"]);Q&&"update"in q.current&&q.current.update(Q)}},[g,$]),as.useLayoutEffect(function(){return function(){if(q.current&&typeof q.current.destroy=="function")try{q.current.destroy(),q.current=null}catch{}}},[]),as.createElement("div",{id:u,className:h,ref:ee})},i=function(c){MN("mounts <".concat(s,">"));var u=c.id,h=c.className;return as.createElement("div",{id:u,className:h})},o=t?i:a;return o.propTypes={id:Gt.string,className:Gt.string,onChange:Gt.func,onBlur:Gt.func,onFocus:Gt.func,onReady:Gt.func,onEscape:Gt.func,onClick:Gt.func,onLoadError:Gt.func,onLoaderStart:Gt.func,onNetworksChange:Gt.func,onConfirm:Gt.func,onCancel:Gt.func,onShippingAddressChange:Gt.func,onShippingRateChange:Gt.func,options:Gt.object},o.displayName=s,o.__elementType=e,o},Rr=typeof window>"u",Yse=as.createContext(null);Yse.displayName="EmbeddedCheckoutProviderContext";var qse=function(){var e=MN("calls useStripe()"),t=e.stripe;return t};Pr("auBankAccount",Rr);var xR=Pr("card",Rr);Pr("cardNumber",Rr);Pr("cardExpiry",Rr);Pr("cardCvc",Rr);Pr("fpxBank",Rr);Pr("iban",Rr);Pr("idealBank",Rr);Pr("p24Bank",Rr);Pr("epsBank",Rr);Pr("payment",Rr);Pr("expressCheckout",Rr);Pr("currencySelector",Rr);Pr("paymentRequestButton",Rr);Pr("linkAuthentication",Rr);Pr("address",Rr);Pr("shippingAddress",Rr);Pr("paymentMethodMessaging",Rr);Pr("affirmMessage",Rr);Pr("afterpayClearpayMessage",Rr);Pr("taxId",Rr);const fO=({email:r,amount:e,onSuccess:t,onClose:s,disabled:a,buttonText:i,className:o,iconClass:l,sellerId:c,handlingFee:u,buyerProtectionFee:h})=>{const[f,g]=E.useState(!1),[x,y]=E.useState(!1);E.useEffect(()=>{const v=document.createElement("script");return v.src="https://js.paystack.co/v1/inline.js",v.async=!0,v.onload=()=>y(!0),v.onerror=()=>{je.error("Failed to load Paystack script."),y(!1)},document.body.appendChild(v),()=>{document.body.removeChild(v)}},[]);const b=async()=>{if(!x||!window.PaystackPop){je.error("Paystack not loaded.");return}if(!r||!e||e<=0||!c){je.error("Valid email, amount, and seller ID required.");return}g(!0);try{const v="https://foremade-backend.onrender.com",N=Math.round(e),k={amount:N,email:r,currency:"NGN",metadata:{userId:ke.currentUser?.uid||"anonymous",orderId:`order-${Date.now()}`,sellerId:c,handlingFee:u||0,buyerProtectionFee:h||0}};console.log("Sending payload to backend:",k);const{data:C}=await Zt.post(`${v}/initiate-paystack-payment`,k);console.log("Backend response:",C),window.PaystackPop.setup({key:"pk_live_80ce5e6562afd9418a07b2fd2f1a261dbb62a9bd",email:r,amount:N,currency:"NGN",ref:C.reference,callback:_=>{console.log("Paystack callback:",_),t(_),g(!1)},onClose:()=>{console.log("Paystack iframe closed"),s(),g(!1)}}).openIframe()}catch(v){console.error("Paystack payment error:",{message:v.message,code:v.code,response:v.response?.data});const N=v.code==="ERR_NETWORK"?"Cannot connect to server. Ensure backend is running.":v.response?.data?.error||v.response?.data?.message||"Payment failed. Please try again.";je.error(N),g(!1)}};return n.jsxs("button",{onClick:b,disabled:a||f||!x,className:`paystack-button ${o}`,children:[l&&n.jsx("i",{className:l}),f?"Processing...":i]})},Xse="/assets/card-B58Cq-kn.png",Gse={background:"#22c55e",color:"#fff",fontWeight:"bold",borderRadius:"8px",padding:"16px"},Kse=Sse("pk_test_51RJwNCPGKISqnQ1eXrTZH37wa2iPeGUasDwW90TOXdW5TU6LBvoGYdPxBdDTPDoVagtZZwu6VVAPRPMMD8Jp92bW001oXpiLHO"),bR=(r,e=5e3)=>new Promise(t=>{const s=new Image;s.src=r,s.onload=()=>t(!0),s.onerror=()=>t(!1),setTimeout(()=>t(!1),e)}),Qse=()=>n.jsx("div",{className:"flex justify-between mb-8",children:["Cart","Shipping","Payment","Confirmation"].map((r,e)=>n.jsxs("div",{className:"flex-1 text-center",children:[n.jsx("div",{className:`w-8 h-8 mx-auto rounded-full flex items-center justify-center ${e<2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:e+1}),n.jsx("p",{className:"text-sm mt-2 text-gray-600",children:r})]},r))}),Zse=({isOpen:r,onConfirm:e,onCancel:t})=>r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Confirm Order"}),n.jsx("i",{className:"bx bx-loader bx-spin text-3xl"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Are you sure you want to place this order and clear your cart?"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:e,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Confirm"}),n.jsx("button",{onClick:t,className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-100 transition",children:"Cancel"})]})]})}),Jse=({totalPrice:r,formData:e,onSuccess:t,onCancel:s,currency:a,setIsProcessing:i})=>{const o=qse(),l=Vse(),[c,u]=E.useState(!1),h=async f=>{if(f.preventDefault(),!o||!l){je.error("Stripe not loaded. Please try again.",{position:"top-right",autoClose:3e3});return}u(!0),i(!0);try{const g=Math.round(r*100),x="https://foremade-backend.onrender.com";let y=3,b=null;for(;y>0;)try{const{data:v}=await Zt.post(`${x}/create-payment-intent`,{amount:g,currency:a.toLowerCase(),metadata:{userId:ke.currentUser?.uid||"anonymous",orderId:`order-${Date.now()}`}},{timeout:15e3}),{error:N,paymentIntent:k}=await o.confirmCardPayment(v.clientSecret,{payment_method:{card:l.getElement(xR),billing_details:{name:e.name,email:e.email,phone:e.phone,address:{line1:e.address,city:e.city,postal_code:e.postalCode,country:a==="GBP"?"GB":"NG"}}}});if(N){je.error(N.message,{position:"top-right",autoClose:3e3});return}if(k.status==="succeeded"){await t(k),u(!1),i(!1);return}}catch(v){if(b=v,y--,v.code!=="ECONNABORTED"||y===0)throw v;je.warn(`Retrying payment (${y} attempts left)...`,{position:"top-right",autoClose:2e3}),await new Promise(N=>setTimeout(N,2e3))}throw b||new Error("Payment failed after retries.")}catch(g){console.error("Stripe payment error:",{message:g.message,code:g.code,response:g.response?.data}),console.log("Logging to Sentry:",g),je.error(g.code==="ECONNABORTED"?"Payment timed out. Please try again or check your connection.":g.message||"Payment failed. Try again.",{position:"top-right",autoClose:3e3}),u(!1),i(!1)}};return n.jsxs("form",{onSubmit:h,className:"mt-6 space-y-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Details"}),n.jsx(xR,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},className:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:c||!o||!l,className:`flex-1 py-3 px-4 rounded-lg text-white text-sm font-medium transition duration-200 shadow transform hover:scale-105 ${c||!o||!l?"bg-gray-400 cursor-not-allowed":"bg-[#112d4e] hover:bg-[#0e2740]"}`,"aria-label":"Checkout",children:c?"Processing...":`Pay ${a} ${r.toLocaleString("en-US",{minimumFractionDigits:2})}`}),n.jsx("button",{type:"button",onClick:s,disabled:c,className:"px-4 py-3 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition text-sm disabled:opacity-50 transform hover:scale-105","aria-label":"Cancel Payment",children:"Cancel"})]})]})},ere=()=>{const r=gs(),e=Xr(),[t,s]=E.useState([]),[a,i]=E.useState([]),[o,l]=E.useState(!0),[c,u]=E.useState(!1),[h,f]=E.useState(()=>{const be=localStorage.getItem("checkoutFormData");return be?JSON.parse(be):{name:"",email:"",address:"",city:"",postalCode:"",country:"Nigeria",phone:"",saveInfo:!1}}),[g,x]=E.useState({}),[y,b]=E.useState({}),[v,N]=E.useState({}),[k,C]=E.useState({}),[R,_]=E.useState(!1),[I,P]=E.useState(!1),[T,D]=E.useState(!1),[L,F]=E.useState(null),[z,O]=E.useState(25e3),V=E.useRef(null),H=!1,B=new URLSearchParams(e.search),q=parseFloat(B.get("additionalShippingFee"))||0;E.useEffect(()=>{localStorage.setItem("checkoutFormData",JSON.stringify(h))},[h]),E.useEffect(()=>{const be=async()=>{try{l(!0);const Ge=ke.currentUser,et=Ce(re,"settings","minimumPurchase"),xt=await Je(et);xt.exists()&&O(xt.data().amount||25e3);const es=Ce(re,"feeConfigurations","categoryFees"),Gs=await Je(es);N(Gs.exists()?Gs.data():{});const lt=(await Ke(Ie(re,"dailyDeals"))).docs.map(St=>({id:St.id,...St.data()})).filter(St=>new Date(St.endDate)>new Date&&new Date(St.startDate)<=new Date);i(lt);const Wt=await Ui(Ge?.uid);console.log("Loaded cart items:",JSON.stringify(Wt,null,2));const Bt=(await Promise.all(Wt.map(async St=>{if(!St.productId||!St.product)return console.warn("Invalid cart item:",St),null;const Ot=St.product||{};let Yt=[];Array.isArray(Ot.imageUrls)?Yt=Ot.imageUrls.filter(we=>typeof we=="string"&&we.match(/^https?:\/\/.+/i)):Ot.imageUrl&&typeof Ot.imageUrl=="string"&&Ot.imageUrl.match(/^https?:\/\/.+/i)&&(Yt=[Ot.imageUrl]);const Ht=await Promise.all(Yt.map(we=>bR(we)));let Ks=Yt.filter((we,he)=>Ht[he]);Ks.length===0&&(Ks=[Es],b(we=>({...we,[St.productId]:!0})),console.warn("No valid imageUrls for product:",Ot.name||"Unknown","Using placeholder"));const jt=Ce(re,"products",St.productId),Mt=await Je(jt),ar=Mt.exists()&&Mt.data().category||"default",Is=Mt.exists()?Mt.data().sellerId:"default-seller-id",nr=Mt.exists()&&Mt.data().stock||10,Ds=v[ar]||{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2},Ms=Ot.price||0,Os=lt.find(we=>we.productId===St.productId),Ss=Os?Number((Os.discount*100).toFixed(2)):0,Qs=Ss?Ms*(1-Os.discount):Ms,ps=Qs*Ds.buyerProtectionRate,tr=Qs*Ds.handlingRate,_s=Qs+ps+tr;return{...St,product:{...Ot,imageUrls:Ks,category:ar,sellerId:Is,totalPrice:_s,stock:nr,isDailyDeal:!!Os,discountPercentage:Ss},currentImage:Ks[0],slideDirection:"right"}}))).filter(St=>St!==null);if(s(Bt),x(Bt.reduce((St,Ot)=>({...St,[Ot.productId]:!0}),{})),Ge){const St=Ce(re,"users",Ge.uid),Ot=await Je(St);if(Ot.exists()){const Yt=Ot.data();f(Ht=>({...Ht,name:Yt.name||Ge.displayName||Ht.name,email:Yt.email||Ge.email||Ht.email,address:Yt.address||Ht.address,city:Yt.city||Ht.city,postalCode:Yt.postalCode||Ht.postalCode,country:Yt.country||Ht.country,phone:Yt.phone||Ht.phone}))}}}catch(Ge){console.error("Error loading cart, deals, or user data:",Ge),console.log("Logging to Sentry:",Ge),s([]),je.error("Failed to load data.",{position:"top-right",autoClose:3e3})}finally{l(!1)}},Ve=async()=>{try{const Ge=ke.currentUser,et=await Ui(Ge?.uid),xt=Ce(re,"feeConfigurations","categoryFees"),es=await Je(xt),Gs=es.exists()?es.data():{},lt=(await Ke(Ie(re,"dailyDeals"))).docs.map(Bt=>({id:Bt.id,...Bt.data()})).filter(Bt=>new Date(Bt.endDate)>new Date&&new Date(Bt.startDate)<=new Date),gt=(await Promise.all(et.map(async Bt=>{if(!Bt.productId||!Bt.product)return console.warn("Invalid cart item:",Bt),null;const St=Bt.product||{};let Ot=[];Array.isArray(St.imageUrls)?Ot=St.imageUrls.filter(_s=>typeof _s=="string"&&_s.match(/^https?:\/\/.+/i)):St.imageUrl&&typeof St.imageUrl=="string"&&St.imageUrl.match(/^https?:\/\/.+/i)&&(Ot=[St.imageUrl]);const Yt=await Promise.all(Ot.map(_s=>bR(_s)));let Ht=Ot.filter((_s,we)=>Yt[we]);Ht.length===0&&(Ht=[Es],b(_s=>({..._s,[Bt.productId]:!0})),console.warn("No valid imageUrls for product:",St.name||"Unknown","Using placeholder"));const Ks=Ce(re,"products",Bt.productId),jt=await Je(Ks),Mt=jt.exists()&&jt.data().category||"default",ar=jt.exists()?jt.data().sellerId:"default-seller-id",Is=jt.exists()&&jt.data().stock||10,nr=Gs[Mt]||{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2},Ds=St.price||0,Ms=lt.find(_s=>_s.productId===Bt.productId),Os=Ms?Number((Ms.discount*100).toFixed(2)):0,Ss=Os?Ds*(1-Ms.discount):Ds,Qs=Ss*nr.buyerProtectionRate,ps=Ss*nr.handlingRate,tr=Ss+Qs+ps;return{...Bt,product:{...St,imageUrls:Ht,category:Mt,sellerId:ar,totalPrice:tr,stock:Is,isDailyDeal:!!Ms,discountPercentage:Os},currentImage:Ht[0],slideDirection:"right"}}))).filter(Bt=>Bt!==null);s(gt),x(gt.reduce((Bt,St)=>({...Bt,[St.productId]:!0}),{}))}catch(Ge){console.error("Error updating cart:",Ge),console.log("Logging to Sentry:",Ge),je.error("Failed to update cart.",{position:"top-right",autoClose:3e3})}},st=()=>{clearTimeout(L);const Ge=setTimeout(()=>{je.warn("Session inactive. Please refresh or log in again.",{position:"top-right",autoClose:5e3}),r("/login")},1800*1e3);F(Ge)};window.addEventListener("cartUpdated",Ve),window.addEventListener("mousemove",st),window.addEventListener("keydown",st);const We=ke.onAuthStateChanged(Ge=>{u(!!Ge),be(),st()});return()=>{We(),window.removeEventListener("cartUpdated",Ve),window.removeEventListener("mousemove",st),window.removeEventListener("keydown",st),clearTimeout(L)}},[]);const ee=async(be,Ve)=>{try{const st=ke.currentUser,We=t.map(Ge=>Ge.productId===be?{...Ge,quantity:Math.max(1,Math.min(Ve,Ge.product.stock||10))}:Ge);await md(st?.uid,We),s(We),je.info("Quantity updated.",{position:"top-right",autoClose:2e3})}catch(st){console.error("Error updating quantity:",st),console.log("Logging to Sentry:",st),je.error("Failed to update quantity.",{position:"top-right",autoClose:3e3})}},G=t.reduce((be,Ve)=>be+(Ve.quantity||0),0),$=t.reduce((be,Ve)=>be+(Ve.product?.totalPrice||0)*(Ve.quantity||0),0),Q=t.length===1&&q>0?q:$<z?500:0,te=$<z,ne=h.country==="United Kingdom"?"GBP":"NGN",ce=48e-5,Re=ne==="GBP"?($+Q)*ce:$+Q;E.useEffect(()=>{console.log("Subtotal NGN:",$.toLocaleString("en-NG",{minimumFractionDigits:2})),console.log("Additional Shipping Fee:",Q.toLocaleString("en-NG",{minimumFractionDigits:2})),console.log("Total Amount:",Re.toLocaleString("en-NG",{minimumFractionDigits:2}),"(",ne,")")},[$,Q,Re,ne]);const de=be=>{const{name:Ve,value:st,type:We,checked:Ge}=be.target;f(et=>({...et,[Ve]:We==="checkbox"?Ge:st})),C(et=>({...et,[Ve]:""})),Ve==="country"&&st!==h.country&&je.info(`Currency will change to ${st==="United Kingdom"?"GBP":"NGN"}.`,{position:"top-right",autoClose:3e3})},Me=()=>{const be={},{name:Ve,email:st,address:We,city:Ge,postalCode:et,country:xt,phone:es}=h;return Ve||(be.name="Full name is required."),st?/\S+@\S+\.\S+/.test(st)||(be.email="Invalid email address."):be.email="Email is required.",es||(be.phone="Phone number is required."),We||(be.address="Address is required."),Ge||(be.city="City is required."),et||(be.postalCode="Postal code is required."),["Nigeria","United Kingdom"].includes(xt)||(be.country="Select Nigeria or United Kingdom."),{isValid:Object.keys(be).length===0,errors:be}},ue=E.useMemo(()=>Me(),[h]),X=async be=>{try{P(!0);const Ve="https://foremade-backend.onrender.com",st={orderId:be.paymentId||`fallback-${Date.now()}`,email:be.shippingDetails?.email||h.email,items:(be.items||[]).map(et=>({productId:et.productId||"unknown",quantity:et.quantity||1,price:et.price||0,name:et.name||"Unknown Product",sellerId:et.sellerId||"unknown",imageUrls:Array.isArray(et.imageUrls)?et.imageUrls:[Es],isDailyDeal:et.isDailyDeal||!1,discountPercentage:et.discountPercentage||0})),total:be.totalAmount||0,currency:be.currency||ne,shippingDetails:{name:be.shippingDetails?.name||h.name||"Unknown",address:be.shippingDetails?.address||h.address||"Unknown",city:be.shippingDetails?.city||h.city||"",postalCode:be.shippingDetails?.postalCode||h.postalCode||"",country:be.shippingDetails?.country||h.country||"",phone:be.shippingDetails?.phone||h.phone||""}};if(!st.email||!/\S+@\S+\.\S+/.test(st.email))throw new Error("Invalid or missing email address");if(!st.items.length)throw new Error("No items provided");let We=2,Ge=null;for(;We>0;)try{const et=await Zt.post(`${Ve}/send-order-confirmation`,st,{timeout:1e4});console.log("Order confirmation email sent successfully:",et.data);return}catch(et){if(Ge=et,We--,We===0||et.response?.status!==400)throw et;console.warn(`Retrying email send (${We} attempts left)...`),await new Promise(xt=>setTimeout(xt,2e3))}throw Ge||new Error("Failed to send email after retries")}catch(Ve){console.error("Error sending order confirmation email:",{message:Ve.message,status:Ve.response?.status,responseData:Ve.response?.data,stack:Ve.stack}),console.log("Logging to Sentry:",Ve),je.warn("Order placed successfully, but failed to send confirmation email. Please check your email later.",{position:"top-right",autoClose:5e3})}finally{P(!1)}},se=async(be,Ve,st,We)=>{try{P(!0);const Ge="https://foremade-backend.onrender.com";for(const[et,xt]of Object.entries(be)){const es=Ve.find(gt=>gt.includes(et))||`order-${Date.now()}-${et}`,Gs=xt.reduce((gt,Bt)=>gt+(Bt.product?.totalPrice||0)*(Bt.quantity||0),0),kr=st==="GBP"?(Gs+Q)*ce:Gs+Q,Ft={orderId:es,sellerId:et,items:xt.map(gt=>({productId:gt.productId||"unknown",quantity:gt.quantity||1,price:gt.product?.totalPrice||0,name:gt.product?.name||"Unknown Product",imageUrls:Array.isArray(gt.product?.imageUrls)?gt.product.imageUrls:[Es],isDailyDeal:gt.product?.isDailyDeal||!1,discountPercentage:gt.product?.discountPercentage||0})),total:kr,currency:st,shippingDetails:{name:We.name||"Unknown",address:We.address||"Unknown",city:We.city||"",postalCode:We.postalCode||"",country:We.country||"",phone:We.phone||""}};console.log("Sending seller notification email with payload:",{orderId:es,sellerId:et,items:Ft.items,total:kr,currency:st,shippingDetails:Ft.shippingDetails});let lt=2,Wt=null;for(;lt>0;)try{const gt=await Zt.post(`${Ge}/send-seller-order-notification`,Ft,{timeout:1e4});console.log(`Seller notification email sent successfully for seller ${et}:`,gt.data);break}catch(gt){if(Wt=gt,lt--,lt===0||gt.response?.status!==400)throw gt;console.warn(`Retrying seller email send for ${et} (${lt} attempts left)...`),await new Promise(Bt=>setTimeout(Bt,2e3))}if(lt===0)throw Wt||new Error(`Failed to send seller email for ${et} after retries`)}}catch(Ge){console.error("Error sending seller notification emails:",{message:Ge.message,status:Ge.response?.status,responseData:Ge.response?.data,stack:Ge.stack}),console.log("Logging to Sentry:",Ge),je.warn("Order placed successfully, but failed to notify some sellers. They may receive notifications later.",{position:"top-right",autoClose:5e3})}finally{P(!1)}},ge=E.useCallback(async be=>{try{if(t.length===0){je.error("Cart is empty.",{position:"top-right",autoClose:3e3});return}const Ve=Me();if(!Ve.isValid){C(Ve.errors),je.error("Please fix form errors.",{position:"top-right",autoClose:3e3}),V.current.scrollIntoView({behavior:"smooth"});return}console.log("Payment data:",be),(!be||!be.id&&!be.reference)&&(console.warn("Invalid payment data:",be),console.log("Logging to Sentry:",new Error("Invalid payment data received")));const st=ke.currentUser?.uid||"anonymous",We=`order-${Date.now()}`,Ge=h.country==="United Kingdom"?"Stripe":"Paystack",et=be?.id||be?.reference||`fallback-${We}`,xt={};t.forEach(lt=>{const Wt=lt.product?.sellerId||"default-seller-id";xt[Wt]||(xt[Wt]=[]),xt[Wt].push(lt)});let es=null;const Gs=[],kr=[];await PW(re,async lt=>{const Wt=t.map(jt=>Ce(re,"products",jt.productId)),gt=await Promise.all(Wt.map(jt=>lt.get(jt))),Bt=[];gt.forEach((jt,Mt)=>{if(!jt.exists()){console.warn(`Product ${t[Mt].productId} does not exist. Skipping stock update.`);return}const ar=jt.data().stock||0,Is=t[Mt].quantity||0,nr=ar-Is;if(nr<0)throw new Error(`Insufficient stock for product ${t[Mt].productId} (${t[Mt].product?.name||"Unknown"})`);Bt.push({ref:Wt[Mt],newStock:nr})});const St=Object.keys(xt).map(jt=>Ce(re,"wallets",jt)),Yt=(await Promise.all(St.map(jt=>lt.get(jt)))).map((jt,Mt)=>({ref:St[Mt],exists:jt.exists(),data:jt.exists()?jt.data():null,sellerId:Object.keys(xt)[Mt]}));console.log("Seller wallets before update:",Yt.map(jt=>({sellerId:jt.sellerId,exists:jt.exists,pendingBalance:jt.data?.pendingBalance||0,availableBalance:jt.data?.availableBalance||0})));const Ht=[];Yt.forEach(({ref:jt,exists:Mt,data:ar,sellerId:Is})=>{const nr=xt[Is],Ds=nr.reduce((ps,tr)=>ps+(tr.product?.totalPrice||0)*(tr.quantity||0),0),Ms=ne==="GBP"?(Ds+Q)*ce:Ds+Q,Os={id:We,userId:st,sellerId:Is,items:nr.map(ps=>({productId:ps.productId||"unknown",quantity:ps.quantity||0,price:ps.product?.totalPrice||0,name:ps.product?.name||"Unknown",sellerId:ps.product?.sellerId||Is,imageUrls:ps.product?.imageUrls||[Es],isDailyDeal:ps.product?.isDailyDeal||!1,discountPercentage:ps.product?.discountPercentage||0})),totalAmount:Ms,date:new Date().toISOString(),createdAt:Ti(),shippingDetails:h,status:"pending-approval",paymentGateway:Ge,paymentId:et,currency:ne},Ss=`${We}-${Is}`;Ht.push({order:Os,orderId:Ss}),kr.push(Ss);const Qs=(Mt&&ar?.pendingBalance||0)+Ms;Gs.push({sellerId:Is,amount:Ms}),lt.set(jt,{availableBalance:Mt&&ar?.availableBalance||0,pendingBalance:Qs,updatedAt:Ti(),...Mt?{}:{createdAt:Ti()}},{merge:!0}),console.log(`Updated wallet for seller ${Is}:`,{pendingBalance:Qs,availableBalance:Mt&&ar?.availableBalance||0})}),Ht.forEach(({order:jt,orderId:Mt})=>{const ar=Ce(re,"orders",Mt);try{lt.set(ar,jt)}catch(Is){throw console.error(`Error saving order ${Mt}:`,Is),Is}es=jt}),Bt.forEach(({ref:jt,newStock:Mt})=>{lt.update(jt,{stock:Mt})});const Ks=Ht.map(({order:jt})=>en(Ie(re,"transactions"),{userId:jt.sellerId,type:"Sale",description:`Sale from order ${jt.id}`,amount:jt.totalAmount,date:new Date().toISOString().split("T")[0],status:"Pending",createdAt:Ti(),reference:jt.paymentId}));await Promise.all(Ks)});const Ft=await Promise.all(Gs.map(async({sellerId:lt})=>{const Wt=Ce(re,"wallets",lt),gt=await Je(Wt);return{sellerId:lt,exists:gt.exists(),data:gt.exists()?gt.data():null}}));if(console.log("Seller wallets after update:",Ft),ke.currentUser&&h.saveInfo){const lt=Ce(re,"users",ke.currentUser.uid);await Xt(lt,h,{merge:!0})}es&&kr.length>0&&await X({...es,paymentId:kr[0],items:t.map(lt=>({productId:lt.productId||"unknown",quantity:lt.quantity||0,price:lt.product?.totalPrice||0,name:lt.product?.name||"Unknown",sellerId:lt.product?.sellerId||"unknown",imageUrls:lt.product?.imageUrls||[Es],isDailyDeal:lt.product?.isDailyDeal||!1,discountPercentage:lt.product?.discountPercentage||0}))}),await se(xt,kr,ne,h),await qb(ke.currentUser?.uid),s([]),je.success(n.jsxs("div",{children:[n.jsx("strong",{children:"Payment Successful!"}),n.jsx("p",{children:"Your order has been placed. Check your email for confirmation."})]}),{position:"top-right",autoClose:5e3,style:Gse,icon:n.jsx("i",{className:"bx bx-check-circle text-blue-500 text-xl"})}),r("/order-confirmation",{state:{order:{...es,items:t}}})}catch(Ve){console.error("Checkout error:",Ve),console.log("Logging to Sentry:",Ve),je.error(Ve.message||"Failed to place order. Please try again.",{position:"top-right",autoClose:3e3})}finally{D(!1)}},[t,h,ne,r,G,H,Q]),xe=()=>{je.info("Payment cancelled.",{position:"top-right",autoClose:3e3}),D(!1)},Ee=(be,Ve,st,We)=>{s(Ge=>Ge.map(et=>et.productId===be?{...et,currentImage:Ve,slideDirection:st>We?"right":"left"}:et)),console.log("Cart item image updated:",{itemId:be,url:Ve,direction:st>We?"right":"left"})},$e=(be,Ve)=>{x(st=>({...st,[be]:Ve?st[be]:!1})),b(st=>({...st,[be]:!1})),console.log(`Image ${Ve?"thumbnail":"main"} loaded for productId: ${be}`)},rt=(be,Ve)=>{console.error(`Image load error for productId: ${Ve}`,{imageUrl:be.target.src,productId:Ve}),x(st=>({...st,[Ve]:!1})),b(st=>({...st,[Ve]:!0})),be.target.src=Es};return o?n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ti,{}),n.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Loading..."})]})}):n.jsxs("div",{className:"container mx-auto px-4 py-8 relative mb-20",children:[(R||I)&&n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-40",children:[n.jsx(ti,{}),n.jsx("p",{className:"text-white ml-4",children:I?"Sending confirmation email...":"Processing payment..."})]}),n.jsx("style",{children:`
          @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          .slide-in-right { animation: slideInRight 0.3s ease-in-out forwards; }
          .slide-in-left { animation: slideInLeft 0.3s ease-in-out forwards; }
          .image-zoom:hover { transform: scale(1.05); transition: transform 0.3s ease; }
        `}),n.jsx(Qse,{}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-cart text-blue-600"}),"Checkout"]}),n.jsxs(fe,{to:"/cart",className:"text-blue-600 hover:underline text-sm flex items-center gap-1","aria-label":"Back to Cart",children:[n.jsx("i",{className:"bx bx-arrow-back"}),"Back to Cart"]})]}),t.length===0?n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-gray-600 mb-4",children:["Your cart is empty."," ",n.jsx(fe,{to:"/products",className:"text-blue-600 hover:underline",children:"Continue shopping"})]})}):n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsxs("div",{className:"flex-1 bg-white p-6 rounded-lg shadow-md",ref:V,children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-home text-blue-600"}),"Shipping Details"]}),n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-user absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.name?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.name,"aria-describedby":k.name?"name-error":void 0})]}),k.name&&n.jsx("p",{id:"name-error",className:"text-red-600 text-xs mt-1",children:k.name})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-envelope absolute left-3 top0 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.email?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.email,"aria-describedby":k.email?"email-error":void 0})]}),k.email&&n.jsx("p",{id:"email-error",className:"text-red-600 text-xs mt-1",children:k.email})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Phone ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-phone absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",id:"phone",name:"phone",value:h.phone,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.phone?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.phone,"aria-describedby":k.phone?"phone-error":void 0})]}),k.phone&&n.jsx("p",{id:"phone-error",className:"text-red-600 text-xs mt-1",children:k.phone})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-map absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",id:"address",name:"address",value:h.address,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.address?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.address,"aria-describedby":k.address?"address-error":void 0})]}),k.address&&n.jsx("p",{id:"address-error",className:"text-red-600 text-xs mt-1",children:k.address})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"city",className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:["City ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-city absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",id:"city",name:"city",value:h.city,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.city?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.city,"aria-describedby":k.city?"city-error":void 0})]}),k.city&&n.jsx("p",{id:"city-error",className:"text-red-600 text-xs mt-1",children:k.city})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Postal Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-mail-send absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",id:"postalCode",name:"postalCode",value:h.postalCode,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.postalCode?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.postalCode,"aria-describedby":k.postalCode?"postalcode-error":void 0})]}),k.postalCode&&n.jsx("p",{id:"postalcode-error",className:"text-red-600 text-xs mt-1",children:k.postalCode})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Country ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-world absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsxs("select",{id:"country",name:"country",value:h.country,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.country?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.country,"aria-describedby":k.country?"country-error":void 0,children:[n.jsx("option",{value:"",children:"Select a country"}),n.jsx("option",{value:"Nigeria",children:"Nigeria"}),n.jsx("option",{value:"United Kingdom",children:"United Kingdom"})]})]}),k.country&&n.jsx("p",{id:"country-error",className:"text-red-600 text-xs mt-1",children:k.country})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"saveInfo",name:"saveInfo",checked:h.saveInfo,onChange:de,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:o}),n.jsx("label",{htmlFor:"saveInfo",className:"ml-2 text-sm text-gray-600",children:"Save shipping information for future purchases"})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-package text-blue-600"}),"Cart Items",n.jsxs("span",{className:"ml-2 text-xs text-gray-500 cursor-help relative group","aria-label":"Prices include buyer protection and handling fees.",children:[n.jsx("i",{className:"bx bx-info-circle"}),n.jsx("span",{className:"absolute hidden group-hover:block bg-gray-800 text-white text-xs rounded-lg p-2 -top-10 left-0 w-48 z-10",children:"Prices Overview."})]})]}),t.map(be=>n.jsxs("div",{className:"flex items-start gap-4 mb-4 border-b pb-4",children:[n.jsxs("div",{className:"w-24 h-24 relative overflow-hidden rounded-lg image-zoom",children:[g[be.productId]&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:n.jsx(ti,{size:"small"})}),n.jsx("img",{src:be.currentImage||Es,alt:be.product?.name||"Product Image",className:`absolute w-full h-full object-cover ${be.slideDirection==="right"?"slide-in-right":"slide-in-left"} ${g[be.productId]||y[be.productId]?"opacity-50":"opacity-100"}`,onLoad:()=>$e(be.productId,!1),onError:Ve=>rt(Ve,be.productId),loading:"lazy","aria-label":`Image for ${be.product?.name||"Unknown Product"}`}),y[be.productId]&&n.jsx("div",{className:"absolute bottom-0 left-0 bg-red-600 text-white text-xs px-1 rounded",children:"Image Failed"}),be.product?.isDailyDeal&&n.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1.5 py-0.5 rounded-full text-[10px] font-bold",children:[be.product.discountPercentage,"% OFF"]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-800",children:be.product?.name||"Unknown"}),n.jsx("p",{className:"text-sm text-gray-600",children:n.jsx(lr,{price:(be.product?.totalPrice||0)*(be.quantity||0),currency:ne})}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("label",{htmlFor:`quantity-${be.productId}`,className:"text-sm text-gray-600",children:"Qty:"}),n.jsx("input",{type:"number",id:`quantity-${be.productId}`,value:be.quantity||1,onChange:Ve=>ee(be.productId,parseInt(Ve.target.value)),min:"1",max:be.product?.stock||10,className:"w-16 p-1 border rounded-lg focus:ring-2 focus:ring-blue-500","aria-label":`Quantity for ${be.product?.name||"Unknown"}`})]}),be.product?.imageUrls?.length>1&&n.jsx("div",{className:"flex gap-2 mt-2 overflow-x-auto",children:be.product.imageUrls.map((Ve,st)=>n.jsx("img",{src:Ve,alt:`${be.product?.name||"Unknown"} ${st+1}`,className:`w-10 h-10 object-cover rounded border cursor-pointer ${be.currentImage===Ve?"border-blue-500 border-2":"border-gray-300"} ${g[be.productId]||y[be.productId]?"opacity-50":"opacity-100"}`,onClick:()=>Ee(be.productId,Ve,st,be.product.imageUrls.indexOf(be.currentImage)),onLoad:()=>$e(be.productId,!0),onError:We=>rt(We,be.productId),loading:"lazy"},`${be.productId}-${st}`))})]})]},be.productId))]})]}),n.jsx("div",{className:"w-full lg:w-1/3",children:n.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md sticky top-4",children:[n.jsx("img",{src:Xse,alt:"Accepted payment cards",className:"mb-6 w-auto h-8"}),n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-receipt text-blue-600"}),"Order Summary"]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Total Items"}),n.jsx("span",{children:G})]}),t.map(be=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"truncate w-2/3",children:[be.product?.name||"Unknown"," (x",be.quantity||0,")"]}),n.jsxs("span",{children:[n.jsx(lr,{price:(be.product?.totalPrice||0)*(be.quantity||0),currency:ne}),be.product?.isDailyDeal&&n.jsxs("span",{className:"text-red-600 text-[10px] ml-2",children:[be.product.discountPercentage,"% OFF"]})]})]},be.productId)),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal"}),n.jsx("span",{children:n.jsx(lr,{price:$,currency:ne})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Additional Shipping Fee"}),n.jsx("span",{children:n.jsx(lr,{price:Q,currency:ne})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Shipping"}),n.jsx("span",{className:"text-green-600 font-semibold bg-green-100 px-2 py-1 rounded-full",children:"Free"})]}),n.jsxs("div",{className:"flex justify-between font-bold text-gray-800 border-t pt-2",children:[n.jsx("span",{children:"Grand Total"}),n.jsx("span",{children:n.jsx(lr,{price:Re,currency:ne})})]})]}),te&&n.jsxs("p",{className:"text-yellow-600 text-xs mt-2 bg-yellow-50 p-2 rounded",children:[" Note: Total is below the recommended minimum of ",z.toLocaleString("en-NG"),"."]}),n.jsxs("div",{className:"mt-6 border-t pt-4",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-home text-blue-600"}),"Shipping Information"]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",h.name||"Not provided"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",h.email||"Not provided"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",h.phone||"Not provided"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",h.address||"Not provided"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"City:"})," ",h.city||"Not provided"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Postal Code:"})," ",h.postalCode||"Not provided"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Country:"})," ",h.country||"Not provided"]})]})]}),c&&ue.isValid&&t.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-credit-card text-blue-600"}),"Payment Details"]}),h.country==="United Kingdom"?n.jsx(hO,{stripe:Kse,children:n.jsx(Jse,{totalPrice:Re,formData:h,onSuccess:be=>D(!0),onCancel:xe,currency:ne,setIsProcessing:_})}):h.country==="Nigeria"?n.jsx(fO,{email:h.email,amount:Re*100,onSuccess:be=>D(!0),onClose:xe,disabled:!ue.isValid||t.length===0||o,buttonText:"Complete Purchase",className:`w-full py-3 px-4 rounded-lg text-white text-sm font-medium transition duration-200 shadow transform hover:scale-105 ${!ue.isValid||t.length===0||o?"bg-gray-400 cursor-not-allowed":"bg-[#112d4e] hover:bg-[#0e2740]"}`,iconClass:"bx bx-cart mr-2",sellerId:t[0]?.product?.sellerId||"default-seller-id"}):n.jsx("p",{className:"text-red-600 text-sm",children:"Please select a valid country."})]}),!c&&n.jsxs("div",{className:"mt-4 text-sm text-red-600",children:["Please"," ",n.jsx(fe,{to:"/login",className:"text-blue-600 hover:underline",children:"log in"})," ","to proceed with payment."]})]})})]}),n.jsx(Zse,{isOpen:T,onConfirm:ge,onCancel:xe}),H]})},tre=()=>{const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(null),o=gs();E.useEffect(()=>{const h=async()=>{try{if(!ke.currentUser){i("Please sign in to view your orders."),s(!1);return}const g=mt(Ie(re,"orders"),nt("userId","==",ke.currentUser.uid)),x=await Ke(g),y=await Promise.all(x.docs.map(async b=>{const v=b.data(),N=Array.isArray(v.items)?v.items:[],k=v.total||0,C=v.paymentId||`TRK-${b.id.slice(0,8)}`;let R={sellerId:null,displayName:"Unknown Seller",avatar:null};if(N.length>0&&N[0].productId)try{const _=Ce(re,"products",N[0].productId),I=await Je(_);if(I.exists()){const T=I.data().sellerId;if(T){const D=Ce(re,"users",T),L=await Je(D);if(L.exists()){const F=L.data();R={sellerId:T,displayName:F.displayName||"Unknown Seller",avatar:F.avatar||"https://ui-avatars.com/api/?name=S&background=3b82f6&color=fff&size=40"}}}}}catch(_){console.error("Error fetching seller data:",_.message)}return{orderId:b.id,trackingId:C,total:k,date:v.date||new Date().toISOString(),items:N,seller:R}}));e(y)}catch(g){i(`Failed to load orders: ${g.message}`)}finally{s(!1)}},f=ke.onAuthStateChanged(g=>{g?h():(i("Please sign in to view your orders."),s(!1))});return()=>f()},[]);const l=h=>`${h.toLocaleString("en-NG",{minimumFractionDigits:2})}`,c=h=>{o(`/chat/${h.orderId}`,{state:{sellerId:h.seller.sellerId,productName:h.items[0]?.name||"Product",orderId:h.orderId,role:"buyer"}})},u=h=>{try{return new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Unknown Date"}};return t?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(ti,{}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading orders..."})]}):a?n.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:n.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsx("p",{className:"text-red-600 dark:text-red-400 text-lg font-medium",children:a}),n.jsx(fe,{to:"/login",className:"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-500 font-medium underline transition",children:"Go to Login"})]})}):n.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx(Sd,{}),n.jsx(Xe.div,{className:"md:w-3/4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Your Orders"}),r.length===0?n.jsxs(Xe.p,{initial:{opacity:0},animate:{opacity:1},className:"text-gray-600 dark:text-gray-400",children:["No orders found."," ",n.jsx(fe,{to:"/products",className:"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-500 font-medium underline",children:"Start shopping"})]}):n.jsx("div",{className:"space-y-4",children:n.jsx(Ua,{children:r.map(h=>n.jsxs(Xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"bg-white dark:bg-gray-700 rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:h.seller.avatar,alt:"Seller",className:"w-10 h-10 rounded-full border border-gray-200 dark:border-gray-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-400",children:"Seller"}),n.jsxs("h2",{className:"text-xs text-gray-800 dark:text-gray-100",children:["Order #",h.orderId]})]})]}),n.jsx(Xe.button,{onClick:()=>c(h),whileHover:{scale:1.02},whileTap:{scale:.95},className:"mt-2 sm:mt-0 px-4 py-2 bg-gray-800 text-white rounded-full text-sm font-medium hover:bg-gray-600 dark:bg-amber-500 dark:hover:bg-amber-600 transition",children:"Chat with Seller"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Tracking ID: ",h.trackingId]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Date: ",u(h.date)]})]}),n.jsx("div",{className:"space-y-2",children:h.items.map((f,g)=>n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-300",children:[n.jsxs("span",{children:[f.name," x",f.quantity]}),n.jsx("span",{children:l(f.price*f.quantity)})]},g))})]},h.orderId))})})]})})]})})};function sre(){const[r,e]=E.useState(!0),[t,s]=E.useState(""),[a,i]=E.useState(!1),[o,l]=E.useState(null),[c,u]=E.useState([]),[h,f]=E.useState({street:"",city:"",state:"",country:"",postalCode:""}),[g,x]=E.useState({}),[y,b]=E.useState(null),[v,N]=E.useState(0),[k]=E.useState(3),C="orderHistory_1",R=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,_=()=>{try{const F=localStorage.getItem(C);return F?JSON.parse(F).length:0}catch(F){return console.error("Error getting order count:",F),0}};E.useEffect(()=>{const F=ke.onAuthStateChanged(async O=>{try{if(console.log("Auth state changed at:",new Date().toISOString()),!O){console.log("No user found, redirecting to login"),s("Please sign in to manage your addresses."),i(!0),e(!1);return}console.log("User authenticated, UID:",O.uid);const V=localStorage.getItem("userData");let H={};if(V)try{H=JSON.parse(V),(typeof H.name!="string"||H.name.includes("{"))&&(console.warn("Corrupted name field:",H.name),H.name="Emmanuel Chinecherem"),typeof H.username!="string"&&(H.username="emmaChi")}catch($){console.error("Error parsing userData:",$),H={}}console.log("Fetching Firestore data for UID:",O.uid);const B=Ce(re,"users",O.uid),q=await Je(B);if(!q.exists()){console.warn("User document not found in Firestore:",O.uid),s("User profile not found."),e(!1);return}const ee=q.data();console.log("Firestore data fetched:",ee);const G=ee.addresses||H.addresses||[];l({email:O.email||"test@example.com",username:H.username||O.displayName||"emmaChi",name:H.name||O.displayName||"Emmanuel Chinecherem",profileImage:H.profileImage||null,createdAt:H.createdAt||"2025-05-04T23:28:48.857Z",address:H.address||(G[0]?.street?`${G[0].street}, ${G[0].city}, ${G[0].state}, ${G[0].postalCode}, ${G[0].country}`:"Not provided"),addresses:G,uid:O.uid}),u(G),N(_())}catch(V){console.error("Error in useEffect:",V.message,V.stack),s("Failed to load addresses. Please try again.")}finally{console.log("Setting loading to false at:",new Date().toISOString()),e(!1)}},O=>{console.error("Auth state error:",O),s("Authentication error. Please try again."),e(!1)}),z=()=>N(_());return window.addEventListener("orderPlaced",z),()=>{console.log("Cleaning up useEffect"),F(),window.removeEventListener("orderPlaced",z)}},[]);const I=()=>{const F={};return h.street.trim()||(F.street="Street is required."),h.city.trim()||(F.city="City is required."),h.state.trim()||(F.state="State is required."),h.country.trim()||(F.country="Country is required."),h.postalCode.trim()||(F.postalCode="Postal code is required."),F},P=F=>{const{name:z,value:O}=F.target;f(V=>({...V,[z]:O})),x(V=>({...V,[z]:""}))},T=async F=>{F.preventDefault();const z=I();if(Object.keys(z).length>0){x(z);return}try{e(!0);const O={id:y||R(),street:h.street,city:h.city,state:h.state,country:h.country,postalCode:h.postalCode};let V;y?V=c.map(q=>q.id===y?O:q):V=[...c,O];const H=Ce(re,"users",o.uid);await Xt(H,{addresses:V,address:V[0]?`${V[0].street}, ${V[0].city}, ${V[0].state}, ${V[0].postalCode}, ${V[0].country}`:"Not provided"},{merge:!0});const B={...o,addresses:V,address:V[0]?`${V[0].street}, ${V[0].city}, ${V[0].state}, ${V[0].postalCode}, ${V[0].country}`:"Not provided"};localStorage.setItem("userData",JSON.stringify(B)),u(V),l(B),f({street:"",city:"",state:"",country:"",postalCode:""}),x({}),b(null)}catch(O){console.error("Error saving address:",O),s("Failed to save address. Please try again.")}finally{e(!1)}},D=F=>{f({street:F.street,city:F.city,state:F.state,country:F.country,postalCode:F.postalCode}),b(F.id)},L=async F=>{try{e(!0);const z=c.filter(H=>H.id!==F),O=Ce(re,"users",o.uid);await Xt(O,{addresses:z,address:z[0]?`${z[0].street}, ${z[0].city}, ${z[0].state}, ${z[0].postalCode}, ${z[0].country}`:"Not provided"},{merge:!0});const V={...o,addresses:z,address:z[0]?`${z[0].street}, ${z[0].city}, ${z[0].state}, ${z[0].postalCode}, ${z[0].country}`:"Not provided"};localStorage.setItem("userData",JSON.stringify(V)),u(z),l(V)}catch(z){console.error("Error deleting address:",z),s("Failed to delete address. Please try again.")}finally{e(!1)}};return r?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(ti,{}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-4",children:"Loading..."})]}):t?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:t}),a?n.jsx(fe,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"}):n.jsx("button",{onClick:()=>s(""),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]}):n.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-700",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx(Sd,{userData:o,orderCount:v,wishlistCount:k}),n.jsxs("div",{className:"md:w-3/4",children:[n.jsxs("div",{className:"rounded-lg p-6 mb-6 border border-gray-300 dark:border-gray-300",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Personal Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-300",children:"Username"}),n.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:o.username})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-300",children:"First Name"}),n.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:o.name.split(" ")[0]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-300",children:"Last Name"}),n.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:o.name.split(" ").slice(1).join(" ")||"-"})]})]})]}),n.jsxs("div",{className:"rounded-lg p-6 mb-6 border border-gray-300 dark:border-gray-300",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:y?"Edit Address":"Add New Address"}),n.jsxs("form",{onSubmit:T,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"Street"}),n.jsx("input",{type:"text",name:"street",value:h.street,onChange:P,className:`w-full p-3 border rounded-lg ${g.street?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),g.street&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:g.street})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"City"}),n.jsx("input",{type:"text",name:"city",value:h.city,onChange:P,className:`w-full p-3 border rounded-lg ${g.city?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),g.city&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:g.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"State"}),n.jsx("input",{type:"text",name:"state",value:h.state,onChange:P,className:`w-full p-3 border rounded-lg ${g.state?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),g.state&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:g.state})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"Country"}),n.jsx("input",{type:"text",name:"country",value:h.country,onChange:P,className:`w-full p-3 border rounded-lg ${g.country?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),g.country&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:g.country})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"Postal Code"}),n.jsx("input",{type:"text",name:"postalCode",value:h.postalCode,onChange:P,className:`w-full p-3 border rounded-lg ${g.postalCode?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),g.postalCode&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:g.postalCode})]}),n.jsxs("div",{className:"col-span-1 md:col-span-2",children:[n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",disabled:r,children:y?"Update Address":"Add Address"}),y&&n.jsx("button",{type:"button",onClick:()=>{f({street:"",city:"",state:"",country:"",postalCode:""}),b(null),x({})},className:"ml-2 px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]}),n.jsxs("div",{className:"rounded-lg p-6 border border-gray-300 dark:border-gray-300",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Saved Addresses"}),c.length===0?n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block p-4 rounded-full mb-2 bg-gray-100",children:n.jsx("i",{className:"bx bx-map text-2xl"})}),n.jsx("p",{className:"text-gray-400 dark:text-gray-300",children:"No addresses found!"})]}):n.jsx("div",{className:"space-y-4",children:c.map(F=>n.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:F.street}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[F.city,", ",F.state,", ",F.postalCode,", ",F.country]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>D(F),className:"text-blue-500 hover:text-blue-700",children:n.jsx("i",{className:"bx bx-edit text-lg"})}),n.jsx("button",{onClick:()=>L(F.id),className:"text-red-500 hover:text-red-700",children:n.jsx("i",{className:"bx bx-trash text-lg"})})]})]},F.id))})]})]})]})})}function rre(){const[r,e]=E.useState(!0),[t,s]=E.useState(""),[a,i]=E.useState({name:"",username:"",email:"",country:"",phone:"",address:""}),[o,l]=E.useState(localStorage.getItem("profileImage")||null),[c,u]=E.useState(""),[h,f]=E.useState(""),[g,x]=E.useState(""),[y,b]=E.useState(""),[v,N]=E.useState(!1),[k,C]=E.useState(!1),[R,_]=E.useState(!0),[I,P]=E.useState(localStorage.getItem("theme")||"light"),T=gs(),D="https://via.placeholder.com/150?text=Profile";E.useEffect(()=>{const q=ke.onAuthStateChanged(async ee=>{if(e(!0),!ee){s("Please sign in to edit your profile."),l(null),e(!1);return}try{const G=Ce(re,"users",ee.uid),$=await Je(G);if(!$.exists()){s("User profile not found."),e(!1);return}const Q=$.data(),te=Q.addresses||[],ne=te[0]?.street?`${te[0].street}, ${te[0].city}, ${te[0].state}, ${te[0].postalCode}, ${te[0].country}`:"Not provided";i({name:Q.name||ee.displayName||"Emmanuel Chinecherem",username:Q.username||"emmachi789",email:ee.email||"",country:Q.country||"",phone:Q.phoneNumber||"Not provided",address:ne})}catch(G){s("Failed to load profile data."),console.error("Error loading profile:",G)}finally{e(!1)}});return document.documentElement.classList.toggle("dark",I==="dark"),()=>q()},[I]);const L=q=>{const{name:ee,value:G}=q.target;i($=>({...$,[ee]:G}))},F=q=>{const ee=q.target.files[0];if(ee){if(!ee.type.startsWith("image/")){u("Please upload a valid image file.");return}if(ee.size>5*1024*1024){u("Image size must be less than 5MB.");return}u(""),e(!0);try{const G=new FileReader;G.onload=()=>{const $=G.result;l($),localStorage.setItem("profileImage",$),window.dispatchEvent(new Event("profileImageUpdated")),je.success("Profile image updated successfully!")},G.readAsDataURL(ee)}catch(G){console.error("Error processing image:",G),u("Failed to process image. Please try again.")}finally{e(!1)}}},z=async()=>{b("");const q=ke.currentUser;if(!q){b("Please sign in to change your password.");return}if(!h||!g){b("Please fill in both current and new password fields.");return}if(g.length<6){b("New password must be at least 6 characters long.");return}if(!/[A-Z]/.test(g)||!/[0-9]/.test(g)){b("New password must contain at least one uppercase letter and one number.");return}e(!0);try{const ee=Xl.credential(q.email,h);await b3(q,ee),await n7(q,g),f(""),x(""),je.success("Password updated successfully!")}catch(ee){console.error("Error changing password:",ee),ee.code==="auth/wrong-password"?b("Current password is incorrect."):ee.code==="auth/requires-recent-login"?(b("Please log out and log in again to change your password."),T("/login")):b("Failed to change password. Please try again.")}finally{e(!1)}},O=async()=>{const q=ke.currentUser;if(!q){s("Please sign in to save changes.");return}e(!0);try{const ee=a.address.split(", "),G=ee.length===5?{street:ee[0],city:ee[1],state:ee[2],postalCode:ee[3],country:ee[4]}:{street:a.address,city:"",state:"",postalCode:"",country:a.country};await aa(Ce(re,"users",q.uid),{name:a.name,username:a.username,country:a.country,phoneNumber:a.phone==="Not provided"?"":a.phone,addresses:[G]}),localStorage.setItem("userData",JSON.stringify(a)),window.dispatchEvent(new Event("userDataUpdated")),je.success("Profile updated successfully!")}catch(ee){console.error("Error saving profile:",ee),s("Failed to save profile. Please try again.")}finally{e(!1)}},V=async()=>{e(!0);try{await ke.signOut(),localStorage.removeItem("userData"),localStorage.removeItem("profileImage"),l(null),window.dispatchEvent(new Event("profileImageUpdated")),T("/login"),je.success("Logged out successfully!")}catch(q){console.error("Error logging out:",q),s("Failed to log out. Please try again.")}finally{e(!1)}},H=()=>{const q=I==="light"?"dark":"light";P(q),localStorage.setItem("theme",q),document.documentElement.setAttribute("data-theme",q)},B=()=>o?n.jsx("img",{src:o,alt:"Profile",className:"w-full h-full object-cover",onError:()=>l(D)}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300 text-white text-2xl font-bold uppercase",children:a.email[0]||"?"});return r?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(ti,{}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-4",children:"Loading..."})]}):t?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:t}),n.jsx("button",{onClick:()=>s(""),className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 transition-colors",children:"Retry"})]}):n.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-700",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx(Sd,{}),n.jsxs("div",{className:"md:w-3/4",children:[n.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:"Settings"}),n.jsxs("div",{className:"rounded-lg p-6 dark:bg-gray-800 shadow-md border border-gray-100 dark:border-black",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[n.jsx(Ul,{size:20})," Profile Picture"]}),n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden shadow hover:bg-gray-300 transition-colors duration-300",children:B()}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("label",{className:"cursor-pointer text-blue-600 hover:text-blue-400 flex items-center gap-1",children:[n.jsx(G5,{size:16})," Choose Image",n.jsx("input",{type:"file",accept:"image/*",onChange:F,className:"hidden"})]}),c&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:c})]})]}),n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[n.jsx(Ul,{size:20})," Personal Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Name"}),n.jsx("input",{type:"text",name:"name",value:a.name,onChange:L,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Username"}),n.jsx("input",{type:"text",name:"username",value:a.username,onChange:L,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your username"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Email"}),n.jsx("input",{type:"email",name:"email",value:a.email,onChange:L,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-400",disabled:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Country"}),n.jsx("input",{type:"text",name:"country",value:a.country,onChange:L,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your country"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Phone"}),n.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:L,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your phone number"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Address"}),n.jsx("input",{type:"text",name:"address",value:a.address,onChange:L,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your address"})]})]}),n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[n.jsx($5,{size:20})," Security"]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:v?"text":"password",value:h,onChange:q=>f(q.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter current password"}),n.jsx("button",{onClick:()=>N(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-300",children:v?n.jsx(KP,{size:16}):n.jsx(QP,{size:16})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:k?"text":"password",value:g,onChange:q=>x(q.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter new password"}),n.jsx("button",{onClick:()=>C(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-300",children:k?n.jsx(KP,{size:16}):n.jsx(QP,{size:16})})]})]})]}),y&&n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-2",children:y}),n.jsx("button",{onClick:z,className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 transition-colors",children:"Change Password"})]}),n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[n.jsx(hk,{size:20})," Preferences"]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Email Notifications"}),n.jsx("input",{type:"checkbox",checked:R,onChange:()=>_(!R),className:"h-5 w-5 text-blue-600 dark:bg-gray-700"})]}),n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Theme"}),n.jsxs("button",{onClick:H,className:"px-6 py-2 bg-gray-200 dark:bg-gray-600 rounded-lg shadow hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:[I==="light"?n.jsx(Ree,{size:16,className:"inline mr-1"}):n.jsx(rte,{size:16,className:"inline mr-1"}),I==="light"?"Switch to Dark":"Switch to Light"]})]})]}),n.jsx("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200"}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[n.jsxs("button",{onClick:V,className:"px-3 py-2 bg-gray-900 text-white rounded-lg shadow-md hover:bg-red-900 transition-colors flex items-center gap-1",children:[n.jsx(wee,{size:16})," Log Out"]}),n.jsxs(fe,{to:"/profile",className:"px-6 py-2 bg-gray-300 text-gray-800 rounded-lg shadow-md hover:bg-gray-400 transition-colors dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 flex items-center gap-1",children:[n.jsx(Wc,{size:16})," Cancel"]}),n.jsxs("button",{onClick:O,className:"px-3 py-2 bg-gray-700 text-white rounded-lg shadow-md hover:bg-gray-800 transition-colors flex items-center gap-1",children:[n.jsx(Hee,{size:16})," Save Changes"]})]}),t&&n.jsx("p",{className:"text-red-600 dark:text-red-400 mt-2",children:t})]})]})]})})}function are({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-gray-200 hover:text-white",children:""})]},t.id))})}function nre(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function ire(){const{alerts:r,addAlert:e,removeAlert:t}=nre(),[s,a]=E.useState(null),[i,o]=E.useState(!0),l=Xr();return E.useEffect(()=>{(async()=>{try{let h=new URLSearchParams(l.search).get("orderId")||l.state?.order?.id;if(console.log("Attempting to fetch order with ID:",h),!h){console.warn("No orderId provided in query params or state"),e("Order not found. Please check your link or contact support.","error"),o(!1);return}if(!h.startsWith("order-")){console.warn("Invalid orderId format:",h),e("Invalid order ID. Please contact support.","error"),o(!1);return}let f=null,g=3;for(;g>0;)try{const x=Ce(re,"orders",h),y=await Je(x);if(y.exists()){f={id:y.id,...y.data()},console.log("Order found:",f);break}console.warn(`Order ${h} not found on attempt ${4-g}`),g--,g>0&&await new Promise(b=>setTimeout(b,1e3))}catch(x){if(console.error("Firestore fetch error:",x),g--,g===0)throw x;await new Promise(y=>setTimeout(y,1e3))}if(!f&&h.includes("-")){const x=h.split("-").slice(0,2).join("-");console.log("Trying base orderId:",x);const y=mt(Ie(re,"orders"),nt("id","==",x)),b=await Ke(y);if(!b.empty){const v=b.docs[0];f={id:v.id,...v.data()},console.log("Found order with base ID:",f),h=v.id}}if(!f&&l.state?.order&&(console.log("Using state.order as fallback:",l.state.order),f={...l.state.order,id:h},e("Order loaded from session. Some details may be incomplete.","info")),!f){console.error("No order data found for ID:",h),e("Order not found. Please contact support at support@foremade.com.","error"),o(!1);return}a(f)}catch(u){console.error("Error fetching order:",{message:u.message,stack:u.stack}),e("Failed to load order. Please try again or contact support.","error")}finally{o(!1)}})()},[l,e]),i?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:n.jsxs("div",{className:"flex gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})}):s?n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 py-8",children:[n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-check-circle text-green-500"}),"Order Confirmation"]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:["Order #",s.id]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Thank you for your purchase! Your order has been successfully placed."}),n.jsx("div",{className:"space-y-4",children:s.items.map((c,u)=>n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[n.jsx("img",{src:c.imageUrls?.[0]||"https://via.placeholder.com/150",alt:c.name||"Product",className:"w-16 h-16 object-cover rounded",onError:h=>{h.target.src="https://via.placeholder.com/150"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-100",children:c.name||"Unknown Product"}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Quantity: ",c.quantity||1]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Price: ",s.currency==="gbp"?"":"",((c.price||0)*(c.quantity||1)).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},u))}),n.jsxs("div",{className:"mt-6 border-t border-gray-200 dark:border-gray-600 pt-4",children:[n.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"Subtotal"}),n.jsxs("span",{children:[s.currency==="gbp"?"":"",(s.totalAmount||s.total||0).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between font-semibold text-gray-800 dark:text-gray-100 mt-2",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:[s.currency==="gbp"?"":"",(s.totalAmount||s.total||0).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Shipping Details"}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:[s.shippingDetails?.name||"Not provided",n.jsx("br",{}),s.shippingDetails?.address||"Not provided",n.jsx("br",{}),s.shippingDetails?.city||"",s.shippingDetails?.city&&s.shippingDetails?.postalCode?", ":"",s.shippingDetails?.postalCode||"",n.jsx("br",{}),s.shippingDetails?.country||"Not provided",n.jsx("br",{}),n.jsx("strong",{children:"Email:"})," ",s.shippingDetails?.email||"Not provided",n.jsx("br",{}),n.jsx("strong",{children:"Phone:"})," ",s.shippingDetails?.phone||"Not provided"]})]})]})]}),n.jsx(are,{alerts:r,removeAlert:t})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:n.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-error-circle text-4xl text-red-500 mb-2"}),n.jsxs("p",{children:["Order not found. Please contact ",n.jsx("a",{href:"mailto:support@foremade.com",className:"text-blue-600 hover:underline",children:"support@foremade.com"}),"."]})]})})}function js(){const[r,e]=E.useState(!1),[t,s]=E.useState(""),a=()=>{e(!r)},i=E.useCallback(kd(u=>{s(u)},300),[]),o=u=>{i(u.target.value)},c=[{to:"/dashboard",label:"Dashboard",icon:PN,category:"Dashboard"},{to:"/sellers/orders",label:"Orders",icon:Gee,category:"Order Management"},{to:"/sellers/products",label:"Products List",icon:H5,category:"Product Management"},{to:"/products-gallery",label:"Products Gallery",icon:$c,category:"Product Management"},{to:"/products-upload",label:"Upload Products",icon:G5,category:"Product Management"},{to:"/product-bump",label:"Product Bump",icon:fd,category:"Product Management"},{to:"/pro-seller-analytics",label:"Pro Analytics",icon:Hf,category:"Product Management"},{to:"/pro-seller-guide",label:"Pro Seller",icon:z5,category:"Registering with us"},{to:"/seller-onboarding",label:"Standard Seller",icon:Jee,category:"Registering with us"},{to:"/smile",label:"Wallet",icon:Fu,category:"Your wallet"},{to:"/seller-transactions",label:"Transactions",icon:Hf,category:"Your wallet"},{to:"/seller-chat",label:"Chats",icon:Tee,category:"Chat"}].filter(u=>u.label.toLowerCase().includes(t.toLowerCase()));return n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"md:hidden fixed top-4 left-4 z-50 p-2 text-black bg-blue-900 rounded-lg hover:bg-blue-900 transition",onClick:a,"aria-label":"Open sidebar",children:n.jsx(W5,{className:"w-6 h-6"})}),n.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-gradient-to-b from-gray-900 to-gray-800 text-white flex flex-col z-50 md:w-64 md:flex md:flex-col transition-transform duration-300 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 max-h-[calc(100vh)] overflow-y-auto`,children:[n.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[n.jsx(fe,{to:"/",onClick:()=>e(!1),"aria-label":"Foremade homepage",children:n.jsx("img",{src:Rg,alt:"Foremade logo",className:"w-32"})}),n.jsx("button",{className:"md:hidden p-2 text-gray-300 hover:text-white",onClick:a,"aria-label":"Close sidebar",children:n.jsx(Wc,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"p-4 sticky top-0 bg-gray-800 z-10",children:n.jsx("input",{type:"text",placeholder:"Search menu...",onChange:o,className:"w-full p-2 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm","aria-label":"Search menu items"})}),n.jsx("nav",{className:"flex-1 p-2 space-y-3",children:t&&c.length===0?n.jsx("p",{className:"text-gray-400 text-sm px-2",children:"No menu items found"}):n.jsxs(n.Fragment,{children:[c.some(u=>u.category==="Dashboard")&&n.jsxs(fe,{to:"/dashboard",onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg bg-gray-700 text-white font-semibold hover:bg-gray-600 transition","aria-label":"Dashboard",children:[n.jsx(PN,{className:"w-5 h-5 mr-2"}),"Dashboard"]}),c.some(u=>u.category==="Order Management")&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Order Management"}),c.filter(u=>u.category==="Order Management").map(u=>n.jsxs(fe,{to:u.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":u.label,children:[n.jsx(u.icon,{className:"w-5 h-5 mr-2"}),u.label]},u.to))]}),c.some(u=>u.category==="Product Management")&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Product Management"}),c.filter(u=>u.category==="Product Management").map(u=>n.jsxs(fe,{to:u.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":u.label,children:[n.jsx(u.icon,{className:"w-5 h-5 mr-2"}),u.label]},u.to))]}),c.some(u=>u.category==="Registering with us")&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Registering with us"}),c.filter(u=>u.category==="Registering with us").map(u=>n.jsxs(fe,{to:u.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":u.label,children:[n.jsx(u.icon,{className:"w-5 h-5 mr-2"}),u.label]},u.to))]}),c.some(u=>u.category==="Your wallet")&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Your wallet"}),c.filter(u=>u.category==="Your wallet").map(u=>n.jsxs(fe,{to:u.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":u.label,children:[n.jsx(u.icon,{className:"w-5 h-5 mr-2"}),u.label]},u.to))]}),c.some(u=>u.category==="Chat")&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Chat"}),c.filter(u=>u.category==="Chat").map(u=>n.jsxs(fe,{to:u.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":u.label,children:[n.jsx(u.icon,{className:"w-5 h-5 mr-2"}),u.label]},u.to))]})]})})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:a,"aria-hidden":"true"})]})}function ore(){const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(""),[o,l]=E.useState(null),c=gs();E.useEffect(()=>{const g=ri(ke,async x=>{if(x)try{console.log("Starting orders fetch for seller at:",new Date().toISOString()),console.log("Authenticated seller UID:",x.uid);const y=Ie(re,"products"),b=await Ke(y);console.log("Products snapshot received, count:",b.docs.length);const v=b.docs.map(_=>({id:_.id,..._.data()})).filter(_=>_.sellerId===x.uid);if(console.log("Seller products fetched, count:",v.length),v.length===0){console.log("No products found for this seller."),e([]),s(!1);return}const N=v.map(_=>_.id);console.log("Seller product IDs:",N);const k=Ie(re,"orders"),C=await Ke(k);console.log("Orders snapshot received, count:",C.docs.length);const R=C.docs.map(_=>({id:_.id,..._.data(),total:Array.isArray(_.data().items)?_.data().items.filter(I=>N.includes(I.productId)).reduce((I,P)=>I+(P.price||0)*(P.quantity||0),0):0})).filter(_=>_.items.some(I=>N.includes(I.productId))).map(_=>{const P=(Array.isArray(_.items)?_.items:[]).filter(T=>N.includes(T.productId));return{..._,items:P.map(T=>({productId:T.productId,name:T.name||"Unknown",quantity:T.quantity||0,price:T.price||0,sellerId:T.sellerId}))}}).sort((_,I)=>{const P=_.createdAt?.toDate()||new Date(0);return(I.createdAt?.toDate()||new Date(0))-P});console.log("Filtered orders for seller, count:",R.length),e(R)}catch(y){console.error("Firestore fetch error:",{code:y.code,message:y.message,stack:y.stack}),i(`Failed to fetch user orders: ${y.message}.`)}else console.warn("No seller authenticated"),i("Please log in to view user orders."),c("/seller/login");s(!1)},x=>{console.error("Auth state error:",{code:x.code,message:x.message,stack:x.stack}),i("Authentication error: "+x.message),s(!1)});return()=>g()},[c]);const u=g=>{l(o===g?null:g)},h=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",f=(g,x)=>new Intl.NumberFormat("en-US",{style:"currency",currency:x||"NGN"}).format(g||0);return t?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):a?n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(js,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6 font-serif",children:n.jsxs("div",{className:"max-w-4xl mx-auto bg-red-100 border-l-4 border-red-500 p-4 rounded-lg animate-fade-in",children:[n.jsx("p",{className:"text-red-700",children:a}),n.jsx("p",{className:"mt-2",children:n.jsx(fe,{to:"/seller/login",className:"text-blue-600 hover:underline",children:"Return to Login"})})]})})]}):n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(js,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-4",children:n.jsxs("div",{className:"max-w-8xl mx-auto bg-white border border-gray-200 rounded-xl shadow-sm p-8 bg-gradient-to-br from-gray-50 to-white",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Your Orders"})}),r.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600 text-lg",children:"No orders found."}),n.jsx("p",{className:"mt-2",children:n.jsx(fe,{to:"/products-upload",className:"text-blue-600 hover:underline",children:"Upload products to start receiving orders"})})]}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full text-left border-collapse hidden md:table",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Order ID"}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Customer"}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Date"}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Total"}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Status"}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Details"})]})}),n.jsx("tbody",{children:r.map(g=>n.jsxs(as.Fragment,{children:[n.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[n.jsx("td",{className:"p-3 text-sm",children:g.orderId||g.id}),n.jsx("td",{className:"p-3 text-sm",children:g.shippingDetails?.name||"N/A"}),n.jsx("td",{className:"p-3 text-sm",children:h(g.createdAt)}),n.jsx("td",{className:"p-3 text-sm",children:f(g.total,g.currency)}),n.jsx("td",{className:"p-3 text-sm",children:n.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Placed"})}),n.jsx("td",{className:"p-3 text-sm",children:n.jsx("button",{onClick:()=>u(g.id),className:"text-blue-600 hover:underline",children:o===g.id?"Hide":"Show"})})]}),o===g.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"p-3 bg-gray-50",children:n.jsxs("div",{className:"pl-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Items"}),g.items&&g.items.length>0?n.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-600",children:g.items.map((x,y)=>n.jsxs("li",{children:[x.name," x",x.quantity," - ",f(x.price*x.quantity,g.currency)]},y))}):n.jsx("p",{className:"text-sm text-gray-600",children:"No items"})]})})})]},g.id))})]}),n.jsx("div",{className:"md:hidden space-y-4",children:r.map(g=>n.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 hover:bg-gray-100",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Order ID:"}),n.jsx("span",{className:"text-sm",children:g.orderId||g.id})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Customer:"}),n.jsx("span",{className:"text-sm",children:g.shippingDetails?.name||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Date:"}),n.jsx("span",{className:"text-sm",children:h(g.createdAt)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total:"}),n.jsx("span",{className:"text-sm",children:f(g.total,g.currency)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Status:"}),n.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Placed"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Details:"}),n.jsx("button",{onClick:()=>u(g.id),className:"text-blue-600 hover:underline text-sm",children:o===g.id?"Hide":"Show"})]}),o===g.id&&n.jsxs("div",{className:"mt-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Items"}),g.items&&g.items.length>0?n.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-600",children:g.items.map((x,y)=>n.jsxs("li",{children:[x.name," x",x.quantity," - ",f(x.price*x.quantity,g.currency)]},y))}):n.jsx("p",{className:"text-sm text-gray-600",children:"No items"})]})]})},g.id))})]})]})})]})}function lre(){return n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(js,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 flex flex-col p-6",children:n.jsx("div",{className:"",children:n.jsx("p",{children:" Seller Settings"})})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ig(r){return r+.5|0}const bl=(r,e,t)=>Math.max(Math.min(r,t),e);function Xm(r){return bl(Ig(r*2.55),0,255)}function Al(r){return bl(Ig(r*255),0,255)}function wo(r){return bl(Ig(r/2.55)/100,0,1)}function yR(r){return bl(Ig(r*100),0,100)}const Dn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ON=[..."0123456789ABCDEF"],cre=r=>ON[r&15],dre=r=>ON[(r&240)>>4]+ON[r&15],wx=r=>(r&240)>>4===(r&15),ure=r=>wx(r.r)&&wx(r.g)&&wx(r.b)&&wx(r.a);function hre(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&Dn[r[1]]*17,g:255&Dn[r[2]]*17,b:255&Dn[r[3]]*17,a:e===5?Dn[r[4]]*17:255}:(e===7||e===9)&&(t={r:Dn[r[1]]<<4|Dn[r[2]],g:Dn[r[3]]<<4|Dn[r[4]],b:Dn[r[5]]<<4|Dn[r[6]],a:e===9?Dn[r[7]]<<4|Dn[r[8]]:255})),t}const mre=(r,e)=>r<255?e(r):"";function fre(r){var e=ure(r)?cre:dre;return r?"#"+e(r.r)+e(r.g)+e(r.b)+mre(r.a,e):void 0}const gre=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gO(r,e,t){const s=e*Math.min(t,1-t),a=(i,o=(i+r/30)%12)=>t-s*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function pre(r,e,t){const s=(a,i=(a+r/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function xre(r,e,t){const s=gO(r,1,.5);let a;for(e+t>1&&(a=1/(e+t),e*=a,t*=a),a=0;a<3;a++)s[a]*=1-e-t,s[a]+=e;return s}function bre(r,e,t,s,a){return r===a?(e-t)/s+(e<t?6:0):e===a?(t-r)/s+2:(r-e)/s+4}function mk(r){const t=r.r/255,s=r.g/255,a=r.b/255,i=Math.max(t,s,a),o=Math.min(t,s,a),l=(i+o)/2;let c,u,h;return i!==o&&(h=i-o,u=l>.5?h/(2-i-o):h/(i+o),c=bre(t,s,a,h,i),c=c*60+.5),[c|0,u||0,l]}function fk(r,e,t,s){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,s)).map(Al)}function gk(r,e,t){return fk(gO,r,e,t)}function yre(r,e,t){return fk(xre,r,e,t)}function vre(r,e,t){return fk(pre,r,e,t)}function pO(r){return(r%360+360)%360}function wre(r){const e=gre.exec(r);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?Xm(+e[5]):Al(+e[5]));const a=pO(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=yre(a,i,o):e[1]==="hsv"?s=vre(a,i,o):s=gk(a,i,o),{r:s[0],g:s[1],b:s[2],a:t}}function Nre(r,e){var t=mk(r);t[0]=pO(t[0]+e),t=gk(t),r.r=t[0],r.g=t[1],r.b=t[2]}function jre(r){if(!r)return;const e=mk(r),t=e[0],s=yR(e[1]),a=yR(e[2]);return r.a<255?`hsla(${t}, ${s}%, ${a}%, ${wo(r.a)})`:`hsl(${t}, ${s}%, ${a}%)`}const vR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function kre(){const r={},e=Object.keys(wR),t=Object.keys(vR);let s,a,i,o,l;for(s=0;s<e.length;s++){for(o=l=e[s],a=0;a<t.length;a++)i=t[a],l=l.replace(i,vR[i]);i=parseInt(wR[o],16),r[l]=[i>>16&255,i>>8&255,i&255]}return r}let Nx;function Sre(r){Nx||(Nx=kre(),Nx.transparent=[0,0,0,0]);const e=Nx[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const _re=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Are(r){const e=_re.exec(r);let t=255,s,a,i;if(e){if(e[7]!==s){const o=+e[7];t=e[8]?Xm(o):bl(o*255,0,255)}return s=+e[1],a=+e[3],i=+e[5],s=255&(e[2]?Xm(s):bl(s,0,255)),a=255&(e[4]?Xm(a):bl(a,0,255)),i=255&(e[6]?Xm(i):bl(i,0,255)),{r:s,g:a,b:i,a:t}}}function Cre(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${wo(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const Gw=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,fu=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function Ere(r,e,t){const s=fu(wo(r.r)),a=fu(wo(r.g)),i=fu(wo(r.b));return{r:Al(Gw(s+t*(fu(wo(e.r))-s))),g:Al(Gw(a+t*(fu(wo(e.g))-a))),b:Al(Gw(i+t*(fu(wo(e.b))-i))),a:r.a+t*(e.a-r.a)}}function jx(r,e,t){if(r){let s=mk(r);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=gk(s),r.r=s[0],r.g=s[1],r.b=s[2]}}function xO(r,e){return r&&Object.assign(e||{},r)}function NR(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=Al(r[3]))):(e=xO(r,{r:0,g:0,b:0,a:1}),e.a=Al(e.a)),e}function Tre(r){return r.charAt(0)==="r"?Are(r):wre(r)}class $f{constructor(e){if(e instanceof $f)return e;const t=typeof e;let s;t==="object"?s=NR(e):t==="string"&&(s=hre(e)||Sre(e)||Tre(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=xO(this._rgb);return e&&(e.a=wo(e.a)),e}set rgb(e){this._rgb=NR(e)}rgbString(){return this._valid?Cre(this._rgb):void 0}hexString(){return this._valid?fre(this._rgb):void 0}hslString(){return this._valid?jre(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,a=e.rgb;let i;const o=t===i?.5:t,l=2*o-1,c=s.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,s.r=255&u*s.r+i*a.r+.5,s.g=255&u*s.g+i*a.g+.5,s.b=255&u*s.b+i*a.b+.5,s.a=o*s.a+(1-o)*a.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=Ere(this._rgb,e._rgb,t)),this}clone(){return new $f(this.rgb)}alpha(e){return this._rgb.a=Al(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ig(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return jx(this._rgb,2,e),this}darken(e){return jx(this._rgb,2,-e),this}saturate(e){return jx(this._rgb,1,e),this}desaturate(e){return jx(this._rgb,1,-e),this}rotate(e){return Nre(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xo(){}const Pre=(()=>{let r=0;return()=>r++})();function Ts(r){return r==null}function ra(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function fs(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function Bn(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function ji(r,e){return Bn(r)?r:e}function Qt(r,e){return typeof r>"u"?e:r}const Rre=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,bO=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function ir(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function Vs(r,e,t,s){let a,i,o;if(ra(r))for(i=r.length,a=0;a<i;a++)e.call(t,r[a],a);else if(fs(r))for(o=Object.keys(r),i=o.length,a=0;a<i;a++)e.call(t,r[o[a]],o[a])}function q0(r,e){let t,s,a,i;if(!r||!e||r.length!==e.length)return!1;for(t=0,s=r.length;t<s;++t)if(a=r[t],i=e[t],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function X0(r){if(ra(r))return r.map(X0);if(fs(r)){const e=Object.create(null),t=Object.keys(r),s=t.length;let a=0;for(;a<s;++a)e[t[a]]=X0(r[t[a]]);return e}return r}function yO(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function Ire(r,e,t,s){if(!yO(r))return;const a=e[r],i=t[r];fs(a)&&fs(i)?Wf(a,i,s):e[r]=X0(i)}function Wf(r,e,t){const s=ra(e)?e:[e],a=s.length;if(!fs(r))return r;t=t||{};const i=t.merger||Ire;let o;for(let l=0;l<a;++l){if(o=s[l],!fs(o))continue;const c=Object.keys(o);for(let u=0,h=c.length;u<h;++u)i(c[u],r,o,t)}return r}function pf(r,e){return Wf(r,e,{merger:Dre})}function Dre(r,e,t){if(!yO(r))return;const s=e[r],a=t[r];fs(s)&&fs(a)?pf(s,a):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=X0(a))}const jR={"":r=>r,x:r=>r.x,y:r=>r.y};function Mre(r){const e=r.split("."),t=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function Ore(r){const e=Mre(r);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function gd(r,e){return(jR[e]||(jR[e]=Ore(e)))(r)}function pk(r){return r.charAt(0).toUpperCase()+r.slice(1)}const Yf=r=>typeof r<"u",Vl=r=>typeof r=="function",kR=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function Lre(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const er=Math.PI,yr=2*er,Fre=yr+er,G0=Number.POSITIVE_INFINITY,Ure=er/180,Wr=er/2,_c=er/4,SR=er*2/3,vO=Math.log10,Hi=Math.sign;function xf(r,e,t){return Math.abs(r-e)<t}function _R(r){const e=Math.round(r);r=xf(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(vO(r))),s=r/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function zre(r){const e=[],t=Math.sqrt(r);let s;for(s=1;s<t;s++)r%s===0&&(e.push(s),e.push(r/s));return t===(t|0)&&e.push(t),e.sort((a,i)=>a-i).pop(),e}function Vre(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function qf(r){return!Vre(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function Bre(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function Hre(r,e,t){let s,a,i;for(s=0,a=r.length;s<a;s++)i=r[s][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ko(r){return r*(er/180)}function $re(r){return r*(180/er)}function AR(r){if(!Bn(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function wO(r,e){const t=e.x-r.x,s=e.y-r.y,a=Math.sqrt(t*t+s*s);let i=Math.atan2(s,t);return i<-.5*er&&(i+=yr),{angle:i,distance:a}}function LN(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function Wre(r,e){return(r-e+Fre)%yr-er}function Gn(r){return(r%yr+yr)%yr}function Xf(r,e,t,s){const a=Gn(r),i=Gn(e),o=Gn(t),l=Gn(i-a),c=Gn(o-a),u=Gn(a-i),h=Gn(a-o);return a===i||a===o||s&&i===o||l>c&&u<h}function ka(r,e,t){return Math.max(e,Math.min(t,r))}function Yre(r){return ka(r,-32768,32767)}function yl(r,e,t,s=1e-6){return r>=Math.min(e,t)-s&&r<=Math.max(e,t)+s}function xk(r,e,t){t=t||(o=>r[o]<e);let s=r.length-1,a=0,i;for(;s-a>1;)i=a+s>>1,t(i)?a=i:s=i;return{lo:a,hi:s}}const Yc=(r,e,t,s)=>xk(r,t,s?a=>{const i=r[a][e];return i<t||i===t&&r[a+1][e]===t}:a=>r[a][e]<t),qre=(r,e,t)=>xk(r,t,s=>r[s][e]>=t);function Xre(r,e,t){let s=0,a=r.length;for(;s<a&&r[s]<e;)s++;for(;a>s&&r[a-1]>t;)a--;return s>0||a<r.length?r.slice(s,a):r}const NO=["push","pop","shift","splice","unshift"];function Gre(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),NO.forEach(t=>{const s="_onData"+pk(t),a=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return r._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...i)}),o}})})}function CR(r,e){const t=r._chartjs;if(!t)return;const s=t.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(NO.forEach(i=>{delete r[i]}),delete r._chartjs)}function jO(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const kO=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function SO(r,e){let t=[],s=!1;return function(...a){t=a,s||(s=!0,kO.call(window,()=>{s=!1,r.apply(e,t)}))}}function Kre(r,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(r,e,s)):r.apply(this,s),e}}const _O=r=>r==="start"?"left":r==="end"?"right":"center",fn=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,Qre=(r,e,t,s)=>r===(s?"left":"right")?t:r==="center"?(e+t)/2:e;function Zre(r,e,t){const s=e.length;let a=0,i=s;if(r._sorted){const{iScale:o,vScale:l,_parsed:c}=r,u=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,h=o.axis,{min:f,max:g,minDefined:x,maxDefined:y}=o.getUserBounds();if(x){if(a=Math.min(Yc(c,h,f).lo,t?s:Yc(e,h,o.getPixelForValue(f)).lo),u){const b=c.slice(0,a+1).reverse().findIndex(v=>!Ts(v[l.axis]));a-=Math.max(0,b)}a=ka(a,0,s-1)}if(y){let b=Math.max(Yc(c,o.axis,g,!0).hi+1,t?0:Yc(e,h,o.getPixelForValue(g),!0).hi+1);if(u){const v=c.slice(b-1).findIndex(N=>!Ts(N[l.axis]));b+=Math.max(0,v)}i=ka(b,a,s)-a}else i=s-a}return{start:a,count:i}}function Jre(r){const{xScale:e,yScale:t,_scaleRanges:s}=r,a={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return r._scaleRanges=a,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,a),i}const kx=r=>r===0||r===1,ER=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*yr/t)),TR=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*yr/t)+1,bf={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Wr)+1,easeOutSine:r=>Math.sin(r*Wr),easeInOutSine:r=>-.5*(Math.cos(er*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>kx(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>kx(r)?r:ER(r,.075,.3),easeOutElastic:r=>kx(r)?r:TR(r,.075,.3),easeInOutElastic(r){return kx(r)?r:r<.5?.5*ER(r*2,.1125,.45):.5+.5*TR(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-bf.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?bf.easeInBounce(r*2)*.5:bf.easeOutBounce(r*2-1)*.5+.5};function bk(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function PR(r){return bk(r)?r:new $f(r)}function Kw(r){return bk(r)?r:new $f(r).saturate(.5).darken(.1).hexString()}const eae=["x","y","borderWidth","radius","tension"],tae=["color","borderColor","backgroundColor"];function sae(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:tae},numbers:{type:"number",properties:eae}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function rae(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const RR=new Map;function aae(r,e){e=e||{};const t=r+JSON.stringify(e);let s=RR.get(t);return s||(s=new Intl.NumberFormat(r,e),RR.set(t,s)),s}function yk(r,e,t){return aae(e,t).format(r)}const nae={values(r){return ra(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const s=this.chart.options.locale;let a,i=r;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),i=iae(r,t)}const o=vO(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),yk(r,s,c)}};function iae(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var AO={formatters:nae};function oae(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:AO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const pd=Object.create(null),FN=Object.create(null);function yf(r,e){if(!e)return r;const t=e.split(".");for(let s=0,a=t.length;s<a;++s){const i=t[s];r=r[i]||(r[i]=Object.create(null))}return r}function Qw(r,e,t){return typeof e=="string"?Wf(yf(r,e),t):Wf(yf(r,""),e)}class lae{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>Kw(a.backgroundColor),this.hoverBorderColor=(s,a)=>Kw(a.borderColor),this.hoverColor=(s,a)=>Kw(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Qw(this,e,t)}get(e){return yf(this,e)}describe(e,t){return Qw(FN,e,t)}override(e,t){return Qw(pd,e,t)}route(e,t,s,a){const i=yf(this,e),o=yf(this,s),l="_"+t;Object.defineProperties(i,{[l]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],u=o[a];return fs(c)?Object.assign({},u,c):Qt(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var Tr=new lae({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[sae,rae,oae]);function cae(r){return!r||Ts(r.size)||Ts(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function IR(r,e,t,s,a){let i=e[a];return i||(i=e[a]=r.measureText(a).width,t.push(a)),i>s&&(s=i),s}function Ac(r,e,t){const s=r.currentDevicePixelRatio,a=t!==0?Math.max(t/2,.5):0;return Math.round((e-a)*s)/s+a}function DR(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function UN(r,e,t,s){CO(r,e,t,s,null)}function CO(r,e,t,s,a){let i,o,l,c,u,h,f,g;const x=e.pointStyle,y=e.rotation,b=e.radius;let v=(y||0)*Ure;if(x&&typeof x=="object"&&(i=x.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){r.save(),r.translate(t,s),r.rotate(v),r.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),r.restore();return}if(!(isNaN(b)||b<=0)){switch(r.beginPath(),x){default:a?r.ellipse(t,s,a/2,b,0,0,yr):r.arc(t,s,b,0,yr),r.closePath();break;case"triangle":h=a?a/2:b,r.moveTo(t+Math.sin(v)*h,s-Math.cos(v)*b),v+=SR,r.lineTo(t+Math.sin(v)*h,s-Math.cos(v)*b),v+=SR,r.lineTo(t+Math.sin(v)*h,s-Math.cos(v)*b),r.closePath();break;case"rectRounded":u=b*.516,c=b-u,o=Math.cos(v+_c)*c,f=Math.cos(v+_c)*(a?a/2-u:c),l=Math.sin(v+_c)*c,g=Math.sin(v+_c)*(a?a/2-u:c),r.arc(t-f,s-l,u,v-er,v-Wr),r.arc(t+g,s-o,u,v-Wr,v),r.arc(t+f,s+l,u,v,v+Wr),r.arc(t-g,s+o,u,v+Wr,v+er),r.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*b,h=a?a/2:c,r.rect(t-h,s-c,2*h,2*c);break}v+=_c;case"rectRot":f=Math.cos(v)*(a?a/2:b),o=Math.cos(v)*b,l=Math.sin(v)*b,g=Math.sin(v)*(a?a/2:b),r.moveTo(t-f,s-l),r.lineTo(t+g,s-o),r.lineTo(t+f,s+l),r.lineTo(t-g,s+o),r.closePath();break;case"crossRot":v+=_c;case"cross":f=Math.cos(v)*(a?a/2:b),o=Math.cos(v)*b,l=Math.sin(v)*b,g=Math.sin(v)*(a?a/2:b),r.moveTo(t-f,s-l),r.lineTo(t+f,s+l),r.moveTo(t+g,s-o),r.lineTo(t-g,s+o);break;case"star":f=Math.cos(v)*(a?a/2:b),o=Math.cos(v)*b,l=Math.sin(v)*b,g=Math.sin(v)*(a?a/2:b),r.moveTo(t-f,s-l),r.lineTo(t+f,s+l),r.moveTo(t+g,s-o),r.lineTo(t-g,s+o),v+=_c,f=Math.cos(v)*(a?a/2:b),o=Math.cos(v)*b,l=Math.sin(v)*b,g=Math.sin(v)*(a?a/2:b),r.moveTo(t-f,s-l),r.lineTo(t+f,s+l),r.moveTo(t+g,s-o),r.lineTo(t-g,s+o);break;case"line":o=a?a/2:Math.cos(v)*b,l=Math.sin(v)*b,r.moveTo(t-o,s-l),r.lineTo(t+o,s+l);break;case"dash":r.moveTo(t,s),r.lineTo(t+Math.cos(v)*(a?a/2:b),s+Math.sin(v)*b);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function Gf(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function vk(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function wk(r){r.restore()}function dae(r,e,t,s,a){if(!e)return r.lineTo(t.x,t.y);if(a==="middle"){const i=(e.x+t.x)/2;r.lineTo(i,e.y),r.lineTo(i,t.y)}else a==="after"!=!!s?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function uae(r,e,t,s){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function hae(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),Ts(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function mae(r,e,t,s,a){if(a.strikethrough||a.underline){const i=r.measureText(s),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=t-i.actualBoundingBoxAscent,u=t+i.actualBoundingBoxDescent,h=a.strikethrough?(c+u)/2:u;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=a.decorationWidth||2,r.moveTo(o,h),r.lineTo(l,h),r.stroke()}}function fae(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function K0(r,e,t,s,a,i={}){const o=ra(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(r.save(),r.font=a.string,hae(r,i),c=0;c<o.length;++c)u=o[c],i.backdrop&&fae(r,i.backdrop),l&&(i.strokeColor&&(r.strokeStyle=i.strokeColor),Ts(i.strokeWidth)||(r.lineWidth=i.strokeWidth),r.strokeText(u,t,s,i.maxWidth)),r.fillText(u,t,s,i.maxWidth),mae(r,t,s,u,i),s+=Number(a.lineHeight);r.restore()}function Q0(r,e){const{x:t,y:s,w:a,h:i,radius:o}=e;r.arc(t+o.topLeft,s+o.topLeft,o.topLeft,1.5*er,er,!0),r.lineTo(t,s+i-o.bottomLeft),r.arc(t+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,er,Wr,!0),r.lineTo(t+a-o.bottomRight,s+i),r.arc(t+a-o.bottomRight,s+i-o.bottomRight,o.bottomRight,Wr,0,!0),r.lineTo(t+a,s+o.topRight),r.arc(t+a-o.topRight,s+o.topRight,o.topRight,0,-Wr,!0),r.lineTo(t+o.topLeft,s)}const gae=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pae=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xae(r,e){const t=(""+r).match(gae);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const bae=r=>+r||0;function Nk(r,e){const t={},s=fs(e),a=s?Object.keys(e):e,i=fs(r)?s?o=>Qt(r[o],r[e[o]]):o=>r[o]:()=>r;for(const o of a)t[o]=bae(i(o));return t}function EO(r){return Nk(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Uu(r){return Nk(r,["topLeft","topRight","bottomLeft","bottomRight"])}function ni(r){const e=EO(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ja(r,e){r=r||{},e=e||Tr.font;let t=Qt(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=Qt(r.style,e.style);s&&!(""+s).match(pae)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Qt(r.family,e.family),lineHeight:xae(Qt(r.lineHeight,e.lineHeight),t),size:t,style:s,weight:Qt(r.weight,e.weight),string:""};return a.string=cae(a),a}function Sx(r,e,t,s){let a,i,o;for(a=0,i=r.length;a<i;++a)if(o=r[a],o!==void 0&&o!==void 0)return o}function yae(r,e,t){const{min:s,max:a}=r,i=bO(e,(a-s)/2),o=(l,c)=>t&&l===0?0:l+c;return{min:o(s,-Math.abs(i)),max:o(a,i)}}function _d(r,e){return Object.assign(Object.create(r),e)}function jk(r,e=[""],t,s,a=()=>r[0]){const i=t||r;typeof s>"u"&&(s=IO("_fallback",r));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:i,_fallback:s,_getTarget:a,override:l=>jk([l,...r],e,i,s)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete r[0][c],!0},get(l,c){return PO(l,c,()=>Aae(c,e,r,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(l,c){return OR(l).includes(c)},ownKeys(l){return OR(l)},set(l,c,u){const h=l._storage||(l._storage=a());return l[c]=h[c]=u,delete l._keys,!0}})}function eh(r,e,t,s){const a={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:TO(r,s),setContext:i=>eh(r,i,t,s),override:i=>eh(r.override(i),e,t,s)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete r[o],!0},get(i,o,l){return PO(i,o,()=>wae(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(r,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,o)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(i,o){return Reflect.has(r,o)},ownKeys(){return Reflect.ownKeys(r)},set(i,o,l){return r[o]=l,delete i[o],!0}})}function TO(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=r;return{allKeys:a,scriptable:t,indexable:s,isScriptable:Vl(t)?t:()=>t,isIndexable:Vl(s)?s:()=>s}}const vae=(r,e)=>r?r+pk(e):e,kk=(r,e)=>fs(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function PO(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const s=t();return r[e]=s,s}function wae(r,e,t){const{_proxy:s,_context:a,_subProxy:i,_descriptors:o}=r;let l=s[e];return Vl(l)&&o.isScriptable(e)&&(l=Nae(e,l,r,t)),ra(l)&&l.length&&(l=jae(e,l,r,o.isIndexable)),kk(e,l)&&(l=eh(l,a,i&&i[e],o)),l}function Nae(r,e,t,s){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=t;if(l.has(r))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+r);l.add(r);let c=e(i,o||s);return l.delete(r),kk(r,c)&&(c=Sk(a._scopes,a,r,c)),c}function jae(r,e,t,s){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=t;if(typeof i.index<"u"&&s(r))return e[i.index%e.length];if(fs(e[0])){const c=e,u=a._scopes.filter(h=>h!==c);e=[];for(const h of c){const f=Sk(u,a,r,h);e.push(eh(f,i,o&&o[r],l))}}return e}function RO(r,e,t){return Vl(r)?r(e,t):r}const kae=(r,e)=>r===!0?e:typeof r=="string"?gd(e,r):void 0;function Sae(r,e,t,s,a){for(const i of e){const o=kae(t,i);if(o){r.add(o);const l=RO(o._fallback,t,a);if(typeof l<"u"&&l!==t&&l!==s)return l}else if(o===!1&&typeof s<"u"&&t!==s)return null}return!1}function Sk(r,e,t,s){const a=e._rootScopes,i=RO(e._fallback,t,s),o=[...r,...a],l=new Set;l.add(s);let c=MR(l,o,t,i||t,s);return c===null||typeof i<"u"&&i!==t&&(c=MR(l,o,i,c,s),c===null)?!1:jk(Array.from(l),[""],a,i,()=>_ae(e,t,s))}function MR(r,e,t,s,a){for(;t;)t=Sae(r,e,t,s,a);return t}function _ae(r,e,t){const s=r._getTarget();e in s||(s[e]={});const a=s[e];return ra(a)&&fs(t)?t:a||{}}function Aae(r,e,t,s){let a;for(const i of e)if(a=IO(vae(i,r),t),typeof a<"u")return kk(r,a)?Sk(t,s,r,a):a}function IO(r,e){for(const t of e){if(!t)continue;const s=t[r];if(typeof s<"u")return s}}function OR(r){let e=r._keys;return e||(e=r._keys=Cae(r._scopes)),e}function Cae(r){const e=new Set;for(const t of r)for(const s of Object.keys(t).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}const Eae=Number.EPSILON||1e-14,th=(r,e)=>e<r.length&&!r[e].skip&&r[e],DO=r=>r==="x"?"y":"x";function Tae(r,e,t,s){const a=r.skip?e:r,i=e,o=t.skip?e:t,l=LN(i,a),c=LN(o,i);let u=l/(l+c),h=c/(l+c);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const f=s*u,g=s*h;return{previous:{x:i.x-f*(o.x-a.x),y:i.y-f*(o.y-a.y)},next:{x:i.x+g*(o.x-a.x),y:i.y+g*(o.y-a.y)}}}function Pae(r,e,t){const s=r.length;let a,i,o,l,c,u=th(r,0);for(let h=0;h<s-1;++h)if(c=u,u=th(r,h+1),!(!c||!u)){if(xf(e[h],0,Eae)){t[h]=t[h+1]=0;continue}a=t[h]/e[h],i=t[h+1]/e[h],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),t[h]=a*o*e[h],t[h+1]=i*o*e[h])}}function Rae(r,e,t="x"){const s=DO(t),a=r.length;let i,o,l,c=th(r,0);for(let u=0;u<a;++u){if(o=l,l=c,c=th(r,u+1),!l)continue;const h=l[t],f=l[s];o&&(i=(h-o[t])/3,l[`cp1${t}`]=h-i,l[`cp1${s}`]=f-i*e[u]),c&&(i=(c[t]-h)/3,l[`cp2${t}`]=h+i,l[`cp2${s}`]=f+i*e[u])}}function Iae(r,e="x"){const t=DO(e),s=r.length,a=Array(s).fill(0),i=Array(s);let o,l,c,u=th(r,0);for(o=0;o<s;++o)if(l=c,c=u,u=th(r,o+1),!!c){if(u){const h=u[e]-c[e];a[o]=h!==0?(u[t]-c[t])/h:0}i[o]=l?u?Hi(a[o-1])!==Hi(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}Pae(r,a,i),Rae(r,i,e)}function _x(r,e,t){return Math.max(Math.min(r,t),e)}function Dae(r,e){let t,s,a,i,o,l=Gf(r[0],e);for(t=0,s=r.length;t<s;++t)o=i,i=l,l=t<s-1&&Gf(r[t+1],e),i&&(a=r[t],o&&(a.cp1x=_x(a.cp1x,e.left,e.right),a.cp1y=_x(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=_x(a.cp2x,e.left,e.right),a.cp2y=_x(a.cp2y,e.top,e.bottom)))}function Mae(r,e,t,s,a){let i,o,l,c;if(e.spanGaps&&(r=r.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Iae(r,a);else{let u=s?r[r.length-1]:r[0];for(i=0,o=r.length;i<o;++i)l=r[i],c=Tae(u,l,r[Math.min(i+1,o-(s?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&Dae(r,t)}function _k(){return typeof window<"u"&&typeof document<"u"}function Ak(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Z0(r,e,t){let s;return typeof r=="string"?(s=parseInt(r,10),r.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=r,s}const Jb=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function Oae(r,e){return Jb(r).getPropertyValue(e)}const Lae=["top","right","bottom","left"];function sd(r,e,t){const s={};t=t?"-"+t:"";for(let a=0;a<4;a++){const i=Lae[a];s[i]=parseFloat(r[e+"-"+i+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Fae=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function Uae(r,e){const t=r.touches,s=t&&t.length?t[0]:r,{offsetX:a,offsetY:i}=s;let o=!1,l,c;if(Fae(a,i,r.target))l=a,c=i;else{const u=e.getBoundingClientRect();l=s.clientX-u.left,c=s.clientY-u.top,o=!0}return{x:l,y:c,box:o}}function Dc(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:s}=e,a=Jb(t),i=a.boxSizing==="border-box",o=sd(a,"padding"),l=sd(a,"border","width"),{x:c,y:u,box:h}=Uae(r,t),f=o.left+(h&&l.left),g=o.top+(h&&l.top);let{width:x,height:y}=e;return i&&(x-=o.width+l.width,y-=o.height+l.height),{x:Math.round((c-f)/x*t.width/s),y:Math.round((u-g)/y*t.height/s)}}function zae(r,e,t){let s,a;if(e===void 0||t===void 0){const i=r&&Ak(r);if(!i)e=r.clientWidth,t=r.clientHeight;else{const o=i.getBoundingClientRect(),l=Jb(i),c=sd(l,"border","width"),u=sd(l,"padding");e=o.width-u.width-c.width,t=o.height-u.height-c.height,s=Z0(l.maxWidth,i,"clientWidth"),a=Z0(l.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:s||G0,maxHeight:a||G0}}const Ax=r=>Math.round(r*10)/10;function Vae(r,e,t,s){const a=Jb(r),i=sd(a,"margin"),o=Z0(a.maxWidth,r,"clientWidth")||G0,l=Z0(a.maxHeight,r,"clientHeight")||G0,c=zae(r,e,t);let{width:u,height:h}=c;if(a.boxSizing==="content-box"){const g=sd(a,"border","width"),x=sd(a,"padding");u-=x.width+g.width,h-=x.height+g.height}return u=Math.max(0,u-i.width),h=Math.max(0,s?u/s:h-i.height),u=Ax(Math.min(u,o,c.maxWidth)),h=Ax(Math.min(h,l,c.maxHeight)),u&&!h&&(h=Ax(u/2)),(e!==void 0||t!==void 0)&&s&&c.height&&h>c.height&&(h=c.height,u=Ax(Math.floor(h*s))),{width:u,height:h}}function LR(r,e,t){const s=e||1,a=Math.floor(r.height*s),i=Math.floor(r.width*s);r.height=Math.floor(r.height),r.width=Math.floor(r.width);const o=r.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${r.height}px`,o.style.width=`${r.width}px`),r.currentDevicePixelRatio!==s||o.height!==a||o.width!==i?(r.currentDevicePixelRatio=s,o.height=a,o.width=i,r.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Bae=function(){let r=!1;try{const e={get passive(){return r=!0,!1}};_k()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r}();function FR(r,e){const t=Oae(r,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Mc(r,e,t,s){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function Hae(r,e,t,s){return{x:r.x+t*(e.x-r.x),y:s==="middle"?t<.5?r.y:e.y:s==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function $ae(r,e,t,s){const a={x:r.cp2x,y:r.cp2y},i={x:e.cp1x,y:e.cp1y},o=Mc(r,a,t),l=Mc(a,i,t),c=Mc(i,e,t),u=Mc(o,l,t),h=Mc(l,c,t);return Mc(u,h,t)}const Wae=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},Yae=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function zu(r,e,t){return r?Wae(e,t):Yae()}function MO(r,e){let t,s;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=s)}function OO(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function LO(r){return r==="angle"?{between:Xf,compare:Wre,normalize:Gn}:{between:yl,compare:(e,t)=>e-t,normalize:e=>e}}function UR({start:r,end:e,count:t,loop:s,style:a}){return{start:r%t,end:e%t,loop:s&&(e-r+1)%t===0,style:a}}function qae(r,e,t){const{property:s,start:a,end:i}=t,{between:o,normalize:l}=LO(s),c=e.length;let{start:u,end:h,loop:f}=r,g,x;if(f){for(u+=c,h+=c,g=0,x=c;g<x&&o(l(e[u%c][s]),a,i);++g)u--,h--;u%=c,h%=c}return h<u&&(h+=c),{start:u,end:h,loop:f,style:r.style}}function Xae(r,e,t){if(!t)return[r];const{property:s,start:a,end:i}=t,o=e.length,{compare:l,between:c,normalize:u}=LO(s),{start:h,end:f,loop:g,style:x}=qae(r,e,t),y=[];let b=!1,v=null,N,k,C;const R=()=>c(a,C,N)&&l(a,C)!==0,_=()=>l(i,N)===0||c(i,C,N),I=()=>b||R(),P=()=>!b||_();for(let T=h,D=h;T<=f;++T)k=e[T%o],!k.skip&&(N=u(k[s]),N!==C&&(b=c(N,a,i),v===null&&I()&&(v=l(N,a)===0?T:D),v!==null&&P()&&(y.push(UR({start:v,end:T,loop:g,count:o,style:x})),v=null),D=T,C=N));return v!==null&&y.push(UR({start:v,end:f,loop:g,count:o,style:x})),y}function Gae(r,e){const t=[],s=r.segments;for(let a=0;a<s.length;a++){const i=Xae(s[a],r.points,e);i.length&&t.push(...i)}return t}function Kae(r,e,t,s){let a=0,i=e-1;if(t&&!s)for(;a<e&&!r[a].skip;)a++;for(;a<e&&r[a].skip;)a++;for(a%=e,t&&(i+=a);i>a&&r[i%e].skip;)i--;return i%=e,{start:a,end:i}}function Qae(r,e,t,s){const a=r.length,i=[];let o=e,l=r[e],c;for(c=e+1;c<=t;++c){const u=r[c%a];u.skip||u.stop?l.skip||(s=!1,i.push({start:e%a,end:(c-1)%a,loop:s}),e=o=u.stop?c:null):(o=c,l.skip&&(e=c)),l=u}return o!==null&&i.push({start:e%a,end:o%a,loop:s}),i}function Zae(r,e){const t=r.points,s=r.options.spanGaps,a=t.length;if(!a)return[];const i=!!r._loop,{start:o,end:l}=Kae(t,a,i,s);if(s===!0)return zR(r,[{start:o,end:l,loop:i}],t,e);const c=l<o?l+a:l,u=!!r._fullLoop&&o===0&&l===a-1;return zR(r,Qae(t,o,c,u),t,e)}function zR(r,e,t,s){return!s||!s.setContext||!t?e:Jae(r,e,t,s)}function Jae(r,e,t,s){const a=r._chart.getContext(),i=VR(r.options),{_datasetIndex:o,options:{spanGaps:l}}=r,c=t.length,u=[];let h=i,f=e[0].start,g=f;function x(y,b,v,N){const k=l?-1:1;if(y!==b){for(y+=c;t[y%c].skip;)y-=k;for(;t[b%c].skip;)b+=k;y%c!==b%c&&(u.push({start:y%c,end:b%c,loop:v,style:N}),h=N,f=b%c)}}for(const y of e){f=l?f:y.start;let b=t[f%c],v;for(g=f+1;g<=y.end;g++){const N=t[g%c];v=VR(s.setContext(_d(a,{type:"segment",p0:b,p1:N,p0DataIndex:(g-1)%c,p1DataIndex:g%c,datasetIndex:o}))),ene(v,h)&&x(f,g-1,y.loop,h),b=N,h=v}f<g-1&&x(f,g-1,y.loop,h)}return u}function VR(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function ene(r,e){if(!e)return!1;const t=[],s=function(a,i){return bk(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(r,s)!==JSON.stringify(e,s)}function Cx(r,e,t){return r.options.clip?r[t]:e[t]}function tne(r,e){const{xScale:t,yScale:s}=r;return t&&s?{left:Cx(t,e,"left"),right:Cx(t,e,"right"),top:Cx(s,e,"top"),bottom:Cx(s,e,"bottom")}:e}function sne(r,e){const t=e._clip;if(t.disabled)return!1;const s=tne(e,r.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?r.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?r.height:s.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class rne{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,a){const i=t.listeners[a],o=t.duration;i.forEach(l=>l({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(s-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=kO.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,s,e,"progress")),i.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var bo=new rne;const BR="transparent",ane={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const s=PR(r||BR),a=s.valid&&PR(e||BR);return a&&a.valid?a.mix(s,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class nne{constructor(e,t,s,a){const i=t[s];a=Sx([e.to,a,i,e.from]);const o=Sx([e.from,i,a]);this._active=!0,this._fn=e.fn||ane[e.type||typeof o],this._easing=bf[e.easing]||bf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const a=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Sx([e.to,t,a,e.from]),this._from=Sx([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||t<s),!this._active){this._target[a]=l,this._notify(!0);return}if(t<0){this._target[a]=i;return}c=t/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][t]()}}class FO{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!fs(e))return;const t=Object.keys(Tr.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!fs(i))return;const o={};for(const l of t)o[l]=i[l];(ra(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!s.has(l))&&s.set(l,o)})})}_animateOptions(e,t){const s=t.options,a=one(e,s);if(!a)return[];const i=this._createAnimations(a,s);return s.$shared&&ine(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,t){const s=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(t),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,t));continue}const h=t[u];let f=i[u];const g=s.get(u);if(f)if(g&&f.active()){f.update(g,h,l);continue}else f.cancel();if(!g||!g.duration){e[u]=h;continue}i[u]=f=new nne(g,e,u,h),a.push(f)}return a}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return bo.add(this._chart,s),!0}}function ine(r,e){const t=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const i=r[s[a]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function one(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function HR(r,e){const t=r&&r.options||{},s=t.reverse,a=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:s?i:a,end:s?a:i}}function lne(r,e,t){if(t===!1)return!1;const s=HR(r,t),a=HR(e,t);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function cne(r){let e,t,s,a;return fs(r)?(e=r.top,t=r.right,s=r.bottom,a=r.left):e=t=s=a=r,{top:e,right:t,bottom:s,left:a,disabled:r===!1}}function UO(r,e){const t=[],s=r._getSortedDatasetMetas(e);let a,i;for(a=0,i=s.length;a<i;++a)t.push(s[a].index);return t}function $R(r,e,t,s={}){const a=r.keys,i=s.mode==="single";let o,l,c,u;if(e===null)return;let h=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===t){if(h=!0,s.all)continue;break}u=r.values[c],Bn(u)&&(i||e===0||Hi(e)===Hi(u))&&(e+=u)}return!h&&!s.all?0:e}function dne(r,e){const{iScale:t,vScale:s}=e,a=t.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(r),l=new Array(o.length);let c,u,h;for(c=0,u=o.length;c<u;++c)h=o[c],l[c]={[a]:h,[i]:r[h]};return l}function Zw(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function une(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function hne(r){const{min:e,max:t,minDefined:s,maxDefined:a}=r.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?t:Number.POSITIVE_INFINITY}}function mne(r,e,t){const s=r[e]||(r[e]={});return s[t]||(s[t]={})}function WR(r,e,t,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const i=r[a.index];if(t&&i>0||!t&&i<0)return a.index}return null}function YR(r,e){const{chart:t,_cachedMeta:s}=r,a=t._stacks||(t._stacks={}),{iScale:i,vScale:o,index:l}=s,c=i.axis,u=o.axis,h=une(i,o,s),f=e.length;let g;for(let x=0;x<f;++x){const y=e[x],{[c]:b,[u]:v}=y,N=y._stacks||(y._stacks={});g=N[u]=mne(a,h,b),g[l]=v,g._top=WR(g,o,!0,s.type),g._bottom=WR(g,o,!1,s.type);const k=g._visualValues||(g._visualValues={});k[l]=v}}function Jw(r,e){const t=r.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function fne(r,e){return _d(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function gne(r,e,t){return _d(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Rm(r,e){const t=r.controller.index,s=r.vScale&&r.vScale.axis;if(s){e=e||r._parsed;for(const a of e){const i=a._stacks;if(!i||i[s]===void 0||i[s][t]===void 0)return;delete i[s][t],i[s]._visualValues!==void 0&&i[s]._visualValues[t]!==void 0&&delete i[s]._visualValues[t]}}}const e1=r=>r==="reset"||r==="none",qR=(r,e)=>e?r:Object.assign({},r),pne=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:UO(t,!0),values:null};class ey{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Zw(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Rm(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),a=(f,g,x,y)=>f==="x"?g:f==="r"?y:x,i=t.xAxisID=Qt(s.xAxisID,Jw(e,"x")),o=t.yAxisID=Qt(s.yAxisID,Jw(e,"y")),l=t.rAxisID=Qt(s.rAxisID,Jw(e,"r")),c=t.indexAxis,u=t.iAxisID=a(c,i,o,l),h=t.vAxisID=a(c,o,i,l);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&CR(this._data,this),e._stacked&&Rm(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(fs(t)){const a=this._cachedMeta;this._data=dne(t,a)}else if(s!==t){if(s){CR(s,this);const a=this._cachedMeta;Rm(a),a._parsed=[]}t&&Object.isExtensible(t)&&Gre(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const i=t._stacked;t._stacked=Zw(t.vScale,t),t.stack!==s.stack&&(a=!0,Rm(t),t.stack=s.stack),this._resyncElements(e),(a||i!==t._stacked)&&(YR(this,t._parsed),t._stacked=Zw(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:a}=this,{iScale:i,_stacked:o}=s,l=i.axis;let c=e===0&&t===a.length?!0:s._sorted,u=e>0&&s._parsed[e-1],h,f,g;if(this._parsing===!1)s._parsed=a,s._sorted=!0,g=a;else{ra(a[e])?g=this.parseArrayData(s,a,e,t):fs(a[e])?g=this.parseObjectData(s,a,e,t):g=this.parsePrimitiveData(s,a,e,t);const x=()=>f[l]===null||u&&f[l]<u[l];for(h=0;h<t;++h)s._parsed[h+e]=f=g[h],c&&(x()&&(c=!1),u=f);s._sorted=c}o&&YR(this,g)}parsePrimitiveData(e,t,s,a){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,u=i.getLabels(),h=i===o,f=new Array(a);let g,x,y;for(g=0,x=a;g<x;++g)y=g+s,f[g]={[l]:h||i.parse(u[y],y),[c]:o.parse(t[y],y)};return f}parseArrayData(e,t,s,a){const{xScale:i,yScale:o}=e,l=new Array(a);let c,u,h,f;for(c=0,u=a;c<u;++c)h=c+s,f=t[h],l[c]={x:i.parse(f[0],h),y:o.parse(f[1],h)};return l}parseObjectData(e,t,s,a){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(a);let h,f,g,x;for(h=0,f=a;h<f;++h)g=h+s,x=t[g],u[h]={x:i.parse(gd(x,l),g),y:o.parse(gd(x,c),g)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const a=this.chart,i=this._cachedMeta,o=t[e.axis],l={keys:UO(a,!0),values:t._stacks[e.axis]._visualValues};return $R(l,o,i.index,{mode:s})}updateRangeFromParsed(e,t,s,a){const i=s[t.axis];let o=i===null?NaN:i;const l=a&&s._stacks[t.axis];a&&l&&(a.values=l,o=$R(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const s=this._cachedMeta,a=s._parsed,i=s._sorted&&e===s.iScale,o=a.length,l=this._getOtherScale(e),c=pne(t,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=hne(l);let g,x;function y(){x=a[g];const b=x[l.axis];return!Bn(x[e.axis])||h>b||f<b}for(g=0;g<o&&!(!y()&&(this.updateRangeFromParsed(u,e,x,c),i));++g);if(i){for(g=o-1;g>=0;--g)if(!y()){this.updateRangeFromParsed(u,e,x,c);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let a,i,o;for(a=0,i=t.length;a<i;++a)o=t[a][e.axis],Bn(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,a=t.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=cne(Qt(this.options.clip,lne(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,a=s.data||[],i=t.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,u=this.options.drawActiveElementsOnTop;let h;for(s.dataset&&s.dataset.draw(e,i,l,c),h=l;h<l+c;++h){const f=a[h];f.hidden||(f.active&&u?o.push(f):f.draw(e,i))}for(h=0;h<o.length;++h)o[h].draw(e,i)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=gne(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=fne(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const a=t==="active",i=this._cachedDataOpts,o=e+"-"+t,l=i[o],c=this.enableOptionSharing&&Yf(s);if(l)return qR(l,c);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],g=u.getOptionScopes(this.getDataset(),h),x=Object.keys(Tr.elements[e]),y=()=>this.getContext(s,a,t),b=u.resolveNamedOptions(g,x,y,f);return b.$shared&&(b.$shared=c,i[o]=Object.freeze(qR(b,c))),b}_resolveAnimations(e,t,s){const a=this.chart,i=this._cachedDataOpts,o=`animation-${t}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,t),g=h.getOptionScopes(this.getDataset(),f);c=h.createResolver(g,this.getContext(e,s,t))}const u=new FO(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||e1(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),a=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(t,i)||i!==a;return this.updateSharedOptions(i,t,s),{sharedOptions:i,includeOptions:o}}updateElement(e,t,s,a){e1(a)?Object.assign(e,s):this._resolveAnimations(t,a).update(e,s)}updateSharedOptions(e,t,s){e&&!e1(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,a){e.active=a;const i=this.getStyle(t,a);this._resolveAnimations(t,s,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const a=s.length,i=t.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,t,s=!0){const a=this._cachedMeta,i=a.data,o=e+t;let l;const c=u=>{for(u.length+=t,l=u.length-1;l>=o;l--)u[l]=u[l-t]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,t),s&&this.updateElements(i,e,t,"reset")}updateElements(e,t,s,a){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,t);s._stacked&&Rm(s,a)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,a]=e;this[t](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function xne(r,e){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(e);let s=[];for(let a=0,i=t.length;a<i;a++)s=s.concat(t[a].controller.getAllParsedValues(r));r._cache.$bar=jO(s.sort((a,i)=>a-i))}return r._cache.$bar}function bne(r){const e=r.iScale,t=xne(e,r.type);let s=e._length,a,i,o,l;const c=()=>{o===32767||o===-32768||(Yf(l)&&(s=Math.min(s,Math.abs(o-l)||s)),l=o)};for(a=0,i=t.length;a<i;++a)o=e.getPixelForValue(t[a]),c();for(l=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),c();return s}function yne(r,e,t,s){const a=t.barThickness;let i,o;return Ts(a)?(i=e.min*t.categoryPercentage,o=t.barPercentage):(i=a*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[r]-i/2}}function vne(r,e,t,s){const a=e.pixels,i=a[r];let o=r>0?a[r-1]:null,l=r<a.length-1?a[r+1]:null;const c=t.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const u=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/s,ratio:t.barPercentage,start:u}}function wne(r,e,t,s){const a=t.parse(r[0],s),i=t.parse(r[1],s),o=Math.min(a,i),l=Math.max(a,i);let c=o,u=l;Math.abs(o)>Math.abs(l)&&(c=l,u=o),e[t.axis]=u,e._custom={barStart:c,barEnd:u,start:a,end:i,min:o,max:l}}function zO(r,e,t,s){return ra(r)?wne(r,e,t,s):e[t.axis]=t.parse(r,s),e}function XR(r,e,t,s){const a=r.iScale,i=r.vScale,o=a.getLabels(),l=a===i,c=[];let u,h,f,g;for(u=t,h=t+s;u<h;++u)g=e[u],f={},f[a.axis]=l||a.parse(o[u],u),c.push(zO(g,f,i,u));return c}function t1(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function Nne(r,e,t){return r!==0?Hi(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function jne(r){let e,t,s,a,i;return r.horizontal?(e=r.base>r.x,t="left",s="right"):(e=r.base<r.y,t="bottom",s="top"),e?(a="end",i="start"):(a="start",i="end"),{start:t,end:s,reverse:e,top:a,bottom:i}}function kne(r,e,t,s){let a=e.borderSkipped;const i={};if(!a){r.borderSkipped=i;return}if(a===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:u,bottom:h}=jne(r);a==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===s?a=u:(t._bottom||0)===s?a=h:(i[GR(h,o,l,c)]=!0,a=u)),i[GR(a,o,l,c)]=!0,r.borderSkipped=i}function GR(r,e,t,s){return s?(r=Sne(r,e,t),r=KR(r,t,e)):r=KR(r,e,t),r}function Sne(r,e,t){return r===e?t:r===t?e:r}function KR(r,e,t){return r==="start"?e:r==="end"?t:r}function _ne(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}class Ane extends ey{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,a){return XR(e,t,s,a)}parseArrayData(e,t,s,a){return XR(e,t,s,a)}parseObjectData(e,t,s,a){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,h=o.axis==="x"?l:c,f=[];let g,x,y,b;for(g=s,x=s+a;g<x;++g)b=t[g],y={},y[i.axis]=i.parse(gd(b,u),g),f.push(zO(gd(b,h),y,o,g));return f}updateRangeFromParsed(e,t,s,a){super.updateRangeFromParsed(e,t,s,a);const i=s._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:a}=t,i=this.getParsed(e),o=i._custom,l=t1(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:g}=this._getSharedOptions(t,a);for(let x=t;x<t+s;x++){const y=this.getParsed(x),b=i||Ts(y[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(x),v=this._calculateBarIndexPixels(x,h),N=(y._stacks||{})[l.axis],k={horizontal:u,base:b.base,enableBorderRadius:!N||t1(y._custom)||o===N._top||o===N._bottom,x:u?b.head:v.center,y:u?v.center:b.head,height:u?v.size:Math.abs(b.size),width:u?Math.abs(b.size):v.size};g&&(k.options=f||this.resolveDataElementOptions(x,e[x].active?"active":a));const C=k.options||e[x].options;kne(k,C,N,o),_ne(k,C,h.ratio),this.updateElement(e[x],x,k,a)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),i=s.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[s.axis],u=h=>{const f=h._parsed.find(x=>x[s.axis]===c),g=f&&f[h.vScale.axis];if(Ts(g)||isNaN(g))return!0};for(const h of a)if(!(t!==void 0&&u(h))&&((i===!1||o.indexOf(h.stack)===-1||i===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Qt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const a=this._getStacks(e,s),i=t!==void 0?a.indexOf(t):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,a=[];let i,o;for(i=0,o=t.data.length;i<o;++i)a.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const l=e.barThickness;return{min:l||bne(t),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),u=c._custom,h=t1(u);let f=c[t.axis],g=0,x=s?this.applyStack(t,c,s):f,y,b;x!==f&&(g=x-f,x=f),h&&(f=u.barStart,x=u.barEnd-u.barStart,f!==0&&Hi(f)!==Hi(u.barEnd)&&(g=0),g+=f);const v=!Ts(i)&&!h?i:g;let N=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?y=t.getPixelForValue(g+x):y=N,b=y-N,Math.abs(b)<o){b=Nne(b,t,l)*o,f===l&&(N-=b/2);const k=t.getPixelForDecimal(0),C=t.getPixelForDecimal(1),R=Math.min(k,C),_=Math.max(k,C);N=Math.max(Math.min(N,_),R),y=N+b,s&&!h&&(c._stacks[t.axis]._visualValues[a]=t.getValueForPixel(y)-t.getValueForPixel(N))}if(N===t.getPixelForValue(l)){const k=Hi(b)*t.getLineWidthForValue(l)/2;N+=k,b-=k}return{size:b,base:N,head:y,center:y+b/2}}_calculateBarIndexPixels(e,t){const s=t.scale,a=this.options,i=a.skipNull,o=Qt(a.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(t.grouped){const h=i?this._getStackCount(e):t.stackCount,f=a.barThickness==="flex"?vne(e,t,a,h*u):yne(e,t,a,h*u),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(Qt(g,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+x;l=f.start+f.chunk*y+f.chunk/2,c=Math.min(o,f.chunk*f.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,a=s.length;let i=0;for(;i<a;++i)this.getParsed(i)[t.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}function Cne(r,e,t){let s=1,a=1,i=0,o=0;if(e<yr){const l=r,c=l+e,u=Math.cos(l),h=Math.sin(l),f=Math.cos(c),g=Math.sin(c),x=(C,R,_)=>Xf(C,l,c,!0)?1:Math.max(R,R*t,_,_*t),y=(C,R,_)=>Xf(C,l,c,!0)?-1:Math.min(R,R*t,_,_*t),b=x(0,u,f),v=x(Wr,h,g),N=y(er,u,f),k=y(er+Wr,h,g);s=(b-N)/2,a=(v-k)/2,i=-(b+N)/2,o=-(v+k)/2}return{ratioX:s,ratioY:a,offsetX:i,offsetY:o}}class Ene extends ey{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return t.labels.map((i,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let i=c=>+s[c];if(fs(s[e])){const{key:c="value"}=this._parsing;i=u=>+gd(s[u],c)}let o,l;for(o=e,l=e+t;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return ko(this.options.rotation-90)}_getCircumference(){return ko(this.options.circumference)}_getRotationExtents(){let e=yr,t=-yr;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),t=Math.max(t,i+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(Rre(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:x,offsetX:y,offsetY:b}=Cne(f,h,c),v=(s.width-o)/g,N=(s.height-o)/x,k=Math.max(Math.min(v,N)/2,0),C=bO(this.options.radius,k),R=Math.max(C*c,0),_=(C-R)/this._getVisibleDatasetWeightTotal();this.offsetX=y*C,this.offsetY=b*C,a.total=this.calculateTotal(),this.outerRadius=C-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const s=this.options,a=this._cachedMeta,i=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/yr)}updateElements(e,t,s,a){const i=a==="reset",o=this.chart,l=o.chartArea,u=o.options.animation,h=(l.left+l.right)/2,f=(l.top+l.bottom)/2,g=i&&u.animateScale,x=g?0:this.innerRadius,y=g?0:this.outerRadius,{sharedOptions:b,includeOptions:v}=this._getSharedOptions(t,a);let N=this._getRotation(),k;for(k=0;k<t;++k)N+=this._circumference(k,i);for(k=t;k<t+s;++k){const C=this._circumference(k,i),R=e[k],_={x:h+this.offsetX,y:f+this.offsetY,startAngle:N,endAngle:N+C,circumference:C,outerRadius:y,innerRadius:x};v&&(_.options=b||this.resolveDataElementOptions(k,R.active?"active":a)),N+=C,this.updateElement(R,k,_,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,a;for(a=0;a<t.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!t[a].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?yr*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,a=s.data.labels||[],i=yk(t._parsed[e],s.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const s=this.chart;let a,i,o,l,c;if(!e){for(a=0,i=s.data.datasets.length;a<i;++a)if(s.isDatasetVisible(a)){o=s.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,a=e.length;s<a;++s){const i=this.resolveDataElementOptions(s);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(Qt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Tne extends ey{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:a=[],_dataset:i}=t,o=this.chart._animationsDisabled;let{start:l,count:c}=Zre(t,a,o);this._drawStart=l,this._drawCount=c,Jre(t)&&(l=0,c=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=a;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:u},e),this.updateElements(a,l,c,e)}updateElements(e,t,s,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(t,a),g=o.axis,x=l.axis,{spanGaps:y,segment:b}=this.options,v=qf(y)?y:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||a==="none",k=t+s,C=e.length;let R=t>0&&this.getParsed(t-1);for(let _=0;_<C;++_){const I=e[_],P=N?I:{};if(_<t||_>=k){P.skip=!0;continue}const T=this.getParsed(_),D=Ts(T[x]),L=P[g]=o.getPixelForValue(T[g],_),F=P[x]=i||D?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[x],_);P.skip=isNaN(L)||isNaN(F)||D,P.stop=_>0&&Math.abs(T[g]-R[g])>v,b&&(P.parsed=T,P.raw=u.data[_]),f&&(P.options=h||this.resolveDataElementOptions(_,I.active?"active":a)),N||this.updateElement(I,_,P,a),R=T}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Cc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ck{static override(e){Object.assign(Ck.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Cc()}parse(){return Cc()}format(){return Cc()}add(){return Cc()}diff(){return Cc()}startOf(){return Cc()}endOf(){return Cc()}}var Pne={_date:Ck};function Rne(r,e,t,s){const{controller:a,data:i,_sorted:o}=r,l=a._cachedMeta.iScale,c=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const u=l._reversePixels?qre:Yc;if(s){if(a._sharedOptions){const h=i[0],f=typeof h.getRange=="function"&&h.getRange(e);if(f){const g=u(i,e,t-f),x=u(i,e,t+f);return{lo:g.lo,hi:x.hi}}}}else{const h=u(i,e,t);if(c){const{vScale:f}=a._cachedMeta,{_parsed:g}=r,x=g.slice(0,h.lo+1).reverse().findIndex(b=>!Ts(b[f.axis]));h.lo-=Math.max(0,x);const y=g.slice(h.hi).findIndex(b=>!Ts(b[f.axis]));h.hi+=Math.max(0,y)}return h}}return{lo:0,hi:i.length-1}}function ty(r,e,t,s,a){const i=r.getSortedVisibleDatasetMetas(),o=t[e];for(let l=0,c=i.length;l<c;++l){const{index:u,data:h}=i[l],{lo:f,hi:g}=Rne(i[l],e,o,a);for(let x=f;x<=g;++x){const y=h[x];y.skip||s(y,u,x)}}}function Ine(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(s,a){const i=e?Math.abs(s.x-a.x):0,o=t?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function s1(r,e,t,s,a){const i=[];return!a&&!r.isPointInArea(e)||ty(r,t,e,function(l,c,u){!a&&!Gf(l,r.chartArea,0)||l.inRange(e.x,e.y,s)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function Dne(r,e,t,s){let a=[];function i(o,l,c){const{startAngle:u,endAngle:h}=o.getProps(["startAngle","endAngle"],s),{angle:f}=wO(o,{x:e.x,y:e.y});Xf(f,u,h)&&a.push({element:o,datasetIndex:l,index:c})}return ty(r,t,e,i),a}function Mne(r,e,t,s,a,i){let o=[];const l=Ine(t);let c=Number.POSITIVE_INFINITY;function u(h,f,g){const x=h.inRange(e.x,e.y,a);if(s&&!x)return;const y=h.getCenterPoint(a);if(!(!!i||r.isPointInArea(y))&&!x)return;const v=l(e,y);v<c?(o=[{element:h,datasetIndex:f,index:g}],c=v):v===c&&o.push({element:h,datasetIndex:f,index:g})}return ty(r,t,e,u),o}function r1(r,e,t,s,a,i){return!i&&!r.isPointInArea(e)?[]:t==="r"&&!s?Dne(r,e,t,a):Mne(r,e,t,s,a,i)}function QR(r,e,t,s,a){const i=[],o=t==="x"?"inXRange":"inYRange";let l=!1;return ty(r,t,e,(c,u,h)=>{c[o]&&c[o](e[t],a)&&(i.push({element:c,datasetIndex:u,index:h}),l=l||c.inRange(e.x,e.y,a))}),s&&!l?[]:i}var One={modes:{index(r,e,t,s){const a=Dc(e,r),i=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?s1(r,a,i,s,o):r1(r,a,i,!1,s,o),c=[];return l.length?(r.getSortedVisibleDatasetMetas().forEach(u=>{const h=l[0].index,f=u.data[h];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:h})}),c):[]},dataset(r,e,t,s){const a=Dc(e,r),i=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?s1(r,a,i,s,o):r1(r,a,i,!1,s,o);if(l.length>0){const c=l[0].datasetIndex,u=r.getDatasetMeta(c).data;l=[];for(let h=0;h<u.length;++h)l.push({element:u[h],datasetIndex:c,index:h})}return l},point(r,e,t,s){const a=Dc(e,r),i=t.axis||"xy",o=t.includeInvisible||!1;return s1(r,a,i,s,o)},nearest(r,e,t,s){const a=Dc(e,r),i=t.axis||"xy",o=t.includeInvisible||!1;return r1(r,a,i,t.intersect,s,o)},x(r,e,t,s){const a=Dc(e,r);return QR(r,a,"x",t.intersect,s)},y(r,e,t,s){const a=Dc(e,r);return QR(r,a,"y",t.intersect,s)}}};const VO=["left","top","right","bottom"];function Im(r,e){return r.filter(t=>t.pos===e)}function ZR(r,e){return r.filter(t=>VO.indexOf(t.pos)===-1&&t.box.axis===e)}function Dm(r,e){return r.sort((t,s)=>{const a=e?s:t,i=e?t:s;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function Lne(r){const e=[];let t,s,a,i,o,l;for(t=0,s=(r||[]).length;t<s;++t)a=r[t],{position:i,options:{stack:o,stackWeight:l=1}}=a,e.push({index:t,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return e}function Fne(r){const e={};for(const t of r){const{stack:s,pos:a,stackWeight:i}=t;if(!s||!VO.includes(a))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function Une(r,e){const t=Fne(r),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let i,o,l;for(i=0,o=r.length;i<o;++i){l=r[i];const{fullSize:c}=l.box,u=t[l.stack],h=u&&l.stackWeight/u.weight;l.horizontal?(l.width=h?h*s:c&&e.availableWidth,l.height=a):(l.width=s,l.height=h?h*a:c&&e.availableHeight)}return t}function zne(r){const e=Lne(r),t=Dm(e.filter(u=>u.box.fullSize),!0),s=Dm(Im(e,"left"),!0),a=Dm(Im(e,"right")),i=Dm(Im(e,"top"),!0),o=Dm(Im(e,"bottom")),l=ZR(e,"x"),c=ZR(e,"y");return{fullSize:t,leftAndTop:s.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:Im(e,"chartArea"),vertical:s.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function JR(r,e,t,s){return Math.max(r[t],e[t])+Math.max(r[s],e[s])}function BO(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function Vne(r,e,t,s){const{pos:a,box:i}=t,o=r.maxPadding;if(!fs(a)){t.size&&(r[a]-=t.size);const f=s[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?i.height:i.width),t.size=f.size/f.count,r[a]+=t.size}i.getPadding&&BO(o,i.getPadding());const l=Math.max(0,e.outerWidth-JR(o,r,"left","right")),c=Math.max(0,e.outerHeight-JR(o,r,"top","bottom")),u=l!==r.w,h=c!==r.h;return r.w=l,r.h=c,t.horizontal?{same:u,other:h}:{same:h,other:u}}function Bne(r){const e=r.maxPadding;function t(s){const a=Math.max(e[s]-r[s],0);return r[s]+=a,a}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function Hne(r,e){const t=e.maxPadding;function s(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],t[o])}),i}return s(r?["left","right"]:["top","bottom"])}function Gm(r,e,t,s){const a=[];let i,o,l,c,u,h;for(i=0,o=r.length,u=0;i<o;++i){l=r[i],c=l.box,c.update(l.width||e.w,l.height||e.h,Hne(l.horizontal,e));const{same:f,other:g}=Vne(e,t,l,s);u|=f&&a.length,h=h||g,c.fullSize||a.push(l)}return u&&Gm(a,e,t,s)||h}function Ex(r,e,t,s,a){r.top=t,r.left=e,r.right=e+s,r.bottom=t+a,r.width=s,r.height=a}function eI(r,e,t,s){const a=t.padding;let{x:i,y:o}=e;for(const l of r){const c=l.box,u=s[l.stack]||{placed:0,weight:1},h=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*h,g=u.size||c.height;Yf(u.start)&&(o=u.start),c.fullSize?Ex(c,a.left,o,t.outerWidth-a.right-a.left,g):Ex(c,e.left+u.placed,o,f,g),u.start=o,u.placed+=f,o=c.bottom}else{const f=e.h*h,g=u.size||c.width;Yf(u.start)&&(i=u.start),c.fullSize?Ex(c,i,a.top,g,t.outerHeight-a.bottom-a.top):Ex(c,i,e.top+u.placed,g,f),u.start=i,u.placed+=f,i=c.right}}e.x=i,e.y=o}var vl={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,s){if(!r)return;const a=ni(r.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(t-a.height,0),l=zne(r.boxes),c=l.vertical,u=l.horizontal;Vs(r.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const h=c.reduce((b,v)=>v.box.options&&v.box.options.display===!1?b:b+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/h,hBoxMaxHeight:o/2}),g=Object.assign({},a);BO(g,ni(s));const x=Object.assign({maxPadding:g,w:i,h:o,x:a.left,y:a.top},a),y=Une(c.concat(u),f);Gm(l.fullSize,x,f,y),Gm(c,x,f,y),Gm(u,x,f,y)&&Gm(c,x,f,y),Bne(x),eI(l.leftAndTop,x,f,y),x.x+=x.w,x.y+=x.h,eI(l.rightAndBottom,x,f,y),r.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Vs(l.chartArea,b=>{const v=b.box;Object.assign(v,r.chartArea),v.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class HO{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,a){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):s)}}isAttached(e){return!0}updateConfig(e){}}class $ne extends HO{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const l0="$chartjs",Wne={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tI=r=>r===null||r==="";function Yne(r,e){const t=r.style,s=r.getAttribute("height"),a=r.getAttribute("width");if(r[l0]={initial:{height:s,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",tI(a)){const i=FR(r,"width");i!==void 0&&(r.width=i)}if(tI(s))if(r.style.height==="")r.height=r.width/(e||2);else{const i=FR(r,"height");i!==void 0&&(r.height=i)}return r}const $O=Bae?{passive:!0}:!1;function qne(r,e,t){r&&r.addEventListener(e,t,$O)}function Xne(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,$O)}function Gne(r,e){const t=Wne[r.type]||r.type,{x:s,y:a}=Dc(r,e);return{type:t,chart:e,native:r,x:s!==void 0?s:null,y:a!==void 0?a:null}}function J0(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function Kne(r,e,t){const s=r.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||J0(l.addedNodes,s),o=o&&!J0(l.removedNodes,s);o&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}function Qne(r,e,t){const s=r.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||J0(l.removedNodes,s),o=o&&!J0(l.addedNodes,s);o&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}const Kf=new Map;let sI=0;function WO(){const r=window.devicePixelRatio;r!==sI&&(sI=r,Kf.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function Zne(r,e){Kf.size||window.addEventListener("resize",WO),Kf.set(r,e)}function Jne(r){Kf.delete(r),Kf.size||window.removeEventListener("resize",WO)}function eie(r,e,t){const s=r.canvas,a=s&&Ak(s);if(!a)return;const i=SO((l,c)=>{const u=a.clientWidth;t(l,c),u<a.clientWidth&&t()},window),o=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,h=c.contentRect.height;u===0&&h===0||i(u,h)});return o.observe(a),Zne(r,i),o}function a1(r,e,t){t&&t.disconnect(),e==="resize"&&Jne(r)}function tie(r,e,t){const s=r.canvas,a=SO(i=>{r.ctx!==null&&t(Gne(i,r))},r);return qne(s,e,a),a}class sie extends HO{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(Yne(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[l0])return!1;const s=t[l0].initial;["height","width"].forEach(i=>{const o=s[i];Ts(o)?t.removeAttribute(i):t.setAttribute(i,o)});const a=s.style||{};return Object.keys(a).forEach(i=>{t.style[i]=a[i]}),t.width=t.width,delete t[l0],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),o={attach:Kne,detach:Qne,resize:eie}[t]||tie;a[t]=o(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),a=s[t];if(!a)return;({attach:a1,detach:a1,resize:a1}[t]||Xne)(e,t,a),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,a){return Vae(e,t,s,a)}isAttached(e){const t=e&&Ak(e);return!!(t&&t.isConnected)}}function rie(r){return!_k()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?$ne:sie}let Zl=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return qf(this.x)&&qf(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const a={};return e.forEach(i=>{a[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),a}};function aie(r,e){const t=r.options.ticks,s=nie(r),a=Math.min(t.maxTicksLimit||s,s),i=t.major.enabled?oie(e):[],o=i.length,l=i[0],c=i[o-1],u=[];if(o>a)return lie(e,u,i,o/a),u;const h=iie(i,e,a);if(o>0){let f,g;const x=o>1?Math.round((c-l)/(o-1)):null;for(Tx(e,u,h,Ts(x)?0:l-x,l),f=0,g=o-1;f<g;f++)Tx(e,u,h,i[f],i[f+1]);return Tx(e,u,h,c,Ts(x)?e.length:c+x),u}return Tx(e,u,h),u}function nie(r){const e=r.options.offset,t=r._tickSize(),s=r._length/t+(e?0:1),a=r._maxLength/t;return Math.floor(Math.min(s,a))}function iie(r,e,t){const s=cie(r),a=e.length/t;if(!s)return Math.max(a,1);const i=zre(s);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function oie(r){const e=[];let t,s;for(t=0,s=r.length;t<s;t++)r[t].major&&e.push(t);return e}function lie(r,e,t,s){let a=0,i=t[0],o;for(s=Math.ceil(s),o=0;o<r.length;o++)o===i&&(e.push(r[o]),a++,i=t[a*s])}function Tx(r,e,t,s,a){const i=Qt(s,0),o=Math.min(Qt(a,r.length),r.length);let l=0,c,u,h;for(t=Math.ceil(t),a&&(c=a-s,t=c/Math.floor(c/t)),h=i;h<0;)l++,h=Math.round(i+l*t);for(u=Math.max(i,0);u<o;u++)u===h&&(e.push(r[u]),l++,h=Math.round(i+l*t))}function cie(r){const e=r.length;let t,s;if(e<2)return!1;for(s=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==s)return!1;return s}const die=r=>r==="left"?"right":r==="right"?"left":r,rI=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,aI=(r,e)=>Math.min(e||r,r);function nI(r,e){const t=[],s=r.length/e,a=r.length;let i=0;for(;i<a;i+=s)t.push(r[Math.floor(i)]);return t}function uie(r,e,t){const s=r.ticks.length,a=Math.min(e,s-1),i=r._startPixel,o=r._endPixel,l=1e-6;let c=r.getPixelForTick(a),u;if(!(t&&(s===1?u=Math.max(c-i,o-c):e===0?u=(r.getPixelForTick(1)-c)/2:u=(c-r.getPixelForTick(a-1))/2,c+=a<e?u:-u,c<i-l||c>o+l)))return c}function hie(r,e){Vs(r,t=>{const s=t.gc,a=s.length/2;let i;if(a>e){for(i=0;i<a;++i)delete t.data[s[i]];s.splice(0,a)}})}function Mm(r){return r.drawTicks?r.tickLength:0}function iI(r,e){if(!r.display)return 0;const t=Ja(r.font,e),s=ni(r.padding);return(ra(r.text)?r.text.length:1)*t.lineHeight+s.height}function mie(r,e){return _d(r,{scale:e,type:"scale"})}function fie(r,e,t){return _d(r,{tick:t,index:e,type:"tick"})}function gie(r,e,t){let s=_O(r);return(t&&e!=="right"||!t&&e==="right")&&(s=die(s)),s}function pie(r,e,t,s){const{top:a,left:i,bottom:o,right:l,chart:c}=r,{chartArea:u,scales:h}=c;let f=0,g,x,y;const b=o-a,v=l-i;if(r.isHorizontal()){if(x=fn(s,i,l),fs(t)){const N=Object.keys(t)[0],k=t[N];y=h[N].getPixelForValue(k)+b-e}else t==="center"?y=(u.bottom+u.top)/2+b-e:y=rI(r,t,e);g=l-i}else{if(fs(t)){const N=Object.keys(t)[0],k=t[N];x=h[N].getPixelForValue(k)-v+e}else t==="center"?x=(u.left+u.right)/2-v+e:x=rI(r,t,e);y=fn(s,o,a),f=t==="left"?-Wr:Wr}return{titleX:x,titleY:y,maxWidth:g,rotation:f}}class yh extends Zl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:a}=this;return e=ji(e,Number.POSITIVE_INFINITY),t=ji(t,Number.NEGATIVE_INFINITY),s=ji(s,Number.POSITIVE_INFINITY),a=ji(a,Number.NEGATIVE_INFINITY),{min:ji(e,s),max:ji(t,a),minDefined:Bn(e),maxDefined:Bn(t)}}getMinMax(e){let{min:t,max:s,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:t,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)o=l[c].controller.getMinMax(this,e),a||(t=Math.min(t,o.min)),i||(s=Math.max(s,o.max));return t=i&&t>s?s:t,s=a&&t>s?t:s,{min:ji(t,ji(s,t)),max:ji(s,ji(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ir(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yae(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?nI(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=aie(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ir(this.options.afterUpdate,[this])}beforeSetDimensions(){ir(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ir(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ir(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ir(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,a,i;for(s=0,a=e.length;s<a;s++)i=e[s],i.label=ir(t.callback,[i.value,s,e],this)}afterTickToLabelConversion(){ir(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ir(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=aI(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,i=t.maxRotation;let o=a,l,c,u;if(!this._isVisible()||!t.display||a>=i||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const h=this._getLabelSizes(),f=h.widest.width,g=h.highest.height,x=ka(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/s:x/(s-1),f+6>l&&(l=x/(s-(e.offset?.5:1)),c=this.maxHeight-Mm(e.grid)-t.padding-iI(e.title,this.chart.options.font),u=Math.sqrt(f*f+g*g),o=$re(Math.min(Math.asin(ka((h.highest.height+6)/l,-1,1)),Math.asin(ka(c/u,-1,1))-Math.asin(ka(g/u,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){ir(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ir(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=iI(a,t.options.font);if(l?(e.width=this.maxWidth,e.height=Mm(i)+c):(e.height=this.maxHeight,e.width=Mm(i)+c),s.display&&this.ticks.length){const{first:u,last:h,widest:f,highest:g}=this._getLabelSizes(),x=s.padding*2,y=ko(this.labelRotation),b=Math.cos(y),v=Math.sin(y);if(l){const N=s.mirror?0:v*f.width+b*g.height;e.height=Math.min(this.maxHeight,e.height+N+x)}else{const N=s.mirror?0:b*f.width+v*g.height;e.width=Math.min(this.maxWidth,e.width+N+x)}this._calculatePadding(u,h,v,b)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,x=0;c?u?(g=a*e.width,x=s*t.height):(g=s*e.height,x=a*t.width):i==="start"?x=t.width:i==="end"?g=e.width:i!=="inner"&&(g=e.width/2,x=t.width/2),this.paddingLeft=Math.max((g-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((x-f+o)*this.width/(this.width-f),0)}else{let h=t.height/2,f=e.height/2;i==="start"?(h=0,f=e.height):i==="end"&&(h=t.height,f=0),this.paddingTop=h+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ir(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)Ts(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=nI(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(t/aI(t,s));let u=0,h=0,f,g,x,y,b,v,N,k,C,R,_;for(f=0;f<t;f+=c){if(y=e[f].label,b=this._resolveTickFontOptions(f),a.font=v=b.string,N=i[v]=i[v]||{data:{},gc:[]},k=b.lineHeight,C=R=0,!Ts(y)&&!ra(y))C=IR(a,N.data,N.gc,C,y),R=k;else if(ra(y))for(g=0,x=y.length;g<x;++g)_=y[g],!Ts(_)&&!ra(_)&&(C=IR(a,N.data,N.gc,C,_),R+=k);o.push(C),l.push(R),u=Math.max(C,u),h=Math.max(R,h)}hie(i,t);const I=o.indexOf(u),P=l.indexOf(h),T=D=>({width:o[D]||0,height:l[D]||0});return{first:T(0),last:T(t-1),widest:T(I),highest:T(P),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Yre(this._alignToPixels?Ac(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=fie(this.getContext(),e,s))}return this.$context||(this.$context=mie(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ko(this.labelRotation),s=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>l*a?l/s:c/a:c*a<l*s?c/s:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),g=Mm(i),x=[],y=l.setContext(this.getContext()),b=y.display?y.width:0,v=b/2,N=function(B){return Ac(s,B,b)};let k,C,R,_,I,P,T,D,L,F,z,O;if(o==="top")k=N(this.bottom),P=this.bottom-g,D=k-v,F=N(e.top)+v,O=e.bottom;else if(o==="bottom")k=N(this.top),F=e.top,O=N(e.bottom)-v,P=k+v,D=this.top+g;else if(o==="left")k=N(this.right),I=this.right-g,T=k-v,L=N(e.left)+v,z=e.right;else if(o==="right")k=N(this.left),L=e.left,z=N(e.right)-v,I=k+v,T=this.left+g;else if(t==="x"){if(o==="center")k=N((e.top+e.bottom)/2+.5);else if(fs(o)){const B=Object.keys(o)[0],q=o[B];k=N(this.chart.scales[B].getPixelForValue(q))}F=e.top,O=e.bottom,P=k+v,D=P+g}else if(t==="y"){if(o==="center")k=N((e.left+e.right)/2);else if(fs(o)){const B=Object.keys(o)[0],q=o[B];k=N(this.chart.scales[B].getPixelForValue(q))}I=k-v,T=I-g,L=e.left,z=e.right}const V=Qt(a.ticks.maxTicksLimit,f),H=Math.max(1,Math.ceil(f/V));for(C=0;C<f;C+=H){const B=this.getContext(C),q=i.setContext(B),ee=l.setContext(B),G=q.lineWidth,$=q.color,Q=ee.dash||[],te=ee.dashOffset,ne=q.tickWidth,ce=q.tickColor,Re=q.tickBorderDash||[],de=q.tickBorderDashOffset;R=uie(this,C,c),R!==void 0&&(_=Ac(s,R,G),u?I=T=L=z=_:P=D=F=O=_,x.push({tx1:I,ty1:P,tx2:T,ty2:D,x1:L,y1:F,x2:z,y2:O,width:G,color:$,borderDash:Q,borderDashOffset:te,tickWidth:ne,tickColor:ce,tickBorderDash:Re,tickBorderDashOffset:de}))}return this._ticksLength=f,this._borderValue=k,x}_computeLabelItems(e){const t=this.axis,s=this.options,{position:a,ticks:i}=s,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:h,mirror:f}=i,g=Mm(s.grid),x=g+h,y=f?-h:x,b=-ko(this.labelRotation),v=[];let N,k,C,R,_,I,P,T,D,L,F,z,O="middle";if(a==="top")I=this.bottom-y,P=this._getXAxisLabelAlignment();else if(a==="bottom")I=this.top+y,P=this._getXAxisLabelAlignment();else if(a==="left"){const H=this._getYAxisLabelAlignment(g);P=H.textAlign,_=H.x}else if(a==="right"){const H=this._getYAxisLabelAlignment(g);P=H.textAlign,_=H.x}else if(t==="x"){if(a==="center")I=(e.top+e.bottom)/2+x;else if(fs(a)){const H=Object.keys(a)[0],B=a[H];I=this.chart.scales[H].getPixelForValue(B)+x}P=this._getXAxisLabelAlignment()}else if(t==="y"){if(a==="center")_=(e.left+e.right)/2-x;else if(fs(a)){const H=Object.keys(a)[0],B=a[H];_=this.chart.scales[H].getPixelForValue(B)}P=this._getYAxisLabelAlignment(g).textAlign}t==="y"&&(c==="start"?O="top":c==="end"&&(O="bottom"));const V=this._getLabelSizes();for(N=0,k=l.length;N<k;++N){C=l[N],R=C.label;const H=i.setContext(this.getContext(N));T=this.getPixelForTick(N)+i.labelOffset,D=this._resolveTickFontOptions(N),L=D.lineHeight,F=ra(R)?R.length:1;const B=F/2,q=H.color,ee=H.textStrokeColor,G=H.textStrokeWidth;let $=P;o?(_=T,P==="inner"&&(N===k-1?$=this.options.reverse?"left":"right":N===0?$=this.options.reverse?"right":"left":$="center"),a==="top"?u==="near"||b!==0?z=-F*L+L/2:u==="center"?z=-V.highest.height/2-B*L+L:z=-V.highest.height+L/2:u==="near"||b!==0?z=L/2:u==="center"?z=V.highest.height/2-B*L:z=V.highest.height-F*L,f&&(z*=-1),b!==0&&!H.showLabelBackdrop&&(_+=L/2*Math.sin(b))):(I=T,z=(1-F)*L/2);let Q;if(H.showLabelBackdrop){const te=ni(H.backdropPadding),ne=V.heights[N],ce=V.widths[N];let Re=z-te.top,de=0-te.left;switch(O){case"middle":Re-=ne/2;break;case"bottom":Re-=ne;break}switch(P){case"center":de-=ce/2;break;case"right":de-=ce;break;case"inner":N===k-1?de-=ce:N>0&&(de-=ce/2);break}Q={left:de,top:Re,width:ce+te.width,height:ne+te.height,color:H.backdropColor}}v.push({label:R,font:D,textOffset:z,options:{rotation:b,color:q,strokeColor:ee,strokeWidth:G,textAlign:$,textBaseline:O,translation:[_,I],backdrop:Q}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ko(this.labelRotation))return e==="top"?"left":"right";let a="center";return t.align==="start"?a="left":t.align==="end"?a="right":t.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let u,h;return t==="left"?a?(h=this.right+i,s==="near"?u="left":s==="center"?(u="center",h+=c/2):(u="right",h+=c)):(h=this.right-l,s==="near"?u="right":s==="center"?(u="center",h-=c/2):(u="left",h=this.left)):t==="right"?a?(h=this.left+i,s==="near"?u="right":s==="center"?(u="center",h-=c/2):(u="left",h-=c)):(h=this.left+l,s==="near"?u="left":s==="center"?(u="center",h+=c/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:a,width:i,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,a,i,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?t.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,u,h)=>{!h.width||!h.color||(s.save(),s.lineWidth=h.width,s.strokeStyle=h.color,s.setLineDash(h.borderDash||[]),s.lineDashOffset=h.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(t.display)for(i=0,o=a.length;i<o;++i){const c=a[i];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:a}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,h,f,g;this.isHorizontal()?(u=Ac(e,this.left,o)-o/2,h=Ac(e,this.right,l)+l/2,f=g=c):(f=Ac(e,this.top,o)-o/2,g=Ac(e,this.bottom,l)+l/2,u=h=c),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(u,f),t.lineTo(h,g),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&vk(s,a);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,u=o.label,h=o.textOffset;K0(s,u,0,h,c,l)}a&&wk(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:a}}=this;if(!s.display)return;const i=Ja(s.font),o=ni(s.padding),l=s.align;let c=i.lineHeight/2;t==="bottom"||t==="center"||fs(t)?(c+=o.bottom,ra(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:u,titleY:h,maxWidth:f,rotation:g}=pie(this,c,t,l);K0(e,s.text,0,0,i,{color:s.color,maxWidth:f,rotation:g,textAlign:gie(l,t,a),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=Qt(e.grid&&e.grid.z,-1),a=Qt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==yh.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let i,o;for(i=0,o=t.length;i<o;++i){const l=t[i];l[s]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Ja(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Px{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;yie(t)&&(s=this.register(t));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,xie(e,o,s),this.override&&Tr.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,a=this.scope;s in t&&delete t[s],a&&s in Tr[a]&&(delete Tr[a][s],this.override&&delete pd[s])}}function xie(r,e,t){const s=Wf(Object.create(null),[t?Tr.get(t):{},Tr.get(e),r.defaults]);Tr.set(e,s),r.defaultRoutes&&bie(e,r.defaultRoutes),r.descriptors&&Tr.describe(e,r.descriptors)}function bie(r,e){Object.keys(e).forEach(t=>{const s=t.split("."),a=s.pop(),i=[r].concat(s).join("."),o=e[t].split("."),l=o.pop(),c=o.join(".");Tr.route(i,a,c,l)})}function yie(r){return"id"in r&&"defaults"in r}class vie{constructor(){this.controllers=new Px(ey,"datasets",!0),this.elements=new Px(Zl,"elements"),this.plugins=new Px(Object,"plugins"),this.scales=new Px(yh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(a=>{const i=s||this._getRegistryForType(a);s||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):Vs(a,o=>{const l=s||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,t,s){const a=pk(e);ir(s["before"+a],[],s),t[e](s),ir(s["after"+a],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const a=t.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var _i=new vie;class wie{constructor(){this._init=[]}notify(e,t,s,a){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,t,s);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,s,a){a=a||{};for(const i of e){const o=i.plugin,l=o[s],c=[t,a,i.options];if(ir(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){Ts(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,a=Qt(s.options&&s.options.plugins,{}),i=Nie(s);return a===!1&&!t?[]:kie(e,i,a,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(t,s),e,"stop"),this._notify(a(s,t),e,"start")}}function Nie(r){const e={},t=[],s=Object.keys(_i.plugins.items);for(let i=0;i<s.length;i++)t.push(_i.getPlugin(s[i]));const a=r.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function jie(r,e){return!e&&r===!1?null:r===!0?{}:r}function kie(r,{plugins:e,localIds:t},s,a){const i=[],o=r.getContext();for(const l of e){const c=l.id,u=jie(s[c],a);u!==null&&i.push({plugin:l,options:Sie(r.config,{plugin:l,local:t[c]},u,o)})}return i}function Sie(r,{plugin:e,local:t},s,a){const i=r.pluginScopeKeys(e),o=r.getOptionScopes(s,i);return t&&e.defaults&&o.push(e.defaults),r.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zN(r,e){const t=Tr.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function _ie(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function Aie(r,e){return r===e?"_index_":"_value_"}function oI(r){if(r==="x"||r==="y"||r==="r")return r}function Cie(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function VN(r,...e){if(oI(r))return r;for(const t of e){const s=t.axis||Cie(t.position)||r.length>1&&oI(r[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function lI(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function Eie(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===r||s.yAxisID===r);if(t.length)return lI(r,"x",t[0])||lI(r,"y",t[0])}return{}}function Tie(r,e){const t=pd[r.type]||{scales:{}},s=e.scales||{},a=zN(r.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const l=s[o];if(!fs(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=VN(o,l,Eie(o,r),Tr.scales[l.type]),u=Aie(c,a),h=t.scales||{};i[o]=pf(Object.create(null),[{axis:c},l,h[c],h[u]])}),r.data.datasets.forEach(o=>{const l=o.type||r.type,c=o.indexAxis||zN(l,e),h=(pd[l]||{}).scales||{};Object.keys(h).forEach(f=>{const g=_ie(f,c),x=o[g+"AxisID"]||g;i[x]=i[x]||Object.create(null),pf(i[x],[{axis:g},s[x],h[f]])})}),Object.keys(i).forEach(o=>{const l=i[o];pf(l,[Tr.scales[l.type],Tr.scale])}),i}function YO(r){const e=r.options||(r.options={});e.plugins=Qt(e.plugins,{}),e.scales=Tie(r,e)}function qO(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function Pie(r){return r=r||{},r.data=qO(r.data),YO(r),r}const cI=new Map,XO=new Set;function Rx(r,e){let t=cI.get(r);return t||(t=e(),cI.set(r,t),XO.add(t)),t}const Om=(r,e,t)=>{const s=gd(e,t);s!==void 0&&r.add(s)};class Rie{constructor(e){this._config=Pie(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qO(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),YO(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Rx(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Rx(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Rx(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return Rx(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let a=s.get(e);return(!a||t)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,t,s){const{options:a,type:i}=this,o=this._cachedScopes(e,s),l=o.get(t);if(l)return l;const c=new Set;t.forEach(h=>{e&&(c.add(e),h.forEach(f=>Om(c,e,f))),h.forEach(f=>Om(c,a,f)),h.forEach(f=>Om(c,pd[i]||{},f)),h.forEach(f=>Om(c,Tr,f)),h.forEach(f=>Om(c,FN,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),XO.has(t)&&o.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,pd[t]||{},Tr.datasets[t]||{},{type:t},Tr,FN]}resolveNamedOptions(e,t,s,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=dI(this._resolverCache,e,a);let c=o;if(Die(o,t)){i.$shared=!1,s=Vl(s)?s():s;const u=this.createResolver(e,s,l);c=eh(o,s,u)}for(const u of t)i[u]=c[u];return i}createResolver(e,t,s=[""],a){const{resolver:i}=dI(this._resolverCache,e,s);return fs(t)?eh(i,t,void 0,a):i}}function dI(r,e,t){let s=r.get(e);s||(s=new Map,r.set(e,s));const a=t.join();let i=s.get(a);return i||(i={resolver:jk(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},s.set(a,i)),i}const Iie=r=>fs(r)&&Object.getOwnPropertyNames(r).some(e=>Vl(r[e]));function Die(r,e){const{isScriptable:t,isIndexable:s}=TO(r);for(const a of e){const i=t(a),o=s(a),l=(o||i)&&r[a];if(i&&(Vl(l)||Iie(l))||o&&ra(l))return!0}return!1}var Mie="4.5.0";const Oie=["top","bottom","left","right","chartArea"];function uI(r,e){return r==="top"||r==="bottom"||Oie.indexOf(r)===-1&&e==="x"}function hI(r,e){return function(t,s){return t[r]===s[r]?t[e]-s[e]:t[r]-s[r]}}function mI(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),ir(t&&t.onComplete,[r],e)}function Lie(r){const e=r.chart,t=e.options.animation;ir(t&&t.onProgress,[r],e)}function GO(r){return _k()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const c0={},fI=r=>{const e=GO(r);return Object.values(c0).filter(t=>t.canvas===e).pop()};function Fie(r,e,t){const s=Object.keys(r);for(const a of s){const i=+a;if(i>=e){const o=r[a];delete r[a],(t>0||i>e)&&(r[i+t]=o)}}}function Uie(r,e,t,s){return!t||r.type==="mouseout"?null:s?e:r}let vh=class{static defaults=Tr;static instances=c0;static overrides=pd;static registry=_i;static version=Mie;static getChart=fI;static register(...e){_i.add(...e),gI()}static unregister(...e){_i.remove(...e),gI()}constructor(e,t){const s=this.config=new Rie(t),a=GO(e),i=fI(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||rie(a)),this.platform.updateConfig(s);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,u=c&&c.height,h=c&&c.width;if(this.id=Pre(),this.ctx=l,this.canvas=c,this.width=h,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Kre(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],c0[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}bo.listen(this,"complete",mI),bo.listen(this,"progress",Lie),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:a,_aspectRatio:i}=this;return Ts(e)?t&&i?i:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return _i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():LR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return DR(this.canvas,this.ctx),this}stop(){return bo.stop(this),this}resize(e,t){bo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,a=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,t,i),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,LR(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),ir(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Vs(t,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,a=Object.keys(s).reduce((o,l)=>(o[l]=!1,o),{});let i=[];t&&(i=i.concat(Object.keys(t).map(o=>{const l=t[o],c=VN(o,l),u=c==="r",h=c==="x";return{options:l,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),Vs(i,o=>{const l=o.options,c=l.id,u=VN(c,l),h=Qt(l.type,o.dtype);(l.position===void 0||uI(l.position,u)!==uI(o.dposition))&&(l.position=o.dposition),a[c]=!0;let f=null;if(c in s&&s[c].type===h)f=s[c];else{const g=_i.getScale(h);f=new g({id:c,type:h,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(l,e)}),Vs(a,(o,l)=>{o||delete s[l]}),Vs(s,o=>{vl.configure(this,o,o.options),vl.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((a,i)=>a.index-i.index),s>t){for(let a=t;a<s;++a)this._destroyDatasetMeta(a);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(hI("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,a)=>{t.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=t.length;s<a;s++){const i=t[s];let o=this.getDatasetMeta(s);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=l,o.indexAxis=i.indexAxis||zN(l,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=_i.getController(l),{datasetElementType:u,dataElementType:h}=Tr.datasets[l];Object.assign(c,{dataElementType:_i.getElement(h),datasetElementType:u&&_i.getElement(u)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Vs(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:f}=this.getDatasetMeta(u),g=!a&&i.indexOf(f)===-1;f.buildOrUpdateElements(g),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),a||Vs(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(hI("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Vs(this.scales,e=>{vl.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!kR(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:i}of t){const o=s==="_removeElements"?-i:i;Fie(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=s(0);for(let i=1;i<t;i++)if(!kR(a,s(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vl.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Vs(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Vl(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bo.has(this)?this.attached&&!bo.running(this)&&bo.start(this):(this.draw(),mI({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let a,i;for(a=0,i=t.length;a<i;++a){const o=t[a];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=sne(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&vk(t,a),e.controller.draw(),a&&wk(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Gf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,a){const i=One.modes[t];return typeof i=="function"?i(this,e,s,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let a=s.filter(i=>i&&i._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=_d(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const a=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);Yf(t)?(i.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),bo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),DR(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete c0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(i,o)=>{t.addEventListener(this,i,o),e[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};Vs(this.options.events,i=>s(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(c,u)=>{t.addEventListener(this,c,u),e[c]=u},a=(c,u)=>{e[c]&&(t.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),s("attach",l)},t.isAttached(this.canvas)?l():o()}unbindEvents(){Vs(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Vs(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const a=s?"set":"remove";let i,o,l,c;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!q0(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const a=this.options.hover,i=(c,u)=>c.filter(h=>!u.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),o=i(t,e),l=s?e:i(e,t);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const i=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(i||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:a=[],options:i}=this,o=t,l=this._getActiveElements(e,a,s,o),c=Lre(e),u=Uie(e,this._lastEvent,s,c);s&&(this._lastEvent=null,ir(i.onHover,[e,l,this],this),c&&ir(i.onClick,[e,l,this],this));const h=!q0(l,a);return(h||t)&&(this._active=l,this._updateHoverStyles(l,a,t)),this._lastEvent=u,h}_getActiveElements(e,t,s,a){if(e.type==="mouseout")return[];if(!s)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}};function gI(){return Vs(vh.instances,r=>r._plugins.invalidate())}function zie(r,e,t){const{startAngle:s,x:a,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:h}=c,f=Math.min(u/o,Gn(s-t));if(r.beginPath(),r.arc(a,i,o-u/2,s+f/2,t-f/2),l>0){const g=Math.min(u/l,Gn(s-t));r.arc(a,i,l+u/2,t-g/2,s+g/2,!0)}else{const g=Math.min(u/2,o*Gn(s-t));if(h==="round")r.arc(a,i,g,t-er/2,s+er/2,!0);else if(h==="bevel"){const x=2*g*g,y=-x*Math.cos(t+er/2)+a,b=-x*Math.sin(t+er/2)+i,v=x*Math.cos(s+er/2)+a,N=x*Math.sin(s+er/2)+i;r.lineTo(y,b),r.lineTo(v,N)}}r.closePath(),r.moveTo(0,0),r.rect(0,0,r.canvas.width,r.canvas.height),r.clip("evenodd")}function Vie(r,e,t){const{startAngle:s,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=e;let u=a/l;r.beginPath(),r.arc(i,o,l,s-u,t+u),c>a?(u=a/c,r.arc(i,o,c,t+u,s-u,!0)):r.arc(i,o,a,t+Wr,s-Wr),r.closePath(),r.clip()}function Bie(r){return Nk(r,["outerStart","outerEnd","innerStart","innerEnd"])}function Hie(r,e,t,s){const a=Bie(r.options.borderRadius),i=(t-e)/2,o=Math.min(i,s*e/2),l=c=>{const u=(t-Math.min(i,c))*s/2;return ka(c,0,Math.min(i,u))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:ka(a.innerStart,0,o),innerEnd:ka(a.innerEnd,0,o)}}function gu(r,e,t,s){return{x:t+r*Math.cos(e),y:s+r*Math.sin(e)}}function eb(r,e,t,s,a,i){const{x:o,y:l,startAngle:c,pixelMargin:u,innerRadius:h}=e,f=Math.max(e.outerRadius+s+t-u,0),g=h>0?h+s+t+u:0;let x=0;const y=a-c;if(s){const H=h>0?h-s:0,B=f>0?f-s:0,q=(H+B)/2,ee=q!==0?y*q/(q+s):y;x=(y-ee)/2}const b=Math.max(.001,y*f-t/er)/f,v=(y-b)/2,N=c+v+x,k=a-v-x,{outerStart:C,outerEnd:R,innerStart:_,innerEnd:I}=Hie(e,g,f,k-N),P=f-C,T=f-R,D=N+C/P,L=k-R/T,F=g+_,z=g+I,O=N+_/F,V=k-I/z;if(r.beginPath(),i){const H=(D+L)/2;if(r.arc(o,l,f,D,H),r.arc(o,l,f,H,L),R>0){const G=gu(T,L,o,l);r.arc(G.x,G.y,R,L,k+Wr)}const B=gu(z,k,o,l);if(r.lineTo(B.x,B.y),I>0){const G=gu(z,V,o,l);r.arc(G.x,G.y,I,k+Wr,V+Math.PI)}const q=(k-I/g+(N+_/g))/2;if(r.arc(o,l,g,k-I/g,q,!0),r.arc(o,l,g,q,N+_/g,!0),_>0){const G=gu(F,O,o,l);r.arc(G.x,G.y,_,O+Math.PI,N-Wr)}const ee=gu(P,N,o,l);if(r.lineTo(ee.x,ee.y),C>0){const G=gu(P,D,o,l);r.arc(G.x,G.y,C,N-Wr,D)}}else{r.moveTo(o,l);const H=Math.cos(D)*f+o,B=Math.sin(D)*f+l;r.lineTo(H,B);const q=Math.cos(L)*f+o,ee=Math.sin(L)*f+l;r.lineTo(q,ee)}r.closePath()}function $ie(r,e,t,s,a){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){eb(r,e,t,s,c,a);for(let u=0;u<i;++u)r.fill();isNaN(l)||(c=o+(l%yr||yr))}return eb(r,e,t,s,c,a),r.fill(),c}function Wie(r,e,t,s,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:h,borderDash:f,borderDashOffset:g,borderRadius:x}=c,y=c.borderAlign==="inner";if(!u)return;r.setLineDash(f||[]),r.lineDashOffset=g,y?(r.lineWidth=u*2,r.lineJoin=h||"round"):(r.lineWidth=u,r.lineJoin=h||"bevel");let b=e.endAngle;if(i){eb(r,e,t,s,b,a);for(let v=0;v<i;++v)r.stroke();isNaN(l)||(b=o+(l%yr||yr))}y&&Vie(r,e,b),c.selfJoin&&b-o>=er&&x===0&&h!=="miter"&&zie(r,e,b),i||(eb(r,e,t,s,b,a),r.stroke())}class KO extends Zl{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.getProps(["x","y"],s),{angle:i,distance:o}=wO(a,{x:e,y:t}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),g=(this.options.spacing+this.options.borderWidth)/2,x=Qt(f,c-l),y=Xf(i,l,c)&&l!==c,b=x>=yr||y,v=yl(o,u+g,h+g);return b&&v}getCenterPoint(e){const{x:t,y:s,startAngle:a,endAngle:i,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:u}=this.options,h=(a+i)/2,f=(o+l+u+c)/2;return{x:t+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,a=(t.offset||0)/4,i=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>yr?Math.floor(s/yr):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*a,Math.sin(l)*a);const c=1-Math.sin(Math.min(er,s||0)),u=a*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,$ie(e,this,u,i,o),Wie(e,this,u,i,o),e.restore()}}function QO(r,e,t=e){r.lineCap=Qt(t.borderCapStyle,e.borderCapStyle),r.setLineDash(Qt(t.borderDash,e.borderDash)),r.lineDashOffset=Qt(t.borderDashOffset,e.borderDashOffset),r.lineJoin=Qt(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=Qt(t.borderWidth,e.borderWidth),r.strokeStyle=Qt(t.borderColor,e.borderColor)}function Yie(r,e,t){r.lineTo(t.x,t.y)}function qie(r){return r.stepped?dae:r.tension||r.cubicInterpolationMode==="monotone"?uae:Yie}function ZO(r,e,t={}){const s=r.length,{start:a=0,end:i=s-1}=t,{start:o,end:l}=e,c=Math.max(a,o),u=Math.min(i,l),h=a<o&&i<o||a>l&&i>l;return{count:s,start:c,loop:e.loop,ilen:u<c&&!h?s+u-c:u-c}}function Xie(r,e,t,s){const{points:a,options:i}=e,{count:o,start:l,loop:c,ilen:u}=ZO(a,t,s),h=qie(i);let{move:f=!0,reverse:g}=s||{},x,y,b;for(x=0;x<=u;++x)y=a[(l+(g?u-x:x))%o],!y.skip&&(f?(r.moveTo(y.x,y.y),f=!1):h(r,b,y,g,i.stepped),b=y);return c&&(y=a[(l+(g?u:0))%o],h(r,b,y,g,i.stepped)),!!c}function Gie(r,e,t,s){const a=e.points,{count:i,start:o,ilen:l}=ZO(a,t,s),{move:c=!0,reverse:u}=s||{};let h=0,f=0,g,x,y,b,v,N;const k=R=>(o+(u?l-R:R))%i,C=()=>{b!==v&&(r.lineTo(h,v),r.lineTo(h,b),r.lineTo(h,N))};for(c&&(x=a[k(0)],r.moveTo(x.x,x.y)),g=0;g<=l;++g){if(x=a[k(g)],x.skip)continue;const R=x.x,_=x.y,I=R|0;I===y?(_<b?b=_:_>v&&(v=_),h=(f*h+R)/++f):(C(),r.lineTo(R,_),y=I,f=0,b=v=_),N=_}C()}function BN(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Gie:Xie}function Kie(r){return r.stepped?Hae:r.tension||r.cubicInterpolationMode==="monotone"?$ae:Mc}function Qie(r,e,t,s){let a=e._path;a||(a=e._path=new Path2D,e.path(a,t,s)&&a.closePath()),QO(r,e.options),r.stroke(a)}function Zie(r,e,t,s){const{segments:a,options:i}=e,o=BN(e);for(const l of a)QO(r,i,l.style),r.beginPath(),o(r,e,l,{start:t,end:t+s-1})&&r.closePath(),r.stroke()}const Jie=typeof Path2D=="function";function eoe(r,e,t,s){Jie&&!e.options.segment?Qie(r,e,t,s):Zie(r,e,t,s)}class toe extends Zl{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;Mae(this._points,s,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Zae(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,a=e[t],i=this.points,o=Gae(this,{property:t,start:a,end:a});if(!o.length)return;const l=[],c=Kie(s);let u,h;for(u=0,h=o.length;u<h;++u){const{start:f,end:g}=o[u],x=i[f],y=i[g];if(x===y){l.push(x);continue}const b=Math.abs((a-x[t])/(y[t]-x[t])),v=c(x,y,b,s.stepped);v[t]=e[t],l.push(v)}return l.length===1?l[0]:l}pathSegment(e,t,s){return BN(this)(e,this,t,s)}path(e,t,s){const a=this.segments,i=BN(this);let o=this._loop;t=t||0,s=s||this.points.length-t;for(const l of a)o&=i(e,this,l,{start:t,end:t+s-1});return!!o}draw(e,t,s,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),eoe(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function pI(r,e,t,s){const a=r.options,{[t]:i}=r.getProps([t],s);return Math.abs(e-i)<a.radius+a.hitRadius}class soe extends Zl{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.options,{x:i,y:o}=this.getProps(["x","y"],s);return Math.pow(e-i,2)+Math.pow(t-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return pI(this,e,"x",t)}inYRange(e,t){return pI(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!Gf(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,UN(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function JO(r,e){const{x:t,y:s,base:a,width:i,height:o}=r.getProps(["x","y","base","width","height"],e);let l,c,u,h,f;return r.horizontal?(f=o/2,l=Math.min(t,a),c=Math.max(t,a),u=s-f,h=s+f):(f=i/2,l=t-f,c=t+f,u=Math.min(s,a),h=Math.max(s,a)),{left:l,top:u,right:c,bottom:h}}function wl(r,e,t,s){return r?0:ka(e,t,s)}function roe(r,e,t){const s=r.options.borderWidth,a=r.borderSkipped,i=EO(s);return{t:wl(a.top,i.top,0,t),r:wl(a.right,i.right,0,e),b:wl(a.bottom,i.bottom,0,t),l:wl(a.left,i.left,0,e)}}function aoe(r,e,t){const{enableBorderRadius:s}=r.getProps(["enableBorderRadius"]),a=r.options.borderRadius,i=Uu(a),o=Math.min(e,t),l=r.borderSkipped,c=s||fs(a);return{topLeft:wl(!c||l.top||l.left,i.topLeft,0,o),topRight:wl(!c||l.top||l.right,i.topRight,0,o),bottomLeft:wl(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:wl(!c||l.bottom||l.right,i.bottomRight,0,o)}}function noe(r){const e=JO(r),t=e.right-e.left,s=e.bottom-e.top,a=roe(r,t/2,s/2),i=aoe(r,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:t-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function n1(r,e,t,s){const a=e===null,i=t===null,l=r&&!(a&&i)&&JO(r,s);return l&&(a||yl(e,l.left,l.right))&&(i||yl(t,l.top,l.bottom))}function ioe(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function ooe(r,e){r.rect(e.x,e.y,e.w,e.h)}function i1(r,e,t={}){const s=r.x!==t.x?-e:0,a=r.y!==t.y?-e:0,i=(r.x+r.w!==t.x+t.w?e:0)-s,o=(r.y+r.h!==t.y+t.h?e:0)-a;return{x:r.x+s,y:r.y+a,w:r.w+i,h:r.h+o,radius:r.radius}}class Ek extends Zl{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:a}}=this,{inner:i,outer:o}=noe(this),l=ioe(o.radius)?Q0:ooe;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,i1(o,t,i)),e.clip(),l(e,i1(i,-t,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),l(e,i1(i,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,s){return n1(this,e,t,s)}inXRange(e,t){return n1(this,e,null,t)}inYRange(e,t){return n1(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+a)/2:t,y:i?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const xI=(r,e)=>{let{boxHeight:t=e,boxWidth:s=e}=r;return r.usePointStyle&&(t=Math.min(t,e),s=r.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},loe=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class bI extends Zl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ir(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=Ja(s.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=xI(s,i);let u,h;t.font=a.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(o,i,l,c)+10):(h=this.maxHeight,u=this._fitCols(o,a,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],h=a+l;let f=e;i.textAlign="left",i.textBaseline="middle";let g=-1,x=-h;return this.legendItems.forEach((y,b)=>{const v=s+t/2+i.measureText(y.text).width;(b===0||u[u.length-1]+v+2*l>o)&&(f+=h,u[u.length-(b>0?0:1)]=0,x+=h,g++),c[b]={left:0,top:x,row:g,width:v,height:a},u[u.length-1]+=v+l}),f}_fitCols(e,t,s,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],h=o-e;let f=l,g=0,x=0,y=0,b=0;return this.legendItems.forEach((v,N)=>{const{itemWidth:k,itemHeight:C}=coe(s,t,i,v,a);N>0&&x+C+2*l>h&&(f+=g+l,u.push({width:g,height:x}),y+=g+l,b++,g=x=0),c[N]={left:y,top:x,col:b,width:k,height:C},g=Math.max(g,k),x+=C+l}),f+=g,u.push({width:g,height:x}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:a},rtl:i}}=this,o=zu(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=fn(s,this.left+a,this.right-this.lineWidths[l]);for(const u of t)l!==u.row&&(l=u.row,c=fn(s,this.left+a,this.right-this.lineWidths[l])),u.top+=this.top+e+a,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+a}else{let l=0,c=fn(s,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const u of t)u.col!==l&&(l=u.col,c=fn(s,this.top+e+a,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+a,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;vk(e,this),this._draw(),wk(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:a}=this,{align:i,labels:o}=e,l=Tr.color,c=zu(e.rtl,this.left,this.width),u=Ja(o.font),{padding:h}=o,f=u.size,g=f/2;let x;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:y,boxHeight:b,itemHeight:v}=xI(o,f),N=function(I,P,T){if(isNaN(y)||y<=0||isNaN(b)||b<0)return;a.save();const D=Qt(T.lineWidth,1);if(a.fillStyle=Qt(T.fillStyle,l),a.lineCap=Qt(T.lineCap,"butt"),a.lineDashOffset=Qt(T.lineDashOffset,0),a.lineJoin=Qt(T.lineJoin,"miter"),a.lineWidth=D,a.strokeStyle=Qt(T.strokeStyle,l),a.setLineDash(Qt(T.lineDash,[])),o.usePointStyle){const L={radius:b*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:D},F=c.xPlus(I,y/2),z=P+g;CO(a,L,F,z,o.pointStyleWidth&&y)}else{const L=P+Math.max((f-b)/2,0),F=c.leftForLtr(I,y),z=Uu(T.borderRadius);a.beginPath(),Object.values(z).some(O=>O!==0)?Q0(a,{x:F,y:L,w:y,h:b,radius:z}):a.rect(F,L,y,b),a.fill(),D!==0&&a.stroke()}a.restore()},k=function(I,P,T){K0(a,T.text,I,P+v/2,u,{strikethrough:T.hidden,textAlign:c.textAlign(T.textAlign)})},C=this.isHorizontal(),R=this._computeTitleHeight();C?x={x:fn(i,this.left+h,this.right-s[0]),y:this.top+h+R,line:0}:x={x:this.left+h,y:fn(i,this.top+R+h,this.bottom-t[0].height),line:0},MO(this.ctx,e.textDirection);const _=v+h;this.legendItems.forEach((I,P)=>{a.strokeStyle=I.fontColor,a.fillStyle=I.fontColor;const T=a.measureText(I.text).width,D=c.textAlign(I.textAlign||(I.textAlign=o.textAlign)),L=y+g+T;let F=x.x,z=x.y;c.setWidth(this.width),C?P>0&&F+L+h>this.right&&(z=x.y+=_,x.line++,F=x.x=fn(i,this.left+h,this.right-s[x.line])):P>0&&z+_>this.bottom&&(F=x.x=F+t[x.line].width+h,x.line++,z=x.y=fn(i,this.top+R+h,this.bottom-t[x.line].height));const O=c.x(F);if(N(O,z,I),F=Qre(D,F+y+g,C?F+L:this.right,e.rtl),k(c.x(F),z,I),C)x.x+=L+h;else if(typeof I.text!="string"){const V=u.lineHeight;x.y+=eL(I,V)+h}else x.y+=_}),OO(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=Ja(t.font),a=ni(t.padding);if(!t.display)return;const i=zu(e.rtl,this.left,this.width),o=this.ctx,l=t.position,c=s.size/2,u=a.top+c;let h,f=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),h=this.top+u,f=fn(e.align,f,this.right-g);else{const y=this.columnSizes.reduce((b,v)=>Math.max(b,v.height),0);h=u+fn(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const x=fn(l,f,f+g);o.textAlign=i.textAlign(_O(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=s.string,K0(o,t.text,x,h,s)}_computeTitleHeight(){const e=this.options.title,t=Ja(e.font),s=ni(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,a,i;if(yl(e,this.left,this.right)&&yl(t,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(a=i[s],yl(e,a.left,a.left+a.width)&&yl(t,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!hoe(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=loe(a,s);a&&!i&&ir(t.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!i&&ir(t.onHover,[e,s,this],this)}else s&&ir(t.onClick,[e,s,this],this)}}function coe(r,e,t,s,a){const i=doe(s,r,e,t),o=uoe(a,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function doe(r,e,t,s){let a=r.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+t.size/2+s.measureText(a).width}function uoe(r,e,t){let s=r;return typeof e.text!="string"&&(s=eL(e,t)),s}function eL(r,e){const t=r.text?r.text.length:0;return e*t}function hoe(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var Tk={id:"legend",_element:bI,start(r,e,t){const s=r.legend=new bI({ctx:r.ctx,options:t,chart:r});vl.configure(r,s,t),vl.addBox(r,s)},stop(r){vl.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const s=r.legend;vl.configure(r,s,t),s.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const s=e.datasetIndex,a=t.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=r.legend.options;return r._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(t?0:void 0),h=ni(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:o&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};const Km={average(r){if(!r.length)return!1;let e,t,s=new Set,a=0,i=0;for(e=0,t=r.length;e<t;++e){const l=r[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),a+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:a/i}},nearest(r,e){if(!r.length)return!1;let t=e.x,s=e.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=r.length;i<o;++i){const c=r[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),h=LN(e,u);h<a&&(a=h,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,s=c.y}return{x:t,y:s}}};function ki(r,e){return e&&(ra(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function yo(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function moe(r,e){const{element:t,datasetIndex:s,index:a}=e,i=r.getDatasetMeta(s).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:r,label:o,parsed:i.getParsed(a),raw:r.data.datasets[s].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:s,element:t}}function yI(r,e){const t=r.chart.ctx,{body:s,footer:a,title:i}=r,{boxWidth:o,boxHeight:l}=e,c=Ja(e.bodyFont),u=Ja(e.titleFont),h=Ja(e.footerFont),f=i.length,g=a.length,x=s.length,y=ni(e.padding);let b=y.height,v=0,N=s.reduce((R,_)=>R+_.before.length+_.lines.length+_.after.length,0);if(N+=r.beforeBody.length+r.afterBody.length,f&&(b+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),N){const R=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;b+=x*R+(N-x)*c.lineHeight+(N-1)*e.bodySpacing}g&&(b+=e.footerMarginTop+g*h.lineHeight+(g-1)*e.footerSpacing);let k=0;const C=function(R){v=Math.max(v,t.measureText(R).width+k)};return t.save(),t.font=u.string,Vs(r.title,C),t.font=c.string,Vs(r.beforeBody.concat(r.afterBody),C),k=e.displayColors?o+2+e.boxPadding:0,Vs(s,R=>{Vs(R.before,C),Vs(R.lines,C),Vs(R.after,C)}),k=0,t.font=h.string,Vs(r.footer,C),t.restore(),v+=y.width,{width:v,height:b}}function foe(r,e){const{y:t,height:s}=e;return t<s/2?"top":t>r.height-s/2?"bottom":"center"}function goe(r,e,t,s){const{x:a,width:i}=s,o=t.caretSize+t.caretPadding;if(r==="left"&&a+i+o>e.width||r==="right"&&a-i-o<0)return!0}function poe(r,e,t,s){const{x:a,width:i}=t,{width:o,chartArea:{left:l,right:c}}=r;let u="center";return s==="center"?u=a<=(l+c)/2?"left":"right":a<=i/2?u="left":a>=o-i/2&&(u="right"),goe(u,r,e,t)&&(u="center"),u}function vI(r,e,t){const s=t.yAlign||e.yAlign||foe(r,t);return{xAlign:t.xAlign||e.xAlign||poe(r,e,t,s),yAlign:s}}function xoe(r,e){let{x:t,width:s}=r;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function boe(r,e,t){let{y:s,height:a}=r;return e==="top"?s+=t:e==="bottom"?s-=a+t:s-=a/2,s}function wI(r,e,t,s){const{caretSize:a,caretPadding:i,cornerRadius:o}=r,{xAlign:l,yAlign:c}=t,u=a+i,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:x}=Uu(o);let y=xoe(e,l);const b=boe(e,c,u);return c==="center"?l==="left"?y+=u:l==="right"&&(y-=u):l==="left"?y-=Math.max(h,g)+a:l==="right"&&(y+=Math.max(f,x)+a),{x:ka(y,0,s.width-e.width),y:ka(b,0,s.height-e.height)}}function Ix(r,e,t){const s=ni(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-s.right:r.x+s.left}function NI(r){return ki([],yo(r))}function yoe(r,e,t){return _d(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function jI(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const tL={beforeTitle:xo,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:xo,beforeBody:xo,beforeLabel:xo,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return Ts(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:xo,afterBody:xo,beforeFooter:xo,footer:xo,afterFooter:xo};function Xa(r,e,t,s){const a=r[e].call(t,s);return typeof a>"u"?tL[e].call(t,s):a}class kI extends Zl{static positioners=Km;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&t.options.animation&&s.animations,i=new FO(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=yoe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,a=Xa(s,"beforeTitle",this,e),i=Xa(s,"title",this,e),o=Xa(s,"afterTitle",this,e);let l=[];return l=ki(l,yo(a)),l=ki(l,yo(i)),l=ki(l,yo(o)),l}getBeforeBody(e,t){return NI(Xa(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,a=[];return Vs(e,i=>{const o={before:[],lines:[],after:[]},l=jI(s,i);ki(o.before,yo(Xa(l,"beforeLabel",this,i))),ki(o.lines,Xa(l,"label",this,i)),ki(o.after,yo(Xa(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,t){return NI(Xa(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,a=Xa(s,"beforeFooter",this,e),i=Xa(s,"footer",this,e),o=Xa(s,"afterFooter",this,e);let l=[];return l=ki(l,yo(a)),l=ki(l,yo(i)),l=ki(l,yo(o)),l}_createItems(e){const t=this._active,s=this.chart.data,a=[],i=[],o=[];let l=[],c,u;for(c=0,u=t.length;c<u;++c)l.push(moe(this.chart,t[c]));return e.filter&&(l=l.filter((h,f,g)=>e.filter(h,f,g,s))),e.itemSort&&(l=l.sort((h,f)=>e.itemSort(h,f,s))),Vs(l,h=>{const f=jI(e.callbacks,h);a.push(Xa(f,"labelColor",this,h)),i.push(Xa(f,"labelPointStyle",this,h)),o.push(Xa(f,"labelTextColor",this,h))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const s=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=Km[s.position].call(this,a,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=yI(this,s),u=Object.assign({},l,c),h=vI(this.chart,s,u),f=wI(s,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,a){const i=this.getCaretPosition(e,s,a);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,s){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=s,{topLeft:c,topRight:u,bottomLeft:h,bottomRight:f}=Uu(l),{x:g,y:x}=e,{width:y,height:b}=t;let v,N,k,C,R,_;return i==="center"?(R=x+b/2,a==="left"?(v=g,N=v-o,C=R+o,_=R-o):(v=g+y,N=v+o,C=R-o,_=R+o),k=v):(a==="left"?N=g+Math.max(c,h)+o:a==="right"?N=g+y-Math.max(u,f)-o:N=this.caretX,i==="top"?(C=x,R=C-o,v=N-o,k=N+o):(C=x+b,R=C+o,v=N+o,k=N-o),_=C),{x1:v,x2:N,x3:k,y1:C,y2:R,y3:_}}drawTitle(e,t,s){const a=this.title,i=a.length;let o,l,c;if(i){const u=zu(s.rtl,this.x,this.width);for(e.x=Ix(this,s.titleAlign,s),t.textAlign=u.textAlign(s.titleAlign),t.textBaseline="middle",o=Ja(s.titleFont),l=s.titleSpacing,t.fillStyle=s.titleColor,t.font=o.string,c=0;c<i;++c)t.fillText(a[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,t,s,a,i){const o=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=i,h=Ja(i.bodyFont),f=Ix(this,"left",i),g=a.x(f),x=c<h.lineHeight?(h.lineHeight-c)/2:0,y=t.y+x;if(i.usePointStyle){const b={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=a.leftForLtr(g,u)+u/2,N=y+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,UN(e,b,v,N),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,UN(e,b,v,N)}else{e.lineWidth=fs(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=a.leftForLtr(g,u),v=a.leftForLtr(a.xPlus(g,1),u-2),N=Uu(o.borderRadius);Object.values(N).some(k=>k!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Q0(e,{x:b,y,w:u,h:c,radius:N}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Q0(e,{x:v,y:y+1,w:u-2,h:c-2,radius:N}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(b,y,u,c),e.strokeRect(b,y,u,c),e.fillStyle=o.backgroundColor,e.fillRect(v,y+1,u-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:h}=s,f=Ja(s.bodyFont);let g=f.lineHeight,x=0;const y=zu(s.rtl,this.x,this.width),b=function(T){t.fillText(T,y.x(e.x+x),e.y+g/2),e.y+=g+i},v=y.textAlign(o);let N,k,C,R,_,I,P;for(t.textAlign=o,t.textBaseline="middle",t.font=f.string,e.x=Ix(this,v,s),t.fillStyle=s.bodyColor,Vs(this.beforeBody,b),x=l&&v!=="right"?o==="center"?u/2+h:u+2+h:0,R=0,I=a.length;R<I;++R){for(N=a[R],k=this.labelTextColors[R],t.fillStyle=k,Vs(N.before,b),C=N.lines,l&&C.length&&(this._drawColorBox(t,e,R,y,s),g=Math.max(f.lineHeight,c)),_=0,P=C.length;_<P;++_)b(C[_]),g=f.lineHeight;Vs(N.after,b)}x=0,g=f.lineHeight,Vs(this.afterBody,b),e.y-=i}drawFooter(e,t,s){const a=this.footer,i=a.length;let o,l;if(i){const c=zu(s.rtl,this.x,this.width);for(e.x=Ix(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=c.textAlign(s.footerAlign),t.textBaseline="middle",o=Ja(s.footerFont),t.fillStyle=s.footerColor,t.font=o.string,l=0;l<i;++l)t.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,t,s,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:u,height:h}=s,{topLeft:f,topRight:g,bottomLeft:x,bottomRight:y}=Uu(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(l+f,c),o==="top"&&this.drawCaret(e,t,s,a),t.lineTo(l+u-g,c),t.quadraticCurveTo(l+u,c,l+u,c+g),o==="center"&&i==="right"&&this.drawCaret(e,t,s,a),t.lineTo(l+u,c+h-y),t.quadraticCurveTo(l+u,c+h,l+u-y,c+h),o==="bottom"&&this.drawCaret(e,t,s,a),t.lineTo(l+x,c+h),t.quadraticCurveTo(l,c+h,l,c+h-x),o==="center"&&i==="left"&&this.drawCaret(e,t,s,a),t.lineTo(l,c+f),t.quadraticCurveTo(l,c,l+f,c),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,a=s&&s.x,i=s&&s.y;if(a||i){const o=Km[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=yI(this,e),c=Object.assign({},o,this._size),u=vI(t,e,c),h=wI(e,c,u,t);(a._to!==h.x||i._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=ni(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,a,t),MO(e,t.textDirection),i.y+=o.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),OO(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,a=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!q0(s,a),o=this._positionChanged(a,t);(i||o)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,t,s),l=this._positionChanged(o,e),c=t||!q0(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,s,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:s,caretY:a,options:i}=this,o=Km[i.position].call(this,e,t);return o!==!1&&(s!==o.x||a!==o.y)}}var Pk={id:"tooltip",_element:kI,positioners:Km,afterInit(r,e,t){t&&(r.tooltip=new kI({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const voe=(r,e,t,s)=>(typeof e=="string"?(t=r.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function woe(r,e,t,s){const a=r.indexOf(e);if(a===-1)return voe(r,e,t,s);const i=r.lastIndexOf(e);return a!==i?t:a}const Noe=(r,e)=>r===null?null:ka(Math.round(r),0,e);function SI(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class Rk extends yh{static id="category";static defaults={ticks:{callback:SI}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:a,label:i}of t)s[a]===i&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ts(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:woe(s,e,Qt(t,e),this._addedLabels),Noe(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,a=[];let i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=t;o++)a.push({value:o});return a}getLabelForValue(e){return SI.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function joe(r,e){const t=[],{bounds:a,step:i,min:o,max:l,precision:c,count:u,maxTicks:h,maxDigits:f,includeBounds:g}=r,x=i||1,y=h-1,{min:b,max:v}=e,N=!Ts(o),k=!Ts(l),C=!Ts(u),R=(v-b)/(f+1);let _=_R((v-b)/y/x)*x,I,P,T,D;if(_<1e-14&&!N&&!k)return[{value:b},{value:v}];D=Math.ceil(v/_)-Math.floor(b/_),D>y&&(_=_R(D*_/y/x)*x),Ts(c)||(I=Math.pow(10,c),_=Math.ceil(_*I)/I),a==="ticks"?(P=Math.floor(b/_)*_,T=Math.ceil(v/_)*_):(P=b,T=v),N&&k&&i&&Bre((l-o)/i,_/1e3)?(D=Math.round(Math.min((l-o)/_,h)),_=(l-o)/D,P=o,T=l):C?(P=N?o:P,T=k?l:T,D=u-1,_=(T-P)/D):(D=(T-P)/_,xf(D,Math.round(D),_/1e3)?D=Math.round(D):D=Math.ceil(D));const L=Math.max(AR(_),AR(P));I=Math.pow(10,Ts(c)?L:c),P=Math.round(P*I)/I,T=Math.round(T*I)/I;let F=0;for(N&&(g&&P!==o?(t.push({value:o}),P<o&&F++,xf(Math.round((P+F*_)*I)/I,o,_I(o,R,r))&&F++):P<o&&F++);F<D;++F){const z=Math.round((P+F*_)*I)/I;if(k&&z>l)break;t.push({value:z})}return k&&g&&T!==l?t.length&&xf(t[t.length-1].value,l,_I(l,R,r))?t[t.length-1].value=l:t.push({value:l}):(!k||T===l)&&t.push({value:T}),t}function _I(r,e,{horizontal:t,minRotation:s}){const a=ko(s),i=(t?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+r).length;return Math.min(e/i,o)}class koe extends yh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ts(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=t?a:c,l=c=>i=s?i:c;if(e){const c=Hi(a),u=Hi(i);c<0&&u<0?l(0):c>0&&u>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(a-c)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),t=t||11),t&&(a=Math.min(t,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,o=joe(a,i);return e.bounds==="ticks"&&Hre(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-t)/Math.max(e.length-1,1)/2;t-=a,s+=a}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return yk(e,this.chart.options.locale,this.options.ticks.format)}}class Ik extends koe{static id="linear";static defaults={ticks:{callback:AO.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Bn(e)?e:0,this.max=Bn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=ko(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const sy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qa=Object.keys(sy);function AI(r,e){return r-e}function CI(r,e){if(Ts(e))return null;const t=r._adapter,{parser:s,round:a,isoWeekday:i}=r._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Bn(o)||(o=typeof s=="string"?t.parse(o,s):t.parse(o)),o===null?null:(a&&(o=a==="week"&&(qf(i)||i===!0)?t.startOf(o,"isoWeek",i):t.startOf(o,a)),+o)}function EI(r,e,t,s){const a=Qa.length;for(let i=Qa.indexOf(r);i<a-1;++i){const o=sy[Qa[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(l*o.size))<=s)return Qa[i]}return Qa[a-1]}function Soe(r,e,t,s,a){for(let i=Qa.length-1;i>=Qa.indexOf(t);i--){const o=Qa[i];if(sy[o].common&&r._adapter.diff(a,s,o)>=e-1)return o}return Qa[t?Qa.indexOf(t):0]}function _oe(r){for(let e=Qa.indexOf(r)+1,t=Qa.length;e<t;++e)if(sy[Qa[e]].common)return Qa[e]}function TI(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:s,hi:a}=xk(t,e),i=t[s]>=e?t[s]:t[a];r[i]=!0}}function Aoe(r,e,t,s){const a=r._adapter,i=+a.startOf(e[0].value,s),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,s))c=t[l],c>=0&&(e[c].major=!0);return e}function PI(r,e,t){const s=[],a={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],a[l]=o,s.push({value:l,major:!1});return i===0||!t?s:Aoe(r,s,a,t)}class RI extends yh{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),a=this._adapter=new Pne._date(e.adapters.date);a.init(t),pf(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:CI(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Bn(a)&&!isNaN(a)?a:+t.startOf(Date.now(),s),i=Bn(i)&&!isNaN(i)?i:+t.endOf(Date.now(),s)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=Xre(a,i,o);return this._unit=t.unit||(s.autoSkip?EI(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):Soe(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:_oe(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),PI(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?t=1-a:t=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=ka(t,0,o),s=ka(s,0,o),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,a=this.options,i=a.time,o=i.unit||EI(i.minUnit,t,s,this._getLabelCapacity(t)),l=Qt(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,u=qf(c)||c===!0,h={};let f=t,g,x;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":o),e.diff(s,t,o)>1e5*l)throw new Error(t+" and "+s+" are too far apart with stepSize of "+l+" "+o);const y=a.ticks.source==="data"&&this.getDataTimestamps();for(g=f,x=0;g<s;g=+e.add(g,l,o),x++)TI(h,g,y);return(g===s||a.bounds==="ticks"||x===1)&&TI(h,g,y),Object.keys(h).sort(AI).map(b=>+b)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const a=this.options.time.displayFormats,i=this._unit,o=t||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,t,s,a){const i=this.options,o=i.ticks.callback;if(o)return ir(o,[e,t,s],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,h=c&&l[c],f=u&&l[u],g=s[t],x=u&&f&&g&&g.major;return this._adapter.format(e,a||(x?f:h))}generateTickLabels(e){let t,s,a;for(t=0,s=e.length;t<s;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,a=ko(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:s*i+l*o,h:s*o+l*i}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,a=s[t.unit]||s.millisecond,i=this._tickFormatFunction(e,0,PI(this,[e],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(t=0,s=a.length;t<s;++t)e=e.concat(a[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const a=this.getLabels();for(t=0,s=a.length;t<s;++t)e.push(CI(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return jO(e.sort(AI))}}function Dx(r,e,t){let s=0,a=r.length-1,i,o,l,c;t?(e>=r[s].pos&&e<=r[a].pos&&({lo:s,hi:a}=Yc(r,"pos",e)),{pos:i,time:l}=r[s],{pos:o,time:c}=r[a]):(e>=r[s].time&&e<=r[a].time&&({lo:s,hi:a}=Yc(r,"time",e)),{time:i,pos:l}=r[s],{time:o,pos:c}=r[a]);const u=o-i;return u?l+(c-l)*(e-i)/u:l}class fhe extends RI{static id="timeseries";static defaults=RI.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Dx(t,this.min),this._tableRange=Dx(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,a=[],i=[];let o,l,c,u,h;for(o=0,l=e.length;o<l;++o)u=e[o],u>=t&&u<=s&&a.push(u);if(a.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(o=0,l=a.length;o<l;++o)h=a[o+1],c=a[o-1],u=a[o],Math.round((h+c)/2)!==u&&i.push({time:u,pos:o/(l-1)});return i}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Dx(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return Dx(this._table,s*this._tableRange+this._minPos,!0)}}const sL="label";function II(r,e){typeof r=="function"?r(e):r&&(r.current=e)}function Coe(r,e){const t=r.options;t&&e&&Object.assign(t,e)}function rL(r,e){r.labels=e}function aL(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sL;const s=[];r.datasets=e.map(a=>{const i=r.datasets.find(o=>o[t]===a[t]);return!i||!a.data||s.includes(i)?{...a}:(s.push(i),Object.assign(i,a),i)})}function Eoe(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sL;const t={labels:[],datasets:[]};return rL(t,r.labels),aL(t,r.datasets,e),t}function Toe(r,e){const{height:t=150,width:s=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:f,...g}=r,x=E.useRef(null),y=E.useRef(null),b=()=>{x.current&&(y.current=new vh(x.current,{type:o,data:Eoe(l,i),options:c&&{...c},plugins:u}),II(e,y.current))},v=()=>{II(e,null),y.current&&(y.current.destroy(),y.current=null)};return E.useEffect(()=>{!a&&y.current&&c&&Coe(y.current,c)},[a,c]),E.useEffect(()=>{!a&&y.current&&rL(y.current.config.data,l.labels)},[a,l.labels]),E.useEffect(()=>{!a&&y.current&&l.datasets&&aL(y.current.config.data,l.datasets,i)},[a,l.datasets]),E.useEffect(()=>{y.current&&(a?(v(),setTimeout(b)):y.current.update(f))},[a,c,l.labels,l.datasets,f]),E.useEffect(()=>{y.current&&(v(),setTimeout(b))},[o]),E.useEffect(()=>(b(),()=>v()),[]),as.createElement("canvas",{ref:x,role:"img",height:t,width:s,...g},h)}const Poe=E.forwardRef(Toe);function Dk(r,e){return vh.register(e),E.forwardRef((t,s)=>as.createElement(Poe,{...t,ref:s,type:r}))}const Roe=Dk("line",Tne),Mk=Dk("bar",Ane),nL=Dk("doughnut",Ene),Ioe=()=>{const r=Xr();return n.jsxs("nav",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around items-center py-2 z-40",children:[n.jsxs(fe,{to:"/",className:`flex flex-col items-center ${r.pathname==="/"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-home-alt text-2xl"}),n.jsx("span",{className:"text-xs",children:"Home"})]}),n.jsxs(fe,{to:"/search",className:`flex flex-col items-center ${r.pathname==="/search"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-search text-2xl"}),n.jsx("span",{className:"text-xs",children:"Search"})]}),n.jsxs(fe,{to:"/products-upload",className:`flex flex-col items-center ${r.pathname==="/products-upload"?"text-blue-600":"text-orange-500"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bxs-plus-circle text-2xl"}),n.jsx("span",{className:"text-xs",children:"Sell"})]}),n.jsxs(fe,{to:"/notifications",className:`flex flex-col items-center relative ${r.pathname==="/notifications"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-bell text-2xl"}),n.jsx("span",{className:"text-xs",children:"Inbox"})]}),n.jsxs(fe,{to:"/profile",className:`flex flex-col items-center ${r.pathname==="/profile"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[n.jsx("i",{className:"bx bx-user text-2xl"}),n.jsx("span",{className:"text-xs",children:"You"})]})]})};vh.register(KO,Ek,Rk,Ik,Pk,Tk);function DI(){const[r,e]=E.useState(!0),[t,s]=E.useState(""),[a,i]=E.useState(!1),[o,l]=E.useState({products:0,approvedProducts:0,rejectedProducts:0}),[c,u]=E.useState({products:0,approvedProducts:0,rejectedProducts:0}),[h,f]=E.useState(""),{userProfile:g}=ud();E.useEffect(()=>{let v,N={...c},k={...o},C=800,R=null;function _(I){R||(R=I);let P=Math.min((I-R)/C,1);u({products:Math.floor(N.products+(k.products-N.products)*P),approvedProducts:Math.floor(N.approvedProducts+(k.approvedProducts-N.approvedProducts)*P),rejectedProducts:Math.floor(N.rejectedProducts+(k.rejectedProducts-N.rejectedProducts)*P)}),P<1&&(v=requestAnimationFrame(_))}return v=requestAnimationFrame(_),()=>cancelAnimationFrame(v)},[o]),E.useEffect(()=>{const v=ri(ke,async N=>{N&&f(N.displayName||"Seller")});return()=>v()},[]),E.useEffect(()=>{console.log("Seller Dashboard mounted");const v=ri(ke,async N=>{if(console.log("Auth state changed:",N?"User logged in":"No user"),!N){s("Please log in to view your dashboard."),e(!1);return}try{const k=N.uid,[C,R,_]=await Promise.all([Ke(mt(Ie(re,"products"),nt("sellerId","==",k))),Ke(mt(Ie(re,"products"),nt("sellerId","==",k),nt("status","==","approved"))),Ke(mt(Ie(re,"products"),nt("sellerId","==",k),nt("status","==","rejected")))]);l({products:C.size,approvedProducts:R.size,rejectedProducts:_.size})}catch(k){console.error("Error fetching seller stats:",k),s("Failed to load dashboard stats: "+k.message)}finally{e(!1)}});return()=>{console.log("Seller Dashboard unmounting"),v()}},[]);const x={labels:["Total Products","Approved Products","Rejected Products"],datasets:[{label:"Counts",data:[o.products,o.approvedProducts,o.rejectedProducts],backgroundColor:["#2563EB","#16A34A","#DC2626"],borderColor:["#2563EB","#16A34A","#DC2626"],borderWidth:1}]},y={labels:["Approved Products","Rejected Products","Pending Products"],datasets:[{label:"Product Status",data:[o.approvedProducts,o.rejectedProducts,o.products-(o.approvedProducts+o.rejectedProducts)],backgroundColor:["#2563EB","#16A34A","#DC2626"],borderColor:["#2563EB","#16A34A","#DC2626"],borderWidth:1}]},b={responsive:!0,plugins:{legend:{position:"top"},tooltip:{enabled:!0}}};return r?n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx("button",{className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-blue-800 text-white rounded-lg",onClick:()=>i(!a),children:n.jsx("i",{className:"bx bx-menu text-xl"})}),n.jsx("div",{className:`${a?"block":"hidden"} md:block md:w-64 bg-white border-r`,children:n.jsx(js,{})}),n.jsx("div",{className:"flex-1 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 animate-pulse",children:Array.from({length:3}).map((v,N)=>n.jsx("div",{className:"bg-gray-200 p-4 rounded-lg h-24"},N))}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"}),n.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"})]})]})})]}):t?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg",children:[n.jsx("p",{className:"text-red-700",children:t}),n.jsx(fe,{to:"/login",className:"text-blue-600 hover:underline mt-2 inline-block",children:"Return to Login"})]})}):n.jsxs("div",{className:"relative flex min-h-screen bg-white overflow-x-hidden",children:[n.jsx("div",{className:`${a?"block":""} md:block md:w-64 bg-white border-r max-h-[calc(100vh-2rem)] overflow-y-auto`,children:n.jsx(js,{})}),n.jsx("div",{className:"flex-1 p-3 sm:p-4 md:p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"relative flex flex-col items-center md:flex-row md:items-center md:justify-between bg-white border border-blue-100 rounded-2xl shadow-sm p-4 sm:p-6 md:p-8 mb-8 md:mb-10",children:[n.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left w-full md:w-auto",children:[n.jsxs("h1",{className:"text-2xl sm:text-3xl font-extrabold text-blue-900 mb-1 tracking-tight",children:["Welcome back, ",n.jsx("span",{className:"text-blue-600",children:h}),"!"]}),n.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Heres a snapshot of your stores performance."})]}),n.jsx("div",{className:"mt-4 md:mt-0 flex-shrink-0",children:n.jsx("img",{src:"https://i.pinimg.com/originals/97/16/5e/97165e191052892894cb886b4a8c0971.gif",alt:"Seller Avatar",className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 rounded-full shadow border-2 border-blue-100 bg-white object-contain"})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4 mb-8 md:mb-10 items-stretch",children:[n.jsxs(fe,{to:"/products-upload",className:"flex-1 min-w-[140px] flex items-center gap-2 px-4 py-3 rounded-lg bg-[#112d4e] text-white font-semibold shadow-sm hover:bg-[#112d4e] focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 transition",title:"Add Product",children:[n.jsx(dk,{className:"w-5 h-5"})," Add Product"]}),n.jsxs(fe,{to:"/sellers/orders",className:"flex-1 min-w-[140px] flex items-center gap-2 px-4 py-3 rounded-lg bg-[#112d4e] text-white font-semibold shadow-sm hover:bg-[#112d4e] focus:outline-green-400 focus:ring-2 focus:ring-green-300 transition",title:"View Orders",children:[n.jsx(i0,{className:"w-5 h-5"})," View Orders"]}),n.jsxs(fe,{to:"/smile",className:"flex-1 min-w-[140px] flex items-center gap-2 px-4 py-3 rounded-lg bg-[#112d4e] text-white font-semibold shadow-sm hover:bg-[#112d4e] focus:outline-gray-400 focus:ring-2 focus:ring-gray-300 transition",title:"Withdraw Funds",children:[n.jsx(Fu,{className:"w-5 h-5"})," Withdraw Funds"]}),g&&g.isProSeller&&n.jsxs("div",{className:"flex flex-1 min-w-[140px] gap-2",children:[n.jsxs(fe,{to:"/product-bump",className:"flex-1 flex items-center gap-2 px-4 py-3 rounded-lg bg-[#112d4e] text-white font-semibold shadow-sm hover:bg-[#112d4e] focus:outline-purple-400 focus:ring-2 focus:ring-purple-300 transition",title:"Product Bump",children:[n.jsx(fd,{className:"w-5 h-5"})," Product Bump"]}),n.jsx(fe,{to:"/product-bump-info",className:"flex items-center px-3 py-3 rounded-lg bg-blue-100 text-blue-700 hover:bg-blue-200 transition",title:"What is Product Bump?",children:n.jsx(ku,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-white border border-blue-100 p-5 rounded-xl shadow flex items-center justify-between transition-transform hover:scale-105 focus-within:scale-105 cursor-pointer group relative overflow-hidden",tabIndex:0,"aria-label":"Total Products","aria-live":"polite",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-blue-700 mb-1",children:"Total Products"}),n.jsx("p",{className:"text-2xl font-extrabold text-blue-900 animate-countup",children:c.products})]}),n.jsx(fd,{className:"w-8 h-8 text-blue-500 group-hover:scale-110 group-focus:scale-110 transition-transform z-10"})]}),n.jsxs("div",{className:"bg-white border border-green-100 p-5 rounded-xl shadow flex items-center justify-between transition-transform hover:scale-105 focus-within:scale-105 cursor-pointer group relative overflow-hidden",tabIndex:0,"aria-label":"Approved Products","aria-live":"polite",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-green-700 mb-1",children:"Approved Products"}),n.jsx("p",{className:"text-2xl font-extrabold text-green-900 animate-countup",children:c.approvedProducts})]}),n.jsx(Pg,{className:"w-8 h-8 text-green-500 group-hover:scale-110 group-focus:scale-110 transition-transform z-10"})]}),n.jsxs("div",{className:"bg-white border border-orange-100 p-5 rounded-xl shadow flex items-center justify-between transition-transform hover:scale-105 focus-within:scale-105 cursor-pointer group relative overflow-hidden",tabIndex:0,"aria-label":"Rejected Products","aria-live":"polite",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-orange-700 mb-1",children:"Rejected Products"}),n.jsx("p",{className:"text-2xl font-extrabold text-orange-900 animate-countup",children:c.rejectedProducts})]}),n.jsx(Lu,{className:"w-8 h-8 text-orange-500 group-hover:scale-110 group-focus:scale-110 transition-transform z-10"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white border border-blue-100 p-5 rounded-xl shadow",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(FJ,{className:"w-5 h-5 text-blue-500"}),n.jsx("h2",{className:"text-base font-bold text-blue-900",children:"Product Analytics"})]}),n.jsx("div",{className:"h-56 sm:h-64",children:n.jsx(Mk,{data:x,options:b})})]}),n.jsxs("div",{className:"bg-white border border-purple-100 p-5 rounded-xl shadow",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(zJ,{className:"w-5 h-5 text-purple-500"}),n.jsx("h2",{className:"text-base font-bold text-purple-900",children:"Product Status"})]}),n.jsx("div",{className:"h-56 sm:h-64 flex items-center justify-center",children:n.jsx("div",{className:"w-3/4 sm:w-1/2",children:n.jsx(nL,{data:y,options:b})})})]})]}),n.jsx("div",{className:"mt-8",children:n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(fe,{to:"/pro-seller-analytics",className:"inline-block px-5 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-semibold shadow",children:"See More Analytics"})})}),n.jsx(Ioe,{})]})})]})}function Doe(){const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(""),[o,l]=E.useState([]),[c,u]=E.useState("");E.useEffect(()=>{(async()=>{try{ri(ke,async g=>{if(g)try{const x=mt(Ie(re,"products"),nt("sellerId","==",g.uid)),b=(await Ke(x)).docs.map(v=>({id:v.id,...v.data(),active:v.data().active||!0,isHidden:v.data().isHidden||!1}));e(b),l(b)}catch(x){i("Failed to fetch products: "+x.message)}else i("Please log in to view your products.");s(!1)})}catch(g){i("Authentication error: "+g.message),s(!1)}})()},[]),E.useEffect(()=>{const f=r.filter(g=>g.name?.toLowerCase().includes(c.toLowerCase()));l(f)},[c,r]);const h=()=>window.location.reload();return t?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):a?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-gray-50",children:n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg shadow-lg",children:[n.jsx("p",{className:"text-red-700 text-base mb-4",children:a}),n.jsx(fe,{to:"/seller/login",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Return to Login"})]})}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[n.jsx(js,{}),n.jsxs("div",{className:"flex-1 ml-0 md:ml-64 p-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3 md:gap-6 mb-8 p-4 sm:p-6 md:p-8 rounded-xl bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-100 shadow-sm",children:[n.jsx(fd,{className:"w-8 h-8 text-blue-600 mb-2 md:mb-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-900 flex items-center gap-3 flex-wrap",children:["My Products",n.jsxs("span",{className:"inline-block bg-blue-100 text-blue-700 text-base md:text-lg font-semibold px-3 py-1 rounded-full ml-2",children:[r.length," ",r.length===1?"Product":"Products"]})]}),n.jsx("p",{className:"text-gray-500 text-sm md:text-base mt-1",children:"Manage and track all your listed products."})]}),n.jsx("button",{onClick:h,title:"Refresh",className:"ml-0 md:ml-auto bg-white border border-blue-200 rounded-full p-2 md:p-3 hover:bg-blue-100 transition focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 mt-2 md:mt-0",children:n.jsx(uk,{className:"w-5 h-5 md:w-6 md:h-6 text-blue-600"})}),n.jsxs(fe,{to:"/products-upload",className:"hidden sm:flex bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 md:px-10 md:py-5 rounded-xl hover:from-blue-700 hover:to-purple-700 transition duration-300 items-center gap-3 shadow-xl focus:outline-blue-400 focus:ring-4 focus:ring-blue-300 ml-4 font-bold text-lg md:text-xl animate-none hover:animate-pulseBtn",children:[n.jsx(Bf,{className:"w-7 h-7 md:w-8 md:h-8"})," ",n.jsx("span",{children:"Add New Product"})]})]}),n.jsxs(fe,{to:"/products-upload",className:"sm:hidden fixed bottom-8 right-4 md:bottom-12 md:right-12 z-50 rounded-full bg-gradient-to-br from-blue-600 via-purple-500 to-pink-500 text-white p-7 shadow-2xl hover:from-blue-700 hover:to-pink-600 transition focus:outline-blue-400 focus:ring-4 focus:ring-blue-300 flex items-center justify-center animate-pulseBtn",title:"Add New Product","aria-label":"Add New Product",tabIndex:0,children:[n.jsx(dk,{className:"w-12 h-12 font-bold"}),n.jsx("span",{className:"sr-only",children:"Add New Product"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 max-w-full overflow-x-auto",children:[n.jsx("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:n.jsxs("div",{className:"relative w-full sm:w-1/3",children:[n.jsx("input",{type:"text",value:c,onChange:f=>u(f.target.value),placeholder:"Search by product name...",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"}),n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:n.jsx("i",{className:"bx bx-search"})}),c&&n.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:n.jsx("i",{className:"bx bx-x"})})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsx("div",{className:"block sm:hidden",children:o.map((f,g)=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4 shadow-md hover:shadow-xl transition duration-300 animate-slide-in focus:ring-2 focus:ring-blue-300 outline-none",tabIndex:0,children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"SL:"}),n.jsx("span",{className:"text-gray-900",children:g+1})]}),n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Name:"}),n.jsx(fe,{to:`/seller/edit-product/${f.id}`,className:"text-blue-900 font-medium hover:underline focus:underline cursor-pointer focus:outline-blue-400",children:f.name||"Unnamed Product"})]}),n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Price:"}),n.jsxs("span",{className:"text-gray-900",children:["",f.price||0]})]}),n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Verify:"}),n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${f.status==="pending"?"bg-orange-100 text-orange-800":f.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[f.status==="pending"&&n.jsx(ku,{className:"w-3 h-3"}),f.status==="approved"&&n.jsx(ku,{className:"w-3 h-3"}),f.status==="pending"?"Pending":f.status==="approved"?"Approved":"Not Approved"]})]}),n.jsx("div",{className:"flex justify-end mt-2",children:n.jsxs(fe,{to:`/seller/edit-product/${f.id}`,className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 transition",title:"View/Edit Product",children:[n.jsx(Qu,{className:"w-4 h-4"})," Edit"]})})]},f.id))}),n.jsx("div",{className:"hidden sm:block w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[600px] border-collapse text-sm md:text-base",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"p-2 text-left text-gray-700 font-semibold",children:"SL"}),n.jsx("th",{className:"p-2 text-left text-gray-700 font-semibold",children:"Name"}),n.jsx("th",{className:"p-2 text-left text-gray-700 font-semibold",children:"Price"}),n.jsxs("th",{className:"p-2 text-left text-gray-700 font-semibold flex items-center gap-1",children:["Verify",n.jsxs("span",{className:"group relative cursor-pointer",children:[n.jsx(ku,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-500 transition"}),n.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 mt-2 w-40 bg-gray-800 text-white text-xs rounded p-2 opacity-0 group-hover:opacity-100 pointer-events-none z-10 transition-opacity duration-200 shadow-lg",children:"Status: Pending = Awaiting approval, Approved = Live, Not Approved = Rejected"})]})]}),n.jsx("th",{className:"p-2 text-left text-gray-700 font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:o.map((f,g)=>n.jsxs("tr",{className:`border-t transition duration-200 animate-slide-in outline-none ${g%2===0?"bg-white":"bg-blue-50"}`,tabIndex:0,children:[n.jsx("td",{className:"p-2 text-gray-900",children:g+1}),n.jsx("td",{className:"p-2 text-blue-900 font-medium truncate max-w-xs hover:underline focus:underline cursor-pointer",title:f.name||"Unnamed Product",children:n.jsx(fe,{to:`/seller/edit-product/${f.id}`,className:"focus:outline-blue-400",children:f.name||"Unnamed Product"})}),n.jsxs("td",{className:"p-2 text-gray-900",children:["",f.price||0]}),n.jsx("td",{className:"p-2",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${f.status==="pending"?"bg-orange-100 text-orange-800":f.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[f.status==="pending"&&n.jsx(ku,{className:"w-3 h-3"}),f.status==="approved"&&n.jsx(ku,{className:"w-3 h-3"}),f.status==="pending"?"Pending":f.status==="approved"?"Approved":"Not Approved"]})}),n.jsx("td",{className:"p-2",children:n.jsxs(fe,{to:`/seller/edit-product/${f.id}`,className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 transition",title:"View/Edit Product",children:[n.jsx(Qu,{className:"w-4 h-4"})," Edit"]})})]},f.id))})]})})]}),o.length===0&&n.jsxs("div",{className:"flex flex-col items-center justify-center mt-10 mb-10 animate-slide-in",children:[n.jsx("img",{src:"/src/assets/icons/empty-cart.svg",alt:"No products",className:"w-32 h-32 mb-6 opacity-80"}),n.jsx("p",{className:"text-gray-700 text-center text-xl font-semibold mb-4",children:"No products found"}),n.jsxs(fe,{to:"/products-upload",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-lg focus:outline-blue-400 focus:ring-2 focus:ring-blue-300",children:[n.jsx(Bf,{className:"w-5 h-5"})," Add Your First Product"]})]})]})]}),n.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(16px); }
          to { opacity: 1; transform: none; }
        }
        .animate-fade-in {
          animation: fade-in 0.7s cubic-bezier(0.4,0,0.2,1);
        }
        @keyframes slide-in {
          from { opacity: 0; transform: translateY(32px); }
          to { opacity: 1; transform: none; }
        }
        .animate-slide-in {
          animation: slide-in 0.7s cubic-bezier(0.4,0,0.2,1);
        }
        @keyframes pulseBtn {
          0%, 100% { box-shadow: 0 0 0 0 rgba(124,58,237,0.4), 0 8px 32px 0 rgba(30,58,138,0.18); }
          50% { box-shadow: 0 0 0 12px rgba(124,58,237,0.15), 0 8px 32px 0 rgba(30,58,138,0.18); }
        }
        .animate-pulseBtn {
          animation: pulseBtn 1.2s infinite;
        }
      `})]})}function Moe(){const r=gs(),[e,t]=E.useState({fullName:"",country:"Nigeria",idNumber:"",bankName:"",bankCode:"",accountNumber:"",iban:"",email:ke.currentUser?.email||""}),[s,a]=E.useState([]),[i,o]=E.useState({}),[l,c]=E.useState(!0),[u,h]=E.useState(""),[f,g]=E.useState(!1),[x,y]=E.useState(1),b=()=>{const k={};return e.fullName.trim()||(k.fullName="Full name is required."),e.country==="Nigeria"?(e.bankCode||(k.bankCode="Select a bank."),e.accountNumber.match(/^\d{10}$/)||(k.accountNumber="Enter a valid 10-digit account number.")):(e.idNumber.trim()||(k.idNumber="Enter a valid ID number."),e.iban.match(/^[A-Z]{2}\d{2}[A-Z0-9]{1,30}$/)||(k.iban="Enter a valid IBAN."),e.email.match(/\S+@\S+\.\S+/)||(k.email="Enter a valid email."),e.bankName.trim()||(k.bankName="Bank name is required.")),k};E.useEffect(()=>{(async()=>{try{if(!ke.currentUser){h("Please log in to onboard."),r("/login");return}const C=Ce(re,"users",ke.currentUser.uid),R=await Je(C);if(R.exists()&&R.data().isOnboarded){console.log(`User ${ke.currentUser.uid} already onboarded`),g(!0);return}if(e.country==="Nigeria"){const _=await Zt.get("https://foremade-backend.onrender.com/fetch-banks");a(_.data)}}catch(C){console.error(`Initialization error for ${ke.currentUser.uid}:`,C),h("Initialization error: "+C.message)}finally{c(!1)}})()},[e.country,r]);const v=k=>{const{name:C,value:R}=k.target;t(_=>({..._,[C]:R})),o(_=>({..._,[C]:""})),C==="fullName"&&R.trim()&&x<2&&y(2),(e.country==="Nigeria"&&C==="bankCode"&&R&&e.accountNumber||e.country==="United Kingdom"&&C==="idNumber"&&R)&&y(3)},N=async k=>{k.preventDefault(),o({}),c(!0);const C=b();if(Object.keys(C).length>0){o(C),c(!1);return}try{const R={userId:ke.currentUser.uid,country:e.country,fullName:e.fullName,email:e.email,bankCode:e.country==="Nigeria"?e.bankCode:void 0,accountNumber:e.country==="Nigeria"?e.accountNumber:void 0,iban:e.country==="United Kingdom"?e.iban:void 0,bankName:e.country==="United Kingdom"?e.bankName:void 0,idNumber:e.country==="United Kingdom"?e.idNumber:void 0};console.log(`Submitting onboarding for ${ke.currentUser.uid}:`,R);const _=await Zt.post("https://foremade-backend.onrender.com/onboard-seller",R);if(_.data.error)throw new Error(_.data.error);if(e.country==="United Kingdom"){window.location.href=_.data.redirectUrl;return}const I=new Date().toISOString(),P={fullName:e.fullName,country:e.country,idNumber:"",bankName:s.find(T=>T.code===e.bankCode)?.name||"",bankCode:e.country==="Nigeria"?e.bankCode:"",accountNumber:e.country==="Nigeria"?e.accountNumber:"",iban:"",email:"",paystackRecipientCode:_.data.recipientCode||"",createdAt:I,updatedAt:I};await Xt(Ce(re,"sellers",ke.currentUser.uid),P,{merge:!0}),await Xt(Ce(re,"users",ke.currentUser.uid),{role:"seller",isOnboarded:!0,updatedAt:I},{merge:!0}),console.log(`Onboarding successful for ${ke.currentUser.uid}, role set to seller`),alert("Onboarding successful!"),r("/smile")}catch(R){console.error(`Onboarding failed for ${ke.currentUser.uid}:`,R),h("Failed to onboard: "+(R.response?.data?.error||R.message))}finally{c(!1)}};return l?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-300 animate-pulse",children:[n.jsxs("svg",{className:"w-6 h-6 text-blue-500 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),n.jsx("span",{className:"text-lg",children:"Loading..."})]})})]}):u?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-xl shadow-lg max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Error"}),n.jsx("p",{className:"text-gray-600 mb-4",children:u}),n.jsx(fe,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Return to Login"})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 sm:p-8 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[n.jsx("div",{className:"flex-1 h-1 bg-gray-200 dark:bg-gray-600 rounded-full",children:n.jsx("div",{className:"h-1 bg-blue-600 rounded-full transition-all duration-500",style:{width:`${x/3*100}%`}})}),n.jsx("div",{className:"flex space-x-4 ml-4",children:[1,2,3].map(k=>n.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded-full text-sm font-medium transition-all duration-300 ${x>=k?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:k},k))})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-3",children:[n.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"})}),"Seller Onboarding"]}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 text-sm",children:"Complete your profile to start selling on FOREMADE."})]}),n.jsxs("form",{onSubmit:N,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{type:"text",name:"fullName",value:e.fullName,onChange:v,className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.fullName?"border-red-500":""}`,disabled:l,placeholder:"e.g., John Doe","aria-label":"Full Name"}),n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:n.jsx("i",{className:"bx bx-user"})})]}),i.fullName&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.fullName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Country ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"country",value:e.country,onChange:v,className:"mt-1 w-full p-3 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",disabled:l,"aria-label":"Country",children:[n.jsx("option",{value:"Nigeria",children:"Nigeria"}),n.jsx("option",{value:"United Kingdom",children:"United Kingdom"})]})]}),e.country==="Nigeria"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Bank Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"bankCode",value:e.bankCode,onChange:v,className:`mt-1 w-full p-3 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.bankCode?"border-red-500":""}`,disabled:l,"aria-label":"Bank Name",children:[n.jsx("option",{value:"",children:"Select a bank"}),s.map(k=>n.jsx("option",{value:k.code,children:k.name},k.code))]}),i.bankCode&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.bankCode})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Account Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{type:"text",name:"accountNumber",value:e.accountNumber,onChange:v,placeholder:"e.g., 0123456789",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.accountNumber?"border-red-500":""}`,disabled:l,"aria-label":"Account Number"}),n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:n.jsx("i",{className:"bx bx-bank"})})]}),i.accountNumber&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.accountNumber})]})]}),e.country==="United Kingdom"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["ID Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{type:"text",name:"idNumber",value:e.idNumber,onChange:v,placeholder:"e.g., AB123456C",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.idNumber?"border-red-500":""}`,disabled:l,"aria-label":"ID Number"}),n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:n.jsx("i",{className:"bx bx-id-card"})})]}),i.idNumber&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.idNumber})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Bank Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{type:"text",name:"bankName",value:e.bankName,onChange:v,placeholder:"e.g., Barclays",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.bankName?"border-red-500":""}`,disabled:l,"aria-label":"Bank Name"}),n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:n.jsx("i",{className:"bx bx-bank"})})]}),i.bankName&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.bankName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["IBAN ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{type:"text",name:"iban",value:e.iban,onChange:v,placeholder:"e.g., GB33BUKB20201555555555",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.iban?"border-red-500":""}`,disabled:l,"aria-label":"IBAN"}),n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:n.jsx("i",{className:"bx bx-credit-card"})})]}),i.iban&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.iban})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{type:"email",name:"email",value:e.email,onChange:v,placeholder:"e.g., seller@example.com",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${i.email?"border-red-500":""}`,disabled:l,"aria-label":"Email"}),n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:n.jsx("i",{className:"bx bx-envelope"})})]}),i.email&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.email})]})]}),n.jsx("button",{type:"submit",className:`w-full py-3 px-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl shadow-lg hover:from-blue-700 hover:to-blue-800 flex items-center justify-center gap-2 transition duration-300 ${l?"opacity-75 cursor-not-allowed":""}`,disabled:l,"aria-label":"Complete Onboarding",children:l?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"w-5 h-5 animate-spin text-white",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})}),"Complete Onboarding"]})})]})]})}),f&&n.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-2xl w-full max-w-md mx-4 sm:mx-0 transform transition-all duration-500 ease-out animate-fadeInUp",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Already Onboarded"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Youre already set as a seller! Ready to manage your wallet?"}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:()=>r("/sell"),className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200","aria-label":"Go to Dashboard",children:"Yes"}),n.jsx("button",{onClick:()=>g(!1),className:"py-2 px-6 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition duration-200","aria-label":"Close Modal",children:"No"})]})]})})]})}function Ok(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ad=Ok();function iL(r){Ad=r}var vf={exec:()=>null};function Rs(r,e=""){let t=typeof r=="string"?r:r.source;const s={replace:(a,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(La.caret,"$1"),t=t.replace(a,o),s},getRegex:()=>new RegExp(t,e)};return s}var La={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},Ooe=/^(?:[ \t]*(?:\n|$))+/,Loe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Foe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Dg=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Uoe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Lk=/(?:[*+-]|\d{1,9}[.)])/,oL=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,lL=Rs(oL).replace(/bull/g,Lk).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),zoe=Rs(oL).replace(/bull/g,Lk).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Fk=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Voe=/^[^\n]+/,Uk=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Boe=Rs(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Uk).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Hoe=Rs(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Lk).getRegex(),ry="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",zk=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,$oe=Rs("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",zk).replace("tag",ry).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),cL=Rs(Fk).replace("hr",Dg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ry).getRegex(),Woe=Rs(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",cL).getRegex(),Vk={blockquote:Woe,code:Loe,def:Boe,fences:Foe,heading:Uoe,hr:Dg,html:$oe,lheading:lL,list:Hoe,newline:Ooe,paragraph:cL,table:vf,text:Voe},MI=Rs("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Dg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ry).getRegex(),Yoe={...Vk,lheading:zoe,table:MI,paragraph:Rs(Fk).replace("hr",Dg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",MI).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ry).getRegex()},qoe={...Vk,html:Rs(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",zk).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:vf,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Rs(Fk).replace("hr",Dg).replace("heading",` *#{1,6} *[^
]`).replace("lheading",lL).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Xoe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Goe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,dL=/^( {2,}|\\)\n(?!\s*$)/,Koe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ay=/[\p{P}\p{S}]/u,Bk=/[\s\p{P}\p{S}]/u,uL=/[^\s\p{P}\p{S}]/u,Qoe=Rs(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Bk).getRegex(),hL=/(?!~)[\p{P}\p{S}]/u,Zoe=/(?!~)[\s\p{P}\p{S}]/u,Joe=/(?:[^\s\p{P}\p{S}]|~)/u,ele=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,mL=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,tle=Rs(mL,"u").replace(/punct/g,ay).getRegex(),sle=Rs(mL,"u").replace(/punct/g,hL).getRegex(),fL="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",rle=Rs(fL,"gu").replace(/notPunctSpace/g,uL).replace(/punctSpace/g,Bk).replace(/punct/g,ay).getRegex(),ale=Rs(fL,"gu").replace(/notPunctSpace/g,Joe).replace(/punctSpace/g,Zoe).replace(/punct/g,hL).getRegex(),nle=Rs("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,uL).replace(/punctSpace/g,Bk).replace(/punct/g,ay).getRegex(),ile=Rs(/\\(punct)/,"gu").replace(/punct/g,ay).getRegex(),ole=Rs(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),lle=Rs(zk).replace("(?:-->|$)","-->").getRegex(),cle=Rs("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",lle).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),tb=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,dle=Rs(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",tb).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),gL=Rs(/^!?\[(label)\]\[(ref)\]/).replace("label",tb).replace("ref",Uk).getRegex(),pL=Rs(/^!?\[(ref)\](?:\[\])?/).replace("ref",Uk).getRegex(),ule=Rs("reflink|nolink(?!\\()","g").replace("reflink",gL).replace("nolink",pL).getRegex(),Hk={_backpedal:vf,anyPunctuation:ile,autolink:ole,blockSkip:ele,br:dL,code:Goe,del:vf,emStrongLDelim:tle,emStrongRDelimAst:rle,emStrongRDelimUnd:nle,escape:Xoe,link:dle,nolink:pL,punctuation:Qoe,reflink:gL,reflinkSearch:ule,tag:cle,text:Koe,url:vf},hle={...Hk,link:Rs(/^!?\[(label)\]\((.*?)\)/).replace("label",tb).getRegex(),reflink:Rs(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",tb).getRegex()},HN={...Hk,emStrongRDelimAst:ale,emStrongLDelim:sle,url:Rs(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},mle={...HN,br:Rs(dL).replace("{2,}","*").getRegex(),text:Rs(HN.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Mx={normal:Vk,gfm:Yoe,pedantic:qoe},Lm={normal:Hk,gfm:HN,breaks:mle,pedantic:hle},fle={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},OI=r=>fle[r];function Si(r,e){if(e){if(La.escapeTest.test(r))return r.replace(La.escapeReplace,OI)}else if(La.escapeTestNoEncode.test(r))return r.replace(La.escapeReplaceNoEncode,OI);return r}function LI(r){try{r=encodeURI(r).replace(La.percentDecode,"%")}catch{return null}return r}function FI(r,e){const t=r.replace(La.findPipe,(i,o,l)=>{let c=!1,u=o;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),s=t.split(La.splitPipe);let a=0;if(s[0].trim()||s.shift(),s.length>0&&!s.at(-1)?.trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;a<s.length;a++)s[a]=s[a].trim().replace(La.slashPipe,"|");return s}function Fm(r,e,t){const s=r.length;if(s===0)return"";let a=0;for(;a<s&&r.charAt(s-a-1)===e;)a++;return r.slice(0,s-a)}function gle(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let s=0;s<r.length;s++)if(r[s]==="\\")s++;else if(r[s]===e[0])t++;else if(r[s]===e[1]&&(t--,t<0))return s;return t>0?-2:-1}function UI(r,e,t,s,a){const i=e.href,o=e.title||null,l=r[1].replace(a.other.outputLinkReplace,"$1");s.state.inLink=!0;const c={type:r[0].charAt(0)==="!"?"image":"link",raw:t,href:i,title:o,text:l,tokens:s.inlineTokens(l)};return s.state.inLink=!1,c}function ple(r,e,t){const s=r.match(t.other.indentCodeCompensation);if(s===null)return e;const a=s[1];return e.split(`
`).map(i=>{const o=i.match(t.other.beginningSpace);if(o===null)return i;const[l]=o;return l.length>=a.length?i.slice(a.length):i}).join(`
`)}var sb=class{options;rules;lexer;constructor(r){this.options=r||Ad}space(r){const e=this.rules.block.newline.exec(r);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(r){const e=this.rules.block.code.exec(r);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Fm(t,`
`)}}}fences(r){const e=this.rules.block.fences.exec(r);if(e){const t=e[0],s=ple(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(r){const e=this.rules.block.heading.exec(r);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const s=Fm(t,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(t=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(r){const e=this.rules.block.hr.exec(r);if(e)return{type:"hr",raw:Fm(e[0],`
`)}}blockquote(r){const e=this.rules.block.blockquote.exec(r);if(e){let t=Fm(e[0],`
`).split(`
`),s="",a="";const i=[];for(;t.length>0;){let o=!1;const l=[];let c;for(c=0;c<t.length;c++)if(this.rules.other.blockquoteStart.test(t[c]))l.push(t[c]),o=!0;else if(!o)l.push(t[c]);else break;t=t.slice(c);const u=l.join(`
`),h=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${u}`:u,a=a?`${a}
${h}`:h;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,i,!0),this.lexer.state.top=f,t.length===0)break;const g=i.at(-1);if(g?.type==="code")break;if(g?.type==="blockquote"){const x=g,y=x.raw+`
`+t.join(`
`),b=this.blockquote(y);i[i.length-1]=b,s=s.substring(0,s.length-x.raw.length)+b.raw,a=a.substring(0,a.length-x.text.length)+b.text;break}else if(g?.type==="list"){const x=g,y=x.raw+`
`+t.join(`
`),b=this.list(y);i[i.length-1]=b,s=s.substring(0,s.length-g.raw.length)+b.raw,a=a.substring(0,a.length-x.raw.length)+b.raw,t=y.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:i,text:a}}}list(r){let e=this.rules.block.list.exec(r);if(e){let t=e[1].trim();const s=t.length>1,a={type:"list",raw:"",ordered:s,start:s?+t.slice(0,-1):"",loose:!1,items:[]};t=s?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=s?t:"[*+-]");const i=this.rules.other.listItemRegex(t);let o=!1;for(;r;){let c=!1,u="",h="";if(!(e=i.exec(r))||this.rules.block.hr.test(r))break;u=e[0],r=r.substring(u.length);let f=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,N=>" ".repeat(3*N.length)),g=r.split(`
`,1)[0],x=!f.trim(),y=0;if(this.options.pedantic?(y=2,h=f.trimStart()):x?y=e[1].length+1:(y=e[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,h=f.slice(y),y+=e[1].length),x&&this.rules.other.blankLine.test(g)&&(u+=g+`
`,r=r.substring(g.length+1),c=!0),!c){const N=this.rules.other.nextBulletRegex(y),k=this.rules.other.hrRegex(y),C=this.rules.other.fencesBeginRegex(y),R=this.rules.other.headingBeginRegex(y),_=this.rules.other.htmlBeginRegex(y);for(;r;){const I=r.split(`
`,1)[0];let P;if(g=I,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),P=g):P=g.replace(this.rules.other.tabCharGlobal,"    "),C.test(g)||R.test(g)||_.test(g)||N.test(g)||k.test(g))break;if(P.search(this.rules.other.nonSpaceChar)>=y||!g.trim())h+=`
`+P.slice(y);else{if(x||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||C.test(f)||R.test(f)||k.test(f))break;h+=`
`+g}!x&&!g.trim()&&(x=!0),u+=I+`
`,r=r.substring(I.length+1),f=P.slice(y)}}a.loose||(o?a.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(o=!0));let b=null,v;this.options.gfm&&(b=this.rules.other.listIsTask.exec(h),b&&(v=b[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:u,task:!!b,checked:v,loose:!1,text:h,tokens:[]}),a.raw+=u}const l=a.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let c=0;c<a.items.length;c++)if(this.lexer.state.top=!1,a.items[c].tokens=this.lexer.blockTokens(a.items[c].text,[]),!a.loose){const u=a.items[c].tokens.filter(f=>f.type==="space"),h=u.length>0&&u.some(f=>this.rules.other.anyLine.test(f.raw));a.loose=h}if(a.loose)for(let c=0;c<a.items.length;c++)a.items[c].loose=!0;return a}}html(r){const e=this.rules.block.html.exec(r);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(r){const e=this.rules.block.def.exec(r);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:s,title:a}}}table(r){const e=this.rules.block.table.exec(r);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const t=FI(e[1]),s=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===s.length){for(const o of s)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<t.length;o++)i.header.push({text:t[o],tokens:this.lexer.inline(t[o]),header:!0,align:i.align[o]});for(const o of a)i.rows.push(FI(o,i.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:i.align[c]})));return i}}lheading(r){const e=this.rules.block.lheading.exec(r);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(r){const e=this.rules.block.paragraph.exec(r);if(e){const t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(r){const e=this.rules.block.text.exec(r);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(r){const e=this.rules.inline.escape.exec(r);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(r){const e=this.rules.inline.tag.exec(r);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(r){const e=this.rules.inline.link.exec(r);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const i=Fm(t.slice(0,-1),"\\");if((t.length-i.length)%2===0)return}else{const i=gle(e[2],"()");if(i===-2)return;if(i>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let s=e[2],a="";if(this.options.pedantic){const i=this.rules.other.pedanticHrefTitle.exec(s);i&&(s=i[1],a=i[3])}else a=e[3]?e[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?s=s.slice(1):s=s.slice(1,-1)),UI(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(r,e){let t;if((t=this.rules.inline.reflink.exec(r))||(t=this.rules.inline.nolink.exec(r))){const s=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=e[s.toLowerCase()];if(!a){const i=t[0].charAt(0);return{type:"text",raw:i,text:i}}return UI(t,a,t[0],this.lexer,this.rules)}}emStrong(r,e,t=""){let s=this.rules.inline.emStrongLDelim.exec(r);if(!s||s[3]&&t.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const i=[...s[0]].length-1;let o,l,c=i,u=0;const h=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*r.length+i);(s=h.exec(e))!=null;){if(o=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!o)continue;if(l=[...o].length,s[3]||s[4]){c+=l;continue}else if((s[5]||s[6])&&i%3&&!((i+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);const f=[...s[0]][0].length,g=r.slice(0,i+s.index+f+l);if(Math.min(i,l)%2){const y=g.slice(1,-1);return{type:"em",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}const x=g.slice(2,-2);return{type:"strong",raw:g,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(r){const e=this.rules.inline.code.exec(r);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(t),a=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return s&&a&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(r){const e=this.rules.inline.br.exec(r);if(e)return{type:"br",raw:e[0]}}del(r){const e=this.rules.inline.del.exec(r);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(r){const e=this.rules.inline.autolink.exec(r);if(e){let t,s;return e[2]==="@"?(t=e[1],s="mailto:"+t):(t=e[1],s=t),{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}url(r){let e;if(e=this.rules.inline.url.exec(r)){let t,s;if(e[2]==="@")t=e[0],s="mailto:"+t;else{let a;do a=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(a!==e[0]);t=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(r){const e=this.rules.inline.text.exec(r);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},So=class $N{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ad,this.options.tokenizer=this.options.tokenizer||new sb,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:La,block:Mx.normal,inline:Lm.normal};this.options.pedantic?(t.block=Mx.pedantic,t.inline=Lm.pedantic):this.options.gfm&&(t.block=Mx.gfm,this.options.breaks?t.inline=Lm.breaks:t.inline=Lm.gfm),this.tokenizer.rules=t}static get rules(){return{block:Mx,inline:Lm}}static lex(e,t){return new $N(t).lex(e)}static lexInline(e,t){return new $N(t).inlineTokens(e)}lex(e){e=e.replace(La.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const s=this.inlineQueue[t];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],s=!1){for(this.options.pedantic&&(e=e.replace(La.tabCharGlobal,"    ").replace(La.spaceLine,""));e;){let a;if(this.options.extensions?.block?.some(o=>(a=o.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);const o=t.at(-1);a.raw.length===1&&o!==void 0?o.raw+=`
`:t.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);const o=t.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.at(-1).src=o.text):t.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);const o=t.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),t.push(a);continue}let i=e;if(this.options.extensions?.startBlock){let o=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(i=e.substring(0,o+1))}if(this.state.top&&(a=this.tokenizer.paragraph(i))){const o=t.at(-1);s&&o?.type==="paragraph"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(a),s=i.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);const o=t.at(-1);o?.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(a);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let s=e,a=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)l.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,o="";for(;e;){i||(o=""),i=!1;let l;if(this.options.extensions?.inline?.some(u=>(l=u.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const u=t.at(-1);l.type==="text"&&u?.type==="text"?(u.raw+=l.raw,u.text+=l.text):t.push(l);continue}if(l=this.tokenizer.emStrong(e,s,o)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),t.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),t.push(l);continue}let c=e;if(this.options.extensions?.startInline){let u=1/0;const h=e.slice(1);let f;this.options.extensions.startInline.forEach(g=>{f=g.call({lexer:this},h),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(c=e.substring(0,u+1))}if(l=this.tokenizer.inlineText(c)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),i=!0;const u=t.at(-1);u?.type==="text"?(u.raw+=l.raw,u.text+=l.text):t.push(l);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}},rb=class{options;parser;constructor(r){this.options=r||Ad}space(r){return""}code({text:r,lang:e,escaped:t}){const s=(e||"").match(La.notSpaceStart)?.[0],a=r.replace(La.endingNewline,"")+`
`;return s?'<pre><code class="language-'+Si(s)+'">'+(t?a:Si(a,!0))+`</code></pre>
`:"<pre><code>"+(t?a:Si(a,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}heading({tokens:r,depth:e}){return`<h${e}>${this.parser.parseInline(r)}</h${e}>
`}hr(r){return`<hr>
`}list(r){const e=r.ordered,t=r.start;let s="";for(let o=0;o<r.items.length;o++){const l=r.items[o];s+=this.listitem(l)}const a=e?"ol":"ul",i=e&&t!==1?' start="'+t+'"':"";return"<"+a+i+`>
`+s+"</"+a+`>
`}listitem(r){let e="";if(r.task){const t=this.checkbox({checked:!!r.checked});r.loose?r.tokens[0]?.type==="paragraph"?(r.tokens[0].text=t+" "+r.tokens[0].text,r.tokens[0].tokens&&r.tokens[0].tokens.length>0&&r.tokens[0].tokens[0].type==="text"&&(r.tokens[0].tokens[0].text=t+" "+Si(r.tokens[0].tokens[0].text),r.tokens[0].tokens[0].escaped=!0)):r.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(r.tokens,!!r.loose),`<li>${e}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let e="",t="";for(let a=0;a<r.header.length;a++)t+=this.tablecell(r.header[a]);e+=this.tablerow({text:t});let s="";for(let a=0;a<r.rows.length;a++){const i=r.rows[a];t="";for(let o=0;o<i.length;o++)t+=this.tablecell(i[o]);s+=this.tablerow({text:t})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){const e=this.parser.parseInline(r.tokens),t=r.header?"th":"td";return(r.align?`<${t} align="${r.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${Si(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:e,tokens:t}){const s=this.parser.parseInline(t),a=LI(r);if(a===null)return s;r=a;let i='<a href="'+r+'"';return e&&(i+=' title="'+Si(e)+'"'),i+=">"+s+"</a>",i}image({href:r,title:e,text:t,tokens:s}){s&&(t=this.parser.parseInline(s,this.parser.textRenderer));const a=LI(r);if(a===null)return Si(t);r=a;let i=`<img src="${r}" alt="${t}"`;return e&&(i+=` title="${Si(e)}"`),i+=">",i}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:Si(r.text)}},$k=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}},_o=class WN{options;renderer;textRenderer;constructor(e){this.options=e||Ad,this.options.renderer=this.options.renderer||new rb,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $k}static parse(e,t){return new WN(t).parse(e)}static parseInline(e,t){return new WN(t).parseInline(e)}parse(e,t=!0){let s="";for(let a=0;a<e.length;a++){const i=e[a];if(this.options.extensions?.renderers?.[i.type]){const l=i,c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){s+=c||"";continue}}const o=i;switch(o.type){case"space":{s+=this.renderer.space(o);continue}case"hr":{s+=this.renderer.hr(o);continue}case"heading":{s+=this.renderer.heading(o);continue}case"code":{s+=this.renderer.code(o);continue}case"table":{s+=this.renderer.table(o);continue}case"blockquote":{s+=this.renderer.blockquote(o);continue}case"list":{s+=this.renderer.list(o);continue}case"html":{s+=this.renderer.html(o);continue}case"paragraph":{s+=this.renderer.paragraph(o);continue}case"text":{let l=o,c=this.renderer.text(l);for(;a+1<e.length&&e[a+1].type==="text";)l=e[++a],c+=`
`+this.renderer.text(l);t?s+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):s+=c;continue}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return s}parseInline(e,t=this.renderer){let s="";for(let a=0;a<e.length;a++){const i=e[a];if(this.options.extensions?.renderers?.[i.type]){const l=this.options.extensions.renderers[i.type].call({parser:this},i);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){s+=l||"";continue}}const o=i;switch(o.type){case"escape":{s+=t.text(o);break}case"html":{s+=t.html(o);break}case"link":{s+=t.link(o);break}case"image":{s+=t.image(o);break}case"strong":{s+=t.strong(o);break}case"em":{s+=t.em(o);break}case"codespan":{s+=t.codespan(o);break}case"br":{s+=t.br(o);break}case"del":{s+=t.del(o);break}case"text":{s+=t.text(o);break}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return s}},d0=class{options;block;constructor(r){this.options=r||Ad}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}provideLexer(){return this.block?So.lex:So.lexInline}provideParser(){return this.block?_o.parse:_o.parseInline}},xle=class{defaults=Ok();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=_o;Renderer=rb;TextRenderer=$k;Lexer=So;Tokenizer=sb;Hooks=d0;constructor(...r){this.use(...r)}walkTokens(r,e){let t=[];for(const s of r)switch(t=t.concat(e.call(this,s)),s.type){case"table":{const a=s;for(const i of a.header)t=t.concat(this.walkTokens(i.tokens,e));for(const i of a.rows)for(const o of i)t=t.concat(this.walkTokens(o.tokens,e));break}case"list":{const a=s;t=t.concat(this.walkTokens(a.items,e));break}default:{const a=s;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(i=>{const o=a[i].flat(1/0);t=t.concat(this.walkTokens(o,e))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,e)))}}return t}use(...r){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(t=>{const s={...t};if(s.async=this.defaults.async||s.async||!1,t.extensions&&(t.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const i=e.renderers[a.name];i?e.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=i.apply(this,o)),l}:e.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=e[a.level];i?i.unshift(a.tokenizer):e[a.level]=[a.tokenizer],a.start&&(a.level==="block"?e.startBlock?e.startBlock.push(a.start):e.startBlock=[a.start]:a.level==="inline"&&(e.startInline?e.startInline.push(a.start):e.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(e.childTokens[a.name]=a.childTokens)}),s.extensions=e),t.renderer){const a=this.defaults.renderer||new rb(this.defaults);for(const i in t.renderer){if(!(i in a))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;const o=i,l=t.renderer[o],c=a[o];a[o]=(...u)=>{let h=l.apply(a,u);return h===!1&&(h=c.apply(a,u)),h||""}}s.renderer=a}if(t.tokenizer){const a=this.defaults.tokenizer||new sb(this.defaults);for(const i in t.tokenizer){if(!(i in a))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const o=i,l=t.tokenizer[o],c=a[o];a[o]=(...u)=>{let h=l.apply(a,u);return h===!1&&(h=c.apply(a,u)),h}}s.tokenizer=a}if(t.hooks){const a=this.defaults.hooks||new d0;for(const i in t.hooks){if(!(i in a))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;const o=i,l=t.hooks[o],c=a[o];d0.passThroughHooks.has(i)?a[o]=u=>{if(this.defaults.async)return Promise.resolve(l.call(a,u)).then(f=>c.call(a,f));const h=l.call(a,u);return c.call(a,h)}:a[o]=(...u)=>{let h=l.apply(a,u);return h===!1&&(h=c.apply(a,u)),h}}s.hooks=a}if(t.walkTokens){const a=this.defaults.walkTokens,i=t.walkTokens;s.walkTokens=function(o){let l=[];return l.push(i.call(this,o)),a&&(l=l.concat(a.call(this,o))),l}}this.defaults={...this.defaults,...s}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,e){return So.lex(r,e??this.defaults)}parser(r,e){return _o.parse(r,e??this.defaults)}parseMarkdown(r){return(t,s)=>{const a={...s},i={...this.defaults,...a},o=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&a.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=r);const l=i.hooks?i.hooks.provideLexer():r?So.lex:So.lexInline,c=i.hooks?i.hooks.provideParser():r?_o.parse:_o.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then(u=>l(u,i)).then(u=>i.hooks?i.hooks.processAllTokens(u):u).then(u=>i.walkTokens?Promise.all(this.walkTokens(u,i.walkTokens)).then(()=>u):u).then(u=>c(u,i)).then(u=>i.hooks?i.hooks.postprocess(u):u).catch(o);try{i.hooks&&(t=i.hooks.preprocess(t));let u=l(t,i);i.hooks&&(u=i.hooks.processAllTokens(u)),i.walkTokens&&this.walkTokens(u,i.walkTokens);let h=c(u,i);return i.hooks&&(h=i.hooks.postprocess(h)),h}catch(u){return o(u)}}}onError(r,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const s="<p>An error occurred:</p><pre>"+Si(t.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(t);throw t}}},xd=new xle;function Ps(r,e){return xd.parse(r,e)}Ps.options=Ps.setOptions=function(r){return xd.setOptions(r),Ps.defaults=xd.defaults,iL(Ps.defaults),Ps};Ps.getDefaults=Ok;Ps.defaults=Ad;Ps.use=function(...r){return xd.use(...r),Ps.defaults=xd.defaults,iL(Ps.defaults),Ps};Ps.walkTokens=function(r,e){return xd.walkTokens(r,e)};Ps.parseInline=xd.parseInline;Ps.Parser=_o;Ps.parser=_o.parse;Ps.Renderer=rb;Ps.TextRenderer=$k;Ps.Lexer=So;Ps.lexer=So.lex;Ps.Tokenizer=sb;Ps.Hooks=d0;Ps.parse=Ps;Ps.options;Ps.setOptions;Ps.use;Ps.walkTokens;Ps.parseInline;_o.parse;So.lex;function ny({locationData:r,setLocationData:e,errors:t,saveLocation:s}){const a=o=>{const{name:l,value:c}=o.target;e(u=>({...u,[l]:c}))},i=async()=>{if(s){const o=ke.currentUser?.uid;if(o)try{await Xt(Ce(re,"sellerLocations",o),r,{merge:!0}),console.log("Location saved to Firestore:",r)}catch(l){console.error("Error saving location:",l)}}};return as.useEffect(()=>{s&&Object.values(r).some(o=>o)&&i()},[r,s]),n.jsxs("div",{className:"mt-6",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-map text-blue-500"}),"Seller Location"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{htmlFor:"country",className:`block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 ${r.country?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""} transition-all duration-300 transform origin-left pointer-events-none absolute left-3 top-3`,children:["Country ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"country",name:"country",value:r.country||"",onChange:a,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${t.country?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),t.country&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),t.country]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{htmlFor:"state",className:`block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 ${r.state?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""} transition-all duration-300 transform origin-left pointer-events-none absolute left-3 top-3`,children:["State ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"state",name:"state",value:r.state||"",onChange:a,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${t.state?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),t.state&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),t.state]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{htmlFor:"city",className:`block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 ${r.city?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""} transition-all duration-300 transform origin-left pointer-events-none absolute left-3 top-3`,children:"City"}),n.jsx("input",{type:"text",id:"city",name:"city",value:r.city||"",onChange:a,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${t.city?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),t.city&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),t.city]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{htmlFor:"address",className:`block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 ${r.address?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""} transition-all duration-300 transform origin-left pointer-events-none absolute left-3 top-3`,children:"Address"}),n.jsx("input",{type:"text",id:"address",name:"address",value:r.address||"",onChange:a,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${t.address?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),t.address&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),t.address]})]})]})]})}ny.propTypes={locationData:Gt.shape({country:Gt.string,state:Gt.string,city:Gt.string,address:Gt.string}).isRequired,setLocationData:Gt.func.isRequired,errors:Gt.object.isRequired,saveLocation:Gt.func};ny.defaultProps={saveLocation:null};function Wk({isOpen:r,onClose:e,message:t,icon:s,type:a,showYesNoButtons:i,onYes:o,onNo:l}){return r?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-3",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg w-full max-w-md relative shadow-lg transform transition-all duration-300 animate-slide-in",children:[n.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300","aria-label":"Close popup",children:n.jsx("i",{className:"bx bx-x text-2xl"})}),n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("i",{className:`bx ${s} text-5xl ${a==="success"?"text-green-600":"text-blue-600"} mb-4`}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:t}),a==="success"&&n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Your product is awaiting admin approval before going live. This would take around 24 hours."}),n.jsx("div",{className:"mt-6 flex gap-4",children:i?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:"Yes"}),n.jsx("button",{onClick:l,className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition duration-200",children:"No"})]}):n.jsx("button",{onClick:e,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:"Close"})})]})]})}):null}Wk.propTypes={isOpen:Gt.bool.isRequired,onClose:Gt.func.isRequired,message:Gt.string,icon:Gt.string,type:Gt.oneOf(["success","question"]),showYesNoButtons:Gt.bool,onYes:Gt.func,onNo:Gt.func};Wk.defaultProps={message:"Action completed!",icon:"bx-check-circle",type:"success",showYesNoButtons:!1,onYes:()=>{},onNo:()=>{}};Zt.defaults.timeout=8e4;function ble({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function yle(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function vle(){const r=gs(),{alerts:e,addAlert:t,removeAlert:s}=yle(),[a,i]=E.useState(()=>{const ie=localStorage.getItem("sellerProductForm");return ie?JSON.parse(ie):{sellerName:"",name:"",description:"",price:"",stock:"",category:"",subcategory:"",subSubcategory:"",colors:[],sizes:[],condition:"New",productUrl:"",images:[],videos:[],tags:[],manualSize:""}}),[o,l]=E.useState(()=>{const ie=localStorage.getItem("sellerLocationForm");return ie?JSON.parse(ie):{country:"",state:"",city:"",address:""}}),[c,u]=E.useState({}),[h,f]=E.useState(!0),[g,x]=E.useState(!1),[y,b]=E.useState(()=>{const ie=localStorage.getItem("sellerProductImages");return ie?JSON.parse(ie):[]}),[v,N]=E.useState(()=>{const ie=localStorage.getItem("sellerProductPreviews");return ie?JSON.parse(ie):[]}),[k,C]=E.useState(()=>{const ie=localStorage.getItem("sellerProductVideos");return ie?JSON.parse(ie):[]}),[R,_]=E.useState(()=>{const ie=localStorage.getItem("sellerProductVideoPreviews");return ie?JSON.parse(ie):[]}),[I,P]=E.useState({}),[T,D]=E.useState(!1),[L,F]=E.useState(0),[z,O]=E.useState(null),[V,H]=E.useState(""),[B,q]=E.useState([]),[ee,G]=E.useState(!1),[$,Q]=E.useState(!1),[te,ne]=E.useState(!1),[ce,Re]=E.useState(!1),[de,Me]=E.useState(!1),[ue,X]=E.useState({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),[se,ge]=E.useState(!1),[xe,Ee]=E.useState([]),[$e,rt]=E.useState({}),[be,Ve]=E.useState({}),[st,We]=E.useState([]),[Ge,et]=E.useState(null),[xt,es]=E.useState(null),[Gs,kr]=E.useState(""),[Ft,lt]=E.useState(1),Wt=[{label:"Media",key:1},{label:"Details",key:2},{label:"Pricing",key:3},{label:"Location",key:4}],gt=ie=>ie===1?y.length>0:ie===2?a.name&&a.description&&a.sellerName:ie===3?a.price&&a.stock:ie===4?o.country&&o.state:!1;E.useEffect(()=>{gt(1)&&Ft<2&&lt(2),gt(2)&&Ft<3&&lt(3),gt(3)&&Ft<4&&lt(4)},[y,a.name,a.description,a.sellerName,a.price,a.stock,o.country,o.state]);const Bt=ie=>{ie<Ft&&lt(ie)};console.log(de);const St=E.useRef(null),Ot=E.useRef(null),Yt=E.useRef(null),Ht=E.useRef(null),Ks=E.useRef(null),jt=[{name:"Red",hex:"#ff0000"},{name:"Orange",hex:"#FFA500"},{name:"blue",hex:"#0000ff"},{name:"Green",hex:"#008000"},{name:"Brown",hex:"#8b4513"},{name:"Black",hex:"#000000"},{name:"White",hex:"#ffffff"},{name:"Purple",hex:"#800080"},{name:"Pink",hex:"#ffc1cc"},{name:"Gray",hex:"#808080"},{name:"Yellow",hex:"#FFFF00"},{name:"Gold",hex:"#ff9a1d"},{name:"Silver",hex:"#e2f2ec"}],Mt=["S","M","L","XL","XXL"],ar=["3","4","6","8","10","12","14","16","18","20"],Is=['3"','5"','5.5"','6"','6.5"','7"','7.5"','8"','8.5"','9"','9.5"','10"','10.5"','11"','11.5"','12"','12.5"'],nr=["30ml","50ml","60ml","75ml","100ml"],Ds=["1 to 5kg","5 to 10kg ","10 to 20kg","20kg above"],Ms=["Verified","Original","Brand New","Authentic"],Os=8,Ss=1,Qs=10*1024*1024,ps=30;E.useEffect(()=>{localStorage.setItem("sellerLocationForm",JSON.stringify(o))},[o]),E.useEffect(()=>{const ie=bs(Ie(re,"categories"),ht=>{const Nt=ht.docs.map(pt=>({id:pt.id,...pt.data()}));Ee(Nt.map(pt=>pt.name)),a.category&&!Nt.some(pt=>pt.name===a.category)&&(i(pt=>({...pt,category:"",subcategory:"",subSubcategory:"",sizes:[]})),t("Selected category was removed by admin.","error"))},ht=>{console.error("Error fetching categories:",ht),t("Failed to load categories.","error")}),Fe=bs(Ie(re,"customSubcategories"),ht=>{const Nt={};ht.forEach(pt=>{Nt[pt.id]=pt.data().subcategories||[]}),rt(Nt),a.category&&a.subcategory&&!Nt[a.category]?.includes(a.subcategory)&&(i(pt=>({...pt,subcategory:"",subSubcategory:"",sizes:[]})),t("Selected subcategory was removed by admin.","error"))},ht=>{console.error("Error fetching subcategories:",ht),t("Failed to load subcategories.","error")}),Ye=bs(Ie(re,"customSubSubcategories"),ht=>{const Nt={};ht.forEach(pt=>{const vs=pt.id,Hn=pt.data();Nt[vs]={},Object.entries(Hn).forEach(([zo,Vo])=>{Nt[vs][zo]=Array.isArray(Vo)?Vo:[]})}),Ve(Nt),a.category&&a.subcategory&&a.subSubcategory&&!Nt[a.category]?.[a.subcategory]?.includes(a.subSubcategory)&&(i(pt=>({...pt,subSubcategory:"",sizes:[]})),t("Selected sub-subcategory was removed by admin.","error"))},ht=>{console.error("Error fetching sub-subcategories:",ht),t("Failed to load sub-subcategories.","error")});return(async()=>{try{const ht=Ce(re,"feeConfigurations","categoryFees"),Nt=await Je(ht);Nt.exists()?es(Nt.data()):t("No fee configurations found.","error")}catch(ht){console.error("Error fetching fee configurations:",ht),t("Failed to load fee configurations.","error")}})(),()=>{ie(),Fe(),Ye()}},[a.category,a.subcategory,a.subSubcategory]),E.useEffect(()=>{const ie=ke.onAuthStateChanged(Fe=>{if(Fe){O(Fe);try{let Ye=Fe.displayName||"";Ye&&Ye.startsWith("{")&&(Ye=JSON.parse(Ye).name||""),i(at=>({...at,sellerName:Ye})),localStorage.setItem("sellerProductForm",JSON.stringify({...a,sellerName:Ye}))}catch(Ye){console.error("Error parsing displayName:",Ye),t("Failed to load seller profile.","error")}}else t("Please log in to add products.","error"),r("/login")});return()=>ie()},[r]),E.useEffect(()=>{if(!xt||!a.category)return;const ie=parseFloat(a.price);if(!ie||isNaN(ie)){X({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0});return}const Fe=xt[a.category]||{buyerProtectionRate:.08,handlingRate:.2},Ye=ie*Fe.buyerProtectionRate,at=ie*Fe.handlingRate,ht=ie+Ye+at,Nt=ie;X({productSize:a.category,buyerProtectionFee:Ye,handlingFee:at,totalEstimatedPrice:ht,sellerEarnings:Nt}),localStorage.setItem("sellerProductForm",JSON.stringify(a))},[a.price,a.category,xt]),E.useEffect(()=>{localStorage.setItem("sellerProductForm",JSON.stringify(a)),localStorage.setItem("sellerProductImages",JSON.stringify(y)),localStorage.setItem("sellerProductPreviews",JSON.stringify(v)),localStorage.setItem("sellerProductVideos",JSON.stringify(k)),localStorage.setItem("sellerProductVideoPreviews",JSON.stringify(R))},[a,y,v,k,R]),E.useEffect(()=>{kr(Ps(a.description||"",{gfm:!0,breaks:!0}))},[a.description]),E.useEffect(()=>{(()=>{const Fe=`${a.name} ${a.description} ${a.subSubcategory}`.toLowerCase(),Ye=[];Fe.includes("leather")&&Ye.push("Leather"),(Fe.includes("shoe")||Fe.includes("footwear"))&&Ye.push("Footwear"),(Fe.includes("phone")||Fe.includes("mobile"))&&Ye.push("Smartphone"),Fe.includes("fashion")&&Ye.push("Fashion"),Fe.includes("vintage")&&Ye.push("Vintage"),Fe.includes("smart")&&Ye.push("Smart"),We(Ye.filter(at=>!a.tags.includes(at)))})()},[a.name,a.description,a.subSubcategory]),E.useEffect(()=>{const ie=navigator.userAgent||navigator.vendor||window.opera;ge(/android|iphone|ipad|ipod|opera mini|mobile/i.test(ie))},[]);const tr=ie=>{const{name:Fe,value:Ye}=ie.target;i(at=>({...at,[Fe]:Ye,...Fe==="category"?{subcategory:"",subSubcategory:"",sizes:[]}:{},...Fe==="subcategory"?{subSubcategory:"",sizes:[]}:{}})),P(at=>({...at,[Fe]:""}))},_s=(ie,Fe=!1)=>{const at=Array.from(ie).filter(pt=>pt.type.startsWith("image/")&&pt.size<=5*1024*1024);if(y.length+at.length>Os){t(`You can upload a maximum of ${Os} images.`,"error");return}if(Fe&&at.length>1){t("Please upload one image at a time.","error");return}b(pt=>[...pt,...at]);const Nt=at.map(pt=>URL.createObjectURL(pt));N(pt=>[...pt,...Nt]),P(pt=>({...pt,images:""})),St.current&&(St.current.value=""),Ot.current&&(Ot.current.value="")},we=ie=>{const Ye=Array.from(ie.target.files).filter(ht=>ht.type.startsWith("video/")&&ht.size<=Qs);if(k.length+Ye.length>Ss){t(`You can upload a maximum of ${Ss} video.`,"error");return}const at=ht=>new Promise((Nt,pt)=>{const vs=document.createElement("video");vs.preload="metadata",vs.onloadedmetadata=()=>{vs.duration>ps&&pt(new Error(`Video must be under ${ps} seconds.`)),(vs.audioTracks||[]).length>0?pt(new Error("Please upload a video without audio.")):Nt(ht)},vs.onerror=()=>pt(new Error("Error loading video metadata.")),vs.src=URL.createObjectURL(ht)});Promise.all(Ye.map(ht=>at(ht))).then(ht=>{C(pt=>[...pt,...ht]);const Nt=ht.map(pt=>URL.createObjectURL(pt));_(pt=>[...pt,...Nt]),P(pt=>({...pt,videos:""}))}).catch(ht=>{t(ht.message,"error")}),Yt.current&&(Yt.current.value="")},he=ie=>_s(ie.target.files),J=ie=>_s(ie.target.files,!0),ye=ie=>{ie.preventDefault(),ie.stopPropagation(),Ht.current.classList.remove("border-blue-500"),_s(ie.dataTransfer.files)},_e=ie=>{ie.preventDefault(),ie.stopPropagation(),Ht.current.classList.add("border-blue-500")},He=ie=>{ie.preventDefault(),ie.stopPropagation(),Ht.current.classList.remove("border-blue-500")},kt=ie=>{b(Fe=>Fe.filter((Ye,at)=>at!==ie)),N(Fe=>Fe.filter((Ye,at)=>at!==ie)),y.length<=1&&(St.current&&(St.current.value=""),Ot.current&&(Ot.current.value=""))},ft=ie=>{C(Fe=>Fe.filter((Ye,at)=>at!==ie)),_(Fe=>Fe.filter((Ye,at)=>at!==ie)),k.length<=1&&Yt.current&&(Yt.current.value="")},Ut=ie=>{i(Fe=>{const Ye=Fe.colors.includes(ie)?Fe.colors.filter(at=>at!==ie):[...Fe.colors,ie];return{...Fe,colors:Ye}}),H(""),G(!1)},Sr=ie=>{const Fe=ie.target.value;if(H(Fe),Fe.trim()===""){q([]),G(!1);return}const Ye=jt.filter(at=>at.name.toLowerCase().includes(Fe.toLowerCase()));q(Ye),G(!0)},_a=ie=>{if(ie.key==="Enter"&&V.trim()){const Fe=V.trim();if(Fe.length>20){t("Color name must be 20 characters or less.","error");return}i(Ye=>{const at=Ye.colors.includes(Fe)?Ye.colors:[...Ye.colors,Fe];return{...Ye,colors:at}}),H(""),q([]),G(!1)}},wn=ie=>{i(Fe=>({...Fe,colors:Fe.colors.filter(Ye=>Ye!==ie)}))},Ba=ie=>{i(Fe=>{const Ye=Fe.sizes.includes(ie)?Fe.sizes.filter(at=>at!==ie):[...Fe.sizes,ie];return{...Fe,sizes:Ye}})},is=ie=>{if(ie.key==="Enter"&&ie.target.value.trim()){const Fe=ie.target.value.trim();i(Ye=>{const at=Ye.sizes.includes(Fe)?Ye.sizes:[...Ye.sizes,Fe];return{...Ye,sizes:at}}),ie.target.value=""}},Gr=ie=>{i(Fe=>({...Fe,sizes:Fe.sizes.filter(Ye=>Ye!==ie)}))},Ls=ie=>{i(Fe=>{const Ye=Fe.tags.includes(ie)?Fe.tags.filter(at=>at!==ie):[...Fe.tags,ie];return{...Fe,tags:Ye}})},li=ie=>{const Fe=Ks.current;if(!Fe)return;const Ye=Fe.selectionStart,at=Fe.selectionEnd,ht=a.description.substring(Ye,at);let Nt=a.description,pt=Ye,vs=at;ie==="bold"?ht?(Nt=Nt.substring(0,Ye)+`**${ht}**`+Nt.substring(at),pt=Ye+2,vs=at+2):(Nt=Nt.substring(0,Ye)+"****"+Nt.substring(Ye),pt=Ye+2,vs=Ye+2):ie==="italic"?ht?(Nt=Nt.substring(0,Ye)+`*${ht}*`+Nt.substring(at),pt=Ye+1,vs=at+1):(Nt=Nt.substring(0,Ye)+"**"+Nt.substring(Ye),pt=Ye+1,vs=Ye+1):ie==="code"&&(ht?(Nt=Nt.substring(0,Ye)+`\`${ht}\``+Nt.substring(at),pt=Ye+1,vs=at+1):(Nt=Nt.substring(0,Ye)+"``"+Nt.substring(Ye),pt=Ye+1,vs=Ye+1)),i(Hn=>({...Hn,description:Nt})),setTimeout(()=>{Fe.selectionStart=pt,Fe.selectionEnd=vs,Fe.focus()},0)},ci=()=>{const ie={};return a.sellerName.trim()||(ie.sellerName="Please enter your full name."),a.name.trim()||(ie.name="Product name is required."),(!a.price||isNaN(a.price)||a.price<=0)&&(ie.price="Enter a valid price greater than 0."),(!a.stock||isNaN(a.stock)||a.stock<0)&&(ie.stock="Enter a valid stock quantity (0 or more)."),(!a.category||!xe.includes(a.category))&&(ie.category="Select a valid category."),y.length===0&&(ie.images="At least one image is required."),y.length>Os&&(ie.images=`Maximum ${Os} images allowed.`),k.length>Ss&&(ie.videos=`Maximum ${Ss} video allowed.`),a.colors.length===0&&(ie.colors="Select at least one color."),a.category==="Clothing"&&a.subcategory&&a.sizes.length===0&&(ie.sizes="Select or enter at least one size for clothing products."),a.category==="Footwear"&&a.subcategory&&a.sizes.length===0&&(ie.sizes="Select or enter at least one size for footwear products."),a.category==="Perfumes"&&a.subcategory&&a.sizes.length===0&&(ie.sizes="Select or enter at least one size for perfume products."),ie},Ha=()=>({}),$a=async(ie,Fe=!1)=>{const Ye=new FormData;Ye.append("file",ie),Ye.append("isVideo",Fe);try{const ht=await Zt.post("https://foremade-backend.onrender.com/upload",Ye,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4,onUploadProgress:Nt=>{const pt=Math.round(Nt.loaded*100/Nt.total);F(pt)}});if(ht.status!==200||!ht.data.url)throw new Error(`Failed to upload ${Fe?"video":"image"} to Cloudinary.`);return ht.data.url}catch(at){throw console.error(`${Fe?"Video":"Image"} upload error:`,{message:at.message,code:at.code,response:at.response?.data}),new Error(at.code==="ECONNABORTED"?"Request timed out. Please check your network or try again later.":at.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network or server status.":at.response?.data?.error||`Failed to upload ${Fe?"video":"image"}.`)}finally{F(0)}},Zs=async ie=>{if(ie.preventDefault(),P({}),u({}),D(!0),!z){t("You must be logged in to add products.","error"),D(!1),r("/login");return}const Fe=ci(),Ye=Ha();if(Object.keys(Fe).length>0||Object.keys(Ye).length>0){P(Fe),u(Ye),D(!1),t("Please fix the form errors.","error");return}try{const at=await Promise.all(y.map(vs=>$a(vs))),ht=k.length>0?await Promise.all(k.map(vs=>$a(vs,!0))):[];if(at.length===0)throw new Error("At least one image URL is required.");const Nt={sellerName:a.sellerName,name:a.name,description:a.description||"",price:parseFloat(a.price),stock:parseInt(a.stock,10),category:a.category.toLowerCase(),subcategory:a.subcategory||"",subSubcategory:a.subSubcategory||"",colors:a.colors,sizes:a.sizes,condition:a.condition||"New",productUrl:a.productUrl||"",imageUrls:at,videoUrls:ht,tags:a.tags,sellerId:z.uid,seller:{name:a.sellerName,id:z.uid},createdAt:new Date().toISOString(),reviews:[],buyerProtectionFee:ue.buyerProtectionFee,handlingFee:ue.handlingFee,totalEstimatedPrice:ue.totalEstimatedPrice,sellerEarnings:ue.sellerEarnings,manualSize:a.manualSize||"",location:{country:o.country,state:o.state,city:o.city||"",address:o.address||""}},pt=await en(Ie(re,"products"),Nt);console.log("Product uploaded with ID:",pt.id),x(!0),i({sellerName:"",name:"",description:"",price:"",stock:"",category:"",subcategory:"",subSubcategory:"",colors:[],sizes:[],condition:"New",productUrl:"",images:[],videos:[],tags:[],manualSize:""}),l({country:"",state:"",city:"",address:""}),b([]),N([]),C([]),_([]),localStorage.removeItem("sellerProductForm"),localStorage.removeItem("sellerLocationForm"),localStorage.removeItem("sellerProductImages"),localStorage.removeItem("sellerProductPreviews"),localStorage.removeItem("sellerProductVideos"),localStorage.removeItem("sellerProductVideoPreviews"),St.current&&(St.current.value=""),Ot.current&&(Ot.current.value=""),Yt.current&&(Yt.current.value=""),q([]),G(!1),Q(!1),ne(!1),Re(!1),X({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),Me(!1)}catch(at){console.error("Error uploading product:",{message:at.message,stack:at.stack,code:at.code}),t(at.message||"Failed to upload product.","error")}finally{D(!1)}},$t=()=>a.category==="Clothing"&&a.subcategory?a.subcategory==="Men"?Mt:ar:a.category==="Footwear"&&a.subcategory?Is:a.category==="Perfumes"&&a.subSubcategory?.startsWith("Oil -")?nr:[];return z?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-7xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("h2",{className:"text-xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-package text-blue-500"}),"Add a New Product"]}),n.jsx(fe,{to:"/bulk-upload",className:"inline-block  px-1 py-1 bg-[#112d4e] text-white rounded hover:bg-blue-700 font-semibold shadow",children:"Bulk Upload"})]}),n.jsxs("form",{onSubmit:Zs,className:"space-y-6 sm:space-y-8",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Images (up to ",Os,") ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Upload up to 8 images (JPEG, PNG, etc.)"})]}),n.jsxs("div",{ref:Ht,onDrop:ye,onDragOver:_e,onDragLeave:He,className:`mt-1 w-full p-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center min-h-[200px] transition-colors ${I.images?"border-red-500":"border-gray-300 hover:border-blue-500 dark:border-gray-600"} ${T?"opacity-50":""}`,children:[v.length===0?n.jsxs("div",{className:"text-center",children:[n.jsx("i",{className:"bx bx-cloud-upload text-5xl text-gray-600 dark:text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:se?n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>Ot.current.click(),className:"text-blue-600 hover:underline",disabled:T,children:"Upload one image"})," or ",n.jsxs("button",{type:"button",onClick:()=>St.current.click(),className:"text-blue-600 hover:underline",disabled:T,children:["select up to ",Os," images"]})]}):n.jsxs(n.Fragment,{children:["Drag and drop up to ",Os," images or"," ",n.jsx("button",{type:"button",onClick:()=>St.current.click(),className:"text-blue-600 hover:underline",disabled:T,children:"select images"})]})}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"(JPEG, JPG, PNG, WEBP, GIF, max 5MB each)"})]}):n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 w-full",children:v.map((ie,Fe)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:ie,alt:`Preview ${Fe+1}`,className:"w-full h-48 object-cover rounded-md border border-gray-200 dark:border-gray-600 cursor-pointer shadow-sm",onClick:()=>et({type:"image",src:ie})}),n.jsx("button",{type:"button",onClick:()=>kt(Fe),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 shadow-sm",disabled:T,title:"Remove image",children:n.jsx("i",{className:"bx bx-x text-sm"})})]},Fe))}),n.jsx("input",{ref:St,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:he,className:"hidden",disabled:T,multiple:!0}),n.jsx("input",{ref:Ot,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:J,className:"hidden",disabled:T})]}),I.images&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.images]}),se&&v.length>0&&v.length<Os&&n.jsx("button",{type:"button",onClick:()=>Ot.current.click(),className:"mt-2 text-blue-600 hover:underline text-sm",disabled:T,children:"Add another image"}),L>0&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${L}%`}})})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Product Video (1 video, Optional)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Upload one video (MP4, MKV, WEBM, max 10MB, 30s, no audio)"})]}),n.jsxs("div",{className:`mt-1 w-full p-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center min-h-[200px] transition-colors ${I.videos?"border-red-500":"border-gray-300 hover:border-blue-500 dark:border-gray-600"} ${T?"opacity-50":""}`,children:[R.length===0?n.jsxs("div",{className:"text-center",children:[n.jsx("i",{className:"bx bx-video-plus text-5xl text-gray-600 dark:text-gray-400"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Drag and drop a video or"," ",n.jsx("button",{type:"button",onClick:()=>Yt.current.click(),className:"text-blue-600 hover:underline",disabled:T,children:"select a video"})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"(MP4, MKV, WEBM, max 10MB, under 30 seconds, no audio)"})]}):n.jsx("div",{className:"w-full",children:R.map((ie,Fe)=>n.jsxs("div",{className:"relative",children:[n.jsx("video",{src:ie,controls:!0,className:"w-full h-[255px] object-cover rounded-md border border-gray-200 dark:border-gray-600 cursor-pointer shadow-sm md:w-full md:h-auto",onClick:()=>et({type:"video",src:ie})}),n.jsx("button",{type:"button",onClick:()=>ft(Fe),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 shadow-sm",disabled:T,title:"Remove video",children:n.jsx("i",{className:"bx bx-x text-sm"})})]},Fe))}),n.jsx("input",{ref:Yt,type:"file",accept:"video/mp4,video/mkv,video/webm",onChange:we,className:"hidden",disabled:T})]}),I.videos&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.videos]}),L>0&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${L}%`}})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-info-circle text-blue-500"}),"Product Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Seller Name ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Your registered name"})]}),n.jsx("input",{type:"text",name:"sellerName",value:a.sellerName,placeholder:"Enter your full name",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:!0}),I.sellerName&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.sellerName]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Product Name ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Name of the product"})]}),n.jsx("input",{type:"text",name:"name",value:a.name,onChange:tr,placeholder:"e.g., Men's Leather Jacket",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:T}),I.name&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.name]})]})]}),n.jsxs("div",{className:"mt-6 relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Description",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Describe your product with optional bold, italic, or code formatting"})]}),n.jsxs("div",{className:"mt-1",children:[n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("button",{type:"button",onClick:()=>li("bold"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:T,title:"Bold text (**text**)",children:n.jsx("i",{className:"bx bx-bold text-lg group-hover:text-blue-500"})}),n.jsx("button",{type:"button",onClick:()=>li("italic"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:T,title:"Italic text (*text*)",children:n.jsx("i",{className:"bx bx-italic text-lg group-hover:text-blue-500"})}),n.jsx("button",{type:"button",onClick:()=>li("code"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:T,title:"Code text (`text`)",children:n.jsx("i",{className:"bx bx-code text-lg group-hover:text-blue-500"})})]}),n.jsx("textarea",{ref:Ks,name:"description",value:a.description,onChange:tr,placeholder:"e.g., **Premium leather** jacket with *stylish stitching*",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.description?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,rows:"4",disabled:T}),a.description&&n.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-gray-700 dark:text-gray-300",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Preview"}),n.jsx("div",{className:"prose prose-sm dark:prose-invert",dangerouslySetInnerHTML:{__html:Gs}})]})]}),I.description&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.description]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-money text-blue-500"}),"Pricing & Stock"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Price () ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Price in Naira"})]}),n.jsx("input",{type:"number",name:"price",value:a.price,onChange:tr,step:"0.01",min:"0",placeholder:"e.g., 5000.00",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.price?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:T}),I.price&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.price]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Stock Quantity ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Available stock"})]}),n.jsx("input",{type:"number",name:"stock",value:a.stock,onChange:tr,min:"0",placeholder:"e.g., 10",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.stock?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:T}),I.stock&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.stock]})]})]}),n.jsxs("div",{className:"mt-6 relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Size",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product size"})]}),n.jsxs("select",{name:"manualSize",value:a.manualSize,onChange:tr,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.manualSize?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:T,children:[n.jsx("option",{value:"",children:"Select a size"}),Ds.map(ie=>n.jsx("option",{value:ie,children:ie},ie))]}),I.manualSize&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.manualSize]})]}),ue.productSize&&xt&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-calculator text-blue-500"}),"Foremade Fees"]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[n.jsxs("p",{children:["Category: ",n.jsx("span",{className:"font-semibold",children:ue.productSize})]}),n.jsxs("p",{className:"hidden",children:["Buyer Protection Fee (",(xt[ue.productSize]?.buyerProtectionRate*100).toFixed(2),"%): ",ue.buyerProtectionFee.toLocaleString("en-NG",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"hidden",children:["Handling Fee (",(xt[ue.productSize]?.handlingRate*100).toFixed(2),"%): ",ue.handlingFee.toLocaleString("en-NG",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"font-bold",children:["Total Estimated Price for Buyer: ",ue.totalEstimatedPrice.toLocaleString("en-NG",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"font-bold text-green-600",children:["Your Estimated Earnings: ",ue.sellerEarnings.toLocaleString("en-NG",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:"Note: International shipping costs can be added separately."})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-category text-blue-500"}),"Category & Subcategory"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product category"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsxs("button",{type:"button",onClick:()=>Q(!$),className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.category?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 flex justify-between items-center transition-all duration-200`,disabled:T||xe.length===0,children:[n.jsx("span",{children:a.category||"Select a category"}),n.jsx("i",{className:"bx bx-chevron-down text-gray-500 dark:text-gray-400"})]}),$&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:xe.length===0?n.jsx("div",{className:"p-2 text-sm text-gray-500 dark:text-gray-400",children:"No categories available"}):xe.map(ie=>n.jsx("button",{type:"button",onClick:()=>{i(Fe=>({...Fe,category:ie,subcategory:"",subSubcategory:"",sizes:[]})),Q(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:ie},ie))})]}),I.category&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.category]}),xe.length===0&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),"Loading categories..."]}),a.category&&a.category.toLowerCase().includes("food")&&n.jsxs("p",{className:"text-gray-500 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-info-circle"}),"All food-related categories must meet NAFDAC/FSA food safety standards."]})]}),a.category&&n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Subcategory",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or type a subcategory"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("input",{type:"text",value:a.subcategory,onChange:ie=>i(Fe=>({...Fe,subcategory:ie.target.value,subSubcategory:"",sizes:[]})),onFocus:()=>ne(!0),onBlur:()=>setTimeout(()=>ne(!1),200),placeholder:"Select or type a subcategory",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.subcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:T||!$e[a.category]}),te&&$e[a.category]&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:$e[a.category].filter(ie=>ie.toLowerCase().includes(a.subcategory.toLowerCase())).map(ie=>n.jsx("button",{type:"button",onClick:()=>{i(Fe=>({...Fe,subcategory:ie,subSubcategory:"",sizes:[]})),ne(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:ie},ie))}),!$e[a.category]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),"Loading subcategories..."]}),I.subcategory&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.subcategory]})]})]}),a.subcategory&&be[a.category]?.[a.subcategory]&&n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Sub-Subcategory",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or type a sub-subcategory"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("input",{type:"text",value:a.subSubcategory,onChange:ie=>i(Fe=>({...Fe,subSubcategory:ie.target.value,sizes:[]})),onFocus:()=>Re(!0),onBlur:()=>setTimeout(()=>Re(!1),200),placeholder:"Select or type a sub-subcategory",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.subSubcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:T||!be[a.category]?.[a.subcategory]}),ce&&be[a.category]?.[a.subcategory]&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:be[a.category][a.subcategory].filter(ie=>ie.toLowerCase().includes(a.subSubcategory.toLowerCase())).map(ie=>n.jsx("button",{type:"button",onClick:()=>{i(Fe=>({...Fe,subSubcategory:ie,sizes:[]})),Re(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:ie},ie))}),I.subSubcategory&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.subSubcategory]})]})]})]})]}),(a.category==="Clothing"||a.category==="Footwear"||a.category==="Perfumes")&&a.subcategory&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-ruler text-blue-500"}),"Sizes"]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Sizes ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or enter sizes"})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:$t().map(ie=>n.jsx("button",{type:"button",onClick:()=>Ba(ie),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${a.sizes.includes(ie)?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${T?"opacity-50 cursor-not-allowed":""}`,disabled:T,children:ie},ie))}),n.jsx("div",{className:"relative mt-2",children:n.jsx("input",{type:"text",placeholder:"Enter custom size (e.g., Size 35) and press Enter",onKeyDown:is,className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.sizes?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:T})}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.sizes.map(ie=>n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[n.jsx("span",{children:ie}),n.jsx("button",{type:"button",onClick:()=>Gr(ie),className:"text-red-500 hover:text-red-700",disabled:T,title:"Remove size",children:n.jsx("i",{className:"bx bx-x"})})]},ie))}),I.sizes&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.sizes]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-color-fill text-blue-500"}),"Colors"]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Colors ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or enter colors"})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2",children:a.colors.map(ie=>{const Fe=jt.find(Ye=>Ye.name.toLowerCase()===ie.toLowerCase());return n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[n.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Fe?Fe.hex:"#ccc"}}),n.jsx("span",{children:ie}),n.jsx("button",{type:"button",onClick:()=>wn(ie),className:"text-red-500 hover:text-red-700",disabled:T,title:"Remove color",children:n.jsx("i",{className:"bx bx-x"})})]},ie)})}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:V,onChange:Sr,onKeyDown:_a,onFocus:()=>V.trim()&&G(!0),onBlur:()=>setTimeout(()=>G(!1),200),placeholder:"Type a color and press Enter (e.g., Navy)",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.colors?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:T}),ee&&B.length>0&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md z-10 max-h-40 overflow-y-auto",children:B.map(ie=>n.jsxs("button",{type:"button",onMouseDown:()=>Ut(ie.name),className:"flex items-center w-full p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",disabled:T,children:[n.jsx("span",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:ie.hex}}),ie.name]},ie.name))})]}),I.colors&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),I.colors]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-purchase-tag text-blue-500"}),"Tags"]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Tags",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Add tags to improve searchability"})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2",children:a.tags.map(ie=>n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[n.jsx("span",{children:ie}),n.jsx("button",{type:"button",onClick:()=>Ls(ie),className:"text-red-500 hover:text-red-700",disabled:T,title:"Remove tag",children:n.jsx("i",{className:"bx bx-x"})})]},ie))}),n.jsx("input",{type:"text",onKeyDown:ie=>{if(ie.key==="Enter"&&ie.target.value.trim()){const Fe=ie.target.value.trim();if(Fe.length>20){t("Tag must be 20 characters or less.","error");return}Ls(Fe),ie.target.value=""}},placeholder:"Type a tag and press Enter (e.g., Vintage)",className:"mt-1 w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:T}),st.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Suggested Tags:"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:st.map(ie=>n.jsx("button",{type:"button",onClick:()=>Ls(ie),className:"px-3 py-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm shadow-sm",disabled:T,children:ie},ie))})]}),Ms.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Authenticity Tags:"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:Ms.map(ie=>n.jsx("button",{type:"button",onClick:()=>Ls(ie),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${a.tags.includes(ie)?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${T?"opacity-50 cursor-not-allowed":""}`,disabled:T,children:ie},ie))})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-check-circle text-blue-500"}),"Condition"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["New","Used","Refurbished"].map(ie=>n.jsx("button",{type:"button",onClick:()=>i(Fe=>({...Fe,condition:ie})),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${a.condition===ie?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${T?"opacity-50 cursor-not-allowed":""}`,disabled:T,children:ie},ie))})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-link text-blue-500"}),"Product URL (Optional)"]}),n.jsx("input",{type:"url",name:"productUrl",value:a.productUrl,onChange:tr,placeholder:"e.g., https://example.com/product",className:"mt-1 w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:T})]}),n.jsx(fe,{to:"/products-upload-variant",className:"text-sm mt-10 text-gray-600 hover:underline",children:"Have products with multiple variants(eg colors, sizes etc) ?"}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-map text-blue-500"}),"Location"]}),n.jsx(ny,{locationData:o,setLocationData:l,errors:c,setErrors:u,disabled:T})]}),n.jsx("div",{className:"mt-6",children:n.jsx("div",{className:"flex justify-between items-center",children:Wt.map(ie=>n.jsxs("div",{className:"flex-1 text-center",children:[n.jsx("button",{type:"button",onClick:()=>Bt(ie.key),className:`w-8 h-8 rounded-full flex items-center justify-center mx-auto ${Ft>=ie.key?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"} ${gt(ie.key)?"border-2 border-green-500":""} transition-all duration-200`,disabled:T||Ft<ie.key,children:gt(ie.key)?n.jsx("i",{className:"bx bx-check text-lg"}):ie.key}),n.jsx("p",{className:"text-xs mt-1 text-gray-600 dark:text-gray-300",children:ie.label})]},ie.key))})}),n.jsx("div",{className:"mt-8 flex justify-end",children:n.jsx("button",{type:"submit",className:`px-6 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition-colors flex items-center gap-2 ${T?"opacity-50 cursor-not-allowed":""}`,disabled:T,children:T?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"bx bx-loader bx-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"bx bx-upload"}),"Add Product"]})})})]}),n.jsx(ble,{alerts:e,removeAlert:s}),g&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-5",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-md w-full",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-check-circle text-green-500"}),"Product Uploaded Successfully!"]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Your product has been uploaded and is pending quick admin review. Once approved, you'll receive an email, and it will go live promptly."}),n.jsx("div",{className:"mt-4 flex justify-end gap-2",children:n.jsx("button",{onClick:()=>r("/sellers/products"),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"View Products"})})]})}),Ge&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:n.jsxs("div",{className:"relative max-w-4xl w-full",children:[n.jsx("button",{onClick:()=>et(null),className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:n.jsx("i",{className:"bx bx-x text-lg"})}),Ge.type==="image"?n.jsx("img",{src:Ge.src,alt:"Zoomed media",className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"}):n.jsx("video",{src:Ge.src,controls:!0,className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"})]})})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]})}Zt.defaults.timeout=6e4;function wle({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Nle(){const[r,e]=E.useState([]),t=E.useCallback((a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},[]),s=E.useCallback(a=>{e(i=>i.filter(o=>o.id!==a))},[]);return{alerts:r,addAlert:t,removeAlert:s}}function jle(){const r=gs(),{alerts:e,addAlert:t,removeAlert:s}=Nle(),[a,i]=E.useState({sellerName:"",name:"",description:"",category:"",subcategory:"",subSubcategory:"",colors:[],condition:"New",productUrl:"",tags:[],manualSize:""}),[o,l]=E.useState({country:"",state:"",city:"",address:""}),[c,u]=E.useState([{color:"",size:"",price:"",stock:"",images:[]}]),[h,f]=E.useState([[]]),[g,x]=E.useState([[]]),[y,b]=E.useState({}),[v,N]=E.useState({}),[k,C]=E.useState(!1),[R,_]=E.useState(0),[I,P]=E.useState(null),[T,D]=E.useState(""),[L,F]=E.useState([]),[z,O]=E.useState(!1),[V,H]=E.useState(!1),[B,q]=E.useState(!1),[ee,G]=E.useState(!1),[$,Q]=E.useState(!1),[te,ne]=E.useState([]),[ce,Re]=E.useState({}),[de,Me]=E.useState({}),[ue,X]=E.useState([]),[se,ge]=E.useState(null),[xe,Ee]=E.useState(null),[$e,rt]=E.useState(""),be=E.useRef([]),Ve=E.useRef([]),st=E.useRef(null),We=4,Ge=E.useMemo(()=>[{name:"Red",hex:"#ff0000"},{name:"Orange",hex:"#FFA500"},{name:"blue",hex:"#0000ff"},{name:"Green",hex:"#008000"},{name:"Brown",hex:"#8b4513"},{name:"Black",hex:"#000000"},{name:"White",hex:"#ffffff"},{name:"Purple",hex:"#800080"},{name:"Pink",hex:"#ffc1cc"},{name:"Gray",hex:"#808080"},{name:"Yellow",hex:"#FFFF00"},{name:"Gold",hex:"#ff9a1d"},{name:"Silver",hex:"#e2f2ec"}],[]),et=E.useMemo(()=>["S","M","L","XL","XXL"],[]),xt=E.useMemo(()=>["3","4","6","8","10","12","14","16","18","20"],[]),es=E.useMemo(()=>['3"','5"','5.5"','6"','6.5"','7"','7.5"','8"','8.5"','9"','9.5"','10"','10.5"','11"','11.5"','12"','12.5"'],[]),Gs=E.useMemo(()=>["30ml","50ml","60ml","75ml","100ml"],[]),kr=E.useMemo(()=>["Small","Medium","Large","X-Large"],[]);E.useEffect(()=>{be.current=Array(c.length).fill().map(()=>({current:null})),Ve.current=Array(c.length).fill().map(()=>({current:null}))},[c.length]),E.useEffect(()=>()=>{g.forEach(we=>we.forEach(he=>URL.revokeObjectURL(he)))},[g]),E.useEffect(()=>{const we=bs(Ie(re,"categories"),_e=>{const He=_e.docs.map(kt=>({id:kt.id,...kt.data()}));ne(He.map(kt=>kt.name))},_e=>{console.error("Error fetching categories:",_e),t("Failed to load categories.","error")}),he=bs(Ie(re,"customSubcategories"),_e=>{const He={};_e.forEach(kt=>{He[kt.id]=kt.data().subcategories||[]}),Re(He)},_e=>{console.error("Error fetching subcategories:",_e),t("Failed to load subcategories.","error")}),J=bs(Ie(re,"customSubSubcategories"),_e=>{const He={};_e.forEach(kt=>{const ft=kt.id,Ut=kt.data();He[ft]={},Object.entries(Ut).forEach(([Sr,_a])=>{He[ft][Sr]=Array.isArray(_a)?_a:[]})}),Me(He)},_e=>{console.error("Error fetching sub-subcategories:",_e),t("Failed to load sub-subcategories.","error")});return(async()=>{try{const _e=Ce(re,"feeConfigurations","categoryFees"),He=await Je(_e);He.exists()?Ee(He.data()):t("No fee configurations found.","error")}catch(_e){console.error("Error fetching fee configurations:",_e),t("Failed to load fee configurations.","error")}})(),()=>{we(),he(),J()}},[t]),E.useEffect(()=>{a.category&&!te.includes(a.category)&&(i(we=>({...we,category:"",subcategory:"",subSubcategory:""})),t("Selected category was removed by admin.","error")),a.subcategory&&!ce[a.category]?.includes(a.subcategory)&&(i(we=>({...we,subcategory:"",subSubcategory:""})),t("Selected subcategory was removed by admin.","error")),a.subSubcategory&&!de[a.category]?.[a.subcategory]?.includes(a.subSubcategory)&&(i(we=>({...we,subSubcategory:""})),t("Selected sub-subcategory was removed by admin.","error"))},[te,ce,de,a,t]),E.useEffect(()=>{const we=ke.onAuthStateChanged(he=>{if(he){P(he);try{let J=he.displayName||"";J&&J.startsWith("{")&&(J=JSON.parse(J).name||""),i(ye=>({...ye,sellerName:J}))}catch(J){console.error("Error parsing displayName:",J),t("Failed to load seller profile.","error")}}else t("Please log in to add products.","error"),r("/login")});return()=>we()},[r,t]),E.useEffect(()=>{rt(Ps(a.description||"",{gfm:!0,breaks:!0}))},[a.description]),E.useEffect(()=>{(()=>{const he=`${a.name} ${a.description} ${a.subSubcategory}`.toLowerCase(),J=[];he.includes("leather")&&J.push("Leather"),(he.includes("shoe")||he.includes("footwear"))&&J.push("Footwear"),(he.includes("phone")||he.includes("mobile"))&&J.push("Smartphone"),he.includes("fashion")&&J.push("Fashion"),he.includes("vintage")&&J.push("Vintage"),he.includes("smart")&&J.push("Smart"),X(J.filter(ye=>!a.tags.includes(ye)))})()},[a.name,a.description,a.subSubcategory]);const Ft=E.useCallback(()=>{const we=Ds().length>0?Ds()[0]:"";u(he=>[...he,{color:"",size:we,price:"",stock:"",images:[]}]),f(he=>[...he,[]]),x(he=>[...he,[]]),be.current.push({current:null}),Ve.current.push({current:null})},[]),lt=E.useCallback(we=>{u(he=>he.filter((J,ye)=>ye!==we)),f(he=>he.filter((J,ye)=>ye!==we)),x(he=>((he[we]||[]).forEach(ye=>URL.revokeObjectURL(ye)),he.filter((ye,_e)=>_e!==we))),be.current.splice(we,1),Ve.current.splice(we,1)},[]),Wt=E.useCallback((we,he,J)=>{u(ye=>ye.map((_e,He)=>He===we?{..._e,[he]:J}:_e))},[]),gt=E.useCallback((we,he)=>{const J=Array.from(he).filter(ye=>ye.type.startsWith("image/")&&ye.size<=5242880);if((h[we]?.length||0)+J.length>We){t(`Maximum ${We} images allowed per variant.`,"error");return}f(ye=>{const _e=[...ye];return _e[we]=[..._e[we]||[],...J],_e}),x(ye=>{const _e=[...ye];return _e[we]=[..._e[we]||[],...J.map(He=>URL.createObjectURL(He))],_e}),Ve.current[we]?.current&&(Ve.current[we].current.value="")},[h,t]),Bt=E.useCallback((we,he)=>{f(J=>{const ye=[...J];return ye[we]=ye[we].filter((_e,He)=>He!==he),ye}),x(J=>{const ye=[...J],_e=ye[we][he];return ye[we]=ye[we].filter((He,kt)=>kt!==he),URL.revokeObjectURL(_e),ye})},[]),St=E.useCallback((we,he)=>{we.preventDefault(),we.stopPropagation(),be.current[he]?.current&&be.current[he].current.classList.remove("border-blue-500"),gt(he,we.dataTransfer.files)},[gt]),Ot=E.useCallback((we,he)=>{we.preventDefault(),we.stopPropagation(),be.current[he]?.current&&be.current[he].current.classList.add("border-blue-500")},[]),Yt=E.useCallback((we,he)=>{we.preventDefault(),we.stopPropagation(),be.current[he]?.current&&be.current[he].current.classList.remove("border-blue-500")},[]),Ht=E.useCallback(we=>{const{name:he,value:J}=we.target;i(ye=>({...ye,[he]:J,...he==="category"?{subcategory:"",subSubcategory:""}:{},...he==="subcategory"?{subSubcategory:""}:{}})),N(ye=>({...ye,[he]:""}))},[]),Ks=E.useCallback(we=>{i(he=>{const J=he.colors.includes(we)?he.colors.filter(ye=>ye!==we):[...he.colors,we];return{...he,colors:J}}),D(""),O(!1)},[]),jt=E.useCallback(we=>{const he=we.target.value;if(D(he),he.trim()===""){F([]),O(!1);return}const J=Ge.filter(ye=>ye.name.toLowerCase().includes(he.toLowerCase()));F(J),O(!0)},[Ge]),Mt=E.useCallback(we=>{if(we.key==="Enter"&&T.trim()){const he=T.trim();if(he.length>20){t("Color name must be 20 characters or less.","error");return}i(J=>{const ye=J.colors.includes(he)?J.colors:[...J.colors,he];return{...J,colors:ye}}),D(""),F([]),O(!1)}},[T,t]),ar=E.useCallback(we=>{i(he=>({...he,colors:he.colors.filter(J=>J!==we)}))},[]),Is=E.useCallback(we=>{i(he=>{const J=he.tags.includes(we)?he.tags.filter(ye=>ye!==we):[...he.tags,we];return{...he,tags:J}})},[]),nr=E.useCallback(we=>{const he=st.current;if(!he)return;const J=he.selectionStart,ye=he.selectionEnd,_e=a.description.substring(J,ye);let He=a.description,kt=J,ft=ye;we==="bold"?_e?(He=He.substring(0,J)+`**${_e}**`+He.substring(ye),kt=J+2,ft=ye+2):(He=He.substring(0,J)+"****"+He.substring(J),kt=J+2,ft=J+2):we==="italic"?_e?(He=He.substring(0,J)+`*${_e}*`+He.substring(ye),kt=J+1,ft=ye+1):(He=He.substring(0,J)+"**"+He.substring(J),kt=J+1,ft=J+1):we==="code"&&(_e?(He=He.substring(0,J)+`\`${_e}\``+He.substring(ye),kt=J+1,ft=ye+1):(He=He.substring(0,J)+"``"+He.substring(J),kt=J+1,ft=J+1)),i(Ut=>({...Ut,description:He})),setTimeout(()=>{he.selectionStart=kt,he.selectionEnd=ft,he.focus()},0)},[a.description]),Ds=E.useMemo(()=>()=>a.category==="Clothing"&&a.subcategory?a.subcategory==="Men"?et:xt:a.category==="Footwear"&&a.subcategory?es:a.category==="Perfumes"&&a.subSubcategory?.startsWith("Oil -")?Gs:[],[a.category,a.subcategory,a.subSubcategory]),Ms=E.useCallback(()=>{const we={};return a.sellerName.trim()||(we.sellerName="Please enter your full name."),a.name.trim()||(we.name="Product name is required."),(!a.category||!te.includes(a.category))&&(we.category="Select a valid category."),(!a.subcategory||!ce[a.category]?.includes(a.subcategory))&&(we.subcategory="You are free man."),de[a.category]?.[a.subcategory]?.length>0&&!a.subSubcategory&&(we.subSubcategory="Select a sub-subcategory."),a.colors.length===0&&(we.colors="Select at least one color."),a.manualSize||(we.manualSize="Please select a product size."),c.length===0&&(we.variants="At least one variant is required."),c.forEach((he,J)=>{he.color.trim()||(we[`variant${J}_color`]="Color is required."),!he.size&&Ds().length>0&&(we[`variant${J}_size`]="Size is required."),(!he.price||isNaN(he.price)||parseFloat(he.price)<=0)&&(we[`variant${J}_price`]="Enter a valid price greater than 0."),(!he.stock||isNaN(he.stock)||parseInt(he.stock,10)<0)&&(we[`variant${J}_stock`]="Enter a valid stock quantity (0 or more)."),(h[J]?.length||0)===0&&(we[`variant${J}_images`]="At least one image is required per variant.")}),we},[a,c,te,ce,de,h,Ds]),Os=E.useCallback(()=>{const we={};return o.country.trim()||(we.country="Country is required."),o.state.trim()||(we.state="State is required."),we},[o]),Ss=E.useCallback(async we=>{const he=new FormData;he.append("file",we),he.append("isVideo",!1);try{const ye=await Zt.post("https://foremade-backend.onrender.com/upload",he,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:_e=>{const He=Math.round(_e.loaded*100/_e.total);_(He)}});if(ye.status!==200||!ye.data.url)throw new Error("Failed to upload image to Cloudinary.");return ye.data.url}catch(J){throw new Error(J.code==="ECONNABORTED"?"Request timed out. Please check your network or try again later.":J.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network or server status.":J.response?.data?.error||"Failed to upload image.")}finally{_(0)}},[]),Qs=E.useCallback(async we=>{if(we.preventDefault(),N({}),b({}),C(!0),!I){t("You must be logged in to add products.","error"),C(!1),r("/login");return}const he=Ms(),J=Os();if(Object.keys(he).length>0||Object.keys(J).length>0){N(he),b(J),C(!1),Object.entries(he).forEach(([ye,_e])=>t(_e,"error")),Object.entries(J).forEach(([ye,_e])=>t(_e,"error"));return}try{const ye=await Promise.all(h.map(async ft=>Promise.all(ft.map(Ut=>Ss(Ut))))),_e=c.reduce((ft,Ut)=>{const Sr=parseFloat(Ut.price);return isNaN(Sr)?ft:Math.min(ft,Sr)},1/0),He={sellerName:a.sellerName,name:a.name,description:a.description||"",category:a.category.toLowerCase(),subcategory:a.subcategory||"",subSubcategory:a.subSubcategory||"",colors:a.colors,condition:a.condition||"New",productUrl:a.productUrl||"",tags:a.tags,sellerId:I.uid,seller:{name:a.sellerName,id:I.uid},createdAt:new Date().toISOString(),reviews:[],variants:c.map((ft,Ut)=>({...ft,price:parseFloat(ft.price),stock:parseInt(ft.stock,10),imageUrls:ye[Ut]||[]})),location:{country:o.country,state:o.state,city:o.city||"",address:o.address||""},buyerProtectionFee:xe?.[a.category]?.buyerProtectionRate*_e||0,handlingFee:xe?.[a.category]?.handlingRate*_e||0,totalEstimatedPrice:_e+(xe?.[a.category]?.buyerProtectionRate*_e||0)+(xe?.[a.category]?.handlingRate*_e||0),sellerEarnings:_e,manualSize:a.manualSize},kt=await en(Ie(re,"products"),He);console.log("Product with variants uploaded with ID:",kt.id),Q(!0),i({sellerName:"",name:"",description:"",category:"",subcategory:"",subSubcategory:"",colors:[],condition:"New",productUrl:"",tags:[],manualSize:""}),l({country:"",state:"",city:"",address:""}),u([{color:"",size:"",price:"",stock:"",images:[]}]),f([[]]),x([[]]),be.current=[{current:null}],Ve.current=[{current:null}],F([]),O(!1),H(!1),q(!1),G(!1)}catch(ye){console.error("Error uploading product:",ye),t(ye.message||"Failed to upload product variants.","error")}finally{C(!1)}},[I,a,o,c,h,xe,Ms,Os,Ss,t,r]),ps=E.useMemo(()=>te,[te]),tr=E.useMemo(()=>ce[a.category]||[],[ce,a.category]),_s=E.useMemo(()=>de[a.category]?.[a.subcategory]||[],[de,a.category,a.subcategory]);return I?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-7xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-package text-blue-500"}),"Add Product with Variants"]}),n.jsxs("form",{onSubmit:Qs,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-info-circle text-blue-500"}),"Product Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Seller Name ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Your registered name"})]}),n.jsx("input",{type:"text",name:"sellerName",value:a.sellerName,placeholder:"Enter your full name",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:!0}),v.sellerName&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v.sellerName]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Name ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Name of the product"})]}),n.jsx("input",{type:"text",name:"name",value:a.name,onChange:Ht,placeholder:"e.g., Men's Leather Jacket",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${v.name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:k}),v.name&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v.name]})]})]}),n.jsxs("div",{className:"mt-6 relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Description",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Describe your product with optional bold, italic, or code formatting"})]}),n.jsxs("div",{className:"mt-1",children:[n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("button",{type:"button",onClick:()=>nr("bold"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:k,title:"Bold text (**text**)",children:n.jsx("i",{className:"bx bx-bold text-lg group-hover:text-blue-500"})}),n.jsx("button",{type:"button",onClick:()=>nr("italic"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:k,title:"Italic text (*text*)",children:n.jsx("i",{className:"bx bx-italic text-lg group-hover:text-blue-500"})}),n.jsx("button",{type:"button",onClick:()=>nr("code"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:k,title:"Code text (`text`)",children:n.jsx("i",{className:"bx bx-code text-lg group-hover:text-blue-500"})})]}),n.jsx("textarea",{ref:st,name:"description",value:a.description,onChange:Ht,placeholder:"e.g., Premium leather jacket with stylish stitching",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${v.description?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,rows:"4",disabled:k}),a.description&&n.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-gray-700 dark:text-gray-300",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Preview"}),n.jsx("div",{className:"prose prose-sm dark:prose-invert",dangerouslySetInnerHTML:{__html:$e}})]})]}),v.description&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v.description]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-category text-blue-500"}),"Category & Subcategory"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product category"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsxs("button",{type:"button",onClick:()=>H(!V),className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${v.category?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 flex justify-between items-center transition-all duration-200`,disabled:k||ps.length===0,children:[n.jsx("span",{children:a.category||"Select a category"}),n.jsx("i",{className:"bx bx-chevron-down text-gray-500 dark:text-gray-400"})]}),V&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:ps.length===0?n.jsx("div",{className:"p-2 text-sm text-gray-500 dark:text-gray-400",children:"No categories available"}):ps.map(we=>n.jsx("button",{type:"button",onClick:()=>{i(he=>({...he,category:we,subcategory:"",subSubcategory:""})),H(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:we},we))})]}),v.category&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v.category]}),ps.length===0&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),"Loading categories..."]})]}),a.category&&n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Subcategory ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or type a subcategory"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("input",{type:"text",value:a.subcategory,onChange:we=>{i(he=>({...he,subcategory:we.target.value,subSubcategory:""})),q(!0)},onFocus:()=>q(!0),onBlur:()=>setTimeout(()=>q(!1),200),placeholder:"Select or type a subcategory",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${v.subcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:k||!tr.length}),B&&tr.length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:tr.filter(we=>we.toLowerCase().includes(a.subcategory.toLowerCase())).map(we=>n.jsx("button",{type:"button",onClick:()=>{i(he=>({...he,subcategory:we,subSubcategory:""})),q(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:we},we))}),v.subcategory&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v.subcategory]})]})]}),a.subcategory&&_s.length>0&&n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Sub-Subcategory ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or type a sub-subcategory"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("input",{type:"text",value:a.subSubcategory,onChange:we=>i(he=>({...he,subSubcategory:we.target.value})),onFocus:()=>G(!0),onBlur:()=>setTimeout(()=>G(!1),200),placeholder:"Select or type a sub-subcategory",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${v.subSubcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:k}),ee&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:_s.filter(we=>we.toLowerCase().includes(a.subSubcategory.toLowerCase())).map(we=>n.jsx("button",{type:"button",onClick:()=>{i(he=>({...he,subSubcategory:we})),G(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:we},we))}),v.subSubcategory&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v.subSubcategory]})]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-color-fill text-blue-500"}),"Colors"]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Colors ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or enter colors"})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2",children:a.colors.map(we=>{const he=Ge.find(J=>J.name.toLowerCase()===we.toLowerCase());return n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[n.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:he?he.hex:"#ccc"}}),n.jsx("span",{children:we}),n.jsx("button",{type:"button",onClick:()=>ar(we),className:"text-red-500 hover:text-red-700",disabled:k,title:"Remove color",children:n.jsx("i",{className:"bx bx-x"})})]},we)})}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:T,onChange:jt,onKeyDown:Mt,onFocus:()=>T.trim()&&O(!0),onBlur:()=>setTimeout(()=>O(!1),200),placeholder:"Type a color and press Enter (e.g., Navy)",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${v.colors?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:k}),z&&L.length>0&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md z-10 max-h-40 overflow-y-auto",children:L.map(we=>n.jsxs("button",{type:"button",onMouseDown:()=>Ks(we.name),className:"flex items-center w-full p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",disabled:k,children:[n.jsx("span",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:we.hex}}),we.name]},we.name))})]}),v.colors&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v.colors]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-purchase-tag text-blue-500"}),"Tags"]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Tags (Optional)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Add tags to improve product discoverability"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("input",{type:"text",value:a.tags.join(", "),onChange:we=>{const he=we.target.value.split(",").map(J=>J.trim()).filter(J=>J);i(J=>({...J,tags:he}))},placeholder:"e.g., Vintage, Leather, Smartphone",className:"w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:k}),ue.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Suggested Tags:"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:ue.map(we=>n.jsx("button",{type:"button",onClick:()=>Is(we),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${a.tags.includes(we)?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${k?"opacity-50 cursor-not-allowed":""}`,disabled:k,children:we},we))})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-star text-blue-500"}),"Condition"]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Condition ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select the condition of the product"})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["New","Used - Like New","Used - Good","Used - Fair"].map(we=>n.jsx("button",{type:"button",onClick:()=>i(he=>({...he,condition:we})),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${a.condition===we?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${k?"opacity-50 cursor-not-allowed":""}`,disabled:k,children:we},we))}),v.condition&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v.condition]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-ruler text-blue-500"}),"Product Size"]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Size ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product size"})]}),n.jsxs("select",{name:"manualSize",value:a.manualSize,onChange:Ht,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${v.manualSize?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:k,children:[n.jsx("option",{value:"",children:"Select a size"}),kr.map(we=>n.jsx("option",{value:we,children:we},we))]}),v.manualSize&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v.manualSize]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-map text-blue-500"}),"Location"]}),n.jsx(ny,{locationData:o,setLocationData:l,errors:y,disabled:k})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-list-plus text-blue-500"}),"Variants"]}),v.variants&&n.jsxs("p",{className:"text-red-600 text-xs mb-2 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v.variants]}),c.map((we,he)=>n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:["Variant ",he+1]}),n.jsx("button",{type:"button",onClick:()=>lt(he),className:"text-red-500 hover:text-red-700",disabled:k,"aria-label":`Remove variant ${he+1}`,children:n.jsx("i",{className:"bx bx-trash text-lg"})})]}),n.jsxs("div",{className:"relative group mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Variant Images (up to ",We,") ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:`Upload up to ${We} images (max 5MB each)`})]}),n.jsxs("div",{ref:J=>be.current[he]={current:J},onDrop:J=>St(J,he),onDragOver:J=>Ot(J,he),onDragLeave:J=>Yt(J,he),className:`mt-1 w-full p-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center min-h-[150px] transition-colors ${v[`variant${he}_images`]?"border-red-500":"border-gray-300 hover:border-blue-500 dark:border-gray-600"} ${k?"opacity-50":""}`,children:[(g[he]?.length||0)===0?n.jsxs("div",{className:"text-center",children:[n.jsx("i",{className:"bx bx-cloud-upload text-4xl text-gray-600 dark:text-gray-400"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Drag and drop images or"," ",n.jsx("button",{type:"button",onClick:()=>Ve.current[he]?.current.click(),className:"text-blue-600 hover:underline",disabled:k,children:"select images"})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"(JPEG, JPG, PNG, WEBP, GIF, max 5MB each)"})]}):n.jsx("div",{className:"grid grid-cols-2 gap-3 w-full",children:g[he].map((J,ye)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:J,alt:`Variant ${he+1} Preview ${ye+1}`,className:"w-full h-32 object-cover rounded-md border border-gray-200 dark:border-gray-600 cursor-pointer shadow-sm",onClick:()=>ge({type:"image",src:J})}),n.jsx("button",{type:"button",onClick:()=>Bt(he,ye),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 shadow-sm",disabled:k,title:"Remove image","aria-label":`Remove image ${ye+1} from variant ${he+1}`,children:n.jsx("i",{className:"bx bx-x text-sm"})})]},ye))}),n.jsx("input",{ref:J=>Ve.current[he]={current:J},type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:J=>gt(he,J.target.files),className:"hidden",disabled:k,multiple:!0})]}),v[`variant${he}_images`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v[`variant${he}_images`]]}),R>0&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${R}%`}})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Color ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:we.color,onChange:J=>Wt(he,"color",J.target.value),placeholder:"Type a color (e.g., Navy blue)",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${v[`variant${he}_color`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:k}),v[`variant${he}_color`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v[`variant${he}_color`]]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Size ",Ds().length>0&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:we.size,onChange:J=>Wt(he,"size",J.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${v[`variant${he}_size`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:k,children:[n.jsx("option",{value:"",children:"Select a size"}),Ds().map(J=>n.jsx("option",{value:J,children:J},J))]}),v[`variant${he}_size`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v[`variant${he}_size`]]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Price () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:we.price,onChange:J=>Wt(he,"price",J.target.value),step:"0.01",min:"0",placeholder:"e.g., 5000.00",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${v[`variant${he}_price`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:k}),v[`variant${he}_price`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v[`variant${he}_price`]]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Stock ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:we.stock,onChange:J=>Wt(he,"stock",J.target.value),min:"0",placeholder:"e.g., 10",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${v[`variant${he}_stock`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:k}),v[`variant${he}_stock`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),v[`variant${he}_stock`]]})]})]})]},he)),n.jsxs("button",{type:"button",onClick:Ft,className:`mt-4 py-2 px-4 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 flex items-center gap-2 ${k?"opacity-50 cursor-not-allowed":""}`,disabled:k,"aria-label":"Add new variant",children:[n.jsx("i",{className:"bx bx-plus"}),"Add Variant"]})]}),n.jsx("div",{className:"flex justify-end mt-8",children:n.jsx("button",{type:"submit",className:`flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition-colors text-sm font-medium ${k?"opacity-50 cursor-not-allowed":""}`,disabled:k,children:k?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"bx bx-loader bx-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"bx bx-upload"}),"Add Product with Variants"]})})})]}),n.jsx(wle,{alerts:e,removeAlert:s}),n.jsx(Wk,{isOpen:$,onClose:()=>{Q(!1)},message:"Product variants uploaded successfully!",icon:"bx-check-circle",type:"success",showYesNoButtons:!1}),se&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:n.jsxs("div",{className:"relative max-w-4xl w-full",children:[n.jsx("img",{src:se.src,alt:"Zoomed media",className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"}),n.jsx("button",{onClick:()=>ge(null),className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 shadow-md",title:"Close",children:n.jsx("i",{className:"bx bx-x text-xl"})})]})})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]})}function kle(){const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(""),[o,l]=E.useState(""),[c,u]=E.useState(!1),[h,f]=E.useState(null),g=E.useCallback(kd(b=>{l(b)},300),[]);E.useEffect(()=>{(async()=>{try{ri(ke,async v=>{if(v)try{const N=mt(Ie(re,"products"),nt("sellerId","==",v.uid)),C=(await Ke(N)).docs.map(R=>{const _=R.data(),I=Array.isArray(_.imageUrls)?_.imageUrls.filter(D=>typeof D=="string"&&D.startsWith("https://res.cloudinary.com/")):_.imageUrl&&typeof _.imageUrl=="string"&&_.imageUrl.startsWith("https://res.cloudinary.com/")?[_.imageUrl]:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"],P=Array.isArray(_.videoUrls)?_.videoUrls.filter(D=>typeof D=="string"&&D.startsWith("https://res.cloudinary.com/")):[],T=Array.isArray(_.variants)?_.variants:[];return{id:R.id,..._,imageUrls:I.length>0?I:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"],videoUrls:P,variants:T,uploadDate:_.uploadDate?_.uploadDate.toDate():new Date}});e(C)}catch(N){i("Failed to fetch products: "+N.message)}else i("Please log in to view your products.");s(!1)})}catch(v){i("Authentication error: "+v.message),s(!1)}})()},[]);const x=r.filter(b=>b.name?.toLowerCase().includes(o.toLowerCase())),y=()=>window.location.reload();return t?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-5xl",children:Array.from({length:6}).map((b,v)=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-md animate-pulse h-64"},v))})})]}):a?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-gray-50",children:n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg shadow-lg",children:[n.jsx("p",{className:"text-red-700 text-base mb-4",children:a}),n.jsx(fe,{to:"/seller/login",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Return to Login"})]})}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[n.jsx(js,{}),n.jsxs("div",{className:"flex-1 ml-0 md:ml-64 p-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3 md:gap-6 mb-8 p-4 sm:p-6 md:p-8 rounded-xl bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-100 shadow-sm",children:[n.jsx(oee,{className:"w-8 h-8 text-blue-600 mb-2 md:mb-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-900 flex items-center gap-3 flex-wrap",children:["Product Gallery",n.jsxs("span",{className:"inline-block bg-blue-100 text-blue-700 text-base md:text-lg font-semibold px-3 py-1 rounded-full ml-2",children:[r.length," ",r.length===1?"Product":"Products"]})]}),n.jsx("p",{className:"text-gray-500 text-sm md:text-base mt-1",children:"Explore your uploaded products with images and videos."})]}),n.jsx("button",{onClick:y,title:"Refresh",className:"ml-0 md:ml-auto bg-white border border-blue-200 rounded-full p-2 md:p-3 hover:bg-blue-100 transition focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 mt-2 md:mt-0",children:n.jsx(uk,{className:"w-5 h-5 md:w-6 md:h-6 text-blue-600"})}),n.jsxs(fe,{to:"/products-upload",className:"hidden sm:flex bg-[#112d4e] text-white px-8 py-4 md:px-10 md:py-5 rounded-xl hover:bg-[#1a4577] transition duration-300 items-center gap-3 shadow-xl focus:outline-[#112d4e] focus:ring-4 focus:ring-blue-300 ml-4 font-bold text-lg md:text-xl",children:[n.jsx(Bf,{className:"w-7 h-7 md:w-8 md:h-8"})," ",n.jsx("span",{children:"Add New Product"})]})]}),n.jsxs(fe,{to:"/products-upload",className:"sm:hidden fixed bottom-8 right-4 md:bottom-12 md:right-12 z-50 rounded-full bg-[#112d4e] text-white p-7 shadow-2xl hover:bg-[#1a4577] transition focus:outline-[#112d4e] focus:ring-4 focus:ring-blue-300 flex items-center justify-center animate-pulseBtn",title:"Add New Product","aria-label":"Add New Product",tabIndex:0,children:[n.jsx(dk,{className:"w-12 h-12 font-bold"}),n.jsx("span",{className:"sr-only",children:"Add New Product"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 max-w-full overflow-x-auto",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative w-full max-w-md",children:[n.jsx("input",{type:"text",value:o,onChange:b=>g(b.target.value),placeholder:"Search by product name...",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"}),n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:n.jsx("i",{className:"bx bx-search"})})]})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.length>0?x.map(b=>{const v=b.variants?.length>0&&b.variants[0].imageUrls?.length>0?b.variants[0].imageUrls[0]:b.imageUrls[0];return n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-md hover:shadow-xl transition duration-300 animate-slide-in focus:ring-2 focus:ring-blue-300 outline-none cursor-pointer group",tabIndex:0,onClick:()=>{u(!0),f(b)},title:"View product media",children:[n.jsxs("div",{className:"relative aspect-[4/3] mb-4 overflow-hidden",children:[v?n.jsx("img",{src:v,alt:b.name||"Product Image",className:"w-full h-full object-cover rounded-lg group-hover:scale-105 transition-transform duration-300 hover:opacity-90",onError:N=>{N.target.style.display="none",N.target.parentElement.innerHTML='<div class="absolute w-full h-full bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-500">Image N/A</span></div>'}}):n.jsx("div",{className:"w-full h-full bg-gray-200 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500",children:"Image N/A"})}),b.videoUrls[0]&&n.jsx(pte,{className:"absolute bottom-2 right-2 w-8 h-8 text-blue-600 bg-white rounded-full p-1 shadow",title:"Video available"})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate",children:b.name||"Unnamed Product"}),n.jsxs("p",{className:"text-gray-600 text-sm mb-1",children:["Price: ",b.variants?.length>0?`${Math.min(...b.variants.map(N=>N.price||0)).toLocaleString("en-NG")} - ${Math.max(...b.variants.map(N=>N.price||0)).toLocaleString("en-NG")}`:`${(b.price||0).toLocaleString("en-NG")}`]}),n.jsxs("p",{className:"text-gray-600 text-sm mb-1",children:["Variants: ",b.variants?.length||0]}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${b.status==="pending"?"bg-orange-100 text-orange-800":b.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.status==="pending"?"Pending":b.status==="approved"?"Approved":"Not Approved"}),n.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Uploaded: ",b.uploadDate.toLocaleDateString("en-NG",{day:"2-digit",month:"short",year:"numeric"})]}),n.jsxs(fe,{to:`/seller/edit-product/${b.id}`,className:"mt-4 inline-flex items-center gap-1 px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 transition",title:"Edit Product",children:[n.jsx(Qu,{className:"w-4 h-4"})," Edit"]})]},b.id)}):n.jsxs("div",{className:"flex flex-col items-center justify-center mt-10 mb-10 animate-slide-in col-span-full",children:[n.jsx($c,{className:"w-24 h-24 mb-4 text-blue-200"}),n.jsxs("p",{className:"text-gray-600 text-center text-lg",children:["No products uploaded yet.",n.jsx("br",{}),"Start by adding your first product!"]}),n.jsxs(fe,{to:"/products-upload",className:"bg-[#112d4e] text-white px-6 py-3 rounded-lg hover:bg-[#1a4577] transition duration-300 flex items-center gap-2 shadow-lg focus:outline-[#112d4e] focus:ring-2 focus:ring-blue-300 mt-4",children:[n.jsx(Bf,{className:"w-5 h-5"})," Add Your First Product"]})]})})]}),c&&h&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 animate-fade-in overflow-y-auto p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-4 sm:p-6 max-w-lg w-full relative mx-auto",children:[n.jsx("button",{onClick:()=>u(!1),className:"absolute top-2 right-2 bg-gray-100 hover:bg-gray-200 rounded-full p-2 focus:outline-blue-400",title:"Close",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 truncate",children:h.name||"Unnamed Product"}),h.imageUrls&&h.imageUrls.length>0&&n.jsx("img",{src:h.imageUrls[0],alt:h.name||"Product Image",className:"w-full h-64 object-cover rounded-lg mb-4"}),h.videoUrls&&h.videoUrls.length>0&&n.jsx("video",{src:h.videoUrls[0],controls:!0,className:"w-full h-64 rounded-lg"}),n.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Price: ",h.price||0]}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${h.status==="pending"?"bg-orange-100 text-orange-800":h.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h.status==="pending"?"Pending":h.status==="approved"?"Approved":"Not Approved"}),n.jsx("button",{onClick:()=>u(!1),className:"mt-6 w-full bg-[#112d4e] text-white py-2 rounded-lg hover:bg-[#1a4577] transition focus:outline-[#112d4e] focus:ring-2 focus:ring-blue-300",children:"Close"})]})}),n.jsx("style",{children:`
          @keyframes slide-in {
            from { opacity: 0; transform: translateY(32px); }
            to { opacity: 1; transform: none; }
          }
          .animate-slide-in {
            animation: slide-in 0.7s cubic-bezier(0.4,0,0.2,1);
          }
          @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          .animate-fade-in {
            animation: fade-in 0.5s cubic-bezier(0.4,0,0.2,1);
          }
          @keyframes pulseBtn {
            0%, 100% { box-shadow: 0 0 0 0 rgba(124,58,237,0.4), 0 8px 32px 0 rgba(30,58,138,0.18); }
            50% { box-shadow: 0 0 0 12px rgba(124,58,237,0.15), 0 8px 32px 0 rgba(30,58,138,0.18); }
          }
          .animate-pulseBtn {
            animation: pulseBtn 1.2s infinite;
          }
        `})]})]})}const Sle=()=>{const[r,e]=E.useState("contact"),[t,s]=E.useState(null),[a,i]=E.useState({name:"",email:"",subject:"",message:""}),[o,l]=E.useState(!1),{user:c}=ud?ud():{user:null},u=[{question:"How do I place an order?",answer:"To place an order, browse our products, add items to your cart, and proceed to checkout. You'll need to provide shipping and payment information to complete your order."},{question:"What payment methods do you accept?",answer:"We accept various payment methods including credit/debit cards, bank transfers, and digital wallets. All payments are processed securely through our payment partners."},{question:"How can I track my order?",answer:"Once your order is shipped, you'll receive a tracking number via email. You can also view your order status and tracking information in your account under 'My Orders'."},{question:"What is your return policy?",answer:"We offer a 30-day return policy for most items. Products must be in original condition with all packaging. Some restrictions may apply to certain categories."},{question:"How long does shipping take?",answer:"Standard shipping typically takes 3-7 business days within the country. International shipping may take 7-14 business days. Express shipping options are available at checkout."},{question:"Do you ship internationally?",answer:"Yes, we ship to most countries worldwide. International shipping costs and delivery times vary by location."},{question:"How do I become a seller on Foremade?",answer:"To become a seller, create an account and click on 'Become a Seller' in your profile. You'll need to complete the seller application and verification process."},{question:"What are Foremade's fees for sellers?",answer:"Our seller fees include a small listing fee and a commission on sales. The exact fee structure depends on your seller level and product category."}],h=[{name:"Privacy Policy",url:"/privacy-policy"},{name:"Terms & Conditions",url:"/terms-conditions"},{name:"Seller Agreement",url:"/seller-agreement"},{name:"Shipping Policy",url:"/shipping-policy"}],f=y=>{const{name:b,value:v}=y.target;i(N=>({...N,[b]:v}))},g=async y=>{y.preventDefault(),l(!0);try{const b="https://foremade-backend.onrender.com";console.log("Submitting to:",`${b}/api/support-request`,a);let v=null;c&&(v=await c.getIdToken());const N=await fetch(`${b}/api/support-request`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...v?{Authorization:`Bearer ${v}`}:{}},body:JSON.stringify(a)});if(!N.ok){const k=await N.json().catch(()=>({}));throw new Error(k.message||"Failed to send message. Please try again later.")}je.success("Your message has been sent! Our support team will get back to you soon."),i({name:"",email:"",subject:"",message:""})}catch(b){console.error("Error submitting form:",b),je.error(b.message||"Failed to send message. Please try again later.")}finally{l(!1)}},x=y=>{s(t===y?null:y)};return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx(Xe.h1,{className:"text-2xl md:text-3xl font-bold text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Customer Support Center"}),n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("div",{className:"inline-flex bg-background-light rounded-lg p-1 border border-border-light",children:["contact","faq","policies"].map(y=>n.jsxs(Xe.button,{onClick:()=>e(y),className:`px-4 py-2 rounded-md ${r===y?"bg-gray text-black":"bg-transparent text-secondary hover:bg-background-dark"} transition-all duration-200 text-sm md:text-base font-medium`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[y==="contact"&&"Contact Us",y==="faq"&&"FAQs",y==="policies"&&"Policies"]},y))})}),r==="contact"&&n.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"bg-background-light rounded-lg shadow-md p-6 mb-8 border border-border-light",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-primary",children:"Get in Touch"}),n.jsx("p",{className:"text-secondary mb-6",children:"Have a question or need assistance? Fill out the form below and our support team will get back to you as soon as possible."}),n.jsxs("form",{onSubmit:g,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-secondary mb-1",children:"Your Name"}),n.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:f,className:"w-full p-2 border border-border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary mb-1",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:f,className:"w-full p-2 border border-border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-secondary mb-1",children:"Subject"}),n.jsx("input",{type:"text",id:"subject",name:"subject",value:a.subject,onChange:f,className:"w-full p-2 border border-border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-secondary mb-1",children:"Message"}),n.jsx("textarea",{id:"message",name:"message",value:a.message,onChange:f,rows:"5",className:"w-full p-2 border border-border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsx(Xe.button,{type:"submit",disabled:o,className:`w-full py-2 px-4 ${o?"bg-primary/70":"bg-primary hover:bg-primary/80"} text-white rounded-md transition-colors duration-200 flex items-center justify-center`,whileHover:{scale:1.02},whileTap:{scale:.98},children:o?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mr-2",children:"Sending..."}),n.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]}):"Send Message"})]})]}),n.jsxs("div",{className:"bg-background-light rounded-lg shadow-md p-6 border border-border-light",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-primary",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 bg-primary/10 p-3 rounded-full text-primary",children:n.jsx("i",{className:"bx bx-envelope text-xl"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-md font-medium text-secondary",children:"Email"}),n.jsx("p",{className:"text-primary hover:underline",children:"support@foremade.com"})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 bg-primary/10 p-3 rounded-full text-primary",children:n.jsx("i",{className:"bx bx-map text-xl"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-md font-medium text-secondary",children:"Address"}),n.jsx("p",{className:"text-secondary",children:"United Kingdom"})]})]})]})]})]}),r==="faq"&&n.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-3xl mx-auto",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-center",children:"Frequently Asked Questions"}),n.jsx("div",{className:"space-y-4",children:u.map((y,b)=>n.jsxs(Xe.div,{className:"border border-border-light rounded-lg overflow-hidden bg-background-light",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},children:[n.jsxs("button",{className:"w-full px-6 py-4 text-left bg-background-light hover:bg-background-dark flex justify-between items-center",onClick:()=>x(b),children:[n.jsx("span",{className:"font-medium text-primary",children:y.question}),n.jsx(Xe.i,{className:`bx ${t===b?"bx-minus":"bx-plus"} text-primary`,animate:{rotate:t===b?180:0},transition:{duration:.3}})]}),n.jsx(Xe.div,{className:"px-6 pb-4",initial:{height:0,opacity:0},animate:{height:t===b?"auto":0,opacity:t===b?1:0},transition:{duration:.3},style:{overflow:"hidden"},children:n.jsx("p",{className:"text-secondary",children:y.answer})})]},b))}),n.jsxs("div",{className:"mt-8 text-center",children:[n.jsx("p",{className:"text-secondary mb-4",children:"Can't find what you're looking for?"}),n.jsx(Xe.button,{onClick:()=>e("contact"),className:"px-6 py-2 bg-primary text-white rounded-md hover:bg-primary/80 transition-colors duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Contact Support"})]})]}),r==="policies"&&n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-center",children:"Policies & Terms"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map((y,b)=>n.jsxs(fe,{to:y.url,className:"bg-background-light rounded-lg shadow-md p-6 flex flex-col items-center hover:shadow-lg transition-shadow duration-200 hover:text-primary border border-border-light",children:[n.jsx("div",{className:"bg-primary/10 p-4 rounded-full text-primary mb-4",children:n.jsx("i",{className:"bx bx-file text-2xl"})}),n.jsx("h3",{className:"text-lg font-medium text-primary",children:y.name}),n.jsxs("p",{className:"text-secondary mt-2 flex items-center",children:["Read more",n.jsx("i",{className:"bx bx-right-arrow-alt ml-1 text-primary"})]})]},b))})]})]})},_le=()=>n.jsx("div",{className:"min-h-screen bg-background-light py-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto policy-card",children:[n.jsx("div",{className:"policy-header text-primary",children:"FOREMADE Marketplace  Terms and Conditions"}),n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-20 h-20 mb-4 flex items-center justify-center bg-primary/10 rounded-full",children:n.jsx("i",{className:"bx bx-file text-5xl text-primary"})}),n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-primary mb-2",children:"FOREMADE Marketplace  Terms and Conditions"}),n.jsx("p",{className:"text-secondary max-w-xl",children:"Please read these terms and conditions carefully before using the FOREMADE platform."})]}),n.jsxs("div",{className:"policy-content",children:[n.jsxs("p",{className:"mb-2 text-secondary",children:[n.jsx("strong",{children:"Last Updated:"})," July 5, 2024"]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"1. Eligibility"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Be at least 18 years old (or have guardian consent if underage)"}),n.jsx("li",{children:"Provide truthful and accurate registration details"}),n.jsx("li",{children:"Not be restricted from using digital platforms by applicable law"})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"2. Account Registration"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Keep your login details secure"}),n.jsx("li",{children:"Be responsible for all activity under your account"}),n.jsx("li",{children:"Notify FOREMADE of any unauthorised access or misuse"})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"3. Selling on FOREMADE"}),n.jsxs("p",{className:"mb-4",children:["Sellers must list only legal, original, and accurately described items, fulfill orders on time, maintain good service, and follow our policies. See our ",n.jsx(fe,{to:"/seller-agreement",className:"policy-link",children:"Seller Agreement"}),"."]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"4. Buying on FOREMADE"}),n.jsx("p",{className:"mb-4",children:"Buyers must complete purchases in good faith, avoid fraud, and raise issues respectfully within the platform."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"5. Listing and Selling Fees"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsxs("li",{children:["No listing fees for up to 300 items/month (",n.jsx(fe,{to:"/sellers-guide",className:"policy-link",children:"Standard Sellers"}),")"]}),n.jsxs("li",{children:["Up to 400 items/month (",n.jsx(fe,{to:"/pro-seller-guide",className:"policy-link",children:"Pro Sellers"}),")"]}),n.jsx("li",{children:"Fees apply only for extra listings, communicated in advance"})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"6. Inclusive Pricing"}),n.jsx("p",{className:"mb-4",children:"All prices shown are final and include taxes, buyer protection, and handling fees. No hidden costs at checkout."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"7. Payments & Payouts"}),n.jsx("p",{className:"mb-4",children:"Payments are released after buyer confirmation. Seller wallets show pending balance until approved by FOREMADE, after which they can withdraw."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"8. Returns & Refunds"}),n.jsx("p",{className:"mb-4",children:"7-day return window. Sellers respond within 2 business days. Refunds issued after successful return. Exceptions apply."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"9. Prohibited Items"}),n.jsx("p",{className:"mb-4",children:"Illegal, counterfeit, restricted, or infringing items are banned. Violations lead to suspension."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"10. Disputes & Resolution"}),n.jsx("p",{className:"mb-4",children:"Direct communication encouraged. FOREMADE may step in and issue a final decision if needed."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"11. Intellectual Property"}),n.jsx("p",{className:"mb-4",children:"Users grant FOREMADE a non-exclusive license to use uploaded content. Do not upload content you don't own."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"12. Platform Use & Conduct"}),n.jsx("p",{className:"mb-4",children:"No fraud, abuse, or misuse of the platform. Violators may be banned."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"13. Limitation of Liability"}),n.jsx("p",{className:"mb-4",children:"FOREMADE is not liable for third-party delays, misuse of products, or losses from transactions."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"14. Account Suspension & Termination"}),n.jsx("p",{className:"mb-4",children:"FOREMADE can suspend or terminate accounts violating terms without prior notice."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"15. Privacy and Data Use"}),n.jsxs("p",{className:"mb-4",children:["We respect your data. See our ",n.jsx(fe,{to:"/privacy-policy",className:"policy-link",children:"Privacy Policy"})," for more details."]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"16. Changes to These Terms"}),n.jsx("p",{className:"mb-4",children:"We may update these terms. Continued use implies acceptance of updates."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"17. Contact Us"}),n.jsxs("p",{className:"mb-4",children:["Email: support@foremade.com",n.jsx("br",{}),"Website: www.foremade.com",n.jsx("br",{}),"See also our ",n.jsx(fe,{to:"/shipping-policy",className:"policy-link",children:"Shipping Policy"}),"."]})]}),n.jsxs("footer",{className:"policy-footer text-secondary",children:[" ",new Date().getFullYear()," Foremade. All rights reserved."]})]})});function ks(){const[r,e]=E.useState(window.innerWidth>=768),t=Xr();E.useEffect(()=>{const i=()=>{e(window.innerWidth>=768)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const s=()=>{e(!r)},a=[{path:"/admin/dashboard",icon:PN,label:"Dashboard"},{path:"/admin/users",icon:K5,label:"Manage Users"},{path:"/admin/sellers-wallet",icon:hk,label:"Account Management"},{path:"/admin/sellers/payouts",icon:ree,label:"Approve Payments"},{path:"/admin/transactions",icon:IJ,label:"Transactions"},{path:"/admin/products",icon:fd,label:"Manage Products"},{path:"/admin/edit/categories",icon:H5,label:"Categories"},{path:"/admin/edit/fees",icon:PJ,label:"Edit Fees"},{path:"/admin/notifications",icon:AJ,label:"Notifications"},{path:"/admin/edit/banners",icon:$c,label:"Edit Banners & Others"},{path:"/admin/edit/daily-deals",icon:nte,label:"Daily Deals"},{path:"/admin/manager",icon:Cee,label:"Admin Manager"},{path:"/admin/pro-sellers-requests",icon:z5,label:"Admin Pro Sellers"},{path:"/admin/bumped-products",icon:Hf,label:"Admin Bumped Products"},{path:"/admin/users-phone",icon:Lee,label:"Users Phone"}];return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:s,className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-blue-600 text-white rounded-lg focus:outline-none hover:bg-blue-700 transition-colors","aria-label":r?"Close menu":"Open menu",children:r?n.jsx(Wc,{className:"w-6 h-6"}):n.jsx(W5,{className:"w-6 h-6"})}),n.jsxs("div",{className:`fixed top-0 left-0 w-64 h-full bg-gradient-to-b from-gray-900 to-gray-800 text-white shadow-xl transform transition-transform duration-300 ease-in-out z-40
          ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:block max-h-[calc(100vh)] overflow-y-auto overflow-x-auto`,children:[n.jsx(fe,{to:"/",onClick:()=>window.innerWidth<768&&e(!1),children:n.jsxs("div",{className:"p-4 border-b border-gray-700 flex-col items-center gap-2",children:[n.jsx("img",{src:Rg,alt:"Logo",className:"h-10"}),n.jsx("span",{className:"text-sm font-bold",children:"Admin Panel"})]})}),n.jsx("nav",{className:"mt-4 px-2",children:n.jsx("ul",{className:"space-y-1 whitespace-nowrap",children:a.map(i=>n.jsx("li",{children:n.jsxs(fe,{to:i.path,onClick:()=>window.innerWidth<768&&e(!1),className:`flex items-center p-3 rounded-lg transition-all duration-200 ${t.pathname===i.path?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[n.jsx(i.icon,{className:"w-5 h-5 mr-3"}),n.jsx("span",{className:"text-sm font-medium",children:i.label})]})},i.path))})})]}),r&&n.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:s})]})}function zI({variants:r=[],imageUrls:e=[],isModal:t,product:s={},onUpdateProduct:a}){const[i,o]=E.useState(0),[l,c]=E.useState(0),[u,h]=E.useState(!1),[f,g]=E.useState({...s,variants:r.length?r.map(O=>({...O,imageUrls:O.imageUrls||[],price:O.price||0,stock:O.stock||0,color:O.color||"",size:O.size||""})):[],imageUrls:s.imageUrls||e||[]}),x=r.length?f.variants[i]||{imageUrls:[]}:null,y=r.length?x.imageUrls.map(O=>({type:"image",url:O})).filter(O=>O.url):f.imageUrls.map(O=>({type:"image",url:O})).filter(O=>O.url);if(!y.length&&!u)return n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm flex items-center gap-1",children:"No media available."});const b=O=>{O.stopPropagation(),c(V=>V===0?y.length-1:V-1)},v=O=>{O.stopPropagation(),c(V=>V===y.length-1?0:V+1)},N=O=>{O.stopPropagation(),o(V=>V===0?f.variants.length-1:V-1),c(0)},k=O=>{O.stopPropagation(),o(V=>V===f.variants.length-1?0:V+1),c(0)},C=()=>{h(!u),u||g({...s,variants:r.length?r.map(O=>({...O,imageUrls:O.imageUrls||[],price:O.price||0,stock:O.stock||0,color:O.color||"",size:O.size||""})):[],imageUrls:s.imageUrls||e||[]})},R=(O,V)=>{g(H=>({...H,[O]:V}))},_=(O,V,H)=>{g(B=>({...B,variants:B.variants.map((q,ee)=>ee===O?{...q,[V]:H}:q)}))},I=(O,V,H)=>{r.length?g(B=>({...B,variants:B.variants.map((q,ee)=>ee===O?{...q,imageUrls:q.imageUrls.map((G,$)=>$===V?H:G)}:q)})):g(B=>({...B,imageUrls:B.imageUrls.map((q,ee)=>ee===V?H:q)}))},P=O=>{r.length?g(V=>({...V,variants:V.variants.map((H,B)=>B===O?{...H,imageUrls:[...H.imageUrls,""]}:H)})):g(V=>({...V,imageUrls:[...V.imageUrls,""]}))},T=(O,V)=>{r.length?g(H=>({...H,variants:H.variants.map((B,q)=>q===O?{...B,imageUrls:B.imageUrls.filter((ee,G)=>G!==V)}:B)})):g(H=>({...H,imageUrls:H.imageUrls.filter((B,q)=>q!==V)})),l>=y.length-1&&c(0)},D=()=>{g(O=>({...O,variants:[...O.variants,{color:"",size:"",price:0,stock:0,imageUrls:[]}]}))},L=O=>{g(V=>({...V,variants:V.variants.filter((H,B)=>B!==O)})),i>=f.variants.length-1&&o(0)},F=()=>{a&&a({...f,variants:f.variants.map(O=>({...O,price:parseFloat(O.price)||0,stock:parseInt(O.stock)||0,imageUrls:O.imageUrls.filter(V=>V.trim())})),imageUrls:f.imageUrls.filter(O=>O.trim())}),h(!1)},z=y[l];return n.jsxs("div",{className:`relative ${t?"h-full":"h-64"} p-2 rounded-xl overflow-hidden shadow-md`,children:[n.jsxs("div",{className:"w-full h-full relative",children:[z&&n.jsx("img",{src:z.url,alt:`${s.name||"Product"} ${r.length?`variant ${i+1}`:""} image`,className:"w-full h-full object-cover rounded-xl transition-transform duration-300 hover:scale-105",onError:O=>{O.target.src="https://via.placeholder.com/150",console.error(`Failed to load image: ${z.url}`)}}),y.length>1&&t&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:b,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-900 bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition-all duration-200 focus:outline-none",title:"Previous media","aria-label":"Previous media",children:n.jsx(GP,{size:20})}),n.jsx("button",{onClick:v,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-900 bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition-all duration-200 focus:outline-none",title:"Next media","aria-label":"Next media",children:n.jsx(gf,{size:20})}),n.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2 bg-gray-900 bg-opacity-70 p-1 rounded-full",children:y.map((O,V)=>n.jsx("button",{onClick:()=>c(V),className:`w-2 h-2 rounded-full transition-all duration-200 ${V===l?"bg-blue-500 w-3":"bg-gray-400 hover:bg-gray-500"}`,"aria-label":`Go to media ${V+1}`},V))})]}),r.length>1&&t&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:N,className:"absolute left-2 top-1/4 -translate-y-1/2 bg-gray-900 bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition-all duration-200 focus:outline-none",title:"Previous variant","aria-label":"Previous variant",children:n.jsx(GP,{size:20})}),n.jsx("button",{onClick:k,className:"absolute right-2 top-1/4 -translate-y-1/2 bg-gray-900 bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition-all duration-200 focus:outline-none",title:"Next variant","aria-label":"Next variant",children:n.jsx(gf,{size:20})})]}),n.jsxs("div",{className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[n.jsx($c,{size:12}),r.length?`Variant ${i+1}/${f.variants.length} | `:"","Image ",l+1,"/",y.length]}),t&&n.jsx("div",{className:"absolute top-2 left-2",children:u?n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:F,className:"bg-emerald-600 text-white p-2 rounded-full hover:bg-emerald-700 transition-all duration-200 focus:outline-none",title:"Save edits","aria-label":"Save edits",children:n.jsx(BJ,{size:16})}),n.jsx("button",{onClick:C,className:"bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-all duration-200 focus:outline-none",title:"Cancel edits","aria-label":"Cancel edits",children:n.jsx(Wc,{size:16})})]}):n.jsx("button",{onClick:C,className:"bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition-all duration-200 focus:outline-none",title:"Edit product","aria-label":"Edit product",children:n.jsx(Qu,{size:16})})})]}),u&&t&&n.jsxs("div",{className:"mt-4 p-2 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-y-auto max-h-[40vh]",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Edit Product Details"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Name"}),n.jsx("input",{type:"text",value:f.name||"",onChange:O=>R("name",O.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Category"}),n.jsx("input",{type:"text",value:f.category||"",onChange:O=>R("category",O.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Condition"}),n.jsx("input",{type:"text",value:f.condition||"",onChange:O=>R("condition",O.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Tags (comma-separated)"}),n.jsx("input",{type:"text",value:Array.isArray(f.tags)?f.tags.join(", "):f.tags||"",onChange:O=>R("tags",O.target.value.split(", ").filter(Boolean)),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),r.length?n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Variants"}),f.variants.map((O,V)=>n.jsxs("div",{className:"mb-4 p-2 border border-gray-300 dark:border-gray-600 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("h5",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:["Variant ",V+1]}),n.jsx("button",{onClick:()=>L(V),className:"bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-all duration-200",title:"Remove variant","aria-label":"Remove variant",children:n.jsx(Wc,{size:14})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Color"}),n.jsx("input",{type:"text",value:O.color||"",onChange:H=>_(V,"color",H.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Size"}),n.jsx("input",{type:"text",value:O.size||"",onChange:H=>_(V,"size",H.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Price ()"}),n.jsx("input",{type:"number",value:O.price||"",onChange:H=>_(V,"price",H.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Stock"}),n.jsx("input",{type:"number",value:O.stock||"",onChange:H=>_(V,"stock",H.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Images"}),O.imageUrls.map((H,B)=>n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("input",{type:"text",value:H||"",onChange:q=>I(V,B,q.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Enter image URL"}),n.jsx("button",{onClick:()=>T(V,B),className:"bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-all duration-200",title:"Remove image","aria-label":"Remove image",children:n.jsx(Wc,{size:14})})]},B)),n.jsxs("button",{onClick:()=>P(V),className:"mt-2 text-blue-600 hover:underline text-sm flex items-center gap-1",children:[n.jsx($c,{size:14})," Add Image"]})]})]})]},V)),n.jsxs("button",{onClick:D,className:"mt-2 text-blue-600 hover:underline text-sm flex items-center gap-1",children:[n.jsx($c,{size:14})," Add Variant"]})]}):n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Images"}),f.imageUrls.map((O,V)=>n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("input",{type:"text",value:O||"",onChange:H=>I(0,V,H.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Enter image URL"}),n.jsx("button",{onClick:()=>T(0,V),className:"bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-all duration-200",title:"Remove image","aria-label":"Remove image",children:n.jsx(Wc,{size:14})})]},V)),n.jsxs("button",{onClick:()=>P(0),className:"mt-2 text-blue-600 hover:underline text-sm flex items-center gap-1",children:[n.jsx($c,{size:14})," Add Image"]})]})]})]})]})}function VI({productId:r,currentStatus:e,onStatusChange:t,onDelete:s,loading:a,onEdit:i,isModal:o}){return n.jsxs("div",{className:`flex ${o?"justify-end mt-4":"space-x-2"}`,children:[e!=="approved"&&n.jsx("button",{onClick:l=>{l.stopPropagation(),t(r,"approved")},disabled:a,className:"py-2 px-2 m-1 bg-gray-800 text-white rounded-xl text-sm hover:bg-gray-600 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",title:"Approve product for sale",children:a?n.jsx(gx,{size:16,className:"animate-spin"}):n.jsx(Pg,{size:16})}),e!=="rejected"&&n.jsx("button",{onClick:l=>{l.stopPropagation(),t(r,"rejected")},disabled:a,className:"py-2 px-4 m-1 bg-gray-600 text-white rounded-xl text-sm hover:bg-amber-900 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",title:"Reject product",children:a?n.jsx(gx,{size:16,className:"animate-spin"}):n.jsx(Lu,{size:16})}),n.jsx("button",{onClick:l=>{l.stopPropagation(),s(r)},disabled:a,className:"py-2 px-4 m-1 bg-gray-600 text-white rounded-xl text-sm hover:bg-red-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",title:"Delete product permanently",children:a?n.jsx(gx,{size:16,className:"animate-spin"}):n.jsx(X5,{size:16})}),n.jsx("button",{onClick:l=>{l.stopPropagation(),i(r)},disabled:a,className:"py-2 px-4 m-1 bg-gray-600 text-white rounded-xl text-sm hover:bg-gray-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",title:"Edit product details",children:a?n.jsx(gx,{size:16,className:"animate-spin"}):n.jsx(Qu,{size:16})})]})}function BI({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-xl shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-500 text-white":"bg-green-500 text-white"} flex items-center gap-2`,children:[t.type==="error"?n.jsx(Lu,{size:20}):n.jsx(Pg,{size:20}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg hover:text-gray-200",children:""})]},t.id))})}function Ale(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function Cle(){const{alerts:r,addAlert:e,removeAlert:t}=Ale(),[s,a]=E.useState({products:[]}),[i,o]=E.useState(!0),[l,c]=E.useState(""),[u,h]=E.useState(null),[f,g]=E.useState("default"),[x,y]=E.useState(!1),[b,v]=E.useState(!1),[N,k]=E.useState(""),[C,R]=E.useState(""),[_,I]=E.useState(null);E.useEffect(()=>{(async()=>{try{const $=await Ke(Ie(re,"products")),Q=await Promise.all($.docs.map(async te=>{const ne={id:te.id,...te.data()},ce=await P(ne.id);return{...ne,buyerCount:ce}}));a({products:Q})}catch($){console.error("Error fetching data:",$),c("Failed to fetch data: "+$.message),e("Failed to load products.","error")}finally{o(!1)}})()},[e]),E.useEffect(()=>{const G=$=>{$.key==="Escape"&&(u||b)&&V()};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[u,b]);const P=async G=>{try{return(await Ke(Ie(re,"orders"))).docs.filter(Q=>Q.data().items.some(te=>te.productId===G)).length}catch($){return console.error("Error fetching buyer count:",$),0}},T=async(G,$)=>{const Q=s.products.find(te=>te.id===G);if($==="rejected"){I(Q),v(!0);return}if(window.confirm(`Are you sure you want to ${$==="approved"?"approve":"reject"} this product?`)){o(!0);try{const te=Ce(re,"products",G);await aa(te,{status:$}),a(ce=>({...ce,products:ce.products.map(Re=>Re.id===G?{...Re,status:$}:Re)})),e(`Product ${$==="approved"?"approved":"rejected"} successfully! `,"success");const ne=$==="approved"?"/send-product-approved-email":"/send-product-rejected-email";try{await Zt.post(`https://foremade-backend.onrender.com${ne}`,{productId:G,productName:Q.name,sellerId:Q.sellerId,sellerEmail:Q.sellerEmail||await L(Q.sellerId),...$==="rejected"&&{reason:N||C}}),e(`${$==="approved"?"Approval":"Rejection"} email sent to seller! `,"success")}catch(ce){console.error(`Error sending ${$} email:`,ce),e(`Failed to send ${$} email.`,"error")}}catch(te){console.error("Error updating product status:",te),e("Failed to update product status.","error")}finally{o(!1)}}},D=async()=>{if(!N&&!C){e("Please select or enter a rejection reason.","error");return}const G=N==="Other"?C:N;if(!G){e("Please enter a custom reason.","error");return}o(!0);try{const $=_.id,Q=Ce(re,"products",$);await aa(Q,{status:"rejected"}),a(te=>({...te,products:te.products.map(ne=>ne.id===$?{...ne,status:"rejected"}:ne)})),e("Product rejected successfully! ","success");try{await Zt.post("https://foremade-backend.onrender.com/send-product-rejected-email",{productId:$,productName:_.name,sellerId:_.sellerId,sellerEmail:_.sellerEmail||await L(_.sellerId),reason:G}),e("Rejection email sent to seller! ","success")}catch(te){console.error("Error sending rejection email:",te),e("Failed to send rejection email.","error")}}catch($){console.error("Error rejecting product:",$),e("Failed to reject product.","error")}finally{o(!1),v(!1),k(""),R(""),I(null)}},L=async G=>{try{const $=await Je(Ce(re,"users",G));return $.exists()?$.data().email:null}catch($){return console.error("Error fetching seller email:",$),null}},F=async G=>{if(window.confirm("Are you sure you want to delete this product?")){o(!0);try{await ua(Ce(re,"products",G)),a($=>({...$,products:$.products.filter(Q=>Q.id!==G)})),e("Product deleted successfully! ","success")}catch($){console.error(`Error deleting product ${G}:`,$),e("Failed to delete product.","error")}finally{o(!1)}}},z=(G,$)=>{$.stopPropagation(),console.log("Card clicked:",G.id,G.name),h(G)},O=async G=>{if(!G.name||G.variants.some($=>!$.price||!$.stock||!$.color)){e("Please fill all required fields for all variants.","error");return}o(!0);try{const $=Ce(re,"products",G.id);await aa($,{name:G.name,category:G.category,condition:G.condition,tags:G.tags,variants:G.variants.map(Q=>({...Q,price:parseFloat(Q.price)||0,stock:parseInt(Q.stock)||0})),imageUrls:G.imageUrls||[]}),a(Q=>({...Q,products:Q.products.map(te=>te.id===G.id?{...te,...G}:te)})),e("Product updated successfully! ","success"),h(null)}catch($){console.error("Error updating product:",$),e("Failed to update product.","error")}finally{o(!1)}},V=()=>{h(null),v(!1),k(""),R(""),I(null)},B=(G=>{const $=[...G];switch(f){case"name-asc":return $.sort((Q,te)=>(Q.name||"").localeCompare(te.name||""));case"name-desc":return $.sort((Q,te)=>(te.name||"").localeCompare(Q.name||""));case"price-asc":return $.sort((Q,te)=>{const ne=Q.variants&&Q.variants.length?Math.min(...Q.variants.map(Re=>Re.price||0)):Q.price||0,ce=te.variants&&te.variants.length?Math.min(...te.variants.map(Re=>Re.price||0)):te.price||0;return ne-ce});case"price-desc":return $.sort((Q,te)=>{const ne=Q.variants&&Q.variants.length?Math.max(...Q.variants.map(Re=>Re.price||0)):Q.price||0;return(te.variants&&te.variants.length?Math.max(...te.variants.map(Re=>Re.price||0)):te.price||0)-ne});case"status-pending":return $.sort(Q=>Q.status==="pending"?-1:1);case"status-approved":return $.sort(Q=>Q.status==="approved"?-1:1);case"status-not-approved":return $.sort(Q=>Q.status!=="approved"&&Q.status!=="pending"?-1:1);default:return $}})(s.products),q=s.products.filter(G=>G.status==="approved").length,ee=s.products.filter(G=>G.status!=="approved").length;return i?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):l?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"bg-red-500 text-white p-4 rounded-xl shadow-md flex items-center gap-2",children:[n.jsx(Lu,{size:20}),n.jsx("p",{children:l})]})})}),n.jsx(BI,{alerts:r,removeAlert:t})]}):n.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[n.jsx(ks,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-4",children:n.jsxs("div",{className:"container mx-auto px-4 py-7",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-4 sm:mb-0 flex items-center gap-2",children:[n.jsx(Pg,{size:24,className:"text-green-600 dark:text-green-400"}),"Product Verification Hub"]}),n.jsxs("button",{onClick:()=>y(!x),className:"py-2 px-4 bg-blue-950 text-white rounded-lg text-sm hover:bg-blue-900 flex items-center gap-2 transition-all duration-200 shadow-md",children:[n.jsx("i",{className:`bx bx-${x?"x":"filter-alt"}`}),x?"Close Filters":"Filters & Sort"]})]}),x&&n.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-md mb-6 animate-slide-down",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 items-center gap-1",children:["Sort Products",n.jsx("i",{className:"bx bx-info-circle text-gray-500 dark:text-gray-400 group-hover:text-blue-500 cursor-help",title:"Sort products by name, price, or status"})]}),n.jsxs("select",{value:f,onChange:G=>g(G.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[n.jsx("option",{value:"default",children:"Default"}),n.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),n.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),n.jsx("option",{value:"price-asc",children:"Price (Low to High)"}),n.jsx("option",{value:"price-desc",children:"Price (High to Low)"}),n.jsx("option",{value:"status-pending",children:"Status: Pending"}),n.jsx("option",{value:"status-approved",children:"Status: Approved"}),n.jsx("option",{value:"status-not-approved",children:"Status: Not Approved"})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Stats"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg text-sm shadow-md",children:["Approved: ",q]}),n.jsxs("div",{className:"bg-red-700 text-white px-4 py-2 rounded-lg text-sm shadow-md",children:["Not Approved: ",ee]})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-6",children:[B.map(G=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 shadow-md",onClick:$=>z(G,$),children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h2",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 truncate",children:G.name||"Unnamed Product"}),n.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${G.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":G.status==="approved"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:G.status==="pending"?"Pending":G.status==="approved"?"Approved":"Not Approved"})]}),n.jsx(zI,{variants:G.variants||[],imageUrls:G.imageUrls||[]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 flex items-center gap-1",children:[n.jsx(Ul,{size:14})," Seller: ",G.sellerName||"Unknown"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 flex items-center gap-1",children:[n.jsx(i0,{size:14})," Buyers: ",G.buyerCount||0]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Variants: ",G.variants?.length||0]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Price Range: ",G.variants&&G.variants.length?Math.min(...G.variants.map($=>$.price||0)).toLocaleString("en-NG"):(G.price||0).toLocaleString("en-NG")," - ",G.variants&&G.variants.length?Math.max(...G.variants.map($=>$.price||0)).toLocaleString("en-NG"):(G.price||0).toLocaleString("en-NG")]}),n.jsx(VI,{productId:G.id,currentStatus:G.status,onStatusChange:T,onDelete:F,loading:i,onEdit:$=>z(G,$)})]},G.id)),B.length===0&&n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mt-4 col-span-3 italic",children:"No products to verify."})]})]})}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 animate-fade-in",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 m-4 rounded-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto shadow-lg flex flex-col md:flex-row gap-6",children:[n.jsxs("div",{className:"w-full md:w-1/2 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:u.name||"Unnamed Product"}),n.jsx("button",{onClick:V,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 text-2xl",title:"Close",children:n.jsx("i",{className:"bx bx-x"})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(XP,{size:18,className:"text-green-600 dark:text-green-400"})," Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Seller:"})," ",u.sellerName||"Unknown Seller"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Status:"})," ",u.status==="pending"?"Pending":u.status==="approved"?"Approved":"Not Approved"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Category:"})," ",u.category||"Uncategorized"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Condition:"})," ",u.condition||"New"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Rating:"})," ",u.rating||"N/A"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Buyers:"})," ",u.buyerCount||0]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(Qu,{size:18,className:"text-green-600 dark:text-green-400"})," Tags"]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Array.isArray(u.tags)?u.tags.join(", "):"None"})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(Ul,{size:18,className:"text-green-600 dark:text-green-400"})," Seller Info"]}),n.jsxs("p",{className:"text-[13px] mt-3",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Name:"})," ",u.seller?.name||"Unknown Seller"]}),n.jsxs("p",{className:"text-[13px] mt-4",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"ID:"})," ",u.seller?.id||"N/A"]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(i0,{size:18,className:"text-green-600 dark:text-green-400"})," Variants"]}),u.variants&&u.variants.length>0?n.jsx("div",{className:"space-y-4 mt-2",children:u.variants.map((G,$)=>n.jsxs("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:["Variant ",$+1]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Color:"})," ",G.color||"N/A"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Size:"})," ",G.size||"N/A"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Price:"})," ",(G.price||0).toLocaleString("en-NG",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Stock:"})," ",G.stock||0," units"]}),n.jsxs("p",{className:"text-[13px]",children:[n.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Images:"})," ",G.imageUrls?.length||0]})]})]},$))}):n.jsx("p",{className:"text-[13px] text-gray-600 dark:text-gray-400",children:"No variants available."})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(i0,{size:18,className:"text-green-600 dark:text-green-400"})," Reviews"]}),Array.isArray(u.reviews)&&u.reviews.length>0?n.jsx("ul",{className:"list-disc pl-5 space-y-2",children:u.reviews.map((G,$)=>n.jsxs("li",{className:"text-sm text-gray-600 dark:text-gray-400",children:[G.comment," ",n.jsxs("span",{className:"text-yellow-500",children:["(Rating: ",G.rating,")"]}),", By: ",G.userName||"Anonymous"]},$))}):n.jsx("p",{className:"text-[13px] text-gray-600 dark:text-gray-400",children:"No reviews available yet."})]}),n.jsx(VI,{productId:u.id,currentStatus:u.status,onStatusChange:T,onDelete:F,loading:i,onEdit:G=>z(u,G),isModal:!0})]}),n.jsxs("div",{className:"w-full md:w-1/2",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2 mb-4",children:[n.jsx(XP,{size:18,className:"text-green-600 dark:text-green-400"})," Variant Media Preview"]}),n.jsx(zI,{variants:u.variants||[],imageUrls:u.imageUrls||[],isModal:!0,product:u,onUpdateProduct:O})]})]})}),b&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 animate-fade-in",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl w-full max-w-md shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(Lu,{size:20,className:"text-red-600 dark:text-red-400"})," Reject Product"]}),n.jsx("button",{onClick:V,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 text-2xl",title:"Close",children:n.jsx("i",{className:"bx bx-x"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Reason for Rejection"}),n.jsxs("select",{value:N,onChange:G=>k(G.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[n.jsx("option",{value:"",children:"Select a reason"}),n.jsx("option",{value:"Missing product image",children:"Missing product image"}),n.jsx("option",{value:"Incomplete product description",children:"Incomplete product description"}),n.jsx("option",{value:"Invalid price",children:"Invalid price"}),n.jsx("option",{value:"Product violates guidelines",children:"Product violates guidelines"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),N==="Other"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Custom Reason"}),n.jsx("textarea",{value:C,onChange:G=>R(G.target.value),placeholder:"Enter custom reason...",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",rows:"4"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:V,className:"py-2 px-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg text-sm hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-200",children:"Cancel"}),n.jsxs("button",{onClick:D,className:"py-2 px-4 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 transition-all duration-200 flex items-center gap-2",disabled:i,children:[i?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx(Lu,{size:16}),"Reject Product"]})]})]})]})}),n.jsx(BI,{alerts:r,removeAlert:t})]})}vh.register(KO,Ek,Rk,Ik,Pk,Tk);function Ele(){const[r,e]=E.useState({users:0,admins:0,products:0,approvedProducts:0,rejectedProducts:0}),[t,s]=E.useState(!0),[a,i]=E.useState(""),[o,l]=E.useState([]),[c,u]=E.useState([]),[h,f]=E.useState(!1);E.useEffect(()=>{(async()=>{try{const[k,C,R,_,I]=await Promise.all([Ke(Ie(re,"users")),Ke(Ie(re,"admins")),Ke(Ie(re,"products")),Ke(mt(Ie(re,"products"),nt("status","==","approved"))),Ke(mt(Ie(re,"products"),nt("status","==","rejected")))]);e({users:k.size,admins:C.size,products:R.size,approvedProducts:_.size,rejectedProducts:I.size})}catch(k){i("Failed to fetch dashboard stats: "+k.message)}finally{s(!1)}})()},[]);const g=async()=>{f(!0);try{const N=ke.currentUser;if(!N)throw new Error("Not authenticated");const k=await N.getIdToken(),R=await fetch("https://foremade-backend.onrender.com/api/admin/all-pro-sellers",{headers:{Authorization:`Bearer ${k}`}}),_=await R.json();R.ok&&_.status==="success"?l(_.approvals||[]):je.error(_.message||"Failed to fetch pro seller requests")}catch(N){je.error(N.message||"Failed to fetch pro seller requests")}finally{f(!1)}};E.useEffect(()=>{g()},[]);const x=async(N,k)=>{try{const C=ke.currentUser;if(!C)throw new Error("Not authenticated");const R=await C.getIdToken(),I=await fetch("https://foremade-backend.onrender.com/api/admin/approve-pro-seller",{method:"POST",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify({proSellerId:N,approve:k})}),P=await I.json();I.ok&&P.status==="success"?(je.success(P.message||(k?"Pro seller approved":"Pro seller rejected")),g()):je.error(P.message||"Action failed")}catch(C){je.error(C.message||"Action failed")}},y={labels:["Users","Admins","Approved Products","Rejected Products"],datasets:[{label:"Counts",data:[r.users,r.admins,r.approvedProducts,r.rejectedProducts],backgroundColor:["#3B82F6","#10B981","#22C55E","#EF4444"],borderColor:["#2563EB","#059669","#16A34A","#DC2626"],borderWidth:1}]},b={labels:["Approved Products","Rejected Products","Pending Products"],datasets:[{label:"Product Status",data:[r.approvedProducts,r.rejectedProducts,r.products-(r.approvedProducts+r.rejectedProducts)],backgroundColor:["#22C55E","#EF4444","#F59E0B"],borderColor:["#16A34A","#DC2626","#D97706"],borderWidth:1}]},v={responsive:!0,plugins:{legend:{position:"top"},tooltip:{enabled:!0}}};return t?n.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[n.jsx(ks,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 animate-pulse",children:Array.from({length:3}).map((N,k)=>n.jsx("div",{className:"bg-gray-200 p-4 rounded-lg h-24"},k))}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"}),n.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"})]})]})})]}):a?n.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[n.jsx(ks,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 rounded-lg dark:bg-red-900 dark:border-red-700",children:n.jsx("p",{className:"text-red-700 dark:text-red-300",children:a})})})})]}):n.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[n.jsx(ks,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mb-6",children:"Admin Dashboard"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg shadow flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.users})]}),n.jsx("i",{className:"bx bx-user text-3xl text-blue-500"})]}),n.jsxs("div",{className:"bg-green-100 p-4 rounded-lg shadow flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Total Admins"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.admins})]}),n.jsx("i",{className:"bx bx-shield text-3xl text-green-500"})]}),n.jsxs("div",{className:"bg-red-100 p-4 rounded-lg shadow flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Total Products"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.products})]}),n.jsx("i",{className:"bx bx-package text-3xl text-red-500"})]}),n.jsxs("div",{className:"bg-teal-100 p-4 rounded-lg shadow flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Approved Products"}),n.jsx("p",{className:"text-2xl font-bold text-teal-600",children:r.approvedProducts})]}),n.jsx("i",{className:"bx bx-check-circle text-3xl text-teal-500"})]}),n.jsxs("div",{className:"bg-orange-100 p-4 rounded-lg shadow flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Rejected Products"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:r.rejectedProducts})]}),n.jsx("i",{className:"bx bx-x-circle text-3xl text-orange-500"})]})]}),n.jsxs("div",{className:"mb-10",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Pro Seller Requests"}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 overflow-x-auto",children:h?n.jsx("div",{className:"text-gray-500",children:"Loading..."}):o.length===0?n.jsx("div",{className:"text-gray-500",children:"No pending requests."}):n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 py-1 text-left",children:"ProSeller ID"}),n.jsx("th",{className:"px-2 py-1 text-left",children:"User ID"}),n.jsx("th",{className:"px-2 py-1 text-left",children:"Status"}),n.jsx("th",{className:"px-2 py-1 text-left",children:"Created"}),n.jsx("th",{className:"px-2 py-1 text-left",children:"Actions"})]})}),n.jsx("tbody",{children:o.map(N=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-2 py-1",children:N.proSellerId}),n.jsx("td",{className:"px-2 py-1",children:N.userId}),n.jsx("td",{className:"px-2 py-1",children:N.status}),n.jsx("td",{className:"px-2 py-1",children:N.createdAt?new Date(N.createdAt).toLocaleDateString():"-"}),n.jsxs("td",{className:"px-2 py-1 space-x-2",children:[n.jsx("button",{onClick:()=>x(N.proSellerId,!0),className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Approve"}),n.jsx("button",{onClick:()=>x(N.proSellerId,!1),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Reject"})]})]},N.proSellerId))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Analytics Overview"}),n.jsx("div",{className:"h-64",children:n.jsx(Mk,{data:y,options:v})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Product Status"}),n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsx("div",{className:"w-1/2",children:n.jsx(nL,{data:b,options:v})})})]})]})]})})]})}function Tle({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-2 sm:bottom-4 right-2 sm:right-4 z-50 space-y-1 sm:space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-2 sm:p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-1 sm:gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-lg sm:text-xl`}),n.jsx("span",{className:"text-xs sm:text-base",children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg sm:text-xl font-bold hover:text-gray-200",children:""})]},t.id))})}function Ple(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function Rle(){const{alerts:r,addAlert:e,removeAlert:t}=Ple(),[s,a]=E.useState(null),[i,o]=E.useState([]),[l,c]=E.useState(!0);E.useEffect(()=>{const g=ke.onAuthStateChanged(x=>{x?(a(x),c(!1)):(e("Please log in to access this page.","error"),c(!1))});return()=>g()},[e]),E.useEffect(()=>{if(!s)return;const g=mt(Ie(re,"notifications"),vg("createdAt","desc")),x=bs(g,y=>{try{const b=y.docs.map(v=>({id:v.id,...v.data()}));o(b),c(!1)}catch(b){console.error("Error fetching notifications:",b),e("Failed to load notifications.","error"),c(!1)}},y=>{console.error("Snapshot error:",y),e("Error receiving real-time updates.","error"),c(!1)});return()=>x()},[s,e]);const u=async()=>{if(window.confirm("Are you sure you want to clear all notifications? This cannot be undone.")){c(!0);try{const g=Ie(re,"notifications"),y=(await Ke(g)).docs.map(b=>ua(b.ref));await Promise.all(y),e("All notifications cleared successfully! ","success")}catch(g){console.error("Error clearing notifications:",g),e("Failed to clear notifications.","error")}finally{c(!1)}}},h=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleString("en-NG",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A",f=g=>{switch(g){case"user_signup":return{icon:"bx-user-plus",color:"text-green-500"};case"product_upload":return{icon:"bx-package",color:"text-blue-500"};case"order_placed":return{icon:"bx-cart",color:"text-yellow-500"};case"payment_failed":return{icon:"bx-credit-card",color:"text-red-500"};default:return{icon:"bx-bell",color:"text-gray-500"}}};return s?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-3 sm:p-5 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-lg sm:max-w-md md:max-w-2xl lg:max-w-5xl bg-white dark:bg-gray-800 p-3 sm:p-4 md:p-6 rounded-lg sm:rounded-xl shadow-sm",children:[n.jsxs("div",{className:"flex sm:flex-row justify-between items-start sm:items-center mb-3 sm:mb-6",children:[n.jsxs("h2",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-gray-800 dark:text-gray-100 border-b-2 sm:border-b-0 border-blue-500 pb-2 sm:pb-0 flex items-center gap-1 sm:gap-2",children:[n.jsx("i",{className:"bx bx-bell text-blue-500 text-lg sm:text-xl md:text-2xl"}),"Notifications"]}),i.length>0&&n.jsxs("button",{onClick:u,disabled:l,className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm font-medium text-white bg-red-600 rounded-md sm:rounded-lg hover:bg-red-700 transition-all duration-200 shadow-md ${l?"opacity-50 cursor-not-allowed":""} mt-2 sm:mt-0`,children:[n.jsx("i",{className:"bx bx-trash text-base sm:text-lg"}),n.jsx("span",{children:"Clear All"})]})]}),l?n.jsx("div",{className:"flex justify-center items-center py-4 sm:py-6",children:n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-xl sm:text-2xl"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Loading notifications..."})]})}):i.length===0?n.jsxs("div",{className:"text-center py-6 sm:py-8",children:[n.jsx("i",{className:"bx bx-bell-off text-3xl sm:text-5xl text-gray-400 dark:text-gray-500 mb-2 sm:mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic text-sm sm:text-base",children:"No notifications found."})]}):n.jsx("ul",{className:"space-y-2 sm:space-y-4",children:i.map(g=>{const{icon:x,color:y}=f(g.type);return n.jsxs("li",{className:"p-2 sm:p-4 bg-gray-50 dark:bg-gray-700 rounded-lg sm:rounded-xl shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200 flex items-start gap-2 sm:gap-4",children:[n.jsx("i",{className:`bx ${x} text-lg sm:text-2xl ${y}`}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[n.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100 text-sm sm:text-base",children:g.message}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1 sm:mt-0",children:h(g.createdAt)})]}),g.details&&n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 mt-1 sm:mt-2",children:Object.entries(g.details).map(([b,v])=>n.jsxs("span",{children:[n.jsxs("strong",{children:[b.replace("_"," "),":"]})," ",v," ",n.jsx("br",{})]},b))})]})]},g.id)})}),n.jsx(Tle,{alerts:r,removeAlert:t})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-3 sm:p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-xl sm:text-2xl"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Loading..."})]})})]})}function Ile({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-3 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-lg`}),n.jsx("span",{className:"text-sm",children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Dle(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}const HI=(r,e)=>{const t=[r,e].filter(o=>o&&o.trim()),s=t[0]?t[0].slice(0,4).toLowerCase():"user",a=t[1]?t[1].slice(0,3).toLowerCase():"",i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return(s+a).replace(/[^a-z0-9]/g,"")+i},Mle=(r,e)=>e?e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):r?r.split("@")[0].slice(0,2).toUpperCase():"??";function Ole(){const r=gs(),{alerts:e,addAlert:t,removeAlert:s}=Dle(),[a,i]=E.useState(!1),[o,l]=E.useState(null),[c,u]=E.useState([]),[h,f]=E.useState({email:"",firstName:"",lastName:"",password:"",role:"buyer"}),[g,x]=E.useState({email:"",password:""}),[y,b]=E.useState(null),[v,N]=E.useState(null),[k,C]=E.useState({}),[R,_]=E.useState(!1),[I,P]=E.useState(!1),[T,D]=E.useState(!1),[L,F]=E.useState(!1),[z,O]=E.useState("");E.useEffect(()=>{const se=ke.onAuthStateChanged(async xe=>{if(xe){l(xe);const Ee=await Je(Ce(re,"users",xe.uid));(!Ee.exists()||Ee.data().role!=="admin")&&t("Unauthorized access.","error")}else t("Please log in as an admin.","error")}),ge=bs(Ie(re,"users"),xe=>{const Ee=xe.docs.map($e=>{const rt=$e.data();return{id:$e.id,...rt,role:rt.role||"buyer",status:rt.status||"active",profileImage:rt.profileImage||null}});u(Ee)});return()=>{se(),ge()}},[r]);const V=async se=>{const ge=Ie(re,"products"),xe=mt(ge,nt("sellerId","==",se));return bs(xe,$e=>{const rt=$e.docs.map(be=>{const Ve=be.data();return{id:be.id,name:Ve.name||"Unnamed Product",imageUrl:Ve.imageUrl||null,price:Ve.price||0,description:Ve.description||"No description available",category:Ve.category||"Uncategorized"}});b(be=>be?{...be,products:rt}:null)})};E.useEffect(()=>{const se=ge=>{ge.key==="Escape"&&(R||I)&&(_(!1),P(!1))};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},[R,I]);const H=se=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(se),B=se=>se&&se.length<6?"Password must be at least 6 characters.":"",q=(se,ge)=>{f(xe=>({...xe,[se]:ge})),C(xe=>({...xe,[se]:""}))},ee=(se,ge)=>{x(xe=>({...xe,[se]:ge})),C(xe=>({...xe,[se]:""}))},G=(se,ge)=>{N(xe=>({...xe,[se]:ge})),C(xe=>({...xe,[se]:""}))},$=se=>{const ge={};if(se.firstName?.trim()||(ge.firstName="First name is required."),se.lastName?.trim()||(ge.lastName="Last name is required."),se.email?H(se.email)||(ge.email="Please enter a valid email address."):ge.email="Email is required.",se.password){const xe=B(se.password);xe&&(ge.password=xe)}return["buyer","seller","pro seller","admin"].includes(se.role)||(ge.role="Invalid role selected."),ge},Q=se=>{const ge={};return se.email?H(se.email)||(ge.email="Please enter a valid email address."):ge.email="Email is required.",se.password?B(se.password)&&(ge.password=B(se.password)):ge.password="Password is required.",ge},te=async se=>{se.preventDefault(),C({}),i(!0);const ge=$(h);if(Object.keys(ge).length>0){C(ge),i(!1),t("Please fix the form errors.","error");return}try{const xe=HI(h.firstName,h.lastName),$e=(await j0(ke,h.email,h.password)).user;await _f($e,{displayName:xe});const rt={email:h.email,name:`${h.firstName} ${h.lastName}`,username:xe,role:h.role||"buyer",status:"active",preRegistered:!0,createdAt:new Date().toISOString(),uid:$e.uid,profileImage:null};await Xt(Ce(re,"users",$e.uid),rt),t(`User ${h.email} added successfully! `,"success"),f({email:"",firstName:"",lastName:"",password:"",role:"buyer"}),D(!1)}catch(xe){console.error("Error adding user:",xe),xe.code==="auth/email-already-in-use"?C({email:"This email is already in use."}):xe.code==="auth/invalid-email"?C({email:"Invalid email format."}):xe.code==="auth/wrong-password"?C({password:"Invalid password."}):t("Failed to add user.","error")}finally{i(!1)}},ne=async se=>{se.preventDefault(),C({}),i(!0);const ge=Q(g);if(Object.keys(ge).length>0){C(ge),i(!1),t("Please fix the form errors.","error");return}try{const Ee=(await j0(ke,g.email,g.password)).user,$e=g.email.split("@")[0];await _f(Ee,{displayName:$e}),await Xt(Ce(re,"users",Ee.uid),{email:g.email,name:$e,username:$e,role:"admin",status:"active",preRegistered:!0,createdAt:new Date().toISOString(),uid:Ee.uid,profileImage:null}),await Xt(Ce(Ie(re,"admins"),Ee.uid),{email:g.email,uid:Ee.uid,createdAt:new Date().toISOString()}),t(`Admin ${g.email} added successfully! `,"success"),x({email:"",password:""}),F(!1)}catch(xe){console.error("Error adding admin:",xe),xe.code==="auth/email-already-in-use"?C({email:"This email is already in use."}):t("Failed to add admin.","error")}finally{i(!1)}},ce=async se=>{se.preventDefault(),C({}),i(!0);const ge=$(v);if(Object.keys(ge).length>0){C(ge),i(!1),t("Please fix the form errors.","error");return}try{const xe=v.username||HI(v.firstName,v.lastName),Ee=Ce(re,"users",v.id);await aa(Ee,{email:v.email,name:`${v.firstName} ${v.lastName}`,username:xe,role:v.role,updatedAt:new Date().toISOString()}),v.password&&(await v3(ke,v.email),t(`Password reset email sent to ${v.email}! `,"success")),t(`User ${v.email} updated successfully! `,"success"),P(!1),N(null)}catch(xe){console.error("Error updating user:",xe),t("Failed to update user.","error")}finally{i(!1)}},Re=async(se,ge,xe)=>{if(window.confirm(`Are you sure you want to ${xe==="suspended"?"unsuspend":"suspend"} ${ge}?`)){i(!0);try{const Ee=Ce(re,"users",se);await aa(Ee,{status:xe==="suspended"?"active":"suspended",updatedAt:new Date().toISOString()}),t(`User ${ge} ${xe==="suspended"?"unsuspended":"suspended"} successfully!`,"success")}catch(Ee){console.error("Error suspending/unsuspending user:",Ee),t("Failed to update user status.","error")}finally{i(!1)}}},de=async(se,ge)=>{if(window.confirm(`Are you sure you want to delete ${ge}? This cannot be undone.`)){i(!0);try{await fetch("/send-membership-revoked-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:ge})});const xe=Ce(re,"users",se);await ua(xe),t(`User ${ge} deleted successfully!`,"success")}catch(xe){console.error("Error deleting user or sending email:",xe),t("Failed to delete user or send email.","error")}finally{i(!1)}}},Me=async se=>{i(!0);try{const ge=await Je(Ce(re,"users",se.id));if(ge.exists()){const xe=ge.data(),Ee=await V(se.id);b({...se,...xe,unsubscribe:Ee})}_(!0)}catch(ge){console.error("Error fetching user details:",ge),t("Failed to fetch user details.","error")}finally{i(!1)}},ue=se=>{N({id:se.id,email:se.email,firstName:se.name.split(" ")[0],lastName:se.name.split(" ").slice(1).join(" ")||"",username:se.username,role:se.role,password:""}),P(!0)},X=c.filter(se=>(se.email?.toLowerCase()||"").includes(z.toLowerCase())||(se.name?.toLowerCase()||"").includes(z.toLowerCase()));return o?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 sm:p-6",children:n.jsxs("div",{className:"w-full max-w-5xl mx-auto",children:[n.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-4 sm:mb-6 border-b-2 border-blue-500 pb-2 sm:pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-user text-blue-500 text-lg sm:text-xl"}),"Manage Users"]}),n.jsx("div",{className:"mb-4 sm:mb-6",children:n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 mb-1",children:["Search Users",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Search by email or name"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm sm:text-base"}),n.jsx("input",{type:"text",value:z,onChange:se=>O(se.target.value),placeholder:"Search by email or name...",className:"w-full py-2 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200"})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md mb-4 sm:mb-8",children:[n.jsx("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>D(!T),children:n.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[n.jsx("i",{className:`bx bx-chevron-${T?"up":"down"} text-blue-500 text-lg sm:text-xl`}),"Add New User"]})}),T&&n.jsx("div",{className:"mt-4 animate-slide-down",children:n.jsxs("form",{onSubmit:te,className:"space-y-4",children:[n.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["First Name ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"User's first name"})]}),n.jsx("input",{type:"text",value:h.firstName,onChange:se=>q("firstName",se.target.value),placeholder:"John",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.firstName?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.firstName&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.firstName]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Last Name ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"User's last name"})]}),n.jsx("input",{type:"text",value:h.lastName,onChange:se=>q("lastName",se.target.value),placeholder:"Doe",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.lastName?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.lastName&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.lastName]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"User's email address"})]}),n.jsx("input",{type:"email",value:h.email,onChange:se=>q("email",se.target.value),placeholder:"john.doe@example.com",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.email&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.email]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Password ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Password (min 6 characters)"})]}),n.jsx("input",{type:"password",value:h.password,onChange:se=>q("password",se.target.value),placeholder:"Enter password",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.password&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.password]})]}),n.jsxs("div",{className:"relative group sm:col-span-2",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Role ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Select user role"})]}),n.jsxs("select",{value:h.role,onChange:se=>q("role",se.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.role?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a,children:[n.jsx("option",{value:"buyer",children:"Buyer"}),n.jsx("option",{value:"seller",children:"Seller"}),n.jsx("option",{value:"pro seller",children:"Pro Seller"}),n.jsx("option",{value:"admin",children:"Admin"})]}),k.role&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.role]})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",disabled:a,className:"py-2 px-4 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-sm",children:[a?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-plus"}),a?"Adding...":"Add User"]})})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md mb-4 sm:mb-8",children:[n.jsx("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>F(!L),children:n.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[n.jsx("i",{className:`bx bx-chevron-${L?"up":"down"} text-blue-500 text-lg sm:text-xl`}),"Add New Admin"]})}),L&&n.jsx("div",{className:"mt-4 animate-slide-down",children:n.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[n.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Admin's email address"})]}),n.jsx("input",{type:"email",value:g.email,onChange:se=>ee("email",se.target.value),placeholder:"admin@example.com",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.email&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.email]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Password ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Password (min 6 characters)"})]}),n.jsx("input",{type:"password",value:g.password,onChange:se=>ee("password",se.target.value),placeholder:"Enter password",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.password&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),k.password]})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",disabled:a,className:"py-2 px-4 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-sm",children:[a?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-plus"}),a?"Adding...":"Add Admin"]})})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md",children:[n.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-700 dark:text-gray-200 mb-2 sm:mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-list-ul text-blue-500 text-lg sm:text-xl"}),"All Users"]}),X.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic text-sm",children:"No users found."}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:X.map(se=>{const ge=se.role==="buyer"?"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300":se.role==="seller"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":se.role==="pro seller"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":se.role==="admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300":"bg-gray-100 text-gray-700",xe=se.profileImage||null,Ee=Mle(se.email,se.name);return n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>Me(se),children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[xe?n.jsx("img",{src:xe,alt:se.name,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm font-medium",children:Ee}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 truncate",children:se.name}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:["Email: ",se.email]})]})]}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ge}`,children:se.role}),n.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[n.jsxs("button",{onClick:$e=>{$e.stopPropagation(),Re(se.id,se.email,se.status)},className:"text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300 flex items-center gap-1 text-xs",disabled:a||se.status==="suspended",children:[n.jsx("i",{className:"bx bx-block"}),se.status==="suspended"?"Unsuspend":"Suspend"]}),n.jsxs("button",{onClick:$e=>{$e.stopPropagation(),de(se.id,se.email)},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 flex items-center gap-1 text-xs",disabled:a,children:[n.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]},se.id)})})]}),R&&y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200",children:"User Details"}),n.jsx("button",{onClick:()=>{_(!1),y.unsubscribe&&y.unsubscribe()},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xl",children:n.jsx("i",{className:"bx bx-x"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",y.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",y.email]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Username:"})," ",y.username]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Role:"})," ",y.role]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Products:"}),y.products&&y.products.length>0?n.jsx("ul",{className:"mt-2 space-y-4",children:y.products.map(se=>n.jsx("li",{className:"border-b border-gray-200 dark:border-gray-700 pb-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[se.imageUrl?n.jsx("img",{src:se.imageUrl,alt:se.name,className:"w-16 h-16 object-cover rounded"}):n.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-sm font-medium text-gray-600 dark:text-gray-400",children:"No Image"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-200",children:se.name}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Price: ",se.price?.toLocaleString("en-NG")||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Category: ",se.category]})]})]})},se.id))}):n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No products uploaded."})]})]}),n.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[n.jsx("button",{onClick:()=>{_(!1),ue(y),y.unsubscribe&&y.unsubscribe()},className:"py-2 px-3 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Edit"}),n.jsx("button",{onClick:()=>{_(!1),y.unsubscribe&&y.unsubscribe()},className:"py-2 px-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})]})]})}),I&&v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200",children:"Edit User"}),n.jsx("button",{onClick:()=>P(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xl",children:n.jsx("i",{className:"bx bx-x"})})]}),n.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["First Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:v.firstName,onChange:se=>G("firstName",se.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.firstName?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a}),k.firstName&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.firstName})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Last Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:v.lastName,onChange:se=>G("lastName",se.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.lastName?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a}),k.lastName&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.lastName})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",value:v.email,onChange:se=>G("email",se.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a}),k.email&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.email})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username"}),n.jsx("input",{type:"text",value:v.username,onChange:se=>G("username",se.target.value),className:"mt-1 w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",disabled:a})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Password (optional)"}),n.jsx("input",{type:"password",value:v.password,onChange:se=>G("password",se.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a}),k.password&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.password})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Role ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:v.role,onChange:se=>G("role",se.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.role?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a,children:[n.jsx("option",{value:"buyer",children:"Buyer"}),n.jsx("option",{value:"seller",children:"Seller"}),n.jsx("option",{value:"pro seller",children:"Pro Seller"}),n.jsx("option",{value:"admin",children:"Admin"})]}),k.role&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.role})]}),n.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[n.jsx("button",{type:"button",onClick:()=>P(!1),className:"py-2 px-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:a,className:"py-2 px-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:a?"Updating...":"Update User"})]})]})]})}),n.jsx(Ile,{alerts:e,removeAlert:s})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 sm:p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-xl sm:text-2xl"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Loading..."})]})})]})}function Lle({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg ${t.type==="error"?"bg-red-600":"bg-green-600"} text-white flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Fle(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="success")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}function Ule(){const{alerts:r,addAlert:e,removeAlert:t}=Fle(),s=gs(),[a,i]=E.useState([]),[o,l]=E.useState([]),[c,u]=E.useState(""),[h,f]=E.useState(!1),g=E.useCallback(kd(b=>{u(b)},300),[]),x=b=>{g(b.target.value)},y=async(b,v,N)=>{f(!0);try{console.log("Attempting approval for transactionId:",b,"sellerId:",v,"amount:",N);const C=await Zt.post("https://foremade-backend.onrender.com/approve-payout",{transactionId:b,sellerId:v,amount:N},{timeout:15e3});console.log("Approval response:",C.data),C.data.status==="redirect"?window.location.href=C.data.redirectUrl:e(C.data.message||"Payout approved successfully","success")}catch(k){console.error("Approval error details:",k.response?.data||k.message);let C=k.response?.data?.error||"Approval failed. Please check your Paystack balance.";const R=k.response?.data?.details;R&&typeof R=="object"&&(R.pendingBalance!==void 0&&R.amount!==void 0?C=`Insufficient pending balance: Available ${R.pendingBalance}, Requested ${R.amount}`:C=Object.entries(R).map(([_,I])=>`${_}: ${I}`).join(", ")),e(C,"error")}finally{f(!1)}};return E.useEffect(()=>{const b=C=>{if(!C){e("Please log in.","error"),s("/login");return}},v=ke.onAuthStateChanged(b);if(!ke.currentUser){b(null);return}const N=mt(Ie(re,"transactions"),nt("status","==","Pending"),nt("type","==","Withdrawal")),k=bs(N,async C=>{const R=[];for(const _ of C.docs){const I={id:_.id,..._.data()};if(I.id=String(I.id||"N/A"),I.sellerId=String(I.sellerId||"N/A"),!I.sellerId||I.sellerId==="N/A"||!/^[a-zA-Z0-9]+$/.test(I.sellerId)){console.warn(`Invalid sellerId for transaction ${I.id}: ${I.sellerId}`),I.sellerName="Unknown",I.bankName="N/A",I.accountNumber="N/A",R.push(I);continue}const P=Ce(re,"sellers",I.sellerId);try{const T=await Je(P);if(T.exists()){const D=T.data();if(I.sellerName=String(D.fullName||"Unknown"),I.accountNumber=String(D.accountNumber||"N/A"),D.bankCode){const L=Ce(re,"banks",D.bankCode),F=await Je(L);I.bankName=String(F.exists()&&F.data().name||"N/A")}else I.bankName="N/A"}else console.warn(`Seller document not found for sellerId: ${I.sellerId}`),I.sellerName="Unknown",I.bankName="N/A",I.accountNumber="N/A"}catch(T){console.error(`Failed to fetch seller or bank data for ${I.sellerId}:`,T),I.sellerName="Unknown",I.bankName="N/A",I.accountNumber="N/A"}R.push(I)}if(console.log("Fetched transaction data:",R),i(R),!c.trim())l(R);else{const _=c.toLowerCase().trim();l(R.filter(I=>[I.id,I.sellerId,I.sellerName].some(T=>!T||typeof T!="string"?!1:T.toLowerCase()===_||T.toLowerCase().includes(_))))}},C=>{e("Failed to fetch transactions.","error"),console.error("Firestore listener error:",C)});return()=>{v(),k&&k()}},[s,c]),n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx(Xe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[n.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 flex items-center gap-2",children:"Admin Payout Monitor"})}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search by Transaction ID, Seller ID, or Seller Name...",onChange:x,className:"w-full p-3 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]})}),o.length===0?n.jsx(Xe.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No pending payout requests."}):n.jsx(Xe.div,{className:"grid gap-4 lg:grid-cols-2",children:n.jsx(Ua,{children:o.map((b,v)=>n.jsxs(Xe.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3,delay:v*.1},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",b.id||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",b.sellerId||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller Name:"})," ",b.sellerName||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Status:"})," ",n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${b.status==="Pending"?"bg-yellow-100 text-yellow-800":b.status==="Approved"?"bg-green-100 text-green-800":b.status==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:b.status||"N/A"})]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Amount:"})," ",b.country==="United Kingdom"?"":"",b.amount?.toFixed(2)||"0.00"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Bank Name:"})," ",b.bankName||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Account Number:"})," ",b.accountNumber||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Country:"})," ",b.country||"N/A"]})]})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",b.createdAt?.toDate?new Date(b.createdAt.toDate()).toLocaleString():"N/A"]}),b.status==="Failed"&&b.failureReason&&n.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Reason:"})," ",b.failureReason]}),n.jsx("div",{className:"mt-4 flex gap-2",children:n.jsxs("button",{onClick:()=>y(b.id,b.sellerId,b.amount),disabled:h||b.status!=="Pending"||b.sellerId==="N/A",className:`px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center gap-2 ${h||b.status!=="Pending"||b.sellerId==="N/A"?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("i",{className:"bx bx-check"}),"Approve"]})})]},b.id||`txn-${v}`))})}),n.jsx(Lle,{alerts:r,removeAlert:t})]})})]})}function zle(){const[r,e]=E.useState([]),[t,s]=E.useState({Fashion:[],Gadgets:[]}),[a,i]=E.useState(""),[o,l]=E.useState("All"),[c,u]=E.useState([]),[h,f]=E.useState(!0);E.useEffect(()=>{(async()=>{try{const v=mt(Ie(re,"products"),nt("status","==","approved")),k=(await Ke(v)).docs.map(I=>({id:I.id,...I.data()})),C=new Set(k.map(I=>I.category||"Other"));u(["All",...C]);const R=await Ke(Ie(re,"trendingItems")),_={Fashion:[],Gadgets:[]};R.forEach(I=>{const P=I.data();if(P.category==="Fashion"||P.category==="Gadgets"){const T=k.find(D=>D.id===P.productId);_[P.category].push({id:I.id,...P,productName:T?.name||"Unknown Product"})}}),s(_),e(k)}catch(v){console.error("Error loading data:",v),je.error("Failed to load products or trending items.")}finally{f(!1)}})()},[]);const g=async(b,v)=>{if(t[v].length>=10){je.error(`Cannot add more to trending ${v}. Maximum 10 items reached.`);return}try{const N=Ce(Ie(re,"trendingItems"));await Xt(N,{productId:b,category:v,addedAt:new Date});const k=r.find(C=>C.id===b);s({...t,[v]:[...t[v],{id:N.id,productId:b,productName:k.name}]}),je.success(`Added to trending ${v}!`)}catch(N){console.error("Error adding trending item:",N),je.error("Failed to add trending item.")}},x=async(b,v)=>{try{await ua(Ce(re,"trendingItems",b)),s({...t,[v]:t[v].filter(N=>N.id!==b)}),je.success("Removed from trending items!")}catch(N){console.error("Error removing trending item:",N),je.error("Failed to remove trending item.")}},y=r.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())&&(o==="All"||b.category===o));return h?n.jsx("div",{className:"py-4 xs:py-6",children:n.jsx("div",{className:"container mx-auto px-2 xs:px-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 xs:p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((b,v)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},v))})]})})}):n.jsx("div",{className:"py-4 xs:py-6",children:n.jsxs("div",{className:"container mx-auto px-2 xs:px-4",children:[n.jsxs("h1",{className:"text-xl xs:text-2xl font-bold text-gray-800 mb-4 xs:mb-6 flex items-center",children:[n.jsx("i",{className:"bx bx-trending-up text-blue-600 mr-2 text-2xl"}),"Edit Trending Items"]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 xs:gap-4 mb-4 xs:mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx("input",{type:"text",placeholder:"Search products...",value:a,onChange:b=>i(b.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all","aria-label":"Search products"}),n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-lg"})]}),n.jsxs("div",{className:"relative flex-1",children:[n.jsx("select",{value:o,onChange:b=>l(b.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all appearance-none","aria-label":"Filter by category",children:c.map(b=>n.jsx("option",{value:b,children:b},b))}),n.jsx("i",{className:"bx bx-filter absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-lg"})]})]}),["Fashion","Gadgets"].map(b=>n.jsxs("div",{className:"mb-6 xs:mb-8 bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"sticky top-0 bg-white z-10 p-4 xs:p-6 border-b border-gray-100",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx("i",{className:"bx bx-star text-blue-600 mr-2 text-xl"}),"Trending in ",b]})}),n.jsxs("div",{className:"p-4 xs:p-6",children:[n.jsxs("div",{className:"mb-4 xs:mb-6",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Current Trending Products"}),t[b].length===0?n.jsxs("p",{className:"text-gray-500 text-sm flex items-center",children:[n.jsx("i",{className:"bx bx-list-ul mr-1 text-gray-400"}),"No trending products selected for ",b,"."]}):n.jsx("ul",{className:"space-y-2 animate-fadeIn",children:t[b].map(v=>n.jsxs("li",{className:"flex items-center justify-between p-2 rounded-md hover:bg-gray-50 transition-colors",children:[n.jsx("span",{className:"text-sm text-gray-800",children:v.productName}),n.jsx("button",{onClick:()=>x(v.id,b),className:"text-red-500 hover:text-red-600 transform hover:scale-110 transition-transform","aria-label":`Remove ${v.productName} from trending ${b}`,children:n.jsx("i",{className:"bx bx-trash text-lg"})})]},v.id))})]}),n.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Add Products"}),y.length===0?n.jsxs("p",{className:"text-gray-500 text-sm flex items-center",children:[n.jsx("i",{className:"bx bx-search-alt-2 mr-1 text-gray-400"}),"No products match your search or filter."]}):n.jsx("ul",{className:"space-y-2 max-h-80 overflow-y-auto animate-fadeIn",children:y.map(v=>n.jsxs("li",{className:"flex items-center justify-between p-2 rounded-md hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[v.imageUrls?.[0]&&n.jsx("img",{src:v.imageUrls[0],alt:v.name,className:"w-10 h-10 object-cover rounded"}),n.jsx("span",{className:"text-sm text-gray-800",children:v.name})]}),n.jsx("button",{onClick:()=>g(v.id,b),className:`text-blue-600 hover:text-blue-500 text-sm transform hover:scale-110 transition-transform ${t[b].some(N=>N.productId===v.id)?"opacity-50 cursor-not-allowed":""}`,disabled:t[b].some(N=>N.productId===v.id),"aria-label":`Add ${v.name} to trending ${b}`,children:n.jsx("i",{className:"bx bx-plus text-lg"})})]},v.id))})]})]},b))]})})}function Vle({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Ble(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function Hle(){const{alerts:r,addAlert:e,removeAlert:t}=Ble(),[s,a]=E.useState([]),[i,o]=E.useState({id:"",desktop:"",tablet:"",mobile:""}),[l,c]=E.useState(!1),[u,h]=E.useState({desktop:!1,tablet:!1,mobile:!1}),[f,g]=E.useState({desktop:0,tablet:0,mobile:0}),[x,y]=E.useState(!0),[b,v]=E.useState(!0);E.useEffect(()=>{(async()=>{try{y(!0);const F=(await Ke(Ie(re,"carouselSlides"))).docs.map(z=>({id:z.id,...z.data()}));a(F),e("Slides loaded successfully!","success")}catch(L){console.error("Error fetching slides:",L),e("Failed to load slides.","error")}finally{y(!1)}})()},[]);const N=D=>{const{name:L,value:F}=D.target;o(z=>({...z,[L]:F}))},k=async(D,L)=>{const F=D.target.files[0];if(!F)return;if(!["image/gif","video/mp4","video/webm","image/jpeg","image/png"].includes(F.type)){e(`Invalid file type for ${L}. Use GIF, MP4, WebM, JPEG, or PNG.`,"error");return}const O=F.type.startsWith("video")?50*1024*1024:10*1024*1024;if(F.size>O){e(`File too large for ${L}. Max size is ${F.type.startsWith("video")?"50MB":"10MB"}.`,"error");return}h(V=>({...V,[L]:!0})),g(V=>({...V,[L]:0}));try{const V=new FormData;V.append("file",F),V.append("isVideo",F.type.startsWith("video").toString());const B=await Zt.post("https://foremade-backend.onrender.com/upload",V,{headers:{"Content-Type":"multipart/form-data"},timeout:12e4,onUploadProgress:q=>{const ee=Math.round(q.loaded*100/q.total);g(G=>({...G,[L]:ee}))}});if(B.status!==200||!B.data.url)throw new Error("Failed to upload media to Cloudinary.");o(q=>({...q,[L]:B.data.url})),e(`${L} media uploaded!`,"success")}catch(V){console.error("Media upload error:",{message:V.message,code:V.code,response:V.response?.data}),e(V.code==="ECONNABORTED"?"Upload timed out. Please check your network.":V.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network.":`Failed to upload ${L} media.`,"error")}finally{h(V=>({...V,[L]:!1})),g(V=>({...V,[L]:0}))}},C=D=>D?D.match(/\.(mp4|webm)$/i)?n.jsx("video",{src:D,controls:!0,className:"mt-2 h-20 w-auto rounded shadow-sm",title:"Video preview"}):n.jsx("img",{src:D,alt:"Media preview",className:"mt-2 h-20 w-auto rounded shadow-sm"}):null,R=async D=>{if(D.preventDefault(),!i.desktop||!i.tablet||!i.mobile){e("All media fields are required.","error");return}try{y(!0);const L=l?i.id:`slide-${Date.now()}`;await Xt(Ce(re,"carouselSlides",L),{desktop:i.desktop,tablet:i.tablet,mobile:i.mobile,createdAt:new Date().toISOString()}),e(l?"Slide updated successfully! ":"Slide added successfully! ","success"),a(F=>l?F.map(z=>z.id===L?{id:L,...i}:z):[...F,{id:L,...i}]),P()}catch(L){console.error("Error saving slide:",L),e("Failed to save slide.","error")}finally{y(!1)}},_=D=>{o(D),c(!0),v(!0)},I=async D=>{if(confirm("Delete this slide?"))try{y(!0),await ua(Ce(re,"carouselSlides",D)),a(L=>L.filter(F=>F.id!==D)),e("Slide deleted successfully!","success")}catch(L){console.error("Error deleting slide:",L),e("Failed to delete slide.","error")}finally{y(!1)}},P=()=>{o({id:"",desktop:"",tablet:"",mobile:""}),c(!1)},T=()=>{v(D=>!D)};return x?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-image text-blue-500"}),"Manage Carousel Banners"]}),n.jsxs("div",{className:"p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200",children:[n.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:T,children:[n.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx("i",{className:`bx bx-chevron-${b?"up":"down"} text-blue-500`}),l?"Edit Slide":"Add New Slide"]}),l&&n.jsxs("button",{onClick:D=>{D.stopPropagation(),P()},className:"text-gray-600 hover:text-gray-800 dark:hover:text-gray-400 text-sm flex items-center gap-1",title:"Cancel editing",children:[n.jsx("i",{className:"bx bx-x"}),"Cancel"]})]}),b&&n.jsxs("form",{onSubmit:R,className:"mt-4 ml-4 space-y-4 animate-slide-down",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["desktop","tablet","mobile"].map(D=>n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[`${D.charAt(0).toUpperCase()+D.slice(1)} Media`,n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:`Upload an image, GIF, or short video optimized for ${D} devices (GIF 10MB, Videos 50MB)`})]}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"text",name:D,value:i[D],onChange:N,placeholder:"Enter media URL or upload below",className:"mt-1 w-full py-2 pl-3 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:u[D]})}),n.jsx("input",{type:"file",accept:"image/*,video/mp4,video/webm",onChange:L=>k(L,D),className:"mt-2 w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",disabled:u[D]}),u[D]&&n.jsxs("div",{className:"mt-2",children:[n.jsxs("p",{className:"text-sm text-gray-500",children:["Uploading... ",f[D],"%"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${f[D]}%`}})})]}),C(i[D])]},D))}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs("button",{type:"submit",disabled:u.desktop||u.tablet||u.mobile||x,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-sm",children:[x?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-save"}),x?"Saving...":l?"Update Slide":"Add Slide"]})})]})]}),n.jsxs("div",{className:"mt-6 p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-list-ul text-blue-500"}),"Current Slides"]}),s.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic",children:"No slides available."}):n.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(D=>n.jsxs("li",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all duration-200",children:[C(D.desktop),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Slide ",D.id.split("-")[1]]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>_(D),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 text-sm",title:"Edit slide",children:[n.jsx("i",{className:"bx bx-edit"}),"Edit"]}),n.jsxs("button",{onClick:()=>I(D.id),className:"text-red-600 hover:text-red-800 flex items-center gap-1 text-sm",title:"Delete slide",children:[n.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]})]},D.id))})]}),n.jsx(zle,{}),n.jsx(Vle,{alerts:r,removeAlert:t})]})})]})}function $le({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Wle(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>{e(i=>i.filter(o=>o.id!==a))}}}function Yle(){const{alerts:r,addAlert:e,removeAlert:t}=Wle(),[s,a]=E.useState([]),[i,o]=E.useState([]),[l,c]=E.useState({id:"",productId:"",discount:"",startDate:"",endDate:""}),[u,h]=E.useState(!1),[f,g]=E.useState(!0),[x,y]=E.useState(!0),[b,v]=E.useState({});E.useEffect(()=>{(async()=>{try{g(!0);const F=(await Ke(Ie(re,"products"))).docs.map(V=>({id:V.id,...V.data()})).filter(V=>V.status==="approved");o(F);const O=(await Ke(Ie(re,"dailyDeals"))).docs.map(V=>({id:V.id,...V.data()}));a(O),e("Data loaded successfully!","success")}catch(L){console.error("Error fetching data:",L),e("Failed to load products or deals.","error")}finally{g(!1)}})()},[]);const N=D=>{const{name:L,value:F}=D.target;c(z=>({...z,[L]:F})),v(z=>({...z,[L]:""}))},k=()=>{const D={};return l.productId||(D.productId="Please select a product."),(!l.discount||l.discount<0||l.discount>100)&&(D.discount="Discount must be between 0 and 100%."),l.startDate||(D.startDate="Start date is required."),l.endDate||(D.endDate="End date is required."),l.startDate&&l.endDate&&l.startDate>l.endDate&&(D.endDate="End date must be after start date."),D},C=async D=>{D.preventDefault();const L=k();if(Object.keys(L).length>0){v(L),e("Please fix form errors.","error");return}try{g(!0);const F=u?l.id:`deal-${Date.now()}`,z={productId:l.productId,discount:parseFloat(l.discount)/100,startDate:l.startDate,endDate:l.endDate,createdAt:new Date().toISOString()};await Xt(Ce(re,"dailyDeals",F),z),e(u?"Deal updated successfully! ":"Deal added successfully! ","success"),a(O=>u?O.map(V=>V.id===F?{id:F,...z}:V):[...O,{id:F,...z}]),I()}catch(F){console.error("Error saving deal:",F),e("Failed to save deal.","error")}finally{g(!1)}},R=D=>{c({id:D.id,productId:D.productId,discount:(D.discount*100).toString(),startDate:D.startDate,endDate:D.endDate}),h(!0),y(!0)},_=async D=>{if(confirm("Delete this deal?"))try{g(!0),await ua(Ce(re,"dailyDeals",D)),a(L=>L.filter(F=>F.id!==D)),e("Deal deleted successfully!","success")}catch(L){console.error("Error deleting deal:",L),e("Failed to delete deal.","error")}finally{g(!1)}},I=()=>{c({id:"",productId:"",discount:"",startDate:"",endDate:""}),h(!1),v({})},P=()=>{y(D=>!D)},T=D=>i.find(L=>L.id===D)||{};return f?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-purchase-tag text-blue-500"}),"Manage Daily Deals"]}),n.jsxs("div",{className:"p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200",children:[n.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:P,children:[n.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx("i",{className:`bx bx-chevron-${x?"up":"down"} text-blue-500`}),u?"Edit Deal":"Add New Deal"]}),u&&n.jsxs("button",{onClick:D=>{D.stopPropagation(),I()},className:"text-gray-600 hover:text-gray-800 dark:hover:text-gray-400 text-sm flex items-center gap-1",title:"Cancel editing",children:[n.jsx("i",{className:"bx bx-x"}),"Cancel"]})]}),x&&n.jsxs("form",{onSubmit:C,className:"mt-4 ml-4 space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select a product for the deal"})]}),n.jsxs("select",{name:"productId",value:l.productId,onChange:N,className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${b.productId?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,children:[n.jsx("option",{value:"",children:"Select a product"}),i.map(D=>n.jsx("option",{value:D.id,children:D.name||"Unnamed Product"},D.id))]}),b.productId&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),b.productId]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Discount (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Discount percentage for the deal"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",name:"discount",value:l.discount,onChange:N,min:"0",max:"100",step:"0.01",placeholder:"20",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${b.discount?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),b.discount&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),b.discount]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Start Date",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"When the deal starts"})]}),n.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:N,className:`mt-1 w-full py-2 pl-3 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${b.startDate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),b.startDate&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),b.startDate]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["End Date",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"When the deal ends"})]}),n.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:N,className:`mt-1 w-full py-2 pl-3 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${b.endDate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),b.endDate&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),b.endDate]})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs("button",{type:"submit",disabled:f,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-sm",children:[f?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-save"}),f?"Saving...":u?"Update Deal":"Add Deal"]})})]})]}),n.jsxs("div",{className:"mt-6 p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-list-ul text-blue-500"}),"Current Daily Deals"]}),s.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic",children:"No deals available."}):n.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(D=>{const L=T(D.productId);return n.jsxs("li",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all duration-200",children:[n.jsx("img",{src:L.imageUrls?.[0]||"/images/placeholder.jpg",alt:L.name||"Product",className:"h-32 w-full object-cover rounded-lg mb-2"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:L.name||"Unnamed Product"}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Discount: ",(D.discount*100).toFixed(2),"%"]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:[D.startDate," to ",D.endDate]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-2",children:[n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Deal ",D.id.split("-")[1]]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>R(D),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 text-sm",title:"Edit deal",children:[n.jsx("i",{className:"bx bx-edit"}),"Edit"]}),n.jsxs("button",{onClick:()=>_(D.id),className:"text-red-600 hover:text-red-800 flex items-center gap-1 text-sm",title:"Delete deal",children:[n.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]})]},D.id)})})]}),n.jsx($le,{alerts:r,removeAlert:t})]})})]})}function qle({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Xle(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}function Gle({label:r="Minimum Purchase Amount",currencySymbol:e="",firestorePath:t="settings/minimumPurchase",defaultValue:s=25e3}){const{alerts:a,addAlert:i,removeAlert:o}=Xle(),l=gs(),[c,u]=E.useState(s),[h,f]=E.useState(!0),[g,x]=E.useState(!1);E.useEffect(()=>{if(!ke.currentUser){i("Please log in as admin.","error"),l("/login");return}(async()=>{try{const v=Ce(re,t),N=await Je(v);N.exists()&&u(N.data().amount||s)}catch(v){i(`Failed to fetch ${r.toLowerCase()}.`,"error"),console.error("Fetch error:",v)}finally{f(!1)}})()},[l,t,r,s]);const y=async()=>{if(!ke.currentUser){i("Please log in as admin.","error"),l("/login");return}if(c<=0){i(`${r} must be greater than zero.`,"error");return}x(!0);try{const b=Ce(re,t);await Xt(b,{amount:c},{merge:!0}),i(`${r} updated successfully.`,"success")}catch(b){i(`Failed to update ${r.toLowerCase()}.`,"error"),console.error("Save error:",b)}finally{x(!1)}};return h?n.jsx("div",{className:"flex-1 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})}):n.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 border-b-2 border-blue-500 pb-2 md:pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-dollar text-blue-500"}),r]}),n.jsxs("div",{className:"mt-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"minimumPurchase",className:"block text-sm md:text-base font-medium text-gray-700 dark:text-gray-300",children:[r," (",e,")"]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:e}),n.jsx("input",{type:"number",id:"minimumPurchase",value:c,onChange:b=>u(Math.max(0,Number(b.target.value))),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",min:"0",required:!0,disabled:g})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Set the ",r.toLowerCase()," buyers must meet to proceed."]})]}),n.jsxs("button",{onClick:y,className:`w-full md:w-auto py-2 px-4 md:px-6 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 flex items-center justify-center gap-2 transition ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:[n.jsx("i",{className:"bx bx-save"}),g?"Saving...":"Save Changes"]})]}),n.jsx(qle,{alerts:a,removeAlert:o})]})}function Kle({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Qle(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}function Zle(){const{alerts:r,addAlert:e,removeAlert:t}=Qle(),[s,a]=E.useState(!0),[i,o]=E.useState({}),[l,c]=E.useState([]),[u,h]=E.useState({}),[f,g]=E.useState({});E.useEffect(()=>{(async()=>{try{a(!0);const R=(await Ke(Ie(re,"categories"))).docs.map(D=>D.id).sort();c(R);const _=Ce(re,"feeConfigurations","categoryFees"),I=await Je(_);let P={};I.exists()?P=I.data():(P=R.reduce((D,L)=>({...D,[L]:{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2,taxRate:.075}}),{}),await Xt(_,P));const T={...P};R.forEach(D=>{T[D]||(T[D]={minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2,taxRate:.075})}),o(T)}catch(C){console.error("Error fetching data:",C),e("Failed to load categories or fees.","error")}finally{a(!1)}})()},[]);const x=(k,C,R)=>{o(_=>({..._,[k]:{..._[k],[C]:C==="minPrice"||C==="maxPrice"?R===""?1/0:parseFloat(R)||0:(parseFloat(R)||0)/100}})),h(_=>({..._,[`${k}_${C}`]:""}))},y=()=>{const k={};return l.forEach(C=>{const R=i[C]||{};R.minPrice<0&&(k[`${C}_minPrice`]="Minimum price cannot be negative."),R.maxPrice!==1/0&&R.maxPrice<R.minPrice&&(k[`${C}_maxPrice`]="Maximum price must be greater than minimum price."),(R.buyerProtectionRate<0||R.buyerProtectionRate>1)&&(k[`${C}_buyerProtectionRate`]="Rate must be between 0 and 100%."),(R.handlingRate<0||R.handlingRate>1)&&(k[`${C}_handlingRate`]="Rate must be between 0 and 100%."),(R.taxRate<0||R.taxRate>1)&&(k[`${C}_taxRate`]="Tax rate must be between 0 and 100%.")}),k},b=async k=>{k.preventDefault(),h({}),a(!0);const C=y();if(Object.keys(C).length>0){h(C),a(!1),e("Please fix the form errors.","error");return}try{const R=Ce(re,"feeConfigurations","categoryFees");await Xt(R,i),e("Fees updated successfully! ","success")}catch(R){console.error("Error saving fees:",R),e("Failed to save fees.","error")}finally{a(!1)}},v=k=>{o(C=>({...C,[k]:{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2,taxRate:.075}})),h(C=>({...C,[`${k}_minPrice`]:"",[`${k}_maxPrice`]:"",[`${k}_buyerProtectionRate`]:"",[`${k}_handlingRate`]:"",[`${k}_taxRate`]:""}))},N=k=>{g(C=>({...C,[k]:!C[k]}))};return s?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[n.jsx(Gle,{label:"Set Minimum Purchase",currencySymbol:"",firestorePath:"settings/minimumPurchase",defaultValue:25e3}),n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-money text-blue-500"}),"Edit Category Fees"]}),l.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic",children:"No categories found. Add categories in Firestore to set fees."}):n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.map(k=>n.jsxs("div",{className:"p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200",children:[n.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>N(k),children:[n.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx("i",{className:`bx bx-chevron-${f[k]?"up":"down"} text-blue-500`}),k]}),n.jsxs("button",{onClick:C=>{C.stopPropagation(),v(k)},disabled:s,className:"text-gray-600 hover:text-gray-800 dark:hover:text-gray-400 text-sm flex items-center gap-1",title:"Reset fees to default",children:[n.jsx("i",{className:"bx bx-refresh"}),"Reset"]})]}),f[k]&&n.jsx("div",{className:"mt-4 ml-4 space-y-4 animate-slide-down",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Minimum Price ()",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Minimum product price for this category"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:""}),n.jsx("input",{type:"number",value:i[k]?.minPrice===1/0?"":i[k]?.minPrice||"",onChange:C=>x(k,"minPrice",C.target.value),min:"0",step:"0.01",placeholder:"1000",className:`mt-1 w-full py-2 pl-8 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${u[`${k}_minPrice`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s})]}),u[`${k}_minPrice`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),u[`${k}_minPrice`]]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Maximum Price ()",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Maximum product price (leave blank for no limit)"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:""}),n.jsx("input",{type:"number",value:i[k]?.maxPrice===1/0?"":i[k]?.maxPrice||"",onChange:C=>x(k,"maxPrice",C.target.value),min:"0",step:"0.01",placeholder:"No maximum",className:`mt-1 w-full py-2 pl-8 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${u[`${k}_maxPrice`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s})]}),u[`${k}_maxPrice`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),u[`${k}_maxPrice`]]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Buyer Protection Rate (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Fee percentage for buyer protection"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:i[k]?.buyerProtectionRate*100||"",onChange:C=>x(k,"buyerProtectionRate",C.target.value),min:"0",max:"100",step:"0.01",placeholder:"8",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${u[`${k}_buyerProtectionRate`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),u[`${k}_buyerProtectionRate`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),u[`${k}_buyerProtectionRate`]]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Handling Rate (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Fee percentage for handling"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:i[k]?.handlingRate*100||"",onChange:C=>x(k,"handlingRate",C.target.value),min:"0",max:"100",step:"0.01",placeholder:"20",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${u[`${k}_handlingRate`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),u[`${k}_handlingRate`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),u[`${k}_handlingRate`]]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Tax Rate (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Tax percentage for this category"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:i[k]?.taxRate*100||"",onChange:C=>x(k,"taxRate",C.target.value),min:"0",max:"100",step:"0.01",placeholder:"7.5",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${u[`${k}_taxRate`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),u[`${k}_taxRate`]&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),u[`${k}_taxRate`]]})]})]})})]},k)),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs("button",{type:"submit",disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-sm",children:[s?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-save"}),s?"Saving...":"Save Fees"]})})]}),n.jsx(Kle,{alerts:r,removeAlert:t})]})})]})}function Jle({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function ece(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}const Ox=async(r,e=3,t=1e3)=>{for(let s=1;s<=e;s++)try{return await r()}catch(a){if(s===e)throw a;const i=t*Math.pow(2,s-1);console.warn(`Retry ${s}/${e} after ${i}ms due to: ${a.message}`),await new Promise(o=>setTimeout(o,i))}};function tce(){const{alerts:r,addAlert:e,removeAlert:t}=ece(),[s,a]=E.useState(!0),[i,o]=E.useState([]),[l,c]=E.useState({}),[u,h]=E.useState({}),[f,g]=E.useState(""),[x,y]=E.useState(null),[b,v]=E.useState(null),[N,k]=E.useState({minPrice:"",maxPrice:"",buyerProtectionRate:"",handlingRate:"",taxRate:""}),[C,R]=E.useState({}),[_,I]=E.useState({}),[P,T]=E.useState(null),[D,L]=E.useState(null),[F,z]=E.useState({}),[O,V]=E.useState({}),[H,B]=E.useState({category:null,subcategory:null,subSubcategory:null});E.useEffect(()=>{let X=!0;return(async()=>{const ge=xe=>new Promise((Ee,$e)=>setTimeout(()=>$e(new Error(`Data fetch timed out after ${xe}ms`)),xe));try{a(!0);const Ee=(await Ox(()=>Promise.race([Ke(Ie(re,"categories")),ge(3e4)]))).docs.map(xt=>xt.id).sort();X&&o(Ee);const $e=Ee.map(xt=>Ox(()=>Promise.race([Je(Ce(re,"customSubcategories",xt)),ge(3e4)])).then(es=>({cat:xt,subcats:es.exists()?es.data().subcategories||[]:[]}))),rt=Ee.map(xt=>Ox(()=>Promise.race([Je(Ce(re,"customSubSubcategories",xt)),ge(3e4)])).then(es=>({cat:xt,subSubcats:es.exists()?es.data()||{}:{}}))),[be,Ve]=await Promise.all([Promise.all($e),Promise.all(rt)]),st=be.reduce((xt,{cat:es,subcats:Gs})=>(xt[es]=Gs,xt),{}),We=Ve.reduce((xt,{cat:es,subSubcats:Gs})=>(xt[es]=Gs,xt),{});X&&(c(st),h(We));const Ge=Ce(re,"feeConfigurations","categoryFees"),et=await Ox(()=>Promise.race([Je(Ge),ge(3e4)]));if(et.exists())X&&v(et.data());else{const xt={};await Xt(Ge,xt),X&&v(xt)}}catch(xe){X&&(console.error("Error fetching data:",xe),e(`Failed to load data: ${xe.message}`,"error"))}finally{X&&a(!1)}})(),()=>{X=!1}},[]);const q=async()=>{if(!f.trim()){z({newCategory:"Category name is required."}),e("Category name is required.","error");return}if(i.includes(f.trim())){z({newCategory:"Category already exists."}),e("Category already exists.","error");return}const X={};if(N.minPrice&&parseFloat(N.minPrice)<0&&(X.minPrice="Minimum price cannot be negative."),N.maxPrice&&parseFloat(N.maxPrice)<(parseFloat(N.minPrice)||0)&&(X.maxPrice="Maximum price must be greater than minimum price."),N.buyerProtectionRate&&(parseFloat(N.buyerProtectionRate)<0||parseFloat(N.buyerProtectionRate)>100)&&(X.buyerProtectionRate="Rate must be between 0 and 100%."),N.handlingRate&&(parseFloat(N.handlingRate)<0||parseFloat(N.handlingRate)>100)&&(X.handlingRate="Rate must be between 0 and 100%."),N.taxRate&&(parseFloat(N.taxRate)<0||parseFloat(N.taxRate)>100)&&(X.taxRate="Tax rate must be between 0 and 100%."),Object.keys(X).length>0){z(X),e("Please fix the form errors.","error");return}a(!0);try{const se=Ce(re,"categories",f.trim());await Xt(se,{name:f.trim(),createdAt:new Date});const ge=Ce(re,"feeConfigurations","categoryFees"),xe={...b,[f.trim()]:{minPrice:parseFloat(N.minPrice)||1e3,maxPrice:N.maxPrice?parseFloat(N.maxPrice):1/0,buyerProtectionRate:(parseFloat(N.buyerProtectionRate)||8)/100,handlingRate:(parseFloat(N.handlingRate)||20)/100,taxRate:(parseFloat(N.taxRate)||7.5)/100}};await Xt(ge,xe),o([...i,f.trim()].sort()),v(xe),g(""),k({minPrice:"",maxPrice:"",buyerProtectionRate:"",handlingRate:"",taxRate:""}),z({}),e("Category added successfully! ","success")}catch(se){console.error("Error adding category:",se),e("Failed to add category.","error")}finally{a(!1)}},ee=async X=>{if(!f.trim()){z({newCategory:"Category name is required."}),e("Category name is required.","error");return}if(i.includes(f.trim())&&f.trim()!==X){z({newCategory:"Category name already exists."}),e("Category name already exists.","error");return}const se={};if(N.minPrice&&parseFloat(N.minPrice)<0&&(se.minPrice="Minimum price cannot be negative."),N.maxPrice&&parseFloat(N.maxPrice)<(parseFloat(N.minPrice)||0)&&(se.maxPrice="Maximum price must be greater than minimum price."),N.buyerProtectionRate&&(parseFloat(N.buyerProtectionRate)<0||parseFloat(N.buyerProtectionRate)>100)&&(se.buyerProtectionRate="Rate must be between 0 and 100%."),N.handlingRate&&(parseFloat(N.handlingRate)<0||parseFloat(N.handlingRate)>100)&&(se.handlingRate="Rate must be between 0 and 100%."),N.taxRate&&(parseFloat(N.taxRate)<0||parseFloat(N.taxRate)>100)&&(se.taxRate="Tax rate must be between 0 and 100%."),Object.keys(se).length>0){z(se),e("Please fix the form errors.","error");return}a(!0);try{const ge=Ce(re,"categories",X),xe=Ce(re,"categories",f.trim());await Xt(xe,{name:f.trim(),createdAt:new Date}),await ua(ge);const Ee={...b};Ee[f.trim()]={minPrice:parseFloat(N.minPrice)||Ee[X].minPrice,maxPrice:N.maxPrice?parseFloat(N.maxPrice):Ee[X].maxPrice,buyerProtectionRate:(parseFloat(N.buyerProtectionRate)||Ee[X].buyerProtectionRate*100)/100,handlingRate:(parseFloat(N.handlingRate)||Ee[X].handlingRate*100)/100,taxRate:(parseFloat(N.taxRate)||Ee[X].taxRate||7.5)/100},delete Ee[X];const $e=Ce(re,"feeConfigurations","categoryFees");await Xt($e,Ee);const rt=Ce(re,"customSubcategories",X),be=await Je(rt);if(be.exists()){const We=Ce(re,"customSubcategories",f.trim());await Xt(We,be.data()),await ua(rt)}const Ve=Ce(re,"customSubSubcategories",X),st=await Je(Ve);if(st.exists()){const We=Ce(re,"customSubSubcategories",f.trim());await Xt(We,st.data()),await ua(Ve)}o(i.map(We=>We===X?f.trim():We).sort()),v(Ee),c(We=>{const Ge={...We,[f.trim()]:We[X]||[]};return delete Ge[X],Ge}),h(We=>{const Ge={...We,[f.trim()]:We[X]||{}};return delete Ge[X],Ge}),g(""),k({minPrice:"",maxPrice:"",buyerProtectionRate:"",handlingRate:"",taxRate:""}),y(null),z({}),e("Category updated successfully! ","success")}catch(ge){console.error("Error editing category:",ge),e("Failed to edit category.","error")}finally{a(!1)}},G=async X=>{a(!0);try{await ua(Ce(re,"categories",X));const se={...b};delete se[X];const ge=Ce(re,"feeConfigurations","categoryFees");await Xt(ge,se),v(se),await ua(Ce(re,"customSubcategories",X)),await ua(Ce(re,"customSubSubcategories",X)),o(i.filter(xe=>xe!==X)),c(xe=>{const Ee={...xe};return delete Ee[X],Ee}),h(xe=>{const Ee={...xe};return delete Ee[X],Ee}),e("Category deleted successfully! ","success")}catch(se){console.error("Error deleting category:",se),e("Failed to delete category.","error")}finally{a(!1)}},$=async X=>{const se=C[X]?.trim();if(!se){e("Subcategory name is required.","error");return}if(l[X]?.includes(se)){e("Subcategory already exists.","error");return}a(!0);try{const ge=Ce(re,"customSubcategories",X),xe=await Je(ge),$e=[...xe.exists()?xe.data().subcategories||[]:[],se];await Xt(ge,{subcategories:$e}),c(rt=>({...rt,[X]:$e})),R(rt=>({...rt,[X]:""})),e(`Subcategory "${se}" added! `,"success")}catch(ge){console.error("Error adding subcategory:",ge),e("Failed to add subcategory.","error")}finally{a(!1)}},Q=async(X,se)=>{const ge=C[X]?.trim();if(!ge){e("Subcategory name is required.","error");return}if(l[X]?.includes(ge)&&ge!==se){e("Subcategory name already exists.","error");return}a(!0);try{const xe=Ce(re,"customSubcategories",X),Ee=await Je(xe),rt=(Ee.exists()?Ee.data().subcategories||[]:[]).map(Ge=>Ge===se?ge:Ge);await Xt(xe,{subcategories:rt});const be=Ce(re,"customSubSubcategories",X),Ve=await Je(be),st=Ve.exists()?Ve.data()||{}:{},We=Object.fromEntries(Object.entries(st).map(([Ge,et])=>Ge===se?[ge,et]:[Ge,et]));await Xt(be,We),c(Ge=>({...Ge,[X]:rt})),h(Ge=>({...Ge,[X]:We})),R(Ge=>({...Ge,[X]:""})),T(null),e(`Subcategory "${se}" updated to "${ge}"! `,"success")}catch(xe){console.error("Error editing subcategory:",xe),e("Failed to edit subcategory.","error")}finally{a(!1)}},te=async(X,se)=>{a(!0);try{const ge=Ce(re,"customSubcategories",X),xe=await Je(ge),$e=(xe.exists()?xe.data().subcategories||[]:[]).filter(We=>We!==se);await Xt(ge,{subcategories:$e});const rt=Ce(re,"customSubSubcategories",X),be=await Je(rt),st={...be.exists()?be.data()||{}:{}};delete st[se],await Xt(rt,st),c(We=>({...We,[X]:$e})),h(We=>({...We,[X]:st})),e(`Subcategory "${se}" deleted successfully! `,"success")}catch(ge){console.error("Error deleting subcategory:",ge),e("Failed to delete subcategory.","error")}finally{a(!1)}},ne=async(X,se)=>{const ge=_[`${X}_${se}`]?.trim();if(!ge){e("Sub-subcategory name is required.","error");return}if(u[X]?.[se]?.includes(ge)){e("Sub-subcategory already exists.","error");return}a(!0);try{const xe=Ce(re,"customSubSubcategories",X),Ee=await Je(xe),$e=Ee.exists()?Ee.data()||{}:{},rt={...$e,[se]:[...$e[se]||[],ge]};await Xt(xe,rt),h(be=>({...be,[X]:rt})),I(be=>({...be,[`${X}_${se}`]:""})),e(`Sub-subcategory "${ge}" added! `,"success")}catch(xe){console.error("Error adding sub-subcategory:",xe),e("Failed to add sub-subcategory.","error")}finally{a(!1)}},ce=async(X,se,ge)=>{const xe=_[`${X}_${se}`]?.trim();if(!xe){e("Sub-subcategory name is required.","error");return}if(u[X]?.[se]?.includes(xe)&&xe!==ge){e("Sub-subcategory already exists.","error");return}a(!0);try{const Ee=Ce(re,"customSubSubcategories",X),$e=await Je(Ee),rt=$e.exists()?$e.data()||{}:{},be={...rt,[se]:rt[se].map(Ve=>Ve===ge?xe:Ve)};await Xt(Ee,be),h(Ve=>({...Ve,[X]:be})),I(Ve=>({...Ve,[`${X}_${se}`]:""})),L(null),e(`Sub-subcategory "${ge}" updated to "${xe}"! `,"success")}catch(Ee){console.error("Error editing sub-subcategory:",Ee),e("Failed to edit sub-subcategory.","error")}finally{a(!1)}},Re=async(X,se,ge)=>{a(!0);try{const xe=Ce(re,"customSubSubcategories",X),Ee=await Je(xe),$e=Ee.exists()?Ee.data()||{}:{},rt={...$e,[se]:$e[se].filter(be=>be!==ge)};await Xt(xe,rt),h(be=>({...be,[X]:rt})),e(`Sub-subcategory "${ge}" deleted successfully! `,"success")}catch(xe){console.error("Error deleting sub-subcategory:",xe),e("Failed to delete sub-subcategory.","error")}finally{a(!1)}},de=(X,se)=>{k(ge=>({...ge,[X]:se})),z(ge=>({...ge,[X]:""}))},Me=X=>{V(se=>({...se,[X]:!se[X]}))},ue=()=>{g(""),k({minPrice:"",maxPrice:"",buyerProtectionRate:"",handlingRate:"",taxRate:""}),y(null),z({})};return s||!b?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:n.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-xl shadow-lg",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-category text-blue-500"}),"Manage Categories"]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"space-y-6 bg-gray-50 dark:bg-gray-700 p-6 rounded-lg shadow-inner",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-plus-circle text-green-500"}),x?"Edit Category":"Add New Category"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Category Name",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Unique name for the category (e.g., Electronics)"})]}),n.jsx("input",{type:"text",value:f,onChange:X=>g(X.target.value),placeholder:"e.g., Electronics",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${F.newCategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),F.newCategory&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),F.newCategory]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Minimum Price ()",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Minimum product price for this category"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:""}),n.jsx("input",{type:"number",value:N.minPrice,onChange:X=>de("minPrice",X.target.value),min:"0",step:"0.01",placeholder:"1000",className:`mt-1 w-full py-2 pl-8 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${F.minPrice?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s})]}),F.minPrice&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),F.minPrice]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Maximum Price ()",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Maximum product price (leave blank for no limit)"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:""}),n.jsx("input",{type:"number",value:N.maxPrice,onChange:X=>de("maxPrice",X.target.value),min:"0",step:"0.01",placeholder:"No maximum",className:`mt-1 w-full py-2 pl-8 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${F.maxPrice?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s})]}),F.maxPrice&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),F.maxPrice]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Buyer Protection Rate (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Fee percentage for buyer protection"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:N.buyerProtectionRate,onChange:X=>de("buyerProtectionRate",X.target.value),min:"0",step:"0.01",placeholder:"8",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${F.buyerProtectionRate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),F.buyerProtectionRate&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),F.buyerProtectionRate]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Handling Rate (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Fee percentage for handling"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:N.handlingRate,onChange:X=>de("handlingRate",X.target.value),min:"0",step:"0.01",placeholder:"20",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${F.handlingRate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),F.handlingRate&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),F.handlingRate]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Tax Rate (%)",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Tax percentage for this category"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:N.taxRate,onChange:X=>de("taxRate",X.target.value),min:"0",step:"0.01",placeholder:"7.5",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${F.taxRate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),n.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),F.taxRate&&n.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-error-circle"}),F.taxRate]})]})]}),n.jsx("div",{className:"flex gap-4 mt-6",children:x?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>ee(x),disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-md",children:[n.jsx("i",{className:"bx bx-save"}),s?"Updating...":"Update Category"]}),n.jsxs("button",{onClick:ue,disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-red-600 hover:bg-red-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-md",children:[n.jsx("i",{className:"bx bx-x"}),"Cancel"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:q,disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-md",children:[n.jsx("i",{className:"bx bx-plus"}),s?"Adding...":"Add Category"]}),n.jsxs("button",{onClick:ue,disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-md",children:[n.jsx("i",{className:"bx bx-refresh"}),"Clear Form"]})]})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-list-ul text-blue-500"}),"Existing Categories"]}),i.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic",children:"No categories found. Add one above!"}):n.jsx("ul",{className:"space-y-4",children:i.map(X=>n.jsxs("li",{className:"p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200",children:[n.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>Me(X),children:[n.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx("i",{className:`bx bx-chevron-${O[X]?"up":"down"} text-blue-500`}),X]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:se=>{se.stopPropagation(),y(X),g(X),k({minPrice:b[X].minPrice===1/0?"":b[X].minPrice,maxPrice:b[X].maxPrice===1/0?"":b[X].maxPrice,buyerProtectionRate:b[X].buyerProtectionRate*100,handlingRate:b[X].handlingRate*100,taxRate:b[X].taxRate?b[X].taxRate*100:7.5})},disabled:s,className:"text-blue-600 hover:text-blue-800 dark:hover:text-blue-400 text-sm flex items-center gap-1",title:"Edit category",children:[n.jsx("i",{className:"bx bx-edit"}),"Edit"]}),n.jsxs("button",{onClick:se=>{se.stopPropagation(),B({...H,category:X})},disabled:s,className:"text-red-600 hover:text-red-800 dark:hover:text-red-400 text-sm flex items-center gap-1",title:"Delete category",children:[n.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]}),O[X]&&n.jsxs("div",{className:"mt-4 ml-4 space-y-4 animate-slide-down",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Add Subcategory",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Subcategories group products within a category (e.g., Phones under Electronics)"})]}),n.jsxs("div",{className:"flex gap-2 mt-1",children:[n.jsx("input",{type:"text",value:C[X]||"",onChange:se=>R(ge=>({...ge,[X]:se.target.value})),placeholder:"e.g., Phones",className:"w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s}),n.jsxs("button",{type:"button",onClick:()=>$(X),className:"py-2 px-4 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",disabled:s,children:[s?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-plus"}),"Add"]})]})]}),l[X]?.length>0&&n.jsx("ul",{className:"space-y-3 ml-4",children:l[X].map(se=>n.jsxs("li",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-subdirectory-right text-gray-500"}),se]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>{T({category:X,subcat:se}),R(ge=>({...ge,[X]:se}))},disabled:s,className:"text-blue-600 hover:text-blue-800 dark:hover:text-blue-400 text-sm flex items-center gap-1",title:"Edit subcategory",children:[n.jsx("i",{className:"bx bx-edit"}),"Edit"]}),n.jsxs("button",{onClick:()=>B({...H,subcategory:{category:X,subcat:se}}),disabled:s,className:"text-red-600 hover:text-red-800 dark:hover:text-red-400 text-sm flex items-center gap-1",title:"Delete subcategory",children:[n.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]}),P?.category===X&&P.subcat===se&&n.jsxs("div",{className:"mt-2 ml-4",children:[n.jsx("input",{type:"text",value:C[X]||"",onChange:ge=>R(xe=>({...xe,[X]:ge.target.value})),className:"w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsxs("button",{onClick:()=>Q(X,se),disabled:s,className:"py-2 px-4 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",children:[n.jsx("i",{className:"bx bx-save"})," Save"]}),n.jsxs("button",{onClick:()=>T(null),disabled:s,className:"py-2 px-4 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",children:[n.jsx("i",{className:"bx bx-x"})," Cancel"]})]})]}),n.jsxs("div",{className:"mt-2 ml-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Add Sub-subcategory",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Further refine products (e.g., Smartphones under Phones)"})]}),n.jsxs("div",{className:"flex gap-2 mt-1",children:[n.jsx("input",{type:"text",value:_[`${X}_${se}`]||"",onChange:ge=>I(xe=>({...xe,[`${X}_${se}`]:ge.target.value})),placeholder:"e.g., Smartphones",className:"w-full max-w-md py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s}),n.jsx("button",{type:"button",onClick:()=>ne(X,se),className:"py-2 px-3 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",disabled:s,children:s?n.jsx("i",{className:"bx bx-loader bx-spin"}):n.jsx("i",{className:"bx bx-plus"})})]}),u[X]?.[se]?.length>0&&n.jsx("ul",{className:"mt-2 space-y-1 ml-6",children:u[X][se].map(ge=>n.jsxs("li",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[n.jsx("i",{className:"bx bx-subdirectory-right text-gray-400"}),ge]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{L({category:X,subcategory:se,subSubcat:ge}),I(xe=>({...xe,[`${X}_${se}`]:ge}))},disabled:s,className:"text-blue-600 hover:text-blue-800 dark:hover:text-blue-400 text-sm flex items-center gap-1",title:"Edit sub-subcategory",children:n.jsx("i",{className:"bx bx-edit text-[15px]"})}),n.jsx("button",{onClick:()=>B({...H,subSubcategory:{category:X,subcategory:se,subSubcat:ge}}),disabled:s,className:"text-red-600 hover:text-red-800 dark:hover:text-red-400 text-sm flex items-center gap-1",title:"Delete sub-subcategory",children:n.jsx("i",{className:"bx bx-trash text-[15px]"})})]})]},ge))}),D?.category===X&&D.subcategory===se&&D.subSubcat&&n.jsxs("div",{className:"mt-2 ml-6",children:[n.jsx("input",{type:"text",value:_[`${X}_${se}`]||"",onChange:ge=>I(xe=>({...xe,[`${X}_${se}`]:ge.target.value})),className:"w-full max-w-md py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx("button",{onClick:()=>ce(X,se,D.subSubcat),disabled:s,className:"py-2 px-4 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",children:n.jsx("i",{className:"bx bx-save"})}),n.jsx("button",{onClick:()=>L(null),disabled:s,className:"py-2 px-4 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",children:n.jsx("i",{className:"bx bx-x"})})]})]})]})]},se))})]})]},X))})]})]}),H.category&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Confirm Deletion"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:['Are you sure you want to delete the category "',H.category,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:()=>B({...H,category:null}),className:"py-2 px-4 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 transition",children:"Cancel"}),n.jsxs("button",{onClick:()=>{G(H.category),B({...H,category:null})},className:"py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition",disabled:s,children:[n.jsx("i",{className:"bx bx-trash"})," Delete"]})]})]})}),H.subcategory&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Confirm Deletion"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:['Are you sure you want to delete the subcategory "',H.subcategory.subcat,'" under "',H.subcategory.category,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:()=>B({...H,subcategory:null}),className:"py-2 px-4 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 transition",children:"Cancel"}),n.jsxs("button",{onClick:()=>{te(H.subcategory.category,H.subcategory.subcat),B({...H,subcategory:null})},className:"py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition",disabled:s,children:[n.jsx("i",{className:"bx bx-trash"})," Delete"]})]})]})}),H.subSubcategory&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Confirm Deletion"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:['Are you sure you want to delete the sub-subcategory "',H.subSubcategory.subSubcat,'" under "',H.subSubcategory.subcategory,'" in "',H.subSubcategory.category,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:()=>B({...H,subSubcategory:null}),className:"py-2 px-4 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 transition",children:"Cancel"}),n.jsxs("button",{onClick:()=>{Re(H.subSubcategory.category,H.subSubcategory.subcategory,H.subSubcategory.subSubcat),B({...H,subSubcategory:null})},className:"py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition",disabled:s,children:[n.jsx("i",{className:"bx bx-trash"})," Delete"]})]})]})}),n.jsx(Jle,{alerts:r,removeAlert:t})]})})]})}function sce({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg ${t.type==="error"?"bg-red-600":"bg-green-600"} text-white flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function rce(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="success")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}function ace(){const{alerts:r,addAlert:e,removeAlert:t}=rce(),s=gs(),[a,i]=E.useState("sellers"),[o,l]=E.useState([]),[c,u]=E.useState([]),[h,f]=E.useState([]),[g,x]=E.useState([]),[y,b]=E.useState(!0),[v,N]=E.useState(!1),[k,C]=E.useState(null),[R,_]=E.useState({color:"",size:"",stock:""});E.useEffect(()=>{if(!ke.currentUser){e("Please log in.","error"),s("/login");return}const T=mt(Ie(re,"sellers")),D=bs(T,async B=>{const q=[];for(const ee of B.docs){const G={id:ee.id,...ee.data()};if(G.bankCode){const te=Ce(re,"banks",G.bankCode),ne=await Je(te);G.bankName=ne.exists()&&ne.data().name||"N/A"}else G.bankName="N/A";const $=mt(Ie(re,"products"),nt("sellerId","==",G.id)),Q=await Je(Ce(re,"products",G.id));G.productCount=Q.exists()?(await bs($,te=>te.size)).size:0,q.push(G)}l(q)},B=>{e("Failed to fetch sellers.","error"),console.error("Sellers fetch error:",B)}),L=mt(Ie(re,"products")),F=bs(L,async B=>{const q=[];for(const ee of B.docs){const G={id:ee.id,...ee.data()},$=mt(Ie(re,"orders"),nt("productId","==",G.id)),Q=await Je(Ce(re,"orders",G.id));G.buyerCount=Q.exists()?(await bs($,te=>te.size)).size:0,q.push(G)}u(q)},B=>{e("Failed to fetch products.","error"),console.error("Products fetch error:",B)}),z=mt(Ie(re,"orders")),O=bs(z,B=>{f(B.docs.map(q=>({id:q.id,...q.data()})))},B=>{e("Failed to fetch orders.","error"),console.error("Orders fetch error:",B)}),V=mt(Ie(re,"favorites")),H=bs(V,B=>{const q={};B.docs.forEach(G=>{const $=G.data();q[$.productId]=(q[$.productId]||0)+1});const ee=Object.entries(q).map(([G,$])=>({productId:G,count:$}));ee.sort((G,$)=>$.count-G.count),x(ee)},B=>{e("Failed to fetch favorites.","error"),console.error("Favorites fetch error:",B)});return b(!1),()=>{D(),F(),O(),H()}},[s]);const I=async T=>{if(T.preventDefault(),!!k){b(!0);try{const D=Ce(re,"products",k.id),L=await Je(D),z=[...L.exists()?L.data().variants||[]:[],{...R,stock:parseInt(R.stock)||0}];await aa(D,{variants:z}),e("Variant added successfully!","success"),_({color:"",size:"",stock:""}),N(!1)}catch(D){e("Failed to add variant.","error"),console.error("Add variant error:",D)}finally{b(!1)}}},P=T=>{C(T),N(!0)};return y?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:n.jsxs("div",{className:"w-full lg:max-w-5xl md:max-w-4xl sm:max-w-3xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-xl shadow-sm",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-user text-blue-500"}),"Admin Manager"]}),n.jsx("div",{className:"flex border-b border-gray-300 dark:border-gray-600 mt-6",children:["sellers","products","orders","favorites"].map(T=>n.jsx("button",{onClick:()=>i(T),className:`py-2 px-4 text-sm md:text-base font-medium ${a===T?"border-b-2 border-blue-500 text-blue-500":"text-gray-600 dark:text-gray-300 hover:text-blue-500"}`,children:T.charAt(0).toUpperCase()+T.slice(1)},T))}),a==="sellers"&&n.jsx("div",{className:"mt-6 space-y-4",children:o.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No sellers found."}):o.map(T=>n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",T.id]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",T.fullName||"Unknown"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Bank:"})," ",T.bankName]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Account Number:"})," ",T.accountNumber||"N/A"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Products:"})," ",T.productCount||0]})]},T.id))}),a==="products"&&n.jsx("div",{className:"mt-6 space-y-4",children:c.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No products found."}):c.map(T=>n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Product ID:"})," ",T.id]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",T.name||"Unnamed Product"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",T.sellerId]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Price:"})," ",T.price?.toFixed(2)||"0.00"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Buyers:"})," ",T.buyerCount||0]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Variants:"})," ",T.variants?.length?T.variants.map(D=>`${D.color} (${D.size}, ${D.stock})`).join(", "):"None"]}),n.jsxs("button",{onClick:()=>P(T),className:"mt-2 py-1 px-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm",children:[n.jsx("i",{className:"bx bx-plus"})," Add Variant"]})]},T.id))}),a==="orders"&&n.jsx("div",{className:"mt-6 space-y-4",children:h.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No orders found."}):h.map(T=>n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Order ID:"})," ",T.id]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Product ID:"})," ",T.productId]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Buyer ID:"})," ",T.buyerId]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Amount:"})," ",T.amount?.toFixed(2)||"0.00"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Status:"})," ",T.status||"Unknown"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(T.createdAt?.toDate()).toLocaleString()]})]},T.id))}),a==="favorites"&&n.jsx("div",{className:"mt-6 space-y-4",children:g.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No favorited products found."}):g.map(T=>{const D=c.find(L=>L.id===T.productId)||{};return n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Product ID:"})," ",T.productId]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",D.name||"Unnamed Product"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",D.sellerId||"N/A"]}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Favorite Count:"})," ",T.count]})]},T.productId)})}),v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:["Add Variant for ",k?.name]}),n.jsxs("form",{onSubmit:I,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Color"}),n.jsx("input",{type:"text",value:R.color,onChange:T=>_({...R,color:T.target.value}),className:"mt-1 p-2 w-full border rounded-lg text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",required:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Size"}),n.jsx("input",{type:"text",value:R.size,onChange:T=>_({...R,size:T.target.value}),className:"mt-1 p-2 w-full border rounded-lg text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",required:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Stock"}),n.jsx("input",{type:"number",value:R.stock,onChange:T=>_({...R,stock:T.target.value}),className:"mt-1 p-2 w-full border rounded-lg text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",required:!0})]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 text-sm",children:"Cancel"}),n.jsx("button",{type:"submit",className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm ${y?"opacity-50 cursor-not-allowed":""}`,disabled:y,children:"Add Variant"})]})]})]})}),n.jsx(sce,{alerts:r,removeAlert:t})]})})]})}function nce({alerts:r,removeAlert:e}){return E.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function ice(){const[r,e]=E.useState([]);return{alerts:r,addAlert:(a,i="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}])},removeAlert:a=>e(i=>i.filter(o=>o.id!==a))}}function oce(){const{alerts:r,addAlert:e,removeAlert:t}=ice(),s=gs(),[a,i]=E.useState([]),[o,l]=E.useState(!1),[c,u]=E.useState(null),[h,f]=E.useState(!1);E.useEffect(()=>{if(!ke.currentUser){e("Please log in as admin.","error"),s("/login");return}l(!0),(async()=>{try{const b=(await Ke(Ie(re,"sellers"))).docs.map(v=>({id:v.id,...v.data(),email:v.data().email||"N/A",phoneNumber:v.data().phoneNumber||"N/A",walletAddress:v.data().walletAddress||"N/A",bankName:v.data().bankName||"N/A",fullName:v.data().fullName||"N/A",accountNumber:v.data().accountNumber||"N/A"}));i(b)}catch(y){e("Failed to fetch sellers.","error"),console.error("Fetch error:",y)}finally{l(!1)}})()},[s]);const g=async()=>{if(c){l(!0);try{await ua(Ce(re,"sellers",c.id)),i(a.filter(x=>x.id!==c.id)),e("Seller wallet deleted successfully.","success"),f(!1)}catch(x){e("Failed to delete seller wallet.","error"),console.error("Delete error:",x)}finally{l(!1)}}};return o?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 md:p-6",children:n.jsxs("div",{className:"w-full max-w-7xl mx-auto bg-white dark:bg-gray-800 p-4 md:p-6 rounded-xl shadow-lg",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 border-b-2 border-blue-500 pb-2 md:pb-3 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-wallet-alt text-blue-500"}),"Admin Seller Wallet"]}),a.length===0?n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center py-4 md:py-6",children:"No sellers found."}):n.jsx("div",{className:"space-y-4 mt-4 md:mt-6",children:a.map(x=>n.jsx("div",{className:"p-3 md:p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 transition",children:n.jsxs("div",{className:"grid grid-cols-1 gap-2  lg:flex md:items-center md:justify-between md:gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",x.id]}),n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium text-sm",children:"Full Name:"})," ",x.fullName]}),n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium text-sm",children:"Email:"})," ",x.email]}),n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium text-sm",children:"Bank Name:"})," ",x.bankName]}),n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium text-sm",children:"Account Number:"})," ",x.accountNumber]})]}),n.jsxs("div",{className:"space-y-1 md:space-y-2",children:[n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium text-sm",children:"Phone:"})," ",x.phoneNumber]}),n.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium text-sm",children:"Wallet Address:"})," ",x.walletAddress]})]}),n.jsx("div",{className:"mt-2 md:mt-0",children:n.jsxs("button",{onClick:()=>{u(x),f(!0)},className:"w-full md:w-auto py-2 px-3 md:px-4 bg-red-600 text-white rounded-lg shadow-md hover:bg-red-700 flex items-center justify-center gap-1 md:gap-2 text-sm md:text-base transition",disabled:o,children:[n.jsx("i",{className:"bx bx-trash"})," Delete Wallet"]})})]})},x.id))}),h&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 md:p-6 rounded-lg shadow-lg w-11/12 md:max-w-md",children:[n.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800 dark:text-gray-100 mb-2 md:mb-4",children:"Confirm Deletion"}),n.jsxs("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-300 mb-2 md:mb-4",children:["Are you sure you want to delete the wallet for ",c.email,"? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-2 md:gap-4",children:[n.jsx("button",{onClick:()=>f(!1),className:"py-1 md:py-2 px-2 md:px-4 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 text-sm md:text-base transition",children:"Cancel"}),n.jsxs("button",{onClick:g,className:"py-1 md:py-2 px-2 md:px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-1 md:gap-2 text-sm md:text-base transition",disabled:o,children:[n.jsx("i",{className:"bx bx-trash"})," Delete"]})]})]})}),n.jsx(nce,{alerts:r,removeAlert:t})]})})]})}function lce(){const[r,e]=E.useState([]),[t,s]=E.useState(!1),[a,i]=E.useState("all"),[o,l]=E.useState(""),c=async()=>{s(!0);try{const x=await fetch("https://foremade-backend.onrender.com/api/admin/all-pro-sellers");console.log("Response status:",x.status,"Headers:",Object.fromEntries(x.headers.entries()));const y=await x.json();console.log("Response data:",y),x.ok&&y.status==="success"?e(y.proSellers||[]):je.error(y.message||"Failed to fetch pro seller requests")}catch(g){console.error("Fetch error:",g),je.error(g.message||"Failed to fetch pro seller requests")}finally{s(!1)}};E.useEffect(()=>{c()},[]);const u=async(g,x)=>{try{const b=await fetch("https://foremade-backend.onrender.com/api/admin/approve-pro-seller",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proSellerId:g,approve:x})}),v=await b.json();b.ok&&v.status==="success"?(je.success(v.message||(x?"Pro seller approved":"Pro seller rejected")),c()):je.error(v.message||"Action failed")}catch(y){console.error("Approve/Reject error:",y),je.error(y.message||"Action failed")}},h=g=>{if(!g)return"-";if(typeof g=="object"&&g.seconds){const y=new Date(g.seconds*1e3);return isNaN(y.getTime())?"-":y.toLocaleDateString()}const x=new Date(g);return isNaN(x.getTime())?"-":x.toLocaleDateString()},f=r.filter(g=>(g.proSellerId?.toLowerCase()||"").includes(o.toLowerCase())||(g.userId?.toLowerCase()||"").includes(o.toLowerCase())||(g.status?.toLowerCase()||"").includes(o.toLowerCase())).filter(g=>a==="all"||g.status===a);return n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 sm:p-6",children:n.jsxs("div",{className:"w-full max-w-8xl mx-auto p-4",children:[n.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-store text-blue-500 text-lg sm:text-xl"}),"Pro Seller Requests"]}),n.jsxs("div",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1 group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 mb-1",children:["Search Pro Sellers",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Search by ID, User ID, or Status"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm sm:text-base"}),n.jsx("input",{type:"text",value:o,onChange:g=>l(g.target.value),placeholder:"Search by ID, User ID, or Status...",className:"w-full py-2 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200"})]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 mb-1",children:["Filter by Status",n.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Filter pro seller requests"})]}),n.jsxs("select",{value:a,onChange:g=>i(g.target.value),className:"w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md",children:[n.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-700 dark:text-gray-200 mb-2 sm:mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-list-ul text-blue-500 text-lg sm:text-xl"}),"All Pro Sellers"]}),t?n.jsx("div",{className:"text-gray-500 text-center py-8",children:"Loading..."}):f.length===0?n.jsx("div",{className:"text-gray-500 text-center py-8",children:"No pro sellers found."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden lg:block",children:n.jsxs(Xe.table,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:[n.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"ProSeller ID"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"User ID"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"Created"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"Actions"})]})}),n.jsx("tbody",{children:n.jsx(Ua,{children:f.map((g,x)=>{const y=g.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":g.status==="approved"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300";return n.jsxs(Xe.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:x*.1},className:"border-b hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx("td",{className:"px-4 py-3 break-all max-w-xs",children:g.proSellerId}),n.jsx("td",{className:"px-4 py-3 break-all max-w-xs",children:g.userId}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${y}`,children:g.status})}),n.jsx("td",{className:"px-4 py-3",children:h(g.createdAt)}),n.jsx("td",{className:"px-4 py-3 flex gap-2",children:g.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>u(g.proSellerId,!0),className:"px-3 py-1 bg-green-600 text-white rounded-lg text-xs hover:bg-green-700 transition flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-check"})," Approve"]}),n.jsxs("button",{onClick:()=>u(g.proSellerId,!1),className:"px-3 py-1 bg-red-600 text-white rounded-lg text-xs hover:bg-red-700 transition flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-x"})," Reject"]})]})})]},g.proSellerId||`req-${x}`)})})})]})}),n.jsx("div",{className:"lg:hidden",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.jsx(Ua,{children:f.map((g,x)=>{const y=g.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":g.status==="approved"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300";return n.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:x*.1},className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 truncate",children:["ProSeller ID: ",g.proSellerId]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:["User ID: ",g.userId]})]}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y}`,children:g.status}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Created: ",h(g.createdAt)]})]}),g.status==="pending"&&n.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[n.jsxs("button",{onClick:()=>u(g.proSellerId,!0),className:"px-3 py-1 bg-green-600 text-white rounded-lg text-xs hover:bg-green-700 transition flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-check"})," Approve"]}),n.jsxs("button",{onClick:()=>u(g.proSellerId,!1),className:"px-3 py-1 bg-red-600 text-white rounded-lg text-xs hover:bg-red-700 transition flex items-center gap-1",children:[n.jsx("i",{className:"bx bx-x"})," Reject"]})]})]},g.proSellerId||`req-${x}`)})})})})]})]})]})})]})}const cce=()=>{const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(""),o=async()=>{try{s(!0),ri(ke,async f=>{if(f){const y=(await Ke(Ie(re,"productBumps"))).docs.map(v=>({id:v.id,productId:v.data().productId,sellerId:v.data().sellerId||"Unknown",startDate:v.data().startDate?.toDate()||null,expiry:v.data().expiry?.toDate()||null})).map(async v=>{const N=await Je(Ce(re,"products",v.productId));if(N.exists()){const k=N.data(),C=Array.isArray(k.imageUrls)?k.imageUrls.filter(R=>typeof R=="string"&&R.startsWith("https://res.cloudinary.com/")):k.imageUrl&&typeof k.imageUrl=="string"&&k.imageUrl.startsWith("https://res.cloudinary.com/")?[k.imageUrl]:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"];return{...v,name:k.name||"Unnamed Product",price:k.price||0,imageUrl:C[0],bumpExpiry:k.bumpExpiry?.toDate()||null,bumpDuration:k.bumpDuration||"Unknown",sellerName:k.sellerName||k.seller||v.sellerId}}else return{...v,name:"Unnamed Product",price:0,imageUrl:"https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg",bumpExpiry:null,bumpDuration:"Unknown",sellerName:v.sellerId}}),b=await Promise.all(y);console.log("Fetched Products:",b),e(b)}else i("Please log in as an admin to view bumped products.");s(!1)})}catch(f){i("Failed to fetch bumped products: "+f.message),s(!1)}},l=async f=>{if(window.confirm("Are you sure you want to delete this product bump?"))try{await ua(Ce(re,"productBumps",f)),e(r.filter(g=>g.id!==f))}catch(g){i("Failed to delete product bump: "+g.message)}},c=()=>{o()};E.useEffect(()=>{o()},[]);const u=f=>{if(!f)return"N/A";try{return new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},h=f=>{const g=f.bumpExpiry||f.expiry;return g&&new Date(g)>new Date};return t?n.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[n.jsx(ks,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 animate-pulse",children:Array.from({length:6}).map((f,g)=>n.jsx("div",{className:"bg-gray-200 p-4 rounded-lg h-64"},g))})})})]}):a?n.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[n.jsx(ks,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 rounded-lg dark:bg-red-900 dark:border-red-700",children:[n.jsx("p",{className:"text-red-700 dark:text-red-300",children:a}),n.jsx(fe,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium underline mt-2 block",children:"Return to Login"})]})})})]}):n.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[n.jsx(ks,{}),n.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-center gap-2",children:[n.jsx(fe,{to:"/admin/dashboard",className:"inline-flex px-5 py-2 bg-gray-200 text-gray-900 rounded hover:bg-gray-300 font-semibold",children:"Return to Dashboard"}),n.jsxs("button",{onClick:c,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(uk,{className:"w-5 h-5 mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white",children:"Bumped Products"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"View all products currently bumped by sellers"})]}),r.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(f=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-md hover:shadow-lg transition duration-300 relative",children:[n.jsxs("div",{className:"relative aspect-[4/3] mb-4 overflow-hidden rounded-lg",children:[n.jsx("img",{src:f.imageUrl,alt:f.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:g=>{g.target.style.display="none",g.target.parentElement.innerHTML='<div class="absolute w-full h-full bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-500">Image N/A</span></div>'}}),n.jsx("button",{onClick:()=>l(f.id),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",children:n.jsx(X5,{className:"w-[34px] h-[34px] bg-gray-300 rounded-lg p-2"})}),n.jsx("span",{className:"absolute top-2 left-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:h(f)?"#00ffaaaf":"#ff6e6eff",color:"white"},children:h(f)?"Bump Active":"Bump Expired"})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 truncate",children:f.name}),n.jsxs("p",{className:"text-gray-700 text-sm mb-1",children:["Price: ",f.price.toLocaleString("en-NG")]}),n.jsxs("p",{className:"text-gray-600 text-xs mb-1",children:["Seller: ",f.sellerName]}),n.jsxs("p",{className:"text-gray-600 text-xs",children:["Expires: ",u(f.expiry||f.bumpExpiry)]}),n.jsxs("p",{className:"text-gray-600 text-xs",children:["Duration: ",f.bumpDuration]})]},f.id))}):n.jsx("div",{className:"col-span-full flex flex-col items-center justify-center mt-10 mb-10",children:n.jsx("p",{className:"text-gray-900 text-center text-lg mt-4",children:"No bumped products found."})})]})})]})};function dce({alerts:r,removeAlert:e}){return n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:n.jsx(Ua,{children:r.map(t=>n.jsxs(Xe.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:.3},className:`p-4 rounded-lg shadow-lg flex items-center gap-2 ${t.type==="error"?"bg-red-600":"bg-green-600"} text-white`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})})}function uce(){const[r,e]=E.useState([]),t=E.useCallback((a,i="success")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}]),setTimeout(()=>e(l=>l.filter(c=>c.id!==o)),5e3)},[]),s=E.useCallback(a=>{e(i=>i.filter(o=>o.id!==a))},[]);return{alerts:r,addAlert:t,removeAlert:s}}function hce(){const r=gs(),{alerts:e,addAlert:t,removeAlert:s}=uce(),[a,i]=E.useState([]),[o,l]=E.useState([]),[c,u]=E.useState(""),[h,f]=E.useState(!1),g=E.useCallback(kd(b=>{u(b)},300),[]),x=b=>{g(b.target.value)},y=async b=>{if(!b){t("Cannot delete: Missing transaction ID","error");return}f(!0);try{const N=await Zt.delete(`https://foremade-backend.onrender.com/delete-transaction/${b}`,{timeout:15e3});t(N.data.message),i(k=>k.filter(C=>C.id!==b)),l(k=>k.filter(C=>C.id!==b))}catch(v){console.error("Delete error:",v.message,{transactionId:b,details:v.response?.data?.details});const N=v.response?.data?.error||v.message,k=v.response?.data?.details?JSON.stringify(v.response.data.details):"";t(`Failed to delete transaction: ${N}${k?` (Details: ${k})`:""}`,"error")}finally{f(!1)}};return E.useEffect(()=>{if(!ke.currentUser){t("Please log in.","error"),r("/login");return}const b=mt(Ie(re,"transactions")),v=bs(b,N=>{const k=N.docs.map(C=>({id:C.id,...C.data()}));console.log("Fetched all transactions:",k),i(k),l(k.filter(C=>(C.id?.toLowerCase()||"").includes(c.toLowerCase())||(C.sellerId?.toLowerCase()||"").includes(c.toLowerCase())||(C.type?.toLowerCase()||"").includes(c.toLowerCase())))},N=>{console.error("Firestore error:",N.message),t(`Failed to fetch transactions: ${N.message}`,"error")});return()=>v()},[r,c]),n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx(Xe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsxs("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[n.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 flex items-center gap-2",children:"All Transactions"})}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search by Transaction ID, Seller ID, or Type...",onChange:x,className:"w-full p-3 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]})}),o.length===0?n.jsx(Xe.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No transactions found."}):n.jsx(Xe.div,{className:"grid gap-4 lg:grid-cols-2",children:n.jsx(Ua,{children:o.map((b,v)=>n.jsxs(Xe.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3,delay:v*.1},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",b.id||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",b.sellerId||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Type:"})," ",b.type||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Status:"})," ",n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${b.status==="Pending"?"bg-yellow-100 text-yellow-800":b.status==="Approved"?"bg-green-100 text-green-800":b.status==="Rejected"||b.status==="Failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:b.status||"N/A"})]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Amount:"})," ",b.country==="United Kingdom"?"":"",b.amount?.toFixed(2)||"0.00"]}),b.type==="Withdrawal"&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Bank Name:"})," ",b.bankName||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Account Number:"})," ",b.accountNumber||"N/A"]})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Country:"})," ",b.country||"N/A"]})]})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",b.createdAt?.toDate?new Date(b.createdAt.toDate()).toLocaleString():"N/A"]}),b.status==="Failed"&&b.failureReason&&n.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Reason:"})," ",b.failureReason]}),n.jsx("div",{className:"mt-4 flex gap-2",children:n.jsxs("button",{onClick:()=>y(b.id),disabled:h||!b.id,className:`px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition flex items-center gap-2 ${h||!b.id?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("i",{className:"bx bx-trash"}),"Delete"]})})]},b.id||`txn-${v}`))})}),n.jsx(dce,{alerts:e,removeAlert:s})]})})]})}const mce=()=>n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"p-10 m-2 bg-green-100",children:n.jsx("p",{className:""})}),n.jsx("div",{className:"p-10 m-2 bg-green-100",children:n.jsx("p",{className:""})})]}),n.jsxs("div",{className:"font-sans max-w-3xl mx-auto p-5",children:[n.jsx("h1",{className:"text-center text-3xl font-bold text-gray-800",children:"HOW FOREMADE WORKS"}),n.jsx("p",{className:"text-center text-lg italic text-gray-600 mt-2",children:"Your easy way to buy and sell online  fast, simple, and smart, Naija-style."}),n.jsx("h2",{className:"mt-8 text-2xl font-semibold text-gray-700",children:"FOR SELLERS  Make that money with ease"}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-xl font-medium text-gray-600",children:"1. List for Free"}),n.jsx("p",{className:"text-gray-700",children:"Oya, just snap and list sharp-sharp. Download the Foremade app for free. Take photos of your item, describe it small, set your price and upload. Your listing go live immediately."})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-xl font-medium text-gray-600",children:"2. Sell it, Ship it"}),n.jsx("p",{className:"text-gray-700",children:"Somebody don reason your item? Package am well and drop am. Once your item sell, just box am, print your prepaid label and drop it at any nearby point within 5 days. Easy like that."})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-xl font-medium text-gray-600",children:"3. Its Payday!"}),n.jsx("p",{className:"text-gray-700",children:"Omo, your money don show. There are no selling fees  everything you earn is yours. Once buyer confirm say everything dey okay, your FOREMADE wallet go alert you."})]}),n.jsx("h2",{className:"mt-8 text-2xl font-semibold text-gray-700",children:"FOR BUYERS  Get what you need, no stress"}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-xl font-medium text-gray-600",children:"1. Find it"}),n.jsx("p",{className:"text-gray-700",children:"Wetin you dey find? Just search am. Use the Foremade app to browse millions of items  from gadgets to clothes and everything in-between. If e dey, you go see am."})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-xl font-medium text-gray-600",children:"2. Buy it"}),n.jsx("p",{className:"text-gray-700",children:"Tap am and pay, no wahala. Ask the seller questions if you wan confirm something, then buy easily with your card or your FOREMADE balance."})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-xl font-medium text-gray-600",children:"3. Get it"}),n.jsx("p",{className:"text-gray-700",children:"Sit down and relax, delivery dey come. At checkout, you go see when your item go arrive. Once e enter post, we go update you. Just chill  your item go soon reach."})]}),n.jsx("p",{className:"text-center mt-8 font-bold text-2xl text-gray-800",children:"FOREMADE  Na we dey run things."})]})]});var o1={};/*!
 * ApexCharts v5.3.3
 * (c) 2018-2025 ApexCharts
 */function YN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,s=Array(e);t<e;t++)s[t]=r[t];return s}function xL(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function it(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function $I(r,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,vL(s.key),s)}}function ot(r,e,t){return e&&$I(r.prototype,e),t&&$I(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Qm(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=Yk(r))||e){t&&(r=t);var s=0,a=function(){};return{s:a,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var c=t.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||t.return==null||t.return()}finally{if(l)throw i}}}}function Mg(r){var e=bL();return function(){var t,s=nb(r);if(e){var a=nb(this).constructor;t=Reflect.construct(s,arguments,a)}else t=s.apply(this,arguments);return function(i,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xL(i)}(this,t)}}function ab(r,e,t){return(e=vL(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function nb(r){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nb(r)}function Og(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&qN(r,e)}function bL(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bL=function(){return!!r})()}function WI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,s)}return t}function qe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(t),!0).forEach(function(s){ab(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):WI(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function qN(r,e){return qN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},qN(r,e)}function yL(r,e){return function(t){if(Array.isArray(t))return t}(r)||function(t,s){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var i,o,l,c,u=[],h=!0,f=!1;try{if(l=(a=a.call(t)).next,s===0){if(Object(a)!==a)return;h=!1}else for(;!(h=(i=l.call(a)).done)&&(u.push(i.value),u.length!==s);h=!0);}catch(g){f=!0,o=g}finally{try{if(!h&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(f)throw o}}return u}}(r,e)||Yk(r,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yr(r){return function(e){if(Array.isArray(e))return YN(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||Yk(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vL(r){var e=function(t,s){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var i=a.call(t,s);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}(r,"string");return typeof e=="symbol"?e:e+""}function Ra(r){return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(r)}function Yk(r,e){if(r){if(typeof r=="string")return YN(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?YN(r,e):void 0}}var oe=function(){function r(){it(this,r)}return ot(r,[{key:"shadeRGBColor",value:function(e,t){var s=t.split(","),a=e<0?0:255,i=e<0?-1*e:e,o=parseInt(s[0].slice(4),10),l=parseInt(s[1],10),c=parseInt(s[2],10);return"rgb("+(Math.round((a-o)*i)+o)+","+(Math.round((a-l)*i)+l)+","+(Math.round((a-c)*i)+c)+")"}},{key:"shadeHexColor",value:function(e,t){var s=parseInt(t.slice(1),16),a=e<0?0:255,i=e<0?-1*e:e,o=s>>16,l=s>>8&255,c=255&s;return"#"+(16777216+65536*(Math.round((a-o)*i)+o)+256*(Math.round((a-l)*i)+l)+(Math.round((a-c)*i)+c)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return r.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&Ra(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,s=[];for(t=0;t<e.length;t++)s[t]=e[t];return s}},{key:"extend",value:function(e,t){var s=this;typeof Object.assign!="function"&&(Object.assign=function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(i),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var u in c)c.hasOwnProperty(u)&&(o[u]=c[u])}return o});var a=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(i){s.isObject(t[i])&&i in e?a[i]=s.extend(e[i],t[i]):Object.assign(a,ab({},i,t[i]))}),a}},{key:"extendArray",value:function(e,t){var s=[];return e.map(function(a){s.push(r.extend(t,a))}),e=s}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||Ra(e)!=="object")return e;if(s.has(e))return s.get(e);if(Array.isArray(e)){t=[],s.set(e,t);for(var a=0;a<e.length;a++)t[a]=this.clone(e[a],s)}else if(e instanceof Date)t=new Date(e.getTime());else for(var i in t={},s.set(e,t),e)e.hasOwnProperty(i)&&(t[i]=this.clone(e[i],s));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return typeof e=="number"||e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),s=e.clientHeight,a=e.clientWidth;return s-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[a-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),s]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,s){return Array.isArray(s)&&(s=s.reduce(function(a,i){return a.length>i.length?a:i})),t.length>s.length?t:s},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var s=e.replace("#","");s=s.match(new RegExp("(.{"+s.length/3+"})","g"));for(var a=0;a<s.length;a++)s[a]=parseInt(s[a].length===1?s[a]+s[a]:s[a],16);return t!==void 0&&s.push(t),"rgba("+s.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var s=[],a=2*Math.PI/t,i=0;i<t;i++){var o={};o.x=e*Math.sin(i*a),o.y=-e*Math.cos(i*a),s.push(o)}return s}},{key:"polarToCartesian",value:function(e,t,s,a){var i=(a-90)*Math.PI/180;return{x:e+s*Math.cos(i),y:t+s*Math.sin(i)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",s=e.toString().slice();return s=s.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,s){if(s>=e.length)for(var a=s-e.length+1;a--;)e.push(void 0);return e.splice(s,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e.style.key=t[s])}},{key:"preciseAddition",value:function(e,t){var s=(String(e).split(".")[1]||"").length,a=(String(t).split(".")[1]||"").length,i=Math.pow(10,Math.max(s,a));return(Math.round(e*i)+Math.round(t*i))/i}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*a),t=Math.round(Math.abs(t)*a);t;){var i=t;t=e%t,e=i}return e/a}},{key:"getPrimeFactors",value:function(e){for(var t=[],s=2;e>=2;)e%s==0?(t.push(s),e/=s):s++;return t}},{key:"mod",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*a))%(t=Math.round(Math.abs(t)*a))/a}}]),r}(),wh=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"animateLine",value:function(e,t,s,a){e.attr(t).animate(a).attr(s)}},{key:"animateMarker",value:function(e,t,s,a){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(function(){a()})}},{key:"animateRect",value:function(e,t,s,a,i){e.attr(t).animate(a).attr(s).after(function(){return i()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,s=e.realIndex,a=e.j,i=e.fill,o=e.pathFrom,l=e.pathTo,c=e.speed,u=e.delay,h=this.w,f=0;h.config.chart.animations.animateGradually.enabled&&(f=h.config.chart.animations.animateGradually.delay),h.config.chart.animations.dynamicAnimation.enabled&&h.globals.dataChanged&&h.config.chart.type!=="bar"&&(f=0),this.morphSVG(t,s,a,h.config.chart.type!=="line"||h.globals.comboCharts?i:"stroke",o,l,c,u*f)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,s,a,i,o,l,c){var u=this,h=this.w;i||(i=e.attr("pathFrom")),o||(o=e.attr("pathTo"));var f=function(g){return h.config.chart.type==="radar"&&(l=1),"M 0 ".concat(h.globals.gridHeight)};(!i||i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i=f()),(!o.trim()||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=f()),h.globals.shouldAnimate||(l=1),e.plot(i).animate(1,c).plot(i).animate(l,c).plot(o).after(function(){oe.isNumber(s)?s===h.globals.series[h.globals.maxValsInArrayIndex].length-2&&h.globals.shouldAnimate&&u.animationCompleted(e):a!=="none"&&h.globals.shouldAnimate&&(!h.globals.comboCharts&&t===h.globals.series.length-1||h.globals.comboCharts)&&u.animationCompleted(e),u.showDelayedElements()})}}]),r}();const XN={},wL=[];function Vt(r,e){if(Array.isArray(r))for(const t of r)Vt(t,e);else if(typeof r!="object")NL(Object.getOwnPropertyNames(e)),XN[r]=Object.assign(XN[r]||{},e);else for(const t in r)Vt(t,r[t])}function Ga(r){return XN[r]||{}}function NL(r){wL.push(...r)}function qk(r,e){let t;const s=r.length,a=[];for(t=0;t<s;t++)a.push(e(r[t]));return a}function l1(r){return r%360*Math.PI/180}function Nh(r){return r.charAt(0).toUpperCase()+r.slice(1)}function jh(r,e,t,s){return e!=null&&t!=null||(s=s||r.bbox(),e==null?e=s.width/s.height*t:t==null&&(t=s.height/s.width*e)),{width:e,height:t}}function GN(r,e){const t=r.origin;let s=r.ox!=null?r.ox:r.originX!=null?r.originX:"center",a=r.oy!=null?r.oy:r.originY!=null?r.originY:"center";t!=null&&([s,a]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const i=typeof s=="string",o=typeof a=="string";if(i||o){const{height:l,width:c,x:u,y:h}=e.bbox();i&&(s=s.includes("left")?u:s.includes("right")?u+c:u+c/2),o&&(a=a.includes("top")?h:a.includes("bottom")?h+l:h+l/2)}return[s,a]}const fce=new Set(["desc","metadata","title"]),KN=r=>fce.has(r.nodeName),jL=(r,e,t={})=>{const s={...e};for(const a in s)s[a].valueOf()===t[a]&&delete s[a];Object.keys(s).length?r.node.setAttribute("data-svgjs",JSON.stringify(s)):(r.node.removeAttribute("data-svgjs"),r.node.removeAttribute("svgjs:data"))},Xk="http://www.w3.org/2000/svg",c1="http://www.w3.org/2000/xmlns/",kh="http://www.w3.org/1999/xlink",us={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Lg(){return us.window}let Gk=class{};const rd={},Kk="___SYMBOL___ROOT___";function Qf(r,e=Xk){return us.document.createElementNS(e,r)}function Ma(r,e=!1){if(r instanceof Gk)return r;if(typeof r=="object")return d1(r);if(r==null)return new rd[Kk];if(typeof r=="string"&&r.charAt(0)!=="<")return d1(us.document.querySelector(r));const t=e?us.document.createElement("div"):Qf("svg");return t.innerHTML=r,r=d1(t.firstChild),t.removeChild(t.firstChild),r}function Xs(r,e){return e&&(e instanceof us.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:Qf(r)}function Ln(r){if(!r)return null;if(r.instance instanceof Gk)return r.instance;if(r.nodeName==="#document-fragment")return new rd.Fragment(r);let e=Nh(r.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":rd[e]||(e="Dom"),new rd[e](r)}let d1=Ln;function ms(r,e=r.name,t=!1){return rd[e]=r,t&&(rd[Kk]=r),NL(Object.getOwnPropertyNames(r.prototype)),r}let gce=1e3;function kL(r){return"Svgjs"+Nh(r)+gce++}function SL(r){for(let e=r.children.length-1;e>=0;e--)SL(r.children[e]);return r.id&&(r.id=kL(r.nodeName)),r}function At(r,e){let t,s;for(s=(r=Array.isArray(r)?r:[r]).length-1;s>=0;s--)for(t in e)r[s].prototype[t]=e[t]}function qs(r){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?r.apply(this,e):r.apply(this,e.slice(0,-1)).attr(t)}}Vt("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const r=this.position();return this.parent().add(this.remove(),r+1),this},backward:function(){const r=this.position();return this.parent().add(this.remove(),r?r-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(r){(r=Ma(r)).remove();const e=this.position();return this.parent().add(r,e),this},after:function(r){(r=Ma(r)).remove();const e=this.position();return this.parent().add(r,e+1),this},insertBefore:function(r){return(r=Ma(r)).before(this),this},insertAfter:function(r){return(r=Ma(r)).after(this),this}});const _L=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,pce=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,xce=/rgb\((\d+),(\d+),(\d+)\)/,bce=/(#[a-z_][a-z0-9\-_]*)/i,yce=/\)\s*,?\s*/,vce=/\s/g,YI=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,qI=/^rgb\(/,XI=/^(\s+)?$/,GI=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wce=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Uo=/[\s,]+/,Qk=/[MLHVCSQTAZ]/i;function Nce(r){const e=Math.round(r),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function pu(r,e){for(let t=e.length;t--;)if(r[e[t]]==null)return!1;return!0}function u1(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+(e-r)*(2/3-t)*6:r}Vt("Dom",{classes:function(){const r=this.attr("class");return r==null?[]:r.trim().split(Uo)},hasClass:function(r){return this.classes().indexOf(r)!==-1},addClass:function(r){if(!this.hasClass(r)){const e=this.classes();e.push(r),this.attr("class",e.join(" "))}return this},removeClass:function(r){return this.hasClass(r)&&this.attr("class",this.classes().filter(function(e){return e!==r}).join(" ")),this},toggleClass:function(r){return this.hasClass(r)?this.removeClass(r):this.addClass(r)}}),Vt("Dom",{css:function(r,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(s){return!!s.length}).forEach(function(s){const a=s.split(/\s*:\s*/);t[a[0]]=a[1]}),t;if(arguments.length<2){if(Array.isArray(r)){for(const s of r){const a=s;t[s]=this.node.style.getPropertyValue(a)}return t}if(typeof r=="string")return this.node.style.getPropertyValue(r);if(typeof r=="object")for(const s in r)this.node.style.setProperty(s,r[s]==null||XI.test(r[s])?"":r[s])}return arguments.length===2&&this.node.style.setProperty(r,e==null||XI.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),Vt("Dom",{data:function(r,e,t){if(r==null)return this.data(qk(function(s,a){let i;const o=s.length,l=[];for(i=0;i<o;i++)a(s[i])&&l.push(s[i]);return l}(this.node.attributes,s=>s.nodeName.indexOf("data-")===0),s=>s.nodeName.slice(5)));if(r instanceof Array){const s={};for(const a of r)s[a]=this.data(a);return s}if(typeof r=="object")for(e in r)this.data(e,r[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+r))}catch{return this.attr("data-"+r)}else this.attr("data-"+r,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),Vt("Dom",{remember:function(r,e){if(typeof arguments[0]=="object")for(const t in r)this.remember(t,r[t]);else{if(arguments.length===1)return this.memory()[r];this.memory()[r]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let r=arguments.length-1;r>=0;r--)delete this.memory()[arguments[r]];return this},memory:function(){return this._memory=this._memory||{}}});class zs{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof zs||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:s,round:a,sin:i,PI:o}=Math;if(e==="vibrant"){const l=24*s()+57,c=38*s()+45,u=360*s();return new zs(l,c,u,"lch")}if(e==="sine"){const l=a(80*i(2*o*(t=t??s())/.5+.01)+150),c=a(50*i(2*o*t/.5+4.6)+200),u=a(100*i(2*o*t/.5+2.3)+150);return new zs(l,c,u)}if(e==="pastel"){const l=8*s()+86,c=17*s()+9,u=360*s();return new zs(l,c,u,"lch")}if(e==="dark"){const l=10+10*s(),c=50*s()+86,u=360*s();return new zs(l,c,u,"lch")}if(e==="rgb"){const l=255*s(),c=255*s(),u=255*s();return new zs(l,c,u)}if(e==="lab"){const l=100*s(),c=256*s()-128,u=256*s()-128;return new zs(l,c,u,"lab")}if(e==="grey"){const l=255*s();return new zs(l,l,l)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(YI.test(e)||qI.test(e))}cmyk(){const{_a:e,_b:t,_c:s}=this.rgb(),[a,i,o]=[e,t,s].map(c=>c/255),l=Math.min(1-a,1-i,1-o);return l===1?new zs(0,0,0,1,"cmyk"):new zs((1-a-l)/(1-l),(1-i-l)/(1-l),(1-o-l)/(1-l),l,"cmyk")}hsl(){const{_a:e,_b:t,_c:s}=this.rgb(),[a,i,o]=[e,t,s].map(g=>g/255),l=Math.max(a,i,o),c=Math.min(a,i,o),u=(l+c)/2,h=l===c,f=l-c;return new zs(360*(h?0:l===a?((i-o)/f+(i<o?6:0))/6:l===i?((o-a)/f+2)/6:l===o?((a-i)/f+4)/6:0),100*(h?0:u>.5?f/(2-l-c):f/(l+c)),100*u,"hsl")}init(e=0,t=0,s=0,a=0,i="rgb"){if(e=e||0,this.space)for(const f in this.space)delete this[this.space[f]];if(typeof e=="number")i=typeof a=="string"?a:i,a=typeof a=="string"?0:a,Object.assign(this,{_a:e,_b:t,_c:s,_d:a,space:i});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const f=function(g,x){const y=pu(g,"rgb")?{_a:g.r,_b:g.g,_c:g.b,_d:0,space:"rgb"}:pu(g,"xyz")?{_a:g.x,_b:g.y,_c:g.z,_d:0,space:"xyz"}:pu(g,"hsl")?{_a:g.h,_b:g.s,_c:g.l,_d:0,space:"hsl"}:pu(g,"lab")?{_a:g.l,_b:g.a,_c:g.b,_d:0,space:"lab"}:pu(g,"lch")?{_a:g.l,_b:g.c,_c:g.h,_d:0,space:"lch"}:pu(g,"cmyk")?{_a:g.c,_b:g.m,_c:g.y,_d:g.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return y.space=x||y.space,y}(e,t);Object.assign(this,f)}else if(typeof e=="string")if(qI.test(e)){const f=e.replace(vce,""),[g,x,y]=xce.exec(f).slice(1,4).map(b=>parseInt(b));Object.assign(this,{_a:g,_b:x,_c:y,_d:0,space:"rgb"})}else{if(!YI.test(e))throw Error("Unsupported string format, can't construct Color");{const f=b=>parseInt(b,16),[,g,x,y]=pce.exec(function(b){return b.length===4?["#",b.substring(1,2),b.substring(1,2),b.substring(2,3),b.substring(2,3),b.substring(3,4),b.substring(3,4)].join(""):b}(e)).map(f);Object.assign(this,{_a:g,_b:x,_c:y,_d:0,space:"rgb"})}}const{_a:o,_b:l,_c:c,_d:u}=this,h=this.space==="rgb"?{r:o,g:l,b:c}:this.space==="xyz"?{x:o,y:l,z:c}:this.space==="hsl"?{h:o,s:l,l:c}:this.space==="lab"?{l:o,a:l,b:c}:this.space==="lch"?{l:o,c:l,h:c}:this.space==="cmyk"?{c:o,m:l,y:c,k:u}:{};Object.assign(this,h)}lab(){const{x:e,y:t,z:s}=this.xyz();return new zs(116*t-16,500*(e-t),200*(t-s),"lab")}lch(){const{l:e,a:t,b:s}=this.lab(),a=Math.sqrt(t**2+s**2);let i=180*Math.atan2(s,t)/Math.PI;return i<0&&(i*=-1,i=360-i),new zs(e,a,i,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:s,z:a}=this;if(this.space==="lab"||this.space==="lch"){let{l:x,a:y,b}=this;if(this.space==="lch"){const{c:I,h:P}=this,T=Math.PI/180;y=I*Math.cos(T*P),b=I*Math.sin(T*P)}const v=(x+16)/116,N=y/500+v,k=v-b/200,C=16/116,R=.008856,_=7.787;t=.95047*(N**3>R?N**3:(N-C)/_),s=1*(v**3>R?v**3:(v-C)/_),a=1.08883*(k**3>R?k**3:(k-C)/_)}const i=3.2406*t+-1.5372*s+-.4986*a,o=-.9689*t+1.8758*s+.0415*a,l=.0557*t+-.204*s+1.057*a,c=Math.pow,u=.0031308,h=i>u?1.055*c(i,1/2.4)-.055:12.92*i,f=o>u?1.055*c(o,1/2.4)-.055:12.92*o,g=l>u?1.055*c(l,1/2.4)-.055:12.92*l;return new zs(255*h,255*f,255*g)}if(this.space==="hsl"){let{h:t,s,l:a}=this;if(t/=360,s/=100,a/=100,s===0)return a*=255,new zs(a,a,a);const i=a<.5?a*(1+s):a+s-a*s,o=2*a-i,l=255*u1(o,i,t+1/3),c=255*u1(o,i,t),u=255*u1(o,i,t-1/3);return new zs(l,c,u)}if(this.space==="cmyk"){const{c:t,m:s,y:a,k:i}=this,o=255*(1-Math.min(1,t*(1-i)+i)),l=255*(1-Math.min(1,s*(1-i)+i)),c=255*(1-Math.min(1,a*(1-i)+i));return new zs(o,l,c)}return this;var e}toArray(){const{_a:e,_b:t,_c:s,_d:a,space:i}=this;return[e,t,s,a,i]}toHex(){const[e,t,s]=this._clamped().map(Nce);return`#${e}${t}${s}`}toRgb(){const[e,t,s]=this._clamped();return`rgb(${e},${t},${s})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:s}=this.rgb(),[a,i,o]=[e,t,s].map(v=>v/255),l=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,c=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,u=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,h=(.4124*l+.3576*c+.1805*u)/.95047,f=(.2126*l+.7152*c+.0722*u)/1,g=(.0193*l+.1192*c+.9505*u)/1.08883,x=h>.008856?Math.pow(h,1/3):7.787*h+16/116,y=f>.008856?Math.pow(f,1/3):7.787*f+16/116,b=g>.008856?Math.pow(g,1/3):7.787*g+16/116;return new zs(x,y,b,"xyz")}_clamped(){const{_a:e,_b:t,_c:s}=this.rgb(),{max:a,min:i,round:o}=Math;return[e,t,s].map(l=>a(0,i(o(l),255)))}}class Ns{constructor(...e){this.init(...e)}clone(){return new Ns(this)}init(e,t){const i=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=i.x==null?0:i.x,this.y=i.y==null?0:i.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){yt.isMatrixLike(e)||(e=new yt(e));const{x:t,y:s}=this;return this.x=e.a*t+e.c*s+e.e,this.y=e.b*t+e.d*s+e.f,this}}function xu(r,e,t){return Math.abs(e-r)<1e-6}class yt{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,s=e.flip&&(t||e.flip==="x")?-1:1,a=e.flip&&(t||e.flip==="y")?-1:1,i=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,o=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,l=e.scale&&e.scale.length?e.scale[0]*s:isFinite(e.scale)?e.scale*s:isFinite(e.scaleX)?e.scaleX*s:s,c=e.scale&&e.scale.length?e.scale[1]*a:isFinite(e.scale)?e.scale*a:isFinite(e.scaleY)?e.scaleY*a:a,u=e.shear||0,h=e.rotate||e.theta||0,f=new Ns(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),g=f.x,x=f.y,y=new Ns(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),b=y.x,v=y.y,N=new Ns(e.translate||e.tx||e.translateX,e.ty||e.translateY),k=N.x,C=N.y,R=new Ns(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:l,scaleY:c,skewX:i,skewY:o,shear:u,theta:h,rx:R.x,ry:R.y,tx:k,ty:C,ox:g,oy:x,px:b,py:v}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,s){const a=e.a*t.a+e.c*t.b,i=e.b*t.a+e.d*t.b,o=e.a*t.c+e.c*t.d,l=e.b*t.c+e.d*t.d,c=e.e+e.a*t.e+e.c*t.f,u=e.f+e.b*t.e+e.d*t.f;return s.a=a,s.b=i,s.c=o,s.d=l,s.e=c,s.f=u,s}around(e,t,s){return this.clone().aroundO(e,t,s)}aroundO(e,t,s){const a=e||0,i=t||0;return this.translateO(-a,-i).lmultiplyO(s).translateO(a,i)}clone(){return new yt(this)}decompose(e=0,t=0){const s=this.a,a=this.b,i=this.c,o=this.d,l=this.e,c=this.f,u=s*o-a*i,h=u>0?1:-1,f=h*Math.sqrt(s*s+a*a),g=Math.atan2(h*a,h*s),x=180/Math.PI*g,y=Math.cos(g),b=Math.sin(g),v=(s*i+a*o)/u,N=i*f/(v*s-a)||o*f/(v*a+s);return{scaleX:f,scaleY:N,shear:v,rotate:x,translateX:l-e+e*y*f+t*(v*y*f-b*N),translateY:c-t+e*b*f+t*(v*b*f+y*N),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new yt(e);return xu(this.a,t.a)&&xu(this.b,t.b)&&xu(this.c,t.c)&&xu(this.d,t.d)&&xu(this.e,t.e)&&xu(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=yt.fromArray([1,0,0,1,0,0]);return e=e instanceof xa?e.matrixify():typeof e=="string"?yt.fromArray(e.split(Uo).map(parseFloat)):Array.isArray(e)?yt.fromArray(e):typeof e=="object"&&yt.isMatrixLike(e)?e:typeof e=="object"?new yt().transform(e):arguments.length===6?yt.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,s=this.c,a=this.d,i=this.e,o=this.f,l=e*a-t*s;if(!l)throw new Error("Cannot invert "+this);const c=a/l,u=-t/l,h=-s/l,f=e/l,g=-(c*i+h*o),x=-(u*i+f*o);return this.a=c,this.b=u,this.c=h,this.d=f,this.e=g,this.f=x,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof yt?e:new yt(e);return yt.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof yt?e:new yt(e);return yt.matrixMultiply(this,t,this)}rotate(e,t,s){return this.clone().rotateO(e,t,s)}rotateO(e,t=0,s=0){e=l1(e);const a=Math.cos(e),i=Math.sin(e),{a:o,b:l,c,d:u,e:h,f}=this;return this.a=o*a-l*i,this.b=l*a+o*i,this.c=c*a-u*i,this.d=u*a+c*i,this.e=h*a-f*i+s*i-t*a+t,this.f=f*a+h*i-t*i-s*a+s,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,s=0,a=0){arguments.length===3&&(a=s,s=t,t=e);const{a:i,b:o,c:l,d:c,e:u,f:h}=this;return this.a=i*e,this.b=o*t,this.c=l*e,this.d=c*t,this.e=u*e-s*e+s,this.f=h*t-a*t+a,this}shear(e,t,s){return this.clone().shearO(e,t,s)}shearO(e,t=0,s=0){const{a,b:i,c:o,d:l,e:c,f:u}=this;return this.a=a+i*e,this.c=o+l*e,this.e=c+u*e-s*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,s=0,a=0){arguments.length===3&&(a=s,s=t,t=e),e=l1(e),t=l1(t);const i=Math.tan(e),o=Math.tan(t),{a:l,b:c,c:u,d:h,e:f,f:g}=this;return this.a=l+c*i,this.b=c+l*o,this.c=u+h*i,this.d=h+u*o,this.e=f+g*i-a*i,this.f=g+f*o-s*o,this}skewX(e,t,s){return this.skew(e,0,t,s)}skewY(e,t,s){return this.skew(0,e,t,s)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(yt.isMatrixLike(e))return new yt(e).multiplyO(this);const t=yt.formatTransforms(e),{x:s,y:a}=new Ns(t.ox,t.oy).transform(this),i=new yt().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-s,-a).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(s,a);if(isFinite(t.px)||isFinite(t.py)){const o=new Ns(s,a).transform(i),l=isFinite(t.px)?t.px-o.x:0,c=isFinite(t.py)?t.py-o.y:0;i.translateO(l,c)}return i.translateO(t.tx,t.ty),i}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function pl(){if(!pl.nodes){const r=Ma().size(2,0);r.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),r.attr("focusable","false"),r.attr("aria-hidden","true");const e=r.path().node;pl.nodes={svg:r,path:e}}if(!pl.nodes.svg.node.parentNode){const r=us.document.body||us.document.documentElement;pl.nodes.svg.addTo(r)}return pl.nodes}function AL(r){return!(r.width||r.height||r.x||r.y)}ms(yt,"Matrix");class vr{constructor(...e){this.init(...e)}addOffset(){return this.x+=us.window.pageXOffset,this.y+=us.window.pageYOffset,new vr(this)}init(e){return e=typeof e=="string"?e.split(Uo).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return AL(this)}merge(e){const t=Math.min(this.x,e.x),s=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x+e.width)-t,i=Math.max(this.y+this.height,e.y+e.height)-s;return new vr(t,s,a,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof yt||(e=new yt(e));let t=1/0,s=-1/0,a=1/0,i=-1/0;return[new Ns(this.x,this.y),new Ns(this.x2,this.y),new Ns(this.x,this.y2),new Ns(this.x2,this.y2)].forEach(function(o){o=o.transform(e),t=Math.min(t,o.x),s=Math.max(s,o.x),a=Math.min(a,o.y),i=Math.max(i,o.y)}),new vr(t,a,s-t,i-a)}}function KI(r,e,t){let s;try{if(s=e(r.node),AL(s)&&(a=r.node)!==us.document&&!(us.document.documentElement.contains||function(i){for(;i.parentNode;)i=i.parentNode;return i===us.document}).call(us.document.documentElement,a))throw new Error("Element not in the dom")}catch{s=t(r)}var a;return s}Vt({viewbox:{viewbox(r,e,t,s){return r==null?new vr(this.attr("viewBox")):this.attr("viewBox",new vr(r,e,t,s))},zoom(r,e){let{width:t,height:s}=this.attr(["width","height"]);if((t||s)&&typeof t!="string"&&typeof s!="string"||(t=this.node.clientWidth,s=this.node.clientHeight),!t||!s)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const a=this.viewbox(),i=t/a.width,o=s/a.height,l=Math.min(i,o);if(r==null)return l;let c=l/r;c===1/0&&(c=Number.MAX_SAFE_INTEGER/100),e=e||new Ns(t/2/i+a.x,s/2/o+a.y);const u=new vr(a).transform(new yt({scale:c,origin:e}));return this.viewbox(u)}}}),ms(vr,"Box");class bd extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}At([bd],{each(r,...e){return typeof r=="function"?this.map((t,s,a)=>r.call(t,t,s,a)):this.map(t=>t[r](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const jce=["toArray","constructor","each"];function Cd(r,e){return new bd(qk((e||us.document).querySelectorAll(r),function(t){return Ln(t)}))}bd.extend=function(r){r=r.reduce((e,t)=>(jce.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...s){return this.each(t,...s)}),e),{}),At([bd],r)};let kce=0;const CL={};function EL(r){let e=r.getEventHolder();return e===us.window&&(e=CL),e.events||(e.events={}),e.events}function Zk(r){return r.getEventTarget()}function Ao(r,e,t,s,a){const i=t.bind(s||r),o=Ma(r),l=EL(o),c=Zk(o);e=Array.isArray(e)?e:e.split(Uo),t._svgjsListenerId||(t._svgjsListenerId=++kce),e.forEach(function(u){const h=u.split(".")[0],f=u.split(".")[1]||"*";l[h]=l[h]||{},l[h][f]=l[h][f]||{},l[h][f][t._svgjsListenerId]=i,c.addEventListener(h,i,a||!1)})}function Fn(r,e,t,s){const a=Ma(r),i=EL(a),o=Zk(a);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Uo)).forEach(function(l){const c=l&&l.split(".")[0],u=l&&l.split(".")[1];let h,f;if(t)i[c]&&i[c][u||"*"]&&(o.removeEventListener(c,i[c][u||"*"][t],s||!1),delete i[c][u||"*"][t]);else if(c&&u){if(i[c]&&i[c][u]){for(f in i[c][u])Fn(o,[c,u].join("."),f);delete i[c][u]}}else if(u)for(l in i)for(h in i[l])u===h&&Fn(o,[l,u].join("."));else if(c){if(i[c]){for(h in i[c])Fn(o,[c,h].join("."));delete i[c]}}else{for(l in i)Fn(o,l);(function(g){let x=g.getEventHolder();x===us.window&&(x=CL),x.events&&(x.events={})})(a)}})}class Fg extends Gk{addEventListener(){}dispatch(e,t,s){return function(a,i,o,l){const c=Zk(a);return i instanceof us.window.Event||(i=new us.window.CustomEvent(i,{detail:o,cancelable:!0,...l})),c.dispatchEvent(i),i}(this,e,t,s)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const s=t[e.type];for(const a in s)for(const i in s[a])s[a][i](e);return!e.defaultPrevented}fire(e,t,s){return this.dispatch(e,t,s),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,s){return Fn(this,e,t,s),this}on(e,t,s,a){return Ao(this,e,t,s,a),this}removeEventListener(){}}function QI(){}ms(Fg,"EventTarget");const h1=400,Sce=">",_ce=0,Ace={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class yd extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Uo).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class Dt{constructor(...e){this.init(...e)}convert(e){return new Dt(this.value,e)}divide(e){return e=new Dt(e),new Dt(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(_L))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof Dt&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new Dt(e),new Dt(this-e,this.unit||e.unit)}plus(e){return e=new Dt(e),new Dt(this+e,this.unit||e.unit)}times(e){return e=new Dt(e),new Dt(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Cce=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),TL=[];class Bl extends Fg{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=Ma(e)).removeNamespace&&this.node instanceof us.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return Ma(e).put(this,t)}children(){return new bd(qk(this.node.children,function(e){return Ln(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let s=this.node.cloneNode(e);return t&&(s=SL(s)),new this.constructor(s)}each(e,t){const s=this.children();let a,i;for(a=0,i=s.length;a<i;a++)e.apply(s[a],[a,s]),t&&s[a].each(e,t);return this}element(e,t){return this.put(new Bl(Qf(e),t))}first(){return Ln(this.node.firstChild)}get(e){return Ln(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=kL(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Ln(this.node.lastChild)}matches(e){const t=this.node,s=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return s&&s.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Ln(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=Ln(t.node.parentNode));return t}put(e,t){return e=Ma(e),this.add(e,t),e}putIn(e,t){return Ma(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=Ma(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const s=10**e,a=this.attr(t);for(const i in a)typeof a[i]=="number"&&(a[i]=Math.round(a[i]*s)/s);return this.attr(a),this}svg(e,t){return this.xml(e,t,Xk)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const s=t.index(this);return t.put(e,s).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,s){if(typeof e=="boolean"&&(s=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let l=this;if(e!=null){if(l=Ln(l.node.cloneNode(!0)),t){const c=e(l);if(l=c||l,c===!1)return""}l.each(function(){const c=e(this),u=c||this;c===!1?this.remove():c&&this!==u&&this.replace(u)},!0)}return t?l.node.outerHTML:l.node.innerHTML}t=t!=null&&t;const a=Qf("wrapper",s),i=us.document.createDocumentFragment();a.innerHTML=e;for(let l=a.children.length;l--;)i.appendChild(a.firstElementChild);const o=this.parent();return t?this.replace(i)&&o:this.add(i)}}At(Bl,{attr:function(r,e,t){if(r==null){r={},e=this.node.attributes;for(const s of e)r[s.nodeName]=GI.test(s.nodeValue)?parseFloat(s.nodeValue):s.nodeValue;return r}if(r instanceof Array)return r.reduce((s,a)=>(s[a]=this.attr(a),s),{});if(typeof r=="object"&&r.constructor===Object)for(e in r)this.attr(e,r[e]);else if(e===null)this.node.removeAttribute(r);else{if(e==null)return(e=this.node.getAttribute(r))==null?Ace[r]:GI.test(e)?parseFloat(e):e;typeof(e=TL.reduce((s,a)=>a(r,s,this),e))=="number"?e=new Dt(e):Cce.has(r)&&zs.isColor(e)?e=new zs(e):e.constructor===Array&&(e=new yd(e)),r==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,r,e.toString()):this.node.setAttribute(r,e.toString()),!this.rebuild||r!=="font-size"&&r!=="x"||this.rebuild()}return this},find:function(r){return Cd(r,this.node)},findOne:function(r){return Ln(this.node.querySelector(r))}}),ms(Bl,"Dom");let xa=class extends Bl{constructor(r,e){super(r,e),this.dom={},this.node.instance=this,(r.hasAttribute("data-svgjs")||r.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(r.getAttribute("data-svgjs"))??JSON.parse(r.getAttribute("svgjs:data"))??{})}center(r,e){return this.cx(r).cy(e)}cx(r){return r==null?this.x()+this.width()/2:this.x(r-this.width()/2)}cy(r){return r==null?this.y()+this.height()/2:this.y(r-this.height()/2)}defs(){const r=this.root();return r&&r.defs()}dmove(r,e){return this.dx(r).dy(e)}dx(r=0){return this.x(new Dt(r).plus(this.x()))}dy(r=0){return this.y(new Dt(r).plus(this.y()))}getEventHolder(){return this}height(r){return this.attr("height",r)}move(r,e){return this.x(r).y(e)}parents(r=this.root()){const e=typeof r=="string";e||(r=Ma(r));const t=new bd;let s=this;for(;(s=s.parent())&&s.node!==us.document&&s.nodeName!=="#document-fragment"&&(t.push(s),e||s.node!==r.node)&&(!e||!s.matches(r));)if(s.node===this.root().node)return null;return t}reference(r){if(!(r=this.attr(r)))return null;const e=(r+"").match(bce);return e?Ma(e[1]):null}root(){const r=this.parent(function(e){return rd[e]}(Kk));return r&&r.root()}setData(r){return this.dom=r,this}size(r,e){const t=jh(this,r,e);return this.width(new Dt(t.width)).height(new Dt(t.height))}width(r){return this.attr("width",r)}writeDataToDom(){return jL(this,this.dom),super.writeDataToDom()}x(r){return this.attr("x",r)}y(r){return this.attr("y",r)}};At(xa,{bbox:function(){const r=KI(this,e=>e.getBBox(),e=>{try{const t=e.clone().addTo(pl().svg).show(),s=t.node.getBBox();return t.remove(),s}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}});return new vr(r)},rbox:function(r){const e=KI(this,s=>s.getBoundingClientRect(),s=>{throw new Error(`Getting rbox of element "${s.node.nodeName}" is not possible`)}),t=new vr(e);return r?t.transform(r.screenCTM().inverseO()):t.addOffset()},inside:function(r,e){const t=this.bbox();return r>t.x&&e>t.y&&r<t.x+t.width&&e<t.y+t.height},point:function(r,e){return new Ns(r,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new yt(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const r=this.rect(1,1),e=r.node.getScreenCTM();return r.remove(),new yt(e)}return new yt(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new yt}}}),ms(xa,"Element");const Um={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(r,e){return e==="color"?r:r+"-"+e}};["fill","stroke"].forEach(function(r){const e={};let t;e[r]=function(s){if(s===void 0)return this.attr(r);if(typeof s=="string"||s instanceof zs||zs.isRgb(s)||s instanceof xa)this.attr(r,s);else for(t=Um[r].length-1;t>=0;t--)s[Um[r][t]]!=null&&this.attr(Um.prefix(r,Um[r][t]),s[Um[r][t]]);return this},Vt(["Element","Runner"],e)}),Vt(["Element","Runner"],{matrix:function(r,e,t,s,a,i){return r==null?new yt(this):this.attr("transform",new yt(r,e,t,s,a,i))},rotate:function(r,e,t){return this.transform({rotate:r,ox:e,oy:t},!0)},skew:function(r,e,t,s){return arguments.length===1||arguments.length===3?this.transform({skew:r,ox:e,oy:t},!0):this.transform({skew:[r,e],ox:t,oy:s},!0)},shear:function(r,e,t){return this.transform({shear:r,ox:e,oy:t},!0)},scale:function(r,e,t,s){return arguments.length===1||arguments.length===3?this.transform({scale:r,ox:e,oy:t},!0):this.transform({scale:[r,e],ox:t,oy:s},!0)},translate:function(r,e){return this.transform({translate:[r,e]},!0)},relative:function(r,e){return this.transform({relative:[r,e]},!0)},flip:function(r="both",e="center"){return"xybothtrue".indexOf(r)===-1&&(e=r,r="both"),this.transform({flip:r,origin:e},!0)},opacity:function(r){return this.attr("opacity",r)}}),Vt("radius",{radius:function(r,e=r){return(this._element||this).type==="radialGradient"?this.attr("r",new Dt(r)):this.rx(r).ry(e)}}),Vt("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(r){return new Ns(this.node.getPointAtLength(r))}}),Vt(["Element","Runner"],{font:function(r,e){if(typeof r=="object"){for(e in r)this.font(e,r[e]);return this}return r==="leading"?this.leading(e):r==="anchor"?this.attr("text-anchor",e):r==="size"||r==="family"||r==="weight"||r==="stretch"||r==="variant"||r==="style"?this.attr("font-"+r,e):this.attr(r,e)}});Vt("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(r,e){return r[e]=function(t){return t===null?this.off(e):this.on(e,t),this},r},{})),Vt("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(yce).slice(0,-1).map(function(e){const t=e.trim().split("(");return[t[0],t[1].split(Uo).map(function(s){return parseFloat(s)})]}).reverse().reduce(function(e,t){return t[0]==="matrix"?e.lmultiply(yt.fromArray(t[1])):e[t[0]].apply(e,t[1])},new yt)},toParent:function(r,e){if(this===r)return this;if(KN(this.node))return this.addTo(r,e);const t=this.screenCTM(),s=r.screenCTM().inverse();return this.addTo(r,e).untransform().transform(s.multiply(t)),this},toRoot:function(r){return this.toParent(this.root(),r)},transform:function(r,e){if(r==null||typeof r=="string"){const s=new yt(this).decompose();return r==null?s:s[r]}yt.isMatrixLike(r)||(r={...r,origin:GN(r,this)});const t=new yt(e===!0?this:e||!1).transform(r);return this.attr("transform",t)}});class Va extends xa{flatten(){return this.each(function(){if(this instanceof Va)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each(function(s,a){return a[a.length-s-1].toParent(e,t)}),this.remove()}}ms(Va,"Container");class iy extends Va{constructor(e,t=e){super(Xs("defs",e),t)}flatten(){return this}ungroup(){return this}}ms(iy,"Defs");class vn extends xa{}function Jk(r){return this.attr("rx",r)}function eS(r){return this.attr("ry",r)}function PL(r){return r==null?this.cx()-this.rx():this.cx(r+this.rx())}function RL(r){return r==null?this.cy()-this.ry():this.cy(r+this.ry())}function IL(r){return this.attr("cx",r)}function DL(r){return this.attr("cy",r)}function ML(r){return r==null?2*this.rx():this.rx(new Dt(r).divide(2))}function OL(r){return r==null?2*this.ry():this.ry(new Dt(r).divide(2))}ms(vn,"Shape");var Ece=Object.freeze({__proto__:null,cx:IL,cy:DL,height:OL,rx:Jk,ry:eS,width:ML,x:PL,y:RL});class u0 extends vn{constructor(e,t=e){super(Xs("ellipse",e),t)}size(e,t){const s=jh(this,e,t);return this.rx(new Dt(s.width).divide(2)).ry(new Dt(s.height).divide(2))}}At(u0,Ece),Vt("Container",{ellipse:qs(function(r=0,e=r){return this.put(new u0).size(r,e).move(0,0)})}),ms(u0,"Ellipse");class LL extends Bl{constructor(e=us.document.createDocumentFragment()){super(e)}xml(e,t,s){if(typeof e=="boolean"&&(s=t,t=e,e=null),e==null||typeof e=="function"){const a=new Bl(Qf("wrapper",s));return a.add(this.node.cloneNode(!0)),a.xml(!1,s)}return super.xml(e,!1,s)}}function FL(r,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new Dt(r),fy:new Dt(e)}):this.attr({x1:new Dt(r),y1:new Dt(e)})}function UL(r,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new Dt(r),cy:new Dt(e)}):this.attr({x2:new Dt(r),y2:new Dt(e)})}ms(LL,"Fragment");var Tce=Object.freeze({__proto__:null,from:FL,to:UL});class wf extends Va{constructor(e,t){super(Xs(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,s){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,s)}bbox(){return new vr}targets(){return Cd("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}At(wf,Tce),Vt({Container:{gradient(...r){return this.defs().gradient(...r)}},Defs:{gradient:qs(function(r,e){return this.put(new wf(r)).update(e)})}}),ms(wf,"Gradient");class Zf extends Va{constructor(e,t=e){super(Xs("pattern",e),t)}attr(e,t,s){return e==="transform"&&(e="patternTransform"),super.attr(e,t,s)}bbox(){return new vr}targets(){return Cd("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Vt({Container:{pattern(...r){return this.defs().pattern(...r)}},Defs:{pattern:qs(function(r,e,t){return this.put(new Zf).update(t).attr({x:0,y:0,width:r,height:e,patternUnits:"userSpaceOnUse"})})}}),ms(Zf,"Pattern");let h0=class extends vn{constructor(r,e=r){super(Xs("image",r),e)}load(r,e){if(!r)return this;const t=new us.window.Image;return Ao(t,"load",function(s){const a=this.parent(Zf);this.width()===0&&this.height()===0&&this.size(t.width,t.height),a instanceof Zf&&a.width()===0&&a.height()===0&&a.size(this.width(),this.height()),typeof e=="function"&&e.call(this,s)},this),Ao(t,"load error",function(){Fn(t)}),this.attr("href",t.src=r,kh)}};var ZI;ZI=function(r,e,t){return r!=="fill"&&r!=="stroke"||wce.test(e)&&(e=t.root().defs().image(e)),e instanceof h0&&(e=t.root().defs().pattern(0,0,s=>{s.add(e)})),e},TL.push(ZI),Vt({Container:{image:qs(function(r,e){return this.put(new h0).size(0,0).load(r,e)})}}),ms(h0,"Image");class Hl extends yd{bbox(){let e=-1/0,t=-1/0,s=1/0,a=1/0;return this.forEach(function(i){e=Math.max(i[0],e),t=Math.max(i[1],t),s=Math.min(i[0],s),a=Math.min(i[1],a)}),new vr(s,a,e-s,t-a)}move(e,t){const s=this.bbox();if(e-=s.x,t-=s.y,!isNaN(e)&&!isNaN(t))for(let a=this.length-1;a>=0;a--)this[a]=[this[a][0]+e,this[a][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Uo).map(parseFloat)).length%2!=0&&e.pop();for(let s=0,a=e.length;s<a;s+=2)t.push([e[s],e[s+1]]);return t}size(e,t){let s;const a=this.bbox();for(s=this.length-1;s>=0;s--)a.width&&(this[s][0]=(this[s][0]-a.x)*e/a.width+a.x),a.height&&(this[s][1]=(this[s][1]-a.y)*t/a.height+a.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,s=this.length;t<s;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){yt.isMatrixLike(e)||(e=new yt(e));for(let t=this.length;t--;){const[s,a]=this[t];this[t][0]=e.a*s+e.c*a+e.e,this[t][1]=e.b*s+e.d*a+e.f}return this}}const Pce=Hl;var tS=Object.freeze({__proto__:null,MorphArray:Pce,height:function(r){const e=this.bbox();return r==null?e.height:this.size(e.width,r)},width:function(r){const e=this.bbox();return r==null?e.width:this.size(r,e.height)},x:function(r){return r==null?this.bbox().x:this.move(r,this.bbox().y)},y:function(r){return r==null?this.bbox().y:this.move(this.bbox().x,r)}});let qc=class extends vn{constructor(r,e=r){super(Xs("line",r),e)}array(){return new Hl([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(r,e){return this.attr(this.array().move(r,e).toLine())}plot(r,e,t,s){return r==null?this.array():(r=e!==void 0?{x1:r,y1:e,x2:t,y2:s}:new Hl(r).toLine(),this.attr(r))}size(r,e){const t=jh(this,r,e);return this.attr(this.array().size(t.width,t.height).toLine())}};At(qc,tS),Vt({Container:{line:qs(function(...r){return qc.prototype.plot.apply(this.put(new qc),r[0]!=null?r:[0,0,0,0])})}}),ms(qc,"Line");let m0=class extends Va{constructor(r,e=r){super(Xs("marker",r),e)}height(r){return this.attr("markerHeight",r)}orient(r){return this.attr("orient",r)}ref(r,e){return this.attr("refX",r).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(r){return this.clear(),typeof r=="function"&&r.call(this,this),this}width(r){return this.attr("markerWidth",r)}};function Pu(r,e){return function(t){return t==null?this[r]:(this[r]=t,e&&e.call(this),this)}}Vt({Container:{marker(...r){return this.defs().marker(...r)}},Defs:{marker:qs(function(r,e,t){return this.put(new m0).size(r,e).ref(r/2,e/2).viewbox(0,0,r,e).attr("orient","auto").update(t)})},marker:{marker(r,e,t,s){let a=["marker"];return r!=="all"&&a.push(r),a=a.join("-"),r=arguments[1]instanceof m0?arguments[1]:this.defs().marker(e,t,s),this.attr(a,r)}}}),ms(m0,"Marker");const Rce={"-":function(r){return r},"<>":function(r){return-Math.cos(r*Math.PI)/2+.5},">":function(r){return Math.sin(r*Math.PI/2)},"<":function(r){return 1-Math.cos(r*Math.PI/2)},bezier:function(r,e,t,s){return function(a){return a<0?r>0?e/r*a:t>0?s/t*a:0:a>1?t<1?(1-s)/(1-t)*a+(s-t)/(1-t):r<1?(1-e)/(1-r)*a+(e-r)/(1-r):1:3*a*(1-a)**2*e+3*a**2*(1-a)*s+a**3}},steps:function(r,e="end"){e=e.split("-").reverse()[0];let t=r;return e==="none"?--t:e==="both"&&++t,(s,a=!1)=>{let i=Math.floor(s*r);const o=s*i%1==0;return e!=="start"&&e!=="both"||++i,a&&o&&--i,s>=0&&i<0&&(i=0),s<=1&&i>t&&(i=t),i/t}}};class sS{done(){return!1}}class QN extends sS{constructor(e=Sce){super(),this.ease=Rce[e]||e}step(e,t,s){return typeof e!="number"?s<1?e:t:e+(t-e)*this.ease(s)}}class ib extends sS{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,s,a){return this.stepper(e,t,s,a)}}function JI(){const r=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,s=Math.log(e/100+1e-10),a=-s/Math.sqrt(t*t+s*s),i=3.9/(a*r);this.d=2*a*i,this.k=i*i}At(class extends ib{constructor(r=500,e=0){super(),this.duration(r).overshoot(e)}step(r,e,t,s){if(typeof r=="string")return r;if(s.done=t===1/0,t===1/0)return e;if(t===0)return r;t>100&&(t=16),t/=1e3;const a=s.velocity||0,i=-this.d*a-this.k*(r-e),o=r+a*t+i*t*t/2;return s.velocity=a+i*t,s.done=Math.abs(e-o)+Math.abs(a)<.002,s.done?e:o}},{duration:Pu("_duration",JI),overshoot:Pu("_overshoot",JI)});At(class extends ib{constructor(r=.1,e=.01,t=0,s=1e3){super(),this.p(r).i(e).d(t).windup(s)}step(r,e,t,s){if(typeof r=="string")return r;if(s.done=t===1/0,t===1/0)return e;if(t===0)return r;const a=e-r;let i=(s.integral||0)+a*t;const o=(a-(s.error||0))/t,l=this._windup;return l!==!1&&(i=Math.max(-l,Math.min(i,l))),s.error=a,s.integral=i,s.done=Math.abs(a)<.001,s.done?e:r+(this.P*a+this.I*i+this.D*o)}},{windup:Pu("_windup"),p:Pu("P"),i:Pu("I"),d:Pu("D")});const Ice={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},ZN={M:function(r,e,t){return e.x=t.x=r[0],e.y=t.y=r[1],["M",e.x,e.y]},L:function(r,e){return e.x=r[0],e.y=r[1],["L",r[0],r[1]]},H:function(r,e){return e.x=r[0],["H",r[0]]},V:function(r,e){return e.y=r[0],["V",r[0]]},C:function(r,e){return e.x=r[4],e.y=r[5],["C",r[0],r[1],r[2],r[3],r[4],r[5]]},S:function(r,e){return e.x=r[2],e.y=r[3],["S",r[0],r[1],r[2],r[3]]},Q:function(r,e){return e.x=r[2],e.y=r[3],["Q",r[0],r[1],r[2],r[3]]},T:function(r,e){return e.x=r[0],e.y=r[1],["T",r[0],r[1]]},Z:function(r,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(r,e){return e.x=r[5],e.y=r[6],["A",r[0],r[1],r[2],r[3],r[4],r[5],r[6]]}},m1="mlhvqtcsaz".split("");for(let r=0,e=m1.length;r<e;++r)ZN[m1[r]]=function(t){return function(s,a,i){if(t==="H")s[0]=s[0]+a.x;else if(t==="V")s[0]=s[0]+a.y;else if(t==="A")s[5]=s[5]+a.x,s[6]=s[6]+a.y;else for(let o=0,l=s.length;o<l;++o)s[o]=s[o]+(o%2?a.y:a.x);return ZN[t](s,a,i)}}(m1[r].toUpperCase());function JN(r){return r.segment.length&&r.segment.length-1===Ice[r.segment[0].toUpperCase()]}function Dce(r,e){r.inNumber&&Oc(r,!1);const t=Qk.test(e);if(t)r.segment=[e];else{const s=r.lastCommand,a=s.toLowerCase(),i=s===a;r.segment=[a==="m"?i?"l":"L":s]}return r.inSegment=!0,r.lastCommand=r.segment[0],t}function Oc(r,e){if(!r.inNumber)throw new Error("Parser Error");r.number&&r.segment.push(parseFloat(r.number)),r.inNumber=e,r.number="",r.pointSeen=!1,r.hasExponent=!1,JN(r)&&ej(r)}function ej(r){r.inSegment=!1,r.absolute&&(r.segment=function(e){const t=e.segment[0];return ZN[t](e.segment.slice(1),e.p,e.p0)}(r)),r.segments.push(r.segment)}function Mce(r){if(!r.segment.length)return!1;const e=r.segment[0].toUpperCase()==="A",t=r.segment.length;return e&&(t===4||t===5)}function Oce(r){return r.lastToken.toUpperCase()==="E"}const Lce=new Set([" ",",","	",`
`,"\r","\f"]);class Zn extends yd{bbox(){return pl().path.setAttribute("d",this.toString()),new vr(pl.nodes.path.getBBox())}move(e,t){const s=this.bbox();if(e-=s.x,t-=s.y,!isNaN(e)&&!isNaN(t))for(let a,i=this.length-1;i>=0;i--)a=this[i][0],a==="M"||a==="L"||a==="T"?(this[i][1]+=e,this[i][2]+=t):a==="H"?this[i][1]+=e:a==="V"?this[i][1]+=t:a==="C"||a==="S"||a==="Q"?(this[i][1]+=e,this[i][2]+=t,this[i][3]+=e,this[i][4]+=t,a==="C"&&(this[i][5]+=e,this[i][6]+=t)):a==="A"&&(this[i][6]+=e,this[i][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(t,s=!0){let a=0,i="";const o={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:s,p0:new Ns,p:new Ns};for(;o.lastToken=i,i=t.charAt(a++);)if(o.inSegment||!Dce(o,i))if(i!==".")if(isNaN(parseInt(i)))if(Lce.has(i))o.inNumber&&Oc(o,!1);else if(i!=="-"&&i!=="+")if(i.toUpperCase()!=="E"){if(Qk.test(i)){if(o.inNumber)Oc(o,!1);else{if(!JN(o))throw new Error("parser Error");ej(o)}--a}}else o.number+=i,o.hasExponent=!0;else{if(o.inNumber&&!Oce(o)){Oc(o,!1),--a;continue}o.number+=i,o.inNumber=!0}else{if(o.number==="0"||Mce(o)){o.inNumber=!0,o.number=i,Oc(o,!0);continue}o.inNumber=!0,o.number+=i}else{if(o.pointSeen||o.hasExponent){Oc(o,!1),--a;continue}o.inNumber=!0,o.pointSeen=!0,o.number+=i}return o.inNumber&&Oc(o,!1),o.inSegment&&JN(o)&&ej(o),o.segments}(e)}size(e,t){const s=this.bbox();let a,i;for(s.width=s.width===0?1:s.width,s.height=s.height===0?1:s.height,a=this.length-1;a>=0;a--)i=this[a][0],i==="M"||i==="L"||i==="T"?(this[a][1]=(this[a][1]-s.x)*e/s.width+s.x,this[a][2]=(this[a][2]-s.y)*t/s.height+s.y):i==="H"?this[a][1]=(this[a][1]-s.x)*e/s.width+s.x:i==="V"?this[a][1]=(this[a][1]-s.y)*t/s.height+s.y:i==="C"||i==="S"||i==="Q"?(this[a][1]=(this[a][1]-s.x)*e/s.width+s.x,this[a][2]=(this[a][2]-s.y)*t/s.height+s.y,this[a][3]=(this[a][3]-s.x)*e/s.width+s.x,this[a][4]=(this[a][4]-s.y)*t/s.height+s.y,i==="C"&&(this[a][5]=(this[a][5]-s.x)*e/s.width+s.x,this[a][6]=(this[a][6]-s.y)*t/s.height+s.y)):i==="A"&&(this[a][1]=this[a][1]*e/s.width,this[a][2]=this[a][2]*t/s.height,this[a][6]=(this[a][6]-s.x)*e/s.width+s.x,this[a][7]=(this[a][7]-s.y)*t/s.height+s.y);return this}toString(){return function(e){let t="";for(let s=0,a=e.length;s<a;s++)t+=e[s][0],e[s][1]!=null&&(t+=e[s][1],e[s][2]!=null&&(t+=" ",t+=e[s][2],e[s][3]!=null&&(t+=" ",t+=e[s][3],t+=" ",t+=e[s][4],e[s][5]!=null&&(t+=" ",t+=e[s][5],t+=" ",t+=e[s][6],e[s][7]!=null&&(t+=" ",t+=e[s][7])))));return t+" "}(this)}}const zL=r=>{const e=typeof r;return e==="number"?Dt:e==="string"?zs.isColor(r)?zs:Uo.test(r)?Qk.test(r)?Zn:yd:_L.test(r)?Dt:tj:sj.indexOf(r.constructor)>-1?r.constructor:Array.isArray(r)?yd:e==="object"?Jf:tj};class Lc{constructor(e){this._stepper=e||new QN("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(zL(e));let t=new this._type(e);return this._type===zs&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===Jf&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(s){return s.done=!0,s}),t}}class tj{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Ug{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Ug.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Ug.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const Fce=(r,e)=>r[0]<e[0]?-1:r[0]>e[0]?1:0;class Jf{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let s=0,a=t.length;s<a;++s){if(t[s+1]===e[s+1]){if(t[s+1]===zs&&e[s+7]!==t[s+7]){const l=e[s+7],c=new zs(this.values.splice(s+3,5))[l]().toArray();this.values.splice(s+3,0,...c)}s+=t[s+2]+2;continue}if(!e[s+1])return this;const i=new e[s+1]().toArray(),o=t[s+2]+3;t.splice(s,o,e[s],e[s+1],e[s+2],...i),s+=t[s+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const s in e){const a=zL(e[s]),i=new a(e[s]).toArray();t.push([s,a,i.length,...i])}return t.sort(Fce),this.values=t.reduce((s,a)=>s.concat(a),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const s=t.shift(),a=t.shift(),i=t.shift(),o=t.splice(0,i);e[s]=new a(o)}return e}}const sj=[tj,Ug,Jf];class Vu extends vn{constructor(e,t=e){super(Xs("path",e),t)}array(){return this._array||(this._array=new Zn(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new Zn(e))}size(e,t){const s=jh(this,e,t);return this.attr("d",this.array().size(s.width,s.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}Vu.prototype.MorphArray=Zn,Vt({Container:{path:qs(function(r){return this.put(new Vu).plot(r||new Zn)})}}),ms(Vu,"Path");var VL=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Hl(this.attr("points")))},clear:function(){return delete this._array,this},move:function(r,e){return this.attr("points",this.array().move(r,e))},plot:function(r){return r==null?this.array():this.clear().attr("points",typeof r=="string"?r:this._array=new Hl(r))},size:function(r,e){const t=jh(this,r,e);return this.attr("points",this.array().size(t.width,t.height))}});class Xc extends vn{constructor(e,t=e){super(Xs("polygon",e),t)}}Vt({Container:{polygon:qs(function(r){return this.put(new Xc).plot(r||new Hl)})}}),At(Xc,tS),At(Xc,VL),ms(Xc,"Polygon");class Gc extends vn{constructor(e,t=e){super(Xs("polyline",e),t)}}Vt({Container:{polyline:qs(function(r){return this.put(new Gc).plot(r||new Hl)})}}),At(Gc,tS),At(Gc,VL),ms(Gc,"Polyline");class f0 extends vn{constructor(e,t=e){super(Xs("rect",e),t)}}At(f0,{rx:Jk,ry:eS}),Vt({Container:{rect:qs(function(r,e){return this.put(new f0).size(r,e)})}}),ms(f0,"Rect");class f1{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Cs={nextDraw:null,frames:new f1,timeouts:new f1,immediates:new f1,timer:()=>us.window.performance||us.window.Date,transforms:[],frame(r){const e=Cs.frames.push({run:r});return Cs.nextDraw===null&&(Cs.nextDraw=us.window.requestAnimationFrame(Cs._draw)),e},timeout(r,e){e=e||0;const t=Cs.timer().now()+e,s=Cs.timeouts.push({run:r,time:t});return Cs.nextDraw===null&&(Cs.nextDraw=us.window.requestAnimationFrame(Cs._draw)),s},immediate(r){const e=Cs.immediates.push(r);return Cs.nextDraw===null&&(Cs.nextDraw=us.window.requestAnimationFrame(Cs._draw)),e},cancelFrame(r){r!=null&&Cs.frames.remove(r)},clearTimeout(r){r!=null&&Cs.timeouts.remove(r)},cancelImmediate(r){r!=null&&Cs.immediates.remove(r)},_draw(r){let e=null;const t=Cs.timeouts.last();for(;(e=Cs.timeouts.shift())&&(r>=e.time?e.run():Cs.timeouts.push(e),e!==t););let s=null;const a=Cs.frames.last();for(;s!==a&&(s=Cs.frames.shift());)s.run(r);let i=null;for(;i=Cs.immediates.shift();)i();Cs.nextDraw=Cs.timeouts.first()||Cs.frames.first()?us.window.requestAnimationFrame(Cs._draw):null}},Uce=function(r){const e=r.start,t=r.runner.duration();return{start:e,duration:t,end:e+t,runner:r.runner}},zce=function(){const r=us.window;return(r.performance||r.Date).now()};class BL extends Fg{constructor(e=zce){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const s=Math.abs(t);return this.speed(e?-s:s)}schedule(e,t,s){if(e==null)return this._runners.map(Uce);let a=0;const i=this.getEndTime();if(t=t||0,s==null||s==="last"||s==="after")a=i;else if(s==="absolute"||s==="start")a=t,t=0;else if(s==="now")a=this._time;else if(s==="relative"){const c=this.getRunnerInfoById(e.id);c&&(a=c.start+t,t=0)}else{if(s!=="with-last")throw new Error('Invalid value for the "when" parameter');{const c=this.getLastRunnerInfo();a=c?c.start:this._time}}e.unschedule(),e.timeline(this);const o=e.persist(),l={persist:o===null?this._persist:o,start:a+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(l),this._runners.sort((c,u)=>c.start-u.start),this._runnerIds=this._runners.map(c=>c.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Cs.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Cs.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let s=t-this._lastSourceTime;e&&(s=0);const a=this._speed*s+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=a,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const l=this._runners[o],c=l.runner;this._time-l.start<=0&&c.reset()}let i=!1;for(let o=0,l=this._runners.length;o<l;o++){const c=this._runners[o],u=c.runner;let h=a;const f=this._time-c.start;if(f<=0){i=!0;continue}f<h&&(h=f),u.active()&&(u.step(h).done?c.persist!==!0&&u.duration()-u.time()+this._time+c.persist<this._time&&(u.unschedule(),--o,--l):i=!0)}return i&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}Vt({Element:{timeline:function(r){return r==null?(this._timeline=this._timeline||new BL,this._timeline):(this._timeline=r,this)}}});class yn extends Fg{constructor(e){super(),this.id=yn.id++,e=typeof(e=e??h1)=="function"?new ib(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof ib,this._stepper=this._isDeclarative?e:new QN,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new yt,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,s){let a=1,i=!1,o=0;return t=t??_ce,s=s||"last",typeof(e=e??h1)!="object"||e instanceof sS||(t=e.delay??t,s=e.when??s,i=e.swing||i,a=e.times??a,o=e.wait??o,e=e.duration??h1),{duration:e,delay:t,swing:i,times:a,wait:o,when:s}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,s){const a=yn.sanitise(e,t,s),i=new yn(a.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(a).schedule(a.delay,a.when)}clearTransform(){return this.transforms=new yt,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new QN(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,s){return typeof e=="object"&&(t=e.swing,s=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=s||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const i=Math.floor(this._time/t),o=(this._time-i*t)/this._duration;return Math.min(i+o,this._times)}const s=e%1,a=t*Math.floor(e)+this._duration*s;return this.time(a)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,s=this._duration,a=this._wait,i=this._times,o=this._swing,l=this._reverse;let c;if(e==null){const f=function(x){const y=o*Math.floor(x%(2*(a+s))/(a+s)),b=y&&!l||!y&&l,v=Math.pow(-1,b)*(x%(a+s))/s+b;return Math.max(Math.min(v,1),0)},g=i*(a+s)-a;return c=t<=0?Math.round(f(1e-5)):t<g?f(t):Math.round(f(g-1e-5)),c}const u=Math.floor(this.loops()),h=o&&u%2==0;return c=u+(h&&!l||l&&h?e:1-e),this.loops(c)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,s,a){return this._queue.push({initialiser:e||QI,runner:t||QI,retarget:s,isTransform:a,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,s){if(e instanceof BL||(s=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,s),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),s=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const a=this.duration(),i=this._lastTime<=0&&this._time>0,o=this._lastTime<a&&this._time>=a;this._lastTime=this._time,i&&this.fire("start",this);const l=this._isDeclarative;this.done=!l&&!o&&this._time>=a,this._reseted=!1;let c=!1;return(s||l)&&(this._initialise(s),this.transforms=new yt,c=this._run(l?e:t),this.fire("step",this)),this.done=this.done||c&&l,o&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,s=this._queue.length;t<s;++t){const a=this._queue[t],i=this._isDeclarative||!a.initialised&&e;e=!a.finished,i&&e&&(a.initialiser.call(this),a.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const s=this.timeline();s&&s.play()}}_run(e){let t=!0;for(let s=0,a=this._queue.length;s<a;++s){const i=this._queue[s],o=i.runner.call(this,e);i.finished=i.finished||o===!0,t=t&&i.finished}return t}_tryRetarget(e,t,s){if(this._history[e]){if(!this._history[e].caller.initialised){const i=this._queue.indexOf(this._history[e].caller);return this._queue.splice(i,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,s):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const a=this.timeline();return a&&a.play(),!0}return!1}}yn.id=0;class ob{constructor(e=new yt,t=-1,s=!0){this.transforms=e,this.id=t,this.done=s}clearTransformsFromQueue(){}}At([yn,ob],{mergeWith(r){return new ob(r.transforms.lmultiply(this.transforms),r.id)}});const HL=(r,e)=>r.lmultiplyO(e),$L=r=>r.transforms;function Vce(){const r=this._transformationRunners.runners.map($L).reduce(HL,new yt);this.transform(r),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class Bce{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new ob).forEach(s=>s.clearTransformsFromQueue()),this}edit(e,t){const s=this.ids.indexOf(e+1);return this.ids.splice(s,1,e+1),this.runners.splice(s,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const s=this.runners[t];if(e&&s.done&&e.done&&(!s._timeline||!s._timeline._runnerIds.includes(s.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(s.id);const a=s.mergeWith(e);this.edit(e.id,a),e=a,--t}else e=s}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}Vt({Element:{animate(r,e,t){const s=yn.sanitise(r,e,t),a=this.timeline();return new yn(s.duration).loop(s).element(this).timeline(a.play()).schedule(s.delay,s.when)},delay(r,e){return this.animate(0,r,e)},_clearTransformRunnersBefore(r){this._transformationRunners.clearBefore(r.id)},_currentTransform(r){return this._transformationRunners.runners.filter(e=>e.id<=r.id).map($L).reduce(HL,new yt)},_addRunner(r){this._transformationRunners.add(r),Cs.cancelImmediate(this._frameId),this._frameId=Cs.immediate(Vce.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Bce().add(new ob(new yt(this))))}}});At(yn,{attr(r,e){return this.styleAttr("attr",r,e)},css(r,e){return this.styleAttr("css",r,e)},styleAttr(r,e,t){if(typeof e=="string")return this.styleAttr(r,{[e]:t});let s=e;if(this._tryRetarget(r,s))return this;let a=new Lc(this._stepper).to(s),i=Object.keys(s);return this.queue(function(){a=a.from(this.element()[r](i))},function(o){return this.element()[r](a.at(o).valueOf()),a.done()},function(o){const l=Object.keys(o),c=(u=i,l.filter(f=>!u.includes(f)));var u;if(c.length){const f=this.element()[r](c),g=new Jf(a.from()).valueOf();Object.assign(g,f),a.from(g)}const h=new Jf(a.to()).valueOf();Object.assign(h,o),a.to(h),i=l,s=o}),this._rememberMorpher(r,a),this},zoom(r,e){if(this._tryRetarget("zoom",r,e))return this;let t=new Lc(this._stepper).to(new Dt(r));return this.queue(function(){t=t.from(this.element().zoom())},function(s){return this.element().zoom(t.at(s),e),t.done()},function(s,a){e=a,t.to(s)}),this._rememberMorpher("zoom",t),this},transform(r,e,t){if(e=r.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",r))return this;const s=yt.isMatrixLike(r);t=r.affine!=null?r.affine:t??!s;const a=new Lc(this._stepper).type(t?Ug:yt);let i,o,l,c,u;return this.queue(function(){o=o||this.element(),i=i||GN(r,o),u=new yt(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)},function(h){e||this.clearTransform();const{x:f,y:g}=new Ns(i).transform(o._currentTransform(this));let x=new yt({...r,origin:[f,g]}),y=this._isDeclarative&&l?l:u;if(t){x=x.decompose(f,g),y=y.decompose(f,g);const v=x.rotate,N=y.rotate,k=[v-360,v,v+360],C=k.map(I=>Math.abs(I-N)),R=Math.min(...C),_=C.indexOf(R);x.rotate=k[_]}e&&(s||(x.rotate=r.rotate||0),this._isDeclarative&&c&&(y.rotate=c)),a.from(y),a.to(x);const b=a.at(h);return c=b.rotate,l=new yt(b),this.addTransform(l),o._addRunner(this),a.done()},function(h){(h.origin||"center").toString()!==(r.origin||"center").toString()&&(i=GN(h,o)),r={...h,origin:i}},!0),this._isDeclarative&&this._rememberMorpher("transform",a),this},x(r){return this._queueNumber("x",r)},y(r){return this._queueNumber("y",r)},ax(r){return this._queueNumber("ax",r)},ay(r){return this._queueNumber("ay",r)},dx(r=0){return this._queueNumberDelta("x",r)},dy(r=0){return this._queueNumberDelta("y",r)},dmove(r,e){return this.dx(r).dy(e)},_queueNumberDelta(r,e){if(e=new Dt(e),this._tryRetarget(r,e))return this;const t=new Lc(this._stepper).to(e);let s=null;return this.queue(function(){s=this.element()[r](),t.from(s),t.to(s+e)},function(a){return this.element()[r](t.at(a)),t.done()},function(a){t.to(s+new Dt(a))}),this._rememberMorpher(r,t),this},_queueObject(r,e){if(this._tryRetarget(r,e))return this;const t=new Lc(this._stepper).to(e);return this.queue(function(){t.from(this.element()[r]())},function(s){return this.element()[r](t.at(s)),t.done()}),this._rememberMorpher(r,t),this},_queueNumber(r,e){return this._queueObject(r,new Dt(e))},cx(r){return this._queueNumber("cx",r)},cy(r){return this._queueNumber("cy",r)},move(r,e){return this.x(r).y(e)},amove(r,e){return this.ax(r).ay(e)},center(r,e){return this.cx(r).cy(e)},size(r,e){let t;return r&&e||(t=this._element.bbox()),r||(r=t.width/t.height*e),e||(e=t.height/t.width*r),this.width(r).height(e)},width(r){return this._queueNumber("width",r)},height(r){return this._queueNumber("height",r)},plot(r,e,t,s){if(arguments.length===4)return this.plot([r,e,t,s]);if(this._tryRetarget("plot",r))return this;const a=new Lc(this._stepper).type(this._element.MorphArray).to(r);return this.queue(function(){a.from(this._element.array())},function(i){return this._element.plot(a.at(i)),a.done()}),this._rememberMorpher("plot",a),this},leading(r){return this._queueNumber("leading",r)},viewbox(r,e,t,s){return this._queueObject("viewbox",new vr(r,e,t,s))},update(r){return typeof r!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(r.opacity!=null&&this.attr("stop-opacity",r.opacity),r.color!=null&&this.attr("stop-color",r.color),r.offset!=null&&this.attr("offset",r.offset),this)}}),At(yn,{rx:Jk,ry:eS,from:FL,to:UL}),ms(yn,"Runner");class rj extends Va{constructor(e,t=e){super(Xs("svg",e),t),this.namespace()}defs(){return this.isRoot()?Ln(this.node.querySelector("defs"))||this.put(new iy):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof us.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:Xk,version:"1.1"}).attr("xmlns:xlink",kh,c1):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,c1).attr("xmlns:svgjs",null,c1)}root(){return this.isRoot()?this:super.root()}}Vt({Container:{nested:qs(function(){return this.put(new rj)})}}),ms(rj,"Svg",!0);let aj=class extends Va{constructor(r,e=r){super(Xs("symbol",r),e)}};Vt({Container:{symbol:qs(function(){return this.put(new aj)})}}),ms(aj,"Symbol");var WL=Object.freeze({__proto__:null,amove:function(r,e){return this.ax(r).ay(e)},ax:function(r){return this.attr("x",r)},ay:function(r){return this.attr("y",r)},build:function(r){return this._build=!!r,this},center:function(r,e,t=this.bbox()){return this.cx(r,t).cy(e,t)},cx:function(r,e=this.bbox()){return r==null?e.cx:this.attr("x",this.attr("x")+r-e.cx)},cy:function(r,e=this.bbox()){return r==null?e.cy:this.attr("y",this.attr("y")+r-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(r,e,t=this.bbox()){return this.x(r,t).y(e,t)},plain:function(r){return this._build===!1&&this.clear(),this.node.appendChild(us.document.createTextNode(r)),this},x:function(r,e=this.bbox()){return r==null?e.x:this.attr("x",this.attr("x")+r-e.x)},y:function(r,e=this.bbox()){return r==null?e.y:this.attr("y",this.attr("y")+r-e.y)}});class Jn extends vn{constructor(e,t=e){super(Xs("text",e),t),this.dom.leading=this.dom.leading??new Dt(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new Dt(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let s=0;const a=this.dom.leading;this.each(function(i){if(KN(this.node))return;const o=us.window.getComputedStyle(this.node).getPropertyValue("font-size"),l=a*new Dt(o);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?s+=l:(this.attr("dy",i?l+s:0),s=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new Dt(e.leading||1.3),this}writeDataToDom(){return jL(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let s=0;e="";for(let a=0,i=t.length;a<i;++a)t[a].nodeName==="textPath"||KN(t[a])?a===0&&(s=a+1):(a!==s&&t[a].nodeType!==3&&Ln(t[a]).dom.newLined===!0&&(e+=`
`),e+=t[a].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,s=(e=(e+"").split(`
`)).length;t<s;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}At(Jn,WL),Vt({Container:{text:qs(function(r=""){return this.put(new Jn).text(r)}),plain:qs(function(r=""){return this.put(new Jn).plain(r)})}}),ms(Jn,"Text");class g0 extends vn{constructor(e,t=e){super(Xs("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Jn))return this;const t=e.index(this),s=us.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=e.dom.leading*new Dt(s);return this.dy(t?a:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}At(g0,WL),Vt({Tspan:{tspan:qs(function(r=""){const e=new g0;return this._build||this.clear(),this.put(e).text(r)})},Text:{newLine:function(r=""){return this.tspan(r).newLine()}}}),ms(g0,"Tspan");class g1 extends vn{constructor(e,t=e){super(Xs("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new Dt(e).divide(2))}}At(g1,{x:PL,y:RL,cx:IL,cy:DL,width:ML,height:OL}),Vt({Container:{circle:qs(function(r=0){return this.put(new g1).size(r).move(0,0)})}}),ms(g1,"Circle");class p1 extends Va{constructor(e,t=e){super(Xs("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return Cd("svg [clip-path*="+this.id()+"]")}}Vt({Container:{clip:qs(function(){return this.defs().put(new p1)})},Element:{clipper(){return this.reference("clip-path")},clipWith(r){const e=r instanceof p1?r:this.parent().clip().add(r);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),ms(p1,"ClipPath");class e4 extends xa{constructor(e,t=e){super(Xs("foreignObject",e),t)}}Vt({Container:{foreignObject:qs(function(r,e){return this.put(new e4).size(r,e)})}}),ms(e4,"ForeignObject");var YL=Object.freeze({__proto__:null,dmove:function(r,e){return this.children().forEach(t=>{let s;try{s=t.node instanceof Lg().SVGSVGElement?new vr(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const a=new yt(t),i=a.translate(r,e).transform(a.inverse()),o=new Ns(s.x,s.y).transform(i);t.move(o.x,o.y)}),this},dx:function(r){return this.dmove(r,0)},dy:function(r){return this.dmove(0,r)},height:function(r,e=this.bbox()){return r==null?e.height:this.size(e.width,r,e)},move:function(r=0,e=0,t=this.bbox()){const s=r-t.x,a=e-t.y;return this.dmove(s,a)},size:function(r,e,t=this.bbox()){const s=jh(this,r,e,t),a=s.width/t.width,i=s.height/t.height;return this.children().forEach(o=>{const l=new Ns(t).transform(new yt(o).inverse());o.scale(a,i,l.x,l.y)}),this},width:function(r,e=this.bbox()){return r==null?e.width:this.size(r,e.height,e)},x:function(r,e=this.bbox()){return r==null?e.x:this.move(r,e.y,e)},y:function(r,e=this.bbox()){return r==null?e.y:this.move(e.x,r,e)}});class Cl extends Va{constructor(e,t=e){super(Xs("g",e),t)}}At(Cl,YL),Vt({Container:{group:qs(function(){return this.put(new Cl)})}}),ms(Cl,"G");class Lx extends Va{constructor(e,t=e){super(Xs("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,kh)}}At(Lx,YL),Vt({Container:{link:qs(function(r){return this.put(new Lx).to(r)})},Element:{unlink(){const r=this.linker();if(!r)return this;const e=r.parent();if(!e)return this.remove();const t=e.index(r);return e.add(this,t),r.remove(),this},linkTo(r){let e=this.linker();return e||(e=new Lx,this.wrap(e)),typeof r=="function"?r.call(e,e):e.to(r),this},linker(){const r=this.parent();return r&&r.node.nodeName.toLowerCase()==="a"?r:null}}}),ms(Lx,"A");class x1 extends Va{constructor(e,t=e){super(Xs("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return Cd("svg [mask*="+this.id()+"]")}}Vt({Container:{mask:qs(function(){return this.defs().put(new x1)})},Element:{masker(){return this.reference("mask")},maskWith(r){const e=r instanceof x1?r:this.parent().mask().add(r);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),ms(x1,"Mask");class t4 extends xa{constructor(e,t=e){super(Xs("stop",e),t)}update(e){return(typeof e=="number"||e instanceof Dt)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new Dt(e.offset)),this}}Vt({Gradient:{stop:function(r,e,t){return this.put(new t4).update(r,e,t)}}}),ms(t4,"Stop");class b1 extends xa{constructor(e,t=e){super(Xs("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,s={}){return this.rule("@font-face",{fontFamily:e,src:t,...s})}rule(e,t){return this.addText(function(s,a){if(!s)return"";if(!a)return s;let i=s+"{";for(const o in a)i+=o.replace(/([A-Z])/g,function(l,c){return"-"+c.toLowerCase()})+":"+a[o]+";";return i+="}",i}(e,t))}}Vt("Dom",{style(r,e){return this.put(new b1).rule(r,e)},fontface(r,e,t){return this.put(new b1).font(r,e,t)}}),ms(b1,"Style");class y1 extends Jn{constructor(e,t=e){super(Xs("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let s=null;return t&&(s=t.plot(e)),e==null?s:this}track(){return this.reference("href")}}Vt({Container:{textPath:qs(function(r,e){return r instanceof Jn||(r=this.text(r)),r.path(e)})},Text:{path:qs(function(r,e=!0){const t=new y1;let s;if(r instanceof Vu||(r=this.defs().path(r)),t.attr("href","#"+r,kh),e)for(;s=this.node.firstChild;)t.node.appendChild(s);return this.put(t)}),textPath(){return this.findOne("textPath")}},Path:{text:qs(function(r){return r instanceof Jn||(r=new Jn().addTo(this.parent()).text(r)),r.path(this)}),targets(){return Cd("svg textPath").filter(r=>(r.attr("href")||"").includes(this.id()))}}}),y1.prototype.MorphArray=Zn,ms(y1,"TextPath");class s4 extends vn{constructor(e,t=e){super(Xs("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,kh)}}Vt({Container:{use:qs(function(r,e){return this.put(new s4).use(r,e)})}}),ms(s4,"Use");const Hce=Ma;At([rj,aj,h0,Zf,m0],Ga("viewbox")),At([qc,Gc,Xc,Vu],Ga("marker")),At(Jn,Ga("Text")),At(Vu,Ga("Path")),At(iy,Ga("Defs")),At([Jn,g0],Ga("Tspan")),At([f0,u0,wf,yn],Ga("radius")),At(Fg,Ga("EventTarget")),At(Bl,Ga("Dom")),At(xa,Ga("Element")),At(vn,Ga("Shape")),At([Va,LL],Ga("Container")),At(wf,Ga("Gradient")),At(yn,Ga("Runner")),bd.extend([...new Set(wL)]),function(r=[]){sj.push(...[].concat(r))}([Dt,zs,vr,yt,yd,Hl,Zn,Ns]),At(sj,{to(r){return new Lc().type(this.constructor).from(this.toArray()).to(r)},fromArray(r){return this.init(r),this},toConsumable(){return this.toArray()},morph(r,e,t,s,a){return this.fromArray(r.map(function(i,o){return s.step(i,e[o],t,a[o],a)}))}});class rr extends xa{constructor(e){super(Xs("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Cd('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class rS extends xa{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const Mn=r=>function(...e){for(let t=r.length;t--;)e[t]!=null&&this.attr(r[t],e[t])},$ce={blend:Mn(["in","in2","mode"]),colorMatrix:Mn(["type","values"]),composite:Mn(["in","in2","operator"]),convolveMatrix:function(r){r=new yd(r).toString(),this.attr({order:Math.sqrt(r.split(" ").length),kernelMatrix:r})},diffuseLighting:Mn(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Mn(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Mn(["in","dx","dy","stdDeviation"]),flood:Mn(["flood-color","flood-opacity"]),gaussianBlur:function(r=0,e=r){this.attr("stdDeviation",r+" "+e)},image:function(r){this.attr("href",r,kh)},morphology:Mn(["operator","radius"]),offset:Mn(["dx","dy"]),specularLighting:Mn(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Mn([]),turbulence:Mn(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(r=>{const e=Nh(r),t=$ce[r];rr[e+"Effect"]=class extends rS{constructor(s){super(Xs("fe"+e,s),s)}update(s){return t.apply(this,s),this}},rr.prototype[r]=qs(function(s,...a){const i=new rr[e+"Effect"];return s==null?this.put(i):(typeof s=="function"?s.call(i,i):a.unshift(s),this.put(i).update(a))})}),At(rr,{merge(r){const e=this.put(new rr.MergeEffect);return typeof r=="function"?(r.call(e,e),e):((r instanceof Array?r:[...arguments]).forEach(t=>{t instanceof rr.MergeNode?e.put(t):e.mergeNode(t)}),e)},componentTransfer(r={}){const e=this.put(new rr.ComponentTransferEffect);if(typeof r=="function")return r.call(e,e),e;r.r||r.g||r.b||r.a||(r={r,g:r,b:r,a:r});for(const t in r)e.add(new rr["Func"+t.toUpperCase()](r[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(r=>{const e=Nh(r);rr[e]=class extends rS{constructor(t){super(Xs("fe"+e,t),t)}}});["funcR","funcG","funcB","funcA"].forEach(function(r){const e=rr[Nh(r)],t=qs(function(){return this.put(new e)});rr.ComponentTransferEffect.prototype[r]=t});["distantLight","pointLight","spotLight"].forEach(r=>{const e=rr[Nh(r)],t=qs(function(){return this.put(new e)});rr.DiffuseLightingEffect.prototype[r]=t,rr.SpecularLightingEffect.prototype[r]=t}),At(rr.MergeEffect,{mergeNode(r){return this.put(new rr.MergeNode).attr("in",r)}}),At(iy,{filter:function(r){const e=this.put(new rr);return typeof r=="function"&&r.call(e,e),e}}),At(Va,{filter:function(r){return this.defs().filter(r)}}),At(xa,{filterWith:function(r){const e=r instanceof rr?r:this.defs().filter(r);return this.attr("filter",e)},unfilter:function(r){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const Wce={blend:function(r,e){return this.parent()&&this.parent().blend(this,r,e)},colorMatrix:function(r,e){return this.parent()&&this.parent().colorMatrix(r,e).in(this)},componentTransfer:function(r){return this.parent()&&this.parent().componentTransfer(r).in(this)},composite:function(r,e){return this.parent()&&this.parent().composite(this,r,e)},convolveMatrix:function(r){return this.parent()&&this.parent().convolveMatrix(r).in(this)},diffuseLighting:function(r,e,t,s){return this.parent()&&this.parent().diffuseLighting(r,t,s).in(this)},displacementMap:function(r,e,t,s){return this.parent()&&this.parent().displacementMap(this,r,e,t,s)},dropShadow:function(r,e,t){return this.parent()&&this.parent().dropShadow(this,r,e,t).in(this)},flood:function(r,e){return this.parent()&&this.parent().flood(r,e)},gaussianBlur:function(r,e){return this.parent()&&this.parent().gaussianBlur(r,e).in(this)},image:function(r){return this.parent()&&this.parent().image(r)},merge:function(r){return r=r instanceof Array?r:[...r],this.parent()&&this.parent().merge(this,...r)},morphology:function(r,e){return this.parent()&&this.parent().morphology(r,e).in(this)},offset:function(r,e){return this.parent()&&this.parent().offset(r,e).in(this)},specularLighting:function(r,e,t,s,a){return this.parent()&&this.parent().specularLighting(r,t,s,a).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(r,e,t,s,a){return this.parent()&&this.parent().turbulence(r,e,t,s,a).in(this)}};At(rS,Wce),At(rr.MergeEffect,{in:function(r){return r instanceof rr.MergeNode?this.add(r,0):this.add(new rr.MergeNode().in(r),0),this}}),At([rr.CompositeEffect,rr.BlendEffect,rr.DisplacementMapEffect],{in2:function(r){if(r==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",r)}}),rr.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var ga=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"getDefaultFilter",value:function(e,t){var s=this.w;e.unfilter(!0),new rr().size("120%","180%","-5%","-40%"),s.config.chart.dropShadow.enabled&&this.dropShadow(e,s.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,s){var a,i=this,o=this.w;if(e.unfilter(!0),s!=="none"){var l,c,u=o.config.chart.dropShadow,h=s==="lighten"?2:.3;e.filterWith(function(f){f.colorMatrix({type:"matrix",values:`
          `.concat(h,` 0 0 0 0
          0 `).concat(h,` 0 0 0
          0 0 `).concat(h,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),u.enabled&&i.addShadow(f,t,u,"brightness")}),!u.noUserSpaceOnUse&&((l=e.filterer())===null||l===void 0||(c=l.node)===null||c===void 0||c.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,s,a){var i,o=this.w,l=s.blur,c=s.top,u=s.left,h=s.color,f=s.opacity;if(h=Array.isArray(h)?h[t]:h,((i=o.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.length)>0&&o.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:a,dx:u,dy:c,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:l,result:"blur"}),e.flood({"flood-color":h,"flood-opacity":f,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",a])}},{key:"dropShadow",value:function(e,t){var s,a,i,o,l,c=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=this.w;return e.unfilter(!0),oe.isMsEdge()&&h.config.chart.type==="radialBar"||((s=h.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&((i=h.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.indexOf(u))===-1?e:(e.filterWith(function(f){c.addShadow(f,u,t,"SourceGraphic")}),t.noUserSpaceOnUse||(o=e.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node),e)}},{key:"setSelectionFilter",value:function(e,t,s){var a=this.w;if(a.globals.selectedDataPoints[t]!==void 0&&a.globals.selectedDataPoints[t].indexOf(s)>-1){e.node.setAttribute("selected",!0);var i=a.config.states.active.filter;i!=="none"&&this.applyFilter(e,t,i.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),r}(),Ue=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"roundPathCorners",value:function(e,t){function s(T,D,L){var F=D.x-T.x,z=D.y-T.y,O=Math.sqrt(F*F+z*z);return a(T,D,Math.min(1,L/O))}function a(T,D,L){return{x:T.x+(D.x-T.x)*L,y:T.y+(D.y-T.y)*L}}function i(T,D){T.length>2&&(T[T.length-2]=D.x,T[T.length-1]=D.y)}function o(T){return{x:parseFloat(T[T.length-2]),y:parseFloat(T[T.length-1])}}e.indexOf("NaN")>-1&&(e="");var l=e.split(/[,\s]/).reduce(function(T,D){var L=D.match(/^([a-zA-Z])(.+)/);return L?(T.push(L[1]),T.push(L[2])):T.push(D),T},[]).reduce(function(T,D){return parseFloat(D)==D&&T.length?T[T.length-1].push(D):T.push([D]),T},[]),c=[];if(l.length>1){var u=o(l[0]),h=null;l[l.length-1][0]=="Z"&&l[0].length>2&&(h=["L",u.x,u.y],l[l.length-1]=h),c.push(l[0]);for(var f=1;f<l.length;f++){var g=c[c.length-1],x=l[f],y=x==h?l[1]:l[f+1];if(y&&g&&g.length>2&&x[0]=="L"&&y.length>2&&y[0]=="L"){var b,v,N=o(g),k=o(x),C=o(y);b=s(k,N,t),v=s(k,C,t),i(x,b),x.origPoint=k,c.push(x);var R=a(b,k,.5),_=a(k,v,.5),I=["C",R.x,R.y,_.x,_.y,v.x,v.y];I.origPoint=k,c.push(I)}else c.push(x)}if(h){var P=o(c[c.length-1]);c.push(["Z"]),i(c[0],P)}}else c=l;return c.reduce(function(T,D){return T+D.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,s,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:s,y2:a,stroke:i,"stroke-dasharray":o,"stroke-width":l,"stroke-linecap":c})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,h=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,f=this.w.globals.dom.Paper.rect();return f.attr({x:e,y:t,width:s>0?s:0,height:a>0?a:0,rx:i,ry:i,opacity:l,"stroke-width":c!==null?c:0,stroke:u!==null?u:"none","stroke-dasharray":h}),f.node.setAttribute("fill",o),f}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:a,stroke:t,"stroke-width":s})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var s=this.w.globals.dom.Paper.circle(2*e);return t!==null&&s.attr(t),s}},{key:"drawPath",value:function(e){var t=e.d,s=t===void 0?"":t,a=e.stroke,i=a===void 0?"#a8a8a8":a,o=e.strokeWidth,l=o===void 0?1:o,c=e.fill,u=e.fillOpacity,h=u===void 0?1:u,f=e.strokeOpacity,g=f===void 0?1:f,x=e.classes,y=e.strokeLinecap,b=y===void 0?null:y,v=e.strokeDashArray,N=v===void 0?0:v,k=this.w;return b===null&&(b=k.config.stroke.lineCap),(s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s="M 0 ".concat(k.globals.gridHeight)),k.globals.dom.Paper.path(s).attr({fill:c,"fill-opacity":h,stroke:i,"stroke-opacity":g,"stroke-linecap":b,"stroke-width":l,"stroke-dasharray":N,class:x})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var s=["M",e,t].join(" ");return s}},{key:"line",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=null;return s===null?a=[" L",e,t].join(" "):s==="H"?a=[" H",e].join(" "):s==="V"&&(a=[" V",t].join(" ")),a}},{key:"curve",value:function(e,t,s,a,i,o){var l=["C",e,t,s,a,i,o].join(" ");return l}},{key:"quadraticCurve",value:function(e,t,s,a){return["Q",e,t,s,a].join(" ")}},{key:"arc",value:function(e,t,s,a,i,o,l){var c="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(c="a");var u=[c,e,t,s,a,i,o,l].join(" ");return u}},{key:"renderPaths",value:function(e){var t,s=e.j,a=e.realIndex,i=e.pathFrom,o=e.pathTo,l=e.stroke,c=e.strokeWidth,u=e.strokeLinecap,h=e.fill,f=e.animationDelay,g=e.initialSpeed,x=e.dataChangeSpeed,y=e.className,b=e.chartType,v=e.shouldClipToGrid,N=v===void 0||v,k=e.bindEventsOnPaths,C=k===void 0||k,R=e.drawShadow,_=R===void 0||R,I=this.w,P=new ga(this.ctx),T=new wh(this.ctx),D=this.w.config.chart.animations.enabled,L=D&&this.w.config.chart.animations.dynamicAnimation.enabled;if(i&&i.startsWith("M 0 0")&&o){var F=o.match(/^M\s+[\d.-]+\s+[\d.-]+/);F&&(i=i.replace(/^M\s+0\s+0/,F[0]))}var z=!!(D&&!I.globals.resized||L&&I.globals.dataChanged&&I.globals.shouldAnimate);z?t=i:(t=o,I.globals.animationEnded=!0);var O=I.config.stroke.dashArray,V=0;V=Array.isArray(O)?O[a]:I.config.stroke.dashArray;var H=this.drawPath({d:t,stroke:l,strokeWidth:c,fill:h,fillOpacity:1,classes:y,strokeLinecap:u,strokeDashArray:V});H.attr("index",a),N&&(b==="bar"&&!I.globals.isHorizontal||I.globals.comboCharts?H.attr({"clip-path":"url(#gridRectBarMask".concat(I.globals.cuid,")")}):H.attr({"clip-path":"url(#gridRectMask".concat(I.globals.cuid,")")})),I.config.chart.dropShadow.enabled&&_&&P.dropShadow(H,I.config.chart.dropShadow,a),C&&(H.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,H)),H.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,H)),H.node.addEventListener("mousedown",this.pathMouseDown.bind(this,H))),H.attr({pathTo:o,pathFrom:i});var B={el:H,j:s,realIndex:a,pathFrom:i,pathTo:o,fill:h,strokeWidth:c,delay:f};return!D||I.globals.resized||I.globals.dataChanged?!I.globals.resized&&I.globals.dataChanged||T.showDelayedElements():T.animatePathsGradually(qe(qe({},B),{},{speed:g})),I.globals.dataChanged&&L&&z&&T.animatePathsGradually(qe(qe({},B),{},{speed:x})),H}},{key:"drawPattern",value:function(e,t,s){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,s,function(o){e==="horizontalLines"?o.line(0,0,s,0).stroke({color:a,width:i+1}):e==="verticalLines"?o.line(0,0,0,t).stroke({color:a,width:i+1}):e==="slantedLines"?o.line(0,0,t,s).stroke({color:a,width:i}):e==="squares"?o.rect(t,s).fill("none").stroke({color:a,width:i}):e==="circles"&&o.circle(t).fill("none").stroke({color:a,width:i})})}},{key:"drawGradient",value:function(e,t,s,a,i){var o,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],h=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,f=this.w;t.length<9&&t.indexOf("#")===0&&(t=oe.hexToRgba(t,a)),s.length<9&&s.indexOf("#")===0&&(s=oe.hexToRgba(s,i));var g=0,x=1,y=1,b=null;c!==null&&(g=c[0]!==void 0?c[0]/100:0,x=c[1]!==void 0?c[1]/100:1,y=c[2]!==void 0?c[2]/100:1,b=c[3]!==void 0?c[3]/100:null);var v=!(f.config.chart.type!=="donut"&&f.config.chart.type!=="pie"&&f.config.chart.type!=="polarArea"&&f.config.chart.type!=="bubble");if(o=u&&u.length!==0?f.globals.dom.Paper.gradient(v?"radial":"linear",function(C){(Array.isArray(u[h])?u[h]:u).forEach(function(R){C.stop(R.offset/100,R.color,R.opacity)})}):f.globals.dom.Paper.gradient(v?"radial":"linear",function(C){C.stop(g,t,a),C.stop(x,s,i),C.stop(y,s,i),b!==null&&C.stop(b,t,a)}),v){var N=f.globals.gridWidth/2,k=f.globals.gridHeight/2;f.config.chart.type!=="bubble"?o.attr({gradientUnits:"userSpaceOnUse",cx:N,cy:k,r:l}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?o.from(0,0).to(0,1):e==="diagonal"?o.from(0,0).to(1,1):e==="horizontal"?o.from(0,1).to(1,1):e==="diagonal2"&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,s=e.maxWidth,a=e.fontSize,i=e.fontFamily,o=this.getTextRects(t,a,i),l=o.width/t.length,c=Math.floor(s/l);return s<o.width?t.slice(0,c-3)+"...":t}},{key:"drawText",value:function(e){var t=this,s=e.x,a=e.y,i=e.text,o=e.textAnchor,l=e.fontSize,c=e.fontFamily,u=e.fontWeight,h=e.foreColor,f=e.opacity,g=e.maxWidth,x=e.cssClass,y=x===void 0?"":x,b=e.isPlainText,v=b===void 0||b,N=e.dominantBaseline,k=N===void 0?"auto":N,C=this.w;i===void 0&&(i="");var R=i;o||(o="start"),h&&h.length||(h=C.config.chart.foreColor),c=c||C.config.chart.fontFamily,u=u||"regular";var _,I={maxWidth:g,fontSize:l=l||"11px",fontFamily:c};return Array.isArray(i)?_=C.globals.dom.Paper.text(function(P){for(var T=0;T<i.length;T++)R=i[T],g&&(R=t.getTextBasedOnMaxWidth(qe({text:i[T]},I))),T===0?P.tspan(R):P.tspan(R).newLine()}):(g&&(R=this.getTextBasedOnMaxWidth(qe({text:i},I))),_=v?C.globals.dom.Paper.plain(i):C.globals.dom.Paper.text(function(P){return P.tspan(R)})),_.attr({x:s,y:a,"text-anchor":o,"dominant-baseline":k,"font-size":l,"font-family":c,"font-weight":u,fill:h,class:"apexcharts-text "+y}),_.node.style.fontFamily=c,_.node.style.opacity=f,_}},{key:"getMarkerPath",value:function(e,t,s,a){var i="";switch(s){case"cross":i="M ".concat(e-(a/=1.4)," ").concat(t-a," L ").concat(e+a," ").concat(t+a,"  M ").concat(e-a," ").concat(t+a," L ").concat(e+a," ").concat(t-a);break;case"plus":i="M ".concat(e-(a/=1.12)," ").concat(t," L ").concat(e+a," ").concat(t,"  M ").concat(e," ").concat(t-a," L ").concat(e," ").concat(t+a);break;case"star":case"sparkle":var o=5;a*=1.15,s==="sparkle"&&(a/=1.1,o=4);for(var l=Math.PI/o,c=0;c<=2*o;c++){var u=c*l,h=c%2==0?a:a/2;i+=(c===0?"M":"L")+(e+h*Math.sin(u))+","+(t-h*Math.cos(u))}i+="Z";break;case"triangle":i="M ".concat(e," ").concat(t-a,` 
             L `).concat(e+a," ").concat(t+a,` 
             L `).concat(e-a," ").concat(t+a,` 
             Z`);break;case"square":case"rect":i="M ".concat(e-(a/=1.125)," ").concat(t-a,` 
           L `).concat(e+a," ").concat(t-a,` 
           L `).concat(e+a," ").concat(t+a,` 
           L `).concat(e-a," ").concat(t+a,` 
           Z`);break;case"diamond":a*=1.05,i="M ".concat(e," ").concat(t-a,` 
             L `).concat(e+a," ").concat(t,` 
             L `).concat(e," ").concat(t+a,` 
             L `).concat(e-a," ").concat(t,` 
            Z`);break;case"line":i="M ".concat(e-(a/=1.1)," ").concat(t,` 
           L `).concat(e+a," ").concat(t);break;default:a*=2,i="M ".concat(e,", ").concat(t,` 
           m -`).concat(a/2,`, 0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 ").concat(a,`,0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 -").concat(a,",0")}return i}},{key:"drawMarkerShape",value:function(e,t,s,a,i){var o=this.drawPath({d:this.getMarkerPath(e,t,s,a,i),stroke:i.pointStrokeColor,strokeDashArray:i.pointStrokeDashArray,strokeWidth:i.pointStrokeWidth,fill:i.pointFillColor,fillOpacity:i.pointFillOpacity,strokeOpacity:i.pointStrokeOpacity});return o.attr({cx:e,cy:t,shape:i.shape,class:i.class?i.class:""}),o}},{key:"drawMarker",value:function(e,t,s){e=e||0;var a=s.pSize||0;return oe.isNumber(t)||(a=0,t=0),this.drawMarkerShape(e,t,s?.shape,a,qe(qe({},s),s.shape==="line"||s.shape==="plus"||s.shape==="cross"?{pointStrokeColor:s.pointFillColor,pointStrokeOpacity:s.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var s=this.w,a=new ga(this.ctx),i=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);if(typeof s.config.chart.events.dataPointMouseEnter=="function"&&s.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:i,dataPointIndex:o,w:s}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:i,dataPointIndex:o,w:s}]),(s.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&s.config.states.hover.filter.type!=="none"&&!s.globals.isTouchDevice){var l=s.config.states.hover.filter;a.applyFilter(e,i,l.type)}}},{key:"pathMouseLeave",value:function(e,t){var s=this.w,a=new ga(this.ctx),i=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);typeof s.config.chart.events.dataPointMouseLeave=="function"&&s.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:i,dataPointIndex:o,w:s}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:i,dataPointIndex:o,w:s}]),s.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||s.config.states.hover.filter.type!=="none"&&a.getDefaultFilter(e,i)}},{key:"pathMouseDown",value:function(e,t){var s=this.w,a=new ga(this.ctx),i=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10),l="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),s.globals.selectedDataPoints[i].indexOf(o)>-1){var c=s.globals.selectedDataPoints[i].indexOf(o);s.globals.selectedDataPoints[i].splice(c,1)}}else{if(!s.config.states.active.allowMultipleDataPointsSelection&&s.globals.selectedDataPoints.length>0){s.globals.selectedDataPoints=[];var u=s.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),h=s.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),f=function(y){Array.prototype.forEach.call(y,function(b){b.node.setAttribute("selected","false"),a.getDefaultFilter(b,i)})};f(u),f(h)}e.node.setAttribute("selected","true"),l="true",s.globals.selectedDataPoints[i]===void 0&&(s.globals.selectedDataPoints[i]=[]),s.globals.selectedDataPoints[i].push(o)}if(l==="true"){var g=s.config.states.active.filter;if(g!=="none")a.applyFilter(e,i,g.type);else if(s.config.states.hover.filter!=="none"&&!s.globals.isTouchDevice){var x=s.config.states.hover.filter;a.applyFilter(e,i,x.type)}}else s.config.states.active.filter.type!=="none"&&(s.config.states.hover.filter.type==="none"||s.globals.isTouchDevice?a.getDefaultFilter(e,i):(x=s.config.states.hover.filter,a.applyFilter(e,i,x.type)));typeof s.config.chart.events.dataPointSelection=="function"&&s.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:i,dataPointIndex:o,w:s}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:i,dataPointIndex:o,w:s}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,s,a){var i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w,l=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:s,foreColor:"#fff",opacity:0});a&&l.attr("transform",a),o.globals.dom.Paper.add(l);var c=l.bbox();return i||(c=l.node.getBoundingClientRect()),l.remove(),{width:c.width,height:c.height}}},{key:"placeTextWithEllipsis",value:function(e,t,s){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=s/1.1)){for(var a=t.length-3;a>0;a-=3)if(e.getSubStringLength(0,a)<=s/1.1)return void(e.textContent=t.substring(0,a)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])}}]),r}(),wr=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,s=[];if(t.globals.series.length===0)return s;for(var a=0;a<t.globals.series[t.globals.maxValsInArrayIndex].length;a++){for(var i=0,o=0;o<t.globals.series.length;o++)t.globals.series[o][a]!==void 0&&e.indexOf(o)===-1&&(i+=t.globals.series[o][a]);s.push(i)}return s}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(t,s){return t+s},0):this.w.globals.series[e].reduce(function(t,s){return t+s},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,s=[];return t.globals.seriesGroups.forEach(function(a){var i=[];t.config.series.forEach(function(l,c){a.indexOf(t.globals.seriesNames[c])>-1&&i.push(c)});var o=t.globals.series.map(function(l,c){return i.indexOf(c)===-1?c:-1}).filter(function(l){return l!==-1});s.push(e.getStackedSeriesTotals(o))}),s}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,s=[],a=[],i=[],o=e.series.length>t.yaxis.length||t.yaxis.some(function(f){return Array.isArray(f.seriesName)});t.series.forEach(function(f,g){i.push(g),a.push(null)}),t.yaxis.forEach(function(f,g){s[g]=[]});var l=[];t.yaxis.forEach(function(f,g){var x=!1;if(f.seriesName){var y=[];Array.isArray(f.seriesName)?y=f.seriesName:y.push(f.seriesName),y.forEach(function(b){t.series.forEach(function(v,N){if(v.name===b){var k=N;g===N||o?!o||i.indexOf(N)>-1?s[g].push([g,N]):console.warn("Series '"+v.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(s[N].push([N,g]),k=g),x=!0,(k=i.indexOf(k))!==-1&&i.splice(k,1)}})})}x||l.push(g)}),s=s.map(function(f,g){var x=[];return f.forEach(function(y){a[y[1]]=y[0],x.push(y[1])}),x});for(var c=t.yaxis.length-1,u=0;u<l.length&&(c=l[u],s[c]=[],i);u++){var h=i[0];i.shift(),s[c].push(h),a[h]=c}i.forEach(function(f){s[c].push(f),a[f]=c}),e.seriesYAxisMap=s.map(function(f){return f}),e.seriesYAxisReverseMap=a.map(function(f){return f}),e.seriesYAxisMap.forEach(function(f,g){f.forEach(function(x){t.series[x]&&t.series[x].group===void 0&&(t.series[x].__apexParsed?t.series[x].group="apexcharts-axis-".concat(x.toString()):t.series[x].group="apexcharts-axis-".concat(g.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(t){return t!==null}):this.w.config.series[e].data.filter(function(t){return t!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,s,a){return t===a[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,s=e.slice();return t.config.xaxis.convertedCatToNumeric&&(s=e.map(function(a,i){return t.config.xaxis.labels.formatter(a-t.globals.minX+1)})),s}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(s){t=Math.max(t,s)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(s){t=Math.max(t,s.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,s){var a=0;if(Array.isArray(t))for(var i=0;i<t.length;i++)a+=t[i];else a+=t;return a})}},{key:"getSeriesTotalsXRange",value:function(e,t){var s=this.w;return s.globals.series.map(function(a,i){for(var o=0,l=0;l<a.length;l++)s.globals.seriesX[i][l]>e&&s.globals.seriesX[i][l]<t&&(o+=a[l]);return o})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,s){var a=[];if(Array.isArray(t))for(var i=0;i<t.length;i++){var o=e.globals.stackedSeriesTotals[i],l=0;o&&(l=100*t[i]/o),a.push(l)}else{var c=100*t/e.globals.seriesTotals.reduce(function(u,h){return u+h},0);a.push(c)}return a})}},{key:"getCalculatedRatios",value:function(){var e,t,s,a=this,i=this.w,o=i.globals,l=[],c=0,u=[],h=.1,f=0;if(o.yRange=[],o.isMultipleYAxis)for(var g=0;g<o.minYArr.length;g++)o.yRange.push(Math.abs(o.minYArr[g]-o.maxYArr[g])),u.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var x=0;x<o.yRange.length;x++)l.push(o.yRange[x]/o.gridHeight);if(t=o.xRange/o.gridWidth,e=o.yRange/o.gridWidth,s=o.xRange/o.gridHeight,(c=o.zRange/o.gridHeight*16)||(c=1),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(o.hasNegs=!0),i.globals.seriesYAxisReverseMap.length>0){var y=function(v,N){var k=i.config.yaxis[i.globals.seriesYAxisReverseMap[N]],C=v<0?-1:1;return v=Math.abs(v),k.logarithmic&&(v=a.getBaseLog(k.logBase,v)),-C*v/l[N]};if(o.isMultipleYAxis){u=[];for(var b=0;b<l.length;b++)u.push(y(o.minYArr[b],b))}else(u=[]).push(y(o.minY,0)),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(h=-o.minY/e,f=o.minX/t)}else(u=[]).push(0),h=0,f=0;return{yRatio:l,invertedYRatio:e,zRatio:c,xRatio:t,invertedXRatio:s,baseLineInvertedY:h,baseLineY:u,baseLineX:f}}},{key:"getLogSeries",value:function(e){var t=this,s=this.w;return s.globals.seriesLog=e.map(function(a,i){var o=s.globals.seriesYAxisReverseMap[i];return s.config.yaxis[o]&&s.config.yaxis[o].logarithmic?a.map(function(l){return l===null?null:t.getLogVal(s.config.yaxis[o].logBase,l,i)}):a}),s.globals.invalidLogScale?e:s.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var s=this.w,a=s.globals.seriesYAxisReverseMap[t];return s.config.yaxis[a]&&s.config.yaxis[a].logarithmic?this.getLogVal(s.config.yaxis[a].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,s){if(t<=0)return 0;var a=this.w,i=a.globals.minYArr[s]===0?-1:this.getBaseLog(e,a.globals.minYArr[s]),o=(a.globals.maxYArr[s]===0?0:this.getBaseLog(e,a.globals.maxYArr[s]))-i;return t<1?t/o:(this.getBaseLog(e,t)-i)/o}},{key:"getLogYRatios",value:function(e){var t=this,s=this.w,a=this.w.globals;return a.yLogRatio=e.slice(),a.logYRange=a.yRange.map(function(i,o){var l=s.globals.seriesYAxisReverseMap[o];if(s.config.yaxis[l]&&t.w.config.yaxis[l].logarithmic){var c,u=-Number.MAX_VALUE,h=Number.MIN_VALUE;return a.seriesLog.forEach(function(f,g){f.forEach(function(x){s.config.yaxis[g]&&s.config.yaxis[g].logarithmic&&(u=Math.max(x,u),h=Math.min(x,h))})}),c=Math.pow(a.yRange[o],Math.abs(h-u)/a.yRange[o]),a.yLogRatio[o]=c/a.gridHeight,c}}),a.invalidLogScale?e.slice():a.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,s,a){var i=this.w,o=[];return e.series.length>0&&t.forEach(function(l){var c=[],u=[];e.i.forEach(function(h,f){i.config.series[h].group===l&&(c.push(e.series[f]),u.push(h))}),c.length>0&&o.push(a.draw(c,s,u))}),o}}],[{key:"checkComboSeries",value:function(e,t){var s=!1,a=0,i=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach(function(o){o.type!=="bar"&&o.type!=="column"&&o.type!=="candlestick"&&o.type!=="boxPlot"||a++,o.type!==void 0&&o.type!==t&&i++}),i>0&&(s=!0),{comboBarCount:a,comboCharts:s}}},{key:"extendArrayProps",value:function(e,t,s){var a,i,o,l,c,u;return(a=t)!==null&&a!==void 0&&a.yaxis&&(t=e.extendYAxis(t,s)),(i=t)!==null&&i!==void 0&&i.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(o=t)!==null&&o!==void 0&&(l=o.annotations)!==null&&l!==void 0&&l.xaxis&&(t=e.extendXAxisAnnotations(t)),(c=t)!==null&&c!==void 0&&(u=c.annotations)!==null&&u!==void 0&&u.points&&(t=e.extendPointAnnotations(t))),t}}]),r}(),oy=function(){function r(e){it(this,r),this.w=e.w,this.annoCtx=e}return ot(r,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.w;if(e.label.orientation==="vertical"){var a=t!==null?t:0,i=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(a,"']"));if(i!==null){var o=i.getBoundingClientRect();i.setAttribute("x",parseFloat(i.getAttribute("x"))-o.height+4);var l=e.label.position==="top"?o.width:-o.width;i.setAttribute("y",parseFloat(i.getAttribute("y"))+l);var c=this.annoCtx.graphics.rotateAroundCenter(i),u=c.x,h=c.y;i.setAttribute("transform","rotate(-90 ".concat(u," ").concat(h,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var s=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var a=s.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),i=e.getBoundingClientRect(),o=t.label.style.padding,l=o.left,c=o.right,u=o.top,h=o.bottom;if(t.label.orientation==="vertical"){var f=[l,c,u,h];u=f[0],h=f[1],l=f[2],c=f[3]}var g=i.left-a.left-l,x=i.top-a.top-u,y=this.annoCtx.graphics.drawRect(g-s.globals.barPadForNumericAxis,x,i.width+l+c,i.height+u+h,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&y.node.classList.add(t.id),y}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,s=function(a,i,o){var l=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(i,"']"));if(l){var c=l.parentNode,u=e.addBackgroundToAnno(l,a);u&&(c.insertBefore(u.node,l),a.label.mouseEnter&&u.node.addEventListener("mouseenter",a.label.mouseEnter.bind(e,a)),a.label.mouseLeave&&u.node.addEventListener("mouseleave",a.label.mouseLeave.bind(e,a)),a.label.click&&u.node.addEventListener("click",a.label.click.bind(e,a)))}};t.config.annotations.xaxis.forEach(function(a,i){return s(a,i,"xaxis")}),t.config.annotations.yaxis.forEach(function(a,i){return s(a,i,"yaxis")}),t.config.annotations.points.forEach(function(a,i){return s(a,i,"point")})}},{key:"getY1Y2",value:function(e,t){var s,a=this.w,i=e==="y1"?t.y:t.y2,o=!1;if(this.annoCtx.invertAxis){var l=a.config.xaxis.convertedCatToNumeric?a.globals.categoryLabels:a.globals.labels,c=l.indexOf(i),u=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(c+1,")"));s=u?parseFloat(u.getAttribute("y")):(a.globals.gridHeight/l.length-1)*(c+1)-a.globals.barHeight,t.seriesIndex!==void 0&&a.globals.barHeight&&(s-=a.globals.barHeight/2*(a.globals.series.length-1)-a.globals.barHeight*t.seriesIndex)}else{var h,f=a.globals.seriesYAxisMap[t.yAxisIndex][0],g=a.config.yaxis[t.yAxisIndex].logarithmic?new wr(this.annoCtx.ctx).getLogVal(a.config.yaxis[t.yAxisIndex].logBase,i,f)/a.globals.yLogRatio[f]:(i-a.globals.minYArr[f])/(a.globals.yRange[f]/a.globals.gridHeight);s=a.globals.gridHeight-Math.min(Math.max(g,0),a.globals.gridHeight),o=g>a.globals.gridHeight||g<0,!t.marker||t.y!==void 0&&t.y!==null||(s=0),(h=a.config.yaxis[t.yAxisIndex])!==null&&h!==void 0&&h.reversed&&(s=g)}return typeof i=="string"&&i.includes("px")&&(s=parseFloat(i)),{yP:s,clipped:o}}},{key:"getX1X2",value:function(e,t){var s=this.w,a=e==="x1"?t.x:t.x2,i=this.annoCtx.invertAxis?s.globals.minY:s.globals.minX,o=this.annoCtx.invertAxis?s.globals.maxY:s.globals.maxX,l=this.annoCtx.invertAxis?s.globals.yRange[0]:s.globals.xRange,c=!1,u=this.annoCtx.inversedReversedAxis?(o-a)/(l/s.globals.gridWidth):(a-i)/(l/s.globals.gridWidth);return s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||s.config.chart.sparkline.enabled||(u=this.getStringX(a)),typeof a=="string"&&a.includes("px")&&(u=parseFloat(a)),a==null&&t.marker&&(u=s.globals.gridWidth),t.seriesIndex!==void 0&&s.globals.barWidth&&!this.annoCtx.invertAxis&&(u-=s.globals.barWidth/2*(s.globals.series.length-1)-s.globals.barWidth*t.seriesIndex),typeof u!="number"&&(u=0,c=!0),parseFloat(u.toFixed(10))>parseFloat(s.globals.gridWidth.toFixed(10))?(u=s.globals.gridWidth,c=!0):u<0&&(u=0,c=!0),{x:u,clipped:c}}},{key:"getStringX",value:function(e){var t=this.w,s=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var a=t.globals.labels.map(function(o){return Array.isArray(o)?o.join(" "):o}).indexOf(e),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(a+1,")"));return i&&(s=parseFloat(i.getAttribute("x"))),s}}]),r}(),Yce=function(){function r(e){it(this,r),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new oy(this.annoCtx)}return ot(r,[{key:"addXaxisAnnotation",value:function(e,t,s){var a,i=this.w,o=this.helpers.getX1X2("x1",e),l=o.x,c=o.clipped,u=!0,h=e.label.text,f=e.strokeDashArray;if(oe.isNumber(l)){if(e.x2===null||e.x2===void 0){if(!c){var g=this.annoCtx.graphics.drawLine(l+e.offsetX,0+e.offsetY,l+e.offsetX,i.globals.gridHeight+e.offsetY,e.borderColor,f,e.borderWidth);t.appendChild(g.node),e.id&&g.node.classList.add(e.id)}}else{var x=this.helpers.getX1X2("x2",e);if(a=x.x,u=x.clipped,a<l){var y=l;l=a,a=y}var b=this.annoCtx.graphics.drawRect(l+e.offsetX,0+e.offsetY,a-l,i.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,f);b.node.classList.add("apexcharts-annotation-rect"),b.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),t.appendChild(b.node),e.id&&b.node.classList.add(e.id)}if(!c||!u){var v=this.annoCtx.graphics.getTextRects(h,parseFloat(e.label.style.fontSize)),N=e.label.position==="top"?4:e.label.position==="center"?i.globals.gridHeight/2+(e.label.orientation==="vertical"?v.width/2:0):i.globals.gridHeight,k=this.annoCtx.graphics.drawText({x:l+e.label.offsetX,y:N+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?v.width/2-12:-v.width/2:0),text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});k.attr({rel:s}),t.appendChild(k.node),this.annoCtx.helpers.setOrientations(e,s)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(a,i){e.addXaxisAnnotation(a,s.node,i)}),s}}]),r}(),ha=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return ot(r,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var s=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return s=this.getTimeStamp(s)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var s=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,i=["\0"].concat(Yr(s.months)),o=[""].concat(Yr(s.shortMonths)),l=[""].concat(Yr(s.days)),c=[""].concat(Yr(s.shortDays));function u(T,D){var L=T+"";for(D=D||2;L.length<D;)L="0"+L;return L}var h=a?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+h)).replace(/(^|[^\\])yy/g,"$1"+h.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+h);var f=(a?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+i[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+u(f))).replace(/(^|[^\\])M/g,"$1"+f);var g=a?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+l[0])).replace(/(^|[^\\])ddd/g,"$1"+c[0])).replace(/(^|[^\\])dd/g,"$1"+u(g))).replace(/(^|[^\\])d/g,"$1"+g);var x=a?e.getUTCHours():e.getHours(),y=x>12?x-12:x===0?12:x;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+u(x))).replace(/(^|[^\\])H/g,"$1"+x)).replace(/(^|[^\\])hh+/g,"$1"+u(y))).replace(/(^|[^\\])h/g,"$1"+y);var b=a?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+u(b))).replace(/(^|[^\\])m/g,"$1"+b);var v=a?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+u(v))).replace(/(^|[^\\])s/g,"$1"+v);var N=a?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+u(N,3)),N=Math.round(N/10),t=t.replace(/(^|[^\\])ff/g,"$1"+u(N)),N=Math.round(N/10);var k=x<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+N)).replace(/(^|[^\\])TT+/g,"$1"+k)).replace(/(^|[^\\])T/g,"$1"+k.charAt(0));var C=k.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+C)).replace(/(^|[^\\])t/g,"$1"+C.charAt(0));var R=-e.getTimezoneOffset(),_=a||!R?"Z":R>0?"+":"-";if(!a){var I=(R=Math.abs(R))%60;_+=u(Math.floor(R/60))+":"+u(I)}t=t.replace(/(^|[^\\])K/g,"$1"+_);var P=(a?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(l[0],"g"),l[P])).replace(new RegExp(c[0],"g"),c[P])).replace(new RegExp(i[0],"g"),i[f])).replace(new RegExp(o[0],"g"),o[f])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,s){var a=this.w;a.config.xaxis.min!==void 0&&(e=a.config.xaxis.min),a.config.xaxis.max!==void 0&&(t=a.config.xaxis.max);var i=this.getDate(e),o=this.getDate(t),l=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" "),c=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(l[6],10),maxMillisecond:parseInt(c[6],10),minSecond:parseInt(l[5],10),maxSecond:parseInt(c[5],10),minMinute:parseInt(l[4],10),maxMinute:parseInt(c[4],10),minHour:parseInt(l[3],10),maxHour:parseInt(c[3],10),minDate:parseInt(l[2],10),maxDate:parseInt(c[2],10),minMonth:parseInt(l[1],10)-1,maxMonth:parseInt(c[1],10)-1,minYear:parseInt(l[0],10),maxYear:parseInt(c[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,s){return this.determineDaysOfMonths(e,t)-s}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,s){var a=this.daysCntOfYear[t]+s;return t>1&&this.isLeapYear()&&a++,a}},{key:"determineDaysOfMonths",value:function(e,t){var s=30;switch(e=oe.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(s=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:s=31}return s}}]),r}(),zg=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return ot(r,[{key:"xLabelFormat",value:function(e,t,s,a){var i=this.w;if(i.config.xaxis.type==="datetime"&&i.config.xaxis.labels.formatter===void 0&&i.config.tooltip.x.formatter===void 0){var o=new ha(this.ctx);return o.formatDate(o.getDate(t),i.config.tooltip.x.format)}return e(t,s,a)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,s){var a=this.w;if(oe.isNumber(e))if(a.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:a.globals.yValueDecimal);else{var i=e.toFixed(0);e=e==i?i:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.ttKeyFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.ttZFormatter=function(s){return s},t.globals.legendFormatter=function(s){return e.defaultGeneralFormatter(s)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(s){if(oe.isNumber(s)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(oe.isNumber(t.config.xaxis.decimalsInFloat))return s.toFixed(t.config.xaxis.decimalsInFloat);var a=t.globals.maxX-t.globals.minX;return a>0&&a<100?s.toFixed(1):s.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?s.toFixed(1):s.toFixed(0)}return s},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(s,a){s.labels.formatter!==void 0?t.globals.yLabelFormatters[a]=s.labels.formatter:t.globals.yLabelFormatters[a]=function(i){return t.globals.xyCharts?Array.isArray(i)?i.map(function(o){return e.defaultYFormatter(o,s,a)}):e.defaultYFormatter(i,s,a):i}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(s,a){return s.length>a.length?s:a},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),r}(),$l=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"getLabel",value:function(e,t,s,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",l=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],c=this.w,u=e[a]===void 0?"":e[a],h=u,f=c.globals.xLabelFormatter,g=c.config.xaxis.labels.formatter,x=!1,y=new zg(this.ctx),b=u;l&&(h=y.xLabelFormat(f,u,b,{i:a,dateFormatter:new ha(this.ctx).formatDate,w:c}),g!==void 0&&(h=g(u,e[a],{i:a,dateFormatter:new ha(this.ctx).formatDate,w:c})));var v,N;t.length>0?(v=t[a].unit,N=null,t.forEach(function(_){_.unit==="month"?N="year":_.unit==="day"?N="month":_.unit==="hour"?N="day":_.unit==="minute"&&(N="hour")}),x=N===v,s=t[a].position,h=t[a].value):c.config.xaxis.type==="datetime"&&g===void 0&&(h=""),h===void 0&&(h=""),h=Array.isArray(h)?h:h.toString();var k=new Ue(this.ctx),C={};C=c.globals.rotateXLabels&&l?k.getTextRects(h,parseInt(o,10),null,"rotate(".concat(c.config.xaxis.labels.rotate," 0 0)"),!1):k.getTextRects(h,parseInt(o,10));var R=!c.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(h)&&(String(h)==="NaN"||i.indexOf(h)>=0&&R)&&(h=""),{x:s,text:h,textRect:C,isBold:x}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,s){var a=this.w,i=a.config.xaxis.tickAmount;return i==="dataPoints"&&(i=Math.round(a.globals.gridWidth/120)),i>s||e%Math.round(s/(i+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,s,a,i){var o=this.w;if(e===0&&o.globals.skipFirstTimelinelabel&&(t.text=""),e===s-1&&o.globals.skipLastTimelinelabel&&(t.text=""),o.config.xaxis.labels.hideOverlappingLabels&&a.length>0){var l=i[i.length-1];if(o.config.xaxis.labels.trim&&o.config.xaxis.type!=="datetime")return t;t.x<l.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+l.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var s=this.w;return s.config.yaxis[e]&&s.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(s){return t.collapsedSeriesIndices.indexOf(s)===-1})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,s=t.globals,a=t.config.yaxis;return s.series.length>a.length||a.some(function(i){return Array.isArray(i.seriesName)})?e:s.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,s=t.config.yaxis[e];if(!s.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!s.showForNullSeries){var a=t.globals.seriesYAxisMap[e],i=new wr(this.ctx);return a.every(function(o){return i.isSeriesNull(o)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var s=this.w;return Array.isArray(e)&&s.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,s.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,s,a,i,o,l){var c=this.w,u=new Ue(this.ctx),h=c.globals.translateY+c.config.yaxis[i].labels.offsetY;if(c.globals.isBarHorizontal?h=0:c.config.chart.type==="heatmap"&&(h+=o/2),a.show&&t>0){c.config.yaxis[i].opposite===!0&&(e+=a.width);for(var f=t;f>=0;f--){var g=u.drawLine(e+s.offsetX-a.width+a.offsetX,h+a.offsetY,e+s.offsetX+a.offsetX,h+a.offsetY,a.color);l.add(g),h+=o}}}}]),r}(),qce=function(){function r(e){it(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new oy(this.annoCtx),this.axesUtils=new $l(this.annoCtx)}return ot(r,[{key:"addYaxisAnnotation",value:function(e,t,s){var a,i=this.w,o=e.strokeDashArray,l=this.helpers.getY1Y2("y1",e),c=l.yP,u=l.clipped,h=!0,f=!1,g=e.label.text;if(e.y2===null||e.y2===void 0){if(!u){f=!0;var x=this.annoCtx.graphics.drawLine(0+e.offsetX,c+e.offsetY,this._getYAxisAnnotationWidth(e),c+e.offsetY,e.borderColor,o,e.borderWidth);t.appendChild(x.node),e.id&&x.node.classList.add(e.id)}}else{if(a=(l=this.helpers.getY1Y2("y2",e)).yP,h=l.clipped,a>c){var y=c;c=a,a=y}if(!u||!h){f=!0;var b=this.annoCtx.graphics.drawRect(0+e.offsetX,a+e.offsetY,this._getYAxisAnnotationWidth(e),c-a,0,e.fillColor,e.opacity,1,e.borderColor,o);b.node.classList.add("apexcharts-annotation-rect"),b.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),t.appendChild(b.node),e.id&&b.node.classList.add(e.id)}}if(f){var v=e.label.position==="right"?i.globals.gridWidth:e.label.position==="center"?i.globals.gridWidth/2:0,N=this.annoCtx.graphics.drawText({x:v+e.label.offsetX,y:(a??c)+e.label.offsetY-3,text:g,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});N.attr({rel:s}),t.appendChild(N.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(a,i){a.yAxisIndex=e.axesUtils.translateYAxisIndex(a.yAxisIndex),e.axesUtils.isYAxisHidden(a.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(a.yAxisIndex)||e.addYaxisAnnotation(a,s.node,i)}),s}}]),r}(),Xce=function(){function r(e){it(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new oy(this.annoCtx)}return ot(r,[{key:"addPointAnnotation",value:function(e,t,s){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var a=this.helpers.getX1X2("x1",e),i=a.x,o=a.clipped,l=(a=this.helpers.getY1Y2("y1",e)).yP,c=a.clipped;if(oe.isNumber(i)&&!c&&!o){var u={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},h=this.annoCtx.graphics.drawMarker(i+e.marker.offsetX,l+e.marker.offsetY,u);t.appendChild(h.node);var f=e.label.text?e.label.text:"",g=this.annoCtx.graphics.drawText({x:i+e.label.offsetX,y:l+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:f,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(g.attr({rel:s}),t.appendChild(g.node),e.customSVG.SVG){var x=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});x.attr({transform:"translate(".concat(i+e.customSVG.offsetX,", ").concat(l+e.customSVG.offsetY,")")}),x.node.innerHTML=e.customSVG.SVG,t.appendChild(x.node)}if(e.image.path){var y=e.image.width?e.image.width:20,b=e.image.height?e.image.height:20;h=this.annoCtx.addImage({x:i+e.image.offsetX-y/2,y:l+e.image.offsetY-b/2,width:y,height:b,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&h.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&h.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&h.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(a,i){e.addPointAnnotation(a,s.node,i)}),s}}]),r}(),qL={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Fc=function(){function r(){it(this,r),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return ot(r,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[qL],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,s){return t+s},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,s){return t+s},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),r}(),Gce=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.graphics=new Ue(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new oy(this),this.xAxisAnnotations=new Yce(this),this.yAxisAnnotations=new qce(this),this.pointsAnnotations=new Xce(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return ot(r,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),s=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),i=e.config.chart.animations.enabled,o=[t,s,a],l=[s.node,t.node,a.node],c=0;c<3;c++)e.globals.dom.elGraphical.add(o[c]),!i||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&l[c].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:l[c],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,s){e.addImage(t,s)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,s){e.addText(t,s)})}},{key:"addXaxisAnnotation",value:function(e,t,s){this.xAxisAnnotations.addXaxisAnnotation(e,t,s)}},{key:"addYaxisAnnotation",value:function(e,t,s){this.yAxisAnnotations.addYaxisAnnotation(e,t,s)}},{key:"addPointAnnotation",value:function(e,t,s){this.pointsAnnotations.addPointAnnotation(e,t,s)}},{key:"addText",value:function(e,t){var s=e.x,a=e.y,i=e.text,o=e.textAnchor,l=e.foreColor,c=e.fontSize,u=e.fontFamily,h=e.fontWeight,f=e.cssClass,g=e.backgroundColor,x=e.borderWidth,y=e.strokeDashArray,b=e.borderRadius,v=e.borderColor,N=e.appendTo,k=N===void 0?".apexcharts-svg":N,C=e.paddingLeft,R=C===void 0?4:C,_=e.paddingRight,I=_===void 0?4:_,P=e.paddingBottom,T=P===void 0?2:P,D=e.paddingTop,L=D===void 0?2:D,F=this.w,z=this.graphics.drawText({x:s,y:a,text:i,textAnchor:o||"start",fontSize:c||"12px",fontWeight:h||"regular",fontFamily:u||F.config.chart.fontFamily,foreColor:l||F.config.chart.foreColor,cssClass:f}),O=F.globals.dom.baseEl.querySelector(k);O&&O.appendChild(z.node);var V=z.bbox();if(i){var H=this.graphics.drawRect(V.x-R,V.y-L,V.width+R+I,V.height+T+L,b,g||"transparent",1,x,v,y);O.insertBefore(H.node,z.node)}}},{key:"addImage",value:function(e,t){var s=this.w,a=e.path,i=e.x,o=i===void 0?0:i,l=e.y,c=l===void 0?0:l,u=e.width,h=u===void 0?20:u,f=e.height,g=f===void 0?20:f,x=e.appendTo,y=x===void 0?".apexcharts-svg":x,b=s.globals.dom.Paper.image(a);b.size(h,g).move(o,c);var v=s.globals.dom.baseEl.querySelector(y);return v&&v.appendChild(b.node),b}},{key:"addXaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"xaxis",contextMethod:s.addXaxisAnnotation}),s}},{key:"addYaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"yaxis",contextMethod:s.addYaxisAnnotation}),s}},{key:"addPointAnnotationExternal",value:function(e,t,s){return this.invertAxis===void 0&&(this.invertAxis=s.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"point",contextMethod:s.addPointAnnotation}),s}},{key:"addAnnotationExternal",value:function(e){var t=e.params,s=e.pushToMemory,a=e.context,i=e.type,o=e.contextMethod,l=a,c=l.w,u=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations")),h=u.childNodes.length+1,f=new Fc,g=Object.assign({},i==="xaxis"?f.xAxisAnnotation:i==="yaxis"?f.yAxisAnnotation:f.pointAnnotation),x=oe.extend(g,t);switch(i){case"xaxis":this.addXaxisAnnotation(x,u,h);break;case"yaxis":this.addYaxisAnnotation(x,u,h);break;case"point":this.addPointAnnotation(x,u,h)}var y=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations .apexcharts-").concat(i,"-annotation-label[rel='").concat(h,"']")),b=this.helpers.addBackgroundToAnno(y,x);return b&&u.insertBefore(b.node,y),s&&c.globals.memory.methodsToExec.push({context:l,id:x.id?x.id:oe.randomId(),method:o,label:"addAnnotation",params:t}),a}},{key:"clearAnnotations",value:function(e){for(var t=e.w,s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),a=t.globals.memory.methodsToExec.length-1;a>=0;a--)t.globals.memory.methodsToExec[a].label!=="addText"&&t.globals.memory.methodsToExec[a].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(a,1);s=oe.listToArray(s),Array.prototype.forEach.call(s,function(i){for(;i.firstChild;)i.removeChild(i.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var s=e.w,a=s.globals.dom.baseEl.querySelectorAll(".".concat(t));a&&(s.globals.memory.methodsToExec.map(function(i,o){i.id===t&&s.globals.memory.methodsToExec.splice(o,1)}),Object.keys(s.config.annotations).forEach(function(i){var o=s.config.annotations[i];Array.isArray(o)&&(s.config.annotations[i]=o.filter(function(l){return l.id!==t}))}),Array.prototype.forEach.call(a,function(i){i.parentElement.removeChild(i)}))}}]),r}(),v1=function(r){var e,t=r.isTimeline,s=r.ctx,a=r.seriesIndex,i=r.dataPointIndex,o=r.y1,l=r.y2,c=r.w,u=c.globals.seriesRangeStart[a][i],h=c.globals.seriesRangeEnd[a][i],f=c.globals.labels[i],g=c.config.series[a].name?c.config.series[a].name:"",x=c.globals.ttKeyFormatter,y=c.config.tooltip.y.title.formatter,b={w:c,seriesIndex:a,dataPointIndex:i,start:u,end:h};typeof y=="function"&&(g=y(g,b)),(e=c.config.series[a].data[i])!==null&&e!==void 0&&e.x&&(f=c.config.series[a].data[i].x),t||c.config.xaxis.type==="datetime"&&(f=new zg(s).xLabelFormat(c.globals.ttKeyFormatter,f,f,{i:void 0,dateFormatter:new ha(s).formatDate,w:c})),typeof x=="function"&&(f=x(f,b)),Number.isFinite(o)&&Number.isFinite(l)&&(u=o,h=l);var v="",N="",k=c.globals.colors[a];if(c.config.tooltip.x.formatter===void 0)if(c.config.xaxis.type==="datetime"){var C=new ha(s);v=C.formatDate(C.getDate(u),c.config.tooltip.x.format),N=C.formatDate(C.getDate(h),c.config.tooltip.x.format)}else v=u,N=h;else v=c.config.tooltip.x.formatter(u),N=c.config.tooltip.x.formatter(h);return{start:u,end:h,startVal:v,endVal:N,ylabel:f,color:k,seriesName:g}},w1=function(r){var e=r.color,t=r.seriesName,s=r.ylabel,a=r.start,i=r.end,o=r.seriesIndex,l=r.dataPointIndex,c=r.ctx.tooltip.tooltipLabels.getFormatters(o);a=c.yLbFormatter(a),i=c.yLbFormatter(i);var u=c.yLbFormatter(r.w.globals.series[o][l]),h=`<span class="value start-value">
  `.concat(a,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(i,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+s+": </span> "+(r.w.globals.comboCharts?r.w.config.series[o].type==="rangeArea"||r.w.config.series[o].type==="rangeBar"?h:"<span>".concat(u,"</span>"):h)+" </div></div>"},eg=function(){function r(e){it(this,r),this.opts=e}return ot(r,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),oe.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var s=t.w.config.series[t.seriesIndex].name;return e!==null?s+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),qe(qe({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var s=t.seriesIndex,a=t.dataPointIndex,i=t.w;return e._getBoxTooltip(i,s,a,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var s=t.seriesIndex,a=t.dataPointIndex,i=t.w;return e._getBoxTooltip(i,s,a,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var s=t.seriesIndex,a=t.dataPointIndex,i=t.w,o=function(){var l=i.globals.seriesRangeStart[s][a];return i.globals.seriesRangeEnd[s][a]-l};return i.globals.comboCharts?i.config.series[s].type==="rangeBar"||i.config.series[s].type==="rangeArea"?o():e:o()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(t){var s=v1(qe(qe({},t),{},{isTimeline:!0})),a=s.color,i=s.seriesName,o=s.ylabel,l=s.startVal,c=s.endVal;return w1(qe(qe({},t),{},{color:a,seriesName:i,ylabel:o,start:l,end:c}))}(e):function(t){var s=v1(t),a=s.color,i=s.seriesName,o=s.ylabel,l=s.start,c=s.end;return w1(qe(qe({},t),{},{color:a,seriesName:i,ylabel:o,start:l,end:c}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,s;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(s=e.plotOptions.bar)!==null&&s!==void 0&&s.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(t){var s=v1(t),a=s.color,i=s.seriesName,o=s.ylabel,l=s.start,c=s.end;return w1(qe(qe({},t),{},{color:a,seriesName:i,ylabel:o,start:l,end:c}))}(e)}}}}},{key:"brush",value:function(e){return oe.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(s,a){e.yaxis[a].min=0,e.yaxis[a].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(s){return typeof s=="number"&&s?s.toFixed(0)+"%":s}),e}},{key:"stackedBars",value:function(){var e=this.bar();return qe(qe({},e),{},{plotOptions:qe(qe({},e.plotOptions),{},{bar:qe(qe({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,s){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(o){return oe.isNumber(o)?Math.floor(o):o};var a=e.xaxis.labels.formatter,i=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return s&&s.length&&(i=s.map(function(o){return Array.isArray(o)?o:String(o)})),i&&i.length&&(e.xaxis.labels.formatter=function(o){return oe.isNumber(o)?a(i[Math.floor(o)-1]):a(o)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,s,a,i){var o=e.globals.seriesCandleO[t][s],l=e.globals.seriesCandleH[t][s],c=e.globals.seriesCandleM[t][s],u=e.globals.seriesCandleL[t][s],h=e.globals.seriesCandleC[t][s];return e.config.series[t].type&&e.config.series[t].type!==i?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][s],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+l+"</span></div>"+(c?"<div>".concat(a[2],': <span class="value">')+c+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+u+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+h+"</span></div></div>"}}]),r}(),tg=function(){function r(e){it(this,r),this.opts=e}return ot(r,[{key:"init",value:function(e){var t=e.responsiveOverride,s=this.opts,a=new Fc,i=new eg(s);this.chartType=s.chart.type,s=this.extendYAxis(s),s=this.extendAnnotations(s);var o=a.init(),l={};if(s&&Ra(s)==="object"){var c,u,h,f,g,x,y,b,v,N,k={};k=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(s.chart.type)!==-1?i[s.chart.type]():i.line(),(c=s.plotOptions)!==null&&c!==void 0&&(u=c.bar)!==null&&u!==void 0&&u.isFunnel&&(k=i.funnel()),s.chart.stacked&&s.chart.type==="bar"&&(k=i.stackedBars()),(h=s.chart.brush)!==null&&h!==void 0&&h.enabled&&(k=i.brush(k)),(f=s.plotOptions)!==null&&f!==void 0&&(g=f.line)!==null&&g!==void 0&&g.isSlopeChart&&(k=i.slope()),s.chart.stacked&&s.chart.stackType==="100%"&&(s=i.stacked100(s)),(x=s.plotOptions)!==null&&x!==void 0&&(y=x.bar)!==null&&y!==void 0&&y.isDumbbell&&(s=i.dumbbell(s)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(s),s.xaxis=s.xaxis||window.Apex.xaxis||{},t||(s.xaxis.convertedCatToNumeric=!1),((b=(s=this.checkForCatToNumericXAxis(this.chartType,k,s)).chart.sparkline)!==null&&b!==void 0&&b.enabled||(v=window.Apex.chart)!==null&&v!==void 0&&(N=v.sparkline)!==null&&N!==void 0&&N.enabled)&&(k=i.sparkline(k)),l=oe.extend(o,k)}var C=oe.extend(l,window.Apex);return o=oe.extend(C,s),o=this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(e,t,s){var a,i,o=new eg(s),l=(e==="bar"||e==="boxPlot")&&((a=s.plotOptions)===null||a===void 0||(i=a.bar)===null||i===void 0?void 0:i.horizontal),c=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",u=s.xaxis.type!=="datetime"&&s.xaxis.type!=="numeric",h=s.xaxis.tickPlacement?s.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return l||c||!u||h==="between"||(s=o.convertCatToNumeric(s)),s}},{key:"extendYAxis",value:function(e,t){var s=new Fc;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=oe.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[oe.extend(s.yAxis,e.yaxis)]:e.yaxis=oe.extendArray(e.yaxis,s.yAxis);var a=!1;e.yaxis.forEach(function(o){o.logarithmic&&(a=!0)});var i=e.series;return t&&!i&&(i=t.config.series),a&&i.length!==e.yaxis.length&&i.length&&(e.yaxis=i.map(function(o,l){if(o.name||(i[l].name="series-".concat(l+1)),e.yaxis[l])return e.yaxis[l].seriesName=i[l].name,e.yaxis[l];var c=oe.extend(s.yAxis,e.yaxis[0]);return c.show=!1,c})),a&&i.length>1&&i.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new Fc;return e.annotations.yaxis=oe.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new Fc;return e.annotations.xaxis=oe.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new Fc;return e.annotations.points=oe.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),r}(),XL=function(){function r(){it(this,r)}return ot(r,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=oe.extend({},e),t.initialSeries=oe.clone(e.series),t.lastXAxis=oe.clone(t.initialConfig.xaxis),t.lastYAxis=oe.clone(t.initialConfig.yaxis),t}}]),r}(),Kce=function(){function r(e){it(this,r),this.opts=e}return ot(r,[{key:"init",value:function(){var e=new tg(this.opts).init({responsiveOverride:!1});return{config:e,globals:new XL().init(e)}}}]),r}(),si=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return ot(r,[{key:"clippedImgArea",value:function(e){var t=this.w,s=t.config,a=parseInt(t.globals.gridWidth,10),i=parseInt(t.globals.gridHeight,10),o=a>i?a:i,l=e.image,c=0,u=0;e.width===void 0&&e.height===void 0?s.fill.image.width!==void 0&&s.fill.image.height!==void 0?(c=s.fill.image.width+1,u=s.fill.image.height):(c=o+1,u=o):(c=e.width,u=e.height);var h=document.createElementNS(t.globals.SVGNS,"pattern");Ue.setAttrs(h,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:c+"px",height:u+"px"});var f=document.createElementNS(t.globals.SVGNS,"image");h.appendChild(f),f.setAttributeNS(window.SVG.xlink,"href",l),Ue.setAttrs(f,{x:0,y:0,preserveAspectRatio:"none",width:c+"px",height:u+"px"}),f.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(h)}},{key:"getSeriesIndex",value:function(e){var t=this.w,s=t.config.chart.type;return(s==="bar"||s==="rangeBar")&&t.config.plotOptions.bar.distributed||s==="heatmap"||s==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var s,a=this.w,i=null,o=null,l=Qm(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;c>=t.threshold?(i===null||c>i)&&(i=c):(o===null||c<o)&&(o=c)}}catch(f){l.e(f)}finally{l.f()}i===null&&(i=t.threshold),o===null&&(o=t.threshold);var u=i-t.threshold+(t.threshold-o);u===0&&(u=1);var h=100-(t.threshold-o)/u*100;return[{offset:h=Math.max(0,Math.min(h,100)),color:t.colorAboveThreshold,opacity:a.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:a.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,s,a,i=this.w;this.opts=e;var o,l,c,u=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var h=u.plotOptions.line.colors.colorAboveThreshold&&u.plotOptions.line.colors.colorBelowThreshold,f=this.getFillColors()[this.seriesIndex];i.globals.seriesColors[this.seriesIndex]!==void 0&&(f=i.globals.seriesColors[this.seriesIndex]),typeof f=="function"&&(f=f({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:i}));var g,x,y,b=e.fillType?e.fillType:this.getFillType(this.seriesIndex),v=Array.isArray(u.fill.opacity)?u.fill.opacity[this.seriesIndex]:u.fill.opacity,N=b==="gradient"||h;e.color&&(f=e.color),(t=i.config.series[this.seriesIndex])!==null&&t!==void 0&&(s=t.data)!==null&&s!==void 0&&(a=s[e.dataPointIndex])!==null&&a!==void 0&&a.fillColor&&(f=(g=i.config.series[this.seriesIndex])===null||g===void 0||(x=g.data)===null||x===void 0||(y=x[e.dataPointIndex])===null||y===void 0?void 0:y.fillColor),f||(f="#fff",console.warn("undefined color - ApexCharts"));var k=f;if(f.indexOf("rgb")===-1?f.indexOf("#")===-1?k=f:f.length<9&&(k=oe.hexToRgba(f,v)):f.indexOf("rgba")>-1?v=oe.getOpacityFromRGBA(f):k=oe.hexToRgba(oe.rgb2hex(f),v),e.opacity&&(v=e.opacity),b==="pattern"&&(l=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:l,fillColor:f,fillOpacity:v,defaultColor:k})),N){var C=Yr(u.fill.gradient.colorStops)||[],R=u.fill.gradient.type;h&&(C[this.seriesIndex]=this.computeColorStops(i.globals.series[this.seriesIndex],u.plotOptions.line.colors),R="vertical"),c=this.handleGradientFill({type:R,fillConfig:e.fillConfig,fillColor:f,fillOpacity:v,colorStops:C,i:this.seriesIndex})}if(b==="image"){var _=u.fill.image.src,I=e.patternID?e.patternID:"",P="pattern".concat(i.globals.cuid).concat(e.seriesNumber+1).concat(I);this.patternIDs.indexOf(P)===-1&&(this.clippedImgArea({opacity:v,image:Array.isArray(_)?e.seriesNumber<_.length?_[e.seriesNumber]:_[0]:_,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:P}),this.patternIDs.push(P)),o="url(#".concat(P,")")}else o=N?c:b==="pattern"?l:k;return e.solid&&(o=k),o}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,s=this.opts,a=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors),s.fillColors!==void 0&&(a=[],Array.isArray(s.fillColors)?a=s.fillColors.slice():a.push(s.fillColors)),a}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,s=e.patternFill,a=e.fillColor,i=e.fillOpacity,o=e.defaultColor,l=this.w.config.fill;t&&(l=t);var c=this.opts,u=new Ue(this.ctx),h=Array.isArray(l.pattern.strokeWidth)?l.pattern.strokeWidth[this.seriesIndex]:l.pattern.strokeWidth,f=a;return Array.isArray(l.pattern.style)?s=l.pattern.style[c.seriesNumber]!==void 0?u.drawPattern(l.pattern.style[c.seriesNumber],l.pattern.width,l.pattern.height,f,h,i):o:s=u.drawPattern(l.pattern.style,l.pattern.width,l.pattern.height,f,h,i),s}},{key:"handleGradientFill",value:function(e){var t=e.type,s=e.fillColor,a=e.fillOpacity,i=e.fillConfig,o=e.colorStops,l=e.i,c=this.w.config.fill;i&&(c=qe(qe({},c),i));var u=this.opts,h=new Ue(this.ctx),f=new oe;t=t||c.gradient.type;var g,x=s,y=c.gradient.opacityFrom===void 0?a:Array.isArray(c.gradient.opacityFrom)?c.gradient.opacityFrom[l]:c.gradient.opacityFrom;x.indexOf("rgba")>-1&&(y=oe.getOpacityFromRGBA(x));var b=c.gradient.opacityTo===void 0?a:Array.isArray(c.gradient.opacityTo)?c.gradient.opacityTo[l]:c.gradient.opacityTo;if(c.gradient.gradientToColors===void 0||c.gradient.gradientToColors.length===0)g=c.gradient.shade==="dark"?f.shadeColor(-1*parseFloat(c.gradient.shadeIntensity),s.indexOf("rgb")>-1?oe.rgb2hex(s):s):f.shadeColor(parseFloat(c.gradient.shadeIntensity),s.indexOf("rgb")>-1?oe.rgb2hex(s):s);else if(c.gradient.gradientToColors[u.seriesNumber]){var v=c.gradient.gradientToColors[u.seriesNumber];g=v,v.indexOf("rgba")>-1&&(b=oe.getOpacityFromRGBA(v))}else g=s;if(c.gradient.gradientFrom&&(x=c.gradient.gradientFrom),c.gradient.gradientTo&&(g=c.gradient.gradientTo),c.gradient.inverseColors){var N=x;x=g,g=N}return x.indexOf("rgb")>-1&&(x=oe.rgb2hex(x)),g.indexOf("rgb")>-1&&(g=oe.rgb2hex(g)),h.drawGradient(t,x,g,y,b,u.size,c.gradient.stops,o,l)}}]),r}(),Sh=function(){function r(e,t){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(s){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,s=e.seriesIndex,a=e.j,i=e.pSize,o=e.alwaysDrawMarker,l=o!==void 0&&o,c=e.isVirtualPoint,u=c!==void 0&&c,h=this.w,f=s,g=t,x=null,y=new Ue(this.ctx),b=h.config.markers.discrete&&h.config.markers.discrete.length;if(Array.isArray(g.x))for(var v=0;v<g.x.length;v++){var N=void 0,k=a,C=!oe.isNumber(g.y[v]);h.globals.markers.largestSize===0&&h.globals.hasNullValues&&h.globals.series[f][a+1]!==null&&!u&&(C=!0),a===1&&v===0&&(k=0),a===1&&v===1&&(k=1);var R="apexcharts-marker";if(h.config.chart.type!=="line"&&h.config.chart.type!=="area"||h.globals.comboCharts||h.config.tooltip.intersect||(R+=" no-pointer-events"),(Array.isArray(h.config.markers.size)?h.globals.markers.size[s]>0:h.config.markers.size>0)||l||b){C||(R+=" w".concat(oe.randomId()));var _=this.getMarkerConfig({cssClass:R,seriesIndex:s,dataPointIndex:k});h.config.series[f].data[k]&&(h.config.series[f].data[k].fillColor&&(_.pointFillColor=h.config.series[f].data[k].fillColor),h.config.series[f].data[k].strokeColor&&(_.pointStrokeColor=h.config.series[f].data[k].strokeColor)),i!==void 0&&(_.pSize=i),(g.x[v]<-h.globals.markers.largestSize||g.x[v]>h.globals.gridWidth+h.globals.markers.largestSize||g.y[v]<-h.globals.markers.largestSize||g.y[v]>h.globals.gridHeight+h.globals.markers.largestSize)&&(_.pSize=0),!C&&((h.globals.markers.size[s]>0||l||b)&&!x&&(x=y.group({class:l||b?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(h.globals.cuid,")")),(N=y.drawMarker(g.x[v],g.y[v],_)).attr("rel",k),N.attr("j",k),N.attr("index",s),N.node.setAttribute("default-marker-size",_.pSize),new ga(this.ctx).setSelectionFilter(N,s,k),this.addEvents(N),x&&x.add(N))}else h.globals.pointsArray[s]===void 0&&(h.globals.pointsArray[s]=[]),h.globals.pointsArray[s].push([g.x[v],g.y[v]])}return x}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,s=e.seriesIndex,a=e.dataPointIndex,i=a===void 0?null:a,o=e.radius,l=o===void 0?null:o,c=e.size,u=c===void 0?null:c,h=e.strokeWidth,f=h===void 0?null:h,g=this.w,x=this.getMarkerStyle(s),y=u===null?g.globals.markers.size[s]:u,b=g.config.markers;return i!==null&&b.discrete.length&&b.discrete.map(function(v){v.seriesIndex===s&&v.dataPointIndex===i&&(x.pointStrokeColor=v.strokeColor,x.pointFillColor=v.fillColor,y=v.size,x.pointShape=v.shape)}),{pSize:l===null?y:l,pRadius:l!==null?l:b.radius,pointStrokeWidth:f!==null?f:Array.isArray(b.strokeWidth)?b.strokeWidth[s]:b.strokeWidth,pointStrokeColor:x.pointStrokeColor,pointFillColor:x.pointFillColor,shape:x.pointShape||(Array.isArray(b.shape)?b.shape[s]:b.shape),class:t,pointStrokeOpacity:Array.isArray(b.strokeOpacity)?b.strokeOpacity[s]:b.strokeOpacity,pointStrokeDashArray:Array.isArray(b.strokeDashArray)?b.strokeDashArray[s]:b.strokeDashArray,pointFillOpacity:Array.isArray(b.fillOpacity)?b.fillOpacity[s]:b.fillOpacity,seriesIndex:s}}},{key:"addEvents",value:function(e){var t=this.w,s=new Ue(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",s.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,s=t.globals.markers.colors,a=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(a)?a[e]:a,pointFillColor:Array.isArray(s)?s[e]:s}}}]),r}(),GL=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return ot(r,[{key:"draw",value:function(e,t,s){var a=this.w,i=new Ue(this.ctx),o=s.realIndex,l=s.pointsPos,c=s.zRatio,u=s.elParent,h=i.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(h.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(l.x))for(var f=0;f<l.x.length;f++){var g=t+1,x=!0;t===0&&f===0&&(g=0),t===0&&f===1&&(g=1);var y=a.globals.markers.size[o];if(c!==1/0){var b=a.config.plotOptions.bubble;y=a.globals.seriesZ[o][g],b.zScaling&&(y/=c),b.minBubbleRadius&&y<b.minBubbleRadius&&(y=b.minBubbleRadius),b.maxBubbleRadius&&y>b.maxBubbleRadius&&(y=b.maxBubbleRadius)}var v=l.x[f],N=l.y[f];if(y=y||0,N!==null&&a.globals.series[o][g]!==void 0||(x=!1),x){var k=this.drawPoint(v,N,y,o,g,t);h.add(k)}u.add(h)}}},{key:"drawPoint",value:function(e,t,s,a,i,o){var l=this.w,c=a,u=new wh(this.ctx),h=new ga(this.ctx),f=new si(this.ctx),g=new Sh(this.ctx),x=new Ue(this.ctx),y=g.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:c,dataPointIndex:i,radius:l.config.chart.type==="bubble"||l.globals.comboCharts&&l.config.series[a]&&l.config.series[a].type==="bubble"?s:null}),b=f.fillPath({seriesNumber:a,dataPointIndex:i,color:y.pointFillColor,patternUnits:"objectBoundingBox",value:l.globals.series[a][o]}),v=x.drawMarker(e,t,y);if(l.config.series[c].data[i]&&l.config.series[c].data[i].fillColor&&(b=l.config.series[c].data[i].fillColor),v.attr({fill:b}),l.config.chart.dropShadow.enabled){var N=l.config.chart.dropShadow;h.dropShadow(v,N,a)}if(!this.initialAnim||l.globals.dataChanged||l.globals.resized)l.globals.animationEnded=!0;else{var k=l.config.chart.animations.speed;u.animateMarker(v,k,l.globals.easing,function(){window.setTimeout(function(){u.animationCompleted(v)},100)})}return v.attr({rel:i,j:i,index:a,"default-marker-size":y.pSize}),h.setSelectionFilter(v,a,i),g.addEvents(v),v.node.classList.add("apexcharts-marker"),v}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),r}(),sh=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"dataLabelsCorrection",value:function(e,t,s,a,i,o,l){var c=this.w,u=!1,h=new Ue(this.ctx).getTextRects(s,l),f=h.width,g=h.height;t<0&&(t=0),t>c.globals.gridHeight+g&&(t=c.globals.gridHeight+g/2),c.globals.dataLabelsRects[a]===void 0&&(c.globals.dataLabelsRects[a]=[]),c.globals.dataLabelsRects[a].push({x:e,y:t,width:f,height:g});var x=c.globals.dataLabelsRects[a].length-2,y=c.globals.lastDrawnDataLabelsIndexes[a]!==void 0?c.globals.lastDrawnDataLabelsIndexes[a][c.globals.lastDrawnDataLabelsIndexes[a].length-1]:0;if(c.globals.dataLabelsRects[a][x]!==void 0){var b=c.globals.dataLabelsRects[a][y];(e>b.x+b.width||t>b.y+b.height||t+g<b.y||e+f<b.x)&&(u=!0)}return(i===0||o)&&(u=!0),{x:e,y:t,textRects:h,drawnextLabel:u}}},{key:"drawDataLabel",value:function(e){var t=this,s=e.type,a=e.pos,i=e.i,o=e.j,l=e.isRangeStart,c=e.strokeWidth,u=c===void 0?2:c,h=this.w,f=new Ue(this.ctx),g=h.config.dataLabels,x=0,y=0,b=o,v=null;if(h.globals.collapsedSeriesIndices.indexOf(i)!==-1||!g.enabled||!Array.isArray(a.x))return v;v=f.group({class:"apexcharts-data-labels"});for(var N=0;N<a.x.length;N++)if(x=a.x[N]+g.offsetX,y=a.y[N]+g.offsetY+u,!isNaN(x)){o===1&&N===0&&(b=0),o===1&&N===1&&(b=1);var k=h.globals.series[i][b];s==="rangeArea"&&(k=l?h.globals.seriesRangeStart[i][b]:h.globals.seriesRangeEnd[i][b]);var C="",R=function(I){return h.config.dataLabels.formatter(I,{ctx:t.ctx,seriesIndex:i,dataPointIndex:b,w:h})};h.config.chart.type==="bubble"?(C=R(k=h.globals.seriesZ[i][b]),y=a.y[N],y=new GL(this.ctx).centerTextInBubble(y,i,b).y):k!==void 0&&(C=R(k));var _=h.config.dataLabels.textAnchor;h.globals.isSlopeChart&&(_=b===0?"end":b===h.config.series[i].data.length-1?"start":"middle"),this.plotDataLabelsText({x,y,text:C,i,j:b,parent:v,offsetCorrection:!0,dataLabelsConfig:h.config.dataLabels,textAnchor:_})}return v}},{key:"plotDataLabelsText",value:function(e){var t=this.w,s=new Ue(this.ctx),a=e.x,i=e.y,o=e.i,l=e.j,c=e.text,u=e.textAnchor,h=e.fontSize,f=e.parent,g=e.dataLabelsConfig,x=e.color,y=e.alwaysDrawDataLabel,b=e.offsetCorrection,v=e.className,N=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(o)<0)return N;var k={x:a,y:i,drawnextLabel:!0,textRects:null};b&&(k=this.dataLabelsCorrection(a,i,c,o,l,y,parseInt(g.style.fontSize,10))),t.globals.zoomed||(a=k.x,i=k.y),k.textRects&&(a<-20-k.textRects.width||a>t.globals.gridWidth+k.textRects.width+30)&&(c="");var C=t.globals.dataLabels.style.colors[o];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(C=t.globals.dataLabels.style.colors[l]),typeof C=="function"&&(C=C({series:t.globals.series,seriesIndex:o,dataPointIndex:l,w:t})),x&&(C=x);var R=g.offsetX,_=g.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(R=0,_=0),t.globals.isSlopeChart&&(l!==0&&(R=-2*g.offsetX+5),l!==0&&l!==t.config.series[o].data.length-1&&(R=0)),k.drawnextLabel){if(u==="middle"&&a===t.globals.gridWidth&&(u="end"),(N=s.drawText({width:100,height:parseInt(g.style.fontSize,10),x:a+R,y:i+_,foreColor:C,textAnchor:u||g.textAnchor,text:c,fontSize:h||g.style.fontSize,fontFamily:g.style.fontFamily,fontWeight:g.style.fontWeight||"normal"})).attr({class:v||"apexcharts-datalabel",cx:a,cy:i}),g.dropShadow.enabled){var I=g.dropShadow;new ga(this.ctx).dropShadow(N,I)}f.add(N),t.globals.lastDrawnDataLabelsIndexes[o]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[o]=[]),t.globals.lastDrawnDataLabelsIndexes[o].push(l)}return N}},{key:"addBackgroundToDataLabel",value:function(e,t){var s=this.w,a=s.config.dataLabels.background,i=a.padding,o=a.padding/2,l=t.width,c=t.height,u=new Ue(this.ctx).drawRect(t.x-i,t.y-o/2,l+2*i,c+o,a.borderRadius,s.config.chart.background!=="transparent"&&s.config.chart.background?s.config.chart.background:"#fff",a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new ga(this.ctx).dropShadow(u,a.dropShadow),u}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),s=0;s<t.length;s++){var a=t[s],i=a.getBBox(),o=null;if(i.width&&i.height&&(o=this.addBackgroundToDataLabel(a,i)),o){a.parentNode.insertBefore(o.node,a);var l=e.config.dataLabels.background.backgroundColor||a.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?o.animate().attr({fill:l}):o.attr({fill:l}),a.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),s=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<t.length;a++)s&&s.insertBefore(t[a],s.nextSibling)}}]),r}(),KL=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,zn=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return ot(r,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(oe.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),s=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:s}}},{key:"addCollapsedClassToSeries",value:function(e,t){var s=this.w;function a(i){for(var o=0;o<i.length;o++)i[o].index===t&&e.node.classList.add("apexcharts-series-collapsed")}a(s.globals.collapsedSeries),a(s.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w,i=oe.clone(a.globals.initialSeries);a.globals.previousPaths=[],s?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):i=this.emptyCollapsedSeries(i),a.config.series=i,e&&(t&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,s=0;s<e.length;s++)t.globals.collapsedSeriesIndices.indexOf(s)>-1&&(e[s].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,s=this.getSeriesByName(e),a=parseInt(s?.getAttribute("data:realIndex"),10),i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),o=null,l=null,c=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){o=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),l=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"));var u=t.globals.seriesYAxisReverseMap[a];c=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(u,"']"))}else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']"));else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var h=0;h<i.length;h++)i[h].classList.add(this.legendInactiveClass);if(o)t.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass),c!==null&&c.classList.remove(this.legendInactiveClass);else for(var f=0;f<i.length;f++)i[f].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var s=this.w;t||(t=e.target);var a=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var i=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(s.globals.seriesNames[i])}else if(e.type==="mouseout")for(var o=0;o<a.length;o++)a[o].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var s=this,a=this.w,i=a.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(u){for(var h=0;h<i.length;h++)i[h].classList[u](s.legendInactiveClass)};if(e.type==="mousemove"){var l=parseInt(t.getAttribute("rel"),10)-1;o("add");var c=a.config.plotOptions.heatmap.colorScale.ranges;(function(u,h){for(var f=0;f<i.length;f++){var g=Number(i[f].getAttribute("val"));g>=u.from&&(g<u.to||u.to===h&&g===h)&&i[f].classList.remove(s.legendInactiveClass)}})(c[l],c.reduce(function(u,h){return Math.max(u,h.to)},0))}else e.type==="mouseout"&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=this.w,a=0;if(s.config.series.length>1){for(var i=s.config.series.map(function(l,c){return l.data&&l.data.length>0&&s.globals.collapsedSeriesIndices.indexOf(c)===-1&&(!s.globals.comboCharts||t.length===0||t.length&&t.indexOf(s.config.series[c].type)>-1)?c:-1}),o=e==="asc"?0:i.length-1;e==="asc"?o<i.length:o>=0;e==="asc"?o++:o--)if(i[o]!==-1){a=i[o];break}}return a}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return e.type==="bar"||e.type==="column"?t:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(o,l,c){for(var u=o[l].childNodes,h={type:c,paths:[],realIndex:o[l].getAttribute("data:realIndex")},f=0;f<u.length;f++)if(u[f].hasAttribute("pathTo")){var g=u[f].getAttribute("pathTo");h.paths.push({d:g})}e.globals.previousPaths.push(h)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(o){for(var l,c=(l=o,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(l,"-series .apexcharts-series"))),u=0;u<c.length;u++)t(c,u,o)});var s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(s.length>0)for(var a=function(o){for(var l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(o,"'] rect")),c=[],u=function(f){var g=function(y){return l[f].getAttribute(y)},x={x:parseFloat(g("x")),y:parseFloat(g("y")),width:parseFloat(g("width")),height:parseFloat(g("height"))};c.push({rect:x,color:l[f].getAttribute("color")})},h=0;h<l.length;h++)u(h);e.globals.previousPaths.push(c)},i=0;i<s.length;i++)a(i);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,s=new Ue(this.ctx),a=e.globals.svgWidth/2,i=e.globals.svgHeight/2,o="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(a=10,o="start"):t.align==="right"&&(a=e.globals.svgWidth-10,o="end"),t.verticalAlign==="top"?i=50:t.verticalAlign==="bottom"&&(i=e.globals.svgHeight-50),a+=t.offsetX,i=i+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var l=s.drawText({x:a,y:i,text:t.text,textAnchor:o,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(l)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,s=0;s<e.length;s++)if(e[s].length===0)for(var a=0;a<e[t.globals.maxValsInArrayIndex].length;a++)e[s].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,s=this.filteredSeriesX(),a=0;a<s.length-1;a++)if(s[a][0]!==s[a+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(t){return t.length>0?t:[]});return e}}]),r}(),aS=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new wr(this.ctx)}return ot(r,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new zn(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new zn(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var s=this.w.config,a=this.w.globals,i=s.chart.type==="boxPlot"||s.series[t].type==="boxPlot",o=0;o<e[t].data.length;o++)if(e[t].data[o][1]!==void 0&&(Array.isArray(e[t].data[o][1])&&e[t].data[o][1].length===4&&!i?this.twoDSeries.push(oe.parseNumber(e[t].data[o][1][3])):e[t].data[o].length>=5?this.twoDSeries.push(oe.parseNumber(e[t].data[o][4])):this.twoDSeries.push(oe.parseNumber(e[t].data[o][1])),a.dataFormatXNumeric=!0),s.xaxis.type==="datetime"){var l=new Date(e[t].data[o][0]);l=new Date(l).getTime(),this.twoDSeriesX.push(l)}else this.twoDSeriesX.push(e[t].data[o][0]);for(var c=0;c<e[t].data.length;c++)e[t].data[c][2]!==void 0&&(this.threeDSeries.push(e[t].data[c][2]),a.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var s=this.w.config,a=this.w.globals,i=new ha(this.ctx),o=t;a.collapsedSeriesIndices.indexOf(t)>-1&&(o=this.activeSeriesIndex);for(var l=0;l<e[t].data.length;l++)e[t].data[l].y!==void 0&&(Array.isArray(e[t].data[l].y)?this.twoDSeries.push(oe.parseNumber(e[t].data[l].y[e[t].data[l].y.length-1])):this.twoDSeries.push(oe.parseNumber(e[t].data[l].y))),e[t].data[l].goals!==void 0&&Array.isArray(e[t].data[l].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[l].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var c=0;c<e[o].data.length;c++){var u=typeof e[o].data[c].x=="string",h=Array.isArray(e[o].data[c].x),f=!h&&!!i.isValidDate(e[o].data[c].x);if(u||f)if(u||s.xaxis.convertedCatToNumeric){var g=a.isBarHorizontal&&a.isRangeData;s.xaxis.type!=="datetime"||g?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[c].x),isNaN(e[o].data[c].x)||this.w.config.xaxis.type==="category"||typeof e[o].data[c].x=="string"||(a.isXNumeric=!0)):this.twoDSeriesX.push(i.parseDate(e[o].data[c].x))}else s.xaxis.type==="datetime"?this.twoDSeriesX.push(i.parseDate(e[o].data[c].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[o].data[c].x)));else h?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[c].x)):(a.isXNumeric=!0,a.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[o].data[c].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var x=0;x<e[t].data.length;x++)this.threeDSeries.push(e[t].data[x].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var s=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",e,t)),s.seriesRangeStart[t]=a.start===void 0?[]:a.start,s.seriesRangeEnd[t]=a.end===void 0?[]:a.end,s.seriesRange[t]=a.rangeUniques,s.seriesRange.forEach(function(i,o){i&&i.forEach(function(l,c){l.y.forEach(function(u,h){for(var f=0;f<l.y.length;f++)if(h!==f){var g=u.y1,x=u.y2,y=l.y[f].y1;g<=l.y[f].y2&&y<=x&&(l.overlaps.indexOf(u.rangeName)<0&&l.overlaps.push(u.rangeName),l.overlaps.indexOf(l.y[f].rangeName)<0&&l.overlaps.push(l.y[f].rangeName))}})})}),a}},{key:"handleCandleStickBoxData",value:function(e,t){var s=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",e,t)),s.seriesCandleO[t]=a.o,s.seriesCandleH[t]=a.h,s.seriesCandleM[t]=a.m,s.seriesCandleL[t]=a.l,s.seriesCandleC[t]=a.c,a}},{key:"handleRangeDataFormat",value:function(e,t,s){var a=[],i=[],o=t[s].data.filter(function(h,f,g){return f===g.findIndex(function(x){return x.x===h.x})}).map(function(h,f){return{x:h.x,overlaps:[],y:[]}});if(e==="array")for(var l=0;l<t[s].data.length;l++)Array.isArray(t[s].data[l])?(a.push(t[s].data[l][1][0]),i.push(t[s].data[l][1][1])):(a.push(t[s].data[l]),i.push(t[s].data[l]));else if(e==="xy")for(var c=function(h){var f=Array.isArray(t[s].data[h].y),g=oe.randomId(),x=t[s].data[h].x,y={y1:f?t[s].data[h].y[0]:t[s].data[h].y,y2:f?t[s].data[h].y[1]:t[s].data[h].y,rangeName:g};t[s].data[h].rangeName=g;var b=o.findIndex(function(v){return v.x===x});o[b].y.push(y),a.push(y.y1),i.push(y.y2)},u=0;u<t[s].data.length;u++)c(u);return{start:a,end:i,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,s){var a=this.w,i=a.config.chart.type==="boxPlot"||a.config.series[s].type==="boxPlot",o=[],l=[],c=[],u=[],h=[];if(e==="array")if(i&&t[s].data[0].length===6||!i&&t[s].data[0].length===5)for(var f=0;f<t[s].data.length;f++)o.push(t[s].data[f][1]),l.push(t[s].data[f][2]),i?(c.push(t[s].data[f][3]),u.push(t[s].data[f][4]),h.push(t[s].data[f][5])):(u.push(t[s].data[f][3]),h.push(t[s].data[f][4]));else for(var g=0;g<t[s].data.length;g++)Array.isArray(t[s].data[g][1])&&(o.push(t[s].data[g][1][0]),l.push(t[s].data[g][1][1]),i?(c.push(t[s].data[g][1][2]),u.push(t[s].data[g][1][3]),h.push(t[s].data[g][1][4])):(u.push(t[s].data[g][1][2]),h.push(t[s].data[g][1][3])));else if(e==="xy")for(var x=0;x<t[s].data.length;x++)Array.isArray(t[s].data[x].y)&&(o.push(t[s].data[x].y[0]),l.push(t[s].data[x].y[1]),i?(c.push(t[s].data[x].y[2]),u.push(t[s].data[x].y[3]),h.push(t[s].data[x].y[4])):(u.push(t[s].data[x].y[2]),h.push(t[s].data[x].y[3])));return{o,h:l,m:c,l:u,c:h}}},{key:"parseDataAxisCharts",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,a=this.w.config,i=this.w.globals,o=new ha(s),l=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();i.isRangeBar=a.chart.type==="rangeBar"&&i.isBarHorizontal,i.hasXaxisGroups=a.xaxis.type==="category"&&a.xaxis.group.groups.length>0,i.hasXaxisGroups&&(i.groups=a.xaxis.group.groups),e.forEach(function(x,y){x.name!==void 0?i.seriesNames.push(x.name):i.seriesNames.push("series-"+parseInt(y+1,10))}),this.coreUtils.setSeriesYAxisMappings();var c=[],u=Yr(new Set(a.series.map(function(x){return x.group})));a.series.forEach(function(x,y){var b=u.indexOf(x.group);c[b]||(c[b]=[]),c[b].push(i.seriesNames[y])}),i.seriesGroups=c;for(var h=function(){for(var x=0;x<l.length;x++)if(typeof l[x]=="string"){if(!o.isValidDate(l[x]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(o.parseDate(l[x]))}else t.twoDSeriesX.push(l[x])},f=0;f<e.length;f++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[f].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(a.chart.type!=="rangeBar"&&a.chart.type!=="rangeArea"&&e[f].type!=="rangeBar"&&e[f].type!=="rangeArea"||(i.isRangeData=!0,this.handleRangeData(e,f)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,f):this.isFormatXY()&&this.handleFormatXY(e,f),a.chart.type!=="candlestick"&&e[f].type!=="candlestick"&&a.chart.type!=="boxPlot"&&e[f].type!=="boxPlot"||this.handleCandleStickBoxData(e,f),i.series.push(this.twoDSeries),i.labels.push(this.twoDSeriesX),i.seriesX.push(this.twoDSeriesX),i.seriesGoals=this.seriesGoals,f!==this.activeSeriesIndex||this.fallbackToCategory||(i.isXNumeric=!0);else{a.xaxis.type==="datetime"?(i.isXNumeric=!0,h(),i.seriesX.push(this.twoDSeriesX)):a.xaxis.type==="numeric"&&(i.isXNumeric=!0,l.length>0&&(this.twoDSeriesX=l,i.seriesX.push(this.twoDSeriesX))),i.labels.push(this.twoDSeriesX);var g=e[f].data.map(function(x){return oe.parseNumber(x)});i.series.push(g)}i.seriesZ.push(this.threeDSeries),e[f].color!==void 0?i.seriesColors.push(e[f].color):i.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,s=this.w.config,a=Array.isArray(e)&&e.every(function(h){return typeof h=="number"})&&s.labels.length>0,i=Array.isArray(e)&&e.some(function(h){return h&&Ra(h)==="object"&&h.data||h&&Ra(h)==="object"&&h.parsing});if(a&&i&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),a){t.series=e.slice(),t.seriesNames=s.labels.slice();for(var o=0;o<t.series.length;o++)t.seriesNames[o]===void 0&&t.seriesNames.push("series-"+(o+1));return this.w}if(Array.isArray(e)&&e.every(function(h){return typeof h=="number"})){t.series=e.slice(),t.seriesNames=[];for(var l=0;l<t.series.length;l++)t.seriesNames.push(s.labels[l]||"series-".concat(l+1));return this.w}var c=this.extractPieDataFromSeries(e);t.series=c.values,t.seriesNames=c.labels,s.chart.type==="radialBar"&&(t.series=t.series.map(function(h){var f=oe.parseNumber(h);return f>100&&console.warn("ApexCharts: RadialBar value ".concat(f," > 100, consider using percentage values (0-100)")),f}));for(var u=0;u<t.series.length;u++)t.seriesNames[u]===void 0&&t.seriesNames.push("series-"+(u+1));return this.w}},{key:"resetParsingFlags",value:function(){var e=this.w;e.globals.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach(function(t){t.__apexParsed&&delete t.__apexParsed})}},{key:"extractPieDataFromSeries",value:function(e){var t=[],s=[];if(!Array.isArray(e))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(e.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var a=e[0];return Ra(a)==="object"&&a!==null&&a.data?(this.extractPieDataFromSeriesObjects(e,t,s),{values:t,labels:s}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(e,t,s){e.forEach(function(a,i){a.data&&Array.isArray(a.data)?a.data.forEach(function(o){Ra(o)==="object"&&o!==null?o.x!==void 0&&o.y!==void 0?(s.push(String(o.x)),t.push(oe.parseNumber(o.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",o):console.warn("ApexCharts: Expected object data point, got:",Ra(o))}):console.warn("ApexCharts: Series ".concat(i," has no valid data array"))})}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,s=this.w.globals;t.xaxis.categories.length>0?s.labels=t.xaxis.categories:t.labels.length>0?s.labels=t.labels.slice():this.fallbackToCategory?(s.labels=s.labels[0],s.seriesRange.length&&(s.seriesRange.map(function(a){a.forEach(function(i){s.labels.indexOf(i.x)<0&&i.x&&s.labels.push(i.x)})}),s.labels=Array.from(new Set(s.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new eg(t).convertCatToNumericXaxis(t,this.ctx,s.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,s=this.w.config,a=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var i=s.series.map(function(f,g){return f.data.filter(function(x,y,b){return b.findIndex(function(v){return v.x===x.x})===y})}),o=i.reduce(function(f,g,x,y){return y[f].length>g.length?f:x},0),l=0;l<i[o].length;l++)a.push(l+1);else for(var c=0;c<t.series[t.maxValsInArrayIndex].length;c++)a.push(c+1);t.seriesX=[];for(var u=0;u<e.length;u++)t.seriesX.push(a);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(a.length===0){a=t.axisCharts?[]:t.series.map(function(f,g){return g+1});for(var h=0;h<e.length;h++)t.seriesX.push(a)}t.labels=a,s.xaxis.convertedCatToNumeric&&(t.categoryLabels=a.map(function(f){return s.xaxis.labels.formatter(f)})),t.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(e){var t=this,s=this.w.config,a=this.w.globals,i=s.parsing;if(a.dataWasParsed||!i&&!e.some(function(l){return l.parsing}))return e;var o=e.map(function(l,c){var u,h,f;if(!l.data||!Array.isArray(l.data)||l.data.length===0)return l;var g={x:((u=l.parsing)===null||u===void 0?void 0:u.x)||i?.x,y:((h=l.parsing)===null||h===void 0?void 0:h.y)||i?.y,z:((f=l.parsing)===null||f===void 0?void 0:f.z)||i?.z};if(!g.x&&!g.y)return l;var x=l.data[0];if(Ra(x)==="object"&&x!==null&&(x.hasOwnProperty("x")||x.hasOwnProperty("y"))||Array.isArray(x))return l;if(!g.x||!g.y||Array.isArray(g.y)&&g.y.length===0)return console.warn("ApexCharts: Series ".concat(c," has parsing config but missing x or y field specification")),l;var y=l.data.map(function(b,v){if(Ra(b)!=="object"||b===null)return console.warn("ApexCharts: Series ".concat(c,", data point ").concat(v," is not an object, skipping parsing")),b;var N,k=t.getNestedValue(b,g.x),C=void 0;if(Array.isArray(g.y)){var R=g.y.map(function(P){return t.getNestedValue(b,P)});N=t.w.config.chart.type==="bubble"&&R.length===2?R[0]:R}else N=t.getNestedValue(b,g.y);g.z&&(C=t.getNestedValue(b,g.z)),k===void 0&&console.warn("ApexCharts: Series ".concat(c,", data point ").concat(v," missing field '").concat(g.x,"'")),N===void 0&&console.warn("ApexCharts: Series ".concat(c,", data point ").concat(v," missing field '").concat(g.y,"'"));var _={x:k,y:N};if(t.w.config.chart.type==="bubble"&&Array.isArray(g.y)&&g.y.length===2){var I=t.getNestedValue(b,g.y[1]);I!==void 0&&(_.z=I)}return C!==void 0&&(_.z=C),_});return qe(qe({},l),{},{data:y,__apexParsed:!0})});return a.dataWasParsed=!0,a.originalSeries||(a.originalSeries=oe.clone(e)),o}},{key:"getNestedValue",value:function(e,t){if(e&&Ra(e)==="object"&&t){if(t.indexOf(".")===-1)return e[t];for(var s=t.split("."),a=e,i=0;i<s.length;i++){if(a==null||Ra(a)!=="object")return;a=a[s[i]]}return a}}},{key:"parseData",value:function(e){var t=this.w,s=t.config,a=t.globals;if(e=this.parseRawDataIfNeeded(e),s.series=e,a.initialSeries=oe.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),s.chart.stacked){var i=new zn(this.ctx);a.series=i.setNullSeriesToZeroValues(a.series)}this.coreUtils.getSeriesTotals(),a.axisCharts&&(a.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),a.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&(s.xaxis.type!=="numeric"||s.labels.length!==0||s.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var o=this.coreUtils.getCategoryLabels(a.labels),l=0;l<o.length;l++)if(Array.isArray(o[l])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(s,a){var i=0;s.forEach(function(o){e.globals.collapsedSeriesIndices.indexOf(o)!==-1&&i++}),i>0&&i==s.length&&t.push(a)}),e.globals.ignoreYAxisIndexes=t.map(function(s){return s})}}]),r}(),Nf=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var s=parseFloat(e.getAttributeNS(null,"width")),a=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",s*t),e.setAttributeNS(null,"height",a*t),e.setAttributeNS(null,"viewBox","0 0 "+s+" "+a)}},{key:"getSvgString",value:function(e){var t=this;return new Promise(function(s){var a=t.w,i=e||a.config.chart.toolbar.export.scale||a.config.chart.toolbar.export.width/a.globals.svgWidth;i||(i=1);var o=a.globals.svgWidth*i,l=a.globals.svgHeight*i,c=a.globals.dom.elWrap.cloneNode(!0);c.style.width=o+"px",c.style.height=l+"px";var u=new XMLSerializer().serializeToString(c),h=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;a.config.legend.show&&a.globals.dom.elLegendWrap&&a.globals.dom.elLegendWrap.children.length>0&&(h+=KL);var f=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(a.globals.svgWidth,'px" height="').concat(a.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(o,"px; height:").concat(l,`px;">
            <style type="text/css">
              `).concat(h,`
            </style>
              `).concat(u,`
            </div>
          </foreignObject>
        </svg>
      `),g=t.svgStringToNode(f);i!==1&&t.scaleSvgNode(g,i),t.convertImagesToBase64(g).then(function(){f=new XMLSerializer().serializeToString(g),s(f.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,s=e.getElementsByTagName("image"),a=Array.from(s).map(function(i){var o=i.getAttributeNS("http://www.w3.org/1999/xlink","href");return o&&!o.startsWith("data:")?t.getBase64FromUrl(o).then(function(l){i.setAttributeNS("http://www.w3.org/1999/xlink","href",l)}).catch(function(l){console.error("Error converting image to base64:",l)}):Promise.resolve()});return Promise.all(a)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,s){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var i=document.createElement("canvas");i.width=a.width,i.height=a.height,i.getContext("2d").drawImage(a,0,0),t(i.toDataURL())},a.onerror=s,a.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.getSvgString().then(function(s){var a=new Blob([s],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(a))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(s){var a=t.w,i=e?e.scale||e.width/a.globals.svgWidth:1,o=document.createElement("canvas");o.width=a.globals.svgWidth*i,o.height=parseInt(a.globals.dom.elWrap.style.height,10)*i;var l=a.config.chart.background!=="transparent"&&a.config.chart.background?a.config.chart.background:"#fff",c=o.getContext("2d");c.fillStyle=l,c.fillRect(0,0,o.width*i,o.height*i),t.getSvgString(i).then(function(u){var h="data:image/svg+xml,"+encodeURIComponent(u),f=new Image;f.crossOrigin="anonymous",f.onload=function(){if(c.drawImage(f,0,0),o.msToBlob){var g=o.msToBlob();s({blob:g})}else{var x=o.toDataURL("image/png");s({imgURI:x})}},f.src=h})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,s=this.w.config.chart.toolbar.export.width,a=t?{scale:t}:s?{width:s}:void 0;this.dataURI(a).then(function(i){var o=i.imgURI,l=i.blob;l?navigator.msSaveOrOpenBlob(l,e.w.globals.chartID+".png"):e.triggerDownload(o,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,s=e.series,a=e.fileName,i=e.columnDelimiter,o=i===void 0?",":i,l=e.lineDelimiter,c=l===void 0?`
`:l,u=this.w;s||(s=u.config.series);var h=[],f=[],g="",x=u.globals.series.map(function(_,I){return u.globals.collapsedSeriesIndices.indexOf(I)===-1?_:[]}),y=function(_){return typeof u.config.chart.toolbar.export.csv.categoryFormatter=="function"?u.config.chart.toolbar.export.csv.categoryFormatter(_):u.config.xaxis.type==="datetime"&&String(_).length>=10?new Date(_).toDateString():oe.isNumber(_)?_:_.split(o).join("")},b=function(_){return typeof u.config.chart.toolbar.export.csv.valueFormatter=="function"?u.config.chart.toolbar.export.csv.valueFormatter(_):_},v=Math.max.apply(Math,Yr(s.map(function(_){return _.data?_.data.length:0}))),N=new aS(this.ctx),k=new $l(this.ctx),C=function(_){var I="";if(u.globals.axisCharts){if(u.config.xaxis.type==="category"||u.config.xaxis.convertedCatToNumeric)if(u.globals.isBarHorizontal){var P=u.globals.yLabelFormatters[0],T=new zn(t.ctx).getActiveConfigSeriesIndex();I=P(u.globals.labels[_],{seriesIndex:T,dataPointIndex:_,w:u})}else I=k.getLabel(u.globals.labels,u.globals.timescaleLabels,0,_).text;u.config.xaxis.type==="datetime"&&(u.config.xaxis.categories.length?I=u.config.xaxis.categories[_]:u.config.labels.length&&(I=u.config.labels[_]))}else I=u.config.labels[_];return I===null?"nullvalue":(Array.isArray(I)&&(I=I.join(" ")),oe.isNumber(I)?I:I.split(o).join(""))},R=function(_,I){if(h.length&&I===0&&f.push(h.join(o)),_.data){_.data=_.data.length&&_.data||Yr(Array(v)).map(function(){return""});for(var P=0;P<_.data.length;P++){h=[];var T=C(P);if(T!=="nullvalue"){if(T||(N.isFormatXY()?T=s[I].data[P].x:N.isFormat2DArray()&&(T=s[I].data[P]?s[I].data[P][0]:"")),I===0){h.push(y(T));for(var D=0;D<u.globals.series.length;D++){var L,F=N.isFormatXY()?(L=s[D].data[P])===null||L===void 0?void 0:L.y:x[D][P];h.push(b(F))}}(u.config.chart.type==="candlestick"||_.type&&_.type==="candlestick")&&(h.pop(),h.push(u.globals.seriesCandleO[I][P]),h.push(u.globals.seriesCandleH[I][P]),h.push(u.globals.seriesCandleL[I][P]),h.push(u.globals.seriesCandleC[I][P])),(u.config.chart.type==="boxPlot"||_.type&&_.type==="boxPlot")&&(h.pop(),h.push(u.globals.seriesCandleO[I][P]),h.push(u.globals.seriesCandleH[I][P]),h.push(u.globals.seriesCandleM[I][P]),h.push(u.globals.seriesCandleL[I][P]),h.push(u.globals.seriesCandleC[I][P])),u.config.chart.type==="rangeBar"&&(h.pop(),h.push(u.globals.seriesRangeStart[I][P]),h.push(u.globals.seriesRangeEnd[I][P])),h.length&&f.push(h.join(o))}}}};h.push(u.config.chart.toolbar.export.csv.headerCategory),u.config.chart.type==="boxPlot"?(h.push("minimum"),h.push("q1"),h.push("median"),h.push("q3"),h.push("maximum")):u.config.chart.type==="candlestick"?(h.push("open"),h.push("high"),h.push("low"),h.push("close")):u.config.chart.type==="rangeBar"?(h.push("minimum"),h.push("maximum")):s.map(function(_,I){var P=(_.name?_.name:"series-".concat(I))+"";u.globals.axisCharts&&h.push(P.split(o).join("")?P.split(o).join(""):"series-".concat(I))}),u.globals.axisCharts||(h.push(u.config.chart.toolbar.export.csv.headerValue),f.push(h.join(o))),u.globals.allSeriesHasEqualX||!u.globals.axisCharts||u.config.xaxis.categories.length||u.config.labels.length?s.map(function(_,I){u.globals.axisCharts?R(_,I):((h=[]).push(y(u.globals.labels[I])),h.push(b(x[I])),f.push(h.join(o)))}):function(){var _=new Set,I={};s.forEach(function(P,T){P?.data.forEach(function(D){var L,F;if(N.isFormatXY())L=D.x,F=D.y;else{if(!N.isFormat2DArray())return;L=D[0],F=D[1]}I[L]||(I[L]=Array(s.length).fill("")),I[L][T]=b(F),_.add(L)})}),h.length&&f.push(h.join(o)),Array.from(_).sort().forEach(function(P){f.push([y(P),I[P].join(o)])})}(),g+=f.join(c),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+g),a||u.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,s){var a=document.createElement("a");a.href=e,a.download=(t||this.w.globals.chartID)+s,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),r}(),sg=function(){function r(e,t){it(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var s=this.w;this.axesUtils=new $l(e),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],s.config.xaxis.position==="top"?this.offY=0:this.offY=s.globals.gridHeight,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return ot(r,[{key:"drawXaxis",value:function(){var e=this.w,t=new Ue(this.ctx),s=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),a=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(a);for(var i=[],o=0;o<this.xaxisLabels.length;o++)i.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,t,a,i,e.globals.isXNumeric,function(y,b){return b}),e.globals.hasXaxisGroups){var l=e.globals.groups;i=[];for(var c=0;c<l.length;c++)i.push(l[c].title);var u={};e.config.xaxis.group.style&&(u.xaxisFontSize=e.config.xaxis.group.style.fontSize,u.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,u.xaxisForeColors=e.config.xaxis.group.style.colors,u.fontWeight=e.config.xaxis.group.style.fontWeight,u.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,a,i,!1,function(y,b){return l[y].cols*b},u)}if(e.config.xaxis.title.text!==void 0){var h=t.group({class:"apexcharts-xaxis-title"}),f=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});h.add(f),s.add(h)}if(e.config.xaxis.axisBorder.show){var g=e.globals.barPadForNumericAxis,x=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-g,this.offY,this.xaxisBorderWidth+g,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(x):s.add(x)}return s}},{key:"drawXAxisLabelAndGroup",value:function(e,t,s,a,i,o){var l,c=this,u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},h=[],f=[],g=this.w,x=u.xaxisFontSize||this.xaxisFontSize,y=u.xaxisFontFamily||this.xaxisFontFamily,b=u.xaxisForeColors||this.xaxisForeColors,v=u.fontWeight||g.config.xaxis.labels.style.fontWeight,N=u.cssClass||g.config.xaxis.labels.style.cssClass,k=g.globals.padHorizontal,C=a.length,R=g.config.xaxis.type==="category"?g.globals.dataPoints:C;if(R===0&&C>R&&(R=C),i){var _=Math.max(Number(g.config.xaxis.tickAmount)||1,R>1?R-1:R);l=g.globals.gridWidth/Math.min(_,C-1),k=k+o(0,l)/2+g.config.xaxis.labels.offsetX}else l=g.globals.gridWidth/R,k=k+o(0,l)+g.config.xaxis.labels.offsetX;for(var I=function(T){var D=k-o(T,l)/2+g.config.xaxis.labels.offsetX;T===0&&C===1&&l/2===k&&R===1&&(D=g.globals.gridWidth/2);var L=c.axesUtils.getLabel(a,g.globals.timescaleLabels,D,T,h,x,e),F=28;if(g.globals.rotateXLabels&&e&&(F=22),g.config.xaxis.title.text&&g.config.xaxis.position==="top"&&(F+=parseFloat(g.config.xaxis.title.style.fontSize)+2),e||(F=F+parseFloat(x)+(g.globals.xAxisLabelsHeight-g.globals.xAxisGroupLabelsHeight)+(g.globals.rotateXLabels?10:0)),L=g.config.xaxis.tickAmount!==void 0&&g.config.xaxis.tickAmount!=="dataPoints"&&g.config.xaxis.type!=="datetime"?c.axesUtils.checkLabelBasedOnTickamount(T,L,C):c.axesUtils.checkForOverflowingLabels(T,L,C,h,f),g.config.xaxis.labels.show){var z=t.drawText({x:L.x,y:c.offY+g.config.xaxis.labels.offsetY+F-(g.config.xaxis.position==="top"?g.globals.xAxisHeight+g.config.xaxis.axisTicks.height-2:0),text:L.text,textAnchor:"middle",fontWeight:L.isBold?600:v,fontSize:x,fontFamily:y,foreColor:Array.isArray(b)?e&&g.config.xaxis.convertedCatToNumeric?b[g.globals.minX+T-1]:b[T]:b,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+N});if(s.add(z),z.on("click",function(V){if(typeof g.config.chart.events.xAxisLabelClick=="function"){var H=Object.assign({},g,{labelIndex:T});g.config.chart.events.xAxisLabelClick(V,c.ctx,H)}}),e){var O=document.createElementNS(g.globals.SVGNS,"title");O.textContent=Array.isArray(L.text)?L.text.join(" "):L.text,z.node.appendChild(O),L.text!==""&&(h.push(L.text),f.push(L))}}T<C-1&&(k+=o(T+1,l))},P=0;P<=C-1;P++)I(P)}},{key:"drawXaxisInversed",value:function(e){var t,s,a=this,i=this.w,o=new Ue(this.ctx),l=i.config.yaxis[0].opposite?i.globals.translateYAxisX[e]:0,c=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),u=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+l+", 0)"});c.add(u);var h=[];if(i.config.yaxis[e].show)for(var f=0;f<this.xaxisLabels.length;f++)h.push(this.xaxisLabels[f]);t=i.globals.gridHeight/h.length,s=-t/2.2;var g=i.globals.yLabelFormatters[0],x=i.config.yaxis[0].labels;if(x.show)for(var y=function(_){var I=h[_]===void 0?"":h[_];I=g(I,{seriesIndex:e,dataPointIndex:_,w:i});var P=a.axesUtils.getYAxisForeColor(x.style.colors,e),T=0;Array.isArray(I)&&(T=I.length/2*parseInt(x.style.fontSize,10));var D=x.offsetX-15,L="end";a.yaxis.opposite&&(L="start"),i.config.yaxis[0].labels.align==="left"?(D=x.offsetX,L="start"):i.config.yaxis[0].labels.align==="center"?(D=x.offsetX,L="middle"):i.config.yaxis[0].labels.align==="right"&&(L="end");var F=o.drawText({x:D,y:s+t+x.offsetY-T,text:I,textAnchor:L,foreColor:Array.isArray(P)?P[_]:P,fontSize:x.style.fontSize,fontFamily:x.style.fontFamily,fontWeight:x.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+x.style.cssClass,maxWidth:x.maxWidth});u.add(F),F.on("click",function(V){if(typeof i.config.chart.events.xAxisLabelClick=="function"){var H=Object.assign({},i,{labelIndex:_});i.config.chart.events.xAxisLabelClick(V,a.ctx,H)}});var z=document.createElementNS(i.globals.SVGNS,"title");if(z.textContent=Array.isArray(I)?I.join(" "):I,F.node.appendChild(z),i.config.yaxis[e].labels.rotate!==0){var O=o.rotateAroundCenter(F.node);F.node.setAttribute("transform","rotate(".concat(i.config.yaxis[e].labels.rotate," 0 ").concat(O.y,")"))}s+=t},b=0;b<=h.length-1;b++)y(b);if(i.config.yaxis[0].title.text!==void 0){var v=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+l+", 0)"}),N=o.drawText({x:i.config.yaxis[0].title.offsetX,y:i.globals.gridHeight/2+i.config.yaxis[0].title.offsetY,text:i.config.yaxis[0].title.text,textAnchor:"middle",foreColor:i.config.yaxis[0].title.style.color,fontSize:i.config.yaxis[0].title.style.fontSize,fontWeight:i.config.yaxis[0].title.style.fontWeight,fontFamily:i.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[0].title.style.cssClass});v.add(N),c.add(v)}var k=0;this.isCategoryBarHorizontal&&i.config.yaxis[0].opposite&&(k=i.globals.gridWidth);var C=i.config.xaxis.axisBorder;if(C.show){var R=o.drawLine(i.globals.padHorizontal+C.offsetX+k,1+C.offsetY,i.globals.padHorizontal+C.offsetX+k,i.globals.gridHeight+C.offsetY,C.color,0);this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders.add(R):c.add(R)}return i.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(k,h.length,i.config.yaxis[0].axisBorder,i.config.yaxis[0].axisTicks,0,t,c),c}},{key:"drawXaxisTicks",value:function(e,t,s){var a=this.w,i=e;if(!(e<0||e-2>a.globals.gridWidth)){var o=this.offY+a.config.xaxis.axisTicks.offsetY;if(t=t+o+a.config.xaxis.axisTicks.height,a.config.xaxis.position==="top"&&(t=o-a.config.xaxis.axisTicks.height),a.config.xaxis.axisTicks.show){var l=new Ue(this.ctx).drawLine(e+a.config.xaxis.axisTicks.offsetX,o+a.config.xaxis.offsetY,i+a.config.xaxis.axisTicks.offsetX,t+a.config.xaxis.offsetY,a.config.xaxis.axisTicks.color);s.add(l),l.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],s=this.xaxisLabels.length,a=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var i=0;i<s;i++)a=this.xaxisLabels[i].position,t.push(a);else for(var o=s,l=0;l<o;l++){var c=o;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(c-=1),a+=e.globals.gridWidth/c,t.push(a)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new Ue(this.ctx),s=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var l=0;l<a.length;l++){var c=t.rotateAroundCenter(a[l]);c.y=c.y-1,c.x=c.x+1,a[l].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(c.x," ").concat(c.y,")")),a[l].setAttribute("text-anchor","end"),s.setAttribute("transform","translate(0, ".concat(-10,")"));var u=a[l].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(u,function(x){t.placeTextWithEllipsis(x,x.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var x=e.globals.gridWidth/(e.globals.labels.length+1),y=0;y<a.length;y++){var b=a[y].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(b,function(v){t.placeTextWithEllipsis(v,v.textContent,x)})}})();if(i.length>0){var h=i[i.length-1].getBBox(),f=i[0].getBBox();h.x<-20&&i[i.length-1].parentNode.removeChild(i[i.length-1]),f.x+f.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&i[0].parentNode.removeChild(i[0]);for(var g=0;g<o.length;g++)t.placeTextWithEllipsis(o[g],o[g].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),r}(),QL=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new $l(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return ot(r,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,s=new Ue(this.ctx);e||(e=s.group({class:"apexcharts-grid"}));var a=s.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),i=s.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(i),e.add(a),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,s=new Ue(this.ctx),a=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Yr(e.config.stroke.width)):e.config.stroke.width,i=function(h){var f=document.createElementNS(t.SVGNS,"clipPath");return f.setAttribute("id",h),f};t.dom.elGridRectMask=i("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=i("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=i("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=i("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=i("nonForecastMask".concat(t.cuid));var o=0,l=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(o=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),l=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=s.drawRect(-a/2-2,-a/2-2,t.gridWidth+a+4,t.gridHeight+a+4,0,"#fff"),t.dom.elGridRectBar=s.drawRect(-a/2-o-2,-a/2-2,t.gridWidth+a+l+o+4,t.gridHeight+a+4,0,"#fff");var c=e.globals.markers.largestSize;t.dom.elGridRectMarker=s.drawRect(Math.min(-a/2-o-2,-c),-c,t.gridWidth+Math.max(a+l+o+4,2*c),t.gridHeight+2*c,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var u=t.dom.baseEl.querySelector("defs");u.appendChild(t.dom.elGridRectMask),u.appendChild(t.dom.elGridRectBarMask),u.appendChild(t.dom.elGridRectMarkerMask),u.appendChild(t.dom.elForecastMask),u.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.xCount,c=e.parent,u=this.w;if(!(t===0&&u.globals.skipFirstTimelinelabel||t===l-1&&u.globals.skipLastTimelinelabel&&!u.config.xaxis.labels.formatter||u.config.chart.type==="radar")){u.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:s,y1:a,x2:i,y2:o,xCount:l,parent:c});var h=0;if(u.globals.hasXaxisGroups&&u.config.xaxis.tickPlacement==="between"){var f=u.globals.groups;if(f){for(var g=0,x=0;g<t&&x<f.length;x++)g+=f[x].cols;g===t&&(h=.6*u.globals.xAxisLabelsHeight)}}new sg(this.ctx).drawXaxisTicks(s,h,u.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.xCount,c=e.parent,u=this.w,h=c.node.classList.contains("apexcharts-gridlines-horizontal"),f=u.globals.barPadForNumericAxis,g=a===0&&o===0||s===0&&i===0||a===u.globals.gridHeight&&o===u.globals.gridHeight||u.globals.isBarHorizontal&&(t===0||t===l-1),x=new Ue(this).drawLine(s-(h?f:0),a,i+(h?f:0),o,u.config.grid.borderColor,u.config.grid.strokeDashArray);x.node.classList.add("apexcharts-gridline"),g&&u.config.grid.show?this.elGridBorders.add(x):c.add(x)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.type,c=this.w,u=new Ue(this.ctx),h=c.globals.barPadForNumericAxis,f=c.config.grid[l].colors[t],g=u.drawRect(s-(l==="row"?h:0),a,i+(l==="row"?2*h:0),o,0,f,c.config.grid[l].opacity);this.elg.add(g),g.attr("clip-path","url(#gridRectMask".concat(c.globals.cuid,")")),g.node.classList.add("apexcharts-grid-".concat(l))}},{key:"_drawXYLines",value:function(e){var t=this,s=e.xCount,a=e.tickAmount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show){var o,l=i.globals.padHorizontal,c=i.globals.gridHeight;i.globals.timescaleLabels.length?function(y){for(var b=y.xC,v=y.x1,N=y.y1,k=y.x2,C=y.y2,R=0;R<b;R++)v=t.xaxisLabels[R].position,k=t.xaxisLabels[R].position,t._drawGridLines({i:R,x1:v,y1:N,x2:k,y2:C,xCount:s,parent:t.elgridLinesV})}({xC:s,x1:l,y1:0,x2:o,y2:c}):(i.globals.isXNumeric&&(s=i.globals.xAxisScale.result.length),function(y){for(var b=y.xC,v=y.x1,N=y.y1,k=y.x2,C=y.y2,R=0;R<b+(i.globals.isXNumeric?0:1);R++)R===0&&b===1&&i.globals.dataPoints===1&&(k=v=i.globals.gridWidth/2),t._drawGridLines({i:R,x1:v,y1:N,x2:k,y2:C,xCount:s,parent:t.elgridLinesV}),k=v+=i.globals.gridWidth/(i.globals.isXNumeric?b-1:b)}({xC:s,x1:l,y1:0,x2:o,y2:c}))}if(i.config.grid.yaxis.lines.show){var u=0,h=0,f=i.globals.gridWidth,g=a+1;this.isRangeBar&&(g=i.globals.labels.length);for(var x=0;x<g+(this.isRangeBar?1:0);x++)this._drawGridLine({i:x,xCount:g+(this.isRangeBar?1:0),x1:0,y1:u,x2:f,y2:h,parent:this.elgridLinesH}),h=u+=i.globals.gridHeight/(this.isRangeBar?g:a)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show)for(var a,i=s.globals.padHorizontal,o=s.globals.gridHeight,l=0;l<t+1;l++)s.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,xCount:t+1,x1:i,y1:0,x2:a,y2:o,parent:this.elgridLinesV}),new sg(this.ctx).drawXaxisTicks(i,0,s.globals.dom.elGraphical),a=i+=s.globals.gridWidth/t;if(s.config.grid.yaxis.lines.show)for(var c=0,u=0,h=s.globals.gridWidth,f=0;f<s.globals.dataPoints+1;f++)this._drawGridLine({i:f,xCount:s.globals.dataPoints+1,x1:0,y1:c,x2:h,y2:u,parent:this.elgridLinesH}),u=c+=s.globals.gridHeight/s.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,s=new Ue(this.ctx);this.elg=s.group({class:"apexcharts-grid"}),this.elgridLinesH=s.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=s.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=s.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a=0;a<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(a);)a++;a===t.seriesYAxisMap.length&&(a=0);var i,o=t.yAxisScale[a].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var l,c,u;i=this.xaxisLabels.length,this.isRangeBar&&(o=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(i=e.config.xaxis.tickAmount),((l=t.yAxisScale)===null||l===void 0||(c=l[a])===null||c===void 0||(u=c.result)===null||u===void 0?void 0:u.length)>0&&e.config.xaxis.type!=="datetime"&&(i=t.yAxisScale[a].result.length-1)),this._drawXYLines({xCount:i,tickAmount:o})}else i=o,o=t.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:o});return this.drawGridBands(i,o),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/i}}},{key:"drawGridBands",value:function(e,t){var s,a,i=this,o=this.w;if(((s=o.config.grid.row.colors)===null||s===void 0?void 0:s.length)>0&&function(y,b,v,N,k,C){for(var R=0,_=0;R<b;R++,_++)_>=o.config.grid[y].colors.length&&(_=0),i._drawGridBandRect({c:_,x1:v,y1:N,x2:k,y2:C,type:y}),N+=o.globals.gridHeight/t}("row",t,0,0,o.globals.gridWidth,o.globals.gridHeight/t),((a=o.config.grid.column.colors)===null||a===void 0?void 0:a.length)>0){var l=o.globals.isBarHorizontal||o.config.xaxis.tickPlacement!=="on"||o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric?e:e-1;o.globals.isXNumeric&&(l=o.globals.xAxisScale.result.length-1);for(var c=o.globals.padHorizontal,u=o.globals.padHorizontal+o.globals.gridWidth/l,h=o.globals.gridHeight,f=0,g=0;f<e;f++,g++){var x;g>=o.config.grid.column.colors.length&&(g=0),o.config.xaxis.type==="datetime"&&(c=this.xaxisLabels[f].position,u=(((x=this.xaxisLabels[f+1])===null||x===void 0?void 0:x.position)||o.globals.gridWidth)-this.xaxisLabels[f].position),this._drawGridBandRect({c:g,x1:c,y1:0,x2:u,y2:h,type:"column"}),c+=o.globals.gridWidth/l}}}}]),r}(),ZL=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.coreUtils=new wr(this.ctx)}return ot(r,[{key:"niceScale",value:function(e,t){var s,a,i,o,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=1e-11,u=this.w,h=u.globals;h.isBarHorizontal?(s=u.config.xaxis,a=Math.max((h.svgWidth-100)/25,2)):(s=u.config.yaxis[l],a=Math.max((h.svgHeight-100)/15,2)),oe.isNumber(a)||(a=10),i=s.min!==void 0&&s.min!==null,o=s.max!==void 0&&s.min!==null;var f=s.stepSize!==void 0&&s.stepSize!==null,g=s.tickAmount!==void 0&&s.tickAmount!==null,x=g?s.tickAmount:h.niceScaleDefaultTicks[Math.min(Math.round(a/2),h.niceScaleDefaultTicks.length-1)];if(h.isMultipleYAxis&&!g&&h.multiAxisTickAmount>0&&(x=h.multiAxisTickAmount,g=!0),x=x==="dataPoints"?h.dataPoints-1:Math.abs(Math.round(x)),(e===Number.MIN_VALUE&&t===0||!oe.isNumber(e)&&!oe.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=oe.isNumber(s.min)?s.min:0,t=oe.isNumber(s.max)?s.max:e+x,h.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var y=t;t=e,e=y}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var b=[];x<1&&(x=1);var v=x,N=Math.abs(t-e);!i&&e>0&&e/N<.15&&(e=0,i=!0),!o&&t<0&&-t/N<.15&&(t=0,o=!0);var k=(N=Math.abs(t-e))/v,C=k,R=Math.floor(Math.log10(C)),_=Math.pow(10,R),I=Math.ceil(C/_);if(k=C=(I=h.niceScaleAllowedMagMsd[h.yValueDecimal===0?0:1][I])*_,h.isBarHorizontal&&s.stepSize&&s.type!=="datetime"?(k=s.stepSize,f=!0):f&&(k=s.stepSize),f&&s.forceNiceScale){var P=Math.floor(Math.log10(k));k*=Math.pow(10,R-P)}if(i&&o){var T=N/v;if(g)if(f)if(oe.mod(N,k)!=0){var D=oe.getGCD(k,T);k=T/D<10?D:T}else oe.mod(k,T)==0?k=T:(T=k,g=!1);else k=T;else if(f)oe.mod(N,k)==0?T=k:k=T;else if(oe.mod(N,k)==0)T=k;else{T=N/(v=Math.ceil(N/k));var L=oe.getGCD(N,k);N/L<a&&(T=L),k=T}v=Math.round(N/k)}else{if(i||o){if(o)if(g)e=t-k*v;else{var F=e;e=k*Math.floor(e/k),Math.abs(t-e)/oe.getGCD(N,k)>a&&(e=t-k*x,e+=k*Math.floor((F-e)/k))}else if(i)if(g)t=e+k*v;else{var z=t;t=k*Math.ceil(t/k),Math.abs(t-e)/oe.getGCD(N,k)>a&&(t=e+k*x,t+=k*Math.ceil((z-t)/k))}}else if(h.isMultipleYAxis&&g){var O=k*Math.floor(e/k),V=O+k*v;V<t&&(k*=2),V=t,t=(e=O)+k*v,N=Math.abs(t-e),e>0&&e<Math.abs(V-t)&&(e=0,t=k*v),t<0&&-t<Math.abs(O-e)&&(t=0,e=-k*v)}else e=k*Math.floor(e/k),t=k*Math.ceil(t/k);N=Math.abs(t-e),k=oe.getGCD(N,k),v=Math.round(N/k)}if(g||i||o||(v=Math.ceil((N-c)/(k+c)))>16&&oe.getPrimeFactors(v).length<2&&v++,!g&&s.forceNiceScale&&h.yValueDecimal===0&&v>N&&(v=N,k=Math.round(N/v)),v>a&&(!g&&!f||s.forceNiceScale)){var H=oe.getPrimeFactors(v),B=H.length-1,q=v;e:for(var ee=0;ee<B;ee++)for(var G=0;G<=B-ee;G++){for(var $=Math.min(G+ee,B),Q=q,te=1,ne=G;ne<=$;ne++)te*=H[ne];if((Q/=te)<a){q=Q;break e}}k=q===v?N:N/q,v=Math.round(N/k)}h.isMultipleYAxis&&h.multiAxisTickAmount==0&&h.ignoreYAxisIndexes.indexOf(l)<0&&(h.multiAxisTickAmount=v);var ce=e-k,Re=k*c;do ce+=k,b.push(oe.stripNumber(ce,7));while(t-ce>Re);return{result:b,niceMin:b[0],niceMax:b[b.length-1]}}},{key:"linearScale",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=Math.abs(t-e),l=[];if(e===t)return{result:l=[e],niceMin:l[0],niceMax:l[l.length-1]};(s=this._adjustTicksForSmallRange(s,a,o))==="dataPoints"&&(s=this.w.globals.dataPoints-1),i||(i=o/s),i=Math.round(100*(i+Number.EPSILON))/100,s===Number.MAX_VALUE&&(s=5,i=1);for(var c=e;s>=0;)l.push(c),c=oe.preciseAddition(c,i),s-=1;return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var a=[],i=Math.ceil(Math.log(t)/Math.log(s)+1),o=Math.floor(Math.log(e)/Math.log(s));o<i;o++)a.push(Math.pow(s,o));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var a=[],i=Math.log(t)/Math.log(s),o=Math.log(e)/Math.log(s),l=i-o,c=Math.round(l),u=l/c,h=0,f=o;h<c;h++,f+=u)a.push(Math.pow(s,f));return a.push(Math.pow(s,i)),{result:a,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,s){var a=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var i=Number(this.w.config.yaxis[t].labels.formatter(1));oe.isNumber(i)&&this.w.globals.yValueDecimal===0&&(a=Math.ceil(s))}return a<e?a:e}},{key:"setYScaleForIndex",value:function(e,t,s){var a=this.w.globals,i=this.w.config,o=a.isBarHorizontal?i.xaxis:i.yaxis[e];a.yAxisScale[e]===void 0&&(a.yAxisScale[e]=[]);var l=Math.abs(s-t);o.logarithmic&&l<=5&&(a.invalidLogScale=!0),o.logarithmic&&l>5?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=o.forceNiceScale?this.logarithmicScaleNice(t,s,o.logBase):this.logarithmicScale(t,s,o.logBase)):s!==-Number.MAX_VALUE&&oe.isNumber(s)&&t!==Number.MAX_VALUE&&oe.isNumber(t)?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=this.niceScale(t,s,e)):a.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var s=this.w,a=s.globals;if(t!==-Number.MAX_VALUE&&oe.isNumber(t)){var i=a.xTickAmount;a.xAxisScale=this.linearScale(e,t,i,0,s.config.xaxis.max===void 0?s.config.xaxis.stepSize:void 0)}else a.xAxisScale=this.linearScale(0,10,10);return a.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,s=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var a=s.seriesYAxisMap,i=s.minYArr,o=s.maxYArr;s.allSeriesCollapsed=!0,s.barGroups=[],a.forEach(function(l,c){var u=[];l.forEach(function(h){var f,g=(f=t.series[h])===null||f===void 0?void 0:f.group;u.indexOf(g)<0&&u.push(g)}),l.length>0?function(){var h,f,g=Number.MAX_VALUE,x=-Number.MAX_VALUE,y=g,b=x;if(t.chart.stacked)(function(){var k=new Array(s.dataPoints).fill(0),C=[],R=[],_=[];u.forEach(function(){C.push(k.map(function(){return Number.MIN_VALUE})),R.push(k.map(function(){return Number.MIN_VALUE})),_.push(k.map(function(){return Number.MIN_VALUE}))});for(var I=function(T){!h&&t.series[l[T]].type&&(h=t.series[l[T]].type);var D=l[T];f=t.series[D].group?t.series[D].group:"axis-".concat(c),!(s.collapsedSeriesIndices.indexOf(D)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(D)<0)||(s.allSeriesCollapsed=!1,u.forEach(function(L,F){if(t.series[D].group===L)for(var z=0;z<s.series[D].length;z++){var O=s.series[D][z];O>=0?R[F][z]+=O:_[F][z]+=O,C[F][z]+=O,y=Math.min(y,O),b=Math.max(b,O)}})),h!=="bar"&&h!=="column"||s.barGroups.push(f)},P=0;P<l.length;P++)I(P);h||(h=t.chart.type),h==="bar"||h==="column"?u.forEach(function(T,D){g=Math.min(g,Math.min.apply(null,_[D])),x=Math.max(x,Math.max.apply(null,R[D]))}):(u.forEach(function(T,D){y=Math.min(y,Math.min.apply(null,C[D])),b=Math.max(b,Math.max.apply(null,C[D]))}),g=y,x=b),g===Number.MIN_VALUE&&x===Number.MIN_VALUE&&(x=-Number.MAX_VALUE)})();else for(var v=0;v<l.length;v++){var N=l[v];g=Math.min(g,i[N]),x=Math.max(x,o[N]),!(s.collapsedSeriesIndices.indexOf(N)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(N)<0)||(s.allSeriesCollapsed=!1)}t.yaxis[c].min!==void 0&&(g=typeof t.yaxis[c].min=="function"?t.yaxis[c].min(g):t.yaxis[c].min),t.yaxis[c].max!==void 0&&(x=typeof t.yaxis[c].max=="function"?t.yaxis[c].max(x):t.yaxis[c].max),s.barGroups=s.barGroups.filter(function(k,C,R){return R.indexOf(k)===C}),e.setYScaleForIndex(c,g,x),l.forEach(function(k){i[k]=s.yAxisScale[c].niceMin,o[k]=s.yAxisScale[c].niceMax})}():e.setYScaleForIndex(c,0,-Number.MAX_VALUE)})}}]),r}(),nj=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.scales=new ZL(e)}return ot(r,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=this.w.config,o=this.w.globals,l=-Number.MAX_VALUE,c=Number.MIN_VALUE;a===null&&(a=e+1);var u=o.series,h=u,f=u;i.chart.type==="candlestick"?(h=o.seriesCandleL,f=o.seriesCandleH):i.chart.type==="boxPlot"?(h=o.seriesCandleO,f=o.seriesCandleC):o.isRangeData&&(h=o.seriesRangeStart,f=o.seriesRangeEnd);var g=!1;if(o.seriesX.length>=a){var x,y=(x=o.brushSource)===null||x===void 0?void 0:x.w.config.chart.brush;(i.chart.zoom.enabled&&i.chart.zoom.autoScaleYaxis||y!=null&&y.enabled&&y!=null&&y.autoScaleYaxis)&&(g=!0)}for(var b=e;b<a;b++){o.dataPoints=Math.max(o.dataPoints,u[b].length);var v=i.series[b].type;o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter(function(D){return D!==void 0}).length),o.labels.length&&i.xaxis.type!=="datetime"&&o.series.reduce(function(D,L){return D+L.length},0)!==0&&(o.dataPoints=Math.max(o.dataPoints,o.labels.length));var N=0,k=u[b].length-1;if(g){if(i.xaxis.min)for(;N<k&&o.seriesX[b][N]<i.xaxis.min;N++);if(i.xaxis.max)for(;k>N&&o.seriesX[b][k]>i.xaxis.max;k--);}for(var C=N;C<=k&&C<o.series[b].length;C++){var R=u[b][C];if(R!==null&&oe.isNumber(R)){var _,I,P,T;switch(((_=f[b])===null||_===void 0?void 0:_[C])!==void 0&&(l=Math.max(l,f[b][C]),t=Math.min(t,f[b][C])),((I=h[b])===null||I===void 0?void 0:I[C])!==void 0&&(t=Math.min(t,h[b][C]),s=Math.max(s,h[b][C])),v){case"candlestick":o.seriesCandleC[b][C]!==void 0&&(l=Math.max(l,o.seriesCandleH[b][C]),t=Math.min(t,o.seriesCandleL[b][C]));break;case"boxPlot":o.seriesCandleC[b][C]!==void 0&&(l=Math.max(l,o.seriesCandleC[b][C]),t=Math.min(t,o.seriesCandleO[b][C]))}v&&v!=="candlestick"&&v!=="boxPlot"&&v!=="rangeArea"&&v!=="rangeBar"&&(l=Math.max(l,o.series[b][C]),t=Math.min(t,o.series[b][C])),o.seriesGoals[b]&&o.seriesGoals[b][C]&&Array.isArray(o.seriesGoals[b][C])&&o.seriesGoals[b][C].forEach(function(D){l=Math.max(l,D.value),t=Math.min(t,D.value)}),s=l,R=oe.noExponents(R),oe.isFloat(R)&&(o.yValueDecimal=Math.max(o.yValueDecimal,R.toString().split(".")[1].length)),c>((P=h[b])===null||P===void 0?void 0:P[C])&&((T=h[b])===null||T===void 0?void 0:T[C])<0&&(c=h[b][C])}else o.hasNullValues=!0}v!=="bar"&&v!=="column"||(c<0&&l<0&&(l=0,s=Math.max(s,0)),c===Number.MIN_VALUE&&(c=0,t=Math.min(t,0)))}return i.chart.type==="rangeBar"&&o.seriesRangeStart.length&&o.isBarHorizontal&&(c=t),i.chart.type==="bar"&&(c<0&&l<0&&(l=0),c===Number.MIN_VALUE&&(c=0)),{minY:c,maxY:l,lowestY:t,highestY:s}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var s,a=Number.MAX_VALUE;if(e.isMultipleYAxis){a=Number.MAX_VALUE;for(var i=0;i<e.series.length;i++)s=this.getMinYMaxY(i),e.minYArr[i]=s.lowestY,e.maxYArr[i]=s.highestY,a=Math.min(a,s.lowestY)}return s=this.getMinYMaxY(0,a,null,e.series.length),t.chart.type==="bar"?(e.minY=s.minY,e.maxY=s.maxY):(e.minY=s.lowestY,e.maxY=s.highestY),a=s.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&a!==-Number.MAX_VALUE&&a!==e.maxY&&(e.minY=a):e.minY=e.minY!==Number.MIN_VALUE?Math.min(s.minY,e.minY):s.minY,t.yaxis.forEach(function(o,l){o.max!==void 0&&(typeof o.max=="number"?e.maxYArr[l]=o.max:typeof o.max=="function"&&(e.maxYArr[l]=o.max(e.isMultipleYAxis?e.maxYArr[l]:e.maxY)),e.maxY=e.maxYArr[l]),o.min!==void 0&&(typeof o.min=="number"?e.minYArr[l]=o.min:typeof o.min=="function"&&(e.minYArr[l]=o.min(e.isMultipleYAxis?e.minYArr[l]===Number.MIN_VALUE?0:e.minYArr[l]:e.minY)),e.minY=e.minYArr[l])}),e.isBarHorizontal&&["min","max"].forEach(function(o){t.xaxis[o]!==void 0&&typeof t.xaxis[o]=="number"&&(o==="min"?e.minY=t.xaxis[o]:e.maxY=t.xaxis[o])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=a):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(o){switch(o.type||t.chart.type){case"bar":case"column":e.barGroups.push(o.group);break;case"line":e.lineGroups.push(o.group);break;case"area":e.areaGroups.push(o.group)}}),e.barGroups=e.barGroups.filter(function(o,l,c){return c.indexOf(o)===l}),e.lineGroups=e.lineGroups.filter(function(o,l,c){return c.indexOf(o)===l}),e.areaGroups=e.areaGroups.filter(function(o,l,c){return c.indexOf(o)===l}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,s=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var c=0;c<e.series.length;c++)if(e.labels[c])for(var u=0;u<e.labels[c].length;u++)e.labels[c][u]!==null&&oe.isNumber(e.labels[c][u])&&(e.maxX=Math.max(e.maxX,e.labels[c][u]),e.initialMaxX=Math.max(e.maxX,e.labels[c][u]),e.minX=Math.min(e.minX,e.labels[c][u]),e.initialMinX=Math.min(e.minX,e.labels[c][u]))}(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var a=10;if(t.xaxis.tickAmount===void 0)a=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(a=e.dataPoints-1),a>e.dataPoints&&e.dataPoints!==0&&(a=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(a=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var i=Math.round(e.maxX-e.minX);i<30&&(a=i)}}else a=t.xaxis.tickAmount;if(e.xTickAmount=a,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var o=[],l=e.minX-1;l<e.maxX;l++)o.push(l+1);e.xAxisScale={result:o,niceMin:o[0],niceMax:o[o.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,a,a,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,a-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());s&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var s=0;s<e.seriesZ[t].length;s++)e.seriesZ[t][s]!==null&&oe.isNumber(e.seriesZ[t][s])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][s]),e.minZ=Math.min(e.minZ,e.seriesZ[t][s]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var s=new ha(this.ctx);if(t.xaxis.type==="datetime"){var a=s.getDate(e.minX);t.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()-2):a.setDate(a.getDate()-2),e.minX=new Date(a).getTime();var i=s.getDate(e.maxX);t.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()+2):i.setDate(i.getDate()+2),e.maxX=new Date(i).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,s){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var a=t.slice();a.sort(function(i,o){return i-o}),a.forEach(function(i,o){if(o>0){var l=i-a[o-1];l>0&&(e.minXDiff=Math.min(l,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var s=t.seriesGroups;s.length||(s=[this.w.globals.seriesNames.map(function(o){return o})]);var a={},i={};s.forEach(function(o){a[o]=[],i[o]=[],e.w.config.series.map(function(l,c){return o.indexOf(t.seriesNames[c])>-1?c:null}).filter(function(l){return l!==null}).forEach(function(l){for(var c=0;c<t.series[t.maxValsInArrayIndex].length;c++){var u,h,f,g;a[o][c]===void 0&&(a[o][c]=0,i[o][c]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((u=e.w.config.series)===null||u===void 0||(h=u[l])===null||h===void 0?void 0:h.type)==="bar"||((f=e.w.config.series)===null||f===void 0||(g=f[l])===null||g===void 0?void 0:g.type)==="column"))&&t.series[l][c]!==null&&oe.isNumber(t.series[l][c])&&(t.series[l][c]>0?a[o][c]+=parseFloat(t.series[l][c])+1e-4:i[o][c]+=parseFloat(t.series[l][c]))}})}),Object.entries(a).forEach(function(o){var l=yL(o,1)[0];a[l].forEach(function(c,u){t.maxY=Math.max(t.maxY,a[l][u]),t.minY=Math.min(t.minY,i[l][u])})})}}}]),r}(),nS=function(){function r(e,t){it(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=s.config.xaxis.position==="bottom"?s.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new $l(e)}return ot(r,[{key:"drawYaxis",value:function(e){var t=this.w,s=new Ue(this.ctx),a=t.config.yaxis[e].labels.style,i=a.fontSize,o=a.fontFamily,l=a.fontWeight,c=s.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return c;var u=s.group({class:"apexcharts-yaxis-texts-g"});c.add(u);var h=t.globals.yAxisScale[e].result.length-1,f=t.globals.gridHeight/h,g=t.globals.yLabelFormatters[e],x=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var y=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?y=0:t.config.chart.type==="heatmap"&&(y-=f/2),y+=parseInt(i,10)/3;for(var b=h;b>=0;b--){var v=g(x[b],b,t),N=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(N*=-1);var k=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),C=this.axesUtils.getYAxisForeColor(a.colors,e),R=Array.isArray(C)?C[b]:C,_=oe.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(P){return P.textContent}),I=s.drawText({x:N,y,text:_.includes(v)&&!t.config.yaxis[e].labels.showDuplicates?"":v,textAnchor:k,fontSize:i,fontFamily:o,fontWeight:l,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:R,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(a.cssClass)});u.add(I),this.addTooltip(I,v),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(s,I,firstLabel,t.config.yaxis[e].labels.rotate),y+=f}}return this.addYAxisTitle(s,c,e),this.addAxisBorder(s,c,e,h,f),c}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var s=document.createElementNS(this.w.globals.SVGNS,"title");s.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(s)}},{key:"rotateLabel",value:function(e,t,s,a){var i=e.rotateAroundCenter(s.node),o=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(a," ").concat(i.x," ").concat(o.y,")"))}},{key:"addYAxisTitle",value:function(e,t,s){var a=this.w;if(a.config.yaxis[s].title.text!==void 0){var i=e.group({class:"apexcharts-yaxis-title"}),o=a.config.yaxis[s].opposite?a.globals.translateYAxisX[s]:0,l=e.drawText({x:o,y:a.globals.gridHeight/2+a.globals.translateY+a.config.yaxis[s].title.offsetY,text:a.config.yaxis[s].title.text,textAnchor:"end",foreColor:a.config.yaxis[s].title.style.color,fontSize:a.config.yaxis[s].title.style.fontSize,fontWeight:a.config.yaxis[s].title.style.fontWeight,fontFamily:a.config.yaxis[s].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(a.config.yaxis[s].title.style.cssClass)});i.add(l),t.add(i)}}},{key:"addAxisBorder",value:function(e,t,s,a,i){var o=this.w,l=o.config.yaxis[s].axisBorder,c=31+l.offsetX;if(o.config.yaxis[s].opposite&&(c=-31-l.offsetX),l.show){var u=e.drawLine(c,o.globals.translateY+l.offsetY-2,c,o.globals.gridHeight+o.globals.translateY+l.offsetY+2,l.color,0,l.width);t.add(u)}o.config.yaxis[s].axisTicks.show&&this.axesUtils.drawYAxisTicks(c,a,l,o.config.yaxis[s].axisTicks,s,i,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,s=new Ue(this.ctx),a=s.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),i=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});a.add(i);var o=t.globals.yAxisScale[e].result.length-1,l=t.globals.gridWidth/o+.1,c=l+t.config.xaxis.labels.offsetX,u=t.globals.xLabelFormatter,h=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),f=t.globals.timescaleLabels;if(f.length>0&&(this.xaxisLabels=f.slice(),o=(h=f.slice()).length),t.config.xaxis.labels.show)for(var g=f.length?0:o;f.length?g<f.length:g>=0;f.length?g++:g--){var x=u(h[g],g,t),y=t.globals.gridWidth+t.globals.padHorizontal-(c-l+t.config.xaxis.labels.offsetX);if(f.length){var b=this.axesUtils.getLabel(h,f,y,g,this.drawnLabels,this.xaxisFontSize);y=b.x,x=b.text,this.drawnLabels.push(b.text),g===0&&t.globals.skipFirstTimelinelabel&&(x=""),g===h.length-1&&t.globals.skipLastTimelinelabel&&(x="")}var v=s.drawText({x:y,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:x,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});i.add(v),v.tspan(x),this.addTooltip(v,x),c+=l}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,s=new Ue(this.ctx),a=t.config.xaxis.axisBorder;if(a.show){var i=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(i-=15);var o=s.drawLine(t.globals.padHorizontal+i+a.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,a.color,0,a.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(o):e.add(o)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,s=new Ue(this.ctx);if(t.config.xaxis.title.text!==void 0){var a=s.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),i=s.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});a.add(i),e.add(a)}}},{key:"yAxisTitleRotate",value:function(e,t){var s=this.w,a=new Ue(this.ctx),i=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),o=i?i.getBoundingClientRect():{width:0,height:0},l=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),c=l?l.getBoundingClientRect():{width:0,height:0};if(l){var u=this.xPaddingForYAxisTitle(e,o,c,t);l.setAttribute("x",u.xPos-(t?10:0));var h=a.rotateAroundCenter(l);l.setAttribute("transform","rotate(".concat(t?-1*s.config.yaxis[e].title.rotate:s.config.yaxis[e].title.rotate," ").concat(h.x," ").concat(h.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,s,a){var i=this.w,o=0,l=10;return i.config.yaxis[e].title.text===void 0||e<0?{xPos:o,padd:0}:(a?o=t.width+i.config.yaxis[e].title.offsetX+s.width/2+l/2:(o=-1*t.width+i.config.yaxis[e].title.offsetX+l/2+s.width/2,i.globals.isBarHorizontal&&(l=25,o=-1*t.width-i.config.yaxis[e].title.offsetX-l)),{xPos:o,padd:l})}},{key:"setYAxisXPosition",value:function(e,t){var s=this.w,a=0,i=0,o=18,l=1;s.config.yaxis.length>1&&(this.multipleYs=!0),s.config.yaxis.forEach(function(c,u){var h=s.globals.ignoreYAxisIndexes.includes(u)||!c.show||c.floating||e[u].width===0,f=e[u].width+t[u].width;c.opposite?s.globals.isBarHorizontal?(i=s.globals.gridWidth+s.globals.translateX-1,s.globals.translateYAxisX[u]=i-c.labels.offsetX):(i=s.globals.gridWidth+s.globals.translateX+l,h||(l+=f+20),s.globals.translateYAxisX[u]=i-c.labels.offsetX+20):(a=s.globals.translateX-o,h||(o+=f+20),s.globals.translateYAxisX[u]=a+c.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;oe.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,s){var a=e.config.yaxis[s];if(a&&!a.floating&&a.labels.align!==void 0){var i=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-texts-g")),o=oe.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-label"))),l=i.getBoundingClientRect();o.forEach(function(c){c.setAttribute("text-anchor",a.labels.align)}),a.labels.align!=="left"||a.opposite?a.labels.align==="center"?i.setAttribute("transform","translate(".concat(l.width/2*(a.opposite?1:-1),", 0)")):a.labels.align==="right"&&a.opposite&&i.setAttribute("transform","translate(".concat(l.width,", 0)")):i.setAttribute("transform","translate(-".concat(l.width,", 0)"))}})}}]),r}(),Qce=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.documentEvent=oe.bind(this.documentEvent,this)}return ot(r,[{key:"addEventListener",value:function(e,t){var s=this.w;s.globals.events.hasOwnProperty(e)?s.globals.events[e].push(t):s.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){var a=s.globals.events[e].indexOf(t);a!==-1&&s.globals.events[e].splice(a,1)}}},{key:"fireEvent",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var a=s.globals.events[e],i=a.length,o=0;o<i;o++)a[o].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,s=this.ctx,a=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(i){a.addEventListener(i,function(o){var l=o.target.getAttribute("i")===null&&t.globals.capturedSeriesIndex!==-1?t.globals.capturedSeriesIndex:o.target.getAttribute("i"),c=o.target.getAttribute("j")===null&&t.globals.capturedDataPointIndex!==-1?t.globals.capturedDataPointIndex:o.target.getAttribute("j"),u=Object.assign({},t,{seriesIndex:t.globals.axisCharts?l:0,dataPointIndex:c});o.type==="mousemove"||o.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(o,s,u):o.type==="mouseleave"||o.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(o,s,u):(o.type==="mouseup"&&o.which===1||o.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(o,s,u),s.ctx.events.fireEvent("click",[o,s,u]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(i){t.globals.dom.baseEl.addEventListener(i,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,s=e.target.className;if(e.type==="click"){var a=t.globals.dom.baseEl.querySelector(".apexcharts-menu");a&&a.classList.contains("apexcharts-menu-open")&&s!=="apexcharts-menu-icon"&&a.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),r}(),Zce=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var s=t.filter(function(i){return i.name===e})[0];if(!s)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var a=oe.extend(qL,s);this.w.globals.locale=a.options}}]),r}(),Jce=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"drawAxis",value:function(e,t){var s,a,i=this,o=this.w.globals,l=this.w.config,c=new sg(this.ctx,t),u=new nS(this.ctx,t);o.axisCharts&&e!=="radar"&&(o.isBarHorizontal?(a=u.drawYaxisInversed(0),s=c.drawXaxisInversed(0),o.dom.elGraphical.add(s),o.dom.elGraphical.add(a)):(s=c.drawXaxis(),o.dom.elGraphical.add(s),l.yaxis.map(function(h,f){if(o.ignoreYAxisIndexes.indexOf(f)===-1&&(a=u.drawYaxis(f),o.dom.Paper.add(a),i.w.config.grid.position==="back")){var g=o.dom.Paper.children()[1];g.remove(),o.dom.Paper.add(g)}})))}}]),r}(),ij=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new Ue(this.ctx),s=new ga(this.ctx),a=e.config.xaxis.crosshairs.fill.gradient,i=e.config.xaxis.crosshairs.dropShadow,o=e.config.xaxis.crosshairs.fill.type,l=a.colorFrom,c=a.colorTo,u=a.opacityFrom,h=a.opacityTo,f=a.stops,g=i.enabled,x=i.left,y=i.top,b=i.blur,v=i.color,N=i.opacity,k=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){o==="gradient"&&(k=t.drawGradient("vertical",l,c,u,h,null,f,null));var C=t.drawRect();e.config.xaxis.crosshairs.width===1&&(C=t.drawLine());var R=e.globals.gridHeight;(!oe.isNumber(R)||R<0)&&(R=0);var _=e.config.xaxis.crosshairs.width;(!oe.isNumber(_)||_<0)&&(_=0),C.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:R,width:_,height:R,fill:k,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),g&&(C=s.dropShadow(C,{left:x,top:y,blur:b,color:v,opacity:N})),e.globals.dom.elGraphical.add(C)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new Ue(this.ctx),s=e.config.yaxis[0].crosshairs,a=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var i=t.drawLine(-a,0,e.globals.gridWidth+a,0,s.stroke.color,s.stroke.dashArray,s.stroke.width);i.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(i)}var o=t.drawLine(-a,0,e.globals.gridWidth+a,0,s.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(o)}}]),r}(),ede=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"checkResponsiveConfig",value:function(e){var t=this,s=this.w,a=s.config;if(a.responsive.length!==0){var i=a.responsive.slice();i.sort(function(u,h){return u.breakpoint>h.breakpoint?1:h.breakpoint>u.breakpoint?-1:0}).reverse();var o=new tg({}),l=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=i[0].breakpoint,f=window.innerWidth>0?window.innerWidth:screen.width;if(f>h){var g=oe.clone(s.globals.initialConfig);g.series=oe.clone(s.config.series);var x=wr.extendArrayProps(o,g,s);u=oe.extend(x,u),u=oe.extend(s.config,u),t.overrideResponsiveOptions(u)}else for(var y=0;y<i.length;y++)f<i[y].breakpoint&&(u=wr.extendArrayProps(o,i[y].options,s),u=oe.extend(s.config,u),t.overrideResponsiveOptions(u))};if(e){var c=wr.extendArrayProps(o,e,s);c=oe.extend(s.config,c),l(c=oe.extend(c,e))}else l({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new tg(e).init({responsiveOverride:!0});this.w.config=t}}]),r}(),tde=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return ot(r,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,s=e.plotOptions;return t.type==="treemap"&&s.treemap&&s.treemap.distributed||t.type==="heatmap"&&s.heatmap&&s.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,s=e.plotOptions;return s.bar&&s.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new oe;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var s=Yr(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(s),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var a=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],a),this.applyDataLabelsColors(a),this.applyRadarPolygonsColors(),this.applyMarkersColors(a)}},{key:"getColors",value:function(e){var t=this,s=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,s.config.series.map(function(a,i){var o=e[i]||e[0];return typeof o=="function"?o({value:s.globals.axisCharts?s.globals.series[i][0]||0:s.globals.series[i],seriesIndex:i,dataPointIndex:i,w:t.w}):o})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(s,a){s&&(t[a]=s)})}},{key:"getMonochromeColors",value:function(e,t,s){var a=e.color,i=e.shadeIntensity,o=e.shadeTo,l=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,c=1/(l/i),u=0;return Array.from({length:l},function(){var h=o==="dark"?s.shadeColor(-1*u,a):s.shadeColor(u,a);return u+=c,h})}},{key:"applyColorTypes",value:function(e,t){var s=this,a=this.w;e.forEach(function(i){a.globals[i].colors=a.config[i].colors===void 0?s.isColorFn?a.config.colors:t:a.config[i].colors.slice(),s.pushExtraColors(a.globals[i].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,i=t||a.globals.series.length;if(s===null&&(s=this.isBarDistributed||this.isHeatmapDistributed||a.config.chart.type==="heatmap"&&a.config.plotOptions.heatmap&&a.config.plotOptions.heatmap.colorScale.inverse),s&&a.globals.series.length&&(i=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),e.length<i)for(var o=i-e.length,l=0;l<o;l++)e.push(e[l])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,s=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",a=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=a,e.theme.palette=s,e}},{key:"predefined",value:function(){var e=this.w.config.theme.palette,t=this.ctx.constructor.getThemePalettes();return t[e]||t.palette1}}]),r}(),sde=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,s=e==="title"?t.config.title:t.config.subtitle,a=t.globals.svgWidth/2,i=s.offsetY,o="middle";if(s.align==="left"?(a=10,o="start"):s.align==="right"&&(a=t.globals.svgWidth-10,o="end"),a+=s.offsetX,i=i+parseInt(s.style.fontSize,10)+s.margin/2,s.text!==void 0){var l=new Ue(this.ctx).drawText({x:a,y:i,text:s.text,textAnchor:o,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,fontWeight:s.style.fontWeight,foreColor:s.style.color,opacity:1});l.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(l)}}}]),r}(),rde=function(){function r(e){it(this,r),this.w=e.w,this.dCtx=e}return ot(r,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,s=0,a=0,i=e==="title"?t.config.title.floating:t.config.subtitle.floating,o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(o!==null&&!i){var l=o.getBoundingClientRect();s=l.width,a=t.globals.axisCharts?l.height+5:l.height}return{width:s,height:a}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var s=Object.assign({},oe.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:s.x,y:s.y,height:s.height,width:s.height===0?0:s.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,s=[];t.config.series.forEach(function(c,u){c.data.forEach(function(h,f){var g;g=t.globals.series[u][f],a=t.config.dataLabels.formatter(g,{ctx:e.dCtx.ctx,seriesIndex:u,dataPointIndex:f,w:t}),s.push(a)})});var a=oe.getLargestStringFromArr(s),i=new Ue(this.dCtx.ctx),o=t.config.dataLabels.style,l=i.getTextRects(a,parseInt(o.fontSize),o.fontFamily);return{width:1.05*l.width,height:l.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var s=e;if(this.w.globals.isMultiLineX){var a=t.map(function(o,l){return Array.isArray(o)?o.length:1}),i=Math.max.apply(Math,Yr(a));s=t[a.indexOf(i)]}return s}}]),r}(),ade=function(){function r(e){it(this,r),this.w=e.w,this.dCtx=e}return ot(r,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,s=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&s.length===0&&(s=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var a=this.getxAxisTimeScaleLabelsCoords();e={width:a.width,height:a.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var i=t.globals.xLabelFormatter,o=oe.getLargestStringFromArr(s),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,s);t.globals.isBarHorizontal&&(l=o=t.globals.yAxisScale[0].result.reduce(function(y,b){return y.length>b.length?y:b},0));var c=new zg(this.dCtx.ctx),u=o;o=c.xLabelFormat(i,o,u,{i:void 0,dateFormatter:new ha(this.dCtx.ctx).formatDate,w:t}),l=c.xLabelFormat(i,l,u,{i:void 0,dateFormatter:new ha(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&o===void 0||String(o).trim()==="")&&(l=o="1");var h=new Ue(this.dCtx.ctx),f=h.getTextRects(o,t.config.xaxis.labels.style.fontSize),g=f;if(o!==l&&(g=h.getTextRects(l,t.config.xaxis.labels.style.fontSize)),(e={width:f.width>=g.width?f.width:g.width,height:f.height>=g.height?f.height:g.height}).width*s.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var x=function(y){return h.getTextRects(y,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};f=x(o),o!==l&&(g=x(l)),e.height=(f.height>g.height?f.height:g.height)/1.5,e.width=f.width>g.width?f.width:g.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var s,a=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,i=t.globals.groups.map(function(f){return f.title}),o=oe.getLargestStringFromArr(i),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,i),c=new Ue(this.dCtx.ctx),u=c.getTextRects(o,a),h=u;return o!==l&&(h=c.getTextRects(l,a)),s={width:u.width>=h.width?u.width:h.width,height:u.height>=h.height?u.height:h.height},t.config.xaxis.labels.show||(s={width:0,height:0}),{width:s.width,height:s.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,s=0;if(e.config.xaxis.title.text!==void 0){var a=new Ue(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=a.width,s=a.height}return{width:t,height:s}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var s=this.dCtx.timescaleLabels.map(function(i){return i.value}),a=s.reduce(function(i,o){return i===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):i.length>o.length?i:o},0);return 1.05*(e=new Ue(this.dCtx.ctx).getTextRects(a,t.config.xaxis.labels.style.fontSize)).width*s.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,s=this.w,a=s.globals,i=s.config,o=i.xaxis.type,l=e.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var c=s.config.yaxis[0].opposite&&s.globals.isBarHorizontal,u=function(h,f){i.yaxis.length>1&&function(g){return a.collapsedSeriesIndices.indexOf(g)!==-1}(f)||function(g){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var x=t.dCtx.timescaleLabels[0],y=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+l/1.75-t.dCtx.yAxisWidthRight,b=x.position-l/1.75+t.dCtx.yAxisWidthLeft,v=s.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;y>a.svgWidth-a.translateX-v&&(a.skipLastTimelinelabel=!0),b<-(g.show&&!g.floating||i.chart.type!=="bar"&&i.chart.type!=="candlestick"&&i.chart.type!=="rangeBar"&&i.chart.type!=="boxPlot"?10:l/1.75)&&(a.skipFirstTimelinelabel=!0)}else o==="datetime"?t.dCtx.gridPad.right<l&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):o!=="datetime"&&t.dCtx.gridPad.right<l/2-t.dCtx.yAxisWidthRight&&!a.rotateXLabels&&!s.config.xaxis.labels.trim&&(t.dCtx.xPadRight=l/2+1)}(h)};i.yaxis.forEach(function(h,f){c?(t.dCtx.gridPad.left<l&&(t.dCtx.xPadLeft=l/2+1),t.dCtx.xPadRight=l/2+1):u(h,f)})}}]),r}(),nde=function(){function r(e){it(this,r),this.w=e.w,this.dCtx=e}return ot(r,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,s=[],a=10,i=new $l(this.dCtx.ctx);return t.config.yaxis.map(function(o,l){var c={seriesIndex:l,dataPointIndex:-1,w:t},u=t.globals.yAxisScale[l],h=0;if(!i.isYAxisHidden(l)&&o.labels.show&&o.labels.minWidth!==void 0&&(h=o.labels.minWidth),!i.isYAxisHidden(l)&&o.labels.show&&u.result.length){var f=t.globals.yLabelFormatters[l],g=u.niceMin===Number.MIN_VALUE?0:u.niceMin,x=u.result.reduce(function(R,_){var I,P;return((I=String(f(R,c)))===null||I===void 0?void 0:I.length)>((P=String(f(_,c)))===null||P===void 0?void 0:P.length)?R:_},g),y=x=f(x,c);if(x!==void 0&&x.length!==0||(x=u.niceMax),t.globals.isBarHorizontal){a=0;var b=t.globals.labels.slice();x=oe.getLargestStringFromArr(b),x=f(x,{seriesIndex:l,dataPointIndex:-1,w:t}),y=e.dCtx.dimHelpers.getLargestStringFromMultiArr(x,b)}var v=new Ue(e.dCtx.ctx),N="rotate(".concat(o.labels.rotate," 0 0)"),k=v.getTextRects(x,o.labels.style.fontSize,o.labels.style.fontFamily,N,!1),C=k;x!==y&&(C=v.getTextRects(y,o.labels.style.fontSize,o.labels.style.fontFamily,N,!1)),s.push({width:(h>C.width||h>k.width?h:C.width>k.width?C.width:k.width)+a,height:C.height>k.height?C.height:k.height})}else s.push({width:0,height:0})}),s}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,s=[];return t.config.yaxis.map(function(a,i){if(a.show&&a.title.text!==void 0){var o=new Ue(e.dCtx.ctx),l="rotate(".concat(a.title.rotate," 0 0)"),c=o.getTextRects(a.title.text,a.title.style.fontSize,a.title.style.fontFamily,l,!1);s.push({width:c.width,height:c.height})}else s.push({width:0,height:0})}),s}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,s=0,a=0,i=e.globals.yAxisScale.length>1?10:0,o=new $l(this.dCtx.ctx),l=function(c,u){var h=e.config.yaxis[u].floating,f=0;c.width>0&&!h?(f=c.width+i,function(g){return e.globals.ignoreYAxisIndexes.indexOf(g)>-1}(u)&&(f=f-c.width-i)):f=h||o.isYAxisHidden(u)?0:5,e.config.yaxis[u].opposite?a+=f:s+=f,t+=f};return e.globals.yLabelsCoords.map(function(c,u){l(c,u)}),e.globals.yTitleCoords.map(function(c,u){l(c,u)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=s,this.dCtx.yAxisWidthRight=a,t}}]),r}(),ide=function(){function r(e){it(this,r),this.w=e.w,this.dCtx=e}return ot(r,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,s=t.config,a=t.globals;if(a.noData||a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===s.series.length)return 0;var i=function(x){return["bar","rangeBar","candlestick","boxPlot"].includes(x)},o=s.chart.type,l=0,c=i(o)?s.series.length:1;a.comboBarCount>0&&(c=a.comboBarCount),a.collapsedSeries.forEach(function(x){i(x.type)&&(c-=1)}),s.chart.stacked&&(c=1);var u=i(o)||a.comboBarCount>0,h=Math.abs(a.initialMaxX-a.initialMinX);if(u&&a.isXNumeric&&!a.isBarHorizontal&&c>0&&h!==0){h<=3&&(h=a.dataPoints);var f=h/e,g=a.minXDiff&&a.minXDiff/f>0?a.minXDiff/f:0;g>e/2&&(g/=2),(l=g*parseInt(s.plotOptions.bar.columnWidth,10)/100)<1&&(l=1),a.barPadForNumericAxis=l}return l}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,s=t.globals,a=this.dCtx.isSparkline||!s.axisCharts?0:10;["title","subtitle"].forEach(function(l){t.config[l].text!==void 0?a+=t.config[l].margin:a+=e.dCtx.isSparkline||!s.axisCharts?0:5}),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||s.axisCharts||(a+=10);var i=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");s.gridHeight-=i.height+o.height+a,s.translateY+=i.height+o.height+a}},{key:"setGridXPosForDualYAxis",value:function(e,t){var s=this.w,a=new $l(this.dCtx.ctx);s.config.yaxis.forEach(function(i,o){s.globals.ignoreYAxisIndexes.indexOf(o)!==-1||i.floating||a.isYAxisHidden(o)||(i.opposite&&(s.globals.translateX-=t[o].width+e[o].width+parseInt(i.labels.style.fontSize,10)/1.2+12),s.globals.translateX<2&&(s.globals.translateX=2))})}}]),r}(),lb=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new rde(this),this.dimYAxis=new nde(this),this.dimXAxis=new ade(this),this.dimGrid=new ide(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return ot(r,[{key:"plotCoords",value:function(){var e=this,t=this.w,s=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var a=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Yr(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(o){var l=yL(o,2),c=l[0],u=l[1];e.gridPad[c]=Math.max(u,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(a/2,this.gridPad.top),this.gridPad.bottom=Math.max(a/2,this.gridPad.bottom)),s.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),s.gridHeight=s.gridHeight-this.gridPad.top-this.gridPad.bottom,s.gridWidth=s.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var i=this.dimGrid.gridPadForColumnsInNumericAxis(s.gridWidth);s.gridWidth=s.gridWidth-2*i,s.translateX=s.translateX+this.gridPad.left+this.xPadLeft+(i>0?i:0),s.translateY=s.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,s=t.globals,a=this.dimYAxis.getyAxisLabelsCoords(),i=this.dimYAxis.getyAxisTitleCoords();s.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(x,y){t.globals.yLabelsCoords.push({width:a[y].width,index:y}),t.globals.yTitleCoords.push({width:i[y].width,index:y})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),l=this.dimXAxis.getxAxisGroupLabelsCoords(),c=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,c,l),s.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,s.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(s.rotateXLabels=!1,s.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),s.translateXAxisY=s.translateXAxisY+t.config.xaxis.labels.offsetY,s.translateXAxisX=s.translateXAxisX+t.config.xaxis.labels.offsetX;var u=this.yAxisWidth,h=this.xAxisHeight;s.xAxisLabelsHeight=this.xAxisHeight-c.height,s.xAxisGroupLabelsHeight=s.xAxisLabelsHeight-o.height,s.xAxisLabelsWidth=this.xAxisWidth,s.xAxisHeight=this.xAxisHeight;var f=10;(t.config.chart.type==="radar"||this.isSparkline)&&(u=0,h=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(u=0,h=0,f=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(o);var g=function(){s.translateX=u+e.datalabelsCoords.width,s.gridHeight=s.svgHeight-e.lgRect.height-h-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),s.gridWidth=s.svgWidth-u-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(f=s.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":s.translateY=f,g();break;case"top":s.translateY=this.lgRect.height+f,g();break;case"left":s.translateY=f,s.translateX=this.lgRect.width+u+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-h-12,s.gridWidth=s.svgWidth-this.lgRect.width-u-2*this.datalabelsCoords.width;break;case"right":s.translateY=f,s.translateX=u+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-h-12,s.gridWidth=s.svgWidth-this.lgRect.width-u-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(i,a),new nS(this.ctx).setYAxisXPosition(a,i)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=e.config,a=0;e.config.legend.show&&!e.config.legend.floating&&(a=20);var i=s.chart.type==="pie"||s.chart.type==="polarArea"||s.chart.type==="donut"?"pie":"radialBar",o=s.plotOptions[i].offsetY,l=s.plotOptions[i].offsetX;if(!s.legend.show||s.legend.floating){t.gridHeight=t.svgHeight;var c=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(c,t.gridHeight),t.translateY=o,void(t.translateX=l+(t.svgWidth-t.gridWidth)/2)}switch(s.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=o-10,t.translateX=l+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+o+10,t.translateX=l+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-a,t.gridHeight=s.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=l+this.lgRect.width+a;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-a-5,t.gridHeight=s.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=l+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,s){var a=this.w,i=a.globals.hasXaxisGroups?2:1,o=s.height+e.height+t.height,l=a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO,c=a.globals.rotateXLabels?22:10,u=a.globals.rotateXLabels&&a.config.legend.position==="bottom"?10:0;this.xAxisHeight=o*l+i*c+u,this.xAxisWidth=e.width,this.xAxisHeight-t.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0);var h=0,f=0;a.config.yaxis.forEach(function(g){h+=g.labels.minWidth,f+=g.labels.maxWidth}),this.yAxisWidth<h&&(this.yAxisWidth=h),this.yAxisWidth>f&&(this.yAxisWidth=f)}}]),r}(),ode=function(){function r(e){it(this,r),this.w=e.w,this.lgCtx=e}return ot(r,[{key:"getLegendStyles",value:function(){var e,t,s,a=document.createElement("style");a.setAttribute("type","text/css");var i=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(s=t.chart)===null||s===void 0?void 0:s.nonce)||this.w.config.chart.nonce;i&&a.setAttribute("nonce",i);var o=document.createTextNode(KL);return a.appendChild(o),a}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&e.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var s=this,a=this.w;if(a.globals.axisCharts||a.config.chart.type==="radialBar"){a.globals.resized=!0;var i=null,o=null;a.globals.risingSeries=[],a.globals.axisCharts?(i=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),o=parseInt(i.getAttribute("data:realIndex"),10)):(i=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),o=parseInt(i.getAttribute("rel"),10)-1),t?[{cs:a.globals.collapsedSeries,csi:a.globals.collapsedSeriesIndices},{cs:a.globals.ancillaryCollapsedSeries,csi:a.globals.ancillaryCollapsedSeriesIndices}].forEach(function(h){s.riseCollapsedSeries(h.cs,h.csi,o)}):this.hideSeries({seriesEl:i,realIndex:o})}else{var l=a.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),c=a.config.chart.type;if(c==="pie"||c==="polarArea"||c==="donut"){var u=a.config.plotOptions.pie.donut.labels;new Ue(this.lgCtx.ctx).pathMouseDown(l,null),this.lgCtx.ctx.pie.printDataLabelsInner(l.node,u)}l.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,s=this.w,a=s.globals,i=oe.clone(s.config.series);if(a.axisCharts){var o=s.config.yaxis[a.seriesYAxisReverseMap[t]],l={index:t,data:i[t].data.slice(),type:i[t].type||s.config.chart.type};if(o&&o.show&&o.showAlways)a.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(a.ancillaryCollapsedSeries.push(l),a.ancillaryCollapsedSeriesIndices.push(t));else if(a.collapsedSeriesIndices.indexOf(t)<0){a.collapsedSeries.push(l),a.collapsedSeriesIndices.push(t);var c=a.risingSeries.indexOf(t);a.risingSeries.splice(c,1)}}else a.collapsedSeries.push({index:t,data:i[t]}),a.collapsedSeriesIndices.push(t);return a.allSeriesCollapsed=a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===s.config.series.length,this._getSeriesBasedOnCollapsedState(i)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,s=e.realIndex,a=this.w,i=this.getSeriesAfterCollapsing({realIndex:s}),o=t.childNodes,l=0;l<o.length;l++)o[l].classList.contains("apexcharts-series-markers-wrap")&&(o[l].classList.contains("apexcharts-hide")?o[l].classList.remove("apexcharts-hide"):o[l].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,s){var a=this.w,i=oe.clone(a.config.series);if(e.length>0){for(var o=0;o<e.length;o++)e[o].index===s&&(a.globals.axisCharts?i[s].data=e[o].data.slice():i[s]=e[o].data,typeof i[s]!="number"&&(i[s].hidden=!1),e.splice(o,1),t.splice(o,1),a.globals.risingSeries.push(s));i=this._getSeriesBasedOnCollapsedState(i),this.lgCtx.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,s=0;return t.globals.axisCharts?e.forEach(function(a,i){t.globals.collapsedSeriesIndices.indexOf(i)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0||(e[i].data=[],s++)}):e.forEach(function(a,i){!t.globals.collapsedSeriesIndices.indexOf(i)<0&&(e[i]=0,s++)}),t.globals.allSeriesCollapsed=s===e.length,e}}]),r}(),JL=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new ode(this)}return ot(r,[{key:"init",value:function(){var e=this.w,t=e.globals,s=e.config,a=s.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(a||!t.axisCharts)&&s.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),s.legend.position==="bottom"||s.legend.position==="top"?this.legendAlignHorizontal():s.legend.position!=="right"&&s.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,s=e.fillcolor,a=this.w,i=document.createElement("span");i.classList.add("apexcharts-legend-marker");var o=a.config.legend.markers.shape||a.config.markers.shape,l=o;Array.isArray(o)&&(l=o[t]);var c=Array.isArray(a.config.legend.markers.size)?parseFloat(a.config.legend.markers.size[t]):parseFloat(a.config.legend.markers.size),u=Array.isArray(a.config.legend.markers.offsetX)?parseFloat(a.config.legend.markers.offsetX[t]):parseFloat(a.config.legend.markers.offsetX),h=Array.isArray(a.config.legend.markers.offsetY)?parseFloat(a.config.legend.markers.offsetY[t]):parseFloat(a.config.legend.markers.offsetY),f=Array.isArray(a.config.legend.markers.strokeWidth)?parseFloat(a.config.legend.markers.strokeWidth[t]):parseFloat(a.config.legend.markers.strokeWidth),g=i.style;if(g.height=2*(c+f)+"px",g.width=2*(c+f)+"px",g.left=u+"px",g.top=h+"px",a.config.legend.markers.customHTML)g.background="transparent",g.color=s[t],Array.isArray(a.config.legend.markers.customHTML)?a.config.legend.markers.customHTML[t]&&(i.innerHTML=a.config.legend.markers.customHTML[t]()):i.innerHTML=a.config.legend.markers.customHTML();else{var x=new Sh(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(l),seriesIndex:t,strokeWidth:f,size:c}),y=window.SVG().addTo(i).size("100%","100%"),b=new Ue(this.ctx).drawMarker(0,0,qe(qe({},x),{},{pointFillColor:Array.isArray(s)?s[t]:x.pointFillColor,shape:l}));a.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(v){v.node.classList.contains("apexcharts-marker-triangle")?v.node.style.transform="translate(50%, 45%)":v.node.style.transform="translate(50%, 50%)"}),y.add(b)}return i}},{key:"drawLegends",value:function(){var e=this,t=this,s=this.w,a=s.config.legend.fontFamily,i=s.globals.seriesNames,o=s.config.legend.markers.fillColors?s.config.legend.markers.fillColors.slice():s.globals.colors.slice();if(s.config.chart.type==="heatmap"){var l=s.config.plotOptions.heatmap.colorScale.ranges;i=l.map(function(x){return x.name?x.name:x.from+" - "+x.to}),o=l.map(function(x){return x.color})}else this.isBarsDistributed&&(i=s.globals.labels.slice());s.config.legend.customLegendItems.length&&(i=s.config.legend.customLegendItems);var c=s.globals.legendFormatter,u=s.config.legend.inverseOrder,h=[];s.globals.seriesGroups.length>1&&s.config.legend.clusterGroupedSeries&&s.globals.seriesGroups.forEach(function(x,y){h[y]=document.createElement("div"),h[y].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(y)),s.config.legend.clusterGroupedSeriesOrientation==="horizontal"?s.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):h[y].classList.add("apexcharts-legend-group-vertical")});for(var f=function(x){var y,b=c(i[x],{seriesIndex:x,w:s}),v=!1,N=!1;if(s.globals.collapsedSeries.length>0)for(var k=0;k<s.globals.collapsedSeries.length;k++)s.globals.collapsedSeries[k].index===x&&(v=!0);if(s.globals.ancillaryCollapsedSeriesIndices.length>0)for(var C=0;C<s.globals.ancillaryCollapsedSeriesIndices.length;C++)s.globals.ancillaryCollapsedSeriesIndices[C]===x&&(N=!0);var R=e.createLegendMarker({i:x,fillcolor:o});Ue.setAttrs(R,{rel:x+1,"data:collapsed":v||N}),(v||N)&&R.classList.add("apexcharts-inactive-legend");var _=document.createElement("div"),I=document.createElement("span");I.classList.add("apexcharts-legend-text"),I.innerHTML=Array.isArray(b)?b.join(" "):b;var P=s.config.legend.labels.useSeriesColors?s.globals.colors[x]:Array.isArray(s.config.legend.labels.colors)?(y=s.config.legend.labels.colors)===null||y===void 0?void 0:y[x]:s.config.legend.labels.colors;P||(P=s.config.chart.foreColor),I.style.color=P,I.style.fontSize=parseFloat(s.config.legend.fontSize)+"px",I.style.fontWeight=s.config.legend.fontWeight,I.style.fontFamily=a||s.config.chart.fontFamily,Ue.setAttrs(I,{rel:x+1,i:x,"data:default-text":encodeURIComponent(b),"data:collapsed":v||N}),_.appendChild(R),_.appendChild(I);var T=new wr(e.ctx);s.config.legend.showForZeroSeries||T.getSeriesTotalByIndex(x)===0&&T.seriesHaveSameValues(x)&&!T.isSeriesNull(x)&&s.globals.collapsedSeriesIndices.indexOf(x)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(x)===-1&&_.classList.add("apexcharts-hidden-zero-series"),s.config.legend.showForNullSeries||T.isSeriesNull(x)&&s.globals.collapsedSeriesIndices.indexOf(x)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(x)===-1&&_.classList.add("apexcharts-hidden-null-series"),h.length?s.globals.seriesGroups.forEach(function(D,L){var F;D.includes((F=s.config.series[x])===null||F===void 0?void 0:F.name)&&(s.globals.dom.elLegendWrap.appendChild(h[L]),h[L].appendChild(_))}):s.globals.dom.elLegendWrap.appendChild(_),s.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(s.config.legend.horizontalAlign)),s.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+s.config.legend.position),_.classList.add("apexcharts-legend-series"),_.style.margin="".concat(s.config.legend.itemMargin.vertical,"px ").concat(s.config.legend.itemMargin.horizontal,"px"),s.globals.dom.elLegendWrap.style.width=s.config.legend.width?s.config.legend.width+"px":"",s.globals.dom.elLegendWrap.style.height=s.config.legend.height?s.config.legend.height+"px":"",Ue.setAttrs(_,{rel:x+1,seriesName:oe.escapeString(i[x]),"data:collapsed":v||N}),(v||N)&&_.classList.add("apexcharts-inactive-legend"),s.config.legend.onItemClick.toggleDataSeries||_.classList.add("apexcharts-no-click")},g=u?i.length-1:0;u?g>=0:g<=i.length-1;u?g--:g++)f(g);s.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),s.config.legend.onItemHover.highlightDataSeries&&s.config.legend.customLegendItems.length===0&&(s.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),s.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var s=this.w,a=s.globals.dom.elLegendWrap,i=a.clientHeight,o=0,l=0;if(s.config.legend.position==="bottom")l=s.globals.svgHeight-Math.min(i,s.globals.svgHeight/2)-5;else if(s.config.legend.position==="top"){var c=new lb(this.ctx),u=c.dimHelpers.getTitleSubtitleCoords("title").height,h=c.dimHelpers.getTitleSubtitleCoords("subtitle").height;l=(u>0?u-10:0)+(h>0?h-10:0)}a.style.position="absolute",o=o+e+s.config.legend.offsetX,l=l+t+s.config.legend.offsetY,a.style.left=o+"px",a.style.top=l+"px",s.config.legend.position==="right"&&(a.style.left="auto",a.style.right=25+s.config.legend.offsetX+"px"),["width","height"].forEach(function(f){a.style[f]&&(a.style[f]=parseInt(s.config.legend[f],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new lb(this.ctx),s=t.dimHelpers.getTitleSubtitleCoords("title"),a=t.dimHelpers.getTitleSubtitleCoords("subtitle"),i=0;e.config.legend.position==="top"&&(i=s.height+a.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,i)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),s=0;e.config.legend.position==="left"&&(s=20),e.config.legend.position==="right"&&(s=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(s,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,s=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(s){var a=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,a,this.w]),new zn(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&s&&new zn(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var s=parseInt(e.target.getAttribute("rel"),10)-1,a=e.target.getAttribute("data:collapsed")==="true",i=this.w.config.chart.events.legendClick;typeof i=="function"&&i(this.ctx,s,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,s,this.w]);var o=this.w.config.legend.markers.onClick;typeof o=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,s,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,s,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(s,a)}}}]),r}(),eF=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return ot(r,[{key:"createToolbar",value:function(){var e=this,t=this.w,s=function(){return document.createElement("div")},a=s();if(a.setAttribute("class","apexcharts-toolbar"),a.style.top=t.config.chart.toolbar.offsetY+"px",a.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(a),this.elZoom=s(),this.elZoomIn=s(),this.elZoomOut=s(),this.elPan=s(),this.elSelection=s(),this.elZoomReset=s(),this.elMenuIcon=s(),this.elMenu=s(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var i=0;i<this.t.customIcons.length;i++)this.elCustomIcons.push(s());var o=[],l=function(f,g,x){var y=f.toLowerCase();e.t[y]&&t.config.chart.zoom.enabled&&o.push({el:g,icon:typeof e.t[y]=="string"?e.t[y]:x,title:e.localeValues[f],class:"apexcharts-".concat(y,"-icon")})};l("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),l("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var c=function(f){e.t[f]&&t.config.chart[f].enabled&&o.push({el:f==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[f]=="string"?e.t[f]:f==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[f==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(f,"-icon")})};c("zoom"),c("selection"),this.t.pan&&t.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),l("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&o.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var u=0;u<this.elCustomIcons.length;u++)o.push({el:this.elCustomIcons[u],icon:this.t.customIcons[u].icon,title:this.t.customIcons[u].title,index:this.t.customIcons[u].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[u].class});o.forEach(function(f,g){f.index&&oe.moveIndexInArray(o,g,f.index)});for(var h=0;h<o.length;h++)Ue.setAttrs(o[h].el,{class:o[h].class,title:o[h].title}),o[h].el.innerHTML=o[h].icon,a.appendChild(o[h].el);this._createHamburgerMenu(a),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),Ue.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],s=0;s<t.length;s++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[s].innerHTML=t[s].title,Ue.setAttrs(this.elMenuItems[s],{class:"apexcharts-menu-item ".concat(t[s].name),title:t[s].title}),this.elMenu.appendChild(this.elMenuItems[s])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(s){s.classList.contains("exportSVG")?s.addEventListener("click",e.handleDownload.bind(e,"svg")):s.classList.contains("exportPNG")?s.addEventListener("click",e.handleDownload.bind(e,"png")):s.classList.contains("exportCSV")&&s.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var s=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,a=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[a]=!t.w.globals[a],s.classList.contains(t.ctx.toolbar.selectedClass)?s.classList.remove(t.ctx.toolbar.selectedClass):s.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,s=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),s&&s.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(s){s&&s.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,s=(this.minX+t)/2,a=(this.maxX+t)/2,i=this._getNewMinXMaxX(s,a);e.globals.disableZoomIn||this.zoomUpdateOptions(i.minX,i.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,s=this.minX-(t-this.minX),a=this.maxX-(t-this.maxX),i=this._getNewMinXMaxX(s,a);e.globals.disableZoomOut||this.zoomUpdateOptions(i.minX,i.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var s=this.w.config.xaxis.convertedCatToNumeric;return{minX:s?Math.floor(e):e,maxX:s?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var s=this.w;if(e!==void 0||t!==void 0){if(!(s.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=s.globals.dataPoints),t-e<2))){var a={min:e,max:t},i=this.getBeforeZoomRange(a);i&&(a=i.xaxis);var o={xaxis:a},l=oe.clone(s.globals.initialConfig.yaxis);s.config.chart.group||(o.yaxis=l),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(a,l)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var s=null;return typeof this.ev.beforeZoom=="function"&&(s=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),s}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,s=new Nf(this.ctx);switch(e){case"svg":s.exportToSVG(this.ctx);break;case"png":s.exportToPng(this.ctx);break;case"csv":s.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var s=t.w;if(s.globals.lastXAxis.min=s.globals.initialConfig.xaxis.min,s.globals.lastXAxis.max=s.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof s.config.chart.events.beforeResetZoom=="function"){var a=s.config.chart.events.beforeResetZoom(t,s);a&&t.updateHelpers.revertDefaultAxisMinMax(a)}typeof s.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:s.config.xaxis.min,max:s.config.xaxis.max}),s.globals.zoomed=!1;var i=t.ctx.series.emptyCollapsedSeries(oe.clone(s.globals.initialSeries));t.updateHelpers._updateSeries(i,s.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),r}(),lde=function(r){Og(t,eF);var e=Mg(t);function t(s){var a;return it(this,t),(a=e.call(this,s)).ctx=s,a.w=s.w,a.dragged=!1,a.graphics=new Ue(a.ctx),a.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],a.clientX=0,a.clientY=0,a.startX=0,a.endX=0,a.dragX=0,a.startY=0,a.endY=0,a.dragY=0,a.moveDirection="none",a.debounceTimer=null,a.debounceDelay=100,a.wheelDelay=400,a}return ot(t,[{key:"init",value:function(s){var a=this,i=s.xyRatios,o=this.w,l=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=o.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new vr(0,0,o.globals.gridWidth,o.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),o.globals.dom.Paper.add(this.zoomRect),o.globals.dom.Paper.add(this.selectionRect),o.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):o.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:o.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=o.globals.dom.baseEl.querySelector("".concat(o.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(c){a.hoverArea.addEventListener(c,l.svgMouseEvents.bind(l,i),{capture:!1,passive:!0})}),o.config.chart.zoom.enabled&&o.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",l.mouseWheelEvent.bind(l),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(s,a){var i=this.w,o=this.ctx.toolbar,l=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type,c=i.config.chart.toolbar.autoSelected;if(a.shiftKey?(this.shiftWasPressed=!0,o.enableZoomPanFromToolbar(c==="pan"?"zoom":"pan")):this.shiftWasPressed&&(o.enableZoomPanFromToolbar(c),this.shiftWasPressed=!1),a.target){var u,h=a.target.classList;if(a.target.parentNode&&a.target.parentNode!==null&&(u=a.target.parentNode.classList),!(h.contains("apexcharts-legend-marker")||h.contains("apexcharts-legend-text")||u&&u.contains("apexcharts-toolbar"))){if(this.clientX=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientX:a.type==="touchend"?a.changedTouches[0].clientX:a.clientX,this.clientY=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientY:a.type==="touchend"?a.changedTouches[0].clientY:a.clientY,a.type==="mousedown"&&a.which===1||a.type==="touchstart"){var f=this.gridRect.getBoundingClientRect();this.startX=this.clientX-f.left-i.globals.barPadForNumericAxis,this.startY=this.clientY-f.top,this.dragged=!1,this.w.globals.mousedown=!0}(a.type==="mousemove"&&a.which===1||a.type==="touchmove")&&(this.dragged=!0,i.globals.panEnabled?(i.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:l,xyRatios:s})):(this.w.globals.mousedown&&i.globals.zoomEnabled||this.w.globals.mousedown&&i.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:l}))),a.type!=="mouseup"&&a.type!=="touchend"&&a.type!=="mouseleave"||this.handleMouseUp({zoomtype:l}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(s){var a,i=s.zoomtype,o=s.isResized,l=this.w,c=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();c&&(this.w.globals.mousedown||o)&&(this.endX=this.clientX-c.left-l.globals.barPadForNumericAxis,this.endY=this.clientY-c.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(l.globals.zoomEnabled||l.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:i})),l.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(s){var a=this,i=this.w;s.preventDefault();var o=Date.now();o-i.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(s),i.globals.lastWheelExecution=o),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){o-i.globals.lastWheelExecution>a.wheelDelay&&(a.executeMouseWheelZoom(s),i.globals.lastWheelExecution=o)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(s){var a,i=this.w;this.minX=i.globals.isRangeBar?i.globals.minY:i.globals.minX,this.maxX=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;var o=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();if(o){var l,c,u,h=(s.clientX-o.left)/o.width,f=this.minX,g=this.maxX,x=g-f;if(s.deltaY<0){var y=f+h*x;c=y-(l=.5*x)/2,u=y+l/2}else c=f-(l=1.5*x)/2,u=g+l/2;if(!i.globals.isRangeBar){c=Math.max(c,i.globals.initialMinX),u=Math.min(u,i.globals.initialMaxX);var b=.01*(i.globals.initialMaxX-i.globals.initialMinX);if(u-c<b){var v=(c+u)/2;c=v-b/2,u=v+b/2}}var N=this._getNewMinXMaxX(c,u);isNaN(N.minX)||isNaN(N.maxX)||this.zoomUpdateOptions(N.minX,N.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var s=this,a=this.w;if(this.selectionRect){var i=this.selectionRect.node.getBoundingClientRect();i.width>0&&i.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(o,l,c,u,h){return h==="l"||h==="r"?o.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):o.circle(0)},updateHandle:function(o,l){return o.center(l[0],l[1])}}).resize().on("resize",function(){var o=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type;s.handleMouseUp({zoomtype:o,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var s=this.w,a=this.xyRatios;if(!s.globals.zoomEnabled){if(s.globals.selection!==void 0&&s.globals.selection!==null)this.drawSelectionRect(qe(qe({},s.globals.selection),{},{translateX:s.globals.translateX,translateY:s.globals.translateY}));else if(s.config.chart.selection.xaxis.min!==void 0&&s.config.chart.selection.xaxis.max!==void 0){var i=(s.config.chart.selection.xaxis.min-s.globals.minX)/a.xRatio,o=s.globals.gridWidth-(s.globals.maxX-s.config.chart.selection.xaxis.max)/a.xRatio-i;s.globals.isRangeBar&&(i=(s.config.chart.selection.xaxis.min-s.globals.yAxisScale[0].niceMin)/a.invertedYRatio,o=(s.config.chart.selection.xaxis.max-s.config.chart.selection.xaxis.min)/a.invertedYRatio);var l={x:i,y:0,width:o,height:s.globals.gridHeight,translateX:s.globals.translateX,translateY:s.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(l),this.makeSelectionRectDraggable(),typeof s.config.chart.events.selection=="function"&&s.config.chart.events.selection(this.ctx,{xaxis:{min:s.config.chart.selection.xaxis.min,max:s.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.translateX,u=c===void 0?0:c,h=s.translateY,f=h===void 0?0:h,g=this.w,x=this.zoomRect,y=this.selectionRect;if(this.dragged||g.globals.selection!==null){var b={transform:"translate("+u+", "+f+")"};g.globals.zoomEnabled&&this.dragged&&(o<0&&(o=1),x.attr({x:a,y:i,width:o,height:l,fill:g.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":g.config.chart.zoom.zoomedArea.fill.opacity,stroke:g.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":g.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":g.config.chart.zoom.zoomedArea.stroke.opacity}),Ue.setAttrs(x.node,b)),g.globals.selectionEnabled&&(y.attr({x:a,y:i,width:o>0?o:0,height:l>0?l:0,fill:g.config.chart.selection.fill.color,"fill-opacity":g.config.chart.selection.fill.opacity,stroke:g.config.chart.selection.stroke.color,"stroke-width":g.config.chart.selection.stroke.width,"stroke-dasharray":g.config.chart.selection.stroke.dashArray,"stroke-opacity":g.config.chart.selection.stroke.opacity}),Ue.setAttrs(y.node,b))}}},{key:"hideSelectionRect",value:function(s){s&&s.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(s){var a=s.context,i=s.zoomtype,o=this.w,l=a,c=this.gridRect.getBoundingClientRect(),u=l.startX-1,h=l.startY,f=!1,g=!1,x=l.clientX-c.left-o.globals.barPadForNumericAxis,y=l.clientY-c.top,b=x-u,v=y-h,N={translateX:o.globals.translateX,translateY:o.globals.translateY};return Math.abs(b+u)>o.globals.gridWidth?b=o.globals.gridWidth-u:x<0&&(b=u),u>x&&(f=!0,b=Math.abs(b)),h>y&&(g=!0,v=Math.abs(v)),N=qe(qe({},N=i==="x"?{x:f?u-b:u,y:0,width:b,height:o.globals.gridHeight}:i==="y"?{x:0,y:g?h-v:h,width:o.globals.gridWidth,height:v}:{x:f?u-b:u,y:g?h-v:h,width:b,height:v}),{},{translateX:o.globals.translateX,translateY:o.globals.translateY}),l.drawSelectionRect(N),l.selectionDragging("resizing"),N}},{key:"selectionDragging",value:function(s,a){var i=this,o=this.w;if(a){a.preventDefault();var l=a.detail,c=l.handler,u=l.box,h=u.x,f=u.y;h<this.constraints.x&&(h=this.constraints.x),f<this.constraints.y&&(f=this.constraints.y),u.x2>this.constraints.x2&&(h=this.constraints.x2-u.w),u.y2>this.constraints.y2&&(f=this.constraints.y2-u.h),c.move(h,f);var g=this.xyRatios,x=this.selectionRect,y=0;s==="resizing"&&(y=30);var b=function(N){return parseFloat(x.node.getAttribute(N))},v={x:b("x"),y:b("y"),width:b("width"),height:b("height")};o.globals.selection=v,typeof o.config.chart.events.selection=="function"&&o.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var N,k,C,R,_=i.gridRect.getBoundingClientRect(),I=x.node.getBoundingClientRect();o.globals.isRangeBar?(N=o.globals.yAxisScale[0].niceMin+(I.left-_.left)*g.invertedYRatio,k=o.globals.yAxisScale[0].niceMin+(I.right-_.left)*g.invertedYRatio,C=0,R=1):(N=o.globals.xAxisScale.niceMin+(I.left-_.left)*g.xRatio,k=o.globals.xAxisScale.niceMin+(I.right-_.left)*g.xRatio,C=o.globals.yAxisScale[0].niceMin+(_.bottom-I.bottom)*g.yRatio[0],R=o.globals.yAxisScale[0].niceMax-(I.top-_.top)*g.yRatio[0]);var P={xaxis:{min:N,max:k},yaxis:{min:C,max:R}};o.config.chart.events.selection(i.ctx,P),o.config.chart.brush.enabled&&o.config.chart.events.brushScrolled!==void 0&&o.config.chart.events.brushScrolled(i.ctx,P)},y))}}},{key:"selectionDrawn",value:function(s){var a,i,o=s.context,l=s.zoomtype,c=this.w,u=o,h=this.xyRatios,f=this.ctx.toolbar,g=c.globals.zoomEnabled?u.zoomRect.node.getBoundingClientRect():u.selectionRect.node.getBoundingClientRect(),x=u.gridRect.getBoundingClientRect(),y=g.left-x.left-c.globals.barPadForNumericAxis,b=g.right-x.left-c.globals.barPadForNumericAxis,v=g.top-x.top,N=g.bottom-x.top;c.globals.isRangeBar?(a=c.globals.yAxisScale[0].niceMin+y*h.invertedYRatio,i=c.globals.yAxisScale[0].niceMin+b*h.invertedYRatio):(a=c.globals.xAxisScale.niceMin+y*h.xRatio,i=c.globals.xAxisScale.niceMin+b*h.xRatio);var k=[],C=[];if(c.config.yaxis.forEach(function(L,F){var z=c.globals.seriesYAxisMap[F][0],O=c.globals.yAxisScale[F].niceMax-h.yRatio[z]*v,V=c.globals.yAxisScale[F].niceMax-h.yRatio[z]*N;k.push(O),C.push(V)}),u.dragged&&(u.dragX>10||u.dragY>10)&&a!==i){if(c.globals.zoomEnabled){var R=oe.clone(c.globals.initialConfig.yaxis),_=oe.clone(c.globals.initialConfig.xaxis);if(c.globals.zoomed=!0,c.config.xaxis.convertedCatToNumeric&&(a=Math.floor(a),i=Math.floor(i),a<1&&(a=1,i=c.globals.dataPoints),i-a<2&&(i=a+1)),l!=="xy"&&l!=="x"||(_={min:a,max:i}),l!=="xy"&&l!=="y"||R.forEach(function(L,F){R[F].min=C[F],R[F].max=k[F]}),f){var I=f.getBeforeZoomRange(_,R);I&&(_=I.xaxis?I.xaxis:_,R=I.yaxis?I.yaxis:R)}var P={xaxis:_};c.config.chart.group||(P.yaxis=R),u.ctx.updateHelpers._updateOptions(P,!1,u.w.config.chart.animations.dynamicAnimation.enabled),typeof c.config.chart.events.zoomed=="function"&&f.zoomCallback(_,R)}else if(c.globals.selectionEnabled){var T,D=null;T={min:a,max:i},l!=="xy"&&l!=="y"||(D=oe.clone(c.config.yaxis)).forEach(function(L,F){D[F].min=C[F],D[F].max=k[F]}),c.globals.selection=u.selection,typeof c.config.chart.events.selection=="function"&&c.config.chart.events.selection(u.ctx,{xaxis:T,yaxis:D})}}}},{key:"panDragging",value:function(s){var a=s.context,i=this.w,o=a;if(i.globals.lastClientPosition.x!==void 0){var l=i.globals.lastClientPosition.x-o.clientX,c=i.globals.lastClientPosition.y-o.clientY;Math.abs(l)>Math.abs(c)&&l>0?this.moveDirection="left":Math.abs(l)>Math.abs(c)&&l<0?this.moveDirection="right":Math.abs(c)>Math.abs(l)&&c>0?this.moveDirection="up":Math.abs(c)>Math.abs(l)&&c<0&&(this.moveDirection="down")}i.globals.lastClientPosition={x:o.clientX,y:o.clientY};var u=i.globals.isRangeBar?i.globals.minY:i.globals.minX,h=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;o.panScrolled(u,h)}},{key:"panScrolled",value:function(s,a){var i=this.w,o=this.xyRatios,l=oe.clone(i.globals.initialConfig.yaxis),c=o.xRatio,u=i.globals.minX,h=i.globals.maxX;i.globals.isRangeBar&&(c=o.invertedYRatio,u=i.globals.minY,h=i.globals.maxY),this.moveDirection==="left"?(s=u+i.globals.gridWidth/15*c,a=h+i.globals.gridWidth/15*c):this.moveDirection==="right"&&(s=u-i.globals.gridWidth/15*c,a=h-i.globals.gridWidth/15*c),i.globals.isRangeBar||(s<i.globals.initialMinX||a>i.globals.initialMaxX)&&(s=u,a=h);var f={xaxis:{min:s,max:a}};i.config.chart.group||(f.yaxis=l),this.updateScrolledChart(f,s,a)}},{key:"updateScrolledChart",value:function(s,a,i){var o=this.w;if(this.ctx.updateHelpers._updateOptions(s,!1,!1),typeof o.config.chart.events.scrolled=="function"){var l={xaxis:{min:a,max:i}};o.config.chart.events.scrolled(this.ctx,l),this.ctx.events.fireEvent("scrolled",l)}}}]),t}(),tF=function(){function r(e){it(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return ot(r,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,s=e.elGrid,a=e.clientX,i=e.clientY,o=this.w,l=s.getBoundingClientRect(),c=l.width,u=l.height,h=c/(o.globals.dataPoints-1),f=u/o.globals.dataPoints,g=this.hasBars();!o.globals.comboCharts&&!g||o.config.xaxis.convertedCatToNumeric||(h=c/o.globals.dataPoints);var x=a-l.left-o.globals.barPadForNumericAxis,y=i-l.top;x<0||y<0||x>c||y>u?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):o.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):o.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var b=Math.round(x/h),v=Math.floor(y/f);g&&!o.config.xaxis.convertedCatToNumeric&&(b=Math.ceil(x/h),b-=1);var N=null,k=null,C=o.globals.seriesXvalues.map(function(T){return T.filter(function(D){return oe.isNumber(D)})}),R=o.globals.seriesYvalues.map(function(T){return T.filter(function(D){return oe.isNumber(D)})});if(o.globals.isXNumeric){var _=this.ttCtx.getElGrid().getBoundingClientRect(),I=x*(_.width/c),P=y*(_.height/u);N=(k=this.closestInMultiArray(I,P,C,R)).index,b=k.j,N!==null&&o.globals.hasNullValues&&(C=o.globals.seriesXvalues[N],b=(k=this.closestInArray(I,C)).j)}return o.globals.capturedSeriesIndex=N===null?-1:N,(!b||b<1)&&(b=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=v:o.globals.capturedDataPointIndex=b,{capturedSeries:N,j:o.globals.isBarHorizontal?v:b,hoverX:x,hoverY:y}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,s=0,a=e.map(function(o,l){return o.length>0?l:-1}),i=0;i<a.length;i++)if(a[i]!==-1&&t.globals.collapsedSeriesIndices.indexOf(i)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(i)===-1){s=a[i];break}return s}},{key:"closestInMultiArray",value:function(e,t,s,a){for(var i,o=this.w,l=1/0,c=null,u=null,h=0;h<s.length;h++)if(i=h,o.globals.collapsedSeriesIndices.indexOf(i)===-1&&o.globals.ancillaryCollapsedSeriesIndices.indexOf(i)===-1)for(var f=s[h],g=a[h],x=Math.min(f.length,g.length),y=0;y<x;y++){var b=e-f[y],v=Math.sqrt(b*b);if(!o.globals.allSeriesHasEqualX){var N=t-g[y];v=Math.sqrt(b*b+N*N)}v<l&&(l=v,c=h,u=y)}return{index:c,j:u}}},{key:"closestInArray",value:function(e,t){for(var s=t[0],a=null,i=Math.abs(e-s),o=0;o<t.length;o++){var l=Math.abs(e-t[o]);l<i&&(i=l,a=o)}return{j:a}}},{key:"isXoverlap",value:function(e){var t=[],s=this.w.globals.seriesX.filter(function(i){return i[0]!==void 0});if(s.length>0)for(var a=0;a<s.length-1;a++)s[a][e]!==void 0&&s[a+1][e]!==void 0&&s[a][e]!==s[a+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,s=0;s<t.length-1;s++)if(t[s].data.length!==t[s+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Yr(e).reduce(function(t,s){return t+s.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");s=Yr(s),t&&(s=s.filter(function(i){var o=Number(i.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(o)===-1})),s.sort(function(i,o){var l=Number(i.getAttribute("data:realIndex")),c=Number(o.getAttribute("data:realIndex"));return c<l?1:c>l?-1:0});var a=[];return s.forEach(function(i){a.push(i.querySelector(".apexcharts-marker"))}),a}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var s=Number(e.getAttribute("cx")),a=Number(e.getAttribute("cy")),i=e.getAttribute("shape");return new Ue(this.ctx).getMarkerPath(s,a,i,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,s=t.config.markers.hover.size;return s===void 0&&(s=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),s}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,s=this.ttCtx;s.allTooltipSeriesGroups.length===0&&(s.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=s.allTooltipSeriesGroups,i=0;i<a.length;i++)e==="enable"?(a[i].classList.add("apexcharts-active"),a[i].style.display=t.config.tooltip.items.display):(a[i].classList.remove("apexcharts-active"),a[i].style.display="none")}}]),r}(),cde=function(){function r(e){it(this,r),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new tF(e)}return ot(r,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,s=t===void 0||t,a=e.ttItems,i=e.i,o=i===void 0?0:i,l=e.j,c=l===void 0?null:l,u=e.y1,h=e.y2,f=e.e,g=this.w;g.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:o,j:c,y1:u,y2:h,w:g}):this.toggleActiveInactiveSeries(s,o);var x=this.getValuesToPrint({i:o,j:c});this.printLabels({i:o,j:c,values:x,ttItems:a,shared:s,e:f});var y=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=y.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=y.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,s=this,a=e.i,i=e.j,o=e.values,l=e.ttItems,c=e.shared,u=e.e,h=this.w,f=[],g=function(_){return h.globals.seriesGoals[_]&&h.globals.seriesGoals[_][i]&&Array.isArray(h.globals.seriesGoals[_][i])},x=o.xVal,y=o.zVal,b=o.xAxisTTVal,v="",N=h.globals.colors[a];i!==null&&h.config.plotOptions.bar.distributed&&(N=h.globals.colors[i]);for(var k=function(_,I){var P=s.getFormatters(a);v=s.getSeriesName({fn:P.yLbTitleFormatter,index:a,seriesIndex:a,j:i}),h.config.chart.type==="treemap"&&(v=P.yLbTitleFormatter(String(h.config.series[a].data[i].x),{series:h.globals.series,seriesIndex:a,dataPointIndex:i,w:h}));var T=h.config.tooltip.inverseOrder?I:_;if(h.globals.axisCharts){var D=function(z){var O,V,H,B;return h.globals.isRangeData?P.yLbFormatter((O=h.globals.seriesRangeStart)===null||O===void 0||(V=O[z])===null||V===void 0?void 0:V[i],{series:h.globals.seriesRangeStart,seriesIndex:z,dataPointIndex:i,w:h})+" - "+P.yLbFormatter((H=h.globals.seriesRangeEnd)===null||H===void 0||(B=H[z])===null||B===void 0?void 0:B[i],{series:h.globals.seriesRangeEnd,seriesIndex:z,dataPointIndex:i,w:h}):P.yLbFormatter(h.globals.series[z][i],{series:h.globals.series,seriesIndex:z,dataPointIndex:i,w:h})};if(c)P=s.getFormatters(T),v=s.getSeriesName({fn:P.yLbTitleFormatter,index:T,seriesIndex:a,j:i}),N=h.globals.colors[T],t=D(T),g(T)&&(f=h.globals.seriesGoals[T][i].map(function(z){return{attrs:z,val:P.yLbFormatter(z.value,{seriesIndex:T,dataPointIndex:i,w:h})}}));else{var L,F=u==null||(L=u.target)===null||L===void 0?void 0:L.getAttribute("fill");F&&(F.indexOf("url")!==-1?F.indexOf("Pattern")!==-1&&(N=h.globals.dom.baseEl.querySelector(F.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):N=F),t=D(a),g(a)&&Array.isArray(h.globals.seriesGoals[a][i])&&(f=h.globals.seriesGoals[a][i].map(function(z){return{attrs:z,val:P.yLbFormatter(z.value,{seriesIndex:a,dataPointIndex:i,w:h})}}))}}i===null&&(t=P.yLbFormatter(h.globals.series[a],qe(qe({},h),{},{seriesIndex:a,dataPointIndex:a}))),s.DOMHandling({i:a,t:T,j:i,ttItems:l,values:{val:t,goalVals:f,xVal:x,xAxisTTVal:b,zVal:y},seriesName:v,shared:c,pColor:N})},C=0,R=h.globals.series.length-1;C<h.globals.series.length;C++,R--)k(C,R)}},{key:"getFormatters",value:function(e){var t,s=this.w,a=s.globals.yLabelFormatters[e];return s.globals.ttVal!==void 0?Array.isArray(s.globals.ttVal)?(a=s.globals.ttVal[e]&&s.globals.ttVal[e].formatter,t=s.globals.ttVal[e]&&s.globals.ttVal[e].title&&s.globals.ttVal[e].title.formatter):(a=s.globals.ttVal.formatter,typeof s.globals.ttVal.title.formatter=="function"&&(t=s.globals.ttVal.title.formatter)):t=s.config.tooltip.y.title.formatter,typeof a!="function"&&(a=s.globals.yLabelFormatters[0]?s.globals.yLabelFormatters[0]:function(i){return i}),typeof t!="function"&&(t=function(i){return i?i+": ":""}),{yLbFormatter:a,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,s=e.index,a=e.seriesIndex,i=e.j,o=this.w;return t(String(o.globals.seriesNames[s]),{series:o.globals.series,seriesIndex:a,dataPointIndex:i,w:o})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,s=e.j,a=e.ttItems,i=e.values,o=e.seriesName,l=e.shared,c=e.pColor,u=this.w,h=this.ttCtx,f=i.val,g=i.goalVals,x=i.xVal,y=i.xAxisTTVal,b=i.zVal,v=null;v=a[t].children,u.config.tooltip.fillSeriesColor&&(a[t].style.backgroundColor=c,v[0].style.display="none"),h.showTooltipTitle&&(h.tooltipTitle===null&&(h.tooltipTitle=u.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),h.tooltipTitle.innerHTML=x),h.isXAxisTooltipEnabled&&(h.xaxisTooltipText.innerHTML=y!==""?y:x);var N=a[t].querySelector(".apexcharts-tooltip-text-y-label");N&&(N.innerHTML=o||"");var k=a[t].querySelector(".apexcharts-tooltip-text-y-value");k&&(k.innerHTML=f!==void 0?f:""),v[0]&&v[0].classList.contains("apexcharts-tooltip-marker")&&(u.config.tooltip.marker.fillColors&&Array.isArray(u.config.tooltip.marker.fillColors)&&(c=u.config.tooltip.marker.fillColors[t]),u.config.tooltip.fillSeriesColor?v[0].style.backgroundColor=c:v[0].style.color=c),u.config.tooltip.marker.show||(v[0].style.display="none");var C=a[t].querySelector(".apexcharts-tooltip-text-goals-label"),R=a[t].querySelector(".apexcharts-tooltip-text-goals-value");if(g.length&&u.globals.seriesGoals[t]){var _=function(){var T="<div>",D="<div>";g.forEach(function(L,F){T+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(L.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(L.attrs.name,"</div>"),D+="<div>".concat(L.val,"</div>")}),C.innerHTML=T+"</div>",R.innerHTML=D+"</div>"};l?u.globals.seriesGoals[t][s]&&Array.isArray(u.globals.seriesGoals[t][s])?_():(C.innerHTML="",R.innerHTML=""):_()}else C.innerHTML="",R.innerHTML="";if(b!==null&&(a[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=u.config.tooltip.z.title,a[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=b!==void 0?b:""),l&&v[0]){if(u.config.tooltip.hideEmptySeries){var I=a[t].querySelector(".apexcharts-tooltip-marker"),P=a[t].querySelector(".apexcharts-tooltip-text");parseFloat(f)==0?(I.style.display="none",P.style.display="none"):(I.style.display="block",P.style.display="block")}f==null||u.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||u.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(h.tConfig.enabledOnSeries)&&h.tConfig.enabledOnSeries.indexOf(t)===-1?v[0].parentNode.style.display="none":v[0].parentNode.style.display=u.config.tooltip.items.display}else Array.isArray(h.tConfig.enabledOnSeries)&&h.tConfig.enabledOnSeries.indexOf(t)===-1&&(v[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var s=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var a=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));a&&(a.classList.add("apexcharts-active"),a.style.display=s.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,s=e.j,a=this.w,i=this.ctx.series.filteredSeriesX(),o="",l="",c=null,u=null,h={series:a.globals.series,seriesIndex:t,dataPointIndex:s,w:a},f=a.globals.ttZFormatter;s===null?u=a.globals.series[t]:a.globals.isXNumeric&&a.config.chart.type!=="treemap"?(o=i[t][s],i[t].length===0&&(o=i[this.tooltipUtil.getFirstActiveXArray(i)][s])):o=new aS(this.ctx).isFormatXY()?a.config.series[t].data[s]!==void 0?a.config.series[t].data[s].x:"":a.globals.labels[s]!==void 0?a.globals.labels[s]:"";var g=o;return a.globals.isXNumeric&&a.config.xaxis.type==="datetime"?o=new zg(this.ctx).xLabelFormat(a.globals.ttKeyFormatter,g,g,{i:void 0,dateFormatter:new ha(this.ctx).formatDate,w:this.w}):o=a.globals.isBarHorizontal?a.globals.yLabelFormatters[0](g,h):a.globals.xLabelFormatter(g,h),a.config.tooltip.x.formatter!==void 0&&(o=a.globals.ttKeyFormatter(g,h)),a.globals.seriesZ.length>0&&a.globals.seriesZ[t].length>0&&(c=f(a.globals.seriesZ[t][s],a)),l=typeof a.config.xaxis.tooltip.formatter=="function"?a.globals.xaxisTooltipFormatter(g,h):o,{val:Array.isArray(u)?u.join(" "):u,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(l)?l.join(" "):l,zVal:c}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,s=e.j,a=e.y1,i=e.y2,o=e.w,l=this.ttCtx.getElTooltip(),c=o.config.tooltip.custom;Array.isArray(c)&&c[t]&&(c=c[t]);var u=c({ctx:this.ctx,series:o.globals.series,seriesIndex:t,dataPointIndex:s,y1:a,y2:i,w:o});typeof u=="string"||typeof u=="number"?l.innerHTML=u:(u instanceof Element||typeof u.nodeName=="string")&&(l.innerHTML="",l.appendChild(u.cloneNode(!0)))}}]),r}(),sF=function(){function r(e){it(this,r),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return ot(r,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.ttCtx,a=this.w,i=s.getElXCrosshairs(),o=e-s.xcrosshairsWidth/2,l=a.globals.labels.slice().length;if(t!==null&&(o=a.globals.gridWidth/l*t),i===null||a.globals.isBarHorizontal||(i.setAttribute("x",o),i.setAttribute("x1",o),i.setAttribute("x2",o),i.setAttribute("y2",a.globals.gridHeight),i.classList.add("apexcharts-active")),o<0&&(o=0),o>a.globals.gridWidth&&(o=a.globals.gridWidth),s.isXAxisTooltipEnabled){var c=o;a.config.xaxis.crosshairs.width!=="tickWidth"&&a.config.xaxis.crosshairs.width!=="barWidth"||(c=o+s.xcrosshairsWidth/2),this.moveXAxisTooltip(c)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&Ue.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&Ue.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;if(s.xaxisTooltip!==null&&s.xcrosshairsWidth!==0){s.xaxisTooltip.classList.add("apexcharts-active");var a=s.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=s.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var i;i=new Ue(this.ctx).getTextRects(s.xaxisTooltipText.innerHTML),s.xaxisTooltipText.style.minWidth=i.width+"px",s.xaxisTooltip.style.left=e+"px",s.xaxisTooltip.style.top=a+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;s.yaxisTTEls===null&&(s.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var a=parseInt(s.ycrosshairsHidden.getAttribute("y1"),10),i=t.globals.translateY+a,o=s.yaxisTTEls[e].getBoundingClientRect(),l=o.height,c=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(c-=o.width),i-=l/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1&&i>0&&i<t.globals.gridHeight?(s.yaxisTTEls[e].classList.add("apexcharts-active"),s.yaxisTTEls[e].style.top=i+"px",s.yaxisTTEls[e].style.left=c+t.config.yaxis[e].tooltip.offsetX+"px"):s.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,i=this.ttCtx,o=i.getElTooltip(),l=i.tooltipRect,c=s!==null?parseFloat(s):1,u=parseFloat(e)+c+5,h=parseFloat(t)+c/2;if(u>a.globals.gridWidth/2&&(u=u-l.ttWidth-c-10),u>a.globals.gridWidth-l.ttWidth-10&&(u=a.globals.gridWidth-l.ttWidth),u<-20&&(u=-20),a.config.tooltip.followCursor){var f=i.getElGrid().getBoundingClientRect();(u=i.e.clientX-f.left)>a.globals.gridWidth/2&&(u-=i.tooltipRect.ttWidth),(h=i.e.clientY+a.globals.translateY-f.top)>a.globals.gridHeight/2&&(h-=i.tooltipRect.ttHeight)}else a.globals.isBarHorizontal||l.ttHeight/2+h>a.globals.gridHeight&&(h=a.globals.gridHeight-l.ttHeight+a.globals.translateY);isNaN(u)||(u+=a.globals.translateX,o.style.left=u+"px",o.style.top=h+"px")}},{key:"moveMarkers",value:function(e,t){var s=this.w,a=this.ttCtx;if(s.globals.markers.size[e]>0)for(var i=s.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),o=0;o<i.length;o++)parseInt(i[o].getAttribute("rel"),10)===t&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(t,i[o]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var s,a,i,o,l=this.w,c=this.ttCtx,u=new Ue(this.ctx),h=l.globals.pointsArray,f=c.tooltipUtil.getHoverMarkerSize(t),g=l.config.series[t].type;if(!g||g!=="column"&&g!=="candlestick"&&g!=="boxPlot"){i=(s=h[t][e])===null||s===void 0?void 0:s[0],o=((a=h[t][e])===null||a===void 0?void 0:a[1])||0;var x=l.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(x&&o<l.globals.gridHeight&&o>0){var y=x.getAttribute("shape"),b=u.getMarkerPath(i,o,y,1.5*f);x.setAttribute("d",b)}this.moveXCrosshairs(i),c.fixedTooltip||this.moveTooltip(i,o,f)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,s=this.ttCtx,a=s.w,i=0,o=0,l=a.globals.pointsArray,c=new zn(this.ctx),u=new Ue(this.ctx);t=c.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var h=s.tooltipUtil.getHoverMarkerSize(t);if(l[t]&&(i=l[t][e][0],o=l[t][e][1]),!isNaN(i)){var f=s.tooltipUtil.getAllMarkers();if(f.length)for(var g=0;g<a.globals.series.length;g++){var x=l[g];if(a.globals.comboCharts&&x===void 0&&f.splice(g,0,null),x&&x.length){var y=l[g][e][1],b=void 0;f[g].setAttribute("cx",i);var v=f[g].getAttribute("shape");if(a.config.chart.type==="rangeArea"&&!a.globals.comboCharts){var N=e+a.globals.series[g].length;b=l[g][N][1],y-=Math.abs(y-b)/2}if(y!==null&&!isNaN(y)&&y<a.globals.gridHeight+h&&y+h>0){var k=u.getMarkerPath(i,y,v,h);f[g].setAttribute("d",k)}else f[g].setAttribute("d","")}}this.moveXCrosshairs(i),s.fixedTooltip||this.moveTooltip(i,o||a.globals.gridHeight,h)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var s=this.w,a=this.ttCtx,i=s.globals.columnSeries?s.globals.columnSeries.length:s.globals.series.length;s.config.chart.stacked&&(i=s.globals.barGroups.length);var o=i>=2&&i%2==0?Math.floor(i/2):Math.floor(i/2)+1;s.globals.isBarHorizontal&&(o=new zn(this.ctx).getActiveConfigSeriesIndex("desc")+1);var l=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"']"));l||typeof t!="number"||(l=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var c=l?parseFloat(l.getAttribute("cx")):0,u=l?parseFloat(l.getAttribute("cy")):0,h=l?parseFloat(l.getAttribute("barWidth")):0,f=a.getElGrid().getBoundingClientRect(),g=l&&(l.classList.contains("apexcharts-candlestick-area")||l.classList.contains("apexcharts-boxPlot-area"));s.globals.isXNumeric?(l&&!g&&(c-=i%2!=0?h/2:0),l&&g&&(c-=h/2)):s.globals.isBarHorizontal||(c=a.xAxisTicksPositions[e-1]+a.dataPointsDividedWidth/2,isNaN(c)&&(c=a.xAxisTicksPositions[e]-a.dataPointsDividedWidth/2)),s.globals.isBarHorizontal?u-=a.tooltipRect.ttHeight:s.config.tooltip.followCursor?u=a.e.clientY-f.top-a.tooltipRect.ttHeight/2:u+a.tooltipRect.ttHeight+15>s.globals.gridHeight&&(u=s.globals.gridHeight),s.globals.isBarHorizontal||this.moveXCrosshairs(c),a.fixedTooltip||this.moveTooltip(c,u||s.globals.gridHeight)}}]),r}(),dde=function(){function r(e){it(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new sF(e)}return ot(r,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new Ue(this.ctx),s=new Sh(this.ctx),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");a=Yr(a),e.config.chart.stacked&&a.sort(function(f,g){return parseFloat(f.getAttribute("data:realIndex"))-parseFloat(g.getAttribute("data:realIndex"))});for(var i=0;i<a.length;i++){var o=a[i].querySelector(".apexcharts-series-markers-wrap");if(o!==null){var l=void 0,c="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(c+=" no-pointer-events");var u=s.getMarkerConfig({cssClass:c,seriesIndex:Number(o.getAttribute("data:realIndex"))});(l=t.drawMarker(0,0,u)).node.setAttribute("default-marker-size",0);var h=document.createElementNS(e.globals.SVGNS,"g");h.classList.add("apexcharts-series-markers"),h.appendChild(l.node),o.appendChild(h)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=this.w;i.config.chart.type!=="bubble"&&this.newPointSize(e,t);var o=t.getAttribute("cx"),l=t.getAttribute("cy");if(s!==null&&a!==null&&(o=s,l=a),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if(i.config.chart.type==="radar"){var c=this.ttCtx.getElGrid().getBoundingClientRect();o=this.ttCtx.e.clientX-c.left}this.tooltipPosition.moveTooltip(o,l,i.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,s=this,a=this.ttCtx,i=e,o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=t.config.markers.hover.size,c=0;c<o.length;c++){var u=o[c].getAttribute("rel"),h=o[c].getAttribute("index");if(l===void 0&&(l=t.globals.markers.size[h]+t.config.markers.hover.sizeOffset),i===parseInt(u,10)){s.newPointSize(i,o[c]);var f=o[c].getAttribute("cx"),g=o[c].getAttribute("cy");s.tooltipPosition.moveXCrosshairs(f),a.fixedTooltip||s.tooltipPosition.moveTooltip(f,g,l)}else s.oldPointSize(o[c])}}},{key:"newPointSize",value:function(e,t){var s=this.w,a=s.config.markers.hover.size,i=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(i.getAttribute("default-marker-size")!=="0"){var o=parseInt(i.getAttribute("index"),10);a===void 0&&(a=s.globals.markers.size[o]+s.config.markers.hover.sizeOffset),a<0&&(a=0);var l=this.ttCtx.tooltipUtil.getPathFromPoint(t,a);t.setAttribute("d",l)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),s=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",s)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var s=parseFloat(e[t].getAttribute("default-marker-size"));if(oe.isNumber(s)&&s>0){var a=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],s);e[t].setAttribute("d",a)}else e[t].setAttribute("d","M0,0")}}}]),r}(),ude=function(){function r(e){it(this,r),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return ot(r,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,s=e.opt,a=e.x,i=e.y,o=e.type,l=this.ttCtx,c=this.w;if(t.target.classList.contains("apexcharts-".concat(o,"-rect"))){var u=this.getAttr(t,"i"),h=this.getAttr(t,"j"),f=this.getAttr(t,"cx"),g=this.getAttr(t,"cy"),x=this.getAttr(t,"width"),y=this.getAttr(t,"height");if(l.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:u,j:h,shared:!1,e:t}),c.globals.capturedSeriesIndex=u,c.globals.capturedDataPointIndex=h,a=f+l.tooltipRect.ttWidth/2+x,i=g+l.tooltipRect.ttHeight/2-y/2,l.tooltipPosition.moveXCrosshairs(f+x/2),a>c.globals.gridWidth/2&&(a=f-l.tooltipRect.ttWidth/2+x),l.w.config.tooltip.followCursor){var b=c.globals.dom.elWrap.getBoundingClientRect();a=c.globals.clientX-b.left-(a>c.globals.gridWidth/2?l.tooltipRect.ttWidth:0),i=c.globals.clientY-b.top-(i>c.globals.gridHeight/2?l.tooltipRect.ttHeight:0)}}return{x:a,y:i}}},{key:"handleMarkerTooltip",value:function(e){var t,s,a=e.e,i=e.opt,o=e.x,l=e.y,c=this.w,u=this.ttCtx;if(a.target.classList.contains("apexcharts-marker")){var h=parseInt(i.paths.getAttribute("cx"),10),f=parseInt(i.paths.getAttribute("cy"),10),g=parseFloat(i.paths.getAttribute("val"));if(s=parseInt(i.paths.getAttribute("rel"),10),t=parseInt(i.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,u.intersect){var x=oe.findAncestor(i.paths,"apexcharts-series");x&&(t=parseInt(x.getAttribute("data:realIndex"),10))}if(u.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:t,j:s,shared:!u.showOnIntersect&&c.config.tooltip.shared,e:a}),a.type==="mouseup"&&u.markerClick(a,t,s),c.globals.capturedSeriesIndex=t,c.globals.capturedDataPointIndex=s,o=h,l=f+c.globals.translateY-1.4*u.tooltipRect.ttHeight,u.w.config.tooltip.followCursor){var y=u.getElGrid().getBoundingClientRect();l=u.e.clientY+c.globals.translateY-y.top}g<0&&(l=f),u.marker.enlargeCurrentPoint(s,i.paths,o,l)}return{x:o,y:l}}},{key:"handleBarTooltip",value:function(e){var t,s,a=e.e,i=e.opt,o=this.w,l=this.ttCtx,c=l.getElTooltip(),u=0,h=0,f=0,g=this.getBarTooltipXY({e:a,opt:i});if(g.j!==null||g.barHeight!==0||g.barWidth!==0){t=g.i;var x=g.j;if(o.globals.capturedSeriesIndex=t,o.globals.capturedDataPointIndex=x,o.globals.isBarHorizontal&&l.tooltipUtil.hasBars()||!o.config.tooltip.shared?(h=g.x,f=g.y,s=Array.isArray(o.config.stroke.width)?o.config.stroke.width[t]:o.config.stroke.width,u=h):o.globals.comboCharts||o.config.tooltip.shared||(u/=2),isNaN(f)&&(f=o.globals.svgHeight-l.tooltipRect.ttHeight),parseInt(i.paths.parentNode.getAttribute("data:realIndex"),10),h+l.tooltipRect.ttWidth>o.globals.gridWidth?h-=l.tooltipRect.ttWidth:h<0&&(h=0),l.w.config.tooltip.followCursor){var y=l.getElGrid().getBoundingClientRect();f=l.e.clientY-y.top}l.tooltip===null&&(l.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?l.tooltipPosition.moveXCrosshairs(u+s/2):l.tooltipPosition.moveXCrosshairs(u)),!l.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&l.tooltipUtil.hasBars())&&(f=f+o.globals.translateY-l.tooltipRect.ttHeight/2,c.style.left=h+o.globals.translateX+"px",c.style.top=f+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,s=e.e,a=e.opt,i=this.w,o=null,l=this.ttCtx,c=0,u=0,h=0,f=0,g=0,x=s.target.classList;if(x.contains("apexcharts-bar-area")||x.contains("apexcharts-candlestick-area")||x.contains("apexcharts-boxPlot-area")||x.contains("apexcharts-rangebar-area")){var y=s.target,b=y.getBoundingClientRect(),v=a.elGrid.getBoundingClientRect(),N=b.height;g=b.height;var k=b.width,C=parseInt(y.getAttribute("cx"),10),R=parseInt(y.getAttribute("cy"),10);f=parseFloat(y.getAttribute("barWidth"));var _=s.type==="touchmove"?s.touches[0].clientX:s.clientX;o=parseInt(y.getAttribute("j"),10),c=parseInt(y.parentNode.getAttribute("rel"),10)-1;var I=y.getAttribute("data-range-y1"),P=y.getAttribute("data-range-y2");i.globals.comboCharts&&(c=parseInt(y.parentNode.getAttribute("data:realIndex"),10));var T=function(L){return i.globals.isXNumeric?C-k/2:t.isVerticalGroupedRangeBar?C+k/2:C-l.dataPointsDividedWidth+k/2},D=function(){return R-l.dataPointsDividedHeight+N/2-l.tooltipRect.ttHeight/2};l.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:c,j:o,y1:I?parseInt(I,10):null,y2:P?parseInt(P,10):null,shared:!l.showOnIntersect&&i.config.tooltip.shared,e:s}),i.config.tooltip.followCursor?i.globals.isBarHorizontal?(u=_-v.left+15,h=D()):(u=T(),h=s.clientY-v.top-l.tooltipRect.ttHeight/2-15):i.globals.isBarHorizontal?((u=C)<l.xyRatios.baseLineInvertedY&&(u=C-l.tooltipRect.ttWidth),h=D()):(u=T(),h=R)}return{x:u,y:h,barHeight:g,barWidth:f,i:c,j:o}}}]),r}(),hde=function(){function r(e){it(this,r),this.w=e.w,this.ttCtx=e}return ot(r,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,s=e.config.xaxis.position==="bottom";t.xaxisOffY=s?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var a=s?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",i=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+e.config.tooltip.theme),i.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,s=0;s<e.config.yaxis.length;s++){var a=e.config.yaxis[s].opposite||e.config.yaxis[s].crosshairs.opposite;t.yaxisOffX=a?e.globals.gridWidth+1:1;var i="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s,a?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),o=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(t.yaxisTooltip),s===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[s]=document.createElement("div"),t.yaxisTooltipText[s].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[s]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,s=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var a=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(a!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var i=parseFloat(a.getAttribute("barWidth"));t.xcrosshairsWidth=i}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var l=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/l}else if(e.config.xaxis.crosshairs.width==="barWidth"){var c=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(c!==null){var u=parseFloat(c.getAttribute("barWidth"));t.xcrosshairsWidth=u}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),s!==null&&t.xcrosshairsWidth>0&&s.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,s){var a=this.ttCtx,i=this.w,o=i.globals,l=o.seriesYAxisMap[e];if(a.yaxisTooltips[e]&&l.length>0){var c=o.yLabelFormatters[e],u=a.getElGrid().getBoundingClientRect(),h=l[0],f=0;s.yRatio.length>1&&(f=h);var g=(t-u.top)*s.yRatio[f],x=o.maxYArr[h]-o.minYArr[h],y=o.minYArr[h]+(x-g);i.config.yaxis[e].reversed&&(y=o.maxYArr[h]-(x-g)),a.tooltipPosition.moveYCrosshairs(t-u.top),a.yaxisTooltipText[e].innerHTML=c(y),a.tooltipPosition.moveYAxisTooltip(e)}}}]),r}(),r4=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new tF(this),this.tooltipLabels=new cde(this),this.tooltipPosition=new sF(this),this.marker=new dde(this),this.intersect=new ude(this),this.axesTooltip=new hde(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return ot(r,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(o,l){return!!(o.show&&o.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var s=document.createElement("div");if(s.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&s.classList.add(t.config.tooltip.cssClass),s.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(s),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var a=new sg(this.ctx);this.xAxisTicksPositions=a.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,s.appendChild(this.tooltipTitle));var i=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(i=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(i),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,s=this.w,a=[],i=this.getElTooltip(),o=function(c){var u=document.createElement("div");u.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(c)),u.style.order=s.config.tooltip.inverseOrder?e-c:c+1;var h=document.createElement("span");h.classList.add("apexcharts-tooltip-marker"),s.config.tooltip.fillSeriesColor?h.style.backgroundColor=s.globals.colors[c]:h.style.color=s.globals.colors[c];var f=s.config.markers.shape,g=f;Array.isArray(f)&&(g=f[c]),h.setAttribute("shape",g),u.appendChild(h);var x=document.createElement("div");x.classList.add("apexcharts-tooltip-text"),x.style.fontFamily=t.tConfig.style.fontFamily||s.config.chart.fontFamily,x.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(y){var b=document.createElement("div");b.classList.add("apexcharts-tooltip-".concat(y,"-group"));var v=document.createElement("span");v.classList.add("apexcharts-tooltip-text-".concat(y,"-label")),b.appendChild(v);var N=document.createElement("span");N.classList.add("apexcharts-tooltip-text-".concat(y,"-value")),b.appendChild(N),x.appendChild(b)}),u.appendChild(x),i.appendChild(u),a.push(u)},l=0;l<e;l++)o(l);return a}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,s=this.getElTooltip(),a=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),i=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",o=e.globals.dom.Paper.node,l=this.getElGrid();l&&(this.seriesBound=l.getBoundingClientRect());var c,u=[],h=[],f={hoverArea:o,elGrid:l,tooltipEl:s,tooltipY:u,tooltipX:h,ttItems:this.ttItems};if(e.globals.axisCharts&&(i?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),c&&c.length))for(var g=0;g<c.length;g++)u.push(c[g].getAttribute("cy")),h.push(c[g].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],f);else if(a&&!e.globals.comboCharts||i&&this.showOnIntersect)this.addDatapointEventsListeners(f);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var x=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(x,f)}if(this.showOnIntersect){var y=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");y.length>0&&this.addPathsEventListeners(y,f),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(f)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),s=t.getBoundingClientRect(),a=s.width+10,i=s.height+10,o=this.tConfig.fixed.offsetX,l=this.tConfig.fixed.offsetY,c=this.tConfig.fixed.position.toLowerCase();return c.indexOf("right")>-1&&(o=o+e.globals.svgWidth-a+10),c.indexOf("bottom")>-1&&(l=l+e.globals.svgHeight-i-10),t.style.left=o+"px",t.style.top=l+"px",{x:o,y:l,ttWidth:a,ttHeight:i}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var s=this,a=function(o){var l={paths:e[o],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(c){return e[o].addEventListener(c,s.onSeriesHover.bind(s,l),{capture:!1,passive:!0})})},i=0;i<e.length;i++)a(i)}},{key:"onSeriesHover",value:function(e,t){var s=this,a=Date.now()-this.lastHoverTime;a>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){s.seriesHover(e,t)},20-a))}},{key:"seriesHover",value:function(e,t){var s=this;this.lastHoverTime=Date.now();var a=[],i=this.w;i.config.chart.group&&(a=this.ctx.getGroupedCharts()),i.globals.axisCharts&&(i.globals.minX===-1/0&&i.globals.maxX===1/0||i.globals.dataPoints===0)||(a.length?a.forEach(function(o){var l=s.getElTooltip(o),c={paths:e.paths,tooltipEl:l,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:o.w.globals.tooltip.ttItems};o.w.globals.minX===s.w.globals.minX&&o.w.globals.maxX===s.w.globals.maxX&&o.w.globals.tooltip.seriesHoverByContext({chartCtx:o,ttCtx:o.w.globals.tooltip,opt:c,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,s=e.ttCtx,a=e.opt,i=e.e,o=t.w,l=this.getElTooltip(t);l&&(s.tooltipRect={x:0,y:0,ttWidth:l.getBoundingClientRect().width,ttHeight:l.getBoundingClientRect().height},s.e=i,s.tooltipUtil.hasBars()&&!o.globals.comboCharts&&!s.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new zn(t).toggleSeriesOnHover(i,i.target.parentNode),o.globals.axisCharts?s.axisChartsTooltips({e:i,opt:a,tooltipRect:s.tooltipRect}):s.nonAxisChartsTooltips({e:i,opt:a,tooltipRect:s.tooltipRect}),s.fixedTooltip&&s.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,s,a=e.e,i=e.opt,o=this.w,l=i.elGrid.getBoundingClientRect(),c=a.type==="touchmove"?a.touches[0].clientX:a.clientX,u=a.type==="touchmove"?a.touches[0].clientY:a.clientY;if(this.clientY=u,this.clientX=c,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,u<l.top||u>l.top+l.height)this.handleMouseOut(i);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var h=parseInt(i.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(h)<0)return void this.handleMouseOut(i)}var f=this.getElTooltip(),g=this.getElXCrosshairs(),x=[];o.config.chart.group&&(x=this.ctx.getSyncedCharts());var y=o.globals.xyCharts||o.config.chart.type==="bar"&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if(a.type==="mousemove"||a.type==="touchmove"||a.type==="mouseup"){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;g!==null&&g.classList.add("apexcharts-active");var b=this.yaxisTooltips.filter(function(k){return k===!0});if(this.ycrosshairs!==null&&b.length&&this.ycrosshairs.classList.add("apexcharts-active"),y&&!this.showOnIntersect||x.length>1)this.handleStickyTooltip(a,c,u,i);else if(o.config.chart.type==="heatmap"||o.config.chart.type==="treemap"){var v=this.intersect.handleHeatTreeTooltip({e:a,opt:i,x:t,y:s,type:o.config.chart.type});t=v.x,s=v.y,f.style.left=t+"px",f.style.top=s+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:a,opt:i}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:a,opt:i,x:t,y:s});if(this.yaxisTooltips.length)for(var N=0;N<o.config.yaxis.length;N++)this.axesTooltip.drawYaxisTooltipText(N,u,this.xyRatios);o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),i.tooltipEl.classList.add("apexcharts-active")}else a.type!=="mouseout"&&a.type!=="touchend"||this.handleMouseOut(i)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,s=e.opt,a=e.tooltipRect,i=this.w,o=s.paths.getAttribute("rel"),l=this.getElTooltip(),c=i.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){i.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),l.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:parseInt(o,10)-1,shared:!1});var u=i.globals.clientX-c.left-a.ttWidth/2,h=i.globals.clientY-c.top-a.ttHeight-10;if(l.style.left=u+"px",l.style.top=h+"px",i.config.legend.tooltipHoverFormatter){var f=o-1,g=(0,i.config.legend.tooltipHoverFormatter)(this.legendLabels[f].getAttribute("data:default-text"),{seriesIndex:f,dataPointIndex:f,w:i});this.legendLabels[f].innerHTML=g}}else t.type!=="mouseout"&&t.type!=="touchend"||(l.classList.remove("apexcharts-active"),i.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),i.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(x){var y=x.getAttribute("data:default-text");x.innerHTML=decodeURIComponent(y)}))}},{key:"handleStickyTooltip",value:function(e,t,s,a){var i=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:t,clientY:s}),l=o.j,c=o.capturedSeries;i.globals.collapsedSeriesIndices.includes(c)&&(c=null);var u=a.elGrid.getBoundingClientRect();if(o.hoverX<0||o.hoverX>u.width)this.handleMouseOut(a);else if(c!==null)this.handleStickyCapturedSeries(e,c,a,l);else if(this.tooltipUtil.isXoverlap(l)||i.globals.isBarHorizontal){var h=i.globals.series.findIndex(function(f,g){return!i.globals.collapsedSeriesIndices.includes(g)});this.create(e,this,h,l,a.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,s,a){var i=this.w;if(!this.tConfig.shared&&i.globals.series[t][a]===null)return void this.handleMouseOut(s);if(i.globals.series[t][a]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,a,s.ttItems):this.create(e,this,t,a,s.ttItems,!1);else if(this.tooltipUtil.isXoverlap(a)){var o=i.globals.series.findIndex(function(l,c){return!i.globals.collapsedSeriesIndices.includes(c)});this.create(e,this,o,a,s.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new Ue(this.ctx),s=e.globals.dom.Paper.find(".apexcharts-bar-area"),a=0;a<s.length;a++)t.pathMouseLeave(s[a])}},{key:"handleMouseOut",value:function(e){var t=this.w,s=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),s!==null&&s.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(i){var o=i.getAttribute("data:default-text");i.innerHTML=decodeURIComponent(o)})}},{key:"markerClick",value:function(e,t,s){var a=this.w;typeof a.config.chart.events.markerClick=="function"&&a.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:a}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:a}])}},{key:"create",value:function(e,t,s,a,i){var o,l,c,u,h,f,g,x,y,b,v,N,k,C,R,_,I=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,P=this.w,T=t;e.type==="mouseup"&&this.markerClick(e,s,a),I===null&&(I=this.tConfig.shared);var D=this.tooltipUtil.hasMarkers(s),L=this.tooltipUtil.getElBars(),F=function(){P.globals.markers.largestSize>0?T.marker.enlargePoints(a):T.tooltipPosition.moveDynamicPointsOnHover(a)};if(P.config.legend.tooltipHoverFormatter){var z=P.config.legend.tooltipHoverFormatter,O=Array.from(this.legendLabels);O.forEach(function(ne){var ce=ne.getAttribute("data:default-text");ne.innerHTML=decodeURIComponent(ce)});for(var V=0;V<O.length;V++){var H=O[V],B=parseInt(H.getAttribute("i"),10),q=decodeURIComponent(H.getAttribute("data:default-text")),ee=z(q,{seriesIndex:I?B:s,dataPointIndex:a,w:P});if(I)H.innerHTML=P.globals.collapsedSeriesIndices.indexOf(B)<0?ee:q;else if(H.innerHTML=B===s?ee:q,s===B)break}}var G=qe(qe({ttItems:i,i:s,j:a},((o=P.globals.seriesRange)===null||o===void 0||(l=o[s])===null||l===void 0||(c=l[a])===null||c===void 0||(u=c.y[0])===null||u===void 0?void 0:u.y1)!==void 0&&{y1:(h=P.globals.seriesRange)===null||h===void 0||(f=h[s])===null||f===void 0||(g=f[a])===null||g===void 0||(x=g.y[0])===null||x===void 0?void 0:x.y1}),((y=P.globals.seriesRange)===null||y===void 0||(b=y[s])===null||b===void 0||(v=b[a])===null||v===void 0||(N=v.y[0])===null||N===void 0?void 0:N.y2)!==void 0&&{y2:(k=P.globals.seriesRange)===null||k===void 0||(C=k[s])===null||C===void 0||(R=C[a])===null||R===void 0||(_=R.y[0])===null||_===void 0?void 0:_.y2});if(I){if(T.tooltipLabels.drawSeriesTexts(qe(qe({},G),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),D)F();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(L),this.barSeriesHeight>0)){var $=new Ue(this.ctx),Q=P.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),T.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&F(),T.tooltipPosition.moveStickyTooltipOverBars(a,s);for(var te=0;te<Q.length;te++)$.pathMouseEnter(Q[te])}}else T.tooltipLabels.drawSeriesTexts(qe({shared:!1},G)),this.tooltipUtil.hasBars()&&T.tooltipPosition.moveStickyTooltipOverBars(a,s),D&&T.tooltipPosition.moveMarkers(s,a)}}]),r}(),mde=function(){function r(e){it(this,r),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return ot(r,[{key:"handleBarDataLabels",value:function(e){var t,s,a=e.x,i=e.y,o=e.y1,l=e.y2,c=e.i,u=e.j,h=e.realIndex,f=e.columnGroupIndex,g=e.series,x=e.barHeight,y=e.barWidth,b=e.barXPosition,v=e.barYPosition,N=e.visibleSeries,k=this.w,C=new Ue(this.barCtx.ctx),R=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[h]:this.barCtx.strokeWidth;k.globals.isXNumeric&&!k.globals.isBarHorizontal?(t=a+parseFloat(y*(N+1)),s=i+parseFloat(x*(N+1))-R):(t=a+parseFloat(y*N),s=i+parseFloat(x*N));var _,I=null,P=a,T=i,D={},L=k.config.dataLabels,F=this.barCtx.barOptions.dataLabels,z=this.barCtx.barOptions.dataLabels.total;v!==void 0&&this.barCtx.isRangeBar&&(s=v,T=v),b!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=b,P=b);var O=L.offsetX,V=L.offsetY,H={width:0,height:0};if(k.config.dataLabels.enabled){var B=k.globals.series[c][u];H=C.getTextRects(k.config.dataLabels.formatter?k.config.dataLabels.formatter(B,qe(qe({},k),{},{seriesIndex:c,dataPointIndex:u,w:k})):k.globals.yLabelFormatters[0](B),parseFloat(L.style.fontSize))}var q={x:a,y:i,i:c,j:u,realIndex:h,columnGroupIndex:f,bcx:t,bcy:s,barHeight:x,barWidth:y,textRects:H,strokeWidth:R,dataLabelsX:P,dataLabelsY:T,dataLabelsConfig:L,barDataLabelsConfig:F,barTotalDataLabelsConfig:z,offX:O,offY:V};return D=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(q):this.calculateColumnsDataLabelsPosition(q),_=this.drawCalculatedDataLabels({x:D.dataLabelsX,y:D.dataLabelsY,val:this.barCtx.isRangeBar?[o,l]:k.config.chart.stackType==="100%"?g[h][u]:k.globals.series[h][u],i:h,j:u,barWidth:y,barHeight:x,textRects:H,dataLabelsConfig:L}),k.config.chart.stacked&&z.enabled&&(I=this.drawTotalDataLabels({x:D.totalDataLabelsX,y:D.totalDataLabelsY,barWidth:y,barHeight:x,realIndex:h,textAnchor:D.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:h,j:u}),dataLabelsConfig:L,barTotalDataLabelsConfig:z})),{dataLabelsPos:D,dataLabels:_,totalDataLabels:I}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,s=e.j,a=this.w,i=this.barCtx.stackedSeriesTotals[s];return this.totalFormatter&&(i=this.totalFormatter(i,qe(qe({},a),{},{seriesIndex:t,dataPointIndex:s,w:a}))),i}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,s=this.w,a=e.i,i=e.j,o=e.realIndex;e.columnGroupIndex;var l,c,u=e.y,h=e.bcx,f=e.barWidth,g=e.barHeight,x=e.textRects,y=e.dataLabelsX,b=e.dataLabelsY,v=e.dataLabelsConfig,N=e.barDataLabelsConfig,k=e.barTotalDataLabelsConfig,C=e.strokeWidth,R=e.offX,_=e.offY,I=h;g=Math.abs(g);var P=s.config.plotOptions.bar.dataLabels.orientation==="vertical",T=this.barCtx.barHelpers.getZeroValueEncounters({i:a,j:i}).zeroEncounters;h-=C/2;var D=s.globals.gridWidth/s.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?y+=f/2:(y=s.globals.isXNumeric?h-f/2+R:h-D+f/2+R,!s.config.chart.stacked&&T>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(y-=f*T)),P&&(y=y+x.height/2-C/2-2);var L=s.globals.series[a][i]<0,F=u;switch(this.barCtx.isReversed&&(F=u+(L?g:-g)),N.position){case"center":b=P?L?F-g/2+_:F+g/2-_:L?F-g/2+x.height/2+_:F+g/2+x.height/2-_;break;case"bottom":b=P?L?F-g+_:F+g-_:L?F-g+x.height+C+_:F+g-x.height/2+C-_;break;case"top":b=P?L?F+_:F-_:L?F-x.height/2-_:F+x.height+_}var z=F;if(s.globals.seriesGroups.forEach(function(H){var B;(B=t.barCtx[H.join(",")])===null||B===void 0||B.prevY.forEach(function(q){z=L?Math.max(q[i],z):Math.min(q[i],z)})}),this.barCtx.lastActiveBarSerieIndex===o&&k.enabled){var O=new Ue(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:i}),v.fontSize);l=L?z-O.height/2-_-k.offsetY+18:z+O.height+_+k.offsetY-18;var V=D;c=I+(s.globals.isXNumeric?-f*s.globals.barGroups.length/2:s.globals.barGroups.length*f/2-(s.globals.barGroups.length-1)*f-V)+k.offsetX}return s.config.chart.stacked||(b<0?b=0+C:b+x.height/3>s.globals.gridHeight&&(b=s.globals.gridHeight-C)),{bcx:h,bcy:u,dataLabelsX:y,dataLabelsY:b,totalDataLabelsX:c,totalDataLabelsY:l,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,s=this.w,a=e.x,i=e.i,o=e.j,l=e.realIndex,c=e.bcy,u=e.barHeight,h=e.barWidth,f=e.textRects,g=e.dataLabelsX,x=e.strokeWidth,y=e.dataLabelsConfig,b=e.barDataLabelsConfig,v=e.barTotalDataLabelsConfig,N=e.offX,k=e.offY,C=s.globals.gridHeight/s.globals.dataPoints,R=this.barCtx.barHelpers.getZeroValueEncounters({i,j:o}).zeroEncounters;h=Math.abs(h);var _,I,P=c-(this.barCtx.isRangeBar?0:C)+u/2+f.height/2+k-3;!s.config.chart.stacked&&R>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(P-=u*R);var T="start",D=s.globals.series[i][o]<0,L=a;switch(this.barCtx.isReversed&&(L=a+(D?-h:h),T=D?"start":"end"),b.position){case"center":g=D?L+h/2-N:Math.max(f.width/2,L-h/2)+N;break;case"bottom":g=D?L+h-x-N:L-h+x+N;break;case"top":g=D?L-x-N:L-x+N}var F=L;if(s.globals.seriesGroups.forEach(function(O){var V;(V=t.barCtx[O.join(",")])===null||V===void 0||V.prevX.forEach(function(H){F=D?Math.min(H[o],F):Math.max(H[o],F)})}),this.barCtx.lastActiveBarSerieIndex===l&&v.enabled){var z=new Ue(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:l,j:o}),y.fontSize);D?(_=F-x-N-v.offsetX,T="end"):_=F+N+v.offsetX+(this.barCtx.isReversed?-(h+x):x),I=P-f.height/2+z.height/2+v.offsetY+x,s.globals.barGroups.length>1&&(I-=s.globals.barGroups.length/2*(u/2))}return s.config.chart.stacked||(y.textAnchor==="start"?g-f.width<0?g=D?f.width+x:x:g+f.width>s.globals.gridWidth&&(g=D?s.globals.gridWidth-x:s.globals.gridWidth-f.width-x):y.textAnchor==="middle"?g-f.width/2<0?g=f.width/2+x:g+f.width/2>s.globals.gridWidth&&(g=s.globals.gridWidth-f.width/2-x):y.textAnchor==="end"&&(g<1?g=f.width+x:g+1>s.globals.gridWidth&&(g=s.globals.gridWidth-f.width-x))),{bcx:a,bcy:c,dataLabelsX:g,dataLabelsY:P,totalDataLabelsX:_,totalDataLabelsY:I,totalDataLabelsAnchor:T}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,s=e.y,a=e.val,i=e.i,o=e.j,l=e.textRects,c=e.barHeight,u=e.barWidth,h=e.dataLabelsConfig,f=this.w,g="rotate(0)";f.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(g="rotate(-90, ".concat(t,", ").concat(s,")"));var x=new sh(this.barCtx.ctx),y=new Ue(this.barCtx.ctx),b=h.formatter,v=null,N=f.globals.collapsedSeriesIndices.indexOf(i)>-1;if(h.enabled&&!N){v=y.group({class:"apexcharts-data-labels",transform:g});var k="";a!==void 0&&(k=b(a,qe(qe({},f),{},{seriesIndex:i,dataPointIndex:o,w:f}))),!a&&f.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(k="");var C=f.globals.series[i][o]<0,R=f.config.plotOptions.bar.dataLabels.position;f.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(R==="top"&&(h.textAnchor=C?"end":"start"),R==="center"&&(h.textAnchor="middle"),R==="bottom"&&(h.textAnchor=C?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&u<y.getTextRects(k,parseFloat(h.style.fontSize)).width&&(k=""),f.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?l.width/1.6>Math.abs(u)&&(k=""):l.height/1.6>Math.abs(c)&&(k=""));var _=qe({},h);this.barCtx.isHorizontal&&a<0&&(h.textAnchor==="start"?_.textAnchor="end":h.textAnchor==="end"&&(_.textAnchor="start")),x.plotDataLabelsText({x:t,y:s,text:k,i,j:o,parent:v,dataLabelsConfig:_,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return v}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,s=e.y,a=e.val,i=e.realIndex,o=e.textAnchor,l=e.barTotalDataLabelsConfig;this.w;var c,u=new Ue(this.barCtx.ctx);return l.enabled&&t!==void 0&&s!==void 0&&this.barCtx.lastActiveBarSerieIndex===i&&(c=u.drawText({x:t,y:s,foreColor:l.style.color,text:a,textAnchor:o,fontFamily:l.style.fontFamily,fontSize:l.style.fontSize,fontWeight:l.style.fontWeight})),c}}]),r}(),fde=function(){function r(e){it(this,r),this.w=e.w,this.barCtx=e}return ot(r,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var s=0;s<e.length;s++)if(e[s].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[s].length),t.globals.isXNumeric)for(var a=0;a<e[s].length;a++)t.globals.seriesX[s][a]>t.globals.minX&&t.globals.seriesX[s][a]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),oe.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map(function(i){return i.map(function(o){return"none"})})),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,s,a,i,o,l,c,u,h=this.w,f=h.globals.dataPoints;this.barCtx.isRangeBar&&(f=h.globals.labels.length);var g=this.barCtx.seriesLen;if(h.config.plotOptions.bar.rangeBarGroupRows&&(g=1),this.barCtx.isHorizontal)o=(a=h.globals.gridHeight/f)/g,h.globals.isXNumeric&&(o=(a=h.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),o=o*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.barHeight,10)),u=this.barCtx.baseLineInvertedY+h.globals.padHorizontal+(this.barCtx.isReversed?h.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(u=h.globals.gridWidth/2),s=(a-o*this.barCtx.seriesLen)/2;else{if(i=h.globals.gridWidth/this.barCtx.visibleItems,h.config.xaxis.convertedCatToNumeric&&(i=h.globals.gridWidth/h.globals.dataPoints),l=i/g*parseInt(this.barCtx.barOptions.columnWidth,10)/100,h.globals.isXNumeric){var x=this.barCtx.xRatio;h.globals.minXDiff&&h.globals.minXDiff!==.5&&h.globals.minXDiff/x>0&&(i=h.globals.minXDiff/x),(l=i/g*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(l=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(l=parseInt(this.barCtx.barOptions.columnWidth,10)),c=h.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?h.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),h.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:l}).x:t=h.globals.padHorizontal+oe.noExponents(i-l*this.barCtx.seriesLen)/2}return h.globals.barHeight=o,h.globals.barWidth=l,{x:t,y:s,yDivision:a,xDivision:i,barHeight:o,barWidth:l,zeroH:c,zeroW:u}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,s,a){var i,o,l,c,u=this.w,h=this.barCtx.ctx.fill,f=null,g=this.barCtx.barOptions.distributed?s:t,x=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(y){e[t][s]>=y.from&&e[t][s]<=y.to&&(f=y.color,x=!0)}),{color:h.fillPath({seriesNumber:this.barCtx.barOptions.distributed?g:a,dataPointIndex:s,color:f,value:e[t][s],fillConfig:(i=u.config.series[t].data[s])===null||i===void 0?void 0:i.fill,fillType:(o=u.config.series[t].data[s])!==null&&o!==void 0&&(l=o.fill)!==null&&l!==void 0&&l.type?(c=u.config.series[t].data[s])===null||c===void 0?void 0:c.fill.type:Array.isArray(u.config.fill.type)?u.config.fill.type[a]:u.config.fill.type}),useRangeColor:x}}},{key:"getStrokeWidth",value:function(e,t,s){var a=0,i=this.w;return this.barCtx.series[e][t]===void 0||this.barCtx.series[e][t]===null||i.config.chart.type==="bar"&&!this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,i.config.stroke.show&&(this.barCtx.isNullValue||(a=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth)),a}},{key:"createBorderRadiusArr",value:function(e){var t,s=this.w,a=!this.w.config.chart.stacked||s.config.plotOptions.bar.borderRadius<=0,i=e.length,o=0|((t=e[0])===null||t===void 0?void 0:t.length),l=Array.from({length:i},function(){return Array(o).fill(a?"top":"none")});if(a)return l;for(var c=0;c<o;c++){for(var u=[],h=[],f=0,g=0;g<i;g++){var x=e[g][c];x>0?(u.push(g),f++):x<0&&(h.push(g),f++)}if(u.length>0&&h.length===0)if(u.length===1)l[u[0]][c]="both";else{var y,b=u[0],v=u[u.length-1],N=Qm(u);try{for(N.s();!(y=N.n()).done;){var k=y.value;l[k][c]=k===b?"bottom":k===v?"top":"none"}}catch(B){N.e(B)}finally{N.f()}}else if(h.length>0&&u.length===0)if(h.length===1)l[h[0]][c]="both";else{var C,R=Math.max.apply(Math,h),_=Math.min.apply(Math,h),I=Qm(h);try{for(I.s();!(C=I.n()).done;){var P=C.value;l[P][c]=P===R?"bottom":P===_?"top":"none"}}catch(B){I.e(B)}finally{I.f()}}else if(u.length>0&&h.length>0){var T,D=u[u.length-1],L=Qm(u);try{for(L.s();!(T=L.n()).done;){var F=T.value;l[F][c]=F===D?"top":"none"}}catch(B){L.e(B)}finally{L.f()}var z,O=Math.max.apply(Math,h),V=Qm(h);try{for(V.s();!(z=V.n()).done;){var H=z.value;l[H][c]=H===O?"bottom":"none"}}catch(B){V.e(B)}finally{V.f()}}else f===1&&(l[u[0]||h[0]][c]="both")}return l}},{key:"barBackground",value:function(e){var t=e.j,s=e.i,a=e.x1,i=e.x2,o=e.y1,l=e.y2,c=e.elSeries,u=this.w,h=new Ue(this.barCtx.ctx),f=new zn(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&f===s){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var g=this.barCtx.barOptions.colors.backgroundBarColors[t],x=h.drawRect(a!==void 0?a:0,o!==void 0?o:0,i!==void 0?i:u.globals.gridWidth,l!==void 0?l:u.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,g,this.barCtx.barOptions.colors.backgroundBarOpacity);c.add(x),x.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,s=e.barWidth,a=e.barXPosition,i=e.y1,o=e.y2,l=e.strokeWidth,c=e.isReversed,u=e.series,h=e.seriesGroup,f=e.realIndex,g=e.i,x=e.j,y=e.w,b=new Ue(this.barCtx.ctx);(l=Array.isArray(l)?l[f]:l)||(l=0);var v=s,N=a;(t=y.config.series[f].data[x])!==null&&t!==void 0&&t.columnWidthOffset&&(N=a-y.config.series[f].data[x].columnWidthOffset/2,v=s+y.config.series[f].data[x].columnWidthOffset);var k=l/2,C=N+k,R=N+v-k,_=(u[g][x]>=0?1:-1)*(c?-1:1);i+=.001-k*_,o+=.001+k*_;var I=b.move(C,i),P=b.move(C,i),T=b.line(R,i);if(y.globals.previousPaths.length>0&&(P=this.barCtx.getPreviousPath(f,x,!1)),I=I+b.line(C,o)+b.line(R,o)+T+(y.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][x]==="both"?" Z":" z"),P=P+b.line(C,i)+T+T+T+T+T+b.line(C,i)+(y.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][x]==="both"?" Z":" z"),this.arrBorderRadius[f][x]!=="none"&&(I=b.roundPathCorners(I,y.config.plotOptions.bar.borderRadius)),y.config.chart.stacked){var D=this.barCtx;(D=this.barCtx[h]).yArrj.push(o-k*_),D.yArrjF.push(Math.abs(i-o+l*_)),D.yArrjVal.push(this.barCtx.series[g][x])}return{pathTo:I,pathFrom:P}}},{key:"getBarpaths",value:function(e){var t,s=e.barYPosition,a=e.barHeight,i=e.x1,o=e.x2,l=e.strokeWidth,c=e.isReversed,u=e.series,h=e.seriesGroup,f=e.realIndex,g=e.i,x=e.j,y=e.w,b=new Ue(this.barCtx.ctx);(l=Array.isArray(l)?l[f]:l)||(l=0);var v=s,N=a;(t=y.config.series[f].data[x])!==null&&t!==void 0&&t.barHeightOffset&&(v=s-y.config.series[f].data[x].barHeightOffset/2,N=a+y.config.series[f].data[x].barHeightOffset);var k=l/2,C=v+k,R=v+N-k,_=(u[g][x]>=0?1:-1)*(c?-1:1);i+=.001+k*_,o+=.001-k*_;var I=b.move(i,C),P=b.move(i,C);y.globals.previousPaths.length>0&&(P=this.barCtx.getPreviousPath(f,x,!1));var T=b.line(i,R);if(I=I+b.line(o,C)+b.line(o,R)+T+(y.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][x]==="both"?" Z":" z"),P=P+b.line(i,C)+T+T+T+T+T+b.line(i,C)+(y.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][x]==="both"?" Z":" z"),this.arrBorderRadius[f][x]!=="none"&&(I=b.roundPathCorners(I,y.config.plotOptions.bar.borderRadius)),y.config.chart.stacked){var D=this.barCtx;(D=this.barCtx[h]).xArrj.push(o+k*_),D.xArrjF.push(Math.abs(i-o-l*_)),D.xArrjVal.push(this.barCtx.series[g][x])}return{pathTo:I,pathFrom:P}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,s=this.w,a=0;a<t.length;a++){for(var i=0,o=0;o<t[s.globals.maxValsInArrayIndex].length;o++)i+=t[a][o];i===0&&this.barCtx.zeroSerieses.push(a)}}},{key:"getXForValue",value:function(e,t){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(s=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(e,t,s){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(a=t-e/this.barCtx.yRatio[s]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[s]:0)),a}},{key:"getGoalValues",value:function(e,t,s,a,i,o){var l=this,c=this.w,u=[],h=function(x,y){var b;u.push((ab(b={},e,e==="x"?l.getXForValue(x,t,!1):l.getYForValue(x,s,o,!1)),ab(b,"attrs",y),b))};if(c.globals.seriesGoals[a]&&c.globals.seriesGoals[a][i]&&Array.isArray(c.globals.seriesGoals[a][i])&&c.globals.seriesGoals[a][i].forEach(function(x){h(x.value,x)}),this.barCtx.barOptions.isDumbbell&&c.globals.seriesRange.length){var f=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:c.globals.colors,g={strokeHeight:e==="x"?0:c.globals.markers.size[a],strokeWidth:e==="x"?c.globals.markers.size[a]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(f[a])?f[a][0]:f[a]};h(c.globals.seriesRangeStart[a][i],g),h(c.globals.seriesRangeEnd[a][i],qe(qe({},g),{},{strokeColor:Array.isArray(f[a])?f[a][1]:f[a]}))}return u}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,s=e.barYPosition,a=e.goalX,i=e.goalY,o=e.barWidth,l=e.barHeight,c=new Ue(this.barCtx.ctx),u=c.group({className:"apexcharts-bar-goals-groups"});u.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:u.node}),u.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var h=null;return this.barCtx.isHorizontal?Array.isArray(a)&&a.forEach(function(f){if(f.x>=-1&&f.x<=c.w.globals.gridWidth+1){var g=f.attrs.strokeHeight!==void 0?f.attrs.strokeHeight:l/2,x=s+g+l/2;h=c.drawLine(f.x,x-2*g,f.x,x,f.attrs.strokeColor?f.attrs.strokeColor:void 0,f.attrs.strokeDashArray,f.attrs.strokeWidth?f.attrs.strokeWidth:2,f.attrs.strokeLineCap),u.add(h)}}):Array.isArray(i)&&i.forEach(function(f){if(f.y>=-1&&f.y<=c.w.globals.gridHeight+1){var g=f.attrs.strokeWidth!==void 0?f.attrs.strokeWidth:o/2,x=t+g+o/2;h=c.drawLine(x-2*g,f.y,x,f.y,f.attrs.strokeColor?f.attrs.strokeColor:void 0,f.attrs.strokeDashArray,f.attrs.strokeHeight?f.attrs.strokeHeight:2,f.attrs.strokeLineCap),u.add(h)}}),u}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,s=e.currPaths,a=e.color,i=this.w,o=t.x,l=t.x1,c=t.barYPosition,u=s.x,h=s.x1,f=s.barYPosition,g=c+s.barHeight,x=new Ue(this.barCtx.ctx),y=new oe,b=x.move(l,g)+x.line(o,g)+x.line(u,f)+x.line(h,f)+x.line(l,g)+(i.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return x.drawPath({d:b,fill:y.shadeColor(.5,oe.rgb2hex(a)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,s=e.i,a=e.j,i=this.w,o=0,l=0;return(i.config.plotOptions.bar.horizontal?i.globals.series.map(function(c,u){return u}):((t=i.globals.columnSeries)===null||t===void 0?void 0:t.i.map(function(c){return c}))||[]).forEach(function(c){var u=i.globals.seriesPercent[c][a];u&&o++,c<s&&u===0&&l++}),{nonZeroColumns:o,zeroEncounters:l}}},{key:"getGroupIndex",value:function(e){var t=this.w,s=t.globals.seriesGroups.findIndex(function(o){return o.indexOf(t.globals.seriesNames[e])>-1}),a=this.barCtx.columnGroupIndices,i=a.indexOf(s);return i<0&&(a.push(s),i=a.length-1),{groupIndex:s,columnGroupIndex:i}}}]),r}(),rh=function(){function r(e,t){it(this,r),this.ctx=e,this.w=e.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&s.globals.seriesRange.length&&s.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var a=new zn(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var i=a.getBarSeriesIndices(),o=new wr(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map(function(l,c){return i.indexOf(c)===-1?c:-1}).filter(function(l){return l!==-1})),this.barHelpers=new fde(this)}return ot(r,[{key:"draw",value:function(e,t){var s=this.w,a=new Ue(this.ctx),i=new wr(this.ctx,s);e=i.getLogSeries(e),this.series=e,this.yRatio=i.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var o=a.group({class:"apexcharts-bar-series apexcharts-plot-series"});s.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var l=0,c=0;l<e.length;l++,c++){var u,h,f,g,x=void 0,y=void 0,b=[],v=[],N=s.globals.comboCharts?t[l]:l,k=this.barHelpers.getGroupIndex(N).columnGroupIndex,C=a.group({class:"apexcharts-series",rel:l+1,seriesName:oe.escapeString(s.globals.seriesNames[N]),"data:realIndex":N});this.ctx.series.addCollapsedClassToSeries(C,N),e[l].length>0&&(this.visibleI=this.visibleI+1);var R=0,_=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[N],this.translationsIndex=N);var I=this.translationsIndex;this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed;var P=this.barHelpers.initialPositions(N);y=P.y,R=P.barHeight,h=P.yDivision,g=P.zeroW,x=P.x,_=P.barWidth,u=P.xDivision,f=P.zeroH,this.isHorizontal||v.push(x+_/2);var T=a.group({class:"apexcharts-datalabels","data:realIndex":N});s.globals.delayedElements.push({el:T.node}),T.node.classList.add("apexcharts-element-hidden");var D=a.group({class:"apexcharts-bar-goals-markers"}),L=a.group({class:"apexcharts-bar-shadows"});s.globals.delayedElements.push({el:L.node}),L.node.classList.add("apexcharts-element-hidden");for(var F=0;F<e[l].length;F++){var z=this.barHelpers.getStrokeWidth(l,F,N),O=null,V={indexes:{i:l,j:F,realIndex:N,translationsIndex:I,bc:c},x,y,strokeWidth:z,elSeries:C};this.isHorizontal?(O=this.drawBarPaths(qe(qe({},V),{},{barHeight:R,zeroW:g,yDivision:h})),_=this.series[l][F]/this.invertedYRatio):(O=this.drawColumnPaths(qe(qe({},V),{},{xDivision:u,barWidth:_,zeroH:f})),R=this.series[l][F]/this.yRatio[I]);var H=this.barHelpers.getPathFillColor(e,l,F,N);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&F>0){var B,q=this.barHelpers.drawBarShadow({color:typeof H.color=="string"&&((B=H.color)===null||B===void 0?void 0:B.indexOf("url"))===-1?H.color:oe.hexToRgba(s.globals.colors[l]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:O});L.add(q),s.config.chart.dropShadow.enabled&&new ga(this.ctx).dropShadow(q,s.config.chart.dropShadow,N)}this.pathArr.push(O);var ee=this.barHelpers.drawGoalLine({barXPosition:O.barXPosition,barYPosition:O.barYPosition,goalX:O.goalX,goalY:O.goalY,barHeight:R,barWidth:_});ee&&D.add(ee),y=O.y,x=O.x,F>0&&v.push(x+_/2),b.push(y),this.renderSeries(qe(qe({realIndex:N,pathFill:H.color},H.useRangeColor?{lineFill:H.color}:{}),{},{j:F,i:l,columnGroupIndex:k,pathFrom:O.pathFrom,pathTo:O.pathTo,strokeWidth:z,elSeries:C,x,y,series:e,barHeight:Math.abs(O.barHeight?O.barHeight:R),barWidth:Math.abs(O.barWidth?O.barWidth:_),elDataLabelsWrap:T,elGoalsMarkers:D,elBarShadows:L,visibleSeries:this.visibleI,type:"bar"}))}s.globals.seriesXvalues[N]=v,s.globals.seriesYvalues[N]=b,o.add(C)}return o}},{key:"renderSeries",value:function(e){var t=e.realIndex,s=e.pathFill,a=e.lineFill,i=e.j,o=e.i,l=e.columnGroupIndex,c=e.pathFrom,u=e.pathTo,h=e.strokeWidth,f=e.elSeries,g=e.x,x=e.y,y=e.y1,b=e.y2,v=e.series,N=e.barHeight,k=e.barWidth,C=e.barXPosition,R=e.barYPosition,_=e.elDataLabelsWrap,I=e.elGoalsMarkers,P=e.elBarShadows,T=e.visibleSeries,D=e.type,L=e.classes,F=this.w,z=new Ue(this.ctx),O=!1;if(!a){var V=typeof F.globals.stroke.colors[t]=="function"?function(G){var $,Q=F.config.stroke.colors;return Array.isArray(Q)&&Q.length>0&&(($=Q[G])||($=""),typeof $=="function")?$({value:F.globals.series[G][i],dataPointIndex:i,w:F}):$}(t):F.globals.stroke.colors[t];a=this.barOptions.distributed?F.globals.stroke.colors[i]:V}var H=new mde(this).handleBarDataLabels({x:g,y:x,y1:y,y2:b,i:o,j:i,series:v,realIndex:t,columnGroupIndex:l,barHeight:N,barWidth:k,barXPosition:C,barYPosition:R,visibleSeries:T});F.globals.isBarHorizontal||(H.dataLabelsPos.dataLabelsX+Math.max(k,F.globals.barPadForNumericAxis)<0||H.dataLabelsPos.dataLabelsX-Math.max(k,F.globals.barPadForNumericAxis)>F.globals.gridWidth)&&(O=!0),F.config.series[o].data[i]&&F.config.series[o].data[i].strokeColor&&(a=F.config.series[o].data[i].strokeColor),this.isNullValue&&(s="none");var B=i/F.config.chart.animations.animateGradually.delay*(F.config.chart.animations.speed/F.globals.dataPoints)/2.4;if(!O){var q=z.renderPaths({i:o,j:i,realIndex:t,pathFrom:c,pathTo:u,stroke:a,strokeWidth:h,strokeLineCap:F.config.stroke.lineCap,fill:s,animationDelay:B,initialSpeed:F.config.chart.animations.speed,dataChangeSpeed:F.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(D,"-area ").concat(L),chartType:D});q.attr("clip-path","url(#gridRectBarMask".concat(F.globals.cuid,")"));var ee=F.config.forecastDataPoints;ee.count>0&&i>=F.globals.dataPoints-ee.count&&(q.node.setAttribute("stroke-dasharray",ee.dashArray),q.node.setAttribute("stroke-width",ee.strokeWidth),q.node.setAttribute("fill-opacity",ee.fillOpacity)),y!==void 0&&b!==void 0&&(q.attr("data-range-y1",y),q.attr("data-range-y2",b)),new ga(this.ctx).setSelectionFilter(q,t,i),f.add(q),q.attr({cy:H.dataLabelsPos.bcy,cx:H.dataLabelsPos.bcx,j:i,val:F.globals.series[o][i],barHeight:N,barWidth:k}),H.dataLabels!==null&&_.add(H.dataLabels),H.totalDataLabels&&_.add(H.totalDataLabels),f.add(_),I&&f.add(I),P&&f.add(P)}return f}},{key:"drawBarPaths",value:function(e){var t,s=e.indexes,a=e.barHeight,i=e.strokeWidth,o=e.zeroW,l=e.x,c=e.y,u=e.yDivision,h=e.elSeries,f=this.w,g=s.i,x=s.j;if(f.globals.isXNumeric)t=(c=(f.globals.seriesX[g][x]-f.globals.minX)/this.invertedXRatio-a)+a*this.visibleI;else if(f.config.plotOptions.bar.hideZeroBarsWhenGrouped){var y=this.barHelpers.getZeroValueEncounters({i:g,j:x}),b=y.nonZeroColumns,v=y.zeroEncounters;b>0&&(a=this.seriesLen*a/b),t=c+a*this.visibleI,t-=a*v}else t=c+a*this.visibleI;this.isFunnel&&(o-=(this.barHelpers.getXForValue(this.series[g][x],o)-o)/2),l=this.barHelpers.getXForValue(this.series[g][x],o);var N=this.barHelpers.getBarpaths({barYPosition:t,barHeight:a,x1:o,x2:l,strokeWidth:i,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,i:g,j:x,w:f});return f.globals.isXNumeric||(c+=u),this.barHelpers.barBackground({j:x,i:g,y1:t-a*this.visibleI,y2:a*this.seriesLen,elSeries:h}),{pathTo:N.pathTo,pathFrom:N.pathFrom,x1:o,x:l,y:c,goalX:this.barHelpers.getGoalValues("x",o,null,g,x),barYPosition:t,barHeight:a}}},{key:"drawColumnPaths",value:function(e){var t,s=e.indexes,a=e.x,i=e.y,o=e.xDivision,l=e.barWidth,c=e.zeroH,u=e.strokeWidth,h=e.elSeries,f=this.w,g=s.realIndex,x=s.translationsIndex,y=s.i,b=s.j,v=s.bc;if(f.globals.isXNumeric){var N=this.getBarXForNumericXAxis({x:a,j:b,realIndex:g,barWidth:l});a=N.x,t=N.barXPosition}else if(f.config.plotOptions.bar.hideZeroBarsWhenGrouped){var k=this.barHelpers.getZeroValueEncounters({i:y,j:b}),C=k.nonZeroColumns,R=k.zeroEncounters;C>0&&(l=this.seriesLen*l/C),t=a+l*this.visibleI,t-=l*R}else t=a+l*this.visibleI;i=this.barHelpers.getYForValue(this.series[y][b],c,x);var _=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:l,y1:c,y2:i,strokeWidth:u,isReversed:this.isReversed,series:this.series,realIndex:g,i:y,j:b,w:f});return f.globals.isXNumeric||(a+=o),this.barHelpers.barBackground({bc:v,j:b,i:y,x1:t-u/2-l*this.visibleI,x2:l*this.seriesLen+u/2,elSeries:h}),{pathTo:_.pathTo,pathFrom:_.pathFrom,x:a,y:i,goalY:this.barHelpers.getGoalValues("y",null,c,y,b,x),barXPosition:t,barWidth:l}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,s=e.barWidth,a=e.realIndex,i=e.j,o=this.w,l=a;return o.globals.seriesX[a].length||(l=o.globals.maxValsInArrayIndex),oe.isNumber(o.globals.seriesX[l][i])&&(t=(o.globals.seriesX[l][i]-o.globals.minX)/this.xRatio-s*this.seriesLen/2),{barXPosition:t+s*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var s=this.w,a="M 0 0",i=0;i<s.globals.previousPaths.length;i++){var o=s.globals.previousPaths[i];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&s.globals.previousPaths[i].paths[t]!==void 0&&(a=s.globals.previousPaths[i].paths[t].d)}return a}}]),r}(),a4=function(r){Og(t,rh);var e=Mg(t);function t(){return it(this,t),e.apply(this,arguments)}return ot(t,[{key:"draw",value:function(s,a){var i=this,o=this.w;this.graphics=new Ue(this.ctx),this.bar=new rh(this.ctx,this.xyRatios);var l=new wr(this.ctx,o);s=l.getLogSeries(s),this.yRatio=l.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s),o.config.chart.stackType==="100%"&&(s=o.globals.comboCharts?a.map(function(y){return o.globals.seriesPercent[y]}):o.globals.seriesPercent.slice()),this.series=s,this.barHelpers.initializeStackedPrevVars(this);for(var c=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),u=0,h=0,f=function(y,b){var v=void 0,N=void 0,k=void 0,C=void 0,R=o.globals.comboCharts?a[y]:y,_=i.barHelpers.getGroupIndex(R),I=_.groupIndex,P=_.columnGroupIndex;i.groupCtx=i[o.globals.seriesGroups[I]];var T=[],D=[],L=0;i.yRatio.length>1&&(i.yaxisIndex=o.globals.seriesYAxisReverseMap[R][0],L=R),i.isReversed=o.config.yaxis[i.yaxisIndex]&&o.config.yaxis[i.yaxisIndex].reversed;var F=i.graphics.group({class:"apexcharts-series",seriesName:oe.escapeString(o.globals.seriesNames[R]),rel:y+1,"data:realIndex":R});i.ctx.series.addCollapsedClassToSeries(F,R);var z=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":R}),O=i.graphics.group({class:"apexcharts-bar-goals-markers"}),V=0,H=0,B=i.initialPositions(u,h,v,N,k,C,L);h=B.y,V=B.barHeight,N=B.yDivision,C=B.zeroW,u=B.x,H=B.barWidth,v=B.xDivision,k=B.zeroH,o.globals.barHeight=V,o.globals.barWidth=H,i.barHelpers.initializeStackedXYVars(i),i.groupCtx.prevY.length===1&&i.groupCtx.prevY[0].every(function(Re){return isNaN(Re)})&&(i.groupCtx.prevY[0]=i.groupCtx.prevY[0].map(function(){return k}),i.groupCtx.prevYF[0]=i.groupCtx.prevYF[0].map(function(){return 0}));for(var q=0;q<o.globals.dataPoints;q++){var ee=i.barHelpers.getStrokeWidth(y,q,R),G={indexes:{i:y,j:q,realIndex:R,translationsIndex:L,bc:b},strokeWidth:ee,x:u,y:h,elSeries:F,columnGroupIndex:P,seriesGroup:o.globals.seriesGroups[I]},$=null;i.isHorizontal?($=i.drawStackedBarPaths(qe(qe({},G),{},{zeroW:C,barHeight:V,yDivision:N})),H=i.series[y][q]/i.invertedYRatio):($=i.drawStackedColumnPaths(qe(qe({},G),{},{xDivision:v,barWidth:H,zeroH:k})),V=i.series[y][q]/i.yRatio[L]);var Q=i.barHelpers.drawGoalLine({barXPosition:$.barXPosition,barYPosition:$.barYPosition,goalX:$.goalX,goalY:$.goalY,barHeight:V,barWidth:H});Q&&O.add(Q),h=$.y,u=$.x,T.push(u),D.push(h);var te=i.barHelpers.getPathFillColor(s,y,q,R),ne="",ce=o.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(i.barHelpers.arrBorderRadius[R][q]==="bottom"&&o.globals.series[R][q]>0||i.barHelpers.arrBorderRadius[R][q]==="top"&&o.globals.series[R][q]<0)&&(ne=ce),F=i.renderSeries(qe(qe({realIndex:R,pathFill:te.color},te.useRangeColor?{lineFill:te.color}:{}),{},{j:q,i:y,columnGroupIndex:P,pathFrom:$.pathFrom,pathTo:$.pathTo,strokeWidth:ee,elSeries:F,x:u,y:h,series:s,barHeight:V,barWidth:H,elDataLabelsWrap:z,elGoalsMarkers:O,type:"bar",visibleSeries:P,classes:ne}))}o.globals.seriesXvalues[R]=T,o.globals.seriesYvalues[R]=D,i.groupCtx.prevY.push(i.groupCtx.yArrj),i.groupCtx.prevYF.push(i.groupCtx.yArrjF),i.groupCtx.prevYVal.push(i.groupCtx.yArrjVal),i.groupCtx.prevX.push(i.groupCtx.xArrj),i.groupCtx.prevXF.push(i.groupCtx.xArrjF),i.groupCtx.prevXVal.push(i.groupCtx.xArrjVal),c.add(F)},g=0,x=0;g<s.length;g++,x++)f(g,x);return c}},{key:"initialPositions",value:function(s,a,i,o,l,c,u){var h,f,g=this.w;if(this.isHorizontal){o=g.globals.gridHeight/g.globals.dataPoints;var x=g.config.plotOptions.bar.barHeight;h=String(x).indexOf("%")===-1?parseInt(x,10):o*parseInt(x,10)/100,c=g.globals.padHorizontal+(this.isReversed?g.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),a=(o-h)/2}else{f=i=g.globals.gridWidth/g.globals.dataPoints;var y=g.config.plotOptions.bar.columnWidth;g.globals.isXNumeric&&g.globals.dataPoints>1?f=(i=g.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(y).indexOf("%")===-1?f=parseInt(y,10):f*=parseInt(y,10)/100,l=this.isReversed?this.baseLineY[u]:g.globals.gridHeight-this.baseLineY[u],s=g.globals.padHorizontal+(i-f)/2}var b=g.globals.barGroups.length||1;return{x:s,y:a,yDivision:o,xDivision:i,barHeight:h/b,barWidth:f/b,zeroH:l,zeroW:c}}},{key:"drawStackedBarPaths",value:function(s){for(var a,i=s.indexes,o=s.barHeight,l=s.strokeWidth,c=s.zeroW,u=s.x,h=s.y,f=s.columnGroupIndex,g=s.seriesGroup,x=s.yDivision,y=s.elSeries,b=this.w,v=h+f*o,N=i.i,k=i.j,C=i.realIndex,R=i.translationsIndex,_=0,I=0;I<this.groupCtx.prevXF.length;I++)_+=this.groupCtx.prevXF[I][k];var P=N;if(b.config.series[C].name&&(P=g.indexOf(b.config.series[C].name)),P>0){var T=c;this.groupCtx.prevXVal[P-1][k]<0?T=this.series[N][k]>=0?this.groupCtx.prevX[P-1][k]+_-2*(this.isReversed?_:0):this.groupCtx.prevX[P-1][k]:this.groupCtx.prevXVal[P-1][k]>=0&&(T=this.series[N][k]>=0?this.groupCtx.prevX[P-1][k]:this.groupCtx.prevX[P-1][k]-_+2*(this.isReversed?_:0)),a=T}else a=c;u=this.series[N][k]===null?a:a+this.series[N][k]/this.invertedYRatio-2*(this.isReversed?this.series[N][k]/this.invertedYRatio:0);var D=this.barHelpers.getBarpaths({barYPosition:v,barHeight:o,x1:a,x2:u,strokeWidth:l,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,seriesGroup:g,i:N,j:k,w:b});return this.barHelpers.barBackground({j:k,i:N,y1:v,y2:o,elSeries:y}),h+=x,{pathTo:D.pathTo,pathFrom:D.pathFrom,goalX:this.barHelpers.getGoalValues("x",c,null,N,k,R),barXPosition:a,barYPosition:v,x:u,y:h}}},{key:"drawStackedColumnPaths",value:function(s){var a=s.indexes,i=s.x,o=s.y,l=s.xDivision,c=s.barWidth,u=s.zeroH,h=s.columnGroupIndex,f=s.seriesGroup,g=s.elSeries,x=this.w,y=a.i,b=a.j,v=a.bc,N=a.realIndex,k=a.translationsIndex;if(x.globals.isXNumeric){var C=x.globals.seriesX[N][b];C||(C=0),i=(C-x.globals.minX)/this.xRatio-c/2*x.globals.barGroups.length}for(var R,_=i+h*c,I=0,P=0;P<this.groupCtx.prevYF.length;P++)I+=isNaN(this.groupCtx.prevYF[P][b])?0:this.groupCtx.prevYF[P][b];var T=y;if(f&&(T=f.indexOf(x.globals.seriesNames[N])),T>0&&!x.globals.isXNumeric||T>0&&x.globals.isXNumeric&&x.globals.seriesX[N-1][b]===x.globals.seriesX[N][b]){var D,L,F,z=Math.min(this.yRatio.length+1,N+1);if(this.groupCtx.prevY[T-1]!==void 0&&this.groupCtx.prevY[T-1].length)for(var O=1;O<z;O++){var V;if(!isNaN((V=this.groupCtx.prevY[T-O])===null||V===void 0?void 0:V[b])){F=this.groupCtx.prevY[T-O][b];break}}for(var H=1;H<z;H++){var B,q;if(((B=this.groupCtx.prevYVal[T-H])===null||B===void 0?void 0:B[b])<0){L=this.series[y][b]>=0?F-I+2*(this.isReversed?I:0):F;break}if(((q=this.groupCtx.prevYVal[T-H])===null||q===void 0?void 0:q[b])>=0){L=this.series[y][b]>=0?F:F+I-2*(this.isReversed?I:0);break}}L===void 0&&(L=x.globals.gridHeight),R=(D=this.groupCtx.prevYF[0])!==null&&D!==void 0&&D.every(function(G){return G===0})&&this.groupCtx.prevYF.slice(1,T).every(function(G){return G.every(function($){return isNaN($)})})?u:L}else R=u;o=this.series[y][b]?R-this.series[y][b]/this.yRatio[k]+2*(this.isReversed?this.series[y][b]/this.yRatio[k]:0):R;var ee=this.barHelpers.getColumnPaths({barXPosition:_,barWidth:c,y1:R,y2:o,yRatio:this.yRatio[k],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:f,realIndex:a.realIndex,i:y,j:b,w:x});return this.barHelpers.barBackground({bc:v,j:b,i:y,x1:_,x2:c,elSeries:g}),{pathTo:ee.pathTo,pathFrom:ee.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,u,y,b),barXPosition:_,x:x.globals.isXNumeric?i:i+l,y:o}}}]),t}(),N1=function(r){Og(t,rh);var e=Mg(t);function t(){return it(this,t),e.apply(this,arguments)}return ot(t,[{key:"draw",value:function(s,a,i){var o=this,l=this.w,c=new Ue(this.ctx),u=l.globals.comboCharts?a:l.config.chart.type,h=new si(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=l.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var f=new wr(this.ctx,l);s=f.getLogSeries(s),this.series=s,this.yRatio=f.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s);for(var g=c.group({class:"apexcharts-".concat(u,"-series apexcharts-plot-series")}),x=function(b){o.isBoxPlot=l.config.chart.type==="boxPlot"||l.config.series[b].type==="boxPlot";var v,N,k,C,R=void 0,_=void 0,I=[],P=[],T=l.globals.comboCharts?i[b]:b,D=o.barHelpers.getGroupIndex(T).columnGroupIndex,L=c.group({class:"apexcharts-series",seriesName:oe.escapeString(l.globals.seriesNames[T]),rel:b+1,"data:realIndex":T});o.ctx.series.addCollapsedClassToSeries(L,T),s[b].length>0&&(o.visibleI=o.visibleI+1);var F,z,O=0;o.yRatio.length>1&&(o.yaxisIndex=l.globals.seriesYAxisReverseMap[T][0],O=T);var V=o.barHelpers.initialPositions(T);_=V.y,F=V.barHeight,N=V.yDivision,C=V.zeroW,R=V.x,z=V.barWidth,v=V.xDivision,k=V.zeroH,P.push(R+z/2);for(var H=c.group({class:"apexcharts-datalabels","data:realIndex":T}),B=c.group({class:"apexcharts-bar-goals-markers"}),q=function(G){var $=o.barHelpers.getStrokeWidth(b,G,T),Q=null,te={indexes:{i:b,j:G,realIndex:T,translationsIndex:O},x:R,y:_,strokeWidth:$,elSeries:L};Q=o.isHorizontal?o.drawHorizontalBoxPaths(qe(qe({},te),{},{yDivision:N,barHeight:F,zeroW:C})):o.drawVerticalBoxPaths(qe(qe({},te),{},{xDivision:v,barWidth:z,zeroH:k})),_=Q.y,R=Q.x;var ne=o.barHelpers.drawGoalLine({barXPosition:Q.barXPosition,barYPosition:Q.barYPosition,goalX:Q.goalX,goalY:Q.goalY,barHeight:F,barWidth:z});ne&&B.add(ne),G>0&&P.push(R+z/2),I.push(_),Q.pathTo.forEach(function(ce,Re){var de=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?Q.color[Re]:l.globals.stroke.colors[b],Me=h.fillPath({seriesNumber:T,dataPointIndex:G,color:Q.color[Re],value:s[b][G]});o.renderSeries({realIndex:T,pathFill:Me,lineFill:de,j:G,i:b,pathFrom:Q.pathFrom,pathTo:ce,strokeWidth:$,elSeries:L,x:R,y:_,series:s,columnGroupIndex:D,barHeight:F,barWidth:z,elDataLabelsWrap:H,elGoalsMarkers:B,visibleSeries:o.visibleI,type:l.config.chart.type})})},ee=0;ee<l.globals.dataPoints;ee++)q(ee);l.globals.seriesXvalues[T]=P,l.globals.seriesYvalues[T]=I,g.add(L)},y=0;y<s.length;y++)x(y);return g}},{key:"drawVerticalBoxPaths",value:function(s){var a=s.indexes,i=s.x;s.y;var o=s.xDivision,l=s.barWidth,c=s.zeroH,u=s.strokeWidth,h=this.w,f=new Ue(this.ctx),g=a.i,x=a.j,y=h.config.plotOptions.candlestick.colors,b=this.boxOptions.colors,v=a.realIndex,N=function(ee){return Array.isArray(ee)?ee[v]:ee},k=N(y.upward),C=N(y.downward),R=this.yRatio[a.translationsIndex],_=this.getOHLCValue(v,x),I=c,P=c,T=_.o<_.c?[k]:[C];this.isBoxPlot&&(T=[N(b.lower),N(b.upper)]);var D=Math.min(_.o,_.c),L=Math.max(_.o,_.c),F=_.m;h.globals.isXNumeric&&(i=(h.globals.seriesX[v][x]-h.globals.minX)/this.xRatio-l/2);var z=i+l*this.visibleI;this.series[g][x]===void 0||this.series[g][x]===null?(D=c,L=c):(D=c-D/R,L=c-L/R,I=c-_.h/R,P=c-_.l/R,F=c-_.m/R);var O=f.move(z,c),V=f.move(z+l/2,D);if(h.globals.previousPaths.length>0&&(V=this.getPreviousPath(v,x,!0)),this.isOHLC){var H=z+l/2,B=c-_.o/R,q=c-_.c/R;O=[f.move(H,I)+f.line(H,P)+f.move(H,B)+f.line(z,B)+f.move(H,q)+f.line(z+l,q)]}else O=this.isBoxPlot?[f.move(z,D)+f.line(z+l/2,D)+f.line(z+l/2,I)+f.line(z+l/4,I)+f.line(z+l-l/4,I)+f.line(z+l/2,I)+f.line(z+l/2,D)+f.line(z+l,D)+f.line(z+l,F)+f.line(z,F)+f.line(z,D+u/2),f.move(z,F)+f.line(z+l,F)+f.line(z+l,L)+f.line(z+l/2,L)+f.line(z+l/2,P)+f.line(z+l-l/4,P)+f.line(z+l/4,P)+f.line(z+l/2,P)+f.line(z+l/2,L)+f.line(z,L)+f.line(z,F)+"z"]:[f.move(z,L)+f.line(z+l/2,L)+f.line(z+l/2,I)+f.line(z+l/2,L)+f.line(z+l,L)+f.line(z+l,D)+f.line(z+l/2,D)+f.line(z+l/2,P)+f.line(z+l/2,D)+f.line(z,D)+f.line(z,L-u/2)];return V+=f.move(z,D),h.globals.isXNumeric||(i+=o),{pathTo:O,pathFrom:V,x:i,y:L,goalY:this.barHelpers.getGoalValues("y",null,c,g,x,a.translationsIndex),barXPosition:z,color:T}}},{key:"drawHorizontalBoxPaths",value:function(s){var a=s.indexes;s.x;var i=s.y,o=s.yDivision,l=s.barHeight,c=s.zeroW,u=s.strokeWidth,h=this.w,f=new Ue(this.ctx),g=a.i,x=a.j,y=this.boxOptions.colors.lower;this.isBoxPlot&&(y=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var b=this.invertedYRatio,v=a.realIndex,N=this.getOHLCValue(v,x),k=c,C=c,R=Math.min(N.o,N.c),_=Math.max(N.o,N.c),I=N.m;h.globals.isXNumeric&&(i=(h.globals.seriesX[v][x]-h.globals.minX)/this.invertedXRatio-l/2);var P=i+l*this.visibleI;this.series[g][x]===void 0||this.series[g][x]===null?(R=c,_=c):(R=c+R/b,_=c+_/b,k=c+N.h/b,C=c+N.l/b,I=c+N.m/b);var T=f.move(c,P),D=f.move(R,P+l/2);return h.globals.previousPaths.length>0&&(D=this.getPreviousPath(v,x,!0)),T=[f.move(R,P)+f.line(R,P+l/2)+f.line(k,P+l/2)+f.line(k,P+l/2-l/4)+f.line(k,P+l/2+l/4)+f.line(k,P+l/2)+f.line(R,P+l/2)+f.line(R,P+l)+f.line(I,P+l)+f.line(I,P)+f.line(R+u/2,P),f.move(I,P)+f.line(I,P+l)+f.line(_,P+l)+f.line(_,P+l/2)+f.line(C,P+l/2)+f.line(C,P+l-l/4)+f.line(C,P+l/4)+f.line(C,P+l/2)+f.line(_,P+l/2)+f.line(_,P)+f.line(I,P)+"z"],D+=f.move(R,P),h.globals.isXNumeric||(i+=o),{pathTo:T,pathFrom:D,x:_,y:i,goalX:this.barHelpers.getGoalValues("x",c,null,g,x),barYPosition:P,color:y}}},{key:"getOHLCValue",value:function(s,a){var i=this.w,o=new wr(this.ctx,i),l=o.getLogValAtSeriesIndex(i.globals.seriesCandleH[s][a],s),c=o.getLogValAtSeriesIndex(i.globals.seriesCandleO[s][a],s),u=o.getLogValAtSeriesIndex(i.globals.seriesCandleM[s][a],s),h=o.getLogValAtSeriesIndex(i.globals.seriesCandleC[s][a],s),f=o.getLogValAtSeriesIndex(i.globals.seriesCandleL[s][a],s);return{o:this.isBoxPlot?l:c,h:this.isBoxPlot?c:l,m:u,l:this.isBoxPlot?h:f,c:this.isBoxPlot?f:h}}}]),t}(),rF=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,s=e.config.plotOptions[e.config.chart.type];return s.colorScale.ranges.length>0&&s.colorScale.ranges.map(function(a,i){a.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,s,a){var i=this.w,o=1,l=i.config.plotOptions[e].shadeIntensity,c=this.determineColor(e,t,s);i.globals.hasNegs||a?o=i.config.plotOptions[e].reverseNegativeShade?c.percent<0?c.percent/100*(1.25*l):(1-c.percent/100)*(1.25*l):c.percent<=0?1-(1+c.percent/100)*l:(1-c.percent/100)*l:(o=1-c.percent/100,e==="treemap"&&(o=(1-c.percent/100)*(1.25*l)));var u=c.color,h=new oe;if(i.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var f=h.shadeColor(-1*o,c.color);u=oe.hexToRgba(oe.isColorHex(f)?f:oe.rgb2hex(f),i.config.fill.opacity)}else{var g=h.shadeColor(o,c.color);u=oe.hexToRgba(oe.isColorHex(g)?g:oe.rgb2hex(g),i.config.fill.opacity)}return{color:u,colorProps:c}}},{key:"determineColor",value:function(e,t,s){var a=this.w,i=a.globals.series[t][s],o=a.config.plotOptions[e],l=o.colorScale.inverse?s:t;o.distributed&&a.config.chart.type==="treemap"&&(l=s);var c=a.globals.colors[l],u=null,h=Math.min.apply(Math,Yr(a.globals.series[t])),f=Math.max.apply(Math,Yr(a.globals.series[t]));o.distributed||e!=="heatmap"||(h=a.globals.minY,f=a.globals.maxY),o.colorScale.min!==void 0&&(h=o.colorScale.min<a.globals.minY?o.colorScale.min:a.globals.minY,f=o.colorScale.max>a.globals.maxY?o.colorScale.max:a.globals.maxY);var g=Math.abs(f)+Math.abs(h),x=100*i/(g===0?g-1e-6:g);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(y,b){if(i>=y.from&&i<=y.to){c=y.color,u=y.foreColor?y.foreColor:null,h=y.from,f=y.to;var v=Math.abs(f)+Math.abs(h);x=100*i/(v===0?v-1e-6:v)}}),{color:c,foreColor:u,percent:x}}},{key:"calculateDataLabels",value:function(e){var t=e.text,s=e.x,a=e.y,i=e.i,o=e.j,l=e.colorProps,c=e.fontSize,u=this.w.config.dataLabels,h=new Ue(this.ctx),f=new sh(this.ctx),g=null;if(u.enabled){g=h.group({class:"apexcharts-data-labels"});var x=u.offsetX,y=u.offsetY,b=s+x,v=a+parseFloat(u.style.fontSize)/3+y;f.plotDataLabelsText({x:b,y:v,text:t,i,j:o,color:l.foreColor,parent:g,fontSize:c,dataLabelsConfig:u})}return g}},{key:"addListeners",value:function(e){var t=new Ue(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),r}(),gde=function(){function r(e,t){it(this,r),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new rF(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return ot(r,[{key:"draw",value:function(e){var t=this.w,s=new Ue(this.ctx),a=s.group({class:"apexcharts-heatmap"});a.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var i=t.globals.gridWidth/t.globals.dataPoints,o=t.globals.gridHeight/t.globals.series.length,l=0,c=!1;this.negRange=this.helpers.checkColorRange();var u=e.slice();t.config.yaxis[0].reversed&&(c=!0,u.reverse());for(var h=c?0:u.length-1;c?h<u.length:h>=0;c?h++:h--){var f=s.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:oe.escapeString(t.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});if(this.ctx.series.addCollapsedClassToSeries(f,h),t.config.chart.dropShadow.enabled){var g=t.config.chart.dropShadow;new ga(this.ctx).dropShadow(f,g,h)}for(var x=0,y=t.config.plotOptions.heatmap.shadeIntensity,b=0,v=0;v<t.globals.dataPoints;v++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*v<t.globals.seriesX[h][b])x+=i;else{if(b>=u[h].length)break;var N=this.helpers.getShadeColor(t.config.chart.type,h,b,this.negRange),k=N.color,C=N.colorProps;t.config.fill.type==="image"&&(k=new si(this.ctx).fillPath({seriesNumber:h,dataPointIndex:b,opacity:t.globals.hasNegs?C.percent<0?1-(1+C.percent/100):y+C.percent/100:C.percent/100,patternID:oe.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:i,height:t.config.fill.image.height?t.config.fill.image.height:o}));var R=this.rectRadius,_=s.drawRect(x,l,i,o,R);if(_.attr({cx:x,cy:l}),_.node.classList.add("apexcharts-heatmap-rect"),f.add(_),_.attr({fill:k,i:h,index:h,j:b,val:e[h][b],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?k:t.globals.stroke.colors[0],color:k}),this.helpers.addListeners(_),t.config.chart.animations.enabled&&!t.globals.dataChanged){var I=1;t.globals.resized||(I=t.config.chart.animations.speed),this.animateHeatMap(_,x,l,i,o,I)}if(t.globals.dataChanged){var P=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){P=this.dynamicAnim.speed;var T=t.globals.previousPaths[h]&&t.globals.previousPaths[h][b]&&t.globals.previousPaths[h][b].color;T||(T="rgba(255, 255, 255, 0)"),this.animateHeatColor(_,oe.isColorHex(T)?T:oe.rgb2hex(T),oe.isColorHex(k)?k:oe.rgb2hex(k),P)}}var D=(0,t.config.dataLabels.formatter)(t.globals.series[h][b],{value:t.globals.series[h][b],seriesIndex:h,dataPointIndex:b,w:t}),L=this.helpers.calculateDataLabels({text:D,x:x+i/2,y:l+o/2,i:h,j:b,colorProps:C,series:u});L!==null&&f.add(L),x+=i,b++}l+=o,a.add(f)}var F=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?F.unshift(""):F.push(""),t.globals.yAxisScale[0].result=F,a}},{key:"animateHeatMap",value:function(e,t,s,a,i,o){var l=new wh(this.ctx);l.animateRect(e,{x:t+a/2,y:s+i/2,width:0,height:0},{x:t,y:s,width:a,height:i},o,function(){l.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,s,a){e.attr({fill:t}).animate(a).attr({fill:s})}}]),r}(),aF=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"drawYAxisTexts",value:function(e,t,s,a){var i=this.w,o=i.config.yaxis[0],l=i.globals.yLabelFormatters[0];return new Ue(this.ctx).drawText({x:e+o.labels.offsetX,y:t+o.labels.offsetY,text:l(a,s),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[s]:o.labels.style.colors})}}]),r}(),nF=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var s=t.config.plotOptions.pie.customScale,a=t.globals.gridWidth/2,i=t.globals.gridHeight/2;this.translateX=a-a*s,this.translateY=i-i*s,this.dataLabelsGroup=new Ue(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return ot(r,[{key:"draw",value:function(e){var t=this,s=this.w,a=new Ue(this.ctx),i=a.group({class:"apexcharts-pie"});if(s.globals.noData)return i;for(var o=0,l=0;l<e.length;l++)o+=oe.negToZero(e[l]);var c=[],u=a.group();o===0&&(o=1e-5),e.forEach(function(C){t.maxY=Math.max(t.maxY,C)}),s.config.yaxis[0].max&&(this.maxY=s.config.yaxis[0].max),s.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(i);for(var h=0;h<e.length;h++){var f=this.fullAngle*oe.negToZero(e[h])/o;c.push(f),this.chartType==="polarArea"?(c[h]=this.fullAngle/e.length,this.sliceSizes.push(s.globals.radialSize*e[h]/this.maxY)):this.sliceSizes.push(s.globals.radialSize)}if(s.globals.dataChanged){for(var g,x=0,y=0;y<s.globals.previousPaths.length;y++)x+=oe.negToZero(s.globals.previousPaths[y]);for(var b=0;b<s.globals.previousPaths.length;b++)g=this.fullAngle*oe.negToZero(s.globals.previousPaths[b])/x,this.prevSectorAngleArr.push(g)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var v=a.drawCircle(this.donutSize);v.attr({cx:this.centerX,cy:this.centerY,fill:s.config.plotOptions.pie.donut.background?s.config.plotOptions.pie.donut.background:"transparent"}),u.add(v)}var N=this.drawArcs(c,e);if(this.sliceLabels.forEach(function(C){N.add(C)}),u.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s.config.plotOptions.pie.customScale,")")}),u.add(N),i.add(u),this.donutDataLabels.show){var k=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});i.add(k)}return s.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(i),i}},{key:"drawArcs",value:function(e,t){var s=this.w,a=new ga(this.ctx),i=new Ue(this.ctx),o=new si(this.ctx),l=i.group({class:"apexcharts-slices"}),c=this.initialAngle,u=this.initialAngle,h=this.initialAngle,f=this.initialAngle;this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0;for(var g=0;g<e.length;g++){var x=i.group({class:"apexcharts-series apexcharts-pie-series",seriesName:oe.escapeString(s.globals.seriesNames[g]),rel:g+1,"data:realIndex":g});l.add(x),u=f,h=(c=h)+e[g],f=u+this.prevSectorAngleArr[g];var y=h<c?this.fullAngle+h-c:h-c,b=o.fillPath({seriesNumber:g,size:this.sliceSizes[g],value:t[g]}),v=this.getChangedPath(u,f),N=i.drawPath({d:v,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[g]:this.lineColorArr,strokeWidth:0,fill:b,fillOpacity:s.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(g)});if(N.attr({index:0,j:g}),a.setSelectionFilter(N,0,g),s.config.chart.dropShadow.enabled){var k=s.config.chart.dropShadow;a.dropShadow(N,k,g)}this.addListeners(N,this.donutDataLabels),Ue.setAttrs(N.node,{"data:angle":y,"data:startAngle":c,"data:strokeWidth":this.strokeWidth,"data:value":t[g]});var C={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?C=oe.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize/1.25+s.config.plotOptions.pie.dataLabels.offset,(c+y/2)%this.fullAngle):this.chartType==="donut"&&(C=oe.polarToCartesian(this.centerX,this.centerY,(s.globals.radialSize+this.donutSize)/2+s.config.plotOptions.pie.dataLabels.offset,(c+y/2)%this.fullAngle)),x.add(N);var R=0;if(!this.initialAnim||s.globals.resized||s.globals.dataChanged?this.animBeginArr.push(0):((R=y/this.fullAngle*s.config.chart.animations.speed)===0&&(R=1),this.animDur=R+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&s.globals.dataChanged?this.animatePaths(N,{size:this.sliceSizes[g],endAngle:h,startAngle:c,prevStartAngle:u,prevEndAngle:f,animateStartingPos:!0,i:g,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:s.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(N,{size:this.sliceSizes[g],endAngle:h,startAngle:c,i:g,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:R}),s.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&N.node.addEventListener("mouseup",this.pieClicked.bind(this,g)),s.globals.selectedDataPoints[0]!==void 0&&s.globals.selectedDataPoints[0].indexOf(g)>-1&&this.pieClicked(g),s.config.dataLabels.enabled){var _=C.x,I=C.y,P=100*y/this.fullAngle+"%";if(y!==0&&s.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[g]){var T=s.config.dataLabels.formatter;T!==void 0&&(P=T(s.globals.seriesPercent[g][0],{seriesIndex:g,w:s}));var D=s.globals.dataLabels.style.colors[g],L=i.group({class:"apexcharts-datalabels"}),F=i.drawText({x:_,y:I,text:P,textAnchor:"middle",fontSize:s.config.dataLabels.style.fontSize,fontFamily:s.config.dataLabels.style.fontFamily,fontWeight:s.config.dataLabels.style.fontWeight,foreColor:D});if(L.add(F),s.config.dataLabels.dropShadow.enabled){var z=s.config.dataLabels.dropShadow;a.dropShadow(F,z)}F.node.classList.add("apexcharts-pie-label"),s.config.chart.animations.animate&&s.globals.resized===!1&&(F.node.classList.add("apexcharts-pie-label-delay"),F.node.style.animationDelay=s.config.chart.animations.speed/940+"s"),this.sliceLabels.push(L)}}}return l}},{key:"addListeners",value:function(e,t){var s=new Ue(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var s=this.w,a=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,i=a,o=t.startAngle,l=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(o=t.prevEndAngle,i=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===s.config.series.length-1&&(a+l>this.fullAngle?t.endAngle=t.endAngle-(a+l):a+l<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(a+l)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(e,o,l,a,i,t)}},{key:"animateArc",value:function(e,t,s,a,i,o){var l,c=this,u=this.w,h=new wh(this.ctx),f=o.size;(isNaN(t)||isNaN(i))&&(t=s,i=a,o.dur=0);var g=a,x=s,y=t<s?this.fullAngle+t-s:t-s;u.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(l=c.getPiePath({me:c,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:f}),e.attr({d:l})),o.dur!==0?e.animate(o.dur,o.animBeginArr[o.i]).after(function(){c.chartType!=="pie"&&c.chartType!=="donut"&&c.chartType!=="polarArea"||this.animate(u.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":c.strokeWidth}),o.i===u.config.series.length-1&&h.animationCompleted(e)}).during(function(b){g=y+(a-y)*b,o.animateStartingPos&&(g=i+(a-i)*b,x=t-i+(s-(t-i))*b),l=c.getPiePath({me:c,startAngle:x,angle:g,size:f}),e.node.setAttribute("data:pathOrig",l),e.attr({d:l})}):(l=c.getPiePath({me:c,startAngle:x,angle:a,size:f}),o.isTrack||(u.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",l),e.attr({d:l,"stroke-width":c.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,s=this.w,a=this,i=a.sliceSizes[e]+(s.config.plotOptions.pie.expandOnClick?4:0),o=s.globals.dom.Paper.findOne(".apexcharts-".concat(a.chartType.toLowerCase(),"-slice-").concat(e));if(o.attr("data:pieClicked")!=="true"){var l=s.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(l,function(f){f.setAttribute("data:pieClicked","false");var g=f.getAttribute("data:pathOrig");g&&f.setAttribute("d",g)}),s.globals.capturedDataPointIndex=e,o.attr("data:pieClicked","true");var c=parseInt(o.attr("data:startAngle"),10),u=parseInt(o.attr("data:angle"),10);t=a.getPiePath({me:a,startAngle:c,angle:u,size:i}),u!==360&&o.plot(t)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var h=o.attr("data:pathOrig");o.attr({d:h})}}},{key:"getChangedPath",value:function(e,t){var s="";return this.dynamicAnim&&this.w.globals.dataChanged&&(s=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),s}},{key:"getPiePath",value:function(e){var t,s=e.me,a=e.startAngle,i=e.angle,o=e.size,l=new Ue(this.ctx),c=a,u=Math.PI*(c-90)/180,h=i+a;Math.ceil(h)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(h=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(h)>this.fullAngle&&(h-=this.fullAngle);var f=Math.PI*(h-90)/180,g=s.centerX+o*Math.cos(u),x=s.centerY+o*Math.sin(u),y=s.centerX+o*Math.cos(f),b=s.centerY+o*Math.sin(f),v=oe.polarToCartesian(s.centerX,s.centerY,s.donutSize,h),N=oe.polarToCartesian(s.centerX,s.centerY,s.donutSize,c),k=i>180?1:0,C=["M",g,x,"A",o,o,0,k,1,y,b];return t=s.chartType==="donut"?[].concat(C,["L",v.x,v.y,"A",s.donutSize,s.donutSize,0,k,0,N.x,N.y,"L",g,x,"z"]).join(" "):s.chartType==="pie"||s.chartType==="polarArea"?[].concat(C,["L",s.centerX,s.centerY,"L",g,x]).join(" "):[].concat(C).join(" "),l.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,s=new ZL(this.ctx),a=new Ue(this.ctx),i=new aF(this.ctx),o=a.group(),l=a.group(),c=s.niceScale(0,Math.ceil(this.maxY),0),u=c.result.reverse(),h=c.result.length;this.maxY=c.niceMax;for(var f=t.globals.radialSize,g=f/(h-1),x=0;x<h-1;x++){var y=a.drawCircle(f);if(y.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var b=i.drawYAxisTexts(this.centerX,this.centerY-f+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,x,u[x]);l.add(b)}o.add(y),f-=g}this.drawSpokes(e),e.add(o),e.add(l)}},{key:"renderInnerDataLabels",value:function(e,t,s){var a=this.w,i=new Ue(this.ctx),o=t.total.show;e.node.innerHTML="",e.node.style.opacity=s.opacity;var l,c,u=s.centerX,h=this.donutDataLabels.total.label?s.centerY:s.centerY-s.centerY/6;l=t.name.color===void 0?a.globals.colors[0]:t.name.color;var f=t.name.fontSize,g=t.name.fontFamily,x=t.name.fontWeight;c=t.value.color===void 0?a.config.chart.foreColor:t.value.color;var y=t.value.formatter,b="",v="";if(o?(l=t.total.color,f=t.total.fontSize,g=t.total.fontFamily,x=t.total.fontWeight,v=this.donutDataLabels.total.label?t.total.label:"",b=t.total.formatter(a)):a.globals.series.length===1&&(b=y(a.globals.series[0],a),v=a.globals.seriesNames[0]),v&&(v=t.name.formatter(v,t.total.show,a)),t.name.show){var N=i.drawText({x:u,y:h+parseFloat(t.name.offsetY),text:v,textAnchor:"middle",foreColor:l,fontSize:f,fontWeight:x,fontFamily:g});N.node.classList.add("apexcharts-datalabel-label"),e.add(N)}if(t.value.show){var k=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,C=i.drawText({x:u,y:h+k,text:b,textAnchor:"middle",foreColor:c,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});C.node.classList.add("apexcharts-datalabel-value"),e.add(C)}return e}},{key:"printInnerLabels",value:function(e,t,s,a){var i,o=this.w;a?i=e.name.color===void 0?o.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:e.name.color:o.globals.series.length>1&&e.total.show&&(i=e.total.color);var l=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),c=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");s=(0,e.value.formatter)(s,o),a||typeof e.total.formatter!="function"||(s=e.total.formatter(o));var u=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,u,o):"",l!==null&&(l.textContent=t),c!==null&&(c.textContent=s),l!==null&&(l.style.fill=i)}},{key:"printDataLabelsInner",value:function(e,t){var s=this.w,a=e.getAttribute("data:value"),i=s.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];s.globals.series.length>1&&this.printInnerLabels(t,i,a,e);var o=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");o!==null&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,s=this.w,a=new Ue(this.ctx),i=s.config.plotOptions.polarArea.spokes;if(i.strokeWidth!==0){for(var o=[],l=360/s.globals.series.length,c=0;c<s.globals.series.length;c++)o.push(oe.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize,s.config.plotOptions.pie.startAngle+l*c));o.forEach(function(u,h){var f=a.drawLine(u.x,u.y,t.centerX,t.centerY,Array.isArray(i.connectorColors)?i.connectorColors[h]:i.connectorColors);e.add(f)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),s=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(s)}}}]),r}(),pde=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new Ue(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new wr(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return ot(r,[{key:"draw",value:function(e){var t=this,s=this.w,a=new si(this.ctx),i=[],o=new sh(this.ctx);e.length&&(this.dataPointsLen=e[s.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var l=s.globals.gridWidth/2,c=s.globals.gridHeight/2,u=l+s.config.plotOptions.radar.offsetX,h=c+s.config.plotOptions.radar.offsetY,f=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(u||0,", ").concat(h||0,")")}),g=[],x=null,y=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(v,N){var k=v.length===s.globals.dataPoints,C=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":k,seriesName:oe.escapeString(s.globals.seriesNames[N]),rel:N+1,"data:realIndex":N});t.dataRadiusOfPercent[N]=[],t.dataRadius[N]=[],t.angleArr[N]=[],v.forEach(function(O,V){var H=Math.abs(t.maxValue-t.minValue);O-=t.minValue,t.isLog&&(O=t.coreUtils.getLogVal(t.logBase,O,0)),t.dataRadiusOfPercent[N][V]=O/H,t.dataRadius[N][V]=t.dataRadiusOfPercent[N][V]*t.size,t.angleArr[N][V]=V*t.disAngle}),g=t.getDataPointsPos(t.dataRadius[N],t.angleArr[N]);var R=t.createPaths(g,{x:0,y:0});x=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),y=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":N}),s.globals.delayedElements.push({el:x.node,index:N});var _={i:N,realIndex:N,animationDelay:N,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:s.globals.stroke.colors[N],strokeLineCap:s.config.stroke.lineCap},I=null;s.globals.previousPaths.length>0&&(I=t.getPreviousPath(N));for(var P=0;P<R.linePathsTo.length;P++){var T=t.graphics.renderPaths(qe(qe({},_),{},{pathFrom:I===null?R.linePathsFrom[P]:I,pathTo:R.linePathsTo[P],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[N]:t.strokeWidth,fill:"none",drawShadow:!1}));C.add(T);var D=a.fillPath({seriesNumber:N}),L=t.graphics.renderPaths(qe(qe({},_),{},{pathFrom:I===null?R.areaPathsFrom[P]:I,pathTo:R.areaPathsTo[P],strokeWidth:0,fill:D,drawShadow:!1}));if(s.config.chart.dropShadow.enabled){var F=new ga(t.ctx),z=s.config.chart.dropShadow;F.dropShadow(L,Object.assign({},z,{noUserSpaceOnUse:!0}),N)}C.add(L)}v.forEach(function(O,V){var H=new Sh(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:N,dataPointIndex:V}),B=t.graphics.drawMarker(g[V].x,g[V].y,H);B.attr("rel",V),B.attr("j",V),B.attr("index",N),B.node.setAttribute("default-marker-size",H.pSize);var q=t.graphics.group({class:"apexcharts-series-markers"});q&&q.add(B),x.add(q),C.add(x);var ee=s.config.dataLabels;if(ee.enabled){var G=ee.formatter(s.globals.series[N][V],{seriesIndex:N,dataPointIndex:V,w:s});o.plotDataLabelsText({x:g[V].x,y:g[V].y,text:G,textAnchor:"middle",i:N,j:N,parent:y,offsetCorrection:!1,dataLabelsConfig:qe({},ee)})}C.add(y)}),i.push(C)}),this.drawPolygons({parent:f}),s.config.xaxis.labels.show){var b=this.drawXAxisTexts();f.add(b)}return i.forEach(function(v){f.add(v)}),f.add(this.yaxisLabels),f}},{key:"drawPolygons",value:function(e){for(var t=this,s=this.w,a=e.parent,i=new aF(this.ctx),o=s.globals.yAxisScale[0].result.reverse(),l=o.length,c=[],u=this.size/(l-1),h=0;h<l;h++)c[h]=u*h;c.reverse();var f=[],g=[];c.forEach(function(x,y){var b=oe.getPolygonPos(x,t.dataPointsLen),v="";b.forEach(function(N,k){if(y===0){var C=t.graphics.drawLine(N.x,N.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[k]:t.polygons.connectorColors);g.push(C)}k===0&&t.yaxisLabelsTextsPos.push({x:N.x,y:N.y}),v+=N.x+","+N.y+" "}),f.push(v)}),f.forEach(function(x,y){var b=t.polygons.strokeColors,v=t.polygons.strokeWidth,N=t.graphics.drawPolygon(x,Array.isArray(b)?b[y]:b,Array.isArray(v)?v[y]:v,s.globals.radarPolygons.fill.colors[y]);a.add(N)}),g.forEach(function(x){a.add(x)}),s.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(x,y){var b=i.drawYAxisTexts(x.x,x.y,y,o[y]);t.yaxisLabels.add(b)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,s=t.config.xaxis.labels,a=this.graphics.group({class:"apexcharts-xaxis"}),i=oe.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(o,l){var c=t.config.xaxis.labels.formatter,u=new sh(e.ctx);if(i[l]){var h=e.getTextPos(i[l],e.size),f=c(o,{seriesIndex:-1,dataPointIndex:l,w:t});u.plotDataLabelsText({x:h.newX,y:h.newY,text:f,textAnchor:h.textAnchor,i:l,j:l,parent:a,className:"apexcharts-xaxis-label",color:Array.isArray(s.style.colors)&&s.style.colors[l]?s.style.colors[l]:"#a8a8a8",dataLabelsConfig:qe({textAnchor:h.textAnchor,dropShadow:{enabled:!1}},s),offsetCorrection:!1}).on("click",function(g){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var x=Object.assign({},t,{labelIndex:l});t.config.chart.events.xAxisLabelClick(g,e.ctx,x)}})}}),a}},{key:"createPaths",value:function(e,t){var s=this,a=[],i=[],o=[],l=[];if(e.length){i=[this.graphics.move(t.x,t.y)],l=[this.graphics.move(t.x,t.y)];var c=this.graphics.move(e[0].x,e[0].y),u=this.graphics.move(e[0].x,e[0].y);e.forEach(function(h,f){c+=s.graphics.line(h.x,h.y),u+=s.graphics.line(h.x,h.y),f===e.length-1&&(c+="Z",u+="Z")}),a.push(c),o.push(u)}return{linePathsFrom:i,linePathsTo:a,areaPathsFrom:l,areaPathsTo:o}}},{key:"getTextPos",value:function(e,t){var s="middle",a=e.x,i=e.y;return Math.abs(e.x)>=10?e.x>0?(s="start",a+=10):e.x<0&&(s="end",a-=10):s="middle",Math.abs(e.y)>=t-10&&(e.y<0?i-=10:e.y>0&&(i+=10)),{textAnchor:s,newX:a,newY:i}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,s=null,a=0;a<t.globals.previousPaths.length;a++){var i=t.globals.previousPaths[a];i.paths.length>0&&parseInt(i.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[a].paths[0]!==void 0&&(s=t.globals.previousPaths[a].paths[0].d)}return s}},{key:"getDataPointsPos",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var a=[],i=0;i<s;i++){var o={};o.x=e[i]*Math.sin(t[i]),o.y=-e[i]*Math.cos(t[i]),a.push(o)}return a}}]),r}(),xde=function(r){Og(t,nF);var e=Mg(t);function t(s){var a;it(this,t),(a=e.call(this,s)).ctx=s,a.w=s.w,a.animBeginArr=[0],a.animDur=0;var i=a.w;return a.startAngle=i.config.plotOptions.radialBar.startAngle,a.endAngle=i.config.plotOptions.radialBar.endAngle,a.totalAngle=Math.abs(i.config.plotOptions.radialBar.endAngle-i.config.plotOptions.radialBar.startAngle),a.trackStartAngle=i.config.plotOptions.radialBar.track.startAngle,a.trackEndAngle=i.config.plotOptions.radialBar.track.endAngle,a.barLabels=a.w.config.plotOptions.radialBar.barLabels,a.donutDataLabels=a.w.config.plotOptions.radialBar.dataLabels,a.radialDataLabels=a.donutDataLabels,a.trackStartAngle||(a.trackStartAngle=a.startAngle),a.trackEndAngle||(a.trackEndAngle=a.endAngle),a.endAngle===360&&(a.endAngle=359.99),a.margin=parseInt(i.config.plotOptions.radialBar.track.margin,10),a.onBarLabelClick=a.onBarLabelClick.bind(xL(a)),a}return ot(t,[{key:"draw",value:function(s){var a=this.w,i=new Ue(this.ctx),o=i.group({class:"apexcharts-radialbar"});if(a.globals.noData)return o;var l=i.group(),c=this.defaultSize/2,u=a.globals.gridWidth/2,h=this.defaultSize/2.05;a.config.chart.sparkline.enabled||(h=h-a.config.stroke.width-a.config.chart.dropShadow.blur);var f=a.globals.fill.colors;if(a.config.plotOptions.radialBar.track.show){var g=this.drawTracks({size:h,centerX:u,centerY:c,colorArr:f,series:s});l.add(g)}var x=this.drawArcs({size:h,centerX:u,centerY:c,colorArr:f,series:s}),y=360;a.config.plotOptions.radialBar.startAngle<0&&(y=this.totalAngle);var b=(360-y)/360;if(a.globals.radialSize=h-h*b,this.radialDataLabels.value.show){var v=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);a.globals.radialSize+=v*b}return l.add(x.g),a.config.plotOptions.radialBar.hollow.position==="front"&&(x.g.add(x.elHollow),x.dataLabels&&x.g.add(x.dataLabels)),o.add(l),o}},{key:"drawTracks",value:function(s){var a=this.w,i=new Ue(this.ctx),o=i.group({class:"apexcharts-tracks"}),l=new ga(this.ctx),c=new si(this.ctx),u=this.getStrokeWidth(s);s.size=s.size-u/2;for(var h=0;h<s.series.length;h++){var f=i.group({class:"apexcharts-radialbar-track apexcharts-track"});o.add(f),f.attr({rel:h+1}),s.size=s.size-u-this.margin;var g=a.config.plotOptions.radialBar.track,x=c.fillPath({seriesNumber:0,size:s.size,fillColors:Array.isArray(g.background)?g.background[h]:g.background,solid:!0}),y=this.trackStartAngle,b=this.trackEndAngle;Math.abs(b)+Math.abs(y)>=360&&(b=360-Math.abs(this.startAngle)-.1);var v=i.drawPath({d:"",stroke:x,strokeWidth:u*parseInt(g.strokeWidth,10)/100,fill:"none",strokeOpacity:g.opacity,classes:"apexcharts-radialbar-area"});if(g.dropShadow.enabled){var N=g.dropShadow;l.dropShadow(v,N)}f.add(v),v.attr("id","apexcharts-radialbarTrack-"+h),this.animatePaths(v,{centerX:s.centerX,centerY:s.centerY,endAngle:b,startAngle:y,size:s.size,i:h,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return o}},{key:"drawArcs",value:function(s){var a=this.w,i=new Ue(this.ctx),o=new si(this.ctx),l=new ga(this.ctx),c=i.group(),u=this.getStrokeWidth(s);s.size=s.size-u/2;var h=a.config.plotOptions.radialBar.hollow.background,f=s.size-u*s.series.length-this.margin*s.series.length-u*parseInt(a.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,g=f-a.config.plotOptions.radialBar.hollow.margin;a.config.plotOptions.radialBar.hollow.image!==void 0&&(h=this.drawHollowImage(s,c,f,h));var x=this.drawHollow({size:g,centerX:s.centerX,centerY:s.centerY,fill:h||"transparent"});if(a.config.plotOptions.radialBar.hollow.dropShadow.enabled){var y=a.config.plotOptions.radialBar.hollow.dropShadow;l.dropShadow(x,y)}var b=1;!this.radialDataLabels.total.show&&a.globals.series.length>1&&(b=0);var v=null;if(this.radialDataLabels.show){var N=a.globals.dom.Paper.findOne(".apexcharts-datalabels-group");v=this.renderInnerDataLabels(N,this.radialDataLabels,{hollowSize:f,centerX:s.centerX,centerY:s.centerY,opacity:b})}a.config.plotOptions.radialBar.hollow.position==="back"&&(c.add(x),v&&c.add(v));var k=!1;a.config.plotOptions.radialBar.inverseOrder&&(k=!0);for(var C=k?s.series.length-1:0;k?C>=0:C<s.series.length;k?C--:C++){var R=i.group({class:"apexcharts-series apexcharts-radial-series",seriesName:oe.escapeString(a.globals.seriesNames[C])});c.add(R),R.attr({rel:C+1,"data:realIndex":C}),this.ctx.series.addCollapsedClassToSeries(R,C),s.size=s.size-u-this.margin;var _=o.fillPath({seriesNumber:C,size:s.size,value:s.series[C]}),I=this.startAngle,P=void 0,T=oe.negToZero(s.series[C]>100?100:s.series[C])/100,D=Math.round(this.totalAngle*T)+this.startAngle,L=void 0;a.globals.dataChanged&&(P=this.startAngle,L=Math.round(this.totalAngle*oe.negToZero(a.globals.previousPaths[C])/100)+P),Math.abs(D)+Math.abs(I)>360&&(D-=.01),Math.abs(L)+Math.abs(P)>360&&(L-=.01);var F=D-I,z=Array.isArray(a.config.stroke.dashArray)?a.config.stroke.dashArray[C]:a.config.stroke.dashArray,O=i.drawPath({d:"",stroke:_,strokeWidth:u,fill:"none",fillOpacity:a.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+C,strokeDashArray:z});if(Ue.setAttrs(O.node,{"data:angle":F,"data:value":s.series[C]}),a.config.chart.dropShadow.enabled){var V=a.config.chart.dropShadow;l.dropShadow(O,V,C)}if(l.setSelectionFilter(O,0,C),this.addListeners(O,this.radialDataLabels),R.add(O),O.attr({index:0,j:C}),this.barLabels.enabled){var H=oe.polarToCartesian(s.centerX,s.centerY,s.size,I),B=this.barLabels.formatter(a.globals.seriesNames[C],{seriesIndex:C,w:a}),q=["apexcharts-radialbar-label"];this.barLabels.onClick||q.push("apexcharts-no-click");var ee=this.barLabels.useSeriesColors?a.globals.colors[C]:a.config.chart.foreColor;ee||(ee=a.config.chart.foreColor);var G=H.x+this.barLabels.offsetX,$=H.y+this.barLabels.offsetY,Q=i.drawText({x:G,y:$,text:B,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:ee,cssClass:q.join(" ")});Q.on("click",this.onBarLabelClick),Q.attr({rel:C+1}),I!==0&&Q.attr({"transform-origin":"".concat(G," ").concat($),transform:"rotate(".concat(I," 0 0)")}),R.add(Q)}var te=0;!this.initialAnim||a.globals.resized||a.globals.dataChanged||(te=a.config.chart.animations.speed),a.globals.dataChanged&&(te=a.config.chart.animations.dynamicAnimation.speed),this.animDur=te/(1.2*s.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(O,{centerX:s.centerX,centerY:s.centerY,endAngle:D,startAngle:I,prevEndAngle:L,prevStartAngle:P,size:s.size,i:C,totalItems:2,animBeginArr:this.animBeginArr,dur:te,shouldSetPrevPaths:!0})}return{g:c,elHollow:x,dataLabels:v}}},{key:"drawHollow",value:function(s){var a=new Ue(this.ctx).drawCircle(2*s.size);return a.attr({class:"apexcharts-radialbar-hollow",cx:s.centerX,cy:s.centerY,r:s.size,fill:s.fill}),a}},{key:"drawHollowImage",value:function(s,a,i,o){var l=this.w,c=new si(this.ctx),u=oe.randomId(),h=l.config.plotOptions.radialBar.hollow.image;if(l.config.plotOptions.radialBar.hollow.imageClipped)c.clippedImgArea({width:i,height:i,image:h,patternID:"pattern".concat(l.globals.cuid).concat(u)}),o="url(#pattern".concat(l.globals.cuid).concat(u,")");else{var f=l.config.plotOptions.radialBar.hollow.imageWidth,g=l.config.plotOptions.radialBar.hollow.imageHeight;if(f===void 0&&g===void 0){var x=l.globals.dom.Paper.image(h,function(b){this.move(s.centerX-b.width/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-b.height/2+l.config.plotOptions.radialBar.hollow.imageOffsetY)});a.add(x)}else{var y=l.globals.dom.Paper.image(h,function(b){this.move(s.centerX-f/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-g/2+l.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(f,g)});a.add(y)}}return o}},{key:"getStrokeWidth",value:function(s){var a=this.w;return s.size*(100-parseInt(a.config.plotOptions.radialBar.hollow.size,10))/100/(s.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(s){var a=parseInt(s.target.getAttribute("rel"),10)-1,i=this.barLabels.onClick,o=this.w;i&&i(o.globals.seriesNames[a],{w:o,seriesIndex:a})}}]),t}(),bde=function(r){Og(t,rh);var e=Mg(t);function t(){return it(this,t),e.apply(this,arguments)}return ot(t,[{key:"draw",value:function(s,a){var i=this.w,o=new Ue(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=s,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(s);for(var l=o.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),c=0;c<s.length;c++){var u,h,f,g,x=void 0,y=void 0,b=i.globals.comboCharts?a[c]:c,v=this.barHelpers.getGroupIndex(b).columnGroupIndex,N=o.group({class:"apexcharts-series",seriesName:oe.escapeString(i.globals.seriesNames[b]),rel:c+1,"data:realIndex":b});this.ctx.series.addCollapsedClassToSeries(N,b),s[c].length>0&&(this.visibleI=this.visibleI+1);var k=0,C=0,R=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[b][0],R=b);var _=this.barHelpers.initialPositions(b);y=_.y,g=_.zeroW,x=_.x,C=_.barWidth,k=_.barHeight,u=_.xDivision,h=_.yDivision,f=_.zeroH;for(var I=o.group({class:"apexcharts-datalabels","data:realIndex":b}),P=o.group({class:"apexcharts-rangebar-goals-markers"}),T=0;T<i.globals.dataPoints;T++){var D=this.barHelpers.getStrokeWidth(c,T,b),L=this.seriesRangeStart[c][T],F=this.seriesRangeEnd[c][T],z=null,O=null,V=null,H={x,y,strokeWidth:D,elSeries:N},B=this.seriesLen;if(i.config.plotOptions.bar.rangeBarGroupRows&&(B=1),i.config.series[c].data[T]===void 0)break;if(this.isHorizontal){V=y+k*this.visibleI;var q=(h-k*B)/2;if(i.config.series[c].data[T].x){var ee=this.detectOverlappingBars({i:c,j:T,barYPosition:V,srty:q,barHeight:k,yDivision:h,initPositions:_});k=ee.barHeight,V=ee.barYPosition}C=(z=this.drawRangeBarPaths(qe({indexes:{i:c,j:T,realIndex:b},barHeight:k,barYPosition:V,zeroW:g,yDivision:h,y1:L,y2:F},H))).barWidth}else{i.globals.isXNumeric&&(x=(i.globals.seriesX[c][T]-i.globals.minX)/this.xRatio-C/2),O=x+C*this.visibleI;var G=(u-C*B)/2;if(i.config.series[c].data[T].x){var $=this.detectOverlappingBars({i:c,j:T,barXPosition:O,srtx:G,barWidth:C,xDivision:u,initPositions:_});C=$.barWidth,O=$.barXPosition}k=(z=this.drawRangeColumnPaths(qe({indexes:{i:c,j:T,realIndex:b,translationsIndex:R},barWidth:C,barXPosition:O,zeroH:f,xDivision:u},H))).barHeight}var Q=this.barHelpers.drawGoalLine({barXPosition:z.barXPosition,barYPosition:V,goalX:z.goalX,goalY:z.goalY,barHeight:k,barWidth:C});Q&&P.add(Q),y=z.y,x=z.x;var te=this.barHelpers.getPathFillColor(s,c,T,b);this.renderSeries({realIndex:b,pathFill:te.color,lineFill:te.useRangeColor?te.color:i.globals.stroke.colors[b],j:T,i:c,x,y,y1:L,y2:F,pathFrom:z.pathFrom,pathTo:z.pathTo,strokeWidth:D,elSeries:N,series:s,barHeight:k,barWidth:C,barXPosition:O,barYPosition:V,columnGroupIndex:v,elDataLabelsWrap:I,elGoalsMarkers:P,visibleSeries:this.visibleI,type:"rangebar"})}l.add(N)}return l}},{key:"detectOverlappingBars",value:function(s){var a=s.i,i=s.j,o=s.barYPosition,l=s.barXPosition,c=s.srty,u=s.srtx,h=s.barHeight,f=s.barWidth,g=s.yDivision,x=s.xDivision,y=s.initPositions,b=this.w,v=[],N=b.config.series[a].data[i].rangeName,k=b.config.series[a].data[i].x,C=Array.isArray(k)?k.join(" "):k,R=b.globals.labels.map(function(I){return Array.isArray(I)?I.join(" "):I}).indexOf(C),_=b.globals.seriesRange[a].findIndex(function(I){return I.x===C&&I.overlaps.length>0});return this.isHorizontal?(o=b.config.plotOptions.bar.rangeBarGroupRows?c+g*R:c+h*this.visibleI+g*R,_>-1&&!b.config.plotOptions.bar.rangeBarOverlap&&(v=b.globals.seriesRange[a][_].overlaps).indexOf(N)>-1&&(o=(h=y.barHeight/v.length)*this.visibleI+g*(100-parseInt(this.barOptions.barHeight,10))/100/2+h*(this.visibleI+v.indexOf(N))+g*R)):(R>-1&&!b.globals.timescaleLabels.length&&(l=b.config.plotOptions.bar.rangeBarGroupRows?u+x*R:u+f*this.visibleI+x*R),_>-1&&!b.config.plotOptions.bar.rangeBarOverlap&&(v=b.globals.seriesRange[a][_].overlaps).indexOf(N)>-1&&(l=(f=y.barWidth/v.length)*this.visibleI+x*(100-parseInt(this.barOptions.barWidth,10))/100/2+f*(this.visibleI+v.indexOf(N))+x*R)),{barYPosition:o,barXPosition:l,barHeight:h,barWidth:f}}},{key:"drawRangeColumnPaths",value:function(s){var a=s.indexes,i=s.x,o=s.xDivision,l=s.barWidth,c=s.barXPosition,u=s.zeroH,h=this.w,f=a.i,g=a.j,x=a.realIndex,y=a.translationsIndex,b=this.yRatio[y],v=this.getRangeValue(x,g),N=Math.min(v.start,v.end),k=Math.max(v.start,v.end);this.series[f][g]===void 0||this.series[f][g]===null?N=u:(N=u-N/b,k=u-k/b);var C=Math.abs(k-N),R=this.barHelpers.getColumnPaths({barXPosition:c,barWidth:l,y1:N,y2:k,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:x,i:x,j:g,w:h});if(h.globals.isXNumeric){var _=this.getBarXForNumericXAxis({x:i,j:g,realIndex:x,barWidth:l});i=_.x,c=_.barXPosition}else i+=o;return{pathTo:R.pathTo,pathFrom:R.pathFrom,barHeight:C,x:i,y:v.start<0&&v.end<0?N:k,goalY:this.barHelpers.getGoalValues("y",null,u,f,g,y),barXPosition:c}}},{key:"preventBarOverflow",value:function(s){var a=this.w;return s<0&&(s=0),s>a.globals.gridWidth&&(s=a.globals.gridWidth),s}},{key:"drawRangeBarPaths",value:function(s){var a=s.indexes,i=s.y,o=s.y1,l=s.y2,c=s.yDivision,u=s.barHeight,h=s.barYPosition,f=s.zeroW,g=this.w,x=a.realIndex,y=a.j,b=this.preventBarOverflow(f+o/this.invertedYRatio),v=this.preventBarOverflow(f+l/this.invertedYRatio),N=this.getRangeValue(x,y),k=Math.abs(v-b),C=this.barHelpers.getBarpaths({barYPosition:h,barHeight:u,x1:b,x2:v,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:x,realIndex:x,j:y,w:g});return g.globals.isXNumeric||(i+=c),{pathTo:C.pathTo,pathFrom:C.pathFrom,barWidth:k,x:N.start<0&&N.end<0?b:v,goalX:this.barHelpers.getGoalValues("x",f,null,x,y),y:i}}},{key:"getRangeValue",value:function(s,a){var i=this.w;return{start:i.globals.seriesRangeStart[s][a],end:i.globals.seriesRangeEnd[s][a]}}}]),t}(),yde=function(){function r(e){it(this,r),this.w=e.w,this.lineCtx=e}return ot(r,[{key:"sameValueSeriesFix",value:function(e,t){var s=this.w;if((s.config.fill.type==="gradient"||s.config.fill.type[e]==="gradient")&&new wr(this.lineCtx.ctx,s).seriesHaveSameValues(e)){var a=t[e].slice();a[a.length-1]=a[a.length-1]+1e-6,t[e]=a}return t}},{key:"calculatePoints",value:function(e){var t=e.series,s=e.realIndex,a=e.x,i=e.y,o=e.i,l=e.j,c=e.prevY,u=this.w,h=[],f=[],g=this.lineCtx.categoryAxisCorrection+u.config.markers.offsetX;return u.globals.isXNumeric&&(g=(u.globals.seriesX[s][0]-u.globals.minX)/this.lineCtx.xRatio+u.config.markers.offsetX),l===0&&(h.push(g),f.push(oe.isNumber(t[o][0])?c+u.config.markers.offsetY:null)),h.push(a+u.config.markers.offsetX),f.push(oe.isNumber(t[o][l+1])?i+u.config.markers.offsetY:null),{x:h,y:f}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,s=e.pathFromArea,a=e.realIndex,i=this.w,o=0;o<i.globals.previousPaths.length;o++){var l=i.globals.previousPaths[o];(l.type==="line"||l.type==="area")&&l.paths.length>0&&parseInt(l.realIndex,10)===parseInt(a,10)&&(l.type==="line"?(this.lineCtx.appendPathFrom=!1,t=i.globals.previousPaths[o].paths[0].d):l.type==="area"&&(this.lineCtx.appendPathFrom=!1,s=i.globals.previousPaths[o].paths[0].d,i.config.stroke.show&&i.globals.previousPaths[o].paths[1]&&(t=i.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:t,pathFromArea:s}}},{key:"determineFirstPrevY",value:function(e){var t,s,a,i=e.i,o=e.realIndex,l=e.series,c=e.prevY,u=e.lineYPosition,h=e.translationsIndex,f=this.w,g=f.config.chart.stacked&&!f.globals.comboCharts||f.config.chart.stacked&&f.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[o])===null||t===void 0?void 0:t.type)==="bar"||((s=this.w.config.series[o])===null||s===void 0?void 0:s.type)==="column");if(((a=l[i])===null||a===void 0?void 0:a[0])!==void 0)c=(u=g&&i>0?this.lineCtx.prevSeriesY[i-1][0]:this.lineCtx.zeroY)-l[i][0]/this.lineCtx.yRatio[h]+2*(this.lineCtx.isReversed?l[i][0]/this.lineCtx.yRatio[h]:0);else if(g&&i>0&&l[i][0]===void 0){for(var x=i-1;x>=0;x--)if(l[x][0]!==null&&l[x][0]!==void 0){c=u=this.lineCtx.prevSeriesY[x][0];break}}return{prevY:c,lineYPosition:u}}}]),r}(),vde=function(r){for(var e,t,s,a,i=function(h){for(var f=[],g=h[0],x=h[1],y=f[0]=j1(g,x),b=1,v=h.length-1;b<v;b++)g=x,x=h[b+1],f[b]=.5*(y+(y=j1(g,x)));return f[b]=y,f}(r),o=r.length-1,l=[],c=0;c<o;c++)s=j1(r[c],r[c+1]),Math.abs(s)<1e-6?i[c]=i[c+1]=0:(a=(e=i[c]/s)*e+(t=i[c+1]/s)*t)>9&&(a=3*s/Math.sqrt(a),i[c]=a*e,i[c+1]=a*t);for(var u=0;u<=o;u++)a=(r[Math.min(o,u+1)][0]-r[Math.max(0,u-1)][0])/(6*(1+i[u]*i[u])),l.push([a||0,i[u]*a||0]);return l},wde=function(r){var e=vde(r),t=r[1],s=r[0],a=[],i=e[1],o=e[0];a.push(s,[s[0]+o[0],s[1]+o[1],t[0]-i[0],t[1]-i[1],t[0],t[1]]);for(var l=2,c=e.length;l<c;l++){var u=r[l],h=e[l];a.push([u[0]-h[0],u[1]-h[1],u[0],u[1]])}return a},Nde=function(r,e,t){var s=r.slice(e,t);if(e){if(t-e>1&&s[1].length<6){var a=s[0].length;s[1]=[2*s[0][a-2]-s[0][a-4],2*s[0][a-1]-s[0][a-3]].concat(s[1])}s[0]=s[0].slice(-2)}return s};function j1(r,e){return(e[1]-r[1])/(e[0]-r[0])}var k1=function(){function r(e,t,s){it(this,r),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||s,this.scatter=new GL(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new yde(this),this.markers=new Sh(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return ot(r,[{key:"draw",value:function(e,t,s,a){var i,o=this.w,l=new Ue(this.ctx),c=o.globals.comboCharts?t:o.config.chart.type,u=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),h=new wr(this.ctx,o);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=h.getLogSeries(e),this.yRatio=h.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var f=[],g=0;g<e.length;g++){e=this.lineHelpers.sameValueSeriesFix(g,e);var x=o.globals.comboCharts?s[g]:g,y=this.yRatio.length>1?x:0;this._initSerieVariables(e,g,x);var b=[],v=[],N=[],k=o.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,x),o.globals.isXNumeric&&o.globals.seriesX.length>0&&(k=(o.globals.seriesX[x][0]-o.globals.minX)/this.xRatio),N.push(k);var C,R=k,_=void 0,I=R,P=this.zeroY,T=this.zeroY;P=this.lineHelpers.determineFirstPrevY({i:g,realIndex:x,series:e,prevY:P,lineYPosition:0,translationsIndex:y}).prevY,o.config.stroke.curve==="monotoneCubic"&&e[g][0]===null?b.push(null):b.push(P),C=P,c==="rangeArea"&&(_=T=this.lineHelpers.determineFirstPrevY({i:g,realIndex:x,series:a,prevY:T,lineYPosition:0,translationsIndex:y}).prevY,v.push(b[0]!==null?T:null));var D=this._calculatePathsFrom({type:c,series:e,i:g,realIndex:x,translationsIndex:y,prevX:I,prevY:P,prevY2:T}),L=[b[0]],F=[v[0]],z={type:c,series:e,realIndex:x,translationsIndex:y,i:g,x:k,y:1,pX:R,pY:C,pathsFrom:D,linePaths:[],areaPaths:[],seriesIndex:s,lineYPosition:0,xArrj:N,yArrj:b,y2Arrj:v,seriesRangeEnd:a},O=this._iterateOverDataPoints(qe(qe({},z),{},{iterations:c==="rangeArea"?e[g].length-1:void 0,isRangeStart:!0}));if(c==="rangeArea"){for(var V=this._calculatePathsFrom({series:a,i:g,realIndex:x,prevX:I,prevY:T}),H=this._iterateOverDataPoints(qe(qe({},z),{},{series:a,xArrj:[k],yArrj:L,y2Arrj:F,pY:_,areaPaths:O.areaPaths,pathsFrom:V,iterations:a[g].length-1,isRangeStart:!1})),B=O.linePaths.length/2,q=0;q<B;q++)O.linePaths[q]=H.linePaths[q+B]+O.linePaths[q];O.linePaths.splice(B),O.pathFromLine=H.pathFromLine+O.pathFromLine}else O.pathFromArea+="z";this._handlePaths({type:c,realIndex:x,i:g,paths:O}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),f.push(this.elSeries)}if(((i=o.config.series[0])===null||i===void 0?void 0:i.zIndex)!==void 0&&f.sort(function($,Q){return Number($.node.getAttribute("zIndex"))-Number(Q.node.getAttribute("zIndex"))}),o.config.chart.stacked)for(var ee=f.length-1;ee>=0;ee--)u.add(f[ee]);else for(var G=0;G<f.length;G++)u.add(f[G]);return u}},{key:"_initSerieVariables",value:function(e,t,s){var a=this.w,i=new Ue(this.ctx);this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-(a.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[s]:a.config.stroke.width;var o=0;if(this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[s],o=s),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[o]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[o]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||a.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=i.group({class:"apexcharts-series",zIndex:a.config.series[s].zIndex!==void 0?a.config.series[s].zIndex:s,seriesName:oe.escapeString(a.globals.seriesNames[s])}),this.elPointsMain=i.group({class:"apexcharts-series-markers-wrap","data:realIndex":s}),a.globals.hasNullValues){var l=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[a.globals.gridHeight+a.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});l!==null&&this.elPointsMain.add(l)}this.elDataLabelsWrap=i.group({class:"apexcharts-datalabels","data:realIndex":s});var c=e[t].length===a.globals.dataPoints;this.elSeries.attr({"data:longestSeries":c,rel:t+1,"data:realIndex":s}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,s,a,i,o=e.type,l=e.series,c=e.i,u=e.realIndex,h=e.translationsIndex,f=e.prevX,g=e.prevY,x=e.prevY2,y=this.w,b=new Ue(this.ctx);if(l[c][0]===null){for(var v=0;v<l[c].length;v++)if(l[c][v]!==null){f=this.xDivision*v,g=this.zeroY-l[c][v]/this.yRatio[h],t=b.move(f,g),s=b.move(f,this.areaBottomY);break}}else t=b.move(f,g),o==="rangeArea"&&(t=b.move(f,x)+b.line(f,g)),s=b.move(f,this.areaBottomY)+b.line(f,g);if(a=b.move(0,this.areaBottomY)+b.line(0,this.areaBottomY),i=b.move(0,this.areaBottomY)+b.line(0,this.areaBottomY),y.globals.previousPaths.length>0){var N=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:i,realIndex:u});a=N.pathFromLine,i=N.pathFromArea}return{prevX:f,prevY:g,linePath:t,areaPath:s,pathFromLine:a,pathFromArea:i}}},{key:"_handlePaths",value:function(e){var t=e.type,s=e.realIndex,a=e.i,i=e.paths,o=this.w,l=new Ue(this.ctx),c=new si(this.ctx);this.prevSeriesY.push(i.yArrj),o.globals.seriesXvalues[s]=i.xArrj,o.globals.seriesYvalues[s]=i.yArrj;var u=o.config.forecastDataPoints;if(u.count>0&&t!=="rangeArea"){var h=o.globals.seriesXvalues[s][o.globals.seriesXvalues[s].length-u.count-1],f=l.drawRect(h,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(f.node);var g=l.drawRect(0,0,h,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(g.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:s});var x={i:a,realIndex:s,animationDelay:a,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var y=c.fillPath({seriesNumber:s}),b=0;b<i.areaPaths.length;b++){var v=l.renderPaths(qe(qe({},x),{},{pathFrom:i.pathFromArea,pathTo:i.areaPaths[b],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:y}));this.elSeries.add(v)}if(o.config.stroke.show&&!this.pointsChart){var N=null;if(t==="line")N=c.fillPath({seriesNumber:s,i:a});else if(o.config.stroke.fill.type==="solid")N=o.globals.stroke.colors[s];else{var k=o.config.fill;o.config.fill=o.config.stroke.fill,N=c.fillPath({seriesNumber:s,i:a}),o.config.fill=k}for(var C=0;C<i.linePaths.length;C++){var R=N;t==="rangeArea"&&(R=c.fillPath({seriesNumber:s}));var _=qe(qe({},x),{},{pathFrom:i.pathFromLine,pathTo:i.linePaths[C],stroke:N,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:t==="rangeArea"?R:"none"}),I=l.renderPaths(_);if(this.elSeries.add(I),I.attr("fill-rule","evenodd"),u.count>0&&t!=="rangeArea"){var P=l.renderPaths(_);P.node.setAttribute("stroke-dasharray",u.dashArray),u.strokeWidth&&P.node.setAttribute("stroke-width",u.strokeWidth),this.elSeries.add(P),P.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),I.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,s,a=this,i=e.type,o=e.series,l=e.iterations,c=e.realIndex,u=e.translationsIndex,h=e.i,f=e.x,g=e.y,x=e.pX,y=e.pY,b=e.pathsFrom,v=e.linePaths,N=e.areaPaths,k=e.seriesIndex,C=e.lineYPosition,R=e.xArrj,_=e.yArrj,I=e.y2Arrj,P=e.isRangeStart,T=e.seriesRangeEnd,D=this.w,L=new Ue(this.ctx),F=this.yRatio,z=b.prevY,O=b.linePath,V=b.areaPath,H=b.pathFromLine,B=b.pathFromArea,q=oe.isNumber(D.globals.minYArr[c])?D.globals.minYArr[c]:D.globals.minY;l||(l=D.globals.dataPoints>1?D.globals.dataPoints-1:D.globals.dataPoints);var ee=function(X,se){return se-X/F[u]+2*(a.isReversed?X/F[u]:0)},G=g,$=D.config.chart.stacked&&!D.globals.comboCharts||D.config.chart.stacked&&D.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[c])===null||t===void 0?void 0:t.type)==="bar"||((s=this.w.config.series[c])===null||s===void 0?void 0:s.type)==="column"),Q=D.config.stroke.curve;Array.isArray(Q)&&(Q=Array.isArray(k)?Q[k[h]]:Q[h]);for(var te,ne=0,ce=0;ce<l&&o[h].length!==0;ce++){var Re=o[h][ce+1]===void 0||o[h][ce+1]===null;if(D.globals.isXNumeric){var de=D.globals.seriesX[c][ce+1];D.globals.seriesX[c][ce+1]===void 0&&(de=D.globals.seriesX[c][l-1]),f=(de-D.globals.minX)/this.xRatio}else f+=this.xDivision;$?h>0&&D.globals.collapsedSeries.length<D.config.series.length-1?C=this.prevSeriesY[function(X){for(var se=X;se>0;se--){if(!(D.globals.collapsedSeriesIndices.indexOf(k?.[se]||se)>-1))return se;se--}return 0}(h-1)][ce+1]:C=this.zeroY:C=this.zeroY,Re?g=ee(q,C):(g=ee(o[h][ce+1],C),i==="rangeArea"&&(G=ee(T[h][ce+1],C))),R.push(o[h][ce+1]===null?null:f),!Re||D.config.stroke.curve!=="smooth"&&D.config.stroke.curve!=="monotoneCubic"?(_.push(g),I.push(G)):(_.push(null),I.push(null));var Me=this.lineHelpers.calculatePoints({series:o,x:f,y:g,realIndex:c,i:h,j:ce,prevY:z}),ue=this._createPaths({type:i,series:o,i:h,realIndex:c,j:ce,x:f,y:g,y2:G,xArrj:R,yArrj:_,y2Arrj:I,pX:x,pY:y,pathState:ne,segmentStartX:te,linePath:O,areaPath:V,linePaths:v,areaPaths:N,curve:Q,isRangeStart:P});N=ue.areaPaths,v=ue.linePaths,x=ue.pX,y=ue.pY,ne=ue.pathState,te=ue.segmentStartX,V=ue.areaPath,O=ue.linePath,!this.appendPathFrom||D.globals.hasNullValues||Q==="monotoneCubic"&&i==="rangeArea"||(H+=L.line(f,this.areaBottomY),B+=L.line(f,this.areaBottomY)),this.handleNullDataPoints(o,Me,h,ce,c),this._handleMarkersAndLabels({type:i,pointsPos:Me,i:h,j:ce,realIndex:c,isRangeStart:P})}return{yArrj:_,xArrj:R,pathFromArea:B,areaPaths:N,pathFromLine:H,linePaths:v,linePath:O,areaPath:V}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,s=e.pointsPos,a=e.isRangeStart,i=e.i,o=e.j,l=e.realIndex,c=this.w,u=new sh(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:l,pointsPos:s,zRatio:this.zRatio,elParent:this.elPointsMain});else{c.globals.series[i].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var h=this.markers.plotChartMarkers({pointsPos:s,seriesIndex:l,j:o+1});h!==null&&this.elPointsMain.add(h)}var f=u.drawDataLabel({type:t,isRangeStart:a,pos:s,i:l,j:o+1});f!==null&&this.elDataLabelsWrap.add(f)}},{key:"_createPaths",value:function(e){var t=e.type,s=e.series,a=e.i;e.realIndex;var i,o=e.j,l=e.x,c=e.y,u=e.xArrj,h=e.yArrj,f=e.y2,g=e.y2Arrj,x=e.pX,y=e.pY,b=e.pathState,v=e.segmentStartX,N=e.linePath,k=e.areaPath,C=e.linePaths,R=e.areaPaths,_=e.curve,I=e.isRangeStart,P=new Ue(this.ctx),T=this.areaBottomY,D=t==="rangeArea",L=t==="rangeArea"&&I;switch(_){case"monotoneCubic":var F=I?h:g;switch(b){case 0:if(F[o+1]===null)break;b=1;case 1:if(!(D?u.length===s[a].length:o===s[a].length-2))break;case 2:var z=I?u:u.slice().reverse(),O=I?F:F.slice().reverse(),V=(i=O,z.map(function(de,Me){return[de,i[Me]]}).filter(function(de){return de[1]!==null})),H=V.length>1?wde(V):V,B=[];D&&(L?R=V:B=R.reverse());var q=0,ee=0;if(function(de,Me){for(var ue=function(xe){var Ee=[],$e=0;return xe.forEach(function(rt){rt!==null?$e++:$e>0&&(Ee.push($e),$e=0)}),$e>0&&Ee.push($e),Ee}(de),X=[],se=0,ge=0;se<ue.length;ge+=ue[se++])X[se]=Nde(Me,ge,ge+ue[se]);return X}(O,H).forEach(function(de){q++;var Me=function(se){for(var ge="",xe=0;xe<se.length;xe++){var Ee=se[xe],$e=Ee.length;$e>4?(ge+="C".concat(Ee[0],", ").concat(Ee[1]),ge+=", ".concat(Ee[2],", ").concat(Ee[3]),ge+=", ".concat(Ee[4],", ").concat(Ee[5])):$e>2&&(ge+="S".concat(Ee[0],", ").concat(Ee[1]),ge+=", ".concat(Ee[2],", ").concat(Ee[3]))}return ge}(de),ue=ee,X=(ee+=de.length)-1;L?N=P.move(V[ue][0],V[ue][1])+Me:D?N=P.move(B[ue][0],B[ue][1])+P.line(V[ue][0],V[ue][1])+Me+P.line(B[X][0],B[X][1]):(N=P.move(V[ue][0],V[ue][1])+Me,k=N+P.line(V[X][0],T)+P.line(V[ue][0],T)+"z",R.push(k)),C.push(N)}),D&&q>1&&!L){var G=C.slice(q).reverse();C.splice(q),G.forEach(function(de){return C.push(de)})}b=0}break;case"smooth":var $=.35*(l-x);if(s[a][o]===null)b=0;else switch(b){case 0:if(v=x,N=L?P.move(x,g[o])+P.line(x,y):P.move(x,y),k=P.move(x,y),s[a][o+1]===null||s[a][o+1]===void 0){C.push(N),R.push(k);break}if(b=1,o<s[a].length-2){var Q=P.curve(x+$,y,l-$,c,l,c);N+=Q,k+=Q;break}case 1:if(s[a][o+1]===null)N+=L?P.line(x,f):P.move(x,y),k+=P.line(x,T)+P.line(v,T)+"z",C.push(N),R.push(k),b=-1;else{var te=P.curve(x+$,y,l-$,c,l,c);N+=te,k+=te,o>=s[a].length-2&&(L&&(N+=P.curve(l,c,l,c,l,f)+P.move(l,f)),k+=P.curve(l,c,l,c,l,T)+P.line(v,T)+"z",C.push(N),R.push(k),b=-1)}}x=l,y=c;break;default:var ne=function(de,Me,ue){var X=[];switch(de){case"stepline":X=P.line(Me,null,"H")+P.line(null,ue,"V");break;case"linestep":X=P.line(null,ue,"V")+P.line(Me,null,"H");break;case"straight":X=P.line(Me,ue)}return X};if(s[a][o]===null)b=0;else switch(b){case 0:if(v=x,N=L?P.move(x,g[o])+P.line(x,y):P.move(x,y),k=P.move(x,y),s[a][o+1]===null||s[a][o+1]===void 0){C.push(N),R.push(k);break}if(b=1,o<s[a].length-2){var ce=ne(_,l,c);N+=ce,k+=ce;break}case 1:if(s[a][o+1]===null)N+=L?P.line(x,f):P.move(x,y),k+=P.line(x,T)+P.line(v,T)+"z",C.push(N),R.push(k),b=-1;else{var Re=ne(_,l,c);N+=Re,k+=Re,o>=s[a].length-2&&(L&&(N+=P.line(l,f)),k+=P.line(l,T)+P.line(v,T)+"z",C.push(N),R.push(k),b=-1)}}x=l,y=c}return{linePaths:C,areaPaths:R,pX:x,pY:y,pathState:b,segmentStartX:v,linePath:N,areaPath:k}}},{key:"handleNullDataPoints",value:function(e,t,s,a,i){var o=this.w;if(e[s][a]===null&&o.config.markers.showNullDataPoints||e[s].length===1){var l=this.strokeWidth-o.config.markers.strokeWidth/2;l>0||(l=0);var c=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:i,j:a+1,pSize:l,alwaysDrawMarker:!0});c!==null&&this.elPointsMain.add(c)}}}]),r}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function r(l,c,u,h){this.xoffset=l,this.yoffset=c,this.height=h,this.width=u,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(f){var g,x=[],y=this.xoffset,b=this.yoffset,v=i(f)/this.height,N=i(f)/this.width;if(this.width>=this.height)for(g=0;g<f.length;g++)x.push([y,b,y+v,b+f[g]/v]),b+=f[g]/v;else for(g=0;g<f.length;g++)x.push([y,b,y+f[g]/N,b+N]),y+=f[g]/N;return x},this.cutArea=function(f){var g;if(this.width>=this.height){var x=f/this.height,y=this.width-x;g=new r(this.xoffset+x,this.yoffset,y,this.height)}else{var b=f/this.width,v=this.height-b;g=new r(this.xoffset,this.yoffset+b,this.width,v)}return g}}function e(l,c,u,h,f){h=h===void 0?0:h,f=f===void 0?0:f;var g=t(function(x,y){var b,v=[],N=y/i(x);for(b=0;b<x.length;b++)v[b]=x[b]*N;return v}(l,c*u),[],new r(h,f,c,u),[]);return function(x){var y,b,v=[];for(y=0;y<x.length;y++)for(b=0;b<x[y].length;b++)v.push(x[y][b]);return v}(g)}function t(l,c,u,h){var f,g,x;if(l.length!==0)return f=u.shortestEdge(),function(y,b,v){var N;if(y.length===0)return!0;(N=y.slice()).push(b);var k=s(y,v),C=s(N,v);return k>=C}(c,g=l[0],f)?(c.push(g),t(l.slice(1),c,u,h)):(x=u.cutArea(i(c),h),h.push(u.getCoordinates(c)),t(l,[],x,h)),h;h.push(u.getCoordinates(c))}function s(l,c){var u=Math.min.apply(Math,l),h=Math.max.apply(Math,l),f=i(l);return Math.max(Math.pow(c,2)*h/Math.pow(f,2),Math.pow(f,2)/(Math.pow(c,2)*u))}function a(l){return l&&l.constructor===Array}function i(l){var c,u=0;for(c=0;c<l.length;c++)u+=l[c];return u}function o(l){var c,u=0;if(a(l[0]))for(c=0;c<l.length;c++)u+=o(l[c]);else u=i(l);return u}return function l(c,u,h,f,g){f=f===void 0?0:f,g=g===void 0?0:g;var x,y,b=[],v=[];if(a(c[0])){for(y=0;y<c.length;y++)b[y]=o(c[y]);for(x=e(b,u,h,f,g),y=0;y<c.length;y++)v.push(l(c[y],x[y][2]-x[y][0],x[y][3]-x[y][1],x[y][0],x[y][1]))}else v=e(c,u,h,f,g);return v}}();var jde=function(){function r(e,t){it(this,r),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new rF(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return ot(r,[{key:"draw",value:function(e){var t=this,s=this.w,a=new Ue(this.ctx),i=new si(this.ctx),o=a.group({class:"apexcharts-treemap"});if(s.globals.noData)return o;var l=[];return e.forEach(function(c){var u=c.map(function(h){return Math.abs(h)});l.push(u)}),this.negRange=this.helpers.checkColorRange(),s.config.series.forEach(function(c,u){c.data.forEach(function(h){Array.isArray(t.labels[u])||(t.labels[u]=[]),t.labels[u].push(h.x)})}),window.TreemapSquared.generate(l,s.globals.gridWidth,s.globals.gridHeight).forEach(function(c,u){var h=a.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:oe.escapeString(s.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(s.config.chart.dropShadow.enabled){var f=s.config.chart.dropShadow;new ga(t.ctx).dropShadow(o,f,u)}var g=a.group({class:"apexcharts-data-labels"}),x={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};c.forEach(function(H,B){var q=H[0],ee=H[1],G=H[2],$=H[3];x.xMin=Math.min(x.xMin,q),x.yMin=Math.min(x.yMin,ee),x.xMax=Math.max(x.xMax,G),x.yMax=Math.max(x.yMax,$);var Q=t.helpers.getShadeColor(s.config.chart.type,u,B,t.negRange),te=Q.color,ne=i.fillPath({color:te,seriesNumber:u,dataPointIndex:B}),ce=a.drawRect(q,ee,G-q,$-ee,s.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,s.config.plotOptions.treemap.useFillColorAsStroke?te:s.globals.stroke.colors[u]);ce.attr({cx:q,cy:ee,index:u,i:u,j:B,width:G-q,height:$-ee,fill:ne}),ce.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(ce);var Re={x:q+(G-q)/2,y:ee+($-ee)/2,width:0,height:0},de={x:q,y:ee,width:G-q,height:$-ee};if(s.config.chart.animations.enabled&&!s.globals.dataChanged){var Me=1;s.globals.resized||(Me=s.config.chart.animations.speed),t.animateTreemap(ce,Re,de,Me)}if(s.globals.dataChanged){var ue=1;t.dynamicAnim.enabled&&s.globals.shouldAnimate&&(ue=t.dynamicAnim.speed,s.globals.previousPaths[u]&&s.globals.previousPaths[u][B]&&s.globals.previousPaths[u][B].rect&&(Re=s.globals.previousPaths[u][B].rect),t.animateTreemap(ce,Re,de,ue))}var X=t.getFontSize(H),se=s.config.dataLabels.formatter(t.labels[u][B],{value:s.globals.series[u][B],seriesIndex:u,dataPointIndex:B,w:s});s.config.plotOptions.treemap.dataLabels.format==="truncate"&&(X=parseInt(s.config.dataLabels.style.fontSize,10),se=t.truncateLabels(se,X,q,ee,G,$));var ge=null;s.globals.series[u][B]&&(ge=t.helpers.calculateDataLabels({text:se,x:(q+G)/2,y:(ee+$)/2+t.strokeWidth/2+X/3,i:u,j:B,colorProps:Q,fontSize:X,series:e})),s.config.dataLabels.enabled&&ge&&t.rotateToFitLabel(ge,X,se,q,ee,G,$),h.add(ce),ge!==null&&h.add(ge)});var y=s.config.plotOptions.treemap.seriesTitle;if(s.config.series.length>1&&y&&y.show){var b=s.config.series[u].name||"";if(b&&x.xMin<1/0&&x.yMin<1/0){var v=y.offsetX,N=y.offsetY,k=y.borderColor,C=y.borderWidth,R=y.borderRadius,_=y.style,I=_.color||s.config.chart.foreColor,P={left:_.padding.left,right:_.padding.right,top:_.padding.top,bottom:_.padding.bottom},T=a.getTextRects(b,_.fontSize,_.fontFamily),D=T.width+P.left+P.right,L=T.height+P.top+P.bottom,F=x.xMin+(v||0),z=x.yMin+(N||0),O=a.drawRect(F,z,D,L,R,_.background,1,C,k),V=a.drawText({x:F+P.left,y:z+P.top+.75*T.height,text:b,fontSize:_.fontSize,fontFamily:_.fontFamily,fontWeight:_.fontWeight,foreColor:I,cssClass:_.cssClass||""});h.add(O),h.add(V)}}h.add(g),o.add(h)}),o}},{key:"getFontSize",value:function(e){var t=this.w,s=function a(i){var o,l=0;if(Array.isArray(i[0]))for(o=0;o<i.length;o++)l+=a(i[o]);else for(o=0;o<i.length;o++)l+=i[o].length;return l}(this.labels)/function a(i){var o,l=0;if(Array.isArray(i[0]))for(o=0;o<i.length;o++)l+=a(i[o]);else for(o=0;o<i.length;o++)l+=1;return l}(this.labels);return function(a,i){var o=a*i,l=Math.pow(o,.5);return Math.min(l/s,parseInt(t.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,s,a,i,o,l){var c=new Ue(this.ctx),u=c.getTextRects(s,t);if(u.width+this.w.config.stroke.width+5>o-a&&u.width<=l-i){var h=c.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(h.x," ").concat(h.y,") translate(").concat(u.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,s,a,i,o){var l=new Ue(this.ctx),c=l.getTextRects(e,t).width+this.w.config.stroke.width+5>i-s&&o-a>i-s?o-a:i-s,u=l.getTextBasedOnMaxWidth({text:e,maxWidth:c,fontSize:t});return e.length!==u.length&&c/t<5?"":u}},{key:"animateTreemap",value:function(e,t,s,a){var i=new wh(this.ctx);i.animateRect(e,t,s,a,function(){i.animationCompleted(e)})}}]),r}(),iF=86400,kde=10/iF,Sde=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return ot(r,[{key:"calculateTimeScaleTicks",value:function(e,t){var s=this,a=this.w;if(a.globals.allSeriesCollapsed)return a.globals.labels=[],a.globals.timescaleLabels=[],[];var i=new ha(this.ctx),o=(t-e)/864e5;this.determineInterval(o),a.globals.disableZoomIn=!1,a.globals.disableZoomOut=!1,o<kde?a.globals.disableZoomIn=!0:o>5e4&&(a.globals.disableZoomOut=!0);var l=i.getTimeUnitsfromTimestamp(e,t,this.utc),c=a.globals.gridWidth/o,u=c/24,h=u/60,f=h/60,g=Math.floor(24*o),x=Math.floor(1440*o),y=Math.floor(o*iF),b=Math.floor(o),v=Math.floor(o/30),N=Math.floor(o/365),k={minMillisecond:l.minMillisecond,minSecond:l.minSecond,minMinute:l.minMinute,minHour:l.minHour,minDate:l.minDate,minMonth:l.minMonth,minYear:l.minYear},C={firstVal:k,currentMillisecond:k.minMillisecond,currentSecond:k.minSecond,currentMinute:k.minMinute,currentHour:k.minHour,currentMonthDate:k.minDate,currentDate:k.minDate,currentMonth:k.minMonth,currentYear:k.minYear,daysWidthOnXAxis:c,hoursWidthOnXAxis:u,minutesWidthOnXAxis:h,secondsWidthOnXAxis:f,numberOfSeconds:y,numberOfMinutes:x,numberOfHours:g,numberOfDays:b,numberOfMonths:v,numberOfYears:N};switch(this.tickInterval){case"years":this.generateYearScale(C);break;case"months":case"half_year":this.generateMonthScale(C);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(C);break;case"hours":this.generateHourScale(C);break;case"minutes_fives":case"minutes":this.generateMinuteScale(C);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(C)}var R=this.timeScaleArray.map(function(_){var I={position:_.position,unit:_.unit,year:_.year,day:_.day?_.day:1,hour:_.hour?_.hour:0,month:_.month+1};return _.unit==="month"?qe(qe({},I),{},{day:1,value:_.value+1}):_.unit==="day"||_.unit==="hour"?qe(qe({},I),{},{value:_.value}):_.unit==="minute"?qe(qe({},I),{},{value:_.value,minute:_.value}):_.unit==="second"?qe(qe({},I),{},{value:_.value,minute:_.minute,second:_.second}):_});return R.filter(function(_){var I=1,P=Math.ceil(a.globals.gridWidth/120),T=_.value;a.config.xaxis.tickAmount!==void 0&&(P=a.config.xaxis.tickAmount),R.length>P&&(I=Math.floor(R.length/P));var D=!1,L=!1;switch(s.tickInterval){case"years":_.unit==="year"&&(D=!0);break;case"half_year":I=7,_.unit==="year"&&(D=!0);break;case"months":I=1,_.unit==="year"&&(D=!0);break;case"months_fortnight":I=15,_.unit!=="year"&&_.unit!=="month"||(D=!0),T===30&&(L=!0);break;case"months_days":I=10,_.unit==="month"&&(D=!0),T===30&&(L=!0);break;case"week_days":I=8,_.unit==="month"&&(D=!0);break;case"days":I=1,_.unit==="month"&&(D=!0);break;case"hours":_.unit==="day"&&(D=!0);break;case"minutes_fives":case"seconds_fives":T%5!=0&&(L=!0);break;case"seconds_tens":T%10!=0&&(L=!0)}if(s.tickInterval==="hours"||s.tickInterval==="minutes_fives"||s.tickInterval==="seconds_tens"||s.tickInterval==="seconds_fives"){if(!L)return!0}else if((T%I==0||D)&&!L)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var s=this.w,a=this.formatDates(e),i=this.removeOverlappingTS(a);s.globals.timescaleLabels=i.slice(),new lb(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,s=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case s>15:this.tickInterval="minutes_fives";break;case s>5:this.tickInterval="minutes";break;case s>1:this.tickInterval="seconds_tens";break;case 60*s>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,s=e.currentMonth,a=e.currentYear,i=e.daysWidthOnXAxis,o=e.numberOfYears,l=t.minYear,c=0,u=new ha(this.ctx),h="year";if(t.minDate>1||t.minMonth>0){var f=u.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);c=(u.determineDaysOfYear(t.minYear)-f+1)*i,l=t.minYear+1,this.timeScaleArray.push({position:c,value:l,unit:h,year:l,month:oe.monthMod(s+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:c,value:l,unit:h,year:a,month:oe.monthMod(s+1)});for(var g=l,x=c,y=0;y<o;y++)g++,x=u.determineDaysOfYear(g-1)*i+x,this.timeScaleArray.push({position:x,value:g,unit:h,year:g,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,s=e.currentMonthDate,a=e.currentMonth,i=e.currentYear,o=e.daysWidthOnXAxis,l=e.numberOfMonths,c=a,u=0,h=new ha(this.ctx),f="month",g=0;if(t.minDate>1){u=(h.determineDaysOfMonths(a+1,t.minYear)-s+1)*o,c=oe.monthMod(a+1);var x=i+g,y=oe.monthMod(c),b=c;c===0&&(f="year",b=x,y=1,x+=g+=1),this.timeScaleArray.push({position:u,value:b,unit:f,year:x,month:y})}else this.timeScaleArray.push({position:u,value:c,unit:f,year:i,month:oe.monthMod(a)});for(var v=c+1,N=u,k=0,C=1;k<l;k++,C++){(v=oe.monthMod(v))===0?(f="year",g+=1):f="month";var R=this._getYear(i,v,g);N=h.determineDaysOfMonths(v,R)*o+N;var _=v===0?R:v;this.timeScaleArray.push({position:N,value:_,unit:f,year:R,month:v===0?1:v}),v++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,s=e.currentMonth,a=e.currentYear,i=e.hoursWidthOnXAxis,o=e.numberOfDays,l=new ha(this.ctx),c="day",u=t.minDate+1,h=u,f=function(C,R,_){return C>l.determineDaysOfMonths(R+1,_)&&(h=1,c="month",x=R+=1),R},g=(24-t.minHour)*i,x=u,y=f(h,s,a);t.minHour===0&&t.minDate===1?(g=0,x=oe.monthMod(t.minMonth),c="month",h=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(g=0,u=t.minDate,x=u,y=f(h=u,s,a),x!==1&&(c="day")),this.timeScaleArray.push({position:g,value:x,unit:c,year:this._getYear(a,y,0),month:oe.monthMod(y),day:h});for(var b=g,v=0;v<o;v++){c="day",y=f(h+=1,y,this._getYear(a,y,0));var N=this._getYear(a,y,0);b=24*i+b;var k=h===1?oe.monthMod(y):h;this.timeScaleArray.push({position:b,value:k,unit:c,year:N,month:oe.monthMod(y),day:k})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,s=e.currentDate,a=e.currentMonth,i=e.currentYear,o=e.minutesWidthOnXAxis,l=e.numberOfHours,c=new ha(this.ctx),u="hour",h=function(I,P){return I>c.determineDaysOfMonths(P+1,i)&&(v=1,P+=1),{month:P,date:v}},f=function(I,P){return I>c.determineDaysOfMonths(P+1,i)?P+=1:P},g=60-(t.minMinute+t.minSecond/60),x=g*o,y=t.minHour+1,b=y;g===60&&(x=0,b=y=t.minHour);var v=s;b>=24&&(b=0,u="day",y=v+=1);var N=h(v,a).month;N=f(v,N),y>31&&(y=v=1),this.timeScaleArray.push({position:x,value:y,unit:u,day:v,hour:b,year:i,month:oe.monthMod(N)}),b++;for(var k=x,C=0;C<l;C++){u="hour",b>=24&&(b=0,u="day",N=h(v+=1,N).month,N=f(v,N));var R=this._getYear(i,N,0);k=60*o+k;var _=b===0?v:b;this.timeScaleArray.push({position:k,value:_,unit:u,hour:b,day:v,year:R,month:oe.monthMod(N)}),b++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,s=e.currentSecond,a=e.currentMinute,i=e.currentHour,o=e.currentDate,l=e.currentMonth,c=e.currentYear,u=e.minutesWidthOnXAxis,h=e.secondsWidthOnXAxis,f=e.numberOfMinutes,g=a+1,x=o,y=l,b=c,v=i,N=(60-s-t/1e3)*h,k=0;k<f;k++)g>=60&&(g=0,(v+=1)===24&&(v=0)),this.timeScaleArray.push({position:N,value:g,unit:"minute",hour:v,minute:g,day:x,year:this._getYear(b,y,0),month:oe.monthMod(y)}),N+=u,g++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,s=e.currentSecond,a=e.currentMinute,i=e.currentHour,o=e.currentDate,l=e.currentMonth,c=e.currentYear,u=e.secondsWidthOnXAxis,h=e.numberOfSeconds,f=s+1,g=a,x=o,y=l,b=c,v=i,N=(1e3-t)/1e3*u,k=0;k<h;k++)f>=60&&(f=0,++g>=60&&(g=0,++v===24&&(v=0))),this.timeScaleArray.push({position:N,value:f,unit:"second",hour:v,minute:g,second:f,day:x,year:this._getYear(b,y,0),month:oe.monthMod(y)}),N+=u,f++}},{key:"createRawDateString",value:function(e,t){var s=e.year;return e.month===0&&(e.month=1),s+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?s+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":s+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?s+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":s+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?s+=":"+("0"+t).slice(-2):s+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?s+=":"+("0"+t).slice(-2):s+=":00",this.utc&&(s+=".000Z"),s}},{key:"formatDates",value:function(e){var t=this,s=this.w;return e.map(function(a){var i=a.value.toString(),o=new ha(t.ctx),l=t.createRawDateString(a,i),c=o.getDate(o.parseDate(l));if(t.utc||(c=o.getDate(o.parseDateWithTimezone(l))),s.config.xaxis.labels.format===void 0){var u="dd MMM",h=s.config.xaxis.labels.datetimeFormatter;a.unit==="year"&&(u=h.year),a.unit==="month"&&(u=h.month),a.unit==="day"&&(u=h.day),a.unit==="hour"&&(u=h.hour),a.unit==="minute"&&(u=h.minute),a.unit==="second"&&(u=h.second),i=o.formatDate(c,u)}else i=o.formatDate(c,s.config.xaxis.labels.format);return{dateString:l,position:a.position,value:i,unit:a.unit,year:a.year,month:a.month}})}},{key:"removeOverlappingTS",value:function(e){var t,s=this,a=new Ue(this.ctx),i=!1;e.length>0&&e[0].value&&e.every(function(c){return c.value.length===e[0].value.length})&&(i=!0,t=a.getTextRects(e[0].value).width);var o=0,l=e.map(function(c,u){if(u>0&&s.w.config.xaxis.labels.hideOverlappingLabels){var h=i?t:a.getTextRects(e[o].value).width,f=e[o].position;return c.position>f+h+10?(o=u,c):null}return c});return l=l.filter(function(c){return c!==null})}},{key:"_getYear",value:function(e,t,s){return e+Math.floor(t/12)+s}}]),r}(),_de=function(){function r(e,t){it(this,r),this.ctx=t,this.w=t.w,this.el=e}return ot(r,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,s=e.config,a=s.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(a),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(a),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(a)&&s.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),Ue.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(s.chart.offsetX,", ").concat(s.chart.offsetY,")")}),t.dom.Paper.node.style.background=s.theme.mode!=="dark"||s.chart.background?s.theme.mode!=="light"||s.chart.background?s.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),Ue.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var s=this.w,a=this.ctx,i=s.config,o=s.globals,l={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},c=i.chart.type||"line",u=null,h=0;o.series.forEach(function(I,P){var T,D,L=((T=e[P])===null||T===void 0?void 0:T.type)==="column"?"bar":((D=e[P])===null||D===void 0?void 0:D.type)||(c==="column"?"bar":c);l[L]?(L==="rangeArea"?(l[L].series.push(o.seriesRangeStart[P]),l[L].seriesRangeEnd.push(o.seriesRangeEnd[P])):l[L].series.push(I),l[L].i.push(P),L==="bar"&&(s.globals.columnSeries=l.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(L)?u=L:console.warn("You have specified an unrecognized series type (".concat(L,").")),c!==L&&L!=="scatter"&&h++}),h>0&&(u&&console.warn("Chart or series type ".concat(u," cannot appear with other chart or series types.")),l.bar.series.length>0&&i.plotOptions.bar.horizontal&&(h-=l.bar.series.length,l.bar={series:[],i:[]},s.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),o.comboCharts||(o.comboCharts=h>0);var f=new k1(a,t),g=new N1(a,t);a.pie=new nF(a);var x=new xde(a);a.rangeBar=new bde(a,t);var y=new pde(a),b=[];if(o.comboCharts){var v,N,k=new wr(a);if(l.area.series.length>0&&(v=b).push.apply(v,Yr(k.drawSeriesByGroup(l.area,o.areaGroups,"area",f))),l.bar.series.length>0)if(i.chart.stacked){var C=new a4(a,t);b.push(C.draw(l.bar.series,l.bar.i))}else a.bar=new rh(a,t),b.push(a.bar.draw(l.bar.series,l.bar.i));if(l.rangeArea.series.length>0&&b.push(f.draw(l.rangeArea.series,"rangeArea",l.rangeArea.i,l.rangeArea.seriesRangeEnd)),l.line.series.length>0&&(N=b).push.apply(N,Yr(k.drawSeriesByGroup(l.line,o.lineGroups,"line",f))),l.candlestick.series.length>0&&b.push(g.draw(l.candlestick.series,"candlestick",l.candlestick.i)),l.boxPlot.series.length>0&&b.push(g.draw(l.boxPlot.series,"boxPlot",l.boxPlot.i)),l.rangeBar.series.length>0&&b.push(a.rangeBar.draw(l.rangeBar.series,l.rangeBar.i)),l.scatter.series.length>0){var R=new k1(a,t,!0);b.push(R.draw(l.scatter.series,"scatter",l.scatter.i))}if(l.bubble.series.length>0){var _=new k1(a,t,!0);b.push(_.draw(l.bubble.series,"bubble",l.bubble.i))}}else switch(i.chart.type){case"line":b=f.draw(o.series,"line");break;case"area":b=f.draw(o.series,"area");break;case"bar":i.chart.stacked?b=new a4(a,t).draw(o.series):(a.bar=new rh(a,t),b=a.bar.draw(o.series));break;case"candlestick":b=new N1(a,t).draw(o.series,"candlestick");break;case"boxPlot":b=new N1(a,t).draw(o.series,i.chart.type);break;case"rangeBar":b=a.rangeBar.draw(o.series);break;case"rangeArea":b=f.draw(o.seriesRangeStart,"rangeArea",void 0,o.seriesRangeEnd);break;case"heatmap":b=new gde(a,t).draw(o.series);break;case"treemap":b=new jde(a,t).draw(o.series);break;case"pie":case"donut":case"polarArea":b=a.pie.draw(o.series);break;case"radialBar":b=x.draw(o.series);break;case"radar":b=y.draw(o.series);break;default:b=f.draw(o.series)}return b}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,s=e.config;s.chart.width=s.chart.width||"100%",s.chart.height=s.chart.height||"auto",t.svgWidth=s.chart.width,t.svgHeight=s.chart.height;var a=oe.getDimensions(this.el),i=s.chart.width.toString().split(/[0-9]+/g).pop();i==="%"?oe.isNumber(a[0])&&(a[0].width===0&&(a=oe.getDimensions(this.el.parentNode)),t.svgWidth=a[0]*parseInt(s.chart.width,10)/100):i!=="px"&&i!==""||(t.svgWidth=parseInt(s.chart.width,10));var o=String(s.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(o==="%"){var l=oe.getDimensions(this.el.parentNode);t.svgHeight=l[1]*parseInt(s.chart.height,10)/100}else t.svgHeight=parseInt(s.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),Ue.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),o!=="%"){var c=s.chart.sparkline.enabled?0:t.axisCharts?s.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+c,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,s=e.translateX;Ue.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(s,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=0,a=e.config.chart.sparkline.enabled?1:15;a+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(s=new JL(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var i=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*e.globals.radialSize;if(i&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var l=oe.getBoundingClientRect(i);o=l.bottom;var c=l.bottom-l.top;o=Math.max(2.05*e.globals.radialSize,c)}var u=Math.ceil(o+t.translateY+s+a);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",u),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(u,"px"),Ue.setAttrs(t.dom.Paper.node,{height:u}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(u,"px"))}},{key:"coreCalculations",value:function(){new nj(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},s=new XL,a=this.w.globals,i={dataWasParsed:a.dataWasParsed,originalSeries:a.originalSeries};s.initGlobalVars(a),a.seriesXvalues=t(),a.seriesYvalues=t(),i.dataWasParsed&&(a.dataWasParsed=i.dataWasParsed,a.originalSeries=i.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new ij(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new ij(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Sde(this.ctx);var s=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(s)}t=new wr(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,s=this.w;if(s.config.chart.brush.enabled&&typeof s.config.chart.events.selection!="function"){var a=Array.isArray(s.config.chart.brush.targets)?s.config.chart.brush.targets:[s.config.chart.brush.target];a.forEach(function(i){var o=t.constructor.getChartByID(i);o.w.globals.brushSource=e.ctx,typeof o.w.config.chart.events.zoomed!="function"&&(o.w.config.chart.events.zoomed=function(){return e.updateSourceChart(o)}),typeof o.w.config.chart.events.scrolled!="function"&&(o.w.config.chart.events.scrolled=function(){return e.updateSourceChart(o)})}),s.config.chart.events.selection=function(i,o){a.forEach(function(l){t.constructor.getChartByID(l).ctx.updateHelpers._updateOptions({xaxis:{min:o.xaxis.min,max:o.xaxis.max}},!1,!1,!1,!1)})}}}}]),r}(),Ade=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"_updateOptions",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(l){var c=[t.ctx];i&&(c=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(c=[t.ctx],t.ctx.w.globals.isExecCalled=!1),c.forEach(function(u,h){var f=u.w;if(f.globals.shouldAnimate=a,s||(f.globals.resized=!0,f.globals.dataChanged=!0,a&&u.series.getPreviousPaths()),e&&Ra(e)==="object"&&(u.config=new tg(e),e=wr.extendArrayProps(u.config,e,f),u.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,f.config=oe.extend(f.config,e),o&&(f.globals.lastXAxis=e.xaxis?oe.clone(e.xaxis):[],f.globals.lastYAxis=e.yaxis?oe.clone(e.yaxis):[],f.globals.initialConfig=oe.extend({},f.config),f.globals.initialSeries=oe.clone(f.config.series),e.series))){for(var g=0;g<f.globals.collapsedSeriesIndices.length;g++){var x=f.config.series[f.globals.collapsedSeriesIndices[g]];f.globals.collapsedSeries[g].data=f.globals.axisCharts?x.data.slice():x}for(var y=0;y<f.globals.ancillaryCollapsedSeriesIndices.length;y++){var b=f.config.series[f.globals.ancillaryCollapsedSeriesIndices[y]];f.globals.ancillaryCollapsedSeries[y].data=f.globals.axisCharts?b.data.slice():b}u.series.emptyCollapsedSeries(f.config.series)}return u.update(e).then(function(){h===c.length-1&&l(u)})})})}},{key:"_updateSeries",value:function(e,t){var s=this,a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(i){var o=s.w;return o.globals.shouldAnimate=t,o.globals.dataChanged=!0,t&&s.ctx.series.getPreviousPaths(),s.ctx.data.resetParsingFlags(),s.ctx.data.parseData(e),a&&(o.globals.initialConfig.series=oe.clone(o.config.series),o.globals.initialSeries=oe.clone(o.config.series)),s.ctx.update().then(function(){i(s.ctx)})})}},{key:"_extendSeries",value:function(e,t){var s=this.w,a=s.config.series[t];return qe(qe({},s.config.series[t]),{},{name:e.name?e.name:a?.name,color:e.color?e.color:a?.color,type:e.type?e.type:a?.type,group:e.group?e.group:a?.group,hidden:e.hidden!==void 0?e.hidden:a?.hidden,data:e.data?e.data:a?.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var s=this.w,a=null,i=".apexcharts-series[data\\:realIndex='".concat(e,"']");return s.globals.axisCharts?a=s.globals.dom.Paper.findOne("".concat(i," path[j='").concat(t,"'], ").concat(i," circle[j='").concat(t,"'], ").concat(i," rect[j='").concat(t,"']")):t===void 0&&(a=s.globals.dom.Paper.findOne("".concat(i," path[j='").concat(e,"']")),s.config.chart.type!=="pie"&&s.config.chart.type!=="polarArea"&&s.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),a?(new Ue(this.ctx).pathMouseDown(a,null),a.node?a.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(a){e.xaxis[a]!==void 0&&(t.config.xaxis[a]=e.xaxis[a],t.globals.lastXAxis[a]=e.xaxis[a])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var s=new eg(e);e=s.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,s){e.yaxis[s].min=0,e.yaxis[s].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,s=this.w,a=s.globals.lastXAxis,i=s.globals.lastYAxis;e&&e.xaxis&&(a=e.xaxis),e&&e.yaxis&&(i=e.yaxis),s.config.xaxis.min=a.min,s.config.xaxis.max=a.max;var o=function(l){i[l]!==void 0&&(s.config.yaxis[l].min=i[l].min,s.config.yaxis[l].max=i[l].max)};s.config.yaxis.map(function(l,c){s.globals.zoomed||i[c]!==void 0?o(c):t.ctx.opts.yaxis[c]!==void 0&&(l.min=t.ctx.opts.yaxis[c].min,l.max=t.ctx.opts.yaxis[c].max)})}}]),r}();(function(){function r(){for(var i=arguments.length>0&&arguments[0]!==f?arguments[0]:[],o=arguments.length>1?arguments[1]:f,l=arguments.length>2?arguments[2]:f,c=arguments.length>3?arguments[3]:f,u=arguments.length>4?arguments[4]:f,h=arguments.length>5?arguments[5]:f,f=arguments.length>6?arguments[6]:f,g=i.slice(o,l||f),x=c.slice(u,h||f),y=0,b={pos:[0,0],start:[0,0]},v={pos:[0,0],start:[0,0]};g[y]=e.call(b,g[y]),x[y]=e.call(v,x[y]),g[y][0]!=x[y][0]||g[y][0]=="M"||g[y][0]=="A"&&(g[y][4]!=x[y][4]||g[y][5]!=x[y][5])?(Array.prototype.splice.apply(g,[y,1].concat(s.call(b,g[y]))),Array.prototype.splice.apply(x,[y,1].concat(s.call(v,x[y])))):(g[y]=t.call(b,g[y]),x[y]=t.call(v,x[y])),!(++y==g.length&&y==x.length);)y==g.length&&g.push(["C",b.pos[0],b.pos[1],b.pos[0],b.pos[1],b.pos[0],b.pos[1]]),y==x.length&&x.push(["C",v.pos[0],v.pos[1],v.pos[0],v.pos[1],v.pos[0],v.pos[1]]);return{start:g,dest:x}}function e(i){switch(i[0]){case"z":case"Z":i[0]="L",i[1]=this.start[0],i[2]=this.start[1];break;case"H":i[0]="L",i[2]=this.pos[1];break;case"V":i[0]="L",i[2]=i[1],i[1]=this.pos[0];break;case"T":i[0]="Q",i[3]=i[1],i[4]=i[2],i[1]=this.reflection[1],i[2]=this.reflection[0];break;case"S":i[0]="C",i[6]=i[4],i[5]=i[3],i[4]=i[2],i[3]=i[1],i[2]=this.reflection[1],i[1]=this.reflection[0]}return i}function t(i){var o=i.length;return this.pos=[i[o-2],i[o-1]],"SCQT".indexOf(i[0])!=-1&&(this.reflection=[2*this.pos[0]-i[o-4],2*this.pos[1]-i[o-3]]),i}function s(i){var o=[i];switch(i[0]){case"M":return this.pos=this.start=[i[1],i[2]],o;case"L":i[5]=i[3]=i[1],i[6]=i[4]=i[2],i[1]=this.pos[0],i[2]=this.pos[1];break;case"Q":i[6]=i[4],i[5]=i[3],i[4]=1*i[4]/3+2*i[2]/3,i[3]=1*i[3]/3+2*i[1]/3,i[2]=1*this.pos[1]/3+2*i[2]/3,i[1]=1*this.pos[0]/3+2*i[1]/3;break;case"A":o=function(l,c){var u,h,f,g,x,y,b,v,N,k,C,R,_,I,P,T,D,L,F,z,O,V,H,B,q,ee,G=Math.abs(c[1]),$=Math.abs(c[2]),Q=c[3]%360,te=c[4],ne=c[5],ce=c[6],Re=c[7],de=new Ns(l),Me=new Ns(ce,Re),ue=[];if(G===0||$===0||de.x===Me.x&&de.y===Me.y)return[["C",de.x,de.y,Me.x,Me.y,Me.x,Me.y]];for(u=new Ns((de.x-Me.x)/2,(de.y-Me.y)/2).transform(new yt().rotate(Q)),h=u.x*u.x/(G*G)+u.y*u.y/($*$),h>1&&(G*=h=Math.sqrt(h),$*=h),f=new yt().rotate(Q).scale(1/G,1/$).rotate(-Q),de=de.transform(f),Me=Me.transform(f),g=[Me.x-de.x,Me.y-de.y],y=g[0]*g[0]+g[1]*g[1],x=Math.sqrt(y),g[0]/=x,g[1]/=x,b=y<4?Math.sqrt(1-y/4):0,te===ne&&(b*=-1),v=new Ns((Me.x+de.x)/2+b*-g[1],(Me.y+de.y)/2+b*g[0]),N=new Ns(de.x-v.x,de.y-v.y),k=new Ns(Me.x-v.x,Me.y-v.y),C=Math.acos(N.x/Math.sqrt(N.x*N.x+N.y*N.y)),N.y<0&&(C*=-1),R=Math.acos(k.x/Math.sqrt(k.x*k.x+k.y*k.y)),k.y<0&&(R*=-1),ne&&C>R&&(R+=2*Math.PI),!ne&&C<R&&(R-=2*Math.PI),I=Math.ceil(2*Math.abs(C-R)/Math.PI),T=[],D=C,_=(R-C)/I,P=4*Math.tan(_/4)/3,O=0;O<=I;O++)F=Math.cos(D),L=Math.sin(D),z=new Ns(v.x+F,v.y+L),T[O]=[new Ns(z.x+P*L,z.y-P*F),z,new Ns(z.x-P*L,z.y+P*F)],D+=_;for(T[0][0]=T[0][1].clone(),T[T.length-1][2]=T[T.length-1][1].clone(),f=new yt().rotate(Q).scale(G,$).rotate(-Q),O=0,V=T.length;O<V;O++)T[O][0]=T[O][0].transform(f),T[O][1]=T[O][1].transform(f),T[O][2]=T[O][2].transform(f);for(O=1,V=T.length;O<V;O++)H=(z=T[O-1][2]).x,B=z.y,q=(z=T[O][0]).x,ee=z.y,ce=(z=T[O][1]).x,Re=z.y,ue.push(["C",H,B,q,ee,ce,Re]);return ue}(this.pos,i),i=o[0]}return i[0]="C",this.pos=[i[5],i[6]],this.reflection=[2*i[5]-i[3],2*i[6]-i[4]],o}function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;if(o===!1)return!1;for(var l=o,c=i.length;l<c;++l)if(i[l][0]=="M")return l;return!1}At(Zn,{morph:function(i,o,l,c,u){for(var h=this.parse(i),f=this.parse(o),g=0,x=0,y=!1,b=!1;g!==!1||x!==!1;){var v;y=a(h,g!==!1&&g+1),b=a(f,x!==!1&&x+1),g===!1&&(g=(v=new Zn(N.start).bbox()).height==0||v.width==0?h.push(h[0])-1:h.push(["M",v.x+v.width/2,v.y+v.height/2])-1),x===!1&&(x=(v=new Zn(N.dest).bbox()).height==0||v.width==0?f.push(f[0])-1:f.push(["M",v.x+v.width/2,v.y+v.height/2])-1);var N=r(h,g,y,f,x,b);h=h.slice(0,g).concat(N.start,y===!1?[]:h.slice(y)),f=f.slice(0,x).concat(N.dest,b===!1?[]:f.slice(b)),g=y!==!1&&g+N.start.length,x=b!==!1&&x+N.dest.length}this._array=h,this.destination=new Zn,this.destination._array=f;var k=this.fromArray(h.map(function(C,R){var _=f[R].map(function(I,P){return P===0?I:c.step(C[P],f[R][P],l,u[R],u)});return _}));return k}})})();const n4=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY});class Cde{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(n4(e));const s=(t?"mouseup":"touchend")+".drag";Ao(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Ao(window,s,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:s}=this,a=this.el.point(n4(e)),i=a.x-s.x,o=a.y-s.y;if(!i&&!o)return t;const l=t.x+i,c=t.y+o;this.box=new vr(l,c,t.w,t.h),this.lastClick=a,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(l,c)}move(e,t){this.el.type==="svg"?Cl.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Fn(window,"mousemove.drag"),Fn(window,"touchmove.drag"),Fn(window,"mouseup.drag"),Fn(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function oj(r,e,t,s=null){return function(a){a.preventDefault(),a.stopPropagation();var i=a.pageX||a.touches[0].pageX,o=a.pageY||a.touches[0].pageY;e.fire(r,{x:i,y:o,event:a,index:s,points:t})}}function lj([r,e],{a:t,b:s,c:a,d:i,e:o,f:l}){return[r*t+e*a+o,r*s+e*i+l]}At(xa,{draggable(r=!0){return(this.remember("_draggable")||new Cde(this)).init(r),this}});let oF=class{constructor(r){this.el=r,r.remember("_selectHandler",this),this.selection=new Cl,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Lg();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.createRot=r.createRot||this.createRotFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.updateRot=r.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((r,e,t)=>{const s=this.order[e];this.createHandle.call(this,this.selection,r,e,t,s),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+s).on("mousedown.selection touchstart.selection",oj(s,this.el,this.handlePoints,e))})}createHandleFn(r){r.polyline()}updateHandleFn(r,e,t,s){const a=s.at(t-1),i=s[(t+1)%s.length],o=e,l=[o[0]-a[0],o[1]-a[1]],c=[o[0]-i[0],o[1]-i[1]],u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=Math.sqrt(c[0]*c[0]+c[1]*c[1]),f=[l[0]/u,l[1]/u],g=[c[0]/h,c[1]/h],x=[o[0]-10*f[0],o[1]-10*f[1]],y=[o[0]-10*g[0],o[1]-10*g[1]];r.plot([x,o,y])}updateResizeHandles(){this.handlePoints.forEach((r,e,t)=>{const s=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),r,e,t,s)})}createRotFn(r){r.line(),r.circle(5)}getPoint(r){return this.handlePoints[this.order.indexOf(r)]}getPointHandle(r){return this.selection.get(this.order.indexOf(r)+1)}updateRotFn(r,e){const t=this.getPoint("t");r.get(0).plot(t[0],t[1],e[0],e[1]),r.get(1).center(e[0],e[1])}createRotationHandle(){const r=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",oj("rot",this.el,this.handlePoints));this.createRot.call(this,r)}updateRotationHandle(){const r=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(r,this.rotationPoint,this.handlePoints)}updatePoints(){const r=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(r).map(t=>lj(t,e)),this.rotationPoint=lj(this.getRotationPoint(r),e)}getHandlePoints({x:r,x2:e,y:t,y2:s,cx:a,cy:i}=this.el.bbox()){return[[r,t],[a,t],[e,t],[e,i],[e,s],[a,s],[r,s],[r,i]]}getRotationPoint({y:r,cx:e}=this.el.bbox()){return[e,r-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const i4=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let s=this.remember("_"+r.name);return s||(e.prototype instanceof oF?(s=new e(this),e=!0):s=new r(this),this.remember("_"+r.name,s)),s.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function cj(r,e,t,s=null){return function(a){a.preventDefault(),a.stopPropagation();var i=a.pageX||a.touches[0].pageX,o=a.pageY||a.touches[0].pageY;e.fire(r,{x:i,y:o,event:a,index:s,points:t})}}function dj([r,e],{a:t,b:s,c:a,d:i,e:o,f:l}){return[r*t+e*a+o,r*s+e*i+l]}At(xa,{select:i4(oF)}),At([Xc,Gc,qc],{pointSelect:i4(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new Cl,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Lg();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",oj("point",this.el,this.points,e))})}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)})}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>lj(e,r))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class lF{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new Cl,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Lg();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,s)=>{const a=this.order[t];this.createHandle.call(this,this.selection,e,t,s,a),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+a).on("mousedown.selection touchstart.selection",cj(a,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,s,a){const i=a.at(s-1),o=a[(s+1)%a.length],l=t,c=[l[0]-i[0],l[1]-i[1]],u=[l[0]-o[0],l[1]-o[1]],h=Math.sqrt(c[0]*c[0]+c[1]*c[1]),f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),g=[c[0]/h,c[1]/h],x=[u[0]/f,u[1]/f],y=[l[0]-10*g[0],l[1]-10*g[1]],b=[l[0]-10*x[0],l[1]-10*x[1]];e.plot([y,l,b])}updateResizeHandles(){this.handlePoints.forEach((e,t,s)=>{const a=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,s,a)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const s=this.getPoint("t");e.get(0).plot(s[0],s[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",cj("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(s=>dj(s,t)),this.rotationPoint=dj(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:s,y2:a,cx:i,cy:o}=this.el.bbox()){return[[e,s],[i,s],[t,s],[t,o],[t,a],[i,a],[e,a],[e,o]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const o4=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let s=this.remember("_"+r.name);return s||(e.prototype instanceof lF?(s=new e(this),e=!0):s=new r(this),this.remember("_"+r.name,s)),s.active(e,t),this};At(xa,{select:o4(lF)}),At([Xc,Gc,qc],{pointSelect:o4(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new Cl,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Lg();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",cj("point",this.el,this.points,e))})}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)})}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>dj(e,r))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const Fx=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY}),l4=r=>{let e=1/0,t=1/0,s=-1/0,a=-1/0;for(let i=0;i<r.length;i++){const o=r[i];e=Math.min(e,o[0]),t=Math.min(t,o[1]),s=Math.max(s,o[0]),a=Math.max(a,o[1])}return new vr(e,t,s-e,a-t)};class c4{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:s,points:a}=e.detail,i=!t.type.indexOf("mouse");if(i&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(Fx(t)),this.index=s,this.points=a.slice();const o=(i?"mousemove":"touchmove")+".resize",l=(i?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?Ao(window,o,this.movePoint):e.type==="rot"?Ao(window,o,this.rotate):Ao(window,o,this.resize),Ao(window,l,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(Fx(e)));let s=t.x-this.startPoint.x,a=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(s*=2,a*=2);const i=this.box.x+s,o=this.box.y+a,l=this.box.x2+s,c=this.box.y2+a;let u=new vr(this.box);if(this.eventType.includes("l")&&(u.x=Math.min(i,this.box.x2),u.x2=Math.max(i,this.box.x2)),this.eventType.includes("r")&&(u.x=Math.min(l,this.box.x),u.x2=Math.max(l,this.box.x)),this.eventType.includes("t")&&(u.y=Math.min(o,this.box.y2),u.y2=Math.max(o,this.box.y2)),this.eventType.includes("b")&&(u.y=Math.min(c,this.box.y),u.y2=Math.max(c,this.box.y)),u.width=u.x2-u.x,u.height=u.y2-u.y,this.preserveAspectRatio){const h=u.width/this.box.width,f=u.height/this.box.height,g=["lt","t","rt","r","rb","b","lb","l"],x=(g.indexOf(this.eventType)+4)%g.length,y=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[x];let b=this.eventType.includes("t")||this.eventType.includes("b")?f:h;b=this.eventType.length===2?Math.max(h,f):b,u=function(v,N,k){const C=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]].map(([R,_])=>{const I=R-N[0],P=(_-N[1])*k;return[I*k+N[0],P+N[1]]});return l4(C)}(this.box,y,b)}this.el.dispatch("resize",{box:new vr(u),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(u.width,u.height).move(u.x,u.y)}movePoint(e){this.lastEvent=e;const{x:t,y:s}=this.snapToGrid(this.el.point(Fx(e))),a=this.el.array().slice();a[this.index]=[t,s],this.el.dispatch("resize",{box:l4(a),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(a)}rotate(e){this.lastEvent=e;const t=this.startPoint,s=this.el.point(Fx(e)),{cx:a,cy:i}=this.box,o=t.x-a,l=t.y-i,c=s.x-a,u=s.y-i,h=Math.sqrt(o*o+l*l)*Math.sqrt(c*c+u*u);if(h===0)return;let f=Math.acos((o*c+l*u)/h)/Math.PI*180;if(!f)return;s.x<t.x&&(f=-f);const g=new yt(this.el),{x,y}=new Ns(a,i).transformO(g),{rotate:b}=g.decompose(),v=this.snapToAngle(b+f)-b;this.el.dispatch("resize",{box:this.box,angle:v,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(g.rotateO(v,x,y))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Fn(window,"mousemove.resize touchmove.resize"),Fn(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}At(xa,{resize:function(r=!0,e={}){typeof r=="object"&&(e=r,r=!0);let t=this.remember("_ResizeHandler");return t||(r.prototype instanceof c4?(t=new r(this),r=!0):t=new c4(this),this.remember("_resizeHandler",t)),t.active(r,e),this}}),window.SVG===void 0&&(window.SVG=Hce),window.Apex===void 0&&(window.Apex={});var d4=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new wh(this.ctx),this.ctx.axes=new Jce(this.ctx),this.ctx.core=new _de(this.ctx.el,this.ctx),this.ctx.config=new tg({}),this.ctx.data=new aS(this.ctx),this.ctx.grid=new QL(this.ctx),this.ctx.graphics=new Ue(this.ctx),this.ctx.coreUtils=new wr(this.ctx),this.ctx.crosshairs=new ij(this.ctx),this.ctx.events=new Qce(this.ctx),this.ctx.exports=new Nf(this.ctx),this.ctx.fill=new si(this.ctx),this.ctx.localization=new Zce(this.ctx),this.ctx.options=new Fc,this.ctx.responsive=new ede(this.ctx),this.ctx.series=new zn(this.ctx),this.ctx.theme=new tde(this.ctx),this.ctx.formatters=new zg(this.ctx),this.ctx.titleSubtitle=new sde(this.ctx),this.ctx.legend=new JL(this.ctx),this.ctx.toolbar=new eF(this.ctx),this.ctx.tooltip=new r4(this.ctx),this.ctx.dimensions=new lb(this.ctx),this.ctx.updateHelpers=new Ade(this.ctx),this.ctx.zoomPanSelection=new lde(this.ctx),this.ctx.w.globals.tooltip=new r4(this.ctx)}}]),r}(),u4=function(){function r(e){it(this,r),this.ctx=e,this.w=e.w}return ot(r,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,s=e.isUpdating,a=this.w.globals.dom.Paper.node;a.parentNode&&a.parentNode.parentNode&&!s&&(a.parentNode.parentNode.style.minHeight="unset");var i=this.w.globals.dom.baseEl;i&&this.ctx.eventList.forEach(function(l){i.removeEventListener(l,t.ctx.events.documentEvent)});var o=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elLegendWrap=null,o.elLegendForeign=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectBarMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),r}(),S1=new WeakMap,Ede=function(){function r(e,t){it(this,r),this.opts=t,this.ctx=this,this.w=new Kce(t).init(),this.el=e,this.w.globals.cuid=oe.randomId(),this.w.globals.chartID=this.w.config.chart.id?oe.escapeString(this.w.config.chart.id):this.w.globals.cuid,new d4(this).initModules(),this.lastUpdateOptions=null,this.create=oe.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return ot(r,[{key:"render",value:function(){var e=this;return new Promise(function(t,s){if(oe.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var a=e.w.config.chart.events.beforeMount;typeof a=="function"&&a(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(g,x){var y=!1;if(g.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var b=g.getBoundingClientRect();g.style.display!=="none"&&b.width!==0||(y=!0)}var v=new ResizeObserver(function(N){y&&x.call(g,N),y=!0});g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(g.children).forEach(function(N){return v.observe(N)}):v.observe(g),S1.set(x,v)}(e.el.parentNode,e.parentResizeHandler);var i=e.el.getRootNode&&e.el.getRootNode(),o=oe.is("ShadowRoot",i),l=e.el.ownerDocument,c=o?i.getElementById("apexcharts-css"):l.getElementById("apexcharts-css");if(!c){var u;(c=document.createElement("style")).id="apexcharts-css",c.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var h=((u=e.opts.chart)===null||u===void 0?void 0:u.nonce)||e.w.config.chart.nonce;h&&c.setAttribute("nonce",h),o?i.prepend(c):e.w.config.chart.injectStyleSheet!==!1&&l.head.appendChild(c)}var f=e.create(e.w.config.series,{});if(!f)return t(e);e.mount(f).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(f)}).catch(function(g){s(g)})}else s(new Error("Element not found"))})}},{key:"create",value:function(e,t){var s=this,a=this.w;new d4(this).initModules();var i=this.w.globals;if(i.noData=!1,i.animationEnded=!1,!oe.elementExists(this.el)||(this.responsive.checkResponsiveConfig(t),a.config.xaxis.convertedCatToNumeric&&new eg(a.config).convertCatToNumericXaxis(a.config,this.ctx),this.core.setupElements(),a.config.chart.type==="treemap"&&(a.config.grid.show=!1,a.config.yaxis[0].show=!1),i.svgWidth===0))return i.animationEnded=!0,null;var o=e;e.forEach(function(g,x){g.hidden&&(o=s.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:x}))});var l=wr.checkComboSeries(o,a.config.chart.type);i.comboCharts=l.comboCharts,i.comboBarCount=l.comboBarCount;var c=o.every(function(g){return g.data&&g.data.length===0});(o.length===0||c&&i.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new Sh(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),i.noData&&i.collapsedSeries.length!==i.series.length&&!a.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),i.axisCharts&&(this.core.coreCalculations(),a.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=a.globals.minX,this.ctx.toolbar.maxX=a.globals.maxX),this.formatters.heatmapLabelFormatters(),new wr(this).getLargestMarkerSize(),this.dimensions.plotCoords();var u=this.core.xySettings();this.grid.createGridMask();var h=this.core.plotChartType(o,u),f=new sh(this);return f.bringForward(),a.config.dataLabels.background.enabled&&f.dataLabelsBackground(),this.core.shiftGraphPosition(),a.globals.dataPoints>50&&a.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:h,xyRatios:u,dimensions:{plot:{left:a.globals.translateX,top:a.globals.translateY,width:a.globals.gridWidth,height:a.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this,a=s.w;return new Promise(function(i,o){if(s.el===null)return o(new Error("Not enough data to display or target element not found"));(t===null||a.globals.allSeriesCollapsed)&&s.series.handleNoData(),s.grid=new QL(s);var l,c,u=s.grid.drawGrid();if(s.annotations=new Gce(s),s.annotations.drawImageAnnos(),s.annotations.drawTextAnnos(),a.config.grid.position==="back"&&(u&&a.globals.dom.elGraphical.add(u.el),u!=null&&(l=u.elGridBorders)!==null&&l!==void 0&&l.node&&a.globals.dom.elGraphical.add(u.elGridBorders)),Array.isArray(t.elGraph))for(var h=0;h<t.elGraph.length;h++)a.globals.dom.elGraphical.add(t.elGraph[h]);else a.globals.dom.elGraphical.add(t.elGraph);a.config.grid.position==="front"&&(u&&a.globals.dom.elGraphical.add(u.el),u!=null&&(c=u.elGridBorders)!==null&&c!==void 0&&c.node&&a.globals.dom.elGraphical.add(u.elGridBorders)),a.config.xaxis.crosshairs.position==="front"&&s.crosshairs.drawXCrosshairs(),a.config.yaxis[0].crosshairs.position==="front"&&s.crosshairs.drawYCrosshairs(),a.config.chart.type!=="treemap"&&s.axes.drawAxis(a.config.chart.type,u);var f=new sg(e.ctx,u),g=new nS(e.ctx,u);if(u!==null&&(f.xAxisLabelCorrections(u.xAxisTickWidth),g.setYAxisTextAlignments(),a.config.yaxis.map(function(y,b){a.globals.ignoreYAxisIndexes.indexOf(b)===-1&&g.yAxisTitleRotate(b,y.opposite)})),s.annotations.drawAxesAnnotations(),!a.globals.noData){if(a.config.tooltip.enabled&&!a.globals.noData&&s.w.globals.tooltip.drawTooltip(t.xyRatios),a.globals.axisCharts&&(a.globals.isXNumeric||a.config.xaxis.convertedCatToNumeric||a.globals.isRangeBar))(a.config.chart.zoom.enabled||a.config.chart.selection&&a.config.chart.selection.enabled||a.config.chart.pan&&a.config.chart.pan.enabled)&&s.zoomPanSelection.init({xyRatios:t.xyRatios});else{var x=a.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(y){x[y]=!1})}a.config.chart.toolbar.show&&!a.globals.allSeriesCollapsed&&s.toolbar.createToolbar()}a.globals.memory.methodsToExec.length>0&&a.globals.memory.methodsToExec.forEach(function(y){y.method(y.params,!1,y.context)}),a.globals.axisCharts||a.globals.noData||s.core.resizeNonAxisCharts(),i(s)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(t,s){var a=S1.get(s);a&&(a.disconnect(),S1.delete(s))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(t,s){t.id===oe.escapeString(e)&&Apex._chartInstances.splice(s,1)}),new u4(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],l=this.w;return l.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(c,u){return t.updateHelpers._extendSeries(c,u)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),l.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,s,a,i,o))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,s)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var a=this.w.config.series.slice();return a.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,t,s)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=this;s.data.resetParsingFlags(),s.w.globals.dataChanged=!0,s.series.getPreviousPaths();for(var a=s.w.config.series.slice(),i=0;i<a.length;i++)if(e[i]!==null&&e[i]!==void 0)for(var o=0;o<e[i].data.length;o++)a[i].data.push(e[i].data[o]);return s.w.config.series=a,t&&(s.w.globals.initialSeries=oe.clone(s.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(s,a){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return s(t);t.lastUpdateOptions=oe.clone(e),new u4(t.ctx).clear({isUpdating:!0});var i=t.create(t.w.config.series,e);if(!i)return s(t);t.mount(i).then(function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,s(t)}).catch(function(o){a(o)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(s){t.push(s)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;s&&(a=s),a.annotations.addXaxisAnnotationExternal(e,t,a)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;s&&(a=s),a.annotations.addYaxisAnnotationExternal(e,t,a)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;s&&(a=s),a.annotations.addPointAnnotationExternal(e,t,a)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=this;t&&(s=t),s.annotations.removeAnnotation(s,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new nj(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new nj(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Nf(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new Nf(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Nf(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=oe.escapeString(e);if(Apex._chartInstances){var s=Apex._chartInstances.filter(function(a){return a.id===t})[0];return s&&s.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new r(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var s=this.getChartByID(e);if(s){s.w.globals.isExecCalled=!0;var a=null;if(s.publicMethods.indexOf(t)!==-1){for(var i=arguments.length,o=new Array(i>2?i-2:0),l=2;l<i;l++)o[l-2]=arguments[l];a=s[t].apply(s,o)}return a}}},{key:"merge",value:function(e,t){return oe.extend(e,t)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),r}();const Tde=Object.freeze(Object.defineProperty({__proto__:null,default:Ede},Symbol.toStringTag,{value:"Module"})),Pde=M8(Tde);var h4;function Rde(){return h4||(h4=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=C;var e=l(db()),t=i(Pde),s=i(iO()),a=["type","width","height","series","options"];function i(R){return R&&R.__esModule?R:{default:R}}function o(R){var _,I;return typeof WeakMap!="function"?null:(_=new WeakMap,I=new WeakMap,(o=function(P){return P?I:_})(R))}function l(R,_){if(!_&&R&&R.__esModule)return R;if(R===null||f(R)!="object"&&typeof R!="function")return{default:R};if(_=o(_),_&&_.has(R))return _.get(R);var I,P,T={__proto__:null},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in R)I!=="default"&&{}.hasOwnProperty.call(R,I)&&((P=D?Object.getOwnPropertyDescriptor(R,I):null)&&(P.get||P.set)?Object.defineProperty(T,I,P):T[I]=R[I]);return T.default=R,_&&_.set(R,T),T}function c(){return(c=Object.assign?Object.assign.bind():function(R){for(var _=1;_<arguments.length;_++){var I,P=arguments[_];for(I in P)!{}.hasOwnProperty.call(P,I)||(R[I]=P[I])}return R}).apply(null,arguments)}function u(R,_){if(R==null)return{};var I,P=h(R,_);if(Object.getOwnPropertySymbols)for(var T=Object.getOwnPropertySymbols(R),D=0;D<T.length;D++)I=T[D],_.includes(I)||{}.propertyIsEnumerable.call(R,I)&&(P[I]=R[I]);return P}function h(R,_){if(R==null)return{};var I,P={};for(I in R)if({}.hasOwnProperty.call(R,I)){if(_.includes(I))continue;P[I]=R[I]}return P}function f(R){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(R)}function g(R,_){var I,P=Object.keys(R);return Object.getOwnPropertySymbols&&(I=Object.getOwnPropertySymbols(R),_&&(I=I.filter(function(T){return Object.getOwnPropertyDescriptor(R,T).enumerable})),P.push.apply(P,I)),P}function x(R){for(var _=1;_<arguments.length;_++){var I=arguments[_]!=null?arguments[_]:{};_%2?g(Object(I),!0).forEach(function(P){y(R,P,I[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(I)):g(Object(I)).forEach(function(P){Object.defineProperty(R,P,Object.getOwnPropertyDescriptor(I,P))})}return R}function y(R,_,I){return(_=b(_))in R?Object.defineProperty(R,_,{value:I,enumerable:!0,configurable:!0,writable:!0}):R[_]=I,R}function b(R){return R=v(R,"string"),f(R)=="symbol"?R:R+""}function v(R,_){if(f(R)!="object"||!R)return R;var I=R[Symbol.toPrimitive];if(I===void 0)return(_==="string"?String:Number)(R);if(I=I.call(R,_),f(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}function N(R,_){var I=x({},R);return _.forEach(function(P){delete I[P]}),I}function k(R,_){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(R!==_){if(f(R)!=="object"||R===null||f(_)!=="object"||_===null)return!1;if(!I.has(R)&&!I.has(_)){I.add(R),I.add(_);var P=Object.keys(R),T=Object.keys(_);if(P.length!==T.length)return!1;for(var D=0,L=P;D<L.length;D++){var F=L[D];if(!T.includes(F)||!k(R[F],_[F],I))return!1}}}return!0}function C(q){function _(ee){return ee&&f(ee)==="object"&&!Array.isArray(ee)}var F=q.type,I=F===void 0?"line":F,F=q.width,P=F===void 0?"100%":F,F=q.height,T=F===void 0?"auto":F,D=q.series,L=q.options,F=u(q,a),z=(0,e.useRef)(null),O=(0,e.useRef)(null),V=(0,e.useRef)(),H=((0,e.useEffect)(function(){V.current=L;var ee=z.current;return O.current=new t.default(ee,H()),O.current.render(),function(){O.current&&typeof O.current.destroy=="function"&&O.current.destroy()}},[]),(0,e.useEffect)(function(){var ee=!k(O.current.w.config.series,D),G=!k(V.current,L)||T!==O.current.opts.chart.height||P!==O.current.opts.chart.width;(ee||G)&&(!ee||G?O.current.updateOptions(H()):O.current.updateSeries(D)),V.current=L},[L,D,T,P]),function(){return B(L,{chart:{type:I,height:T,width:P},series:D})}),B=function(ee,G){var $=x({},ee);return _(ee)&&_(G)&&Object.keys(G).forEach(function(Q){_(G[Q])&&Q in ee?$[Q]=B(ee[Q],G[Q]):Object.assign($,y({},Q,G[Q]))}),$},q=N(F,Object.keys(C.propTypes));return e.default.createElement("div",c({ref:z},q))}C.propTypes={type:s.default.string.isRequired,series:s.default.array.isRequired,options:s.default.object.isRequired,width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number])}}(o1)),o1}var Ide=Rde();const Dde=cb(Ide);function Mde(){const r=gs(),[e,t]=E.useState(0),[s,a]=E.useState(0),[i,o]=E.useState(""),[l,c]=E.useState(""),[u,h]=E.useState(!0),[f,g]=E.useState(!1),[x,y]=E.useState(null),[b,v]=E.useState(!1),[N,k]=E.useState({series:[],options:{}});E.useEffect(()=>{if(!ke.currentUser){r("/login");return}(async()=>{const L=Ce(re,"wallets",ke.currentUser.uid),F=Ce(re,"users",ke.currentUser.uid);try{const z=await Je(L);if(console.log(`Fetching wallet for ${ke.currentUser.uid}:`,z.exists()?z.data():"No wallet"),!z.exists()){console.log(`Creating wallet for ${ke.currentUser.uid}`);const B=await Je(F),q=B.exists()&&B.data().accountDetails?B.data().accountDetails:{accountNumber:`MOCK${Math.random().toString().slice(2,12)}`,bankName:"Mock Bank",accountName:"Mock Seller"};await Xt(L,{availableBalance:0,pendingWithdrawals:0,updatedAt:Ti(),accountDetails:q})}const O=await Je(F),V=O.exists()&&O.data().isOnboarded===!0,H=O.exists()&&O.data().isProSeller===!0;console.log(`Seller ${ke.currentUser.uid} onboarding status: ${V?"onboarded":"not onboarded"}, pro status: ${H?"pro":"standard"}`),y(V||H),v(H),h(!1)}catch(z){console.error(`Error fetching wallet or status for ${ke.currentUser.uid}:`,z),c("Failed to load wallet or status: "+z.message),h(!1)}})();const I=Ce(re,"wallets",ke.currentUser.uid),P=bs(I,L=>{if(L.exists()){const F=L.data();console.log(`Snapshot for ${ke.currentUser.uid}:`,F),t(F.availableBalance||0),a(F.pendingWithdrawals||0),R(F.availableBalance||0,F.pendingWithdrawals||0)}else console.log(`No wallet for ${ke.currentUser.uid}`),t(0),a(0),R(0,0)},L=>{console.error("Wallet snapshot error:",L),c("Failed to update wallet: "+L.message)}),T=mt(Ie(re,"transactions"),nt("sellerId","==",ke.currentUser.uid),nt("type","==","Withdrawal")),D=bs(T,L=>{console.log(`Received ${L.docs.length} withdrawal transactions for seller ${ke.currentUser.uid}`)},L=>{console.error("Transaction snapshot error:",L),c(`Failed to fetch transactions: ${L.message}`)});return()=>{P(),D()}},[r]);const C=async _=>{if(_.preventDefault(),c(""),h(!0),!x){console.log(`Withdrawal blocked: Seller ${ke.currentUser.uid} is not onboarded`),g(!0),h(!1);return}const I=parseFloat(i);if(isNaN(I)||I<=0){c("Enter a valid amount."),h(!1);return}if(I>e){c("Insufficient balance."),h(!1);return}const P="https://foremade-backend.onrender.com";try{const T=Ce(re,"wallets",ke.currentUser.uid),D=await Je(T),L=D.exists()&&D.data().accountDetails?D.data().accountDetails:{accountNumber:`MOCK${Math.random().toString().slice(2,12)}`,bankName:"Mock Bank",accountName:"Mock Seller"},F={sellerId:ke.currentUser.uid,amount:I,transactionReference:`TXN_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,accountDetails:L};console.log("Withdrawal request:",`${P}/initiate-seller-payout`,F),(await Zt.post(`${P}/initiate-seller-payout`,F,{timeout:1e4})).data.status==="success"&&(o(""),g(!1),alert("Withdrawal submitted. Funds will be credited upon admin approval."))}catch(T){console.error("Withdrawal error:",T),c("Withdrawal failed: "+(T.response?.data?.error||T.message))}finally{h(!1)}},R=(_=e,I=0)=>{k({series:[_,I],options:{chart:{type:"area",height:"100%",width:"100%",animations:{enabled:!0}},xaxis:{categories:["Balance"]},yaxis:{title:{text:"Amount (NGN)"},min:0},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},colors:["#2563EB","#c08640"],legend:{position:"top",horizontalAlign:"center"},tooltip:{y:{formatter:P=>`${P.toFixed(2)}`},custom:({series:P,seriesIndex:T,dataPointIndex:D,w:L})=>`<div class="p-2 bg-gray-800 text-white rounded-lg">
              ${L.globals.seriesNames[T]}: ${P[T][D].toFixed(2)}
            </div>`},dataLabels:{enabled:!1}}})};return u?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 sm:p-6 md:p-8 lg:p-10",children:n.jsxs("div",{className:"max-w-8xl mx-auto w-full bg-white rounded-2xl shadow-lg p-6 sm:p-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fu,{className:"w-8 h-8 text-blue-600"}),n.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-900",children:"My Wallet"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Q5,{}),x!==null&&n.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${x?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:x?`Status: Onboarded (${b?"Pro":"Standard"} Seller)`:"Please Onboard"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-5 text-white shadow-md relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-2 right-2 opacity-30",children:n.jsx(Fu,{className:"w-16 h-16"})}),n.jsxs("span",{className:"text-xs font-light",children:["Wallet ID: ",ke.currentUser.uid]}),n.jsx("h3",{className:"text-lg font-semibold mt-2",children:"Available Balance"}),n.jsx("p",{className:"text-2xl font-bold mt-2 bg-white p-2 rounded-lg text-blue-900",children:n.jsx(lr,{price:e})})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-5 text-white shadow-md relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-2 right-2 opacity-30",children:n.jsx(Fu,{className:"w-16 h-16"})}),n.jsx("span",{className:"text-xs font-light",children:"Pending Transactions"}),n.jsx("h3",{className:"text-lg font-semibold mt-2",children:"Pending Withdrawals"}),n.jsx("p",{className:"text-2xl font-bold mt-2 bg-white p-2 rounded-lg text-orange-900",children:n.jsx(lr,{price:s})})]})]}),n.jsxs("form",{onSubmit:C,className:"bg-white border border-gray-100 rounded-2xl shadow-md p-5 sm:p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(GJ,{className:"w-5 h-5 text-green-600"}),n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Request Withdrawal"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"withdraw-amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Withdrawal Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"withdraw-amount",type:"number",value:i,onChange:_=>o(_.target.value),className:"p-3 pl-10 w-full border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-base transition",required:!0,"aria-label":"Withdrawal Amount",min:"1",step:"any"}),n.jsx("i",{className:"bx bx-money absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum withdrawal: 1. Withdrawals subject to admin approval, may take up to 24 hours."})]}),l&&n.jsx("p",{className:"text-red-500 text-sm mb-4",children:l}),n.jsxs("button",{type:"submit",className:`w-full mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300 transition flex items-center justify-center gap-2 ${u?"opacity-50 cursor-not-allowed":""}`,disabled:u,"aria-label":"Request Withdrawal",children:[n.jsx("i",{className:"bx bx-wallet"}),"Request Withdrawal",u&&n.jsx("i",{className:"bx bx-loader-alt animate-spin"})]})]}),n.jsxs("div",{className:"mt-6 bg-white p-4 sm:p-6 rounded-lg shadow-md",children:[n.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-wallet text-blue-600"}),"Wallet Balance"]}),n.jsx("div",{className:"h-64 sm:h-80",children:n.jsx(Dde,{options:N.options,series:N.series,type:"area",height:"100%"})})]}),f&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Onboarding Required"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Please onboard as a seller to withdraw funds."}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition","aria-label":"Close modal",children:"Cancel"}),n.jsx("button",{onClick:()=>r("/seller-onboarding"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition","aria-label":"Go to onboarding",children:"Onboard Now"})]})]})})]})})]})}const Ode=()=>{const[r,e]=E.useState({}),t=a=>{e(i=>({...i,[a]:!i[a]}))},s=[{id:"introduction",title:"Introduction and Scope",icon:"bx-info-circle",content:n.jsx("p",{className:"text-secondary leading-relaxed",children:'This Privacy Notice explains how Foremade and its affiliates ("Foremade", "we", "us", or "our") collect, use, store, share, and protect your personal data. It complies with international privacy laws including GDPR, NDPR, CCPA, and more.'})},{id:"controller",title:"Data Controller",icon:"bx-globe",content:n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{region:"EU",entity:"Foremade GmbH  Berlin, Germany"},{region:"UK",entity:"Foremade UK Ltd.  London"},{region:"Nigeria",entity:"Foremade Nigeria Ltd.  Lagos"},{region:"Other Africa",entity:"Foremade Africa Ltd.  Nairobi"},{region:"Americas",entity:"Foremade Americas Inc.  Delaware, USA"},{region:"Asia",entity:"Foremade Asia Pte. Ltd.  Singapore"},{region:"All Regions",entity:"Foremade Global AG  Zurich"}].map(({region:a,entity:i},o)=>n.jsxs("div",{className:"bg-background-light p-3 rounded-lg border-l-4 border-primary",children:[n.jsx("div",{className:"font-semibold text-primary",children:a}),n.jsx("div",{className:"text-sm text-secondary",children:i})]},o))})},{id:"contact",title:"Contact and DPO",icon:"bx-envelope",content:n.jsx("div",{className:"bg-background-light p-4 rounded-lg border border-border-light",children:n.jsxs("p",{className:"text-secondary",children:["Reach our Data Protection Officers via the"," ",n.jsx(fe,{to:"/privacy-policy/contact",className:"policy-link font-semibold",children:"Privacy Centre"}),"."]})})},{id:"data-collection",title:"What Data We Collect",icon:"bx-shield",content:n.jsx("div",{className:"space-y-3",children:[{type:"Identity",desc:"Name, email, phone number"},{type:"Account Data",desc:"Order history, preferences, settings"},{type:"Usage Data",desc:"Device/browser information, interaction patterns"},{type:"Geolocation",desc:"Location data (if enabled by you)"},{type:"Third-party Sources",desc:"Data from partners and public sources"}].map(({type:a,desc:i},o)=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-background-light rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-primary",children:a}),n.jsx("div",{className:"text-sm text-secondary",children:i})]})]},o))})},{id:"legal-basis",title:"Legal Basis",icon:"bx-check-circle",content:n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:["Contract fulfillment","Legal compliance","Platform improvement","Consent (e.g., marketing)"].map((a,i)=>n.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-background-light rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),n.jsx("span",{className:"text-primary font-medium",children:a})]},i))})},{id:"transfers",title:"International Transfers",icon:"bx-world",content:n.jsx("div",{className:"bg-background-light p-4 rounded-lg border-l-4 border-primary",children:n.jsx("p",{className:"text-secondary leading-relaxed",children:"We use Standard Contractual Clauses (SCCs), NDPR rules, APEC frameworks, or other safeguards to protect your data when transferred internationally."})})},{id:"retention",title:"Data Retention",icon:"bx-folder",content:n.jsx("p",{className:"text-secondary leading-relaxed",children:"We keep your data as long as needed to deliver services, comply with legal obligations, or resolve disputes."})},{id:"rights",title:"Your Rights",icon:"bx-user",content:n.jsxs("div",{className:"bg-background-light p-4 rounded-lg border border-border-light",children:[n.jsx("p",{className:"text-secondary mb-3",children:"Depending on your region, you may request access, correction, deletion, or restriction of your data."}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-primary",children:"Submit requests via our"}),n.jsx(fe,{to:"/privacy-policy/contact",className:"policy-link font-semibold",children:"Privacy Centre"})]})]})},{id:"cookies",title:"Cookies",icon:"bx-cookie",content:n.jsx("div",{className:"bg-background-light p-4 rounded-lg border border-border-light",children:n.jsxs("p",{className:"text-secondary mb-3",children:["We use cookies to enhance performance and deliver marketing. Adjust your preferences in our"," ",n.jsx(fe,{to:"/privacy-policy/cookies",className:"policy-link font-semibold",children:"Cookie Settings"}),"."]})})},{id:"security",title:"Data Security",icon:"bx-lock",content:n.jsx("div",{className:"bg-background-light p-4 rounded-lg border-l-4 border-primary",children:n.jsx("p",{className:"text-secondary leading-relaxed",children:"We apply encryption, access controls, and secure infrastructure to protect your data from unauthorized access and breaches."})})},{id:"third-party",title:"Third-Party Links",icon:"bx-link",content:n.jsx("p",{className:"text-secondary leading-relaxed",children:"We are not responsible for third-party privacy practices linked from our platform. Please review their policies separately."})},{id:"children",title:"Children's Privacy",icon:"bx-child",content:n.jsx("div",{className:"bg-background-light p-4 rounded-lg border border-border-light",children:n.jsx("p",{className:"text-secondary leading-relaxed",children:"Children under 16 require verified parental consent to use our services."})})},{id:"updates",title:"Policy Updates",icon:"bx-refresh",content:n.jsx("p",{className:"text-secondary leading-relaxed",children:"We may update this policy and will notify you of major changes through our website or email notifications."})}];return n.jsxs(n.Fragment,{children:[n.jsx("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/boxicons/2.1.4/css/boxicons.min.css",rel:"stylesheet"}),n.jsxs("div",{className:"min-h-screen bg-background-light py-8",children:[n.jsx("div",{className:"bg-gray-100",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-16",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"bg-primary/10 p-4 rounded-2xl",children:n.jsx("i",{className:"bx bx-shield text-4xl text-primary"})})}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-primary",children:"Foremade Global Privacy Notice"}),n.jsx("div",{className:"bg-accent px-4 py-2 rounded-full inline-block",children:n.jsx("p",{className:"text-accent font-medium",children:"Effective Date: June 2, 2025"})})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[n.jsx("div",{className:"space-y-4",children:s.map(a=>n.jsxs("div",{className:"bg-background-light rounded-xl shadow-sm border border-border-light overflow-hidden hover:shadow-md transition-shadow",children:[n.jsxs("button",{onClick:()=>t(a.id),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-background-dark transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"text-primary flex items-center justify-center w-8",children:n.jsx("i",{className:`bx ${a.icon} text-2xl`})}),n.jsx("h2",{className:"text-xl font-semibold text-primary",children:a.title})]}),n.jsx("div",{className:"text-secondary",children:r[a.id]?n.jsx("i",{className:"bx bx-chevron-down text-2xl"}):n.jsx("i",{className:"bx bx-chevron-right text-2xl"})})]}),r[a.id]&&n.jsx("div",{className:"px-6 pb-6 border-t border-border-light",children:n.jsx("div",{className:"pt-4",children:a.content})})]},a.id))}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-2xl font-semibold text-primary mb-4",children:"Regional Policies"}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{name:"EU Policy",type:"eu"},{name:"UK Policy",type:"uk"},{name:"US Policy",type:"us"},{name:"Nigeria Policy",type:"nigeria"},{name:"Other Africa",type:"africa"},{name:"Americas Policy",type:"americas"},{name:"Asia Policy",type:"asia"},{name:"Australia/Oceania",type:"australia"}].map((a,i)=>n.jsxs(fe,{to:`/privacy-policy/${a.type}`,className:"block p-4 rounded-lg border-2 bg-background-light hover:bg-background-dark transition-all group border-border-light hover:border-primary",children:[n.jsx("div",{className:"text-primary group-hover:text-secondary",children:a.name}),n.jsxs("div",{className:"text-sm flex items-center gap-1 text-secondary",children:["View regional details",n.jsx("i",{className:"bx bx-right-arrow-alt"})]})]},i))})]}),n.jsx("footer",{className:"mt-16 pt-8 border-t border-gray-200 text-center",children:n.jsxs("div",{className:"text-secondary text-sm",children:[" ",new Date().getFullYear()," Foremade Global. All rights reserved."]})})]})]})]})},Lde=()=>{const[r,e]=E.useState("requests"),[t,s]=E.useState({requestType:"",fullName:"",email:"",phone:"",region:"",requestDetails:"",additionalInfo:""}),[a,i]=E.useState(!1),o=[{value:"access",label:"Access My Data",description:"Get a copy of all personal data we hold about you"},{value:"correction",label:"Correct My Data",description:"Update or correct inaccurate personal information"},{value:"deletion",label:"Delete My Data",description:"Request deletion of your personal data (Right to be Forgotten)"},{value:"restriction",label:"Restrict Processing",description:"Limit how we process your personal data"},{value:"portability",label:"Data Portability",description:"Receive your data in a structured, machine-readable format"},{value:"objection",label:"Object to Processing",description:"Object to processing based on legitimate interests"},{value:"withdraw",label:"Withdraw Consent",description:"Withdraw previously given consent for data processing"},{value:"complaint",label:"File a Complaint",description:"Report privacy concerns or violations"}],l=[{value:"eu",label:"European Union (GDPR)"},{value:"uk",label:"United Kingdom (UK GDPR)"},{value:"nigeria",label:"Nigeria (NDPR)"},{value:"us",label:"United States (CCPA/CPRA)"},{value:"canada",label:"Canada (PIPEDA)"},{value:"australia",label:"Australia (Privacy Act)"},{value:"singapore",label:"Singapore (PDPA)"},{value:"other",label:"Other Region"}],c=h=>{const{name:f,value:g}=h.target;s(x=>({...x,[f]:g}))},u=async h=>{if(h.preventDefault(),!t.requestType||!t.fullName||!t.email){je.error("Please fill in all required fields");return}i(!0),setTimeout(()=>{je.success("Privacy request submitted successfully! We will respond within 30 days."),s({requestType:"",fullName:"",email:"",phone:"",region:"",requestDetails:"",additionalInfo:""}),i(!1)},2e3)};return n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsxs("div",{className:"bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>e("requests"),className:`px-6 py-2 rounded-md transition-colors ${r==="requests"?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:"Privacy Requests"}),n.jsx("button",{onClick:()=>e("contact"),className:`px-6 py-2 rounded-md transition-colors ${r==="contact"?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:"Contact DPO"})]})}),r==="requests"&&n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Submit Privacy Request"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Request Type *"}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:o.map(h=>n.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"requestType",value:h.value,checked:t.requestType===h.value,onChange:c,className:"mt-1"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:h.label}),n.jsx("div",{className:"text-sm text-gray-600",children:h.description})]})]},h.value))})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",name:"fullName",value:t.fullName,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number (Optional)"}),n.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region *"}),n.jsxs("select",{name:"region",value:t.region,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Select your region"}),l.map(h=>n.jsx("option",{value:h.value,children:h.label},h.value))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Request Details *"}),n.jsx("textarea",{name:"requestDetails",value:t.requestDetails,onChange:c,rows:"4",placeholder:"Please provide specific details about your request...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("i",{className:"bx bx-info-circle text-blue-600 text-xl mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Email Verification"}),n.jsxs("p",{className:"text-sm text-blue-700",children:["We will verify your identity via email at ",n.jsx("strong",{children:t.email}),". Please check your inbox for a verification link after submitting this request."]})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Information (Optional)"}),n.jsx("textarea",{name:"additionalInfo",value:t.additionalInfo,onChange:c,rows:"3",placeholder:"Any additional context or specific requirements...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:a,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-semibold",children:a?n.jsxs("span",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-loader-alt animate-spin mr-2"}),"Submitting..."]}):"Submit Request"})})]}),r==="contact"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Contact Data Protection Officer"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Email Contact"}),n.jsx("p",{className:"text-blue-700 mb-4",children:"For privacy-related inquiries and support:"}),n.jsx("a",{href:"mailto:privacy@foremade.com",className:"text-blue-600 hover:text-blue-800 font-semibold",children:"privacy@foremade.com"})]}),n.jsxs("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[n.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"Response Time"}),n.jsx("p",{className:"text-green-700 mb-2",children:"We aim to respond to all privacy requests within:"}),n.jsxs("ul",{className:"text-green-700 text-sm space-y-1",children:[n.jsx("li",{children:" Initial acknowledgment: 24 hours"}),n.jsx("li",{children:" Full response: 30 days"}),n.jsx("li",{children:" Complex requests: 60 days"})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200",children:[n.jsx("h4",{className:"font-semibold text-yellow-900 mb-3",children:"Data Protection Officer"}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{className:"text-yellow-800",children:"Email:"})," privacy@foremade.com"]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{className:"text-yellow-800",children:"Response Time:"})," Within 24-48 hours"]}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-yellow-800",children:"Languages:"})," English, French, Spanish, Arabic"]})]})]})]})]})},Fde=()=>{const{type:r}=Wl(),e=gs(),t=()=>{switch(r){case"cookies":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("i",{className:"bx bx-cookie text-2xl text-yellow-600"}),"Cookie Settings"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-700",children:"We use cookies and similar technologies to provide, protect, and improve our services. This page helps you understand how we use them and what choices you have."}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Essential Cookies"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Required for basic site functionality. Always active."})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Analytics Cookies"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors interact with our website."})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Marketing Cookies"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Used to deliver personalized advertisements."})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Preference Cookies"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Remember your settings and preferences."})]})]}),n.jsxs("div",{className:"mt-6 flex gap-4",children:[n.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Accept All"}),n.jsx("button",{className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Essential Only"})]})]})]});case"contact":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("i",{className:"bx bx-support text-2xl text-blue-600"}),"Privacy Centre"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-700",children:"Contact our Data Protection Officers for any privacy-related concerns or to exercise your data rights."}),n.jsx(Lde,{})]})]});case"eu":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("i",{className:"bx bx-flag text-2xl text-blue-600"}),"EU Privacy Policy"]}),n.jsxs("div",{className:"prose prose-blue max-w-none",children:[n.jsx("p",{className:"text-gray-700",children:"This policy complies with GDPR requirements for EU residents."}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-4",children:"Key GDPR Rights"}),n.jsx("div",{className:"grid gap-4",children:[{title:"Right to Access",description:"Individuals can request access to their personal data and obtain information about how it's processed.",link:"https://gdpr-info.eu/art-15-gdpr/"},{title:"Right to Rectification",description:"Allows individuals to have inaccurate personal data corrected.",link:"https://gdpr-info.eu/art-16-gdpr/"},{title:'Right to Erasure ("Right to be Forgotten")',description:"Enables individuals to request the deletion of their personal data under certain circumstances.",link:"https://gdpr-info.eu/art-17-gdpr/"},{title:"Right to Restrict Processing",description:"Individuals can request the limitation of their data processing under specific conditions.",link:"https://gdpr-info.eu/art-18-gdpr/"},{title:"Right to Data Portability",description:"Allows individuals to receive their personal data in a structured format and transfer it to another controller.",link:"https://gdpr-info.eu/art-20-gdpr/"},{title:"Right to Object to Processing",description:"Grants individuals the right to object to the processing of their personal data in certain situations.",link:"https://gdpr-info.eu/art-21-gdpr/"}].map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),n.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),n.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",children:["Learn More",n.jsx("i",{className:"bx bx-external-link text-lg"})]})]},a))})]})]});case"nigeria":return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-10",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("div",{className:"w-20 h-20 mb-4 flex items-center justify-center bg-green-100 rounded-full",children:n.jsx("i",{className:"bx bx-shield text-5xl text-green-700"})}),n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-green-700 mb-2",children:"Your Data Protection Rights under Nigerian Law (NDPA 2023)"}),n.jsx("p",{className:"text-gray-600 max-w-xl",children:"As a data subject in Nigeria, the Nigeria Data Protection Act (NDPA) 2023 grants you specific rights regarding your personal data. These rights ensure transparency, accountability, and give you greater control over how your information is collected, used, stored, and shared by organizations."})]}),n.jsxs("div",{className:"bg-white/90 rounded-xl shadow-lg p-6 md:p-10 border border-green-100",children:[n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"1. Right to Access Personal Data"}),n.jsx("p",{className:"mb-2",children:"You have the right to request and receive confirmation as to whether or not an organization holds your personal data. Where your data is being processed, you are entitled to:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-green-900",children:[n.jsx("li",{children:"A copy of the personal data being processed"}),n.jsx("li",{children:"Information about the purpose of the processing"}),n.jsx("li",{children:"The categories of data involved"}),n.jsx("li",{children:"The recipients or categories of recipients to whom the data has been disclosed"}),n.jsx("li",{children:"The retention period for the data or criteria for determining that period"}),n.jsx("li",{children:"The existence of your data protection rights (e.g., correction, deletion)"}),n.jsx("li",{children:"Information about any automated decision-making (e.g., profiling) that may affect you"})]}),n.jsx("p",{className:"mb-4",children:"Organizations must respond within 30 days and in a clear, intelligible format."}),n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"2. Right to Data Correction (Rectification)"}),n.jsx("p",{className:"mb-4",children:"You have the right to request that inaccurate or incomplete data about you be corrected or updated without undue delay. The organization must also notify any third parties who received the inaccurate data."}),n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"3. Right to Data Deletion (Erasure)"}),n.jsx("p",{className:"mb-2",children:'Also known as the "right to be forgotten", you may request the deletion of your data under specific conditions, such as:'}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Data is no longer needed for its original purpose"}),n.jsx("li",{children:"You withdraw consent"}),n.jsx("li",{children:"You object to processing with no overriding legitimate reason"}),n.jsx("li",{children:"Data was unlawfully processed"}),n.jsx("li",{children:"Deletion is required for legal compliance"})]}),n.jsx("p",{className:"mb-4",children:"Note: This right is not absolute and may be limited by legal obligations."}),n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"4. Right to Restrict Data Processing"}),n.jsx("p",{className:"mb-2",children:"You can request temporary restriction of data processing under circumstances such as:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Contesting the accuracy of the data"}),n.jsx("li",{children:"Unlawful processing but preferring restriction over deletion"}),n.jsx("li",{children:"Data no longer needed but required for legal claims"}),n.jsx("li",{children:"Pending verification of objection to processing"})]}),n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"5. Right to Data Portability"}),n.jsx("p",{className:"mb-4",children:"You have the right to receive your personal data in a structured, machine-readable format, and to transmit it to another data controller. This applies to data based on consent or a contract and processed by automated means."}),n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"How to Exercise Your Rights"}),n.jsxs("p",{className:"mb-4",children:["You may contact the organization (data controller) through a formal Data Subject Access Request (DSAR). A response is typically required within 30 days. If unsatisfied, complaints can be filed with the Nigeria Data Protection Commission (NDPC) at ",n.jsx("a",{href:"https://ndpc.gov.ng",target:"_blank",rel:"noopener noreferrer",className:"text-green-700 underline font-semibold",children:"https://ndpc.gov.ng"}),"."]})]})]})});case"us":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("i",{className:"bx bx-flag text-2xl text-red-600"}),"US Privacy Policy"]}),n.jsxs("div",{className:"prose prose-red max-w-none",children:[n.jsx("p",{className:"text-gray-700",children:"This policy complies with CCPA and other US privacy requirements."}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-4",children:"Key CCPA Rights"}),n.jsx("div",{className:"grid gap-4",children:[{title:"Right to Know",description:"Consumers can request disclosure of categories and specific pieces of personal information collected, sources, purposes, and third parties with whom it's shared.",link:"https://oag.ca.gov/privacy/ccpa"},{title:"Right to Delete",description:"Consumers can request the deletion of personal information collected by the business, subject to certain exceptions.",link:"https://oag.ca.gov/privacy/ccpa"},{title:"Right to Opt-Out of Sale or Sharing",description:"Consumers can direct businesses to stop selling or sharing their personal information with third parties.",link:"https://cppa.ca.gov/"},{title:"Right to Non-Discrimination",description:"Businesses cannot discriminate against consumers for exercising their CCPA rights.",link:"https://cppa.ca.gov/"}].map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),n.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),n.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-full hover:bg-red-100 transition-colors",children:["Learn More",n.jsx("i",{className:"bx bx-external-link text-lg"})]})]},a))})]})]});case"asia":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("i",{className:"bx bx-flag text-2xl text-yellow-600"}),"Asia Privacy Policy"]}),n.jsxs("div",{className:"prose prose-yellow max-w-none",children:[n.jsx("p",{className:"text-gray-700",children:"This policy complies with APEC and Asian privacy requirements."}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-4",children:"Key Privacy Resources"}),n.jsx("div",{className:"grid gap-4",children:[{title:"APEC Privacy Framework",description:"Comprehensive framework for privacy protection across APEC member economies.",link:"https://www.apec.org/docs/default-source/Publications/2005/12/APEC-Privacy-Framework/05_ecsg_privacyframewk.pdf"},{title:"APEC Secretariat Privacy Policy",description:"Official privacy policy and procedures of the APEC Secretariat.",link:"https://www.apec.org/docs/default-source/aboutus/policiesandprocedures/1a-apec-secretariatpersonal-data-protection-policy-v2-1-%28approved-by-cmg-on-22-july-2022%29.pdf"},{title:"CBPR System Guidelines",description:"Cross-Border Privacy Rules system policies and guidelines.",link:"https://cbprs.org/wp-content/uploads/2019/11/4.-CBPR-Policies-Rules-and-Guidelines-Revised-For-Posting-3-16-updated-1709-2019.pdf"},{title:"Hong Kong Privacy Guidelines",description:"Privacy protection guidelines from the Office of the Privacy Commissioner for Personal Data.",link:"https://www.pcpd.org.hk/english/files/infocentre/1tonylam1_ppt.pdf"}].map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),n.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),n.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-50 text-yellow-600 rounded-full hover:bg-yellow-100 transition-colors",children:["View Document",n.jsx("i",{className:"bx bx-external-link text-lg"})]})]},a))})]})]});case"australia":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("i",{className:"bx bx-flag text-2xl text-purple-600"}),"Australia/Oceania Privacy Policy"]}),n.jsxs("div",{className:"prose prose-purple max-w-none",children:[n.jsx("p",{className:"text-gray-700",children:"This policy complies with Australian Privacy Principles (APPs)."}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-4",children:"Key Privacy Resources"}),n.jsx("div",{className:"grid gap-4",children:[{title:"Australian Privacy Principles",description:"The 13 APPs that form the basis of privacy protection in Australia.",link:"https://www.oaic.gov.au/privacy/australian-privacy-principles"},{title:"Privacy Complaints",description:"Information about making privacy complaints and the complaint process.",link:"https://www.oaic.gov.au/privacy/privacy-complaints"},{title:"Privacy Guidance for Organisations and Government Agencies",description:"Guidance for organisations and government agencies on privacy obligations.",link:"https://www.oaic.gov.au/privacy/guidance-and-advice"},{title:"Notifiable Data Breaches",description:"Information about the Notifiable Data Breaches (NDB) scheme and reporting requirements.",link:"https://www.oaic.gov.au/privacy/notifiable-data-breaches"},{title:"Anonymity and Pseudonymity",description:"Guidelines on anonymity and pseudonymity in data collection.",link:"https://www.oaic.gov.au/privacy/privacy-fact-sheets/individuals/anonymity-and-pseudonymity"},{title:"Data Collection and Use",description:"Information about how personal data is collected and used.",link:"https://www.oaic.gov.au/privacy/your-privacy-rights/knowing-how-your-data-is-collected-and-used"}].map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),n.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),n.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-50 text-purple-600 rounded-full hover:bg-purple-100 transition-colors",children:["Learn More",n.jsx("i",{className:"bx bx-external-link text-lg"})]})]},a))})]})]});default:return e("/privacy-policy"),null}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[n.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 text-white",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-12",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{"aria-label":"back",onClick:()=>e("/privacy-policy"),className:"bg-white/10 p-2 rounded-lg hover:bg-white/20 transition-colors",children:n.jsx("i",{className:"bx bx-arrow-back text-2xl"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Privacy Settings"})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:t()}),n.jsx("footer",{className:"mt-16 pt-8 border-t border-gray-200 text-center",children:n.jsx("div",{className:"text-gray-500 text-sm",children:" 2025 Foremade Global. All rights reserved."})})]})]})},Ude=()=>{const[r,e]=E.useState(!1);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("section",{className:"bg-gradient-to-br from-indigo-900 via-purple-900 to-indigo-800 text-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:"Foremade Empowerment Hub"}),n.jsx("p",{className:"text-xl md:text-2xl text-indigo-100 max-w-3xl mx-auto leading-relaxed",children:"Empowering the Next Generation of Creators & Entrepreneurs"})]})})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"text-center mb-12",children:n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8",children:"Our Mission"})}),n.jsxs("div",{className:"prose prose-xl mx-auto text-gray-700 leading-relaxed",children:[n.jsx("p",{className:"mb-8",children:"At Foremade, we believe that the future belongs to the bold. We are committed to supporting young individuals with creative minds and entrepreneurial passion through comprehensive funding, expert mentorship, and a professional platform to showcase their talents."}),n.jsx("p",{children:"Our mission extends beyond providing toolswe create pathways for visionaries to bring their ideas to life and establish sustainable businesses that thrive both locally and globally. Each creator we sponsor represents the embodiment of passion, cultural heritage, and innovation."})]})]})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:n.jsxs("div",{className:"md:flex",children:[n.jsx("div",{className:"md:w-1/2",children:n.jsx("img",{src:"https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80",alt:"Handcrafted jewelry collection",className:"h-64 md:h-full w-full object-cover"})}),n.jsxs("div",{className:"md:w-1/2 p-8 md:p-12",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("span",{className:"inline-block bg-indigo-100 text-indigo-800 text-sm font-semibold px-3 py-1 rounded-full mb-4",children:"Featured Creator"}),n.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rhoda"}),n.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Founder, Rhodabella Crafted"}),n.jsx("p",{className:"text-lg text-indigo-600 font-medium",children:"Handmade  Heritage-Inspired  Uniquely Crafted"})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:["Rhoda is a distinguished jewelry designer who masterfully blends traditional African artistry with contemporary aesthetics. Her brand, ",n.jsx("strong",{children:"Rhodabella Crafted"}),", creates handcrafted pieces that serve as both elegant accessories and powerful expressions of cultural identity."]}),n.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"From intricately beaded chokers to custom waist beads, each piece in Rhoda's collections tells a story of heritage, pride, and individual expression."}),n.jsxs("blockquote",{className:"border-l-4 border-indigo-500 pl-6 italic text-gray-600 mb-8",children:['"My jewelry transcends mere aesthetics. It honors our heritage while expressing our authentic selves."',n.jsx("footer",{className:"text-sm font-semibold text-gray-900 mt-2",children:" Rhoda, Rhodabella Crafted"})]})]}),n.jsxs("a",{href:"https://foremade.com/store/RhodabellaCrafted",className:"inline-flex items-center px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors duration-200",target:"_blank",rel:"noopener noreferrer",children:["Visit Store",n.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})})})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Program Benefits"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Comprehensive support designed to transform creative passion into sustainable business success"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Financial Sponsorship"}),n.jsx("p",{className:"text-gray-600",children:"Funding for product development and business growth"})]}),n.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Expert Mentorship"}),n.jsx("p",{className:"text-gray-600",children:"Professional guidance in branding and digital commerce"})]}),n.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"E-commerce Platform"}),n.jsx("p",{className:"text-gray-600",children:"Professional online storefront at no cost"})]}),n.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Global Promotion"}),n.jsx("p",{className:"text-gray-600",children:"Marketing and visibility across Africa and beyond"})]})]})]})}),n.jsx("section",{className:"py-16 bg-gradient-to-r from-indigo-600 to-purple-600 mb-20",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Join Our Creator Program"}),n.jsx("p",{className:"text-xl text-indigo-100 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Are you a young creator or entrepreneur ready to transform your vision into reality? Apply to become part of our exclusive empowerment program."}),n.jsx("div",{className:"flex items-center justify-center mb-8",children:n.jsxs("label",{className:"flex items-center text-white",children:[n.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-indigo-300 rounded border-white",onChange:t=>e(t.target.checked),checked:r}),n.jsxs("span",{className:"ml-2 text-sm",children:["I have read and agree to the"," ",n.jsx(fe,{to:"/youth-empowerment-terms",className:"underline hover:text-indigo-200",children:"Terms and Conditions"})]})]})}),n.jsxs(fe,{to:r?"/youth-empowerment-form":"#",className:`inline-flex items-center px-8 py-4 font-semibold rounded-lg transition-colors duration-200 ${r?"bg-white text-indigo-600 hover:bg-gray-100":"bg-gray-400 text-gray-700 cursor-not-allowed"}`,onClick:t=>{r||(t.preventDefault(),alert("Please accept the terms and conditions to continue."))},children:["Apply Now",n.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})})]})},zde=()=>{const[r,e]=E.useState(1),[t,s]=E.useState(!1),[a,i]=E.useState({fullName:"",age:"",email:"",businessIdea:"",motivation:"",relevantExperience:"",expectedChallenges:"",twelveMonthGoals:"",supportNeeded:""}),[o,l]=E.useState({}),{alerts:c,addAlert:u,removeAlert:h}=zl(),f=(N,k)=>{i(C=>({...C,[N]:k})),o[N]&&l(C=>({...C,[N]:""}))},g=N=>{const k={};return N===1&&(a.fullName||(k.fullName="Name is required"),a.age||(k.age="Age is required"),a.email?/\S+@\S+\.\S+/.test(a.email)||(k.email="Invalid email"):k.email="Email is required"),N===2&&(a.businessIdea||(k.businessIdea="Business idea is required"),a.motivation||(k.motivation="Motivation is required"),a.relevantExperience||(k.relevantExperience="Relevant experience is required")),N===3&&(a.expectedChallenges||(k.expectedChallenges="Expected challenges is required"),a.twelveMonthGoals||(k.twelveMonthGoals="12-month goals is required"),a.supportNeeded||(k.supportNeeded="Support needed is required")),l(k),Object.keys(k).length===0},x=async()=>{g(r)&&(r<3?e(N=>N+1):await y())},y=async()=>{s(!0);try{const N={...a,submittedAt:new Date().toISOString(),timestamp:Date.now(),userAgent:navigator.userAgent,formType:"Youth Empowerment Application"};console.log("=== YOUTH EMPOWERMENT FORM SUBMISSION ==="),console.log("Form Data:",N),console.log("Submission Time:",new Date().toLocaleString()),console.log("Total Fields:",Object.keys(a).length),console.log("=========================================="),console.log("Sending data to /api/youth-empowerment...");const C=await fetch("https://foremade-backend.onrender.com/api/youth-empowerment",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(N)});if(console.log("API Response Status:",C.status),console.log("API Response Headers:",Object.fromEntries(C.headers.entries())),!C.ok){const _=await C.text();throw console.error("API Error Response:",_),new Error(`HTTP error! status: ${C.status}, message: ${_}`)}const R=await C.json();console.log("API Success Response:",R),console.log("=== SUBMISSION COMPLETED SUCCESSFULLY ==="),u("Application submitted successfully! We will review your application and get back to you soon.","success"),i({fullName:"",age:"",email:"",businessIdea:"",motivation:"",relevantExperience:"",expectedChallenges:"",twelveMonthGoals:"",supportNeeded:""}),e(1)}catch(N){console.error("=== SUBMISSION ERROR ==="),console.error("Error Details:",N),console.error("Error Message:",N.message),console.error("Error Stack:",N.stack),console.error("======================="),u("There was an error submitting your application. Please try again or contact support at support@foremade.com","error")}finally{s(!1)}},b=()=>{r>1&&e(N=>N-1)},v=()=>{const N={enter:{x:50,opacity:0},center:{x:0,opacity:1},exit:{x:-50,opacity:0}};return n.jsx(Ua,{mode:"wait",children:n.jsxs(Xe.div,{variants:N,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[r===1&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(Ul,{className:"w-6 h-6 text-neutral-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-neutral-800 mb-2",children:"Personal Information"}),n.jsx("p",{className:"text-neutral-600",children:"Let's start with the basics"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Enter your full name",value:a.fullName,onChange:k=>f("fullName",k.target.value),className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all ${o.fullName?"border-red-500":"border-gray-300"}`}),o.fullName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.fullName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Age ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Enter your age",value:a.age,onChange:k=>f("age",k.target.value),className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all pr-12 ${o.age?"border-red-500":"border-gray-300"}`}),n.jsx($J,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"})]}),o.age&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.age})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",placeholder:"your.email@example.com",value:a.email,onChange:k=>f("email",k.target.value),className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all ${o.email?"border-red-500":"border-gray-300"}`}),o.email&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.email})]})]}),r===2&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(B5,{className:"w-6 h-6 text-neutral-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-neutral-800 mb-2",children:"Your Business Vision"}),n.jsx("p",{className:"text-neutral-600",children:"Tell us about your entrepreneurial journey"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Idea ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{placeholder:"Describe your business idea in detail...",value:a.businessIdea,onChange:k=>f("businessIdea",k.target.value),rows:4,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.businessIdea?"border-red-500":"border-gray-300"}`}),o.businessIdea&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.businessIdea})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Motivation ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{placeholder:"What drives you to pursue this business opportunity?",value:a.motivation,onChange:k=>f("motivation",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.motivation?"border-red-500":"border-gray-300"}`}),o.motivation&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.motivation})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Relevant Experience ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{placeholder:"Share any relevant experience, skills, or background...",value:a.relevantExperience,onChange:k=>f("relevantExperience",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.relevantExperience?"border-red-500":"border-gray-300"}`}),o.relevantExperience&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.relevantExperience})]})]}),r===3&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(ote,{className:"w-6 h-6 text-neutral-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-neutral-800 mb-2",children:"Goals & Support"}),n.jsx("p",{className:"text-neutral-600",children:"Help us understand how we can support your success"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Expected Challenges ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{placeholder:"What obstacles do you anticipate in your entrepreneurial journey?",value:a.expectedChallenges,onChange:k=>f("expectedChallenges",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.expectedChallenges?"border-red-500":"border-gray-300"}`}),o.expectedChallenges&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.expectedChallenges})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["12-Month Goals ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{placeholder:"What do you aim to achieve in the next 12 months?",value:a.twelveMonthGoals,onChange:k=>f("twelveMonthGoals",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.twelveMonthGoals?"border-red-500":"border-gray-300"}`}),o.twelveMonthGoals&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.twelveMonthGoals})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Support Needed from Foremade ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{placeholder:"What specific support, resources, or guidance would be most valuable to you?",value:a.supportNeeded,onChange:k=>f("supportNeeded",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.supportNeeded?"border-red-500":"border-gray-300"}`}),o.supportNeeded&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.supportNeeded})]})]})]},r)})};return n.jsxs("div",{className:"relative",children:[n.jsx(Eo,{alerts:c,removeAlert:h}),n.jsx("div",{className:"min-h-screen bg-neutral-50 py-6 px-4 sm:py-8 md:py-12 lg:py-16",children:n.jsxs("div",{className:"max-w-md lg:max-w-2xl xl:max-w-3xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8 sm:mb-10 lg:mb-12",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-black rounded-2xl flex items-center justify-center mx-auto mb-4 sm:mb-6",children:n.jsx(K5,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-neutral-900 mb-3 sm:mb-4 leading-tight",children:["Youth Empowerment",n.jsx("br",{}),"Program"]}),n.jsx("p",{className:"text-neutral-600 text-sm sm:text-base lg:text-lg leading-relaxed max-w-2xl mx-auto",children:"Join our exclusive community of ambitious young entrepreneurs and creators."})]}),n.jsx("div",{className:"flex justify-center items-center gap-2 sm:gap-4 lg:gap-6 mb-8 sm:mb-10 max-w-lg mx-auto",children:[1,2,3].map((N,k)=>n.jsxs(as.Fragment,{children:[n.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-all
                    ${r>N||r===N?"bg-black text-white":"bg-neutral-200 text-neutral-600"}`,children:r>N?n.jsx(vo,{className:"w-4 h-4 sm:w-5 sm:h-5"}):n.jsx("span",{className:"text-sm sm:text-base font-bold",children:N})}),k<2&&n.jsx("div",{className:`w-8 sm:w-12 h-0.5 transition-all ${r>N+1?"bg-black":"bg-neutral-200"}`})]},N))}),n.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 lg:p-8 shadow-xl shadow-neutral-200/50 mb-6",children:[v(),n.jsxs("div",{className:"flex gap-3 mt-6 sm:mt-8 lg:mt-10",children:[r>1&&n.jsx("button",{onClick:b,className:"flex-1 px-4 py-3 sm:py-4 border border-neutral-300 rounded-xl font-semibold text-neutral-600 hover:bg-neutral-50 transition-colors lg:text-lg",children:"Previous"}),n.jsx("button",{onClick:x,disabled:t,className:`flex-1 bg-black text-white py-3 sm:py-4 px-6 rounded-xl font-semibold flex items-center justify-center gap-2 transition-colors lg:text-lg ${t?"bg-gray-400 cursor-not-allowed":"hover:bg-neutral-800"}`,children:r===3?t?n.jsxs(n.Fragment,{children:["Submitting...",n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})]}):n.jsxs(n.Fragment,{children:["Submit Application",n.jsx(vo,{className:"w-4 h-4"})]}):n.jsxs(n.Fragment,{children:["Continue",n.jsx(Vf,{className:"w-4 h-4"})]})})]})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-xs sm:text-sm lg:text-base text-neutral-500",children:["Questions? Contact us at"," ",n.jsx("span",{className:"text-black font-medium hover:underline",children:"support@foremade.com"})]})})]})})]})},Vde=()=>n.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 min-h-screen py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx(zde,{})})}),Bde=()=>n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[n.jsxs("div",{className:"max-w-5xl mx-auto p-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8 border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 rounded-full",children:n.jsx("i",{className:"bx bx-world text-3xl text-white"})})}),n.jsx("h1",{className:"text-4xl font-bold text-center bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"FOREMADE Youth Empowerment"}),n.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-700 mb-4",children:"Terms of Engagement"}),n.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:n.jsx("p",{className:"text-center text-gray-700 font-medium",children:'"Empowered Creators Collaboration Agreement"'})}),n.jsxs("p",{className:"mt-6 text-gray-600 text-center leading-relaxed",children:["This agreement outlines the terms and conditions between ",n.jsx("strong",{className:"text-indigo-600",children:"FOREMADE Marketplace"}),' ("FOREMADE") and the selected participant/brand ("Creator") under the ',n.jsx("strong",{className:"text-purple-600",children:"FOREMADE Youth Empowerment Initiative"}),"."]})]}),n.jsx("div",{className:"space-y-6",children:Hde.map((r,e)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"bg-indigo-50 p-2 rounded-lg mr-3",children:n.jsx("i",{className:`bx ${r.icon} text-indigo-600 text-xl`})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:r.title})]}),r.content]},e))}),n.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl shadow-lg p-6 text-white mb-20",children:[n.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n.jsx("i",{className:"bx bx-handshake text-3xl mr-3"}),n.jsx("h3",{className:"text-xl font-semibold",children:"Agreement Commitment"})]}),n.jsx("p",{className:"text-center leading-relaxed",children:n.jsx("strong",{children:"By entering into this agreement, both parties commit to upholding the objectives of the Youth Empowerment Initiative in a fair and transparent manner."})})]})]}),n.jsx("link",{href:"https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css",rel:"stylesheet"})]}),Hde=[{icon:"bx-target-lock",title:"1. Purpose",content:n.jsx("p",{className:"text-gray-600 leading-relaxed ml-12",children:"The initiative aims to empower talented youth-led creators by offering financial support, free retail exposure, and a structured commercial partnership to scale their creations through the FOREMADE platform."})},{icon:"bx-briefcase",title:"2. Project Scope",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-dollar-circle text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Provide initial funding for production setup"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-store text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Offer access to online retail infrastructure"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-trending-up text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Co-market the Creator's selected product lines through web and social campaigns"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-shield-check text-indigo-500 mr-2"}),n.jsxs("span",{className:"text-gray-600",children:["Retain co-ownership of the empowered product lines ",n.jsx("strong",{className:"text-indigo-600",children:"until 10,000 units are sold"})]})]})]})},{icon:"bx-time",title:"3. Duration & Termination",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-calendar text-indigo-500 mr-2"}),n.jsxs("span",{className:"text-gray-600",children:["The partnership runs until a total of ",n.jsx("strong",{className:"text-indigo-600",children:"10,000 units"})," have been sold"]})]}),n.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4 mt-3",children:[n.jsx("div",{className:"font-medium text-indigo-700 mb-2",children:"After reaching this threshold:"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-crown text-indigo-500 mr-2"}),n.jsxs("span",{className:"text-gray-600",children:["Creator retains ",n.jsx("strong",{className:"text-indigo-600",children:"100% ownership"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-no-entry text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"FOREMADE no longer shares in profits"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-wallet text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"50% of capital funding is retained by the Creator"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-refresh text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Option to renew under revised terms"})]})]})]})]})},{icon:"bx-pie-chart-alt",title:"4. Profit Sharing",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-line-chart text-indigo-500 mr-2"}),n.jsxs("span",{className:"text-gray-700",children:[n.jsx("strong",{children:"010,000 units:"})," Creator gets ",n.jsx("strong",{className:"text-indigo-600",children:"40% net profit"})]})]})}),n.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-trending-up text-indigo-500 mr-2"}),n.jsxs("span",{className:"text-gray-700",children:[n.jsx("strong",{children:"Post-10,000 units:"})," Creator gets ",n.jsx("strong",{className:"text-indigo-600",children:"60%"}),", FOREMADE gets ",n.jsx("strong",{className:"text-indigo-600",children:"40%"})," (if agreement continues)"]})]})})]})},{icon:"bx-money",title:"5. Capital Funding",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-package text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Initial setup costs covered by FOREMADE"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-repeat text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Performance-based funding adjustments"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-coin-stack text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Materials and packaging support included"})]})]})},{icon:"bx-refresh",title:"6. Continuation Clause",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-copyright text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Creator retains intellectual property rights"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-package text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"FOREMADE continues logistics support"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-calendar-check text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Quarterly performance reviews"})]})]})},{icon:"bx-package",title:"7. Product Standards",content:n.jsx("p",{className:"text-gray-600 text-sm leading-relaxed ml-12",children:"All products must meet agreed quality standards. Packaging design must align with youth-focused branding and maintain consistency with the Creator's vision while meeting FOREMADE's marketplace requirements."})},{icon:"bx-bullhorn",title:"8. Marketing & Branding",content:n.jsx("p",{className:"text-gray-600 text-sm leading-relaxed ml-12",children:'Products will be featured prominently on the "Empowered Creators" section. All marketing materials will include Creator credits and cultural storytelling elements to maintain authenticity.'})},{icon:"bx-exit",title:"9. Termination Clause",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-time text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"14 days notice required"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-calculator text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Fair reconciliation of funding and inventory"})]})]})},{icon:"bx-balance-scale",title:"10. Dispute Resolution",content:n.jsxs("div",{className:"ml-12 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-conversation text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Mediation as primary resolution method"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"bx bx-book-open text-indigo-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Local jurisdiction laws apply"})]}),n.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:[n.jsx("strong",{children:"Note:"})," All disputes will be handled in accordance with the laws applicable to your country of operation."]})]})}],$de=()=>{const r=()=>{window.open("https://gdpr-info.eu/art-15-gdpr/","_blank","noopener,noreferrer")};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[n.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 text-white",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-12",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(fe,{to:"/privacy-policy/eu",className:"bg-white/10 p-2 rounded-lg hover:bg-white/20 transition-colors",children:n.jsx("i",{className:"bx bx-arrow-back text-2xl"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Right of Access (Article 15 GDPR)"})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:n.jsxs("div",{className:"prose prose-blue max-w-none",children:[n.jsx("div",{className:"mb-6",children:n.jsx("p",{className:"text-gray-700",children:"To view the official text of Article 15 of the GDPR, please click the button below to open it in a new window:"})}),n.jsx("div",{className:"flex justify-center mb-8",children:n.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx("i",{className:"bx bx-external-link text-xl"}),"View Article 15 GDPR"]})}),n.jsxs("div",{className:"mt-8 bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"How to Exercise Your Right"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"To exercise your right of access, you can:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("i",{className:"bx bx-envelope text-blue-600 text-xl mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Email Request"}),n.jsx("p",{className:"text-gray-600",children:"Send your request to privacy@foremade.com"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("i",{className:"bx bx-user text-blue-600 text-xl mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Privacy Centre"}),n.jsxs("p",{className:"text-gray-600",children:["Submit your request through our ",n.jsx(fe,{to:"/privacy-policy/contact",className:"text-blue-600 hover:text-blue-800",children:"Privacy Centre"})]})]})]})]})]})]})}),n.jsx("footer",{className:"mt-16 pt-8 border-t border-gray-200 text-center",children:n.jsx("div",{className:"text-gray-500 text-sm",children:" 2025 Foremade Global. All rights reserved."})})]})]})},ah=({category:r})=>{const e={"Tablet & Phones":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496510/photo_2025-06-09_20-11-21_vsojz8.jpg","Health & Beauty":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496502/photo_2025-06-09_20-11-23_2_kwjqqr.jpg",Electronics:"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496477/photo_2025-06-09_20-11-29_tzs0vs.jpg","Computers & Accessories":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496469/photo_2025-06-09_20-11-31_xtfepw.jpg","Baby Products":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496470/photo_2025-06-09_20-11-30_ht9ms8.jpg","Games & Fun":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749425277/photo_2025-06-09_00-28-12_dt7sp3.jpg","Drinks & Categories":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749417059/photo_2025-06-08_22-10-17_inpwcf.jpg","Home & Kitchen":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749425370/photo_2025-06-09_00-28-16_mildb8.jpg","Smart Watches":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749425266/photo_2025-06-09_00-28-13_hai2go.jpg"};return n.jsxs("div",{className:"w-full h-[200px] relative overflow-hidden rounded-lg mb-6",children:[n.jsx("img",{src:e[r]||"default-banner-url.jpg",alt:`${r} banner`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/50 to-transparent",children:n.jsx("div",{className:"flex items-center h-full px-6",children:n.jsx("h1",{className:"hidden text-3xl font-bold text-white",children:r})})})]})};function Wde(){const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(null),o="Tablet & Phones",l=1,c="tablet & phones";return E.useEffect(()=>{(async()=>{try{s(!0),i(null);const h=mt(Ie(re,"products"),nt("category","==",c)),g=(await Ke(h)).docs.map(y=>{const b=y.data();return{id:y.id,...b}});console.log("All fetched products (Tablet & Phones):",g);const x=g.map(y=>{const b=y;let v=b.imageUrl&&typeof b.imageUrl=="string"&&b.imageUrl.startsWith("https://")?b.imageUrl:Array.isArray(b.imageUrls)&&b.imageUrls[0]&&typeof b.imageUrls[0]=="string"&&b.imageUrls[0].startsWith("https://")?b.imageUrls[0]:"/images/placeholder.jpg";return{id:y.id,name:b.name||"Unnamed Product",description:b.description||"",price:b.price||0,stock:b.stock||0,category:b.category||"tablet & phones",categoryId:b.category?.trim().toLowerCase()===c.toLowerCase()?l:1,colors:b.colors||[],sizes:b.sizes||[],condition:b.condition||"",imageUrl:v,sellerId:b.sellerId||"",rating:b.rating||Math.random()*2+3}}).filter(y=>y.stock<10?(console.warn("Filtered out product with low stock (Tablet & Phones):",{id:y.id,name:y.name,stock:y.stock}),!1):!(y.imageUrl&&typeof y.imageUrl=="string"&&y.imageUrl.startsWith("https://"))&&y.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (Tablet & Phones):",{id:y.id,name:y.name,imageUrl:y.imageUrl}),!1):!0).sort((y,b)=>b.rating-y.rating);if(console.log(`Fetched ${o} products:`,x),x.length===0){console.warn("No products passed the filters (Tablet & Phones). Relaxing stock filter to debug...");const y=g.map(b=>{const v=b;let N=v.imageUrl&&typeof v.imageUrl=="string"&&v.imageUrl.startsWith("https://")?v.imageUrl:Array.isArray(v.imageUrls)&&v.imageUrls[0]&&typeof v.imageUrls[0]=="string"&&v.imageUrls[0].startsWith("https://")?v.imageUrls[0]:"/images/placeholder.jpg";return{id:b.id,name:v.name||"Unnamed Product",description:v.description||"",price:v.price||0,stock:v.stock||0,category:v.category||"tablet & phones",categoryId:v.category?.trim().toLowerCase()===c.toLowerCase()?l:1,colors:v.colors||[],sizes:v.sizes||[],condition:v.condition||"",imageUrl:N,sellerId:v.sellerId||"",rating:v.rating||Math.random()*2+3}}).filter(b=>!(b.imageUrl&&typeof b.imageUrl=="string"&&b.imageUrl.startsWith("https://"))&&b.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (relaxed filter, Tablet & Phones):",{id:b.id,name:b.name,imageUrl:b.imageUrl}),!1):!0);console.log("Products with relaxed stock filter (Tablet & Phones):",y),e(y.sort((b,v)=>v.rating-b.rating))}else e(x)}catch(h){console.error(`Error loading ${o} products:`,{message:h.message,code:h.code}),i(`Failed to load ${o} products.`)}finally{s(!1)}})()},[]),t?n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(ah,{category:o}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(4)].map((u,h)=>n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},h))})]})}):n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(ah,{category:o}),n.jsxs("div",{className:"flex mt-6 justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending ",o]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx(fe,{to:`/products?category=${l}`,className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"})})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[r.length===0?n.jsxs("p",{className:"text-gray-600",children:["No ",o," products found."]}):r.map(u=>n.jsx("div",{className:"w-full",children:n.jsx(zr,{product:u})},u.id)),console.log(a)]})]})})}function Yde(){const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(null),o="Electronics",l=3,c="electronics";return E.useEffect(()=>{(async()=>{try{s(!0),i(null);const h=mt(Ie(re,"products"),nt("category","==",c)),g=(await Ke(h)).docs.map(y=>{const b=y.data();return{id:y.id,...b}});console.log("All fetched products (Electronics):",g);const x=g.map(y=>{const b=y;let v=b.imageUrl&&typeof b.imageUrl=="string"&&b.imageUrl.startsWith("https://")?b.imageUrl:Array.isArray(b.imageUrls)&&b.imageUrls[0]&&typeof b.imageUrls[0]=="string"&&b.imageUrls[0].startsWith("https://")?b.imageUrls[0]:"/images/placeholder.jpg";return{id:y.id,name:b.name||"Unnamed Product",description:b.description||"",price:b.price||0,stock:b.stock||0,category:b.category||"electronics",categoryId:b.category?.trim().toLowerCase()===c.toLowerCase()?l:3,colors:b.colors||[],sizes:b.sizes||[],condition:b.condition||"",imageUrl:v,sellerId:b.sellerId||"",rating:b.rating||Math.random()*2+3}}).filter(y=>y.stock<10?(console.warn("Filtered out product with low stock (Electronics):",{id:y.id,name:y.name,stock:y.stock}),!1):!(y.imageUrl&&typeof y.imageUrl=="string"&&y.imageUrl.startsWith("https://"))&&y.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (Electronics):",{id:y.id,name:y.name,imageUrl:y.imageUrl}),!1):!0).sort((y,b)=>b.rating-y.rating);if(console.log(`Fetched ${o} products:`,x),x.length===0){console.warn("No products passed the filters (Electronics). Relaxing stock filter to debug...");const y=g.map(b=>{const v=b;let N=v.imageUrl&&typeof v.imageUrl=="string"&&v.imageUrl.startsWith("https://")?v.imageUrl:Array.isArray(v.imageUrls)&&v.imageUrls[0]&&typeof v.imageUrls[0]=="string"&&v.imageUrls[0].startsWith("https://")?v.imageUrls[0]:"/images/placeholder.jpg";return{id:b.id,name:v.name||"Unnamed Product",description:v.description||"",price:v.price||0,stock:v.stock||0,category:v.category||"electronics",categoryId:v.category?.trim().toLowerCase()===c.toLowerCase()?l:3,colors:v.colors||[],sizes:v.sizes||[],condition:v.condition||"",imageUrl:N,sellerId:v.sellerId||"",rating:v.rating||Math.random()*2+3}}).filter(b=>!(b.imageUrl&&typeof b.imageUrl=="string"&&b.imageUrl.startsWith("https://"))&&b.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (relaxed filter, Electronics):",{id:b.id,name:b.name,imageUrl:b.imageUrl}),!1):!0);console.log("Products with relaxed stock filter (Electronics):",y),e(y.sort((b,v)=>v.rating-b.rating))}else e(x)}catch(h){console.error(`Error loading ${o} products:`,{message:h.message,code:h.code}),i(`Failed to load ${o} products.`)}finally{s(!1)}})()},[]),t?n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(ah,{category:o}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[...Array(4)].map((u,h)=>n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},h))})]})}):n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(ah,{category:o}),n.jsxs("div",{className:"flex mt-6 justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx(fe,{to:`/products?category=${l}`,className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"})})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[r.length===0?n.jsxs("p",{className:"text-gray-600 p-4",children:["No ",o," products found."]}):r.map(u=>n.jsx("div",{className:"w-full",children:n.jsx(zr,{product:u})},u.id)),console.log(a)]})]})})}function qde(){const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(null),o="Smart Watches",l=9,c="smart watches";return E.useEffect(()=>{(async()=>{try{s(!0),i(null);const h=mt(Ie(re,"products"),nt("category","==",c)),g=(await Ke(h)).docs.map(y=>{const b=y.data();return{id:y.id,...b}});console.log("All fetched products (Smart Watches):",g);const x=g.map(y=>{const b=y;let v=b.imageUrl&&typeof b.imageUrl=="string"&&b.imageUrl.startsWith("https://")?b.imageUrl:Array.isArray(b.imageUrls)&&b.imageUrls[0]&&typeof b.imageUrls[0]=="string"&&b.imageUrls[0].startsWith("https://")?b.imageUrls[0]:"/images/placeholder.jpg";return{id:y.id,name:b.name||"Unnamed Product",description:b.description||"",price:b.price||0,stock:b.stock||0,category:b.category||"smart watches",categoryId:b.category?.trim().toLowerCase()===c.toLowerCase()?l:9,colors:b.colors||[],sizes:b.sizes||[],condition:b.condition||"",imageUrl:v,sellerId:b.sellerId||"",rating:b.rating||Math.random()*2+3}}).filter(y=>y.stock<10?(console.warn("Filtered out product with low stock (Smart Watches):",{id:y.id,name:y.name,stock:y.stock}),!1):!(y.imageUrl&&typeof y.imageUrl=="string"&&y.imageUrl.startsWith("https://"))&&y.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (Smart Watches):",{id:y.id,name:y.name,imageUrl:y.imageUrl}),!1):!0).sort((y,b)=>b.rating-y.rating);if(console.log(`Fetched ${o} products:`,x),x.length===0){console.warn("No products passed the filters (Smart Watches). Relaxing stock filter to debug...");const y=g.map(b=>{const v=b;let N=v.imageUrl&&typeof v.imageUrl=="string"&&v.imageUrl.startsWith("https://")?v.imageUrl:Array.isArray(v.imageUrls)&&v.imageUrls[0]&&typeof v.imageUrls[0]=="string"&&v.imageUrls[0].startsWith("https://")?v.imageUrls[0]:"/images/placeholder.jpg";return{id:b.id,name:v.name||"Unnamed Product",description:v.description||"",price:v.price||0,stock:v.stock||0,category:v.category||"smart watches",categoryId:v.category?.trim().toLowerCase()===c.toLowerCase()?l:9,colors:v.colors||[],sizes:v.sizes||[],condition:v.condition||"",imageUrl:N,sellerId:v.sellerId||"",rating:v.rating||Math.random()*2+3}}).filter(b=>!(b.imageUrl&&typeof b.imageUrl=="string"&&b.imageUrl.startsWith("https://"))&&b.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (relaxed filter, Smart Watches):",{id:b.id,name:b.name,imageUrl:b.imageUrl}),!1):!0);console.log("Products with relaxed stock filter (Smart Watches):",y),e(y.sort((b,v)=>v.rating-b.rating))}else e(x)}catch(h){console.error(`Error loading ${o} products:`,{message:h.message,code:h.code}),i(`Failed to load ${o} products.`)}finally{s(!1)}})()},[]),t?n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(ah,{category:o}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(4)].map((u,h)=>n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},h))})]})}):n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx(ah,{category:o}),n.jsxs("div",{className:"flex mt-6 justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx(fe,{to:`/products?category=${l}`,className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"})})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[r.length===0?n.jsx("p",{className:"text-gray-600",children:"No product found."}):r.map(u=>n.jsx("div",{className:"w-full",children:n.jsx(zr,{product:u})},u.id)),console.log(a)]})]})})}const Xde=r=>{switch(r.code){case"auth/network-request-failed":return"Check your network connection and try again.";case"auth/user-not-found":return"No user found with this email.";case"auth/invalid-email":return"Please enter a valid email address.";default:return"An unexpected error occurred. Please try again later."}};function Gde(){const r=gs(),[e,t]=E.useState(""),[s,a]=E.useState(""),[i,o]=E.useState(""),[l,c]=E.useState(!1),u=f=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f),h=async f=>{if(f.preventDefault(),a(""),o(""),c(!0),!e){a("Email is required."),c(!1);return}if(!u(e)){a("Please enter a valid email address."),c(!1);return}try{await v3(ke,e),o(`Password reset email sent to ${e}. Please check your inbox.`),t(""),setTimeout(()=>{c(!1),r("/login")},7e3)}catch(g){console.error("Error sending password reset email:",g),a(Xde(g)),c(!1)}};return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"w-full h-screen flex",children:[n.jsx("div",{className:"hidden md:block md:w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('https://images.pexels.com/photos/5625115/pexels-photo-5625115.jpeg?auto=compress&cs=tinysrgb&w=600')"},children:n.jsxs("div",{className:"w-full h-full bg-black bg-opacity-40 dark:bg-black/50 flex flex-col justify-center items-center text-white p-8",children:[n.jsx("h1",{className:"text-3xl font-bold flex-col items-center",children:n.jsx("img",{src:Rg,alt:"Formade logo",className:"h-20"})}),n.jsx("p",{className:"text-lg",children:"Recover Your Password."})]})}),n.jsxs("div",{className:"w-full md:w-1/2 h-full p-9 flex flex-col justify-center bg-white dark:bg-gray-800",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Forgot Password"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Already have an account?"," ",n.jsx(fe,{to:"/login",className:"text-blue-600 hover:underline dark:text-blue-400 dark:hover:text-blue-300",children:"Sign In"})]}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",id:"email",value:e,onChange:f=>{t(f.target.value),a("")},className:`w-full p-3 border rounded-lg transition-all duration-300 ${s?"border-red-500":i?"border-green-500":"border-gray-300 dark:border-gray-600"}`,autoComplete:"email",required:!0}),n.jsx("label",{htmlFor:"email",className:`absolute left-3 top-3 text-gray-500 dark:text-gray-400 transition-all duration-300 transform origin-left pointer-events-none peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-500 peer-focus:bg-white dark:peer-focus:bg-gray-800 peer-focus:px-1 ${e?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""}`,children:"Email"}),n.jsx("span",{className:"absolute right-3 top-3 text-blue-500 dark:text-blue-400",children:n.jsx("i",{className:"bx bx-envelope text-xl"})}),s&&n.jsx("p",{className:"text-red-600 text-[10px] mt-1",children:s})]}),i&&n.jsx("p",{className:"text-green-600 text-[10px] mb-4",children:i}),n.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200 dark:bg-slate-700 dark:hover:bg-blue-900",disabled:l,children:l?"Sending...":n.jsxs(n.Fragment,{children:["Send Reset Link"," ",n.jsx("i",{className:"bx bx-send text-blue-500 text-xl inline-block ml-2"})]})})]}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-5",children:["Dont have an account?"," ",n.jsx(fe,{to:"/register",className:"text-blue-600 hover:underline dark:text-blue-400 dark:hover:text-blue-300",children:"Sign Up"})]})]})]})})}const Kde={Shoes:"https://banner2.cleanpng.com/20180406/wow/kisspng-shoe-jumpman-sneakers-air-jordan-teal-jordan-5ac6ff9c2fcfe2.7959868915229910041959.jpg",Fashion:"https://pngimg.com/uploads/dress_shirt/dress_shirt_PNG8088.png",Phones:"https://banner2.cleanpng.com/20240415/cv/transparent-apple-logo-person-holding-iphone-11-pro-max661df755177ea1.73458741.webp",Laptops:"https://banner2.cleanpng.com/lnd/20240424/uxz/transparent-rainbow-open-laptop-with-rainbow-gradient-background-image662945f170dc49.58708681.webp",Watches:"https://banner2.cleanpng.com/20180202/lie/av2ldq3r4.webp",Electronics:"https://banner2.cleanpng.com/20180131/jgw/av1z4nree.webp"};function Qde(r){const e=Wl();Xr();const t=r.category||e.category||"",[s,a]=E.useState([]),[i,o]=E.useState(!0);E.useEffect(()=>{if(!t)return;(async()=>{o(!0);try{const u=mt(Ie(re,"products"),nt("category","==",t.toLowerCase())),f=(await Ke(u)).docs.map(g=>({id:g.id,...g.data()}));a(f)}catch{a([])}finally{o(!1)}})()},[t]);const l=Kde[t]||null;return n.jsxs("section",{className:"py-8 bg-white",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative w-full h-40 md:h-56 bg-gradient-to-r from-blue-100 to-blue-300 flex items-center justify-center rounded-lg overflow-hidden",children:[l&&n.jsx("img",{src:l,alt:t,className:"absolute right-4 bottom-0 h-32 md:h-48 object-contain opacity-60 pointer-events-none",style:{maxWidth:"40%"}}),n.jsx("h1",{className:"relative z-10 text-2xl md:text-4xl font-bold text-blue-900 drop-shadow-lg",children:t?`${t} Products`:"Products"})]})}),n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-4",children:t?`Products in ${t}`:"Products"}),i?n.jsx("div",{children:"Loading..."}):s.length===0?n.jsx("p",{className:"text-gray-600",children:"No products found for this category."}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:s.map(c=>n.jsx(zr,{product:c},c.id))})]})]})}const Zde=()=>n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[n.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 text-white",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-16",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"bg-blue-100 p-4 rounded-2xl",children:n.jsx("i",{className:"bx bx-store text-4xl text-blue-600"})})}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"About Us"}),n.jsx("p",{className:"text-xl text-blue-100",children:"Shop. Sell. Smile."})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Welcome to ",n.jsx("strong",{className:"text-blue-600",children:"FOREMADE Marketplace"}),"  the people-first platform where ",n.jsx("em",{children:"everyone can shop, sell, and smile"}),".",n.jsx("br",{}),"Whether you're clearing out the old, launching something new, or simply looking to buy smart, FOREMADE gives you the tools, the platform, and the audience."]})}),n.jsx("div",{className:"mb-8",children:n.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["We're ",n.jsx("strong",{className:"text-blue-600",children:"not just another marketplace"}),". FOREMADE was created to ",n.jsx("strong",{children:"level the playing field"}),"  giving everyday people, creatives, and entrepreneurs a ",n.jsx("strong",{children:"free, secure space to sell"})," new or used products and reach buyers everywhere."]})}),n.jsxs("div",{className:"mb-12",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx("i",{className:"bx bx-star text-2xl text-yellow-500 mr-3"}),"What Makes Us Different?"]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{icon:"bx-gift",title:"Free to Sell",desc:"List your items at no cost  new, handmade, or preloved."},{icon:"bx-money",title:"Get Paid Fast",desc:"Sellers receive full payment after confirmed deliveries. No delays."},{icon:"bx-mobile",title:"User-Friendly Platform",desc:"Designed to be mobile-first, easy to use, and built with sellers in mind."},{icon:"bx-globe",title:"Worldwide Reach",desc:"Buy or sell across cities, countries, and continents."},{icon:"bx-shield",title:"Safe & Secure",desc:"Protected payments, verified vendors, and encrypted data."},{icon:"bx-check-shield",title:"Zero Tolerance for Fraud",desc:"Robust anti-money laundering and transaction monitoring systems."},{icon:"bx-truck",title:"Fast, Discounted Delivery",desc:"Reliable logistics and savings on bundled shipments."}].map((r,e)=>n.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx("div",{className:"text-blue-600 flex items-center justify-center w-8",children:n.jsx("i",{className:`bx ${r.icon} text-2xl`})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:r.title}),n.jsx("p",{className:"text-sm text-gray-600",children:r.desc})]})]},e))})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx("i",{className:"bx bx-globe text-2xl text-green-600 mr-3"}),"For Everyone. Open to the World."]}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"FOREMADE empowers sellers from all walks of life to connect with a growing global marketplace. Whether you're a student with a side hustle or a brand ready to scale, we help you get noticed  and get paid."})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-100",children:[n.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Shop what you love. Sell what you have. To your neighborhood  or across borders. And always, smile."}),n.jsx("p",{className:"text-gray-600 italic",children:"Because on FOREMADE, everyone is a seller, and everyone is a customer."})]})]})}),n.jsx("div",{className:"mt-12 text-center",children:n.jsxs(fe,{to:"/products",className:"inline-flex items-center gap-2 px-6 py-3 bg-[#112d4e] text-white rounded-lg hover:bg-[#112d4e] transition-colors",children:["Start Shopping",n.jsx("i",{className:"bx bx-right-arrow-alt"})]})}),n.jsx("footer",{className:"mt-16 pt-8 border-t border-gray-200 text-center",children:n.jsx("div",{className:"text-gray-500 text-sm",children:" 2025 Foremade Global. All rights reserved."})})]})]}),Jde=()=>{const[r,e]=E.useState(""),[t,s]=E.useState([]),[a,i]=E.useState(!1),[o,l]=E.useState([]),[c,u]=E.useState("All"),[h,f]=E.useState([0,1e5]);E.useEffect(()=>{(async()=>{try{const y=await Ke(Ie(re,"products")),b=new Set(y.docs.map(v=>v.data().category||"Other"));l(["All",...b])}catch(y){console.error("Error fetching categories:",y),je.error("Failed to load categories.")}})()},[]);const g=async()=>{if(!r.trim()){s([]);return}i(!0);try{let x=mt(Ie(re,"products"),nt("status","==","approved"));c!=="All"&&(x=mt(x,nt("category","==",c)));const b=(await Ke(x)).docs.map(v=>({id:v.id,...v.data()})).filter(v=>v.name.toLowerCase().includes(r.toLowerCase())&&v.price>=h[0]&&v.price<=h[1]);s(b)}catch(x){console.error("Error searching products:",x),je.error("Failed to load search results.")}finally{i(!1)}};return E.useEffect(()=>{const x=setTimeout(g,500);return()=>clearTimeout(x)},[r,c,h]),n.jsx("div",{className:"min-h-screen bg-gray-100 py-4 xs:py-6",children:n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsxs("div",{className:"relative mb-4 xs:mb-6",children:[n.jsx("input",{type:"text",placeholder:"Search for items...",value:r,onChange:x=>e(x.target.value),className:"w-full pl-10 pr-4 py-2 xs:py-3 rounded-full bg-white shadow-sm text-sm xs:text-base focus:outline-none focus:ring-2 focus:ring-blue-500 justify-end"}),n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-lg xs:text-xl"})]}),n.jsxs("div",{className:"flex flex-col xs:flex-row gap-3 xs:gap-4 mb-4 xs:mb-6",children:[n.jsx("select",{value:c,onChange:x=>u(x.target.value),className:"px-3 py-2 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:o.map(x=>n.jsx("option",{value:x,children:x},x))}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"number",placeholder:"Min",value:h[0]||"",onChange:x=>f([Number(x.target.value)||0,h[1]]),className:"w-20 px-2 py-2 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("span",{children:"-"}),n.jsx("input",{type:"number",placeholder:"Max",value:h[1]||"",onChange:x=>f([h[0],Number(x.target.value)||1e5]),className:"w-20 px-2 py-2 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 xs:gap-4",children:[...Array(8)].map((x,y)=>n.jsx("div",{className:"bg-white rounded-lg shadow-sm h-[260px] animate-pulse"},y))}):t.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-600",children:[n.jsx("i",{className:"bx bx-search-alt-2 text-4xl mb-2"}),n.jsx("p",{className:"text-sm xs:text-base",children:"No products found. Try a different search term."})]}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 xs:gap-4",children:t.map(x=>n.jsx(zr,{product:{id:x.id,name:x.name,price:x.price,imageUrls:x.imageUrls,sellerName:x.sellerName||"Unknown Seller"}},x.id))})]})})},eue=()=>{const[r,e]=E.useState([]),[t,s]=E.useState(!0);E.useEffect(()=>{(async()=>{s(!0);try{const c=ke.currentUser?.uid;if(!c){e([]),s(!1);return}const u=mt(Ie(re,"notifications"),nt("userId","==",c),vg("createdAt","desc")),f=(await Ke(u)).docs.map(g=>({id:g.id,...g.data()}));e(f)}catch(c){console.error("Error fetching notifications:",c),je.error("Failed to load notifications.")}finally{s(!1)}})()},[]);const a=l=>{switch(l){case"signup":return"bx bx-user-plus";case"login":return"bx bx-log-in";case"order_placed":return"bx bx-package";case"order_status":return"bx bx-truck";case"promo":return"bx bx-gift";default:return"bx bx-bell"}},i=(l,c)=>{switch(l){case"signup":return"Welcome! You have successfully signed up.";case"login":return`You logged in from ${c?.device||"an unknown device"} at ${o(c?.timestamp||new Date)}`;case"order_placed":return`Your order #${c?.orderId||"N/A"} has been placed.`;case"order_status":return`Order #${c?.orderId||"N/A"} is now ${c?.status||"updated"}.`;case"promo":return c?.message||"New promotion available! Check it out.";default:return"New notification received."}},o=l=>l?(l.toDate?l.toDate():new Date(l)).toLocaleString("en-NG",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"Unknown time";return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-6",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx("i",{className:"bx bx-bell text-blue-600 mr-3 text-2xl"}),"Your Activity & Notifications"]}),t?n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((l,c)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},c))}):r.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[n.jsx("i",{className:"bx bx-bell-off text-4xl mb-4"}),n.jsx("p",{className:"text-lg",children:"No activities or notifications yet."})]}):n.jsx("div",{className:"space-y-4",children:r.map(l=>n.jsxs("div",{className:`bg-white rounded-lg shadow-md p-4 flex items-start gap-4 ${l.read===!1?"border-l-4 border-blue-500":""}`,children:[n.jsx("i",{className:`${a(l.type)} text-blue-600 text-2xl`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-base text-gray-800",children:i(l.type,l.data)}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o(l.createdAt)})]})]},l.id))})]})})};function tue(){return n.jsxs("div",{children:["No store available at the moment.",n.jsx("p",{children:"Check back later for updates."})]})}function sue(){const{productId:r}=Wl(),e=gs(),[t,s]=E.useState({name:"",price:"",quantity:0,description:"",imageUrls:[],videoUrls:[],colors:[],status:"pending",locationData:{country:"",state:"",city:"",address:""},isDailyDeal:!1,discountPercentage:0}),[a,i]=E.useState(!0),[o,l]=E.useState({}),[c,u]=E.useState(""),[h,f]=E.useState(""),[g,x]=E.useState("");E.useEffect(()=>{(async()=>{try{const I=ke.currentUser?.uid;if(!I)throw new Error("User not authenticated");const P=Ce(re,"products",r),T=await Je(P);if(T.exists()&&T.data().sellerId===I){const D=T.data();s({name:D.name||"",price:D.price||"",quantity:D.quantity||0,description:D.description||"",imageUrls:Array.isArray(D.imageUrls)?D.imageUrls:[],videoUrls:Array.isArray(D.videoUrls)?D.videoUrls:[],colors:Array.isArray(D.colors)?D.colors:[],status:D.status||"pending",locationData:D.locationData||{country:"",state:"",city:"",address:""},isDailyDeal:D.isDailyDeal||!1,discountPercentage:D.discountPercentage||0})}else throw new Error("Product not found or unauthorized")}catch(I){l({general:I.message})}finally{i(!1)}})()},[r]);const y=()=>{const _={};return t.name.trim()||(_.name="Product name is required"),(!t.price||isNaN(t.price)||Number(t.price)<=0)&&(_.price="Valid price is required"),t.quantity<0&&(_.quantity="Quantity cannot be negative"),t.locationData.country||(_.country="Country is required"),t.locationData.state||(_.state="State is required"),t.isDailyDeal&&(!t.discountPercentage||t.discountPercentage<0||t.discountPercentage>100)&&(_.discountPercentage="Discount must be between 0 and 100%"),_},b=_=>{const{name:I,value:P,type:T,checked:D}=_.target;s(L=>({...L,[I]:T==="checkbox"?D:P}))},v=_=>{const I=Number(_.target.value);s(P=>({...P,quantity:I>=0?I:0}))},N=_=>{const I=_.target.value;s(P=>({...P,colors:I?[...new Set([...P.colors,I])]:P.colors}))},k=async _=>{const I=_.target.files[0];if(I){const P=new FileReader;P.onloadend=async()=>{const T=P.result,D=xT(tN,`products/${r}/images/${Date.now()}`);await gT(D,T,"data_url");const L=await pT(D);s(F=>({...F,imageUrls:[...F.imageUrls,L]}))},P.readAsDataURL(I)}},C=async _=>{const I=_.target.files[0];if(I){const P=new FileReader;P.onloadend=async()=>{const T=P.result,D=xT(tN,`products/${r}/videos/${Date.now()}`);await gT(D,T,"data_url");const L=await pT(D);s(F=>({...F,videoUrls:[...F.videoUrls,L]}))},P.readAsDataURL(I)}},R=async()=>{const _=y();if(Object.keys(_).length>0){l(_);return}try{const I=ke.currentUser?.uid,P=Ce(re,"products",r);await aa(P,{...t,updatedAt:Ti()});const T=Ce(Ie(re,"adminNotifications"));await Xt(T,{message:`Product "${t.name}" (ID: ${r}) edited by seller ${I}`,type:"product_edit",sellerId:I,productId:r,timestamp:Ti(),read:!1}),u("Product updated successfully!"),setTimeout(()=>e("/seller/products"),2e3)}catch(I){l({general:"Failed to save product: "+I.message})}};return a?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),n.jsx("span",{children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 flex justify-center items-start mb-14",children:n.jsxs("div",{className:"w-full max-w-7xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-6 flex items-center",children:[n.jsx("i",{className:"bx bx-edit-alt text-blue-500 mr-2"})," Edit Product"]}),o.general&&n.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg mb-6",children:n.jsx("p",{className:"text-red-700",children:o.general})}),c&&n.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg mb-6",children:n.jsx("p",{className:"text-green-700",children:c})}),n.jsxs("form",{className:"space-y-6 sm:space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Product Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:b,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o.name?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o.name&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.name})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:["Price () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",id:"price",name:"price",value:t.price,onChange:b,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o.price?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o.price&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.price})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:["Quantity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",id:"quantity",name:"quantity",value:t.quantity,onChange:v,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o.quantity?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o.quantity&&n.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.quantity})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{htmlFor:"colors",className:"block text-sm font-medium text-gray-700",children:"Colors"}),n.jsx("input",{type:"text",id:"colors",name:"colors",value:"",onChange:N,placeholder:"Enter a color (e.g., #FF0000)",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.colors.map((_,I)=>n.jsx("span",{className:"inline-block w-6 h-6 rounded-full",style:{backgroundColor:_}},I))})]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx("textarea",{id:"description",name:"description",value:t.description,onChange:b,className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500",rows:"4"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),n.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.imageUrls.map((_,I)=>n.jsx("img",{src:_,alt:"Product",className:"w-20 h-20 object-cover rounded-lg"},I))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Videos"}),n.jsx("input",{type:"file",accept:"video/*",onChange:C,className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.videoUrls.map((_,I)=>n.jsxs("video",{controls:!0,className:"w-40 h-30 object-cover rounded-lg",children:[n.jsx("source",{src:_,type:"video/mp4"}),"Your browser does not support the video tag."]},I))})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:R,className:"w-full sm:w-auto px-6 py-3 rounded-lg bg-gray-800 text-white hover:bg-gray-700 font-bold shadow-md hover:from-blue-700 hover:to-purple-700 transition focus:outline-blue-400 focus:ring-4 focus:ring-blue-300 mt-4 sm:mt-0",children:"Save Changes"})})]})]})})]})}function rue({title:r,imageUrl:e}){return n.jsxs("div",{className:"relative h-64 md:h-96 overflow-hidden",children:[e?n.jsx("img",{src:e,alt:r,className:"w-full h-full object-cover"}):n.jsx("div",{className:"bg-gray-200 border-2 border-dashed w-full h-full"}),r&&n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:n.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white text-center",children:r})})]})}function aue(){const[r,e]=E.useState(window.innerWidth<768);return E.useEffect(()=>{const t=()=>e(window.innerWidth<768);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r}const nue={"Vehicles & Transport":{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485716/auto_big_k4jp8e.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485719/auto_small_fvr8do.jpg"},"Television & Accessories":{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485684/screens_big_stuvgq.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485713/screens_small_wzvifu.jpg"},"Perfumes & Fragrances":{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485702/perfume_big_mzpohm.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485684/perfume_small_xhsxan.jpg"},"Home & Living":{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485706/garden_big_p9bfjz.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485710/garden_small_ruvatt.jpg"},"Camera & Photography":{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485711/camera_big_icewmf.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485703/camera_small_dv0k55.jpg"},"Game & Console":{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485685/games_big_tyfg2v.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485698/games_small_s2hvrp.jpg"},"Drinks & Beverages":{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485685/drink_big_afnisz.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485685/drink_small_tsaqxo.jpg"}},iue="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1200&q=80";function oue(r){return r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function lue(r,e){return Object.keys(e).find(t=>oue(t)===r)}function cue(){const{categoryName:r}=Wl(),[e,t]=E.useState({}),[s,a]=E.useState(!0),[i,o]=E.useState(""),[l,c]=E.useState([]),[u,h]=E.useState(!1),f=aue();E.useEffect(()=>{const N=bs(Ie(re,"customSubcategories"),k=>{const C={};k.forEach(R=>{C[R.id]=R.data().subcategories||[]}),t(C),a(!1)});return()=>N()},[]);const g=lue(r,e),x=g?e[g]:null,y=nue[g],b=y?f?y.mobile:y.desktop:iue,v=!y;return E.useEffect(()=>{x&&x.length>0&&o(x[0])},[x]),E.useEffect(()=>{(async()=>{if(!(!g||!i)){h(!0);try{const k=mt(Ie(re,"products"),nt("category","==",g.toLowerCase()),nt("subcategory","==",i)),R=(await Ke(k)).docs.map(_=>({id:_.id,..._.data()}));c(R)}catch{c([])}finally{h(!1)}}})()},[g,i]),s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):x?n.jsxs("div",{className:"bg-white min-h-screen",children:[n.jsx(rue,{title:v?g:"",imageUrl:b}),n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsx("div",{className:"flex overflow-x-auto pb-2 mb-6 -mx-4 px-4 border-b",children:x.map(N=>n.jsx("button",{className:`px-4 py-2 font-medium whitespace-nowrap ${i===N?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,onClick:()=>o(N),children:N},N))}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-xl font-bold",children:[i," Products"]}),n.jsx(fe,{to:`/products?category=${encodeURIComponent(g)}&subcategory=${encodeURIComponent(i)}`,className:"text-blue-600 hover:underline",children:"See All"})]}),u?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(5)].map((N,k)=>n.jsx("div",{className:"bg-gray-200 rounded-lg aspect-square animate-pulse"},k))}):l.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-600",children:["No products found in ",i]}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:l.map(N=>n.jsx(zr,{product:N},N.id))})]})]})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Category not found"}),n.jsxs("p",{className:"mt-4",children:['The category "',r,`" doesn't exist.`]}),n.jsx(fe,{to:"/",className:"mt-6 inline-block text-blue-600 hover:underline",children:"Return to homepage"})]})})}const m4={businessName:"",regNumber:"",regVerified:!1,regVerifying:!1,regError:"",taxRef:"",taxVerified:!1,taxVerifying:!1,taxError:"",address:"",country:"Nigeria",phone:"",phoneCode:"+234",email:"",password:"",firstName:"",lastName:"",manager:"",managerEmail:"",managerPhone:"",productLines:[],categories:[],bankName:"",bankCode:"",accountNumber:"",accountName:"",accountVerified:!1,accountVerifying:!1,accountError:"",agree:!1,signup:!1,otp:""},due=(r,e)=>{const t=[r,e].filter(l=>l?.trim()),s=t[0]?.slice(0,4).toLowerCase()||"user",a=t[1]?.slice(0,3).toLowerCase()||"",i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return(s+a).replace(/[^a-z0-9]/g,"")+i},uue=({isOpen:r,onClose:e,onConfirm:t})=>n.jsx(Ua,{children:r&&n.jsx(Xe.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:n.jsxs(Xe.div,{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border border-orange-200 dark:border-gray-700",initial:{scale:.8,y:50,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.8,y:50,opacity:0},transition:{duration:.3,ease:"easeOut"},children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx(vo,{className:"w-12 h-12 text-green-500"})}),n.jsx("h2",{className:"text-xl font-bold text-orange-800 dark:text-orange-400 text-center mb-4",children:"Pro Seller Account Created Successfully!"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center mb-6",children:"Would you like to complete your onboarding process by providing your account details?"}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 text-white font-bold text-base shadow-lg hover:from-orange-600 hover:to-orange-700 focus:ring-4 focus:ring-orange-200 transition",children:"Yes"}),n.jsx("button",{onClick:e,className:"px-6 py-3 rounded-xl bg-orange-100 text-orange-700 font-bold text-base shadow hover:bg-orange-200 transition border-2 border-orange-200",children:"No"})]})]})})}),hue=()=>{const[r,e]=E.useState(1),[t,s]=E.useState(!1),[a,i]=E.useState(m4),[o,l]=E.useState({}),[c,u]=E.useState([]),[h,f]=E.useState([]),[g,x]=E.useState(!0),[y,b]=E.useState(!0),[v,N]=E.useState(!1),[k,C]=E.useState(!1),[R,_]=E.useState(!1),{alerts:I,addAlert:P,removeAlert:T}=zl(),{user:D,setUser:L}=ud(),F=gs(),z="https://foremade-backend.onrender.com";E.useEffect(()=>{let ue=!1;return x(!0),b(!0),fetch("/api/categories").then(X=>X.json()).then(X=>{ue||(u(X),x(!1))}).catch(X=>{ue||(u([{name:"Electronics"},{name:"Fashion"},{name:"Home & Living"},{name:"Beauty"},{name:"Sports"},{name:"Automotive"},{name:"Books"},{name:"Toys"},{name:"Groceries"},{name:"Health"}]),x(!1))}),fetch(`${z}/fetch-banks`).then(X=>X.json()).then(X=>{ue||(f(X),b(!1))}).catch(X=>{ue||(f([{code:"044",name:"Access Bank"},{code:"063",name:"Diamond Bank"},{code:"050",name:"Ecobank"},{code:"011",name:"First Bank"},{code:"033",name:"United Bank for Africa"}]),b(!1),P("Failed to fetch banks. Using fallback data.","error"))}),()=>{ue=!0}},[]);const O=(ue,X)=>{i(se=>({...se,[ue]:X})),o[ue]&&l(se=>({...se,[ue]:""})),ue==="regNumber"&&V(X)},V=ue=>{const X=/^\d{7,8}$/.test(ue);i(!X&&ue?se=>({...se,regError:"Registration number must be 7-8 digits"}):se=>({...se,regError:"",regVerified:X}))},H=ue=>{const X={};return ue===1&&(a.businessName||(X.businessName="Business name is required"),a.regNumber||(X.regNumber="Registration number is required"),a.regError&&(X.regNumber=a.regError),a.address||(X.address="Business address is required"),a.country||(X.country="Country is required")),ue===2&&(a.firstName||(X.firstName="First name is required"),a.lastName||(X.lastName="Last name is required"),a.phone||(X.phone="Phone number is required"),a.email||(X.email="Email is required"),a.signup&&!a.password&&(X.password="Password is required for signup"),a.manager||(X.manager="Manager name is required"),a.managerEmail||(X.managerEmail="Manager email is required"),a.managerEmail&&a.email&&a.managerEmail.trim().toLowerCase()===a.email.trim().toLowerCase()&&(X.managerEmail="Manager/Company email must be different from your personal email")),ue===3&&(a.productLines.length||(X.productLines="At least one product line is required"),a.agree||(X.agree="You must agree to the terms")),ue===5&&(a.otp||(X.otp="Verification code is required")),l(X),Object.keys(X).length===0},B=async()=>{try{const ue=await fetch(`${z}/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email})}),X=await ue.json();if(!ue.ok)throw new Error(X.error||"Failed to send OTP");C(!0),P("OTP sent to your email. Please check your inbox.","success")}catch(ue){console.error("Send OTP error:",ue),P(`Failed to send OTP: ${ue.message}. Please try again.`,"error"),s(!1)}},q=async()=>{_(!0);try{const ue=await fetch(`${z}/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email,otp:a.otp})}),X=await ue.json();if(!ue.ok)throw new Error(X.error||"OTP verification failed");return!0}catch(ue){return console.error("Verify OTP error:",ue),P(ue.message,"error"),!1}finally{_(!1)}},ee=async()=>{r<4?H(r)&&e(r+1):r===4?H(4)&&(a.signup&&!D?(await B(),k&&e(5)):await $()):r===5&&H(5)&&await q()&&await $()},G=async()=>{try{const ue=await fetch(`${z}/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email})}),X=await ue.json();if(!ue.ok)throw new Error(X.error||"Failed to resend OTP");P("New OTP sent to your email. Please check your inbox.","success")}catch(ue){console.error("Resend OTP error:",ue),P(`Failed to resend OTP: ${ue.message}. Please try again.`,"error")}},$=async()=>{s(!0);try{let ue=D?.uid,X=null;const ge=oh().currentUser;if(!ge&&a.signup&&a.email&&a.password){const rt=await j0(ke,a.email,a.password);ue=rt.user.uid,X=await rt.user.getIdToken(!0),await _f(rt.user,{displayName:`${a.firstName} ${a.lastName}`}),typeof L=="function"?L(rt.user):console.warn("setUser is not a function. Skipping auth context update.");const be=due(a.firstName,a.lastName),Ve=Ce(re,"users",ue);let st=0;const We=3;for(;st<We;)try{await Xt(Ve,{email:a.email,username:be,firstName:a.firstName,lastName:a.lastName,createdAt:new Date().toISOString(),phoneNumber:a.phoneCode+a.phone,country:a.country,addresses:[{street:a.address,city:"",state:"",postalCode:"",country:a.country}],proStatus:"pending"},{merge:!0});break}catch(Ge){if(st++,st===We)throw console.error("Firestore profile creation failed after retries:",Ge),new Error("Failed to create user profile in Firestore after multiple attempts.");await new Promise(et=>setTimeout(et,1e3))}}else if(ge){ue=ge.uid;try{X=await ge.getIdToken(!0)}catch(rt){if(rt.code==="auth/user-token-expired"){P("Your session has expired. Please sign in again.","error"),F("/login");return}throw rt}}else throw new Error("No authenticated user found and signup not selected.");const xe={...a,submittedAt:new Date().toISOString(),timestamp:Date.now(),userAgent:navigator.userAgent,formType:"Pro Seller Application",uid:ue||`guest_${Date.now()}_${Math.random().toString(36).substring(2,8)}`},Ee=await fetch(`${z}/api/pro-seller`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...X?{Authorization:`Bearer ${X}`}:{}},body:JSON.stringify(xe)}),$e=await Ee.json();if(!Ee.ok)throw new Error($e.error||$e.message||"Submission failed");i(m4),e(1),C(!1),N(!0)}catch(ue){console.error("Submission error:",ue.message,ue),ue.code==="auth/user-token-expired"?(P("Your session has expired. Please sign in again.","error"),F("/login")):P(`There was an error submitting your application: ${ue.message}. Please try again or contact support.`,"error")}finally{s(!1)}},Q=()=>{N(!1),F("/profile")},te=()=>{N(!1),F("/seller-onboarding")},ne=()=>{r>1&&e(ue=>ue-1)},ce=()=>{V(a.regNumber)},Re=()=>{i(ue=>({...ue,taxError:"",taxVerified:!0}))},de=()=>{const ue={enter:{x:50,opacity:0},center:{x:0,opacity:1},exit:{x:-50,opacity:0}};return n.jsx(Ua,{mode:"wait",children:n.jsxs(Xe.div,{variants:ue,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[r===1&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(EJ,{className:"w-6 h-6 text-orange-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-orange-800 mb-2",children:"Business Information"}),n.jsx("p",{className:"text-orange-600",children:"Let's start with your business details"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Business Name",value:a.businessName,onChange:X=>O("businessName",X.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${o.businessName?"border-red-500":"border-gray-300"}`}),o.businessName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.businessName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center",children:["Registration Number ",n.jsx("span",{className:"text-red-500",children:"*"}),a.regVerifying&&n.jsx("span",{className:"ml-2 text-xs text-orange-500 animate-pulse",children:"Verifying..."}),a.regVerified&&!a.regError&&n.jsx(vo,{className:"ml-2 w-5 h-5 text-green-500"}),a.regError&&n.jsx("span",{className:"ml-2 text-xs text-red-500",children:a.regError})]}),n.jsx("input",{type:"text",placeholder:"7-8 digits (e.g., 1234567)",value:a.regNumber,onChange:X=>{const ge=X.target.value.replace(/[^0-9]/g,"").slice(0,8);O("regNumber",ge)},onBlur:ce,pattern:"\\d{7,8}",title:"Must be 7-8 digits",className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${a.regError?"border-red-500":a.regVerified?"border-green-500":o.regNumber?"border-red-500":"border-gray-300"}`,required:!0}),o.regNumber&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.regNumber})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Tax Reference (Optional)",a.taxVerifying&&n.jsx("span",{className:"ml-2 text-xs text-orange-500 animate-pulse",children:"Verifying..."}),a.taxVerified&&!a.taxError&&n.jsx(vo,{className:"ml-2 w-5 h-5 text-green-500"}),a.taxError&&n.jsx("span",{className:"ml-2 text-xs text-red-500",children:a.taxError})]}),n.jsx("input",{type:"text",placeholder:"Tax Reference (optional)",value:a.taxRef,onChange:X=>O("taxRef",X.target.value),onBlur:Re,className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${a.taxError?"border-red-500":a.taxVerified?"border-green-500":"border-gray-300"}`})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Business Address",value:a.address,onChange:X=>O("address",X.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${o.address?"border-red-500":"border-gray-300"}`}),o.address&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.address})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Country ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Country",value:a.country,onChange:X=>{O("country",X.target.value),O("regNumber",""),i(se=>({...se,regError:"",regVerified:!1}))},className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${o.country?"border-red-500":"border-gray-300"}`}),o.country&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.country})]})]}),r===2&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(Ul,{className:"w-6 h-6 text-orange-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-orange-800 mb-2",children:"Contact Information"}),n.jsxs("p",{className:"text-orange-600",children:["How can we reach you? ",n.jsx("span",{className:"text-sm text-gray-500",children:"(Sign up option available)"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["First Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"First Name",value:a.firstName,onChange:X=>O("firstName",X.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${o.firstName?"border-red-500":"border-gray-300"}`}),o.firstName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.firstName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Last Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Last Name",value:a.lastName,onChange:X=>O("lastName",X.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${o.lastName?"border-red-500":"border-gray-300"}`}),o.lastName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.lastName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Phone Number",value:a.phone,onChange:X=>O("phone",X.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${o.phone?"border-red-500":"border-gray-300"}`}),o.phone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.phone})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",placeholder:"Email Address",value:a.email,onChange:X=>O("email",X.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${o.email?"border-red-500":"border-gray-300"}`}),o.email&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.email})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:a.signup,onChange:X=>O("signup",X.target.checked),className:"accent-orange-500 w-4 h-4"}),n.jsx("label",{className:"text-sm text-gray-700",children:"Create an account with this email"})]}),a.signup&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"password",placeholder:"Password",value:a.password,onChange:X=>O("password",X.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${o.password?"border-red-500":"border-gray-300"}`}),o.password&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.password})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Manager Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Manager Name",value:a.manager,onChange:X=>O("manager",X.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${o.manager?"border-red-500":"border-gray-300"}`}),o.manager&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.manager})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Manager Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",placeholder:"Manager Email",value:a.managerEmail,onChange:X=>O("managerEmail",X.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${o.managerEmail?"border-red-500":"border-gray-300"}`}),o.managerEmail&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.managerEmail})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Manager Phone ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Manager Phone",value:a.managerPhone,onChange:X=>O("managerPhone",X.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${o.managerPhone?"border-red-500":"border-gray-300"}`}),o.managerPhone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.managerPhone})]})]}),r===3&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(fd,{className:"w-6 h-6 text-orange-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-orange-800 mb-2",children:"Products & Banking"}),n.jsx("p",{className:"text-orange-600",children:"Tell us about your products and banking details"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Product Line ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:g?n.jsx("span",{className:"text-gray-400 italic",children:"Loading categories..."}):c.length>0?c.map((X,se)=>n.jsxs("label",{className:"flex items-center space-x-2 bg-orange-50 rounded-lg px-3 py-2 cursor-pointer hover:bg-orange-100 transition",children:[n.jsx("input",{type:"checkbox",checked:a.productLines.includes(X.value||X.name||X),onChange:ge=>{let xe=a.productLines.includes(X.value||X.name||X)?a.productLines.filter(Ee=>Ee!==(X.value||X.name||X)):[...a.productLines,X.value||X.name||X];O("productLines",xe)},className:"accent-orange-500 w-4 h-4"}),n.jsx("span",{className:"text-sm",children:X.label||X.name||X})]},X.value||X.code||X.name||se)):n.jsx("span",{className:"text-gray-400 italic",children:"No categories available."})}),o.productLines&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.productLines})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:a.agree,onChange:X=>O("agree",X.target.checked),className:"accent-orange-500 w-4 h-4"}),n.jsxs("label",{className:"text-sm text-gray-700",children:["I agree to the",n.jsx(fe,{to:"/terms-conditions",target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 underline hover:text-orange-800 ml-1",children:"Pro Seller Terms & Conditions"}),n.jsx("span",{className:"text-red-500",children:"*"})]}),o.agree&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.agree})]})]}),r===4&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(vo,{className:"w-8 h-8 text-green-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-green-700 mb-2",children:"Review & Submit"}),n.jsx("p",{className:"text-green-600",children:"Please review your information before submitting."})]}),n.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 shadow space-y-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Business Name:"})," ",a.businessName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Registration Number:"})," ",a.regNumber," ",a.regVerified&&n.jsx(vo,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Tax Reference:"})," ",a.taxRef||"Not provided"," ",a.taxVerified&&n.jsx(vo,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Business Address:"})," ",a.address]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Country:"})," ",a.country]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"First Name:"})," ",a.firstName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Last Name:"})," ",a.lastName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Phone:"})," ",a.phoneCode," ",a.phone]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Email:"})," ",a.email]}),a.signup&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Password:"})," [Set for new account]"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Manager:"})," ",a.manager]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Manager Email:"})," ",a.managerEmail]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Manager Phone:"})," ",a.managerPhone]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Product Lines:"})," ",a.productLines.join(", ")||"None"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Agreed to Terms:"})," ",a.agree?"Yes":"No"]})]}),n.jsx("div",{className:"text-xs text-gray-500 text-center",children:"By submitting, you confirm all information is correct and consent to verification."})]}),r===5&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx(jee,{className:"w-6 h-6 text-orange-500 mx-auto mb-3"}),n.jsx("h2",{className:"text-xl font-bold text-orange-800 mb-2",children:"Verify Your Email"}),n.jsxs("p",{className:"text-orange-600",children:["Enter the 6-digit code sent to ",a.email]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Verification Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Enter 6-digit code",value:a.otp,onChange:X=>O("otp",X.target.value.replace(/[^0-9]/g,"").slice(0,6)),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${o.otp?"border-red-500":"border-gray-300"}`}),o.otp&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.otp})]}),n.jsx("div",{className:"text-center",children:n.jsx("button",{onClick:G,className:"text-orange-600 underline hover:text-orange-800 text-sm",disabled:R,children:"Resend OTP"})})]})]},r)})},Me=[{label:"Business"},{label:"Contact"},{label:"Product"},{label:"Review"},{label:"Verification",conditional:a.signup&&!D}];return n.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100 flex items-center justify-center py-8 px-2 sm:px-4",children:[n.jsx(Eo,{alerts:I,removeAlert:T}),n.jsx(uue,{isOpen:v,onClose:Q,onConfirm:te}),n.jsx("div",{className:"w-full max-w-2xl mx-auto px-2 sm:px-4 md:px-8",children:n.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-3xl shadow-2xl border border-orange-100 dark:border-gray-800 overflow-hidden",children:n.jsxs("div",{className:"px-4 sm:px-8 md:px-12 pt-10 pb-4 md:pt-14 md:pb-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold text-orange-700 dark:text-orange-400 tracking-tight",children:"Pro Seller Registration"}),n.jsx(vo,{className:"w-9 h-9 text-orange-500 self-center"})]}),n.jsxs("div",{className:"block sm:hidden mb-10",children:[n.jsx("div",{className:"flex items-center w-full mb-2",children:Me.map((ue,X)=>ue.conditional&&!ue.conditional?null:n.jsxs(as.Fragment,{children:[n.jsx("div",{className:"flex-1 flex flex-col items-center",children:n.jsx("div",{className:`w-7 h-7 flex items-center justify-center rounded-full border-2 text-sm font-bold
                          ${X<r-1?"border-orange-600 bg-orange-100 text-orange-600":X===r-1?"border-orange-700 bg-orange-200 text-orange-700":"border-gray-200 bg-gray-100 text-gray-400"}`,children:X+1})}),X<Me.length-1&&(!Me[X+1].conditional||Me[X+1].conditional)&&n.jsx("div",{className:`flex-1 h-1 mx-1 rounded-full ${X<r-1?"bg-orange-600":"bg-gray-200"}`})]},ue.label))}),n.jsx("div",{className:"flex justify-between w-full px-1",children:Me.map((ue,X)=>ue.conditional&&!ue.conditional?null:n.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wide text-center flex-1 ${X===r-1?"text-orange-700":"text-gray-400"}`,children:ue.label},ue.label))})]}),n.jsx("div",{className:"hidden sm:flex items-center justify-center mb-10 gap-4",children:Me.map((ue,X)=>ue.conditional&&!ue.conditional?null:n.jsxs(as.Fragment,{children:[n.jsxs("div",{className:`flex flex-col items-center ${X<r-1?"text-orange-600":X===r-1?"text-orange-700 font-bold dark:text-orange-300":"text-gray-300 dark:text-gray-600"}`,children:[n.jsx("div",{className:`w-9 h-9 flex items-center justify-center rounded-full border-4 ${X<r-1?"border-orange-600 bg-orange-100":X===r-1?"border-orange-700 bg-orange-200 dark:bg-orange-900":"border-gray-200 bg-gray-100 dark:bg-gray-800"} text-lg font-bold`,children:X+1}),n.jsx("span",{className:"text-xs mt-2 font-semibold tracking-wide uppercase whitespace-nowrap",children:ue.label})]}),X<Me.length-1&&(!Me[X+1].conditional||Me[X+1].conditional)&&n.jsx("div",{className:`flex-1 h-1 mx-2 rounded-full ${X<r-1?"bg-orange-600":"bg-gray-200 dark:bg-gray-700"}`})]},ue.label))}),n.jsxs("form",{onSubmit:ue=>{ue.preventDefault(),ee()},children:[n.jsx("div",{className:"max-h-[60vh] md:max-h-[65vh] overflow-y-auto pb-4 custom-scrollbar px-1 md:px-2",children:de()}),n.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-20 bg-gradient-to-t from-white via-white/90 to-transparent dark:from-gray-900 dark:via-gray-900/90 dark:to-transparent px-0 pt-6 pb-4 mt-8 border-t border-orange-100 dark:border-gray-800 shadow-2xl flex flex-col items-center gap-2",children:n.jsxs("div",{className:"flex flex-col sm:flex-row w-full gap-3 sm:gap-4",children:[r>1&&n.jsx("button",{type:"button",onClick:ne,className:"flex-1 px-6 py-3 rounded-xl bg-orange-100 text-orange-700 font-bold text-base sm:text-lg shadow hover:bg-orange-200 transition border-2 border-orange-200",disabled:t||R,children:"Back"}),n.jsx("button",{type:"submit",disabled:t||R,className:"flex-1 px-6 py-3 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 text-white font-extrabold text-base sm:text-lg shadow-lg hover:from-orange-600 hover:to-orange-700 focus:ring-4 focus:ring-orange-200 transition border-2 border-orange-500 disabled:opacity-60 disabled:cursor-not-allowed",children:t||R?"Processing...":r<4?"Continue":r===4?a.signup&&!D?"Send OTP":"Submit":"Verify OTP"})]})})]})]})})})]})},cF="/assets/bg-wEpT47DD.jpg",mue="/assets/1-BrZQmCyo.png",fue="/assets/3-jTyAYhqG.png",gue="/assets/2-DOJJuS8a.png";function pue(){return n.jsxs("div",{className:"min-h-screen relative overflow-x-hidden flex flex-col",children:[n.jsx("style",{children:`
        .arrow-border {
          clip-path: polygon(0% 10%, 50% 10%, 50% 0%, 100% 50%, 50% 100%, 50% 90%, 0% 90%);
          box-shadow: 0 4px 24px 0 rgba(0,0,0,0.08);
          background: white;
        }
        .fold-effect {
          /* Optionally add a slight transform for the fold effect */
          box-shadow: 0 8px 32px 0 rgba(0,0,0,0.18);
          z-index: 2;
        }
        .sway {
          animation: sway-left-right 2.2s ease-in-out infinite alternate;
        }
        @keyframes sway-left-right {
          0% { transform: translateX(0); }
          50% { transform: translateX(10px); }
          100% { transform: translateX(0); }
        }
        .learn-more-anim {
          transition: background 0.3s, color 0.3s, transform 0.3s;
        }
        .learn-more-anim:hover {
          background: #f59e42;
          color: #fff;
          transform: scale(1.07) translateY(-2px);
        }
        .learn-more-anim .arrow-anim {
          transition: transform 0.3s;
        }
        .learn-more-anim:hover .arrow-anim {
          transform: translateX(8px) scale(1.2) rotate(8deg);
        }
        .register-anim {
          transition: background 0.3s, box-shadow 0.3s, transform 0.3s;
        }
        .register-anim:hover {
          background: linear-gradient(90deg, #1e3a8a 0%, #7c3aed 100%);
          box-shadow: 0 8px 32px 0 rgba(245,158,66,0.18);
          transform: scale(1.06) translateY(-2px);
        }
        .register-anim .arrow-anim {
          transition: transform 0.3s;
        }
        .register-anim:hover .arrow-anim {
          transform: translateX(8px) scale(1.2) rotate(8deg);
        }
      `}),n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat pointer-events-none",style:{backgroundImage:`url(${cF})`}}),n.jsx("div",{className:"absolute right-0 top-0 h-full w-1/2 flex items-center justify-end pr-8 pointer-events-none select-none"}),n.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-center max-w-6xl mx-auto px-4 py-12 w-full",children:[n.jsx("div",{className:"mb-12 max-w-2xl lg:ml-0 ml-0",children:n.jsxs("div",{className:"bg-gradient-to-r from-blue-900 via-blue-800 to-purple-900 text-white p-10 md:p-16 rounded-2xl shadow-2xl flex flex-col items-start",children:[n.jsx("h1",{className:"text-orange-400 text-4xl md:text-5xl font-extrabold mb-4 self-start",children:"Foremade Pro Seller"}),n.jsxs("div",{className:"flex items-center text-lg md:text-xl",children:[n.jsx("span",{children:"Grow Your Business With Ease"}),n.jsxs(fe,{to:"/pro-seller-form",className:"ml-4 flex items-center group",children:[n.jsx(gf,{className:"w-8 h-8 animate-pulse text-yellow-300 group-hover:text-orange-400 transition-colors duration-200 sway"}),n.jsx(gf,{className:"w-8 h-8 animate-pulse delay-75 text-yellow-300 group-hover:text-orange-400 transition-colors duration-200 sway"}),n.jsx(gf,{className:"w-8 h-8 animate-pulse delay-150 text-yellow-300 group-hover:text-orange-400 transition-colors duration-200 sway"})]})]})]})}),n.jsx("div",{className:"mb-12 max-w-4xl lg:ml-0 ml-0",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-10 md:p-16 w-full",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 pb-2 border-b border-gray-200",children:"WHO CAN REGISTER AS A PRO SELLER?"}),n.jsx("div",{className:"mb-8",children:n.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"Are you a manufacturer, trader, brand, or retail business looking to expand your reach and grow your customer base? Become a FOREMADE Pro Seller and gain access to advanced features, dedicated support, and increased visibility."})}),n.jsxs("div",{className:"space-y-6 mb-8",children:[n.jsxs("div",{className:"hover:bg-blue-50 p-4 rounded transition-colors duration-200",children:[n.jsx("h3",{className:"font-semibold text-blue-900 text-lg mb-2",children:"1. New to FOREMADE?"}),n.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Sign up directly through the FOREMADE Pro Seller registration page."})]}),n.jsxs("div",{className:"hover:bg-blue-50 p-4 rounded transition-colors duration-200",children:[n.jsx("h3",{className:"font-semibold text-blue-900 text-lg mb-2",children:"2. Already have a FOREMADE account?"}),n.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"You can upgrade your existing seller account to a Pro account once all current orders are fulfilled."})]}),n.jsxs("div",{className:"hover:bg-blue-50 p-4 rounded transition-colors duration-200",children:[n.jsx("h3",{className:"font-semibold text-blue-900 text-lg mb-2",children:"3. Need both personal and business accounts?"}),n.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"No problem! You're welcome to have one standard account and one Pro account - just use a different email and phone number for your Pro registration."})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(fe,{to:"/pro-seller-guide-full",className:"learn-more-anim group text-orange-500 text-lg font-semibold px-6 py-2 rounded-full border border-orange-200 shadow hover:shadow-lg flex items-center justify-end w-fit",children:n.jsxs("span",{className:"flex items-center justify-center",children:["Learn more",n.jsx(Vf,{className:"ml-2 w-5 h-5 arrow-anim group-hover:text-white transition-transform duration-200 sway"})]})})})]})}),n.jsxs("div",{className:"flex flex-col items-center justify-center w-full gap-8 -mt-11 -mb-4",children:[n.jsxs("div",{className:"flex flex-row items-end justify-start gap-8 w-full",children:[n.jsx("div",{className:"w-48 h-48 md:w-52 md:h-52 lg:w-72 lg:h-72 rounded-full shadow-lg bg-white flex items-center justify-center overflow-hidden",children:n.jsx("img",{src:mue,alt:"Seller 1",className:"w-full h-full object-cover"})}),n.jsx("div",{className:"w-48 h-48 md:w-52 md:h-52 lg:w-72 lg:h-72 rounded-full shadow-xl bg-white flex items-center justify-center overflow-hidden fold-effect",children:n.jsx("img",{src:fue,alt:"Seller 2",className:"w-full h-full object-cover"})})]}),n.jsxs("div",{className:"flex flex-row items-center justify-center lg:justify-end w-full gap-6 -mt-9 mb-8",children:[n.jsx("div",{className:"w-48 h-48 md:w-52 md:h-52 lg:w-72 lg:h-72 arrow-border shadow-xl bg-white flex items-center justify-center overflow-hidden flex-shrink-0",children:n.jsx("img",{src:gue,alt:"Seller 3",className:"w-full h-full object-cover"})}),n.jsx(fe,{to:"/pro-seller-form",className:"register-anim group bg-gradient-to-r from-blue-900 to-purple-900 text-white px-8 py-4 rounded-full font-semibold text-base flex items-center hover:from-blue-800 hover:to-purple-800 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:n.jsxs("span",{className:"flex items-center",children:["Register Now",n.jsx(Vf,{className:"ml-2 w-5 h-5 arrow-anim group-hover:text-orange-300 transition-transform duration-200 sway"})]})})]})]})]})]})}function xue(){return n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[n.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-10 pointer-events-none",style:{backgroundImage:`url(${cF})`}}),n.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 py-12 w-full",children:[n.jsxs("section",{className:"mb-10 bg-white rounded-2xl shadow-lg p-8",children:[n.jsx("h1",{className:"text-4xl font-extrabold text-blue-900 mb-4",children:"Foremade Pro Seller Guide"}),n.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"Welcome to the comprehensive guide for becoming a Foremade Pro Seller. This page covers everything you need to know to get started, maximize your success, and understand the benefits and requirements of the Pro Seller program."})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Who Can Register?"}),n.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[n.jsx("li",{children:"Manufacturers, brands, and authorized distributors"}),n.jsx("li",{children:"Retailers and traders with a business presence"}),n.jsx("li",{children:"Businesses seeking advanced selling tools and analytics"}),n.jsx("li",{children:"Existing Foremade sellers ready to upgrade"})]})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Benefits of Becoming a Pro Seller"}),n.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[n.jsx("li",{children:"Priority listing and increased product visibility"}),n.jsx("li",{children:"Access to advanced analytics and sales reports"}),n.jsx("li",{children:"Dedicated account manager and support"}),n.jsx("li",{children:"Bulk product upload and inventory management tools"}),n.jsx("li",{children:"Exclusive marketing and promotional opportunities"}),n.jsx("li",{children:"Early access to new platform features"})]})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Requirements"}),n.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[n.jsx("li",{children:"Valid business registration and tax information"}),n.jsx("li",{children:"Proof of product authenticity (for brands/distributors)"}),n.jsx("li",{children:"Minimum monthly sales volume (varies by category)"}),n.jsx("li",{children:"Compliance with Foremades seller policies"}),n.jsx("li",{children:"Active fulfillment of orders and positive ratings"})]})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"How to Register"}),n.jsxs("ol",{className:"list-decimal pl-6 text-gray-700 space-y-1",children:[n.jsxs("li",{children:["Go to the ",n.jsx(fe,{to:"/pro-seller-form",className:"text-blue-600 underline",children:"Pro Seller Registration Form"}),"."]}),n.jsx("li",{children:"Fill in your business and contact details."}),n.jsx("li",{children:"Upload required documents (business registration, product certificates, etc.)."}),n.jsx("li",{children:"Submit your application for review."}),n.jsx("li",{children:"Wait for approval and onboarding instructions from the Foremade team."})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsxs(fe,{to:"/pro-seller-form",className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-full font-semibold flex items-center shadow",children:["Register Now ",n.jsx(Vf,{className:"ml-2 w-5 h-5"})]})})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Fees & Commissions"}),n.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[n.jsx("li",{children:"One-time registration fee (see registration form for current amount)"}),n.jsx("li",{children:"Commission on sales (varies by product category, typically 5-15%)"}),n.jsx("li",{children:"No hidden charges; all fees are transparently listed in your seller dashboard"})]})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Support & Resources"}),n.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[n.jsx("li",{children:"Dedicated Pro Seller support team"}),n.jsx("li",{children:"Access to training materials and webinars"}),n.jsx("li",{children:"Community forums and peer support"}),n.jsx("li",{children:"Knowledge base with step-by-step guides"})]})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Frequently Asked Questions"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"How long does approval take?"}),n.jsx("p",{className:"text-gray-700",children:"Most applications are reviewed within 2-5 business days. You will be notified by email once your account is approved or if more information is needed."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Can I upgrade from a regular seller account?"}),n.jsx("p",{className:"text-gray-700",children:"Yes! If you already sell on Foremade, you can apply for Pro Seller status. Make sure all your current orders are fulfilled before applying."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"What if I need help with my application?"}),n.jsxs("p",{className:"text-gray-700",children:["Contact our support team at ",n.jsx("a",{href:"mailto:support@foremade.com",className:"text-blue-600 underline",children:"support@foremade.com"})," for assistance."]})]})]})]}),n.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Contact & Help"}),n.jsxs("p",{className:"text-gray-700",children:["For further questions or support, email ",n.jsx("a",{href:"mailto:support@foremade.com",className:"text-blue-600 underline",children:"support@foremade.com"})," or visit our ",n.jsx(fe,{to:"/support",className:"text-blue-600 underline",children:"Support Center"}),"."]})]})]})]})}const bue=["name","description","price","stock","category","subcategory","colors","sizes","condition","tags","manualSize","imageUrls","videoUrl","country","state","city","address","specifications"],yue=()=>{const[r,e]=E.useState([]),[t,s]=E.useState(!1),[a,i]=E.useState([]),[o,l]=E.useState({}),[c,u]=E.useState(""),h=E.useRef(null),{alerts:f,removeAlert:g}=zl(),{userProfile:x}=ud();if(E.useEffect(()=>{(async()=>{try{const H=(await Ke(Ie(re,"categories"))).docs.map(te=>te.data().name);i(H);const B=await Ke(Ie(re,"customSubcategories")),q={};B.forEach(te=>{q[te.id]=te.data().subcategories||[]}),l(q);let ee=["# VALID CATEGORIES & SUBCATEGORIES:"];H.forEach(te=>{ee.push(`# ${te}: ${q[te]?.join(", ")||""}`)});const G=[];let $=0;for(const te of H){const ne=q[te]||[];if(ne.length!==0){for(const ce of ne)if($>=5||(G.push([`Sample Product ${$+1}`,`Description for sample product ${$+1}`,1e4+$*1e3,10+$,te,ce,"Red|blue","M|L","New","Sample|Demo","Medium","https://dummyphotos.com/sample1.jpg|https://dummyphotos.com/sample2.jpg","","Nigeria","Lagos","Ikeja",`${10+$} Sample Address St`,'{"brand":"SampleBrand"}'].join(",")),$++,$>=5))break;if($>=5)break}}const Q=["# INSTRUCTIONS:",...ee,"# - Do NOT change the column headers.","# - Use only valid categories and subcategories as listed above.","# - For multiple values (colors, sizes, tags, imageUrls), separate with | (pipe).","# - Specifications must be valid JSON.","# - Do not add extra columns or change the order.","# - If unsure, download the latest template or check the category list in the product upload form.",bue.join(","),...G];u(Q.join(`
`))}catch{u("")}})()},[]),!x&&!x.isProSeller)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow text-center max-w-md mx-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 text-orange-600",children:"Pro Seller Feature"}),n.jsx("p",{className:"mb-4 text-gray-700",children:"Bulk product upload is only available to Pro Sellers. Upgrade now to manage your inventory more efficiently!"}),n.jsx("a",{href:"/pro-seller-guide-full",className:"inline-block px-6 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 font-semibold",children:"Upgrade to Pro Seller"}),n.jsx("div",{className:"mt-6",children:n.jsx("a",{href:"/sell",className:"inline-block px-5 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold",children:"Return to Dashboard"})})]})});const y=()=>{if(!c){je.error("Categories are still loading. Please try again in a moment.");return}const O=new Blob([c],{type:"text/csv"}),V=window.URL.createObjectURL(O),H=document.createElement("a");H.href=V,H.download="bulk_upload_template.csv",document.body.appendChild(H),H.click(),document.body.removeChild(H),window.URL.revokeObjectURL(V),je.success("Template downloaded successfully!")},b=O=>{const V=O.split(/\r?\n/).filter(Boolean),H=V[0].split(","),B=[];for(let q=1;q<V.length;q++){const ee=[];let G="",$=!1;for(let te of V[q])te==='"'?$=!$:te===","&&!$?(ee.push(G),G=""):G+=te;ee.push(G);const Q={};H.forEach((te,ne)=>{let ce=ee[ne]||"";if(te==="price"||te==="stock")ce=parseFloat(ce)||0;else if(["colors","sizes","tags","imageUrls"].includes(te))ce=ce?ce.split("|").map(Re=>Re.trim()).filter(Boolean):[];else if(te==="specifications")try{ce=ce?JSON.parse(ce):{}}catch{ce={}}else ce=ce.trim();Q[te]=ce}),B.push(Q)}return B};function v(O){return(O||"").replace(/\s+/g," ").trim().toLowerCase()}function N(O,V){const H=v(O);return V.find(B=>v(B)===H)||O}function k(O,V){const H=v(O);return V.some(B=>v(B)===H)}const C=O=>{if(!a.length||!Object.keys(o).length){je.error("Categories are still loading. Please wait a moment and try again.");return}const V=O.target.files[0];if(!V)return;if(V.type!=="text/csv"&&V.type!=="application/vnd.ms-excel"){je.error("Please upload a CSV file");return}const H=new FileReader;H.onload=B=>{try{const ee=b(B.target.result).map(G=>{const $=N(G.category,a),Q=o[$]||[];o[$]||console.warn(`Category "${$}" not found in subcategories object`,o);const te=N(G.subcategory,Q);return console.log("Categories:",a),console.log("Subcategories:",o),console.log("Product category:",G.category,"->",$,"subcategory:",G.subcategory,"->",te),{...G,category:$,subcategory:te}});e(ee),je.success(`${ee.length} products loaded successfully!`)}catch{je.error("Error parsing CSV file. Please check the format.")}},H.readAsText(V)},R=O=>{const V={};return O.name||(V.name="Name is required"),O.description||(V.description="Description is required"),(!O.price||O.price<=0)&&(V.price="Valid price is required"),(!O.stock||O.stock<0)&&(V.stock="Stock is required"),O.category?k(O.category,a)||(V.category=`Invalid category: "${O.category}". Valid: ${a.join(", ")}`):V.category="Category is required",O.subcategory?k(O.subcategory,o[O.category]||[])||(V.subcategory=`Invalid subcategory: "${O.subcategory}". Valid: ${(o[O.category]||[]).join(", ")}`):V.subcategory="Subcategory is required",(!O.colors||O.colors.length===0)&&(V.colors="At least one color is required"),(!O.imageUrls||O.imageUrls.length===0)&&(V.imageUrls="At least one image is required"),O.country||(V.country="Country is required"),O.state||(V.state="State is required"),V},[_,I]=E.useState([]),P=(O,V,H)=>{e(B=>B.map((q,ee)=>ee===O?{...q,[V]:H}:q))},T=async(O,V=!1,H)=>{const B=new FormData;B.append("file",O),B.append("isVideo",V);try{const ee=await Zt.post("https://foremade-backend.onrender.com/upload",B,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4,onUploadProgress:G=>{}});if(ee.status!==200||!ee.data.url)throw new Error(`Failed to upload ${V?"video":"image"} to Cloudinary.`);return ee.data.url}catch(q){throw console.error(`${V?"Video":"Image"} upload error:`,{message:q.message,code:q.code,response:q.response?.data}),new Error(q.code==="ECONNABORTED"?"Request timed out. Please check your network or try again later.":q.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network or server status.":q.response?.data?.error||`Failed to upload ${V?"video":"image"}.`)}finally{}},D=(O,V)=>{const H=Array.from(V);e(B=>B.map((q,ee)=>ee===O?{...q,imageFiles:H,imageUrls:[]}:q))},L=(O,V)=>{const H=V[0];e(B=>B.map((q,ee)=>ee===O?{...q,videoFile:H,videoUrl:""}:q))},F=O=>{e(V=>V.filter((H,B)=>B!==O))},z=async()=>{if(!a.length||!Object.keys(o).length){je.error("Categories are still loading. Please wait a moment and try again.");return}const O=r.map(Q=>{const te=N(Q.category,a),ne=o[te]||[];o[te]||console.warn(`Category "${te}" not found in subcategories object`,o);const ce=N(Q.subcategory,ne);return console.log("Categories:",a),console.log("Subcategories:",o),console.log("Product category:",Q.category,"->",te,"subcategory:",Q.subcategory,"->",ce),{...Q,category:te,subcategory:ce}}),V=O.map(R);if(I(V),V.some(Q=>Object.keys(Q).length>0)){je.error("Please fix errors before submitting.");return}s(!0);let H=0,B=0,q=[];const ee=ke.currentUser,G=ee?.uid||x?.uid||"",$=ee?.displayName||x?.displayName||x?.name||"";try{const Q=await Promise.all(O.map(async te=>{let ne=[];te.imageFiles&&te.imageFiles.length>0?ne=await Promise.all(te.imageFiles.map(de=>T(de,!1))):te.imageUrls&&te.imageUrls.length>0&&(ne=te.imageUrls);let ce="";te.videoFile?ce=await T(te.videoFile,!0):te.videoUrl&&(ce=te.videoUrl);const Re={...te,imageUrls:ne,videoUrl:ce,sellerId:G,seller:{name:$,id:G},sellerName:$};return delete Re.imageFiles,delete Re.videoFile,Re}));for(const te of Q)try{await en(Ie(re,"products"),te),H++}catch(ne){B++,q.push(te.name||"Unnamed product"),console.error("Failed to upload product:",te,ne)}H>0&&(je.success(`${H} products uploaded successfully!`),e([]),h.current&&(h.current.value="")),B>0&&je.error(`Failed to upload ${B} products: ${q.join(", ")}`)}catch(Q){je.error(Q.message||"Failed to upload products")}finally{s(!1)}};return n.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 md:p-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-center gap-2",children:n.jsx("a",{href:"/sell",className:"inline-block px-5 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold",children:"Return to Dashboard"})}),n.jsx(Eo,{alerts:f,removeAlert:g}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bulk Product Upload"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Upload multiple products at once for faster inventory management"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-[#112d4e]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Download Template"}),n.jsx("p",{className:"text-sm text-[#112d4e]",children:"Get the CSV template to format your data correctly"})]})]}),n.jsx("button",{onClick:y,className:"mt-4 w-full px-4 py-2 bg-[#112d4e] text-white rounded-md hover:bg-blue-700 transition-colors",children:"Download Template"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-blue-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#112d4e]",children:"Upload CSV"}),n.jsx("p",{className:"text-sm text-[#112d4e]",children:"Upload your formatted CSV file with product data"})]})]}),n.jsx("input",{ref:h,type:"file",accept:".csv",onChange:C,className:"mt-4 w-full px-4 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-[#112d4e]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#112d4e]",children:"Submit for Review"}),n.jsx("p",{className:"text-sm text-[#112d4e]",children:"Submit your products for admin approval"})]})]}),n.jsx("button",{onClick:z,disabled:t||r.length===0,className:"mt-4 w-full px-4 py-2 bg-[#112d4e] text-white rounded-md hover:bg-[#112d4e] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?"Submitting...":`Submit ${r.length} Products`})]})]}),r.length>0&&n.jsx("div",{className:"space-y-6",children:r.map((O,V)=>n.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Name *"}),n.jsx("input",{type:"text",value:O.name||"",onChange:H=>P(V,"name",H.target.value),className:`w-full border rounded px-2 py-1 text-sm ${_[V]?.name?"border-red-500":"border-gray-300"}`}),_[V]?.name&&n.jsx("div",{className:"text-xs text-red-600",children:_[V].name})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Category *"}),n.jsx("input",{type:"text",value:O.category||"",onChange:H=>P(V,"category",H.target.value),className:`w-full border rounded px-2 py-1 text-sm ${_[V]?.category?"border-red-500":"border-gray-300"}`}),_[V]?.category&&n.jsx("div",{className:"text-xs text-red-600",children:_[V].category})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Description *"}),n.jsx("textarea",{value:O.description||"",onChange:H=>P(V,"description",H.target.value),className:`w-full border rounded px-2 py-1 text-sm ${_[V]?.description?"border-red-500":"border-gray-300"}`,rows:2}),_[V]?.description&&n.jsx("div",{className:"text-xs text-red-600",children:_[V].description})]}),n.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Price *"}),n.jsx("input",{type:"number",value:O.price||"",onChange:H=>P(V,"price",H.target.value),className:`w-full border rounded px-2 py-1 text-sm ${_[V]?.price?"border-red-500":"border-gray-300"}`}),_[V]?.price&&n.jsx("div",{className:"text-xs text-red-600",children:_[V].price})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Stock *"}),n.jsx("input",{type:"number",value:O.stock||"",onChange:H=>P(V,"stock",H.target.value),className:`w-full border rounded px-2 py-1 text-sm ${_[V]?.stock?"border-red-500":"border-gray-300"}`}),_[V]?.stock&&n.jsx("div",{className:"text-xs text-red-600",children:_[V].stock})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Colors *"}),n.jsx("input",{type:"text",value:O.colors?.join(" | ")||"",onChange:H=>P(V,"colors",H.target.value.split("|").map(B=>B.trim()).filter(Boolean)),className:`w-full border rounded px-2 py-1 text-sm ${_[V]?.colors?"border-red-500":"border-gray-300"}`,placeholder:"e.g. Red | blue"}),_[V]?.colors&&n.jsx("div",{className:"text-xs text-red-600",children:_[V].colors})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Sizes"}),n.jsx("input",{type:"text",value:O.sizes?.join(" | ")||"",onChange:H=>P(V,"sizes",H.target.value.split("|").map(B=>B.trim()).filter(Boolean)),className:"w-full border rounded px-2 py-1 text-sm",placeholder:"e.g. S | M | L"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Tags"}),n.jsx("input",{type:"text",value:O.tags?.join(" | ")||"",onChange:H=>P(V,"tags",H.target.value.split("|").map(B=>B.trim()).filter(Boolean)),className:"w-full border rounded px-2 py-1 text-sm",placeholder:"e.g. Audio | Portable"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Manual Size"}),n.jsx("input",{type:"text",value:O.manualSize||"",onChange:H=>P(V,"manualSize",H.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Condition"}),n.jsx("input",{type:"text",value:O.condition||"",onChange:H=>P(V,"condition",H.target.value),className:"w-full border rounded px-2 py-1 text-sm",placeholder:"e.g. New"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Subcategory"}),n.jsx("input",{type:"text",value:O.subcategory||"",onChange:H=>P(V,"subcategory",H.target.value),className:"w-full border rounded px-2 py-1 text-sm"}),_[V]?.subcategory&&n.jsx("div",{className:"text-xs text-red-600",children:_[V].subcategory})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Country *"}),n.jsx("input",{type:"text",value:O.country||"",onChange:H=>P(V,"country",H.target.value),className:`w-full border rounded px-2 py-1 text-sm ${_[V]?.country?"border-red-500":"border-gray-300"}`}),_[V]?.country&&n.jsx("div",{className:"text-xs text-red-600",children:_[V].country})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"State *"}),n.jsx("input",{type:"text",value:O.state||"",onChange:H=>P(V,"state",H.target.value),className:`w-full border rounded px-2 py-1 text-sm ${_[V]?.state?"border-red-500":"border-gray-300"}`}),_[V]?.state&&n.jsx("div",{className:"text-xs text-red-600",children:_[V].state})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"City"}),n.jsx("input",{type:"text",value:O.city||"",onChange:H=>P(V,"city",H.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Address"}),n.jsx("input",{type:"text",value:O.address||"",onChange:H=>P(V,"address",H.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Specifications (JSON)"}),n.jsx("textarea",{value:typeof O.specifications=="string"?O.specifications:JSON.stringify(O.specifications||{}),onChange:H=>P(V,"specifications",H.target.value),className:"w-full border rounded px-2 py-1 text-sm",rows:2})]})]}),n.jsxs("div",{className:"flex flex-col gap-2 w-full md:w-64",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Images *"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:O.imageFiles&&O.imageFiles.length>0?O.imageFiles.map((H,B)=>H instanceof File?n.jsx("img",{src:URL.createObjectURL(H),alt:"preview",className:"w-16 h-16 object-cover rounded border"},B):null):O.imageUrls?.map((H,B)=>typeof H=="string"&&H?n.jsx("img",{src:H,alt:"preview",className:"w-16 h-16 object-cover rounded border"},B):null)}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:H=>D(V,H.target.files),className:"w-full"}),n.jsx("input",{type:"text",placeholder:"Or paste image URLs separated by |",value:O.imageUrls?.join(" | ")||"",onChange:H=>P(V,"imageUrls",H.target.value.split("|").map(B=>B.trim()).filter(Boolean)),className:"w-full mt-1 text-xs border rounded px-2 py-1"}),_[V]?.imageUrls&&n.jsx("div",{className:"text-xs text-red-600",children:_[V].imageUrls})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Video"}),O.videoFile&&n.jsx("video",{src:URL.createObjectURL(O.videoFile),controls:!0,className:"w-full h-24 object-cover rounded mb-1"}),!O.videoFile&&O.videoUrl&&n.jsx("video",{src:O.videoUrl,controls:!0,className:"w-full h-24 object-cover rounded mb-1"}),n.jsx("input",{type:"file",accept:"video/*",onChange:H=>L(V,H.target.files),className:"w-full"}),n.jsx("input",{type:"text",placeholder:"Or paste video URL",value:O.videoUrl||"",onChange:H=>P(V,"videoUrl",H.target.value),className:"w-full mt-1 text-xs border rounded px-2 py-1"})]}),n.jsx("button",{onClick:()=>F(V),type:"button",className:"mt-2 w-full px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 text-xs",children:"Remove Product"})]})]},V))}),n.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Instructions"}),n.jsxs("div",{className:"text-sm text-blue-900 space-y-2",children:[n.jsxs("p",{children:[" Download the CSV template and fill in your product data. Use ",n.jsx("b",{children:"|"})," to separate multiple values (e.g. Red|blue for colors)."]}),n.jsx("p",{children:" Ensure all required fields are filled (name, description, price, stock, category, colors, imageUrls, country, state)."}),n.jsx("p",{children:" Maximum 100 products per upload."}),n.jsx("p",{children:" All products will be reviewed by admin before approval."}),n.jsx("p",{children:" Image URLs should be publicly accessible, or you can upload images after CSV upload."}),n.jsx("p",{children:" Specifications should be in valid JSON format."})]})]})]})})]})},vue=()=>{const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(""),[o,l]=E.useState({}),[c,u]=E.useState(0),[h,f]=E.useState(""),[g,x]=E.useState(!1),[y,b]=E.useState(!1),{userProfile:v}=ud(),[N,k]=E.useState({}),C=[{value:"72h",label:"3 Days",price:1500,hours:"72h"},{value:"168h",label:"7 Days",price:3500,hours:"168h"}];E.useCallback(kd(V=>{f(V)},300),[]);const R=async()=>{try{ri(ke,async V=>{if(V)try{const H=mt(Ie(re,"products"),nt("sellerId","==",V.uid)),q=(await Ke(H)).docs.map(ee=>{const G=ee.data(),$=Array.isArray(G.imageUrls)?G.imageUrls.filter(Q=>typeof Q=="string"&&Q.startsWith("https://res.cloudinary.com/")):G.imageUrl&&typeof G.imageUrl=="string"&&G.imageUrl.startsWith("https://res.cloudinary.com/")?[G.imageUrl]:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"];return{id:ee.id,...G,imageUrls:$.length>0?$:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"],uploadDate:G.uploadDate?G.uploadDate.toDate():new Date,bumpExpiry:G.bumpExpiry?G.bumpExpiry.toDate():null,isBumped:G.isBumped||!1}});e(q)}catch(H){i("Failed to fetch products: "+H.message)}else i("Please log in to view your products.");s(!1)})}catch(V){i("Authentication error: "+V.message),s(!1)}},_=async()=>{try{const V=await fetch("https://foremade-backend.onrender.com/api/pro-seller/bump-quota",{method:"GET",headers:{"Content-Type":"application/json"}}),H=await V.text();if(!V.ok){const q=H?JSON.parse(H):{error:"Unknown error"};throw new Error(`HTTP error! Status: ${V.status}, Message: ${q.error||"No details"}`)}const B=H?JSON.parse(H):{};u(B.quota||0)}catch(V){console.error("Fetch bump quota error:",V.message),u(0),je.error("Failed to load bump quota. Please try again.")}},I=async(V,H,B)=>{try{x(!0);const q=ke.currentUser;if(!q)throw new Error("User not authenticated");const ee=await q.getIdToken(!0),$={"72h":"72h","168h":"168h"}[B]||"24h",Q="https://foremade-backend.onrender.com",ne=C.find(Ee=>Ee.hours===B).price*100,ce=Math.floor(ne*.1),Re=ne-ce,de=await fetch(`${Q}/api/bump-product`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({productId:H,bumpDuration:$,paymentIntentId:V.reference||`fallback-${Date.now()}`,adminFee:ce,sellerAmount:Re})}),Me=await de.text();if(!de.ok){const Ee=Me?JSON.parse(Me):{error:"Unknown error"};throw new Error(`HTTP error! Status: ${de.status}, Message: ${Ee.error||"No details"}`)}const ue=Me?JSON.parse(Me):{};je.success(ue.message||"Product bumped successfully!");const X=new Date,se={"72h":4320*60*1e3,"168h":10080*60*1e3}[$];X.setTime(X.getTime()+se),await en(Ie(re,"bumpTransactions"),{productId:H,sellerId:q.uid,bumpDuration:$,paymentIntentId:V.reference||`fallback-${Date.now()}`,bumpExpiry:X,timestamp:new Date});const ge=Ce(re,"products",H);await aa(ge,{bumpExpiry:X,isBumped:!0});const xe=await fetch(`${Q}/api/send-bump-email`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({sellerId:q.uid,productId:H,productName:r.find(Ee=>Ee.id===H)?.name||"Unnamed Product",expiryDate:X.toISOString()})});xe.ok||console.warn("Email notification failed:",await xe.text()),e(Ee=>Ee.map($e=>$e.id===H?{...$e,bumpExpiry:X,isBumped:!0}:$e)),u(Ee=>Ee-1)}catch(q){console.error("Bump product error:",q.message),je.error(q.message||"Failed to bump product")}finally{x(!1),l(q=>({...q,[H]:!1}))}},P=()=>{je.info("Payment cancelled.",{position:"top-right",autoClose:3e3})},T=async V=>{const H=Ce(re,"products",V);await aa(H,{views:(r.find(B=>B.id===V)?.views||0)+1})};E.useEffect(()=>{let V;return(()=>{V=ri(ke,B=>{B?(R(),_()):(i("Please log in to view your products."),s(!1))})})(),()=>V&&V()},[]),E.useEffect(()=>{const V=()=>{const B={};r.forEach(q=>{if(q.bumpExpiry&&new Date(q.bumpExpiry)>new Date){const ee=new Date,$=new Date(q.bumpExpiry)-ee;B[q.id]=$>0?$:0}}),k(B)};V();const H=setInterval(V,1e3);return()=>clearInterval(H)},[r]);const D=V=>{if(V<=0)return"Expired";const H=Math.floor(V/(1e3*60*60)),B=Math.floor(V%(1e3*60*60)/(1e3*60)),q=Math.floor(V%(1e3*60)/1e3);return`${H}:${B.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`},L=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),F=V=>V.isBumped&&V.bumpExpiry&&new Date(V.bumpExpiry)>new Date,z=()=>window.location.reload(),O=r.filter(V=>V.name?.toLowerCase().includes(h.toLowerCase()));return t?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[n.jsx(js,{onToggle:()=>b(!y),isOpen:y}),n.jsx("div",{className:`flex-1 p-2 sm:p-4 ${y?"ml-64":"ml-0"} transition-all duration-300 md:ml-64 flex justify-center items-center`,children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-4 w-full max-w-5xl",children:Array.from({length:6}).map((V,H)=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-2 sm:p-3 shadow-sm animate-pulse h-32 sm:h-40"},H))})})]}):a?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-gray-50",children:n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 sm:p-4 rounded-lg shadow-lg max-w-xs sm:max-w-md mx-auto",children:[n.jsx("p",{className:"text-red-700 text-sm sm:text-base mb-1 sm:mb-2",children:a}),n.jsx(fe,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium underline text-sm sm:text-base",children:"Return to Login"})]})}):v&&!v.isProSeller?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow text-center max-w-sm sm:max-w-md mx-auto",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3 text-orange-600",children:"Pro Seller Feature"}),n.jsx("p",{className:"mb-2 sm:mb-3 text-gray-700 text-sm sm:text-base",children:"Product bump is only available to Pro Sellers. Upgrade now to boost your products' visibility!"}),n.jsx(fe,{to:"/pro-seller-guide-full",className:"inline-block px-3 sm:px-4 py-1.5 sm:py-2 text-white rounded font-semibold",style:{backgroundColor:"#112d4e"},onMouseOver:V=>V.target.style.backgroundColor="#0d2440",onMouseOut:V=>V.target.style.backgroundColor="#112d4e",children:"Upgrade to Pro Seller"}),n.jsx("div",{className:"mt-2 sm:mt-3",children:n.jsx(fe,{to:"/sell",className:"inline-block px-3 sm:px-4 py-1.5 sm:py-2 bg-gray-200 text-gray-900 rounded hover:bg-gray-300 font-semibold text-sm sm:text-base",children:"Return to Dashboard"})})]})}):n.jsxs("div",{className:"min-h-screen flex m-5",children:[n.jsx(js,{onToggle:()=>b(!y),isOpen:y}),n.jsxs("div",{className:`flex-1 p-2 sm:p-4 ${y?"ml-64":"ml-0"} mt-6 transition-all duration-300 md:ml-64`,children:[n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Product Bump"}),n.jsxs("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:["Boost your products' visibility with the bump feature. Quota: ",c]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 sm:p-3",children:n.jsxs("div",{className:"p-4 flex items-center",children:[n.jsx("div",{className:"p-1 sm:p-1.5 bg-blue-100 rounded-lg",children:n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{className:"ml-1 sm:ml-2",children:[n.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Bump Overview"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Increase visibility of your products"})]})]})}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 sm:p-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-1 sm:p-1.5 bg-blue-100 rounded-lg",children:n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),n.jsxs("div",{className:"ml-1 sm:ml-2",children:[n.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Refresh"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Update your product list"})]})]}),n.jsx("button",{onClick:z,className:"mt-1 sm:mt-2 w-full px-2 sm:px-3 py-1 sm:py-1.5 text-white rounded-lg transition-colors text-xs sm:text-sm",style:{backgroundColor:"#112d4e"},onMouseOver:V=>V.target.style.backgroundColor="#0d2440",onMouseOut:V=>V.target.style.backgroundColor="#112d4e",children:"Refresh"})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-3",children:O.length>0?O.map(V=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 sm:p-3 shadow-md hover:shadow-lg transition duration-300",onClick:()=>T(V.id),children:[n.jsxs("div",{className:"relative aspect-square sm:aspect-[4/3] mb-1 sm:mb-2 overflow-hidden rounded-lg",children:[n.jsx("img",{src:V.imageUrls[0],alt:V.name||"Product Image",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105 cursor-pointer",onError:H=>{H.target.style.display="none",H.target.parentElement.innerHTML='<div class="absolute w-full h-full bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-500 text-xs sm:text-sm">Image N/A</span></div>'}}),F(V)&&n.jsx("span",{className:"absolute top-1 left-1 inline-flex items-center px-1 sm:px-1.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Bumped Up"})]}),n.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 truncate",children:V.name||"Unnamed Product"}),n.jsxs("p",{className:"text-gray-700 text-xs sm:text-sm mb-1",children:["Price: ",(V.price||0).toLocaleString("en-NG")]}),n.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["Uploaded: ",V.uploadDate.toLocaleDateString("en-NG",{day:"2-digit",month:"short",year:"numeric"})]}),F(V)&&N[V.id]>0&&n.jsxs("div",{className:"mt-1 sm:mt-2 p-1 sm:p-1.5 bg-green-50 border border-green-200 rounded-md",children:[n.jsxs("p",{className:"text-xs sm:text-sm text-gray-900",children:["Time Remaining: ",D(N[V.id])]}),V.bumpExpiry&&n.jsxs("p",{className:"text-xs mt-0.5",children:["Expires: ",L(V.bumpExpiry)]})]}),!F(V)&&n.jsx("div",{className:"mt-1 sm:mt-2 space-y-1 sm:space-y-1.5",children:C.map(H=>n.jsx(fO,{email:ke.currentUser?.email,amount:H.price*100,onSuccess:B=>I(B,V.id,H.hours),onClose:P,disabled:o[V.id]||c<=0||g,buttonText:`${H.label} (${H.price.toLocaleString("en-NG")})`,className:`w-full flex items-center justify-center px-1.5 sm:px-2 py-1 rounded-lg text-xs sm:text-sm font-medium transition duration-200 ${o[V.id]||c<=0||g?"bg-gray-200 text-gray-500 cursor-not-allowed":"text-white"}`,style:o[V.id]||c<=0||g?{}:{backgroundColor:"#112d4e"},onMouseOver:B=>{o[V.id]||c<=0||g||(B.target.style.backgroundColor="#0d2440")},onMouseOut:B=>{o[V.id]||c<=0||g||(B.target.style.backgroundColor="#112d4e")},sellerId:ke.currentUser?.uid},H.hours))}),o[V.id]&&n.jsxs("div",{className:"flex items-center justify-center py-1",children:[n.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-1 text-xs sm:text-sm text-blue-600",children:"Processing..."})]})]},V.id)):n.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center mt-4 sm:mt-6 mb-4 sm:mb-6",children:[n.jsx(Bf,{className:"w-12 sm:w-16 h-12 sm:h-16 text-gray-300"}),n.jsxs("p",{className:"text-gray-900 text-center text-sm sm:text-base mt-1 sm:mt-2",children:["No products uploaded yet.",n.jsx("br",{}),"Start by adding your first product!"]}),n.jsx(fe,{to:"/products-upload",className:"mt-1 sm:mt-2 px-3 sm:px-4 py-1 sm:py-1.5 text-white rounded-lg transition duration-300 text-sm sm:text-base",style:{backgroundColor:"#112d4e"},onMouseOver:V=>V.target.style.backgroundColor="#0d2440",onMouseOut:V=>V.target.style.backgroundColor="#112d4e",children:"Add Your First Product"})]})}),n.jsxs("div",{className:"mt-3 sm:mt-4 bg-blue-50/50 border border-blue-100 rounded-lg p-4 sm:p-4",children:[n.jsx("h3",{className:"text-sm sm:text-base font-semibold text-blue-800 mb-1 sm:mb-2",children:"How Product Bump Works"}),n.jsxs("div",{className:"text-xs sm:text-sm text-blue-700/80 space-y-0.5 sm:space-y-1",children:[n.jsx("p",{children:" Select a product from the list below."}),n.jsx("p",{children:" Choose a bump duration (3 or 7 days) and click the corresponding button."}),n.jsx("p",{children:" Complete the payment via Paystack to activate the bump."}),n.jsx("p",{children:" Bumped products appear at the top of search results for the selected duration."})]})]})]})]})};function wue({alerts:r,removeAlert:e}){return n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:n.jsx(Ua,{children:r.map(t=>n.jsxs(Xe.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:.3},className:`p-4 rounded-lg shadow-lg flex items-center gap-2 ${t.type==="error"?"bg-red-600":"bg-green-600"} text-white`,children:[n.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),n.jsx("span",{children:t.message}),n.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})})}function Nue(){const[r,e]=E.useState([]),t=E.useCallback((a,i="success")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:i}]),setTimeout(()=>e(l=>l.filter(c=>c.id!==o)),5e3)},[]),s=E.useCallback(a=>{e(i=>i.filter(o=>o.id!==a))},[]);return{alerts:r,addAlert:t,removeAlert:s}}function jue(){const r=gs(),{alerts:e,addAlert:t,removeAlert:s}=Nue(),[a,i]=E.useState([]),[o,l]=E.useState([]),[c,u]=E.useState(""),h=E.useCallback(kd(g=>{u(g)},300),[]),f=g=>{h(g.target.value)};return E.useEffect(()=>{if(!ke.currentUser){t("Please log in.","error"),r("/login");return}const g=mt(Ie(re,"transactions"),nt("sellerId","==",ke.currentUser.uid)),x=bs(g,y=>{const b=y.docs.map(v=>({id:v.id,...v.data()}));i(b),l(b.filter(v=>(v.id?.toLowerCase()||"").includes(c.toLowerCase())||(v.type?.toLowerCase()||"").includes(c.toLowerCase())))},y=>{console.error("Firestore error:",y.message),t(`Failed to fetch transactions: ${y.message}`,"error")});return()=>x()},[r,c]),n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(js,{}),n.jsx(Xe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[n.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:n.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-500 flex items-center gap-2",children:[n.jsx(Fu,{className:"w-8 h-8"}),"Transaction History"]})}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search by Transaction ID or Type...",onChange:f,className:"w-full p-3 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]})}),o.length===0?n.jsx(Xe.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No transactions found."}):n.jsx(Xe.div,{className:"grid gap-4 lg:grid-cols-2",children:n.jsx(Ua,{children:o.map((g,x)=>n.jsxs(Xe.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3,delay:x*.1},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",g.id]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Type:"})," ",g.type||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Status:"})," ",n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${g.status==="Pending"?"bg-yellow-100 text-yellow-800":g.status==="Approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.status||"N/A"})]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Amount:"})," ",g.country==="United Kingdom"?"":"",g.amount?.toFixed(2)||"0.00"]}),g.type==="Withdrawal"&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Bank:"})," ",g.bankName||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"font-medium",children:"Account:"})," ",g.accountNumber||"N/A"]})]})]})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",g.createdAt?.toDate?new Date(g.createdAt.toDate()).toLocaleString():"N/A"]}),g.status==="Failed"&&g.failureReason&&n.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Reason:"})," ",g.failureReason]})]},g.id))})}),n.jsx(wue,{alerts:e,removeAlert:s})]})})]})}vh.register(Ek,toe,Rk,Ik,soe,Pk,Tk);const Ec={background:"#fff",borderRadius:16,boxShadow:"0 2px 16px rgba(0,0,0,0.06)",width:"100%",padding:"1rem"},kue=()=>{const[r,e]=E.useState({totalProducts:0,activeProducts:0,totalViews:0,totalSales:0,averageRating:0,topProducts:[],monthlyTrends:[]}),[t,s]=E.useState(!0),[a,i]=E.useState(""),[o,l]=E.useState("30d"),{alerts:c,removeAlert:u}=zl(),{userProfile:h}=ud(),f=[{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"},{value:"90d",label:"Last 90 Days"},{value:"1y",label:"Last Year"}];if(h&&!h.isProSeller)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow text-center max-w-xs sm:max-w-md mx-auto",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-orange-600",children:"Pro Seller Feature"}),n.jsx("p",{className:"mb-4 text-gray-700 text-sm sm:text-base",children:"Product analytics are only available to Pro Sellers. Upgrade now to track your performance and sales metrics!"}),n.jsx("a",{href:"/pro-seller-guide-full",className:"inline-block px-4 py-2 sm:px-6 sm:py-2 bg-orange-500 text-white rounded hover:bg-orange-600 font-semibold text-sm sm:text-base",children:"Upgrade to Pro Seller"}),n.jsx("div",{className:"mt-4 sm:mt-6",children:n.jsx("a",{href:"/sell",className:"inline-block px-4 py-2 sm:px-5 sm:py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold text-sm sm:text-base",children:"Return to Dashboard"})})]})});E.useEffect(()=>{let N;return s(!0),i(""),N=ri(ke,async k=>{if(!k){i("Please log in to view analytics."),s(!1);return}try{const C=k.uid,I=(await Ke(mt(Ie(re,"products"),nt("sellerId","==",C)))).docs.map(H=>({id:H.id,...H.data()})).map(H=>{const B=localStorage.getItem(`analytics_${H.id}`);if(B){const{views:q,sales:ee,bumpExpiry:G}=JSON.parse(B);return{...H,views:q,sales:ee,bumpExpiry:G?new Date(G):null}}return H}),P=I.length,T=I.filter(H=>H.status==="approved").length,D=I.reduce((H,B)=>H+(B.views||0),0),L=I.reduce((H,B)=>H+(B.sales||0),0),F=I.length?I.reduce((H,B)=>H+(B.rating||0),0)/I.length:0,z=[...I].sort((H,B)=>(B.sales||0)-(H.sales||0)).slice(0,5).map(H=>({name:H.name,sales:H.sales||0,views:H.views||0})),O={};I.forEach(H=>{if(H.createdAt){const B=new Date(H.createdAt),q=`${B.getFullYear()}-${String(B.getMonth()+1).padStart(2,"0")}`;O[q]||(O[q]={month:q,views:0,sales:0}),O[q].views+=H.views||0,O[q].sales+=H.sales||0}});const V=Object.values(O).sort((H,B)=>H.month.localeCompare(B.month));e({totalProducts:P,activeProducts:T,totalViews:D,totalSales:L,averageRating:F,topProducts:z,monthlyTrends:V})}catch(C){i("Failed to load analytics: "+C.message)}finally{s(!1)}}),()=>N&&N()},[o]);const g=N=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(N),x=N=>new Intl.NumberFormat("en-NG").format(N);if(t)return n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[n.jsx(js,{}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-2 sm:p-4 flex justify-center items-center",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 w-full max-w-4xl",children:Array.from({length:6}).map((N,k)=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-2 sm:p-3 shadow-md animate-pulse h-48 sm:h-56"},k))})})]});if(a)return n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[n.jsx(js,{}),n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow text-center max-w-xs sm:max-w-md mx-auto",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-red-600",children:"Error"}),n.jsx("p",{className:"mb-4 text-gray-700 text-sm sm:text-base",children:a}),n.jsx("a",{href:"/sell",className:"inline-block px-4 py-2 sm:px-5 sm:py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold text-sm sm:text-base",children:"Return to Dashboard"})]})]});const y={labels:r.topProducts.map(N=>N.name),datasets:[{label:"Sales",data:r.topProducts.map(N=>N.sales),backgroundColor:"#8884d8"}]},b={labels:r.monthlyTrends.map(N=>N.month),datasets:[{label:"Views",data:r.monthlyTrends.map(N=>N.views),borderColor:"#8884d8",backgroundColor:"rgba(136,132,216,0.2)",fill:!0,tension:.4},{label:"Sales",data:r.monthlyTrends.map(N=>N.sales),borderColor:"#82ca9d",backgroundColor:"rgba(130,202,157,0.2)",fill:!0,tension:.4}]},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{enabled:!0}},scales:{x:{ticks:{font:{size:10}}},y:{beginAtZero:!0,ticks:{font:{size:10}}}}};return n.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[n.jsx(js,{}),n.jsxs("div",{className:"flex-1 ml-0 md:ml-64 p-2 sm:p-4",children:[n.jsx("div",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-4",children:n.jsx(fe,{to:"/sell",className:"inline-block px-3 sm:px-4 py-1 sm:py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold text-xs sm:text-sm",children:"Return to Dashboard"})}),n.jsx(Eo,{alerts:c,removeAlert:u}),n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900",children:"Pro Seller Analytics"}),n.jsx("p",{className:"text-gray-600 mt-1 sm:mt-2 text-xs sm:text-base",children:"Track your performance and sales metrics"}),n.jsx("div",{className:"mt-2 sm:mt-4",children:n.jsx("select",{value:o,onChange:N=>l(N.target.value),className:"w-full sm:w-auto px-2 sm:px-3 py-1 sm:py-2 border border-gray-300 rounded-md text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:f.map(N=>n.jsx("option",{value:N.value,children:N.label},N.value))})})]}),!r.topProducts?.length&&!r.monthlyTrends?.length&&n.jsx("div",{className:"text-center text-gray-500 mb-4 sm:mb-6 text-xs sm:text-base",children:"No analytics data available yet."}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[n.jsxs("div",{style:Ec,className:"flex items-center",children:[n.jsx("div",{className:"p-1 sm:p-2 bg-blue-100 rounded-lg",children:n.jsx("svg",{className:"w-4 sm:w-6 h-4 sm:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Products"}),n.jsx("p",{className:"text-base sm:text-2xl font-bold text-gray-900",children:x(r.totalProducts)})]})]}),n.jsxs("div",{style:Ec,className:"flex items-center",children:[n.jsx("div",{className:"p-1 sm:p-2 bg-green-100 rounded-lg",children:n.jsxs("svg",{className:"w-4 sm:w-6 h-4 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Views"}),n.jsx("p",{className:"text-base sm:text-2xl font-bold text-gray-900",children:x(r.totalViews)})]})]}),n.jsxs("div",{style:Ec,className:"flex items-center",children:[n.jsx("div",{className:"p-1 sm:p-2 bg-yellow-100 rounded-lg",children:n.jsx("svg",{className:"w-4 sm:w-6 h-4 sm:h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Sales"}),n.jsx("p",{className:"text-base sm:text-2xl font-bold text-gray-900",children:g(r.totalSales)})]})]}),n.jsxs("div",{style:Ec,className:"flex items-center",children:[n.jsx("div",{className:"p-1 sm:p-2 bg-purple-100 rounded-lg",children:n.jsx("svg",{className:"w-4 sm:w-6 h-4 sm:h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Average Rating"}),n.jsx("p",{className:"text-base sm:text-2xl font-bold text-gray-900",children:r.averageRating.toFixed(1)})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[n.jsxs("div",{style:Ec,children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-4",children:"Monthly Trends"}),n.jsx("div",{className:"w-full h-40 sm:h-64 md:h-80",children:n.jsx(Roe,{data:b,options:v})})]}),n.jsxs("div",{style:Ec,children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-4",children:"Top Products"}),n.jsx("div",{className:"w-full h-40 sm:h-64 md:h-80",children:n.jsx(Mk,{data:y,options:v})})]})]}),n.jsxs("div",{style:Ec,children:[n.jsx("div",{className:"px-2 sm:px-4 py-2 sm:py-3 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Top Performing Products"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),n.jsx("th",{className:"px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Sales"}),n.jsx("th",{className:"px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.topProducts.map((N,k)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap text-sm sm:text-base font-medium text-gray-900",children:N.name}),n.jsx("td",{className:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap text-sm sm:text-base text-gray-900",children:x(N.views)}),n.jsx("td",{className:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap text-sm sm:text-base text-gray-900",children:x(N.sales)}),n.jsx("td",{className:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap text-sm sm:text-base font-medium text-gray-900",children:g(N.sales)})]},N.productId))})]})})]})]})]})};function Sue(r){if(r.length===0)return!1;const e=r[r.length-1];return/photo|image|picture|show|damage|send us|share/i.test(e.text)}const f4=()=>{const{chatId:r}=Wl(),e=gs(),[t,s]=E.useState([]),[a,i]=E.useState(null),[o,l]=E.useState([]),[c,u]=E.useState(""),[h,f]=E.useState(null),[g,x]=E.useState(null),[y,b]=E.useState(!1),[v,N]=E.useState(!1),[k,C]=E.useState(!0),[R,_]=E.useState(!1),I=E.useRef(null),P=E.useRef(null);E.useEffect(()=>{const q=(()=>{if(!ke.currentUser)return je.error("Please sign in to view chats."),e("/login"),C(!1),()=>{};const ee=mt(Ie(re,"chats"),nt("sellerId","==",ke.currentUser.uid));return bs(ee,async $=>{try{const Q=await Promise.all($.docs.map(async te=>{const ne=te.data(),ce=Ce(re,"orders",ne.orderId),Re=await Je(ce),de=Re.exists()?Re.data():{},Me=Ce(re,"users",ne.userId),ue=await Je(Me),X=ue.exists()?ue.data():{},se=Ce(re,"products",ne.productId),ge=await Je(se),xe=ge.exists()?ge.data():{};return{chatId:te.id,orderId:ne.orderId,buyerName:X.displayName||"Unknown Buyer",buyerAvatar:X.avatar||"https://ui-avatars.com/api/?name=B&background=3b82f6&color=fff&size=40",productName:de.items?.[0]?.name||xe.name||"Product",lastMessage:ne.lastMessage||"",lastMessageTime:ne.lastMessageTime||ne.createdAt||new Date}}));if(console.log("Fetched chats:",Q),s(Q),r){const te=Q.find(ne=>ne.chatId===r);if(te){i(te);const ne=mt(Ie(re,"chats",r,"messages"),vg("timestamp","asc")),ce=bs(ne,Me=>{const ue=Me.docs.map(X=>({id:X.id,...X.data()}));l(ue),C(!1)},Me=>{console.error("Error fetching messages:",Me.message),je.error("Failed to load messages."),C(!1)}),Re=Ce(re,"chats",r),de=bs(Re,Me=>{const ue=Me.data();N(ue?.typing?.[ue.userId]||!1),C(!1)},Me=>{console.error("Error fetching typing status:",Me.message),C(!1)});return()=>{ce(),de()}}else console.warn(`Chat with ID ${r} not found.`),je.error("Chat not found."),i(null),l([]),C(!1)}else i(null),l([]),C(!1)}catch(Q){console.error("Error fetching chats:",Q.message),je.error("Failed to load chats."),C(!1)}},$=>{console.error("Error in chats snapshot:",$.message),je.error("Failed to load chats."),C(!1)})})();return()=>q()},[r,e]);const T=()=>{P.current?.scrollIntoView({behavior:"smooth"})};E.useEffect(()=>{T()},[o]);const D=B=>{const q=B.target.files[0];if(q){if(!q.type.startsWith("image/")){je.error("Please select an image file");return}if(q.size>5*1024*1024){je.error("Image size should be less than 5MB");return}f(q);const ee=new FileReader;ee.onload=G=>x(G.target.result),ee.readAsDataURL(q)}},L=async()=>{if(!c||!a){je.error("Please select a message template.");return}try{b(!0),await en(Ie(re,"chats",a.chatId,"messages"),{senderId:ke.currentUser.uid,text:Zu.seller[c],image:null,timestamp:new Date,status:"delivered"}),await aa(Ce(re,"chats",a.chatId),{lastMessage:Zu.seller[c],lastMessageTime:new Date,[`typing.${ke.currentUser.uid}`]:!1}),u("")}catch(B){console.error("Error sending message:",B.message),je.error("Failed to send message.")}finally{b(!1)}},F=async()=>{if(!(!h||!g||!a))try{b(!0),await en(Ie(re,"chats",a.chatId,"messages"),{senderId:ke.currentUser.uid,text:"",image:g,timestamp:new Date,status:"delivered"}),await aa(Ce(re,"chats",a.chatId),{lastMessage:"Image sent",lastMessageTime:new Date,[`typing.${ke.currentUser.uid}`]:!1}),f(null),x(null),I.current&&(I.current.value="")}catch(B){console.error("Error sending image:",B.message),je.error("Failed to send image.")}finally{b(!1)}},z=async()=>{if(a)try{await aa(Ce(re,"chats",a.chatId),{[`typing.${ke.currentUser.uid}`]:!0})}catch(B){console.error("Error updating typing status:",B.message)}},O=B=>{if(!B)return"";try{return(B.toDate?B.toDate():new Date(B)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}},V=B=>{if(!B)return"";try{const q=B.toDate?B.toDate():new Date(B),ee=new Date;return q.toDateString()===ee.toDateString()?q.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):q.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}},H=()=>{_(!R)};return k?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx("div",{className:`fixed inset-y-0 left-0 z-30 w-64 transform transition-transform duration-300 ease-in-out ${R?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:static md:w-64 md:flex-shrink-0`,children:n.jsx(js,{})}),n.jsx("div",{className:"flex-1 p-4 sm:p-6 flex justify-center items-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx("i",{className:"bx bx-loader bx-spin text-xl sm:text-2xl"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Loading..."})]})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx("div",{className:`fixed inset-y-0 left-0 z-30 w-64 transform transition-transform duration-300 ease-in-out ${R?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:static md:w-64 md:flex-shrink-0`,children:n.jsx(js,{})}),n.jsx("button",{onClick:H,className:"md:hidden fixed top-4 left-4 z-40 p-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition","aria-label":"Toggle sidebar",children:n.jsx("i",{className:`bx ${R?"bx-x":"bx-menu"} text-lg sm:text-xl`})}),n.jsx("div",{className:"flex-1 p-2 sm:p-4 md:p-6",children:n.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl shadow-lg p-3 sm:p-4 md:p-6 border border-gray-200 dark:border-gray-600",children:[n.jsxs("div",{className:"mb-3 sm:mb-4 md:mb-6",children:[n.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center",children:[n.jsx("i",{className:"bx bx-chat text-blue-500 mr-2 text-lg sm:text-xl md:text-2xl"}),"Seller Chats"]}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs sm:text-sm mt-1",children:"Manage your conversations with buyers."})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 sm:gap-4 h-[calc(100vh-8rem)] sm:h-[calc(100vh-9rem)] md:h-[calc(100vh-10rem)]",children:[n.jsxs(Xe.div,{className:"md:w-1/3 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-600",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5},children:[n.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-blue-50 dark:bg-blue-900 border-b border-gray-200 dark:border-gray-600",children:n.jsx("h2",{className:"text-sm sm:text-base md:text-lg font-bold text-gray-800 dark:text-gray-100",children:"Chats"})}),t.length===0?n.jsx("p",{className:"p-2 sm:p-3 md:p-4 text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"No chats found."}):n.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-600 max-h-[calc(100vh-12rem)] sm:max-h-[calc(100vh-13rem)] md:max-h-[calc(100vh-14rem)] overflow-y-auto",children:n.jsx(Ua,{children:t.map(B=>n.jsxs(Xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},onClick:()=>{e(`/seller-chat/${B.chatId}`),i(B),_(!1)},className:`p-2 sm:p-3 md:p-4 flex items-center gap-2 sm:gap-3 cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-800 transition ${a?.chatId===B.chatId?"bg-blue-100 dark:bg-blue-900":""}`,children:[n.jsx("img",{src:B.buyerAvatar,alt:"Buyer",className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 rounded-full border border-gray-200 dark:border-gray-600"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-xs sm:text-sm md:text-base text-gray-800 dark:text-gray-100 truncate",children:B.buyerName}),n.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-gray-500 dark:text-gray-400 truncate",children:B.lastMessage||"No messages yet"})]}),n.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-gray-400 dark:text-gray-500",children:V(B.lastMessageTime)})]},B.chatId))})})]}),n.jsx(Xe.div,{className:"md:w-2/3 flex flex-col bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-600",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5},children:a?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 px-2 sm:px-3 md:px-4 py-2 sm:py-2.5 md:py-3 bg-blue-600 dark:bg-blue-700 text-white border-b border-gray-200 dark:border-gray-600",children:[n.jsx("img",{src:a.buyerAvatar,alt:"Buyer",className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 rounded-full border-2 border-white"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-semibold text-sm sm:text-base md:text-lg",children:a.buyerName}),n.jsxs("div",{className:"text-[10px] sm:text-xs md:text-sm text-blue-100 dark:text-blue-200 truncate",children:["Product: ",a.productName]})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-2 sm:p-3 md:p-4 space-y-2 sm:space-y-3 bg-gray-100 dark:bg-gray-900 max-h-[calc(100vh-14rem)] sm:max-h-[calc(100vh-15rem)] md:max-h-[calc(100vh-16rem)]",children:[n.jsxs(Ua,{children:[o.map(B=>n.jsx(Xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.2},className:`flex ${B.senderId===ke.currentUser.uid?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[80%] sm:max-w-[75%] md:max-w-[70%] rounded-lg p-2 sm:p-2.5 md:p-3 shadow-sm relative ${B.senderId===ke.currentUser.uid?"bg-blue-500 text-white rounded-br-none":"bg-white dark:bg-gray-600 text-gray-800 dark:text-gray-100 rounded-bl-none"}`,children:[B.text&&n.jsx("div",{className:"text-xs sm:text-sm md:text-base",children:B.text}),B.image&&n.jsx("img",{src:B.image,alt:"chat-img",className:"max-w-[100px] sm:max-w-[120px] md:max-w-[150px] rounded-md border border-gray-200 dark:border-gray-600 mb-1"}),n.jsx("div",{className:"flex items-center justify-end gap-1 text-[10px] sm:text-xs md:text-sm mt-1",children:n.jsx("span",{className:B.senderId===ke.currentUser.uid?"text-blue-100":"text-gray-500 dark:text-gray-400",children:O(B.timestamp)})}),n.jsx("div",{className:`absolute bottom-0 ${B.senderId===ke.currentUser.uid?"right-[-6px]":"left-[-6px]"} w-0 h-0 border-t-[6px] border-t-transparent ${B.senderId===ke.currentUser.uid?"border-l-[6px] border-l-blue-500":"border-r-[6px] border-r-white dark:border-r-gray-600"} border-b-[6px] border-b-transparent`})]})},B.id)),(y||v)&&n.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-start",children:n.jsx("div",{className:"bg-white dark:bg-gray-600 rounded-lg p-2 sm:p-2.5 md:p-3 shadow-sm",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),n.jsx("div",{ref:P})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 px-2 sm:px-3 md:px-4 py-2 sm:py-2.5 md:py-3 border-t border-gray-200 dark:border-gray-600",children:[n.jsx("div",{className:"mb-2 sm:mb-2.5 md:mb-3",children:n.jsx(tO,{role:"seller",onSelect:u,selectedTemplate:c,className:"w-full p-2 sm:p-2.5 md:p-3 pl-6 sm:pl-8 md:pl-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-xs sm:text-sm md:text-base"})}),h&&g&&n.jsx(Xe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mb-2 sm:mb-2.5 md:mb-3 p-2 sm:p-2.5 md:p-3 bg-gray-100 dark:bg-gray-600 rounded-lg border border-gray-200 dark:border-gray-600",children:n.jsx("img",{src:g,alt:"preview",className:"max-w-[50px] sm:max-w-[60px] md:max-w-[80px] max-h-[50px] sm:max-h-[60px] md:max-h-[80px] rounded-md"})}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[n.jsxs("div",{className:"flex-1 flex items-center gap-2 sm:gap-3 bg-gray-100 dark:bg-gray-600 rounded-lg p-2 sm:p-2.5 md:p-3",children:[Sue(o)&&n.jsxs(n.Fragment,{children:[n.jsx("input",{ref:I,type:"file",accept:"image/*",onChange:D,className:"hidden",id:"image-upload"}),n.jsx(Xe.label,{htmlFor:"image-upload",whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-gray-600 dark:text-gray-300 p-1 sm:p-1.5 md:p-2 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400",children:n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.586-6.586M12 3v6m0 0v6m0-6h6m-6 0H6"})})})]}),c?n.jsxs(Xe.button,{onClick:L,disabled:y,whileHover:{scale:1.05},whileTap:{scale:.95},className:`ml-auto py-1 sm:py-1.5 md:py-2 px-2 sm:px-3 md:px-4 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 flex items-center justify-center gap-1 sm:gap-2 transition text-xs sm:text-sm md:text-base ${y?"opacity-50 cursor-not-allowed":""}`,onMouseDown:z,children:[n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Send"]}):n.jsxs(Xe.button,{onClick:()=>e("/support"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-auto py-1 sm:py-1.5 md:py-2 px-2 sm:px-3 md:px-4 bg-orange-500 text-white rounded-lg shadow-md hover:bg-orange-600 flex items-center justify-center gap-1 sm:gap-2 transition text-xs sm:text-sm md:text-base",children:[n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 5.636A9 9 0 1121 12h-3m-6 6v3m-6-3h-3m6-6H3m6-6V3"})}),"Support"]})]}),h&&g&&n.jsxs(Xe.button,{onClick:F,disabled:y,whileHover:{scale:1.05},whileTap:{scale:.95},className:`py-1 sm:py-1.5 md:py-2 px-2 sm:px-3 md:px-4 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 flex items-center justify-center gap-1 sm:gap-2 transition text-xs sm:text-sm md:text-base ${y?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Send Image"]})]})]})]}):n.jsx(Xe.div,{className:"flex-1 flex items-center justify-center text-gray-600 dark:text-gray-400 text-xs sm:text-sm md:text-base",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:"Select a chat to view messages."})})]})]})})]})},_ue=({isOpen:r,onClose:e,onConfirm:t,password:s,setPassword:a,isDeleting:i})=>n.jsx(Ua,{children:r&&n.jsx(Xe.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:n.jsxs(Xe.div,{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border border-orange-200 dark:border-gray-700",initial:{scale:.8,y:50,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.8,y:50,opacity:0},transition:{duration:.3,ease:"easeOut"},children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx(TN,{className:"w-12 h-12 text-red-500"})}),n.jsx("h2",{className:"text-xl font-bold text-orange-800 dark:text-orange-400 text-center mb-4",children:"Delete Your Account"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center mb-4",children:"You are about to delete your account. This action cannot be undone."}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx($5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-400 w-5 h-5"}),n.jsx("input",{type:"password",placeholder:"Enter your password",value:s,onChange:o=>a(o.target.value),className:"w-full pl-10 pr-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all border-gray-300",disabled:i})]})]}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white font-bold text-base shadow-lg hover:from-red-600 hover:to-red-700 focus:ring-4 focus:ring-red-200 transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:i||!s,children:i?"Deleting...":"Yes, Delete"}),n.jsx("button",{onClick:e,className:"px-6 py-3 rounded-xl bg-orange-100 text-orange-700 font-bold text-base shadow hover:bg-orange-200 transition border-2 border-orange-200",disabled:i,children:"No, Cancel"})]})]})})}),Aue=()=>{const[r,e]=E.useState(!1),[t,s,a]=E.useState(""),[i,o]=E.useState(!1),{alerts:l,addAlert:c,removeAlert:u}=zl(),h=gs(),f=oh(),g=async()=>{if(!f.currentUser){c("No user is logged in.","error");return}if(!t){c("Please enter your password to confirm deletion.","error");return}o(!0);try{const x=Xl.credential(f.currentUser.email,t);await b3(f.currentUser,x);const y=Ce(re,"users",f.currentUser.uid);await ua(y).catch(b=>{throw console.error("Firestore deletion error:",b),new Error("Failed to delete user data.")}),await c7(f.currentUser).catch(b=>{throw console.error("Auth deletion error:",b),new Error("Failed to delete user account.")}),s(""),e(!1),c("Your account has been successfully deleted.","success"),h("/")}catch(x){console.error("Account deletion error:",x),x.code==="auth/wrong-password"?c("Incorrect password. Please try again.","error"):x.code==="auth/requires-recent-login"?(c("Please log in again to authenticate this action.","error"),h("/login")):c(`Failed to delete account: ${x.message}`,"error")}finally{o(!1)}};return n.jsxs("div",{className:"min-h-screen bg-background-light py-8",children:[n.jsx(Eo,{alerts:l,removeAlert:u}),n.jsx(_ue,{isOpen:r,onClose:()=>{e(!1),s("")},onConfirm:g,password:t,setPassword:s,isDeleting:i}),n.jsxs("div",{className:"max-w-3xl mx-auto policy-card",children:[n.jsx("div",{className:"policy-header text-primary",children:"FOREMADE Marketplace & FOREMADEGo User Agreement"}),n.jsxs("div",{className:"policy-content",children:[n.jsxs("p",{className:"mb-2 text-secondary",children:[n.jsx("strong",{children:"Effective Date:"})," 30th July 2025"]}),n.jsxs("p",{className:"mb-2 text-secondary",children:[n.jsx("strong",{children:"Last Updated:"})," 30th July 2025"]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Scope of Agreement"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Buyers and sellers on the FOREMADE Marketplace;"}),n.jsx("li",{children:"Delivery partners and riders using FOREMADEGo;"}),n.jsx("li",{children:"Use of the FOREMADE Wallet for receiving, holding, and withdrawing funds;"}),n.jsx("li",{children:"Any use of linked external websites and services."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Eligibility"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Be at least 18 years of age;"}),n.jsx("li",{children:"Have the legal capacity to enter into contracts;"}),n.jsx("li",{children:"Provide accurate and complete registration details."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Account Registration and Security"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"You must create an account to access key services."}),n.jsx("li",{children:"You are responsible for safeguarding your account credentials and all activity under your account."}),n.jsx("li",{children:"FOREMADE reserves the right to suspend or terminate accounts due to fraud, abuse, or policy violations."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Marketplace Use (Buying & Selling)"}),n.jsx("strong",{className:"block mb-2 text-secondary",children:"Buyers agree to:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Review product listings thoroughly before purchase;"}),n.jsx("li",{children:"Use authorized payment methods only;"}),n.jsx("li",{children:"Raise complaints or disputes through the Platform."})]}),n.jsx("strong",{className:"block mb-2 text-secondary",children:"Sellers agree to:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Provide accurate and honest product listings;"}),n.jsx("li",{children:"Fulfill orders within the promised timeframe;"}),n.jsx("li",{children:"Comply with all relevant product, tax, and business obligations;"}),n.jsx("li",{children:"Accept returns and issue refunds in accordance with FOREMADE guidelines."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"FOREMADEGo (Delivery Network)"}),n.jsx("p",{className:"mb-2 text-secondary",children:"FOREMADEGo is our parcel delivery network connecting senders with approved delivery riders."}),n.jsx("strong",{className:"block mb-2 text-secondary",children:"Riders agree to:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsxs("li",{children:["Register via ",n.jsx("a",{href:"https://foremadego.com/rider/register.php",className:"policy-link",target:"_blank",rel:"noopener noreferrer",children:"Rider Registration"}),";"]}),n.jsx("li",{children:"Accept delivery jobs through the dashboard;"}),n.jsx("li",{children:"Handle deliveries professionally and on time;"}),n.jsx("li",{children:"Confirm delivery with required proof, including photos where applicable;"}),n.jsx("li",{children:"Follow all safety and service standards."})]}),n.jsx("strong",{className:"block mb-2 text-secondary",children:"Senders and recipients agree to:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Provide accurate delivery information;"}),n.jsx("li",{children:"Avoid sending prohibited, restricted, or illegal items;"}),n.jsx("li",{children:"Cooperate with delivery personnel during handoffs."})]}),n.jsx("p",{className:"mb-4 text-secondary",children:"FOREMADE reserves the right to remove any rider or user for misconduct, policy violations, or misuse of the platform."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"FOREMADE Wallet  Fair Use and Security"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Automated System: Powered by integrated financial technology partners to ensure fast and secure processing."}),n.jsx("li",{children:"Regulatory Compliance: Operates in connection with financial regulations applicable in your local jurisdiction."}),n.jsx("li",{children:"Real-Time Tracking: Users can view their wallet balances and transaction history at any time."}),n.jsx("li",{children:"Instant Withdrawals: Earnings can be withdrawn at any time to a verified bank account. Processing times may vary based on the financial institution."}),n.jsxs("li",{children:["Fair Use Policy:",n.jsxs("ul",{className:"list-disc ml-6 mb-2",children:[n.jsx("li",{children:"The Wallet is strictly for funds earned through transactions on FOREMADE or FOREMADEGo."}),n.jsx("li",{children:"Fraudulent activity or system manipulation may result in a freeze or closure of the account."}),n.jsx("li",{children:"FOREMADE may temporarily restrict wallet use during investigations or dispute resolution."})]})]})]}),n.jsx("p",{className:"mb-4 text-secondary",children:"All wallet data is protected using secure encryption and authentication protocols."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Fees and Payments"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"FOREMADE may charge transaction, listing, or service fees as applicable."}),n.jsx("li",{children:"All fees will be clearly displayed during your transaction or use of a service."}),n.jsx("li",{children:"FOREMADE reserves the right to update its fee structure, with notice posted on the Platform."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Returns, Refunds, and Disputes"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Buyers may request returns or refunds in accordance with seller policies and FOREMADE standards."}),n.jsx("li",{children:"Disputes can be raised through the platform for moderation."}),n.jsx("li",{children:"FOREMADE acts as a neutral facilitator and may take appropriate action based on the evidence provided."}),n.jsx("li",{children:"Misuse of the dispute system may result in account restrictions."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"External Links and Third-Party Websites"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"FOREMADE and FOREMADEGo may include links to third-party services such as payment gateways or logistics tools."}),n.jsx("li",{children:"These links are provided for user convenience only."}),n.jsx("li",{children:"FOREMADE is not responsible for the content, policies, or services of any third-party website."}),n.jsx("li",{children:"Users should review third-party terms before engaging with those services."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Intellectual Property"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"All content, branding, and features on FOREMADE and FOREMADEGo are owned by or licensed to FOREMADE Ltd."}),n.jsx("li",{children:"Sellers retain ownership of their content but grant FOREMADE a non-exclusive, royalty-free license to use it for promotion and platform functionality."}),n.jsx("li",{children:"You may not copy, distribute, or reproduce platform content without prior written consent."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Termination and Suspension"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Violating this Agreement;"}),n.jsx("li",{children:"Engaging in fraudulent, harmful, or illegal conduct;"}),n.jsx("li",{children:"Abusing platform systems, wallets, or other users."})]}),n.jsx("p",{className:"mb-4 text-secondary",children:"You may close your account at any time. If eligible, your remaining wallet balance will be made available for withdrawal, subject to any pending investigations or disputes."}),n.jsx("div",{className:"mt-6 flex",children:n.jsx("button",{onClick:()=>e(!0),className:"px-6 py-3 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white font-bold text-base shadow-lg hover:from-red-600 hover:to-red-700 focus:ring-4 focus:ring-red-200 transition",children:"Opt Out"})}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Limitation of Liability"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"FOREMADE is not liable for indirect, incidental, or consequential damages;"}),n.jsx("li",{children:"We are not responsible for the actions or failures of buyers, sellers, riders, or third parties;"}),n.jsx("li",{children:"Platform services are provided as is without warranties of any kind."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Indemnity"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsx("li",{children:"Your breach of this Agreement;"}),n.jsx("li",{children:"Your use or misuse of the Platform;"}),n.jsx("li",{children:"Any product or service you list, purchase, or deliver via FOREMADE or FOREMADEGo."})]}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Governing Law"}),n.jsx("p",{className:"mb-4 text-secondary",children:"This Agreement shall be interpreted and enforced in accordance with applicable local laws, without reference to specific jurisdictions. Users are responsible for complying with laws in their region while using the platform."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Amendments"}),n.jsx("p",{className:"mb-4 text-secondary",children:"We may update or revise this Agreement from time to time. The latest version will be posted on the Platform, and continued use constitutes your acceptance of the updated terms."}),n.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Contact Information"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[n.jsxs("li",{children:["General Support: ",n.jsx("a",{href:"mailto:support@foremade.com",className:"policy-link",children:"support@foremade.com"})]}),n.jsxs("li",{children:["Privacy Questions: ",n.jsx("a",{href:"mailto:privacy@foremadego.com",className:"policy-link",children:"privacy@foremadego.com"})]}),n.jsxs("li",{children:["Marketplace: ",n.jsx("a",{href:"https://foremade.com",className:"policy-link",target:"_blank",rel:"noopener noreferrer",children:"foremade.com"})]}),n.jsxs("li",{children:["Delivery Platform (FOREMADEGo): ",n.jsx("a",{href:"https://foremadego.com",className:"policy-link",target:"_blank",rel:"noopener noreferrer",children:"foremadego.com"})]}),n.jsxs("li",{children:["Rider Registration: ",n.jsx("a",{href:"https://foremadego.com/rider/register.php",className:"policy-link",target:"_blank",rel:"noopener noreferrer",children:"foremadego.com/rider/register.php"})]})]}),n.jsx("p",{className:"mb-4 text-secondary font-semibold",children:"By using FOREMADE and/or FOREMADEGo, you confirm that you have read, understood, and agreed to this User Agreement."})]}),n.jsxs("footer",{className:"policy-footer",children:[" ",new Date().getFullYear()," Foremade. All rights reserved."]})]})]})},dF="/assets/undraw_my-files_1xwx-DOxcO3os.svg",Cue=()=>n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-10",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("img",{src:dF,alt:"Buyer Protection",className:"w-40 h-40 mb-4"}),n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-blue-700 mb-2",children:"Buyer Protection Policy"}),n.jsx("p",{className:"text-gray-600 max-w-xl",children:"Your peace of mind is our priority. Learn how Foremade protects your purchases and ensures a safe shopping experience."})]}),n.jsxs("div",{className:"bg-white/90 rounded-xl shadow-lg p-6 md:p-10 border border-blue-100",children:[n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3",children:"Important"}),n.jsxs("p",{className:"mb-4",children:["If your purchase was made through a Foremade Pro Seller, please refer to our ",n.jsx("strong",{children:"Pro Refund Policy"})," instead.",n.jsx("br",{}),"Every order placed using the Buy Now button includes our Buyer Protection (added as a fee at checkout), which activates the Foremade Refund Policy. This protection ensures you're eligible for a refund if:"]}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-blue-900",children:[n.jsx("li",{children:"Your parcel never arrives"}),n.jsx("li",{children:"Your parcel arrives damaged"}),n.jsx("li",{children:"The item you receive is significantly not as described (SNAD)"})]}),n.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 mb-4 rounded",children:[n.jsx("strong",{className:"text-blue-700",children:"Please note:"})," Refunds are not guaranteed for items that don't fit or aren't your style. You may still contact the seller to request a return, but approval is at their discretion."]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Refunds for Returns"}),n.jsx("p",{className:"mb-2",children:"A full return refund may include:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"The price of returned items"}),n.jsx("li",{children:"The Buyer Protection fee linked to returned items"}),n.jsx("li",{children:"Your original shipping fee"}),n.jsx("li",{children:"Optional services (e.g., Item or Electronics Verification)"})]}),n.jsx("p",{className:"mb-4",children:"We'll calculate the protection refund based on the items kept and refund the remaining portion. Discounts or voucher values used during purchase will be deducted proportionally from your refund."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Partial Refunds"}),n.jsxs("p",{className:"mb-2",children:["If your item is SNAD, the seller may offer a partial refund, allowing you to keep the item while receiving part of the cost back. You'll see the offer in your chat with the seller, where you can ",n.jsx("em",{children:"accept or decline"}),". Accepted partial refunds include:"]}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"A partial item price refund"}),n.jsx("li",{children:"A proportional refund of the Buyer Protection fee"})]}),n.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4 rounded",children:"Shipping fees and optional service charges are not refunded in partial cases. Bundled purchases don't qualify for partial refundsonly full or item-specific returns."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"How to Request a Refund"}),n.jsx("p",{className:"mb-2",children:"You must act within 2 days of being notified that your order was delivered or marked as lost:"}),n.jsxs("ol",{className:"list-decimal ml-6 mb-4",children:[n.jsxs("li",{children:["Go to your ",n.jsx("em",{children:"chat with the seller"})]}),n.jsxs("li",{children:["Press ",n.jsx("em",{children:"I have an issue"})]}),n.jsx("li",{children:"Follow the prompts to submit your refund request"})]}),n.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 mb-4 rounded",children:"This action temporarily freezes the order while we help resolve the situation. If you do nothing within the 2-day window, payment will be released to the seller."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"What Happens Next?"}),n.jsx("p",{className:"mb-2",children:"Depending on the issue, here's how we handle it:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Order is paused"}),n.jsx("li",{children:"Payment is held securely"}),n.jsx("li",{children:"You and the seller can work toward a solution"})]}),n.jsxs("p",{className:"mb-4",children:["You can track the status directly in the ",n.jsx("em",{children:"conversation screen"}),". If you both resolve the issue yourselves, simply press:"]}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsxs("li",{children:[n.jsx("em",{children:"Resolve this issue"})," for missing/damaged parcels"]}),n.jsxs("li",{children:[n.jsx("em",{children:"Cancel & keep order"})," for agreed resolutions"]})]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If You're the Seller"}),n.jsx("p",{className:"mb-2",children:"If a buyer raises an SNAD claim:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsxs("li",{children:["Ask them to suspend the order by clicking ",n.jsx("em",{children:"I have an issue"})]}),n.jsx("li",{children:"You'll have 14 days to resolve the issue"}),n.jsxs("li",{children:["Review buyer's evidence and choose one option:",n.jsxs("ul",{className:"list-disc ml-6",children:[n.jsxs("li",{children:[n.jsx("em",{children:"Partial refund"})," (buyer keeps item)"]}),n.jsxs("li",{children:[n.jsx("em",{children:"Full refund"})," (buyer keeps item)"]}),n.jsx("li",{children:n.jsx("em",{children:"Request a return"})})]})]})]}),n.jsx("p",{className:"mb-2",children:"If a return is requested:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Buyer ships the item within 5 business days"}),n.jsxs("li",{children:["Share your ",n.jsx("em",{children:"contact info"})," if required"]}),n.jsx("li",{children:"After receiving the item, confirm its condition within 2 days"}),n.jsxs("li",{children:["Press ",n.jsx("em",{children:"Everything is OK"})," to complete the return"]})]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If You Disagree with a Claim"}),n.jsx("p",{className:"mb-2",children:"You may dispute the refund request:"}),n.jsxs("ol",{className:"list-decimal ml-6 mb-4",children:[n.jsxs("li",{children:["Press ",n.jsx("em",{children:"View issue details"})]}),n.jsxs("li",{children:["Click ",n.jsx("em",{children:"Contact Us"})]}),n.jsxs("li",{children:["Review the terms and press ",n.jsx("em",{children:"Agree"})]}),n.jsxs("li",{children:["Press ",n.jsx("em",{children:"Submit"})," to escalate to our support team"]})]}),n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 mb-4 rounded",children:[n.jsx("strong",{children:"Note:"})," You can only dispute if you haven't already accepted a refund option."]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If No Agreement is Reached"}),n.jsx("p",{className:"mb-4",children:"If both sides can't find a solution within 14 days, and no one reaches out for support, Foremade will step in to review the case and issue a final decision."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Special Cases"}),n.jsxs("p",{className:"mb-2",children:[n.jsx("strong",{children:"Item Verified but Still SNAD"}),n.jsx("br",{}),"Follow the steps under ",n.jsx("em",{children:"I've received a SNAD item"})," to request a refund."]}),n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Device Linked to Seller's Account"})}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Notify the seller"}),n.jsx("li",{children:"If unlinking fails, discuss a return or refund"}),n.jsxs("li",{children:["If a return is required, use the ",n.jsx("em",{children:"Return the order"})," button"]})]}),n.jsx("p",{className:"mb-4",children:"Shipping details must be accurate. If not provided, Foremade may issue a refund even without a return."})]})]})}),Eue=()=>n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-10",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[n.jsx("img",{src:dF,alt:"Refund Policy",className:"w-40 h-40 mb-4"}),n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-blue-700 mb-2",children:"Refund Policy"}),n.jsx("p",{className:"text-gray-600 max-w-xl",children:"Understand how Foremade handles refunds and protects your purchases."})]}),n.jsxs("div",{className:"bg-white/90 rounded-xl shadow-lg p-6 md:p-10 border border-blue-100",children:[n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3",children:"Important"}),n.jsxs("p",{className:"mb-4",children:["If your purchase was made through a Foremade ",n.jsx(fe,{to:"/pro-seller-guide",className:"text-blue-600 underline font-semibold",children:"Pro Seller"}),", please refer to our ",n.jsx(fe,{to:"/pro-refund-policy",className:"text-blue-600 underline font-semibold",children:"Pro Refund Policy"})," instead.",n.jsx("br",{}),"Every order placed using the Buy Now button includes our Buyer Protection (added as a fee at checkout), which activates the Foremade Refund Policy. This protection ensures you're eligible for a refund if:"]}),n.jsxs("ul",{className:"list-disc ml-6 mb-4 text-blue-900",children:[n.jsx("li",{children:"Your parcel never arrives"}),n.jsx("li",{children:"Your parcel arrives damaged"}),n.jsx("li",{children:"The item you receive is significantly not as described (SNAD)"})]}),n.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 mb-4 rounded",children:[n.jsx("strong",{className:"text-blue-700",children:"Please note:"})," Refunds are not guaranteed for items that don't fit or aren't your style. You may still contact the seller to request a return, but approval is at their discretion."]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Refunds for Returns"}),n.jsx("p",{className:"mb-2",children:"A full return refund may include:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"The price of returned items"}),n.jsx("li",{children:"The Buyer Protection fee linked to returned items"}),n.jsx("li",{children:"Your original shipping fee"}),n.jsx("li",{children:"Optional services (e.g., Item or Electronics Verification)"})]}),n.jsx("p",{className:"mb-4",children:"We'll calculate the protection refund based on the items kept and refund the remaining portion. Discounts or voucher values used during purchase will be deducted proportionally from your refund."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Partial Refunds"}),n.jsxs("p",{className:"mb-2",children:["If your item is SNAD, the seller may offer a partial refund, allowing you to keep the item while receiving part of the cost back. You'll see the offer in your chat with the seller, where you can ",n.jsx("em",{children:"accept or decline"}),". Accepted partial refunds include:"]}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"A partial item price refund"}),n.jsx("li",{children:"A proportional refund of the Buyer Protection fee"})]}),n.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4 rounded",children:"Shipping fees and optional service charges are not refunded in partial cases. Bundled purchases don't qualify for partial refundsonly full or item-specific returns."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"How to Request a Refund"}),n.jsx("p",{className:"mb-2",children:"You must act within 2 days of being notified that your order was delivered or marked as lost:"}),n.jsxs("ol",{className:"list-decimal ml-6 mb-4",children:[n.jsxs("li",{children:["Go to your ",n.jsx(fe,{to:"/orders",className:"text-blue-600 underline font-semibold",children:"chat with the seller"})]}),n.jsxs("li",{children:["Press ",n.jsx("em",{children:"I have an issue"})]}),n.jsx("li",{children:"Follow the prompts to submit your refund request"})]}),n.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 mb-4 rounded",children:"This action temporarily freezes the order while we help resolve the situation. If you do nothing within the 2-day window, payment will be released to the seller."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"What Happens Next?"}),n.jsx("p",{className:"mb-2",children:"Depending on the issue, here's how we handle it:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Order is paused"}),n.jsx("li",{children:"Payment is held securely"}),n.jsx("li",{children:"You and the seller can work toward a solution"})]}),n.jsxs("p",{className:"mb-4",children:["You can track the status directly in the ",n.jsx(fe,{to:"/orders",className:"text-blue-600 underline font-semibold",children:"conversation screen"}),". If you both resolve the issue yourselves, simply press:"]}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsxs("li",{children:[n.jsx("em",{children:"Resolve this issue"})," for missing/damaged parcels"]}),n.jsxs("li",{children:[n.jsx("em",{children:"Cancel & keep order"})," for agreed resolutions"]})]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If You're the Seller"}),n.jsx("p",{className:"mb-2",children:"If a buyer raises an SNAD claim:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsxs("li",{children:["Ask them to suspend the order by clicking ",n.jsx("em",{children:"I have an issue"})]}),n.jsx("li",{children:"You'll have 14 days to resolve the issue"}),n.jsxs("li",{children:["Review buyer's evidence and choose one option:",n.jsxs("ul",{className:"list-disc ml-6",children:[n.jsxs("li",{children:[n.jsx("em",{children:"Partial refund"})," (buyer keeps item)"]}),n.jsxs("li",{children:[n.jsx("em",{children:"Full refund"})," (buyer keeps item)"]}),n.jsx("li",{children:n.jsx("em",{children:"Request a return"})})]})]})]}),n.jsx("p",{className:"mb-2",children:"If a return is requested:"}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Buyer ships the item within 5 business days"}),n.jsxs("li",{children:["Share your ",n.jsx("em",{children:"contact info"})," if required (",n.jsx(fe,{to:"/support",className:"text-blue-600 underline font-semibold",children:"Contact Us"}),")"]}),n.jsx("li",{children:"After receiving the item, confirm its condition within 2 days"}),n.jsxs("li",{children:["Press ",n.jsx("em",{children:"Everything is OK"})," to complete the return"]})]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If You Disagree with a Claim"}),n.jsx("p",{className:"mb-2",children:"You may dispute the refund request:"}),n.jsxs("ol",{className:"list-decimal ml-6 mb-4",children:[n.jsxs("li",{children:["Press ",n.jsx("em",{children:"View issue details"})]}),n.jsxs("li",{children:["Click ",n.jsx(fe,{to:"/support",className:"text-blue-600 underline font-semibold",children:"Contact Us"})]}),n.jsxs("li",{children:["Review the terms and press ",n.jsx("em",{children:"Agree"})]}),n.jsxs("li",{children:["Press ",n.jsx("em",{children:"Submit"})," to escalate to our support team"]})]}),n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 mb-4 rounded",children:[n.jsx("strong",{children:"Note:"})," You can only dispute if you haven't already accepted a refund option."]}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If No Agreement is Reached"}),n.jsx("p",{className:"mb-4",children:"If both sides can't find a solution within 14 days, and no one reaches out for support, Foremade will step in to review the case and issue a final decision."}),n.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Special Cases"}),n.jsxs("p",{className:"mb-2",children:[n.jsx("strong",{children:"Item Verified but Still SNAD"}),n.jsx("br",{}),"Follow the steps under ",n.jsx("em",{children:"I've received a SNAD item"})," to request a refund."]}),n.jsx("p",{className:"mb-2",children:n.jsx("strong",{children:"Device Linked to Seller's Account"})}),n.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[n.jsx("li",{children:"Notify the seller"}),n.jsx("li",{children:"If unlinking fails, discuss a return or refund"}),n.jsxs("li",{children:["If a return is required, use the ",n.jsx(fe,{to:"/orders",className:"text-blue-600 underline font-semibold",children:"Return the order"})," button"]})]}),n.jsx("p",{className:"mb-4",children:"Shipping details must be accurate. If not provided, Foremade may issue a refund even without a return."})]})]})}),Tue={background:"#fff",borderRadius:16,boxShadow:"0 2px 16px rgba(0,0,0,0.06)",maxWidth:600,width:"100%",padding:32,margin:"0 16px"},bu={marginBottom:32,borderBottom:"1px solid #f0f0f0",paddingBottom:24},Pue={marginBottom:0,borderBottom:"none",paddingBottom:0},Rue={color:"#003366",fontSize:32,fontWeight:800,marginBottom:8,letterSpacing:"-1px"},Tc={color:"#003366",fontSize:22,fontWeight:700,margin:"0 0 12px 0",display:"flex",alignItems:"center",gap:10},Pc={color:"#003366",marginRight:8,verticalAlign:"middle"},Iue={color:"#181818",fontWeight:"bold"},Due={backgroundColor:"#f9f9f9",padding:15,borderLeft:"4px solid #ffcc00",marginTop:15,color:"#181818",borderRadius:6,fontSize:15},yu={color:"#003366",textDecoration:"none",fontWeight:"bold",borderBottom:"1px solid #003366",transition:"background 0.2s, color 0.2s",padding:"1px 2px",borderRadius:2},_1={textDecoration:"underline",background:"#f0f6fa"},Ux={background:"#003366",color:"#fff",border:"none",borderRadius:6,padding:"10px 22px",fontWeight:600,fontSize:16,cursor:"pointer",marginTop:18,marginBottom:0,transition:"background 0.2s",textDecoration:"none",display:"inline-block"};function Mue(){const[r,e]=as.useState(""),[t,s]=as.useState(!1),a=o=>e(o),i=()=>e("");return n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"relative",children:[n.jsx("button",{className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-[#112d4e] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-300",onClick:()=>s(!t),"aria-label":t?"Close menu":"Open menu",children:t?n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),t&&n.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>s(!1)}),n.jsx("div",{className:`${t?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed md:static top-0 left-0 h-full z-40 md:z-0 w-64 bg-[#112d4e] shadow-lg md:shadow-none transition-transform duration-300 ease-in-out`,children:n.jsx(js,{})})]}),n.jsx("div",{className:"flex-1 ml-0 md:ml-64 flex justify-center items-start py-10 bg-gray-50",children:n.jsxs("div",{style:Tue,children:[n.jsxs("h1",{style:Rue,children:[n.jsx(Hf,{size:32,style:{display:"inline",marginRight:12,verticalAlign:"middle"}})," Product Bumps"]}),n.jsx("p",{style:{marginBottom:24,fontSize:18,color:"#181818"},children:"Get more eyes on your listings. Sell faster."}),n.jsxs("div",{style:bu,children:[n.jsxs("h2",{style:Tc,children:[n.jsx(Hf,{style:Pc,size:22}),"What is a Product Bump?"]}),n.jsxs("p",{style:{fontSize:16},children:["A ",n.jsx("strong",{children:"Product Bump"})," is a paid tool that promotes your listing on FOREMADE. It increases visibility by pushing your item higher in search results and buyer feeds for ",n.jsx("strong",{children:"3 or 7 days"}),"or until it sells."]}),n.jsxs("p",{style:{fontSize:16},children:["You can choose to bump your listing ",n.jsx("strong",{children:"locally"})," or make it visible to ",n.jsx("strong",{children:"international buyers"})," across all active FOREMADE regions."]})]}),n.jsxs("div",{style:bu,children:[n.jsxs("h2",{style:Tc,children:[n.jsx(Y5,{style:Pc,size:22}),"Why Use a Product Bump?"]}),n.jsxs("ul",{style:{paddingLeft:20,fontSize:16,margin:0},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"More Visibility:"})," Appear higher in search results and feeds."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Targeted Reach:"})," Get shown to the right buyers based on browsing history."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Performance Tracking:"})," Monitor views and interactions via your dashboard."]})]})]}),n.jsxs("div",{style:bu,children:[n.jsxs("h2",{style:Tc,children:[n.jsx(TN,{style:Pc,size:22}),"Before You Bump"]}),n.jsxs("ul",{style:{paddingLeft:20,fontSize:16,margin:0},children:[n.jsxs("li",{children:["Ensure your listing meets our "," ",n.jsx("a",{href:"/help/listing-guidelines",style:r==="guidelines"?{...yu,..._1}:yu,onMouseEnter:()=>a("guidelines"),onMouseLeave:i,children:"Listing Guidelines"}),"."]}),n.jsx("li",{children:"Update your images, title, price, and description before activating a bump."}),n.jsxs("li",{children:["You can ",n.jsx("span",{style:Iue,children:"lower"})," the price while a bump is activebut you can't raise it until the bump ends."]})]}),n.jsxs("div",{style:Due,children:[n.jsx(TN,{size:16,style:{display:"inline",marginRight:6,verticalAlign:"middle"}})," Lowering the price doesn't reduce the cost of the bump. No refunds are given for price changes after activation."]})]}),n.jsxs("div",{style:bu,children:[n.jsxs("h2",{style:Tc,children:[n.jsx(B5,{style:Pc,size:22}),"How to Apply a Bump"]}),n.jsxs("ol",{style:{paddingLeft:20,fontSize:16,margin:0},children:[n.jsxs("li",{children:["Log in to your "," ",n.jsx("a",{href:"/dashboard",style:r==="dashboard1"?{...yu,..._1}:yu,onMouseEnter:()=>a("dashboard1"),onMouseLeave:i,children:"Seller Dashboard"}),"."]}),n.jsx("li",{children:"Select the item you want to promote."}),n.jsxs("li",{children:["Choose ",n.jsx("strong",{children:"3 or 7-day duration"}),"."]}),n.jsxs("li",{children:["Choose ",n.jsx("strong",{children:"Local"})," or ",n.jsx("strong",{children:"International"})," visibility."]}),n.jsx("li",{children:"Pay and activate!"})]})]}),n.jsxs("div",{style:bu,children:[n.jsxs("h2",{style:Tc,children:[n.jsx(SJ,{style:Pc,size:22}),"Bump Pricing"]}),n.jsx("p",{style:{fontSize:16},children:"Pricing depends on:"}),n.jsxs("ul",{style:{paddingLeft:20,fontSize:16,margin:0},children:[n.jsx("li",{children:"Item price"}),n.jsx("li",{children:"Bump duration (3 or 7 days)"}),n.jsx("li",{children:"Target location: Local or International"})]}),n.jsx("p",{style:{marginTop:12},children:n.jsx("a",{href:"/pricing",style:r==="pricing"?{...Ux,background:"#002244",color:"#fff"}:Ux,onMouseEnter:()=>a("pricing"),onMouseLeave:i,children:"View Bump Pricing"})})]}),n.jsxs("div",{style:bu,children:[n.jsxs("h2",{style:Tc,children:[n.jsx(JJ,{style:Pc,size:22}),"Frequently Asked Questions"]}),n.jsxs("div",{style:{fontSize:16},children:[n.jsxs("p",{style:{marginBottom:10},children:[n.jsx("strong",{children:"What if I cancel the sale?"}),n.jsx("br",{}),"- If you cancel it, the bump ends and is not refunded. You'll need to buy a new bump.",n.jsx("br",{}),"- If the buyer cancels, contact "," ",n.jsx("a",{href:"/contact",style:r==="contact"?{...yu,..._1}:yu,onMouseEnter:()=>a("contact"),onMouseLeave:i,children:"FOREMADE Support"})," for help."]}),n.jsxs("p",{style:{marginBottom:10},children:[n.jsx("strong",{children:"Can I bump any item?"}),n.jsx("br",{}),"Yes! Even items under verification can be bumped."]}),n.jsxs("p",{style:{marginBottom:10},children:[n.jsx("strong",{children:"Can I bump multiple listings?"}),n.jsx("br",{}),"Yes, as many as you wantbut only one bump per item at a time."]}),n.jsxs("p",{style:{marginBottom:0},children:[n.jsx("strong",{children:"Can bumps be transferred?"}),n.jsx("br",{}),"No. Bumps are tied to specific listings."]})]})]}),n.jsxs("div",{style:Pue,children:[n.jsxs("h2",{style:Tc,children:[n.jsx(Pg,{style:Pc,size:22}),"Start Selling Smarter"]}),n.jsxs("p",{style:{fontSize:16},children:[n.jsx("a",{href:"/dashboard",style:r==="dashboard2"?{...Ux,background:"#002244",color:"#fff"}:Ux,onMouseEnter:()=>a("dashboard2"),onMouseLeave:i,children:"Go to your dashboard"})," ","to bump a product and increase your sales today!"]})]})]})})]})}function Oue(){gs();const[r,e]=E.useState(""),[t,s]=E.useState(null),[a,i]=E.useState(!1),[o,l]=E.useState(0),[c,u]=E.useState(!1),[h,f]=E.useState(null);E.useEffect(()=>{if(h&&(h(),f(null)),!r||!ke.currentUser){s(null),l(0),u(!1);return}i(!0);const N=Ce(re,"orders",r),k=bs(N,C=>{if(C.exists()){const R=C.data();s({status:R.status||"Order Placed",updatedAt:R.updatedAt?.toDate()||new Date,trackingDetails:R.trackingDetails||[]}),l(0),u(!1)}else(async()=>{const _=mt(Ie(re,"orders"),nt("userId","==",ke.currentUser.uid)),P=(await Ke(_)).docs.find(T=>T.data().paymentId===r||`TRK-${T.id.slice(0,8)}`===r);if(P){const T=P.data();s({status:T.status||"Order Placed",updatedAt:T.updatedAt?.toDate()||new Date,trackingDetails:T.trackingDetails||[]}),l(0),u(!1)}else s({status:"Not Found",updatedAt:new Date,trackingDetails:[]}),l(T=>T+1);i(!1)})()},C=>{console.error("Error fetching order:",C),s({status:"Error",updatedAt:new Date,trackingDetails:[]}),l(R=>R+1),i(!1)});return f(()=>k),()=>{h&&h()}},[r,ke.currentUser]),E.useEffect(()=>{o>=2&&u(!0)},[o]);const g=N=>{N.preventDefault(),r&&ke.currentUser&&s(null)},x=["Order Placed","Packed","Shipped","Delivered"],b=t?((N,k)=>{if(!N||N==="Not Found"||N==="Error")return 0;if(k.length>0){const C=k[k.length-1].status;return x.indexOf(C)+1||1}return x.indexOf(N)+1||1})(t.status,t.trackingDetails):0,v=b/x.length*100;return n.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx(Sd,{}),n.jsx(Xe.div,{className:"md:w-3/4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-black dark:text-white mb-4",children:"Track Your Order"}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsx("input",{type:"text",value:r,onChange:N=>e(N.target.value),placeholder:"Track your orders (e.g., order ID or TRK-...)",className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx("button",{type:"submit",disabled:a||!r||!ke.currentUser,className:`w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition ${a||!r||!ke.currentUser?"opacity-50 cursor-not-allowed":""}`,children:a?"Tracking...":"Track Order"})]}),c&&n.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 p-4 bg-yellow-100 dark:bg-yellow-800 rounded-lg text-gray-800 dark:text-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Need Help Tracking Your Order?"}),n.jsx("p",{className:"text-sm mt-2",children:'Enter your full order ID (e.g., "order-12368738293") or tracking ID (e.g., "TRK-order12") from your order history or confirmation email. If you dont know your ID, check your "Orders" page or contact support.'}),n.jsx("button",{onClick:()=>u(!1),className:"mt-2 text-blue-600 dark:text-blue-400 hover:underline",children:"Close Guide"})]}),t&&n.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"mt-6 space-y-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300",children:"Order Status"}),n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:x.map((N,k)=>n.jsxs("div",{className:"flex flex-col items-center relative",children:[n.jsx(Xe.div,{className:`w-8 h-8 rounded-full flex items-center justify-center z-10 ${k<b?"bg-blue-600 text-white":k===b?"bg-blue-200 text-blue-800":"bg-gray-200 text-gray-500"}`,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:k*.1},children:k+1}),n.jsx("span",{className:"text-xs mt-1 text-gray-600 dark:text-gray-400",children:N})]},k))}),n.jsx(Xe.div,{className:"absolute top-4 left-0 h-1 bg-gray-300",style:{width:"100%"},initial:{width:0},animate:{width:"100%"},transition:{duration:1,ease:"easeInOut"}}),n.jsx(Xe.div,{className:"absolute top-4 left-0 h-1 bg-blue-500",style:{width:`${v}%`},initial:{width:0},animate:{width:`${v}%`},transition:{duration:.8,ease:"easeOut"}})]}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:["Current Step: ",b>0?x[b-1]:"Not Found"]}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Last Updated: ",t.updatedAt.toLocaleString()]}),t.trackingDetails.length>0&&n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Tracking Timeline"}),n.jsx("ul",{className:"list-disc pl-5",children:t.trackingDetails.map((N,k)=>n.jsxs(Xe.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:k*.1},className:"text-gray-600 dark:text-gray-400",children:[N.status," - ",new Date(N.timestamp).toLocaleString()]},k))})]})]})]})]})})]})})}function Lue(){const r=[{image:"https://res.cloudinary.com/dbczfoqnc/image/upload/v1751541163/products/kdcrrjozm0dq2r8a74zk.jpg",text:"Daily Deals Await!",tagline:"Limited Time Offers",description:"Grab exclusive discounts on top products before theyre gone.",link:"/daily-deals"},{image:"https://res.cloudinary.com/dbczfoqnc/image/upload/v1748369792/products/d3mt7oyewtwsswr9b9li.jpg",text:"Hot Deals Today",tagline:"Save Big Today",description:"Explore the best deals available only for a short time.",link:"/daily-deals"}],[e,t]=E.useState(0),[s,a]=E.useState(!0),[i,o]=E.useState({hours:0,minutes:0,seconds:0});E.useEffect(()=>{if(!s)return;const c=setInterval(()=>{t(u=>(u+1)%r.length)},6e3);return()=>clearInterval(c)},[e,r.length,s]),E.useEffect(()=>{const c=()=>{const h=new Date,f=new Date(h);f.setHours(23,59,59,999);const g=f-h,x=Math.floor(g/(1e3*60*60)),y=Math.floor(g%(1e3*60*60)/(1e3*60)),b=Math.floor(g%(1e3*60)/1e3);o({hours:x,minutes:y,seconds:b})};c();const u=setInterval(c,1e3);return()=>clearInterval(u)},[]);const l=c=>{t(c),a(!1),setTimeout(()=>a(!0),1e4)};return n.jsxs("div",{className:"relative overflow-hidden my-4 mx-2 sm:mx-4 lg:mx-6 rounded-2xl border border-neutral-800/30 h-[200px] xs:h-[220px] sm:h-[260px] lg:h-[300px]",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx(Xe.div,{className:"absolute inset-0 bg-gradient-to-br from-amber-600 via-orange-400/60 to-blue-900 animate-gradient-x",initial:{opacity:0},animate:{opacity:.7},transition:{duration:1}}),n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20 sm:opacity-30 transition-all duration-700 scale-110",style:{backgroundImage:`url(${r[e].image})`}}),n.jsx("div",{className:"absolute inset-0 backdrop-blur-md"})]}),n.jsx(Xe.div,{className:"relative z-10 h-full flex items-center w-full",children:n.jsx("div",{className:"w-full mx-auto px-3 xs:px-4 sm:px-8 lg:px-16 flex flex-col items-center justify-center gap-4 sm:gap-6 py-4 sm:py-6 flex-wrap",children:n.jsxs("div",{className:"text-center space-y-3 sm:space-y-4",children:[n.jsx(Xe.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"inline-flex items-center h-6 px-3 rounded-full bg-gradient-to-r from-amber-600/30 to-orange-400/20 border border-amber-500/30",children:n.jsx("span",{className:"text-xs font-medium text-amber-100 tracking-wide",children:r[e].tagline})}),n.jsx(Xe.h2,{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold leading-tight text-white drop-shadow-lg",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:r[e].text}),n.jsx(Xe.p,{className:"hidden sm:block text-sm sm:text-base text-white/90 max-w-md",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r[e].description}),n.jsxs(Xe.div,{className:"flex items-center justify-center space-x-2 sm:space-x-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[n.jsxs("div",{className:"bg-white/30 backdrop-blur-lg rounded-lg p-2 sm:p-3 border border-amber-100/30",children:[n.jsx("span",{className:"text-lg sm:text-xl font-bold text-amber-600",children:String(i.hours).padStart(2,"0")}),n.jsx("span",{className:"text-xs sm:text-sm text-white/80 ml-1",children:"Hours"})]}),n.jsx("span",{className:"text-lg sm:text-xl text-white/80 font-bold",children:":"}),n.jsxs("div",{className:"bg-white/30 backdrop-blur-lg rounded-lg p-2 sm:p-3 border border-amber-100/30",children:[n.jsx("span",{className:"text-lg sm:text-xl font-bold text-amber-600",children:String(i.minutes).padStart(2,"0")}),n.jsx("span",{className:"text-xs sm:text-sm text-white/80 ml-1",children:"Minutes"})]}),n.jsx("span",{className:"text-lg sm:text-xl text-white/80 font-bold",children:":"}),n.jsxs("div",{className:"bg-white/30 backdrop-blur-lg rounded-lg p-2 sm:p-3 border border-amber-100/30",children:[n.jsx("span",{className:"text-lg sm:text-xl font-bold text-amber-600",children:String(i.seconds).padStart(2,"0")}),n.jsx("span",{className:"text-xs sm:text-sm text-white/80 ml-1",children:"Seconds"})]})]})]})})}),n.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-2 z-20",children:r.map((c,u)=>n.jsx("button",{onClick:()=>l(u),className:"group","aria-label":`Go to slide ${u+1}`,children:n.jsx("span",{className:`block w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-200 ${e===u?"bg-amber-400 scale-125 shadow-lg shadow-amber-400/50":"bg-white/40 group-hover:bg-white/60 group-hover:scale-105"}`})},u))})]})}const g4=async(r,e=3,t=1e3)=>{for(let s=1;s<=e;s++)try{return await r()}catch(a){if(s===e)throw a;const i=t*Math.pow(2,s-1);console.warn(`Retry ${s}/${e} after ${i}ms due to: ${a.message}`),await new Promise(o=>setTimeout(o,i))}},p4="https://via.placeholder.com/200?text=No+Image";function Fue(){const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(null);return E.useEffect(()=>{(async()=>{try{s(!0),i(null);const c=(await g4(()=>Ke(Ie(re,"dailyDeals")))).docs.map(f=>({id:f.id,...f.data()}));console.log("Raw deals:",c);const u=c.filter(f=>new Date(f.endDate)>new Date);console.log("Valid deals:",u);const h=await Promise.all(u.map(async f=>{const g=await g4(()=>Je(Ce(re,"products",f.productId))),x=g.exists()?g.data():{};console.log(`Product for deal ${f.id}:`,x);const y=Array.isArray(x.imageUrls)&&x.imageUrls.length>0?x.imageUrls.find(N=>typeof N=="string"&&N.startsWith("https://res.cloudinary.com/"))||p4:x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://res.cloudinary.com/")?x.imageUrl:p4;console.log(`Image for deal ${f.id}:`,y);const b=Number(x.price)||0,v=Number((f.discount*100).toFixed(2))||0;return{id:f.id,productId:f.productId,productName:x.name||"Unnamed Product",price:b,discountPercentage:v,imageUrl:y,description:x.description||"No description available",condition:x.condition||"",isDailyDeal:!0}}));console.log("Final deal products:",h),e(h)}catch(l){console.error("Error loading daily deals:",{message:l.message,stack:l.stack}),i("Failed to load daily deals. Please try again later.")}finally{s(!1)}})()},[]),t?n.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50 h-screen mb-10",children:n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[n.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),n.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"})]})}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[...Array(8)].map((o,l)=>n.jsx("div",{className:"flex-shrink-0 w-full",children:n.jsx("div",{className:"bg-gray-200 rounded-lg h-[200px] xs:h-[240px] sm:h-[260px] w-full animate-pulse"})},l))})]})}):a?n.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50",children:n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[n.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),n.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"})]})}),n.jsxs("p",{className:"text-red-600 text-sm xs:text-base p-3 xs:p-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-error-circle"}),a]})]})}):n.jsxs("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50 mb-16",children:[n.jsx(Lue,{}),n.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:n.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[n.jsx("i",{className:"bx bx-time text-yellow-600 text-3xl xs:text-3xl"}),n.jsx("h2",{className:"text-base xs:text-xl sm:text-2xl md:text-3xl lg:text-3xl font-bold text-gray-800",children:"Daily Deals"})]})}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:r.length===0?n.jsxs("p",{className:"text-gray-600 text-sm xs:text-base p-3 xs:p-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-info-circle"}),"No deals available right now. Check back later for hot offers! "]}):r.map(o=>n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"relative",children:[n.jsx(zr,{product:{id:o.productId,name:o.productName,price:o.price,imageUrl:o.imageUrl,condition:o.condition,category:o.category||"default",variants:o.variants||[],stock:o.stock||0,sellerId:o.sellerId||"",currency:localStorage.getItem("currency")||"USD",isDailyDeal:o.isDailyDeal,discountPercentage:o.discountPercentage}}),n.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1.5 xs:px-2 py-0.5 xs:py-1 rounded-full text-[10px] xs:text-xs font-bold",children:[o.discountPercent,"% OFF"]})]})},o.id))})]})]})}function Uue(){const[r,e]=E.useState([]),[t,s]=E.useState([]),[a,i]=E.useState(!0),o="Fashion",l=["foremade fashion","clothing","accessories","footwear","jewelry","bags & wallets"],c=async()=>{try{i(!0);const u=mt(Ie(re,"trendingItems"),nt("category","==",o)),f=(await Ke(u)).docs.map(b=>b.data());if(f.length>0){const b=f.map(async N=>{const k=await Je(Ce(re,"products",N.productId));return k.exists()?{id:k.id,...k.data()}:null}),v=(await Promise.all(b)).filter(N=>N&&N.status==="approved");e(v);return}const g=mt(Ie(re,"products"),nt("status","==","approved"),nt("category","in",l)),y=(await Ke(g)).docs.map(b=>({id:b.id,...b.data()}));e(y)}catch{je.error("Failed to load fashion products")}finally{i(!1)}};return E.useEffect(()=>{c(),Ke(Ie(re,"dailyDeals")).then(u=>{s(u.docs.map(h=>({id:h.id,...h.data()})))})},[]),n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-6",children:"All Trending Fashion"}),a?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((u,h)=>n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 animate-pulse"},h))}):r.length===0?n.jsx("p",{className:"text-gray-600",children:"No fashion products found."}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(u=>n.jsx(zr,{product:u,dailyDeals:t},u.id))})]})})}function zue(){const[r,e]=E.useState([]),[t,s]=E.useState([]),[a,i]=E.useState(!0),o="Gadgets",l=["tablet & phones","computers & accessories","electronics","smart watches","game & fun"],c=async()=>{try{i(!0);const u=mt(Ie(re,"trendingItems"),nt("category","==",o)),f=(await Ke(u)).docs.map(b=>b.data());if(f.length>0){const b=f.map(async N=>{const k=await Je(Ce(re,"products",N.productId));return k.exists()?{id:k.id,...k.data()}:null}),v=(await Promise.all(b)).filter(N=>N&&N.status==="approved");e(v);return}const g=mt(Ie(re,"products"),nt("status","==","approved"),nt("category","in",l)),y=(await Ke(g)).docs.map(b=>({id:b.id,...b.data()}));e(y)}catch{je.error("Failed to load gadgets products")}finally{i(!1)}};return E.useEffect(()=>{c(),Ke(Ie(re,"dailyDeals")).then(u=>{s(u.docs.map(h=>({id:h.id,...h.data()})))})},[]),n.jsx("section",{className:"py-8 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-6",children:"All Trending Gadgets"}),a?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((u,h)=>n.jsx("div",{className:"bg-gray-200 rounded-lg h-72 animate-pulse"},h))}):r.length===0?n.jsx("p",{className:"text-gray-600",children:"No gadgets products found."}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(u=>n.jsx(zr,{product:u,dailyDeals:t},u.id))})]})})}const Pa=({children:r,requireAdmin:e=!1})=>{const t=oh(),s=Xr(),a=gs(),[i,o]=E.useState(!0),[l,c]=E.useState(!1);return E.useEffect(()=>{const u=ri(t,h=>{if(!h){console.log("No user authenticated, redirecting to login"),a("/login",{replace:!0,state:{from:s.pathname}}),o(!1);return}const f=["Foremade@icloud.com","echinecherem729@gmail.com"],g=h.email.toLowerCase(),x=f.some(y=>y.toLowerCase()===g);console.log("Authenticated user email:",h.email),console.log("Normalized user email:",g),console.log("Is admin?",x),e&&!x?(console.log("Non-admin access attempted, redirecting to login"),a("/login",{replace:!0,state:{from:s.pathname}})):c(!0),o(!1)});return()=>u()},[t,s.pathname,a,e]),console.log("Rendering ProtectedRoute, loading:",i,"hasAccess:",l),l?r:null},Vue=()=>{const{sellerId:r}=Wl(),[e,t]=E.useState(null),[s,a]=E.useState([]),[i,o]=E.useState({}),[l,c]=E.useState(!0),[u,h]=E.useState(null);return E.useEffect(()=>{r?(async()=>{try{c(!0),h(null);const g=Ce(re,"feeConfigurations","categoryFees"),x=await Je(g),y=x.exists()?x.data():{};o(y);const b=Ce(re,"users",r),v=await Je(b);if(!v.exists()){h("Seller not found.");return}const N=v.data(),k={username:N.username||`Seller ${r.slice(0,6)}`,profilePicture:N.profilePicture||`https://ui-avatars.com/api/?name=${encodeURIComponent(N.username||"Seller")}&size=128&background=112d4e&color=fff`,isProSeller:N.isProSeller||!1};t(k);const C=mt(Ie(re,"products"),nt("sellerId","==",r)),_=(await Ke(C)).docs.map(I=>{const P=I.data(),T=P.category||"default",D=y[T]||{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2},L=P.price||0,F=L+L*D.buyerProtectionRate+L*D.handlingRate;return{id:I.id,...P,imageUrls:Array.isArray(P.imageUrls)&&P.imageUrls.length>0?P.imageUrls[0]:Es,totalPrice:F,category:T}});a(_)}catch(g){console.error("Error fetching seller data:",g),h("Failed to load seller data."),je.error("Failed to load seller data.",{position:"top-right",autoClose:3e3})}finally{c(!1)}})():(h("Invalid seller ID."),c(!1))},[r]),l?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx(ti,{}),n.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Loading seller data..."})]}):u?n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("p",{className:"text-red-600 text-sm",children:u}),n.jsxs(fe,{to:"/products",className:"text-blue-600 hover:underline text-sm flex items-center gap-1 justify-center mt-4","aria-label":"Back to products",children:[n.jsx("i",{className:"bx bx-arrow-back","aria-hidden":"true"}),"Back to Products"]})]}):n.jsxs("div",{className:"container mx-auto px-4 py-8 mb-10",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-store text-blue-600","aria-hidden":"true"}),"Seller Profile"]}),n.jsxs(fe,{to:"/products",className:"text-blue-600 hover:underline text-sm flex items-center gap-1","aria-label":"Back to products",children:[n.jsx("i",{className:"bx bx-arrow-back","aria-hidden":"true"}),"Back to Products"]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8 flex items-center gap-6",children:[n.jsx("img",{src:e.profilePicture,alt:`${e.username}'s avatar`,className:"w-24 h-24 rounded-full object-cover border-2 border-blue-600",onError:f=>{f.target.src=Es},loading:"lazy","aria-label":"Seller avatar"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:e.username}),e.isProSeller?n.jsx(q5,{className:"w-5 h-5 text-amber-500","aria-label":"Pro Seller",title:"Premium Seller"}):n.jsx(Ul,{className:"w-5 h-5 text-gray-500","aria-label":"Standard Seller",title:"Standard Seller"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," ",s.length===1?"product":"products"," listed"]}),n.jsx("p",{className:"text-sm text-amber-500 mt-3",children:e.isProSeller?"Pro Seller":"Standard Seller"})]})]}),n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx("i",{className:"bx bx-package text-blue-600","aria-hidden":"true"}),"Products by ",e.username,n.jsxs("span",{className:"ml-2 text-xs text-gray-500 cursor-help relative group","aria-label":"Prices include fees",children:[n.jsx("i",{className:"bx bx-info-circle","aria-hidden":"true"}),n.jsx("span",{className:"absolute hidden group-hover:block bg-gray-800 text-white text-xs rounded-lg p-2 -top-10 left-0 w-48 z-10",children:"Prices are inclusive of taxes etc."})]})]}),s.length===0?n.jsxs("p",{className:"text-gray-600 text-sm",children:["No products found for this seller."," ",n.jsx(fe,{to:"/products",className:"text-blue-600 hover:underline",children:"Browse other products"})]}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:s.map(f=>n.jsxs(fe,{to:`/product/${f.id}`,className:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition transform","aria-label":`View ${f.name}`,children:[n.jsx("img",{src:f.imageUrls,alt:f.name||"Product image",className:"w-full h-48 object-cover rounded-lg mb-4",onError:g=>{g.target.src=Es},loading:"lazy"}),n.jsx("h3",{className:"text-base font-semibold text-gray-800 truncate",children:f.name||"Unnamed Product"}),n.jsx("p",{className:"text-sm text-gray-600",children:n.jsx(lr,{price:f.totalPrice||0,currency:"NGN"})})]},f.id))})]})};function Bue(){const[r,e]=E.useState([]),[t,s]=E.useState(!0),[a,i]=E.useState(null);return E.useEffect(()=>{(async()=>{if(!ke.currentUser){i("Please log in as an admin."),s(!1);return}try{const l=Ie(re,"users"),u=(await Ke(l)).docs.map(h=>{const f=h.data(),g=f.name||f.username||"N/A";return{id:h.id,name:g,phoneNumber:f.phoneNumber||"Not Provided"}});e(u)}catch(l){i(`Failed to fetch users: ${l.message}`)}finally{s(!1)}})()},[]),t?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx(Xe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsx("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10 text-center",children:n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading users..."})})})]}):a?n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx(Xe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsx("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10 text-center",children:n.jsx("p",{className:"text-red-600 dark:text-red-400",children:a})})})]}):n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[n.jsx(ks,{}),n.jsx(Xe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:n.jsxs("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 mb-6",children:"User Phone Numbers"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-200 dark:bg-gray-700",children:[n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Name"}),n.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Phone Number"})]})}),n.jsx("tbody",{children:r.map(o=>n.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600",children:[n.jsx("td",{className:"p-3 text-sm text-gray-800 dark:text-gray-200",children:o.name}),n.jsx("td",{className:"p-3 text-sm text-gray-800 dark:text-gray-200",children:o.phoneNumber})]},o.id))})]})}),r.length===0&&n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center py-4",children:"No users found."})]})})]})}const Hue=({children:r})=>{const e=Xr(),t=["/login","/register","/recover-password","/sell","/smile","/overview","/settings","/products-gallery","/products-upload","/products-upload-variant","/admin","/admin/payouts","/admin/dashboard","/admin/users","/admin/admins","/admin/edit/fees","/admin/edit/categories","/admin/sellers/payouts","/admin/products","/admin/notifications","/admin/manager","/admin/edit/banners","/admin/edit/daily-deals","/admin/pro-sellers-requests","/admin/bumped-products","/admin/users-phone","/bulk-upload","/product-bump","/product-bump-info","/seller-transactions","/pro-seller-analytics","/sellers/orders","/sellers/products","/seller-onboarding","/seller-chat","/admin/sellers-wallet","/admin/transactions","/dashboard"],s=[/^\/seller\/edit-product\/[^/]+$/,/^\/seller-chat\/[^/]+$/],a=t.includes(e.pathname)||s.some(o=>o.test(e.pathname)),i=["/profile","/about"].includes(e.pathname);return n.jsxs(n.Fragment,{children:[!a&&n.jsx(wte,{}),!a&&n.jsx(FX,{}),n.jsx("main",{className:"min-h-screen bg-white text-black dark:bg-gray-900 dark:text-white",children:r}),i&&n.jsx(kte,{})]})};function $ue(){return n.jsx(az,{children:n.jsx(NX,{children:n.jsx(WY,{children:n.jsx(Hue,{children:n.jsxs(MU,{children:[n.jsx(Ze,{path:"/login",element:n.jsx(ese,{})}),n.jsx(Ze,{path:"/register",element:n.jsx(rse,{})}),n.jsx(Ze,{path:"/recover-password",element:n.jsx(Gde,{})}),n.jsx(Ze,{path:"/add-phone",element:n.jsx(ose,{})}),n.jsx(Ze,{path:"/pro-seller-form",element:n.jsx(hue,{})}),n.jsx(Ze,{path:"/sellers-guide",element:n.jsx(mce,{})}),n.jsx(Ze,{path:"/",element:n.jsx(Yte,{})}),n.jsx(Ze,{path:"/smile",element:n.jsx(Mde,{})}),n.jsx(Ze,{path:"/sell",element:n.jsx(DI,{})}),n.jsx(Ze,{path:"/sellers/products",element:n.jsx(Doe,{})}),n.jsx(Ze,{path:"/products-upload",element:n.jsx(vle,{})}),n.jsx(Ze,{path:"/products-upload-variant",element:n.jsx(jle,{})}),n.jsx(Ze,{path:"/products-gallery",element:n.jsx(kle,{})}),n.jsx(Ze,{path:"/seller/edit-product/:productId",element:n.jsx(sue,{})}),n.jsx(Ze,{path:"/dashboard",element:n.jsx(DI,{})}),n.jsx(Ze,{path:"/sellers/orders",element:n.jsx(ore,{})}),n.jsx(Ze,{path:"/settings",element:n.jsx(lre,{})}),n.jsx(Ze,{path:"/seller-onboarding",element:n.jsx(Moe,{})}),n.jsx(Ze,{path:"/bulk-upload",element:n.jsx(yue,{})}),n.jsx(Ze,{path:"/product-bump",element:n.jsx(vue,{})}),n.jsx(Ze,{path:"/product-bump-info",element:n.jsx(Mue,{})}),n.jsx(Ze,{path:"/seller-transactions",element:n.jsx(jue,{})}),n.jsx(Ze,{path:"/pro-seller-analytics",element:n.jsx(kue,{})}),n.jsx(Ze,{path:"/terms-conditions",element:n.jsx(_le,{})}),n.jsx(Ze,{path:"/seller-agreement",element:n.jsx(gz,{})}),n.jsx(Ze,{path:"/pro-seller-guide",element:n.jsx(pue,{})}),n.jsx(Ze,{path:"/pro-seller-guide-full",element:n.jsx(xue,{})}),n.jsx(Ze,{path:"/support",element:n.jsx(Sle,{})}),n.jsx(Ze,{path:"/buyer-protection-policy",element:n.jsx(Cue,{})}),n.jsx(Ze,{path:"/refund-policy",element:n.jsx(Eue,{})}),n.jsx(Ze,{path:"/empowerment-hub",element:n.jsx(Ude,{})}),n.jsx(Ze,{path:"/youth-empowerment-form",element:n.jsx(Vde,{})}),n.jsx(Ze,{path:"/youth-empowerment-terms",element:n.jsx(Bde,{})}),n.jsx(Ze,{path:"/products",element:n.jsx(Qte,{})}),n.jsx(Ze,{path:"/product/:id",element:n.jsx(ise,{})}),n.jsx(Ze,{path:"/best-selling",element:n.jsx(eO,{})}),n.jsx(Ze,{path:"/electronics",element:n.jsx(Yde,{})}),n.jsx(Ze,{path:"/tablet-phones",element:n.jsx(Wde,{})}),n.jsx(Ze,{path:"/smart-watches",element:n.jsx(qde,{})}),n.jsx(Ze,{path:"/privacy-policy",element:n.jsx(Ode,{})}),n.jsx(Ze,{path:"/shipping-policy",element:n.jsx(pz,{})}),n.jsx(Ze,{path:"/privacy-policy/:type",element:n.jsx(Fde,{})}),n.jsx(Ze,{path:"/privacy-policy/eu/access",element:n.jsx($de,{})}),n.jsx(Ze,{path:"/pages/other-products/:category",element:n.jsx(Qde,{})}),n.jsx(Ze,{path:"/stores",element:n.jsx(tue,{})}),n.jsx(Ze,{path:"/cart",element:n.jsx(use,{})}),n.jsx(Ze,{path:"/checkout",element:n.jsx(ere,{})}),n.jsx(Ze,{path:"/favorites",element:n.jsx(hse,{})}),n.jsx(Ze,{path:"/order-confirmation",element:n.jsx(ire,{})}),n.jsx(Ze,{path:"/profile",element:n.jsx(mse,{})}),n.jsx(Ze,{path:"/orders",element:n.jsx(tre,{})}),n.jsx(Ze,{path:"/address",element:n.jsx(sre,{})}),n.jsx(Ze,{path:"/setting",element:n.jsx(rre,{})}),n.jsx(Ze,{path:"/search",element:n.jsx(Jde,{})}),n.jsx(Ze,{path:"/notifications",element:n.jsx(eue,{})}),n.jsx(Ze,{path:"/about",element:n.jsx(Zde,{})}),n.jsx(Ze,{path:"/seller-chat",element:n.jsx(f4,{})}),n.jsx(Ze,{path:"/seller-chat/:chatId",element:n.jsx(f4,{})}),n.jsx(Ze,{path:"/chat/:orderId",element:n.jsx(Jte,{})}),n.jsx(Ze,{path:"/seller/:sellerId",element:n.jsx(Vue,{})}),n.jsx(Ze,{path:"/order-tracking",element:n.jsx(Oue,{})}),n.jsx(Ze,{path:"/category/:categoryName",element:n.jsx(cue,{})}),n.jsx(Ze,{path:"/user-agreement",element:n.jsx(Aue,{})}),n.jsx(Ze,{path:"/daily-deals",element:n.jsx(Fue,{})}),n.jsx(Ze,{path:"/trending-fashions",element:n.jsx(Uue,{})}),n.jsx(Ze,{path:"/trending-gadgets",element:n.jsx(zue,{})}),n.jsx(Ze,{path:"/admin/dashboard",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(Ele,{})})}),n.jsx(Ze,{path:"/admin/transactions",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(hce,{})})}),n.jsx(Ze,{path:"/admin/users",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(Ole,{})})}),n.jsx(Ze,{path:"/admin/products",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(Cle,{})})}),n.jsx(Ze,{path:"/admin/sellers/payouts",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(Ule,{})})}),n.jsx(Ze,{path:"/admin/edit/fees",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(Zle,{})})}),n.jsx(Ze,{path:"/admin/edit/categories",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(tce,{})})}),n.jsx(Ze,{path:"/admin/notifications",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(Rle,{})})}),n.jsx(Ze,{path:"/admin/edit/banners",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(Hle,{})})}),n.jsx(Ze,{path:"/admin/edit/daily-deals",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(Yle,{})})}),n.jsx(Ze,{path:"/admin/manager",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(ace,{})})}),n.jsx(Ze,{path:"/admin/sellers-wallet",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(oce,{})})}),n.jsx(Ze,{path:"/admin/pro-sellers-requests",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(lce,{})})}),n.jsx(Ze,{path:"/admin/bumped-products",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(cce,{})})}),n.jsx(Ze,{path:"/admin/users-phone",element:n.jsx(Pa,{requireAdmin:!0,children:n.jsx(Bue,{})})}),n.jsx(Ze,{path:"*",element:n.jsx(nse,{})})]})})})})})}W8.createRoot(document.getElementById("root")).render(n.jsx(E.StrictMode,{children:n.jsx($ue,{})}));
