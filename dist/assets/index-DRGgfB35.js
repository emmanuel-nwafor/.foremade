(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}})();var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Px(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function XG(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var a=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return r[s]}})}),t}var hN={exports:{}},wg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QR;function KG(){if(QR)return wg;QR=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,n){var o=null;if(n!==void 0&&(o=""+n),a.key!==void 0&&(o=""+a.key),"key"in a){n={};for(var l in a)l!=="key"&&(n[l]=a[l])}else n=a;return a=n.ref,{$$typeof:r,type:s,key:o,ref:a!==void 0?a:null,props:n}}return wg.Fragment=e,wg.jsx=t,wg.jsxs=t,wg}var JR;function ZG(){return JR||(JR=1,hN.exports=KG()),hN.exports}var i=ZG(),fN={exports:{}},fr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function QG(){if(eI)return fr;eI=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),n=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function m(z){return z===null||typeof z!="object"?null:(z=h&&z[h]||z["@@iterator"],typeof z=="function"?z:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function y(z,Q,q){this.props=z,this.context=Q,this.refs=x,this.updater=q||p}y.prototype.isReactComponent={},y.prototype.setState=function(z,Q){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Q,"setState")},y.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function w(){}w.prototype=y.prototype;function k(z,Q,q){this.props=z,this.context=Q,this.refs=x,this.updater=q||p}var N=k.prototype=new w;N.constructor=k,b(N,y.prototype),N.isPureReactComponent=!0;var T=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function S(z,Q,q,Z,J,re){return q=re.ref,{$$typeof:r,type:z,key:Q,ref:q!==void 0?q:null,props:re}}function A(z,Q){return S(z.type,Q,void 0,void 0,void 0,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function O(z){var Q={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(q){return Q[q]})}var M=/\/+/g;function L(z,Q){return typeof z=="object"&&z!==null&&z.key!=null?O(""+z.key):Q.toString(36)}function B(){}function G(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(B,B):(z.status="pending",z.then(function(Q){z.status==="pending"&&(z.status="fulfilled",z.value=Q)},function(Q){z.status==="pending"&&(z.status="rejected",z.reason=Q)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function X(z,Q,q,Z,J){var re=typeof z;(re==="undefined"||re==="boolean")&&(z=null);var de=!1;if(z===null)de=!0;else switch(re){case"bigint":case"string":case"number":de=!0;break;case"object":switch(z.$$typeof){case r:case e:de=!0;break;case u:return de=z._init,X(de(z._payload),Q,q,Z,J)}}if(de)return J=J(z),de=Z===""?"."+L(z,0):Z,T(J)?(q="",de!=null&&(q=de.replace(M,"$&/")+"/"),X(J,Q,q,"",function(Ne){return Ne})):J!=null&&(P(J)&&(J=A(J,q+(J.key==null||z&&z.key===J.key?"":(""+J.key).replace(M,"$&/")+"/")+de)),Q.push(J)),1;de=0;var Se=Z===""?".":Z+":";if(T(z))for(var je=0;je<z.length;je++)Z=z[je],re=Se+L(Z,je),de+=X(Z,Q,q,re,J);else if(je=m(z),typeof je=="function")for(z=je.call(z),je=0;!(Z=z.next()).done;)Z=Z.value,re=Se+L(Z,je++),de+=X(Z,Q,q,re,J);else if(re==="object"){if(typeof z.then=="function")return X(G(z),Q,q,Z,J);throw Q=String(z),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return de}function H(z,Q,q){if(z==null)return z;var Z=[],J=0;return X(z,Z,"","",function(re){return Q.call(q,re,J++)}),Z}function W(z){if(z._status===-1){var Q=z._result;Q=Q(),Q.then(function(q){(z._status===0||z._status===-1)&&(z._status=1,z._result=q)},function(q){(z._status===0||z._status===-1)&&(z._status=2,z._result=q)}),z._status===-1&&(z._status=0,z._result=Q)}if(z._status===1)return z._result.default;throw z._result}var ne=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function U(){}return fr.Children={map:H,forEach:function(z,Q,q){H(z,function(){Q.apply(this,arguments)},q)},count:function(z){var Q=0;return H(z,function(){Q++}),Q},toArray:function(z){return H(z,function(Q){return Q})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},fr.Component=y,fr.Fragment=t,fr.Profiler=a,fr.PureComponent=k,fr.StrictMode=s,fr.Suspense=c,fr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,fr.__COMPILER_RUNTIME={__proto__:null,c:function(z){return E.H.useMemoCache(z)}},fr.cache=function(z){return function(){return z.apply(null,arguments)}},fr.cloneElement=function(z,Q,q){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Z=b({},z.props),J=z.key,re=void 0;if(Q!=null)for(de in Q.ref!==void 0&&(re=void 0),Q.key!==void 0&&(J=""+Q.key),Q)!I.call(Q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Q.ref===void 0||(Z[de]=Q[de]);var de=arguments.length-2;if(de===1)Z.children=q;else if(1<de){for(var Se=Array(de),je=0;je<de;je++)Se[je]=arguments[je+2];Z.children=Se}return S(z.type,J,void 0,void 0,re,Z)},fr.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:n,_context:z},z},fr.createElement=function(z,Q,q){var Z,J={},re=null;if(Q!=null)for(Z in Q.key!==void 0&&(re=""+Q.key),Q)I.call(Q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(J[Z]=Q[Z]);var de=arguments.length-2;if(de===1)J.children=q;else if(1<de){for(var Se=Array(de),je=0;je<de;je++)Se[je]=arguments[je+2];J.children=Se}if(z&&z.defaultProps)for(Z in de=z.defaultProps,de)J[Z]===void 0&&(J[Z]=de[Z]);return S(z,re,void 0,void 0,null,J)},fr.createRef=function(){return{current:null}},fr.forwardRef=function(z){return{$$typeof:l,render:z}},fr.isValidElement=P,fr.lazy=function(z){return{$$typeof:u,_payload:{_status:-1,_result:z},_init:W}},fr.memo=function(z,Q){return{$$typeof:d,type:z,compare:Q===void 0?null:Q}},fr.startTransition=function(z){var Q=E.T,q={};E.T=q;try{var Z=z(),J=E.S;J!==null&&J(q,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(U,ne)}catch(re){ne(re)}finally{E.T=Q}},fr.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},fr.use=function(z){return E.H.use(z)},fr.useActionState=function(z,Q,q){return E.H.useActionState(z,Q,q)},fr.useCallback=function(z,Q){return E.H.useCallback(z,Q)},fr.useContext=function(z){return E.H.useContext(z)},fr.useDebugValue=function(){},fr.useDeferredValue=function(z,Q){return E.H.useDeferredValue(z,Q)},fr.useEffect=function(z,Q,q){var Z=E.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(z,Q)},fr.useId=function(){return E.H.useId()},fr.useImperativeHandle=function(z,Q,q){return E.H.useImperativeHandle(z,Q,q)},fr.useInsertionEffect=function(z,Q){return E.H.useInsertionEffect(z,Q)},fr.useLayoutEffect=function(z,Q){return E.H.useLayoutEffect(z,Q)},fr.useMemo=function(z,Q){return E.H.useMemo(z,Q)},fr.useOptimistic=function(z,Q){return E.H.useOptimistic(z,Q)},fr.useReducer=function(z,Q,q){return E.H.useReducer(z,Q,q)},fr.useRef=function(z){return E.H.useRef(z)},fr.useState=function(z){return E.H.useState(z)},fr.useSyncExternalStore=function(z,Q,q){return E.H.useSyncExternalStore(z,Q,q)},fr.useTransition=function(){return E.H.useTransition()},fr.version="19.1.1",fr}var tI;function l2(){return tI||(tI=1,fN.exports=QG()),fN.exports}var R=l2();const Lr=Px(R);var mN={exports:{}},kg={},gN={exports:{}},pN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function JG(){return rI||(rI=1,(function(r){function e(H,W){var ne=H.length;H.push(W);e:for(;0<ne;){var U=ne-1>>>1,z=H[U];if(0<a(z,W))H[U]=W,H[ne]=z,ne=U;else break e}}function t(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var W=H[0],ne=H.pop();if(ne!==W){H[0]=ne;e:for(var U=0,z=H.length,Q=z>>>1;U<Q;){var q=2*(U+1)-1,Z=H[q],J=q+1,re=H[J];if(0>a(Z,ne))J<z&&0>a(re,Z)?(H[U]=re,H[J]=ne,U=J):(H[U]=Z,H[q]=ne,U=q);else if(J<z&&0>a(re,ne))H[U]=re,H[J]=ne,U=J;else break e}}return W}function a(H,W){var ne=H.sortIndex-W.sortIndex;return ne!==0?ne:H.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var n=performance;r.unstable_now=function(){return n.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,b=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function T(H){for(var W=t(d);W!==null;){if(W.callback===null)s(d);else if(W.startTime<=H)s(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=t(d)}}function E(H){if(x=!1,T(H),!b)if(t(c)!==null)b=!0,I||(I=!0,L());else{var W=t(d);W!==null&&X(E,W.startTime-H)}}var I=!1,S=-1,A=5,P=-1;function O(){return y?!0:!(r.unstable_now()-P<A)}function M(){if(y=!1,I){var H=r.unstable_now();P=H;var W=!0;try{e:{b=!1,x&&(x=!1,k(S),S=-1),p=!0;var ne=m;try{t:{for(T(H),h=t(c);h!==null&&!(h.expirationTime>H&&O());){var U=h.callback;if(typeof U=="function"){h.callback=null,m=h.priorityLevel;var z=U(h.expirationTime<=H);if(H=r.unstable_now(),typeof z=="function"){h.callback=z,T(H),W=!0;break t}h===t(c)&&s(c),T(H)}else s(c);h=t(c)}if(h!==null)W=!0;else{var Q=t(d);Q!==null&&X(E,Q.startTime-H),W=!1}}break e}finally{h=null,m=ne,p=!1}W=void 0}}finally{W?L():I=!1}}}var L;if(typeof N=="function")L=function(){N(M)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=M,L=function(){G.postMessage(null)}}else L=function(){w(M,0)};function X(H,W){S=w(function(){H(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return m},r.unstable_next=function(H){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var ne=m;m=W;try{return H()}finally{m=ne}},r.unstable_requestPaint=function(){y=!0},r.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=m;m=H;try{return W()}finally{m=ne}},r.unstable_scheduleCallback=function(H,W,ne){var U=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?U+ne:U):ne=U,H){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ne+z,H={id:u++,callback:W,priorityLevel:H,startTime:ne,expirationTime:z,sortIndex:-1},ne>U?(H.sortIndex=ne,e(d,H),t(c)===null&&H===t(d)&&(x?(k(S),S=-1):x=!0,X(E,ne-U))):(H.sortIndex=z,e(c,H),b||p||(b=!0,I||(I=!0,L()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var W=m;return function(){var ne=m;m=W;try{return H.apply(this,arguments)}finally{m=ne}}}})(pN)),pN}var sI;function eY(){return sI||(sI=1,gN.exports=JG()),gN.exports}var xN={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aI;function tY(){if(aI)return yn;aI=1;var r=l2();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)d+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function n(c,d,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:c,containerInfo:d,implementation:u}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,yn.createPortal=function(c,d){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return n(c,d,null,u)},yn.flushSync=function(c){var d=o.T,u=s.p;try{if(o.T=null,s.p=2,c)return c()}finally{o.T=d,s.p=u,s.d.f()}},yn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(c,d))},yn.prefetchDNS=function(c){typeof c=="string"&&s.d.D(c)},yn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var u=d.as,h=l(u,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,p=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;u==="style"?s.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:p}):u==="script"&&s.d.X(c,{crossOrigin:h,integrity:m,fetchPriority:p,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},yn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var u=l(d.as,d.crossOrigin);s.d.M(c,{crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(c)},yn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var u=d.as,h=l(u,d.crossOrigin);s.d.L(c,u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},yn.preloadModule=function(c,d){if(typeof c=="string")if(d){var u=l(d.as,d.crossOrigin);s.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(c)},yn.requestFormReset=function(c){s.d.r(c)},yn.unstable_batchedUpdates=function(c,d){return c(d)},yn.useFormState=function(c,d,u){return o.H.useFormState(c,d,u)},yn.useFormStatus=function(){return o.H.useHostTransitionStatus()},yn.version="19.1.1",yn}var nI;function rY(){if(nI)return xN.exports;nI=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xN.exports=tY(),xN.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI;function sY(){if(iI)return kg;iI=1;var r=eY(),e=l2(),t=rY();function s(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function n(f){var g=f,v=f;if(f.alternate)for(;g.return;)g=g.return;else{f=g;do g=f,(g.flags&4098)!==0&&(v=g.return),f=g.return;while(f)}return g.tag===3?v:null}function o(f){if(f.tag===13){var g=f.memoizedState;if(g===null&&(f=f.alternate,f!==null&&(g=f.memoizedState)),g!==null)return g.dehydrated}return null}function l(f){if(n(f)!==f)throw Error(s(188))}function c(f){var g=f.alternate;if(!g){if(g=n(f),g===null)throw Error(s(188));return g!==f?null:f}for(var v=f,_=g;;){var D=v.return;if(D===null)break;var F=D.alternate;if(F===null){if(_=D.return,_!==null){v=_;continue}break}if(D.child===F.child){for(F=D.child;F;){if(F===v)return l(D),f;if(F===_)return l(D),g;F=F.sibling}throw Error(s(188))}if(v.return!==_.return)v=D,_=F;else{for(var ee=!1,ue=D.child;ue;){if(ue===v){ee=!0,v=D,_=F;break}if(ue===_){ee=!0,_=D,v=F;break}ue=ue.sibling}if(!ee){for(ue=F.child;ue;){if(ue===v){ee=!0,v=F,_=D;break}if(ue===_){ee=!0,_=F,v=D;break}ue=ue.sibling}if(!ee)throw Error(s(189))}}if(v.alternate!==_)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?f:g}function d(f){var g=f.tag;if(g===5||g===26||g===27||g===6)return f;for(f=f.child;f!==null;){if(g=d(f),g!==null)return g;f=f.sibling}return null}var u=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(f){return f===null||typeof f!="object"?null:(f=M&&f[M]||f["@@iterator"],typeof f=="function"?f:null)}var B=Symbol.for("react.client.reference");function G(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===B?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case b:return"Fragment";case y:return"Profiler";case x:return"StrictMode";case E:return"Suspense";case I:return"SuspenseList";case P:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case p:return"Portal";case N:return(f.displayName||"Context")+".Provider";case k:return(f._context.displayName||"Context")+".Consumer";case T:var g=f.render;return f=f.displayName,f||(f=g.displayName||g.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case S:return g=f.displayName||null,g!==null?g:G(f.type)||"Memo";case A:g=f._payload,f=f._init;try{return G(f(g))}catch{}}return null}var X=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},U=[],z=-1;function Q(f){return{current:f}}function q(f){0>z||(f.current=U[z],U[z]=null,z--)}function Z(f,g){z++,U[z]=f.current,f.current=g}var J=Q(null),re=Q(null),de=Q(null),Se=Q(null);function je(f,g){switch(Z(de,g),Z(re,f),Z(J,null),g.nodeType){case 9:case 11:f=(f=g.documentElement)&&(f=f.namespaceURI)?jR(f):0;break;default:if(f=g.tagName,g=g.namespaceURI)g=jR(g),f=ER(g,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}q(J),Z(J,f)}function Ne(){q(J),q(re),q(de)}function xe(f){f.memoizedState!==null&&Z(Se,f);var g=J.current,v=ER(g,f.type);g!==v&&(Z(re,f),Z(J,v))}function ze(f){re.current===f&&(q(J),q(re)),Se.current===f&&(q(Se),pg._currentValue=ne)}var se=Object.prototype.hasOwnProperty,fe=r.unstable_scheduleCallback,Te=r.unstable_cancelCallback,Ce=r.unstable_shouldYield,Be=r.unstable_requestPaint,Ue=r.unstable_now,gt=r.unstable_getCurrentPriorityLevel,st=r.unstable_ImmediatePriority,bt=r.unstable_UserBlockingPriority,pt=r.unstable_NormalPriority,zt=r.unstable_LowPriority,Mt=r.unstable_IdlePriority,dt=r.log,At=r.unstable_setDisableYieldValue,Qe=null,ut=null;function kt(f){if(typeof dt=="function"&&At(f),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(Qe,f)}catch{}}var vt=Math.clz32?Math.clz32:Dt,it=Math.log,ft=Math.LN2;function Dt(f){return f>>>=0,f===0?32:31-(it(f)/ft|0)|0}var Bt=256,or=4194304;function Ot(f){var g=f&42;if(g!==0)return g;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function Xt(f,g,v){var _=f.pendingLanes;if(_===0)return 0;var D=0,F=f.suspendedLanes,ee=f.pingedLanes;f=f.warmLanes;var ue=_&134217727;return ue!==0?(_=ue&~F,_!==0?D=Ot(_):(ee&=ue,ee!==0?D=Ot(ee):v||(v=ue&~f,v!==0&&(D=Ot(v))))):(ue=_&~F,ue!==0?D=Ot(ue):ee!==0?D=Ot(ee):v||(v=_&~f,v!==0&&(D=Ot(v)))),D===0?0:g!==0&&g!==D&&(g&F)===0&&(F=D&-D,v=g&-g,F>=v||F===32&&(v&4194048)!==0)?g:D}function Vr(f,g){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&g)===0}function vr(f,g){switch(f){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hr(){var f=Bt;return Bt<<=1,(Bt&4194048)===0&&(Bt=256),f}function xr(){var f=or;return or<<=1,(or&62914560)===0&&(or=4194304),f}function dr(f){for(var g=[],v=0;31>v;v++)g.push(f);return g}function cr(f,g){f.pendingLanes|=g,g!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Er(f,g,v,_,D,F){var ee=f.pendingLanes;f.pendingLanes=v,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=v,f.entangledLanes&=v,f.errorRecoveryDisabledLanes&=v,f.shellSuspendCounter=0;var ue=f.entanglements,Ae=f.expirationTimes,$e=f.hiddenUpdates;for(v=ee&~v;0<v;){var rt=31-vt(v),lt=1<<rt;ue[rt]=0,Ae[rt]=-1;var We=$e[rt];if(We!==null)for($e[rt]=null,rt=0;rt<We.length;rt++){var Ge=We[rt];Ge!==null&&(Ge.lane&=-536870913)}v&=~lt}_!==0&&Ar(f,_,0),F!==0&&D===0&&f.tag!==0&&(f.suspendedLanes|=F&~(ee&~g))}function Ar(f,g,v){f.pendingLanes|=g,f.suspendedLanes&=~g;var _=31-vt(g);f.entangledLanes|=g,f.entanglements[_]=f.entanglements[_]|1073741824|v&4194090}function qt(f,g){var v=f.entangledLanes|=g;for(f=f.entanglements;v;){var _=31-vt(v),D=1<<_;D&g|f[_]&g&&(f[_]|=g),v&=~D}}function Pr(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function br(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function Jr(){var f=W.p;return f!==0?f:(f=window.event,f===void 0?32:qR(f.type))}function Ps(f,g){var v=W.p;try{return W.p=f,g()}finally{W.p=v}}var Or=Math.random().toString(36).slice(2),ss="__reactFiber$"+Or,$r="__reactProps$"+Or,Mr="__reactContainer$"+Or,Vs="__reactEvents$"+Or,Ie="__reactListeners$"+Or,Y="__reactHandles$"+Or,ie="__reactResources$"+Or,ce="__reactMarker$"+Or;function oe(f){delete f[ss],delete f[$r],delete f[Vs],delete f[Ie],delete f[Y]}function ge(f){var g=f[ss];if(g)return g;for(var v=f.parentNode;v;){if(g=v[Mr]||v[ss]){if(v=g.alternate,g.child!==null||v!==null&&v.child!==null)for(f=PR(f);f!==null;){if(v=f[ss])return v;f=PR(f)}return g}f=v,v=f.parentNode}return null}function be(f){if(f=f[ss]||f[Mr]){var g=f.tag;if(g===5||g===6||g===13||g===26||g===27||g===3)return f}return null}function he(f){var g=f.tag;if(g===5||g===26||g===27||g===6)return f.stateNode;throw Error(s(33))}function ye(f){var g=f[ie];return g||(g=f[ie]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function pe(f){f[ce]=!0}var we=new Set,te={};function _e(f,g){le(f,g),le(f+"Capture",g)}function le(f,g){for(te[f]=g,f=0;f<g.length;f++)we.add(g[f])}var Ee=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ae={},ke={};function Oe(f){return se.call(ke,f)?!0:se.call(ae,f)?!1:Ee.test(f)?ke[f]=!0:(ae[f]=!0,!1)}function De(f,g,v){if(Oe(g))if(v===null)f.removeAttribute(g);else{switch(typeof v){case"undefined":case"function":case"symbol":f.removeAttribute(g);return;case"boolean":var _=g.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){f.removeAttribute(g);return}}f.setAttribute(g,""+v)}}function Me(f,g,v){if(v===null)f.removeAttribute(g);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(g);return}f.setAttribute(g,""+v)}}function at(f,g,v,_){if(_===null)f.removeAttribute(v);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(v);return}f.setAttributeNS(g,v,""+_)}}var mt,ir;function Wr(f){if(mt===void 0)try{throw Error()}catch(v){var g=v.stack.trim().match(/\n( *(at )?)/);mt=g&&g[1]||"",ir=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+f+ir}var Ia=!1;function tn(f,g){if(!f||Ia)return"";Ia=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(g){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(Ge){var We=Ge}Reflect.construct(f,[],lt)}else{try{lt.call()}catch(Ge){We=Ge}f.call(lt.prototype)}}else{try{throw Error()}catch(Ge){We=Ge}(lt=f())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(Ge){if(Ge&&We&&typeof Ge.stack=="string")return[Ge.stack,We.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=_.DetermineComponentFrameRoot(),ee=F[0],ue=F[1];if(ee&&ue){var Ae=ee.split(`
`),$e=ue.split(`
`);for(D=_=0;_<Ae.length&&!Ae[_].includes("DetermineComponentFrameRoot");)_++;for(;D<$e.length&&!$e[D].includes("DetermineComponentFrameRoot");)D++;if(_===Ae.length||D===$e.length)for(_=Ae.length-1,D=$e.length-1;1<=_&&0<=D&&Ae[_]!==$e[D];)D--;for(;1<=_&&0<=D;_--,D--)if(Ae[_]!==$e[D]){if(_!==1||D!==1)do if(_--,D--,0>D||Ae[_]!==$e[D]){var rt=`
`+Ae[_].replace(" at new "," at ");return f.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",f.displayName)),rt}while(1<=_&&0<=D);break}}}finally{Ia=!1,Error.prepareStackTrace=v}return(v=f?f.displayName||f.name:"")?Wr(v):""}function On(f){switch(f.tag){case 26:case 27:case 5:return Wr(f.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 15:return tn(f.type,!1);case 11:return tn(f.type.render,!1);case 1:return tn(f.type,!0);case 31:return Wr("Activity");default:return""}}function ef(f){try{var g="";do g+=On(f),f=f.return;while(f);return g}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function Mn(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function N0(f){var g=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function pk(f){var g=N0(f)?"checked":"value",v=Object.getOwnPropertyDescriptor(f.constructor.prototype,g),_=""+f[g];if(!f.hasOwnProperty(g)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var D=v.get,F=v.set;return Object.defineProperty(f,g,{configurable:!0,get:function(){return D.call(this)},set:function(ee){_=""+ee,F.call(this,ee)}}),Object.defineProperty(f,g,{enumerable:v.enumerable}),{getValue:function(){return _},setValue:function(ee){_=""+ee},stopTracking:function(){f._valueTracker=null,delete f[g]}}}}function tf(f){f._valueTracker||(f._valueTracker=pk(f))}function S0(f){if(!f)return!1;var g=f._valueTracker;if(!g)return!0;var v=g.getValue(),_="";return f&&(_=N0(f)?f.checked?"true":"false":f.value),f=_,f!==v?(g.setValue(f),!0):!1}function iu(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var xk=/[\n"\\]/g;function va(f){return f.replace(xk,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function gi(f,g,v,_,D,F,ee,ue){f.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?f.type=ee:f.removeAttribute("type"),g!=null?ee==="number"?(g===0&&f.value===""||f.value!=g)&&(f.value=""+Mn(g)):f.value!==""+Mn(g)&&(f.value=""+Mn(g)):ee!=="submit"&&ee!=="reset"||f.removeAttribute("value"),g!=null?Bc(f,ee,Mn(g)):v!=null?Bc(f,ee,Mn(v)):_!=null&&f.removeAttribute("value"),D==null&&F!=null&&(f.defaultChecked=!!F),D!=null&&(f.checked=D&&typeof D!="function"&&typeof D!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?f.name=""+Mn(ue):f.removeAttribute("name")}function ou(f,g,v,_,D,F,ee,ue){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(f.type=F),g!=null||v!=null){if(!(F!=="submit"&&F!=="reset"||g!=null))return;v=v!=null?""+Mn(v):"",g=g!=null?""+Mn(g):v,ue||g===f.value||(f.value=g),f.defaultValue=g}_=_??D,_=typeof _!="function"&&typeof _!="symbol"&&!!_,f.checked=ue?f.checked:!!_,f.defaultChecked=!!_,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(f.name=ee)}function Bc(f,g,v){g==="number"&&iu(f.ownerDocument)===f||f.defaultValue===""+v||(f.defaultValue=""+v)}function Ml(f,g,v,_){if(f=f.options,g){g={};for(var D=0;D<v.length;D++)g["$"+v[D]]=!0;for(v=0;v<f.length;v++)D=g.hasOwnProperty("$"+f[v].value),f[v].selected!==D&&(f[v].selected=D),D&&_&&(f[v].defaultSelected=!0)}else{for(v=""+Mn(v),g=null,D=0;D<f.length;D++){if(f[D].value===v){f[D].selected=!0,_&&(f[D].defaultSelected=!0);return}g!==null||f[D].disabled||(g=f[D])}g!==null&&(g.selected=!0)}}function ks(f,g,v){if(g!=null&&(g=""+Mn(g),g!==f.value&&(f.value=g),v==null)){f.defaultValue!==g&&(f.defaultValue=g);return}f.defaultValue=v!=null?""+Mn(v):""}function lu(f,g,v,_){if(g==null){if(_!=null){if(v!=null)throw Error(s(92));if(X(_)){if(1<_.length)throw Error(s(93));_=_[0]}v=_}v==null&&(v=""),g=v}v=Mn(g),f.defaultValue=v,_=f.textContent,_===v&&_!==""&&_!==null&&(f.value=_)}function Ui(f,g){if(g){var v=f.firstChild;if(v&&v===f.lastChild&&v.nodeType===3){v.nodeValue=g;return}}f.textContent=g}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eb(f,g,v){var _=g.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?_?f.setProperty(g,""):g==="float"?f.cssFloat="":f[g]="":_?f.setProperty(g,v):typeof v!="number"||v===0||cu.has(g)?g==="float"?f.cssFloat=v:f[g]=(""+v).trim():f[g]=v+"px"}function j0(f,g,v){if(g!=null&&typeof g!="object")throw Error(s(62));if(f=f.style,v!=null){for(var _ in v)!v.hasOwnProperty(_)||g!=null&&g.hasOwnProperty(_)||(_.indexOf("--")===0?f.setProperty(_,""):_==="float"?f.cssFloat="":f[_]="");for(var D in g)_=g[D],g.hasOwnProperty(D)&&v[D]!==_&&Eb(f,D,_)}else for(var F in g)g.hasOwnProperty(F)&&Eb(f,F,g[F])}function E0(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rf(f){return yk.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}var Fl=null;function zi(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Ll=null,Bl=null;function A0(f){var g=be(f);if(g&&(f=g.stateNode)){var v=f[$r]||null;e:switch(f=g.stateNode,g.type){case"input":if(gi(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),g=v.name,v.type==="radio"&&g!=null){for(v=f;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+va(""+g)+'"][type="radio"]'),g=0;g<v.length;g++){var _=v[g];if(_!==f&&_.form===f.form){var D=_[$r]||null;if(!D)throw Error(s(90));gi(_,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(g=0;g<v.length;g++)_=v[g],_.form===f.form&&S0(_)}break e;case"textarea":ks(f,v.value,v.defaultValue);break e;case"select":g=v.value,g!=null&&Ml(f,!!v.multiple,g,!1)}}}var qo=!1;function Ab(f,g,v){if(qo)return f(g,v);qo=!0;try{var _=f(g);return _}finally{if(qo=!1,(Ll!==null||Bl!==null)&&(wy(),Ll&&(g=Ll,f=Bl,Bl=Ll=null,A0(g),f)))for(g=0;g<f.length;g++)A0(f[g])}}function du(f,g){var v=f.stateNode;if(v===null)return null;var _=v[$r]||null;if(_===null)return null;v=_[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(f=f.type,_=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!_;break e;default:f=!1}if(f)return null;if(v&&typeof v!="function")throw Error(s(231,g,typeof v));return v}var vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vi=!1;if(vo)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{Vi=!1}var Go=null,Uc=null,Ul=null;function T0(){if(Ul)return Ul;var f,g=Uc,v=g.length,_,D="value"in Go?Go.value:Go.textContent,F=D.length;for(f=0;f<v&&g[f]===D[f];f++);var ee=v-f;for(_=1;_<=ee&&g[v-_]===D[F-_];_++);return Ul=D.slice(f,1<_?1-_:void 0)}function Yo(f){var g=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&g===13&&(f=13)):f=g,f===10&&(f=13),32<=f||f===13?f:0}function Xo(){return!0}function C0(){return!1}function $a(f){function g(v,_,D,F,ee){this._reactName=v,this._targetInst=D,this.type=_,this.nativeEvent=F,this.target=ee,this.currentTarget=null;for(var ue in f)f.hasOwnProperty(ue)&&(v=f[ue],this[ue]=v?v(F):F[ue]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Xo:C0,this.isPropagationStopped=C0,this}return u(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),g}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sf=$a(ds),hu=u({},ds,{view:0,detail:0}),Tb=$a(hu),af,nf,Ko,fu=u({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Ko&&(Ko&&f.type==="mousemove"?(af=f.screenX-Ko.screenX,nf=f.screenY-Ko.screenY):nf=af=0,Ko=f),af)},movementY:function(f){return"movementY"in f?f.movementY:nf}}),Hi=$a(fu),Cb=u({},fu,{dataTransfer:0}),vk=$a(Cb),mu=u({},hu,{relatedTarget:0}),of=$a(mu),P0=u({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),lf=$a(P0),Pb=u({},ds,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),cf=$a(Pb),wk=u({},ds,{data:0}),R0=$a(wk),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ib={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I0(f){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(f):(f=Ib[f])?!!g[f]:!1}function pu(){return I0}var Db=u({},hu,{key:function(f){if(f.key){var g=gu[f.key]||f.key;if(g!=="Unidentified")return g}return f.type==="keypress"?(f=Yo(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Rb[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(f){return f.type==="keypress"?Yo(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Yo(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),df=$a(Db),Ob=u({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=$a(Ob),zl=u({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),Mb=$a(zl),Fb=u({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lb=$a(Fb),Bb=u({},fu,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),uf=$a(Bb),Fn=u({},ds,{newState:0,oldState:0}),Ub=$a(Fn),zb=[9,13,27,32],Zo=vo&&"CompositionEvent"in window,C=null;vo&&"documentMode"in document&&(C=document.documentMode);var V=vo&&"TextEvent"in window&&!C,K=vo&&(!Zo||C&&8<C&&11>=C),me=" ",Ve=!1;function Ze(f,g){switch(f){case"keyup":return zb.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function St(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var qr=!1;function Da(f,g){switch(f){case"compositionend":return St(g);case"keypress":return g.which!==32?null:(Ve=!0,me);case"textInput":return f=g.data,f===me&&Ve?null:f;default:return null}}function Gr(f,g){if(qr)return f==="compositionend"||!Zo&&Ze(f,g)?(f=T0(),Ul=Uc=Go=null,qr=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return K&&g.locale!=="ko"?null:g.data;default:return null}}var Wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oa(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g==="input"?!!Wa[f.type]:g==="textarea"}function Vl(f,g,v,_){Ll?Bl?Bl.push(_):Bl=[_]:Ll=_,g=Ey(g,"onChange"),0<g.length&&(v=new sf("onChange","change",null,v,_),f.push({event:v,listeners:g}))}var rn=null,Qo=null;function O0(f){wR(f,0)}function Vb(f){var g=he(f);if(S0(g))return f}function V4(f,g){if(f==="change")return g}var H4=!1;if(vo){var kk;if(vo){var _k="oninput"in document;if(!_k){var $4=document.createElement("div");$4.setAttribute("oninput","return;"),_k=typeof $4.oninput=="function"}kk=_k}else kk=!1;H4=kk&&(!document.documentMode||9<document.documentMode)}function W4(){rn&&(rn.detachEvent("onpropertychange",q4),Qo=rn=null)}function q4(f){if(f.propertyName==="value"&&Vb(Qo)){var g=[];Vl(g,Qo,f,zi(f)),Ab(O0,g)}}function Sq(f,g,v){f==="focusin"?(W4(),rn=g,Qo=v,rn.attachEvent("onpropertychange",q4)):f==="focusout"&&W4()}function jq(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Vb(Qo)}function Eq(f,g){if(f==="click")return Vb(g)}function Aq(f,g){if(f==="input"||f==="change")return Vb(g)}function Tq(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var pi=typeof Object.is=="function"?Object.is:Tq;function M0(f,g){if(pi(f,g))return!0;if(typeof f!="object"||f===null||typeof g!="object"||g===null)return!1;var v=Object.keys(f),_=Object.keys(g);if(v.length!==_.length)return!1;for(_=0;_<v.length;_++){var D=v[_];if(!se.call(g,D)||!pi(f[D],g[D]))return!1}return!0}function G4(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Y4(f,g){var v=G4(f);f=0;for(var _;v;){if(v.nodeType===3){if(_=f+v.textContent.length,f<=g&&_>=g)return{node:v,offset:g-f};f=_}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=G4(v)}}function X4(f,g){return f&&g?f===g?!0:f&&f.nodeType===3?!1:g&&g.nodeType===3?X4(f,g.parentNode):"contains"in f?f.contains(g):f.compareDocumentPosition?!!(f.compareDocumentPosition(g)&16):!1:!1}function K4(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var g=iu(f.document);g instanceof f.HTMLIFrameElement;){try{var v=typeof g.contentWindow.location.href=="string"}catch{v=!1}if(v)f=g.contentWindow;else break;g=iu(f.document)}return g}function Nk(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g&&(g==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||g==="textarea"||f.contentEditable==="true")}var Cq=vo&&"documentMode"in document&&11>=document.documentMode,hf=null,Sk=null,F0=null,jk=!1;function Z4(f,g,v){var _=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;jk||hf==null||hf!==iu(_)||(_=hf,"selectionStart"in _&&Nk(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),F0&&M0(F0,_)||(F0=_,_=Ey(Sk,"onSelect"),0<_.length&&(g=new sf("onSelect","select",null,g,v),f.push({event:g,listeners:_}),g.target=hf)))}function xu(f,g){var v={};return v[f.toLowerCase()]=g.toLowerCase(),v["Webkit"+f]="webkit"+g,v["Moz"+f]="moz"+g,v}var ff={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionrun:xu("Transition","TransitionRun"),transitionstart:xu("Transition","TransitionStart"),transitioncancel:xu("Transition","TransitionCancel"),transitionend:xu("Transition","TransitionEnd")},Ek={},Q4={};vo&&(Q4=document.createElement("div").style,"AnimationEvent"in window||(delete ff.animationend.animation,delete ff.animationiteration.animation,delete ff.animationstart.animation),"TransitionEvent"in window||delete ff.transitionend.transition);function bu(f){if(Ek[f])return Ek[f];if(!ff[f])return f;var g=ff[f],v;for(v in g)if(g.hasOwnProperty(v)&&v in Q4)return Ek[f]=g[v];return f}var J4=bu("animationend"),e3=bu("animationiteration"),t3=bu("animationstart"),Pq=bu("transitionrun"),Rq=bu("transitionstart"),Iq=bu("transitioncancel"),r3=bu("transitionend"),s3=new Map,Ak="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ak.push("scrollEnd");function wo(f,g){s3.set(f,g),_e(g,[f])}var a3=new WeakMap;function $i(f,g){if(typeof f=="object"&&f!==null){var v=a3.get(f);return v!==void 0?v:(g={value:f,source:g,stack:ef(g)},a3.set(f,g),g)}return{value:f,source:g,stack:ef(g)}}var Wi=[],mf=0,Tk=0;function Hb(){for(var f=mf,g=Tk=mf=0;g<f;){var v=Wi[g];Wi[g++]=null;var _=Wi[g];Wi[g++]=null;var D=Wi[g];Wi[g++]=null;var F=Wi[g];if(Wi[g++]=null,_!==null&&D!==null){var ee=_.pending;ee===null?D.next=D:(D.next=ee.next,ee.next=D),_.pending=D}F!==0&&n3(v,D,F)}}function $b(f,g,v,_){Wi[mf++]=f,Wi[mf++]=g,Wi[mf++]=v,Wi[mf++]=_,Tk|=_,f.lanes|=_,f=f.alternate,f!==null&&(f.lanes|=_)}function Ck(f,g,v,_){return $b(f,g,v,_),Wb(f)}function gf(f,g){return $b(f,null,null,g),Wb(f)}function n3(f,g,v){f.lanes|=v;var _=f.alternate;_!==null&&(_.lanes|=v);for(var D=!1,F=f.return;F!==null;)F.childLanes|=v,_=F.alternate,_!==null&&(_.childLanes|=v),F.tag===22&&(f=F.stateNode,f===null||f._visibility&1||(D=!0)),f=F,F=F.return;return f.tag===3?(F=f.stateNode,D&&g!==null&&(D=31-vt(v),f=F.hiddenUpdates,_=f[D],_===null?f[D]=[g]:_.push(g),g.lane=v|536870912),F):null}function Wb(f){if(50<lg)throw lg=0,M_=null,Error(s(185));for(var g=f.return;g!==null;)f=g,g=f.return;return f.tag===3?f.stateNode:null}var pf={};function Dq(f,g,v,_){this.tag=f,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(f,g,v,_){return new Dq(f,g,v,_)}function Pk(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Hl(f,g){var v=f.alternate;return v===null?(v=xi(f.tag,g,f.key,f.mode),v.elementType=f.elementType,v.type=f.type,v.stateNode=f.stateNode,v.alternate=f,f.alternate=v):(v.pendingProps=g,v.type=f.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=f.flags&65011712,v.childLanes=f.childLanes,v.lanes=f.lanes,v.child=f.child,v.memoizedProps=f.memoizedProps,v.memoizedState=f.memoizedState,v.updateQueue=f.updateQueue,g=f.dependencies,v.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},v.sibling=f.sibling,v.index=f.index,v.ref=f.ref,v.refCleanup=f.refCleanup,v}function i3(f,g){f.flags&=65011714;var v=f.alternate;return v===null?(f.childLanes=0,f.lanes=g,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,g=v.dependencies,f.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),f}function qb(f,g,v,_,D,F){var ee=0;if(_=f,typeof f=="function")Pk(f)&&(ee=1);else if(typeof f=="string")ee=MG(f,v,J.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case P:return f=xi(31,v,g,D),f.elementType=P,f.lanes=F,f;case b:return yu(v.children,D,F,g);case x:ee=8,D|=24;break;case y:return f=xi(12,v,g,D|2),f.elementType=y,f.lanes=F,f;case E:return f=xi(13,v,g,D),f.elementType=E,f.lanes=F,f;case I:return f=xi(19,v,g,D),f.elementType=I,f.lanes=F,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case w:case N:ee=10;break e;case k:ee=9;break e;case T:ee=11;break e;case S:ee=14;break e;case A:ee=16,_=null;break e}ee=29,v=Error(s(130,f===null?"null":typeof f,"")),_=null}return g=xi(ee,v,g,D),g.elementType=f,g.type=_,g.lanes=F,g}function yu(f,g,v,_){return f=xi(7,f,_,g),f.lanes=v,f}function Rk(f,g,v){return f=xi(6,f,null,g),f.lanes=v,f}function Ik(f,g,v){return g=xi(4,f.children!==null?f.children:[],f.key,g),g.lanes=v,g.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},g}var xf=[],bf=0,Gb=null,Yb=0,qi=[],Gi=0,vu=null,$l=1,Wl="";function wu(f,g){xf[bf++]=Yb,xf[bf++]=Gb,Gb=f,Yb=g}function o3(f,g,v){qi[Gi++]=$l,qi[Gi++]=Wl,qi[Gi++]=vu,vu=f;var _=$l;f=Wl;var D=32-vt(_)-1;_&=~(1<<D),v+=1;var F=32-vt(g)+D;if(30<F){var ee=D-D%5;F=(_&(1<<ee)-1).toString(32),_>>=ee,D-=ee,$l=1<<32-vt(g)+D|v<<D|_,Wl=F+f}else $l=1<<F|v<<D|_,Wl=f}function Dk(f){f.return!==null&&(wu(f,1),o3(f,1,0))}function Ok(f){for(;f===Gb;)Gb=xf[--bf],xf[bf]=null,Yb=xf[--bf],xf[bf]=null;for(;f===vu;)vu=qi[--Gi],qi[Gi]=null,Wl=qi[--Gi],qi[Gi]=null,$l=qi[--Gi],qi[Gi]=null}var Ln=null,Qs=null,os=!1,ku=null,Jo=!1,Mk=Error(s(519));function _u(f){var g=Error(s(418,""));throw U0($i(g,f)),Mk}function l3(f){var g=f.stateNode,v=f.type,_=f.memoizedProps;switch(g[ss]=f,g[$r]=_,v){case"dialog":Ir("cancel",g),Ir("close",g);break;case"iframe":case"object":case"embed":Ir("load",g);break;case"video":case"audio":for(v=0;v<dg.length;v++)Ir(dg[v],g);break;case"source":Ir("error",g);break;case"img":case"image":case"link":Ir("error",g),Ir("load",g);break;case"details":Ir("toggle",g);break;case"input":Ir("invalid",g),ou(g,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0),tf(g);break;case"select":Ir("invalid",g);break;case"textarea":Ir("invalid",g),lu(g,_.value,_.defaultValue,_.children),tf(g)}v=_.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||g.textContent===""+v||_.suppressHydrationWarning===!0||SR(g.textContent,v)?(_.popover!=null&&(Ir("beforetoggle",g),Ir("toggle",g)),_.onScroll!=null&&Ir("scroll",g),_.onScrollEnd!=null&&Ir("scrollend",g),_.onClick!=null&&(g.onclick=Ay),g=!0):g=!1,g||_u(f)}function c3(f){for(Ln=f.return;Ln;)switch(Ln.tag){case 5:case 13:Jo=!1;return;case 27:case 3:Jo=!0;return;default:Ln=Ln.return}}function L0(f){if(f!==Ln)return!1;if(!os)return c3(f),os=!0,!1;var g=f.tag,v;if((v=g!==3&&g!==27)&&((v=g===5)&&(v=f.type,v=!(v!=="form"&&v!=="button")||Q_(f.type,f.memoizedProps)),v=!v),v&&Qs&&_u(f),c3(f),g===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));e:{for(f=f.nextSibling,g=0;f;){if(f.nodeType===8)if(v=f.data,v==="/$"){if(g===0){Qs=_o(f.nextSibling);break e}g--}else v!=="$"&&v!=="$!"&&v!=="$?"||g++;f=f.nextSibling}Qs=null}}else g===27?(g=Qs,rd(f.type)?(f=rN,rN=null,Qs=f):Qs=g):Qs=Ln?_o(f.stateNode.nextSibling):null;return!0}function B0(){Qs=Ln=null,os=!1}function d3(){var f=ku;return f!==null&&(ti===null?ti=f:ti.push.apply(ti,f),ku=null),f}function U0(f){ku===null?ku=[f]:ku.push(f)}var Fk=Q(null),Nu=null,ql=null;function zc(f,g,v){Z(Fk,g._currentValue),g._currentValue=v}function Gl(f){f._currentValue=Fk.current,q(Fk)}function Lk(f,g,v){for(;f!==null;){var _=f.alternate;if((f.childLanes&g)!==g?(f.childLanes|=g,_!==null&&(_.childLanes|=g)):_!==null&&(_.childLanes&g)!==g&&(_.childLanes|=g),f===v)break;f=f.return}}function Bk(f,g,v,_){var D=f.child;for(D!==null&&(D.return=f);D!==null;){var F=D.dependencies;if(F!==null){var ee=D.child;F=F.firstContext;e:for(;F!==null;){var ue=F;F=D;for(var Ae=0;Ae<g.length;Ae++)if(ue.context===g[Ae]){F.lanes|=v,ue=F.alternate,ue!==null&&(ue.lanes|=v),Lk(F.return,v,f),_||(ee=null);break e}F=ue.next}}else if(D.tag===18){if(ee=D.return,ee===null)throw Error(s(341));ee.lanes|=v,F=ee.alternate,F!==null&&(F.lanes|=v),Lk(ee,v,f),ee=null}else ee=D.child;if(ee!==null)ee.return=D;else for(ee=D;ee!==null;){if(ee===f){ee=null;break}if(D=ee.sibling,D!==null){D.return=ee.return,ee=D;break}ee=ee.return}D=ee}}function z0(f,g,v,_){f=null;for(var D=g,F=!1;D!==null;){if(!F){if((D.flags&524288)!==0)F=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var ee=D.alternate;if(ee===null)throw Error(s(387));if(ee=ee.memoizedProps,ee!==null){var ue=D.type;pi(D.pendingProps.value,ee.value)||(f!==null?f.push(ue):f=[ue])}}else if(D===Se.current){if(ee=D.alternate,ee===null)throw Error(s(387));ee.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(f!==null?f.push(pg):f=[pg])}D=D.return}f!==null&&Bk(g,f,v,_),g.flags|=262144}function Xb(f){for(f=f.firstContext;f!==null;){if(!pi(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function Su(f){Nu=f,ql=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function bn(f){return u3(Nu,f)}function Kb(f,g){return Nu===null&&Su(f),u3(f,g)}function u3(f,g){var v=g._currentValue;if(g={context:g,memoizedValue:v,next:null},ql===null){if(f===null)throw Error(s(308));ql=g,f.dependencies={lanes:0,firstContext:g},f.flags|=524288}else ql=ql.next=g;return v}var Oq=typeof AbortController<"u"?AbortController:function(){var f=[],g=this.signal={aborted:!1,addEventListener:function(v,_){f.push(_)}};this.abort=function(){g.aborted=!0,f.forEach(function(v){return v()})}},Mq=r.unstable_scheduleCallback,Fq=r.unstable_NormalPriority,Ma={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uk(){return{controller:new Oq,data:new Map,refCount:0}}function V0(f){f.refCount--,f.refCount===0&&Mq(Fq,function(){f.controller.abort()})}var H0=null,zk=0,yf=0,vf=null;function Lq(f,g){if(H0===null){var v=H0=[];zk=0,yf=H_(),vf={status:"pending",value:void 0,then:function(_){v.push(_)}}}return zk++,g.then(h3,h3),g}function h3(){if(--zk===0&&H0!==null){vf!==null&&(vf.status="fulfilled");var f=H0;H0=null,yf=0,vf=null;for(var g=0;g<f.length;g++)(0,f[g])()}}function Bq(f,g){var v=[],_={status:"pending",value:null,reason:null,then:function(D){v.push(D)}};return f.then(function(){_.status="fulfilled",_.value=g;for(var D=0;D<v.length;D++)(0,v[D])(g)},function(D){for(_.status="rejected",_.reason=D,D=0;D<v.length;D++)(0,v[D])(void 0)}),_}var f3=H.S;H.S=function(f,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&Lq(f,g),f3!==null&&f3(f,g)};var ju=Q(null);function Vk(){var f=ju.current;return f!==null?f:Ds.pooledCache}function Zb(f,g){g===null?Z(ju,ju.current):Z(ju,g.pool)}function m3(){var f=Vk();return f===null?null:{parent:Ma._currentValue,pool:f}}var $0=Error(s(460)),g3=Error(s(474)),Qb=Error(s(542)),Hk={then:function(){}};function p3(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Jb(){}function x3(f,g,v){switch(v=f[v],v===void 0?f.push(g):v!==g&&(g.then(Jb,Jb),g=v),g.status){case"fulfilled":return g.value;case"rejected":throw f=g.reason,y3(f),f;default:if(typeof g.status=="string")g.then(Jb,Jb);else{if(f=Ds,f!==null&&100<f.shellSuspendCounter)throw Error(s(482));f=g,f.status="pending",f.then(function(_){if(g.status==="pending"){var D=g;D.status="fulfilled",D.value=_}},function(_){if(g.status==="pending"){var D=g;D.status="rejected",D.reason=_}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw f=g.reason,y3(f),f}throw W0=g,$0}}var W0=null;function b3(){if(W0===null)throw Error(s(459));var f=W0;return W0=null,f}function y3(f){if(f===$0||f===Qb)throw Error(s(483))}var Vc=!1;function $k(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wk(f,g){f=f.updateQueue,g.updateQueue===f&&(g.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Hc(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function $c(f,g,v){var _=f.updateQueue;if(_===null)return null;if(_=_.shared,(ms&2)!==0){var D=_.pending;return D===null?g.next=g:(g.next=D.next,D.next=g),_.pending=g,g=Wb(f),n3(f,null,v),g}return $b(f,_,g,v),Wb(f)}function q0(f,g,v){if(g=g.updateQueue,g!==null&&(g=g.shared,(v&4194048)!==0)){var _=g.lanes;_&=f.pendingLanes,v|=_,g.lanes=v,qt(f,v)}}function qk(f,g){var v=f.updateQueue,_=f.alternate;if(_!==null&&(_=_.updateQueue,v===_)){var D=null,F=null;if(v=v.firstBaseUpdate,v!==null){do{var ee={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};F===null?D=F=ee:F=F.next=ee,v=v.next}while(v!==null);F===null?D=F=g:F=F.next=g}else D=F=g;v={baseState:_.baseState,firstBaseUpdate:D,lastBaseUpdate:F,shared:_.shared,callbacks:_.callbacks},f.updateQueue=v;return}f=v.lastBaseUpdate,f===null?v.firstBaseUpdate=g:f.next=g,v.lastBaseUpdate=g}var Gk=!1;function G0(){if(Gk){var f=vf;if(f!==null)throw f}}function Y0(f,g,v,_){Gk=!1;var D=f.updateQueue;Vc=!1;var F=D.firstBaseUpdate,ee=D.lastBaseUpdate,ue=D.shared.pending;if(ue!==null){D.shared.pending=null;var Ae=ue,$e=Ae.next;Ae.next=null,ee===null?F=$e:ee.next=$e,ee=Ae;var rt=f.alternate;rt!==null&&(rt=rt.updateQueue,ue=rt.lastBaseUpdate,ue!==ee&&(ue===null?rt.firstBaseUpdate=$e:ue.next=$e,rt.lastBaseUpdate=Ae))}if(F!==null){var lt=D.baseState;ee=0,rt=$e=Ae=null,ue=F;do{var We=ue.lane&-536870913,Ge=We!==ue.lane;if(Ge?(Yr&We)===We:(_&We)===We){We!==0&&We===yf&&(Gk=!0),rt!==null&&(rt=rt.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var rr=f,Kt=ue;We=g;var Ss=v;switch(Kt.tag){case 1:if(rr=Kt.payload,typeof rr=="function"){lt=rr.call(Ss,lt,We);break e}lt=rr;break e;case 3:rr.flags=rr.flags&-65537|128;case 0:if(rr=Kt.payload,We=typeof rr=="function"?rr.call(Ss,lt,We):rr,We==null)break e;lt=u({},lt,We);break e;case 2:Vc=!0}}We=ue.callback,We!==null&&(f.flags|=64,Ge&&(f.flags|=8192),Ge=D.callbacks,Ge===null?D.callbacks=[We]:Ge.push(We))}else Ge={lane:We,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},rt===null?($e=rt=Ge,Ae=lt):rt=rt.next=Ge,ee|=We;if(ue=ue.next,ue===null){if(ue=D.shared.pending,ue===null)break;Ge=ue,ue=Ge.next,Ge.next=null,D.lastBaseUpdate=Ge,D.shared.pending=null}}while(!0);rt===null&&(Ae=lt),D.baseState=Ae,D.firstBaseUpdate=$e,D.lastBaseUpdate=rt,F===null&&(D.shared.lanes=0),Qc|=ee,f.lanes=ee,f.memoizedState=lt}}function v3(f,g){if(typeof f!="function")throw Error(s(191,f));f.call(g)}function w3(f,g){var v=f.callbacks;if(v!==null)for(f.callbacks=null,f=0;f<v.length;f++)v3(v[f],g)}var wf=Q(null),ey=Q(0);function k3(f,g){f=ec,Z(ey,f),Z(wf,g),ec=f|g.baseLanes}function Yk(){Z(ey,ec),Z(wf,wf.current)}function Xk(){ec=ey.current,q(wf),q(ey)}var Wc=0,wr=null,_s=null,wa=null,ty=!1,kf=!1,Eu=!1,ry=0,X0=0,_f=null,Uq=0;function da(){throw Error(s(321))}function Kk(f,g){if(g===null)return!1;for(var v=0;v<g.length&&v<f.length;v++)if(!pi(f[v],g[v]))return!1;return!0}function Zk(f,g,v,_,D,F){return Wc=F,wr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,H.H=f===null||f.memoizedState===null?nP:iP,Eu=!1,F=v(_,D),Eu=!1,kf&&(F=N3(g,v,_,D)),_3(f),F}function _3(f){H.H=ly;var g=_s!==null&&_s.next!==null;if(Wc=0,wa=_s=wr=null,ty=!1,X0=0,_f=null,g)throw Error(s(300));f===null||qa||(f=f.dependencies,f!==null&&Xb(f)&&(qa=!0))}function N3(f,g,v,_){wr=f;var D=0;do{if(kf&&(_f=null),X0=0,kf=!1,25<=D)throw Error(s(301));if(D+=1,wa=_s=null,f.updateQueue!=null){var F=f.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}H.H=Gq,F=g(v,_)}while(kf);return F}function zq(){var f=H.H,g=f.useState()[0];return g=typeof g.then=="function"?K0(g):g,f=f.useState()[0],(_s!==null?_s.memoizedState:null)!==f&&(wr.flags|=1024),g}function Qk(){var f=ry!==0;return ry=0,f}function Jk(f,g,v){g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~v}function e_(f){if(ty){for(f=f.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}ty=!1}Wc=0,wa=_s=wr=null,kf=!1,X0=ry=0,_f=null}function Jn(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wa===null?wr.memoizedState=wa=f:wa=wa.next=f,wa}function ka(){if(_s===null){var f=wr.alternate;f=f!==null?f.memoizedState:null}else f=_s.next;var g=wa===null?wr.memoizedState:wa.next;if(g!==null)wa=g,_s=f;else{if(f===null)throw wr.alternate===null?Error(s(467)):Error(s(310));_s=f,f={memoizedState:_s.memoizedState,baseState:_s.baseState,baseQueue:_s.baseQueue,queue:_s.queue,next:null},wa===null?wr.memoizedState=wa=f:wa=wa.next=f}return wa}function t_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function K0(f){var g=X0;return X0+=1,_f===null&&(_f=[]),f=x3(_f,f,g),g=wr,(wa===null?g.memoizedState:wa.next)===null&&(g=g.alternate,H.H=g===null||g.memoizedState===null?nP:iP),f}function sy(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return K0(f);if(f.$$typeof===N)return bn(f)}throw Error(s(438,String(f)))}function r_(f){var g=null,v=wr.updateQueue;if(v!==null&&(g=v.memoCache),g==null){var _=wr.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(g={data:_.data.map(function(D){return D.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),v===null&&(v=t_(),wr.updateQueue=v),v.memoCache=g,v=g.data[g.index],v===void 0)for(v=g.data[g.index]=Array(f),_=0;_<f;_++)v[_]=O;return g.index++,v}function Yl(f,g){return typeof g=="function"?g(f):g}function ay(f){var g=ka();return s_(g,_s,f)}function s_(f,g,v){var _=f.queue;if(_===null)throw Error(s(311));_.lastRenderedReducer=v;var D=f.baseQueue,F=_.pending;if(F!==null){if(D!==null){var ee=D.next;D.next=F.next,F.next=ee}g.baseQueue=D=F,_.pending=null}if(F=f.baseState,D===null)f.memoizedState=F;else{g=D.next;var ue=ee=null,Ae=null,$e=g,rt=!1;do{var lt=$e.lane&-536870913;if(lt!==$e.lane?(Yr&lt)===lt:(Wc&lt)===lt){var We=$e.revertLane;if(We===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),lt===yf&&(rt=!0);else if((Wc&We)===We){$e=$e.next,We===yf&&(rt=!0);continue}else lt={lane:0,revertLane:$e.revertLane,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(ue=Ae=lt,ee=F):Ae=Ae.next=lt,wr.lanes|=We,Qc|=We;lt=$e.action,Eu&&v(F,lt),F=$e.hasEagerState?$e.eagerState:v(F,lt)}else We={lane:lt,revertLane:$e.revertLane,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(ue=Ae=We,ee=F):Ae=Ae.next=We,wr.lanes|=lt,Qc|=lt;$e=$e.next}while($e!==null&&$e!==g);if(Ae===null?ee=F:Ae.next=ue,!pi(F,f.memoizedState)&&(qa=!0,rt&&(v=vf,v!==null)))throw v;f.memoizedState=F,f.baseState=ee,f.baseQueue=Ae,_.lastRenderedState=F}return D===null&&(_.lanes=0),[f.memoizedState,_.dispatch]}function a_(f){var g=ka(),v=g.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=f;var _=v.dispatch,D=v.pending,F=g.memoizedState;if(D!==null){v.pending=null;var ee=D=D.next;do F=f(F,ee.action),ee=ee.next;while(ee!==D);pi(F,g.memoizedState)||(qa=!0),g.memoizedState=F,g.baseQueue===null&&(g.baseState=F),v.lastRenderedState=F}return[F,_]}function S3(f,g,v){var _=wr,D=ka(),F=os;if(F){if(v===void 0)throw Error(s(407));v=v()}else v=g();var ee=!pi((_s||D).memoizedState,v);ee&&(D.memoizedState=v,qa=!0),D=D.queue;var ue=A3.bind(null,_,D,f);if(Z0(2048,8,ue,[f]),D.getSnapshot!==g||ee||wa!==null&&wa.memoizedState.tag&1){if(_.flags|=2048,Nf(9,ny(),E3.bind(null,_,D,v,g),null),Ds===null)throw Error(s(349));F||(Wc&124)!==0||j3(_,g,v)}return v}function j3(f,g,v){f.flags|=16384,f={getSnapshot:g,value:v},g=wr.updateQueue,g===null?(g=t_(),wr.updateQueue=g,g.stores=[f]):(v=g.stores,v===null?g.stores=[f]:v.push(f))}function E3(f,g,v,_){g.value=v,g.getSnapshot=_,T3(g)&&C3(f)}function A3(f,g,v){return v(function(){T3(g)&&C3(f)})}function T3(f){var g=f.getSnapshot;f=f.value;try{var v=g();return!pi(f,v)}catch{return!0}}function C3(f){var g=gf(f,2);g!==null&&ki(g,f,2)}function n_(f){var g=Jn();if(typeof f=="function"){var v=f;if(f=v(),Eu){kt(!0);try{v()}finally{kt(!1)}}}return g.memoizedState=g.baseState=f,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:f},g}function P3(f,g,v,_){return f.baseState=v,s_(f,_s,typeof _=="function"?_:Yl)}function Vq(f,g,v,_,D){if(oy(f))throw Error(s(485));if(f=g.action,f!==null){var F={payload:D,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){F.listeners.push(ee)}};H.T!==null?v(!0):F.isTransition=!1,_(F),v=g.pending,v===null?(F.next=g.pending=F,R3(g,F)):(F.next=v.next,g.pending=v.next=F)}}function R3(f,g){var v=g.action,_=g.payload,D=f.state;if(g.isTransition){var F=H.T,ee={};H.T=ee;try{var ue=v(D,_),Ae=H.S;Ae!==null&&Ae(ee,ue),I3(f,g,ue)}catch($e){i_(f,g,$e)}finally{H.T=F}}else try{F=v(D,_),I3(f,g,F)}catch($e){i_(f,g,$e)}}function I3(f,g,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(_){D3(f,g,_)},function(_){return i_(f,g,_)}):D3(f,g,v)}function D3(f,g,v){g.status="fulfilled",g.value=v,O3(g),f.state=v,g=f.pending,g!==null&&(v=g.next,v===g?f.pending=null:(v=v.next,g.next=v,R3(f,v)))}function i_(f,g,v){var _=f.pending;if(f.pending=null,_!==null){_=_.next;do g.status="rejected",g.reason=v,O3(g),g=g.next;while(g!==_)}f.action=null}function O3(f){f=f.listeners;for(var g=0;g<f.length;g++)(0,f[g])()}function M3(f,g){return g}function F3(f,g){if(os){var v=Ds.formState;if(v!==null){e:{var _=wr;if(os){if(Qs){t:{for(var D=Qs,F=Jo;D.nodeType!==8;){if(!F){D=null;break t}if(D=_o(D.nextSibling),D===null){D=null;break t}}F=D.data,D=F==="F!"||F==="F"?D:null}if(D){Qs=_o(D.nextSibling),_=D.data==="F!";break e}}_u(_)}_=!1}_&&(g=v[0])}}return v=Jn(),v.memoizedState=v.baseState=g,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M3,lastRenderedState:g},v.queue=_,v=rP.bind(null,wr,_),_.dispatch=v,_=n_(!1),F=u_.bind(null,wr,!1,_.queue),_=Jn(),D={state:g,dispatch:null,action:f,pending:null},_.queue=D,v=Vq.bind(null,wr,D,F,v),D.dispatch=v,_.memoizedState=f,[g,v,!1]}function L3(f){var g=ka();return B3(g,_s,f)}function B3(f,g,v){if(g=s_(f,g,M3)[0],f=ay(Yl)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var _=K0(g)}catch(ee){throw ee===$0?Qb:ee}else _=g;g=ka();var D=g.queue,F=D.dispatch;return v!==g.memoizedState&&(wr.flags|=2048,Nf(9,ny(),Hq.bind(null,D,v),null)),[_,F,f]}function Hq(f,g){f.action=g}function U3(f){var g=ka(),v=_s;if(v!==null)return B3(g,v,f);ka(),g=g.memoizedState,v=ka();var _=v.queue.dispatch;return v.memoizedState=f,[g,_,!1]}function Nf(f,g,v,_){return f={tag:f,create:v,deps:_,inst:g,next:null},g=wr.updateQueue,g===null&&(g=t_(),wr.updateQueue=g),v=g.lastEffect,v===null?g.lastEffect=f.next=f:(_=v.next,v.next=f,f.next=_,g.lastEffect=f),f}function ny(){return{destroy:void 0,resource:void 0}}function z3(){return ka().memoizedState}function iy(f,g,v,_){var D=Jn();_=_===void 0?null:_,wr.flags|=f,D.memoizedState=Nf(1|g,ny(),v,_)}function Z0(f,g,v,_){var D=ka();_=_===void 0?null:_;var F=D.memoizedState.inst;_s!==null&&_!==null&&Kk(_,_s.memoizedState.deps)?D.memoizedState=Nf(g,F,v,_):(wr.flags|=f,D.memoizedState=Nf(1|g,F,v,_))}function V3(f,g){iy(8390656,8,f,g)}function H3(f,g){Z0(2048,8,f,g)}function $3(f,g){return Z0(4,2,f,g)}function W3(f,g){return Z0(4,4,f,g)}function q3(f,g){if(typeof g=="function"){f=f();var v=g(f);return function(){typeof v=="function"?v():g(null)}}if(g!=null)return f=f(),g.current=f,function(){g.current=null}}function G3(f,g,v){v=v!=null?v.concat([f]):null,Z0(4,4,q3.bind(null,g,f),v)}function o_(){}function Y3(f,g){var v=ka();g=g===void 0?null:g;var _=v.memoizedState;return g!==null&&Kk(g,_[1])?_[0]:(v.memoizedState=[f,g],f)}function X3(f,g){var v=ka();g=g===void 0?null:g;var _=v.memoizedState;if(g!==null&&Kk(g,_[1]))return _[0];if(_=f(),Eu){kt(!0);try{f()}finally{kt(!1)}}return v.memoizedState=[_,g],_}function l_(f,g,v){return v===void 0||(Wc&1073741824)!==0?f.memoizedState=g:(f.memoizedState=v,f=QP(),wr.lanes|=f,Qc|=f,v)}function K3(f,g,v,_){return pi(v,g)?v:wf.current!==null?(f=l_(f,v,_),pi(f,g)||(qa=!0),f):(Wc&42)===0?(qa=!0,f.memoizedState=v):(f=QP(),wr.lanes|=f,Qc|=f,g)}function Z3(f,g,v,_,D){var F=W.p;W.p=F!==0&&8>F?F:8;var ee=H.T,ue={};H.T=ue,u_(f,!1,g,v);try{var Ae=D(),$e=H.S;if($e!==null&&$e(ue,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var rt=Bq(Ae,_);Q0(f,g,rt,wi(f))}else Q0(f,g,_,wi(f))}catch(lt){Q0(f,g,{then:function(){},status:"rejected",reason:lt},wi())}finally{W.p=F,H.T=ee}}function $q(){}function c_(f,g,v,_){if(f.tag!==5)throw Error(s(476));var D=Q3(f).queue;Z3(f,D,g,ne,v===null?$q:function(){return J3(f),v(_)})}function Q3(f){var g=f.memoizedState;if(g!==null)return g;g={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:ne},next:null};var v={};return g.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:v},next:null},f.memoizedState=g,f=f.alternate,f!==null&&(f.memoizedState=g),g}function J3(f){var g=Q3(f).next.queue;Q0(f,g,{},wi())}function d_(){return bn(pg)}function eP(){return ka().memoizedState}function tP(){return ka().memoizedState}function Wq(f){for(var g=f.return;g!==null;){switch(g.tag){case 24:case 3:var v=wi();f=Hc(v);var _=$c(g,f,v);_!==null&&(ki(_,g,v),q0(_,g,v)),g={cache:Uk()},f.payload=g;return}g=g.return}}function qq(f,g,v){var _=wi();v={lane:_,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},oy(f)?sP(g,v):(v=Ck(f,g,v,_),v!==null&&(ki(v,f,_),aP(v,g,_)))}function rP(f,g,v){var _=wi();Q0(f,g,v,_)}function Q0(f,g,v,_){var D={lane:_,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(oy(f))sP(g,D);else{var F=f.alternate;if(f.lanes===0&&(F===null||F.lanes===0)&&(F=g.lastRenderedReducer,F!==null))try{var ee=g.lastRenderedState,ue=F(ee,v);if(D.hasEagerState=!0,D.eagerState=ue,pi(ue,ee))return $b(f,g,D,0),Ds===null&&Hb(),!1}catch{}finally{}if(v=Ck(f,g,D,_),v!==null)return ki(v,f,_),aP(v,g,_),!0}return!1}function u_(f,g,v,_){if(_={lane:2,revertLane:H_(),action:_,hasEagerState:!1,eagerState:null,next:null},oy(f)){if(g)throw Error(s(479))}else g=Ck(f,v,_,2),g!==null&&ki(g,f,2)}function oy(f){var g=f.alternate;return f===wr||g!==null&&g===wr}function sP(f,g){kf=ty=!0;var v=f.pending;v===null?g.next=g:(g.next=v.next,v.next=g),f.pending=g}function aP(f,g,v){if((v&4194048)!==0){var _=g.lanes;_&=f.pendingLanes,v|=_,g.lanes=v,qt(f,v)}}var ly={readContext:bn,use:sy,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useLayoutEffect:da,useInsertionEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useSyncExternalStore:da,useId:da,useHostTransitionStatus:da,useFormState:da,useActionState:da,useOptimistic:da,useMemoCache:da,useCacheRefresh:da},nP={readContext:bn,use:sy,useCallback:function(f,g){return Jn().memoizedState=[f,g===void 0?null:g],f},useContext:bn,useEffect:V3,useImperativeHandle:function(f,g,v){v=v!=null?v.concat([f]):null,iy(4194308,4,q3.bind(null,g,f),v)},useLayoutEffect:function(f,g){return iy(4194308,4,f,g)},useInsertionEffect:function(f,g){iy(4,2,f,g)},useMemo:function(f,g){var v=Jn();g=g===void 0?null:g;var _=f();if(Eu){kt(!0);try{f()}finally{kt(!1)}}return v.memoizedState=[_,g],_},useReducer:function(f,g,v){var _=Jn();if(v!==void 0){var D=v(g);if(Eu){kt(!0);try{v(g)}finally{kt(!1)}}}else D=g;return _.memoizedState=_.baseState=D,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:D},_.queue=f,f=f.dispatch=qq.bind(null,wr,f),[_.memoizedState,f]},useRef:function(f){var g=Jn();return f={current:f},g.memoizedState=f},useState:function(f){f=n_(f);var g=f.queue,v=rP.bind(null,wr,g);return g.dispatch=v,[f.memoizedState,v]},useDebugValue:o_,useDeferredValue:function(f,g){var v=Jn();return l_(v,f,g)},useTransition:function(){var f=n_(!1);return f=Z3.bind(null,wr,f.queue,!0,!1),Jn().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,g,v){var _=wr,D=Jn();if(os){if(v===void 0)throw Error(s(407));v=v()}else{if(v=g(),Ds===null)throw Error(s(349));(Yr&124)!==0||j3(_,g,v)}D.memoizedState=v;var F={value:v,getSnapshot:g};return D.queue=F,V3(A3.bind(null,_,F,f),[f]),_.flags|=2048,Nf(9,ny(),E3.bind(null,_,F,v,g),null),v},useId:function(){var f=Jn(),g=Ds.identifierPrefix;if(os){var v=Wl,_=$l;v=(_&~(1<<32-vt(_)-1)).toString(32)+v,g=""+g+"R"+v,v=ry++,0<v&&(g+="H"+v.toString(32)),g+=""}else v=Uq++,g=""+g+"r"+v.toString(32)+"";return f.memoizedState=g},useHostTransitionStatus:d_,useFormState:F3,useActionState:F3,useOptimistic:function(f){var g=Jn();g.memoizedState=g.baseState=f;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=v,g=u_.bind(null,wr,!0,v),v.dispatch=g,[f,g]},useMemoCache:r_,useCacheRefresh:function(){return Jn().memoizedState=Wq.bind(null,wr)}},iP={readContext:bn,use:sy,useCallback:Y3,useContext:bn,useEffect:H3,useImperativeHandle:G3,useInsertionEffect:$3,useLayoutEffect:W3,useMemo:X3,useReducer:ay,useRef:z3,useState:function(){return ay(Yl)},useDebugValue:o_,useDeferredValue:function(f,g){var v=ka();return K3(v,_s.memoizedState,f,g)},useTransition:function(){var f=ay(Yl)[0],g=ka().memoizedState;return[typeof f=="boolean"?f:K0(f),g]},useSyncExternalStore:S3,useId:eP,useHostTransitionStatus:d_,useFormState:L3,useActionState:L3,useOptimistic:function(f,g){var v=ka();return P3(v,_s,f,g)},useMemoCache:r_,useCacheRefresh:tP},Gq={readContext:bn,use:sy,useCallback:Y3,useContext:bn,useEffect:H3,useImperativeHandle:G3,useInsertionEffect:$3,useLayoutEffect:W3,useMemo:X3,useReducer:a_,useRef:z3,useState:function(){return a_(Yl)},useDebugValue:o_,useDeferredValue:function(f,g){var v=ka();return _s===null?l_(v,f,g):K3(v,_s.memoizedState,f,g)},useTransition:function(){var f=a_(Yl)[0],g=ka().memoizedState;return[typeof f=="boolean"?f:K0(f),g]},useSyncExternalStore:S3,useId:eP,useHostTransitionStatus:d_,useFormState:U3,useActionState:U3,useOptimistic:function(f,g){var v=ka();return _s!==null?P3(v,_s,f,g):(v.baseState=f,[f,v.queue.dispatch])},useMemoCache:r_,useCacheRefresh:tP},Sf=null,J0=0;function cy(f){var g=J0;return J0+=1,Sf===null&&(Sf=[]),x3(Sf,f,g)}function eg(f,g){g=g.props.ref,f.ref=g!==void 0?g:null}function dy(f,g){throw g.$$typeof===h?Error(s(525)):(f=Object.prototype.toString.call(g),Error(s(31,f==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":f)))}function oP(f){var g=f._init;return g(f._payload)}function lP(f){function g(Le,Re){if(f){var He=Le.deletions;He===null?(Le.deletions=[Re],Le.flags|=16):He.push(Re)}}function v(Le,Re){if(!f)return null;for(;Re!==null;)g(Le,Re),Re=Re.sibling;return null}function _(Le){for(var Re=new Map;Le!==null;)Le.key!==null?Re.set(Le.key,Le):Re.set(Le.index,Le),Le=Le.sibling;return Re}function D(Le,Re){return Le=Hl(Le,Re),Le.index=0,Le.sibling=null,Le}function F(Le,Re,He){return Le.index=He,f?(He=Le.alternate,He!==null?(He=He.index,He<Re?(Le.flags|=67108866,Re):He):(Le.flags|=67108866,Re)):(Le.flags|=1048576,Re)}function ee(Le){return f&&Le.alternate===null&&(Le.flags|=67108866),Le}function ue(Le,Re,He,nt){return Re===null||Re.tag!==6?(Re=Rk(He,Le.mode,nt),Re.return=Le,Re):(Re=D(Re,He),Re.return=Le,Re)}function Ae(Le,Re,He,nt){var Ut=He.type;return Ut===b?rt(Le,Re,He.props.children,nt,He.key):Re!==null&&(Re.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===A&&oP(Ut)===Re.type)?(Re=D(Re,He.props),eg(Re,He),Re.return=Le,Re):(Re=qb(He.type,He.key,He.props,null,Le.mode,nt),eg(Re,He),Re.return=Le,Re)}function $e(Le,Re,He,nt){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==He.containerInfo||Re.stateNode.implementation!==He.implementation?(Re=Ik(He,Le.mode,nt),Re.return=Le,Re):(Re=D(Re,He.children||[]),Re.return=Le,Re)}function rt(Le,Re,He,nt,Ut){return Re===null||Re.tag!==7?(Re=yu(He,Le.mode,nt,Ut),Re.return=Le,Re):(Re=D(Re,He),Re.return=Le,Re)}function lt(Le,Re,He){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=Rk(""+Re,Le.mode,He),Re.return=Le,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case m:return He=qb(Re.type,Re.key,Re.props,null,Le.mode,He),eg(He,Re),He.return=Le,He;case p:return Re=Ik(Re,Le.mode,He),Re.return=Le,Re;case A:var nt=Re._init;return Re=nt(Re._payload),lt(Le,Re,He)}if(X(Re)||L(Re))return Re=yu(Re,Le.mode,He,null),Re.return=Le,Re;if(typeof Re.then=="function")return lt(Le,cy(Re),He);if(Re.$$typeof===N)return lt(Le,Kb(Le,Re),He);dy(Le,Re)}return null}function We(Le,Re,He,nt){var Ut=Re!==null?Re.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Ut!==null?null:ue(Le,Re,""+He,nt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case m:return He.key===Ut?Ae(Le,Re,He,nt):null;case p:return He.key===Ut?$e(Le,Re,He,nt):null;case A:return Ut=He._init,He=Ut(He._payload),We(Le,Re,He,nt)}if(X(He)||L(He))return Ut!==null?null:rt(Le,Re,He,nt,null);if(typeof He.then=="function")return We(Le,Re,cy(He),nt);if(He.$$typeof===N)return We(Le,Re,Kb(Le,He),nt);dy(Le,He)}return null}function Ge(Le,Re,He,nt,Ut){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Le=Le.get(He)||null,ue(Re,Le,""+nt,Ut);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case m:return Le=Le.get(nt.key===null?He:nt.key)||null,Ae(Re,Le,nt,Ut);case p:return Le=Le.get(nt.key===null?He:nt.key)||null,$e(Re,Le,nt,Ut);case A:var Tr=nt._init;return nt=Tr(nt._payload),Ge(Le,Re,He,nt,Ut)}if(X(nt)||L(nt))return Le=Le.get(He)||null,rt(Re,Le,nt,Ut,null);if(typeof nt.then=="function")return Ge(Le,Re,He,cy(nt),Ut);if(nt.$$typeof===N)return Ge(Le,Re,He,Kb(Re,nt),Ut);dy(Re,nt)}return null}function rr(Le,Re,He,nt){for(var Ut=null,Tr=null,Vt=Re,Qt=Re=0,Ya=null;Vt!==null&&Qt<He.length;Qt++){Vt.index>Qt?(Ya=Vt,Vt=null):Ya=Vt.sibling;var as=We(Le,Vt,He[Qt],nt);if(as===null){Vt===null&&(Vt=Ya);break}f&&Vt&&as.alternate===null&&g(Le,Vt),Re=F(as,Re,Qt),Tr===null?Ut=as:Tr.sibling=as,Tr=as,Vt=Ya}if(Qt===He.length)return v(Le,Vt),os&&wu(Le,Qt),Ut;if(Vt===null){for(;Qt<He.length;Qt++)Vt=lt(Le,He[Qt],nt),Vt!==null&&(Re=F(Vt,Re,Qt),Tr===null?Ut=Vt:Tr.sibling=Vt,Tr=Vt);return os&&wu(Le,Qt),Ut}for(Vt=_(Vt);Qt<He.length;Qt++)Ya=Ge(Vt,Le,Qt,He[Qt],nt),Ya!==null&&(f&&Ya.alternate!==null&&Vt.delete(Ya.key===null?Qt:Ya.key),Re=F(Ya,Re,Qt),Tr===null?Ut=Ya:Tr.sibling=Ya,Tr=Ya);return f&&Vt.forEach(function(od){return g(Le,od)}),os&&wu(Le,Qt),Ut}function Kt(Le,Re,He,nt){if(He==null)throw Error(s(151));for(var Ut=null,Tr=null,Vt=Re,Qt=Re=0,Ya=null,as=He.next();Vt!==null&&!as.done;Qt++,as=He.next()){Vt.index>Qt?(Ya=Vt,Vt=null):Ya=Vt.sibling;var od=We(Le,Vt,as.value,nt);if(od===null){Vt===null&&(Vt=Ya);break}f&&Vt&&od.alternate===null&&g(Le,Vt),Re=F(od,Re,Qt),Tr===null?Ut=od:Tr.sibling=od,Tr=od,Vt=Ya}if(as.done)return v(Le,Vt),os&&wu(Le,Qt),Ut;if(Vt===null){for(;!as.done;Qt++,as=He.next())as=lt(Le,as.value,nt),as!==null&&(Re=F(as,Re,Qt),Tr===null?Ut=as:Tr.sibling=as,Tr=as);return os&&wu(Le,Qt),Ut}for(Vt=_(Vt);!as.done;Qt++,as=He.next())as=Ge(Vt,Le,Qt,as.value,nt),as!==null&&(f&&as.alternate!==null&&Vt.delete(as.key===null?Qt:as.key),Re=F(as,Re,Qt),Tr===null?Ut=as:Tr.sibling=as,Tr=as);return f&&Vt.forEach(function(YG){return g(Le,YG)}),os&&wu(Le,Qt),Ut}function Ss(Le,Re,He,nt){if(typeof He=="object"&&He!==null&&He.type===b&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case m:e:{for(var Ut=He.key;Re!==null;){if(Re.key===Ut){if(Ut=He.type,Ut===b){if(Re.tag===7){v(Le,Re.sibling),nt=D(Re,He.props.children),nt.return=Le,Le=nt;break e}}else if(Re.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===A&&oP(Ut)===Re.type){v(Le,Re.sibling),nt=D(Re,He.props),eg(nt,He),nt.return=Le,Le=nt;break e}v(Le,Re);break}else g(Le,Re);Re=Re.sibling}He.type===b?(nt=yu(He.props.children,Le.mode,nt,He.key),nt.return=Le,Le=nt):(nt=qb(He.type,He.key,He.props,null,Le.mode,nt),eg(nt,He),nt.return=Le,Le=nt)}return ee(Le);case p:e:{for(Ut=He.key;Re!==null;){if(Re.key===Ut)if(Re.tag===4&&Re.stateNode.containerInfo===He.containerInfo&&Re.stateNode.implementation===He.implementation){v(Le,Re.sibling),nt=D(Re,He.children||[]),nt.return=Le,Le=nt;break e}else{v(Le,Re);break}else g(Le,Re);Re=Re.sibling}nt=Ik(He,Le.mode,nt),nt.return=Le,Le=nt}return ee(Le);case A:return Ut=He._init,He=Ut(He._payload),Ss(Le,Re,He,nt)}if(X(He))return rr(Le,Re,He,nt);if(L(He)){if(Ut=L(He),typeof Ut!="function")throw Error(s(150));return He=Ut.call(He),Kt(Le,Re,He,nt)}if(typeof He.then=="function")return Ss(Le,Re,cy(He),nt);if(He.$$typeof===N)return Ss(Le,Re,Kb(Le,He),nt);dy(Le,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Re!==null&&Re.tag===6?(v(Le,Re.sibling),nt=D(Re,He),nt.return=Le,Le=nt):(v(Le,Re),nt=Rk(He,Le.mode,nt),nt.return=Le,Le=nt),ee(Le)):v(Le,Re)}return function(Le,Re,He,nt){try{J0=0;var Ut=Ss(Le,Re,He,nt);return Sf=null,Ut}catch(Vt){if(Vt===$0||Vt===Qb)throw Vt;var Tr=xi(29,Vt,null,Le.mode);return Tr.lanes=nt,Tr.return=Le,Tr}finally{}}}var jf=lP(!0),cP=lP(!1),Yi=Q(null),el=null;function qc(f){var g=f.alternate;Z(Fa,Fa.current&1),Z(Yi,f),el===null&&(g===null||wf.current!==null||g.memoizedState!==null)&&(el=f)}function dP(f){if(f.tag===22){if(Z(Fa,Fa.current),Z(Yi,f),el===null){var g=f.alternate;g!==null&&g.memoizedState!==null&&(el=f)}}else Gc()}function Gc(){Z(Fa,Fa.current),Z(Yi,Yi.current)}function Xl(f){q(Yi),el===f&&(el=null),q(Fa)}var Fa=Q(0);function uy(f){for(var g=f;g!==null;){if(g.tag===13){var v=g.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||tN(v)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function h_(f,g,v,_){g=f.memoizedState,v=v(_,g),v=v==null?g:u({},g,v),f.memoizedState=v,f.lanes===0&&(f.updateQueue.baseState=v)}var f_={enqueueSetState:function(f,g,v){f=f._reactInternals;var _=wi(),D=Hc(_);D.payload=g,v!=null&&(D.callback=v),g=$c(f,D,_),g!==null&&(ki(g,f,_),q0(g,f,_))},enqueueReplaceState:function(f,g,v){f=f._reactInternals;var _=wi(),D=Hc(_);D.tag=1,D.payload=g,v!=null&&(D.callback=v),g=$c(f,D,_),g!==null&&(ki(g,f,_),q0(g,f,_))},enqueueForceUpdate:function(f,g){f=f._reactInternals;var v=wi(),_=Hc(v);_.tag=2,g!=null&&(_.callback=g),g=$c(f,_,v),g!==null&&(ki(g,f,v),q0(g,f,v))}};function uP(f,g,v,_,D,F,ee){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(_,F,ee):g.prototype&&g.prototype.isPureReactComponent?!M0(v,_)||!M0(D,F):!0}function hP(f,g,v,_){f=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(v,_),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(v,_),g.state!==f&&f_.enqueueReplaceState(g,g.state,null)}function Au(f,g){var v=g;if("ref"in g){v={};for(var _ in g)_!=="ref"&&(v[_]=g[_])}if(f=f.defaultProps){v===g&&(v=u({},v));for(var D in f)v[D]===void 0&&(v[D]=f[D])}return v}var hy=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function fP(f){hy(f)}function mP(f){console.error(f)}function gP(f){hy(f)}function fy(f,g){try{var v=f.onUncaughtError;v(g.value,{componentStack:g.stack})}catch(_){setTimeout(function(){throw _})}}function pP(f,g,v){try{var _=f.onCaughtError;_(v.value,{componentStack:v.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function m_(f,g,v){return v=Hc(v),v.tag=3,v.payload={element:null},v.callback=function(){fy(f,g)},v}function xP(f){return f=Hc(f),f.tag=3,f}function bP(f,g,v,_){var D=v.type.getDerivedStateFromError;if(typeof D=="function"){var F=_.value;f.payload=function(){return D(F)},f.callback=function(){pP(g,v,_)}}var ee=v.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(f.callback=function(){pP(g,v,_),typeof D!="function"&&(Jc===null?Jc=new Set([this]):Jc.add(this));var ue=_.stack;this.componentDidCatch(_.value,{componentStack:ue!==null?ue:""})})}function Yq(f,g,v,_,D){if(v.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(g=v.alternate,g!==null&&z0(g,v,D,!0),v=Yi.current,v!==null){switch(v.tag){case 13:return el===null?L_():v.alternate===null&&Js===0&&(Js=3),v.flags&=-257,v.flags|=65536,v.lanes=D,_===Hk?v.flags|=16384:(g=v.updateQueue,g===null?v.updateQueue=new Set([_]):g.add(_),U_(f,_,D)),!1;case 22:return v.flags|=65536,_===Hk?v.flags|=16384:(g=v.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([_])},v.updateQueue=g):(v=g.retryQueue,v===null?g.retryQueue=new Set([_]):v.add(_)),U_(f,_,D)),!1}throw Error(s(435,v.tag))}return U_(f,_,D),L_(),!1}if(os)return g=Yi.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=D,_!==Mk&&(f=Error(s(422),{cause:_}),U0($i(f,v)))):(_!==Mk&&(g=Error(s(423),{cause:_}),U0($i(g,v))),f=f.current.alternate,f.flags|=65536,D&=-D,f.lanes|=D,_=$i(_,v),D=m_(f.stateNode,_,D),qk(f,D),Js!==4&&(Js=2)),!1;var F=Error(s(520),{cause:_});if(F=$i(F,v),og===null?og=[F]:og.push(F),Js!==4&&(Js=2),g===null)return!0;_=$i(_,v),v=g;do{switch(v.tag){case 3:return v.flags|=65536,f=D&-D,v.lanes|=f,f=m_(v.stateNode,_,f),qk(v,f),!1;case 1:if(g=v.type,F=v.stateNode,(v.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Jc===null||!Jc.has(F))))return v.flags|=65536,D&=-D,v.lanes|=D,D=xP(D),bP(D,f,v,_),qk(v,D),!1}v=v.return}while(v!==null);return!1}var yP=Error(s(461)),qa=!1;function sn(f,g,v,_){g.child=f===null?cP(g,null,v,_):jf(g,f.child,v,_)}function vP(f,g,v,_,D){v=v.render;var F=g.ref;if("ref"in _){var ee={};for(var ue in _)ue!=="ref"&&(ee[ue]=_[ue])}else ee=_;return Su(g),_=Zk(f,g,v,ee,F,D),ue=Qk(),f!==null&&!qa?(Jk(f,g,D),Kl(f,g,D)):(os&&ue&&Dk(g),g.flags|=1,sn(f,g,_,D),g.child)}function wP(f,g,v,_,D){if(f===null){var F=v.type;return typeof F=="function"&&!Pk(F)&&F.defaultProps===void 0&&v.compare===null?(g.tag=15,g.type=F,kP(f,g,F,_,D)):(f=qb(v.type,null,_,g,g.mode,D),f.ref=g.ref,f.return=g,g.child=f)}if(F=f.child,!k_(f,D)){var ee=F.memoizedProps;if(v=v.compare,v=v!==null?v:M0,v(ee,_)&&f.ref===g.ref)return Kl(f,g,D)}return g.flags|=1,f=Hl(F,_),f.ref=g.ref,f.return=g,g.child=f}function kP(f,g,v,_,D){if(f!==null){var F=f.memoizedProps;if(M0(F,_)&&f.ref===g.ref)if(qa=!1,g.pendingProps=_=F,k_(f,D))(f.flags&131072)!==0&&(qa=!0);else return g.lanes=f.lanes,Kl(f,g,D)}return g_(f,g,v,_,D)}function _P(f,g,v){var _=g.pendingProps,D=_.children,F=f!==null?f.memoizedState:null;if(_.mode==="hidden"){if((g.flags&128)!==0){if(_=F!==null?F.baseLanes|v:v,f!==null){for(D=g.child=f.child,F=0;D!==null;)F=F|D.lanes|D.childLanes,D=D.sibling;g.childLanes=F&~_}else g.childLanes=0,g.child=null;return NP(f,g,_,v)}if((v&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},f!==null&&Zb(g,F!==null?F.cachePool:null),F!==null?k3(g,F):Yk(),dP(g);else return g.lanes=g.childLanes=536870912,NP(f,g,F!==null?F.baseLanes|v:v,v)}else F!==null?(Zb(g,F.cachePool),k3(g,F),Gc(),g.memoizedState=null):(f!==null&&Zb(g,null),Yk(),Gc());return sn(f,g,D,v),g.child}function NP(f,g,v,_){var D=Vk();return D=D===null?null:{parent:Ma._currentValue,pool:D},g.memoizedState={baseLanes:v,cachePool:D},f!==null&&Zb(g,null),Yk(),dP(g),f!==null&&z0(f,g,_,!0),null}function my(f,g){var v=g.ref;if(v===null)f!==null&&f.ref!==null&&(g.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(s(284));(f===null||f.ref!==v)&&(g.flags|=4194816)}}function g_(f,g,v,_,D){return Su(g),v=Zk(f,g,v,_,void 0,D),_=Qk(),f!==null&&!qa?(Jk(f,g,D),Kl(f,g,D)):(os&&_&&Dk(g),g.flags|=1,sn(f,g,v,D),g.child)}function SP(f,g,v,_,D,F){return Su(g),g.updateQueue=null,v=N3(g,_,v,D),_3(f),_=Qk(),f!==null&&!qa?(Jk(f,g,F),Kl(f,g,F)):(os&&_&&Dk(g),g.flags|=1,sn(f,g,v,F),g.child)}function jP(f,g,v,_,D){if(Su(g),g.stateNode===null){var F=pf,ee=v.contextType;typeof ee=="object"&&ee!==null&&(F=bn(ee)),F=new v(_,F),g.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=f_,g.stateNode=F,F._reactInternals=g,F=g.stateNode,F.props=_,F.state=g.memoizedState,F.refs={},$k(g),ee=v.contextType,F.context=typeof ee=="object"&&ee!==null?bn(ee):pf,F.state=g.memoizedState,ee=v.getDerivedStateFromProps,typeof ee=="function"&&(h_(g,v,ee,_),F.state=g.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(ee=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),ee!==F.state&&f_.enqueueReplaceState(F,F.state,null),Y0(g,_,F,D),G0(),F.state=g.memoizedState),typeof F.componentDidMount=="function"&&(g.flags|=4194308),_=!0}else if(f===null){F=g.stateNode;var ue=g.memoizedProps,Ae=Au(v,ue);F.props=Ae;var $e=F.context,rt=v.contextType;ee=pf,typeof rt=="object"&&rt!==null&&(ee=bn(rt));var lt=v.getDerivedStateFromProps;rt=typeof lt=="function"||typeof F.getSnapshotBeforeUpdate=="function",ue=g.pendingProps!==ue,rt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ue||$e!==ee)&&hP(g,F,_,ee),Vc=!1;var We=g.memoizedState;F.state=We,Y0(g,_,F,D),G0(),$e=g.memoizedState,ue||We!==$e||Vc?(typeof lt=="function"&&(h_(g,v,lt,_),$e=g.memoizedState),(Ae=Vc||uP(g,v,Ae,_,We,$e,ee))?(rt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(g.flags|=4194308)):(typeof F.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=_,g.memoizedState=$e),F.props=_,F.state=$e,F.context=ee,_=Ae):(typeof F.componentDidMount=="function"&&(g.flags|=4194308),_=!1)}else{F=g.stateNode,Wk(f,g),ee=g.memoizedProps,rt=Au(v,ee),F.props=rt,lt=g.pendingProps,We=F.context,$e=v.contextType,Ae=pf,typeof $e=="object"&&$e!==null&&(Ae=bn($e)),ue=v.getDerivedStateFromProps,($e=typeof ue=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ee!==lt||We!==Ae)&&hP(g,F,_,Ae),Vc=!1,We=g.memoizedState,F.state=We,Y0(g,_,F,D),G0();var Ge=g.memoizedState;ee!==lt||We!==Ge||Vc||f!==null&&f.dependencies!==null&&Xb(f.dependencies)?(typeof ue=="function"&&(h_(g,v,ue,_),Ge=g.memoizedState),(rt=Vc||uP(g,v,rt,_,We,Ge,Ae)||f!==null&&f.dependencies!==null&&Xb(f.dependencies))?($e||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(_,Ge,Ae),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(_,Ge,Ae)),typeof F.componentDidUpdate=="function"&&(g.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof F.componentDidUpdate!="function"||ee===f.memoizedProps&&We===f.memoizedState||(g.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ee===f.memoizedProps&&We===f.memoizedState||(g.flags|=1024),g.memoizedProps=_,g.memoizedState=Ge),F.props=_,F.state=Ge,F.context=Ae,_=rt):(typeof F.componentDidUpdate!="function"||ee===f.memoizedProps&&We===f.memoizedState||(g.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ee===f.memoizedProps&&We===f.memoizedState||(g.flags|=1024),_=!1)}return F=_,my(f,g),_=(g.flags&128)!==0,F||_?(F=g.stateNode,v=_&&typeof v.getDerivedStateFromError!="function"?null:F.render(),g.flags|=1,f!==null&&_?(g.child=jf(g,f.child,null,D),g.child=jf(g,null,v,D)):sn(f,g,v,D),g.memoizedState=F.state,f=g.child):f=Kl(f,g,D),f}function EP(f,g,v,_){return B0(),g.flags|=256,sn(f,g,v,_),g.child}var p_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function x_(f){return{baseLanes:f,cachePool:m3()}}function b_(f,g,v){return f=f!==null?f.childLanes&~v:0,g&&(f|=Xi),f}function AP(f,g,v){var _=g.pendingProps,D=!1,F=(g.flags&128)!==0,ee;if((ee=F)||(ee=f!==null&&f.memoizedState===null?!1:(Fa.current&2)!==0),ee&&(D=!0,g.flags&=-129),ee=(g.flags&32)!==0,g.flags&=-33,f===null){if(os){if(D?qc(g):Gc(),os){var ue=Qs,Ae;if(Ae=ue){e:{for(Ae=ue,ue=Jo;Ae.nodeType!==8;){if(!ue){ue=null;break e}if(Ae=_o(Ae.nextSibling),Ae===null){ue=null;break e}}ue=Ae}ue!==null?(g.memoizedState={dehydrated:ue,treeContext:vu!==null?{id:$l,overflow:Wl}:null,retryLane:536870912,hydrationErrors:null},Ae=xi(18,null,null,0),Ae.stateNode=ue,Ae.return=g,g.child=Ae,Ln=g,Qs=null,Ae=!0):Ae=!1}Ae||_u(g)}if(ue=g.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null))return tN(ue)?g.lanes=32:g.lanes=536870912,null;Xl(g)}return ue=_.children,_=_.fallback,D?(Gc(),D=g.mode,ue=gy({mode:"hidden",children:ue},D),_=yu(_,D,v,null),ue.return=g,_.return=g,ue.sibling=_,g.child=ue,D=g.child,D.memoizedState=x_(v),D.childLanes=b_(f,ee,v),g.memoizedState=p_,_):(qc(g),y_(g,ue))}if(Ae=f.memoizedState,Ae!==null&&(ue=Ae.dehydrated,ue!==null)){if(F)g.flags&256?(qc(g),g.flags&=-257,g=v_(f,g,v)):g.memoizedState!==null?(Gc(),g.child=f.child,g.flags|=128,g=null):(Gc(),D=_.fallback,ue=g.mode,_=gy({mode:"visible",children:_.children},ue),D=yu(D,ue,v,null),D.flags|=2,_.return=g,D.return=g,_.sibling=D,g.child=_,jf(g,f.child,null,v),_=g.child,_.memoizedState=x_(v),_.childLanes=b_(f,ee,v),g.memoizedState=p_,g=D);else if(qc(g),tN(ue)){if(ee=ue.nextSibling&&ue.nextSibling.dataset,ee)var $e=ee.dgst;ee=$e,_=Error(s(419)),_.stack="",_.digest=ee,U0({value:_,source:null,stack:null}),g=v_(f,g,v)}else if(qa||z0(f,g,v,!1),ee=(v&f.childLanes)!==0,qa||ee){if(ee=Ds,ee!==null&&(_=v&-v,_=(_&42)!==0?1:Pr(_),_=(_&(ee.suspendedLanes|v))!==0?0:_,_!==0&&_!==Ae.retryLane))throw Ae.retryLane=_,gf(f,_),ki(ee,f,_),yP;ue.data==="$?"||L_(),g=v_(f,g,v)}else ue.data==="$?"?(g.flags|=192,g.child=f.child,g=null):(f=Ae.treeContext,Qs=_o(ue.nextSibling),Ln=g,os=!0,ku=null,Jo=!1,f!==null&&(qi[Gi++]=$l,qi[Gi++]=Wl,qi[Gi++]=vu,$l=f.id,Wl=f.overflow,vu=g),g=y_(g,_.children),g.flags|=4096);return g}return D?(Gc(),D=_.fallback,ue=g.mode,Ae=f.child,$e=Ae.sibling,_=Hl(Ae,{mode:"hidden",children:_.children}),_.subtreeFlags=Ae.subtreeFlags&65011712,$e!==null?D=Hl($e,D):(D=yu(D,ue,v,null),D.flags|=2),D.return=g,_.return=g,_.sibling=D,g.child=_,_=D,D=g.child,ue=f.child.memoizedState,ue===null?ue=x_(v):(Ae=ue.cachePool,Ae!==null?($e=Ma._currentValue,Ae=Ae.parent!==$e?{parent:$e,pool:$e}:Ae):Ae=m3(),ue={baseLanes:ue.baseLanes|v,cachePool:Ae}),D.memoizedState=ue,D.childLanes=b_(f,ee,v),g.memoizedState=p_,_):(qc(g),v=f.child,f=v.sibling,v=Hl(v,{mode:"visible",children:_.children}),v.return=g,v.sibling=null,f!==null&&(ee=g.deletions,ee===null?(g.deletions=[f],g.flags|=16):ee.push(f)),g.child=v,g.memoizedState=null,v)}function y_(f,g){return g=gy({mode:"visible",children:g},f.mode),g.return=f,f.child=g}function gy(f,g){return f=xi(22,f,null,g),f.lanes=0,f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},f}function v_(f,g,v){return jf(g,f.child,null,v),f=y_(g,g.pendingProps.children),f.flags|=2,g.memoizedState=null,f}function TP(f,g,v){f.lanes|=g;var _=f.alternate;_!==null&&(_.lanes|=g),Lk(f.return,g,v)}function w_(f,g,v,_,D){var F=f.memoizedState;F===null?f.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:_,tail:v,tailMode:D}:(F.isBackwards=g,F.rendering=null,F.renderingStartTime=0,F.last=_,F.tail=v,F.tailMode=D)}function CP(f,g,v){var _=g.pendingProps,D=_.revealOrder,F=_.tail;if(sn(f,g,_.children,v),_=Fa.current,(_&2)!==0)_=_&1|2,g.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=g.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&TP(f,v,g);else if(f.tag===19)TP(f,v,g);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===g)break e;for(;f.sibling===null;){if(f.return===null||f.return===g)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}_&=1}switch(Z(Fa,_),D){case"forwards":for(v=g.child,D=null;v!==null;)f=v.alternate,f!==null&&uy(f)===null&&(D=v),v=v.sibling;v=D,v===null?(D=g.child,g.child=null):(D=v.sibling,v.sibling=null),w_(g,!1,D,v,F);break;case"backwards":for(v=null,D=g.child,g.child=null;D!==null;){if(f=D.alternate,f!==null&&uy(f)===null){g.child=D;break}f=D.sibling,D.sibling=v,v=D,D=f}w_(g,!0,v,null,F);break;case"together":w_(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Kl(f,g,v){if(f!==null&&(g.dependencies=f.dependencies),Qc|=g.lanes,(v&g.childLanes)===0)if(f!==null){if(z0(f,g,v,!1),(v&g.childLanes)===0)return null}else return null;if(f!==null&&g.child!==f.child)throw Error(s(153));if(g.child!==null){for(f=g.child,v=Hl(f,f.pendingProps),g.child=v,v.return=g;f.sibling!==null;)f=f.sibling,v=v.sibling=Hl(f,f.pendingProps),v.return=g;v.sibling=null}return g.child}function k_(f,g){return(f.lanes&g)!==0?!0:(f=f.dependencies,!!(f!==null&&Xb(f)))}function Xq(f,g,v){switch(g.tag){case 3:je(g,g.stateNode.containerInfo),zc(g,Ma,f.memoizedState.cache),B0();break;case 27:case 5:xe(g);break;case 4:je(g,g.stateNode.containerInfo);break;case 10:zc(g,g.type,g.memoizedProps.value);break;case 13:var _=g.memoizedState;if(_!==null)return _.dehydrated!==null?(qc(g),g.flags|=128,null):(v&g.child.childLanes)!==0?AP(f,g,v):(qc(g),f=Kl(f,g,v),f!==null?f.sibling:null);qc(g);break;case 19:var D=(f.flags&128)!==0;if(_=(v&g.childLanes)!==0,_||(z0(f,g,v,!1),_=(v&g.childLanes)!==0),D){if(_)return CP(f,g,v);g.flags|=128}if(D=g.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Z(Fa,Fa.current),_)break;return null;case 22:case 23:return g.lanes=0,_P(f,g,v);case 24:zc(g,Ma,f.memoizedState.cache)}return Kl(f,g,v)}function PP(f,g,v){if(f!==null)if(f.memoizedProps!==g.pendingProps)qa=!0;else{if(!k_(f,v)&&(g.flags&128)===0)return qa=!1,Xq(f,g,v);qa=(f.flags&131072)!==0}else qa=!1,os&&(g.flags&1048576)!==0&&o3(g,Yb,g.index);switch(g.lanes=0,g.tag){case 16:e:{f=g.pendingProps;var _=g.elementType,D=_._init;if(_=D(_._payload),g.type=_,typeof _=="function")Pk(_)?(f=Au(_,f),g.tag=1,g=jP(null,g,_,f,v)):(g.tag=0,g=g_(null,g,_,f,v));else{if(_!=null){if(D=_.$$typeof,D===T){g.tag=11,g=vP(null,g,_,f,v);break e}else if(D===S){g.tag=14,g=wP(null,g,_,f,v);break e}}throw g=G(_)||_,Error(s(306,g,""))}}return g;case 0:return g_(f,g,g.type,g.pendingProps,v);case 1:return _=g.type,D=Au(_,g.pendingProps),jP(f,g,_,D,v);case 3:e:{if(je(g,g.stateNode.containerInfo),f===null)throw Error(s(387));_=g.pendingProps;var F=g.memoizedState;D=F.element,Wk(f,g),Y0(g,_,null,v);var ee=g.memoizedState;if(_=ee.cache,zc(g,Ma,_),_!==F.cache&&Bk(g,[Ma],v,!0),G0(),_=ee.element,F.isDehydrated)if(F={element:_,isDehydrated:!1,cache:ee.cache},g.updateQueue.baseState=F,g.memoizedState=F,g.flags&256){g=EP(f,g,_,v);break e}else if(_!==D){D=$i(Error(s(424)),g),U0(D),g=EP(f,g,_,v);break e}else{switch(f=g.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(Qs=_o(f.firstChild),Ln=g,os=!0,ku=null,Jo=!0,v=cP(g,null,_,v),g.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(B0(),_===D){g=Kl(f,g,v);break e}sn(f,g,_,v)}g=g.child}return g;case 26:return my(f,g),f===null?(v=OR(g.type,null,g.pendingProps,null))?g.memoizedState=v:os||(v=g.type,f=g.pendingProps,_=Ty(de.current).createElement(v),_[ss]=g,_[$r]=f,nn(_,v,f),pe(_),g.stateNode=_):g.memoizedState=OR(g.type,f.memoizedProps,g.pendingProps,f.memoizedState),null;case 27:return xe(g),f===null&&os&&(_=g.stateNode=RR(g.type,g.pendingProps,de.current),Ln=g,Jo=!0,D=Qs,rd(g.type)?(rN=D,Qs=_o(_.firstChild)):Qs=D),sn(f,g,g.pendingProps.children,v),my(f,g),f===null&&(g.flags|=4194304),g.child;case 5:return f===null&&os&&((D=_=Qs)&&(_=_G(_,g.type,g.pendingProps,Jo),_!==null?(g.stateNode=_,Ln=g,Qs=_o(_.firstChild),Jo=!1,D=!0):D=!1),D||_u(g)),xe(g),D=g.type,F=g.pendingProps,ee=f!==null?f.memoizedProps:null,_=F.children,Q_(D,F)?_=null:ee!==null&&Q_(D,ee)&&(g.flags|=32),g.memoizedState!==null&&(D=Zk(f,g,zq,null,null,v),pg._currentValue=D),my(f,g),sn(f,g,_,v),g.child;case 6:return f===null&&os&&((f=v=Qs)&&(v=NG(v,g.pendingProps,Jo),v!==null?(g.stateNode=v,Ln=g,Qs=null,f=!0):f=!1),f||_u(g)),null;case 13:return AP(f,g,v);case 4:return je(g,g.stateNode.containerInfo),_=g.pendingProps,f===null?g.child=jf(g,null,_,v):sn(f,g,_,v),g.child;case 11:return vP(f,g,g.type,g.pendingProps,v);case 7:return sn(f,g,g.pendingProps,v),g.child;case 8:return sn(f,g,g.pendingProps.children,v),g.child;case 12:return sn(f,g,g.pendingProps.children,v),g.child;case 10:return _=g.pendingProps,zc(g,g.type,_.value),sn(f,g,_.children,v),g.child;case 9:return D=g.type._context,_=g.pendingProps.children,Su(g),D=bn(D),_=_(D),g.flags|=1,sn(f,g,_,v),g.child;case 14:return wP(f,g,g.type,g.pendingProps,v);case 15:return kP(f,g,g.type,g.pendingProps,v);case 19:return CP(f,g,v);case 31:return _=g.pendingProps,v=g.mode,_={mode:_.mode,children:_.children},f===null?(v=gy(_,v),v.ref=g.ref,g.child=v,v.return=g,g=v):(v=Hl(f.child,_),v.ref=g.ref,g.child=v,v.return=g,g=v),g;case 22:return _P(f,g,v);case 24:return Su(g),_=bn(Ma),f===null?(D=Vk(),D===null&&(D=Ds,F=Uk(),D.pooledCache=F,F.refCount++,F!==null&&(D.pooledCacheLanes|=v),D=F),g.memoizedState={parent:_,cache:D},$k(g),zc(g,Ma,D)):((f.lanes&v)!==0&&(Wk(f,g),Y0(g,null,null,v),G0()),D=f.memoizedState,F=g.memoizedState,D.parent!==_?(D={parent:_,cache:_},g.memoizedState=D,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=D),zc(g,Ma,_)):(_=F.cache,zc(g,Ma,_),_!==D.cache&&Bk(g,[Ma],v,!0))),sn(f,g,g.pendingProps.children,v),g.child;case 29:throw g.pendingProps}throw Error(s(156,g.tag))}function Zl(f){f.flags|=4}function RP(f,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!UR(g)){if(g=Yi.current,g!==null&&((Yr&4194048)===Yr?el!==null:(Yr&62914560)!==Yr&&(Yr&536870912)===0||g!==el))throw W0=Hk,g3;f.flags|=8192}}function py(f,g){g!==null&&(f.flags|=4),f.flags&16384&&(g=f.tag!==22?xr():536870912,f.lanes|=g,Cf|=g)}function tg(f,g){if(!os)switch(f.tailMode){case"hidden":g=f.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?f.tail=null:v.sibling=null;break;case"collapsed":v=f.tail;for(var _=null;v!==null;)v.alternate!==null&&(_=v),v=v.sibling;_===null?g||f.tail===null?f.tail=null:f.tail.sibling=null:_.sibling=null}}function Ws(f){var g=f.alternate!==null&&f.alternate.child===f.child,v=0,_=0;if(g)for(var D=f.child;D!==null;)v|=D.lanes|D.childLanes,_|=D.subtreeFlags&65011712,_|=D.flags&65011712,D.return=f,D=D.sibling;else for(D=f.child;D!==null;)v|=D.lanes|D.childLanes,_|=D.subtreeFlags,_|=D.flags,D.return=f,D=D.sibling;return f.subtreeFlags|=_,f.childLanes=v,g}function Kq(f,g,v){var _=g.pendingProps;switch(Ok(g),g.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(g),null;case 1:return Ws(g),null;case 3:return v=g.stateNode,_=null,f!==null&&(_=f.memoizedState.cache),g.memoizedState.cache!==_&&(g.flags|=2048),Gl(Ma),Ne(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(f===null||f.child===null)&&(L0(g)?Zl(g):f===null||f.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,d3())),Ws(g),null;case 26:return v=g.memoizedState,f===null?(Zl(g),v!==null?(Ws(g),RP(g,v)):(Ws(g),g.flags&=-16777217)):v?v!==f.memoizedState?(Zl(g),Ws(g),RP(g,v)):(Ws(g),g.flags&=-16777217):(f.memoizedProps!==_&&Zl(g),Ws(g),g.flags&=-16777217),null;case 27:ze(g),v=de.current;var D=g.type;if(f!==null&&g.stateNode!=null)f.memoizedProps!==_&&Zl(g);else{if(!_){if(g.stateNode===null)throw Error(s(166));return Ws(g),null}f=J.current,L0(g)?l3(g):(f=RR(D,_,v),g.stateNode=f,Zl(g))}return Ws(g),null;case 5:if(ze(g),v=g.type,f!==null&&g.stateNode!=null)f.memoizedProps!==_&&Zl(g);else{if(!_){if(g.stateNode===null)throw Error(s(166));return Ws(g),null}if(f=J.current,L0(g))l3(g);else{switch(D=Ty(de.current),f){case 1:f=D.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:f=D.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":f=D.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":f=D.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":f=D.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof _.is=="string"?D.createElement("select",{is:_.is}):D.createElement("select"),_.multiple?f.multiple=!0:_.size&&(f.size=_.size);break;default:f=typeof _.is=="string"?D.createElement(v,{is:_.is}):D.createElement(v)}}f[ss]=g,f[$r]=_;e:for(D=g.child;D!==null;){if(D.tag===5||D.tag===6)f.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===g)break e;for(;D.sibling===null;){if(D.return===null||D.return===g)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}g.stateNode=f;e:switch(nn(f,v,_),v){case"button":case"input":case"select":case"textarea":f=!!_.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Zl(g)}}return Ws(g),g.flags&=-16777217,null;case 6:if(f&&g.stateNode!=null)f.memoizedProps!==_&&Zl(g);else{if(typeof _!="string"&&g.stateNode===null)throw Error(s(166));if(f=de.current,L0(g)){if(f=g.stateNode,v=g.memoizedProps,_=null,D=Ln,D!==null)switch(D.tag){case 27:case 5:_=D.memoizedProps}f[ss]=g,f=!!(f.nodeValue===v||_!==null&&_.suppressHydrationWarning===!0||SR(f.nodeValue,v)),f||_u(g)}else f=Ty(f).createTextNode(_),f[ss]=g,g.stateNode=f}return Ws(g),null;case 13:if(_=g.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(D=L0(g),_!==null&&_.dehydrated!==null){if(f===null){if(!D)throw Error(s(318));if(D=g.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(s(317));D[ss]=g}else B0(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Ws(g),D=!1}else D=d3(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=D),D=!0;if(!D)return g.flags&256?(Xl(g),g):(Xl(g),null)}if(Xl(g),(g.flags&128)!==0)return g.lanes=v,g;if(v=_!==null,f=f!==null&&f.memoizedState!==null,v){_=g.child,D=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(D=_.alternate.memoizedState.cachePool.pool);var F=null;_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(F=_.memoizedState.cachePool.pool),F!==D&&(_.flags|=2048)}return v!==f&&v&&(g.child.flags|=8192),py(g,g.updateQueue),Ws(g),null;case 4:return Ne(),f===null&&G_(g.stateNode.containerInfo),Ws(g),null;case 10:return Gl(g.type),Ws(g),null;case 19:if(q(Fa),D=g.memoizedState,D===null)return Ws(g),null;if(_=(g.flags&128)!==0,F=D.rendering,F===null)if(_)tg(D,!1);else{if(Js!==0||f!==null&&(f.flags&128)!==0)for(f=g.child;f!==null;){if(F=uy(f),F!==null){for(g.flags|=128,tg(D,!1),f=F.updateQueue,g.updateQueue=f,py(g,f),g.subtreeFlags=0,f=v,v=g.child;v!==null;)i3(v,f),v=v.sibling;return Z(Fa,Fa.current&1|2),g.child}f=f.sibling}D.tail!==null&&Ue()>yy&&(g.flags|=128,_=!0,tg(D,!1),g.lanes=4194304)}else{if(!_)if(f=uy(F),f!==null){if(g.flags|=128,_=!0,f=f.updateQueue,g.updateQueue=f,py(g,f),tg(D,!0),D.tail===null&&D.tailMode==="hidden"&&!F.alternate&&!os)return Ws(g),null}else 2*Ue()-D.renderingStartTime>yy&&v!==536870912&&(g.flags|=128,_=!0,tg(D,!1),g.lanes=4194304);D.isBackwards?(F.sibling=g.child,g.child=F):(f=D.last,f!==null?f.sibling=F:g.child=F,D.last=F)}return D.tail!==null?(g=D.tail,D.rendering=g,D.tail=g.sibling,D.renderingStartTime=Ue(),g.sibling=null,f=Fa.current,Z(Fa,_?f&1|2:f&1),g):(Ws(g),null);case 22:case 23:return Xl(g),Xk(),_=g.memoizedState!==null,f!==null?f.memoizedState!==null!==_&&(g.flags|=8192):_&&(g.flags|=8192),_?(v&536870912)!==0&&(g.flags&128)===0&&(Ws(g),g.subtreeFlags&6&&(g.flags|=8192)):Ws(g),v=g.updateQueue,v!==null&&py(g,v.retryQueue),v=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),_=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),_!==v&&(g.flags|=2048),f!==null&&q(ju),null;case 24:return v=null,f!==null&&(v=f.memoizedState.cache),g.memoizedState.cache!==v&&(g.flags|=2048),Gl(Ma),Ws(g),null;case 25:return null;case 30:return null}throw Error(s(156,g.tag))}function Zq(f,g){switch(Ok(g),g.tag){case 1:return f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 3:return Gl(Ma),Ne(),f=g.flags,(f&65536)!==0&&(f&128)===0?(g.flags=f&-65537|128,g):null;case 26:case 27:case 5:return ze(g),null;case 13:if(Xl(g),f=g.memoizedState,f!==null&&f.dehydrated!==null){if(g.alternate===null)throw Error(s(340));B0()}return f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 19:return q(Fa),null;case 4:return Ne(),null;case 10:return Gl(g.type),null;case 22:case 23:return Xl(g),Xk(),f!==null&&q(ju),f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 24:return Gl(Ma),null;case 25:return null;default:return null}}function IP(f,g){switch(Ok(g),g.tag){case 3:Gl(Ma),Ne();break;case 26:case 27:case 5:ze(g);break;case 4:Ne();break;case 13:Xl(g);break;case 19:q(Fa);break;case 10:Gl(g.type);break;case 22:case 23:Xl(g),Xk(),f!==null&&q(ju);break;case 24:Gl(Ma)}}function rg(f,g){try{var v=g.updateQueue,_=v!==null?v.lastEffect:null;if(_!==null){var D=_.next;v=D;do{if((v.tag&f)===f){_=void 0;var F=v.create,ee=v.inst;_=F(),ee.destroy=_}v=v.next}while(v!==D)}}catch(ue){Rs(g,g.return,ue)}}function Yc(f,g,v){try{var _=g.updateQueue,D=_!==null?_.lastEffect:null;if(D!==null){var F=D.next;_=F;do{if((_.tag&f)===f){var ee=_.inst,ue=ee.destroy;if(ue!==void 0){ee.destroy=void 0,D=g;var Ae=v,$e=ue;try{$e()}catch(rt){Rs(D,Ae,rt)}}}_=_.next}while(_!==F)}}catch(rt){Rs(g,g.return,rt)}}function DP(f){var g=f.updateQueue;if(g!==null){var v=f.stateNode;try{w3(g,v)}catch(_){Rs(f,f.return,_)}}}function OP(f,g,v){v.props=Au(f.type,f.memoizedProps),v.state=f.memoizedState;try{v.componentWillUnmount()}catch(_){Rs(f,g,_)}}function sg(f,g){try{var v=f.ref;if(v!==null){switch(f.tag){case 26:case 27:case 5:var _=f.stateNode;break;case 30:_=f.stateNode;break;default:_=f.stateNode}typeof v=="function"?f.refCleanup=v(_):v.current=_}}catch(D){Rs(f,g,D)}}function tl(f,g){var v=f.ref,_=f.refCleanup;if(v!==null)if(typeof _=="function")try{_()}catch(D){Rs(f,g,D)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(D){Rs(f,g,D)}else v.current=null}function MP(f){var g=f.type,v=f.memoizedProps,_=f.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":v.autoFocus&&_.focus();break e;case"img":v.src?_.src=v.src:v.srcSet&&(_.srcset=v.srcSet)}}catch(D){Rs(f,f.return,D)}}function __(f,g,v){try{var _=f.stateNode;bG(_,f.type,v,g),_[$r]=g}catch(D){Rs(f,f.return,D)}}function FP(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&rd(f.type)||f.tag===4}function N_(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||FP(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&rd(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function S_(f,g,v){var _=f.tag;if(_===5||_===6)f=f.stateNode,g?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(f,g):(g=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,g.appendChild(f),v=v._reactRootContainer,v!=null||g.onclick!==null||(g.onclick=Ay));else if(_!==4&&(_===27&&rd(f.type)&&(v=f.stateNode,g=null),f=f.child,f!==null))for(S_(f,g,v),f=f.sibling;f!==null;)S_(f,g,v),f=f.sibling}function xy(f,g,v){var _=f.tag;if(_===5||_===6)f=f.stateNode,g?v.insertBefore(f,g):v.appendChild(f);else if(_!==4&&(_===27&&rd(f.type)&&(v=f.stateNode),f=f.child,f!==null))for(xy(f,g,v),f=f.sibling;f!==null;)xy(f,g,v),f=f.sibling}function LP(f){var g=f.stateNode,v=f.memoizedProps;try{for(var _=f.type,D=g.attributes;D.length;)g.removeAttributeNode(D[0]);nn(g,_,v),g[ss]=f,g[$r]=v}catch(F){Rs(f,f.return,F)}}var Ql=!1,ua=!1,j_=!1,BP=typeof WeakSet=="function"?WeakSet:Set,Ga=null;function Qq(f,g){if(f=f.containerInfo,K_=Oy,f=K4(f),Nk(f)){if("selectionStart"in f)var v={start:f.selectionStart,end:f.selectionEnd};else e:{v=(v=f.ownerDocument)&&v.defaultView||window;var _=v.getSelection&&v.getSelection();if(_&&_.rangeCount!==0){v=_.anchorNode;var D=_.anchorOffset,F=_.focusNode;_=_.focusOffset;try{v.nodeType,F.nodeType}catch{v=null;break e}var ee=0,ue=-1,Ae=-1,$e=0,rt=0,lt=f,We=null;t:for(;;){for(var Ge;lt!==v||D!==0&&lt.nodeType!==3||(ue=ee+D),lt!==F||_!==0&&lt.nodeType!==3||(Ae=ee+_),lt.nodeType===3&&(ee+=lt.nodeValue.length),(Ge=lt.firstChild)!==null;)We=lt,lt=Ge;for(;;){if(lt===f)break t;if(We===v&&++$e===D&&(ue=ee),We===F&&++rt===_&&(Ae=ee),(Ge=lt.nextSibling)!==null)break;lt=We,We=lt.parentNode}lt=Ge}v=ue===-1||Ae===-1?null:{start:ue,end:Ae}}else v=null}v=v||{start:0,end:0}}else v=null;for(Z_={focusedElem:f,selectionRange:v},Oy=!1,Ga=g;Ga!==null;)if(g=Ga,f=g.child,(g.subtreeFlags&1024)!==0&&f!==null)f.return=g,Ga=f;else for(;Ga!==null;){switch(g=Ga,F=g.alternate,f=g.flags,g.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&F!==null){f=void 0,v=g,D=F.memoizedProps,F=F.memoizedState,_=v.stateNode;try{var rr=Au(v.type,D,v.elementType===v.type);f=_.getSnapshotBeforeUpdate(rr,F),_.__reactInternalSnapshotBeforeUpdate=f}catch(Kt){Rs(v,v.return,Kt)}}break;case 3:if((f&1024)!==0){if(f=g.stateNode.containerInfo,v=f.nodeType,v===9)eN(f);else if(v===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":eN(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(s(163))}if(f=g.sibling,f!==null){f.return=g.return,Ga=f;break}Ga=g.return}}function UP(f,g,v){var _=v.flags;switch(v.tag){case 0:case 11:case 15:Xc(f,v),_&4&&rg(5,v);break;case 1:if(Xc(f,v),_&4)if(f=v.stateNode,g===null)try{f.componentDidMount()}catch(ee){Rs(v,v.return,ee)}else{var D=Au(v.type,g.memoizedProps);g=g.memoizedState;try{f.componentDidUpdate(D,g,f.__reactInternalSnapshotBeforeUpdate)}catch(ee){Rs(v,v.return,ee)}}_&64&&DP(v),_&512&&sg(v,v.return);break;case 3:if(Xc(f,v),_&64&&(f=v.updateQueue,f!==null)){if(g=null,v.child!==null)switch(v.child.tag){case 27:case 5:g=v.child.stateNode;break;case 1:g=v.child.stateNode}try{w3(f,g)}catch(ee){Rs(v,v.return,ee)}}break;case 27:g===null&&_&4&&LP(v);case 26:case 5:Xc(f,v),g===null&&_&4&&MP(v),_&512&&sg(v,v.return);break;case 12:Xc(f,v);break;case 13:Xc(f,v),_&4&&HP(f,v),_&64&&(f=v.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(v=oG.bind(null,v),SG(f,v))));break;case 22:if(_=v.memoizedState!==null||Ql,!_){g=g!==null&&g.memoizedState!==null||ua,D=Ql;var F=ua;Ql=_,(ua=g)&&!F?Kc(f,v,(v.subtreeFlags&8772)!==0):Xc(f,v),Ql=D,ua=F}break;case 30:break;default:Xc(f,v)}}function zP(f){var g=f.alternate;g!==null&&(f.alternate=null,zP(g)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(g=f.stateNode,g!==null&&oe(g)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var Hs=null,ei=!1;function Jl(f,g,v){for(v=v.child;v!==null;)VP(f,g,v),v=v.sibling}function VP(f,g,v){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Qe,v)}catch{}switch(v.tag){case 26:ua||tl(v,g),Jl(f,g,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:ua||tl(v,g);var _=Hs,D=ei;rd(v.type)&&(Hs=v.stateNode,ei=!1),Jl(f,g,v),hg(v.stateNode),Hs=_,ei=D;break;case 5:ua||tl(v,g);case 6:if(_=Hs,D=ei,Hs=null,Jl(f,g,v),Hs=_,ei=D,Hs!==null)if(ei)try{(Hs.nodeType===9?Hs.body:Hs.nodeName==="HTML"?Hs.ownerDocument.body:Hs).removeChild(v.stateNode)}catch(F){Rs(v,g,F)}else try{Hs.removeChild(v.stateNode)}catch(F){Rs(v,g,F)}break;case 18:Hs!==null&&(ei?(f=Hs,CR(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,v.stateNode),vg(f)):CR(Hs,v.stateNode));break;case 4:_=Hs,D=ei,Hs=v.stateNode.containerInfo,ei=!0,Jl(f,g,v),Hs=_,ei=D;break;case 0:case 11:case 14:case 15:ua||Yc(2,v,g),ua||Yc(4,v,g),Jl(f,g,v);break;case 1:ua||(tl(v,g),_=v.stateNode,typeof _.componentWillUnmount=="function"&&OP(v,g,_)),Jl(f,g,v);break;case 21:Jl(f,g,v);break;case 22:ua=(_=ua)||v.memoizedState!==null,Jl(f,g,v),ua=_;break;default:Jl(f,g,v)}}function HP(f,g){if(g.memoizedState===null&&(f=g.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{vg(f)}catch(v){Rs(g,g.return,v)}}function Jq(f){switch(f.tag){case 13:case 19:var g=f.stateNode;return g===null&&(g=f.stateNode=new BP),g;case 22:return f=f.stateNode,g=f._retryCache,g===null&&(g=f._retryCache=new BP),g;default:throw Error(s(435,f.tag))}}function E_(f,g){var v=Jq(f);g.forEach(function(_){var D=lG.bind(null,f,_);v.has(_)||(v.add(_),_.then(D,D))})}function bi(f,g){var v=g.deletions;if(v!==null)for(var _=0;_<v.length;_++){var D=v[_],F=f,ee=g,ue=ee;e:for(;ue!==null;){switch(ue.tag){case 27:if(rd(ue.type)){Hs=ue.stateNode,ei=!1;break e}break;case 5:Hs=ue.stateNode,ei=!1;break e;case 3:case 4:Hs=ue.stateNode.containerInfo,ei=!0;break e}ue=ue.return}if(Hs===null)throw Error(s(160));VP(F,ee,D),Hs=null,ei=!1,F=D.alternate,F!==null&&(F.return=null),D.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)$P(g,f),g=g.sibling}var ko=null;function $P(f,g){var v=f.alternate,_=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:bi(g,f),yi(f),_&4&&(Yc(3,f,f.return),rg(3,f),Yc(5,f,f.return));break;case 1:bi(g,f),yi(f),_&512&&(ua||v===null||tl(v,v.return)),_&64&&Ql&&(f=f.updateQueue,f!==null&&(_=f.callbacks,_!==null&&(v=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=v===null?_:v.concat(_))));break;case 26:var D=ko;if(bi(g,f),yi(f),_&512&&(ua||v===null||tl(v,v.return)),_&4){var F=v!==null?v.memoizedState:null;if(_=f.memoizedState,v===null)if(_===null)if(f.stateNode===null){e:{_=f.type,v=f.memoizedProps,D=D.ownerDocument||D;t:switch(_){case"title":F=D.getElementsByTagName("title")[0],(!F||F[ce]||F[ss]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=D.createElement(_),D.head.insertBefore(F,D.querySelector("head > title"))),nn(F,_,v),F[ss]=f,pe(F),_=F;break e;case"link":var ee=LR("link","href",D).get(_+(v.href||""));if(ee){for(var ue=0;ue<ee.length;ue++)if(F=ee[ue],F.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&F.getAttribute("rel")===(v.rel==null?null:v.rel)&&F.getAttribute("title")===(v.title==null?null:v.title)&&F.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){ee.splice(ue,1);break t}}F=D.createElement(_),nn(F,_,v),D.head.appendChild(F);break;case"meta":if(ee=LR("meta","content",D).get(_+(v.content||""))){for(ue=0;ue<ee.length;ue++)if(F=ee[ue],F.getAttribute("content")===(v.content==null?null:""+v.content)&&F.getAttribute("name")===(v.name==null?null:v.name)&&F.getAttribute("property")===(v.property==null?null:v.property)&&F.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&F.getAttribute("charset")===(v.charSet==null?null:v.charSet)){ee.splice(ue,1);break t}}F=D.createElement(_),nn(F,_,v),D.head.appendChild(F);break;default:throw Error(s(468,_))}F[ss]=f,pe(F),_=F}f.stateNode=_}else BR(D,f.type,f.stateNode);else f.stateNode=FR(D,_,f.memoizedProps);else F!==_?(F===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):F.count--,_===null?BR(D,f.type,f.stateNode):FR(D,_,f.memoizedProps)):_===null&&f.stateNode!==null&&__(f,f.memoizedProps,v.memoizedProps)}break;case 27:bi(g,f),yi(f),_&512&&(ua||v===null||tl(v,v.return)),v!==null&&_&4&&__(f,f.memoizedProps,v.memoizedProps);break;case 5:if(bi(g,f),yi(f),_&512&&(ua||v===null||tl(v,v.return)),f.flags&32){D=f.stateNode;try{Ui(D,"")}catch(Ge){Rs(f,f.return,Ge)}}_&4&&f.stateNode!=null&&(D=f.memoizedProps,__(f,D,v!==null?v.memoizedProps:D)),_&1024&&(j_=!0);break;case 6:if(bi(g,f),yi(f),_&4){if(f.stateNode===null)throw Error(s(162));_=f.memoizedProps,v=f.stateNode;try{v.nodeValue=_}catch(Ge){Rs(f,f.return,Ge)}}break;case 3:if(Ry=null,D=ko,ko=Cy(g.containerInfo),bi(g,f),ko=D,yi(f),_&4&&v!==null&&v.memoizedState.isDehydrated)try{vg(g.containerInfo)}catch(Ge){Rs(f,f.return,Ge)}j_&&(j_=!1,WP(f));break;case 4:_=ko,ko=Cy(f.stateNode.containerInfo),bi(g,f),yi(f),ko=_;break;case 12:bi(g,f),yi(f);break;case 13:bi(g,f),yi(f),f.child.flags&8192&&f.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(I_=Ue()),_&4&&(_=f.updateQueue,_!==null&&(f.updateQueue=null,E_(f,_)));break;case 22:D=f.memoizedState!==null;var Ae=v!==null&&v.memoizedState!==null,$e=Ql,rt=ua;if(Ql=$e||D,ua=rt||Ae,bi(g,f),ua=rt,Ql=$e,yi(f),_&8192)e:for(g=f.stateNode,g._visibility=D?g._visibility&-2:g._visibility|1,D&&(v===null||Ae||Ql||ua||Tu(f)),v=null,g=f;;){if(g.tag===5||g.tag===26){if(v===null){Ae=v=g;try{if(F=Ae.stateNode,D)ee=F.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{ue=Ae.stateNode;var lt=Ae.memoizedProps.style,We=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;ue.style.display=We==null||typeof We=="boolean"?"":(""+We).trim()}}catch(Ge){Rs(Ae,Ae.return,Ge)}}}else if(g.tag===6){if(v===null){Ae=g;try{Ae.stateNode.nodeValue=D?"":Ae.memoizedProps}catch(Ge){Rs(Ae,Ae.return,Ge)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===f)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break e;for(;g.sibling===null;){if(g.return===null||g.return===f)break e;v===g&&(v=null),g=g.return}v===g&&(v=null),g.sibling.return=g.return,g=g.sibling}_&4&&(_=f.updateQueue,_!==null&&(v=_.retryQueue,v!==null&&(_.retryQueue=null,E_(f,v))));break;case 19:bi(g,f),yi(f),_&4&&(_=f.updateQueue,_!==null&&(f.updateQueue=null,E_(f,_)));break;case 30:break;case 21:break;default:bi(g,f),yi(f)}}function yi(f){var g=f.flags;if(g&2){try{for(var v,_=f.return;_!==null;){if(FP(_)){v=_;break}_=_.return}if(v==null)throw Error(s(160));switch(v.tag){case 27:var D=v.stateNode,F=N_(f);xy(f,F,D);break;case 5:var ee=v.stateNode;v.flags&32&&(Ui(ee,""),v.flags&=-33);var ue=N_(f);xy(f,ue,ee);break;case 3:case 4:var Ae=v.stateNode.containerInfo,$e=N_(f);S_(f,$e,Ae);break;default:throw Error(s(161))}}catch(rt){Rs(f,f.return,rt)}f.flags&=-3}g&4096&&(f.flags&=-4097)}function WP(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var g=f;WP(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),f=f.sibling}}function Xc(f,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)UP(f,g.alternate,g),g=g.sibling}function Tu(f){for(f=f.child;f!==null;){var g=f;switch(g.tag){case 0:case 11:case 14:case 15:Yc(4,g,g.return),Tu(g);break;case 1:tl(g,g.return);var v=g.stateNode;typeof v.componentWillUnmount=="function"&&OP(g,g.return,v),Tu(g);break;case 27:hg(g.stateNode);case 26:case 5:tl(g,g.return),Tu(g);break;case 22:g.memoizedState===null&&Tu(g);break;case 30:Tu(g);break;default:Tu(g)}f=f.sibling}}function Kc(f,g,v){for(v=v&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var _=g.alternate,D=f,F=g,ee=F.flags;switch(F.tag){case 0:case 11:case 15:Kc(D,F,v),rg(4,F);break;case 1:if(Kc(D,F,v),_=F,D=_.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch($e){Rs(_,_.return,$e)}if(_=F,D=_.updateQueue,D!==null){var ue=_.stateNode;try{var Ae=D.shared.hiddenCallbacks;if(Ae!==null)for(D.shared.hiddenCallbacks=null,D=0;D<Ae.length;D++)v3(Ae[D],ue)}catch($e){Rs(_,_.return,$e)}}v&&ee&64&&DP(F),sg(F,F.return);break;case 27:LP(F);case 26:case 5:Kc(D,F,v),v&&_===null&&ee&4&&MP(F),sg(F,F.return);break;case 12:Kc(D,F,v);break;case 13:Kc(D,F,v),v&&ee&4&&HP(D,F);break;case 22:F.memoizedState===null&&Kc(D,F,v),sg(F,F.return);break;case 30:break;default:Kc(D,F,v)}g=g.sibling}}function A_(f,g){var v=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),f=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(f=g.memoizedState.cachePool.pool),f!==v&&(f!=null&&f.refCount++,v!=null&&V0(v))}function T_(f,g){f=null,g.alternate!==null&&(f=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==f&&(g.refCount++,f!=null&&V0(f))}function rl(f,g,v,_){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)qP(f,g,v,_),g=g.sibling}function qP(f,g,v,_){var D=g.flags;switch(g.tag){case 0:case 11:case 15:rl(f,g,v,_),D&2048&&rg(9,g);break;case 1:rl(f,g,v,_);break;case 3:rl(f,g,v,_),D&2048&&(f=null,g.alternate!==null&&(f=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==f&&(g.refCount++,f!=null&&V0(f)));break;case 12:if(D&2048){rl(f,g,v,_),f=g.stateNode;try{var F=g.memoizedProps,ee=F.id,ue=F.onPostCommit;typeof ue=="function"&&ue(ee,g.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Ae){Rs(g,g.return,Ae)}}else rl(f,g,v,_);break;case 13:rl(f,g,v,_);break;case 23:break;case 22:F=g.stateNode,ee=g.alternate,g.memoizedState!==null?F._visibility&2?rl(f,g,v,_):ag(f,g):F._visibility&2?rl(f,g,v,_):(F._visibility|=2,Ef(f,g,v,_,(g.subtreeFlags&10256)!==0)),D&2048&&A_(ee,g);break;case 24:rl(f,g,v,_),D&2048&&T_(g.alternate,g);break;default:rl(f,g,v,_)}}function Ef(f,g,v,_,D){for(D=D&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var F=f,ee=g,ue=v,Ae=_,$e=ee.flags;switch(ee.tag){case 0:case 11:case 15:Ef(F,ee,ue,Ae,D),rg(8,ee);break;case 23:break;case 22:var rt=ee.stateNode;ee.memoizedState!==null?rt._visibility&2?Ef(F,ee,ue,Ae,D):ag(F,ee):(rt._visibility|=2,Ef(F,ee,ue,Ae,D)),D&&$e&2048&&A_(ee.alternate,ee);break;case 24:Ef(F,ee,ue,Ae,D),D&&$e&2048&&T_(ee.alternate,ee);break;default:Ef(F,ee,ue,Ae,D)}g=g.sibling}}function ag(f,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var v=f,_=g,D=_.flags;switch(_.tag){case 22:ag(v,_),D&2048&&A_(_.alternate,_);break;case 24:ag(v,_),D&2048&&T_(_.alternate,_);break;default:ag(v,_)}g=g.sibling}}var ng=8192;function Af(f){if(f.subtreeFlags&ng)for(f=f.child;f!==null;)GP(f),f=f.sibling}function GP(f){switch(f.tag){case 26:Af(f),f.flags&ng&&f.memoizedState!==null&&LG(ko,f.memoizedState,f.memoizedProps);break;case 5:Af(f);break;case 3:case 4:var g=ko;ko=Cy(f.stateNode.containerInfo),Af(f),ko=g;break;case 22:f.memoizedState===null&&(g=f.alternate,g!==null&&g.memoizedState!==null?(g=ng,ng=16777216,Af(f),ng=g):Af(f));break;default:Af(f)}}function YP(f){var g=f.alternate;if(g!==null&&(f=g.child,f!==null)){g.child=null;do g=f.sibling,f.sibling=null,f=g;while(f!==null)}}function ig(f){var g=f.deletions;if((f.flags&16)!==0){if(g!==null)for(var v=0;v<g.length;v++){var _=g[v];Ga=_,KP(_,f)}YP(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)XP(f),f=f.sibling}function XP(f){switch(f.tag){case 0:case 11:case 15:ig(f),f.flags&2048&&Yc(9,f,f.return);break;case 3:ig(f);break;case 12:ig(f);break;case 22:var g=f.stateNode;f.memoizedState!==null&&g._visibility&2&&(f.return===null||f.return.tag!==13)?(g._visibility&=-3,by(f)):ig(f);break;default:ig(f)}}function by(f){var g=f.deletions;if((f.flags&16)!==0){if(g!==null)for(var v=0;v<g.length;v++){var _=g[v];Ga=_,KP(_,f)}YP(f)}for(f=f.child;f!==null;){switch(g=f,g.tag){case 0:case 11:case 15:Yc(8,g,g.return),by(g);break;case 22:v=g.stateNode,v._visibility&2&&(v._visibility&=-3,by(g));break;default:by(g)}f=f.sibling}}function KP(f,g){for(;Ga!==null;){var v=Ga;switch(v.tag){case 0:case 11:case 15:Yc(8,v,g);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var _=v.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:V0(v.memoizedState.cache)}if(_=v.child,_!==null)_.return=v,Ga=_;else e:for(v=f;Ga!==null;){_=Ga;var D=_.sibling,F=_.return;if(zP(_),_===v){Ga=null;break e}if(D!==null){D.return=F,Ga=D;break e}Ga=F}}}var eG={getCacheForType:function(f){var g=bn(Ma),v=g.data.get(f);return v===void 0&&(v=f(),g.data.set(f,v)),v}},tG=typeof WeakMap=="function"?WeakMap:Map,ms=0,Ds=null,Rr=null,Yr=0,gs=0,vi=null,Zc=!1,Tf=!1,C_=!1,ec=0,Js=0,Qc=0,Cu=0,P_=0,Xi=0,Cf=0,og=null,ti=null,R_=!1,I_=0,yy=1/0,vy=null,Jc=null,an=0,ed=null,Pf=null,Rf=0,D_=0,O_=null,ZP=null,lg=0,M_=null;function wi(){if((ms&2)!==0&&Yr!==0)return Yr&-Yr;if(H.T!==null){var f=yf;return f!==0?f:H_()}return Jr()}function QP(){Xi===0&&(Xi=(Yr&536870912)===0||os?Hr():536870912);var f=Yi.current;return f!==null&&(f.flags|=32),Xi}function ki(f,g,v){(f===Ds&&(gs===2||gs===9)||f.cancelPendingCommit!==null)&&(If(f,0),td(f,Yr,Xi,!1)),cr(f,v),((ms&2)===0||f!==Ds)&&(f===Ds&&((ms&2)===0&&(Cu|=v),Js===4&&td(f,Yr,Xi,!1)),sl(f))}function JP(f,g,v){if((ms&6)!==0)throw Error(s(327));var _=!v&&(g&124)===0&&(g&f.expiredLanes)===0||Vr(f,g),D=_?aG(f,g):B_(f,g,!0),F=_;do{if(D===0){Tf&&!_&&td(f,g,0,!1);break}else{if(v=f.current.alternate,F&&!rG(v)){D=B_(f,g,!1),F=!1;continue}if(D===2){if(F=g,f.errorRecoveryDisabledLanes&F)var ee=0;else ee=f.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){g=ee;e:{var ue=f;D=og;var Ae=ue.current.memoizedState.isDehydrated;if(Ae&&(If(ue,ee).flags|=256),ee=B_(ue,ee,!1),ee!==2){if(C_&&!Ae){ue.errorRecoveryDisabledLanes|=F,Cu|=F,D=4;break e}F=ti,ti=D,F!==null&&(ti===null?ti=F:ti.push.apply(ti,F))}D=ee}if(F=!1,D!==2)continue}}if(D===1){If(f,0),td(f,g,0,!0);break}e:{switch(_=f,F=D,F){case 0:case 1:throw Error(s(345));case 4:if((g&4194048)!==g)break;case 6:td(_,g,Xi,!Zc);break e;case 2:ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if((g&62914560)===g&&(D=I_+300-Ue(),10<D)){if(td(_,g,Xi,!Zc),Xt(_,0,!0)!==0)break e;_.timeoutHandle=AR(eR.bind(null,_,v,ti,vy,R_,g,Xi,Cu,Cf,Zc,F,2,-0,0),D);break e}eR(_,v,ti,vy,R_,g,Xi,Cu,Cf,Zc,F,0,-0,0)}}break}while(!0);sl(f)}function eR(f,g,v,_,D,F,ee,ue,Ae,$e,rt,lt,We,Ge){if(f.timeoutHandle=-1,lt=g.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(gg={stylesheets:null,count:0,unsuspend:FG},GP(g),lt=BG(),lt!==null)){f.cancelPendingCommit=lt(oR.bind(null,f,g,F,v,_,D,ee,ue,Ae,rt,1,We,Ge)),td(f,F,ee,!$e);return}oR(f,g,F,v,_,D,ee,ue,Ae)}function rG(f){for(var g=f;;){var v=g.tag;if((v===0||v===11||v===15)&&g.flags&16384&&(v=g.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var _=0;_<v.length;_++){var D=v[_],F=D.getSnapshot;D=D.value;try{if(!pi(F(),D))return!1}catch{return!1}}if(v=g.child,g.subtreeFlags&16384&&v!==null)v.return=g,g=v;else{if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function td(f,g,v,_){g&=~P_,g&=~Cu,f.suspendedLanes|=g,f.pingedLanes&=~g,_&&(f.warmLanes|=g),_=f.expirationTimes;for(var D=g;0<D;){var F=31-vt(D),ee=1<<F;_[F]=-1,D&=~ee}v!==0&&Ar(f,v,g)}function wy(){return(ms&6)===0?(cg(0),!1):!0}function F_(){if(Rr!==null){if(gs===0)var f=Rr.return;else f=Rr,ql=Nu=null,e_(f),Sf=null,J0=0,f=Rr;for(;f!==null;)IP(f.alternate,f),f=f.return;Rr=null}}function If(f,g){var v=f.timeoutHandle;v!==-1&&(f.timeoutHandle=-1,vG(v)),v=f.cancelPendingCommit,v!==null&&(f.cancelPendingCommit=null,v()),F_(),Ds=f,Rr=v=Hl(f.current,null),Yr=g,gs=0,vi=null,Zc=!1,Tf=Vr(f,g),C_=!1,Cf=Xi=P_=Cu=Qc=Js=0,ti=og=null,R_=!1,(g&8)!==0&&(g|=g&32);var _=f.entangledLanes;if(_!==0)for(f=f.entanglements,_&=g;0<_;){var D=31-vt(_),F=1<<D;g|=f[D],_&=~F}return ec=g,Hb(),v}function tR(f,g){wr=null,H.H=ly,g===$0||g===Qb?(g=b3(),gs=3):g===g3?(g=b3(),gs=4):gs=g===yP?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,vi=g,Rr===null&&(Js=1,fy(f,$i(g,f.current)))}function rR(){var f=H.H;return H.H=ly,f===null?ly:f}function sR(){var f=H.A;return H.A=eG,f}function L_(){Js=4,Zc||(Yr&4194048)!==Yr&&Yi.current!==null||(Tf=!0),(Qc&134217727)===0&&(Cu&134217727)===0||Ds===null||td(Ds,Yr,Xi,!1)}function B_(f,g,v){var _=ms;ms|=2;var D=rR(),F=sR();(Ds!==f||Yr!==g)&&(vy=null,If(f,g)),g=!1;var ee=Js;e:do try{if(gs!==0&&Rr!==null){var ue=Rr,Ae=vi;switch(gs){case 8:F_(),ee=6;break e;case 3:case 2:case 9:case 6:Yi.current===null&&(g=!0);var $e=gs;if(gs=0,vi=null,Df(f,ue,Ae,$e),v&&Tf){ee=0;break e}break;default:$e=gs,gs=0,vi=null,Df(f,ue,Ae,$e)}}sG(),ee=Js;break}catch(rt){tR(f,rt)}while(!0);return g&&f.shellSuspendCounter++,ql=Nu=null,ms=_,H.H=D,H.A=F,Rr===null&&(Ds=null,Yr=0,Hb()),ee}function sG(){for(;Rr!==null;)aR(Rr)}function aG(f,g){var v=ms;ms|=2;var _=rR(),D=sR();Ds!==f||Yr!==g?(vy=null,yy=Ue()+500,If(f,g)):Tf=Vr(f,g);e:do try{if(gs!==0&&Rr!==null){g=Rr;var F=vi;t:switch(gs){case 1:gs=0,vi=null,Df(f,g,F,1);break;case 2:case 9:if(p3(F)){gs=0,vi=null,nR(g);break}g=function(){gs!==2&&gs!==9||Ds!==f||(gs=7),sl(f)},F.then(g,g);break e;case 3:gs=7;break e;case 4:gs=5;break e;case 7:p3(F)?(gs=0,vi=null,nR(g)):(gs=0,vi=null,Df(f,g,F,7));break;case 5:var ee=null;switch(Rr.tag){case 26:ee=Rr.memoizedState;case 5:case 27:var ue=Rr;if(!ee||UR(ee)){gs=0,vi=null;var Ae=ue.sibling;if(Ae!==null)Rr=Ae;else{var $e=ue.return;$e!==null?(Rr=$e,ky($e)):Rr=null}break t}}gs=0,vi=null,Df(f,g,F,5);break;case 6:gs=0,vi=null,Df(f,g,F,6);break;case 8:F_(),Js=6;break e;default:throw Error(s(462))}}nG();break}catch(rt){tR(f,rt)}while(!0);return ql=Nu=null,H.H=_,H.A=D,ms=v,Rr!==null?0:(Ds=null,Yr=0,Hb(),Js)}function nG(){for(;Rr!==null&&!Ce();)aR(Rr)}function aR(f){var g=PP(f.alternate,f,ec);f.memoizedProps=f.pendingProps,g===null?ky(f):Rr=g}function nR(f){var g=f,v=g.alternate;switch(g.tag){case 15:case 0:g=SP(v,g,g.pendingProps,g.type,void 0,Yr);break;case 11:g=SP(v,g,g.pendingProps,g.type.render,g.ref,Yr);break;case 5:e_(g);default:IP(v,g),g=Rr=i3(g,ec),g=PP(v,g,ec)}f.memoizedProps=f.pendingProps,g===null?ky(f):Rr=g}function Df(f,g,v,_){ql=Nu=null,e_(g),Sf=null,J0=0;var D=g.return;try{if(Yq(f,D,g,v,Yr)){Js=1,fy(f,$i(v,f.current)),Rr=null;return}}catch(F){if(D!==null)throw Rr=D,F;Js=1,fy(f,$i(v,f.current)),Rr=null;return}g.flags&32768?(os||_===1?f=!0:Tf||(Yr&536870912)!==0?f=!1:(Zc=f=!0,(_===2||_===9||_===3||_===6)&&(_=Yi.current,_!==null&&_.tag===13&&(_.flags|=16384))),iR(g,f)):ky(g)}function ky(f){var g=f;do{if((g.flags&32768)!==0){iR(g,Zc);return}f=g.return;var v=Kq(g.alternate,g,ec);if(v!==null){Rr=v;return}if(g=g.sibling,g!==null){Rr=g;return}Rr=g=f}while(g!==null);Js===0&&(Js=5)}function iR(f,g){do{var v=Zq(f.alternate,f);if(v!==null){v.flags&=32767,Rr=v;return}if(v=f.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!g&&(f=f.sibling,f!==null)){Rr=f;return}Rr=f=v}while(f!==null);Js=6,Rr=null}function oR(f,g,v,_,D,F,ee,ue,Ae){f.cancelPendingCommit=null;do _y();while(an!==0);if((ms&6)!==0)throw Error(s(327));if(g!==null){if(g===f.current)throw Error(s(177));if(F=g.lanes|g.childLanes,F|=Tk,Er(f,v,F,ee,ue,Ae),f===Ds&&(Rr=Ds=null,Yr=0),Pf=g,ed=f,Rf=v,D_=F,O_=D,ZP=_,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,cG(pt,function(){return hR(),null})):(f.callbackNode=null,f.callbackPriority=0),_=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||_){_=H.T,H.T=null,D=W.p,W.p=2,ee=ms,ms|=4;try{Qq(f,g,v)}finally{ms=ee,W.p=D,H.T=_}}an=1,lR(),cR(),dR()}}function lR(){if(an===1){an=0;var f=ed,g=Pf,v=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||v){v=H.T,H.T=null;var _=W.p;W.p=2;var D=ms;ms|=4;try{$P(g,f);var F=Z_,ee=K4(f.containerInfo),ue=F.focusedElem,Ae=F.selectionRange;if(ee!==ue&&ue&&ue.ownerDocument&&X4(ue.ownerDocument.documentElement,ue)){if(Ae!==null&&Nk(ue)){var $e=Ae.start,rt=Ae.end;if(rt===void 0&&(rt=$e),"selectionStart"in ue)ue.selectionStart=$e,ue.selectionEnd=Math.min(rt,ue.value.length);else{var lt=ue.ownerDocument||document,We=lt&&lt.defaultView||window;if(We.getSelection){var Ge=We.getSelection(),rr=ue.textContent.length,Kt=Math.min(Ae.start,rr),Ss=Ae.end===void 0?Kt:Math.min(Ae.end,rr);!Ge.extend&&Kt>Ss&&(ee=Ss,Ss=Kt,Kt=ee);var Le=Y4(ue,Kt),Re=Y4(ue,Ss);if(Le&&Re&&(Ge.rangeCount!==1||Ge.anchorNode!==Le.node||Ge.anchorOffset!==Le.offset||Ge.focusNode!==Re.node||Ge.focusOffset!==Re.offset)){var He=lt.createRange();He.setStart(Le.node,Le.offset),Ge.removeAllRanges(),Kt>Ss?(Ge.addRange(He),Ge.extend(Re.node,Re.offset)):(He.setEnd(Re.node,Re.offset),Ge.addRange(He))}}}}for(lt=[],Ge=ue;Ge=Ge.parentNode;)Ge.nodeType===1&&lt.push({element:Ge,left:Ge.scrollLeft,top:Ge.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<lt.length;ue++){var nt=lt[ue];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Oy=!!K_,Z_=K_=null}finally{ms=D,W.p=_,H.T=v}}f.current=g,an=2}}function cR(){if(an===2){an=0;var f=ed,g=Pf,v=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||v){v=H.T,H.T=null;var _=W.p;W.p=2;var D=ms;ms|=4;try{UP(f,g.alternate,g)}finally{ms=D,W.p=_,H.T=v}}an=3}}function dR(){if(an===4||an===3){an=0,Be();var f=ed,g=Pf,v=Rf,_=ZP;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?an=5:(an=0,Pf=ed=null,uR(f,f.pendingLanes));var D=f.pendingLanes;if(D===0&&(Jc=null),br(v),g=g.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Qe,g,void 0,(g.current.flags&128)===128)}catch{}if(_!==null){g=H.T,D=W.p,W.p=2,H.T=null;try{for(var F=f.onRecoverableError,ee=0;ee<_.length;ee++){var ue=_[ee];F(ue.value,{componentStack:ue.stack})}}finally{H.T=g,W.p=D}}(Rf&3)!==0&&_y(),sl(f),D=f.pendingLanes,(v&4194090)!==0&&(D&42)!==0?f===M_?lg++:(lg=0,M_=f):lg=0,cg(0)}}function uR(f,g){(f.pooledCacheLanes&=g)===0&&(g=f.pooledCache,g!=null&&(f.pooledCache=null,V0(g)))}function _y(f){return lR(),cR(),dR(),hR()}function hR(){if(an!==5)return!1;var f=ed,g=D_;D_=0;var v=br(Rf),_=H.T,D=W.p;try{W.p=32>v?32:v,H.T=null,v=O_,O_=null;var F=ed,ee=Rf;if(an=0,Pf=ed=null,Rf=0,(ms&6)!==0)throw Error(s(331));var ue=ms;if(ms|=4,XP(F.current),qP(F,F.current,ee,v),ms=ue,cg(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Qe,F)}catch{}return!0}finally{W.p=D,H.T=_,uR(f,g)}}function fR(f,g,v){g=$i(v,g),g=m_(f.stateNode,g,2),f=$c(f,g,2),f!==null&&(cr(f,2),sl(f))}function Rs(f,g,v){if(f.tag===3)fR(f,f,v);else for(;g!==null;){if(g.tag===3){fR(g,f,v);break}else if(g.tag===1){var _=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Jc===null||!Jc.has(_))){f=$i(v,f),v=xP(2),_=$c(g,v,2),_!==null&&(bP(v,_,g,f),cr(_,2),sl(_));break}}g=g.return}}function U_(f,g,v){var _=f.pingCache;if(_===null){_=f.pingCache=new tG;var D=new Set;_.set(g,D)}else D=_.get(g),D===void 0&&(D=new Set,_.set(g,D));D.has(v)||(C_=!0,D.add(v),f=iG.bind(null,f,g,v),g.then(f,f))}function iG(f,g,v){var _=f.pingCache;_!==null&&_.delete(g),f.pingedLanes|=f.suspendedLanes&v,f.warmLanes&=~v,Ds===f&&(Yr&v)===v&&(Js===4||Js===3&&(Yr&62914560)===Yr&&300>Ue()-I_?(ms&2)===0&&If(f,0):P_|=v,Cf===Yr&&(Cf=0)),sl(f)}function mR(f,g){g===0&&(g=xr()),f=gf(f,g),f!==null&&(cr(f,g),sl(f))}function oG(f){var g=f.memoizedState,v=0;g!==null&&(v=g.retryLane),mR(f,v)}function lG(f,g){var v=0;switch(f.tag){case 13:var _=f.stateNode,D=f.memoizedState;D!==null&&(v=D.retryLane);break;case 19:_=f.stateNode;break;case 22:_=f.stateNode._retryCache;break;default:throw Error(s(314))}_!==null&&_.delete(g),mR(f,v)}function cG(f,g){return fe(f,g)}var Ny=null,Of=null,z_=!1,Sy=!1,V_=!1,Pu=0;function sl(f){f!==Of&&f.next===null&&(Of===null?Ny=Of=f:Of=Of.next=f),Sy=!0,z_||(z_=!0,uG())}function cg(f,g){if(!V_&&Sy){V_=!0;do for(var v=!1,_=Ny;_!==null;){if(f!==0){var D=_.pendingLanes;if(D===0)var F=0;else{var ee=_.suspendedLanes,ue=_.pingedLanes;F=(1<<31-vt(42|f)+1)-1,F&=D&~(ee&~ue),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(v=!0,bR(_,F))}else F=Yr,F=Xt(_,_===Ds?F:0,_.cancelPendingCommit!==null||_.timeoutHandle!==-1),(F&3)===0||Vr(_,F)||(v=!0,bR(_,F));_=_.next}while(v);V_=!1}}function dG(){gR()}function gR(){Sy=z_=!1;var f=0;Pu!==0&&(yG()&&(f=Pu),Pu=0);for(var g=Ue(),v=null,_=Ny;_!==null;){var D=_.next,F=pR(_,g);F===0?(_.next=null,v===null?Ny=D:v.next=D,D===null&&(Of=v)):(v=_,(f!==0||(F&3)!==0)&&(Sy=!0)),_=D}cg(f)}function pR(f,g){for(var v=f.suspendedLanes,_=f.pingedLanes,D=f.expirationTimes,F=f.pendingLanes&-62914561;0<F;){var ee=31-vt(F),ue=1<<ee,Ae=D[ee];Ae===-1?((ue&v)===0||(ue&_)!==0)&&(D[ee]=vr(ue,g)):Ae<=g&&(f.expiredLanes|=ue),F&=~ue}if(g=Ds,v=Yr,v=Xt(f,f===g?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),_=f.callbackNode,v===0||f===g&&(gs===2||gs===9)||f.cancelPendingCommit!==null)return _!==null&&_!==null&&Te(_),f.callbackNode=null,f.callbackPriority=0;if((v&3)===0||Vr(f,v)){if(g=v&-v,g===f.callbackPriority)return g;switch(_!==null&&Te(_),br(v)){case 2:case 8:v=bt;break;case 32:v=pt;break;case 268435456:v=Mt;break;default:v=pt}return _=xR.bind(null,f),v=fe(v,_),f.callbackPriority=g,f.callbackNode=v,g}return _!==null&&_!==null&&Te(_),f.callbackPriority=2,f.callbackNode=null,2}function xR(f,g){if(an!==0&&an!==5)return f.callbackNode=null,f.callbackPriority=0,null;var v=f.callbackNode;if(_y()&&f.callbackNode!==v)return null;var _=Yr;return _=Xt(f,f===Ds?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),_===0?null:(JP(f,_,g),pR(f,Ue()),f.callbackNode!=null&&f.callbackNode===v?xR.bind(null,f):null)}function bR(f,g){if(_y())return null;JP(f,g,!0)}function uG(){wG(function(){(ms&6)!==0?fe(st,dG):gR()})}function H_(){return Pu===0&&(Pu=Hr()),Pu}function yR(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:rf(""+f)}function vR(f,g){var v=g.ownerDocument.createElement("input");return v.name=g.name,v.value=g.value,f.id&&v.setAttribute("form",f.id),g.parentNode.insertBefore(v,g),f=new FormData(f),v.parentNode.removeChild(v),f}function hG(f,g,v,_,D){if(g==="submit"&&v&&v.stateNode===D){var F=yR((D[$r]||null).action),ee=_.submitter;ee&&(g=(g=ee[$r]||null)?yR(g.formAction):ee.getAttribute("formAction"),g!==null&&(F=g,ee=null));var ue=new sf("action","action",null,_,D);f.push({event:ue,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(Pu!==0){var Ae=ee?vR(D,ee):new FormData(D);c_(v,{pending:!0,data:Ae,method:D.method,action:F},null,Ae)}}else typeof F=="function"&&(ue.preventDefault(),Ae=ee?vR(D,ee):new FormData(D),c_(v,{pending:!0,data:Ae,method:D.method,action:F},F,Ae))},currentTarget:D}]})}}for(var $_=0;$_<Ak.length;$_++){var W_=Ak[$_],fG=W_.toLowerCase(),mG=W_[0].toUpperCase()+W_.slice(1);wo(fG,"on"+mG)}wo(J4,"onAnimationEnd"),wo(e3,"onAnimationIteration"),wo(t3,"onAnimationStart"),wo("dblclick","onDoubleClick"),wo("focusin","onFocus"),wo("focusout","onBlur"),wo(Pq,"onTransitionRun"),wo(Rq,"onTransitionStart"),wo(Iq,"onTransitionCancel"),wo(r3,"onTransitionEnd"),le("onMouseEnter",["mouseout","mouseover"]),le("onMouseLeave",["mouseout","mouseover"]),le("onPointerEnter",["pointerout","pointerover"]),le("onPointerLeave",["pointerout","pointerover"]),_e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_e("onBeforeInput",["compositionend","keypress","textInput","paste"]),_e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dg));function wR(f,g){g=(g&4)!==0;for(var v=0;v<f.length;v++){var _=f[v],D=_.event;_=_.listeners;e:{var F=void 0;if(g)for(var ee=_.length-1;0<=ee;ee--){var ue=_[ee],Ae=ue.instance,$e=ue.currentTarget;if(ue=ue.listener,Ae!==F&&D.isPropagationStopped())break e;F=ue,D.currentTarget=$e;try{F(D)}catch(rt){hy(rt)}D.currentTarget=null,F=Ae}else for(ee=0;ee<_.length;ee++){if(ue=_[ee],Ae=ue.instance,$e=ue.currentTarget,ue=ue.listener,Ae!==F&&D.isPropagationStopped())break e;F=ue,D.currentTarget=$e;try{F(D)}catch(rt){hy(rt)}D.currentTarget=null,F=Ae}}}}function Ir(f,g){var v=g[Vs];v===void 0&&(v=g[Vs]=new Set);var _=f+"__bubble";v.has(_)||(kR(g,f,2,!1),v.add(_))}function q_(f,g,v){var _=0;g&&(_|=4),kR(v,f,_,g)}var jy="_reactListening"+Math.random().toString(36).slice(2);function G_(f){if(!f[jy]){f[jy]=!0,we.forEach(function(v){v!=="selectionchange"&&(gG.has(v)||q_(v,!1,f),q_(v,!0,f))});var g=f.nodeType===9?f:f.ownerDocument;g===null||g[jy]||(g[jy]=!0,q_("selectionchange",!1,g))}}function kR(f,g,v,_){switch(qR(g)){case 2:var D=VG;break;case 8:D=HG;break;default:D=oN}v=D.bind(null,g,v,f),D=void 0,!Vi||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(D=!0),_?D!==void 0?f.addEventListener(g,v,{capture:!0,passive:D}):f.addEventListener(g,v,!0):D!==void 0?f.addEventListener(g,v,{passive:D}):f.addEventListener(g,v,!1)}function Y_(f,g,v,_,D){var F=_;if((g&1)===0&&(g&2)===0&&_!==null)e:for(;;){if(_===null)return;var ee=_.tag;if(ee===3||ee===4){var ue=_.stateNode.containerInfo;if(ue===D)break;if(ee===4)for(ee=_.return;ee!==null;){var Ae=ee.tag;if((Ae===3||Ae===4)&&ee.stateNode.containerInfo===D)return;ee=ee.return}for(;ue!==null;){if(ee=ge(ue),ee===null)return;if(Ae=ee.tag,Ae===5||Ae===6||Ae===26||Ae===27){_=F=ee;continue e}ue=ue.parentNode}}_=_.return}Ab(function(){var $e=F,rt=zi(v),lt=[];e:{var We=s3.get(f);if(We!==void 0){var Ge=sf,rr=f;switch(f){case"keypress":if(Yo(v)===0)break e;case"keydown":case"keyup":Ge=df;break;case"focusin":rr="focus",Ge=of;break;case"focusout":rr="blur",Ge=of;break;case"beforeblur":case"afterblur":Ge=of;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=Hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=Mb;break;case J4:case e3:case t3:Ge=lf;break;case r3:Ge=Lb;break;case"scroll":case"scrollend":Ge=Tb;break;case"wheel":Ge=uf;break;case"copy":case"cut":case"paste":Ge=cf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=D0;break;case"toggle":case"beforetoggle":Ge=Ub}var Kt=(g&4)!==0,Ss=!Kt&&(f==="scroll"||f==="scrollend"),Le=Kt?We!==null?We+"Capture":null:We;Kt=[];for(var Re=$e,He;Re!==null;){var nt=Re;if(He=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||He===null||Le===null||(nt=du(Re,Le),nt!=null&&Kt.push(ug(Re,nt,He))),Ss)break;Re=Re.return}0<Kt.length&&(We=new Ge(We,rr,null,v,rt),lt.push({event:We,listeners:Kt}))}}if((g&7)===0){e:{if(We=f==="mouseover"||f==="pointerover",Ge=f==="mouseout"||f==="pointerout",We&&v!==Fl&&(rr=v.relatedTarget||v.fromElement)&&(ge(rr)||rr[Mr]))break e;if((Ge||We)&&(We=rt.window===rt?rt:(We=rt.ownerDocument)?We.defaultView||We.parentWindow:window,Ge?(rr=v.relatedTarget||v.toElement,Ge=$e,rr=rr?ge(rr):null,rr!==null&&(Ss=n(rr),Kt=rr.tag,rr!==Ss||Kt!==5&&Kt!==27&&Kt!==6)&&(rr=null)):(Ge=null,rr=$e),Ge!==rr)){if(Kt=Hi,nt="onMouseLeave",Le="onMouseEnter",Re="mouse",(f==="pointerout"||f==="pointerover")&&(Kt=D0,nt="onPointerLeave",Le="onPointerEnter",Re="pointer"),Ss=Ge==null?We:he(Ge),He=rr==null?We:he(rr),We=new Kt(nt,Re+"leave",Ge,v,rt),We.target=Ss,We.relatedTarget=He,nt=null,ge(rt)===$e&&(Kt=new Kt(Le,Re+"enter",rr,v,rt),Kt.target=He,Kt.relatedTarget=Ss,nt=Kt),Ss=nt,Ge&&rr)t:{for(Kt=Ge,Le=rr,Re=0,He=Kt;He;He=Mf(He))Re++;for(He=0,nt=Le;nt;nt=Mf(nt))He++;for(;0<Re-He;)Kt=Mf(Kt),Re--;for(;0<He-Re;)Le=Mf(Le),He--;for(;Re--;){if(Kt===Le||Le!==null&&Kt===Le.alternate)break t;Kt=Mf(Kt),Le=Mf(Le)}Kt=null}else Kt=null;Ge!==null&&_R(lt,We,Ge,Kt,!1),rr!==null&&Ss!==null&&_R(lt,Ss,rr,Kt,!0)}}e:{if(We=$e?he($e):window,Ge=We.nodeName&&We.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&We.type==="file")var Ut=V4;else if(Oa(We))if(H4)Ut=Aq;else{Ut=jq;var Tr=Sq}else Ge=We.nodeName,!Ge||Ge.toLowerCase()!=="input"||We.type!=="checkbox"&&We.type!=="radio"?$e&&E0($e.elementType)&&(Ut=V4):Ut=Eq;if(Ut&&(Ut=Ut(f,$e))){Vl(lt,Ut,v,rt);break e}Tr&&Tr(f,We,$e),f==="focusout"&&$e&&We.type==="number"&&$e.memoizedProps.value!=null&&Bc(We,"number",We.value)}switch(Tr=$e?he($e):window,f){case"focusin":(Oa(Tr)||Tr.contentEditable==="true")&&(hf=Tr,Sk=$e,F0=null);break;case"focusout":F0=Sk=hf=null;break;case"mousedown":jk=!0;break;case"contextmenu":case"mouseup":case"dragend":jk=!1,Z4(lt,v,rt);break;case"selectionchange":if(Cq)break;case"keydown":case"keyup":Z4(lt,v,rt)}var Vt;if(Zo)e:{switch(f){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else qr?Ze(f,v)&&(Qt="onCompositionEnd"):f==="keydown"&&v.keyCode===229&&(Qt="onCompositionStart");Qt&&(K&&v.locale!=="ko"&&(qr||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&qr&&(Vt=T0()):(Go=rt,Uc="value"in Go?Go.value:Go.textContent,qr=!0)),Tr=Ey($e,Qt),0<Tr.length&&(Qt=new R0(Qt,f,null,v,rt),lt.push({event:Qt,listeners:Tr}),Vt?Qt.data=Vt:(Vt=St(v),Vt!==null&&(Qt.data=Vt)))),(Vt=V?Da(f,v):Gr(f,v))&&(Qt=Ey($e,"onBeforeInput"),0<Qt.length&&(Tr=new R0("onBeforeInput","beforeinput",null,v,rt),lt.push({event:Tr,listeners:Qt}),Tr.data=Vt)),hG(lt,f,$e,v,rt)}wR(lt,g)})}function ug(f,g,v){return{instance:f,listener:g,currentTarget:v}}function Ey(f,g){for(var v=g+"Capture",_=[];f!==null;){var D=f,F=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||F===null||(D=du(f,v),D!=null&&_.unshift(ug(f,D,F)),D=du(f,g),D!=null&&_.push(ug(f,D,F))),f.tag===3)return _;f=f.return}return[]}function Mf(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function _R(f,g,v,_,D){for(var F=g._reactName,ee=[];v!==null&&v!==_;){var ue=v,Ae=ue.alternate,$e=ue.stateNode;if(ue=ue.tag,Ae!==null&&Ae===_)break;ue!==5&&ue!==26&&ue!==27||$e===null||(Ae=$e,D?($e=du(v,F),$e!=null&&ee.unshift(ug(v,$e,Ae))):D||($e=du(v,F),$e!=null&&ee.push(ug(v,$e,Ae)))),v=v.return}ee.length!==0&&f.push({event:g,listeners:ee})}var pG=/\r\n?/g,xG=/\u0000|\uFFFD/g;function NR(f){return(typeof f=="string"?f:""+f).replace(pG,`
`).replace(xG,"")}function SR(f,g){return g=NR(g),NR(f)===g}function Ay(){}function Ns(f,g,v,_,D,F){switch(v){case"children":typeof _=="string"?g==="body"||g==="textarea"&&_===""||Ui(f,_):(typeof _=="number"||typeof _=="bigint")&&g!=="body"&&Ui(f,""+_);break;case"className":Me(f,"class",_);break;case"tabIndex":Me(f,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":Me(f,v,_);break;case"style":j0(f,_,F);break;case"data":if(g!=="object"){Me(f,"data",_);break}case"src":case"href":if(_===""&&(g!=="a"||v!=="href")){f.removeAttribute(v);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){f.removeAttribute(v);break}_=rf(""+_),f.setAttribute(v,_);break;case"action":case"formAction":if(typeof _=="function"){f.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(v==="formAction"?(g!=="input"&&Ns(f,g,"name",D.name,D,null),Ns(f,g,"formEncType",D.formEncType,D,null),Ns(f,g,"formMethod",D.formMethod,D,null),Ns(f,g,"formTarget",D.formTarget,D,null)):(Ns(f,g,"encType",D.encType,D,null),Ns(f,g,"method",D.method,D,null),Ns(f,g,"target",D.target,D,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){f.removeAttribute(v);break}_=rf(""+_),f.setAttribute(v,_);break;case"onClick":_!=null&&(f.onclick=Ay);break;case"onScroll":_!=null&&Ir("scroll",f);break;case"onScrollEnd":_!=null&&Ir("scrollend",f);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(s(61));if(v=_.__html,v!=null){if(D.children!=null)throw Error(s(60));f.innerHTML=v}}break;case"multiple":f.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":f.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){f.removeAttribute("xlink:href");break}v=rf(""+_),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?f.setAttribute(v,""+_):f.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?f.setAttribute(v,""):f.removeAttribute(v);break;case"capture":case"download":_===!0?f.setAttribute(v,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?f.setAttribute(v,_):f.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?f.setAttribute(v,_):f.removeAttribute(v);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?f.removeAttribute(v):f.setAttribute(v,_);break;case"popover":Ir("beforetoggle",f),Ir("toggle",f),De(f,"popover",_);break;case"xlinkActuate":at(f,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":at(f,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":at(f,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":at(f,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":at(f,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":at(f,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":at(f,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":at(f,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":at(f,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":De(f,"is",_);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=bk.get(v)||v,De(f,v,_))}}function X_(f,g,v,_,D,F){switch(v){case"style":j0(f,_,F);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(s(61));if(v=_.__html,v!=null){if(D.children!=null)throw Error(s(60));f.innerHTML=v}}break;case"children":typeof _=="string"?Ui(f,_):(typeof _=="number"||typeof _=="bigint")&&Ui(f,""+_);break;case"onScroll":_!=null&&Ir("scroll",f);break;case"onScrollEnd":_!=null&&Ir("scrollend",f);break;case"onClick":_!=null&&(f.onclick=Ay);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!te.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(D=v.endsWith("Capture"),g=v.slice(2,D?v.length-7:void 0),F=f[$r]||null,F=F!=null?F[v]:null,typeof F=="function"&&f.removeEventListener(g,F,D),typeof _=="function")){typeof F!="function"&&F!==null&&(v in f?f[v]=null:f.hasAttribute(v)&&f.removeAttribute(v)),f.addEventListener(g,_,D);break e}v in f?f[v]=_:_===!0?f.setAttribute(v,""):De(f,v,_)}}}function nn(f,g,v){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ir("error",f),Ir("load",f);var _=!1,D=!1,F;for(F in v)if(v.hasOwnProperty(F)){var ee=v[F];if(ee!=null)switch(F){case"src":_=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,g));default:Ns(f,g,F,ee,v,null)}}D&&Ns(f,g,"srcSet",v.srcSet,v,null),_&&Ns(f,g,"src",v.src,v,null);return;case"input":Ir("invalid",f);var ue=F=ee=D=null,Ae=null,$e=null;for(_ in v)if(v.hasOwnProperty(_)){var rt=v[_];if(rt!=null)switch(_){case"name":D=rt;break;case"type":ee=rt;break;case"checked":Ae=rt;break;case"defaultChecked":$e=rt;break;case"value":F=rt;break;case"defaultValue":ue=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(s(137,g));break;default:Ns(f,g,_,rt,v,null)}}ou(f,F,ue,Ae,$e,ee,D,!1),tf(f);return;case"select":Ir("invalid",f),_=ee=F=null;for(D in v)if(v.hasOwnProperty(D)&&(ue=v[D],ue!=null))switch(D){case"value":F=ue;break;case"defaultValue":ee=ue;break;case"multiple":_=ue;default:Ns(f,g,D,ue,v,null)}g=F,v=ee,f.multiple=!!_,g!=null?Ml(f,!!_,g,!1):v!=null&&Ml(f,!!_,v,!0);return;case"textarea":Ir("invalid",f),F=D=_=null;for(ee in v)if(v.hasOwnProperty(ee)&&(ue=v[ee],ue!=null))switch(ee){case"value":_=ue;break;case"defaultValue":D=ue;break;case"children":F=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(91));break;default:Ns(f,g,ee,ue,v,null)}lu(f,_,D,F),tf(f);return;case"option":for(Ae in v)if(v.hasOwnProperty(Ae)&&(_=v[Ae],_!=null))switch(Ae){case"selected":f.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Ns(f,g,Ae,_,v,null)}return;case"dialog":Ir("beforetoggle",f),Ir("toggle",f),Ir("cancel",f),Ir("close",f);break;case"iframe":case"object":Ir("load",f);break;case"video":case"audio":for(_=0;_<dg.length;_++)Ir(dg[_],f);break;case"image":Ir("error",f),Ir("load",f);break;case"details":Ir("toggle",f);break;case"embed":case"source":case"link":Ir("error",f),Ir("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($e in v)if(v.hasOwnProperty($e)&&(_=v[$e],_!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,g));default:Ns(f,g,$e,_,v,null)}return;default:if(E0(g)){for(rt in v)v.hasOwnProperty(rt)&&(_=v[rt],_!==void 0&&X_(f,g,rt,_,v,void 0));return}}for(ue in v)v.hasOwnProperty(ue)&&(_=v[ue],_!=null&&Ns(f,g,ue,_,v,null))}function bG(f,g,v,_){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,F=null,ee=null,ue=null,Ae=null,$e=null,rt=null;for(Ge in v){var lt=v[Ge];if(v.hasOwnProperty(Ge)&&lt!=null)switch(Ge){case"checked":break;case"value":break;case"defaultValue":Ae=lt;default:_.hasOwnProperty(Ge)||Ns(f,g,Ge,null,_,lt)}}for(var We in _){var Ge=_[We];if(lt=v[We],_.hasOwnProperty(We)&&(Ge!=null||lt!=null))switch(We){case"type":F=Ge;break;case"name":D=Ge;break;case"checked":$e=Ge;break;case"defaultChecked":rt=Ge;break;case"value":ee=Ge;break;case"defaultValue":ue=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(s(137,g));break;default:Ge!==lt&&Ns(f,g,We,Ge,_,lt)}}gi(f,ee,ue,Ae,$e,rt,F,D);return;case"select":Ge=ee=ue=We=null;for(F in v)if(Ae=v[F],v.hasOwnProperty(F)&&Ae!=null)switch(F){case"value":break;case"multiple":Ge=Ae;default:_.hasOwnProperty(F)||Ns(f,g,F,null,_,Ae)}for(D in _)if(F=_[D],Ae=v[D],_.hasOwnProperty(D)&&(F!=null||Ae!=null))switch(D){case"value":We=F;break;case"defaultValue":ue=F;break;case"multiple":ee=F;default:F!==Ae&&Ns(f,g,D,F,_,Ae)}g=ue,v=ee,_=Ge,We!=null?Ml(f,!!v,We,!1):!!_!=!!v&&(g!=null?Ml(f,!!v,g,!0):Ml(f,!!v,v?[]:"",!1));return;case"textarea":Ge=We=null;for(ue in v)if(D=v[ue],v.hasOwnProperty(ue)&&D!=null&&!_.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:Ns(f,g,ue,null,_,D)}for(ee in _)if(D=_[ee],F=v[ee],_.hasOwnProperty(ee)&&(D!=null||F!=null))switch(ee){case"value":We=D;break;case"defaultValue":Ge=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:D!==F&&Ns(f,g,ee,D,_,F)}ks(f,We,Ge);return;case"option":for(var rr in v)if(We=v[rr],v.hasOwnProperty(rr)&&We!=null&&!_.hasOwnProperty(rr))switch(rr){case"selected":f.selected=!1;break;default:Ns(f,g,rr,null,_,We)}for(Ae in _)if(We=_[Ae],Ge=v[Ae],_.hasOwnProperty(Ae)&&We!==Ge&&(We!=null||Ge!=null))switch(Ae){case"selected":f.selected=We&&typeof We!="function"&&typeof We!="symbol";break;default:Ns(f,g,Ae,We,_,Ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kt in v)We=v[Kt],v.hasOwnProperty(Kt)&&We!=null&&!_.hasOwnProperty(Kt)&&Ns(f,g,Kt,null,_,We);for($e in _)if(We=_[$e],Ge=v[$e],_.hasOwnProperty($e)&&We!==Ge&&(We!=null||Ge!=null))switch($e){case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(s(137,g));break;default:Ns(f,g,$e,We,_,Ge)}return;default:if(E0(g)){for(var Ss in v)We=v[Ss],v.hasOwnProperty(Ss)&&We!==void 0&&!_.hasOwnProperty(Ss)&&X_(f,g,Ss,void 0,_,We);for(rt in _)We=_[rt],Ge=v[rt],!_.hasOwnProperty(rt)||We===Ge||We===void 0&&Ge===void 0||X_(f,g,rt,We,_,Ge);return}}for(var Le in v)We=v[Le],v.hasOwnProperty(Le)&&We!=null&&!_.hasOwnProperty(Le)&&Ns(f,g,Le,null,_,We);for(lt in _)We=_[lt],Ge=v[lt],!_.hasOwnProperty(lt)||We===Ge||We==null&&Ge==null||Ns(f,g,lt,We,_,Ge)}var K_=null,Z_=null;function Ty(f){return f.nodeType===9?f:f.ownerDocument}function jR(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ER(f,g){if(f===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&g==="foreignObject"?0:f}function Q_(f,g){return f==="textarea"||f==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var J_=null;function yG(){var f=window.event;return f&&f.type==="popstate"?f===J_?!1:(J_=f,!0):(J_=null,!1)}var AR=typeof setTimeout=="function"?setTimeout:void 0,vG=typeof clearTimeout=="function"?clearTimeout:void 0,TR=typeof Promise=="function"?Promise:void 0,wG=typeof queueMicrotask=="function"?queueMicrotask:typeof TR<"u"?function(f){return TR.resolve(null).then(f).catch(kG)}:AR;function kG(f){setTimeout(function(){throw f})}function rd(f){return f==="head"}function CR(f,g){var v=g,_=0,D=0;do{var F=v.nextSibling;if(f.removeChild(v),F&&F.nodeType===8)if(v=F.data,v==="/$"){if(0<_&&8>_){v=_;var ee=f.ownerDocument;if(v&1&&hg(ee.documentElement),v&2&&hg(ee.body),v&4)for(v=ee.head,hg(v),ee=v.firstChild;ee;){var ue=ee.nextSibling,Ae=ee.nodeName;ee[ce]||Ae==="SCRIPT"||Ae==="STYLE"||Ae==="LINK"&&ee.rel.toLowerCase()==="stylesheet"||v.removeChild(ee),ee=ue}}if(D===0){f.removeChild(F),vg(g);return}D--}else v==="$"||v==="$?"||v==="$!"?D++:_=v.charCodeAt(0)-48;else _=0;v=F}while(v);vg(g)}function eN(f){var g=f.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var v=g;switch(g=g.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":eN(v),oe(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}f.removeChild(v)}}function _G(f,g,v,_){for(;f.nodeType===1;){var D=v;if(f.nodeName.toLowerCase()!==g.toLowerCase()){if(!_&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(_){if(!f[ce])switch(g){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(F=f.getAttribute("rel"),F==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(F!==D.rel||f.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||f.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||f.getAttribute("title")!==(D.title==null?null:D.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(F=f.getAttribute("src"),(F!==(D.src==null?null:D.src)||f.getAttribute("type")!==(D.type==null?null:D.type)||f.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&F&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(g==="input"&&f.type==="hidden"){var F=D.name==null?null:""+D.name;if(D.type==="hidden"&&f.getAttribute("name")===F)return f}else return f;if(f=_o(f.nextSibling),f===null)break}return null}function NG(f,g,v){if(g==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!v||(f=_o(f.nextSibling),f===null))return null;return f}function tN(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState==="complete"}function SG(f,g){var v=f.ownerDocument;if(f.data!=="$?"||v.readyState==="complete")g();else{var _=function(){g(),v.removeEventListener("DOMContentLoaded",_)};v.addEventListener("DOMContentLoaded",_),f._reactRetry=_}}function _o(f){for(;f!=null;f=f.nextSibling){var g=f.nodeType;if(g===1||g===3)break;if(g===8){if(g=f.data,g==="$"||g==="$!"||g==="$?"||g==="F!"||g==="F")break;if(g==="/$")return null}}return f}var rN=null;function PR(f){f=f.previousSibling;for(var g=0;f;){if(f.nodeType===8){var v=f.data;if(v==="$"||v==="$!"||v==="$?"){if(g===0)return f;g--}else v==="/$"&&g++}f=f.previousSibling}return null}function RR(f,g,v){switch(g=Ty(v),f){case"html":if(f=g.documentElement,!f)throw Error(s(452));return f;case"head":if(f=g.head,!f)throw Error(s(453));return f;case"body":if(f=g.body,!f)throw Error(s(454));return f;default:throw Error(s(451))}}function hg(f){for(var g=f.attributes;g.length;)f.removeAttributeNode(g[0]);oe(f)}var Ki=new Map,IR=new Set;function Cy(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var tc=W.d;W.d={f:jG,r:EG,D:AG,C:TG,L:CG,m:PG,X:IG,S:RG,M:DG};function jG(){var f=tc.f(),g=wy();return f||g}function EG(f){var g=be(f);g!==null&&g.tag===5&&g.type==="form"?J3(g):tc.r(f)}var Ff=typeof document>"u"?null:document;function DR(f,g,v){var _=Ff;if(_&&typeof g=="string"&&g){var D=va(g);D='link[rel="'+f+'"][href="'+D+'"]',typeof v=="string"&&(D+='[crossorigin="'+v+'"]'),IR.has(D)||(IR.add(D),f={rel:f,crossOrigin:v,href:g},_.querySelector(D)===null&&(g=_.createElement("link"),nn(g,"link",f),pe(g),_.head.appendChild(g)))}}function AG(f){tc.D(f),DR("dns-prefetch",f,null)}function TG(f,g){tc.C(f,g),DR("preconnect",f,g)}function CG(f,g,v){tc.L(f,g,v);var _=Ff;if(_&&f&&g){var D='link[rel="preload"][as="'+va(g)+'"]';g==="image"&&v&&v.imageSrcSet?(D+='[imagesrcset="'+va(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(D+='[imagesizes="'+va(v.imageSizes)+'"]')):D+='[href="'+va(f)+'"]';var F=D;switch(g){case"style":F=Lf(f);break;case"script":F=Bf(f)}Ki.has(F)||(f=u({rel:"preload",href:g==="image"&&v&&v.imageSrcSet?void 0:f,as:g},v),Ki.set(F,f),_.querySelector(D)!==null||g==="style"&&_.querySelector(fg(F))||g==="script"&&_.querySelector(mg(F))||(g=_.createElement("link"),nn(g,"link",f),pe(g),_.head.appendChild(g)))}}function PG(f,g){tc.m(f,g);var v=Ff;if(v&&f){var _=g&&typeof g.as=="string"?g.as:"script",D='link[rel="modulepreload"][as="'+va(_)+'"][href="'+va(f)+'"]',F=D;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=Bf(f)}if(!Ki.has(F)&&(f=u({rel:"modulepreload",href:f},g),Ki.set(F,f),v.querySelector(D)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(mg(F)))return}_=v.createElement("link"),nn(_,"link",f),pe(_),v.head.appendChild(_)}}}function RG(f,g,v){tc.S(f,g,v);var _=Ff;if(_&&f){var D=ye(_).hoistableStyles,F=Lf(f);g=g||"default";var ee=D.get(F);if(!ee){var ue={loading:0,preload:null};if(ee=_.querySelector(fg(F)))ue.loading=5;else{f=u({rel:"stylesheet",href:f,"data-precedence":g},v),(v=Ki.get(F))&&sN(f,v);var Ae=ee=_.createElement("link");pe(Ae),nn(Ae,"link",f),Ae._p=new Promise(function($e,rt){Ae.onload=$e,Ae.onerror=rt}),Ae.addEventListener("load",function(){ue.loading|=1}),Ae.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,Py(ee,g,_)}ee={type:"stylesheet",instance:ee,count:1,state:ue},D.set(F,ee)}}}function IG(f,g){tc.X(f,g);var v=Ff;if(v&&f){var _=ye(v).hoistableScripts,D=Bf(f),F=_.get(D);F||(F=v.querySelector(mg(D)),F||(f=u({src:f,async:!0},g),(g=Ki.get(D))&&aN(f,g),F=v.createElement("script"),pe(F),nn(F,"link",f),v.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},_.set(D,F))}}function DG(f,g){tc.M(f,g);var v=Ff;if(v&&f){var _=ye(v).hoistableScripts,D=Bf(f),F=_.get(D);F||(F=v.querySelector(mg(D)),F||(f=u({src:f,async:!0,type:"module"},g),(g=Ki.get(D))&&aN(f,g),F=v.createElement("script"),pe(F),nn(F,"link",f),v.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},_.set(D,F))}}function OR(f,g,v,_){var D=(D=de.current)?Cy(D):null;if(!D)throw Error(s(446));switch(f){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(g=Lf(v.href),v=ye(D).hoistableStyles,_=v.get(g),_||(_={type:"style",instance:null,count:0,state:null},v.set(g,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){f=Lf(v.href);var F=ye(D).hoistableStyles,ee=F.get(f);if(ee||(D=D.ownerDocument||D,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(f,ee),(F=D.querySelector(fg(f)))&&!F._p&&(ee.instance=F,ee.state.loading=5),Ki.has(f)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Ki.set(f,v),F||OG(D,f,v,ee.state))),g&&_===null)throw Error(s(528,""));return ee}if(g&&_!==null)throw Error(s(529,""));return null;case"script":return g=v.async,v=v.src,typeof v=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=Bf(v),v=ye(D).hoistableScripts,_=v.get(g),_||(_={type:"script",instance:null,count:0,state:null},v.set(g,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,f))}}function Lf(f){return'href="'+va(f)+'"'}function fg(f){return'link[rel="stylesheet"]['+f+"]"}function MR(f){return u({},f,{"data-precedence":f.precedence,precedence:null})}function OG(f,g,v,_){f.querySelector('link[rel="preload"][as="style"]['+g+"]")?_.loading=1:(g=f.createElement("link"),_.preload=g,g.addEventListener("load",function(){return _.loading|=1}),g.addEventListener("error",function(){return _.loading|=2}),nn(g,"link",v),pe(g),f.head.appendChild(g))}function Bf(f){return'[src="'+va(f)+'"]'}function mg(f){return"script[async]"+f}function FR(f,g,v){if(g.count++,g.instance===null)switch(g.type){case"style":var _=f.querySelector('style[data-href~="'+va(v.href)+'"]');if(_)return g.instance=_,pe(_),_;var D=u({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return _=(f.ownerDocument||f).createElement("style"),pe(_),nn(_,"style",D),Py(_,v.precedence,f),g.instance=_;case"stylesheet":D=Lf(v.href);var F=f.querySelector(fg(D));if(F)return g.state.loading|=4,g.instance=F,pe(F),F;_=MR(v),(D=Ki.get(D))&&sN(_,D),F=(f.ownerDocument||f).createElement("link"),pe(F);var ee=F;return ee._p=new Promise(function(ue,Ae){ee.onload=ue,ee.onerror=Ae}),nn(F,"link",_),g.state.loading|=4,Py(F,v.precedence,f),g.instance=F;case"script":return F=Bf(v.src),(D=f.querySelector(mg(F)))?(g.instance=D,pe(D),D):(_=v,(D=Ki.get(F))&&(_=u({},v),aN(_,D)),f=f.ownerDocument||f,D=f.createElement("script"),pe(D),nn(D,"link",_),f.head.appendChild(D),g.instance=D);case"void":return null;default:throw Error(s(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(_=g.instance,g.state.loading|=4,Py(_,v.precedence,f));return g.instance}function Py(f,g,v){for(var _=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=_.length?_[_.length-1]:null,F=D,ee=0;ee<_.length;ee++){var ue=_[ee];if(ue.dataset.precedence===g)F=ue;else if(F!==D)break}F?F.parentNode.insertBefore(f,F.nextSibling):(g=v.nodeType===9?v.head:v,g.insertBefore(f,g.firstChild))}function sN(f,g){f.crossOrigin==null&&(f.crossOrigin=g.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=g.referrerPolicy),f.title==null&&(f.title=g.title)}function aN(f,g){f.crossOrigin==null&&(f.crossOrigin=g.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=g.referrerPolicy),f.integrity==null&&(f.integrity=g.integrity)}var Ry=null;function LR(f,g,v){if(Ry===null){var _=new Map,D=Ry=new Map;D.set(v,_)}else D=Ry,_=D.get(v),_||(_=new Map,D.set(v,_));if(_.has(f))return _;for(_.set(f,null),v=v.getElementsByTagName(f),D=0;D<v.length;D++){var F=v[D];if(!(F[ce]||F[ss]||f==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=F.getAttribute(g)||"";ee=f+ee;var ue=_.get(ee);ue?ue.push(F):_.set(ee,[F])}}return _}function BR(f,g,v){f=f.ownerDocument||f,f.head.insertBefore(v,g==="title"?f.querySelector("head > title"):null)}function MG(f,g,v){if(v===1||g.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return f=g.disabled,typeof g.precedence=="string"&&f==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function UR(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}var gg=null;function FG(){}function LG(f,g,v){if(gg===null)throw Error(s(475));var _=gg;if(g.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var D=Lf(v.href),F=f.querySelector(fg(D));if(F){f=F._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(_.count++,_=Iy.bind(_),f.then(_,_)),g.state.loading|=4,g.instance=F,pe(F);return}F=f.ownerDocument||f,v=MR(v),(D=Ki.get(D))&&sN(v,D),F=F.createElement("link"),pe(F);var ee=F;ee._p=new Promise(function(ue,Ae){ee.onload=ue,ee.onerror=Ae}),nn(F,"link",v),g.instance=F}_.stylesheets===null&&(_.stylesheets=new Map),_.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(_.count++,g=Iy.bind(_),f.addEventListener("load",g),f.addEventListener("error",g))}}function BG(){if(gg===null)throw Error(s(475));var f=gg;return f.stylesheets&&f.count===0&&nN(f,f.stylesheets),0<f.count?function(g){var v=setTimeout(function(){if(f.stylesheets&&nN(f,f.stylesheets),f.unsuspend){var _=f.unsuspend;f.unsuspend=null,_()}},6e4);return f.unsuspend=g,function(){f.unsuspend=null,clearTimeout(v)}}:null}function Iy(){if(this.count--,this.count===0){if(this.stylesheets)nN(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var Dy=null;function nN(f,g){f.stylesheets=null,f.unsuspend!==null&&(f.count++,Dy=new Map,g.forEach(UG,f),Dy=null,Iy.call(f))}function UG(f,g){if(!(g.state.loading&4)){var v=Dy.get(f);if(v)var _=v.get(null);else{v=new Map,Dy.set(f,v);for(var D=f.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<D.length;F++){var ee=D[F];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(v.set(ee.dataset.precedence,ee),_=ee)}_&&v.set(null,_)}D=g.instance,ee=D.getAttribute("data-precedence"),F=v.get(ee)||_,F===_&&v.set(null,D),v.set(ee,D),this.count++,_=Iy.bind(this),D.addEventListener("load",_),D.addEventListener("error",_),F?F.parentNode.insertBefore(D,F.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(D,f.firstChild)),g.state.loading|=4}}var pg={$$typeof:N,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function zG(f,g,v,_,D,F,ee,ue){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.hiddenUpdates=dr(null),this.identifierPrefix=_,this.onUncaughtError=D,this.onCaughtError=F,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function zR(f,g,v,_,D,F,ee,ue,Ae,$e,rt,lt){return f=new zG(f,g,v,ee,ue,Ae,$e,lt),g=1,F===!0&&(g|=24),F=xi(3,null,null,g),f.current=F,F.stateNode=f,g=Uk(),g.refCount++,f.pooledCache=g,g.refCount++,F.memoizedState={element:_,isDehydrated:v,cache:g},$k(F),f}function VR(f){return f?(f=pf,f):pf}function HR(f,g,v,_,D,F){D=VR(D),_.context===null?_.context=D:_.pendingContext=D,_=Hc(g),_.payload={element:v},F=F===void 0?null:F,F!==null&&(_.callback=F),v=$c(f,_,g),v!==null&&(ki(v,f,g),q0(v,f,g))}function $R(f,g){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var v=f.retryLane;f.retryLane=v!==0&&v<g?v:g}}function iN(f,g){$R(f,g),(f=f.alternate)&&$R(f,g)}function WR(f){if(f.tag===13){var g=gf(f,67108864);g!==null&&ki(g,f,67108864),iN(f,67108864)}}var Oy=!0;function VG(f,g,v,_){var D=H.T;H.T=null;var F=W.p;try{W.p=2,oN(f,g,v,_)}finally{W.p=F,H.T=D}}function HG(f,g,v,_){var D=H.T;H.T=null;var F=W.p;try{W.p=8,oN(f,g,v,_)}finally{W.p=F,H.T=D}}function oN(f,g,v,_){if(Oy){var D=lN(_);if(D===null)Y_(f,g,_,My,v),GR(f,_);else if(WG(D,f,g,v,_))_.stopPropagation();else if(GR(f,_),g&4&&-1<$G.indexOf(f)){for(;D!==null;){var F=be(D);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var ee=Ot(F.pendingLanes);if(ee!==0){var ue=F;for(ue.pendingLanes|=2,ue.entangledLanes|=2;ee;){var Ae=1<<31-vt(ee);ue.entanglements[1]|=Ae,ee&=~Ae}sl(F),(ms&6)===0&&(yy=Ue()+500,cg(0))}}break;case 13:ue=gf(F,2),ue!==null&&ki(ue,F,2),wy(),iN(F,2)}if(F=lN(_),F===null&&Y_(f,g,_,My,v),F===D)break;D=F}D!==null&&_.stopPropagation()}else Y_(f,g,_,null,v)}}function lN(f){return f=zi(f),cN(f)}var My=null;function cN(f){if(My=null,f=ge(f),f!==null){var g=n(f);if(g===null)f=null;else{var v=g.tag;if(v===13){if(f=o(g),f!==null)return f;f=null}else if(v===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;f=null}else g!==f&&(f=null)}}return My=f,null}function qR(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case st:return 2;case bt:return 8;case pt:case zt:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var dN=!1,sd=null,ad=null,nd=null,xg=new Map,bg=new Map,id=[],$G="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GR(f,g){switch(f){case"focusin":case"focusout":sd=null;break;case"dragenter":case"dragleave":ad=null;break;case"mouseover":case"mouseout":nd=null;break;case"pointerover":case"pointerout":xg.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":bg.delete(g.pointerId)}}function yg(f,g,v,_,D,F){return f===null||f.nativeEvent!==F?(f={blockedOn:g,domEventName:v,eventSystemFlags:_,nativeEvent:F,targetContainers:[D]},g!==null&&(g=be(g),g!==null&&WR(g)),f):(f.eventSystemFlags|=_,g=f.targetContainers,D!==null&&g.indexOf(D)===-1&&g.push(D),f)}function WG(f,g,v,_,D){switch(g){case"focusin":return sd=yg(sd,f,g,v,_,D),!0;case"dragenter":return ad=yg(ad,f,g,v,_,D),!0;case"mouseover":return nd=yg(nd,f,g,v,_,D),!0;case"pointerover":var F=D.pointerId;return xg.set(F,yg(xg.get(F)||null,f,g,v,_,D)),!0;case"gotpointercapture":return F=D.pointerId,bg.set(F,yg(bg.get(F)||null,f,g,v,_,D)),!0}return!1}function YR(f){var g=ge(f.target);if(g!==null){var v=n(g);if(v!==null){if(g=v.tag,g===13){if(g=o(v),g!==null){f.blockedOn=g,Ps(f.priority,function(){if(v.tag===13){var _=wi();_=Pr(_);var D=gf(v,_);D!==null&&ki(D,v,_),iN(v,_)}});return}}else if(g===3&&v.stateNode.current.memoizedState.isDehydrated){f.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Fy(f){if(f.blockedOn!==null)return!1;for(var g=f.targetContainers;0<g.length;){var v=lN(f.nativeEvent);if(v===null){v=f.nativeEvent;var _=new v.constructor(v.type,v);Fl=_,v.target.dispatchEvent(_),Fl=null}else return g=be(v),g!==null&&WR(g),f.blockedOn=v,!1;g.shift()}return!0}function XR(f,g,v){Fy(f)&&v.delete(g)}function qG(){dN=!1,sd!==null&&Fy(sd)&&(sd=null),ad!==null&&Fy(ad)&&(ad=null),nd!==null&&Fy(nd)&&(nd=null),xg.forEach(XR),bg.forEach(XR)}function Ly(f,g){f.blockedOn===g&&(f.blockedOn=null,dN||(dN=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qG)))}var By=null;function KR(f){By!==f&&(By=f,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){By===f&&(By=null);for(var g=0;g<f.length;g+=3){var v=f[g],_=f[g+1],D=f[g+2];if(typeof _!="function"){if(cN(_||v)===null)continue;break}var F=be(v);F!==null&&(f.splice(g,3),g-=3,c_(F,{pending:!0,data:D,method:v.method,action:_},_,D))}}))}function vg(f){function g(Ae){return Ly(Ae,f)}sd!==null&&Ly(sd,f),ad!==null&&Ly(ad,f),nd!==null&&Ly(nd,f),xg.forEach(g),bg.forEach(g);for(var v=0;v<id.length;v++){var _=id[v];_.blockedOn===f&&(_.blockedOn=null)}for(;0<id.length&&(v=id[0],v.blockedOn===null);)YR(v),v.blockedOn===null&&id.shift();if(v=(f.ownerDocument||f).$$reactFormReplay,v!=null)for(_=0;_<v.length;_+=3){var D=v[_],F=v[_+1],ee=D[$r]||null;if(typeof F=="function")ee||KR(v);else if(ee){var ue=null;if(F&&F.hasAttribute("formAction")){if(D=F,ee=F[$r]||null)ue=ee.formAction;else if(cN(D)!==null)continue}else ue=ee.action;typeof ue=="function"?v[_+1]=ue:(v.splice(_,3),_-=3),KR(v)}}}function uN(f){this._internalRoot=f}Uy.prototype.render=uN.prototype.render=function(f){var g=this._internalRoot;if(g===null)throw Error(s(409));var v=g.current,_=wi();HR(v,_,f,g,null,null)},Uy.prototype.unmount=uN.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var g=f.containerInfo;HR(f.current,2,null,f,null,null),wy(),g[Mr]=null}};function Uy(f){this._internalRoot=f}Uy.prototype.unstable_scheduleHydration=function(f){if(f){var g=Jr();f={blockedOn:null,target:f,priority:g};for(var v=0;v<id.length&&g!==0&&g<id[v].priority;v++);id.splice(v,0,f),v===0&&YR(f)}};var ZR=e.version;if(ZR!=="19.1.1")throw Error(s(527,ZR,"19.1.1"));W.findDOMNode=function(f){var g=f._reactInternals;if(g===void 0)throw typeof f.render=="function"?Error(s(188)):(f=Object.keys(f).join(","),Error(s(268,f)));return f=c(g),f=f!==null?d(f):null,f=f===null?null:f.stateNode,f};var GG={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zy.isDisabled&&zy.supportsFiber)try{Qe=zy.inject(GG),ut=zy}catch{}}return kg.createRoot=function(f,g){if(!a(f))throw Error(s(299));var v=!1,_="",D=fP,F=mP,ee=gP,ue=null;return g!=null&&(g.unstable_strictMode===!0&&(v=!0),g.identifierPrefix!==void 0&&(_=g.identifierPrefix),g.onUncaughtError!==void 0&&(D=g.onUncaughtError),g.onCaughtError!==void 0&&(F=g.onCaughtError),g.onRecoverableError!==void 0&&(ee=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(ue=g.unstable_transitionCallbacks)),g=zR(f,1,!1,null,null,v,_,D,F,ee,ue,null),f[Mr]=g.current,G_(f),new uN(g)},kg.hydrateRoot=function(f,g,v){if(!a(f))throw Error(s(299));var _=!1,D="",F=fP,ee=mP,ue=gP,Ae=null,$e=null;return v!=null&&(v.unstable_strictMode===!0&&(_=!0),v.identifierPrefix!==void 0&&(D=v.identifierPrefix),v.onUncaughtError!==void 0&&(F=v.onUncaughtError),v.onCaughtError!==void 0&&(ee=v.onCaughtError),v.onRecoverableError!==void 0&&(ue=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(Ae=v.unstable_transitionCallbacks),v.formState!==void 0&&($e=v.formState)),g=zR(f,1,!0,g,v??null,_,D,F,ee,ue,Ae,$e),g.context=VR(null),v=g.current,_=wi(),_=Pr(_),D=Hc(_),D.callback=null,$c(v,D,_),v=_,g.current.lanes=v,cr(g,v),sl(g),f[Mr]=g.current,G_(f),new Uy(g)},kg.version="19.1.1",kg}var oI;function aY(){if(oI)return mN.exports;oI=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mN.exports=sY(),mN.exports}var nY=aY();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lI="popstate";function iY(r={}){function e(s,a){let{pathname:n,search:o,hash:l}=s.location;return lj("",{pathname:n,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:Lp(a)}return lY(e,t,null,r)}function Ks(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Al(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oY(){return Math.random().toString(36).substring(2,10)}function cI(r,e){return{usr:r.state,key:r.key,idx:e}}function lj(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Xm(e):e,state:t,key:e&&e.key||s||oY()}}function Lp({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Xm(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function lY(r,e,t,s={}){let{window:a=document.defaultView,v5Compat:n=!1}=s,o=a.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function h(){l="POP";let y=u(),w=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:w})}function m(y,w){l="PUSH";let k=lj(x.location,y,w);d=u()+1;let N=cI(k,d),T=x.createHref(k);try{o.pushState(N,"",T)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(T)}n&&c&&c({action:l,location:x.location,delta:1})}function p(y,w){l="REPLACE";let k=lj(x.location,y,w);d=u();let N=cI(k,d),T=x.createHref(k);o.replaceState(N,"",T),n&&c&&c({action:l,location:x.location,delta:0})}function b(y){return cY(y)}let x={get action(){return l},get location(){return r(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(lI,h),c=y,()=>{a.removeEventListener(lI,h),c=null}},createHref(y){return e(a,y)},createURL:b,encodeLocation(y){let w=b(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(y){return o.go(y)}};return x}function cY(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ks(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Lp(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function m8(r,e,t="/"){return dY(r,e,t,!1)}function dY(r,e,t,s){let a=typeof e=="string"?Xm(e):e,n=wc(a.pathname||"/",t);if(n==null)return null;let o=g8(r);uY(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=kY(n);l=vY(o[c],d,s)}return l}function g8(r,e=[],t=[],s="",a=!1){let n=(o,l,c=a,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(s)&&c)return;Ks(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length)}let h=gc([s,u.relativePath]),m=t.concat(u);o.children&&o.children.length>0&&(Ks(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),g8(o.children,e,m,h,c)),!(o.path==null&&!o.index)&&e.push({path:h,score:bY(h,o.index),routesMeta:m})};return r.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))n(o,l);else for(let c of p8(o.path))n(o,l,!0,c)}),e}function p8(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),n=t.replace(/\?$/,"");if(s.length===0)return a?[n,""]:[n];let o=p8(s.join("/")),l=[];return l.push(...o.map(c=>c===""?n:[n,c].join("/"))),a&&l.push(...o),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function uY(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:yY(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var hY=/^:[\w-]+$/,fY=3,mY=2,gY=1,pY=10,xY=-2,dI=r=>r==="*";function bY(r,e){let t=r.split("/"),s=t.length;return t.some(dI)&&(s+=xY),e&&(s+=mY),t.filter(a=>!dI(a)).reduce((a,n)=>a+(hY.test(n)?fY:n===""?gY:pY),s)}function yY(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function vY(r,e,t=!1){let{routesMeta:s}=r,a={},n="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=n==="/"?e:e.slice(n.length)||"/",h=tw({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&t&&!s[s.length-1].route.index&&(h=tw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:gc([n,h.pathname]),pathnameBase:jY(gc([n,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(n=gc([n,h.pathnameBase]))}return o}function tw(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=wY(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let n=a[0],o=n.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,{paramName:u,isOptional:h},m)=>{if(u==="*"){let b=l[m]||"";o=n.slice(0,n.length-b.length).replace(/(.)\/+$/,"$1")}const p=l[m];return h&&!p?d[u]=void 0:d[u]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:n,pathnameBase:o,pattern:r}}function wY(r,e=!1,t=!0){Al(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function kY(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Al(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function wc(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function _Y(r,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof r=="string"?Xm(r):r;return{pathname:t?t.startsWith("/")?t:NY(t,e):e,search:EY(s),hash:AY(a)}}function NY(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function bN(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SY(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function x8(r){let e=SY(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function b8(r,e,t,s=!1){let a;typeof r=="string"?a=Xm(r):(a={...r},Ks(!a.pathname||!a.pathname.includes("?"),bN("?","pathname","search",a)),Ks(!a.pathname||!a.pathname.includes("#"),bN("#","pathname","hash",a)),Ks(!a.search||!a.search.includes("#"),bN("#","search","hash",a)));let n=r===""||a.pathname==="",o=n?"/":a.pathname,l;if(o==null)l=t;else{let h=e.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=_Y(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(n||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var gc=r=>r.join("/").replace(/\/\/+/g,"/"),jY=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),EY=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,AY=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function TY(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var y8=["POST","PUT","PATCH","DELETE"];new Set(y8);var CY=["GET",...y8];new Set(CY);var Km=R.createContext(null);Km.displayName="DataRouter";var c2=R.createContext(null);c2.displayName="DataRouterState";R.createContext(!1);var v8=R.createContext({isTransitioning:!1});v8.displayName="ViewTransition";var PY=R.createContext(new Map);PY.displayName="Fetchers";var RY=R.createContext(null);RY.displayName="Await";var Pl=R.createContext(null);Pl.displayName="Navigation";var Rx=R.createContext(null);Rx.displayName="Location";var Rl=R.createContext({outlet:null,matches:[],isDataRoute:!1});Rl.displayName="Route";var nA=R.createContext(null);nA.displayName="RouteError";function IY(r,{relative:e}={}){Ks(Ix(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=R.useContext(Pl),{hash:a,pathname:n,search:o}=Dx(r,{relative:e}),l=n;return t!=="/"&&(l=n==="/"?t:gc([t,n])),s.createHref({pathname:l,search:o,hash:a})}function Ix(){return R.useContext(Rx)!=null}function Ra(){return Ks(Ix(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Rx).location}var w8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k8(r){R.useContext(Pl).static||R.useLayoutEffect(r)}function zr(){let{isDataRoute:r}=R.useContext(Rl);return r?qY():DY()}function DY(){Ks(Ix(),"useNavigate() may be used only in the context of a <Router> component.");let r=R.useContext(Km),{basename:e,navigator:t}=R.useContext(Pl),{matches:s}=R.useContext(Rl),{pathname:a}=Ra(),n=JSON.stringify(x8(s)),o=R.useRef(!1);return k8(()=>{o.current=!0}),R.useCallback((c,d={})=>{if(Al(o.current,w8),!o.current)return;if(typeof c=="number"){t.go(c);return}let u=b8(c,JSON.parse(n),a,d.relative==="path");r==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:gc([e,u.pathname])),(d.replace?t.replace:t.push)(u,d.state,d)},[e,t,n,a,r])}R.createContext(null);function Pc(){let{matches:r}=R.useContext(Rl),e=r[r.length-1];return e?e.params:{}}function Dx(r,{relative:e}={}){let{matches:t}=R.useContext(Rl),{pathname:s}=Ra(),a=JSON.stringify(x8(t));return R.useMemo(()=>b8(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function OY(r,e){return _8(r,e)}function _8(r,e,t,s,a){Ks(Ix(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n}=R.useContext(Pl),{matches:o}=R.useContext(Rl),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let k=h&&h.path||"";N8(d,!h||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let m=Ra(),p;if(e){let k=typeof e=="string"?Xm(e):e;Ks(u==="/"||k.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${k.pathname}" was given in the \`location\` prop.`),p=k}else p=m;let b=p.pathname||"/",x=b;if(u!=="/"){let k=u.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=m8(r,{pathname:x});Al(h||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Al(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=UY(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:gc([u,n.encodeLocation?n.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:gc([u,n.encodeLocation?n.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,t,s,a);return e&&w?R.createElement(Rx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},w):w}function MY(){let r=WY(),e=TY(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},n={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:n},"ErrorBoundary")," or"," ",R.createElement("code",{style:n},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:a},t):null,o)}var FY=R.createElement(MY,null),LY=class extends R.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?R.createElement(Rl.Provider,{value:this.props.routeContext},R.createElement(nA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BY({routeContext:r,match:e,children:t}){let s=R.useContext(Km);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Rl.Provider,{value:r},t)}function UY(r,e=[],t=null,s=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let n=r,o=t?.errors;if(o!=null){let d=n.findIndex(u=>u.route.id&&o?.[u.route.id]!==void 0);Ks(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),n=n.slice(0,Math.min(n.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<n.length;d++){let u=n[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:h,errors:m}=t,p=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||p){l=!0,c>=0?n=n.slice(0,c+1):n=[n[0]];break}}}return n.reduceRight((d,u,h)=>{let m,p=!1,b=null,x=null;t&&(m=o&&u.route.id?o[u.route.id]:void 0,b=u.route.errorElement||FY,l&&(c<0&&h===0?(N8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):c===h&&(p=!0,x=u.route.hydrateFallbackElement||null)));let y=e.concat(n.slice(0,h+1)),w=()=>{let k;return m?k=b:p?k=x:u.route.Component?k=R.createElement(u.route.Component,null):u.route.element?k=u.route.element:k=d,R.createElement(BY,{match:u,routeContext:{outlet:d,matches:y,isDataRoute:t!=null},children:k})};return t&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?R.createElement(LY,{location:t.location,revalidation:t.revalidation,component:b,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:s}):w()},null)}function iA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zY(r){let e=R.useContext(Km);return Ks(e,iA(r)),e}function VY(r){let e=R.useContext(c2);return Ks(e,iA(r)),e}function HY(r){let e=R.useContext(Rl);return Ks(e,iA(r)),e}function oA(r){let e=HY(r),t=e.matches[e.matches.length-1];return Ks(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function $Y(){return oA("useRouteId")}function WY(){let r=R.useContext(nA),e=VY("useRouteError"),t=oA("useRouteError");return r!==void 0?r:e.errors?.[t]}function qY(){let{router:r}=zY("useNavigate"),e=oA("useNavigate"),t=R.useRef(!1);return k8(()=>{t.current=!0}),R.useCallback(async(a,n={})=>{Al(t.current,w8),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...n}))},[r,e])}var uI={};function N8(r,e,t){!e&&!uI[r]&&(uI[r]=!0,Al(!1,t))}R.memo(GY);function GY({routes:r,future:e,state:t,unstable_onError:s}){return _8(r,void 0,t,s,e)}function _t(r){Ks(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YY({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:n=!1}){Ks(!Ix(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),l=R.useMemo(()=>({basename:o,navigator:a,static:n,future:{}}),[o,a,n]);typeof t=="string"&&(t=Xm(t));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:m="default"}=t,p=R.useMemo(()=>{let b=wc(c,o);return b==null?null:{location:{pathname:b,search:d,hash:u,state:h,key:m},navigationType:s}},[o,c,d,u,h,m,s]);return Al(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:R.createElement(Pl.Provider,{value:l},R.createElement(Rx.Provider,{children:e,value:p}))}function XY({children:r,location:e}){return OY(cj(r),e)}function cj(r,e=[]){let t=[];return R.Children.forEach(r,(s,a)=>{if(!R.isValidElement(s))return;let n=[...e,a];if(s.type===R.Fragment){t.push.apply(t,cj(s.props.children,n));return}Ks(s.type===_t,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ks(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||n.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=cj(s.props.children,n)),t.push(o)}),t}var k1="get",_1="application/x-www-form-urlencoded";function d2(r){return r!=null&&typeof r.tagName=="string"}function KY(r){return d2(r)&&r.tagName.toLowerCase()==="button"}function ZY(r){return d2(r)&&r.tagName.toLowerCase()==="form"}function QY(r){return d2(r)&&r.tagName.toLowerCase()==="input"}function JY(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function eX(r,e){return r.button===0&&(!e||e==="_self")&&!JY(r)}var Hy=null;function tX(){if(Hy===null)try{new FormData(document.createElement("form"),0),Hy=!1}catch{Hy=!0}return Hy}var rX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yN(r){return r!=null&&!rX.has(r)?(Al(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_1}"`),null):r}function sX(r,e){let t,s,a,n,o;if(ZY(r)){let l=r.getAttribute("action");s=l?wc(l,e):null,t=r.getAttribute("method")||k1,a=yN(r.getAttribute("enctype"))||_1,n=new FormData(r)}else if(KY(r)||QY(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||l.getAttribute("action");if(s=c?wc(c,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||k1,a=yN(r.getAttribute("formenctype"))||yN(l.getAttribute("enctype"))||_1,n=new FormData(l,r),!tX()){let{name:d,type:u,value:h}=r;if(u==="image"){let m=d?`${d}.`:"";n.append(`${m}x`,"0"),n.append(`${m}y`,"0")}else d&&n.append(d,h)}}else{if(d2(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=k1,s=null,a=_1,o=r}return n&&a==="text/plain"&&(o=n,n=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:n,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lA(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function aX(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&wc(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function nX(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iX(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function oX(r,e,t){let s=await Promise.all(r.map(async a=>{let n=e.routes[a.route.id];if(n){let o=await nX(n,t);return o.links?o.links():[]}return[]}));return uX(s.flat(1).filter(iX).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function hI(r,e,t,s,a,n){let o=(c,d)=>t[d]?c.route.id!==t[d].route.id:!0,l=(c,d)=>t[d].pathname!==c.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==c.params["*"];return n==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):n==="data"?e.filter((c,d)=>{let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function lX(r,e,{includeHydrateFallback:t}={}){return cX(r.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let n=[a.module];return a.clientActionModule&&(n=n.concat(a.clientActionModule)),a.clientLoaderModule&&(n=n.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(n=n.concat(a.hydrateFallbackModule)),a.imports&&(n=n.concat(a.imports)),n}).flat(1))}function cX(r){return[...new Set(r)]}function dX(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function uX(r,e){let t=new Set;return new Set(e),r.reduce((s,a)=>{let n=JSON.stringify(dX(a));return t.has(n)||(t.add(n),s.push({key:n,link:a})),s},[])}function S8(){let r=R.useContext(Km);return lA(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function hX(){let r=R.useContext(c2);return lA(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var cA=R.createContext(void 0);cA.displayName="FrameworkContext";function j8(){let r=R.useContext(cA);return lA(r,"You must render this element inside a <HydratedRouter> element"),r}function fX(r,e){let t=R.useContext(cA),[s,a]=R.useState(!1),[n,o]=R.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=e,m=R.useRef(null);R.useEffect(()=>{if(r==="render"&&o(!0),r==="viewport"){let x=w=>{w.forEach(k=>{o(k.isIntersecting)})},y=new IntersectionObserver(x,{threshold:.5});return m.current&&y.observe(m.current),()=>{y.disconnect()}}},[r]),R.useEffect(()=>{if(s){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[s]);let p=()=>{a(!0)},b=()=>{a(!1),o(!1)};return t?r!=="intent"?[n,m,{}]:[n,m,{onFocus:_g(l,p),onBlur:_g(c,b),onMouseEnter:_g(d,p),onMouseLeave:_g(u,b),onTouchStart:_g(h,p)}]:[!1,m,{}]}function _g(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function mX({page:r,...e}){let{router:t}=S8(),s=R.useMemo(()=>m8(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?R.createElement(pX,{page:r,matches:s,...e}):null}function gX(r){let{manifest:e,routeModules:t}=j8(),[s,a]=R.useState([]);return R.useEffect(()=>{let n=!1;return oX(r,e,t).then(o=>{n||a(o)}),()=>{n=!0}},[r,e,t]),s}function pX({page:r,matches:e,...t}){let s=Ra(),{manifest:a,routeModules:n}=j8(),{basename:o}=S8(),{loaderData:l,matches:c}=hX(),d=R.useMemo(()=>hI(r,e,c,a,s,"data"),[r,e,c,a,s]),u=R.useMemo(()=>hI(r,e,c,a,s,"assets"),[r,e,c,a,s]),h=R.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let b=new Set,x=!1;if(e.forEach(w=>{let k=a.routes[w.route.id];!k||!k.hasLoader||(!d.some(N=>N.route.id===w.route.id)&&w.route.id in l&&n[w.route.id]?.shouldRevalidate||k.hasClientLoader?x=!0:b.add(w.route.id))}),b.size===0)return[];let y=aX(r,o,"data");return x&&b.size>0&&y.searchParams.set("_routes",e.filter(w=>b.has(w.route.id)).map(w=>w.route.id).join(",")),[y.pathname+y.search]},[o,l,s,a,d,e,r,n]),m=R.useMemo(()=>lX(u,a),[u,a]),p=gX(u);return R.createElement(R.Fragment,null,h.map(b=>R.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),m.map(b=>R.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),p.map(({key:b,link:x})=>R.createElement("link",{key:b,nonce:t.nonce,...x})))}function xX(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var E8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E8&&(window.__reactRouterVersion="7.8.2")}catch{}function bX({basename:r,children:e,window:t}){let s=R.useRef();s.current==null&&(s.current=iY({window:t,v5Compat:!0}));let a=s.current,[n,o]=R.useState({action:a.action,location:a.location}),l=R.useCallback(c=>{R.startTransition(()=>o(c))},[o]);return R.useLayoutEffect(()=>a.listen(l),[a,l]),R.createElement(YY,{basename:r,children:e,location:n.location,navigationType:n.action,navigator:a})}var A8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fe=R.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:n,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h,...m},p){let{basename:b}=R.useContext(Pl),x=typeof d=="string"&&A8.test(d),y,w=!1;if(typeof d=="string"&&x&&(y=d,E8))try{let P=new URL(window.location.href),O=d.startsWith("//")?new URL(P.protocol+d):new URL(d),M=wc(O.pathname,b);O.origin===P.origin&&M!=null?d=M+O.search+O.hash:w=!0}catch{Al(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=IY(d,{relative:a}),[N,T,E]=fX(s,m),I=kX(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function S(P){e&&e(P),P.defaultPrevented||I(P)}let A=R.createElement("a",{...m,...E,href:y||k,onClick:w||n?e:S,ref:xX(p,T),target:c,"data-discover":!x&&t==="render"?"true":void 0});return N&&!x?R.createElement(R.Fragment,null,A,R.createElement(mX,{page:k})):A});Fe.displayName="Link";var yX=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:n,to:o,viewTransition:l,children:c,...d},u){let h=Dx(o,{relative:d.relative}),m=Ra(),p=R.useContext(c2),{navigator:b,basename:x}=R.useContext(Pl),y=p!=null&&EX(h)&&l===!0,w=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,k=m.pathname,N=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(k=k.toLowerCase(),N=N?N.toLowerCase():null,w=w.toLowerCase()),N&&x&&(N=wc(N,x)||N);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let E=k===w||!a&&k.startsWith(w)&&k.charAt(T)==="/",I=N!=null&&(N===w||!a&&N.startsWith(w)&&N.charAt(w.length)==="/"),S={isActive:E,isPending:I,isTransitioning:y},A=E?e:void 0,P;typeof s=="function"?P=s(S):P=[s,E?"active":null,I?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof n=="function"?n(S):n;return R.createElement(Fe,{...d,"aria-current":A,className:P,ref:u,style:O,to:o,viewTransition:l},typeof c=="function"?c(S):c)});yX.displayName="NavLink";var vX=R.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:n,method:o=k1,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...m},p)=>{let b=SX(),x=jX(l,{relative:d}),y=o.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&A8.test(l),k=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let T=N.nativeEvent.submitter,E=T?.getAttribute("formmethod")||o;b(T||N.currentTarget,{fetcherKey:e,method:E,navigate:t,replace:a,state:n,relative:d,preventScrollReset:u,viewTransition:h})};return R.createElement("form",{ref:p,method:y,action:x,onSubmit:s?c:k,...m,"data-discover":!w&&r==="render"?"true":void 0})});vX.displayName="Form";function wX(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T8(r){let e=R.useContext(Km);return Ks(e,wX(r)),e}function kX(r,{target:e,replace:t,state:s,preventScrollReset:a,relative:n,viewTransition:o}={}){let l=zr(),c=Ra(),d=Dx(r,{relative:n});return R.useCallback(u=>{if(eX(u,e)){u.preventDefault();let h=t!==void 0?t:Lp(c)===Lp(d);l(r,{replace:h,state:s,preventScrollReset:a,relative:n,viewTransition:o})}},[c,l,d,t,s,e,r,a,n,o])}var _X=0,NX=()=>`__${String(++_X)}__`;function SX(){let{router:r}=T8("useSubmit"),{basename:e}=R.useContext(Pl),t=$Y();return R.useCallback(async(s,a={})=>{let{action:n,method:o,encType:l,formData:c,body:d}=sX(s,e);if(a.navigate===!1){let u=a.fetcherKey||NX();await r.fetch(u,t,a.action||n,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await r.navigate(a.action||n,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function jX(r,{relative:e}={}){let{basename:t}=R.useContext(Pl),s=R.useContext(Rl);Ks(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),n={...Dx(r||".",{relative:e})},o=Ra();if(r==null){n.search=o.search;let l=new URLSearchParams(n.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();n.search=u?`?${u}`:""}}return(!r||r===".")&&a.route.index&&(n.search=n.search?n.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(n.pathname=n.pathname==="/"?t:gc([t,n.pathname])),Lp(n)}function EX(r,{relative:e}={}){let t=R.useContext(v8);Ks(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=T8("useViewTransitionState"),a=Dx(r,{relative:e});if(!t.isTransitioning)return!1;let n=wc(t.currentLocation.pathname,s)||t.currentLocation.pathname,o=wc(t.nextLocation.pathname,s)||t.nextLocation.pathname;return tw(a.pathname,o)!=null||tw(a.pathname,n)!=null}const AX="/assets/logo-Bi-0vyp2.png";function TX(){const r=()=>{const e="/agreement.pdf",t=document.createElement("a");t.href=e,t.download="FOREMADE_Vendor_Agreement.pdf",document.body.appendChild(t),t.click(),document.body.removeChild(t)};return i.jsxs("div",{className:"min-h-screen bg-white flex flex-col font-serif text-gray-800",children:[i.jsx("header",{className:"pt-16 pb-8 text-center border-b border-gray-300",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("img",{src:AX,alt:"Formade logo",className:"h-16 mx-auto mb-4"}),i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Vendor User Agreement"}),i.jsx("p",{className:"text-lg mb-2",children:"Workbay, 2nd Floor, Lagos City Mall, Onikan, TBS Lagos"}),i.jsxs("p",{className:"text-lg mb-2",children:["Contact:"," ",i.jsx("a",{href:"mailto:info@foremade.com",className:"underline hover:text-blue-600",children:"info@foremade.com"})]}),i.jsx("p",{className:"text-lg mb-4",children:"Tel: +234 9126866984, +44 7481841132 (WhatsApp)"}),i.jsx("p",{className:"text-lg",children:"Effective Date: _________________________"})]})}),i.jsxs("main",{className:"max-w-4xl mx-auto p-8 my-8 border border-gray-200",children:[i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"Introduction"}),i.jsx("p",{className:"text-justify",children:"Welcome to FOREMADE. This Vendor User Agreement (Agreement) governs your participation as a seller (Vendor, You, Your) on the FOREMADE Online Marketplace (FOREMADE, Platform, We, Us, Our). By registering and listing products on FOREMADE, you agree to be bound by the terms and conditions set forth below."})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"1. Purpose of the Platform"}),i.jsx("p",{className:"text-justify",children:"FOREMADE provides Vendors with a free, professional online platform to sell their products to buyers both locally and internationally. FOREMADE offers unmatched visibility, access to a growing customer base, and a seamless transaction experience."})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"2. Platform Usage Rights"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Vendors are granted the right to list, market, and sell products on the FOREMADE marketplace."}),i.jsx("li",{children:"Vendors retain full ownership of their products but grant FOREMADE a non-exclusive, royalty-free license to display, market, and promote the products across the platform and its promotional channels."}),i.jsx("li",{children:"Vendors must provide accurate product descriptions, pricing, and images."})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"3. Free Access & Seller Costs"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"As of the effective date of this agreement, FOREMADE does not charge Vendors any listing fees or commissions to sell products on the platform."}),i.jsx("li",{children:"Visibility on FOREMADE is free of charge."}),i.jsx("li",{children:"FOREMADE reserves the right to introduce optional paid promotional services to Vendors for enhanced visibility."})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"4. Pricing, Taxes, and Shipping Structure"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Vendors set their base product prices."}),i.jsx("li",{children:"FOREMADE may add applicable government taxes and shipping fees to the listed price for the buyer."}),i.jsx("li",{children:"Example: If you price an item at 200, the displayed price to the buyer may be 220 (which includes tax and delivery). You will always receive 200 per unit sold."}),i.jsx("li",{children:"Buyers, not Vendors, pay for delivery."}),i.jsx("li",{children:"FOREMADE manages shipping logistics to ensure professional delivery and compliance."}),i.jsx("li",{children:"FOREMADE may generate revenue from buyer protection fees and optional Vendor promotions."})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"5. Vendor Responsibilities"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Maintain product quality and provide accurate product listings."}),i.jsx("li",{children:"Keep product prices competitive, ideally lower than your in-store prices, to attract more customers and stay ahead of competition."}),i.jsx("li",{children:"Comply with all applicable laws, including product safety, labelling, and intellectual property rights."})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"6. Prohibited Activities"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Direct private interactions between Vendors and customers outside the FOREMADE platform are strictly prohibited to maintain professionalism and platform integrity."}),i.jsx("li",{children:"Personal deliveries by Vendors are not allowed. All items must pass through FOREMADEs logistics system for quality control and tracking."}),i.jsx("li",{children:"Any attempt to bypass the platforms payment or shipping process will result in immediate termination of your account."})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"7. Returns, Damages, and Loss"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Refer to the FOREMADE Return Policy published on our website for details on customer returns."}),i.jsx("li",{children:"Any product lost or damaged while in the custody of FOREMADE will be replaced or reimbursed by FOREMADE."}),i.jsx("li",{children:"Products are inspected at collection to ensure compliance with the listing description."})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"8. Payment to Vendors"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"Payment for products sold will be processed and released upon the successful pickup of the item from the Vendors shop by FOREMADEs logistics team."}),i.jsx("li",{children:"FOREMADE provides transparent statements of sales and payments to Vendors."})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"9. Transparency & Trust"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"FOREMADE is committed to operating with honesty, fairness, and full disclosure."}),i.jsx("li",{children:"We encourage open communication regarding your concerns and we are dedicated to building long-term partnerships with all Vendors."})]})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"10. Modifications to Agreement"}),i.jsx("p",{className:"text-justify",children:"FOREMADE may update this Agreement periodically. You will be notified of any significant changes, and continued use of the platform constitutes acceptance of the revised terms."})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"11. Termination"}),i.jsx("p",{className:"text-justify",children:"FOREMADE reserves the right to suspend or terminate any Vendor account found to be in violation of this Agreement or applicable laws."})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"12. Governing Law"}),i.jsx("p",{className:"text-justify",children:"This Agreement shall be governed and interpreted under the laws of the Federal Republic of Nigeria."})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3",children:"Acceptance"}),i.jsx("p",{className:"text-justify mb-4",children:"By registering and selling on FOREMADE, you acknowledge that you have read, understood, and agreed to all the terms of this Agreement."}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t border-gray-300 pt-4",children:[i.jsxs("div",{children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Vendors Name:"})," _______________________________"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Position:"})," _____________________________________"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Business Name:"})," _______________________________"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Address:"})," _____________________________________"]})]}),i.jsxs("div",{children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Signature:"})," _____________________________"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Date:"})," ________________________________"]})]})]})]}),i.jsx("div",{className:"text-right",children:i.jsx("button",{onClick:r,className:"bg-slate-600 text-white px-4 py-2 rounded hover:bg-slate-800 transition duration-200",children:"Download Agreement"})})]}),i.jsxs("footer",{className:"border-t border-gray-300 p-6 text-center text-gray-800",children:[i.jsx("p",{children:"Workbay, 2nd Floor, Lagos City Mall, Onikan, TBS Lagos"}),i.jsxs("p",{children:["Contact:"," ",i.jsx("a",{href:"mailto:info@foremade.com",className:"underline hover:text-blue-600",children:"info@foremade.com"})]}),i.jsx("p",{children:"Tel: +234 9126866984, +44 7481841132 (WhatsApp)"}),i.jsx("p",{className:"mt-2",children:i.jsx(Fe,{to:"/seller/register",className:"underline hover:text-blue-600",children:"Back to Vendor Registration"})})]})]})}function CX(){return i.jsxs("div",{className:"max-w-3xl mx-auto py-10 px-4",children:[i.jsx("h1",{className:"text-3xl font-extrabold text-blue-700 mb-6",children:"FOREMADE Product Upload Guidelines"}),i.jsx("p",{className:"mb-6 text-gray-700",children:"To ensure quality and consistency across our marketplace, please follow these standards when uploading products:"}),i.jsx("hr",{className:"my-6"}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"1. Product Images & Videos"}),i.jsxs("ul",{className:"list-disc ml-6 text-gray-800 space-y-2",children:[i.jsx("li",{children:"Upload at least 4 different images of your product."}),i.jsx("li",{children:"You may add up to 8 images plus 1 video per product."}),i.jsx("li",{children:"Images must be clear, sharp, and high-quality."}),i.jsx("li",{children:"Use a plain, neutral background (preferably white or light)."}),i.jsx("li",{children:"Show multiple angles: front, back, side, and close-up."}),i.jsx("li",{children:"If possible, add a 360 video to enhance customer trust."}),i.jsx("li",{children:"Display the product in use (e.g., worn, hanging, or placed naturally) where relevant."})]})]}),i.jsx("hr",{className:"my-6"}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"2. Product Description"}),i.jsxs("ul",{className:"list-disc ml-6 text-gray-800 space-y-2",children:[i.jsx("li",{children:"Provide a detailed and accurate description."}),i.jsx("li",{children:"Include size, color, material, weight, and key features."}),i.jsx("li",{children:"Write in a way that gives buyers full clarity about the item."}),i.jsx("li",{children:"Avoid vague terms  always be specific and transparent."})]})]}),i.jsx("hr",{className:"my-6"}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"3. Compliance for Consumable Goods"}),i.jsxs("ul",{className:"list-disc ml-6 text-gray-800 space-y-2",children:[i.jsx("li",{children:"All consumables (food, beverages, cosmetics, etc.) must meet food safety standards."}),i.jsx("li",{children:"NAFDAC registration number (or equivalent certification in your country) must be clearly printed on packaging."}),i.jsx("li",{children:"Products without proper certification will not be approved for sale."})]})]}),i.jsx("hr",{className:"my-6"}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"4. General Standards"}),i.jsxs("ul",{className:"list-disc ml-6 text-gray-800 space-y-2",children:[i.jsx("li",{children:"Only upload products you own or are authorized to sell."}),i.jsx("li",{children:"All content (images, text, videos) must be original."}),i.jsx("li",{children:"Products must be authentic and not counterfeit."})]})]}),i.jsx("hr",{className:"my-6"}),i.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg mt-8",children:i.jsx("span",{className:"text-green-700 font-semibold",children:" By following these guidelines, your products will gain better visibility, higher approval chances, and increased customer trust on FOREMADE."})})]})}const PX=()=>i.jsx("div",{className:"min-h-screen bg-background-light py-10",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[i.jsx("div",{className:"w-20 h-20 mb-4 flex items-center justify-center bg-primary/10 rounded-full",children:i.jsx("i",{className:"bx bx-package text-5xl text-primary"})}),i.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-primary mb-2",children:"FOREMADE Shipping Policy"}),i.jsx("p",{className:"text-secondary max-w-xl",children:"Learn about our shipping methods, fees, and delivery timeframes for FOREMADE Marketplace."})]}),i.jsxs("div",{className:"bg-background-light rounded-xl shadow-lg p-6 md:p-10 border border-border-light",children:[i.jsxs("p",{className:"mb-2 text-secondary",children:[i.jsx("strong",{children:"Last Updated:"})," July 5, 2024"]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"1. Shipping Methods"}),i.jsx("p",{className:"mb-4 text-secondary",children:"FOREMADE offers multiple shipping options depending on the location of the buyer and seller:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Local Delivery:"})," Available for buyers and sellers within the same country or region."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Standard Shipping:"})," Carried out through our partnered courier services with tracking provided."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Express Shipping:"})," Optional faster delivery for eligible items at an additional cost."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Pick-Up Options:"})," In some locations, buyers may choose to collect items directly from sellers or drop-off points."]})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"2. Shipping Fees"}),i.jsx("p",{className:"mb-4 text-secondary",children:"Shipping fees are automatically calculated at checkout based on item size, weight, and destination. Multi-item discounts may apply when purchasing several products from the same seller. Sellers are responsible for accurately entering item weight and dimensions to ensure correct fee calculation."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"3. Order Processing Time"}),i.jsxs("p",{className:"mb-4 text-secondary",children:["Sellers must ship items within ",i.jsx("strong",{children:"2 business days"})," of receiving an order. Failure to ship within the required time may lead to order cancellation and account penalties."]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"4. Delivery Timeframes"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Local Delivery:"})," 25 business days"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Domestic Standard Shipping:"})," 37 business days"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"International Shipping:"})," 721 business days (depending on destination and customs)"]})]}),i.jsx("p",{className:"mb-4 text-secondary",children:"Delivery times may vary based on the courier and unforeseen circumstances such as weather or strikes."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"5. Tracking & Confirmation"}),i.jsx("p",{className:"mb-4 text-secondary",children:"All shipped orders must include tracking information. Buyers will receive tracking updates and can monitor delivery progress through their FOREMADE account."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"6. Shipping Responsibility"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Sellers:"})," Responsible for packaging items securely and dispatching within the stated timeframe."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Buyers:"})," Responsible for providing a complete and accurate delivery address."]})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"7. Lost or Delayed Shipments"}),i.jsxs("p",{className:"mb-4 text-secondary",children:["If an item hasnt arrived within the expected timeframe, buyers should contact the seller first via the platform. If unresolved, buyers can raise an issue within ",i.jsx("strong",{children:"7 days after the estimated delivery date"})," for further investigation and support."]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"8. International Shipping & Customs"}),i.jsx("p",{className:"mb-4 text-secondary",children:"International orders may be subject to customs fees, import duties, or taxes depending on the destination country. These charges are the responsibility of the buyer unless otherwise stated."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"9. Non-Delivery or Return to Sender"}),i.jsx("p",{className:"mb-4 text-secondary",children:"If an order is returned due to incorrect address or non-collection, the buyer may be responsible for re-shipping costs."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"10. Prohibited Items"}),i.jsxs("p",{className:"mb-4 text-secondary",children:["Items that violate FOREMADE's ",i.jsx(Fe,{to:"/terms-conditions",className:"policy-link",children:"Prohibited Products Policy"})," or applicable shipping laws will not be permitted."]}),i.jsxs("p",{className:"mb-4 text-secondary",children:["If you need help with your shipment, contact our support team via the ",i.jsx(Fe,{to:"/support",className:"policy-link",children:"Help Centre"})," on your dashboard."]})]})]})}),RX=()=>{};var fI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},IX=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const n=r[t++];e[s++]=String.fromCharCode((a&31)<<6|n&63)}else if(a>239&&a<365){const n=r[t++],o=r[t++],l=r[t++],c=((a&7)<<18|(n&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const n=r[t++],o=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(n&63)<<6|o&63)}}return e.join("")},P8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const n=r[a],o=a+1<r.length,l=o?r[a+1]:0,c=a+2<r.length,d=c?r[a+2]:0,u=n>>2,h=(n&3)<<4|l>>4;let m=(l&15)<<2|d>>6,p=d&63;c||(p=64,o||(m=64)),s.push(t[u],t[h],t[m],t[p])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(C8(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):IX(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const n=t[r.charAt(a++)],l=a<r.length?t[r.charAt(a)]:0;++a;const d=a<r.length?t[r.charAt(a)]:64;++a;const h=a<r.length?t[r.charAt(a)]:64;if(++a,n==null||l==null||d==null||h==null)throw new DX;const m=n<<2|l>>4;if(s.push(m),d!==64){const p=l<<4&240|d>>2;if(s.push(p),h!==64){const b=d<<6&192|h;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OX=function(r){const e=C8(r);return P8.encodeByteArray(e,!0)},rw=function(r){return OX(r).replace(/\./g,"")},R8=function(r){try{return P8.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FX=()=>MX().__FIREBASE_DEFAULTS__,LX=()=>{if(typeof process>"u"||typeof fI>"u")return;const r=fI.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},BX=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&R8(r[1]);return e&&JSON.parse(e)},u2=()=>{try{return RX()||FX()||LX()||BX()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},I8=r=>{var e,t;return(t=(e=u2())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},D8=r=>{const e=I8(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},O8=()=>{var r;return(r=u2())===null||r===void 0?void 0:r.config},M8=r=>{var e;return(e=u2())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dA(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,n=r.sub||r.user_id;if(!n)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:n,user_id:n,firebase:{sign_in_provider:"custom",identities:{}}},r);return[rw(JSON.stringify(t)),rw(JSON.stringify(o)),""].join(".")}const cp={};function zX(){const r={prod:[],emulator:[]};for(const e of Object.keys(cp))cp[e]?r.emulator.push(e):r.prod.push(e);return r}function VX(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let mI=!1;function uA(r,e){if(typeof window>"u"||typeof document>"u"||!Zd(window.location.host)||cp[r]===e||cp[r]||mI)return;cp[r]=e;function t(m){return`__firebase__banner__${m}`}const s="__firebase__banner",n=zX().prod.length>0;function o(){const m=document.getElementById(s);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{mI=!0,o()},m}function u(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=VX(s),p=t("text"),b=document.getElementById(p)||document.createElement("span"),x=t("learnmore"),y=document.getElementById(x)||document.createElement("a"),w=t("preprendIcon"),k=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const N=m.element;l(N),u(y,x);const T=d();c(k,w),N.append(k,b,y,T),document.body.appendChild(N)}n?(b.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function $X(){var r;const e=(r=u2())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WX(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qX(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function GX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YX(){const r=Rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function XX(){return!$X()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KX(){try{return typeof indexedDB=="object"}catch{return!1}}function ZX(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var n;e(((n=a.error)===null||n===void 0?void 0:n.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX="FirebaseError";class Il extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=QX,Object.setPrototypeOf(this,Il.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ox.prototype.create)}}class Ox{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,n=this.errors[e],o=n?JX(n,s):"Error",l=`${this.serviceName}: ${o} (${a}).`;return new Il(a,l,s)}}function JX(r,e){return r.replace(eK,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const eK=/\{\$([^}]+)}/g;function tK(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function kc(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const n=r[a],o=e[a];if(gI(n)&&gI(o)){if(!kc(n,o))return!1}else if(n!==o)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function gI(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kg(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,n]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(n)}}),e}function Zg(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function rK(r,e){const t=new sK(r,e);return t.subscribe.bind(t)}class sK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");aK(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=vN),a.error===void 0&&(a.error=vN),a.complete===void 0&&(a.complete=vN);const n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),n}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aK(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function vN(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(r){return r&&r._delegate?r._delegate:r}class Pd{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new UX;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(n){if(a)return null;throw n}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oK(e))try{this.getOrInitializeService({instanceIdentifier:zu})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const n=this.getOrInitializeService({instanceIdentifier:a});s.resolve(n)}catch{}}}}clearInstance(e=zu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zu){return this.instances.has(e)}getOptions(e=zu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[n,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);s===l&&o.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),n=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;n.add(e),this.onInitCallbacks.set(a,n);const o=this.instances.get(a);return o&&e(o,a),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iK(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zu){return this.component?this.component.multipleInstances?e:zu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iK(r){return r===zu?void 0:r}function oK(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fr||(Fr={}));const cK={debug:Fr.DEBUG,verbose:Fr.VERBOSE,info:Fr.INFO,warn:Fr.WARN,error:Fr.ERROR,silent:Fr.SILENT},dK=Fr.INFO,uK={[Fr.DEBUG]:"log",[Fr.VERBOSE]:"log",[Fr.INFO]:"info",[Fr.WARN]:"warn",[Fr.ERROR]:"error"},hK=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=uK[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hA{constructor(e){this.name=e,this._logLevel=dK,this._logHandler=hK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fr.DEBUG,...e),this._logHandler(this,Fr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fr.VERBOSE,...e),this._logHandler(this,Fr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fr.INFO,...e),this._logHandler(this,Fr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fr.WARN,...e),this._logHandler(this,Fr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fr.ERROR,...e),this._logHandler(this,Fr.ERROR,...e)}}const fK=(r,e)=>e.some(t=>r instanceof t);let pI,xI;function mK(){return pI||(pI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gK(){return xI||(xI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L8=new WeakMap,dj=new WeakMap,B8=new WeakMap,wN=new WeakMap,fA=new WeakMap;function pK(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",n),r.removeEventListener("error",o)},n=()=>{t(Nd(r.result)),a()},o=()=>{s(r.error),a()};r.addEventListener("success",n),r.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&L8.set(t,r)}).catch(()=>{}),fA.set(e,r),e}function xK(r){if(dj.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",n),r.removeEventListener("error",o),r.removeEventListener("abort",o)},n=()=>{t(),a()},o=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",n),r.addEventListener("error",o),r.addEventListener("abort",o)});dj.set(r,e)}let uj={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return dj.get(r);if(e==="objectStoreNames")return r.objectStoreNames||B8.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Nd(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function bK(r){uj=r(uj)}function yK(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(kN(this),e,...t);return B8.set(s,e.sort?e.sort():[e]),Nd(s)}:gK().includes(r)?function(...e){return r.apply(kN(this),e),Nd(L8.get(this))}:function(...e){return Nd(r.apply(kN(this),e))}}function vK(r){return typeof r=="function"?yK(r):(r instanceof IDBTransaction&&xK(r),fK(r,mK())?new Proxy(r,uj):r)}function Nd(r){if(r instanceof IDBRequest)return pK(r);if(wN.has(r))return wN.get(r);const e=vK(r);return e!==r&&(wN.set(r,e),fA.set(e,r)),e}const kN=r=>fA.get(r);function wK(r,e,{blocked:t,upgrade:s,blocking:a,terminated:n}={}){const o=indexedDB.open(r,e),l=Nd(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Nd(o.result),c.oldVersion,c.newVersion,Nd(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{n&&c.addEventListener("close",()=>n()),a&&c.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const kK=["get","getKey","getAll","getAllKeys","count"],_K=["put","add","delete","clear"],_N=new Map;function bI(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_N.get(e))return _N.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=_K.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||kK.includes(t)))return;const n=async function(o,...l){const c=this.transaction(o,a?"readwrite":"readonly");let d=c.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[t](...l),a&&c.done]))[0]};return _N.set(e,n),n}bK(r=>({...r,get:(e,t,s)=>bI(e,t)||r.get(e,t,s),has:(e,t)=>!!bI(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(SK(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function SK(r){const e=r.getComponent();return e?.type==="VERSION"}const hj="@firebase/app",yI="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new hA("@firebase/app"),jK="@firebase/app-compat",EK="@firebase/analytics-compat",AK="@firebase/analytics",TK="@firebase/app-check-compat",CK="@firebase/app-check",PK="@firebase/auth",RK="@firebase/auth-compat",IK="@firebase/database",DK="@firebase/data-connect",OK="@firebase/database-compat",MK="@firebase/functions",FK="@firebase/functions-compat",LK="@firebase/installations",BK="@firebase/installations-compat",UK="@firebase/messaging",zK="@firebase/messaging-compat",VK="@firebase/performance",HK="@firebase/performance-compat",$K="@firebase/remote-config",WK="@firebase/remote-config-compat",qK="@firebase/storage",GK="@firebase/storage-compat",YK="@firebase/firestore",XK="@firebase/ai",KK="@firebase/firestore-compat",ZK="firebase",QK="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="[DEFAULT]",JK={[hj]:"fire-core",[jK]:"fire-core-compat",[AK]:"fire-analytics",[EK]:"fire-analytics-compat",[CK]:"fire-app-check",[TK]:"fire-app-check-compat",[PK]:"fire-auth",[RK]:"fire-auth-compat",[IK]:"fire-rtdb",[DK]:"fire-data-connect",[OK]:"fire-rtdb-compat",[MK]:"fire-fn",[FK]:"fire-fn-compat",[LK]:"fire-iid",[BK]:"fire-iid-compat",[UK]:"fire-fcm",[zK]:"fire-fcm-compat",[VK]:"fire-perf",[HK]:"fire-perf-compat",[$K]:"fire-rc",[WK]:"fire-rc-compat",[qK]:"fire-gcs",[GK]:"fire-gcs-compat",[YK]:"fire-fst",[KK]:"fire-fst-compat",[XK]:"fire-vertex","fire-js":"fire-js",[ZK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map,eZ=new Map,mj=new Map;function vI(r,e){try{r.container.addComponent(e)}catch(t){_c.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function bh(r){const e=r.name;if(mj.has(e))return _c.debug(`There were multiple attempts to register component ${e}.`),!1;mj.set(e,r);for(const t of sw.values())vI(t,r);for(const t of eZ.values())vI(t,r);return!0}function h2(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ii(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sd=new Ox("app","Firebase",tZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=QK;function U8(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:fj,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Sd.create("bad-app-name",{appName:String(a)});if(t||(t=O8()),!t)throw Sd.create("no-options");const n=sw.get(a);if(n){if(kc(t,n.options)&&kc(s,n.config))return n;throw Sd.create("duplicate-app",{appName:a})}const o=new lK(a);for(const c of mj.values())o.addComponent(c);const l=new rZ(t,s,o);return sw.set(a,l),l}function mA(r=fj){const e=sw.get(r);if(!e&&r===fj&&O8())return U8();if(!e)throw Sd.create("no-app",{appName:r});return e}function pl(r,e,t){var s;let a=(s=JK[r])!==null&&s!==void 0?s:r;t&&(a+=`-${t}`);const n=a.match(/\s|\//),o=e.match(/\s|\//);if(n||o){const l=[`Unable to register library "${a}" with version "${e}":`];n&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),n&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_c.warn(l.join(" "));return}bh(new Pd(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZ="firebase-heartbeat-database",aZ=1,Bp="firebase-heartbeat-store";let NN=null;function z8(){return NN||(NN=wK(sZ,aZ,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bp)}catch(t){console.warn(t)}}}}).catch(r=>{throw Sd.create("idb-open",{originalErrorMessage:r.message})})),NN}async function nZ(r){try{const t=(await z8()).transaction(Bp),s=await t.objectStore(Bp).get(V8(r));return await t.done,s}catch(e){if(e instanceof Il)_c.warn(e.message);else{const t=Sd.create("idb-get",{originalErrorMessage:e?.message});_c.warn(t.message)}}}async function wI(r,e){try{const s=(await z8()).transaction(Bp,"readwrite");await s.objectStore(Bp).put(e,V8(r)),await s.done}catch(t){if(t instanceof Il)_c.warn(t.message);else{const s=Sd.create("idb-set",{originalErrorMessage:t?.message});_c.warn(s.message)}}}function V8(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iZ=1024,oZ=30;class lZ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dZ(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=kI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(o=>o.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:a}),this._heartbeatsCache.heartbeats.length>oZ){const o=uZ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_c.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kI(),{heartbeatsToSend:s,unsentEntries:a}=cZ(this._heartbeatsCache.heartbeats),n=rw(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(t){return _c.warn(t),""}}}function kI(){return new Date().toISOString().substring(0,10)}function cZ(r,e=iZ){const t=[];let s=r.slice();for(const a of r){const n=t.find(o=>o.agent===a.agent);if(n){if(n.dates.push(a.date),_I(t)>e){n.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),_I(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class dZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KX()?ZX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nZ(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return wI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return wI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _I(r){return rw(JSON.stringify({version:2,heartbeats:r})).length}function uZ(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hZ(r){bh(new Pd("platform-logger",e=>new NK(e),"PRIVATE")),bh(new Pd("heartbeat",e=>new lZ(e),"PRIVATE")),pl(hj,yI,r),pl(hj,yI,"esm2017"),pl("fire-js","")}hZ("");var fZ="firebase",mZ="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pl(fZ,mZ,"app");function gA(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t}function H8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gZ=H8,$8=new Ox("auth","Firebase",H8());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new hA("@firebase/auth");function pZ(r,...e){aw.logLevel<=Fr.WARN&&aw.warn(`Auth (${Bh}): ${r}`,...e)}function N1(r,...e){aw.logLevel<=Fr.ERROR&&aw.error(`Auth (${Bh}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(r,...e){throw xA(r,...e)}function Mo(r,...e){return xA(r,...e)}function pA(r,e,t){const s=Object.assign(Object.assign({},gZ()),{[e]:t});return new Ox("auth","Firebase",s).create(e,{appName:r.name})}function pc(r){return pA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xZ(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&mo(r,"argument-error"),pA(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xA(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return $8.create(r,...e)}function Zt(r,e,...t){if(!r)throw xA(e,...t)}function lc(r){const e="INTERNAL ASSERTION FAILED: "+r;throw N1(e),new Error(e)}function Nc(r,e){r||lc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function bZ(){return NI()==="http:"||NI()==="https:"}function NI(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bZ()||qX()||"connection"in navigator)?navigator.onLine:!0}function vZ(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nc(t>e,"Short delay should be less than long delay!"),this.isMobile=HX()||GX()}get(){return yZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(r,e){Nc(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_Z=new Fx(3e4,6e4);function Rc(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function $o(r,e,t,s,a={}){return q8(r,a,async()=>{let n={},o={};s&&(e==="GET"?o=s:n={body:JSON.stringify(s)});const l=Mx(Object.assign({key:r.config.apiKey},o)).slice(1),c=await r._getAdditionalHeaders();c["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode);const d=Object.assign({method:e,headers:c},n);return WX()||(d.referrerPolicy="no-referrer"),r.emulatorConfig&&Zd(r.emulatorConfig.host)&&(d.credentials="include"),W8.fetch()(await G8(r,r.config.apiHost,t,l),d)})}async function q8(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},wZ),e);try{const a=new SZ(r),n=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const o=await n.json();if("needConfirmation"in o)throw $y(r,"account-exists-with-different-credential",o);if(n.ok&&!("errorMessage"in o))return o;{const l=n.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $y(r,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw $y(r,"email-already-in-use",o);if(c==="USER_DISABLED")throw $y(r,"user-disabled",o);const u=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw pA(r,u,d);mo(r,u)}}catch(a){if(a instanceof Il)throw a;mo(r,"network-request-failed",{message:String(a)})}}async function Lx(r,e,t,s,a={}){const n=await $o(r,e,t,s,a);return"mfaPendingCredential"in n&&mo(r,"multi-factor-auth-required",{_serverResponse:n}),n}async function G8(r,e,t,s){const a=`${e}${t}?${s}`,n=r,o=n.config.emulator?bA(r.config,a):`${r.config.apiScheme}://${a}`;return kZ.includes(t)&&(await n._persistenceManagerAvailable,n._getPersistenceType()==="COOKIE")?n._getPersistence()._getFinalTarget(o).toString():o}function NZ(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Mo(this.auth,"network-request-failed")),_Z.get())})}}function $y(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Mo(r,e,s);return a.customData._tokenResponse=t,a}function SI(r){return r!==void 0&&r.enterprise!==void 0}class jZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return NZ(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EZ(r,e){return $o(r,"GET","/v2/recaptchaConfig",Rc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AZ(r,e){return $o(r,"POST","/v1/accounts:delete",e)}async function nw(r,e){return $o(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(r,e=!1){return is(r).getIdToken(e)}async function TZ(r,e=!1){const t=is(r),s=await t.getIdToken(e),a=yA(s);Zt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const n=typeof a.firebase=="object"?a.firebase:void 0,o=n?.sign_in_provider;return{claims:a,token:s,authTime:dp(SN(a.auth_time)),issuedAtTime:dp(SN(a.iat)),expirationTime:dp(SN(a.exp)),signInProvider:o||null,signInSecondFactor:n?.sign_in_second_factor||null}}function SN(r){return Number(r)*1e3}function yA(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return N1("JWT malformed, contained fewer than 3 sections"),null;try{const a=R8(t);return a?JSON.parse(a):(N1("Failed to decode base64 JWT payload"),null)}catch(a){return N1("Caught error parsing JWT payload as JSON",a?.toString()),null}}function EI(r){const e=yA(r);return Zt(e,"internal-error"),Zt(typeof e.exp<"u","internal-error"),Zt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Il&&CZ(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function CZ({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dp(this.lastLoginAt),this.creationTime=dp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(r){var e;const t=r.auth,s=await r.getIdToken(),a=await yh(r,nw(t,{idToken:s}));Zt(a?.users.length,t,"internal-error");const n=a.users[0];r._notifyReloadListener(n);const o=!((e=n.providerUserInfo)===null||e===void 0)&&e.length?Y8(n.providerUserInfo):[],l=IZ(r.providerData,o),c=r.isAnonymous,d=!(r.email&&n.passwordHash)&&!l?.length,u=c?d:!1,h={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:l,metadata:new pj(n.createdAt,n.lastLoginAt),isAnonymous:u};Object.assign(r,h)}async function RZ(r){const e=is(r);await iw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IZ(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function Y8(r){return r.map(e=>{var{providerId:t}=e,s=gA(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DZ(r,e){const t=await q8(r,{},async()=>{const s=Mx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:n}=r.config,o=await G8(r,a,"/v1/token",`key=${n}`),l=await r._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return r.emulatorConfig&&Zd(r.emulatorConfig.host)&&(c.credentials="include"),W8.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OZ(r,e){return $o(r,"POST","/v2/accounts:revokeToken",Rc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Zt(e.idToken,"internal-error"),Zt(typeof e.idToken<"u","internal-error"),Zt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Zt(e.length!==0,"internal-error");const t=EI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Zt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:n}=await DZ(e,t);this.updateTokensAndExpiration(s,a,Number(n))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:n}=t,o=new fm;return s&&(Zt(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),a&&(Zt(typeof a=="string","internal-error",{appName:e}),o.accessToken=a),n&&(Zt(typeof n=="number","internal-error",{appName:e}),o.expirationTime=n),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fm,this.toJSON())}_performRefresh(){return lc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(r,e){Zt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Co{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,n=gA(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=n.displayName||null,this.email=n.email||null,this.emailVerified=n.emailVerified||!1,this.phoneNumber=n.phoneNumber||null,this.photoURL=n.photoURL||null,this.isAnonymous=n.isAnonymous||!1,this.tenantId=n.tenantId||null,this.providerData=n.providerData?[...n.providerData]:[],this.metadata=new pj(n.createdAt||void 0,n.lastLoginAt||void 0)}async getIdToken(e){const t=await yh(this,this.stsTokenManager.getToken(this.auth,e));return Zt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TZ(this,e)}reload(){return RZ(this)}_assign(e){this!==e&&(Zt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Co(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await iw(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(pc(this.auth));const e=await this.getIdToken();return await yh(this,AZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,n,o,l,c,d,u;const h=(s=t.displayName)!==null&&s!==void 0?s:void 0,m=(a=t.email)!==null&&a!==void 0?a:void 0,p=(n=t.phoneNumber)!==null&&n!==void 0?n:void 0,b=(o=t.photoURL)!==null&&o!==void 0?o:void 0,x=(l=t.tenantId)!==null&&l!==void 0?l:void 0,y=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,w=(d=t.createdAt)!==null&&d!==void 0?d:void 0,k=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:N,emailVerified:T,isAnonymous:E,providerData:I,stsTokenManager:S}=t;Zt(N&&S,e,"internal-error");const A=fm.fromJSON(this.name,S);Zt(typeof N=="string",e,"internal-error"),ld(h,e.name),ld(m,e.name),Zt(typeof T=="boolean",e,"internal-error"),Zt(typeof E=="boolean",e,"internal-error"),ld(p,e.name),ld(b,e.name),ld(x,e.name),ld(y,e.name),ld(w,e.name),ld(k,e.name);const P=new Co({uid:N,auth:e,email:m,emailVerified:T,displayName:h,isAnonymous:E,photoURL:b,phoneNumber:p,tenantId:x,stsTokenManager:A,createdAt:w,lastLoginAt:k});return I&&Array.isArray(I)&&(P.providerData=I.map(O=>Object.assign({},O))),y&&(P._redirectEventId=y),P}static async _fromIdTokenResponse(e,t,s=!1){const a=new fm;a.updateFromServerResponse(t);const n=new Co({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await iw(n),n}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Zt(a.localId!==void 0,"internal-error");const n=a.providerUserInfo!==void 0?Y8(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!n?.length,l=new fm;l.updateFromIdToken(s);const c=new Co({uid:a.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:n,metadata:new pj(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!n?.length};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Map;function cc(r){Nc(r instanceof Function,"Expected a class definition");let e=AI.get(r);return e?(Nc(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,AI.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}X8.type="NONE";const TI=X8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(r,e,t){return`firebase:${r}:${e}:${t}`}class mm{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:n}=this.auth;this.fullUserKey=S1(this.userKey,a.apiKey,n),this.fullPersistenceKey=S1("persistence",a.apiKey,n),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nw(this.auth,{idToken:e}).catch(()=>{});return t?Co._fromGetAccountInfoResponse(this.auth,t,e):null}return Co._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new mm(cc(TI),e,s);const a=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let n=a[0]||cc(TI);const o=S1(s,e.config.apiKey,e.name);let l=null;for(const d of t)try{const u=await d._get(o);if(u){let h;if(typeof u=="string"){const m=await nw(e,{idToken:u}).catch(()=>{});if(!m)break;h=await Co._fromGetAccountInfoResponse(e,m,u)}else h=Co._fromJSON(e,u);d!==n&&(l=h),n=d;break}}catch{}const c=a.filter(d=>d._shouldAllowMigration);return!n._shouldAllowMigration||!c.length?new mm(n,e,s):(n=c[0],l&&await n._set(o,l.toJSON()),await Promise.all(t.map(async d=>{if(d!==n)try{await d._remove(o)}catch{}})),new mm(n,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(K8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tB(e))return"Blackberry";if(rB(e))return"Webos";if(Z8(e))return"Safari";if((e.includes("chrome/")||Q8(e))&&!e.includes("edge/"))return"Chrome";if(eB(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function K8(r=Rn()){return/firefox\//i.test(r)}function Z8(r=Rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q8(r=Rn()){return/crios\//i.test(r)}function J8(r=Rn()){return/iemobile/i.test(r)}function eB(r=Rn()){return/android/i.test(r)}function tB(r=Rn()){return/blackberry/i.test(r)}function rB(r=Rn()){return/webos/i.test(r)}function vA(r=Rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function MZ(r=Rn()){var e;return vA(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FZ(){return YX()&&document.documentMode===10}function sB(r=Rn()){return vA(r)||eB(r)||rB(r)||tB(r)||/windows phone/i.test(r)||J8(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(r,e=[]){let t;switch(r){case"Browser":t=CI(Rn());break;case"Worker":t=`${CI(Rn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bh}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=n=>new Promise((o,l)=>{try{const c=e(n);o(c)}catch(c){l(c)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BZ(r,e={}){return $o(r,"GET","/v2/passwordPolicy",Rc(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ=6;class zZ{constructor(e){var t,s,a,n;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:UZ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(n=e.forceUpgradeOnSignin)!==null&&n!==void 0?n:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,n,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsLowercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(n=c.containsUppercaseLetter)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,n){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PI(this),this.idTokenSubscription=new PI(this),this.beforeStateQueue=new LZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(n=>this._resolvePersistenceManagerAvailable=n)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cc(t)),this._initializationPromise=this.queue(async()=>{var s,a,n;if(!this._deleted&&(this.persistenceManager=await mm.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((n=this.currentUser)===null||n===void 0?void 0:n.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nw(this,{idToken:e}),s=await Co._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ii(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,n=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=a?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(a=c.user,n=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(n)try{await this.beforeStateQueue.runMiddleware(a)}catch(o){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await iw(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(pc(this));const t=e?is(e):null;return t&&Zt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Zt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(pc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(pc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BZ(this),t=new zZ(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ox("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await OZ(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cc(e)||this._popupRedirectResolver;Zt(t,this,"argument-error"),this.redirectPersistenceManager=await mm.create(this,[cc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const n=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Zt(l,this,"internal-error"),l.then(()=>{o||n(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,s,a);return()=>{o=!0,c()}}else{const c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&pZ(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ic(r){return is(r)}class PI{constructor(e){this.auth=e,this.observer=null,this.addObserver=rK(t=>this.observer=t)}get next(){return Zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HZ(r){f2=r}function nB(r){return f2.loadJS(r)}function $Z(){return f2.recaptchaEnterpriseScript}function WZ(){return f2.gapiScript}function qZ(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class GZ{constructor(){this.enterprise=new YZ}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class YZ{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const XZ="recaptcha-enterprise",iB="NO_RECAPTCHA";class KZ{constructor(e){this.type=XZ,this.auth=Ic(e)}async verify(e="verify",t=!1){async function s(n){if(!t){if(n.tenantId==null&&n._agentRecaptchaConfig!=null)return n._agentRecaptchaConfig.siteKey;if(n.tenantId!=null&&n._tenantRecaptchaConfigs[n.tenantId]!==void 0)return n._tenantRecaptchaConfigs[n.tenantId].siteKey}return new Promise(async(o,l)=>{EZ(n,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new jZ(c);return n.tenantId==null?n._agentRecaptchaConfig=d:n._tenantRecaptchaConfigs[n.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function a(n,o,l){const c=window.grecaptcha;SI(c)?c.enterprise.ready(()=>{c.enterprise.execute(n,{action:e}).then(d=>{o(d)}).catch(()=>{o(iB)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GZ().execute("siteKey",{action:"verify"}):new Promise((n,o)=>{s(this.auth).then(l=>{if(!t&&SI(window.grecaptcha))a(l,n,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=$Z();c.length!==0&&(c+=l),nB(c).then(()=>{a(l,n,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function RI(r,e,t,s=!1,a=!1){const n=new KZ(r);let o;if(a)o=iB;else try{o=await n.verify(t)}catch{o=await n.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ow(r,e,t,s,a){var n;if(!((n=r._getRecaptchaConfig())===null||n===void 0)&&n.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await RI(r,e,t,t==="getOobCode");return s(r,o)}else return s(r,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await RI(r,e,t,t==="getOobCode");return s(r,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZZ(r,e){const t=h2(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),n=t.getOptions();if(kc(n,e??{}))return a;mo(a,"already-initialized")}return t.initialize({options:e})}function QZ(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(cc);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function JZ(r,e,t){const s=Ic(r);Zt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,n=oB(e),{host:o,port:l}=eQ(e),c=l===null?"":`:${l}`,d={url:`${n}//${o}${c}/`},u=Object.freeze({host:o,port:l,protocol:n.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Zt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Zt(kc(d,s.config.emulator)&&kc(u,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=u,s.settings.appVerificationDisabledForTesting=!0,Zd(o)?(dA(`${n}//${o}${c}`),uA("Auth",!0)):tQ()}function oB(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function eQ(r){const e=oB(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const n=a[1];return{host:n,port:II(s.substr(n.length+1))}}else{const[n,o]=s.split(":");return{host:n,port:II(o)}}}function II(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function tQ(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lc("not implemented")}_getIdTokenResponse(e){return lc("not implemented")}_linkToIdToken(e,t){return lc("not implemented")}_getReauthenticationResolver(e){return lc("not implemented")}}async function rQ(r,e){return $o(r,"POST","/v1/accounts:update",e)}async function sQ(r,e){return $o(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aQ(r,e){return Lx(r,"POST","/v1/accounts:signInWithPassword",Rc(r,e))}async function lB(r,e){return $o(r,"POST","/v1/accounts:sendOobCode",Rc(r,e))}async function nQ(r,e){return lB(r,e)}async function iQ(r,e){return lB(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oQ(r,e){return Lx(r,"POST","/v1/accounts:signInWithEmailLink",Rc(r,e))}async function lQ(r,e){return Lx(r,"POST","/v1/accounts:signInWithEmailLink",Rc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends wA{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Up(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Up(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ow(e,t,"signInWithPassword",aQ);case"emailLink":return oQ(e,{email:this._email,oobCode:this._password});default:mo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ow(e,s,"signUpPassword",sQ);case"emailLink":return lQ(e,{idToken:t,email:this._email,oobCode:this._password});default:mo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gm(r,e){return Lx(r,"POST","/v1/accounts:signInWithIdp",Rc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ="http://localhost";class Sc extends wA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,n=gA(t,["providerId","signInMethod"]);if(!s||!a)return null;const o=new Sc(s,a);return o.idToken=n.idToken||void 0,o.accessToken=n.accessToken||void 0,o.secret=n.secret,o.nonce=n.nonce,o.pendingToken=n.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return gm(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,gm(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,gm(e,t)}buildRequest(){const e={requestUri:cQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mx(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uQ(r){const e=Kg(Zg(r)).link,t=e?Kg(Zg(e)).deep_link_id:null,s=Kg(Zg(r)).deep_link_id;return(s?Kg(Zg(s)).link:null)||s||t||e||r}class kA{constructor(e){var t,s,a,n,o,l;const c=Kg(Zg(e)),d=(t=c.apiKey)!==null&&t!==void 0?t:null,u=(s=c.oobCode)!==null&&s!==void 0?s:null,h=dQ((a=c.mode)!==null&&a!==void 0?a:null);Zt(d&&u&&h,"argument-error"),this.apiKey=d,this.operation=h,this.code=u,this.continueUrl=(n=c.continueUrl)!==null&&n!==void 0?n:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=uQ(e);try{return new kA(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.providerId=Qd.PROVIDER_ID}static credential(e,t){return Up._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=kA.parseLink(t);return Zt(s,"argument-error"),Up._fromEmailAndCode(e,s.code,s.tenantId)}}Qd.PROVIDER_ID="password";Qd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends _A{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pm extends Zm{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Zt("providerId"in t&&"signInMethod"in t,"argument-error"),Sc._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Zt(e.idToken||e.accessToken,"argument-error"),Sc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return pm.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return pm.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:n,nonce:o,providerId:l}=e;if(!s&&!a&&!t&&!n||!l)return null;try{return new pm(l)._credential({idToken:t,accessToken:s,nonce:o,pendingToken:n})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Zm{constructor(){super("facebook.com")}static credential(e){return Sc._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fl.credential(e.oauthAccessToken)}catch{return null}}}fl.FACEBOOK_SIGN_IN_METHOD="facebook.com";fl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Zm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Sc._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ml.credential(t,s)}catch{return null}}}ml.GOOGLE_SIGN_IN_METHOD="google.com";ml.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Zm{constructor(){super("github.com")}static credential(e){return Sc._fromParams({providerId:hd.PROVIDER_ID,signInMethod:hd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hd.credentialFromTaggedObject(e)}static credentialFromError(e){return hd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hd.credential(e.oauthAccessToken)}catch{return null}}}hd.GITHUB_SIGN_IN_METHOD="github.com";hd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends Zm{constructor(){super("twitter.com")}static credential(e,t){return Sc._fromParams({providerId:fd.PROVIDER_ID,signInMethod:fd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fd.credentialFromTaggedObject(e)}static credentialFromError(e){return fd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return fd.credential(t,s)}catch{return null}}}fd.TWITTER_SIGN_IN_METHOD="twitter.com";fd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hQ(r,e){return Lx(r,"POST","/v1/accounts:signUp",Rc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const n=await Co._fromIdTokenResponse(e,s,a),o=DI(s);return new vh({user:n,providerId:o,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=DI(s);return new vh({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function DI(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends Il{constructor(e,t,s,a){var n;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,lw.prototype),this.customData={appName:e.name,tenantId:(n=e.tenantId)!==null&&n!==void 0?n:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new lw(e,t,s,a)}}function cB(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(n=>{throw n.code==="auth/multi-factor-auth-required"?lw._fromErrorAndOperation(r,n,e,s):n})}async function fQ(r,e,t=!1){const s=await yh(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return vh._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dB(r,e,t=!1){const{auth:s}=r;if(ii(s.app))return Promise.reject(pc(s));const a="reauthenticate";try{const n=await yh(r,cB(s,a,e,r),t);Zt(n.idToken,s,"internal-error");const o=yA(n.idToken);Zt(o,s,"internal-error");const{sub:l}=o;return Zt(r.uid===l,s,"user-mismatch"),vh._forOperation(r,a,n)}catch(n){throw n?.code==="auth/user-not-found"&&mo(s,"user-mismatch"),n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(r,e,t=!1){if(ii(r.app))return Promise.reject(pc(r));const s="signIn",a=await cB(r,s,e),n=await vh._fromIdTokenResponse(r,s,a);return t||await r._updateCurrentUser(n.user),n}async function mQ(r,e){return uB(Ic(r),e)}async function hB(r,e){return dB(is(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fB(r){const e=Ic(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gQ(r,e,t){const s=Ic(r);await ow(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",iQ)}async function cw(r,e,t){if(ii(r.app))return Promise.reject(pc(r));const s=Ic(r),o=await ow(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hQ).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&fB(r),c}),l=await vh._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function pQ(r,e,t){return ii(r.app)?Promise.reject(pc(r)):mQ(is(r),Qd.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fB(r),s})}async function xQ(r,e){const t=is(r),a={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:n}=await nQ(t.auth,a);n!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bQ(r,e){return $o(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=is(r),n={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await yh(s,bQ(s.auth,n));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function yQ(r,e){return vQ(is(r),null,e)}async function vQ(r,e,t){const{auth:s}=r,n={idToken:await r.getIdToken(),returnSecureToken:!0};t&&(n.password=t);const o=await yh(r,rQ(s,n));await r._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(r,e){return is(r).setPersistence(e)}function wQ(r,e,t,s){return is(r).onIdTokenChanged(e,t,s)}function kQ(r,e,t){return is(r).beforeAuthStateChanged(e,t)}function Tl(r,e,t,s){return is(r).onAuthStateChanged(e,t,s)}async function _Q(r){return is(r).delete()}const dw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dw,"1"),this.storage.removeItem(dw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ=1e3,SQ=10;class pB extends gB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(s);!t&&this.localCache[s]===o||this.notifyListeners(s,o)},n=this.storage.getItem(s);FZ()&&n!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,SQ):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},NQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pB.type="LOCAL";const xB=pB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB extends gB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bB.type="SESSION";const NA=bB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new m2(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:n}=t.data,o=this.handlersMap[a];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const l=Array.from(o).map(async d=>d(t.origin,n)),c=await jQ(l);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let n,o;return new Promise((l,c)=>{const d=SA("",20);a.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:a,onMessage(h){const m=h;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(u),n=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(n),l(m.data.response);break;default:clearTimeout(u),clearTimeout(n),c(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(){return window}function AQ(r){xl().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(){return typeof xl().WorkerGlobalScope<"u"&&typeof xl().importScripts=="function"}async function TQ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CQ(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function PQ(){return yB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB="firebaseLocalStorageDb",RQ=1,uw="firebaseLocalStorage",wB="fbase_key";class Bx{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function g2(r,e){return r.transaction([uw],e?"readwrite":"readonly").objectStore(uw)}function IQ(){const r=indexedDB.deleteDatabase(vB);return new Bx(r).toPromise()}function xj(){const r=indexedDB.open(vB,RQ);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(uw,{keyPath:wB})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(uw)?e(s):(s.close(),await IQ(),e(await xj()))})})}async function OI(r,e,t){const s=g2(r,!0).put({[wB]:e,value:t});return new Bx(s).toPromise()}async function DQ(r,e){const t=g2(r,!1).get(e),s=await new Bx(t).toPromise();return s===void 0?null:s.value}function MI(r,e){const t=g2(r,!0).delete(e);return new Bx(t).toPromise()}const OQ=800,MQ=3;class kB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xj(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>MQ)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m2._getInstance(PQ()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await TQ(),!this.activeServiceWorker)return;this.sender=new EQ(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xj();return await OI(e,dw,"1"),await MI(e,dw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>OI(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>DQ(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>MI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const n=g2(a,!1).getAll();return new Bx(n).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:n}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(n)&&(this.notifyListeners(a,n),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kB.type="LOCAL";const FQ=kB;new Fx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(r,e){return e?cc(e):(Zt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA extends wA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return gm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return gm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LQ(r){return uB(r.auth,new jA(r),r.bypassAuthState)}function BQ(r){const{auth:e,user:t}=r;return Zt(t,e,"internal-error"),dB(t,new jA(r),r.bypassAuthState)}async function UQ(r){const{auth:e,user:t}=r;return Zt(t,e,"internal-error"),fQ(t,new jA(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,t,s,a,n=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=n,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:n,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:t,sessionId:s,tenantId:n||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LQ;case"linkViaPopup":case"linkViaRedirect":return UQ;case"reauthViaPopup":case"reauthViaRedirect":return BQ;default:mo(this.auth,"internal-error")}}resolve(e){Nc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ=new Fx(2e3,1e4);async function j1(r,e,t){if(ii(r.app))return Promise.reject(Mo(r,"operation-not-supported-in-this-environment"));const s=Ic(r);xZ(r,e,_A);const a=_B(s,t);return new Xu(s,"signInViaPopup",e,a).executeNotNull()}class Xu extends NB{constructor(e,t,s,a,n){super(e,t,a,n),this.provider=s,this.authWindow=null,this.pollId=null,Xu.currentPopupAction&&Xu.currentPopupAction.cancel(),Xu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Zt(e,this.auth,"internal-error"),e}async onExecution(){Nc(this.filter.length===1,"Popup operations only handle one event");const e=SA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zQ.get())};e()}}Xu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ="pendingRedirect",E1=new Map;class HQ extends NB{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=E1.get(this.auth._key());if(!e){try{const s=await $Q(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}E1.set(this.auth._key(),e)}return this.bypassAuthState||E1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $Q(r,e){const t=GQ(e),s=qQ(r);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function WQ(r,e){E1.set(r._key(),e)}function qQ(r){return cc(r._redirectPersistence)}function GQ(r){return S1(VQ,r.config.apiKey,r.name)}async function YQ(r,e,t=!1){if(ii(r.app))return Promise.reject(pc(r));const s=Ic(r),a=_B(s,e),o=await new HQ(s,a,t).execute();return o&&!t&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQ=600*1e3;class KQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZQ(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!SB(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Mo(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(FI(e))}saveEventToCache(e){this.cachedEventUids.add(FI(e)),this.lastProcessedEventTime=Date.now()}}function FI(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function SB({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function ZQ(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SB(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QQ(r,e={}){return $o(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eJ=/^https?/;async function tJ(r){if(r.config.emulator)return;const{authorizedDomains:e}=await QQ(r);for(const t of e)try{if(rJ(t))return}catch{}mo(r,"unauthorized-domain")}function rJ(r){const e=gj(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const o=new URL(r);return o.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===s}if(!eJ.test(t))return!1;if(JQ.test(r))return s===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ=new Fx(3e4,6e4);function LI(){const r=xl().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function aJ(r){return new Promise((e,t)=>{var s,a,n;function o(){LI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LI(),t(Mo(r,"network-request-failed"))},timeout:sJ.get()})}if(!((a=(s=xl().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((n=xl().gapi)===null||n===void 0)&&n.load)o();else{const l=qZ("iframefcb");return xl()[l]=()=>{gapi.load?o():t(Mo(r,"network-request-failed"))},nB(`${WZ()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw A1=null,e})}let A1=null;function nJ(r){return A1=A1||aJ(r),A1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iJ=new Fx(5e3,15e3),oJ="__/auth/iframe",lJ="emulator/auth/iframe",cJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uJ(r){const e=r.config;Zt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?bA(e,lJ):`https://${r.config.authDomain}/${oJ}`,s={apiKey:e.apiKey,appName:r.name,v:Bh},a=dJ.get(r.config.apiHost);a&&(s.eid=a);const n=r._getFrameworks();return n.length&&(s.fw=n.join(",")),`${t}?${Mx(s).slice(1)}`}async function hJ(r){const e=await nJ(r),t=xl().gapi;return Zt(t,r,"internal-error"),e.open({where:document.body,url:uJ(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cJ,dontclear:!0},s=>new Promise(async(a,n)=>{await s.restyle({setHideOnLeave:!1});const o=Mo(r,"network-request-failed"),l=xl().setTimeout(()=>{n(o)},iJ.get());function c(){xl().clearTimeout(l),a(s)}s.ping(c).then(c,()=>{n(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mJ=500,gJ=600,pJ="_blank",xJ="http://localhost";class BI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bJ(r,e,t,s=mJ,a=gJ){const n=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},fJ),{width:s.toString(),height:a.toString(),top:n,left:o}),d=Rn().toLowerCase();t&&(l=Q8(d)?pJ:t),K8(d)&&(e=e||xJ,c.scrollbars="yes");const u=Object.entries(c).reduce((m,[p,b])=>`${m}${p}=${b},`,"");if(MZ(d)&&l!=="_self")return yJ(e||"",l),new BI(null);const h=window.open(e||"",l,u);Zt(h,r,"popup-blocked");try{h.focus()}catch{}return new BI(h)}function yJ(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vJ="__/auth/handler",wJ="emulator/auth/handler",kJ=encodeURIComponent("fac");async function UI(r,e,t,s,a,n){Zt(r.config.authDomain,r,"auth-domain-config-required"),Zt(r.config.apiKey,r,"invalid-api-key");const o={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Bh,eventId:a};if(e instanceof _A){e.setDefaultLanguage(r.languageCode),o.providerId=e.providerId||"",tK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof Zm){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}r.tenantId&&(o.tid=r.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await r._getAppCheckToken(),d=c?`#${kJ}=${encodeURIComponent(c)}`:"";return`${_J(r)}?${Mx(l).slice(1)}${d}`}function _J({config:r}){return r.emulator?bA(r,wJ):`https://${r.authDomain}/${vJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="webStorageSupport";class NJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NA,this._completeRedirectFn=YQ,this._overrideRedirectResult=WQ}async _openPopup(e,t,s,a){var n;Nc((n=this.eventManagers[e._key()])===null||n===void 0?void 0:n.manager,"_initialize() not called before _openPopup()");const o=await UI(e,t,s,gj(),a);return bJ(e,o,SA())}async _openRedirect(e,t,s,a){await this._originValidation(e);const n=await UI(e,t,s,gj(),a);return AQ(n),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:n}=this.eventManagers[t];return a?Promise.resolve(a):(Nc(n,"If manager is not set, promise should be"),n)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await hJ(e),s=new KQ(e);return t.register("authEvent",a=>(Zt(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jN,{type:jN},a=>{var n;const o=(n=a?.[0])===null||n===void 0?void 0:n[jN];o!==void 0&&t(!!o),mo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tJ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sB()||Z8()||vA()}}const SJ=NJ;var zI="@firebase/auth",VI="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EJ(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AJ(r){bh(new Pd("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),n=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Zt(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aB(r)},d=new VZ(s,a,n,c);return QZ(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),bh(new Pd("auth-internal",e=>{const t=Ic(e.getProvider("auth").getImmediate());return(s=>new jJ(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pl(zI,VI,EJ(r)),pl(zI,VI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ=300,CJ=M8("authIdTokenMaxAge")||TJ;let HI=null;const PJ=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>CJ)return;const a=t?.token;HI!==a&&(HI=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Ux(r=mA()){const e=h2(r,"auth");if(e.isInitialized())return e.getImmediate();const t=ZZ(r,{popupRedirectResolver:SJ,persistence:[FQ,xB,NA]}),s=M8("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const n=new URL(s,location.origin);if(location.origin===n.origin){const o=PJ(n.toString());kQ(t,o,()=>o(t.currentUser)),wQ(t,l=>o(l))}}const a=I8("auth");return a&&JZ(t,`http://${a}`),t}function RJ(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}HZ({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{const n=Mo("internal-error");n.customData=a,t(n)},s.type="text/javascript",s.charset="UTF-8",RJ().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AJ("Browser");var $I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jd,jB;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function P(){}P.prototype=A.prototype,S.D=A.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(O,M,L){for(var B=Array(arguments.length-2),G=2;G<arguments.length;G++)B[G-2]=arguments[G];return A.prototype[M].apply(O,B)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,A,P){P||(P=0);var O=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)O[M]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(M=0;16>M;++M)O[M]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=S.g[0],P=S.g[1],M=S.g[2];var L=S.g[3],B=A+(L^P&(M^L))+O[0]+3614090360&4294967295;A=P+(B<<7&4294967295|B>>>25),B=L+(M^A&(P^M))+O[1]+3905402710&4294967295,L=A+(B<<12&4294967295|B>>>20),B=M+(P^L&(A^P))+O[2]+606105819&4294967295,M=L+(B<<17&4294967295|B>>>15),B=P+(A^M&(L^A))+O[3]+3250441966&4294967295,P=M+(B<<22&4294967295|B>>>10),B=A+(L^P&(M^L))+O[4]+4118548399&4294967295,A=P+(B<<7&4294967295|B>>>25),B=L+(M^A&(P^M))+O[5]+1200080426&4294967295,L=A+(B<<12&4294967295|B>>>20),B=M+(P^L&(A^P))+O[6]+2821735955&4294967295,M=L+(B<<17&4294967295|B>>>15),B=P+(A^M&(L^A))+O[7]+4249261313&4294967295,P=M+(B<<22&4294967295|B>>>10),B=A+(L^P&(M^L))+O[8]+1770035416&4294967295,A=P+(B<<7&4294967295|B>>>25),B=L+(M^A&(P^M))+O[9]+2336552879&4294967295,L=A+(B<<12&4294967295|B>>>20),B=M+(P^L&(A^P))+O[10]+4294925233&4294967295,M=L+(B<<17&4294967295|B>>>15),B=P+(A^M&(L^A))+O[11]+2304563134&4294967295,P=M+(B<<22&4294967295|B>>>10),B=A+(L^P&(M^L))+O[12]+1804603682&4294967295,A=P+(B<<7&4294967295|B>>>25),B=L+(M^A&(P^M))+O[13]+4254626195&4294967295,L=A+(B<<12&4294967295|B>>>20),B=M+(P^L&(A^P))+O[14]+2792965006&4294967295,M=L+(B<<17&4294967295|B>>>15),B=P+(A^M&(L^A))+O[15]+1236535329&4294967295,P=M+(B<<22&4294967295|B>>>10),B=A+(M^L&(P^M))+O[1]+4129170786&4294967295,A=P+(B<<5&4294967295|B>>>27),B=L+(P^M&(A^P))+O[6]+3225465664&4294967295,L=A+(B<<9&4294967295|B>>>23),B=M+(A^P&(L^A))+O[11]+643717713&4294967295,M=L+(B<<14&4294967295|B>>>18),B=P+(L^A&(M^L))+O[0]+3921069994&4294967295,P=M+(B<<20&4294967295|B>>>12),B=A+(M^L&(P^M))+O[5]+3593408605&4294967295,A=P+(B<<5&4294967295|B>>>27),B=L+(P^M&(A^P))+O[10]+38016083&4294967295,L=A+(B<<9&4294967295|B>>>23),B=M+(A^P&(L^A))+O[15]+3634488961&4294967295,M=L+(B<<14&4294967295|B>>>18),B=P+(L^A&(M^L))+O[4]+3889429448&4294967295,P=M+(B<<20&4294967295|B>>>12),B=A+(M^L&(P^M))+O[9]+568446438&4294967295,A=P+(B<<5&4294967295|B>>>27),B=L+(P^M&(A^P))+O[14]+3275163606&4294967295,L=A+(B<<9&4294967295|B>>>23),B=M+(A^P&(L^A))+O[3]+4107603335&4294967295,M=L+(B<<14&4294967295|B>>>18),B=P+(L^A&(M^L))+O[8]+1163531501&4294967295,P=M+(B<<20&4294967295|B>>>12),B=A+(M^L&(P^M))+O[13]+2850285829&4294967295,A=P+(B<<5&4294967295|B>>>27),B=L+(P^M&(A^P))+O[2]+4243563512&4294967295,L=A+(B<<9&4294967295|B>>>23),B=M+(A^P&(L^A))+O[7]+1735328473&4294967295,M=L+(B<<14&4294967295|B>>>18),B=P+(L^A&(M^L))+O[12]+2368359562&4294967295,P=M+(B<<20&4294967295|B>>>12),B=A+(P^M^L)+O[5]+4294588738&4294967295,A=P+(B<<4&4294967295|B>>>28),B=L+(A^P^M)+O[8]+2272392833&4294967295,L=A+(B<<11&4294967295|B>>>21),B=M+(L^A^P)+O[11]+1839030562&4294967295,M=L+(B<<16&4294967295|B>>>16),B=P+(M^L^A)+O[14]+4259657740&4294967295,P=M+(B<<23&4294967295|B>>>9),B=A+(P^M^L)+O[1]+2763975236&4294967295,A=P+(B<<4&4294967295|B>>>28),B=L+(A^P^M)+O[4]+1272893353&4294967295,L=A+(B<<11&4294967295|B>>>21),B=M+(L^A^P)+O[7]+4139469664&4294967295,M=L+(B<<16&4294967295|B>>>16),B=P+(M^L^A)+O[10]+3200236656&4294967295,P=M+(B<<23&4294967295|B>>>9),B=A+(P^M^L)+O[13]+681279174&4294967295,A=P+(B<<4&4294967295|B>>>28),B=L+(A^P^M)+O[0]+3936430074&4294967295,L=A+(B<<11&4294967295|B>>>21),B=M+(L^A^P)+O[3]+3572445317&4294967295,M=L+(B<<16&4294967295|B>>>16),B=P+(M^L^A)+O[6]+76029189&4294967295,P=M+(B<<23&4294967295|B>>>9),B=A+(P^M^L)+O[9]+3654602809&4294967295,A=P+(B<<4&4294967295|B>>>28),B=L+(A^P^M)+O[12]+3873151461&4294967295,L=A+(B<<11&4294967295|B>>>21),B=M+(L^A^P)+O[15]+530742520&4294967295,M=L+(B<<16&4294967295|B>>>16),B=P+(M^L^A)+O[2]+3299628645&4294967295,P=M+(B<<23&4294967295|B>>>9),B=A+(M^(P|~L))+O[0]+4096336452&4294967295,A=P+(B<<6&4294967295|B>>>26),B=L+(P^(A|~M))+O[7]+1126891415&4294967295,L=A+(B<<10&4294967295|B>>>22),B=M+(A^(L|~P))+O[14]+2878612391&4294967295,M=L+(B<<15&4294967295|B>>>17),B=P+(L^(M|~A))+O[5]+4237533241&4294967295,P=M+(B<<21&4294967295|B>>>11),B=A+(M^(P|~L))+O[12]+1700485571&4294967295,A=P+(B<<6&4294967295|B>>>26),B=L+(P^(A|~M))+O[3]+2399980690&4294967295,L=A+(B<<10&4294967295|B>>>22),B=M+(A^(L|~P))+O[10]+4293915773&4294967295,M=L+(B<<15&4294967295|B>>>17),B=P+(L^(M|~A))+O[1]+2240044497&4294967295,P=M+(B<<21&4294967295|B>>>11),B=A+(M^(P|~L))+O[8]+1873313359&4294967295,A=P+(B<<6&4294967295|B>>>26),B=L+(P^(A|~M))+O[15]+4264355552&4294967295,L=A+(B<<10&4294967295|B>>>22),B=M+(A^(L|~P))+O[6]+2734768916&4294967295,M=L+(B<<15&4294967295|B>>>17),B=P+(L^(M|~A))+O[13]+1309151649&4294967295,P=M+(B<<21&4294967295|B>>>11),B=A+(M^(P|~L))+O[4]+4149444226&4294967295,A=P+(B<<6&4294967295|B>>>26),B=L+(P^(A|~M))+O[11]+3174756917&4294967295,L=A+(B<<10&4294967295|B>>>22),B=M+(A^(L|~P))+O[2]+718787259&4294967295,M=L+(B<<15&4294967295|B>>>17),B=P+(L^(M|~A))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(M+(B<<21&4294967295|B>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+L&4294967295}s.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var P=A-this.blockSize,O=this.B,M=this.h,L=0;L<A;){if(M==0)for(;L<=P;)a(this,S,L),L+=this.blockSize;if(typeof S=="string"){for(;L<A;)if(O[M++]=S.charCodeAt(L++),M==this.blockSize){a(this,O),M=0;break}}else for(;L<A;)if(O[M++]=S[L++],M==this.blockSize){a(this,O),M=0;break}}this.h=M,this.o+=A},s.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var P=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=P&255,P/=256;for(this.u(S),S=Array(16),A=P=0;4>A;++A)for(var O=0;32>O;O+=8)S[P++]=this.g[A]>>>O&255;return S};function n(S,A){var P=l;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=A(S)}function o(S,A){this.h=A;for(var P=[],O=!0,M=S.length-1;0<=M;M--){var L=S[M]|0;O&&L==A||(P[M]=L,O=!1)}this.g=P}var l={};function c(S){return-128<=S&&128>S?n(S,function(A){return new o([A|0],0>A?-1:0)}):new o([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return y(d(-S));for(var A=[],P=1,O=0;S>=P;O++)A[O]=S/P|0,P*=4294967296;return new o(A,0)}function u(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return y(u(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(A,8)),O=h,M=0;M<S.length;M+=8){var L=Math.min(8,S.length-M),B=parseInt(S.substring(M,M+L),A);8>L?(L=d(Math.pow(A,L)),O=O.j(L).add(d(B))):(O=O.j(P),O=O.add(d(B)))}return O}var h=c(0),m=c(1),p=c(16777216);r=o.prototype,r.m=function(){if(x(this))return-y(this).m();for(var S=0,A=1,P=0;P<this.g.length;P++){var O=this.i(P);S+=(0<=O?O:4294967296+O)*A,A*=4294967296}return S},r.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(x(this))return"-"+y(this).toString(S);for(var A=d(Math.pow(S,6)),P=this,O="";;){var M=T(P,A).g;P=w(P,M.j(A));var L=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=M,b(P))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},r.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function b(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function x(S){return S.h==-1}r.l=function(S){return S=w(this,S),x(S)?-1:b(S)?0:1};function y(S){for(var A=S.g.length,P=[],O=0;O<A;O++)P[O]=~S.g[O];return new o(P,~S.h).add(m)}r.abs=function(){return x(this)?y(this):this},r.add=function(S){for(var A=Math.max(this.g.length,S.g.length),P=[],O=0,M=0;M<=A;M++){var L=O+(this.i(M)&65535)+(S.i(M)&65535),B=(L>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);O=B>>>16,L&=65535,B&=65535,P[M]=B<<16|L}return new o(P,P[P.length-1]&-2147483648?-1:0)};function w(S,A){return S.add(y(A))}r.j=function(S){if(b(this)||b(S))return h;if(x(this))return x(S)?y(this).j(y(S)):y(y(this).j(S));if(x(S))return y(this.j(y(S)));if(0>this.l(p)&&0>S.l(p))return d(this.m()*S.m());for(var A=this.g.length+S.g.length,P=[],O=0;O<2*A;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<S.g.length;M++){var L=this.i(O)>>>16,B=this.i(O)&65535,G=S.i(M)>>>16,X=S.i(M)&65535;P[2*O+2*M]+=B*X,k(P,2*O+2*M),P[2*O+2*M+1]+=L*X,k(P,2*O+2*M+1),P[2*O+2*M+1]+=B*G,k(P,2*O+2*M+1),P[2*O+2*M+2]+=L*G,k(P,2*O+2*M+2)}for(O=0;O<A;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=A;O<2*A;O++)P[O]=0;return new o(P,0)};function k(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function N(S,A){this.g=S,this.h=A}function T(S,A){if(b(A))throw Error("division by zero");if(b(S))return new N(h,h);if(x(S))return A=T(y(S),A),new N(y(A.g),y(A.h));if(x(A))return A=T(S,y(A)),new N(y(A.g),A.h);if(30<S.g.length){if(x(S)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var P=m,O=A;0>=O.l(S);)P=E(P),O=E(O);var M=I(P,1),L=I(O,1);for(O=I(O,2),P=I(P,2);!b(O);){var B=L.add(O);0>=B.l(S)&&(M=M.add(P),L=B),O=I(O,1),P=I(P,1)}return A=w(S,M.j(A)),new N(M,A)}for(M=h;0<=S.l(A);){for(P=Math.max(1,Math.floor(S.m()/A.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=d(P),B=L.j(A);x(B)||0<B.l(S);)P-=O,L=d(P),B=L.j(A);b(L)&&(L=m),M=M.add(L),S=w(S,B)}return new N(M,S)}r.A=function(S){return T(this,S).h},r.and=function(S){for(var A=Math.max(this.g.length,S.g.length),P=[],O=0;O<A;O++)P[O]=this.i(O)&S.i(O);return new o(P,this.h&S.h)},r.or=function(S){for(var A=Math.max(this.g.length,S.g.length),P=[],O=0;O<A;O++)P[O]=this.i(O)|S.i(O);return new o(P,this.h|S.h)},r.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),P=[],O=0;O<A;O++)P[O]=this.i(O)^S.i(O);return new o(P,this.h^S.h)};function E(S){for(var A=S.g.length+1,P=[],O=0;O<A;O++)P[O]=S.i(O)<<1|S.i(O-1)>>>31;return new o(P,S.h)}function I(S,A){var P=A>>5;A%=32;for(var O=S.g.length-P,M=[],L=0;L<O;L++)M[L]=0<A?S.i(L+P)>>>A|S.i(L+P+1)<<32-A:S.i(L+P);return new o(M,S.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,jB=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=u,jd=o}).apply(typeof $I<"u"?$I:typeof self<"u"?self:typeof window<"u"?window:{});var Wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EB,Qg,AB,T1,bj,TB,CB,PB;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(C,V,K){return C==Array.prototype||C==Object.prototype||(C[V]=K.value),C};function t(C){C=[typeof globalThis=="object"&&globalThis,C,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wy=="object"&&Wy];for(var V=0;V<C.length;++V){var K=C[V];if(K&&K.Math==Math)return K}throw Error("Cannot find global object")}var s=t(this);function a(C,V){if(V)e:{var K=s;C=C.split(".");for(var me=0;me<C.length-1;me++){var Ve=C[me];if(!(Ve in K))break e;K=K[Ve]}C=C[C.length-1],me=K[C],V=V(me),V!=me&&V!=null&&e(K,C,{configurable:!0,writable:!0,value:V})}}function n(C,V){C instanceof String&&(C+="");var K=0,me=!1,Ve={next:function(){if(!me&&K<C.length){var Ze=K++;return{value:V(Ze,C[Ze]),done:!1}}return me=!0,{done:!0,value:void 0}}};return Ve[Symbol.iterator]=function(){return Ve},Ve}a("Array.prototype.values",function(C){return C||function(){return n(this,function(V,K){return K})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(C){var V=typeof C;return V=V!="object"?V:C?Array.isArray(C)?"array":V:"null",V=="array"||V=="object"&&typeof C.length=="number"}function d(C){var V=typeof C;return V=="object"&&C!=null||V=="function"}function u(C,V,K){return C.call.apply(C.bind,arguments)}function h(C,V,K){if(!C)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var Ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ve,me),C.apply(V,Ve)}}return function(){return C.apply(V,arguments)}}function m(C,V,K){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,m.apply(null,arguments)}function p(C,V){var K=Array.prototype.slice.call(arguments,1);return function(){var me=K.slice();return me.push.apply(me,arguments),C.apply(this,me)}}function b(C,V){function K(){}K.prototype=V.prototype,C.aa=V.prototype,C.prototype=new K,C.prototype.constructor=C,C.Qb=function(me,Ve,Ze){for(var St=Array(arguments.length-2),qr=2;qr<arguments.length;qr++)St[qr-2]=arguments[qr];return V.prototype[Ve].apply(me,St)}}function x(C){const V=C.length;if(0<V){const K=Array(V);for(let me=0;me<V;me++)K[me]=C[me];return K}return[]}function y(C,V){for(let K=1;K<arguments.length;K++){const me=arguments[K];if(c(me)){const Ve=C.length||0,Ze=me.length||0;C.length=Ve+Ze;for(let St=0;St<Ze;St++)C[Ve+St]=me[St]}else C.push(me)}}class w{constructor(V,K){this.i=V,this.j=K,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}function k(C){return/^[\s\xa0]*$/.test(C)}function N(){var C=l.navigator;return C&&(C=C.userAgent)?C:""}function T(C){return T[" "](C),C}T[" "]=function(){};var E=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function I(C,V,K){for(const me in C)V.call(K,C[me],me,C)}function S(C,V){for(const K in C)V.call(void 0,C[K],K,C)}function A(C){const V={};for(const K in C)V[K]=C[K];return V}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(C,V){let K,me;for(let Ve=1;Ve<arguments.length;Ve++){me=arguments[Ve];for(K in me)C[K]=me[K];for(let Ze=0;Ze<P.length;Ze++)K=P[Ze],Object.prototype.hasOwnProperty.call(me,K)&&(C[K]=me[K])}}function M(C){var V=1;C=C.split(":");const K=[];for(;0<V&&C.length;)K.push(C.shift()),V--;return C.length&&K.push(C.join(":")),K}function L(C){l.setTimeout(()=>{throw C},0)}function B(){var C=U;let V=null;return C.g&&(V=C.g,C.g=C.g.next,C.g||(C.h=null),V.next=null),V}class G{constructor(){this.h=this.g=null}add(V,K){const me=X.get();me.set(V,K),this.h?this.h.next=me:this.g=me,this.h=me}}var X=new w(()=>new H,C=>C.reset());class H{constructor(){this.next=this.g=this.h=null}set(V,K){this.h=V,this.g=K,this.next=null}reset(){this.next=this.g=this.h=null}}let W,ne=!1,U=new G,z=()=>{const C=l.Promise.resolve(void 0);W=()=>{C.then(Q)}};var Q=()=>{for(var C;C=B();){try{C.h.call(C.g)}catch(K){L(K)}var V=X;V.j(C),100>V.h&&(V.h++,C.next=V.g,V.g=C)}ne=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(C,V){this.type=C,this.g=this.target=V,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var C=!1,V=Object.defineProperty({},"passive",{get:function(){C=!0}});try{const K=()=>{};l.addEventListener("test",K,V),l.removeEventListener("test",K,V)}catch{}return C})();function re(C,V){if(Z.call(this,C?C.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,C){var K=this.type=C.type,me=C.changedTouches&&C.changedTouches.length?C.changedTouches[0]:null;if(this.target=C.target||C.srcElement,this.g=V,V=C.relatedTarget){if(E){e:{try{T(V.nodeName);var Ve=!0;break e}catch{}Ve=!1}Ve||(V=null)}}else K=="mouseover"?V=C.fromElement:K=="mouseout"&&(V=C.toElement);this.relatedTarget=V,me?(this.clientX=me.clientX!==void 0?me.clientX:me.pageX,this.clientY=me.clientY!==void 0?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0),this.button=C.button,this.key=C.key||"",this.ctrlKey=C.ctrlKey,this.altKey=C.altKey,this.shiftKey=C.shiftKey,this.metaKey=C.metaKey,this.pointerId=C.pointerId||0,this.pointerType=typeof C.pointerType=="string"?C.pointerType:de[C.pointerType]||"",this.state=C.state,this.i=C,C.defaultPrevented&&re.aa.h.call(this)}}b(re,Z);var de={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var C=this.i;C.preventDefault?C.preventDefault():C.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ne(C,V,K,me,Ve){this.listener=C,this.proxy=null,this.src=V,this.type=K,this.capture=!!me,this.ha=Ve,this.key=++je,this.da=this.fa=!1}function xe(C){C.da=!0,C.listener=null,C.proxy=null,C.src=null,C.ha=null}function ze(C){this.src=C,this.g={},this.h=0}ze.prototype.add=function(C,V,K,me,Ve){var Ze=C.toString();C=this.g[Ze],C||(C=this.g[Ze]=[],this.h++);var St=fe(C,V,me,Ve);return-1<St?(V=C[St],K||(V.fa=!1)):(V=new Ne(V,this.src,Ze,!!me,Ve),V.fa=K,C.push(V)),V};function se(C,V){var K=V.type;if(K in C.g){var me=C.g[K],Ve=Array.prototype.indexOf.call(me,V,void 0),Ze;(Ze=0<=Ve)&&Array.prototype.splice.call(me,Ve,1),Ze&&(xe(V),C.g[K].length==0&&(delete C.g[K],C.h--))}}function fe(C,V,K,me){for(var Ve=0;Ve<C.length;++Ve){var Ze=C[Ve];if(!Ze.da&&Ze.listener==V&&Ze.capture==!!K&&Ze.ha==me)return Ve}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),Ce={};function Be(C,V,K,me,Ve){if(Array.isArray(V)){for(var Ze=0;Ze<V.length;Ze++)Be(C,V[Ze],K,me,Ve);return null}return K=At(K),C&&C[Se]?C.K(V,K,d(me)?!!me.capture:!1,Ve):Ue(C,V,K,!1,me,Ve)}function Ue(C,V,K,me,Ve,Ze){if(!V)throw Error("Invalid event type");var St=d(Ve)?!!Ve.capture:!!Ve,qr=Mt(C);if(qr||(C[Te]=qr=new ze(C)),K=qr.add(V,K,me,St,Ze),K.proxy)return K;if(me=gt(),K.proxy=me,me.src=C,me.listener=K,C.addEventListener)J||(Ve=St),Ve===void 0&&(Ve=!1),C.addEventListener(V.toString(),me,Ve);else if(C.attachEvent)C.attachEvent(pt(V.toString()),me);else if(C.addListener&&C.removeListener)C.addListener(me);else throw Error("addEventListener and attachEvent are unavailable.");return K}function gt(){function C(K){return V.call(C.src,C.listener,K)}const V=zt;return C}function st(C,V,K,me,Ve){if(Array.isArray(V))for(var Ze=0;Ze<V.length;Ze++)st(C,V[Ze],K,me,Ve);else me=d(me)?!!me.capture:!!me,K=At(K),C&&C[Se]?(C=C.i,V=String(V).toString(),V in C.g&&(Ze=C.g[V],K=fe(Ze,K,me,Ve),-1<K&&(xe(Ze[K]),Array.prototype.splice.call(Ze,K,1),Ze.length==0&&(delete C.g[V],C.h--)))):C&&(C=Mt(C))&&(V=C.g[V.toString()],C=-1,V&&(C=fe(V,K,me,Ve)),(K=-1<C?V[C]:null)&&bt(K))}function bt(C){if(typeof C!="number"&&C&&!C.da){var V=C.src;if(V&&V[Se])se(V.i,C);else{var K=C.type,me=C.proxy;V.removeEventListener?V.removeEventListener(K,me,C.capture):V.detachEvent?V.detachEvent(pt(K),me):V.addListener&&V.removeListener&&V.removeListener(me),(K=Mt(V))?(se(K,C),K.h==0&&(K.src=null,V[Te]=null)):xe(C)}}}function pt(C){return C in Ce?Ce[C]:Ce[C]="on"+C}function zt(C,V){if(C.da)C=!0;else{V=new re(V,this);var K=C.listener,me=C.ha||C.src;C.fa&&bt(C),C=K.call(me,V)}return C}function Mt(C){return C=C[Te],C instanceof ze?C:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(C){return typeof C=="function"?C:(C[dt]||(C[dt]=function(V){return C.handleEvent(V)}),C[dt])}function Qe(){q.call(this),this.i=new ze(this),this.M=this,this.F=null}b(Qe,q),Qe.prototype[Se]=!0,Qe.prototype.removeEventListener=function(C,V,K,me){st(this,C,V,K,me)};function ut(C,V){var K,me=C.F;if(me)for(K=[];me;me=me.F)K.push(me);if(C=C.M,me=V.type||V,typeof V=="string")V=new Z(V,C);else if(V instanceof Z)V.target=V.target||C;else{var Ve=V;V=new Z(me,C),O(V,Ve)}if(Ve=!0,K)for(var Ze=K.length-1;0<=Ze;Ze--){var St=V.g=K[Ze];Ve=kt(St,me,!0,V)&&Ve}if(St=V.g=C,Ve=kt(St,me,!0,V)&&Ve,Ve=kt(St,me,!1,V)&&Ve,K)for(Ze=0;Ze<K.length;Ze++)St=V.g=K[Ze],Ve=kt(St,me,!1,V)&&Ve}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var C=this.i,V;for(V in C.g){for(var K=C.g[V],me=0;me<K.length;me++)xe(K[me]);delete C.g[V],C.h--}}this.F=null},Qe.prototype.K=function(C,V,K,me){return this.i.add(String(C),V,!1,K,me)},Qe.prototype.L=function(C,V,K,me){return this.i.add(String(C),V,!0,K,me)};function kt(C,V,K,me){if(V=C.i.g[String(V)],!V)return!0;V=V.concat();for(var Ve=!0,Ze=0;Ze<V.length;++Ze){var St=V[Ze];if(St&&!St.da&&St.capture==K){var qr=St.listener,Da=St.ha||St.src;St.fa&&se(C.i,St),Ve=qr.call(Da,me)!==!1&&Ve}}return Ve&&!me.defaultPrevented}function vt(C,V,K){if(typeof C=="function")K&&(C=m(C,K));else if(C&&typeof C.handleEvent=="function")C=m(C.handleEvent,C);else throw Error("Invalid listener argument");return 2147483647<Number(V)?-1:l.setTimeout(C,V||0)}function it(C){C.g=vt(()=>{C.g=null,C.i&&(C.i=!1,it(C))},C.l);const V=C.h;C.h=null,C.m.apply(null,V)}class ft extends q{constructor(V,K){super(),this.m=V,this.l=K,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:it(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(C){q.call(this),this.h=C,this.g={}}b(Dt,q);var Bt=[];function or(C){I(C.g,function(V,K){this.g.hasOwnProperty(K)&&bt(V)},C),C.g={}}Dt.prototype.N=function(){Dt.aa.N.call(this),or(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ot=l.JSON.stringify,Xt=l.JSON.parse,Vr=class{stringify(C){return l.JSON.stringify(C,void 0)}parse(C){return l.JSON.parse(C,void 0)}};function vr(){}vr.prototype.h=null;function Hr(C){return C.h||(C.h=C.i())}function xr(){}var dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){Z.call(this,"d")}b(cr,Z);function Er(){Z.call(this,"c")}b(Er,Z);var Ar={},qt=null;function Pr(){return qt=qt||new Qe}Ar.La="serverreachability";function br(C){Z.call(this,Ar.La,C)}b(br,Z);function Jr(C){const V=Pr();ut(V,new br(V))}Ar.STAT_EVENT="statevent";function Ps(C,V){Z.call(this,Ar.STAT_EVENT,C),this.stat=V}b(Ps,Z);function Or(C){const V=Pr();ut(V,new Ps(V,C))}Ar.Ma="timingevent";function ss(C,V){Z.call(this,Ar.Ma,C),this.size=V}b(ss,Z);function $r(C,V){if(typeof C!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){C()},V)}function Mr(){this.g=!0}Mr.prototype.xa=function(){this.g=!1};function Vs(C,V,K,me,Ve,Ze){C.info(function(){if(C.g)if(Ze)for(var St="",qr=Ze.split("&"),Da=0;Da<qr.length;Da++){var Gr=qr[Da].split("=");if(1<Gr.length){var Wa=Gr[0];Gr=Gr[1];var Oa=Wa.split("_");St=2<=Oa.length&&Oa[1]=="type"?St+(Wa+"="+Gr+"&"):St+(Wa+"=redacted&")}}else St=null;else St=Ze;return"XMLHTTP REQ ("+me+") [attempt "+Ve+"]: "+V+`
`+K+`
`+St})}function Ie(C,V,K,me,Ve,Ze,St){C.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+Ve+"]: "+V+`
`+K+`
`+Ze+" "+St})}function Y(C,V,K,me){C.info(function(){return"XMLHTTP TEXT ("+V+"): "+ce(C,K)+(me?" "+me:"")})}function ie(C,V){C.info(function(){return"TIMEOUT: "+V})}Mr.prototype.info=function(){};function ce(C,V){if(!C.g)return V;if(!V)return null;try{var K=JSON.parse(V);if(K){for(C=0;C<K.length;C++)if(Array.isArray(K[C])){var me=K[C];if(!(2>me.length)){var Ve=me[1];if(Array.isArray(Ve)&&!(1>Ve.length)){var Ze=Ve[0];if(Ze!="noop"&&Ze!="stop"&&Ze!="close")for(var St=1;St<Ve.length;St++)Ve[St]=""}}}}return Ot(K)}catch{return V}}var oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},be;function he(){}b(he,vr),he.prototype.g=function(){return new XMLHttpRequest},he.prototype.i=function(){return{}},be=new he;function ye(C,V,K,me){this.j=C,this.i=V,this.l=K,this.R=me||1,this.U=new Dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var we={},te={};function _e(C,V,K){C.L=1,C.v=lu(gi(V)),C.m=K,C.P=!0,le(C,null)}function le(C,V){C.F=Date.now(),ke(C),C.A=gi(C.v);var K=C.A,me=C.R;Array.isArray(me)||(me=[String(me)]),A0(K.i,"t",me),C.C=0,K=C.j.J,C.h=new pe,C.g=Lb(C.j,K?V:null,!C.m),0<C.O&&(C.M=new ft(m(C.Y,C,C.g),C.O)),V=C.U,K=C.g,me=C.ca;var Ve="readystatechange";Array.isArray(Ve)||(Ve&&(Bt[0]=Ve.toString()),Ve=Bt);for(var Ze=0;Ze<Ve.length;Ze++){var St=Be(K,Ve[Ze],me||V.handleEvent,!1,V.h||V);if(!St)break;V.g[St.key]=St}V=C.H?A(C.H):{},C.m?(C.u||(C.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",C.g.ea(C.A,C.u,C.m,V)):(C.u="GET",C.g.ea(C.A,C.u,null,V)),Jr(),Vs(C.i,C.u,C.A,C.l,C.R,C.m)}ye.prototype.ca=function(C){C=C.target;const V=this.M;V&&Hi(C)==3?V.j():this.Y(C)},ye.prototype.Y=function(C){try{if(C==this.g)e:{const Oa=Hi(this.g);var V=this.g.Ba();const Vl=this.g.Z();if(!(3>Oa)&&(Oa!=3||this.g&&(this.h.h||this.g.oa()||Cb(this.g)))){this.J||Oa!=4||V==7||(V==8||0>=Vl?Jr(3):Jr(2)),De(this);var K=this.g.Z();this.X=K;t:if(Ee(this)){var me=Cb(this.g);C="";var Ve=me.length,Ze=Hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){at(this),Me(this);var St="";break t}this.h.i=new l.TextDecoder}for(V=0;V<Ve;V++)this.h.h=!0,C+=this.h.i.decode(me[V],{stream:!(Ze&&V==Ve-1)});me.length=0,this.h.g+=C,this.C=0,St=this.h.g}else St=this.g.oa();if(this.o=K==200,Ie(this.i,this.u,this.A,this.l,this.R,Oa,K),this.o){if(this.T&&!this.K){t:{if(this.g){var qr,Da=this.g;if((qr=Da.g?Da.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(qr)){var Gr=qr;break t}}Gr=null}if(K=Gr)Y(this.i,this.l,K,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mt(this,K);else{this.o=!1,this.s=3,Or(12),at(this),Me(this);break e}}if(this.P){K=!0;let rn;for(;!this.J&&this.C<St.length;)if(rn=ae(this,St),rn==te){Oa==4&&(this.s=4,Or(14),K=!1),Y(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==we){this.s=4,Or(15),Y(this.i,this.l,St,"[Invalid Chunk]"),K=!1;break}else Y(this.i,this.l,rn,null),mt(this,rn);if(Ee(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oa!=4||St.length!=0||this.h.h||(this.s=1,Or(16),K=!1),this.o=this.o&&K,!K)Y(this.i,this.l,St,"[Invalid Chunked Response]"),at(this),Me(this);else if(0<St.length&&!this.W){this.W=!0;var Wa=this.j;Wa.g==this&&Wa.ba&&!Wa.M&&(Wa.j.info("Great, no buffering proxy detected. Bytes received: "+St.length),pu(Wa),Wa.M=!0,Or(11))}}else Y(this.i,this.l,St,null),mt(this,St);Oa==4&&at(this),this.o&&!this.J&&(Oa==4?Ob(this.j,this):(this.o=!1,ke(this)))}else vk(this.g),K==400&&0<St.indexOf("Unknown SID")?(this.s=3,Or(12)):(this.s=0,Or(13)),at(this),Me(this)}}}catch{}finally{}};function Ee(C){return C.g?C.u=="GET"&&C.L!=2&&C.j.Ca:!1}function ae(C,V){var K=C.C,me=V.indexOf(`
`,K);return me==-1?te:(K=Number(V.substring(K,me)),isNaN(K)?we:(me+=1,me+K>V.length?te:(V=V.slice(me,me+K),C.C=me+K,V)))}ye.prototype.cancel=function(){this.J=!0,at(this)};function ke(C){C.S=Date.now()+C.I,Oe(C,C.I)}function Oe(C,V){if(C.B!=null)throw Error("WatchDog timer not null");C.B=$r(m(C.ba,C),V)}function De(C){C.B&&(l.clearTimeout(C.B),C.B=null)}ye.prototype.ba=function(){this.B=null;const C=Date.now();0<=C-this.S?(ie(this.i,this.A),this.L!=2&&(Jr(),Or(17)),at(this),this.s=2,Me(this)):Oe(this,this.S-C)};function Me(C){C.j.G==0||C.J||Ob(C.j,C)}function at(C){De(C);var V=C.M;V&&typeof V.ma=="function"&&V.ma(),C.M=null,or(C.U),C.g&&(V=C.g,C.g=null,V.abort(),V.ma())}function mt(C,V){try{var K=C.j;if(K.G!=0&&(K.g==C||On(K.h,C))){if(!C.K&&On(K.h,C)&&K.G==3){try{var me=K.Da.g.parse(V)}catch{me=null}if(Array.isArray(me)&&me.length==3){var Ve=me;if(Ve[0]==0){e:if(!K.u){if(K.g)if(K.g.F+3e3<C.F)df(K),lf(K);else break e;I0(K),Or(18)}}else K.za=Ve[1],0<K.za-K.T&&37500>Ve[2]&&K.F&&K.v==0&&!K.C&&(K.C=$r(m(K.Za,K),6e3));if(1>=tn(K.h)&&K.ca){try{K.ca()}catch{}K.ca=void 0}}else zl(K,11)}else if((C.K||K.g==C)&&df(K),!k(V))for(Ve=K.Da.g.parse(V),V=0;V<Ve.length;V++){let Gr=Ve[V];if(K.T=Gr[0],Gr=Gr[1],K.G==2)if(Gr[0]=="c"){K.K=Gr[1],K.ia=Gr[2];const Wa=Gr[3];Wa!=null&&(K.la=Wa,K.j.info("VER="+K.la));const Oa=Gr[4];Oa!=null&&(K.Aa=Oa,K.j.info("SVER="+K.Aa));const Vl=Gr[5];Vl!=null&&typeof Vl=="number"&&0<Vl&&(me=1.5*Vl,K.L=me,K.j.info("backChannelRequestTimeoutMs_="+me)),me=K;const rn=C.g;if(rn){const Qo=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qo){var Ze=me.h;Ze.g||Qo.indexOf("spdy")==-1&&Qo.indexOf("quic")==-1&&Qo.indexOf("h2")==-1||(Ze.j=Ze.l,Ze.g=new Set,Ze.h&&(ef(Ze,Ze.h),Ze.h=null))}if(me.D){const O0=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;O0&&(me.ya=O0,ks(me.I,me.D,O0))}}K.G=3,K.l&&K.l.ua(),K.ba&&(K.R=Date.now()-C.F,K.j.info("Handshake RTT: "+K.R+"ms")),me=K;var St=C;if(me.qa=Fb(me,me.J?me.ia:null,me.W),St.K){Mn(me.h,St);var qr=St,Da=me.L;Da&&(qr.I=Da),qr.B&&(De(qr),ke(qr)),me.g=St}else Ib(me);0<K.i.length&&cf(K)}else Gr[0]!="stop"&&Gr[0]!="close"||zl(K,7);else K.G==3&&(Gr[0]=="stop"||Gr[0]=="close"?Gr[0]=="stop"?zl(K,7):P0(K):Gr[0]!="noop"&&K.l&&K.l.ta(Gr),K.v=0)}}Jr(4)}catch{}}var ir=class{constructor(C,V){this.g=C,this.map=V}};function Wr(C){this.l=C||10,l.PerformanceNavigationTiming?(C=l.performance.getEntriesByType("navigation"),C=0<C.length&&(C[0].nextHopProtocol=="hq"||C[0].nextHopProtocol=="h2")):C=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=C?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ia(C){return C.h?!0:C.g?C.g.size>=C.j:!1}function tn(C){return C.h?1:C.g?C.g.size:0}function On(C,V){return C.h?C.h==V:C.g?C.g.has(V):!1}function ef(C,V){C.g?C.g.add(V):C.h=V}function Mn(C,V){C.h&&C.h==V?C.h=null:C.g&&C.g.has(V)&&C.g.delete(V)}Wr.prototype.cancel=function(){if(this.i=N0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const C of this.g.values())C.cancel();this.g.clear()}};function N0(C){if(C.h!=null)return C.i.concat(C.h.D);if(C.g!=null&&C.g.size!==0){let V=C.i;for(const K of C.g.values())V=V.concat(K.D);return V}return x(C.i)}function pk(C){if(C.V&&typeof C.V=="function")return C.V();if(typeof Map<"u"&&C instanceof Map||typeof Set<"u"&&C instanceof Set)return Array.from(C.values());if(typeof C=="string")return C.split("");if(c(C)){for(var V=[],K=C.length,me=0;me<K;me++)V.push(C[me]);return V}V=[],K=0;for(me in C)V[K++]=C[me];return V}function tf(C){if(C.na&&typeof C.na=="function")return C.na();if(!C.V||typeof C.V!="function"){if(typeof Map<"u"&&C instanceof Map)return Array.from(C.keys());if(!(typeof Set<"u"&&C instanceof Set)){if(c(C)||typeof C=="string"){var V=[];C=C.length;for(var K=0;K<C;K++)V.push(K);return V}V=[],K=0;for(const me in C)V[K++]=me;return V}}}function S0(C,V){if(C.forEach&&typeof C.forEach=="function")C.forEach(V,void 0);else if(c(C)||typeof C=="string")Array.prototype.forEach.call(C,V,void 0);else for(var K=tf(C),me=pk(C),Ve=me.length,Ze=0;Ze<Ve;Ze++)V.call(void 0,me[Ze],K&&K[Ze],C)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xk(C,V){if(C){C=C.split("&");for(var K=0;K<C.length;K++){var me=C[K].indexOf("="),Ve=null;if(0<=me){var Ze=C[K].substring(0,me);Ve=C[K].substring(me+1)}else Ze=C[K];V(Ze,Ve?decodeURIComponent(Ve.replace(/\+/g," ")):"")}}}function va(C){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,C instanceof va){this.h=C.h,ou(this,C.j),this.o=C.o,this.g=C.g,Bc(this,C.s),this.l=C.l;var V=C.i,K=new Fl;K.i=V.i,V.g&&(K.g=new Map(V.g),K.h=V.h),Ml(this,K),this.m=C.m}else C&&(V=String(C).match(iu))?(this.h=!1,ou(this,V[1]||"",!0),this.o=Ui(V[2]||""),this.g=Ui(V[3]||"",!0),Bc(this,V[4]),this.l=Ui(V[5]||"",!0),Ml(this,V[6]||"",!0),this.m=Ui(V[7]||"")):(this.h=!1,this.i=new Fl(null,this.h))}va.prototype.toString=function(){var C=[],V=this.j;V&&C.push(cu(V,j0,!0),":");var K=this.g;return(K||V=="file")&&(C.push("//"),(V=this.o)&&C.push(cu(V,j0,!0),"@"),C.push(encodeURIComponent(String(K)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),K=this.s,K!=null&&C.push(":",String(K))),(K=this.l)&&(this.g&&K.charAt(0)!="/"&&C.push("/"),C.push(cu(K,K.charAt(0)=="/"?bk:E0,!0))),(K=this.i.toString())&&C.push("?",K),(K=this.m)&&C.push("#",cu(K,rf)),C.join("")};function gi(C){return new va(C)}function ou(C,V,K){C.j=K?Ui(V,!0):V,C.j&&(C.j=C.j.replace(/:$/,""))}function Bc(C,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);C.s=V}else C.s=null}function Ml(C,V,K){V instanceof Fl?(C.i=V,Ab(C.i,C.h)):(K||(V=cu(V,yk)),C.i=new Fl(V,C.h))}function ks(C,V,K){C.i.set(V,K)}function lu(C){return ks(C,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),C}function Ui(C,V){return C?V?decodeURI(C.replace(/%25/g,"%2525")):decodeURIComponent(C):""}function cu(C,V,K){return typeof C=="string"?(C=encodeURI(C).replace(V,Eb),K&&(C=C.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C):null}function Eb(C){return C=C.charCodeAt(0),"%"+(C>>4&15).toString(16)+(C&15).toString(16)}var j0=/[#\/\?@]/g,E0=/[#\?:]/g,bk=/[#\?]/g,yk=/[#\?@]/g,rf=/#/g;function Fl(C,V){this.h=this.g=null,this.i=C||null,this.j=!!V}function zi(C){C.g||(C.g=new Map,C.h=0,C.i&&xk(C.i,function(V,K){C.add(decodeURIComponent(V.replace(/\+/g," ")),K)}))}r=Fl.prototype,r.add=function(C,V){zi(this),this.i=null,C=qo(this,C);var K=this.g.get(C);return K||this.g.set(C,K=[]),K.push(V),this.h+=1,this};function Ll(C,V){zi(C),V=qo(C,V),C.g.has(V)&&(C.i=null,C.h-=C.g.get(V).length,C.g.delete(V))}function Bl(C,V){return zi(C),V=qo(C,V),C.g.has(V)}r.forEach=function(C,V){zi(this),this.g.forEach(function(K,me){K.forEach(function(Ve){C.call(V,Ve,me,this)},this)},this)},r.na=function(){zi(this);const C=Array.from(this.g.values()),V=Array.from(this.g.keys()),K=[];for(let me=0;me<V.length;me++){const Ve=C[me];for(let Ze=0;Ze<Ve.length;Ze++)K.push(V[me])}return K},r.V=function(C){zi(this);let V=[];if(typeof C=="string")Bl(this,C)&&(V=V.concat(this.g.get(qo(this,C))));else{C=Array.from(this.g.values());for(let K=0;K<C.length;K++)V=V.concat(C[K])}return V},r.set=function(C,V){return zi(this),this.i=null,C=qo(this,C),Bl(this,C)&&(this.h-=this.g.get(C).length),this.g.set(C,[V]),this.h+=1,this},r.get=function(C,V){return C?(C=this.V(C),0<C.length?String(C[0]):V):V};function A0(C,V,K){Ll(C,V),0<K.length&&(C.i=null,C.g.set(qo(C,V),x(K)),C.h+=K.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const C=[],V=Array.from(this.g.keys());for(var K=0;K<V.length;K++){var me=V[K];const Ze=encodeURIComponent(String(me)),St=this.V(me);for(me=0;me<St.length;me++){var Ve=Ze;St[me]!==""&&(Ve+="="+encodeURIComponent(String(St[me]))),C.push(Ve)}}return this.i=C.join("&")};function qo(C,V){return V=String(V),C.j&&(V=V.toLowerCase()),V}function Ab(C,V){V&&!C.j&&(zi(C),C.i=null,C.g.forEach(function(K,me){var Ve=me.toLowerCase();me!=Ve&&(Ll(this,me),A0(this,Ve,K))},C)),C.j=V}function du(C,V){const K=new Mr;if(l.Image){const me=new Image;me.onload=p(Vi,K,"TestLoadImage: loaded",!0,V,me),me.onerror=p(Vi,K,"TestLoadImage: error",!1,V,me),me.onabort=p(Vi,K,"TestLoadImage: abort",!1,V,me),me.ontimeout=p(Vi,K,"TestLoadImage: timeout",!1,V,me),l.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=C}else V(!1)}function vo(C,V){const K=new Mr,me=new AbortController,Ve=setTimeout(()=>{me.abort(),Vi(K,"TestPingServer: timeout",!1,V)},1e4);fetch(C,{signal:me.signal}).then(Ze=>{clearTimeout(Ve),Ze.ok?Vi(K,"TestPingServer: ok",!0,V):Vi(K,"TestPingServer: server error",!1,V)}).catch(()=>{clearTimeout(Ve),Vi(K,"TestPingServer: error",!1,V)})}function Vi(C,V,K,me,Ve){try{Ve&&(Ve.onload=null,Ve.onerror=null,Ve.onabort=null,Ve.ontimeout=null),me(K)}catch{}}function uu(){this.g=new Vr}function Go(C,V,K){const me=K||"";try{S0(C,function(Ve,Ze){let St=Ve;d(Ve)&&(St=Ot(Ve)),V.push(me+Ze+"="+encodeURIComponent(St))})}catch(Ve){throw V.push(me+"type="+encodeURIComponent("_badmap")),Ve}}function Uc(C){this.l=C.Ub||null,this.j=C.eb||!1}b(Uc,vr),Uc.prototype.g=function(){return new Ul(this.l,this.j)},Uc.prototype.i=(function(C){return function(){return C}})({});function Ul(C,V){Qe.call(this),this.D=C,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ul,Qe),r=Ul.prototype,r.open=function(C,V){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=C,this.A=V,this.readyState=1,Xo(this)},r.send=function(C){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};C&&(V.body=C),(this.D||l).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yo(this)),this.readyState=0},r.Sa=function(C){if(this.g&&(this.l=C,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=C.headers,this.readyState=2,Xo(this)),this.g&&(this.readyState=3,Xo(this),this.g)))if(this.responseType==="arraybuffer")C.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in C){if(this.j=C.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;T0(this)}else C.text().then(this.Ra.bind(this),this.ga.bind(this))};function T0(C){C.j.read().then(C.Pa.bind(C)).catch(C.ga.bind(C))}r.Pa=function(C){if(this.g){if(this.o&&C.value)this.response.push(C.value);else if(!this.o){var V=C.value?C.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!C.done}))&&(this.response=this.responseText+=V)}C.done?Yo(this):Xo(this),this.readyState==3&&T0(this)}},r.Ra=function(C){this.g&&(this.response=this.responseText=C,Yo(this))},r.Qa=function(C){this.g&&(this.response=C,Yo(this))},r.ga=function(){this.g&&Yo(this)};function Yo(C){C.readyState=4,C.l=null,C.j=null,C.v=null,Xo(C)}r.setRequestHeader=function(C,V){this.u.append(C,V)},r.getResponseHeader=function(C){return this.h&&this.h.get(C.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const C=[],V=this.h.entries();for(var K=V.next();!K.done;)K=K.value,C.push(K[0]+": "+K[1]),K=V.next();return C.join(`\r
`)};function Xo(C){C.onreadystatechange&&C.onreadystatechange.call(C)}Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(C){this.m=C?"include":"same-origin"}});function C0(C){let V="";return I(C,function(K,me){V+=me,V+=":",V+=K,V+=`\r
`}),V}function $a(C,V,K){e:{for(me in K){var me=!1;break e}me=!0}me||(K=C0(K),typeof C=="string"?K!=null&&encodeURIComponent(String(K)):ks(C,V,K))}function ds(C){Qe.call(this),this.headers=new Map,this.o=C||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(ds,Qe);var sf=/^https?$/i,hu=["POST","PUT"];r=ds.prototype,r.Ha=function(C){this.J=C},r.ea=function(C,V,K,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+C);V=V?V.toUpperCase():"GET",this.D=C,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():be.g(),this.v=this.o?Hr(this.o):Hr(be),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(V,String(C),!0),this.B=!1}catch(Ze){Tb(this,Ze);return}if(C=K||"",K=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var Ve in me)K.set(Ve,me[Ve]);else if(typeof me.keys=="function"&&typeof me.get=="function")for(const Ze of me.keys())K.set(Ze,me.get(Ze));else throw Error("Unknown input type for opt_headers: "+String(me));me=Array.from(K.keys()).find(Ze=>Ze.toLowerCase()=="content-type"),Ve=l.FormData&&C instanceof l.FormData,!(0<=Array.prototype.indexOf.call(hu,V,void 0))||me||Ve||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ze,St]of K)this.g.setRequestHeader(Ze,St);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fu(this),this.u=!0,this.g.send(C),this.u=!1}catch(Ze){Tb(this,Ze)}};function Tb(C,V){C.h=!1,C.g&&(C.j=!0,C.g.abort(),C.j=!1),C.l=V,C.m=5,af(C),Ko(C)}function af(C){C.A||(C.A=!0,ut(C,"complete"),ut(C,"error"))}r.abort=function(C){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=C||7,ut(this,"complete"),ut(this,"abort"),Ko(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ko(this,!0)),ds.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?nf(this):this.bb())},r.bb=function(){nf(this)};function nf(C){if(C.h&&typeof o<"u"&&(!C.v[1]||Hi(C)!=4||C.Z()!=2)){if(C.u&&Hi(C)==4)vt(C.Ea,0,C);else if(ut(C,"readystatechange"),Hi(C)==4){C.h=!1;try{const St=C.Z();e:switch(St){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var K;if(!(K=V)){var me;if(me=St===0){var Ve=String(C.D).match(iu)[1]||null;!Ve&&l.self&&l.self.location&&(Ve=l.self.location.protocol.slice(0,-1)),me=!sf.test(Ve?Ve.toLowerCase():"")}K=me}if(K)ut(C,"complete"),ut(C,"success");else{C.m=6;try{var Ze=2<Hi(C)?C.g.statusText:""}catch{Ze=""}C.l=Ze+" ["+C.Z()+"]",af(C)}}finally{Ko(C)}}}}function Ko(C,V){if(C.g){fu(C);const K=C.g,me=C.v[0]?()=>{}:null;C.g=null,C.v=null,V||ut(C,"ready");try{K.onreadystatechange=me}catch{}}}function fu(C){C.I&&(l.clearTimeout(C.I),C.I=null)}r.isActive=function(){return!!this.g};function Hi(C){return C.g?C.g.readyState:0}r.Z=function(){try{return 2<Hi(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(C){if(this.g){var V=this.g.responseText;return C&&V.indexOf(C)==0&&(V=V.substring(C.length)),Xt(V)}};function Cb(C){try{if(!C.g)return null;if("response"in C.g)return C.g.response;switch(C.H){case"":case"text":return C.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in C.g)return C.g.mozResponseArrayBuffer}return null}catch{return null}}function vk(C){const V={};C=(C.g&&2<=Hi(C)&&C.g.getAllResponseHeaders()||"").split(`\r
`);for(let me=0;me<C.length;me++){if(k(C[me]))continue;var K=M(C[me]);const Ve=K[0];if(K=K[1],typeof K!="string")continue;K=K.trim();const Ze=V[Ve]||[];V[Ve]=Ze,Ze.push(K)}S(V,function(me){return me.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mu(C,V,K){return K&&K.internalChannelParams&&K.internalChannelParams[C]||V}function of(C){this.Aa=0,this.i=[],this.j=new Mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mu("failFast",!1,C),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mu("baseRetryDelayMs",5e3,C),this.cb=mu("retryDelaySeedMs",1e4,C),this.Wa=mu("forwardChannelMaxRetries",2,C),this.wa=mu("forwardChannelRequestTimeoutMs",2e4,C),this.pa=C&&C.xmlHttpFactory||void 0,this.Xa=C&&C.Tb||void 0,this.Ca=C&&C.useFetchStreams||!1,this.L=void 0,this.J=C&&C.supportsCrossDomainXhr||!1,this.K="",this.h=new Wr(C&&C.concurrentRequestLimit),this.Da=new uu,this.P=C&&C.fastHandshake||!1,this.O=C&&C.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=C&&C.Rb||!1,C&&C.xa&&this.j.xa(),C&&C.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&C&&C.detectBufferingProxy||!1,this.ja=void 0,C&&C.longPollingTimeout&&0<C.longPollingTimeout&&(this.ja=C.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=of.prototype,r.la=8,r.G=1,r.connect=function(C,V,K,me){Or(0),this.W=C,this.H=V||{},K&&me!==void 0&&(this.H.OSID=K,this.H.OAID=me),this.F=this.X,this.I=Fb(this,null,this.W),cf(this)};function P0(C){if(Pb(C),C.G==3){var V=C.U++,K=gi(C.I);if(ks(K,"SID",C.K),ks(K,"RID",V),ks(K,"TYPE","terminate"),gu(C,K),V=new ye(C,C.j,V),V.L=2,V.v=lu(gi(K)),K=!1,l.navigator&&l.navigator.sendBeacon)try{K=l.navigator.sendBeacon(V.v.toString(),"")}catch{}!K&&l.Image&&(new Image().src=V.v,K=!0),K||(V.g=Lb(V.j,null),V.g.ea(V.v)),V.F=Date.now(),ke(V)}Mb(C)}function lf(C){C.g&&(pu(C),C.g.cancel(),C.g=null)}function Pb(C){lf(C),C.u&&(l.clearTimeout(C.u),C.u=null),df(C),C.h.cancel(),C.s&&(typeof C.s=="number"&&l.clearTimeout(C.s),C.s=null)}function cf(C){if(!Ia(C.h)&&!C.s){C.s=!0;var V=C.Ga;W||z(),ne||(W(),ne=!0),U.add(V,C),C.B=0}}function wk(C,V){return tn(C.h)>=C.h.j-(C.s?1:0)?!1:C.s?(C.i=V.D.concat(C.i),!0):C.G==1||C.G==2||C.B>=(C.Va?0:C.Wa)?!1:(C.s=$r(m(C.Ga,C,V),D0(C,C.B)),C.B++,!0)}r.Ga=function(C){if(this.s)if(this.s=null,this.G==1){if(!C){this.U=Math.floor(1e5*Math.random()),C=this.U++;const Ve=new ye(this,this.j,C);let Ze=this.o;if(this.S&&(Ze?(Ze=A(Ze),O(Ze,this.S)):Ze=this.S),this.m!==null||this.O||(Ve.H=Ze,Ze=null),this.P)e:{for(var V=0,K=0;K<this.i.length;K++){t:{var me=this.i[K];if("__data__"in me.map&&(me=me.map.__data__,typeof me=="string")){me=me.length;break t}me=void 0}if(me===void 0)break;if(V+=me,4096<V){V=K;break e}if(V===4096||K===this.i.length-1){V=K+1;break e}}V=1e3}else V=1e3;V=Rb(this,Ve,V),K=gi(this.I),ks(K,"RID",C),ks(K,"CVER",22),this.D&&ks(K,"X-HTTP-Session-Id",this.D),gu(this,K),Ze&&(this.O?V="headers="+encodeURIComponent(String(C0(Ze)))+"&"+V:this.m&&$a(K,this.m,Ze)),ef(this.h,Ve),this.Ua&&ks(K,"TYPE","init"),this.P?(ks(K,"$req",V),ks(K,"SID","null"),Ve.T=!0,_e(Ve,K,null)):_e(Ve,K,V),this.G=2}}else this.G==3&&(C?R0(this,C):this.i.length==0||Ia(this.h)||R0(this))};function R0(C,V){var K;V?K=V.l:K=C.U++;const me=gi(C.I);ks(me,"SID",C.K),ks(me,"RID",K),ks(me,"AID",C.T),gu(C,me),C.m&&C.o&&$a(me,C.m,C.o),K=new ye(C,C.j,K,C.B+1),C.m===null&&(K.H=C.o),V&&(C.i=V.D.concat(C.i)),V=Rb(C,K,1e3),K.I=Math.round(.5*C.wa)+Math.round(.5*C.wa*Math.random()),ef(C.h,K),_e(K,me,V)}function gu(C,V){C.H&&I(C.H,function(K,me){ks(V,me,K)}),C.l&&S0({},function(K,me){ks(V,me,K)})}function Rb(C,V,K){K=Math.min(C.i.length,K);var me=C.l?m(C.l.Na,C.l,C):null;e:{var Ve=C.i;let Ze=-1;for(;;){const St=["count="+K];Ze==-1?0<K?(Ze=Ve[0].g,St.push("ofs="+Ze)):Ze=0:St.push("ofs="+Ze);let qr=!0;for(let Da=0;Da<K;Da++){let Gr=Ve[Da].g;const Wa=Ve[Da].map;if(Gr-=Ze,0>Gr)Ze=Math.max(0,Ve[Da].g-100),qr=!1;else try{Go(Wa,St,"req"+Gr+"_")}catch{me&&me(Wa)}}if(qr){me=St.join("&");break e}}}return C=C.i.splice(0,K),V.D=C,me}function Ib(C){if(!C.g&&!C.u){C.Y=1;var V=C.Fa;W||z(),ne||(W(),ne=!0),U.add(V,C),C.v=0}}function I0(C){return C.g||C.u||3<=C.v?!1:(C.Y++,C.u=$r(m(C.Fa,C),D0(C,C.v)),C.v++,!0)}r.Fa=function(){if(this.u=null,Db(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var C=2*this.R;this.j.info("BP detection timer enabled: "+C),this.A=$r(m(this.ab,this),C)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Or(10),lf(this),Db(this))};function pu(C){C.A!=null&&(l.clearTimeout(C.A),C.A=null)}function Db(C){C.g=new ye(C,C.j,"rpc",C.Y),C.m===null&&(C.g.H=C.o),C.g.O=0;var V=gi(C.qa);ks(V,"RID","rpc"),ks(V,"SID",C.K),ks(V,"AID",C.T),ks(V,"CI",C.F?"0":"1"),!C.F&&C.ja&&ks(V,"TO",C.ja),ks(V,"TYPE","xmlhttp"),gu(C,V),C.m&&C.o&&$a(V,C.m,C.o),C.L&&(C.g.I=C.L);var K=C.g;C=C.ia,K.L=1,K.v=lu(gi(V)),K.m=null,K.P=!0,le(K,C)}r.Za=function(){this.C!=null&&(this.C=null,lf(this),I0(this),Or(19))};function df(C){C.C!=null&&(l.clearTimeout(C.C),C.C=null)}function Ob(C,V){var K=null;if(C.g==V){df(C),pu(C),C.g=null;var me=2}else if(On(C.h,V))K=V.D,Mn(C.h,V),me=1;else return;if(C.G!=0){if(V.o)if(me==1){K=V.m?V.m.length:0,V=Date.now()-V.F;var Ve=C.B;me=Pr(),ut(me,new ss(me,K)),cf(C)}else Ib(C);else if(Ve=V.s,Ve==3||Ve==0&&0<V.X||!(me==1&&wk(C,V)||me==2&&I0(C)))switch(K&&0<K.length&&(V=C.h,V.i=V.i.concat(K)),Ve){case 1:zl(C,5);break;case 4:zl(C,10);break;case 3:zl(C,6);break;default:zl(C,2)}}}function D0(C,V){let K=C.Ta+Math.floor(Math.random()*C.cb);return C.isActive()||(K*=2),K*V}function zl(C,V){if(C.j.info("Error code "+V),V==2){var K=m(C.fb,C),me=C.Xa;const Ve=!me;me=new va(me||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ou(me,"https"),lu(me),Ve?du(me.toString(),K):vo(me.toString(),K)}else Or(2);C.G=0,C.l&&C.l.sa(V),Mb(C),Pb(C)}r.fb=function(C){C?(this.j.info("Successfully pinged google.com"),Or(2)):(this.j.info("Failed to ping google.com"),Or(1))};function Mb(C){if(C.G=0,C.ka=[],C.l){const V=N0(C.h);(V.length!=0||C.i.length!=0)&&(y(C.ka,V),y(C.ka,C.i),C.h.i.length=0,x(C.i),C.i.length=0),C.l.ra()}}function Fb(C,V,K){var me=K instanceof va?gi(K):new va(K);if(me.g!="")V&&(me.g=V+"."+me.g),Bc(me,me.s);else{var Ve=l.location;me=Ve.protocol,V=V?V+"."+Ve.hostname:Ve.hostname,Ve=+Ve.port;var Ze=new va(null);me&&ou(Ze,me),V&&(Ze.g=V),Ve&&Bc(Ze,Ve),K&&(Ze.l=K),me=Ze}return K=C.D,V=C.ya,K&&V&&ks(me,K,V),ks(me,"VER",C.la),gu(C,me),me}function Lb(C,V,K){if(V&&!C.J)throw Error("Can't create secondary domain capable XhrIo object.");return V=C.Ca&&!C.pa?new ds(new Uc({eb:K})):new ds(C.pa),V.Ha(C.J),V}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bb(){}r=Bb.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function uf(){}uf.prototype.g=function(C,V){return new Fn(C,V)};function Fn(C,V){Qe.call(this),this.g=new of(V),this.l=C,this.h=V&&V.messageUrlParams||null,C=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"}),this.g.o=C,C=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(C?C["X-WebChannel-Content-Type"]=V.messageContentType:C={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(C?C["X-WebChannel-Client-Profile"]=V.va:C={"X-WebChannel-Client-Profile":V.va}),this.g.S=C,(C=V&&V.Sb)&&!k(C)&&(this.g.m=C),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!k(V)&&(this.g.D=V,C=this.h,C!==null&&V in C&&(C=this.h,V in C&&delete C[V])),this.j=new Zo(this)}b(Fn,Qe),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){P0(this.g)},Fn.prototype.o=function(C){var V=this.g;if(typeof C=="string"){var K={};K.__data__=C,C=K}else this.u&&(K={},K.__data__=Ot(C),C=K);V.i.push(new ir(V.Ya++,C)),V.G==3&&cf(V)},Fn.prototype.N=function(){this.g.l=null,delete this.j,P0(this.g),delete this.g,Fn.aa.N.call(this)};function Ub(C){cr.call(this),C.__headers__&&(this.headers=C.__headers__,this.statusCode=C.__status__,delete C.__headers__,delete C.__status__);var V=C.__sm__;if(V){e:{for(const K in V){C=K;break e}C=void 0}(this.i=C)&&(C=this.i,V=V!==null&&C in V?V[C]:void 0),this.data=V}else this.data=C}b(Ub,cr);function zb(){Er.call(this),this.status=1}b(zb,Er);function Zo(C){this.g=C}b(Zo,Bb),Zo.prototype.ua=function(){ut(this.g,"a")},Zo.prototype.ta=function(C){ut(this.g,new Ub(C))},Zo.prototype.sa=function(C){ut(this.g,new zb)},Zo.prototype.ra=function(){ut(this.g,"b")},uf.prototype.createWebChannel=uf.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,PB=function(){return new uf},CB=function(){return Pr()},TB=Ar,bj={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,T1=oe,ge.COMPLETE="complete",AB=ge,xr.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Qg=xr,ds.prototype.listenOnce=ds.prototype.L,ds.prototype.getLastError=ds.prototype.Ka,ds.prototype.getLastErrorCode=ds.prototype.Ba,ds.prototype.getStatus=ds.prototype.Z,ds.prototype.getResponseJson=ds.prototype.Oa,ds.prototype.getResponseText=ds.prototype.oa,ds.prototype.send=ds.prototype.ea,ds.prototype.setWithCredentials=ds.prototype.Ha,EB=ds}).apply(typeof Wy<"u"?Wy:typeof self<"u"?self:typeof window<"u"?window:{});const WI="@firebase/firestore",qI="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qm="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new hA("@firebase/firestore");function Jf(){return wh.logLevel}function Ft(r,...e){if(wh.logLevel<=Fr.DEBUG){const t=e.map(EA);wh.debug(`Firestore (${Qm}): ${r}`,...t)}}function jc(r,...e){if(wh.logLevel<=Fr.ERROR){const t=e.map(EA);wh.error(`Firestore (${Qm}): ${r}`,...t)}}function Rd(r,...e){if(wh.logLevel<=Fr.WARN){const t=e.map(EA);wh.warn(`Firestore (${Qm}): ${r}`,...t)}}function EA(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,RB(r,s,t)}function RB(r,e,t){let s=`FIRESTORE (${Qm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw jc(s),new Error(s)}function Zr(r,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,r||RB(e,a,s)}function nr(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends Il{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(kn.UNAUTHENTICATED)))}shutdown(){}}class DJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class OJ{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Zr(this.o===void 0,42304);let s=this.i;const a=c=>this.i!==s?(s=this.i,t(c)):Promise.resolve();let n=new bl;this.o=()=>{this.i++,this.currentUser=this.u(),n.resolve(),n=new bl,e.enqueueRetryable((()=>a(this.currentUser)))};const o=()=>{const c=n;e.enqueueRetryable((async()=>{await c.promise,await a(this.currentUser)}))},l=c=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),n.resolve(),n=new bl)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Zr(typeof s.accessToken=="string",31837,{l:s}),new IB(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Zr(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class MJ{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FJ{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new MJ(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class GI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LJ{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Zr(this.o===void 0,3512);const s=n=>{n.error!=null&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${n.error.message}`);const o=n.token!==this.m;return this.m=n.token,Ft("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(n.token):Promise.resolve()};this.o=n=>{e.enqueueRetryable((()=>s(n)))};const a=n=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=n,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((n=>a(n))),setTimeout((()=>{if(!this.appCheck){const n=this.V.getImmediate({optional:!0});n?a(n):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new GI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Zr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new GI(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BJ(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=BJ(40);for(let n=0;n<a.length;++n)s.length<20&&a[n]<t&&(s+=e.charAt(a[n]%62))}return s}}function _r(r,e){return r<e?-1:r>e?1:0}function yj(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return _r(s,a);{const n=DB(),o=UJ(n.encode(YI(r,t)),n.encode(YI(e,t)));return o!==0?o:_r(s,a)}}t+=s>65535?2:1}return _r(r.length,e.length)}function YI(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function UJ(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return _r(r[t],e[t]);return _r(r.length,e.length)}function Am(r,e,t){return r.length===e.length&&r.every(((s,a)=>t(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="__name__";class hl{constructor(e,t,s){t===void 0?t=0:t>e.length&&Gt(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Gt(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return hl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const n=hl.compareSegments(e.get(a),t.get(a));if(n!==0)return n}return _r(e.length,t.length)}static compareSegments(e,t){const s=hl.isNumericId(e),a=hl.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?hl.extractNumericId(e).compare(hl.extractNumericId(t)):yj(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jd.fromString(e.substring(4,e.length-2))}}class Es extends hl{construct(e,t,s){return new Es(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Et(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new Es(t)}static emptyPath(){return new Es([])}}const zJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends hl{construct(e,t,s){return new fn(e,t,s)}static isValidIdentifier(e){return zJ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XI}static keyField(){return new fn([XI])}static fromServerFormat(e){const t=[];let s="",a=0;const n=()=>{if(s.length===0)throw new Et(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let o=!1;for(;a<e.length;){const l=e[a];if(l==="\\"){if(a+1===e.length)throw new Et(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Et(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,a+=2}else l==="`"?(o=!o,a++):l!=="."||o?(s+=l,a++):(n(),a++)}if(n(),o)throw new Et(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(t)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.path=e}static fromPath(e){return new $t(Es.fromString(e))}static fromName(e){return new $t(Es.fromString(e).popFirst(5))}static empty(){return new $t(Es.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Es.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Es.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new Es(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(r,e,t){if(!t)throw new Et(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function VJ(r,e,t,s){if(e===!0&&s===!0)throw new Et(tt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function KI(r){if(!$t.isDocumentKey(r))throw new Et(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ZI(r){if($t.isDocumentKey(r))throw new Et(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function MB(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function p2(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Gt(12329,{type:typeof r})}function Cn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Et(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=p2(r);throw new Et(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function HJ(r,e){if(e<=0)throw new Et(tt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(r,e){const t={typeString:r};return e&&(t.value=e),t}function zx(r,e){if(!MB(r))throw new Et(tt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,n="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const o=r[s];if(a&&typeof o!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(n!==void 0&&o!==n.value){t=`Expected '${s}' field to equal '${n.value}'`;break}}if(t)throw new Et(tt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=-62135596800,JI=1e6;class Bs{static now(){return Bs.fromMillis(Date.now())}static fromDate(e){return Bs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*JI);return new Bs(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Et(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Et(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<QI)throw new Et(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Et(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JI}_compareTo(e){return this.seconds===e.seconds?_r(this.nanoseconds,e.nanoseconds):_r(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zx(e,Bs._jsonSchema))return new Bs(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-QI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bs._jsonSchemaVersion="firestore/timestamp/1.0",Bs._jsonSchema={type:Ca("string",Bs._jsonSchemaVersion),seconds:Ca("number"),nanoseconds:Ca("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{static fromTimestamp(e){return new er(e)}static min(){return new er(new Bs(0,0))}static max(){return new er(new Bs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=-1;function $J(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=er.fromTimestamp(s===1e9?new Bs(t+1,0):new Bs(t,s));return new Id(a,$t.empty(),e)}function WJ(r){return new Id(r.readTime,r.key,Vp)}class Id{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Id(er.min(),$t.empty(),Vp)}static max(){return new Id(er.max(),$t.empty(),Vp)}}function qJ(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=$t.comparator(r.documentKey,e.documentKey),t!==0?t:_r(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jm(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==GJ)throw r;Ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ct(((s,a)=>{this.nextCallback=n=>{this.wrapSuccess(e,n).next(s,a)},this.catchCallback=n=>{this.wrapFailure(t,n).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ct?t:ct.resolve(t)}catch(t){return ct.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ct.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ct.reject(t)}static resolve(e){return new ct(((t,s)=>{t(e)}))}static reject(e){return new ct(((t,s)=>{s(e)}))}static waitFor(e){return new ct(((t,s)=>{let a=0,n=0,o=!1;e.forEach((l=>{++a,l.next((()=>{++n,o&&n===a&&t()}),(c=>s(c)))})),o=!0,n===a&&t()}))}static or(e){let t=ct.resolve(!1);for(const s of e)t=t.next((a=>a?ct.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,n)=>{s.push(t.call(this,a,n))})),this.waitFor(s)}static mapArray(e,t){return new ct(((s,a)=>{const n=e.length,o=new Array(n);let l=0;for(let c=0;c<n;c++){const d=c;t(e[d]).next((u=>{o[d]=u,++l,l===n&&s(o)}),(u=>a(u)))}}))}static doWhile(e,t){return new ct(((s,a)=>{const n=()=>{e()===!0?t().next((()=>{n()}),a):s()};n()}))}}function XJ(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function e0(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}x2.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=-1;function Vx(r){return r==null}function hw(r){return r===0&&1/r==-1/0}function KJ(r){return typeof r=="number"&&Number.isInteger(r)&&!hw(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB="";function ZJ(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=eD(e)),e=QJ(r.get(t),e);return eD(e)}function QJ(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const n=r.charAt(a);switch(n){case"\0":t+="";break;case FB:t+="";break;default:t+=n}}return t}function eD(r){return r+FB+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Jd(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function LB(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,t){this.comparator=e,this.root=t||dn.EMPTY}insert(e,t){return new Zs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Zs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qy(this.root,e,this.comparator,!1)}getReverseIterator(){return new qy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qy(this.root,e,this.comparator,!0)}}class qy{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let n=1;for(;!e.isEmpty();)if(n=t?s(e.key,t):1,t&&a&&(n*=-1),n<0)e=this.isReverse?e.left:e.right;else{if(n===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,t,s,a,n){this.key=e,this.value=t,this.color=s??dn.RED,this.left=a??dn.EMPTY,this.right=n??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,n){return new dn(e??this.key,t??this.value,s??this.color,a??this.left,n??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const n=s(e,a.key);return a=n<0?a.copy(null,null,null,a.left.insert(e,t,s),null):n===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return dn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Gt(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt(57766)}get value(){throw Gt(16141)}get color(){throw Gt(16727)}get left(){throw Gt(29726)}get right(){throw Gt(36894)}copy(e,t,s,a,n){return this}insert(e,t,s){return new dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.comparator=e,this.data=new Zs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rD(this.data.getIterator())}getIteratorFrom(e){return new rD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,n=s.getNext().key;if(this.comparator(a,n)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Va(this.comparator);return t.data=e,t}}class rD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Ri([])}unionWith(e){let t=new Va(fn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ri(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Am(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(n){throw typeof DOMException<"u"&&n instanceof DOMException?new BB("Invalid base64 string: "+n):n}})(e);return new pn(t)}static fromUint8Array(e){const t=(function(a){let n="";for(let o=0;o<a.length;++o)n+=String.fromCharCode(a[o]);return n})(e);return new pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _r(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const JJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dd(r){if(Zr(!!r,39018),typeof r=="string"){let e=0;const t=JJ.exec(r);if(Zr(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ma(r.seconds),nanos:ma(r.nanos)}}function ma(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Od(r){return typeof r=="string"?pn.fromBase64String(r):pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB="server_timestamp",zB="__type__",VB="__previous_value__",HB="__local_write_time__";function CA(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[zB])===null||t===void 0?void 0:t.stringValue)===UB}function b2(r){const e=r.mapValue.fields[VB];return CA(e)?b2(e):e}function Hp(r){const e=Dd(r.mapValue.fields[HB].timestampValue);return new Bs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{constructor(e,t,s,a,n,o,l,c,d,u){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=n,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=u}}const fw="(default)";class $p{constructor(e,t){this.projectId=e,this.database=t||fw}static empty(){return new $p("","")}get isDefaultDatabase(){return this.database===fw}isEqual(e){return e instanceof $p&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="__type__",tee="__max__",Gy={mapValue:{}},WB="__vector__",mw="value";function Md(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?CA(r)?4:see(r)?9007199254740991:ree(r)?10:11:Gt(28295,{value:r})}function Cl(r,e){if(r===e)return!0;const t=Md(r);if(t!==Md(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Hp(r).isEqual(Hp(e));case 3:return(function(a,n){if(typeof a.timestampValue=="string"&&typeof n.timestampValue=="string"&&a.timestampValue.length===n.timestampValue.length)return a.timestampValue===n.timestampValue;const o=Dd(a.timestampValue),l=Dd(n.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,n){return Od(a.bytesValue).isEqual(Od(n.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,n){return ma(a.geoPointValue.latitude)===ma(n.geoPointValue.latitude)&&ma(a.geoPointValue.longitude)===ma(n.geoPointValue.longitude)})(r,e);case 2:return(function(a,n){if("integerValue"in a&&"integerValue"in n)return ma(a.integerValue)===ma(n.integerValue);if("doubleValue"in a&&"doubleValue"in n){const o=ma(a.doubleValue),l=ma(n.doubleValue);return o===l?hw(o)===hw(l):isNaN(o)&&isNaN(l)}return!1})(r,e);case 9:return Am(r.arrayValue.values||[],e.arrayValue.values||[],Cl);case 10:case 11:return(function(a,n){const o=a.mapValue.fields||{},l=n.mapValue.fields||{};if(tD(o)!==tD(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Cl(o[c],l[c])))return!1;return!0})(r,e);default:return Gt(52216,{left:r})}}function Wp(r,e){return(r.values||[]).find((t=>Cl(t,e)))!==void 0}function Tm(r,e){if(r===e)return 0;const t=Md(r),s=Md(e);if(t!==s)return _r(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return _r(r.booleanValue,e.booleanValue);case 2:return(function(n,o){const l=ma(n.integerValue||n.doubleValue),c=ma(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(r,e);case 3:return sD(r.timestampValue,e.timestampValue);case 4:return sD(Hp(r),Hp(e));case 5:return yj(r.stringValue,e.stringValue);case 6:return(function(n,o){const l=Od(n),c=Od(o);return l.compareTo(c)})(r.bytesValue,e.bytesValue);case 7:return(function(n,o){const l=n.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const u=_r(l[d],c[d]);if(u!==0)return u}return _r(l.length,c.length)})(r.referenceValue,e.referenceValue);case 8:return(function(n,o){const l=_r(ma(n.latitude),ma(o.latitude));return l!==0?l:_r(ma(n.longitude),ma(o.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return aD(r.arrayValue,e.arrayValue);case 10:return(function(n,o){var l,c,d,u;const h=n.fields||{},m=o.fields||{},p=(l=h[mw])===null||l===void 0?void 0:l.arrayValue,b=(c=m[mw])===null||c===void 0?void 0:c.arrayValue,x=_r(((d=p?.values)===null||d===void 0?void 0:d.length)||0,((u=b?.values)===null||u===void 0?void 0:u.length)||0);return x!==0?x:aD(p,b)})(r.mapValue,e.mapValue);case 11:return(function(n,o){if(n===Gy.mapValue&&o===Gy.mapValue)return 0;if(n===Gy.mapValue)return 1;if(o===Gy.mapValue)return-1;const l=n.fields||{},c=Object.keys(l),d=o.fields||{},u=Object.keys(d);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const m=yj(c[h],u[h]);if(m!==0)return m;const p=Tm(l[c[h]],d[u[h]]);if(p!==0)return p}return _r(c.length,u.length)})(r.mapValue,e.mapValue);default:throw Gt(23264,{le:t})}}function sD(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return _r(r,e);const t=Dd(r),s=Dd(e),a=_r(t.seconds,s.seconds);return a!==0?a:_r(t.nanos,s.nanos)}function aD(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const n=Tm(t[a],s[a]);if(n)return n}return _r(t.length,s.length)}function Cm(r){return vj(r)}function vj(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=Dd(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Od(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return $t.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",a=!0;for(const n of t.values||[])a?a=!1:s+=",",s+=vj(n);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",n=!0;for(const o of s)n?n=!1:a+=",",a+=`${o}:${vj(t.fields[o])}`;return a+"}"})(r.mapValue):Gt(61005,{value:r})}function C1(r){switch(Md(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=b2(r);return e?16+C1(e):16;case 5:return 2*r.stringValue.length;case 6:return Od(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,n)=>a+C1(n)),0)})(r.arrayValue);case 10:case 11:return(function(s){let a=0;return Jd(s.fields,((n,o)=>{a+=n.length+C1(o)})),a})(r.mapValue);default:throw Gt(13486,{value:r})}}function nD(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function wj(r){return!!r&&"integerValue"in r}function PA(r){return!!r&&"arrayValue"in r}function iD(r){return!!r&&"nullValue"in r}function oD(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function P1(r){return!!r&&"mapValue"in r}function ree(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[$B])===null||t===void 0?void 0:t.stringValue)===WB}function up(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Jd(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=up(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=up(r.arrayValue.values[t]);return e}return Object.assign({},r)}function see(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!P1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=up(t)}setAll(e){let t=fn.emptyPath(),s={},a=[];e.forEach(((o,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,s,a),s={},a=[],t=l.popLast()}o?s[l.lastSegment()]=up(o):a.push(l.lastSegment())}));const n=this.getFieldsMap(t);this.applyChanges(n,s,a)}delete(e){const t=this.field(e.popLast());P1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];P1(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Jd(t,((a,n)=>e[a]=n));for(const a of s)delete e[a]}clone(){return new Wn(up(this.value))}}function qB(r){const e=[];return Jd(r.fields,((t,s)=>{const a=new fn([t]);if(P1(s)){const n=qB(s.mapValue).fields;if(n.length===0)e.push(a);else for(const o of n)e.push(a.child(o))}else e.push(a)})),new Ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,s,a,n,o,l){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=n,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Za(e,0,er.min(),er.min(),er.min(),Wn.empty(),0)}static newFoundDocument(e,t,s,a){return new Za(e,1,t,er.min(),s,a,0)}static newNoDocument(e,t){return new Za(e,2,t,er.min(),er.min(),Wn.empty(),0)}static newUnknownDocument(e,t){return new Za(e,3,t,er.min(),er.min(),Wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(er.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=er.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Za&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Za(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t){this.position=e,this.inclusive=t}}function lD(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const n=e[a],o=r.position[a];if(n.field.isKeyField()?s=$t.comparator($t.fromName(o.referenceValue),t.key):s=Tm(o,t.data.field(n.field)),n.dir==="desc"&&(s*=-1),s!==0)break}return s}function cD(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Cl(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t="asc"){this.field=e,this.dir=t}}function aee(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{}class Aa extends GB{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new iee(e,t,s):t==="array-contains"?new cee(e,s):t==="in"?new dee(e,s):t==="not-in"?new uee(e,s):t==="array-contains-any"?new hee(e,s):new Aa(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new oee(e,s):new lee(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Tm(t,this.value)):t!==null&&Md(this.value)===Md(t)&&this.matchesComparison(Tm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zo extends GB{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new zo(e,t)}matches(e){return YB(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function YB(r){return r.op==="and"}function XB(r){return nee(r)&&YB(r)}function nee(r){for(const e of r.filters)if(e instanceof zo)return!1;return!0}function kj(r){if(r instanceof Aa)return r.field.canonicalString()+r.op.toString()+Cm(r.value);if(XB(r))return r.filters.map((e=>kj(e))).join(",");{const e=r.filters.map((t=>kj(t))).join(",");return`${r.op}(${e})`}}function KB(r,e){return r instanceof Aa?(function(s,a){return a instanceof Aa&&s.op===a.op&&s.field.isEqual(a.field)&&Cl(s.value,a.value)})(r,e):r instanceof zo?(function(s,a){return a instanceof zo&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((n,o,l)=>n&&KB(o,a.filters[l])),!0):!1})(r,e):void Gt(19439)}function ZB(r){return r instanceof Aa?(function(t){return`${t.field.canonicalString()} ${t.op} ${Cm(t.value)}`})(r):r instanceof zo?(function(t){return t.op.toString()+" {"+t.getFilters().map(ZB).join(" ,")+"}"})(r):"Filter"}class iee extends Aa{constructor(e,t,s){super(e,t,s),this.key=$t.fromName(s.referenceValue)}matches(e){const t=$t.comparator(e.key,this.key);return this.matchesComparison(t)}}class oee extends Aa{constructor(e,t){super(e,"in",t),this.keys=QB("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class lee extends Aa{constructor(e,t){super(e,"not-in",t),this.keys=QB("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function QB(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>$t.fromName(s.referenceValue)))}class cee extends Aa{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return PA(t)&&Wp(t.arrayValue,this.value)}}class dee extends Aa{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wp(this.value.arrayValue,t)}}class uee extends Aa{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wp(this.value.arrayValue,t)}}class hee extends Aa{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!PA(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Wp(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e,t=null,s=[],a=[],n=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=n,this.startAt=o,this.endAt=l,this.Pe=null}}function dD(r,e=null,t=[],s=[],a=null,n=null,o=null){return new fee(r,e,t,s,a,n,o)}function RA(r){const e=nr(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>kj(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(n){return n.field.canonicalString()+n.dir})(s))).join(","),Vx(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Cm(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Cm(s))).join(",")),e.Pe=t}return e.Pe}function IA(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!aee(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!KB(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!cD(r.startAt,e.startAt)&&cD(r.endAt,e.endAt)}function _j(r){return $t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t=null,s=[],a=[],n=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=n,this.limitType=o,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function mee(r,e,t,s,a,n,o,l){return new t0(r,e,t,s,a,n,o,l)}function y2(r){return new t0(r)}function uD(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function JB(r){return r.collectionGroup!==null}function hp(r){const e=nr(r);if(e.Te===null){e.Te=[];const t=new Set;for(const n of e.explicitOrderBy)e.Te.push(n),t.add(n.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Va(fn.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((n=>{t.has(n.canonicalString())||n.isKeyField()||e.Te.push(new qp(n,s))})),t.has(fn.keyField().canonicalString())||e.Te.push(new qp(fn.keyField(),s))}return e.Te}function yl(r){const e=nr(r);return e.Ie||(e.Ie=gee(e,hp(r))),e.Ie}function gee(r,e){if(r.limitType==="F")return dD(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const n=a.dir==="desc"?"asc":"desc";return new qp(a.field,n)}));const t=r.endAt?new gw(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new gw(r.startAt.position,r.startAt.inclusive):null;return dD(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Nj(r,e){const t=r.filters.concat([e]);return new t0(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function pw(r,e,t){return new t0(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function v2(r,e){return IA(yl(r),yl(e))&&r.limitType===e.limitType}function eU(r){return`${RA(yl(r))}|lt:${r.limitType}`}function em(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>ZB(a))).join(", ")}]`),Vx(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>Cm(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>Cm(a))).join(",")),`Target(${s})`})(yl(r))}; limitType=${r.limitType})`}function w2(r,e){return e.isFoundDocument()&&(function(s,a){const n=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(n):$t.isDocumentKey(s.path)?s.path.isEqual(n):s.path.isImmediateParentOf(n)})(r,e)&&(function(s,a){for(const n of hp(s))if(!n.field.isKeyField()&&a.data.field(n.field)===null)return!1;return!0})(r,e)&&(function(s,a){for(const n of s.filters)if(!n.matches(a))return!1;return!0})(r,e)&&(function(s,a){return!(s.startAt&&!(function(o,l,c){const d=lD(o,l,c);return o.inclusive?d<=0:d<0})(s.startAt,hp(s),a)||s.endAt&&!(function(o,l,c){const d=lD(o,l,c);return o.inclusive?d>=0:d>0})(s.endAt,hp(s),a))})(r,e)}function pee(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tU(r){return(e,t)=>{let s=!1;for(const a of hp(r)){const n=xee(a,e,t);if(n!==0)return n;s=s||a.field.isKeyField()}return 0}}function xee(r,e,t){const s=r.field.isKeyField()?$t.comparator(e.key,t.key):(function(n,o,l){const c=o.data.field(n),d=l.data.field(n);return c!==null&&d!==null?Tm(c,d):Gt(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,n]of s)if(this.equalsFn(a,e))return n}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let n=0;n<a.length;n++)if(this.equalsFn(a[n][0],e))return void(a[n]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Jd(this.inner,((t,s)=>{for(const[a,n]of s)e(a,n)}))}isEmpty(){return LB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bee=new Zs($t.comparator);function Ec(){return bee}const rU=new Zs($t.comparator);function Jg(...r){let e=rU;for(const t of r)e=e.insert(t.key,t);return e}function sU(r){let e=rU;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Ku(){return fp()}function aU(){return fp()}function fp(){return new Uh((r=>r.toString()),((r,e)=>r.isEqual(e)))}const yee=new Zs($t.comparator),vee=new Va($t.comparator);function Br(...r){let e=vee;for(const t of r)e=e.add(t);return e}const wee=new Va(_r);function kee(){return wee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hw(e)?"-0":e}}function nU(r){return{integerValue:""+r}}function _ee(r,e){return KJ(e)?nU(e):DA(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this._=void 0}}function Nee(r,e,t){return r instanceof Gp?(function(a,n){const o={fields:{[zB]:{stringValue:UB},[HB]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return n&&CA(n)&&(n=b2(n)),n&&(o.fields[VB]=n),{mapValue:o}})(t,e):r instanceof Pm?oU(r,e):r instanceof Rm?lU(r,e):(function(a,n){const o=iU(a,n),l=hD(o)+hD(a.Ee);return wj(o)&&wj(a.Ee)?nU(l):DA(a.serializer,l)})(r,e)}function See(r,e,t){return r instanceof Pm?oU(r,e):r instanceof Rm?lU(r,e):t}function iU(r,e){return r instanceof xw?(function(s){return wj(s)||(function(n){return!!n&&"doubleValue"in n})(s)})(e)?e:{integerValue:0}:null}class Gp extends k2{}class Pm extends k2{constructor(e){super(),this.elements=e}}function oU(r,e){const t=cU(e);for(const s of r.elements)t.some((a=>Cl(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Rm extends k2{constructor(e){super(),this.elements=e}}function lU(r,e){let t=cU(e);for(const s of r.elements)t=t.filter((a=>!Cl(a,s)));return{arrayValue:{values:t}}}class xw extends k2{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function hD(r){return ma(r.integerValue||r.doubleValue)}function cU(r){return PA(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t){this.field=e,this.transform=t}}function jee(r,e){return r.field.isEqual(e.field)&&(function(s,a){return s instanceof Pm&&a instanceof Pm||s instanceof Rm&&a instanceof Rm?Am(s.elements,a.elements,Cl):s instanceof xw&&a instanceof xw?Cl(s.Ee,a.Ee):s instanceof Gp&&a instanceof Gp})(r.transform,e.transform)}class Eee{constructor(e,t){this.version=e,this.transformResults=t}}class Ta{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ta}static exists(e){return new Ta(void 0,e)}static updateTime(e){return new Ta(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function R1(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _2{}function dU(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new $x(r.key,Ta.none()):new Hx(r.key,r.data,Ta.none());{const t=r.data,s=Wn.empty();let a=new Va(fn.comparator);for(let n of e.fields)if(!a.has(n)){let o=t.field(n);o===null&&n.length>1&&(n=n.popLast(),o=t.field(n)),o===null?s.delete(n):s.set(n,o),a=a.add(n)}return new eu(r.key,s,new Ri(a.toArray()),Ta.none())}}function Aee(r,e,t){r instanceof Hx?(function(a,n,o){const l=a.value.clone(),c=mD(a.fieldTransforms,n,o.transformResults);l.setAll(c),n.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(r,e,t):r instanceof eu?(function(a,n,o){if(!R1(a.precondition,n))return void n.convertToUnknownDocument(o.version);const l=mD(a.fieldTransforms,n,o.transformResults),c=n.data;c.setAll(uU(a)),c.setAll(l),n.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(r,e,t):(function(a,n,o){n.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function mp(r,e,t,s){return r instanceof Hx?(function(n,o,l,c){if(!R1(n.precondition,o))return l;const d=n.value.clone(),u=gD(n.fieldTransforms,c,o);return d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(r,e,t,s):r instanceof eu?(function(n,o,l,c){if(!R1(n.precondition,o))return l;const d=gD(n.fieldTransforms,c,o),u=o.data;return u.setAll(uU(n)),u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(n.fieldMask.fields).unionWith(n.fieldTransforms.map((h=>h.field)))})(r,e,t,s):(function(n,o,l){return R1(n.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(r,e,t)}function Tee(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),n=iU(s.transform,a||null);n!=null&&(t===null&&(t=Wn.empty()),t.set(s.field,n))}return t||null}function fD(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Am(s,a,((n,o)=>jee(n,o)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Hx extends _2{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class eu extends _2{constructor(e,t,s,a,n=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=n,this.type=1}getFieldMask(){return this.fieldMask}}function uU(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function mD(r,e,t){const s=new Map;Zr(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let a=0;a<t.length;a++){const n=r[a],o=n.transform,l=e.data.field(n.field);s.set(n.field,See(o,l,t[a]))}return s}function gD(r,e,t){const s=new Map;for(const a of r){const n=a.transform,o=t.data.field(a.field);s.set(a.field,Nee(n,o,e))}return s}class $x extends _2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hU extends _2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const n=this.mutations[a];n.key.isEqual(e.key)&&Aee(n,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=mp(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=mp(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=aU();return this.mutations.forEach((a=>{const n=e.get(a.key),o=n.overlayedDocument;let l=this.applyToLocalView(o,n.mutatedFields);l=t.has(a.key)?null:l;const c=dU(o,l);c!==null&&s.set(a.key,c),o.isValidDocument()||o.convertToNoDocument(er.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Br())}isEqual(e){return this.batchId===e.batchId&&Am(this.mutations,e.mutations,((t,s)=>fD(t,s)))&&Am(this.baseMutations,e.baseMutations,((t,s)=>fD(t,s)))}}class MA{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Zr(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let a=(function(){return yee})();const n=e.mutations;for(let o=0;o<n.length;o++)a=a.insert(n[o].key,s[o].version);return new MA(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Na,Xr;function fU(r){switch(r){case tt.OK:return Gt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Gt(15467,{code:r})}}function mU(r){if(r===void 0)return jc("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Na.OK:return tt.OK;case Na.CANCELLED:return tt.CANCELLED;case Na.UNKNOWN:return tt.UNKNOWN;case Na.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Na.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Na.INTERNAL:return tt.INTERNAL;case Na.UNAVAILABLE:return tt.UNAVAILABLE;case Na.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Na.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Na.NOT_FOUND:return tt.NOT_FOUND;case Na.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Na.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Na.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Na.ABORTED:return tt.ABORTED;case Na.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Na.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Na.DATA_LOSS:return tt.DATA_LOSS;default:return Gt(39323,{code:r})}}(Xr=Na||(Na={}))[Xr.OK=0]="OK",Xr[Xr.CANCELLED=1]="CANCELLED",Xr[Xr.UNKNOWN=2]="UNKNOWN",Xr[Xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xr[Xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xr[Xr.NOT_FOUND=5]="NOT_FOUND",Xr[Xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xr[Xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xr[Xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xr[Xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xr[Xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xr[Xr.ABORTED=10]="ABORTED",Xr[Xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xr[Xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xr[Xr.INTERNAL=13]="INTERNAL",Xr[Xr.UNAVAILABLE=14]="UNAVAILABLE",Xr[Xr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iee=new jd([4294967295,4294967295],0);function pD(r){const e=DB().encode(r),t=new jB;return t.update(e),new Uint8Array(t.digest())}function xD(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),n=e.getUint32(12,!0);return[new jd([t,s],0),new jd([a,n],0)]}class FA{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ep(`Invalid padding: ${t}`);if(s<0)throw new ep(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ep(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ep(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=jd.fromNumber(this.fe)}pe(e,t,s){let a=e.add(t.multiply(jd.fromNumber(s)));return a.compare(Iee)===1&&(a=new jd([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=pD(e),[s,a]=xD(t);for(let n=0;n<this.hashCount;n++){const o=this.pe(s,a,n);if(!this.ye(o))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,n=new Uint8Array(Math.ceil(e/8)),o=new FA(n,a,t);return s.forEach((l=>o.insert(l))),o}insert(e){if(this.fe===0)return;const t=pD(e),[s,a]=xD(t);for(let n=0;n<this.hashCount;n++){const o=this.pe(s,a,n);this.we(o)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ep extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,t,s,a,n){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=n}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Wx.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new N2(er.min(),a,new Zs(_r),Ec(),Br())}}class Wx{constructor(e,t,s,a,n){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=n}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Wx(s,t,Br(),Br(),Br())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t,s,a){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=a}}class gU{constructor(e,t){this.targetId=e,this.De=t}}class pU{constructor(e,t,s=pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class bD{constructor(){this.ve=0,this.Ce=yD(),this.Fe=pn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Br(),t=Br(),s=Br();return this.Ce.forEach(((a,n)=>{switch(n){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Gt(38017,{changeType:n})}})),new Wx(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=yD()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Zr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Dee{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ec(),this.je=Yy(),this.Je=Yy(),this.He=new Zs(_r)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Gt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((s,a)=>{this.nt(a)&&t(a)}))}it(e){const t=e.targetId,s=e.De.count,a=this.st(t);if(a){const n=a.target;if(_j(n))if(s===0){const o=new $t(n.path);this.Xe(t,o,Za.newNoDocument(o,er.min()))}else Zr(s===1,20013,{expectedCount:s});else{const o=this.ot(t);if(o!==s){const l=this._t(e),c=l?this.ut(l,e,o):1;if(c!==0){this.rt(t);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,d)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:n=0}=t;let o,l;try{o=Od(s).toUint8Array()}catch(c){if(c instanceof BB)return Rd("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new FA(o,a,n)}catch(c){return Rd(c instanceof ep?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let a=0;return s.forEach((n=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${n.path.canonicalString()}`;e.mightContain(l)||(this.Xe(t,n,null),a++)})),a}Pt(e){const t=new Map;this.Ge.forEach(((n,o)=>{const l=this.st(o);if(l){if(n.current&&_j(l.target)){const c=new $t(l.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,Za.newNoDocument(c,e))}n.Ne&&(t.set(o,n.Le()),n.ke())}}));let s=Br();this.Je.forEach(((n,o)=>{let l=!0;o.forEachWhile((c=>{const d=this.st(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(s=s.add(n))})),this.ze.forEach(((n,o)=>o.setReadTime(e)));const a=new N2(e,t,this.He,this.ze,s);return this.ze=Ec(),this.je=Yy(),this.Je=Yy(),this.He=new Zs(_r),a}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const a=this.tt(e);this.It(e,t)?a.qe(t,1):a.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new bD,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Va(_r),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Va(_r),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Ft("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new bD),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Yy(){return new Zs($t.comparator)}function yD(){return new Zs($t.comparator)}const Oee={asc:"ASCENDING",desc:"DESCENDING"},Mee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fee={and:"AND",or:"OR"};class Lee{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sj(r,e){return r.useProto3Json||Vx(e)?e:{value:e}}function bw(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xU(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Bee(r,e){return bw(r,e.toTimestamp())}function Di(r){return Zr(!!r,49232),er.fromTimestamp((function(t){const s=Dd(t);return new Bs(s.seconds,s.nanos)})(r))}function LA(r,e){return jj(r,e).canonicalString()}function jj(r,e){const t=(function(a){return new Es(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function bU(r){const e=Es.fromString(r);return Zr(NU(e),10190,{key:e.toString()}),e}function yw(r,e){return LA(r.databaseId,e.path)}function gp(r,e){const t=bU(e);if(t.get(1)!==r.databaseId.projectId)throw new Et(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Et(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new $t(vU(t))}function yU(r,e){return LA(r.databaseId,e)}function Uee(r){const e=bU(r);return e.length===4?Es.emptyPath():vU(e)}function Ej(r){return new Es(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vU(r){return Zr(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vD(r,e,t){return{name:yw(r,e),fields:t.value.mapValue.fields}}function zee(r,e){return"found"in e?(function(s,a){Zr(!!a.found,43571),a.found.name,a.found.updateTime;const n=gp(s,a.found.name),o=Di(a.found.updateTime),l=a.found.createTime?Di(a.found.createTime):er.min(),c=new Wn({mapValue:{fields:a.found.fields}});return Za.newFoundDocument(n,o,l,c)})(r,e):"missing"in e?(function(s,a){Zr(!!a.missing,3894),Zr(!!a.readTime,22933);const n=gp(s,a.missing),o=Di(a.readTime);return Za.newNoDocument(n,o)})(r,e):Gt(7234,{result:e})}function Vee(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Gt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],n=(function(d,u){return d.useProto3Json?(Zr(u===void 0||typeof u=="string",58123),pn.fromBase64String(u||"")):(Zr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),pn.fromUint8Array(u||new Uint8Array))})(r,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const u=d.code===void 0?tt.UNKNOWN:mU(d.code);return new Et(u,d.message||"")})(o);t=new pU(s,a,n,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=gp(r,s.document.name),n=Di(s.document.updateTime),o=s.document.createTime?Di(s.document.createTime):er.min(),l=new Wn({mapValue:{fields:s.document.fields}}),c=Za.newFoundDocument(a,n,o,l),d=s.targetIds||[],u=s.removedTargetIds||[];t=new I1(d,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=gp(r,s.document),n=s.readTime?Di(s.readTime):er.min(),o=Za.newNoDocument(a,n),l=s.removedTargetIds||[];t=new I1([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=gp(r,s.document),n=s.removedTargetIds||[];t=new I1([],n,a,null)}else{if(!("filter"in e))return Gt(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:n}=s,o=new Ree(a,n),l=s.targetId;t=new gU(l,o)}}return t}function wU(r,e){let t;if(e instanceof Hx)t={update:vD(r,e.key,e.value)};else if(e instanceof $x)t={delete:yw(r,e.key)};else if(e instanceof eu)t={update:vD(r,e.key,e.data),updateMask:Zee(e.fieldMask)};else{if(!(e instanceof hU))return Gt(16599,{Rt:e.type});t={verify:yw(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(n,o){const l=o.transform;if(l instanceof Gp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Pm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Rm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof xw)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw Gt(20930,{transform:o.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,n){return n.updateTime!==void 0?{updateTime:Bee(a,n.updateTime)}:n.exists!==void 0?{exists:n.exists}:Gt(27497)})(r,e.precondition)),t}function Hee(r,e){return r&&r.length>0?(Zr(e!==void 0,14353),r.map((t=>(function(a,n){let o=a.updateTime?Di(a.updateTime):Di(n);return o.isEqual(er.min())&&(o=Di(n)),new Eee(o,a.transformResults||[])})(t,e)))):[]}function $ee(r,e){return{documents:[yU(r,e.path)]}}function Wee(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=yU(r,a);const n=(function(d){if(d.length!==0)return _U(zo.create(d,"and"))})(e.filters);n&&(t.structuredQuery.where=n);const o=(function(d){if(d.length!==0)return d.map((u=>(function(m){return{field:tm(m.field),direction:Yee(m.dir)}})(u)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=Sj(r,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:t,parent:a}}function qee(r){let e=Uee(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Zr(s===1,65062);const u=t.from[0];u.allDescendants?a=u.collectionId:e=e.child(u.collectionId)}let n=[];t.where&&(n=(function(h){const m=kU(h);return m instanceof zo&&XB(m)?m.getFilters():[m]})(t.where));let o=[];t.orderBy&&(o=(function(h){return h.map((m=>(function(b){return new qp(rm(b.field),(function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(m)))})(t.orderBy));let l=null;t.limit&&(l=(function(h){let m;return m=typeof h=="object"?h.value:h,Vx(m)?null:m})(t.limit));let c=null;t.startAt&&(c=(function(h){const m=!!h.before,p=h.values||[];return new gw(p,m)})(t.startAt));let d=null;return t.endAt&&(d=(function(h){const m=!h.before,p=h.values||[];return new gw(p,m)})(t.endAt)),mee(e,a,o,n,l,"F",c,d)}function Gee(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gt(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kU(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=rm(t.unaryFilter.field);return Aa.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=rm(t.unaryFilter.field);return Aa.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=rm(t.unaryFilter.field);return Aa.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rm(t.unaryFilter.field);return Aa.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Gt(61313);default:return Gt(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Aa.create(rm(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Gt(58110);default:return Gt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return zo.create(t.compositeFilter.filters.map((s=>kU(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Gt(1026)}})(t.compositeFilter.op))})(r):Gt(30097,{filter:r})}function Yee(r){return Oee[r]}function Xee(r){return Mee[r]}function Kee(r){return Fee[r]}function tm(r){return{fieldPath:r.canonicalString()}}function rm(r){return fn.fromServerFormat(r.fieldPath)}function _U(r){return r instanceof Aa?(function(t){if(t.op==="=="){if(oD(t.value))return{unaryFilter:{field:tm(t.field),op:"IS_NAN"}};if(iD(t.value))return{unaryFilter:{field:tm(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oD(t.value))return{unaryFilter:{field:tm(t.field),op:"IS_NOT_NAN"}};if(iD(t.value))return{unaryFilter:{field:tm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tm(t.field),op:Xee(t.op),value:t.value}}})(r):r instanceof zo?(function(t){const s=t.getFilters().map((a=>_U(a)));return s.length===1?s[0]:{compositeFilter:{op:Kee(t.op),filters:s}}})(r):Gt(54877,{filter:r})}function Zee(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function NU(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,s,a,n=er.min(),o=er.min(),l=pn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=n,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new pd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e){this.gt=e}}function Jee(r){const e=qee({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?pw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(){this.Dn=new tte}addToCollectionParentIndex(e,t){return this.Dn.add(t),ct.resolve()}getCollectionParents(e,t){return ct.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ct.resolve()}deleteFieldIndex(e,t){return ct.resolve()}deleteAllFieldIndexes(e){return ct.resolve()}createTargetIndexes(e,t){return ct.resolve()}getDocumentsMatchingTarget(e,t){return ct.resolve(null)}getIndexType(e,t){return ct.resolve(0)}getFieldIndexes(e,t){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}getMinOffset(e,t){return ct.resolve(Id.min())}getMinOffsetFromCollectionGroup(e,t){return ct.resolve(Id.min())}updateCollectionGroup(e,t,s){return ct.resolve()}updateIndexEntries(e,t){return ct.resolve()}}class tte{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Va(Es.comparator),n=!a.has(s);return this.index[t]=a.add(s),n}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Va(Es.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SU=41943040;class ni{static withCacheSize(e){return new ni(e,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni.DEFAULT_COLLECTION_PERCENTILE=10,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ni.DEFAULT=new ni(SU,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ni.DISABLED=new ni(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Im(0)}static ur(){return new Im(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="LruGarbageCollector",rte=1048576;function _D([r,e],[t,s]){const a=_r(r,t);return a===0?_r(e,s):a}class ste{constructor(e){this.Tr=e,this.buffer=new Va(_D),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();_D(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ate{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ft(kD,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){e0(t)?Ft(kD,"Ignoring IndexedDB error during garbage collection: ",t):await Jm(t)}await this.Rr(3e5)}))}}class nte{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ct.resolve(x2.ue);const s=new ste(t);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.gr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ft("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(wD)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wD):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,a,n,o,l,c,d;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((h=>(h>this.params.maximumSequenceNumbersToCollect?(Ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),a=this.params.maximumSequenceNumbersToCollect):a=h,o=Date.now(),this.nthSequenceNumber(e,a)))).next((h=>(s=h,l=Date.now(),this.removeTargets(e,s,t)))).next((h=>(n=h,c=Date.now(),this.removeOrphanedDocuments(e,s)))).next((h=>(d=Date.now(),Jf()<=Fr.DEBUG&&Ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${a} in `+(l-o)+`ms
	Removed ${n} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(d-c)+`ms
Total Duration: ${d-u}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:n,documentsRemoved:h}))))}}function ite(r,e){return new nte(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(){this.changes=new Uh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Za.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ct.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&mp(s.mutation,a,Ri.empty(),Bs.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Br()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Br()){const a=Ku();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((n=>{let o=Jg();return n.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const s=Ku();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Br())))}populateOverlays(e,t,s){const a=[];return s.forEach((n=>{t.has(n)||a.push(n)})),this.documentOverlayCache.getOverlays(e,a).next((n=>{n.forEach(((o,l)=>{t.set(o,l)}))}))}computeViews(e,t,s,a){let n=Ec();const o=fp(),l=(function(){return fp()})();return t.forEach(((c,d)=>{const u=s.get(d.key);a.has(d.key)&&(u===void 0||u.mutation instanceof eu)?n=n.insert(d.key,d):u!==void 0?(o.set(d.key,u.mutation.getFieldMask()),mp(u.mutation,d,u.mutation.getFieldMask(),Bs.now())):o.set(d.key,Ri.empty())})),this.recalculateAndSaveOverlays(e,n).next((c=>(c.forEach(((d,u)=>o.set(d,u))),t.forEach(((d,u)=>{var h;return l.set(d,new lte(u,(h=o.get(d))!==null&&h!==void 0?h:null))})),l)))}recalculateAndSaveOverlays(e,t){const s=fp();let a=new Zs(((o,l)=>o-l)),n=Br();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const l of o)l.keys().forEach((c=>{const d=t.get(c);if(d===null)return;let u=s.get(c)||Ri.empty();u=l.applyToLocalView(d,u),s.set(c,u);const h=(a.get(l.batchId)||Br()).add(c);a=a.insert(l.batchId,h)}))})).next((()=>{const o=[],l=a.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,u=c.value,h=aU();u.forEach((m=>{if(!n.has(m)){const p=dU(t.get(m),s.get(m));p!==null&&h.set(m,p),n=n.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return ct.waitFor(o)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(o){return $t.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((n=>{const o=a-n.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-n.size):ct.resolve(Ku());let l=Vp,c=n;return o.next((d=>ct.forEach(d,((u,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),n.get(u)?ct.resolve():this.remoteDocumentCache.getEntry(e,u).next((m=>{c=c.insert(u,m)}))))).next((()=>this.populateOverlays(e,d,n))).next((()=>this.computeViews(e,c,d,Br()))).next((u=>({batchId:l,changes:sU(u)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $t(t)).next((s=>{let a=Jg();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const n=t.collectionGroup;let o=Jg();return this.indexManager.getCollectionParents(e,n).next((l=>ct.forEach(l,(c=>{const d=(function(h,m){return new t0(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(t,c.child(n));return this.getDocumentsMatchingCollectionQuery(e,d,s,a).next((u=>{u.forEach(((h,m)=>{o=o.insert(h,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let n;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((o=>(n=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,n,a)))).next((o=>{n.forEach(((c,d)=>{const u=d.getKey();o.get(u)===null&&(o=o.insert(u,Za.newInvalidDocument(u)))}));let l=Jg();return o.forEach(((c,d)=>{const u=n.get(c);u!==void 0&&mp(u.mutation,d,Ri.empty(),Bs.now()),w2(t,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ct.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Di(a.createTime)}})(t)),ct.resolve()}getNamedQuery(e,t){return ct.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(a){return{name:a.name,query:Jee(a.bundledQuery),readTime:Di(a.readTime)}})(t)),ct.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(){this.overlays=new Zs($t.comparator),this.kr=new Map}getOverlay(e,t){return ct.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ku();return ct.forEach(t,(a=>this.getOverlay(e,a).next((n=>{n!==null&&s.set(a,n)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,n)=>{this.wt(e,t,n)})),ct.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.kr.get(s);return a!==void 0&&(a.forEach((n=>this.overlays=this.overlays.remove(n))),this.kr.delete(s)),ct.resolve()}getOverlaysForCollection(e,t,s){const a=Ku(),n=t.length+1,o=new $t(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===n&&c.largestBatchId>s&&a.set(c.getKey(),c)}return ct.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let n=new Zs(((d,u)=>d-u));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>s){let u=n.get(d.largestBatchId);u===null&&(u=Ku(),n=n.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}const l=Ku(),c=n.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,u)=>l.set(d,u))),!(l.size()>=a)););return ct.resolve(l)}wt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const o=this.kr.get(a.largestBatchId).delete(s.key);this.kr.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new Pee(t,s));let n=this.kr.get(t);n===void 0&&(n=Br(),this.kr.set(t,n)),this.kr.set(t,n.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return ct.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ct.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.qr=new Va(Xa.Qr),this.$r=new Va(Xa.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Xa(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Xa(e,t))}Gr(e,t){e.forEach((s=>this.removeReference(s,t)))}zr(e){const t=new $t(new Es([])),s=new Xa(t,e),a=new Xa(t,e+1),n=[];return this.$r.forEachInRange([s,a],(o=>{this.Wr(o),n.push(o.key)})),n}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new $t(new Es([])),s=new Xa(t,e),a=new Xa(t,e+1);let n=Br();return this.$r.forEachInRange([s,a],(o=>{n=n.add(o.key)})),n}containsKey(e){const t=new Xa(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Xa{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return $t.comparator(e.key,t.key)||_r(e.Hr,t.Hr)}static Ur(e,t){return _r(e.Hr,t.Hr)||$t.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Va(Xa.Qr)}checkEmpty(e){return ct.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const n=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Cee(n,t,s,a);this.mutationQueue.push(o);for(const l of a)this.Yr=this.Yr.add(new Xa(l.key,n)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ct.resolve(o)}lookupMutationBatch(e,t){return ct.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Xr(s),n=a<0?0:a;return ct.resolve(this.mutationQueue.length>n?this.mutationQueue[n]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(this.mutationQueue.length===0?TA:this.er-1)}getAllMutationBatches(e){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xa(t,0),a=new Xa(t,Number.POSITIVE_INFINITY),n=[];return this.Yr.forEachInRange([s,a],(o=>{const l=this.Zr(o.Hr);n.push(l)})),ct.resolve(n)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Va(_r);return t.forEach((a=>{const n=new Xa(a,0),o=new Xa(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([n,o],(l=>{s=s.add(l.Hr)}))})),ct.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let n=s;$t.isDocumentKey(n)||(n=n.child(""));const o=new Xa(new $t(n),0);let l=new Va(_r);return this.Yr.forEachWhile((c=>{const d=c.key.path;return!!s.isPrefixOf(d)&&(d.length===a&&(l=l.add(c.Hr)),!0)}),o),ct.resolve(this.ei(l))}ei(e){const t=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Zr(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ct.forEach(t.mutations,(a=>{const n=new Xa(a.key,t.batchId);return s=s.delete(n),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,t){const s=new Xa(t,0),a=this.Yr.firstAfterOrEqual(s);return ct.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ct.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(e){this.ni=e,this.docs=(function(){return new Zs($t.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),n=a?a.size:0,o=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:o}),this.size+=o-n,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ct.resolve(s?s.document.mutableCopy():Za.newInvalidDocument(t))}getEntries(e,t){let s=Ec();return t.forEach((a=>{const n=this.docs.get(a);s=s.insert(a,n?n.document.mutableCopy():Za.newInvalidDocument(a))})),ct.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let n=Ec();const o=t.path,l=new $t(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:u}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||qJ(WJ(u),s)<=0||(a.has(u.key)||w2(t,u))&&(n=n.insert(u.key,u.mutableCopy()))}return ct.resolve(n)}getAllFromCollectionGroup(e,t,s,a){Gt(9500)}ri(e,t){return ct.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new gte(this)}getSize(e){return ct.resolve(this.size)}}class gte extends ote{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Or.addEntry(e,a)):this.Or.removeEntry(s)})),ct.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(e){this.persistence=e,this.ii=new Uh((t=>RA(t)),IA),this.lastRemoteSnapshotVersion=er.min(),this.highestTargetId=0,this.si=0,this.oi=new BA,this.targetCount=0,this._i=Im.ar()}forEachTarget(e,t){return this.ii.forEach(((s,a)=>t(a))),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),ct.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Im(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ct.resolve()}updateTargetData(e,t){return this.hr(t),ct.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,t,s){let a=0;const n=[];return this.ii.forEach(((o,l)=>{l.sequenceNumber<=t&&s.get(l.targetId)===null&&(this.ii.delete(o),n.push(this.removeMatchingKeysForTargetId(e,l.targetId)),a++)})),ct.waitFor(n).next((()=>a))}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return ct.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),ct.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const a=this.persistence.referenceDelegate,n=[];return a&&t.forEach((o=>{n.push(a.markPotentiallyOrphaned(e,o))})),ct.waitFor(n)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ct.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return ct.resolve(s)}containsKey(e,t){return ct.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,t){this.ai={},this.overlays={},this.ui=new x2(0),this.ci=!1,this.ci=!0,this.li=new hte,this.referenceDelegate=e(this),this.hi=new pte(this),this.indexManager=new ete,this.remoteDocumentCache=(function(a){return new mte(a)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new Qee(t),this.Ti=new dte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ute,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new fte(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){Ft("MemoryPersistence","Starting transaction:",e);const a=new xte(this.ui.next());return this.referenceDelegate.Ii(),s(a).next((n=>this.referenceDelegate.di(a).next((()=>n)))).toPromise().then((n=>(a.raiseOnCommittedEvent(),n)))}Ei(e,t){return ct.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,t))))}}class xte extends YJ{constructor(e){super(),this.currentSequenceNumber=e}}class UA{constructor(e){this.persistence=e,this.Ai=new BA,this.Ri=null}static Vi(e){return new UA(e)}get mi(){if(this.Ri)return this.Ri;throw Gt(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),ct.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),ct.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ct.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((a=>this.mi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((n=>this.mi.add(n.toString())))})).next((()=>s.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.mi,(s=>{const a=$t.fromPath(s);return this.fi(e,a).next((n=>{n||t.removeEntry(a,er.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return ct.or([()=>ct.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class vw{constructor(e,t){this.persistence=e,this.gi=new Uh((s=>ZJ(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=ite(this,t)}static Vi(e,t){return new vw(e,t)}Ii(){}di(e){return ct.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}yr(e){let t=0;return this.gr(e,(s=>{t++})).next((()=>t))}gr(e,t){return ct.forEach(this.gi,((s,a)=>this.Sr(e,s,a).next((n=>n?ct.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),n=a.newChangeBuffer();return a.ri(e,(o=>this.Sr(e,o,t).next((l=>{l||(s++,n.removeEntry(o,er.min()))})))).next((()=>n.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ct.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ct.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ct.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ct.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=C1(e.data.value)),t}Sr(e,t,s){return ct.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.gi.get(t);return ct.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=a}static Es(e,t){let s=Br(),a=Br();for(const n of t.docChanges)switch(n.type){case 0:s=s.add(n.doc.key);break;case 1:a=a.add(n.doc.key)}return new zA(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return XX()?8:XJ(Rn())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,a){const n={result:null};return this.ps(e,t).next((o=>{n.result=o})).next((()=>{if(!n.result)return this.ys(e,t,a,s).next((o=>{n.result=o}))})).next((()=>{if(n.result)return;const o=new bte;return this.ws(e,t,o).next((l=>{if(n.result=l,this.Rs)return this.Ss(e,t,o,l.size)}))})).next((()=>n.result))}Ss(e,t,s,a){return s.documentReadCount<this.Vs?(Jf()<=Fr.DEBUG&&Ft("QueryEngine","SDK will not create cache indexes for query:",em(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ct.resolve()):(Jf()<=Fr.DEBUG&&Ft("QueryEngine","Query:",em(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.fs*a?(Jf()<=Fr.DEBUG&&Ft("QueryEngine","The SDK decides to create cache indexes for query:",em(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yl(t))):ct.resolve())}ps(e,t){if(uD(t))return ct.resolve(null);let s=yl(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=pw(t,null,"F"),s=yl(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((n=>{const o=Br(...n);return this.gs.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,s).next((c=>{const d=this.bs(t,l);return this.Ds(t,d,o,c.readTime)?this.ps(e,pw(t,null,"F")):this.vs(e,d,t,c)}))))})))))}ys(e,t,s,a){return uD(t)||a.isEqual(er.min())?ct.resolve(null):this.gs.getDocuments(e,s).next((n=>{const o=this.bs(t,n);return this.Ds(t,o,s,a)?ct.resolve(null):(Jf()<=Fr.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),em(t)),this.vs(e,o,t,$J(a,Vp)).next((l=>l)))}))}bs(e,t){let s=new Va(tU(e));return t.forEach(((a,n)=>{w2(e,n)&&(s=s.add(n))})),s}Ds(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const n=e.limitType==="F"?t.last():t.first();return!!n&&(n.hasPendingWrites||n.version.compareTo(a)>0)}ws(e,t,s){return Jf()<=Fr.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",em(t)),this.gs.getDocumentsMatchingQuery(e,t,Id.min(),s)}vs(e,t,s,a){return this.gs.getDocumentsMatchingQuery(e,s,a).next((n=>(t.forEach((o=>{n=n.insert(o.key,o)})),n)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="LocalStore",vte=3e8;class wte{constructor(e,t,s,a){this.persistence=e,this.Cs=t,this.serializer=a,this.Fs=new Zs(_r),this.Ms=new Uh((n=>RA(n)),IA),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cte(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function kte(r,e,t,s){return new wte(r,e,t,s)}async function EU(r,e){const t=nr(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((n=>(a=n,t.Ns(e),t.mutationQueue.getAllMutationBatches(s)))).next((n=>{const o=[],l=[];let c=Br();for(const d of a){o.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}for(const d of n){l.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(s,c).next((d=>({Bs:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function _te(r,e){const t=nr(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),n=t.Os.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,u){const h=d.batch,m=h.keys();let p=ct.resolve();return m.forEach((b=>{p=p.next((()=>u.getEntry(c,b))).next((x=>{const y=d.docVersions.get(b);Zr(y!==null,48541),x.version.compareTo(y)<0&&(h.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),u.addEntry(x)))}))})),p.next((()=>l.mutationQueue.removeMutationBatch(c,h)))})(t,s,e,n).next((()=>n.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(l){let c=Br();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function AU(r){const e=nr(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function Nte(r,e){const t=nr(r),s=e.snapshotVersion;let a=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(n=>{const o=t.Os.newChangeBuffer({trackRemovals:!0});a=t.Fs;const l=[];e.targetChanges.forEach(((u,h)=>{const m=a.get(h);if(!m)return;l.push(t.hi.removeMatchingKeys(n,u.removedDocuments,h).next((()=>t.hi.addMatchingKeys(n,u.addedDocuments,h))));let p=m.withSequenceNumber(n.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(pn.EMPTY_BYTE_STRING,er.min()).withLastLimboFreeSnapshotVersion(er.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,s)),a=a.insert(h,p),(function(x,y,w){return x.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=vte?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0})(m,p,u)&&l.push(t.hi.updateTargetData(n,p))}));let c=Ec(),d=Br();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(n,u))})),l.push(Ste(n,o,e.documentUpdates).next((u=>{c=u.Ls,d=u.ks}))),!s.isEqual(er.min())){const u=t.hi.getLastRemoteSnapshotVersion(n).next((h=>t.hi.setTargetsMetadata(n,n.currentSequenceNumber,s)));l.push(u)}return ct.waitFor(l).next((()=>o.apply(n))).next((()=>t.localDocuments.getLocalViewOfDocuments(n,c,d))).next((()=>c))})).then((n=>(t.Fs=a,n)))}function Ste(r,e,t){let s=Br(),a=Br();return t.forEach((n=>s=s.add(n))),e.getEntries(r,s).next((n=>{let o=Ec();return t.forEach(((l,c)=>{const d=n.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(l)),c.isNoDocument()&&c.version.isEqual(er.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ft(VA,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{Ls:o,ks:a}}))}function jte(r,e){const t=nr(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=TA),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Ete(r,e){const t=nr(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.hi.getTargetData(s,e).next((n=>n?(a=n,ct.resolve(a)):t.hi.allocateTargetId(s).next((o=>(a=new pd(e,o,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Fs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s}))}async function Aj(r,e,t){const s=nr(r),a=s.Fs.get(e),n=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",n,(o=>s.persistence.referenceDelegate.removeTarget(o,a)))}catch(o){if(!e0(o))throw o;Ft(VA,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(a.target)}function ND(r,e,t){const s=nr(r);let a=er.min(),n=Br();return s.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,d,u){const h=nr(c),m=h.Ms.get(u);return m!==void 0?ct.resolve(h.Fs.get(m)):h.hi.getTargetData(d,u)})(s,o,yl(e)).next((l=>{if(l)return a=l.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{n=c}))})).next((()=>s.Cs.getDocumentsMatchingQuery(o,e,t?a:er.min(),t?n:Br()))).next((l=>(Ate(s,pee(e),l),{documents:l,qs:n})))))}function Ate(r,e,t){let s=r.xs.get(e)||er.min();t.forEach(((a,n)=>{n.readTime.compareTo(s)>0&&(s=n.readTime)})),r.xs.set(e,s)}class SD{constructor(){this.activeTargetIds=kee()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tte{constructor(){this.Fo=new SD,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new SD,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="ConnectivityMonitor";class ED{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ft(jD,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ft(jD,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xy=null;function Tj(){return Xy===null?Xy=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xy++,"0x"+Xy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="RestConnection",Pte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rte{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.Ko=this.databaseId.database===fw?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,t,s,a,n){const o=Tj(),l=this.Go(e,t.toUriEncodedString());Ft(EN,`Sending RPC '${e}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,a,n);const{host:d}=new URL(l),u=Zd(d);return this.jo(e,l,c,s,u).then((h=>(Ft(EN,`Received RPC '${e}' ${o}: `,h),h)),(h=>{throw Rd(EN,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",s),h}))}Jo(e,t,s,a,n,o){return this.Wo(e,t,s,a,n)}zo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,n)=>e[n]=a)),s&&s.headers.forEach(((a,n)=>e[n]=a))}Go(e,t){const s=Pte[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class Dte extends Rte{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,a,n){const o=Tj();return new Promise(((l,c)=>{const d=new EB;d.setWithCredentials(!0),d.listenOnce(AB.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case T1.NO_ERROR:const h=d.getResponseJson();Ft(vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case T1.TIMEOUT:Ft(vn,`RPC '${e}' ${o} timed out`),c(new Et(tt.DEADLINE_EXCEEDED,"Request time out"));break;case T1.HTTP_ERROR:const m=d.getStatus();if(Ft(vn,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let p=d.getResponseJson();Array.isArray(p)&&(p=p[0]);const b=p?.error;if(b&&b.status&&b.message){const x=(function(w){const k=w.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(k)>=0?k:tt.UNKNOWN})(b.status);c(new Et(x,b.message))}else c(new Et(tt.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Et(tt.UNAVAILABLE,"Connection failed."));break;default:Gt(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{Ft(vn,`RPC '${e}' ${o} completed.`)}}));const u=JSON.stringify(a);Ft(vn,`RPC '${e}' ${o} sending request:`,a),d.send(t,"POST",u,s,15)}))}P_(e,t,s){const a=Tj(),n=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=PB(),l=CB(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,s),c.encodeInitMessageHeaders=!0;const u=n.join("");Ft(vn,`Creating RPC '${e}' stream ${a}: ${u}`,c);const h=o.createWebChannel(u,c);this.T_(h);let m=!1,p=!1;const b=new Ite({Ho:y=>{p?Ft(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,y):(m||(Ft(vn,`Opening RPC '${e}' stream ${a} transport.`),h.open(),m=!0),Ft(vn,`RPC '${e}' stream ${a} sending:`,y),h.send(y))},Yo:()=>h.close()}),x=(y,w,k)=>{y.listen(w,(N=>{try{k(N)}catch(T){setTimeout((()=>{throw T}),0)}}))};return x(h,Qg.EventType.OPEN,(()=>{p||(Ft(vn,`RPC '${e}' stream ${a} transport opened.`),b.s_())})),x(h,Qg.EventType.CLOSE,(()=>{p||(p=!0,Ft(vn,`RPC '${e}' stream ${a} transport closed`),b.__(),this.I_(h))})),x(h,Qg.EventType.ERROR,(y=>{p||(p=!0,Rd(vn,`RPC '${e}' stream ${a} transport errored. Name:`,y.name,"Message:",y.message),b.__(new Et(tt.UNAVAILABLE,"The operation could not be completed")))})),x(h,Qg.EventType.MESSAGE,(y=>{var w;if(!p){const k=y.data[0];Zr(!!k,16349);const N=k,T=N?.error||((w=N[0])===null||w===void 0?void 0:w.error);if(T){Ft(vn,`RPC '${e}' stream ${a} received error:`,T);const E=T.status;let I=(function(P){const O=Na[P];if(O!==void 0)return mU(O)})(E),S=T.message;I===void 0&&(I=tt.INTERNAL,S="Unknown error status: "+E+" with message "+T.message),p=!0,b.__(new Et(I,S)),h.close()}else Ft(vn,`RPC '${e}' stream ${a} received:`,k),b.a_(k)}})),x(l,TB.STAT_EVENT,(y=>{y.stat===bj.PROXY?Ft(vn,`RPC '${e}' stream ${a} detected buffering proxy`):y.stat===bj.NOPROXY&&Ft(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{b.o_()}),0),b}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function AN(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(r){return new Lee(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t,s=1e3,a=1.5,n=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=a,this.A_=n,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),a=Math.max(0,t-s);a>0&&Ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="PersistentStream";class TU{constructor(e,t,s,a,n,o,l,c){this.Fi=e,this.w_=s,this.S_=a,this.connection=n,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new HA(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(jc(t.toString()),jc("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.b_===t&&this.W_(s,a)}),(s=>{e((()=>{const a=new Et(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(a)}))}))}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((a=>{s((()=>this.G_(a)))})),this.stream.onMessage((a=>{s((()=>++this.C_==1?this.j_(a):this.onNext(a)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Ft(AD,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(Ft(AD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ote extends TU{constructor(e,t,s,a,n,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,o),this.serializer=n}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Vee(this.serializer,e),s=(function(n){if(!("targetChange"in n))return er.min();const o=n.targetChange;return o.targetIds&&o.targetIds.length?er.min():o.readTime?Di(o.readTime):er.min()})(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=Ej(this.serializer),t.addTarget=(function(n,o){let l;const c=o.target;if(l=_j(c)?{documents:$ee(n,c)}:{query:Wee(n,c).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=xU(n,o.resumeToken);const d=Sj(n,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(er.min())>0){l.readTime=bw(n,o.snapshotVersion.toTimestamp());const d=Sj(n,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const s=Gee(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=Ej(this.serializer),t.removeTarget=e,this.k_(t)}}class Mte extends TU{constructor(e,t,s,a,n,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,o),this.serializer=n}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Zr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Zr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Zr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Hee(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=Ej(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>wU(this.serializer,s)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fte{}class Lte extends Fte{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new Et(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([n,o])=>this.connection.Wo(e,jj(t,s),a,n,o))).catch((n=>{throw n.name==="FirebaseError"?(n.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),n):new Et(tt.UNKNOWN,n.toString())}))}Jo(e,t,s,a,n){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Jo(e,jj(t,s),a,o,l,n))).catch((o=>{throw o.name==="FirebaseError"?(o.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Et(tt.UNKNOWN,o.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class Bte{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(jc(t),this._a=!1):Ft("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="RemoteStore";class Ute{constructor(e,t,s,a,n){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=n,this.Ea.xo((o=>{s.enqueueAndForget((async()=>{zh(this)&&(Ft(kh,"Restarting streams for network reachability change."),await(async function(c){const d=nr(c);d.Ia.add(4),await qx(d),d.Aa.set("Unknown"),d.Ia.delete(4),await j2(d)})(this))}))})),this.Aa=new Bte(s,a)}}async function j2(r){if(zh(r))for(const e of r.da)await e(!0)}async function qx(r){for(const e of r.da)await e(!1)}function CU(r,e){const t=nr(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),GA(t)?qA(t):r0(t).x_()&&WA(t,e))}function $A(r,e){const t=nr(r),s=r0(t);t.Ta.delete(e),s.x_()&&PU(t,e),t.Ta.size===0&&(s.x_()?s.B_():zh(t)&&t.Aa.set("Unknown"))}function WA(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(er.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}r0(r).H_(e)}function PU(r,e){r.Ra.$e(e),r0(r).Y_(e)}function qA(r){r.Ra=new Dee({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),r0(r).start(),r.Aa.aa()}function GA(r){return zh(r)&&!r0(r).M_()&&r.Ta.size>0}function zh(r){return nr(r).Ia.size===0}function RU(r){r.Ra=void 0}async function zte(r){r.Aa.set("Online")}async function Vte(r){r.Ta.forEach(((e,t)=>{WA(r,e)}))}async function Hte(r,e){RU(r),GA(r)?(r.Aa.la(e),qA(r)):r.Aa.set("Unknown")}async function $te(r,e,t){if(r.Aa.set("Online"),e instanceof pU&&e.state===2&&e.cause)try{await(async function(a,n){const o=n.cause;for(const l of n.targetIds)a.Ta.has(l)&&(await a.remoteSyncer.rejectListen(l,o),a.Ta.delete(l),a.Ra.removeTarget(l))})(r,e)}catch(s){Ft(kh,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ww(r,s)}else if(e instanceof I1?r.Ra.Ye(e):e instanceof gU?r.Ra.it(e):r.Ra.et(e),!t.isEqual(er.min()))try{const s=await AU(r.localStore);t.compareTo(s)>=0&&await(function(n,o){const l=n.Ra.Pt(o);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const u=n.Ta.get(d);u&&n.Ta.set(d,u.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,d)=>{const u=n.Ta.get(c);if(!u)return;n.Ta.set(c,u.withResumeToken(pn.EMPTY_BYTE_STRING,u.snapshotVersion)),PU(n,c);const h=new pd(u.target,c,d,u.sequenceNumber);WA(n,h)})),n.remoteSyncer.applyRemoteEvent(l)})(r,t)}catch(s){Ft(kh,"Failed to raise snapshot:",s),await ww(r,s)}}async function ww(r,e,t){if(!e0(e))throw e;r.Ia.add(1),await qx(r),r.Aa.set("Offline"),t||(t=()=>AU(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ft(kh,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await j2(r)}))}function IU(r,e){return e().catch((t=>ww(r,t,e)))}async function E2(r){const e=nr(r),t=Fd(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:TA;for(;Wte(e);)try{const a=await jte(e.localStore,s);if(a===null){e.Pa.length===0&&t.B_();break}s=a.batchId,qte(e,a)}catch(a){await ww(e,a)}DU(e)&&OU(e)}function Wte(r){return zh(r)&&r.Pa.length<10}function qte(r,e){r.Pa.push(e);const t=Fd(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function DU(r){return zh(r)&&!Fd(r).M_()&&r.Pa.length>0}function OU(r){Fd(r).start()}async function Gte(r){Fd(r).na()}async function Yte(r){const e=Fd(r);for(const t of r.Pa)e.X_(t.mutations)}async function Xte(r,e,t){const s=r.Pa.shift(),a=MA.from(s,e,t);await IU(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await E2(r)}async function Kte(r,e){e&&Fd(r).Z_&&await(async function(s,a){if((function(o){return fU(o)&&o!==tt.ABORTED})(a.code)){const n=s.Pa.shift();Fd(s).N_(),await IU(s,(()=>s.remoteSyncer.rejectFailedWrite(n.batchId,a))),await E2(s)}})(r,e),DU(r)&&OU(r)}async function TD(r,e){const t=nr(r);t.asyncQueue.verifyOperationInProgress(),Ft(kh,"RemoteStore received new credentials");const s=zh(t);t.Ia.add(3),await qx(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await j2(t)}async function Zte(r,e){const t=nr(r);e?(t.Ia.delete(2),await j2(t)):e||(t.Ia.add(2),await qx(t),t.Aa.set("Unknown"))}function r0(r){return r.Va||(r.Va=(function(t,s,a){const n=nr(t);return n.ia(),new Ote(s,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,a)})(r.datastore,r.asyncQueue,{Zo:zte.bind(null,r),e_:Vte.bind(null,r),n_:Hte.bind(null,r),J_:$te.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),GA(r)?qA(r):r.Aa.set("Unknown")):(await r.Va.stop(),RU(r))}))),r.Va}function Fd(r){return r.ma||(r.ma=(function(t,s,a){const n=nr(t);return n.ia(),new Mte(s,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,a)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:Gte.bind(null,r),n_:Kte.bind(null,r),ea:Yte.bind(null,r),ta:Xte.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await E2(r)):(await r.ma.stop(),r.Pa.length>0&&(Ft(kh,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t,s,a,n){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=n,this.deferred=new bl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,n){const o=Date.now()+s,l=new YA(e,t,o,a,n);return l.start(s),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function XA(r,e){if(jc("AsyncQueue",`${e}: ${r}`),e0(r))return new Et(tt.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{static emptySet(e){return new xm(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||$t.comparator(t.key,s.key):(t,s)=>$t.comparator(t.key,s.key),this.keyedMap=Jg(),this.sortedSet=new Zs(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,n=s.getNext().key;if(!a.isEqual(n))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new xm;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.fa=new Zs($t.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Gt(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Dm{constructor(e,t,s,a,n,o,l,c,d){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=n,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,s,a,n){const o=[];return t.forEach((l=>{o.push({type:0,doc:l})})),new Dm(e,t,xm.emptySet(t),o,s,a,!0,!1,n)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&v2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class Jte{constructor(){this.queries=PD(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const a=nr(t),n=a.queries;a.queries=PD(),n.forEach(((o,l)=>{for(const c of l.wa)c.onError(s)}))})(this,new Et(tt.ABORTED,"Firestore shutting down"))}}function PD(){return new Uh((r=>eU(r)),v2)}async function KA(r,e){const t=nr(r);let s=3;const a=e.query;let n=t.queries.get(a);n?!n.Sa()&&e.ba()&&(s=2):(n=new Qte,s=e.ba()?0:1);try{switch(s){case 0:n.ya=await t.onListen(a,!0);break;case 1:n.ya=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(o){const l=XA(o,`Initialization of query '${em(e.query)}' failed`);return void e.onError(l)}t.queries.set(a,n),n.wa.push(e),e.va(t.onlineState),n.ya&&e.Ca(n.ya)&&QA(t)}async function ZA(r,e){const t=nr(r),s=e.query;let a=3;const n=t.queries.get(s);if(n){const o=n.wa.indexOf(e);o>=0&&(n.wa.splice(o,1),n.wa.length===0?a=e.ba()?0:1:!n.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function ere(r,e){const t=nr(r);let s=!1;for(const a of e){const n=a.query,o=t.queries.get(n);if(o){for(const l of o.wa)l.Ca(a)&&(s=!0);o.ya=a}}s&&QA(t)}function tre(r,e,t){const s=nr(r),a=s.queries.get(e);if(a)for(const n of a.wa)n.onError(t);s.queries.delete(e)}function QA(r){r.Da.forEach((e=>{e.next()}))}var Cj,RD;(RD=Cj||(Cj={})).Fa="default",RD.Cache="cache";class JA{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Dm(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Dm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Cj.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.key=e}}class FU{constructor(e){this.key=e}}class rre{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Br(),this.mutatedKeys=Br(),this.Xa=tU(e),this.eu=new xm(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new CD,a=t?t.eu:this.eu;let n=t?t.mutatedKeys:this.mutatedKeys,o=a,l=!1;const c=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((u,h)=>{const m=a.get(u),p=w2(this.query,h)?h:null,b=!!m&&this.mutatedKeys.has(m.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;m&&p?m.data.isEqual(p.data)?b!==x&&(s.track({type:3,doc:p}),y=!0):this.iu(m,p)||(s.track({type:2,doc:p}),y=!0,(c&&this.Xa(p,c)>0||d&&this.Xa(p,d)<0)&&(l=!0)):!m&&p?(s.track({type:0,doc:p}),y=!0):m&&!p&&(s.track({type:1,doc:m}),y=!0,(c||d)&&(l=!0)),y&&(p?(o=o.add(p),n=x?n.add(u):n.delete(u)):(o=o.delete(u),n=n.delete(u)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),n=n.delete(u.key),s.track({type:1,doc:u})}return{eu:o,ru:s,Ds:l,mutatedKeys:n}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const n=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort(((u,h)=>(function(p,b){const x=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt(20277,{At:y})}};return x(p)-x(b)})(u.type,h.type)||this.Xa(u.doc,h.doc))),this.su(s),a=a!=null&&a;const l=t&&!a?this.ou():[],c=this.Za.size===0&&this.current&&!a?1:0,d=c!==this.Ya;return this.Ya=c,o.length!==0||d?{snapshot:new Dm(this.query,e.eu,n,o,e.mutatedKeys,c===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new CD,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Br(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const t=[];return e.forEach((s=>{this.Za.has(s)||t.push(new FU(s))})),this.Za.forEach((s=>{e.has(s)||t.push(new MU(s))})),t}uu(e){this.Ha=e.qs,this.Za=Br();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Dm.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const eT="SyncEngine";class sre{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class are{constructor(e){this.key=e,this.lu=!1}}class nre{constructor(e,t,s,a,n,o){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=n,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Uh((l=>eU(l)),v2),this.Tu=new Map,this.Iu=new Set,this.du=new Zs($t.comparator),this.Eu=new Map,this.Au=new BA,this.Ru={},this.Vu=new Map,this.mu=Im.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function ire(r,e,t=!0){const s=HU(r);let a;const n=s.Pu.get(e);return n?(s.sharedClientState.addLocalQueryTarget(n.targetId),a=n.view.cu()):a=await LU(s,e,t,!0),a}async function ore(r,e){const t=HU(r);await LU(t,e,!0,!1)}async function LU(r,e,t,s){const a=await Ete(r.localStore,yl(e)),n=a.targetId,o=r.sharedClientState.addLocalQueryTarget(n,t);let l;return s&&(l=await lre(r,e,n,o==="current",a.resumeToken)),r.isPrimaryClient&&t&&CU(r.remoteStore,a),l}async function lre(r,e,t,s,a){r.gu=(h,m,p)=>(async function(x,y,w,k){let N=y.view.nu(w);N.Ds&&(N=await ND(x.localStore,y.query,!1).then((({documents:S})=>y.view.nu(S,N))));const T=k&&k.targetChanges.get(y.targetId),E=k&&k.targetMismatches.get(y.targetId)!=null,I=y.view.applyChanges(N,x.isPrimaryClient,T,E);return DD(x,y.targetId,I._u),I.snapshot})(r,h,m,p);const n=await ND(r.localStore,e,!0),o=new rre(e,n.qs),l=o.nu(n.documents),c=Wx.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),d=o.applyChanges(l,r.isPrimaryClient,c);DD(r,t,d._u);const u=new sre(e,t,o);return r.Pu.set(e,u),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),d.snapshot}async function cre(r,e,t){const s=nr(r),a=s.Pu.get(e),n=s.Tu.get(a.targetId);if(n.length>1)return s.Tu.set(a.targetId,n.filter((o=>!v2(o,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Aj(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&$A(s.remoteStore,a.targetId),Pj(s,a.targetId)})).catch(Jm)):(Pj(s,a.targetId),await Aj(s.localStore,a.targetId,!0))}async function dre(r,e){const t=nr(r),s=t.Pu.get(e),a=t.Tu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),$A(t.remoteStore,s.targetId))}async function ure(r,e,t){const s=bre(r);try{const a=await(function(o,l){const c=nr(o),d=Bs.now(),u=l.reduce(((p,b)=>p.add(b.key)),Br());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let b=Ec(),x=Br();return c.Os.getEntries(p,u).next((y=>{b=y,b.forEach(((w,k)=>{k.isValidDocument()||(x=x.add(w))}))})).next((()=>c.localDocuments.getOverlayedDocuments(p,b))).next((y=>{h=y;const w=[];for(const k of l){const N=Tee(k,h.get(k.key).overlayedDocument);N!=null&&w.push(new eu(k.key,N,qB(N.value.mapValue),Ta.exists(!0)))}return c.mutationQueue.addMutationBatch(p,d,w,l)})).next((y=>{m=y;const w=y.applyToLocalDocumentSet(h,x);return c.documentOverlayCache.saveOverlays(p,y.batchId,w)}))})).then((()=>({batchId:m.batchId,changes:sU(h)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(o,l,c){let d=o.Ru[o.currentUser.toKey()];d||(d=new Zs(_r)),d=d.insert(l,c),o.Ru[o.currentUser.toKey()]=d})(s,a.batchId,t),await Gx(s,a.changes),await E2(s.remoteStore)}catch(a){const n=XA(a,"Failed to persist write");t.reject(n)}}async function BU(r,e){const t=nr(r);try{const s=await Nte(t.localStore,e);e.targetChanges.forEach(((a,n)=>{const o=t.Eu.get(n);o&&(Zr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?o.lu=!0:a.modifiedDocuments.size>0?Zr(o.lu,14607):a.removedDocuments.size>0&&(Zr(o.lu,42227),o.lu=!1))})),await Gx(t,s,e)}catch(s){await Jm(s)}}function ID(r,e,t){const s=nr(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Pu.forEach(((n,o)=>{const l=o.view.va(e);l.snapshot&&a.push(l.snapshot)})),(function(o,l){const c=nr(o);c.onlineState=l;let d=!1;c.queries.forEach(((u,h)=>{for(const m of h.wa)m.va(l)&&(d=!0)})),d&&QA(c)})(s.eventManager,e),a.length&&s.hu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hre(r,e,t){const s=nr(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Eu.get(e),n=a&&a.key;if(n){let o=new Zs($t.comparator);o=o.insert(n,Za.newNoDocument(n,er.min()));const l=Br().add(n),c=new N2(er.min(),new Map,new Zs(_r),o,l);await BU(s,c),s.du=s.du.remove(n),s.Eu.delete(e),tT(s)}else await Aj(s.localStore,e,!1).then((()=>Pj(s,e,t))).catch(Jm)}async function fre(r,e){const t=nr(r),s=e.batch.batchId;try{const a=await _te(t.localStore,e);zU(t,s,null),UU(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Gx(t,a)}catch(a){await Jm(a)}}async function mre(r,e,t){const s=nr(r);try{const a=await(function(o,l){const c=nr(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let u;return c.mutationQueue.lookupMutationBatch(d,l).next((h=>(Zr(h!==null,37113),u=h.keys(),c.mutationQueue.removeMutationBatch(d,h)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,u,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u))).next((()=>c.localDocuments.getDocuments(d,u)))}))})(s.localStore,e);zU(s,e,t),UU(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Gx(s,a)}catch(a){await Jm(a)}}function UU(r,e){(r.Vu.get(e)||[]).forEach((t=>{t.resolve()})),r.Vu.delete(e)}function zU(r,e,t){const s=nr(r);let a=s.Ru[s.currentUser.toKey()];if(a){const n=a.get(e);n&&(t?n.reject(t):n.resolve(),a=a.remove(e)),s.Ru[s.currentUser.toKey()]=a}}function Pj(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||VU(r,s)}))}function VU(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&($A(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),tT(r))}function DD(r,e,t){for(const s of t)s instanceof MU?(r.Au.addReference(s.key,e),gre(r,s)):s instanceof FU?(Ft(eT,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||VU(r,s.key)):Gt(19791,{yu:s})}function gre(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(Ft(eT,"New document in limbo: "+t),r.Iu.add(s),tT(r))}function tT(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new $t(Es.fromString(e)),s=r.mu.next();r.Eu.set(s,new are(t)),r.du=r.du.insert(t,s),CU(r.remoteStore,new pd(yl(y2(t.path)),s,"TargetPurposeLimboResolution",x2.ue))}}async function Gx(r,e,t){const s=nr(r),a=[],n=[],o=[];s.Pu.isEmpty()||(s.Pu.forEach(((l,c)=>{o.push(s.gu(c,e,t).then((d=>{var u;if((d||t)&&s.isPrimaryClient){const h=d?!d.fromCache:(u=t?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;s.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(d){a.push(d);const h=zA.Es(c.targetId,d);n.push(h)}})))})),await Promise.all(o),s.hu.J_(a),await(async function(c,d){const u=nr(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(h=>ct.forEach(d,(m=>ct.forEach(m.Is,(p=>u.persistence.referenceDelegate.addReference(h,m.targetId,p))).next((()=>ct.forEach(m.ds,(p=>u.persistence.referenceDelegate.removeReference(h,m.targetId,p)))))))))}catch(h){if(!e0(h))throw h;Ft(VA,"Failed to update sequence numbers: "+h)}for(const h of d){const m=h.targetId;if(!h.fromCache){const p=u.Fs.get(m),b=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(b);u.Fs=u.Fs.insert(m,x)}}})(s.localStore,n))}async function pre(r,e){const t=nr(r);if(!t.currentUser.isEqual(e)){Ft(eT,"User change. New user:",e.toKey());const s=await EU(t.localStore,e);t.currentUser=e,(function(n,o){n.Vu.forEach((l=>{l.forEach((c=>{c.reject(new Et(tt.CANCELLED,o))}))})),n.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Gx(t,s.Bs)}}function xre(r,e){const t=nr(r),s=t.Eu.get(e);if(s&&s.lu)return Br().add(s.key);{let a=Br();const n=t.Tu.get(e);if(!n)return a;for(const o of n){const l=t.Pu.get(o);a=a.unionWith(l.view.tu)}return a}}function HU(r){const e=nr(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=BU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hre.bind(null,e),e.hu.J_=ere.bind(null,e.eventManager),e.hu.pu=tre.bind(null,e.eventManager),e}function bre(r){const e=nr(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mre.bind(null,e),e}class kw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=S2(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return kte(this.persistence,new yte,e.initialUser,this.serializer)}Du(e){return new jU(UA.Vi,this.serializer)}bu(e){return new Tte}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kw.provider={build:()=>new kw};class yre extends kw{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Zr(this.persistence.referenceDelegate instanceof vw,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ate(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?ni.withCacheSize(this.cacheSizeBytes):ni.DEFAULT;return new jU((s=>vw.Vi(s,t)),this.serializer)}}class Rj{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ID(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pre.bind(null,this.syncEngine),await Zte(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Jte})()}createDatastore(e){const t=S2(e.databaseInfo.databaseId),s=(function(n){return new Dte(n)})(e.databaseInfo);return(function(n,o,l,c){return new Lte(n,o,l,c)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,n,o,l){return new Ute(s,a,n,o,l)})(this.localStore,this.datastore,e.asyncQueue,(t=>ID(this.syncEngine,t,0)),(function(){return ED.C()?new ED:new Cte})())}createSyncEngine(e,t){return(function(a,n,o,l,c,d,u){const h=new nre(a,n,o,l,c,d);return u&&(h.fu=!0),h})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const n=nr(a);Ft(kh,"RemoteStore shutting down."),n.Ia.add(5),await qx(n),n.Ea.shutdown(),n.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Rj.provider={build:()=>new Rj};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):jc("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Et(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,n){const o=nr(a),l={documents:n.map((h=>yw(o.serializer,h)))},c=await o.Jo("BatchGetDocuments",o.serializer.databaseId,Es.emptyPath(),l,n.length),d=new Map;c.forEach((h=>{const m=zee(o.serializer,h);d.set(m.key.toString(),m)}));const u=[];return n.forEach((h=>{const m=d.get(h.toString());Zr(!!m,55234,{key:h}),u.push(m)})),u})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new $x(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const a=$t.fromPath(s);this.mutations.push(new hU(a,this.precondition(a)))})),await(async function(s,a){const n=nr(s),o={writes:a.map((l=>wU(n.serializer,l)))};await n.Wo("Commit",n.serializer.databaseId,Es.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Gt(50498,{Wu:e.constructor.name});t=er.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Et(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(er.min())?Ta.exists(!1):Ta.updateTime(t):Ta.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(er.min()))throw new Et(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ta.updateTime(t)}return Ta.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(e,t,s,a,n){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=n,this.Gu=s.maxAttempts,this.F_=new HA(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new vre(this.datastore),t=this.Ju(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((a=>{this.Hu(a)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(e){try{const t=this.updateFunction(e);return!Vx(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!fU(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="FirestoreClient";class kre{constructor(e,t,s,a,n){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=kn.UNAUTHENTICATED,this.clientId=AA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=n,this.authCredentials.start(s,(async o=>{Ft(Ld,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(s,(o=>(Ft(Ld,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=XA(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function TN(r,e){r.asyncQueue.verifyOperationInProgress(),Ft(Ld,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async a=>{s.isEqual(a)||(await EU(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>{Rd("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{Ft("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((a=>{Rd("Terminating Firestore due to IndexedDb database deletion failed",a)}))})),r._offlineComponents=e}async function OD(r,e){r.asyncQueue.verifyOperationInProgress();const t=await _re(r);Ft(Ld,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>TD(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,a)=>TD(e.remoteStore,a))),r._onlineComponents=e}async function _re(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ft(Ld,"Using user provided OfflineComponentProvider");try{await TN(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Rd("Error using user provided cache. Falling back to memory cache: "+t),await TN(r,new kw)}}else Ft(Ld,"Using default OfflineComponentProvider"),await TN(r,new yre(void 0));return r._offlineComponents}async function sT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ft(Ld,"Using user provided OnlineComponentProvider"),await OD(r,r._uninitializedComponentsProvider._online)):(Ft(Ld,"Using default OnlineComponentProvider"),await OD(r,new Rj))),r._onlineComponents}function Nre(r){return sT(r).then((e=>e.syncEngine))}function Sre(r){return sT(r).then((e=>e.datastore))}async function _w(r){const e=await sT(r),t=e.eventManager;return t.onListen=ire.bind(null,e.syncEngine),t.onUnlisten=cre.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ore.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dre.bind(null,e.syncEngine),t}function jre(r,e,t={}){const s=new bl;return r.asyncQueue.enqueueAndForget((async()=>(function(n,o,l,c,d){const u=new rT({next:m=>{u.Ou(),o.enqueueAndForget((()=>ZA(n,h)));const p=m.docs.has(l);!p&&m.fromCache?d.reject(new Et(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?d.reject(new Et(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),h=new JA(y2(l.path),u,{includeMetadataChanges:!0,ka:!0});return KA(n,h)})(await _w(r),r.asyncQueue,e,t,s))),s.promise}function Ere(r,e,t={}){const s=new bl;return r.asyncQueue.enqueueAndForget((async()=>(function(n,o,l,c,d){const u=new rT({next:m=>{u.Ou(),o.enqueueAndForget((()=>ZA(n,h))),m.fromCache&&c.source==="server"?d.reject(new Et(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),h=new JA(l,u,{includeMetadataChanges:!0,ka:!0});return KA(n,h)})(await _w(r),r.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="firestore.googleapis.com",FD=!0;class LD{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Et(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WU,this.ssl=FD}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:FD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rte)throw new Et(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$U((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Et(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Et(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Et(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class A2{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Et(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new IJ;switch(s.type){case"firstParty":return new FJ(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Et(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=MD.get(t);s&&(Ft("ComponentProvider","Removing Datastore"),MD.delete(t),s.terminate())})(this),Promise.resolve()}}function Are(r,e,t,s={}){var a;r=Cn(r,A2);const n=Zd(e),o=r._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:r._getEmulatorOptions()}),c=`${e}:${t}`;n&&(dA(`https://${c}`),uA("Firestore",!0)),o.host!==WU&&o.host!==c&&Rd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:n,emulatorOptions:s});if(!kc(d,l)&&(r._setSettings(d),s.mockUserToken)){let u,h;if(typeof s.mockUserToken=="string")u=s.mockUserToken,h=kn.MOCK_USER;else{u=F8(s.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new Et(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new kn(m)}r._authCredentials=new DJ(new IB(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Dc(this.firestore,e,this._query)}}class Gs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ed(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gs(this.firestore,e,this._key)}toJSON(){return{type:Gs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(zx(t,Gs._jsonSchema))return new Gs(e,s||null,new $t(Es.fromString(t.referencePath)))}}Gs._jsonSchemaVersion="firestore/documentReference/1.0",Gs._jsonSchema={type:Ca("string",Gs._jsonSchemaVersion),referencePath:Ca("string")};class Ed extends Dc{constructor(e,t,s){super(e,t,y2(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gs(this.firestore,null,new $t(e))}withConverter(e){return new Ed(this.firestore,e,this._path)}}function Xe(r,e,...t){if(r=is(r),OB("collection","path",e),r instanceof A2){const s=Es.fromString(e,...t);return ZI(s),new Ed(r,null,s)}{if(!(r instanceof Gs||r instanceof Ed))throw new Et(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Es.fromString(e,...t));return ZI(s),new Ed(r.firestore,null,s)}}function qe(r,e,...t){if(r=is(r),arguments.length===1&&(e=AA.newId()),OB("doc","path",e),r instanceof A2){const s=Es.fromString(e,...t);return KI(s),new Gs(r,null,new $t(s))}{if(!(r instanceof Gs||r instanceof Ed))throw new Et(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Es.fromString(e,...t));return KI(s),new Gs(r.firestore,r instanceof Ed?r.converter:null,new $t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="AsyncQueue";class UD{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new HA(this,"async_queue_retry"),this.oc=()=>{const s=AN();s&&Ft(BD,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=AN();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=AN();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new bl;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!e0(e))throw e;Ft(BD,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,jc("INTERNAL UNHANDLED ERROR: ",zD(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const a=YA.createAndSchedule(this,e,t,s,(n=>this.lc(n)));return this.ec.push(a),a}ac(){this.tc&&Gt(47125,{hc:zD(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function zD(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(r){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const n of s)if(n in a&&typeof a[n]=="function")return!0;return!1})(r,["next","error","complete"])}class Vo extends A2{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new UD,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UD(e),this._firestoreClient=void 0,await e}}}function Tre(r,e){const t=typeof r=="object"?r:mA(),s=typeof r=="string"?r:fw,a=h2(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const n=D8("firestore");n&&Are(a,...n)}return a}function s0(r){if(r._terminated)throw new Et(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Cre(r),r._firestoreClient}function Cre(r){var e,t,s;const a=r._freezeSettings(),n=(function(l,c,d,u){return new eee(l,c,d,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,$U(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new kre(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ti(pn.fromBase64String(e))}catch(t){throw new Et(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ti(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zx(e,Ti._jsonSchema))return Ti.fromBase64String(e.bytes)}}Ti._jsonSchemaVersion="firestore/bytes/1.0",Ti._jsonSchema={type:Ca("string",Ti._jsonSchemaVersion),bytes:Ca("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Et(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Et(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Et(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _r(this._lat,e._lat)||_r(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vl._jsonSchemaVersion}}static fromJSON(e){if(zx(e,vl._jsonSchema))return new vl(e.latitude,e.longitude)}}vl._jsonSchemaVersion="firestore/geoPoint/1.0",vl._jsonSchema={type:Ca("string",vl._jsonSchemaVersion),latitude:Ca("number"),longitude:Ca("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let n=0;n<s.length;++n)if(s[n]!==a[n])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zx(e,wl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wl(e.vectorValues);throw new Et(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wl._jsonSchemaVersion="firestore/vectorValue/1.0",wl._jsonSchema={type:Ca("string",wl._jsonSchemaVersion),vectorValues:Ca("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pre=/^__.*__$/;class Rre{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hx(e,this.data,t,this.fieldTransforms)}}class qU{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GU(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt(40011,{Ec:r})}}class T2{constructor(e,t,s,a,n,o){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,n===void 0&&this.Ac(),this.fieldTransforms=n||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new T2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:s,mc:!1});return a.fc(e),a}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:s,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Nw(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(GU(this.Ec)&&Pre.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Ire{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||S2(e)}Dc(e,t,s,a=!1){return new T2({Ec:e,methodName:t,bc:s,path:fn.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function i0(r){const e=r._freezeSettings(),t=S2(r._databaseId);return new Ire(r._databaseId,!!e.ignoreUndefinedProperties,t)}function C2(r,e,t,s,a,n={}){const o=r.Dc(n.merge||n.mergeFields?2:0,e,t,a);cT("Data must be an object, but it was:",o,s);const l=XU(s,o);let c,d;if(n.merge)c=new Ri(o.fieldMask),d=o.fieldTransforms;else if(n.mergeFields){const u=[];for(const h of n.mergeFields){const m=Ij(e,h,t);if(!o.contains(m))throw new Et(tt.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZU(u,m)||u.push(m)}c=new Ri(u),d=o.fieldTransforms.filter((h=>c.covers(h.field)))}else c=null,d=o.fieldTransforms;return new Rre(new Wn(l),c,d)}class P2 extends n0{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof P2}}function YU(r,e,t){return new T2({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class aT extends n0{_toFieldTransform(e){return new OA(e.path,new Gp)}isEqual(e){return e instanceof aT}}class nT extends n0{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=YU(this,e,!0),s=this.vc.map((n=>Vh(n,t))),a=new Pm(s);return new OA(e.path,a)}isEqual(e){return e instanceof nT&&kc(this.vc,e.vc)}}class iT extends n0{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=YU(this,e,!0),s=this.vc.map((n=>Vh(n,t))),a=new Rm(s);return new OA(e.path,a)}isEqual(e){return e instanceof iT&&kc(this.vc,e.vc)}}function oT(r,e,t,s){const a=r.Dc(1,e,t);cT("Data must be an object, but it was:",a,s);const n=[],o=Wn.empty();Jd(s,((c,d)=>{const u=dT(e,c,t);d=is(d);const h=a.gc(u);if(d instanceof P2)n.push(u);else{const m=Vh(d,h);m!=null&&(n.push(u),o.set(u,m))}}));const l=new Ri(n);return new qU(o,l,a.fieldTransforms)}function lT(r,e,t,s,a,n){const o=r.Dc(1,e,t),l=[Ij(e,s,t)],c=[a];if(n.length%2!=0)throw new Et(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<n.length;m+=2)l.push(Ij(e,n[m])),c.push(n[m+1]);const d=[],u=Wn.empty();for(let m=l.length-1;m>=0;--m)if(!ZU(d,l[m])){const p=l[m];let b=c[m];b=is(b);const x=o.gc(p);if(b instanceof P2)d.push(p);else{const y=Vh(b,x);y!=null&&(d.push(p),u.set(p,y))}}const h=new Ri(d);return new qU(u,h,o.fieldTransforms)}function Dre(r,e,t,s=!1){return Vh(t,r.Dc(s?4:3,e))}function Vh(r,e){if(KU(r=is(r)))return cT("Unsupported field value:",e,r),XU(r,e);if(r instanceof n0)return(function(s,a){if(!GU(a.Ec))throw a.wc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${s._methodName}() is not currently supported inside arrays`);const n=s._toFieldTransform(a);n&&a.fieldTransforms.push(n)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,a){const n=[];let o=0;for(const l of s){let c=Vh(l,a.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),n.push(c),o++}return{arrayValue:{values:n}}})(r,e)}return(function(s,a){if((s=is(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _ee(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const n=Bs.fromDate(s);return{timestampValue:bw(a.serializer,n)}}if(s instanceof Bs){const n=new Bs(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bw(a.serializer,n)}}if(s instanceof vl)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ti)return{bytesValue:xU(a.serializer,s._byteString)};if(s instanceof Gs){const n=a.databaseId,o=s.firestore._databaseId;if(!o.isEqual(n))throw a.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:LA(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof wl)return(function(o,l){return{mapValue:{fields:{[$B]:{stringValue:WB},[mw]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.wc("VectorValues must only contain numeric values.");return DA(l.serializer,d)}))}}}}}})(s,a);throw a.wc(`Unsupported field value: ${p2(s)}`)})(r,e)}function XU(r,e){const t={};return LB(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jd(r,((s,a)=>{const n=Vh(a,e.Vc(s));n!=null&&(t[s]=n)})),{mapValue:{fields:t}}}function KU(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Bs||r instanceof vl||r instanceof Ti||r instanceof Gs||r instanceof n0||r instanceof wl)}function cT(r,e,t){if(!KU(t)||!MB(t)){const s=p2(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Ij(r,e,t){if((e=is(e))instanceof a0)return e._internalPath;if(typeof e=="string")return dT(r,e);throw Nw("Field path arguments must be of type string or ",r,!1,void 0,t)}const Ore=new RegExp("[~\\*/\\[\\]]");function dT(r,e,t){if(e.search(Ore)>=0)throw Nw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new a0(...e.split("."))._internalPath}catch{throw Nw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Nw(r,e,t,s,a){const n=s&&!s.isEmpty(),o=a!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(n||o)&&(c+=" (found",n&&(c+=` in field ${s}`),o&&(c+=` in document ${a}`),c+=")"),new Et(tt.INVALID_ARGUMENT,l+r+c)}function ZU(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,s,a,n){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=n}get id(){return this._key.path.lastSegment()}get ref(){return new Gs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(R2("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Mre extends Sw{data(){return super.data()}}function R2(r,e){return typeof e=="string"?dT(r,e):e instanceof a0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Et(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uT{}class hT extends uT{}function Lt(r,e,...t){let s=[];e instanceof uT&&s.push(e),s=s.concat(t),(function(n){const o=n.filter((c=>c instanceof fT)).length,l=n.filter((c=>c instanceof I2)).length;if(o>1||o>0&&l>0)throw new Et(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)r=a._apply(r);return r}class I2 extends hT{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new I2(e,t,s)}_apply(e){const t=this._parse(e);return e7(e._query,t),new Dc(e.firestore,e.converter,Nj(e._query,t))}_parse(e){const t=i0(e.firestore);return(function(n,o,l,c,d,u,h){let m;if(d.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Et(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){$D(h,u);const b=[];for(const x of h)b.push(HD(c,n,x));m={arrayValue:{values:b}}}else m=HD(c,n,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||$D(h,u),m=Dre(l,o,h,u==="in"||u==="not-in");return Aa.create(d,u,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Tt(r,e,t){const s=e,a=R2("where",r);return I2._create(a,s,t)}class fT extends uT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fT(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:zo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,n){let o=a;const l=n.getFlattenedFilters();for(const c of l)e7(o,c),o=Nj(o,c)})(e._query,t),new Dc(e.firestore,e.converter,Nj(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mT extends hT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mT(e,t)}_apply(e){const t=(function(a,n,o){if(a.startAt!==null)throw new Et(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Et(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qp(n,o)})(e._query,this._field,this._direction);return new Dc(e.firestore,e.converter,(function(a,n){const o=a.explicitOrderBy.concat([n]);return new t0(a.path,a.collectionGroup,o,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function Om(r,e="asc"){const t=e,s=R2("orderBy",r);return mT._create(s,t)}class gT extends hT{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new gT(e,t,s)}_apply(e){return new Dc(e.firestore,e.converter,pw(e._query,this._limit,this._limitType))}}function JU(r){return HJ("limit",r),gT._create("limit",r,"F")}function HD(r,e,t){if(typeof(t=is(t))=="string"){if(t==="")throw new Et(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JB(e)&&t.indexOf("/")!==-1)throw new Et(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Es.fromString(t));if(!$t.isDocumentKey(s))throw new Et(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nD(r,new $t(s))}if(t instanceof Gs)return nD(r,t._key);throw new Et(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${p2(t)}.`)}function $D(r,e){if(!Array.isArray(r)||r.length===0)throw new Et(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e7(r,e){const t=(function(a,n){for(const o of a)for(const l of o.getFlattenedFilters())if(n.indexOf(l.op)>=0)return l.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Et(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Et(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class t7{convertValue(e,t="none"){switch(Md(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ma(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Od(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Gt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Jd(e,((a,n)=>{s[a]=this.convertValue(n,t)})),s}convertVectorValue(e){var t,s,a;const n=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[mw].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map((o=>ma(o.doubleValue)));return new wl(n)}convertGeoPoint(e){return new vl(ma(e.latitude),ma(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=b2(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Hp(e));default:return null}}convertTimestamp(e){const t=Dd(e);return new Bs(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Es.fromString(e);Zr(NU(s),9688,{name:e});const a=new $p(s.get(1),s.get(3)),n=new $t(s.popFirst(5));return a.isEqual(t)||jc(`Document ${n} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Fre extends t7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,t)}}class nm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ad extends Sw{constructor(e,t,s,a,n,o){super(e,t,s,a,o),this._firestore=e,this._firestoreImpl=e,this.metadata=n}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new D1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(R2("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ad._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ad._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ad._jsonSchema={type:Ca("string",Ad._jsonSchemaVersion),bundleSource:Ca("string","DocumentSnapshot"),bundleName:Ca("string"),bundle:Ca("string")};class D1 extends Ad{data(e={}){return super.data(e)}}class oh{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new nm(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new D1(this._firestore,this._userDataWriter,s.key,s,new nm(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Et(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,n){if(a._snapshot.oldDocs.isEmpty()){let o=0;return a._snapshot.docChanges.map((l=>{const c=new D1(a._firestore,a._userDataWriter,l.doc.key,l.doc,new nm(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((l=>n||l.type!==3)).map((l=>{const c=new D1(a._firestore,a._userDataWriter,l.doc.key,l.doc,new nm(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,u=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:Lre(l.type),doc:c,oldIndex:d,newIndex:u}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=AA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((n=>{n._document!==null&&(t.push(n._document),s.push(this._userDataWriter.convertObjectMap(n._document.data.value.mapValue.fields,"previous")),a.push(n.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Lre(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r){r=Cn(r,Gs);const e=Cn(r.firestore,Vo);return jre(s0(e),r._key).then((t=>r7(e,r,t)))}oh._jsonSchemaVersion="firestore/querySnapshot/1.0",oh._jsonSchema={type:Ca("string",oh._jsonSchemaVersion),bundleSource:Ca("string","QuerySnapshot"),bundleName:Ca("string"),bundle:Ca("string")};class O2 extends t7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,t)}}function xt(r){r=Cn(r,Dc);const e=Cn(r.firestore,Vo),t=s0(e),s=new O2(e);return QU(r._query),Ere(t,r._query).then((a=>new oh(e,s,r,a)))}function gr(r,e,t){r=Cn(r,Gs);const s=Cn(r.firestore,Vo),a=D2(r.converter,e,t);return Yx(s,[C2(i0(s),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Ta.none())])}function Oi(r,e,t,...s){r=Cn(r,Gs);const a=Cn(r.firestore,Vo),n=i0(a);let o;return o=typeof(e=is(e))=="string"||e instanceof a0?lT(n,"updateDoc",r._key,e,t,s):oT(n,"updateDoc",r._key,e),Yx(a,[o.toMutation(r._key,Ta.exists(!0))])}function La(r){return Yx(Cn(r.firestore,Vo),[new $x(r._key,Ta.none())])}function fi(r,e){const t=Cn(r.firestore,Vo),s=qe(r),a=D2(r.converter,e);return Yx(t,[C2(i0(r.firestore),"addDoc",s._key,a,r.converter!==null,{}).toMutation(s._key,Ta.exists(!1))]).then((()=>s))}function yr(r,...e){var t,s,a;r=is(r);let n={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||VD(e[o])||(n=e[o++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(VD(e[o])){const h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(a=h.complete)===null||a===void 0?void 0:a.bind(h)}let c,d,u;if(r instanceof Gs)d=Cn(r.firestore,Vo),u=y2(r._key.path),c={next:h=>{e[o]&&e[o](r7(d,r,h))},error:e[o+1],complete:e[o+2]};else{const h=Cn(r,Dc);d=Cn(h.firestore,Vo),u=h._query;const m=new O2(d);c={next:p=>{e[o]&&e[o](new oh(d,m,h,p))},error:e[o+1],complete:e[o+2]},QU(r._query)}return(function(m,p,b,x){const y=new rT(x),w=new JA(p,y,b);return m.asyncQueue.enqueueAndForget((async()=>KA(await _w(m),w))),()=>{y.Ou(),m.asyncQueue.enqueueAndForget((async()=>ZA(await _w(m),w)))}})(s0(d),u,l,c)}function Yx(r,e){return(function(s,a){const n=new bl;return s.asyncQueue.enqueueAndForget((async()=>ure(await Nre(s),a,n))),n.promise})(s0(r),e)}function r7(r,e,t){const s=t.docs.get(e._key),a=new O2(r);return new Ad(r,a,e._key,s,new nm(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bre={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ure{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=i0(e)}set(e,t,s){this._verifyNotCommitted();const a=xd(e,this._firestore),n=D2(a.converter,t,s),o=C2(this._dataReader,"WriteBatch.set",a._key,n,a.converter!==null,s);return this._mutations.push(o.toMutation(a._key,Ta.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const n=xd(e,this._firestore);let o;return o=typeof(t=is(t))=="string"||t instanceof a0?lT(this._dataReader,"WriteBatch.update",n._key,t,s,a):oT(this._dataReader,"WriteBatch.update",n._key,t),this._mutations.push(o.toMutation(n._key,Ta.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xd(e,this._firestore);return this._mutations=this._mutations.concat(new $x(t._key,Ta.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Et(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xd(r,e){if((r=is(r)).firestore!==e)throw new Et(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=i0(e)}get(e){const t=xd(e,this._firestore),s=new Fre(this._firestore);return this._transaction.lookup([t._key]).then((a=>{if(!a||a.length!==1)return Gt(24041);const n=a[0];if(n.isFoundDocument())return new Sw(this._firestore,s,n.key,n,t.converter);if(n.isNoDocument())return new Sw(this._firestore,s,t._key,null,t.converter);throw Gt(18433,{doc:n})}))}set(e,t,s){const a=xd(e,this._firestore),n=D2(a.converter,t,s),o=C2(this._dataReader,"Transaction.set",a._key,n,a.converter!==null,s);return this._transaction.set(a._key,o),this}update(e,t,s,...a){const n=xd(e,this._firestore);let o;return o=typeof(t=is(t))=="string"||t instanceof a0?lT(this._dataReader,"Transaction.update",n._key,t,s,a):oT(this._dataReader,"Transaction.update",n._key,t),this._transaction.update(n._key,o),this}delete(e){const t=xd(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre extends zre{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xd(e,this._firestore),s=new O2(this._firestore);return super.get(e).then((a=>new Ad(this._firestore,s,t._key,a._document,new nm(!1,!1),t.converter)))}}function Hre(r,e,t){r=Cn(r,Vo);const s=Object.assign(Object.assign({},Bre),t);return(function(n){if(n.maxAttempts<1)throw new Et(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(n,o,l){const c=new bl;return n.asyncQueue.enqueueAndForget((async()=>{const d=await Sre(n);new wre(n.asyncQueue,d,l,o,c).zu()})),c.promise})(s0(r),(a=>e(new Vre(r,a))),s)}function lo(){return new aT("serverTimestamp")}function $re(...r){return new nT("arrayUnion",r)}function Wre(...r){return new iT("arrayRemove",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(r){return s0(r=Cn(r,Vo)),new Ure(r,(e=>Yx(r,e)))}(function(e,t=!0){(function(a){Qm=a})(Bh),bh(new Pd("firestore",((s,{instanceIdentifier:a,options:n})=>{const o=s.getProvider("app").getImmediate(),l=new Vo(new OJ(s.getProvider("auth-internal")),new LJ(o,s.getProvider("app-check-internal")),(function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Et(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $p(d.options.projectId,u)})(o,a),o);return n=Object.assign({useFetchStreams:t},n),l._setSettings(n),l}),"PUBLIC").setMultipleInstances(!0)),pl(WI,qI,e),pl(WI,qI,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7="firebasestorage.googleapis.com",a7="storageBucket",qre=120*1e3,Gre=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Il{constructor(e,t,s=0){super(CN(e),`Firebase Storage: ${t} (${CN(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ca.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return CN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oa;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oa||(oa={}));function CN(r){return"storage/"+r}function pT(){const r="An unknown error occurred, please check the error payload for server response.";return new ca(oa.UNKNOWN,r)}function Yre(r){return new ca(oa.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function Xre(r){return new ca(oa.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Kre(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ca(oa.UNAUTHENTICATED,r)}function Zre(){return new ca(oa.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Qre(r){return new ca(oa.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Jre(){return new ca(oa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ese(){return new ca(oa.CANCELED,"User canceled the upload/download.")}function tse(r){return new ca(oa.INVALID_URL,"Invalid URL '"+r+"'.")}function rse(r){return new ca(oa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function sse(){return new ca(oa.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+a7+"' property when initializing the app?")}function ase(){return new ca(oa.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nse(){return new ca(oa.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ise(r){return new ca(oa.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dj(r){return new ca(oa.INVALID_ARGUMENT,r)}function n7(){return new ca(oa.APP_DELETED,"The Firebase app was deleted.")}function ose(r){return new ca(oa.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pp(r,e){return new ca(oa.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Ng(r){throw new ca(oa.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Ii.makeFromUrl(e,t)}catch{return new Ii(e,"")}if(s.path==="")return s;throw rse(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function n(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+a+o,"i"),c={bucket:1,path:3};function d(T){T.path_=decodeURIComponent(T.path)}const u="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${a}/o${m}`,"i"),b={bucket:1,path:3},x=t===s7?"(?:storage.googleapis.com|storage.cloud.google.com)":t,y="([^?#]*)",w=new RegExp(`^https?://${x}/${a}/${y}`,"i"),N=[{regex:l,indices:c,postModify:n},{regex:p,indices:b,postModify:d},{regex:w,indices:{bucket:1,path:2},postModify:d}];for(let T=0;T<N.length;T++){const E=N[T],I=E.regex.exec(e);if(I){const S=I[E.indices.bucket];let A=I[E.indices.path];A||(A=""),s=new Ii(S,A),E.postModify(s);break}}if(s==null)throw tse(e);return s}}class lse{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cse(r,e,t){let s=1,a=null,n=null,o=!1,l=0;function c(){return l===2}let d=!1;function u(...y){d||(d=!0,e.apply(null,y))}function h(y){a=setTimeout(()=>{a=null,r(p,c())},y)}function m(){n&&clearTimeout(n)}function p(y,...w){if(d){m();return}if(y){m(),u.call(null,y,...w);return}if(c()||o){m(),u.call(null,y,...w);return}s<64&&(s*=2);let N;l===1?(l=2,N=0):N=(s+Math.random())*1e3,h(N)}let b=!1;function x(y){b||(b=!0,m(),!d&&(a!==null?(y||(l=2),clearTimeout(a),h(0)):y||(l=1)))}return h(0),n=setTimeout(()=>{o=!0,x(!0)},t),x}function dse(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function use(r){return r!==void 0}function hse(r){return typeof r=="object"&&!Array.isArray(r)}function xT(r){return typeof r=="string"||r instanceof String}function WD(r){return bT()&&r instanceof Blob}function bT(){return typeof Blob<"u"}function qD(r,e,t,s){if(s<e)throw Dj(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Dj(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function i7(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const a=e(s)+"="+e(r[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var lh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(lh||(lh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fse(r,e){const t=r>=500&&r<600,a=[408,429].indexOf(r)!==-1,n=e.indexOf(r)!==-1;return t||a||n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(e,t,s,a,n,o,l,c,d,u,h,m=!0,p=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=n,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=u,this.connectionFactory_=h,this.retry=m,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Ky(!1,null,!0));return}const n=this.connectionFactory_();this.pendingConnection_=n;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&n.addUploadProgressListener(o),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&n.removeUploadProgressListener(o),this.pendingConnection_=null;const l=n.getErrorCode()===lh.NO_ERROR,c=n.getStatus();if(!l||fse(c,this.additionalRetryCodes_)&&this.retry){const u=n.getErrorCode()===lh.ABORT;s(!1,new Ky(!1,null,u));return}const d=this.successCodes_.indexOf(c)!==-1;s(!0,new Ky(d,n))})},t=(s,a)=>{const n=this.resolve_,o=this.reject_,l=a.connection;if(a.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());use(c)?n(c):n()}catch(c){o(c)}else if(l!==null){const c=pT();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(a.canceled){const c=this.appDelete_?n7():ese();o(c)}else{const c=Jre();o(c)}};this.canceled_?t(!1,new Ky(!1,null,!0)):this.backoffId_=cse(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dse(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ky{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function gse(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function pse(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xse(r,e){e&&(r["X-Firebase-GMPID"]=e)}function bse(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function yse(r,e,t,s,a,n,o=!0,l=!1){const c=i7(r.urlParams),d=r.url+c,u=Object.assign({},r.headers);return xse(u,e),gse(u,t),pse(u,n),bse(u,s),new mse(d,r.method,u,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vse(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wse(...r){const e=vse();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(bT())return new Blob(r);throw new ca(oa.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kse(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _se(r){if(typeof atob>"u")throw ise("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class PN{constructor(e,t){this.data=e,this.contentType=t||null}}function o7(r,e){switch(r){case Po.RAW:return new PN(l7(e));case Po.BASE64:case Po.BASE64URL:return new PN(c7(r,e));case Po.DATA_URL:return new PN(Sse(e),jse(e))}throw pT()}function l7(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const n=s,o=r.charCodeAt(++t);s=65536|(n&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Nse(r){let e;try{e=decodeURIComponent(r)}catch{throw pp(Po.DATA_URL,"Malformed data URL.")}return l7(e)}function c7(r,e){switch(r){case Po.BASE64:{const a=e.indexOf("-")!==-1,n=e.indexOf("_")!==-1;if(a||n)throw pp(r,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Po.BASE64URL:{const a=e.indexOf("+")!==-1,n=e.indexOf("/")!==-1;if(a||n)throw pp(r,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=_se(e)}catch(a){throw a.message.includes("polyfill")?a:pp(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class d7{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw pp(Po.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=Ese(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Sse(r){const e=new d7(r);return e.base64?c7(Po.BASE64,e.rest):Nse(e.rest)}function jse(r){return new d7(r).contentType}function Ese(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t){let s=0,a="";WD(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(WD(this.data_)){const s=this.data_,a=kse(s,e,t);return a===null?null:new md(a)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new md(s,!0)}}static getBlob(...e){if(bT()){const t=e.map(s=>s instanceof md?s.data_:s);return new md(wse.apply(null,t))}else{const t=e.map(o=>xT(o)?o7(Po.RAW,o).data:o.data_);let s=0;t.forEach(o=>{s+=o.byteLength});const a=new Uint8Array(s);let n=0;return t.forEach(o=>{for(let l=0;l<o.length;l++)a[n++]=o[l]}),new md(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(r){let e;try{e=JSON.parse(r)}catch{return null}return hse(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ase(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Tse(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function h7(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cse(r,e){return e}class Bn{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||Cse}}let Zy=null;function Pse(r){return!xT(r)||r.length<2?r:h7(r)}function f7(){if(Zy)return Zy;const r=[];r.push(new Bn("bucket")),r.push(new Bn("generation")),r.push(new Bn("metageneration")),r.push(new Bn("name","fullPath",!0));function e(n,o){return Pse(o)}const t=new Bn("name");t.xform=e,r.push(t);function s(n,o){return o!==void 0?Number(o):o}const a=new Bn("size");return a.xform=s,r.push(a),r.push(new Bn("timeCreated")),r.push(new Bn("updated")),r.push(new Bn("md5Hash",null,!0)),r.push(new Bn("cacheControl",null,!0)),r.push(new Bn("contentDisposition",null,!0)),r.push(new Bn("contentEncoding",null,!0)),r.push(new Bn("contentLanguage",null,!0)),r.push(new Bn("contentType",null,!0)),r.push(new Bn("metadata","customMetadata",!0)),Zy=r,Zy}function Rse(r,e){function t(){const s=r.bucket,a=r.fullPath,n=new Ii(s,a);return e._makeStorageReference(n)}Object.defineProperty(r,"ref",{get:t})}function Ise(r,e,t){const s={};s.type="file";const a=t.length;for(let n=0;n<a;n++){const o=t[n];s[o.local]=o.xform(s,e[o.server])}return Rse(s,r),s}function m7(r,e,t){const s=u7(e);return s===null?null:Ise(r,s,t)}function Dse(r,e,t,s){const a=u7(e);if(a===null||!xT(a.downloadTokens))return null;const n=a.downloadTokens;if(n.length===0)return null;const o=encodeURIComponent;return n.split(",").map(d=>{const u=r.bucket,h=r.fullPath,m="/b/"+o(u)+"/o/"+o(h),p=yT(m,t,s),b=i7({alt:"media",token:d});return p+b})[0]}function Ose(r,e){const t={},s=e.length;for(let a=0;a<s;a++){const n=e[a];n.writable&&(t[n.server]=r[n.local])}return JSON.stringify(t)}class g7{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(r){if(!r)throw pT()}function Mse(r,e){function t(s,a){const n=m7(r,a,e);return p7(n!==null),n}return t}function Fse(r,e){function t(s,a){const n=m7(r,a,e);return p7(n!==null),Dse(n,a,r.host,r._protocol)}return t}function x7(r){function e(t,s){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=Zre():a=Kre():t.getStatus()===402?a=Xre(r.bucket):t.getStatus()===403?a=Qre(r.path):a=s,a.status=t.getStatus(),a.serverResponse=s.serverResponse,a}return e}function Lse(r){const e=x7(r);function t(s,a){let n=e(s,a);return s.getStatus()===404&&(n=Yre(r.path)),n.serverResponse=a.serverResponse,n}return t}function Bse(r,e,t){const s=e.fullServerUrl(),a=yT(s,r.host,r._protocol),n="GET",o=r.maxOperationRetryTime,l=new g7(a,n,Fse(r,t),o);return l.errorHandler=Lse(e),l}function Use(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function zse(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=Use(null,e)),s}function Vse(r,e,t,s,a){const n=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let N="";for(let T=0;T<2;T++)N=N+Math.random().toString().slice(2);return N}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=zse(e,s,a),u=Ose(d,t),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+c+"--",p=md.getBlob(h,s,m);if(p===null)throw ase();const b={name:d.fullPath},x=yT(n,r.host,r._protocol),y="POST",w=r.maxUploadRetryTime,k=new g7(x,y,Mse(r,t),w);return k.urlParams=b,k.headers=o,k.body=p.uploadData(),k.errorHandler=x7(e),k}class Hse{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a,n){if(this.sent_)throw Ng("cannot .send() more than once");if(Zd(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),n!==void 0)for(const o in n)n.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,n[o].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ng("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ng("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ng("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ng("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $se extends Hse{initXhr(){this.xhr_.responseType="text"}}function b7(){return new $se}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this._service=e,t instanceof Ii?this._location=t:this._location=Ii.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _h(e,t)}get root(){const e=new Ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h7(this._location.path)}get storage(){return this._service}get parent(){const e=Ase(this._location.path);if(e===null)return null;const t=new Ii(this._location.bucket,e);return new _h(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw ose(e)}}function Wse(r,e,t){r._throwIfRoot("uploadBytes");const s=Vse(r.storage,r._location,f7(),new md(e,!0),t);return r.storage.makeRequestWithTokens(s,b7).then(a=>({metadata:a,ref:r}))}function qse(r,e,t=Po.RAW,s){r._throwIfRoot("uploadString");const a=o7(t,e),n=Object.assign({},s);return n.contentType==null&&a.contentType!=null&&(n.contentType=a.contentType),Wse(r,a.data,n)}function Gse(r){r._throwIfRoot("getDownloadURL");const e=Bse(r.storage,r._location,f7());return r.storage.makeRequestWithTokens(e,b7).then(t=>{if(t===null)throw nse();return t})}function Yse(r,e){const t=Tse(r._location.path,e),s=new Ii(r._location.bucket,t);return new _h(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xse(r){return/^[A-Za-z]+:\/\//.test(r)}function Kse(r,e){return new _h(r,e)}function y7(r,e){if(r instanceof vT){const t=r;if(t._bucket==null)throw sse();const s=new _h(t,t._bucket);return e!=null?y7(s,e):s}else return e!==void 0?Yse(r,e):r}function Zse(r,e){if(e&&Xse(e)){if(r instanceof vT)return Kse(r,e);throw Dj("To use ref(service, url), the first argument must be a Storage instance.")}else return y7(r,e)}function GD(r,e){const t=e?.[a7];return t==null?null:Ii.makeFromBucketSpec(t,r)}function Qse(r,e,t,s={}){r.host=`${e}:${t}`;const a=Zd(e);a&&(dA(`https://${r.host}/b`),uA("Storage",!0)),r._isUsingEmulator=!0,r._protocol=a?"https":"http";const{mockUserToken:n}=s;n&&(r._overrideAuthToken=typeof n=="string"?n:F8(n,r.app.options.projectId))}class vT{constructor(e,t,s,a,n,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=n,this._isUsingEmulator=o,this._bucket=null,this._host=s7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qre,this._maxUploadRetryTime=Gre,this._requests=new Set,a!=null?this._bucket=Ii.makeFromBucketSpec(a,this._host):this._bucket=GD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ii.makeFromBucketSpec(this._url,e):this._bucket=GD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _h(this,e)}_makeRequest(e,t,s,a,n=!0){if(this._deleted)return new lse(n7());{const o=yse(e,this._appId,s,a,t,this._firebaseVersion,n,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const YD="@firebase/storage",XD="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7="storage";function RN(r,e,t,s){return r=is(r),qse(r,e,t,s)}function IN(r){return r=is(r),Gse(r)}function DN(r,e){return r=is(r),Zse(r,e)}function Jse(r=mA(),e){r=is(r);const s=h2(r,v7).getImmediate({identifier:e}),a=D8("storage");return a&&eae(s,...a),s}function eae(r,e,t,s={}){Qse(r,e,t,s)}function tae(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new vT(t,s,a,e,Bh)}function rae(){bh(new Pd(v7,tae,"PUBLIC").setMultipleInstances(!0)),pl(YD,XD,""),pl(YD,XD,"esm2017")}rae();let Ye,ve,O1;try{const r=U8({apiKey:"AIzaSyCRWR2Z2xlmcGBSVHEbbkIm9nL_qpTGSno",authDomain:"foremade-backend.firebaseapp.com",projectId:"foremade-backend",storageBucket:"foremade-backend.firebasestorage.app",messagingSenderId:"957543574407",appId:"1:957543574407:web:315572254cc0ba6b80c122"});Ye=Ux(r),ve=Tre(r),O1=Jse(r),mB(Ye,xB).then(()=>console.log("User auth persistence set to local")).catch(e=>console.error("Error setting user auth persistence:",e)),console.log("Firebase initialized successfully for users")}catch(r){throw console.error("Firebase initialization error for users:",r),new Error("Failed to initialize Firebase for users. Check your configuration.")}const w7=R.createContext(),Nh=()=>{const r=R.useContext(w7);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},sae=({children:r})=>{const[e,t]=R.useState(null),[s,a]=R.useState(null),[n,o]=R.useState(!0);R.useEffect(()=>{console.log("Setting up auth provider");const c=Tl(Ye,async d=>{if(console.log("Auth state changed in context:",d?.uid),t(d),o(!1),d)try{const u=await wt(qe(ve,"users",d.uid));u.exists()?a(u.data()):a(null)}catch(u){console.error("Error fetching user profile:",u),a(null)}else a(null)});return()=>{console.log("Cleaning up auth provider"),c()}},[]);const l={user:e,userProfile:s,loading:n,isAuthenticated:!!e};return i.jsx(w7.Provider,{value:l,children:!n&&r})};function k7(r,e){return function(){return r.apply(e,arguments)}}const{toString:aae}=Object.prototype,{getPrototypeOf:wT}=Object,{iterator:M2,toStringTag:_7}=Symbol,F2=(r=>e=>{const t=aae.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Wo=r=>(r=r.toLowerCase(),e=>F2(e)===r),L2=r=>e=>typeof e===r,{isArray:o0}=Array,Yp=L2("undefined");function Xx(r){return r!==null&&!Yp(r)&&r.constructor!==null&&!Yp(r.constructor)&&di(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const N7=Wo("ArrayBuffer");function nae(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&N7(r.buffer),e}const iae=L2("string"),di=L2("function"),S7=L2("number"),Kx=r=>r!==null&&typeof r=="object",oae=r=>r===!0||r===!1,M1=r=>{if(F2(r)!=="object")return!1;const e=wT(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_7 in r)&&!(M2 in r)},lae=r=>{if(!Kx(r)||Xx(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},cae=Wo("Date"),dae=Wo("File"),uae=Wo("Blob"),hae=Wo("FileList"),fae=r=>Kx(r)&&di(r.pipe),mae=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||di(r.append)&&((e=F2(r))==="formdata"||e==="object"&&di(r.toString)&&r.toString()==="[object FormData]"))},gae=Wo("URLSearchParams"),[pae,xae,bae,yae]=["ReadableStream","Request","Response","Headers"].map(Wo),vae=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zx(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,a;if(typeof r!="object"&&(r=[r]),o0(r))for(s=0,a=r.length;s<a;s++)e.call(null,r[s],s,r);else{if(Xx(r))return;const n=t?Object.getOwnPropertyNames(r):Object.keys(r),o=n.length;let l;for(s=0;s<o;s++)l=n[s],e.call(null,r[l],l,r)}}function j7(r,e){if(Xx(r))return null;e=e.toLowerCase();const t=Object.keys(r);let s=t.length,a;for(;s-- >0;)if(a=t[s],e===a.toLowerCase())return a;return null}const Zu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,E7=r=>!Yp(r)&&r!==Zu;function Oj(){const{caseless:r}=E7(this)&&this||{},e={},t=(s,a)=>{const n=r&&j7(e,a)||a;M1(e[n])&&M1(s)?e[n]=Oj(e[n],s):M1(s)?e[n]=Oj({},s):o0(s)?e[n]=s.slice():e[n]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Zx(arguments[s],t);return e}const wae=(r,e,t,{allOwnKeys:s}={})=>(Zx(e,(a,n)=>{t&&di(a)?r[n]=k7(a,t):r[n]=a},{allOwnKeys:s}),r),kae=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),_ae=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Nae=(r,e,t,s)=>{let a,n,o;const l={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),n=a.length;n-- >0;)o=a[n],(!s||s(o,r,e))&&!l[o]&&(e[o]=r[o],l[o]=!0);r=t!==!1&&wT(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Sae=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},jae=r=>{if(!r)return null;if(o0(r))return r;let e=r.length;if(!S7(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Eae=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&wT(Uint8Array)),Aae=(r,e)=>{const s=(r&&r[M2]).call(r);let a;for(;(a=s.next())&&!a.done;){const n=a.value;e.call(r,n[0],n[1])}},Tae=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},Cae=Wo("HTMLFormElement"),Pae=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,a){return s.toUpperCase()+a}),KD=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Rae=Wo("RegExp"),A7=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};Zx(t,(a,n)=>{let o;(o=e(a,n,r))!==!1&&(s[n]=o||a)}),Object.defineProperties(r,s)},Iae=r=>{A7(r,(e,t)=>{if(di(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(di(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Dae=(r,e)=>{const t={},s=a=>{a.forEach(n=>{t[n]=!0})};return o0(r)?s(r):s(String(r).split(e)),t},Oae=()=>{},Mae=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Fae(r){return!!(r&&di(r.append)&&r[_7]==="FormData"&&r[M2])}const Lae=r=>{const e=new Array(10),t=(s,a)=>{if(Kx(s)){if(e.indexOf(s)>=0)return;if(Xx(s))return s;if(!("toJSON"in s)){e[a]=s;const n=o0(s)?[]:{};return Zx(s,(o,l)=>{const c=t(o,a+1);!Yp(c)&&(n[l]=c)}),e[a]=void 0,n}}return s};return t(r,0)},Bae=Wo("AsyncFunction"),Uae=r=>r&&(Kx(r)||di(r))&&di(r.then)&&di(r.catch),T7=((r,e)=>r?setImmediate:e?((t,s)=>(Zu.addEventListener("message",({source:a,data:n})=>{a===Zu&&n===t&&s.length&&s.shift()()},!1),a=>{s.push(a),Zu.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",di(Zu.postMessage)),zae=typeof queueMicrotask<"u"?queueMicrotask.bind(Zu):typeof process<"u"&&process.nextTick||T7,Vae=r=>r!=null&&di(r[M2]),Je={isArray:o0,isArrayBuffer:N7,isBuffer:Xx,isFormData:mae,isArrayBufferView:nae,isString:iae,isNumber:S7,isBoolean:oae,isObject:Kx,isPlainObject:M1,isEmptyObject:lae,isReadableStream:pae,isRequest:xae,isResponse:bae,isHeaders:yae,isUndefined:Yp,isDate:cae,isFile:dae,isBlob:uae,isRegExp:Rae,isFunction:di,isStream:fae,isURLSearchParams:gae,isTypedArray:Eae,isFileList:hae,forEach:Zx,merge:Oj,extend:wae,trim:vae,stripBOM:kae,inherits:_ae,toFlatObject:Nae,kindOf:F2,kindOfTest:Wo,endsWith:Sae,toArray:jae,forEachEntry:Aae,matchAll:Tae,isHTMLForm:Cae,hasOwnProperty:KD,hasOwnProp:KD,reduceDescriptors:A7,freezeMethods:Iae,toObjectSet:Dae,toCamelCase:Pae,noop:Oae,toFiniteNumber:Mae,findKey:j7,global:Zu,isContextDefined:E7,isSpecCompliantForm:Fae,toJSONObject:Lae,isAsyncFn:Bae,isThenable:Uae,setImmediate:T7,asap:zae,isIterable:Vae};function ur(r,e,t,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Je.inherits(ur,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Je.toJSONObject(this.config),code:this.code,status:this.status}}});const C7=ur.prototype,P7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{P7[r]={value:r}});Object.defineProperties(ur,P7);Object.defineProperty(C7,"isAxiosError",{value:!0});ur.from=(r,e,t,s,a,n)=>{const o=Object.create(C7);return Je.toFlatObject(r,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ur.call(o,r.message,e,t,s,a),o.cause=r,o.name=r.name,n&&Object.assign(o,n),o};const Hae=null;function Mj(r){return Je.isPlainObject(r)||Je.isArray(r)}function R7(r){return Je.endsWith(r,"[]")?r.slice(0,-2):r}function ZD(r,e,t){return r?r.concat(e).map(function(a,n){return a=R7(a),!t&&n?"["+a+"]":a}).join(t?".":""):e}function $ae(r){return Je.isArray(r)&&!r.some(Mj)}const Wae=Je.toFlatObject(Je,{},null,function(e){return/^is[A-Z]/.test(e)});function B2(r,e,t){if(!Je.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Je.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!Je.isUndefined(y[x])});const s=t.metaTokens,a=t.visitor||u,n=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Je.isSpecCompliantForm(e);if(!Je.isFunction(a))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(Je.isDate(b))return b.toISOString();if(Je.isBoolean(b))return b.toString();if(!c&&Je.isBlob(b))throw new ur("Blob is not supported. Use a Buffer instead.");return Je.isArrayBuffer(b)||Je.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,x,y){let w=b;if(b&&!y&&typeof b=="object"){if(Je.endsWith(x,"{}"))x=s?x:x.slice(0,-2),b=JSON.stringify(b);else if(Je.isArray(b)&&$ae(b)||(Je.isFileList(b)||Je.endsWith(x,"[]"))&&(w=Je.toArray(b)))return x=R7(x),w.forEach(function(N,T){!(Je.isUndefined(N)||N===null)&&e.append(o===!0?ZD([x],T,n):o===null?x:x+"[]",d(N))}),!1}return Mj(b)?!0:(e.append(ZD(y,x,n),d(b)),!1)}const h=[],m=Object.assign(Wae,{defaultVisitor:u,convertValue:d,isVisitable:Mj});function p(b,x){if(!Je.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(b),Je.forEach(b,function(w,k){(!(Je.isUndefined(w)||w===null)&&a.call(e,w,Je.isString(k)?k.trim():k,x,m))===!0&&p(w,x?x.concat(k):[k])}),h.pop()}}if(!Je.isObject(r))throw new TypeError("data must be an object");return p(r),e}function QD(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function kT(r,e){this._pairs=[],r&&B2(r,this,e)}const I7=kT.prototype;I7.append=function(e,t){this._pairs.push([e,t])};I7.toString=function(e){const t=e?function(s){return e.call(this,s,QD)}:QD;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function qae(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function D7(r,e,t){if(!e)return r;const s=t&&t.encode||qae;Je.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let n;if(a?n=a(e,t):n=Je.isURLSearchParams(e)?e.toString():new kT(e,t).toString(s),n){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+n}return r}class JD{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Je.forEach(this.handlers,function(s){s!==null&&e(s)})}}const O7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gae=typeof URLSearchParams<"u"?URLSearchParams:kT,Yae=typeof FormData<"u"?FormData:null,Xae=typeof Blob<"u"?Blob:null,Kae={isBrowser:!0,classes:{URLSearchParams:Gae,FormData:Yae,Blob:Xae},protocols:["http","https","file","blob","url","data"]},_T=typeof window<"u"&&typeof document<"u",Fj=typeof navigator=="object"&&navigator||void 0,Zae=_T&&(!Fj||["ReactNative","NativeScript","NS"].indexOf(Fj.product)<0),Qae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Jae=_T&&window.location.href||"http://localhost",ene=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_T,hasStandardBrowserEnv:Zae,hasStandardBrowserWebWorkerEnv:Qae,navigator:Fj,origin:Jae},Symbol.toStringTag,{value:"Module"})),jn={...ene,...Kae};function tne(r,e){return B2(r,new jn.classes.URLSearchParams,{visitor:function(t,s,a,n){return jn.isNode&&Je.isBuffer(t)?(this.append(s,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...e})}function rne(r){return Je.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sne(r){const e={},t=Object.keys(r);let s;const a=t.length;let n;for(s=0;s<a;s++)n=t[s],e[n]=r[n];return e}function M7(r){function e(t,s,a,n){let o=t[n++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=n>=t.length;return o=!o&&Je.isArray(a)?a.length:o,c?(Je.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!Je.isObject(a[o]))&&(a[o]=[]),e(t,s,a[o],n)&&Je.isArray(a[o])&&(a[o]=sne(a[o])),!l)}if(Je.isFormData(r)&&Je.isFunction(r.entries)){const t={};return Je.forEachEntry(r,(s,a)=>{e(rne(s),a,t,0)}),t}return null}function ane(r,e,t){if(Je.isString(r))try{return(e||JSON.parse)(r),Je.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const Qx={transitional:O7,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,n=Je.isObject(e);if(n&&Je.isHTMLForm(e)&&(e=new FormData(e)),Je.isFormData(e))return a?JSON.stringify(M7(e)):e;if(Je.isArrayBuffer(e)||Je.isBuffer(e)||Je.isStream(e)||Je.isFile(e)||Je.isBlob(e)||Je.isReadableStream(e))return e;if(Je.isArrayBufferView(e))return e.buffer;if(Je.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return tne(e,this.formSerializer).toString();if((l=Je.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return B2(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return n||a?(t.setContentType("application/json",!1),ane(e)):e}],transformResponse:[function(e){const t=this.transitional||Qx.transitional,s=t&&t.forcedJSONParsing,a=this.responseType==="json";if(Je.isResponse(e)||Je.isReadableStream(e))return e;if(e&&Je.isString(e)&&(s&&!this.responseType||a)){const o=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?ur.from(l,ur.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Je.forEach(["delete","get","head","post","put","patch"],r=>{Qx.headers[r]={}});const nne=Je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ine=r=>{const e={};let t,s,a;return r&&r.split(`
`).forEach(function(o){a=o.indexOf(":"),t=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!t||e[t]&&nne[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},e6=Symbol("internals");function Sg(r){return r&&String(r).trim().toLowerCase()}function F1(r){return r===!1||r==null?r:Je.isArray(r)?r.map(F1):String(r)}function one(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const lne=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function ON(r,e,t,s,a){if(Je.isFunction(s))return s.call(this,e,t);if(a&&(e=t),!!Je.isString(e)){if(Je.isString(s))return e.indexOf(s)!==-1;if(Je.isRegExp(s))return s.test(e)}}function cne(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function dne(r,e){const t=Je.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(a,n,o){return this[s].call(this,e,a,n,o)},configurable:!0})})}let ui=class{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function n(l,c,d){const u=Sg(c);if(!u)throw new Error("header name must be a non-empty string");const h=Je.findKey(a,u);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||c]=F1(l))}const o=(l,c)=>Je.forEach(l,(d,u)=>n(d,u,c));if(Je.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Je.isString(e)&&(e=e.trim())&&!lne(e))o(ine(e),t);else if(Je.isObject(e)&&Je.isIterable(e)){let l={},c,d;for(const u of e){if(!Je.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?Je.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,t)}else e!=null&&n(t,e,s);return this}get(e,t){if(e=Sg(e),e){const s=Je.findKey(this,e);if(s){const a=this[s];if(!t)return a;if(t===!0)return one(a);if(Je.isFunction(t))return t.call(this,a,s);if(Je.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Sg(e),e){const s=Je.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||ON(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let a=!1;function n(o){if(o=Sg(o),o){const l=Je.findKey(s,o);l&&(!t||ON(s,s[l],l,t))&&(delete s[l],a=!0)}}return Je.isArray(e)?e.forEach(n):n(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const n=t[s];(!e||ON(this,this[n],n,e,!0))&&(delete this[n],a=!0)}return a}normalize(e){const t=this,s={};return Je.forEach(this,(a,n)=>{const o=Je.findKey(s,n);if(o){t[o]=F1(a),delete t[n];return}const l=e?cne(n):String(n).trim();l!==n&&delete t[n],t[l]=F1(a),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Je.forEach(this,(s,a)=>{s!=null&&s!==!1&&(t[a]=e&&Je.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[e6]=this[e6]={accessors:{}}).accessors,a=this.prototype;function n(o){const l=Sg(o);s[l]||(dne(a,o),s[l]=!0)}return Je.isArray(e)?e.forEach(n):n(e),this}};ui.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Je.reduceDescriptors(ui.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});Je.freezeMethods(ui);function MN(r,e){const t=this||Qx,s=e||t,a=ui.from(s.headers);let n=s.data;return Je.forEach(r,function(l){n=l.call(t,n,a.normalize(),e?e.status:void 0)}),a.normalize(),n}function F7(r){return!!(r&&r.__CANCEL__)}function l0(r,e,t){ur.call(this,r??"canceled",ur.ERR_CANCELED,e,t),this.name="CanceledError"}Je.inherits(l0,ur,{__CANCEL__:!0});function L7(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new ur("Request failed with status code "+t.status,[ur.ERR_BAD_REQUEST,ur.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function une(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function hne(r,e){r=r||10;const t=new Array(r),s=new Array(r);let a=0,n=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=s[n];o||(o=d),t[a]=c,s[a]=d;let h=n,m=0;for(;h!==a;)m+=t[h++],h=h%r;if(a=(a+1)%r,a===n&&(n=(n+1)%r),d-o<e)return;const p=u&&d-u;return p?Math.round(m*1e3/p):void 0}}function fne(r,e){let t=0,s=1e3/e,a,n;const o=(d,u=Date.now())=>{t=u,a=null,n&&(clearTimeout(n),n=null),r(...d)};return[(...d)=>{const u=Date.now(),h=u-t;h>=s?o(d,u):(a=d,n||(n=setTimeout(()=>{n=null,o(a)},s-h)))},()=>a&&o(a)]}const jw=(r,e,t=3)=>{let s=0;const a=hne(50,250);return fne(n=>{const o=n.loaded,l=n.lengthComputable?n.total:void 0,c=o-s,d=a(c),u=o<=l;s=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:n,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(h)},t)},t6=(r,e)=>{const t=r!=null;return[s=>e[0]({lengthComputable:t,total:r,loaded:s}),e[1]]},r6=r=>(...e)=>Je.asap(()=>r(...e)),mne=jn.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,jn.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(jn.origin),jn.navigator&&/(msie|trident)/i.test(jn.navigator.userAgent)):()=>!0,gne=jn.hasStandardBrowserEnv?{write(r,e,t,s,a,n){const o=[r+"="+encodeURIComponent(e)];Je.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Je.isString(s)&&o.push("path="+s),Je.isString(a)&&o.push("domain="+a),n===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pne(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function xne(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function B7(r,e,t){let s=!pne(e);return r&&(s||t==!1)?xne(r,e):e}const s6=r=>r instanceof ui?{...r}:r;function Sh(r,e){e=e||{};const t={};function s(d,u,h,m){return Je.isPlainObject(d)&&Je.isPlainObject(u)?Je.merge.call({caseless:m},d,u):Je.isPlainObject(u)?Je.merge({},u):Je.isArray(u)?u.slice():u}function a(d,u,h,m){if(Je.isUndefined(u)){if(!Je.isUndefined(d))return s(void 0,d,h,m)}else return s(d,u,h,m)}function n(d,u){if(!Je.isUndefined(u))return s(void 0,u)}function o(d,u){if(Je.isUndefined(u)){if(!Je.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,h){if(h in e)return s(d,u);if(h in r)return s(void 0,d)}const c={url:n,method:n,data:n,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>a(s6(d),s6(u),h,!0)};return Je.forEach(Object.keys({...r,...e}),function(u){const h=c[u]||a,m=h(r[u],e[u],u);Je.isUndefined(m)&&h!==l||(t[u]=m)}),t}const U7=r=>{const e=Sh({},r);let{data:t,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:n,headers:o,auth:l}=e;e.headers=o=ui.from(o),e.url=D7(B7(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Je.isFormData(t)){if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(jn.hasStandardBrowserEnv&&(s&&Je.isFunction(s)&&(s=s(e)),s||s!==!1&&mne(e.url))){const d=a&&n&&gne.read(n);d&&o.set(a,d)}return e},bne=typeof XMLHttpRequest<"u",yne=bne&&function(r){return new Promise(function(t,s){const a=U7(r);let n=a.data;const o=ui.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,h,m,p,b;function x(){p&&p(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function w(){if(!y)return;const N=ui.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:N,config:r,request:y};L7(function(S){t(S),x()},function(S){s(S),x()},E),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(s(new ur("Request aborted",ur.ECONNABORTED,r,y)),y=null)},y.onerror=function(){s(new ur("Network Error",ur.ERR_NETWORK,r,y)),y=null},y.ontimeout=function(){let T=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||O7;a.timeoutErrorMessage&&(T=a.timeoutErrorMessage),s(new ur(T,E.clarifyTimeoutError?ur.ETIMEDOUT:ur.ECONNABORTED,r,y)),y=null},n===void 0&&o.setContentType(null),"setRequestHeader"in y&&Je.forEach(o.toJSON(),function(T,E){y.setRequestHeader(E,T)}),Je.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),l&&l!=="json"&&(y.responseType=a.responseType),d&&([m,b]=jw(d,!0),y.addEventListener("progress",m)),c&&y.upload&&([h,p]=jw(c),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(u=N=>{y&&(s(!N||N.type?new l0(null,r,y):N),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const k=une(a.url);if(k&&jn.protocols.indexOf(k)===-1){s(new ur("Unsupported protocol "+k+":",ur.ERR_BAD_REQUEST,r));return}y.send(n||null)})},vne=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let s=new AbortController,a;const n=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof ur?u:new l0(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,n(new ur(`timeout ${e} of ms exceeded`,ur.ETIMEDOUT))},e);const l=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(d=>{d.unsubscribe?d.unsubscribe(n):d.removeEventListener("abort",n)}),r=null)};r.forEach(d=>d.addEventListener("abort",n));const{signal:c}=s;return c.unsubscribe=()=>Je.asap(l),c}},wne=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let s=0,a;for(;s<t;)a=s+e,yield r.slice(s,a),s=a},kne=async function*(r,e){for await(const t of _ne(r))yield*wne(t,e)},_ne=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},a6=(r,e,t,s)=>{const a=kne(r,e);let n=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let h=u.byteLength;if(t){let m=n+=h;t(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},U2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",z7=U2&&typeof ReadableStream=="function",Nne=U2&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),V7=(r,...e)=>{try{return!!r(...e)}catch{return!1}},Sne=z7&&V7(()=>{let r=!1;const e=new Request(jn.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),n6=64*1024,Lj=z7&&V7(()=>Je.isReadableStream(new Response("").body)),Ew={stream:Lj&&(r=>r.body)};U2&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ew[e]&&(Ew[e]=Je.isFunction(r[e])?t=>t[e]():(t,s)=>{throw new ur(`Response type '${e}' is not supported`,ur.ERR_NOT_SUPPORT,s)})})})(new Response);const jne=async r=>{if(r==null)return 0;if(Je.isBlob(r))return r.size;if(Je.isSpecCompliantForm(r))return(await new Request(jn.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Je.isArrayBufferView(r)||Je.isArrayBuffer(r))return r.byteLength;if(Je.isURLSearchParams(r)&&(r=r+""),Je.isString(r))return(await Nne(r)).byteLength},Ene=async(r,e)=>{const t=Je.toFiniteNumber(r.getContentLength());return t??jne(e)},Ane=U2&&(async r=>{let{url:e,method:t,data:s,signal:a,cancelToken:n,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:m}=U7(r);d=d?(d+"").toLowerCase():"text";let p=vne([a,n&&n.toAbortSignal()],o),b;const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(c&&Sne&&t!=="get"&&t!=="head"&&(y=await Ene(u,s))!==0){let E=new Request(e,{method:"POST",body:s,duplex:"half"}),I;if(Je.isFormData(s)&&(I=E.headers.get("content-type"))&&u.setContentType(I),E.body){const[S,A]=t6(y,jw(r6(c)));s=a6(E.body,n6,S,A)}}Je.isString(h)||(h=h?"include":"omit");const w="credentials"in Request.prototype;b=new Request(e,{...m,signal:p,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:w?h:void 0});let k=await fetch(b,m);const N=Lj&&(d==="stream"||d==="response");if(Lj&&(l||N&&x)){const E={};["status","statusText","headers"].forEach(P=>{E[P]=k[P]});const I=Je.toFiniteNumber(k.headers.get("content-length")),[S,A]=l&&t6(I,jw(r6(l),!0))||[];k=new Response(a6(k.body,n6,S,()=>{A&&A(),x&&x()}),E)}d=d||"text";let T=await Ew[Je.findKey(Ew,d)||"text"](k,r);return!N&&x&&x(),await new Promise((E,I)=>{L7(E,I,{data:T,headers:ui.from(k.headers),status:k.status,statusText:k.statusText,config:r,request:b})})}catch(w){throw x&&x(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new ur("Network Error",ur.ERR_NETWORK,r,b),{cause:w.cause||w}):ur.from(w,w&&w.code,r,b)}}),Bj={http:Hae,xhr:yne,fetch:Ane};Je.forEach(Bj,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const i6=r=>`- ${r}`,Tne=r=>Je.isFunction(r)||r===null||r===!1,H7={getAdapter:r=>{r=Je.isArray(r)?r:[r];const{length:e}=r;let t,s;const a={};for(let n=0;n<e;n++){t=r[n];let o;if(s=t,!Tne(t)&&(s=Bj[(o=String(t)).toLowerCase()],s===void 0))throw new ur(`Unknown adapter '${o}'`);if(s)break;a[o||"#"+n]=s}if(!s){const n=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?n.length>1?`since :
`+n.map(i6).join(`
`):" "+i6(n[0]):"as no adapter specified";throw new ur("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Bj};function FN(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new l0(null,r)}function o6(r){return FN(r),r.headers=ui.from(r.headers),r.data=MN.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),H7.getAdapter(r.adapter||Qx.adapter)(r).then(function(s){return FN(r),s.data=MN.call(r,r.transformResponse,s),s.headers=ui.from(s.headers),s},function(s){return F7(s)||(FN(r),s&&s.response&&(s.response.data=MN.call(r,r.transformResponse,s.response),s.response.headers=ui.from(s.response.headers))),Promise.reject(s)})}const $7="1.11.0",z2={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{z2[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const l6={};z2.transitional=function(e,t,s){function a(n,o){return"[Axios v"+$7+"] Transitional option '"+n+"'"+o+(s?". "+s:"")}return(n,o,l)=>{if(e===!1)throw new ur(a(o," has been removed"+(t?" in "+t:"")),ur.ERR_DEPRECATED);return t&&!l6[o]&&(l6[o]=!0,console.warn(a(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(n,o,l):!0}};z2.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Cne(r,e,t){if(typeof r!="object")throw new ur("options must be an object",ur.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let a=s.length;for(;a-- >0;){const n=s[a],o=e[n];if(o){const l=r[n],c=l===void 0||o(l,n,r);if(c!==!0)throw new ur("option "+n+" must be "+c,ur.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ur("Unknown option "+n,ur.ERR_BAD_OPTION)}}const L1={assertOptions:Cne,validators:z2},al=L1.validators;let ch=class{constructor(e){this.defaults=e||{},this.interceptors={request:new JD,response:new JD}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const n=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?n&&!String(s.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+n):s.stack=n}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Sh(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:n}=t;s!==void 0&&L1.assertOptions(s,{silentJSONParsing:al.transitional(al.boolean),forcedJSONParsing:al.transitional(al.boolean),clarifyTimeoutError:al.transitional(al.boolean)},!1),a!=null&&(Je.isFunction(a)?t.paramsSerializer={serialize:a}:L1.assertOptions(a,{encode:al.function,serialize:al.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),L1.assertOptions(t,{baseUrl:al.spelling("baseURL"),withXsrfToken:al.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=n&&Je.merge(n.common,n[t.method]);n&&Je.forEach(["delete","get","head","post","put","patch","common"],b=>{delete n[b]}),t.headers=ui.concat(o,n);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,h=0,m;if(!c){const b=[o6.bind(this),void 0];for(b.unshift(...l),b.push(...d),m=b.length,u=Promise.resolve(t);h<m;)u=u.then(b[h++],b[h++]);return u}m=l.length;let p=t;for(h=0;h<m;){const b=l[h++],x=l[h++];try{p=b(p)}catch(y){x.call(this,y);break}}try{u=o6.call(this,p)}catch(b){return Promise.reject(b)}for(h=0,m=d.length;h<m;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=Sh(this.defaults,e);const t=B7(e.baseURL,e.url,e.allowAbsoluteUrls);return D7(t,e.params,e.paramsSerializer)}};Je.forEach(["delete","get","head","options"],function(e){ch.prototype[e]=function(t,s){return this.request(Sh(s||{},{method:e,url:t,data:(s||{}).data}))}});Je.forEach(["post","put","patch"],function(e){function t(s){return function(n,o,l){return this.request(Sh(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}ch.prototype[e]=t(),ch.prototype[e+"Form"]=t(!0)});let Pne=class W7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(n){t=n});const s=this;this.promise.then(a=>{if(!s._listeners)return;let n=s._listeners.length;for(;n-- >0;)s._listeners[n](a);s._listeners=null}),this.promise.then=a=>{let n;const o=new Promise(l=>{s.subscribe(l),n=l}).then(a);return o.cancel=function(){s.unsubscribe(n)},o},e(function(n,o,l){s.reason||(s.reason=new l0(n,o,l),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new W7(function(a){e=a}),cancel:e}}};function Rne(r){return function(t){return r.apply(null,t)}}function Ine(r){return Je.isObject(r)&&r.isAxiosError===!0}const Uj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uj).forEach(([r,e])=>{Uj[e]=r});function q7(r){const e=new ch(r),t=k7(ch.prototype.request,e);return Je.extend(t,ch.prototype,e,{allOwnKeys:!0}),Je.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return q7(Sh(r,a))},t}const jr=q7(Qx);jr.Axios=ch;jr.CanceledError=l0;jr.CancelToken=Pne;jr.isCancel=F7;jr.VERSION=$7;jr.toFormData=B2;jr.AxiosError=ur;jr.Cancel=jr.CanceledError;jr.all=function(e){return Promise.all(e)};jr.spread=Rne;jr.isAxiosError=Ine;jr.mergeConfig=Sh;jr.AxiosHeaders=ui;jr.formToJSON=r=>M7(Je.isHTMLForm(r)?new FormData(r):r);jr.getAdapter=H7.getAdapter;jr.HttpStatusCode=Uj;jr.default=jr;const{Axios:xPe,AxiosError:bPe,CanceledError:yPe,isCancel:vPe,CancelToken:wPe,VERSION:kPe,all:_Pe,Cancel:NPe,isAxiosError:SPe,spread:jPe,toFormData:EPe,AxiosHeaders:APe,HttpStatusCode:TPe,formToJSON:CPe,getAdapter:PPe,mergeConfig:RPe}=jr,G7=R.createContext(),Jx=()=>R.useContext(G7),Dne=({children:r})=>{const[e,t]=R.useState("USD"),[s,a]=R.useState({NGN:1,USD:62e-5,GBP:48e-5,JPY:.099,GHS:.0096,EUR:58e-5}),[n,o]=R.useState([{code:"USD",label:"$ USD"},{code:"NGN",label:" NGN"},{code:"GBP",label:" GBP"},{code:"JPY",label:" JPY"},{code:"GHS",label:" GHS"},{code:"EUR",label:" EUR"},{code:"CAD",label:"$ CAD"},{code:"AUD",label:"$ AUD"},{code:"CNY",label:" CNY"},{code:"INR",label:" INR"}]),[l,c]=R.useState(!0);R.useEffect(()=>{(async()=>{let m="US",p="USD";console.log("Starting currency detection via IP...");try{m=(await jr.get("https://ipapi.co/json/",{timeout:5e3})).data.country_code?.toUpperCase()||"US",console.log("Country from IP:",m)}catch(x){console.error("IP geolocation error:",x.message)}p={NG:"NGN",GB:"GBP",US:"USD",JP:"JPY",GH:"GHS",DE:"EUR",FR:"EUR",IT:"EUR",ES:"EUR",CA:"CAD",AU:"AUD",CN:"CNY",IN:"INR",BR:"BRL",ZA:"ZAR",KE:"KES",MX:"MXN",RU:"RUB",SG:"SGD",AE:"AED",SA:"SAR",KR:"KRW",NZ:"NZD",CH:"CHF",SE:"SEK",NO:"NOK",DK:"DKK",EG:"EGP",TR:"TRY"}[m]||"USD",console.log("Set currency to:",p),t(p);try{console.log("Fetching exchange rates...");const x=qe(ve,"currencyRates","latest"),y=await wt(x);if(y.exists()&&y.data().updatedAt?.toDate()>new Date(Date.now()-864e5))a(y.data().rates),o(y.data().availableCurrencies||n),console.log("Loaded rates from Firestore:",y.data().rates);else{const k=(await jr.get("https://v6.exchangerate-api.com/v6/YOUR_API_KEY/latest/NGN",{timeout:5e3})).data.conversion_rates,N=Object.keys(k).sort().map(T=>({code:T,label:new Intl.NumberFormat("en-US",{style:"currency",currency:T}).format(0).replace(/[0-9.,]/g,"")+` ${T}`}));await gr(x,{base:"NGN",rates:k,availableCurrencies:N,updatedAt:lo()}),a(k),o(N),console.log("Fetched rates from API:",k)}}catch(x){console.error("Exchange rate fetch error:",x.message),a({NGN:1,USD:62e-5,GBP:48e-5,JPY:.099,GHS:.0096,EUR:58e-5})}finally{c(!1),console.log("Currency detection complete")}})()},[]);const d=h=>{if(!s[e])return console.warn(`Rate not found for ${e}, using NGN`),new Intl.NumberFormat("en-US",{style:"currency",currency:"NGN"}).format(h);const m=h*s[e];return new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(m)},u=h=>{s[h]?(console.log("Changing currency to:",h),t(h)):console.warn(`No rate for ${h}`)};return i.jsx(G7.Provider,{value:{currency:e,rates:s,convertPrice:d,changeCurrency:u,loading:l,availableCurrencies:n},children:r})};function One(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}One(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var NT=r=>typeof r=="number"&&!isNaN(r),Xp=r=>typeof r=="string",Y7=r=>typeof r=="function",Mne=r=>Xp(r)||NT(r),Fne=r=>R.isValidElement(r)||Xp(r)||Y7(r)||NT(r),Lne=1,X7=()=>`${Lne++}`,kl=new Map,zj=[],c6=new Set,K7=()=>kl.size>0,Bne=(r,{containerId:e})=>{var t;return(t=kl.get(e||1))==null?void 0:t.toasts.get(r)};function Une(r,e){var t;if(e)return!!((t=kl.get(e))!=null&&t.isToastActive(r));let s=!1;return kl.forEach(a=>{a.isToastActive(r)&&(s=!0)}),s}function zne(r){if(!K7()){zj=zj.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||Mne(r))kl.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=kl.get(r.containerId);e?e.removeToast(r.id):kl.forEach(t=>{t.removeToast(r.id)})}}var Vne=(r={})=>{kl.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function Hne(r,e){Fne(r)&&(K7()||zj.push({content:r,options:e}),kl.forEach(t=>{t.buildToast(r,e)}))}function Z7(r,e){kl.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(r,e?.id)})}function $ne(r){return c6.add(r),()=>{c6.delete(r)}}function Wne(r){return r&&(Xp(r.toastId)||NT(r.toastId))?r.toastId:X7()}function eb(r,e){return Hne(r,e),e.toastId}function V2(r,e){return{...e,type:e&&e.type||r,toastId:Wne(e)}}function H2(r){return(e,t)=>eb(e,V2(r,t))}function Ke(r,e){return eb(r,V2("default",e))}Ke.loading=(r,e)=>eb(r,V2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function qne(r,{pending:e,error:t,success:s},a){let n;e&&(n=Xp(e)?Ke.loading(e,a):Ke.loading(e.render,{...a,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,u,h)=>{if(u==null){Ke.dismiss(n);return}let m={type:d,...o,...a,data:h},p=Xp(u)?{render:u}:u;return n?Ke.update(n,{...m,...p}):Ke(p.render,{...m,...p}),h},c=Y7(r)?r():r;return c.then(d=>l("success",s,d)).catch(d=>l("error",t,d)),c}Ke.promise=qne;Ke.success=H2("success");Ke.info=H2("info");Ke.error=H2("error");Ke.warning=H2("warning");Ke.warn=Ke.warning;Ke.dark=(r,e)=>eb(r,V2("default",{theme:"dark",...e}));function Gne(r){zne(r)}Ke.dismiss=Gne;Ke.clearWaitingQueue=Vne;Ke.isActive=Une;Ke.update=(r,e={})=>{let t=Bne(r,e);if(t){let{props:s,content:a}=t,n={delay:100,...s,...e,toastId:e.toastId||r,updateId:X7()};n.toastId!==r&&(n.staleId=r);let o=n.render||a;delete n.render,eb(o,n)}};Ke.done=r=>{Ke.update(r,{progress:1})};Ke.onChange=$ne;Ke.play=r=>Z7(!0,r);Ke.pause=r=>Z7(!1,r);const B1=async(r,e,t=null)=>{if(!r||e<=0)throw new Error("Invalid cart item data");try{const s=qe(ve,"products",r),a=await wt(s);if(!a.exists())throw new Error("Product not found");const n=a.data();if(n.stock<e)throw new Error(`Only ${n.stock} units available`);const o=await _l(t),l=o.find(d=>d.productId===r);let c;if(l){const d=l.quantity+e;if(d>n.stock)throw new Error(`Cannot add more than ${n.stock} units`);c=o.map(u=>u.productId===r?{...u,quantity:d}:u)}else c=[...o,{productId:r,quantity:e,product:{name:n.name,price:n.price,image:n.imageUrl,stock:n.stock,sellerId:n.sellerId||"default-seller-id"}}];await jh(c,t),Ke.success("Added to cart")}catch(s){throw console.error("Error adding to cart:",s),Ke.error(s.message),s}},_l=async(r=null)=>{const e=r?`userCart_${r}`:"guestCart";let t=[];try{const s=localStorage.getItem(e);s&&(t=JSON.parse(s),Array.isArray(t)||(console.warn("Invalid cart format, resetting:",t),t=[]));const a=[];for(const n of t){if(!n.productId||n.quantity<=0){console.warn("Invalid cart item:",n);continue}try{const o=qe(ve,"products",n.productId),l=await wt(o);if(l.exists()){const c=l.data();a.push({...n,product:{name:c.name,price:c.price,image:c.imageUrl,stock:c.stock,sellerId:c.sellerId||"default-seller-id"}})}else console.warn(`Product not found for ID: ${n.productId}`),Ke.error(`Removed unavailable product (ID: ${n.productId}) from cart`)}catch(o){console.error(`Error validating product ${n.productId}:`,o),Ke.error(`Error validating product (ID: ${n.productId})`)}}return a.length<t.length&&await jh(a,r),a}catch(s){return console.error("Error fetching cart:",s),Ke.error("Failed to fetch cart"),[]}},d6=async(r=null)=>{try{return(await _l(r)).reduce((t,s)=>t+s.quantity,0)}catch(e){return console.error("Error getting cart item count:",e),0}},jh=async(r,e=null)=>{const t=e?`userCart_${e}`:"guestCart";try{localStorage.setItem(t,JSON.stringify(r)),window.dispatchEvent(new Event("cartUpdated"))}catch(s){throw console.error("Error updating cart:",s),Ke.error("Failed to update cart"),s}},$2=async(r=null)=>{try{await jh([],r),Ke.success("Cart cleared")}catch(e){throw console.error("Error clearing cart:",e),Ke.error("Failed to clear cart"),e}},Yne=async r=>{if(!r)throw new Error("Please log in to checkout");const e=await _l(r);if(e.length===0)throw new Error("Cart is empty");try{for(const s of e){const a=qe(ve,"products",s.productId),n=await wt(a);if(!n.exists())throw new Error(`Product ${s.productId} no longer available`);const o=n.data();if(o.stock<s.quantity)throw new Error(`Insufficient stock for ${o.name}`)}const t=Xe(ve,"orders");await fi(t,{userId:r,items:e,total:e.reduce((s,a)=>s+a.product.price*a.quantity,0),createdAt:new Date().toISOString(),status:"pending"}),await $2(r),Ke.success("Order placed successfully")}catch(t){throw console.error("Checkout error:",t),Ke.error(t.message),t}},Xne=async r=>{try{const e=await _l(null);if(e.length===0)return;const s=[...await _l(r)];for(const a of e){const n=s.find(o=>o.productId===a.productId);if(n){n.quantity+=a.quantity;try{const o=qe(ve,"products",n.productId),l=await wt(o);if(l.exists()){const c=l.data();n.quantity>c.stock&&(n.quantity=c.stock,Ke.warn(`Adjusted quantity for ${c.name} to available stock`))}}catch(o){console.error(`Error validating product ${n.productId}:`,o),Ke.error(`Error validating product (ID: ${n.productId})`)}}else s.push(a)}await jh(s,r),await $2(null),Ke.success("Guest cart merged with your account")}catch(e){console.error("Error merging guest cart:",e),Ke.error("Failed to merge guest cart")}},u6="/assets/foremade-Bxu0VQA7.png";function h6(){const[r,e]=R.useState(!1);R.useEffect(()=>{const s=localStorage.getItem("userData");s||localStorage.removeItem("freeShippingDismissed"),!localStorage.getItem("freeShippingDismissed")&&!s&&e(!0)},[]);const t=()=>{e(!1),localStorage.setItem("freeShippingDismissed","true")};return r?i.jsx("div",{className:"relative p-[1px] bg-[#eb9325]",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("p",{className:"text-white text-md max-md:text-sm m-1 max-md:m-0 text-center py-2",children:"Up to 30% off when you buy multiple items | Free shipping Nationwide!"}),i.jsx("button",{onClick:t,className:"absolute right-2 top-1/2 -translate-y-1/2 text-white hover:text-gray-200",title:"Dismiss","aria-label":"Dismiss free shipping banner",children:i.jsx("i",{className:"bx bx-x text-xl"})})]})}):null}const Kne=()=>{const r=Ra(),e=zr(),[t,s]=R.useState(""),[a,n]=R.useState([]),[o,l]=R.useState(!1),[c,d]=R.useState(!1),[u,h]=R.useState(null),[m,p]=R.useState(0),[b,x]=R.useState([]),[y,w]=R.useState(null),[k,N]=R.useState(null),[T,E]=R.useState(0),[I,S]=R.useState(!1),[A,P]=R.useState(!1),[O,M]=R.useState(!1),[L,B]=R.useState(!1),[G,X]=R.useState([]),H="3rem",W=Ne=>Ne.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");R.useEffect(()=>{const Ne=yr(Xe(ve,"categories"),xe=>{const ze=xe.docs.map(se=>se.id).sort();X(ze)},xe=>{console.error("Error fetching categories:",xe),Ke.error("Failed to load categories")});return()=>Ne()},[]);const ne=G.slice(0,8),U=G.slice(8),z=Ne=>`/category/${W(Ne)}`,Q=r.pathname!=="/";R.useEffect(()=>{const Ne=Ye.onAuthStateChanged(async xe=>{w(xe);try{const ze=await d6(xe?.uid);if(p(ze),xe)try{const se=localStorage.getItem("userData");se&&N(JSON.parse(se))}catch(se){console.error("Error parsing userData:",se),Ke.error("Failed to load user profile")}else N(null),E(0),x([]),localStorage.removeItem("userData")}catch(ze){console.error("Error in auth state:",ze),Ke.error("Failed to initialize session")}});return()=>Ne()},[]),R.useEffect(()=>{y&&(async()=>{try{const xe=Lt(Xe(ve,"notifications"),Tt("userId","==",y.uid),Tt("read","==",!1)),ze=await xt(xe);E(ze.size)}catch(xe){console.error("Error fetching notifications:",xe),Ke.error("Failed to load notifications")}})()},[y]),R.useEffect(()=>{const Ne=()=>{try{const se=localStorage.getItem("favorites");x(se?JSON.parse(se):[])}catch(se){console.error("Error loading favorites:",se),Ke.error("Failed to sync favorites")}};Ne();const xe=async()=>{try{const se=await d6(y?.uid);p(se)}catch(se){console.error("Error updating cart:",se),Ke.error("Failed to update cart")}},ze=se=>{se.key==="favorites"&&Ne()};return window.addEventListener("cartUpdated",xe),window.addEventListener("storage",ze),()=>{window.removeEventListener("cartUpdated",xe),window.removeEventListener("storage",ze)}},[y]);const q=()=>k&&k.name?k.name.split(" ")[0]||"User":y?y.displayName?.split(" ")[0]||"User":"Guest",Z=async Ne=>{const xe=Ne.target.value;if(s(xe),xe.trim()===""){n([]),l(!1);return}d(!0);try{const ze=Lt(Xe(ve,"products"),Tt("status","==","approved")),fe=(await xt(ze)).docs.map(Te=>({id:Te.id,...Te.data()})).filter(Te=>Te.name.toLowerCase().includes(xe.toLowerCase()));n(fe),l(!0)}catch(ze){console.error("Error searching:",ze),h("Failed to search."),Ke.error("Search failed")}finally{d(!1)}},J=()=>{t.trim()!==""&&a.length>0&&l(!0)},re=()=>{setTimeout(()=>l(!1),200)},de=()=>{M(!O)},Se=()=>{B(!L)},je=()=>{setTimeout(()=>M(!1),200)};return u?i.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",u]}):i.jsxs("header",{className:"w-full",children:[i.jsx("div",{className:"bg-[#112639] hidden sm:flex text-white w-full py-0 h-9.5 items-center",children:i.jsxs("div",{className:"p-2 flex w-full h-full items-center justify-between",children:[" ",i.jsxs("div",{className:"flex items-center h-full pl-4",children:[" ",i.jsx(Fe,{to:"/",children:i.jsx("img",{src:u6,className:"h-10 w-auto",alt:"Foremade"})}),i.jsxs("nav",{className:"flex items-center ml-2 mt-1",children:[i.jsx(Fe,{to:"/products",className:"hover:text-gray-100 hover:underline transition-all px-2",children:"Shop"}),i.jsx(Fe,{to:"/products-upload-variant",className:"hover:text-gray-100 hover:underline transition-all px-2",children:"Sell"}),i.jsx(Fe,{to:"/smile",className:"hover:text-gray-100 hover:underline transition-all px-2",children:"Smile"})]})]}),i.jsxs("div",{className:"flex items-center gap-4 pr-4",children:[" ",y?i.jsxs(Fe,{to:"/profile",className:"hover:text-gray-300 text-sm whitespace-nowrap",children:["Hi, ",q()]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fe,{to:"/login",className:"hover:text-gray-300 text-sm whitespace-nowrap",children:"Login"}),i.jsx("span",{className:"text-gray-300",children:"|"}),i.jsx(Fe,{to:"/register",className:"hover:text-gray-300 text-sm whitespace-nowrap",children:"Sign Up"})]}),i.jsxs(Fe,{to:"/notifications",className:"relative flex items-center justify-center",children:[i.jsx("i",{className:"bx bx-bell text-xl"}),T>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:T})]}),i.jsxs(Fe,{to:"/cart",className:"relative flex items-center justify-center",children:[i.jsx("i",{className:"bx bx-cart-alt text-xl text-white"}),m>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:m})]}),i.jsx(Fe,{to:"/search",className:"lg:hidden",children:i.jsx("i",{className:"bx bx-search text-xl"})})]})]})}),i.jsx("div",{className:"hidden sm:block bg-[#eb9325] h-2 w-full"}),i.jsxs("div",{className:"sm:hidden bg-[#112639] text-white p-2 py-3 w-full flex items-center fixed top-0 left-0 right-0 z-40 overflow-x-hidden",style:{paddingTop:"env(safe-area-inset-top)"},children:[i.jsx("div",{className:"flex items-center min-w-0",children:i.jsx(Fe,{to:"/",children:i.jsx("img",{src:u6,className:"h-9",alt:"Foremade"})})}),i.jsx("div",{className:"flex-1 min-w-0"}),i.jsxs("div",{className:"flex mt-4 items-center justify-end flex-1 min-w-0",children:[i.jsxs(Fe,{to:"/cart",className:"relative flex items-center justify-center",children:[i.jsx("i",{className:"bx bx-cart-alt text-xl text-white"}),m>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:m})]}),i.jsx("button",{onClick:()=>S(!0),className:"ml-4 mr-4 flex items-center justify-center focus:outline-none",children:i.jsx("i",{className:"bx bx-menu text-2xl"})})]})]}),i.jsx("div",{className:"sm:hidden",style:{height:`calc(${H} + env(safe-area-inset-top))`,minHeight:"3rem"}}),i.jsxs("div",{className:"block sm:hidden",children:[i.jsx("div",{className:"block sm:hidden bg-[#eb9325] h-2 w-full -mt-16 mb-14"}),i.jsx(h6,{})]}),i.jsxs("div",{className:"block sm:hidden px-2 mt-2",children:[i.jsxs("div",{className:"relative w-full",children:[i.jsx("input",{type:"text",placeholder:"Search for electronics, accessories...",className:"w-full p-2 pl-8 border border-gray-400 rounded-md text-black placeholder-gray-600 focus:outline-none text-xs",value:t,onChange:Z,onFocus:J,onBlur:re}),o&&i.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-50 max-h-80 overflow-y-auto",children:c?i.jsx("div",{className:"p-2 text-xs text-gray-600",children:"Loading..."}):a.length>0?a.map(Ne=>i.jsxs(Fe,{to:`/product/${Ne.id}`,className:"flex items-center p-2 hover:bg-gray-100",onClick:()=>{l(!1),s("")},children:[i.jsx("img",{src:Ne.imageUrls&&Ne.imageUrls[0]?.startsWith("https://")?Ne.imageUrls[0]:"https://via.placeholder.com/40?text=Image+Not+Found",alt:Ne.name,className:"w-8 h-8 object-cover rounded mr-2 flex-shrink-0",onError:xe=>{xe.target.src="https://via.placeholder.com/40?text=Image+Not+Found"}}),i.jsx("span",{className:"text-xs text-gray-800",children:Ne.name})]},Ne.id)):i.jsx("div",{className:"p-2 text-xs text-gray-600",children:"No results found"})})]}),i.jsx("div",{className:"flex overflow-x-auto gap-2 text-xs text-gray-700 py-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:G.map(Ne=>i.jsx(Fe,{to:z(Ne),className:"hover:text-blue-600 bg-gray-100 rounded-full px-3 py-1 whitespace-nowrap flex-shrink-0",children:Ne},Ne))})]}),i.jsx("div",{className:"hidden sm:block",children:i.jsx(h6,{})}),i.jsx("div",{className:"hidden sm:block",children:i.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-1 sm:py-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"relative w-full",children:[i.jsx("input",{type:"text",placeholder:"Search Foremade",className:"placeholder-slate-400 w-full p-2 pl-8 border border-gray-400 rounded-md text-black focus:outline-none text-xs sm:text-base",value:t,onChange:Z,onFocus:J,onBlur:re}),i.jsx("i",{className:"bx bx-search absolute right-5 top-1/2 transform -translate-y-1/2 text-gray-600 text-sm sm:text-base"}),o&&i.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10 max-h-80 overflow-y-auto",children:c?i.jsx("div",{className:"p-2 text-xs sm:text-base text-gray-600",children:"Loading..."}):a.length>0?a.map(Ne=>i.jsxs(Fe,{to:`/product/${Ne.id}`,className:"flex items-center p-2 hover:bg-gray-100",onClick:()=>{l(!1),s("")},children:[i.jsx("img",{src:Ne.imageUrls&&Ne.imageUrls[0]?.startsWith("https://")?Ne.imageUrls[0]:"https://via.placeholder.com/40?text=Image+Not+Found",alt:Ne.name,className:"w-8 sm:w-10 h-8 sm:h-10 object-cover rounded mr-2",onError:xe=>{xe.target.src="https://via.placeholder.com/40?text=Image+Not+Found"}}),i.jsx("span",{className:"text-xs sm:text-base text-gray-800",children:Ne.name})]},Ne.id)):i.jsx("div",{className:"p-2 text-xs sm:text-base text-gray-600",children:"No results found"})})]}),i.jsx("div",{className:"w-full mt-2 sm:mt-4",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-700 flex-wrap",children:[ne.map(Ne=>i.jsx(Fe,{to:z(Ne),className:"hover:text-blue-600 whitespace-nowrap",children:Ne},Ne)),G.length>8&&i.jsxs("div",{className:"relative",onMouseLeave:je,children:[i.jsxs("button",{onClick:de,className:"hover:text-blue-600 focus:outline-none whitespace-nowrap",children:["More ",i.jsx("i",{className:"bx bx-chevron-down"})]}),O&&i.jsx("div",{className:"absolute top-full left-1/2 -translate-x-[60%] mt-1 w-72 bg-white border border-gray-200 rounded-md shadow-lg z-[9999] max-h-80 overflow-y-auto",children:U.map(Ne=>i.jsx(Fe,{to:z(Ne),className:"block px-4 py-2 text-gray-800 hover:bg-gray-100 text-sm",onClick:()=>M(!1),children:Ne},Ne))})]})]})})]})})}),Q&&i.jsx("div",{className:"w-full flex justify-start mt-2 px-2 sm:px-4",children:i.jsxs("button",{onClick:()=>{window.history.length>2?e(-1):e("/")},className:"flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-200 text-blue-700 text-sm font-medium focus:outline-none","aria-label":"Go back",children:[i.jsx("i",{className:"bx bx-arrow-back text-xl"}),i.jsx("span",{className:"sm:inline",children:"Return"})]})}),i.jsxs("nav",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around items-center py-2 z-40",children:[i.jsxs(Fe,{to:"/",className:`flex flex-col items-center ${r.pathname==="/"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[i.jsx("i",{className:"bx bx-home-alt text-2xl"}),i.jsx("span",{className:"text-xs",children:"Home"})]}),i.jsxs(Fe,{to:"/search",className:`flex flex-col items-center ${r.pathname==="/search"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[i.jsx("i",{className:"bx bx-search text-2xl"}),i.jsx("span",{className:"text-xs",children:"Search"})]}),i.jsxs(Fe,{to:"/products-upload-variant",className:`flex flex-col items-center ${r.pathname==="/products-upload"?"text-blue-600":"text-orange-500"} hover:text-amber-500`,children:[i.jsx("i",{className:"bx bxs-plus-circle text-2xl"}),i.jsx("span",{className:"text-xs",children:"Sell"})]}),i.jsxs(Fe,{to:"/notifications",className:`flex flex-col items-center relative ${r.pathname==="/notifications"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[i.jsx("i",{className:"bx bx-bell text-2xl"}),T>0&&i.jsx("span",{className:"absolute top-0 right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:T}),i.jsx("span",{className:"text-xs",children:"Inbox"})]}),i.jsxs(Fe,{to:"/profile",className:`flex flex-col items-center ${r.pathname==="/profile"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[i.jsx("i",{className:"bx bx-user text-2xl"}),i.jsx("span",{className:"text-xs",children:"You"})]})]}),i.jsxs("div",{className:"sm:hidden",children:[i.jsx("div",{className:"fixed top-0 left-0 h-full bg-[#f8d7b0] w-full transform transition-transform duration-300 ease-in-out z-50 overflow-y-auto max-h-screen",style:{transform:I?"translateX(0)":"translateX(-100%)"},children:i.jsxs("div",{className:"p-4",children:[i.jsx("button",{onClick:()=>S(!1),className:"mb-4",children:i.jsx("i",{className:"bx bx-x text-2xl text-[#112040]"})}),i.jsxs("div",{className:"flex flex-col space-y-3",children:[i.jsxs("div",{className:"flex justify-center gap-2 w-full mb-4",children:[i.jsx(Fe,{to:"/products",className:"bg-white/80 text-[#112040] hover:text-amber-500 text-base py-3 px-4 rounded-lg border border-[#112040]/20 font-semibold shadow-sm hover:bg-white transition-all",onClick:()=>S(!1),children:"Shop"}),i.jsx(Fe,{to:"/products-upload-variant",className:"bg-white/80 text-[#112040] hover:text-amber-500 text-base py-3 px-4 rounded-lg border border-[#112040]/20 font-semibold shadow-sm hover:bg-white transition-all",onClick:()=>S(!1),children:"Sell"}),i.jsx(Fe,{to:"/smile",className:"bg-white/80 text-[#112040] hover:text-amber-500 text-base py-3 px-4 rounded-lg border border-[#112040]/20 font-semibold shadow-sm hover:bg-white transition-all",onClick:()=>S(!1),children:"Smile"})]}),!y&&i.jsxs("div",{className:"flex items-center justify-center mt-6 bg-[#112040] text-white px-4 py-3 rounded-lg text-sm hover:bg-[#112040]/80",children:[i.jsx(Fe,{to:"/login",className:"mx-2",onClick:()=>S(!1),children:"Log in"}),i.jsx("span",{className:"mx-1",children:"|"}),i.jsx(Fe,{to:"/register",className:"mx-2",onClick:()=>S(!1),children:"Sign up"})]}),y&&i.jsx(Fe,{to:"/profile",className:"mt-6 bg-[#112040] text-white px-4 py-3 rounded-lg text-sm hover:bg-[#112040]/80 text-center",onClick:()=>S(!1),children:"My Profile"}),i.jsxs("div",{className:"space-y-1",children:[G.slice(0,8).map(Ne=>i.jsx(Fe,{to:z(Ne),className:"text-[#112040] hover:text-amber-500 text-sm py-2 border-b border-[#112040]/10 block",onClick:()=>S(!1),children:Ne},Ne)),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:Se,className:"text-[#112040] hover:text-amber-500 text-sm py-2 border-b border-[#112040]/10 w-full text-left flex items-center justify-between",children:["More ",i.jsx("i",{className:"bx bx-chevron-down"})]}),L&&i.jsxs("div",{className:"mt-2 space-y-1 z-100",children:[console.log("Mobile More Dropdown Open:",L,"Categories:",G.slice(8)),G.slice(8).map(Ne=>i.jsx(Fe,{to:z(Ne),className:"text-[#112040] hover:text-amber-500 text-sm py-2 pl-4 border-b border-[#112040]/10 block",onClick:()=>{S(!1),B(!1)},children:Ne},Ne))]})]})]})]})]})}),I&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>S(!1)})]})]})},ST=R.createContext({});function jT(r){const e=R.useRef(null);return e.current===null&&(e.current=r()),e.current}const ET=typeof window<"u",Q7=ET?R.useLayoutEffect:R.useEffect,W2=R.createContext(null);function AT(r,e){r.indexOf(e)===-1&&r.push(e)}function TT(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}const Ac=(r,e,t)=>t>e?e:t<r?r:t;let CT=()=>{};const Tc={},J7=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function e9(r){return typeof r=="object"&&r!==null}const t9=r=>/^0[^.\s]+$/u.test(r);function PT(r){let e;return()=>(e===void 0&&(e=r()),e)}const uo=r=>r,Zne=(r,e)=>t=>e(r(t)),tb=(...r)=>r.reduce(Zne),Kp=(r,e,t)=>{const s=e-r;return s===0?1:(t-r)/s};class RT{constructor(){this.subscriptions=[]}add(e){return AT(this.subscriptions,e),()=>TT(this.subscriptions,e)}notify(e,t,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,s);else for(let n=0;n<a;n++){const o=this.subscriptions[n];o&&o(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nl=r=>r*1e3,Sl=r=>r/1e3;function r9(r,e){return e?r*(1e3/e):0}const s9=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,Qne=1e-7,Jne=12;function eie(r,e,t,s,a){let n,o,l=0;do o=e+(t-e)/2,n=s9(o,s,a)-r,n>0?t=o:e=o;while(Math.abs(n)>Qne&&++l<Jne);return o}function rb(r,e,t,s){if(r===e&&t===s)return uo;const a=n=>eie(n,0,1,r,t);return n=>n===0||n===1?n:s9(a(n),e,s)}const a9=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,n9=r=>e=>1-r(1-e),i9=rb(.33,1.53,.69,.99),IT=n9(i9),o9=a9(IT),l9=r=>(r*=2)<1?.5*IT(r):.5*(2-Math.pow(2,-10*(r-1))),DT=r=>1-Math.sin(Math.acos(r)),c9=n9(DT),d9=a9(DT),tie=rb(.42,0,1,1),rie=rb(0,0,.58,1),u9=rb(.42,0,.58,1),sie=r=>Array.isArray(r)&&typeof r[0]!="number",h9=r=>Array.isArray(r)&&typeof r[0]=="number",aie={linear:uo,easeIn:tie,easeInOut:u9,easeOut:rie,circIn:DT,circInOut:d9,circOut:c9,backIn:IT,backInOut:o9,backOut:i9,anticipate:l9},nie=r=>typeof r=="string",f6=r=>{if(h9(r)){CT(r.length===4);const[e,t,s,a]=r;return rb(e,t,s,a)}else if(nie(r))return aie[r];return r},Qy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iie(r,e){let t=new Set,s=new Set,a=!1,n=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),r()),u(l)}const d={schedule:(u,h=!1,m=!1)=>{const b=m&&a?t:s;return h&&o.add(u),b.has(u)||b.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(l=u,a){n=!0;return}a=!0,[t,s]=[s,t],t.forEach(c),t.clear(),a=!1,n&&(n=!1,d.process(u))}};return d}const oie=40;function f9(r,e){let t=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},n=()=>t=!0,o=Qy.reduce((N,T)=>(N[T]=iie(n),N),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:p,postRender:b}=o,x=()=>{const N=Tc.useManualTiming?a.timestamp:performance.now();t=!1,Tc.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(N-a.timestamp,oie),1)),a.timestamp=N,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),m.process(a),p.process(a),b.process(a),a.isProcessing=!1,t&&e&&(s=!1,r(x))},y=()=>{t=!0,s=!0,a.isProcessing||r(x)};return{schedule:Qy.reduce((N,T)=>{const E=o[T];return N[T]=(I,S=!1,A=!1)=>(t||y(),E.schedule(I,S,A)),N},{}),cancel:N=>{for(let T=0;T<Qy.length;T++)o[Qy[T]].cancel(N)},state:a,steps:o}}const{schedule:$s,cancel:Bd,state:cn,steps:LN}=f9(typeof requestAnimationFrame<"u"?requestAnimationFrame:uo,!0);let U1;function lie(){U1=void 0}const li={now:()=>(U1===void 0&&li.set(cn.isProcessing||Tc.useManualTiming?cn.timestamp:performance.now()),U1),set:r=>{U1=r,queueMicrotask(lie)}},m9=r=>e=>typeof e=="string"&&e.startsWith(r),OT=m9("--"),cie=m9("var(--"),MT=r=>cie(r)?die.test(r.split("/*")[0].trim()):!1,die=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,c0={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Zp={...c0,transform:r=>Ac(0,1,r)},Jy={...c0,default:1},xp=r=>Math.round(r*1e5)/1e5,FT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uie(r){return r==null}const hie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,LT=(r,e)=>t=>!!(typeof t=="string"&&hie.test(t)&&t.startsWith(r)||e&&!uie(t)&&Object.prototype.hasOwnProperty.call(t,e)),g9=(r,e,t)=>s=>{if(typeof s!="string")return s;const[a,n,o,l]=s.match(FT);return{[r]:parseFloat(a),[e]:parseFloat(n),[t]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},fie=r=>Ac(0,255,r),BN={...c0,transform:r=>Math.round(fie(r))},Qu={test:LT("rgb","red"),parse:g9("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:s=1})=>"rgba("+BN.transform(r)+", "+BN.transform(e)+", "+BN.transform(t)+", "+xp(Zp.transform(s))+")"};function mie(r){let e="",t="",s="",a="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),s=r.substring(5,7),a=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),s=r.substring(3,4),a=r.substring(4,5),e+=e,t+=t,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Vj={test:LT("#"),parse:mie,transform:Qu.transform},sb=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),ud=sb("deg"),jl=sb("%"),sr=sb("px"),gie=sb("vh"),pie=sb("vw"),m6={...jl,parse:r=>jl.parse(r)/100,transform:r=>jl.transform(r*100)},im={test:LT("hsl","hue"),parse:g9("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(r)+", "+jl.transform(xp(e))+", "+jl.transform(xp(t))+", "+xp(Zp.transform(s))+")"},Ea={test:r=>Qu.test(r)||Vj.test(r)||im.test(r),parse:r=>Qu.test(r)?Qu.parse(r):im.test(r)?im.parse(r):Vj.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Qu.transform(r):im.transform(r),getAnimatableNone:r=>{const e=Ea.parse(r);return e.alpha=0,Ea.transform(e)}},xie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bie(r){return isNaN(r)&&typeof r=="string"&&(r.match(FT)?.length||0)+(r.match(xie)?.length||0)>0}const p9="number",x9="color",yie="var",vie="var(",g6="${}",wie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qp(r){const e=r.toString(),t=[],s={color:[],number:[],var:[]},a=[];let n=0;const l=e.replace(wie,c=>(Ea.test(c)?(s.color.push(n),a.push(x9),t.push(Ea.parse(c))):c.startsWith(vie)?(s.var.push(n),a.push(yie),t.push(c)):(s.number.push(n),a.push(p9),t.push(parseFloat(c))),++n,g6)).split(g6);return{values:t,split:l,indexes:s,types:a}}function b9(r){return Qp(r).values}function y9(r){const{split:e,types:t}=Qp(r),s=e.length;return a=>{let n="";for(let o=0;o<s;o++)if(n+=e[o],a[o]!==void 0){const l=t[o];l===p9?n+=xp(a[o]):l===x9?n+=Ea.transform(a[o]):n+=a[o]}return n}}const kie=r=>typeof r=="number"?0:Ea.test(r)?Ea.getAnimatableNone(r):r;function _ie(r){const e=b9(r);return y9(r)(e.map(kie))}const Ud={test:bie,parse:b9,createTransformer:y9,getAnimatableNone:_ie};function UN(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function Nie({hue:r,saturation:e,lightness:t,alpha:s}){r/=360,e/=100,t/=100;let a=0,n=0,o=0;if(!e)a=n=o=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;a=UN(c,l,r+1/3),n=UN(c,l,r),o=UN(c,l,r-1/3)}return{red:Math.round(a*255),green:Math.round(n*255),blue:Math.round(o*255),alpha:s}}function Aw(r,e){return t=>t>0?e:r}const qs=(r,e,t)=>r+(e-r)*t,zN=(r,e,t)=>{const s=r*r,a=t*(e*e-s)+s;return a<0?0:Math.sqrt(a)},Sie=[Vj,Qu,im],jie=r=>Sie.find(e=>e.test(r));function p6(r){const e=jie(r);if(!e)return!1;let t=e.parse(r);return e===im&&(t=Nie(t)),t}const x6=(r,e)=>{const t=p6(r),s=p6(e);if(!t||!s)return Aw(r,e);const a={...t};return n=>(a.red=zN(t.red,s.red,n),a.green=zN(t.green,s.green,n),a.blue=zN(t.blue,s.blue,n),a.alpha=qs(t.alpha,s.alpha,n),Qu.transform(a))},Hj=new Set(["none","hidden"]);function Eie(r,e){return Hj.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function Aie(r,e){return t=>qs(r,e,t)}function BT(r){return typeof r=="number"?Aie:typeof r=="string"?MT(r)?Aw:Ea.test(r)?x6:Pie:Array.isArray(r)?v9:typeof r=="object"?Ea.test(r)?x6:Tie:Aw}function v9(r,e){const t=[...r],s=t.length,a=r.map((n,o)=>BT(n)(n,e[o]));return n=>{for(let o=0;o<s;o++)t[o]=a[o](n);return t}}function Tie(r,e){const t={...r,...e},s={};for(const a in t)r[a]!==void 0&&e[a]!==void 0&&(s[a]=BT(r[a])(r[a],e[a]));return a=>{for(const n in s)t[n]=s[n](a);return t}}function Cie(r,e){const t=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const n=e.types[a],o=r.indexes[n][s[n]],l=r.values[o]??0;t[a]=l,s[n]++}return t}const Pie=(r,e)=>{const t=Ud.createTransformer(e),s=Qp(r),a=Qp(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Hj.has(r)&&!a.values.length||Hj.has(e)&&!s.values.length?Eie(r,e):tb(v9(Cie(s,a),a.values),t):Aw(r,e)};function w9(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?qs(r,e,t):BT(r)(r,e)}const Rie=r=>{const e=({timestamp:t})=>r(t);return{start:(t=!0)=>$s.update(e,t),stop:()=>Bd(e),now:()=>cn.isProcessing?cn.timestamp:li.now()}},k9=(r,e,t=10)=>{let s="";const a=Math.max(Math.round(e/t),2);for(let n=0;n<a;n++)s+=Math.round(r(n/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Tw=2e4;function UT(r){let e=0;const t=50;let s=r.next(e);for(;!s.done&&e<Tw;)e+=t,s=r.next(e);return e>=Tw?1/0:e}function Iie(r,e=100,t){const s=t({...r,keyframes:[0,e]}),a=Math.min(UT(s),Tw);return{type:"keyframes",ease:n=>s.next(a*n).value/e,duration:Sl(a)}}const Die=5;function _9(r,e,t){const s=Math.max(e-Die,0);return r9(t-r(s),e-s)}const ta={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},VN=.001;function Oie({duration:r=ta.duration,bounce:e=ta.bounce,velocity:t=ta.velocity,mass:s=ta.mass}){let a,n,o=1-e;o=Ac(ta.minDamping,ta.maxDamping,o),r=Ac(ta.minDuration,ta.maxDuration,Sl(r)),o<1?(a=d=>{const u=d*o,h=u*r,m=u-t,p=$j(d,o),b=Math.exp(-h);return VN-m/p*b},n=d=>{const h=d*o*r,m=h*t+t,p=Math.pow(o,2)*Math.pow(d,2)*r,b=Math.exp(-h),x=$j(Math.pow(d,2),o);return(-a(d)+VN>0?-1:1)*((m-p)*b)/x}):(a=d=>{const u=Math.exp(-d*r),h=(d-t)*r+1;return-VN+u*h},n=d=>{const u=Math.exp(-d*r),h=(t-d)*(r*r);return u*h});const l=5/r,c=Fie(a,n,l);if(r=Nl(r),isNaN(c))return{stiffness:ta.stiffness,damping:ta.damping,duration:r};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:r}}}const Mie=12;function Fie(r,e,t){let s=t;for(let a=1;a<Mie;a++)s=s-r(s)/e(s);return s}function $j(r,e){return r*Math.sqrt(1-e*e)}const Lie=["duration","bounce"],Bie=["stiffness","damping","mass"];function b6(r,e){return e.some(t=>r[t]!==void 0)}function Uie(r){let e={velocity:ta.velocity,stiffness:ta.stiffness,damping:ta.damping,mass:ta.mass,isResolvedFromDuration:!1,...r};if(!b6(r,Bie)&&b6(r,Lie))if(r.visualDuration){const t=r.visualDuration,s=2*Math.PI/(t*1.2),a=s*s,n=2*Ac(.05,1,1-(r.bounce||0))*Math.sqrt(a);e={...e,mass:ta.mass,stiffness:a,damping:n}}else{const t=Oie(r);e={...e,...t,mass:ta.mass},e.isResolvedFromDuration=!0}return e}function Cw(r=ta.visualDuration,e=ta.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:s,restDelta:a}=t;const n=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],l={done:!1,value:n},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:p}=Uie({...t,velocity:-Sl(t.velocity||0)}),b=m||0,x=d/(2*Math.sqrt(c*u)),y=o-n,w=Sl(Math.sqrt(c/u)),k=Math.abs(y)<5;s||(s=k?ta.restSpeed.granular:ta.restSpeed.default),a||(a=k?ta.restDelta.granular:ta.restDelta.default);let N;if(x<1){const E=$j(w,x);N=I=>{const S=Math.exp(-x*w*I);return o-S*((b+x*w*y)/E*Math.sin(E*I)+y*Math.cos(E*I))}}else if(x===1)N=E=>o-Math.exp(-w*E)*(y+(b+w*y)*E);else{const E=w*Math.sqrt(x*x-1);N=I=>{const S=Math.exp(-x*w*I),A=Math.min(E*I,300);return o-S*((b+x*w*y)*Math.sinh(A)+E*y*Math.cosh(A))/E}}const T={calculatedDuration:p&&h||null,next:E=>{const I=N(E);if(p)l.done=E>=h;else{let S=E===0?b:0;x<1&&(S=E===0?Nl(b):_9(N,E,I));const A=Math.abs(S)<=s,P=Math.abs(o-I)<=a;l.done=A&&P}return l.value=l.done?o:I,l},toString:()=>{const E=Math.min(UT(T),Tw),I=k9(S=>T.next(E*S).value,E,30);return E+"ms "+I},toTransition:()=>{}};return T}Cw.applyToOptions=r=>{const e=Iie(r,100,Cw);return r.ease=e.ease,r.duration=Nl(e.duration),r.type="keyframes",r};function Wj({keyframes:r,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:n=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=r[0],m={done:!1,value:h},p=A=>l!==void 0&&A<l||c!==void 0&&A>c,b=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let x=t*e;const y=h+x,w=o===void 0?y:o(y);w!==y&&(x=w-h);const k=A=>-x*Math.exp(-A/s),N=A=>w+k(A),T=A=>{const P=k(A),O=N(A);m.done=Math.abs(P)<=d,m.value=m.done?w:O};let E,I;const S=A=>{p(m.value)&&(E=A,I=Cw({keyframes:[m.value,b(m.value)],velocity:_9(N,A,m.value),damping:a,stiffness:n,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:A=>{let P=!1;return!I&&E===void 0&&(P=!0,T(A),S(A)),E!==void 0&&A>=E?I.next(A-E):(!P&&T(A),m)}}}function zie(r,e,t){const s=[],a=t||Tc.mix||w9,n=r.length-1;for(let o=0;o<n;o++){let l=a(r[o],r[o+1]);if(e){const c=Array.isArray(e)?e[o]||uo:e;l=tb(c,l)}s.push(l)}return s}function Vie(r,e,{clamp:t=!0,ease:s,mixer:a}={}){const n=r.length;if(CT(n===e.length),n===1)return()=>e[0];if(n===2&&e[0]===e[1])return()=>e[1];const o=r[0]===r[1];r[0]>r[n-1]&&(r=[...r].reverse(),e=[...e].reverse());const l=zie(e,s,a),c=l.length,d=u=>{if(o&&u<r[0])return e[0];let h=0;if(c>1)for(;h<r.length-2&&!(u<r[h+1]);h++);const m=Kp(r[h],r[h+1],u);return l[h](m)};return t?u=>d(Ac(r[0],r[n-1],u)):d}function Hie(r,e){const t=r[r.length-1];for(let s=1;s<=e;s++){const a=Kp(0,e,s);r.push(qs(t,1,a))}}function $ie(r){const e=[0];return Hie(e,r.length-1),e}function Wie(r,e){return r.map(t=>t*e)}function qie(r,e){return r.map(()=>e||u9).splice(0,r.length-1)}function bp({duration:r=300,keyframes:e,times:t,ease:s="easeInOut"}){const a=sie(s)?s.map(f6):f6(s),n={done:!1,value:e[0]},o=Wie(t&&t.length===e.length?t:$ie(e),r),l=Vie(o,e,{ease:Array.isArray(a)?a:qie(e,a)});return{calculatedDuration:r,next:c=>(n.value=l(c),n.done=c>=r,n)}}const Gie=r=>r!==null;function zT(r,{repeat:e,repeatType:t="loop"},s,a=1){const n=r.filter(Gie),l=a<0||e&&t!=="loop"&&e%2===1?0:n.length-1;return!l||s===void 0?n[l]:s}const Yie={decay:Wj,inertia:Wj,tween:bp,keyframes:bp,spring:Cw};function N9(r){typeof r.type=="string"&&(r.type=Yie[r.type])}class VT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Xie=r=>r/100;class HT extends VT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==li.now()&&this.tick(li.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;N9(e);const{type:t=bp,repeat:s=0,repeatDelay:a=0,repeatType:n,velocity:o=0}=e;let{keyframes:l}=e;const c=t||bp;c!==bp&&typeof l[0]!="number"&&(this.mixKeyframes=tb(Xie,w9(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});n==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=UT(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:a,mixKeyframes:n,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:p,type:b,onUpdate:x,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const w=this.currentTime-d*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?w<0:w>a;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,T=s;if(h){const A=Math.min(this.currentTime,a)/l;let P=Math.floor(A),O=A%1;!O&&A>=1&&(O=1),O===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(m==="reverse"?(O=1-O,p&&(O-=p/l)):m==="mirror"&&(T=o)),N=Ac(0,1,O)*l}const E=k?{done:!1,value:u[0]}:T.next(N);n&&(E.value=n(E.value));let{done:I}=E;!k&&c!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return S&&b!==Wj&&(E.value=zT(u,this.options,y,this.speed)),x&&x(E.value),S&&this.finish(),E}then(e,t){return this.finished.then(e,t)}get duration(){return Sl(this.calculatedDuration)}get time(){return Sl(this.currentTime)}set time(e){e=Nl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(li.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Sl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Rie,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(li.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Kie(r){for(let e=1;e<r.length;e++)r[e]??(r[e]=r[e-1])}const Ju=r=>r*180/Math.PI,qj=r=>{const e=Ju(Math.atan2(r[1],r[0]));return Gj(e)},Zie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:qj,rotateZ:qj,skewX:r=>Ju(Math.atan(r[1])),skewY:r=>Ju(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Gj=r=>(r=r%360,r<0&&(r+=360),r),y6=qj,v6=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),w6=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),Qie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:v6,scaleY:w6,scale:r=>(v6(r)+w6(r))/2,rotateX:r=>Gj(Ju(Math.atan2(r[6],r[5]))),rotateY:r=>Gj(Ju(Math.atan2(-r[2],r[0]))),rotateZ:y6,rotate:y6,skewX:r=>Ju(Math.atan(r[4])),skewY:r=>Ju(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function Yj(r){return r.includes("scale")?1:0}function Xj(r,e){if(!r||r==="none")return Yj(e);const t=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(t)s=Qie,a=t;else{const l=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Zie,a=l}if(!a)return Yj(e);const n=s[e],o=a[1].split(",").map(eoe);return typeof n=="function"?n(o):o[n]}const Jie=(r,e)=>{const{transform:t="none"}=getComputedStyle(r);return Xj(t,e)};function eoe(r){return parseFloat(r.trim())}const d0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],u0=new Set(d0),k6=r=>r===c0||r===sr,toe=new Set(["x","y","z"]),roe=d0.filter(r=>!toe.has(r));function soe(r){const e=[];return roe.forEach(t=>{const s=r.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const dh={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:(r,{transform:e})=>Xj(e,"x"),y:(r,{transform:e})=>Xj(e,"y")};dh.translateX=dh.x;dh.translateY=dh.y;const uh=new Set;let Kj=!1,Zj=!1,Qj=!1;function S9(){if(Zj){const r=Array.from(uh).filter(s=>s.needsMeasurement),e=new Set(r.map(s=>s.element)),t=new Map;e.forEach(s=>{const a=soe(s);a.length&&(t.set(s,a),s.render())}),r.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=t.get(s);a&&a.forEach(([n,o])=>{s.getValue(n)?.set(o)})}),r.forEach(s=>s.measureEndState()),r.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Zj=!1,Kj=!1,uh.forEach(r=>r.complete(Qj)),uh.clear()}function j9(){uh.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Zj=!0)})}function aoe(){Qj=!0,j9(),S9(),Qj=!1}class $T{constructor(e,t,s,a,n,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=a,this.element=n,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(uh.add(this),Kj||(Kj=!0,$s.read(j9),$s.resolveKeyframes(S9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:a}=this;if(e[0]===null){const n=a?.get(),o=e[e.length-1];if(n!==void 0)e[0]=n;else if(s&&t){const l=s.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&n===void 0&&a.set(e[0])}Kie(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),uh.delete(this)}cancel(){this.state==="scheduled"&&(uh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const noe=r=>r.startsWith("--");function ioe(r,e,t){noe(e)?r.style.setProperty(e,t):r.style[e]=t}const ooe=PT(()=>window.ScrollTimeline!==void 0),loe={};function coe(r,e){const t=PT(r);return()=>loe[e]??t()}const E9=coe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tp=([r,e,t,s])=>`cubic-bezier(${r}, ${e}, ${t}, ${s})`,_6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tp([0,.65,.55,1]),circOut:tp([.55,0,1,.45]),backIn:tp([.31,.01,.66,-.59]),backOut:tp([.33,1.53,.69,.99])};function A9(r,e){if(r)return typeof r=="function"?E9()?k9(r,e):"ease-out":h9(r)?tp(r):Array.isArray(r)?r.map(t=>A9(t,e)||_6.easeOut):_6[r]}function doe(r,e,t,{delay:s=0,duration:a=300,repeat:n=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:t};c&&(u.offset=c);const h=A9(l,a);Array.isArray(h)&&(u.easing=h);const m={delay:s,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:n+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),r.animate(u,m)}function T9(r){return typeof r=="function"&&"applyToOptions"in r}function uoe({type:r,...e}){return T9(r)&&E9()?r.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hoe extends VT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:s,keyframes:a,pseudoElement:n,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!n,this.allowFlatten=o,this.options=e,CT(typeof e.type!="string");const d=uoe(e);this.animation=doe(t,s,a,d,n),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!n){const u=zT(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):ioe(t,s,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Sl(Number(e))}get time(){return Sl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Nl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ooe()?(this.animation.timeline=e,uo):t(this)}}const C9={anticipate:l9,backInOut:o9,circInOut:d9};function foe(r){return r in C9}function moe(r){typeof r.ease=="string"&&foe(r.ease)&&(r.ease=C9[r.ease])}const N6=10;class goe extends hoe{constructor(e){moe(e),N9(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:a,element:n,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new HT({...o,autoplay:!1}),c=Nl(this.finishedTime??this.time);t.setWithVelocity(l.sample(c-N6).value,l.sample(c).value,N6),l.stop()}}const S6=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Ud.test(r)||r==="0")&&!r.startsWith("url("));function poe(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function xoe(r,e,t,s){const a=r[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const n=r[r.length-1],o=S6(a,e),l=S6(n,e);return!o||!l?!1:poe(r)||(t==="spring"||T9(t))&&s}function Jj(r){r.duration=0,r.type}const boe=new Set(["opacity","clipPath","filter","transform"]),yoe=PT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function voe(r){const{motionValue:e,name:t,repeatDelay:s,repeatType:a,damping:n,type:o}=r;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return yoe()&&t&&boe.has(t)&&(t!=="transform"||!d)&&!c&&!s&&a!=="mirror"&&n!==0&&o!=="inertia"}const woe=40;class koe extends VT{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:a=0,repeatDelay:n=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=li.now();const m={autoplay:e,delay:t,type:s,repeat:a,repeatDelay:n,repeatType:o,name:c,motionValue:d,element:u,...h},p=u?.KeyframeResolver||$T;this.keyframeResolver=new p(l,(b,x,y)=>this.onKeyframesResolved(b,x,m,!y),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,s,a){this.keyframeResolver=void 0;const{name:n,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=li.now(),xoe(e,n,o,l)||((Tc.instantAnimations||!c)&&u?.(zT(e,s,t)),e[0]=e[e.length-1],Jj(s),s.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>woe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},p=!d&&voe(m)?new goe({...m,element:m.motionValue.owner.current}):new HT(m);p.finished.then(()=>this.notifyFinished()).catch(uo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),aoe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const _oe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Noe(r){const e=_oe.exec(r);if(!e)return[,];const[,t,s,a]=e;return[`--${t??s}`,a]}function P9(r,e,t=1){const[s,a]=Noe(r);if(!s)return;const n=window.getComputedStyle(e).getPropertyValue(s);if(n){const o=n.trim();return J7(o)?parseFloat(o):o}return MT(a)?P9(a,e,t+1):a}function WT(r,e){return r?.[e]??r?.default??r}const R9=new Set(["width","height","top","left","right","bottom",...d0]),Soe={test:r=>r==="auto",parse:r=>r},I9=r=>e=>e.test(r),D9=[c0,sr,jl,ud,pie,gie,Soe],j6=r=>D9.find(I9(r));function joe(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||t9(r):!0}const Eoe=new Set(["brightness","contrast","saturate","opacity"]);function Aoe(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[s]=t.match(FT)||[];if(!s)return r;const a=t.replace(s,"");let n=Eoe.has(e)?1:0;return s!==t&&(n*=100),e+"("+n+a+")"}const Toe=/\b([a-z-]*)\(.*?\)/gu,eE={...Ud,getAnimatableNone:r=>{const e=r.match(Toe);return e?e.map(Aoe).join(" "):r}},E6={...c0,transform:Math.round},Coe={rotate:ud,rotateX:ud,rotateY:ud,rotateZ:ud,scale:Jy,scaleX:Jy,scaleY:Jy,scaleZ:Jy,skew:ud,skewX:ud,skewY:ud,distance:sr,translateX:sr,translateY:sr,translateZ:sr,x:sr,y:sr,z:sr,perspective:sr,transformPerspective:sr,opacity:Zp,originX:m6,originY:m6,originZ:sr},qT={borderWidth:sr,borderTopWidth:sr,borderRightWidth:sr,borderBottomWidth:sr,borderLeftWidth:sr,borderRadius:sr,radius:sr,borderTopLeftRadius:sr,borderTopRightRadius:sr,borderBottomRightRadius:sr,borderBottomLeftRadius:sr,width:sr,maxWidth:sr,height:sr,maxHeight:sr,top:sr,right:sr,bottom:sr,left:sr,padding:sr,paddingTop:sr,paddingRight:sr,paddingBottom:sr,paddingLeft:sr,margin:sr,marginTop:sr,marginRight:sr,marginBottom:sr,marginLeft:sr,backgroundPositionX:sr,backgroundPositionY:sr,...Coe,zIndex:E6,fillOpacity:Zp,strokeOpacity:Zp,numOctaves:E6},Poe={...qT,color:Ea,backgroundColor:Ea,outlineColor:Ea,fill:Ea,stroke:Ea,borderColor:Ea,borderTopColor:Ea,borderRightColor:Ea,borderBottomColor:Ea,borderLeftColor:Ea,filter:eE,WebkitFilter:eE},O9=r=>Poe[r];function M9(r,e){let t=O9(r);return t!==eE&&(t=Ud),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Roe=new Set(["auto","none","0"]);function Ioe(r,e,t){let s=0,a;for(;s<r.length&&!a;){const n=r[s];typeof n=="string"&&!Roe.has(n)&&Qp(n).values.length&&(a=r[s]),s++}if(a&&t)for(const n of e)r[n]=M9(t,a)}class Doe extends $T{constructor(e,t,s,a,n){super(e,t,s,a,n,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),MT(d))){const u=P9(d,t.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!R9.has(s)||e.length!==2)return;const[a,n]=e,o=j6(a),l=j6(n);if(o!==l)if(k6(o)&&k6(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else dh[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||joe(e[a]))&&s.push(a);s.length&&Ioe(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dh[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const n=s.length-1,o=s[n];s[n]=dh[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Ooe(r,e,t){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let s=document;const a=t?.[r]??s.querySelectorAll(r);return a?Array.from(a):[]}return Array.from(r)}const F9=(r,e)=>e&&typeof r=="number"?e.transform(r):r;function L9(r){return e9(r)&&"offsetHeight"in r}const A6=30,Moe=r=>!isNaN(parseFloat(r));class Foe{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=li.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const n of this.dependents)n.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=li.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Moe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new RT);const s=this.events[e].add(t);return e==="change"?()=>{s(),$s.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>A6)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,A6);return r9(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mm(r,e){return new Foe(r,e)}const{schedule:GT}=f9(queueMicrotask,!1),jo={x:!1,y:!1};function B9(){return jo.x||jo.y}function Loe(r){return r==="x"||r==="y"?jo[r]?null:(jo[r]=!0,()=>{jo[r]=!1}):jo.x||jo.y?null:(jo.x=jo.y=!0,()=>{jo.x=jo.y=!1})}function U9(r,e){const t=Ooe(r),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[t,a,()=>s.abort()]}function T6(r){return!(r.pointerType==="touch"||B9())}function Boe(r,e,t={}){const[s,a,n]=U9(r,t),o=l=>{if(!T6(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{T6(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),n}const z9=(r,e)=>e?r===e?!0:z9(r,e.parentElement):!1,YT=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,Uoe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zoe(r){return Uoe.has(r.tagName)||r.tabIndex!==-1}const z1=new WeakSet;function C6(r){return e=>{e.key==="Enter"&&r(e)}}function HN(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Voe=(r,e)=>{const t=r.currentTarget;if(!t)return;const s=C6(()=>{if(z1.has(t))return;HN(t,"down");const a=C6(()=>{HN(t,"up")}),n=()=>HN(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",n,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function P6(r){return YT(r)&&!B9()}function Hoe(r,e,t={}){const[s,a,n]=U9(r,t),o=l=>{const c=l.currentTarget;if(!P6(l))return;z1.add(c);const d=e(c,l),u=(p,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),z1.has(c)&&z1.delete(c),P6(p)&&typeof d=="function"&&d(p,{success:b})},h=p=>{u(p,c===window||c===document||t.useGlobalTarget||z9(c,p.target))},m=p=>{u(p,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",m,a)};return s.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),L9(l)&&(l.addEventListener("focus",d=>Voe(d,a)),!zoe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),n}function V9(r){return e9(r)&&"ownerSVGElement"in r}function $oe(r){return V9(r)&&r.tagName==="svg"}const An=r=>!!(r&&r.getVelocity),Woe=[...D9,Ea,Ud],qoe=r=>Woe.find(I9(r)),XT=R.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class Goe extends R.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const s=t.offsetParent,a=L9(s)&&s.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=a-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Yoe({children:r,isPresent:e,anchorX:t,root:s}){const a=R.useId(),n=R.useRef(null),o=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=R.useContext(XT);return R.useInsertionEffect(()=>{const{width:c,height:d,top:u,left:h,right:m}=o.current;if(e||!n.current||!c||!d)return;const p=t==="left"?`left: ${h}`:`right: ${m}`;n.current.dataset.motionPopId=a;const b=document.createElement("style");l&&(b.nonce=l);const x=s??document.head;return x.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${u}px !important;
          }
        `),()=>{x.contains(b)&&x.removeChild(b)}},[e]),i.jsx(Goe,{isPresent:e,childRef:n,sizeRef:o,children:R.cloneElement(r,{ref:n})})}const Xoe=({children:r,initial:e,isPresent:t,onExitComplete:s,custom:a,presenceAffectsLayout:n,mode:o,anchorX:l,root:c})=>{const d=jT(Koe),u=R.useId();let h=!0,m=R.useMemo(()=>(h=!1,{id:u,initial:e,isPresent:t,custom:a,onExitComplete:p=>{d.set(p,!0);for(const b of d.values())if(!b)return;s&&s()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[t,d,s]);return n&&h&&(m={...m}),R.useMemo(()=>{d.forEach((p,b)=>d.set(b,!1))},[t]),R.useEffect(()=>{!t&&!d.size&&s&&s()},[t]),o==="popLayout"&&(r=i.jsx(Yoe,{isPresent:t,anchorX:l,root:c,children:r})),i.jsx(W2.Provider,{value:m,children:r})};function Koe(){return new Map}function H9(r=!0){const e=R.useContext(W2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,n=R.useId();R.useEffect(()=>{if(r)return a(n)},[r]);const o=R.useCallback(()=>r&&s&&s(n),[n,s,r]);return!t&&s?[!1,o]:[!0]}const ev=r=>r.key||"";function R6(r){const e=[];return R.Children.forEach(r,t=>{R.isValidElement(t)&&e.push(t)}),e}const go=({children:r,custom:e,initial:t=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:n="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=H9(o),h=R.useMemo(()=>R6(r),[r]),m=o&&!d?[]:h.map(ev),p=R.useRef(!0),b=R.useRef(h),x=jT(()=>new Map),[y,w]=R.useState(h),[k,N]=R.useState(h);Q7(()=>{p.current=!1,b.current=h;for(let I=0;I<k.length;I++){const S=ev(k[I]);m.includes(S)?x.delete(S):x.get(S)!==!0&&x.set(S,!1)}},[k,m.length,m.join("-")]);const T=[];if(h!==y){let I=[...h];for(let S=0;S<k.length;S++){const A=k[S],P=ev(A);m.includes(P)||(I.splice(S,0,A),T.push(A))}return n==="wait"&&T.length&&(I=T),N(R6(I)),w(h),null}const{forceRender:E}=R.useContext(ST);return i.jsx(i.Fragment,{children:k.map(I=>{const S=ev(I),A=o&&!d?!1:h===k||m.includes(S),P=()=>{if(x.has(S))x.set(S,!0);else return;let O=!0;x.forEach(M=>{M||(O=!1)}),O&&(E?.(),N(b.current),o&&u?.(),s&&s())};return i.jsx(Xoe,{isPresent:A,initial:!p.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:n,root:c,onExitComplete:A?void 0:P,anchorX:l,children:I},S)})})},$9=R.createContext({strict:!1}),I6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fm={};for(const r in I6)Fm[r]={isEnabled:e=>I6[r].some(t=>!!e[t])};function Zoe(r){for(const e in r)Fm[e]={...Fm[e],...r[e]}}const Qoe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pw(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||Qoe.has(r)}let W9=r=>!Pw(r);function Joe(r){typeof r=="function"&&(W9=e=>e.startsWith("on")?!Pw(e):r(e))}try{Joe(require("@emotion/is-prop-valid").default)}catch{}function ele(r,e,t){const s={};for(const a in r)a==="values"&&typeof r.values=="object"||(W9(a)||t===!0&&Pw(a)||!e&&!Pw(a)||r.draggable&&a.startsWith("onDrag"))&&(s[a]=r[a]);return s}const q2=R.createContext({});function G2(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Jp(r){return typeof r=="string"||Array.isArray(r)}const KT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ZT=["initial",...KT];function Y2(r){return G2(r.animate)||ZT.some(e=>Jp(r[e]))}function q9(r){return!!(Y2(r)||r.variants)}function tle(r,e){if(Y2(r)){const{initial:t,animate:s}=r;return{initial:t===!1||Jp(t)?t:void 0,animate:Jp(s)?s:void 0}}return r.inherit!==!1?e:{}}function rle(r){const{initial:e,animate:t}=tle(r,R.useContext(q2));return R.useMemo(()=>({initial:e,animate:t}),[D6(e),D6(t)])}function D6(r){return Array.isArray(r)?r.join(" "):r}const ex={};function sle(r){for(const e in r)ex[e]=r[e],OT(e)&&(ex[e].isCSSVariable=!0)}function G9(r,{layout:e,layoutId:t}){return u0.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!ex[r]||r==="opacity")}const ale={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nle=d0.length;function ile(r,e,t){let s="",a=!0;for(let n=0;n<nle;n++){const o=d0[n],l=r[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const d=F9(l,qT[o]);if(!c){a=!1;const u=ale[o]||o;s+=`${u}(${d}) `}t&&(e[o]=d)}}return s=s.trim(),t?s=t(e,a?"":s):a&&(s="none"),s}function QT(r,e,t){const{style:s,vars:a,transformOrigin:n}=r;let o=!1,l=!1;for(const c in e){const d=e[c];if(u0.has(c)){o=!0;continue}else if(OT(c)){a[c]=d;continue}else{const u=F9(d,qT[c]);c.startsWith("origin")?(l=!0,n[c]=u):s[c]=u}}if(e.transform||(o||t?s.transform=ile(e,r.transform,t):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=n;s.transformOrigin=`${c} ${d} ${u}`}}const JT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Y9(r,e,t){for(const s in e)!An(e[s])&&!G9(s,t)&&(r[s]=e[s])}function ole({transformTemplate:r},e){return R.useMemo(()=>{const t=JT();return QT(t,e,r),Object.assign({},t.vars,t.style)},[e])}function lle(r,e){const t=r.style||{},s={};return Y9(s,t,r),Object.assign(s,ole(r,e)),s}function cle(r,e){const t={},s=lle(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=s,t}const dle={offset:"stroke-dashoffset",array:"stroke-dasharray"},ule={offset:"strokeDashoffset",array:"strokeDasharray"};function hle(r,e,t=1,s=0,a=!0){r.pathLength=1;const n=a?dle:ule;r[n.offset]=sr.transform(-s);const o=sr.transform(e),l=sr.transform(t);r[n.array]=`${o} ${l}`}function X9(r,{attrX:e,attrY:t,attrScale:s,pathLength:a,pathSpacing:n=1,pathOffset:o=0,...l},c,d,u){if(QT(r,l,d),c){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:h,style:m}=r;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=u?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),s!==void 0&&(h.scale=s),a!==void 0&&hle(h,a,n,o,!1)}const K9=()=>({...JT(),attrs:{}}),Z9=r=>typeof r=="string"&&r.toLowerCase()==="svg";function fle(r,e,t,s){const a=R.useMemo(()=>{const n=K9();return X9(n,e,Z9(s),r.transformTemplate,r.style),{...n.attrs,style:{...n.style}}},[e]);if(r.style){const n={};Y9(n,r.style,r),a.style={...n,...a.style}}return a}const mle=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eC(r){return typeof r!="string"||r.includes("-")?!1:!!(mle.indexOf(r)>-1||/[A-Z]/u.test(r))}function gle(r,e,t,{latestValues:s},a,n=!1){const l=(eC(r)?fle:cle)(e,s,a,r),c=ele(e,typeof r=="string",n),d=r!==R.Fragment?{...c,...l,ref:t}:{},{children:u}=e,h=R.useMemo(()=>An(u)?u.get():u,[u]);return R.createElement(r,{...d,children:h})}function O6(r){const e=[{},{}];return r?.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function tC(r,e,t,s){if(typeof e=="function"){const[a,n]=O6(s);e=e(t!==void 0?t:r.custom,a,n)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[a,n]=O6(s);e=e(t!==void 0?t:r.custom,a,n)}return e}function V1(r){return An(r)?r.get():r}function ple({scrapeMotionValuesFromProps:r,createRenderState:e},t,s,a){return{latestValues:xle(t,s,a,r),renderState:e()}}function xle(r,e,t,s){const a={},n=s(r,{});for(const m in n)a[m]=V1(n[m]);let{initial:o,animate:l}=r;const c=Y2(r),d=q9(r);e&&d&&!c&&r.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!G2(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const b=tC(r,m[p]);if(b){const{transitionEnd:x,transition:y,...w}=b;for(const k in w){let N=w[k];if(Array.isArray(N)){const T=u?N.length-1:0;N=N[T]}N!==null&&(a[k]=N)}for(const k in x)a[k]=x[k]}}}return a}const Q9=r=>(e,t)=>{const s=R.useContext(q2),a=R.useContext(W2),n=()=>ple(r,e,s,a);return t?n():jT(n)};function rC(r,e,t){const{style:s}=r,a={};for(const n in s)(An(s[n])||e.style&&An(e.style[n])||G9(n,r)||t?.getValue(n)?.liveStyle!==void 0)&&(a[n]=s[n]);return a}const ble=Q9({scrapeMotionValuesFromProps:rC,createRenderState:JT});function J9(r,e,t){const s=rC(r,e,t);for(const a in r)if(An(r[a])||An(e[a])){const n=d0.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[n]=r[a]}return s}const yle=Q9({scrapeMotionValuesFromProps:J9,createRenderState:K9}),vle=Symbol.for("motionComponentSymbol");function om(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function wle(r,e,t){return R.useCallback(s=>{s&&r.onMount&&r.onMount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):om(t)&&(t.current=s))},[e])}const sC=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kle="framerAppearId",ez="data-"+sC(kle),tz=R.createContext({});function _le(r,e,t,s,a){const{visualElement:n}=R.useContext(q2),o=R.useContext($9),l=R.useContext(W2),c=R.useContext(XT).reducedMotion,d=R.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(r,{visualState:e,parent:n,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=R.useContext(tz);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Nle(d.current,t,a,h);const m=R.useRef(!1);R.useInsertionEffect(()=>{u&&m.current&&u.update(t,l)});const p=t[ez],b=R.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return Q7(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),b.current&&u.animationState&&u.animationState.animateChanges())}),R.useEffect(()=>{u&&(!b.current&&u.animationState&&u.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),b.current=!1),u.enteringChildren=void 0)}),u}function Nle(r,e,t,s){const{layoutId:a,layout:n,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:rz(r.parent)),r.projection.setOptions({layoutId:a,layout:n,alwaysMeasureLayout:!!o||l&&om(l),visualElement:r,animationType:typeof n=="string"?n:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function rz(r){if(r)return r.options.allowProjection!==!1?r.projection:rz(r.parent)}function $N(r,{forwardMotionProps:e=!1}={},t,s){t&&Zoe(t);const a=eC(r)?yle:ble;function n(l,c){let d;const u={...R.useContext(XT),...l,layoutId:Sle(l)},{isStatic:h}=u,m=rle(l),p=a(l,h);if(!h&&ET){jle();const b=Ele(u);d=b.MeasureLayout,m.visualElement=_le(r,p,u,s,b.ProjectionNode)}return i.jsxs(q2.Provider,{value:m,children:[d&&m.visualElement?i.jsx(d,{visualElement:m.visualElement,...u}):null,gle(r,l,wle(p,m.visualElement,c),p,h,e)]})}n.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=R.forwardRef(n);return o[vle]=r,o}function Sle({layoutId:r}){const e=R.useContext(ST).id;return e&&r!==void 0?e+"-"+r:r}function jle(r,e){R.useContext($9).strict}function Ele(r){const{drag:e,layout:t}=Fm;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e?.isEnabled(r)||t?.isEnabled(r)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Ale(r,e){if(typeof Proxy>"u")return $N;const t=new Map,s=(n,o)=>$N(n,o,r,e),a=(n,o)=>s(n,o);return new Proxy(a,{get:(n,o)=>o==="create"?s:(t.has(o)||t.set(o,$N(o,void 0,r,e)),t.get(o))})}function sz({top:r,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:r,max:s}}}function Tle({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function Cle(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),s=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function WN(r){return r===void 0||r===1}function tE({scale:r,scaleX:e,scaleY:t}){return!WN(r)||!WN(e)||!WN(t)}function Vu(r){return tE(r)||az(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function az(r){return M6(r.x)||M6(r.y)}function M6(r){return r&&r!=="0%"}function Rw(r,e,t){const s=r-t,a=e*s;return t+a}function F6(r,e,t,s,a){return a!==void 0&&(r=Rw(r,a,s)),Rw(r,t,s)+e}function rE(r,e=0,t=1,s,a){r.min=F6(r.min,e,t,s,a),r.max=F6(r.max,e,t,s,a)}function nz(r,{x:e,y:t}){rE(r.x,e.translate,e.scale,e.originPoint),rE(r.y,t.translate,t.scale,t.originPoint)}const L6=.999999999999,B6=1.0000000000001;function Ple(r,e,t,s=!1){const a=t.length;if(!a)return;e.x=e.y=1;let n,o;for(let l=0;l<a;l++){n=t[l],o=n.projectionDelta;const{visualElement:c}=n.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&n.options.layoutScroll&&n.scroll&&n!==n.root&&cm(r,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,nz(r,o)),s&&Vu(n.latestValues)&&cm(r,n.latestValues))}e.x<B6&&e.x>L6&&(e.x=1),e.y<B6&&e.y>L6&&(e.y=1)}function lm(r,e){r.min=r.min+e,r.max=r.max+e}function U6(r,e,t,s,a=.5){const n=qs(r.min,r.max,a);rE(r,e,t,n,s)}function cm(r,e){U6(r.x,e.x,e.scaleX,e.scale,e.originX),U6(r.y,e.y,e.scaleY,e.scale,e.originY)}function iz(r,e){return sz(Cle(r.getBoundingClientRect(),e))}function Rle(r,e,t){const s=iz(r,t),{scroll:a}=e;return a&&(lm(s.x,a.offset.x),lm(s.y,a.offset.y)),s}const z6=()=>({translate:0,scale:1,origin:0,originPoint:0}),dm=()=>({x:z6(),y:z6()}),V6=()=>({min:0,max:0}),fa=()=>({x:V6(),y:V6()}),sE={current:null},oz={current:!1};function Ile(){if(oz.current=!0,!!ET)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>sE.current=r.matches;r.addEventListener("change",e),e()}else sE.current=!1}const Dle=new WeakMap;function Ole(r,e,t){for(const s in e){const a=e[s],n=t[s];if(An(a))r.addValue(s,a);else if(An(n))r.addValue(s,Mm(a,{owner:r}));else if(n!==a)if(r.hasValue(s)){const o=r.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=r.getStaticValue(s);r.addValue(s,Mm(o!==void 0?o:a,{owner:r}))}}for(const s in t)e[s]===void 0&&r.removeValue(s);return e}const H6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Mle{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:n,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$T,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=li.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,$s.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!n,this.isControllingVariants=Y2(t),this.isVariantNode=q9(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in h){const p=h[m];c[m]!==void 0&&An(p)&&p.set(c[m])}}mount(e){this.current=e,Dle.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),oz.current||Ile(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sE.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Bd(this.notifyUpdate),Bd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=u0.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&$s.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let n;window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),n&&n(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fm){const t=Fm[e];if(!t)continue;const{isEnabled:s,Feature:a}=t;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fa()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<H6.length;s++){const a=H6[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const n="on"+a,o=e[n];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Ole(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=Mm(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(J7(s)||t9(s))?s=parseFloat(s):!qoe(s)&&Ud.test(t)&&(s=M9(e,t)),this.setBaseTarget(e,An(s)?s.get():s)),An(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const n=tC(this.props,t,this.presenceContext?.custom);n&&(s=n[e])}if(t&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!An(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new RT),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){GT.render(this.render)}}class lz extends Mle{constructor(){super(...arguments),this.KeyframeResolver=Doe}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;An(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function cz(r,{style:e,vars:t},s,a){const n=r.style;let o;for(o in e)n[o]=e[o];a?.applyProjectionStyles(n,s);for(o in t)n.setProperty(o,t[o])}function Fle(r){return window.getComputedStyle(r)}class Lle extends lz{constructor(){super(...arguments),this.type="html",this.renderInstance=cz}readValueFromInstance(e,t){if(u0.has(t))return this.projection?.isProjecting?Yj(t):Jie(e,t);{const s=Fle(e),a=(OT(t)?s.getPropertyValue(t):s[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return iz(e,t)}build(e,t,s){QT(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return rC(e,t,s)}}const dz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ble(r,e,t,s){cz(r,e,void 0,s);for(const a in e.attrs)r.setAttribute(dz.has(a)?a:sC(a),e.attrs[a])}class Ule extends lz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fa}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(u0.has(t)){const s=O9(t);return s&&s.default||0}return t=dz.has(t)?t:sC(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return J9(e,t,s)}build(e,t,s){X9(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,a){Ble(e,t,s,a)}mount(e){this.isSVGTag=Z9(e.tagName),super.mount(e)}}const zle=(r,e)=>eC(r)?new Ule(e):new Lle(e,{allowProjection:r!==R.Fragment});function bm(r,e,t){const s=r.getProps();return tC(s,e,t!==void 0?t:s.custom,r)}const aE=r=>Array.isArray(r);function Vle(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,Mm(t))}function Hle(r){return aE(r)?r[r.length-1]||0:r}function $le(r,e){const t=bm(r,e);let{transitionEnd:s={},transition:a={},...n}=t||{};n={...n,...s};for(const o in n){const l=Hle(n[o]);Vle(r,o,l)}}function Wle(r){return!!(An(r)&&r.add)}function nE(r,e){const t=r.getValue("willChange");if(Wle(t))return t.add(e);if(!t&&Tc.WillChange){const s=new Tc.WillChange("auto");r.addValue("willChange",s),s.add(e)}}function uz(r){return r.props[ez]}const qle=r=>r!==null;function Gle(r,{repeat:e,repeatType:t="loop"},s){const a=r.filter(qle),n=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[n]}const Yle={type:"spring",stiffness:500,damping:25,restSpeed:10},Xle=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),Kle={type:"keyframes",duration:.8},Zle={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Qle=(r,{keyframes:e})=>e.length>2?Kle:u0.has(r)?r.startsWith("scale")?Xle(e[1]):Yle:Zle;function Jle({when:r,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:a,repeat:n,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const aC=(r,e,t,s={},a,n)=>o=>{const l=WT(s,r)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Nl(c);const u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:r,motionValue:e,element:n?void 0:a};Jle(l)||Object.assign(u,Qle(r,u)),u.duration&&(u.duration=Nl(u.duration)),u.repeatDelay&&(u.repeatDelay=Nl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Jj(u),u.delay===0&&(h=!0)),(Tc.instantAnimations||Tc.skipAnimations)&&(h=!0,Jj(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!n&&e.get()!==void 0){const m=Gle(u.keyframes,l);if(m!==void 0){$s.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new HT(u):new koe(u)};function ece({protectedKeys:r,needsAnimating:e},t){const s=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function hz(r,e,{delay:t=0,transitionOverride:s,type:a}={}){let{transition:n=r.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(n=s);const c=[],d=a&&r.animationState&&r.animationState.getState()[a];for(const u in l){const h=r.getValue(u,r.latestValues[u]??null),m=l[u];if(m===void 0||d&&ece(d,u))continue;const p={delay:t,...WT(n||{},u)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===b&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const w=uz(r);if(w){const k=window.MotionHandoffAnimation(w,u,$s);k!==null&&(p.startTime=k,x=!0)}}nE(r,u),h.start(aC(u,h,m,r.shouldReduceMotion&&R9.has(u)?{type:!1}:p,r,x));const y=h.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{$s.update(()=>{o&&$le(r,o)})}),c}function fz(r,e,t,s=0,a=1){const n=Array.from(r).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=r.size,l=(o-1)*s;return typeof t=="function"?t(n,o):a===1?n*s:l-n*s}function iE(r,e,t={}){const s=bm(r,e,t.type==="exit"?r.presenceContext?.custom:void 0);let{transition:a=r.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const n=s?()=>Promise.all(hz(r,s,t)):()=>Promise.resolve(),o=r.variantChildren&&r.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=a;return tce(r,e,c,d,u,h,t)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[n,o]:[o,n];return c().then(()=>d())}else return Promise.all([n(),o(t.delay)])}function tce(r,e,t=0,s=0,a=0,n=1,o){const l=[];for(const c of r.variantChildren)c.notify("AnimationStart",e),l.push(iE(c,e,{...o,delay:t+(typeof s=="function"?0:s)+fz(r.variantChildren,c,s,a,n)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function rce(r,e,t={}){r.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(n=>iE(r,n,t));s=Promise.all(a)}else if(typeof e=="string")s=iE(r,e,t);else{const a=typeof e=="function"?bm(r,e,t.custom):e;s=Promise.all(hz(r,a,t))}return s.then(()=>{r.notify("AnimationComplete",e)})}function mz(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let s=0;s<t;s++)if(e[s]!==r[s])return!1;return!0}const sce=ZT.length;function gz(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?gz(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<sce;t++){const s=ZT[t],a=r.props[s];(Jp(a)||a===!1)&&(e[s]=a)}return e}const ace=[...KT].reverse(),nce=KT.length;function ice(r){return e=>Promise.all(e.map(({animation:t,options:s})=>rce(r,t,s)))}function oce(r){let e=ice(r),t=$6(),s=!0;const a=c=>(d,u)=>{const h=bm(r,u,c==="exit"?r.presenceContext?.custom:void 0);if(h){const{transition:m,transitionEnd:p,...b}=h;d={...d,...b,...p}}return d};function n(c){e=c(r)}function o(c){const{props:d}=r,u=gz(r.parent)||{},h=[],m=new Set;let p={},b=1/0;for(let y=0;y<nce;y++){const w=ace[y],k=t[w],N=d[w]!==void 0?d[w]:u[w],T=Jp(N),E=w===c?k.isActive:null;E===!1&&(b=y);let I=N===u[w]&&N!==d[w]&&T;if(I&&s&&r.manuallyAnimateOnMount&&(I=!1),k.protectedKeys={...p},!k.isActive&&E===null||!N&&!k.prevProp||G2(N)||typeof N=="boolean")continue;const S=lce(k.prevProp,N);let A=S||w===c&&k.isActive&&!I&&T||y>b&&T,P=!1;const O=Array.isArray(N)?N:[N];let M=O.reduce(a(w),{});E===!1&&(M={});const{prevResolvedValues:L={}}=k,B={...L,...M},G=W=>{A=!0,m.has(W)&&(P=!0,m.delete(W)),k.needsAnimating[W]=!0;const ne=r.getValue(W);ne&&(ne.liveStyle=!1)};for(const W in B){const ne=M[W],U=L[W];if(p.hasOwnProperty(W))continue;let z=!1;aE(ne)&&aE(U)?z=!mz(ne,U):z=ne!==U,z?ne!=null?G(W):m.add(W):ne!==void 0&&m.has(W)?G(W):k.protectedKeys[W]=!0}k.prevProp=N,k.prevResolvedValues=M,k.isActive&&(p={...p,...M}),s&&r.blockInitialAnimation&&(A=!1);const X=I&&S;A&&(!X||P)&&h.push(...O.map(W=>{const ne={type:w};if(typeof W=="string"&&s&&!X&&r.manuallyAnimateOnMount&&r.parent){const{parent:U}=r,z=bm(U,W);if(U.enteringChildren&&z){const{delayChildren:Q}=z.transition||{};ne.delay=fz(U.enteringChildren,r,Q)}}return{animation:W,options:ne}}))}if(m.size){const y={};if(typeof d.initial!="boolean"){const w=bm(r,Array.isArray(d.initial)?d.initial[0]:d.initial);w&&w.transition&&(y.transition=w.transition)}m.forEach(w=>{const k=r.getBaseTarget(w),N=r.getValue(w);N&&(N.liveStyle=!0),y[w]=k??null}),h.push({animation:y})}let x=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!r.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(h):Promise.resolve()}function l(c,d){if(t[c].isActive===d)return Promise.resolve();r.variantChildren?.forEach(h=>h.animationState?.setActive(c,d)),t[c].isActive=d;const u=o(c);for(const h in t)t[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:n,getState:()=>t,reset:()=>{t=$6(),s=!0}}}function lce(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!mz(e,r):!1}function Ru(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $6(){return{animate:Ru(!0),whileInView:Ru(),whileHover:Ru(),whileTap:Ru(),whileDrag:Ru(),whileFocus:Ru(),exit:Ru()}}class tu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cce extends tu{constructor(e){super(e),e.animationState||(e.animationState=oce(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();G2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dce=0;class uce extends tu{constructor(){super(...arguments),this.id=dce++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hce={animation:{Feature:cce},exit:{Feature:uce}};function tx(r,e,t,s={passive:!0}){return r.addEventListener(e,t,s),()=>r.removeEventListener(e,t)}function ab(r){return{point:{x:r.pageX,y:r.pageY}}}const fce=r=>e=>YT(e)&&r(e,ab(e));function yp(r,e,t,s){return tx(r,e,fce(t),s)}const pz=1e-4,mce=1-pz,gce=1+pz,xz=.01,pce=0-xz,xce=0+xz;function Gn(r){return r.max-r.min}function bce(r,e,t){return Math.abs(r-e)<=t}function W6(r,e,t,s=.5){r.origin=s,r.originPoint=qs(e.min,e.max,r.origin),r.scale=Gn(t)/Gn(e),r.translate=qs(t.min,t.max,r.origin)-r.originPoint,(r.scale>=mce&&r.scale<=gce||isNaN(r.scale))&&(r.scale=1),(r.translate>=pce&&r.translate<=xce||isNaN(r.translate))&&(r.translate=0)}function vp(r,e,t,s){W6(r.x,e.x,t.x,s?s.originX:void 0),W6(r.y,e.y,t.y,s?s.originY:void 0)}function q6(r,e,t){r.min=t.min+e.min,r.max=r.min+Gn(e)}function yce(r,e,t){q6(r.x,e.x,t.x),q6(r.y,e.y,t.y)}function G6(r,e,t){r.min=e.min-t.min,r.max=r.min+Gn(e)}function wp(r,e,t){G6(r.x,e.x,t.x),G6(r.y,e.y,t.y)}function ao(r){return[r("x"),r("y")]}const bz=({current:r})=>r?r.ownerDocument.defaultView:null,Y6=(r,e)=>Math.abs(r-e);function vce(r,e){const t=Y6(r.x,e.x),s=Y6(r.y,e.y);return Math.sqrt(t**2+s**2)}class yz{constructor(e,t,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:n=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=GN(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,b=vce(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!b)return;const{point:x}=m,{timestamp:y}=cn;this.history.push({...x,timestamp:y});const{onStart:w,onMove:k}=this.handlers;p||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=qN(p,this.transformPagePoint),$s.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=GN(m.type==="pointercancel"?this.lastMoveEventInfo:qN(p,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,w),x&&x(m,w)},!YT(e))return;this.dragSnapToOrigin=n,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const l=ab(e),c=qN(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=cn;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=t;h&&h(e,GN(c,this.history)),this.removeListeners=tb(yp(this.contextWindow,"pointermove",this.handlePointerMove),yp(this.contextWindow,"pointerup",this.handlePointerUp),yp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bd(this.updatePoint)}}function qN(r,e){return e?{point:e(r.point)}:r}function X6(r,e){return{x:r.x-e.x,y:r.y-e.y}}function GN({point:r},e){return{point:r,delta:X6(r,vz(e)),offset:X6(r,wce(e)),velocity:kce(e,.1)}}function wce(r){return r[0]}function vz(r){return r[r.length-1]}function kce(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,s=null;const a=vz(r);for(;t>=0&&(s=r[t],!(a.timestamp-s.timestamp>Nl(e)));)t--;if(!s)return{x:0,y:0};const n=Sl(a.timestamp-s.timestamp);if(n===0)return{x:0,y:0};const o={x:(a.x-s.x)/n,y:(a.y-s.y)/n};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _ce(r,{min:e,max:t},s){return e!==void 0&&r<e?r=s?qs(e,r,s.min):Math.max(r,e):t!==void 0&&r>t&&(r=s?qs(t,r,s.max):Math.min(r,t)),r}function K6(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function Nce(r,{top:e,left:t,bottom:s,right:a}){return{x:K6(r.x,t,a),y:K6(r.y,e,s)}}function Z6(r,e){let t=e.min-r.min,s=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,s]=[s,t]),{min:t,max:s}}function Sce(r,e){return{x:Z6(r.x,e.x),y:Z6(r.y,e.y)}}function jce(r,e){let t=.5;const s=Gn(r),a=Gn(e);return a>s?t=Kp(e.min,e.max-s,r.min):s>a&&(t=Kp(r.min,r.max-a,e.min)),Ac(0,1,t)}function Ece(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const oE=.35;function Ace(r=oE){return r===!1?r=0:r===!0&&(r=oE),{x:Q6(r,"left","right"),y:Q6(r,"top","bottom")}}function Q6(r,e,t){return{min:J6(r,e),max:J6(r,t)}}function J6(r,e){return typeof r=="number"?r:r[e]||0}const Tce=new WeakMap;class Cce{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fa(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const n=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ab(h).point)},o=(h,m)=>{const{drag:p,dragPropagation:b,onDragStart:x}=this.getProps();if(p&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Loe(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ao(w=>{let k=this.getAxisMotionValue(w).get()||0;if(jl.test(k)){const{projection:N}=this.visualElement;if(N&&N.layout){const T=N.layout.layoutBox[w];T&&(k=Gn(T)*(parseFloat(k)/100))}}this.originPoint[w]=k}),x&&$s.postRender(()=>x(h,m)),nE(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:b,onDirectionLock:x,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=m;if(b&&this.currentDirection===null){this.currentDirection=Pce(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),y&&y(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ao(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new yz(e,{onSessionStart:n,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:bz(this.visualElement)})}stop(e,t){const s=e||this.latestPointerEvent,a=t||this.latestPanInfo,n=this.isDragging;if(this.cancel(),!n||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&$s.postRender(()=>l(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:a}=this.getProps();if(!s||!tv(e,a,this.currentDirection))return;const n=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=_ce(o,this.constraints[e],this.elastic[e])),n.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&om(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Nce(s.layoutBox,e):this.constraints=!1,this.elastic=Ace(t),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ao(n=>{this.constraints!==!1&&this.getAxisMotionValue(n)&&(this.constraints[n]=Ece(s.layoutBox[n],this.constraints[n]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!om(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const n=Rle(s,a.root,this.visualElement.getTransformPagePoint());let o=Sce(a.layout.layoutBox,n);if(t){const l=t(Tle(o));this.hasMutatedConstraints=!!l,l&&(o=sz(l))}return o}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:a,dragTransition:n,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ao(u=>{if(!tv(u,t,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=a?200:1e6,p=a?40:1e7,b={type:"inertia",velocity:s?e[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...n,...h};return this.startAxisValueAnimation(u,b)});return Promise.all(d).then(l)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return nE(this.visualElement,e),s.start(aC(e,s,0,t,this.visualElement,!1))}stopAnimation(){ao(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ao(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[t];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ao(t=>{const{drag:s}=this.getProps();if(!tv(t,s,this.currentDirection))return;const{projection:a}=this.visualElement,n=this.getAxisMotionValue(t);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[t];n.set(e[t]-qs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!om(t)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ao(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=jce({min:c,max:c},this.constraints[o])}});const{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ao(o=>{if(!tv(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(qs(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;Tce.set(this.visualElement,this);const e=this.visualElement.current,t=yp(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();om(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,n=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),$s.read(s);const o=tx(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ao(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),t(),n(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:n=!1,dragElastic:o=oE,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:a,dragConstraints:n,dragElastic:o,dragMomentum:l}}}function tv(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function Pce(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class Rce extends tu{constructor(e){super(e),this.removeGroupControls=uo,this.removeListeners=uo,this.controls=new Cce(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||uo}unmount(){this.removeGroupControls(),this.removeListeners()}}const e5=r=>(e,t)=>{r&&$s.postRender(()=>r(e,t))};class Ice extends tu{constructor(){super(...arguments),this.removePointerDownListener=uo}onPointerDown(e){this.session=new yz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bz(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:e5(e),onStart:e5(t),onMove:s,onEnd:(n,o)=>{delete this.session,a&&$s.postRender(()=>a(n,o))}}}mount(){this.removePointerDownListener=yp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const H1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function t5(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const jg={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(sr.test(r))r=parseFloat(r);else return r;const t=t5(r,e.target.x),s=t5(r,e.target.y);return`${t}% ${s}%`}},Dce={correct:(r,{treeScale:e,projectionDelta:t})=>{const s=r,a=Ud.parse(r);if(a.length>5)return s;const n=Ud.createTransformer(r),o=typeof a[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=qs(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),n(a)}};let YN=!1;class Oce extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:a}=this.props,{projection:n}=e;sle(Mce),n&&(t.group&&t.group.add(n),s&&s.register&&a&&s.register(n),YN&&n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),H1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:a,isPresent:n}=this.props,{projection:o}=s;return o&&(o.isPresent=n,YN=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==n?o.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?o.promote():o.relegate()||$s.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),GT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:a}=e;YN=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wz(r){const[e,t]=H9(),s=R.useContext(ST);return i.jsx(Oce,{...r,layoutGroup:s,switchLayoutGroup:R.useContext(tz),isPresent:e,safeToRemove:t})}const Mce={borderRadius:{...jg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jg,borderTopRightRadius:jg,borderBottomLeftRadius:jg,borderBottomRightRadius:jg,boxShadow:Dce};function Fce(r,e,t){const s=An(r)?r:Mm(r);return s.start(aC("",s,e,t)),s.animation}const Lce=(r,e)=>r.depth-e.depth;class Bce{constructor(){this.children=[],this.isDirty=!1}add(e){AT(this.children,e),this.isDirty=!0}remove(e){TT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lce),this.isDirty=!1,this.children.forEach(e)}}function Uce(r,e){const t=li.now(),s=({timestamp:a})=>{const n=a-t;n>=e&&(Bd(s),r(n-e))};return $s.setup(s,!0),()=>Bd(s)}const kz=["TopLeft","TopRight","BottomLeft","BottomRight"],zce=kz.length,r5=r=>typeof r=="string"?parseFloat(r):r,s5=r=>typeof r=="number"||sr.test(r);function Vce(r,e,t,s,a,n){a?(r.opacity=qs(0,t.opacity??1,Hce(s)),r.opacityExit=qs(e.opacity??1,0,$ce(s))):n&&(r.opacity=qs(e.opacity??1,t.opacity??1,s));for(let o=0;o<zce;o++){const l=`border${kz[o]}Radius`;let c=a5(e,l),d=a5(t,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||s5(c)===s5(d)?(r[l]=Math.max(qs(r5(c),r5(d),s),0),(jl.test(d)||jl.test(c))&&(r[l]+="%")):r[l]=d}(e.rotate||t.rotate)&&(r.rotate=qs(e.rotate||0,t.rotate||0,s))}function a5(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const Hce=_z(0,.5,c9),$ce=_z(.5,.95,uo);function _z(r,e,t){return s=>s<r?0:s>e?1:t(Kp(r,e,s))}function n5(r,e){r.min=e.min,r.max=e.max}function Zi(r,e){n5(r.x,e.x),n5(r.y,e.y)}function i5(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function o5(r,e,t,s,a){return r-=e,r=Rw(r,1/t,s),a!==void 0&&(r=Rw(r,1/a,s)),r}function Wce(r,e=0,t=1,s=.5,a,n=r,o=r){if(jl.test(e)&&(e=parseFloat(e),e=qs(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=qs(n.min,n.max,s);r===n&&(l-=e),r.min=o5(r.min,e,t,l,a),r.max=o5(r.max,e,t,l,a)}function l5(r,e,[t,s,a],n,o){Wce(r,e[t],e[s],e[a],e.scale,n,o)}const qce=["x","scaleX","originX"],Gce=["y","scaleY","originY"];function c5(r,e,t,s){l5(r.x,e,qce,t?t.x:void 0,s?s.x:void 0),l5(r.y,e,Gce,t?t.y:void 0,s?s.y:void 0)}function d5(r){return r.translate===0&&r.scale===1}function Nz(r){return d5(r.x)&&d5(r.y)}function u5(r,e){return r.min===e.min&&r.max===e.max}function Yce(r,e){return u5(r.x,e.x)&&u5(r.y,e.y)}function h5(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function Sz(r,e){return h5(r.x,e.x)&&h5(r.y,e.y)}function f5(r){return Gn(r.x)/Gn(r.y)}function m5(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class Xce{constructor(){this.members=[]}add(e){AT(this.members,e),e.scheduleRender()}remove(e){if(TT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let s;for(let a=t;a>=0;a--){const n=this.members[a];if(n.isPresent!==!1){s=n;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kce(r,e,t){let s="";const a=r.x.translate/e.x,n=r.y.translate/e.y,o=t?.z||0;if((a||n||o)&&(s=`translate3d(${a}px, ${n}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:p,skewY:b}=t;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),m&&(s+=`rotateY(${m}deg) `),p&&(s+=`skewX(${p}deg) `),b&&(s+=`skewY(${b}deg) `)}const l=r.x.scale*e.x,c=r.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const XN=["","X","Y","Z"],Zce=1e3;let Qce=0;function KN(r,e,t,s){const{latestValues:a}=e;a[r]&&(t[r]=a[r],e.setStaticValue(r,0),s&&(s[r]=0))}function jz(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=uz(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:n}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",$s,!(a||n))}const{parent:s}=r;s&&!s.hasCheckedOptimisedAppear&&jz(s)}function Ez({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=e?.()){this.id=Qce++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tde),this.nodes.forEach(nde),this.nodes.forEach(ide),this.nodes.forEach(rde)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bce)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new RT),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=V9(o)&&!$oe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),r){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;$s.read(()=>{h=window.innerWidth}),r(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,u&&u(),u=Uce(m,250),H1.hasAnimatedSinceResize&&(H1.hasAnimatedSinceResize=!1,this.nodes.forEach(x5)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||ude,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=d.getProps(),w=!this.targetLayout||!Sz(this.targetLayout,p),k=!h&&m;if(this.options.layoutRoot||this.resumeFrom||k||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...WT(b,"layout"),onPlay:x,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(u,k)}else h||x5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ode),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(g5);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(p5);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ade),this.nodes.forEach(Jce),this.nodes.forEach(ede)):this.nodes.forEach(p5),this.clearAllSnapshots();const l=li.now();cn.delta=Ac(0,1e3/60,l-cn.timestamp),cn.timestamp=l,cn.isProcessing=!0,LN.update.process(cn),LN.preRender.process(cn),LN.render.process(cn),cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,GT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sde),this.sharedNodes.forEach(lde)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$s.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$s.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gn(this.snapshot.measuredBox.x)&&!Gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Nz(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Vu(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),hde(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return fa();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fde))){const{scroll:d}=this.root;d&&(lm(l.x,d.offset.x),lm(l.y,d.offset.y))}return l}removeElementScroll(o){const l=fa();if(Zi(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Zi(l,o),lm(l.x,u.offset.x),lm(l.y,u.offset.y))}return l}applyTransform(o,l=!1){const c=fa();Zi(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&cm(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Vu(u.latestValues)&&cm(c,u.latestValues)}return Vu(this.latestValues)&&cm(c,this.latestValues),c}removeTransform(o){const l=fa();Zi(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Vu(d.latestValues))continue;tE(d.latestValues)&&d.updateSnapshot();const u=fa(),h=d.measurePageBox();Zi(u,h),c5(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Vu(this.latestValues)&&c5(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=cn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fa(),this.relativeTargetOrigin=fa(),wp(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fa(),this.targetWithTransforms=fa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yce(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zi(this.target,this.layout.layoutBox),nz(this.target,this.targetDelta)):Zi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fa(),this.relativeTargetOrigin=fa(),wp(this.relativeTargetOrigin,this.target,m.target),Zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||tE(this.parent.latestValues)||az(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===cn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Zi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Ple(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=fa());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(i5(this.prevProjectionDelta.x,this.projectionDelta.x),i5(this.prevProjectionDelta.y,this.projectionDelta.y)),vp(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!m5(this.projectionDelta.x,this.prevProjectionDelta.x)||!m5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dm(),this.projectionDelta=dm(),this.projectionDeltaWithTransform=dm()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=dm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=fa(),p=c?c.source:void 0,b=this.layout?this.layout.source:void 0,x=p!==b,y=this.getStack(),w=!y||y.members.length<=1,k=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(dde));this.animationProgress=0;let N;this.mixTargetDelta=T=>{const E=T/1e3;b5(h.x,o.x,E),b5(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wp(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cde(this.relativeTarget,this.relativeTargetOrigin,m,E),N&&Yce(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=fa()),Zi(N,this.relativeTarget)),x&&(this.animationValues=u,Vce(u,d,this.latestValues,E,k,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Bd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$s.update(()=>{H1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Mm(0)),this.currentAnimation=Fce(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Zce),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Az(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||fa();const h=Gn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=Gn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Zi(l,c),cm(l,u),vp(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Xce),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&KN("z",o,d,this.animationValues);for(let u=0;u<XN.length;u++)KN(`rotate${XN[u]}`,o,d,this.animationValues),KN(`skew${XN[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=V1(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=V1(l?.pointerEvents)||""),this.hasProjected&&!Vu(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=Kce(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const b in ex){if(u[b]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:w}=ex[b],k=h==="none"?u[b]:x(u[b],d);if(y){const N=y.length;for(let T=0;T<N;T++)o[y[T]]=k}else w?this.options.visualElement.renderState.vars[b]=k:o[b]=k}this.options.layoutId&&(o.pointerEvents=d===this?V1(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(g5),this.root.sharedNodes.clear()}}}function Jce(r){r.updateLayout()}function ede(r){const e=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:s}=r.layout,{animationType:a}=r.options,n=e.source!==r.layout.source;a==="size"?ao(u=>{const h=n?e.measuredBox[u]:e.layoutBox[u],m=Gn(h);h.min=t[u].min,h.max=h.min+m}):Az(a,e.layoutBox,t)&&ao(u=>{const h=n?e.measuredBox[u]:e.layoutBox[u],m=Gn(t[u]);h.max=h.min+m,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[u].max=r.relativeTarget[u].min+m)});const o=dm();vp(o,t,e.layoutBox);const l=dm();n?vp(l,r.applyTransform(s,!0),e.measuredBox):vp(l,t,e.layoutBox);const c=!Nz(o);let d=!1;if(!r.resumeFrom){const u=r.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:m}=u;if(h&&m){const p=fa();wp(p,e.layoutBox,h.layoutBox);const b=fa();wp(b,t,m.layoutBox),Sz(p,b)||(d=!0),u.options.layoutRoot&&(r.relativeTarget=b,r.relativeTargetOrigin=p,r.relativeParent=u)}}}r.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(r.isLead()){const{onExitComplete:t}=r.options;t&&t()}r.options.transition=void 0}function tde(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function rde(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function sde(r){r.clearSnapshot()}function g5(r){r.clearMeasurements()}function p5(r){r.isLayoutDirty=!1}function ade(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function x5(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function nde(r){r.resolveTargetDelta()}function ide(r){r.calcProjection()}function ode(r){r.resetSkewAndRotation()}function lde(r){r.removeLeadSnapshot()}function b5(r,e,t){r.translate=qs(e.translate,0,t),r.scale=qs(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function y5(r,e,t,s){r.min=qs(e.min,t.min,s),r.max=qs(e.max,t.max,s)}function cde(r,e,t,s){y5(r.x,e.x,t.x,s),y5(r.y,e.y,t.y,s)}function dde(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const ude={duration:.45,ease:[.4,0,.1,1]},v5=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),w5=v5("applewebkit/")&&!v5("chrome/")?Math.round:uo;function k5(r){r.min=w5(r.min),r.max=w5(r.max)}function hde(r){k5(r.x),k5(r.y)}function Az(r,e,t){return r==="position"||r==="preserve-aspect"&&!bce(f5(e),f5(t),.2)}function fde(r){return r!==r.root&&r.scroll?.wasRoot}const mde=Ez({attachResizeListener:(r,e)=>tx(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ZN={current:void 0},Tz=Ez({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!ZN.current){const r=new mde({});r.mount(window),r.setOptions({layoutScroll:!0}),ZN.current=r}return ZN.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),gde={pan:{Feature:Ice},drag:{Feature:Rce,ProjectionNode:Tz,MeasureLayout:wz}};function _5(r,e,t){const{props:s}=r;r.animationState&&s.whileHover&&r.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,n=s[a];n&&$s.postRender(()=>n(e,ab(e)))}class pde extends tu{mount(){const{current:e}=this.node;e&&(this.unmount=Boe(e,(t,s)=>(_5(this.node,s,"Start"),a=>_5(this.node,a,"End"))))}unmount(){}}class xde extends tu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tb(tx(this.node.current,"focus",()=>this.onFocus()),tx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function N5(r,e,t){const{props:s}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&s.whileTap&&r.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),n=s[a];n&&$s.postRender(()=>n(e,ab(e)))}class bde extends tu{mount(){const{current:e}=this.node;e&&(this.unmount=Hoe(e,(t,s)=>(N5(this.node,s,"Start"),(a,{success:n})=>N5(this.node,a,n?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lE=new WeakMap,QN=new WeakMap,yde=r=>{const e=lE.get(r.target);e&&e(r)},vde=r=>{r.forEach(yde)};function wde({root:r,...e}){const t=r||document;QN.has(t)||QN.set(t,{});const s=QN.get(t),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(vde,{root:r,...e})),s[a]}function kde(r,e,t){const s=wde(e);return lE.set(r,t),s.observe(r),()=>{lE.delete(r),s.unobserve(r)}}const _de={some:0,all:1};class Nde extends tu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:a="some",once:n}=e,o={root:t?t.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:_de[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,n&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return kde(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Sde(e,t))&&this.startObserver()}unmount(){}}function Sde({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const jde={inView:{Feature:Nde},tap:{Feature:bde},focus:{Feature:xde},hover:{Feature:pde}},Ede={layout:{ProjectionNode:Tz,MeasureLayout:wz}},Ade={...hce,...jde,...gde,...Ede},Ct=Ale(Ade,zle);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cde=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),S5=r=>{const e=Cde(r);return e.charAt(0).toUpperCase()+e.slice(1)},Cz=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),Pde=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=R.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:n,iconNode:o,...l},c)=>R.createElement("svg",{ref:c,...Rde,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:Cz("lucide",a),...!n&&!Pde(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>R.createElement(d,u)),...Array.isArray(n)?n:[n]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(r,e)=>{const t=R.forwardRef(({className:s,...a},n)=>R.createElement(Ide,{ref:n,iconNode:e,className:Cz(`lucide-${Tde(S5(r))}`,`lucide-${r}`,s),...a}));return t.displayName=S5(r),t};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rx=Pt("arrow-right",Dde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],cE=Pt("award",Ode);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],Fde=Pt("badge-dollar-sign",Mde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bde=Pt("bell",Lde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],zde=Pt("building",Ude);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Hde=Pt("calculator",Vde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=[["path",{d:"m14 18 4-4 4 4",key:"ftkppy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M18 22v-8",key:"su0gjh"}],["path",{d:"M21 11.343V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9",key:"1exg90"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],Wde=Pt("calendar-arrow-up",$de);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]],Gde=Pt("calendar-check-2",qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],j5=Pt("camera",Yde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Kde=Pt("chart-no-axes-column",Xde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Qde=Pt("chart-pie",Zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eue=Pt("check",Jde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rue=Pt("chevron-down",tue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],E5=Pt("chevron-left",sue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kp=Pt("chevron-right",aue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dE=Pt("circle-alert",nue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],oue=Pt("circle-arrow-down",iue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Eo=Pt("circle-check-big",lue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nb=Pt("circle-check",cue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uue=Pt("circle-help",due);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Lm=Pt("circle-plus",hue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ym=Pt("circle-x",fue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],gue=Pt("cloud-upload",mue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],xue=Pt("dollar-sign",pue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],A5=Pt("eye-off",bue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T5=Pt("eye",yue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=[["path",{d:"M2 3v18",key:"pzttux"}],["rect",{width:"12",height:"18",x:"6",y:"3",rx:"2",key:"btr8bg"}],["path",{d:"M22 3v18",key:"6jf3v"}]],wue=Pt("gallery-horizontal",vue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]],_ue=Pt("heart-handshake",kue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Pz=Pt("heart",Nue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],uE=Pt("house",Sue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],eh=Pt("image",jue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sm=Pt("info",Eue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Tue=Pt("layout-dashboard",Aue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Rz=Pt("lightbulb",Cue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Iz=Pt("list",Pue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],rv=Pt("loader",Rue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dz=Pt("lock",Iue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Oue=Pt("log-out",Due);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Fue=Pt("map",Mue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Oz=Pt("menu",Lue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Mz=Pt("message-circle",Bue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],zue=Pt("message-square-plus",Uue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Hue=Pt("message-square",Vue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Wue=Pt("moon",$ue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Eh=Pt("package",que);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],hE=Pt("palette",Gue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Bm=Pt("pen",Yue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Kue=Pt("phone",Xue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nC=Pt("plus",Zue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],iC=Pt("refresh-cw",Que);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Fz=Pt("rocket",Jue);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],fE=Pt("ruler",ehe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rhe=Pt("save",the);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ahe=Pt("send",she);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oC=Pt("settings",nhe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Lz=Pt("shield-check",ihe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],C5=Pt("shield",ohe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],$1=Pt("shopping-bag",lhe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],dhe=Pt("shopping-cart",che);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],hhe=Pt("smile",uhe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],P5=Pt("square-check-big",fhe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],ghe=Pt("store",mhe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],xhe=Pt("sun",phe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yhe=Pt("tag",bhe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],whe=Pt("target",vhe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const khe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Bz=Pt("trash-2",khe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sx=Pt("trending-up",_he);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nhe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Uz=Pt("upload",Nhe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const She=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],jhe=Pt("user-round-check",She);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zd=Pt("user",Ehe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zz=Pt("users",Ahe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const The=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Che=Pt("video",The);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],vm=Pt("wallet",Phe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rhe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],th=Pt("x",Rhe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Dhe=Pt("zap",Ihe);function Vz(){const{currency:r,changeCurrency:e,loading:t,availableCurrencies:s=[]}=Jx(),a=[{code:"USD",label:"USD"},{code:"NGN",label:"NGN"},{code:"GBP",label:"GBP"},{code:"JPY",label:"JPY"},{code:"GHS",label:"GHS"},{code:"EUR",label:"EUR"},{code:"CAD",label:"CAD"},{code:"AUD",label:"AUD"},{code:"CNY",label:"CNY"},{code:"INR",label:"INR"}];return i.jsx("div",{className:"flex items-center",children:t?i.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Loading..."}):i.jsx("select",{value:r,onChange:n=>e(n.target.value),className:"rounded-md bg-gray-100 dark:bg-gray-700 text-xs text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500","aria-label":"Select currency",children:(s.length>0?s:a).map(n=>i.jsx("option",{value:n.code,children:n.code},n.code))})})}const Ohe=()=>{const[r,e]=R.useState(null),t=[{name:"Help & Support",path:"/support"},{name:"FAQ",path:"/support?tab=faq"}];return i.jsx("div",{className:"bg-gray-100 py-2 border-b border-gray-200 mt-16 sm:mt-8 md:mt-4 lg:mt-0 -mb-8 lg:mb-0",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"flex justify-end items-center text-[10px] sm:text-xs md:text-sm",children:[t.map((s,a)=>i.jsx("div",{className:"ml-4 first:ml-0 relative",children:i.jsx(Fe,{to:s.path,className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",onMouseEnter:()=>e(a),onMouseLeave:()=>e(null),children:s.name})},a)),i.jsx("div",{className:"ml-6 flex items-center text-gray-600",children:i.jsxs(Fe,{to:"/sell",className:"flex items-center hover:text-blue-600 transition-colors duration-200",children:[i.jsx(ghe,{className:"w-4 h-4 mr-1"}),i.jsx("span",{children:"Sell on Foremade"})]})}),i.jsx("div",{className:"ml-4 flex items-center",children:i.jsx(Vz,{})})]})})})},Mhe="/assets/nglogo-qvrtZOMI.png",Fhe="/assets/uklogo-CgNCKquW.png",Lhe=()=>{const[r,e]=R.useState(null),[t,s]=R.useState(null),[a,n]=R.useState(""),o=["Television & Accessories","Drinks & Beverages","Game & Console","Home & Living","Perfumes & Fragrances","Vehicles & Transport","Computers & Laptops"],l=m=>m.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),c=[{name:"twitter",icon:"bx bxl-twitter",color:"text-blue-400",url:"https://twitter.com"},{name:"instagram",icon:"bx bxl-instagram",color:"text-pink-400",url:"https://instagram.com"},{name:"facebook",icon:"bx bxl-facebook",color:"text-blue-600",url:"https://facebook.com"}],d=[{icon:"bxs-truck",title:"Fast Shipping",description:"Fast shipping all across the country"},{icon:"bx-check-shield",title:"Authentic Products",description:"100% Authentic products"},{icon:"bx-lock-alt",title:"100% Secure Payment",description:"We Ensure Secure Transactions"},{icon:"bx-headphone",title:"24/7 Support Center",description:"We Ensure Quality Support"}],u={account:[{name:"My Profile",url:"/profile"},{name:"My Orders",url:"/orders"},{name:"My Wishlist",url:"/favorites"}],about:[{name:"About Us",url:"/about"},{name:"Support",url:"/support"}]},h=m=>{m.preventDefault(),alert(`Thanks for subscribing with ${a}!`),n("")};return i.jsxs("footer",{className:"bg-white mt-16",children:[i.jsx("div",{className:"bg-gray-50 py-3 border-t border-b border-gray-200",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center text-xs text-gray-600",children:d.map((m,p)=>i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("i",{className:`bx ${m.icon} text-base mb-1 text-blue-500`}),i.jsx("p",{className:"font-semibold text-xs",children:m.title}),i.jsx("p",{className:"text-xs",children:m.description})]},p))})})}),i.jsx("div",{className:"bg-white text-gray-800 py-6",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex flex-wrap flex-row justify-between",children:[i.jsxs("div",{className:"w-full md:w-auto mb-6 md:mb-0",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx("span",{className:"text-lg font-bold",children:"Foremade"}),i.jsx("i",{className:"bx bx-chevron-up text-blue-500 rotate-45"})]}),i.jsxs("div",{className:"flex space-x-4 items-center mb-4",children:[c.map((m,p)=>i.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:`text-lg ${r===m.name?m.color:"text-gray-600"}`,onMouseEnter:()=>e(m.name),onMouseLeave:()=>e(null),children:i.jsx("i",{className:m.icon})},p)),i.jsxs("div",{className:"relative group ml-2",children:[i.jsxs("button",{className:"hover:text-blue-600 flex items-center",children:[i.jsx("img",{src:Fhe,alt:"UK flag",className:"h-4"}),i.jsx("i",{className:"bx bx-chevron-down ml-1"})]}),i.jsx("div",{className:"absolute hidden group-hover:block bg-white z-10 w-36 rounded-md shadow-xl border border-gray-200",children:i.jsx("span",{className:"block px-3 py-1 text-xs hover:bg-gray-100 cursor-pointer",children:i.jsx("img",{src:Mhe,alt:"NG flag",className:"h-4"})})})]})]}),i.jsxs("div",{className:"mb-4 md:max-w-xs",children:[i.jsx("h3",{className:"text-xs font-semibold mb-2",children:"Subscribe to our newsletter"}),i.jsxs("form",{onSubmit:h,className:"flex",children:[i.jsx("input",{type:"email",value:a,onChange:m=>n(m.target.value),placeholder:"Your email",className:"flex-1 p-1 border border-gray-300 rounded-l-md focus:outline-none focus:ring-1 focus:ring-blue-500 text-xs",required:!0}),i.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-2 py-1 rounded-r-md hover:bg-blue-600 text-xs",children:i.jsx("i",{className:"bx bx-envelope"})})]})]})]}),i.jsxs("div",{className:"flex flex-wrap w-full md:w-auto justify-between",children:[i.jsxs("div",{className:"w-1/3 pr-2",children:[i.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Categories"}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[o.slice(0,8).map((m,p)=>i.jsx("li",{children:i.jsx(Fe,{to:`/category/${l(m)}`,className:"text-gray-600 hover:text-blue-500 transition-colors",onMouseEnter:()=>s(`category-${p}`),onMouseLeave:()=>s(null),children:m})},p)),o.length>8&&i.jsx("li",{children:i.jsx(Fe,{to:"/products",className:"text-gray-600 hover:text-blue-500 transition-colors",onMouseEnter:()=>s("more-categories"),onMouseLeave:()=>s(null),children:"More Categories..."})})]})]}),i.jsxs("div",{className:"w-1/3 px-2",children:[i.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Account"}),i.jsx("ul",{className:"space-y-1 text-xs",children:u.account.map((m,p)=>i.jsx("li",{children:i.jsx(Fe,{to:m.url,className:"text-gray-600 hover:text-blue-500 transition-colors",onMouseEnter:()=>s(`account-${p}`),onMouseLeave:()=>s(null),children:m.name})},p))})]}),i.jsxs("div",{className:"w-1/3 pl-2",children:[i.jsx("h3",{className:"text-sm font-semibold mb-2",children:"About"}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[u.about.map((m,p)=>i.jsx("li",{children:i.jsx(Fe,{to:m.url,className:"text-gray-600 hover:text-blue-500 transition-colors",onMouseEnter:()=>s(`about-${p}`),onMouseLeave:()=>s(null),children:m.name})},p)),i.jsx("li",{children:i.jsx(Fe,{to:"/buyer-protection-policy",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Buyer Protection Policy"})}),i.jsx("li",{children:i.jsx(Fe,{to:"/refund-policy",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Refund Policy"})}),i.jsx("li",{children:i.jsx(Fe,{to:"/terms-conditions",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Terms & Conditions"})}),i.jsx("li",{children:i.jsx(Fe,{to:"/seller-agreement",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Seller Agreement"})}),i.jsx("li",{children:i.jsx(Fe,{to:"/shipping-policy",className:"text-gray-600 hover:text-blue-500 transition-colors",children:"Shipping Policy"})})]})]})]})]}),i.jsx("div",{className:"mt-6 text-center text-xs text-gray-400",children:i.jsxs("p",{children:[" ",new Date().getFullYear()," Foremade, Inc. All rights reserved."]})})]})})]})},sv={quote:"I always find what I need on Foremade, and the delivery is super fast. Highly recommended!",name:"Okafor C., Abuja",avatar:"https://randomuser.me/api/portraits/men/59.jpg"};function Bhe(){const r=[{image:"https://pngimg.com/uploads/vacuum_cleaner/vacuum_cleaner_PNG3.png",text:"Smart Shopping, Better Living",tagline:"Premium Products",description:"Discover curated collections from verified sellers worldwide",features:[{icon:"bx bx-certification",text:"Quality Assured",desc:"Verified products"},{icon:"bx bx-package",text:"Fast Delivery",desc:"Global shipping"}],button:"Explore Now",secondaryButton:"View Deals",link:"/products"},{image:"https://pngimg.com/uploads/tv/tv_PNG39223.png",text:"Premium Electronics",tagline:"Tech Essentials",description:"Find the latest tech from trusted sellers",features:[{icon:"bx bx-check-shield",text:"Warranty Assured",desc:"Extended coverage"},{icon:"bx bx-credit-card",text:"Easy Payment",desc:"Multiple options"}],button:"Browse Electronics",secondaryButton:"View Brands",link:"/category/electronics"}],[e,t]=R.useState(0),[s,a]=R.useState(!0);R.useEffect(()=>{if(!s)return;const o=setInterval(()=>{t(l=>(l+1)%r.length)},6e3);return()=>clearInterval(o)},[e,r.length,s]);const n=o=>{t(o),a(!1),setTimeout(()=>a(!0),1e4)};return i.jsxs("div",{className:"relative overflow-hidden my-4 mx-2 sm:mx-4 lg:mx-6 rounded-2xl border border-blue-800/30 h-[240px] xs:h-[260px] sm:h-[320px] lg:h-[440px] shadow-xl",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx(Ct.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-700 via-blue-400/60 to-amber-200 animate-gradient-x",initial:{opacity:0},animate:{opacity:.7},transition:{duration:1}}),i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20 sm:opacity-30 transition-all duration-700 scale-110",style:{backgroundImage:`url(${r[e].image})`}}),i.jsx("div",{className:"absolute inset-0 backdrop-blur-md"})]}),i.jsx(Ct.div,{className:"relative z-10 h-full flex items-center w-full",children:i.jsxs("div",{className:"w-full mx-auto px-3 xs:px-4 sm:px-8 lg:px-16 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-8 sm:gap-10 py-6 sm:py-10 flex-wrap",children:[i.jsxs("div",{className:"max-w-2xl w-full space-y-4 sm:space-y-6",children:[i.jsx(Ct.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"inline-flex items-center h-7 px-4 rounded-full bg-gradient-to-r from-blue-600/30 to-blue-400/20 border border-blue-500/30 mb-1",children:i.jsx("span",{className:"text-xs font-medium text-blue-100 tracking-wide",children:r[e].tagline})}),i.jsx(Ct.h2,{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold leading-tight text-white drop-shadow-lg",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:r[e].text}),i.jsx(Ct.p,{className:"hidden sm:block text-base sm:text-lg text-white/90 max-w-lg mt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r[e].description}),i.jsx("div",{className:"flex gap-3 mt-4",children:i.jsx(Fe,{to:r[e].link,className:"px-6 py-2 rounded-lg font-bold bg-gradient-to-r from-blue-600 to-blue-400 text-white shadow-lg hover:from-blue-400 hover:to-blue-600 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400 animate-pulse",children:r[e].button})})]}),i.jsxs(Ct.div,{className:"hidden sm:flex flex-col items-center justify-center bg-white/30 backdrop-blur-lg rounded-2xl p-6 shadow-lg max-w-xs ml-0 sm:ml-8 mt-8 sm:mt-0 border border-blue-100/30",initial:{opacity:0,x:30},animate:{opacity:1,x:0},children:[i.jsx("img",{src:sv.avatar,alt:sv.name,className:"w-16 h-16 rounded-full border-4 border-blue-300 shadow mb-3"}),i.jsx("p",{className:"text-base text-gray-900 font-medium italic mb-2 text-center",children:sv.quote}),i.jsx("span",{className:"text-xs text-gray-700 font-semibold",children:sv.name})]})]})}),i.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-2 z-20",children:r.map((o,l)=>i.jsx("button",{onClick:()=>n(l),className:"group","aria-label":`Go to slide ${l+1}`,children:i.jsx("span",{className:`block w-3 h-3 rounded-full transition-all duration-200 ${e===l?"bg-blue-400 scale-125 shadow-lg shadow-blue-400/50":"bg-white/40 group-hover:bg-white/60 group-hover:scale-105"}`})},l))})]})}const Uhe=()=>{const[r,e]=R.useState(!1);R.useEffect(()=>{localStorage.getItem("cookiesAccepted")||e(!0)},[]);const t=()=>{localStorage.setItem("cookiesAccepted","true"),e(!1)};return r?i.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-8 md:right-8 bg-white shadow-lg rounded-lg p-4 z-50 border border-gray-200",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 max-w-7xl mx-auto",children:[i.jsx("div",{className:"flex-1 text-gray-600 text-sm md:text-base",children:"We use cookies to improve your experience on our site. By using our site, you accept our use of cookies."}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("a",{href:"/cookie-policy",className:"text-[#112d4e] hover:text-[#112d4e] text-sm font-medium hover:underline",children:"Learn more"}),i.jsx("button",{onClick:t,className:"bg-[#112d4e] hover:bg-[#112d4e] text-white font-medium px-6 py-2 rounded-md transition-colors duration-200 text-sm",children:"Accept"})]})]})}):null},zhe=()=>{const[r,e]=R.useState({width:window.innerWidth,height:window.innerHeight});return R.useEffect(()=>{const t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r},Vhe=()=>{const[r,e]=R.useState([]),[t,s]=R.useState(0),[a,n]=R.useState(null),{width:o,isDesktop:l,isMobile:c,isTablet:d}=zhe();R.useEffect(()=>{(async()=>{try{const p=Xe(ve,"settings","carousel","slides"),b=await xt(p),x=new Map;sessionStorage.removeItem("carousel_slides"),b.docs.forEach(w=>{const k=w.data();console.log("Raw slide data:",k);const N={id:w.id,mediaType:k.mediaType||(k.desktop?.toLowerCase().match(/\.(mp4|webm)$/i)?"video":"image"),desktopMedia:k.desktop,tabletMedia:k.tablet,mobileMedia:k.mobile,buttonText:k.buttonText||"",buttonUrl:k.buttonUrl||"",buttonStyle:k.buttonStyle||"primary",alt:k.alt||`Slide ${w.id}`,createdAt:k.createdAt};x.set(w.id,N),console.log("Slide data:",{id:N.id,hasDesktop:!!N.desktopMedia,hasTablet:!!N.tabletMedia,hasMobile:!!N.mobileMedia,mediaType:N.mediaType,mediaUrls:{desktop:N.desktopMedia,tablet:N.tabletMedia,mobile:N.mobileMedia}})});const y=Array.from(x.values()).sort((w,k)=>new Date(k.createdAt)-new Date(w.createdAt));console.log("Total slides fetched:",y.length),e(y)}catch(p){console.error("Error fetching slides:",p)}})()},[]),R.useEffect(()=>{if(r.length===0)return;const m=setInterval(()=>{n(t),s(p=>(p+1)%r.length)},5e3);return()=>clearInterval(m)},[t,r.length]);const u=m=>{if(!m)return console.warn("Attempt to get media for undefined slide"),null;if(m.mediaType==="video"){const b=m.desktopMedia||m.tabletMedia||m.mobileMedia;return b||console.warn("No media found for video slide:",m.id),b}let p=null;return l?p=m.desktopMedia:d?p=m.tabletMedia:c&&(p=m.mobileMedia),p||(p=m.desktopMedia||m.tabletMedia||m.mobileMedia,p||console.warn("No media found for slide:",m.id)),p},h=m=>{if(m.mediaType==="video")return!0;const p=u(m);return p&&[".mp4",".webm",".mov"].some(x=>p.toLowerCase().endsWith(x))};return r.length===0?i.jsx("div",{className:"relative h-[310px] sm:h-[310px] md:h-[310px] lg:h-[400px] w-full overflow-hidden",children:i.jsx("div",{className:"absolute inset-0",children:i.jsx("div",{className:"w-full h-full bg-gray-200 animate-pulse"})})}):i.jsx("div",{className:"relative h-[300px] sm:h-[400px] md:h-[300px] lg:h-[500px] w-full overflow-hidden",children:r.map((m,p)=>i.jsx("div",{className:`absolute inset-0 transition-all duration-1000 ease-in-out ${p===t?"opacity-100 transform translate-x-0":p===a?"opacity-0 transform -translate-x-10":"opacity-0 transform translate-x-10"}`,children:i.jsxs("div",{className:"relative w-full h-full",children:[h(m)?i.jsx("video",{src:u(m),className:"w-full h-full object-cover object-center sm:object-[50%_50%]",style:{objectPosition:"center 35%"},autoPlay:!0,loop:!0,muted:!0,playsInline:!0,controls:!1,preload:"auto",onLoadStart:()=>{console.log("Video load started:",{slideId:m.id,url:u(m)})},onError:b=>{console.error("Video load error:",{slideId:m.id,url:u(m),error:b.target.error})}},m.id):i.jsx("img",{src:u(m),alt:m.alt||`Slide ${m.id}`,className:"w-full h-full object-cover object-center sm:object-[50%_50%]",style:{objectPosition:"center 35%"},loading:"eager",onError:b=>{console.error("Image load error:",{slideId:m.id,url:u(m),desktop:m.desktopMedia,tablet:m.tabletMedia,mobile:m.mobileMedia}),b.target.src="/src/assets/placeholder.png",b.target.onerror=null}},m.id),m.buttonText&&m.buttonUrl&&i.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2",children:i.jsx("a",{href:m.buttonUrl,className:`
                    inline-flex items-center justify-center
                    px-6 py-3 min-w-[140px]
                    rounded-lg font-medium text-base
                    transition-colors duration-200 ease-in-out
                    ${m.buttonStyle==="primary"?"bg-[#112d4e] hover:bg-[#0f2a44] text-white shadow-md":m.buttonStyle==="secondary"?"bg-[#FF5722] hover:bg-[#FF8A65] text-white shadow-md":"bg-white hover:bg-gray-100 text-gray-900 shadow-md"}
                  `,children:m.buttonText})})]})},m.id))})},Hz=({type:r="default",count:e=1})=>{const t=()=>{switch(r){case"featuredProduct":case"recommended":return i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-pulse",children:[...Array(e)].map((s,a)=>i.jsxs("div",{className:"w-full h-64 bg-gray-200 rounded-lg",children:[i.jsx("div",{className:"w-full h-48 bg-gray-300 rounded-t-lg"}),i.jsxs("div",{className:"p-2",children:[i.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},a))});case"productDetail":return i.jsx("div",{className:"animate-pulse",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-3",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"order-1",children:[i.jsx("div",{className:"w-full h-96 bg-gray-200 rounded-lg"}),i.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto scrollbar-hide",children:[...Array(4)].map((s,a)=>i.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-lg"},a))})]}),i.jsx("div",{className:"order-2 space-y-4",children:i.jsxs("div",{className:"product-info-card",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[...Array(1)].map((s,a)=>i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"},a))}),i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),i.jsxs("div",{className:"price-section",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[...Array(1)].map((s,a)=>i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/5"},a))}),i.jsx("div",{className:"h-10 bg-gray-200 rounded w-1/2 mb-4"}),i.jsx("div",{className:"h-10 bg-gray-200 rounded w-1/3 mb-4"}),i.jsx("div",{className:"h-10 bg-gray-200 rounded w-2/3 mb-4"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-12 bg-gray-200 rounded w-2/3"}),i.jsx("div",{className:"h-12 bg-gray-200 rounded w-1/6"})]})]})}),i.jsxs("div",{className:"order-3 md:order-2 lg:order-3 product-info-card mt-6",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-3"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"})]}),i.jsxs("div",{className:"order-4 lg:order-5 product-info-card",style:{marginBottom:"2rem"},children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-3"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),i.jsx("div",{className:"h-16 bg-gray-200 rounded w-full mb-2"})]})]})}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"sticky top-4 space-y-6",children:[i.jsxs("div",{className:"product-info-card",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),i.jsx("div",{className:"space-y-4",children:[...Array(4)].map((s,a)=>i.jsxs("div",{className:"h-20 bg-gray-200 rounded-lg flex",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-lg mr-2"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},a))})]}),i.jsxs("div",{className:"product-info-card",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),i.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,a)=>i.jsxs("div",{className:"h-16 bg-gray-200 rounded-lg flex",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-lg mr-2"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},a))})]})]})})]})});case"categories":return i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 animate-pulse",children:[i.jsx("div",{className:"sm:col-span-2 h-40 bg-gray-200 rounded-lg"}),i.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"}),i.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"}),i.jsx("div",{className:"h-40 bg-gray-200 rounded-lg max-md:hidden"}),i.jsx("div",{className:"h-40 bg-gray-200 rounded-lg max-md:hidden"})]});default:return i.jsx("div",{className:"w-80 sm:w-full h-40 bg-gray-200 rounded-lg animate-pulse",children:i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"h-5 bg-gray-300 rounded w-1/2 mb-2"}),i.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/4 mb-4"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded-md"}),i.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded-md"})]})]})})}};return i.jsx("div",{className:r==="default"?"flex gap-4 overflow-x-auto":"",children:[...Array(r==="featuredProduct"||r==="recommended"||r==="productDetail"||r==="categories"?1:e)].map((s,a)=>i.jsx("div",{className:r==="default"?"flex-shrink-0":"",children:t()},a))})},Hhe="/assets/go-KqmyPzJd.jpg",$he=()=>{const[r,e]=R.useState(!0);return R.useEffect(()=>{const t=setTimeout(()=>{e(!1)},1500);return()=>clearTimeout(t)},[]),r?i.jsxs("section",{className:"container mx-auto px-4 py-8",children:[i.jsx("h2",{className:"text-lg sm:text-lg md:text-xl font-bold text-gray-800 mb-4",children:"Top Categories"}),i.jsx(Hz,{type:"categories"})]}):i.jsxs("section",{className:"container mx-auto px-4 py-8",children:[i.jsx("h2",{className:"text-lg sm:text-lg md:text-xl font-bold text-gray-800 mb-4",children:"Top Categories"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 ",children:[i.jsxs("div",{className:"p-5 md:col-span-2 bg-gradient-to-br from-[#D1FAE5] to-[#A7F3D0] rounded-2xl sm:p-3 text-gray-900 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:[i.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-white rounded-full"}),i.jsx("div",{className:"absolute top-1/2 -left-8 w-16 h-16 bg-white rounded-full"}),i.jsx("div",{className:"absolute -bottom-6 right-1/3 w-20 h-20 bg-white rounded-full"})]}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-1",children:"ForemadeGo"}),i.jsx("p",{className:"text-teal-100 text-xs sm:text-sm font-medium",children:"Lightning Fast  Ultra Secure"})]}),i.jsx("div",{className:"hidden sm:block",children:i.jsx("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzAiIGN5PSIzMCIgcj0iMzAiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMiIvPgo8cGF0aCBkPSJNMjAgMjVIMzVMMzAgMzVIMjBWMjVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",alt:"Delivery",className:"w-8 h-8"})})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 mb-2 items-stretch",children:[i.jsxs("div",{className:"flex flex-col justify-center flex-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-white/30 backdrop-blur-sm rounded-xl p-2",children:[i.jsx("div",{className:"bg-white/40 rounded-full p-1",children:i.jsx(Dhe,{className:"w-4 h-4 text-teal-500"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-xs text-gray-800",children:"Integrated with Foremade"}),i.jsx("p",{className:"text-teal-600 text-xs",children:"Get your orders in record time"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 bg-white/30 backdrop-blur-sm rounded-xl p-2",children:[i.jsx("div",{className:"bg-white/40 rounded-full p-1",children:i.jsx(C5,{className:"w-4 h-4 text-teal-500"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-xs text-gray-800",children:"100% Secure"}),i.jsx("p",{className:"text-teal-600 text-xs",children:"Your packages, guaranteed safe"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-2 flex items-center justify-center gap-12 mt-2",children:[i.jsx("h3",{className:"text-teal-700 text-xs font-semibold mb-0",children:"Get Delivery in Minutes"}),i.jsxs("a",{href:"https://foremadego.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 bg-gradient-to-r from-teal-400 to-teal-600 hover:from-teal-500 hover:to-teal-700 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-300 shadow-md text-[10px]",children:["Track your orders here",i.jsx(rx,{className:"w-3.5 h-3.5"})]})]})]}),i.jsx("div",{className:"flex flex-col items-center justify-center flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-56 h-56 sm:w-64 sm:h-64 rounded-2xl overflow-hidden shadow-xl border-4 border-white/40",children:i.jsx("img",{src:Hhe,alt:"Happy ForemadeGo delivery person on motorcycle",className:"w-full h-full object-cover"})}),i.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-200 text-teal-700 px-2 py-0.5 rounded-full text-[0.65rem] font-bold shadow-lg",children:"#1 Rated"})]})})]}),i.jsxs("div",{className:"text-center mt-1 flex items-center justify-center gap-2",children:[i.jsx(Fz,{className:"w-4 h-4 text-teal-400",title:"Speed"}),i.jsx(C5,{className:"w-4 h-4 text-teal-400",title:"Security"}),i.jsx(hhe,{className:"w-4 h-4 text-teal-400",title:"Satisfaction Guaranteed"})]})]})]}),i.jsxs("div",{className:"md:col-span-1 bg-[#E0F4FF] text-black rounded-lg p-4 sm:p-6 flex flex-col sm:flex-row max-md:items-center items-left justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-2",children:"Cut the Price, Not the Features"}),i.jsx("p",{className:"text-sm sm:text-xs mb-4",children:"Get the latest phones at 20% off"}),i.jsx("a",{href:"/electronics",className:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm sm:text-xs inline-block",children:"Buy Now"})]}),i.jsx("div",{className:"mt-4 sm:mt-0 sm:self-start",children:i.jsx("img",{src:"https://pngimg.com/uploads/iphone16/small/iphone16_PNG6.png",alt:"Phone",className:"w-20 h-40"})})]}),i.jsxs("div",{className:"bg-[#EDE9FE] text-black rounded-lg p-4 sm:p-6 flex sm:flex-row items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold mb-2",children:"Style Meets Function"}),i.jsx("a",{href:"/electronics",className:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm sm:text-xs inline-block",children:"Shop Now"})]}),i.jsx("div",{className:"mt-4 sm:mt-0",children:i.jsx("img",{src:"https://pngimg.com/uploads/laptop/small/laptop_PNG101763.png",alt:"Laptop",className:"w-24 sm:w-28 h-auto"})})]}),i.jsxs("div",{className:"bg-[#FFE5E5] text-black rounded-lg p-4 sm:p-6 flex sm:flex-row items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold mb-2",children:"Capture the Magic Around"}),i.jsx("a",{href:"/electronics",className:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm sm:text-xs inline-block",children:"Shop Now"})]}),i.jsx("div",{className:"mt-4 sm:mt-0",children:i.jsx("img",{src:"https://pngimg.com/uploads/camera_lens/small/camera_lens_PNG4.png",alt:"Camera",className:"w-20 sm:w-24 h-auto"})})]}),i.jsxs("div",{className:"bg-[#E0F4FF] text-black rounded-lg p-4 sm:p-6 flex flex-col sm:flex-row items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold mb-2",children:"Health & Wellness"}),i.jsx("a",{href:"/health-beauty",className:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm sm:text-xs inline-block",children:"Shop Now"})]}),i.jsx("div",{className:"mt-4 sm:mt-0",children:i.jsx("img",{src:"https://pngimg.com/uploads/pills/small/pills_PNG16492.png",alt:"Bottle",className:"w-20 sm:w-24 h-auto"})})]})]})]})},av={quote:"Foremade helped me turn my side hustle into a real business. The dashboard and support are world-class!",name:"Sarah M., London",avatar:"https://randomuser.me/api/portraits/women/44.jpg"};function Whe(){const r=[{image:"https://pngimg.com/uploads/fan/fan_PNG14457.png",text:"Start Your Business Journey",tagline:"Empowering Entrepreneurs",description:"Join our marketplace and transform your passion into profit",features:[{icon:"bx bx-chart",text:"Analytics Dashboard",desc:"Track your growth"},{icon:"bx bx-shield-plus",text:"Secure Payments",desc:"Protected transactions"}],button:"Start Selling",secondaryButton:"Learn More",link:"/sell"},{image:"https://pngimg.com/uploads/laptop/laptop_PNG101773.png",text:"Grow Your Business",tagline:"Scale Globally",description:"Reach millions of potential customers worldwide",features:[{icon:"bx bx-globe",text:"Global Reach",desc:"Worldwide audience"},{icon:"bx bx-trending-up",text:"Growth Tools",desc:"Marketing suite"}],button:"Learn More",secondaryButton:"View Features",link:"/pro-seller-guide"}],[e,t]=R.useState(0),[s,a]=R.useState(!0);R.useEffect(()=>{if(!s)return;const o=setInterval(()=>{t(l=>(l+1)%r.length)},6e3);return()=>clearInterval(o)},[e,r.length,s]);const n=o=>{t(o),a(!1),setTimeout(()=>a(!0),1e4)};return i.jsxs("div",{className:"relative overflow-hidden my-4 mx-2 sm:mx-4 lg:mx-6 rounded-2xl border border-neutral-800/30 h-[240px] xs:h-[260px] sm:h-[320px] lg:h-[440px] shadow-xl",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx(Ct.div,{className:"absolute inset-0 bg-gradient-to-br from-amber-600 via-orange-400/60 to-blue-900 animate-gradient-x",initial:{opacity:0},animate:{opacity:.7},transition:{duration:1}}),i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20 sm:opacity-30 transition-all duration-700 scale-110",style:{backgroundImage:`url(${r[e].image})`}}),i.jsx("div",{className:"absolute inset-0 backdrop-blur-md"})]}),i.jsx(Ct.div,{className:"relative z-10 h-full flex items-center w-full",children:i.jsxs("div",{className:"w-full mx-auto px-3 xs:px-4 sm:px-8 lg:px-16 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-8 sm:gap-10 py-6 sm:py-10 flex-wrap",children:[i.jsxs("div",{className:"max-w-2xl w-full space-y-4 sm:space-y-6",children:[i.jsx(Ct.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"inline-flex items-center h-7 px-4 rounded-full bg-gradient-to-r from-amber-600/30 to-orange-400/20 border border-amber-500/30 mb-1",children:i.jsx("span",{className:"text-xs font-medium text-amber-100 tracking-wide",children:r[e].tagline})}),i.jsx(Ct.h2,{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold leading-tight text-white drop-shadow-lg",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:r[e].text}),i.jsx(Ct.p,{className:"hidden sm:block text-base sm:text-lg text-white/90 max-w-lg mt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r[e].description}),i.jsx("div",{className:"flex gap-3 mt-4",children:i.jsx(Fe,{to:r[e].link,className:"px-6 py-2 rounded-lg font-bold bg-gradient-to-r from-amber-500 to-orange-400 text-white shadow-lg hover:from-orange-400 hover:to-amber-500 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-amber-400 animate-pulse",children:r[e].button})})]}),i.jsxs(Ct.div,{className:"hidden sm:flex flex-col items-center justify-center bg-white/30 backdrop-blur-lg rounded-2xl p-6 shadow-lg max-w-xs ml-0 sm:ml-8 mt-8 sm:mt-0 border border-amber-100/30",initial:{opacity:0,x:30},animate:{opacity:1,x:0},children:[i.jsx("img",{src:av.avatar,alt:av.name,className:"w-16 h-16 rounded-full border-4 border-amber-300 shadow mb-3"}),i.jsx("p",{className:"text-base text-gray-900 font-medium italic mb-2 text-center",children:av.quote}),i.jsx("span",{className:"text-xs text-gray-700 font-semibold",children:av.name})]})]})}),i.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-2 z-20",children:r.map((o,l)=>i.jsx("button",{onClick:()=>n(l),className:"group","aria-label":`Go to slide ${l+1}`,children:i.jsx("span",{className:`block w-3 h-3 rounded-full transition-all duration-200 ${e===l?"bg-amber-400 scale-125 shadow-lg shadow-amber-400/50":"bg-white/40 group-hover:bg-white/60 group-hover:scale-105"}`})},l))})]})}function Ms({price:r}){const{convertPrice:e,loading:t}=Jx();return i.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:t?"...":e(r)})}const js="/assets/placeholder-ZIgPw8SE.png",Pa=({product:r,dailyDeals:e=[],selectedColor:t="",selectedSize:s="",selectedVariant:a=null,onClick:n,isFavorite:o=!1,toggleFavorite:l,cardClassName:c="",imageClassName:d="",priceClassName:u="",nameClassName:h=""})=>{const[m,p]=R.useState(o),[b,x]=R.useState(0),[y,w]=R.useState(""),[k,N]=R.useState(!1),[T,E]=R.useState(null),[I,S]=R.useState({buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),[A,P]=R.useState(!1);let O={...r,stock:Number(r.stock)||0};if(Array.isArray(e)&&r.id){const J=e.find(re=>re.productId===r.id&&re.discount&&(!re.endDate||new Date(re.endDate)>new Date)&&(!re.startDate||new Date(re.startDate)<=new Date));J&&(O.isDailyDeal=!0,O.discountPercentage=Number((J.discount*100).toFixed(2))||0)}const M=Array.isArray(O.variants)&&O.variants.length>0,L=Number(a?.price||r.price)||0,B=M?O.variants.map(J=>Number(J.price)||0).filter(J=>J>0):[L],G=B.length>0?Math.min(...B):L,X=B.length>0?Math.max(...B):L;R.useEffect(()=>{(async()=>{try{const Se=qe(ve,"feeConfigurations","categoryFees"),je=await wt(Se);je.exists()&&E(je.data())}catch(Se){console.error("Error fetching fee configurations:",Se)}})(),(async()=>{if(O.sellerId)try{const Ne=(await xt(Xe(ve,"proSellers"))).docs.map(xe=>xe.data()).some(xe=>xe.userId===O.sellerId);P(Ne)}catch(Se){console.error("Error checking pro seller status:",Se),P(!1)}})();let de=js;a?.imageUrls?.length>0?de=a.imageUrls.find(je=>typeof je=="string"&&je.startsWith("https://"))||a.imageUrls[0]||js:M&&O.variants[0]?.imageUrls?de=O.variants[0].imageUrls.find(je=>typeof je=="string"&&je.startsWith("https://"))||O.variants[0].imageUrls[0]||js:Array.isArray(O.imageUrls)&&O.imageUrls.length>0?de=O.imageUrls.find(je=>typeof je=="string"&&je.startsWith("https://"))||O.imageUrls[0]||js:O.imageUrl&&typeof O.imageUrl=="string"&&O.imageUrl.startsWith("https://")?de=O.imageUrl:console.warn(`Product ${O.id} has no valid imageUrl or imageUrls`),w(de),N(!1)},[O.id,O.imageUrls,O.imageUrl,O.variants,a]),R.useEffect(()=>{(async()=>{if(!r||!r.id){p(!1),x(0);return}try{const re=qe(ve,"products",r.id),de=await wt(re);if(de.exists()){const Se=de.data(),je=Ye.currentUser?.uid;p(je&&Array.isArray(Se.favoritedBy)&&Se.favoritedBy.includes(je)||o),x(Se.favoriteCount||0)}else p(!1),x(0)}catch(re){console.error("Error fetching favorite status:",re)}})()},[r.id,o]),R.useEffect(()=>{if(T&&O.category&&G>0){const J=T[O.category]||{buyerProtectionRate:.08,handlingRate:.2},re=G*J.buyerProtectionRate,de=G*J.handlingRate,Se=G+re+de;S({buyerProtectionFee:re,handlingFee:de,totalEstimatedPrice:Se,sellerEarnings:G})}},[T,O.category,G]);const H=L,W=I.totalEstimatedPrice,ne=O.isDailyDeal?Math.round(W*(1-O.discountPercentage/100)):W,U=M?I.totalEstimatedPrice:W;M&&Math.round((X+X*(T?.[O.category]?.buyerProtectionRate||.08)+X*(T?.[O.category]?.handlingRate||.2))*(O.isDailyDeal?1-O.discountPercentage/100:1));const z=async J=>{if(J.preventDefault(),J.stopPropagation(),l)l();else{const re=Ye.currentUser?.uid;try{const de=qe(ve,"products",r.id),Se=await wt(de);if(!Se.exists()){Ke.error("Product not found.");return}const je=Se.data(),Ne=je.favoriteCount||0,xe=je.favoritedBy||[];if(m)await Oi(de,{favoritedBy:Wre(re),favoriteCount:Math.max(0,Ne-1)}),p(!1),x(Math.max(0,Ne-1)),Ke.success("Removed from favorites!");else{if(xe.includes(re)){Ke.info("You have already favorited this product.");return}await Oi(de,{favoritedBy:$re(re),favoriteCount:Ne+1}),p(!0),x(Ne+1),Ke.success("Added to favorites!")}}catch(de){console.error("Error updating favorite:",de),Ke.error("Failed to update favorite. Try again!")}}},Q=(J,re=35)=>!J||typeof J!="string"?"No name available":J.length>re?J.substring(0,re)+"...":J,q=[...O.colors?Array.isArray(O.colors)?O.colors:[O.colors]:[],...M?[...new Set(O.variants.map(J=>J.color).filter(Boolean))]:[]].filter((J,re,de)=>de.indexOf(J)===re),Z=[...O.sizes?Array.isArray(O.sizes)?O.sizes:[O.sizes]:[],...M?[...new Set(O.variants.map(J=>J.size).filter(Boolean))]:[]].filter((J,re,de)=>de.indexOf(J)===re);return i.jsxs(Fe,{to:`/product/${O.id}`,onClick:n,className:`bg-[#F0F0F0] rounded-lg transition duration-300 flex flex-col min-w-0 overflow-hidden ${c}`,tabIndex:0,"aria-label":O.name,children:[i.jsxs("div",{className:`relative h-[200px] overflow-hidden rounded-t-lg min-w-0 bg-[#F0F0F0] flex items-center justify-center ${d}`,children:[i.jsx("img",{src:k?js:y,alt:O.name||"Product Image",className:"w-full h-full object-contain object-center max-w-full max-h-full",onError:J=>{k||(N(!0),w(js))},loading:"lazy",fetchPriority:"low"}),i.jsxs("button",{onClick:z,className:"absolute top-2 right-2 p-1.5 flex items-center justify-evenly bg-white/70 backdrop-blur-sm rounded-full hover:bg-white transition-colors","aria-label":m?"Remove from favorites":"Add to favorites",children:[i.jsx(Pz,{className:`w-5 h-5 ${m?"text-gray-600 fill-gray-600":"text-gray-600"}`}),i.jsx("p",{className:"mx-1 text-sm",children:b})]}),O.isDailyDeal&&i.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1.5 xs:px-2 py-0.5 xs:py-1 rounded-full text-[10px] xs:text-xs font-bold",children:[O.discountPercentage,"% OFF"]})]}),i.jsxs("div",{className:"flex flex-col justify-between flex-grow p-3 min-w-0 overflow-hidden",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:`mb-1 break-words line-clamp-2 min-h-[48px] ${h}`,title:O.name,style:{fontSize:"13px",color:"#222",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:[Q(O.name),O.name&&O.name.length<35&&i.jsx("span",{style:{visibility:"hidden"},children:"".repeat(40)})]}),O.stock<=2&&O.stock>0&&i.jsx("span",{className:"inline-block border border-red-500 text-red-500 text-[10px] font-semibold px-[3px] py-[2px] rounded-full",children:"Almost Gone"}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[O.condition&&i.jsx("p",{style:{fontSize:"13px",color:"#222"},className:"mb-2",children:i.jsx("span",{children:O.condition})}),A&&i.jsx("div",{className:"p-[5px] flex items-center justify-center bg-gray-100 rounded-full",children:i.jsx(Lz,{className:"w-4 h-4 text-green-500"})})]}),(q.length>0||Z.length>0)&&i.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mb-2 text-xs text-gray-600",children:[q.length>0&&i.jsxs("span",{className:"flex items-center",children:[i.jsx(hE,{size:14,className:"mr-1 text-gray-500"}),q.join(", ")]}),Z.length>0&&i.jsxs("span",{className:"flex items-center",children:[i.jsx(fE,{size:14,className:"mr-1 text-gray-500"}),Z.slice(0,4).join(", ")]})]})]}),i.jsxs("div",{className:"mt-auto",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("span",{className:`text-[16px] text-[#222] flex items-center gap-0.5rem ${u}`,children:M?i.jsx(i.Fragment,{children:i.jsx(Ms,{price:O.isDailyDeal?Math.round(U*(1-O.discountPercentage/100)):U,currency:O.currency||localStorage.getItem("currency")||"USD"})}):i.jsx(Ms,{price:O.isDailyDeal?ne:W,currency:O.currency||localStorage.getItem("currency")||"USD"})})}),O.isDailyDeal&&i.jsxs("span",{className:"text-gray-400 line-through text-[10px]",style:{fontSize:"10px"},children:[i.jsx(Ms,{price:M?G:H,currency:O.currency||localStorage.getItem("currency")||"USD"}),M&&G!==X&&i.jsxs(i.Fragment,{children:[" - ",i.jsx(Ms,{price:X,currency:O.currency||localStorage.getItem("currency")||"USD"})]})]})]})]})]})};function $z(){const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(null),[o,l]=R.useState([]),c=R.useRef(null),d=["foremade fashion","smart watches","drinks & categories","health & beauty","game & fun","computers & accessories"],u=p=>{let b=[...p];for(let x=b.length-1;x>0;x--){const y=Math.floor(Math.random()*(x+1));[b[x],b[y]]=[b[y],b[x]]}return b};R.useEffect(()=>{(async()=>{try{const b=await xt(Xe(ve,"dailyDeals"));l(b.docs.map(x=>({id:x.id,...x.data()})))}catch(b){console.error("Error loading daily deals:",b)}})()},[]),R.useEffect(()=>{(async()=>{try{s(!0),n(null);const b=await xt(Xe(ve,"featuredProducts")),y=(await Promise.all(b.docs.map(async O=>{try{const M=qe(ve,"products",O.data().productId);console.log("Fetching product:",O.data().productId);const L=await wt(M);return L.exists()&&L.data().status==="approved"?{id:L.id,...L.data(),isAdminSelected:!0}:(console.warn("Product not found or not approved:",O.data().productId),null)}catch(M){return console.warn("Error fetching product for featured:",M),null}}))).filter(O=>O!==null),w=new Date,k=await xt(Lt(Xe(ve,"productBumps"),Tt("expiry",">",w))),T=(await Promise.all(k.docs.map(async O=>{try{const M=qe(ve,"products",O.data().productId),L=await wt(M);return L.exists()&&L.data().status==="approved"?{id:L.id,...L.data(),isBumped:!0,bumpExpiry:O.data().expiry?.toDate(),bumpDuration:O.data().bumpDuration}:(console.warn("Bumped product not found or not approved:",O.data().productId),null)}catch(M){return console.warn("Error fetching product for bump:",M),null}}))).filter(O=>O!==null);console.log("Valid bumped products:",T);const E=Lt(Xe(ve,"products"),Tt("status","==","approved"),Tt("category","in",d)),A=(await xt(E)).docs.map(O=>({id:O.id,...O.data()})).filter(O=>(O.stock||0)<10?(console.warn("Filtered out product with low stock:",{id:O.id,name:O.name,stock:O.stock}),!1):!0);console.log("Filtered products (stock > 10):",A);const P=[...y,...T.filter(O=>!y.some(M=>M.id===O.id)),...u(A.filter(O=>!y.some(M=>M.id===O.id)&&!T.some(M=>M.id===O.id)))].slice(0,15);e(P)}catch(b){console.error("Error loading featured products:",{message:b.message,code:b.code}),n("Failed to load featured products."),Ke.error("Failed to load featured products.")}finally{s(!1)}})()},[]);const h=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},m=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})};return i.jsx("section",{className:"bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:a?i.jsx("p",{className:"text-red-600 p-4",children:"Failed to load featured products."}):t?i.jsx(i.Fragment,{children:[...Array(7)].map((p,b)=>i.jsx("div",{className:"flex-shrink-0 w-60 mr-4",children:i.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},b))}):r.length===0?i.jsx("p",{className:"text-gray-600 p-4",children:"No featured products found."}):r.map(p=>i.jsx("div",{className:"flex-shrink-0 w-60 mr-4 snap-start",children:i.jsx(Pa,{product:p,dailyDeals:o})},p.id))}),i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:h,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:i.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),i.jsx("button",{onClick:m,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:i.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})})]})})}function Wz(){const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(null),[o,l]=R.useState([]),c=R.useRef(null),d=m=>{let p=[...m];for(let b=p.length-1;b>0;b--){const x=Math.floor(Math.random()*(b+1));[p[b],p[x]]=[p[x],p[b]]}return p};R.useEffect(()=>{xt(Xe(ve,"dailyDeals")).then(m=>{l(m.docs.map(p=>({id:p.id,...p.data()})))})},[]),R.useEffect(()=>{(async()=>{try{s(!0),n(null);const p=Lt(Xe(ve,"products"),Tt("status","==","approved")),x=(await xt(p)).docs.map(w=>({id:w.id,...w.data()}));console.log("All fetched approved products (Best Selling):",x);const y=x.filter(w=>{if(w.variants&&w.variants.length>0){const k=w.variants.reduce((N,T)=>N+(T.stock||0),0);if(k<10)return console.warn("Filtered out variant product with low total stock:",{id:w.id,name:w.name,totalStock:k}),!1}else if((w.stock||0)<10)return console.warn("Filtered out single-variant product with low stock:",{id:w.id,name:w.name,stock:w.stock}),!1;return!0}).sort((w,k)=>(k.rating||0)-(w.rating||0));if(console.log("Fetched products (Best Selling - After Filter):",y),y.length===0){console.warn("No approved products passed the filters (Best Selling). Relaxing stock filter...");const w=d(x.sort((k,N)=>(N.rating||0)-(k.rating||0))).slice(0,15);console.log("Products with relaxed stock filter (Best Selling):",w),e(w)}else{const w=d(y).slice(0,15);e(w)}}catch(p){console.error("Error loading best-selling products:",{message:p.message,code:p.code}),n("Failed to load best-selling products.")}finally{s(!1)}})()},[]);const u=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},h=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})};return i.jsx("section",{className:"bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:a?i.jsx("p",{className:"text-red-600 p-4",children:"Failed to load best-selling products."}):t?i.jsx(i.Fragment,{children:[...Array(7)].map((m,p)=>i.jsx("div",{className:"flex-shrink-0 w-60 mr-4",children:i.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},p))}):r.length===0?i.jsx("p",{className:"text-gray-600 p-4",children:"No best-selling products found."}):r.map(m=>i.jsx("div",{className:"flex-shrink-0 w-60 mr-4 snap-start",children:i.jsx(Pa,{product:m,dailyDeals:o})},m.id))}),i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:u,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:i.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),i.jsx("button",{onClick:h,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:i.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})})]})})}function qhe(){const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(null),[o,l]=R.useState([]),c=R.useRef(null),d=m=>{let p=[...m];for(let b=p.length-1;b>0;b--){const x=Math.floor(Math.random()*(b+1));[p[b],p[x]]=[p[x],p[b]]}return p};R.useEffect(()=>{xt(Xe(ve,"dailyDeals")).then(m=>{l(m.docs.map(p=>({id:p.id,...p.data()})))})},[]),R.useEffect(()=>{(async()=>{try{s(!0),n(null);const p=Lt(Xe(ve,"products"),Tt("status","==","approved")),x=(await xt(p)).docs.map(w=>({id:w.id,...w.data()}));console.log("All fetched approved products (Best Selling):",x);const y=x.filter(w=>{if(w.variants&&w.variants.length>0){const k=w.variants.reduce((N,T)=>N+(T.stock||0),0);if(k<10)return console.warn("Filtered out variant product with low total stock:",{id:w.id,name:w.name,totalStock:k}),!1}else if((w.stock||0)<10)return console.warn("Filtered out single-variant product with low stock:",{id:w.id,name:w.name,stock:w.stock}),!1;return!0}).sort((w,k)=>(k.rating||0)-(w.rating||0));if(console.log("Fetched products (Best Selling - After Filter):",y),y.length===0){console.warn("No approved products passed the filters (Best Selling). Relaxing stock filter...");const w=d(x.sort((k,N)=>(N.rating||0)-(k.rating||0))).slice(0,15);console.log("Products with relaxed stock filter (Best Selling):",w),e(w)}else{const w=d(y).slice(0,15);e(w)}}catch(p){console.error("Error loading best-selling products:",{message:p.message,code:p.code}),n("Failed to load best-selling products.")}finally{s(!1)}})()},[]);const u=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},h=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})};return i.jsx("section",{className:"bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:a?i.jsx("p",{className:"text-red-600 p-4",children:"Failed to load best-selling products."}):t?i.jsx(i.Fragment,{children:[...Array(7)].map((m,p)=>i.jsx("div",{className:"flex-shrink-0 w-60 mr-4",children:i.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},p))}):r.length===0?i.jsx("p",{className:"text-gray-600 p-4",children:"No best-selling products found."}):r.map(m=>i.jsx("div",{className:"flex-shrink-0 w-60 mr-4 snap-start",children:i.jsx(Pa,{product:m,dailyDeals:o})},m.id))}),i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:u,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:i.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),i.jsx("button",{onClick:h,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:i.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})})]})})}const Ghe=()=>{const[r,e]=R.useState("featured");return i.jsxs("section",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex flex-col items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg text-center sm:text-xl md:text-2xl font-bold text-gray-800 mb-4",children:"Recommended For You"}),i.jsxs("div",{className:"hidden sm:flex items-center justify-center gap-4 sm:gap-6 mb-10",children:[i.jsx("button",{className:`text-sm ${r==="featured"?"text-blue-600 font-semibold":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("featured"),children:"Featured Products"}),i.jsx("button",{className:`text-sm ${r==="bestSelling"?"text-blue-600 font-semibold":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("bestSelling"),children:"Best Selling"}),i.jsx("button",{className:`text-sm ${r==="latest"?"text-blue-600 font-semibold":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("latest"),children:"Latest Products"}),i.jsx(Fe,{to:"/products",className:"text-blue-600 text-sm hover:underline",children:"View All"})]}),i.jsxs("div",{className:"flex sm:hidden items-center justify-center gap-4 mb-10",children:[i.jsx("button",{className:`text-xl ${r==="featured"?"text-blue-600":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("featured"),children:i.jsx("i",{className:"bx bx-star"})}),i.jsx("button",{className:`text-xl ${r==="bestSelling"?"text-blue-600":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("bestSelling"),children:i.jsx("i",{className:"bx bxs-hot"})}),i.jsx("button",{className:`text-xl ${r==="latest"?"text-blue-600":"text-gray-600"} hover:text-blue-600`,onClick:()=>e("latest"),children:i.jsx("i",{className:"bx bx-time"})}),i.jsx(Fe,{to:"/products",className:"text-blue-600 text-xl hover:text-blue-600",children:i.jsx("i",{className:"bx bx-right-arrow-alt"})})]})]}),r==="featured"&&i.jsx($z,{}),r==="bestSelling"&&i.jsx(Wz,{}),r==="latest"&&i.jsx(qhe,{})]})};function Yhe(){const[r,e]=R.useState([]),[t,s]=R.useState([]),[a,n]=R.useState(!0),[o,l]=R.useState(null),c=R.useRef(null),d="Fashion",u=["foremade fashion","clothing","accessories","footwear","jewelry","bags & wallets"],h=x=>{let y=[...x];for(let w=y.length-1;w>0;w--){const k=Math.floor(Math.random()*(w+1));[y[w],y[k]]=[y[k],y[w]]}return y},m=async()=>{try{n(!0),l(null);const x=Lt(Xe(ve,"trendingItems"),Tt("category","==",d)),w=(await xt(x)).docs.map(N=>N.data());let k=[];if(w.length>0){const N=w.map(async T=>{const E=await wt(qe(ve,"products",T.productId));return E.exists()?{id:E.id,...E.data()}:null});k=(await Promise.all(N)).filter(T=>T&&T.status==="approved").slice(0,10),console.log("Admin-selected trending Fashion products:",k)}if(k.length<10){console.warn("No or insufficient admin-selected trending items for Fashion. Using fallback...");const N=Lt(Xe(ve,"products"),Tt("status","==","approved"),Tt("category","in",u)),E=(await xt(N)).docs.map(S=>({id:S.id,...S.data()}));console.log("All fetched products (Trending Fashion):",E);const I=E.filter(S=>(S.stock||0)>=10).sort((S,A)=>(A.rating||0)-(S.rating||0));if(console.log(`Fetched ${d} products:`,I),I.length===0){console.warn("No products passed the filters (Trending Fashion). Relaxing stock filter...");const S=h(E.sort((A,P)=>(P.rating||0)-(A.rating||0))).slice(0,10);console.log("Products with relaxed stock filter (Trending Fashion):",S),e(S)}else{const S=[...k,...I].slice(0,10),A=h(S);e(A)}}else e(h(k))}catch(x){console.error("Error loading products:",{message:x.message,code:x.code}),l("Failed to load products."),Ke.error("Failed to load trending products.")}finally{n(!1)}};R.useEffect(()=>{m(),xt(Xe(ve,"dailyDeals")).then(x=>{s(x.docs.map(y=>({id:y.id,...y.data()})))})},[]);const p=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},b=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})};return a?i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending in ",d]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"}),i.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 sm:hidden"}),i.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 sm:hidden"})]})]}),i.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:[...Array(7)].map((x,y)=>i.jsx("div",{className:"flex-shrink-0 w-60 mr-4",children:i.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},y))})]})}):i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending in ",d]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Fe,{to:"/trending-fashions",className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"}),i.jsx("button",{onClick:p,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:i.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),i.jsx("button",{onClick:b,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:i.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})]}),i.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:r.length===0?i.jsxs("p",{className:"text-gray-600 p-4",children:["No ",d," products found."]}):r.map(x=>i.jsx("div",{className:"flex-shrink-0 w-60 mr-4 snap-start",children:i.jsx(Pa,{product:x,dailyDeals:t})},x.id))})]})})}function Xhe(){const[r,e]=R.useState([]),[t,s]=R.useState([]),[a,n]=R.useState(!0),[o,l]=R.useState(null),c=R.useRef(null),d="Gadgets",u=["tablet & phones","computers & accessories","electronics","smart watches","game & fun"],h=x=>{let y=[...x];for(let w=y.length-1;w>0;w--){const k=Math.floor(Math.random()*(w+1));[y[w],y[k]]=[y[k],y[w]]}return y},m=async()=>{try{n(!0),l(null);const x=Lt(Xe(ve,"trendingItems"),Tt("category","==",d)),w=(await xt(x)).docs.map(N=>N.data());let k=[];if(w.length>0){const N=w.map(async T=>{const E=await wt(qe(ve,"products",T.productId));return E.exists()?{id:E.id,...E.data()}:null});k=(await Promise.all(N)).filter(T=>T&&T.status==="approved").slice(0,10),console.log("Admin-selected trending Gadgets products:",k)}if(k.length<10){console.warn("No or insufficient admin-selected trending items for Gadgets. Using fallback...");const N=Lt(Xe(ve,"products"),Tt("status","==","approved"),Tt("category","in",u)),E=(await xt(N)).docs.map(S=>({id:S.id,...S.data()}));console.log("All fetched products (Gadgets):",E);const I=E.filter(S=>(S.stock||0)>=10).sort((S,A)=>(A.rating||0)-(S.rating||0));if(console.log(`Fetched ${d} products:`,I),I.length===0){console.warn("No products passed the filters (Gadgets). Relaxing stock filter...");const S=h(E.sort((A,P)=>(P.rating||0)-(A.rating||0))).slice(0,10);console.log("Products with relaxed stock filter (Gadgets):",S),e(S)}else{const S=[...k,...I].slice(0,10),A=h(S);e(A)}}else e(h(k))}catch(x){console.error(`Error loading ${d} products:`,{message:x.message,code:x.code}),l(`Failed to load ${d} products.`),Ke.error("Failed to load trending products.")}finally{n(!1)}};R.useEffect(()=>{m(),xt(Xe(ve,"dailyDeals")).then(x=>{s(x.docs.map(y=>({id:y.id,...y.data()})))})},[]);const p=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},b=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})};return a?i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending in ",d]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"}),i.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 sm:hidden"}),i.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 sm:hidden"})]})]}),i.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:[...Array(7)].map((x,y)=>i.jsx("div",{className:"flex-shrink-0 w-60 mr-4",children:i.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},y))})]})}):i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending in ",d]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Fe,{to:"/trending-gadgets",className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"}),i.jsx("button",{onClick:p,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:i.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),i.jsx("button",{onClick:b,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300",children:i.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})]}),i.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:r.length===0?i.jsxs("p",{className:"text-gray-600 p-4",children:["No trending ",d," products found."]}):r.map(x=>i.jsx("div",{className:"flex-shrink-0 w-60 mr-4 snap-start",children:i.jsx(Pa,{product:x,dailyDeals:t})},x.id))})]})})}const Khe=()=>{const r=zr(),e=Ra();return window.scrollTo(0,0),R.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[e.pathname]),i.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-purple-600 via-indigo-600 to-purple-700 py-6 px-4 sm:py-8 sm:px-6 lg:px-8 my-4 sm:my-6 rounded-xl sm:rounded-2xl mx-2 sm:mx-4 shadow-lg",children:[i.jsxs("div",{className:"absolute inset-0 opacity-10",children:[i.jsx("div",{className:"absolute top-0 left-0 w-48 sm:w-72 h-48 sm:h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),i.jsx("div",{className:"absolute top-0 right-0 w-48 sm:w-72 h-48 sm:h-72 bg-indigo-200 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-2000"}),i.jsx("div",{className:"absolute -bottom-8 left-20 w-48 sm:w-72 h-48 sm:h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-4000"})]}),i.jsx("div",{className:"absolute top-8 left-8 w-1.5 h-1.5 bg-purple-200 rounded-full animate-ping opacity-50"}),i.jsx("div",{className:"absolute top-16 right-12 w-1 h-1 bg-indigo-200 rounded-full animate-ping opacity-50 animation-delay-1000"}),i.jsx("div",{className:"absolute bottom-12 left-16 w-1 h-1 bg-purple-200 rounded-full animate-ping opacity-50 animation-delay-3000"}),i.jsx("div",{className:"relative max-w-6xl mx-auto",children:i.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6 sm:gap-8",children:[i.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[i.jsx("div",{className:"mb-3 sm:mb-4",children:i.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-2 text-white leading-tight flex flex-wrap items-center justify-center lg:justify-start",children:[i.jsx("i",{className:"bx bx-rocket text-xl sm:text-2xl text-purple-200 mr-2 sm:mr-3"}),i.jsx("span",{className:"whitespace-nowrap",children:"Foremade Youth"}),i.jsx("span",{className:"ml-2 bg-gradient-to-r from-purple-200 to-indigo-200 bg-clip-text text-transparent whitespace-nowrap",children:"Empowerment Hub"})]})}),i.jsxs("p",{className:"text-sm sm:text-base md:text-lg mb-4 sm:mb-6 text-purple-100 leading-relaxed px-2 sm:px-0",children:["Join our community of young creators and entrepreneurs. Get funding, mentorship, and a ",i.jsx("span",{className:"font-medium text-purple-200",children:"free platform"})," to showcase your talents."]}),i.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-2 sm:gap-4 mb-4 sm:mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-white bg-opacity-5 px-3 py-1 rounded-full backdrop-blur-sm text-xs sm:text-sm",children:[i.jsx("i",{className:"bx bx-dollar-circle text-purple-200"}),i.jsx("span",{className:"text-white font-medium",children:"Funding"})]}),i.jsxs("div",{className:"flex items-center space-x-2 bg-white bg-opacity-5 px-3 py-1 rounded-full backdrop-blur-sm text-xs sm:text-sm",children:[i.jsx("i",{className:"bx bx-user-voice text-purple-200"}),i.jsx("span",{className:"text-white font-medium",children:"Mentorship"})]}),i.jsxs("div",{className:"flex items-center space-x-2 bg-white bg-opacity-5 px-3 py-1 rounded-full backdrop-blur-sm text-xs sm:text-sm",children:[i.jsx("i",{className:"bx bx-devices text-purple-200"}),i.jsx("span",{className:"text-white font-medium",children:"Free Platform"})]})]})]}),i.jsxs("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row lg:flex-col gap-2 sm:gap-3",children:[i.jsxs("button",{onClick:()=>r("/empowerment-hub"),className:"w-full sm:w-auto group inline-flex items-center justify-center px-4 sm:px-6 py-2 sm:py-3 text-sm sm:text-base font-medium rounded-full text-white border border-purple-200 hover:bg-white hover:text-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-200 focus:ring-opacity-50 transition-all duration-200 transform hover:scale-105 backdrop-blur-sm whitespace-nowrap",children:[i.jsx("i",{className:"bx bx-info-circle mr-2"}),i.jsx("span",{children:"Learn More"}),i.jsx("i",{className:"bx bx-chevron-right ml-1 group-hover:translate-x-1 transition-transform duration-200"})]}),i.jsxs("div",{className:"flex items-center justify-center lg:justify-start mt-2 text-xs text-purple-200",children:[i.jsx("i",{className:"bx bx-group mr-1"}),i.jsx("span",{children:"1000+ members"}),i.jsx("div",{className:"flex ml-2",children:[...Array(5)].map((t,s)=>i.jsx("i",{className:"bx bxs-star text-purple-200 text-xs"},s))}),i.jsx("span",{className:"ml-1",children:"4.9"})]})]})]})})]})},R5=async(r,e=3,t=1e3)=>{for(let s=1;s<=e;s++)try{return await r()}catch(a){if(s===e)throw a;const n=t*Math.pow(2,s-1);console.warn(`Retry ${s}/${e} after ${n}ms due to: ${a.message}`),await new Promise(o=>setTimeout(o,n))}},I5="https://via.placeholder.com/200?text=No+Image",Zhe=()=>{const{convertPrice:r}=Jx(),[e,t]=R.useState([]),[s,a]=R.useState(!0),[n,o]=R.useState(null),l=R.useRef(null),[c,d]=R.useState({hours:0,minutes:0,seconds:0});R.useEffect(()=>{const m=()=>{const b=new Date,x=new Date;x.setHours(23,59,59,999);const y=x-b,w=Math.floor(y/(1e3*60*60)),k=Math.floor(y%(1e3*60*60)/(1e3*60)),N=Math.floor(y%(1e3*60)/1e3);d({hours:w,minutes:k,seconds:N})};m();const p=setInterval(m,1e3);return()=>clearInterval(p)},[]),R.useEffect(()=>{(async()=>{try{a(!0),o(null);const b=(await R5(()=>xt(Xe(ve,"dailyDeals")))).docs.map(w=>({id:w.id,...w.data()}));console.log("Raw deals:",b);const x=b.filter(w=>new Date(w.endDate)>new Date&&new Date(w.startDate)<=new Date);console.log("Valid deals:",x);const y=await Promise.all(x.map(async w=>{const k=await R5(()=>wt(qe(ve,"products",w.productId))),N=k.exists()?k.data():{};console.log(`Product for deal ${w.id}:`,N);const T=Array.isArray(N.imageUrls)&&N.imageUrls.length>0?N.imageUrls.find(S=>typeof S=="string"&&S.startsWith("https://res.cloudinary.com/"))||I5:N.imageUrl&&typeof N.imageUrl=="string"&&N.imageUrl.startsWith("https://res.cloudinary.com/")?N.imageUrl:I5;console.log(`Image for deal ${w.id}:`,T);const E=Number(N.price)||0,I=Number((w.discount*100).toFixed(2))||0;return{id:w.id,productId:w.productId,productName:N.name||"Unnamed Product",price:E,discountPercentage:I,imageUrl:T,description:N.description||"No description available",condition:N.condition||"",isDailyDeal:!0}}));console.log("Final deal products:",y),t(y)}catch(p){console.error("Error loading daily deals:",{message:p.message,stack:p.stack}),o("Failed to load daily deals. Please try again later.")}finally{a(!1)}})()},[r]);const u=()=>{l.current&&l.current.scrollBy({left:-240,behavior:"smooth"})},h=()=>{l.current&&l.current.scrollBy({left:240,behavior:"smooth"})};return s?i.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50",children:i.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[i.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),i.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"}),i.jsxs("div",{className:"flex ml-2 xs:ml-3 space-x-1 xs:space-x-2",children:[i.jsx("div",{className:"h-5 xs:h-6 bg-gray-200 rounded w-8 xs:w-10 animate-pulse"}),i.jsx("span",{children:":"}),i.jsx("div",{className:"h-5 xs:h-6 bg-gray-200 rounded w-8 xs:w-10 animate-pulse"}),i.jsx("span",{children:":"}),i.jsx("div",{className:"h-5 xs:h-6 bg-gray-200 rounded w-8 xs:w-10 animate-pulse"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 xs:gap-3",children:[i.jsx("div",{className:"h-4 xs:h-5 bg-gray-200 rounded w-12 xs:w-16 animate-pulse"}),i.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-6 w-6 xs:h-8 xs:w-8 animate-pulse"}),i.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-6 w-6 xs:h-8 xs:w-8 animate-pulse"})]})]}),i.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-3 xs:gap-4",children:[...Array(7)].map((m,p)=>i.jsx("div",{className:"flex-shrink-0 w-[140px] xs:w-[180px] sm:w-[200px] md:w-[220px]",children:i.jsx("div",{className:"bg-gray-200 rounded-lg h-[200px] xs:h-[240px] sm:h-[260px] w-full animate-pulse"})},p))})]})}):n?i.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50",children:i.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[i.jsx("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:i.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[i.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),i.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"})]})}),i.jsxs("p",{className:"text-red-600 text-sm xs:text-base p-3 xs:p-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-error-circle"}),n]})]})}):i.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50",children:i.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[i.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),i.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"}),i.jsxs("div",{className:"ml-2 xs:ml-3 flex items-center space-x-1",children:[i.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-1.5 xs:px-2 py-0.5 xs:py-1 rounded text-xs xs:text-sm font-mono",children:String(c.hours).padStart(2,"0")}),i.jsx("span",{className:"text-yellow-800",children:":"}),i.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-1.5 xs:px-2 py-0.5 xs:py-1 rounded text-xs xs:text-sm font-mono",children:String(c.minutes).padStart(2,"0")}),i.jsx("span",{className:"text-yellow-800",children:":"}),i.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-1.5 xs:px-2 py-0.5 xs:py-1 rounded text-xs xs:text-sm font-mono",children:String(c.seconds).padStart(2,"0")})]})]}),i.jsxs("div",{className:"flex items-center gap-2 xs:gap-3",children:[i.jsx(Fe,{to:"/daily-deals",className:"text-blue-600 text-xs xs:text-sm hover:text-blue-800",children:"See All"}),i.jsx("button",{onClick:u,className:"bg-yellow-200 rounded-full p-1 hover:bg-yellow-300","aria-label":"Scroll left",children:i.jsx("i",{className:"bx bx-chevron-left text-lg xs:text-xl text-yellow-700"})}),i.jsx("button",{onClick:h,className:"bg-yellow-200 rounded-full p-1 hover:bg-yellow-300","aria-label":"Scroll right",children:i.jsx("i",{className:"bx bx-chevron-right text-lg xs:text-xl text-yellow-700"})})]})]}),i.jsx("div",{ref:l,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory gap-3 xs:gap-4",children:e.length===0?i.jsxs("p",{className:"text-gray-600 text-sm xs:text-base p-3 xs:p-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-info-circle"}),"No deals available right now. Check back later for hot offers! "]}):e.slice(0,8).map(m=>i.jsx("div",{className:"flex-shrink-0 w-[200px] sm:w-[280px] md:w-[220px] snap-start",children:i.jsxs("div",{className:"relative",children:[i.jsx(Pa,{product:{id:m.productId,name:m.productName,price:m.price,imageUrl:m.imageUrl,condition:m.condition,category:m.category||"default",variants:m.variants||[],stock:m.stock||0,sellerId:m.sellerId||"",currency:localStorage.getItem("currency")||"USD",isDailyDeal:m.isDailyDeal,discountPercentage:m.discountPercentage}}),m.isDailyDeal&&i.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1.5 xs:px-2 py-0.5 xs:py-1 rounded-full text-[10px] xs:text-xs font-bold",children:[m.discountPercentage,"% OFF"]})]})},m.id))})]})})};function Qhe(){const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(null),[o,l]=R.useState([]),c=R.useRef(null);R.useEffect(()=>{xt(Xe(ve,"dailyDeals")).then(m=>{l(m.docs.map(p=>({id:p.id,...p.data()})))})},[]),R.useEffect(()=>{(async()=>{try{s(!0),n(null);const p=Ye.currentUser?.uid,b=JSON.parse(localStorage.getItem("recentlyViewed")||"[]");let x=[];if(p)try{const y=qe(ve,"users",p),w=await wt(y);if(w.exists()&&w.data().recentlyViewed){const N=w.data().recentlyViewed.slice(0,10).map(async E=>{const I=qe(ve,"products",E),S=await wt(I);return S.exists()&&S.data().status==="approved"?{id:S.id,...S.data()}:null});x=(await Promise.all(N)).filter(E=>E!==null)}}catch(y){console.error("Error fetching user recently viewed:",y),x=[]}if(x.length===0&&b.length>0){const y=b.map(async k=>{const N=qe(ve,"products",k),T=await wt(N);return T.exists()&&T.data().status==="approved"?{id:T.id,...T.data()}:null});x=(await Promise.all(y)).filter(k=>k!==null)}if(x.length===0){const y=Lt(Xe(ve,"products"),Tt("status","==","approved"),Tt("rating",">=",4));x=(await xt(y)).docs.map(k=>({id:k.id,...k.data()})).slice(0,10),console.log("No recently viewed products, showing recommendations instead")}e(x)}catch(p){console.error("Error loading recently viewed products:",{message:p.message,code:p.code}),n("Failed to load recently viewed products.")}finally{s(!1)}})()},[]);const d=()=>{c.current&&c.current.scrollBy({left:-240,behavior:"smooth"})},u=()=>{c.current&&c.current.scrollBy({left:240,behavior:"smooth"})},h=r.length>0?"Recently Viewed":"Recommended For You";return t?i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:h}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-5 bg-gray-200 rounded w-16 animate-pulse"}),i.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 animate-pulse"}),i.jsx("div",{className:"bg-gray-200 rounded-full p-1 h-8 w-8 animate-pulse"})]})]}),i.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:[...Array(7)].map((m,p)=>i.jsxs("div",{className:"flex-shrink-0 w-48 mr-4",children:[i.jsx("div",{className:"bg-gray-200 rounded-lg h-48 w-full animate-pulse"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mt-2 animate-pulse"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mt-1 animate-pulse"})]},p))})]})}):i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:`bx ${h==="Recently Viewed"?"bx-history":"bx-bulb"} text-blue-600 text-xl mr-2`}),i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:h})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Fe,{to:"/products",className:"text-blue-600 text-sm hover:text-blue-800",children:"See All"}),i.jsx("button",{onClick:d,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300","aria-label":"Scroll left",children:i.jsx("i",{className:"bx bx-chevron-left text-xl text-gray-600"})}),i.jsx("button",{onClick:u,className:"bg-gray-200 rounded-full p-1 hover:bg-gray-300","aria-label":"Scroll right",children:i.jsx("i",{className:"bx bx-chevron-right text-xl text-gray-600"})})]})]}),i.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory pb-4",children:r.length===0?i.jsx("p",{className:"text-gray-600 p-4",children:"No products to display."}):r.map(m=>i.jsx("div",{className:"flex-shrink-0 w-48 mr-4 snap-start",children:i.jsx(Pa,{product:m,dailyDeals:o})},m.id))})]})})}const Jhe=()=>{const[r,e]=R.useState(""),[t,s]=R.useState(!1),a=async o=>{if(o.preventDefault(),!r||!r.includes("@")){Ke.error("Please enter a valid email address");return}try{s(!0),await fi(Xe(ve,"newsletter_subscribers"),{email:r,subscribedAt:new Date,active:!0}),Ke.success("Thanks for subscribing!"),e(""),localStorage.setItem("newsletter_subscribed","true")}catch(l){console.error("Newsletter subscription error:",l),Ke.error("Failed to subscribe. Please try again.")}finally{s(!1)}},n=localStorage.getItem("newsletter_subscribed")==="true";return i.jsx("div",{className:"bg-gray-100 py-6 sm:py-8 w-full overflow-hidden mb-8 sm:mb-12 lg:mb-16",children:i.jsx("div",{className:"container mx-auto px-4 max-w-7xl",children:i.jsxs("div",{className:"max-w-xl mx-auto text-center",children:[i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-2",children:"Stay Connected"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 px-2",children:n?"Thanks for subscribing! You'll receive our best deals and updates.":"Subscribe to our newsletter for exclusive deals and updates"}),!n&&i.jsxs("form",{onSubmit:a,className:"flex flex-col sm:flex-row gap-2 sm:gap-0 max-w-md mx-auto mb-8 sm:mb-12 px-4",children:[i.jsx("input",{type:"email",value:r,onChange:o=>e(o.target.value),placeholder:"Your email address",className:"flex-1 px-4 py-2 border border-gray-300 rounded-md sm:rounded-l-md sm:rounded-r-none focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",disabled:t,required:!0}),i.jsx("button",{type:"submit",className:`${t?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} text-white px-4 py-2 rounded-md sm:rounded-l-none sm:rounded-r-md transition-colors whitespace-nowrap w-full sm:w-auto`,disabled:t,children:t?i.jsxs("span",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-loader-alt animate-spin mr-2"}),"Subscribing..."]}):"Subscribe"})]}),n&&i.jsx("button",{onClick:()=>{localStorage.removeItem("newsletter_subscribed"),window.location.reload()},className:"text-blue-600 hover:text-blue-800 underline text-sm mt-2",children:"Change your email preferences"})]})})})},efe=r=>r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),tfe=r=>`/category/${efe(r)}`,rfe=["https://banner2.cleanpng.com/20180406/wow/kisspng-shoe-jumpman-sneakers-air-jordan-teal-jordan-5ac6ff9c2fcfe2.7959868915229910041959.jpg","https://pngimg.com/uploads/dress_shirt/dress_shirt_PNG8088.png","https://banner2.cleanpng.com/20240415/cv/transparent-apple-logo-person-holding-iphone-11-pro-max661df755177ea1.73458741.webp","https://banner2.cleanpng.com/lnd/20240424/uxz/transparent-rainbow-open-laptop-with-rainbow-gradient-background-image662945f170dc49.58708681.webp","https://banner2.cleanpng.com/20180202/lie/av2ldq3r4.webp","https://banner2.cleanpng.com/lnd/20240424/jfa/aav33rgh3.webp","https://banner2.cleanpng.com/20180809/atv/kisspng-ferm-living-asymmetric-cutting-board-ferm-living-b-5b6c3d78edff15.1714747115338202809749.jpg","https://banner2.cleanpng.com/20180131/jgw/av1z4nree.webp"],D5=["from-red-500/10 to-red-500/5","from-blue-500/10 to-blue-500/5","from-green-500/10 to-green-500/5","from-yellow-500/10 to-yellow-500/5","from-purple-500/10 to-purple-500/5","from-pink-500/10 to-pink-500/5","from-indigo-500/10 to-indigo-500/5","from-orange-500/10 to-orange-500/5"],O5=["hover:bg-red-500/10","hover:bg-blue-500/10","hover:bg-green-500/10","hover:bg-yellow-500/10","hover:bg-purple-500/10","hover:bg-pink-500/10","hover:bg-indigo-500/10","hover:bg-orange-500/10"],sfe=()=>{const[r,e]=R.useState([]),[t,s]=R.useState(null);return R.useEffect(()=>{const a=yr(Xe(ve,"categories"),n=>{const o=n.docs.map(l=>l.id).sort();e(o)},n=>{console.error("Error fetching categories:",n),Ke.error("Failed to load categories")});return()=>a()},[]),i.jsxs("div",{className:"container mx-auto px-4 py-6",children:[i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-4",children:"Shop by Category"}),i.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4",children:r.slice(0,8).map((a,n)=>i.jsxs(Fe,{to:tfe(a),className:"text-center group",onMouseEnter:()=>s(n),onMouseLeave:()=>s(null),children:[i.jsxs(Ct.div,{className:`rounded-lg overflow-hidden relative bg-gradient-to-b ${D5[n%D5.length]} ${O5[n%O5.length]} transition-all duration-300 h-20 w-full flex items-center justify-center group-hover:shadow-md`,initial:{y:0},animate:{y:t===n?-5:0,scale:t===n?1.05:1},transition:{type:"spring",stiffness:300,damping:15},children:[i.jsx(Ct.img,{src:rfe[n]||"https://via.placeholder.com/48",alt:a,className:"w-12 h-12 object-contain",animate:{scale:t===n?1.1:1,rotate:t===n?5:0},transition:{type:"spring",stiffness:200,damping:10}}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 rounded-full bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-pulse"})]}),i.jsx(Ct.p,{className:"text-xs md:text-sm text-gray-800 mt-2 font-medium",animate:{fontWeight:t===n?600:500,color:t===n?"#3B82F6":"#1F2937"},children:a})]},a))})]})},qz=()=>{const[r,e]=R.useState([]),[t,s]=R.useState([]),[a,n]=R.useState([]),[o,l]=R.useState(!0),c=u=>{let h=[...u];for(let m=h.length-1;m>0;m--){const p=Math.floor(Math.random()*(m+1));[h[m],h[p]]=[h[p],h[m]]}return h};R.useEffect(()=>{(async()=>{try{const m=(await xt(Xe(ve,"products"))).docs.map(x=>({id:x.id,...x.data()}));e(m),n(c(m));const b=(await xt(Xe(ve,"dailyDeals"))).docs.map(x=>({id:x.id,...x.data()}));s(b)}catch(h){console.error("Error fetching data:",h)}finally{l(!1)}})()},[]);const d=({count:u})=>i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:Array.from({length:u}).map((h,m)=>i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 h-[300px] flex flex-col animate-pulse",children:[i.jsx("div",{className:"h-[200px] bg-gray-200 rounded-t-lg"}),i.jsxs("div",{className:"p-3 flex flex-col flex-grow",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded mt-auto"})]})]},m))});return i.jsx("div",{className:"container mx-auto px-4 py-8",children:o?i.jsx(d,{count:8}):a.length===0?i.jsxs("div",{className:"text-center col-span-full py-12",role:"alert","aria-label":"No products found",children:[i.jsx("p",{className:"text-gray-600 text-lg",children:"No products available."}),i.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Please check back later."})]}):i.jsxs("div",{children:[i.jsx("div",{className:"h2",children:"All Products"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-4",role:"grid","aria-label":"Product list",children:a.map(u=>i.jsx(Pa,{product:u,dailyDeals:t},u.id))})]})})},afe=()=>{const[r,e]=R.useState(!1),[t,s]=R.useState([]),[a,n]=R.useState({}),[o,l]=R.useState({}),[c,d]=R.useState("");return R.useEffect(()=>{localStorage.getItem("hasVisitedBefore")||(e(!0),localStorage.setItem("hasVisitedBefore","true"))},[]),R.useEffect(()=>{const u=yr(Xe(ve,"categories"),p=>{console.log(" CATEGORIES SNAPSHOT:"),console.log("Categories docs count:",p.docs.length),p.docs.forEach((x,y)=>{console.log(`Category ${y+1}:`,{id:x.id,data:x.data()})});const b=p.docs.map(x=>x.data().name);console.log("Extracted category names:",b),s(b)}),h=yr(Xe(ve,"customSubcategories"),p=>{console.log(" CUSTOM SUBCATEGORIES SNAPSHOT:"),console.log("CustomSubcategories docs count:",p.docs.length);const b={};p.forEach((x,y)=>{console.log(`CustomSubcategory ${y+1}:`,{id:x.id,data:x.data(),subcategories:x.data().subcategories||[]}),b[x.id]=x.data().subcategories||[]}),console.log("Final customSubcategories structure:",b),n(b)}),m=yr(Xe(ve,"customSubSubcategories"),p=>{console.log(" CUSTOM SUB-SUBCATEGORIES SNAPSHOT:"),console.log("CustomSubSubcategories docs count:",p.docs.length);const b={};p.forEach((x,y)=>{console.log(`CustomSubSubcategory ${y+1}:`,{id:x.id,data:x.data()});const w=x.id;b[w]={},Object.entries(x.data()).forEach(([k,N])=>{console.log(`   ${k}:`,N),b[w][k]=N})}),console.log("Final customSubSubcategories structure:",b),l(b)});return()=>{u(),h(),m()}},[]),R.useEffect(()=>{console.log(" STATE UPDATE - Categories:",t)},[t]),R.useEffect(()=>{console.log(" STATE UPDATE - CustomSubcategories:",a)},[a]),R.useEffect(()=>{console.log(" STATE UPDATE - CustomSubSubcategories:",o)},[o]),i.jsxs("div",{className:"home-main-container bg-background-light",children:[i.jsx(Uhe,{}),r&&i.jsx("div",{className:"welcome-banner",children:i.jsxs("div",{className:"container mx-auto flex items-center justify-between px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-primary text-base sm:text-lg",children:"Welcome to Foremade!"}),i.jsx("p",{className:"text-sm sm:text-base text-secondary",children:"Discover amazing deals from trusted sellers"})]}),i.jsx("button",{onClick:()=>e(!1),className:"text-primary hover:text-primary-dark",children:i.jsx("i",{className:"bx bx-x text-xl sm:text-2xl"})})]})}),i.jsx(Vhe,{}),i.jsx(sfe,{}),i.jsx(Ghe,{}),i.jsx(Zhe,{}),i.jsx(qz,{}),i.jsx(Xhe,{}),i.jsx(Yhe,{}),i.jsx($he,{}),i.jsx(Qhe,{}),i.jsx(Khe,{}),i.jsx(Bhe,{}),i.jsx("div",{className:"my-8 px-2 sm:px-4 lg:px-8",children:i.jsx($z,{})}),i.jsx(Whe,{}),i.jsx(Jhe,{}),i.jsx("div",{className:"footer-bar py-6 sm:py-8 bg-background-light border-t mb-12",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:i.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 sm:gap-4 text-xs sm:text-sm md:text-base text-secondary",children:[i.jsx(Fe,{to:"/user-agreement",className:"footer-link px-3 py-2 hover:text-primary transition-colors min-w-[100px] text-center",children:"User Agreement"}),i.jsx(Fe,{to:"/privacy-policy",className:"footer-link px-3 py-2 hover:text-primary transition-colors min-w-[100px] text-center",children:"Privacy Policy"}),i.jsx("span",{className:"footer-separator hidden sm:inline",children:"|"}),i.jsx(Fe,{to:"/terms-conditions",className:"footer-link px-3 py-2 hover:text-primary transition-colors min-w-[100px] text-center",children:"Terms & Conditions"}),i.jsx("span",{className:"footer-separator hidden sm:inline",children:"|"})]})})})]})};var JN,M5;function nfe(){if(M5)return JN;M5=1;var r="Expected a function",e=NaN,t="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c=typeof Vy=="object"&&Vy&&Vy.Object===Object&&Vy,d=typeof self=="object"&&self&&self.Object===Object&&self,u=c||d||Function("return this")(),h=Object.prototype,m=h.toString,p=Math.max,b=Math.min,x=function(){return u.Date.now()};function y(E,I,S){var A,P,O,M,L,B,G=0,X=!1,H=!1,W=!0;if(typeof E!="function")throw new TypeError(r);I=T(I)||0,w(S)&&(X=!!S.leading,H="maxWait"in S,O=H?p(T(S.maxWait)||0,I):O,W="trailing"in S?!!S.trailing:W);function ne(Se){var je=A,Ne=P;return A=P=void 0,G=Se,M=E.apply(Ne,je),M}function U(Se){return G=Se,L=setTimeout(q,I),X?ne(Se):M}function z(Se){var je=Se-B,Ne=Se-G,xe=I-je;return H?b(xe,O-Ne):xe}function Q(Se){var je=Se-B,Ne=Se-G;return B===void 0||je>=I||je<0||H&&Ne>=O}function q(){var Se=x();if(Q(Se))return Z(Se);L=setTimeout(q,z(Se))}function Z(Se){return L=void 0,W&&A?ne(Se):(A=P=void 0,M)}function J(){L!==void 0&&clearTimeout(L),G=0,A=B=P=L=void 0}function re(){return L===void 0?M:Z(x())}function de(){var Se=x(),je=Q(Se);if(A=arguments,P=this,B=Se,je){if(L===void 0)return U(B);if(H)return L=setTimeout(q,I),ne(B)}return L===void 0&&(L=setTimeout(q,I)),M}return de.cancel=J,de.flush=re,de}function w(E){var I=typeof E;return!!E&&(I=="object"||I=="function")}function k(E){return!!E&&typeof E=="object"}function N(E){return typeof E=="symbol"||k(E)&&m.call(E)==t}function T(E){if(typeof E=="number")return E;if(N(E))return e;if(w(E)){var I=typeof E.valueOf=="function"?E.valueOf():E;E=w(I)?I+"":I}if(typeof E!="string")return E===0?E:+E;E=E.replace(s,"");var S=n.test(E);return S||o.test(E)?l(E.slice(2),S?2:8):a.test(E)?e:+E}return JN=y,JN}var ife=nfe();const Hh=Px(ife),ofe=({onFilterChange:r})=>{const[e,t]=R.useState([0,1e5]),[s,a]=R.useState([]),[n,o]=R.useState("default"),[l,c]=R.useState(""),[d,u]=R.useState([]),[h,m]=R.useState(!0),[p,b]=R.useState(!1);R.useEffect(()=>{(async()=>{try{m(!0);const S=(await xt(Xe(ve,"categories"))).docs.map(A=>({id:A.id,name:A.data().name||"Unnamed Category"}));u(S)}catch(I){console.error("Error fetching categories:",I)}finally{m(!1)}})()},[]);const x=R.useCallback(Hh(E=>{console.log("Applying filters:",{priceRange:e,selectedCategories:s,sortOption:n,searchTerm:E,status:"approved"}),r({priceRange:e,selectedCategories:s,sortOption:n,searchTerm:E,status:"approved"})},300),[e,s,n]),y=E=>{const I=E.target.value;c(I),x(I)},w=E=>{const[I,S]=E;I>S||(t(E),console.log("Price range updated:",E),r({priceRange:E,selectedCategories:s,sortOption:n,searchTerm:l,status:"approved"}))},k=E=>{const I=s.includes(E)?s.filter(S=>S!==E):[...s,E];a(I),console.log("Selected categories updated:",I),r({priceRange:e,selectedCategories:I,sortOption:n,searchTerm:l,status:"approved"})},N=E=>{const I=E.target.value;o(I),console.log("Sort option updated:",I),r({priceRange:e,selectedCategories:s,sortOption:I,searchTerm:l,status:"approved"})},T=()=>{t([0,1e5]),a([]),o("default"),c(""),console.log("Filters cleared"),r({priceRange:[0,1e5],selectedCategories:[],sortOption:"default",searchTerm:"",status:"approved"})};return i.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm md:sticky md:top-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"}),i.jsx("button",{onClick:T,className:"text-sm text-blue-600 hover:text-blue-800 transition","aria-label":"Clear all filters",children:"Clear All"})]}),i.jsx("div",{className:"mb-6",children:i.jsx("input",{type:"text",placeholder:"Search products...",value:l,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm","aria-label":"Search products"})}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Price Range: ",i.jsx(Ms,{price:e[0]})," - ",i.jsx(Ms,{price:e[1]})]}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("input",{type:"range",min:"0",max:"100000",value:e[0],onChange:E=>w([parseInt(E.target.value),e[1]]),className:"w-full accent-blue-500","aria-label":"Minimum price"}),i.jsx("input",{type:"range",min:"0",max:"100000",value:e[1],onChange:E=>w([e[0],parseInt(E.target.value)]),className:"w-full accent-blue-500","aria-label":"Maximum price"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Categories"}),i.jsx("button",{className:"md:hidden text-blue-600 text-sm",onClick:()=>b(!p),"aria-label":p?"Collapse categories":"Expand categories",children:p?"Hide":"Show"})]}),i.jsx("div",{className:`text-sm ${p?"block":"hidden md:block"}`,children:h?i.jsxs("div",{className:"animate-pulse space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):d.length===0?i.jsx("p",{className:"text-gray-500",children:"No categories available"}):d.map(E=>i.jsxs("label",{className:"flex items-center space-x-2 py-1 hover:bg-gray-100 rounded px-2 transition",children:[i.jsx("input",{type:"checkbox",value:E.name,checked:s.includes(E.name),onChange:()=>k(E.name),className:"accent-blue-500","aria-label":`Select ${E.name} category`}),i.jsx("span",{className:"text-gray-700",children:E.name})]},E.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),i.jsxs("select",{value:n,onChange:N,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm","aria-label":"Sort products",children:[i.jsx("option",{value:"default",children:"Default"}),i.jsx("option",{value:"price-low-high",children:"Price: Low to High"}),i.jsx("option",{value:"price-high-low",children:"Price: High to Low"}),i.jsx("option",{value:"alpha-asc",children:"Alphabetical: A-Z"}),i.jsx("option",{value:"alpha-desc",children:"Alphabetical: Z-A"})]})]})]})},lfe=()=>{const[r,e]=R.useState([]),[t,s]=R.useState([]),[a,n]=R.useState([]),[o,l]=R.useState(!0),[c,d]=R.useState(null),u=R.useMemo(()=>({"tablet & phones":1,"health & beauty":2,"foremade fashion":3,electronics:4,"baby products":5,"computers & accessories":6,"game & fun":7,"drinks & categories":8,"home & kitchen":9,"smart watches":10,uncategorized:11}),[]),h=p=>{let b=[...p];for(let x=b.length-1;x>0;x--){const y=Math.floor(Math.random()*(x+1));[b[x],b[y]]=[b[y],b[x]]}return b};R.useEffect(()=>{(async()=>{try{l(!0),d(null);const b=Lt(Xe(ve,"products"),Tt("status","==","approved")),x=await xt(b);console.log("Total approved products fetched from Firestore:",x.docs.length);const y=x.docs.map(w=>{const k=w.data();let N=null;if(Array.isArray(k.variants)&&k.variants.length>0&&k.variants[0]?.imageUrls){const A=k.variants[0].imageUrls.find(P=>typeof P=="string"&&P.trim()&&P.startsWith("https://"));N=A||k.variants[0].imageUrls[0]||null,console.log(`Variant image check for ${w.id}:`,{firstValidUrl:A,allUrls:k.variants[0].imageUrls})}else if(Array.isArray(k.imageUrls)&&k.imageUrls.length>0){const A=k.imageUrls.find(P=>typeof P=="string"&&P.trim()&&P.startsWith("https://"));N=A||k.imageUrls[0]||null,console.log(`Product image check for ${w.id}:`,{firstValidUrl:A,allUrls:k.imageUrls})}else k.imageUrl&&typeof k.imageUrl=="string"&&k.imageUrl.startsWith("https://")?(N=k.imageUrl,console.log(`Single imageUrl check for ${w.id}:`,k.imageUrl)):console.warn(`Product ${w.id} has no valid imageUrl or imageUrls`,{id:w.id,name:k.name,imageUrl:k.imageUrl,imageUrls:k.imageUrls,variants:k.variants});let T=k.price||0,E=k.price||0,I=Array.isArray(k.variants)&&k.variants.length>0;if(I){const A=k.variants.map(P=>P.price||0);T=Math.min(...A),E=Math.max(...A)}const S=I?k.variants.reduce((A,P)=>A+(P.stock||0),0):k.stock||0;return S<10?(console.warn(`Product ${w.id} filtered out due to low stock:`,{name:k.name,totalStock:S}),null):{id:w.id,name:k.name||"Unknown Product",description:k.description||"",price:I?T:k.price||0,minPrice:I?T:null,maxPrice:I?E:null,stock:S,category:k.category||"uncategorized",categoryId:u[k.category?.toLowerCase()]||11,colors:k.colors||[],sizes:k.sizes||[],condition:k.condition||"New",imageUrl:N,variants:k.variants||[],sellerId:k.sellerId||"",seller:k.seller||{name:k.sellerName||"Unknown Seller",id:k.sellerId||""},rating:k.rating||0,reviews:k.reviews||[],status:k.status||"pending",bumpExpiry:k.bumpExpiry||null}}).filter(w=>w!==null&&w.id);console.log("Fetched approved products with sufficient stock:",y),y.length===0&&(console.warn("No approved products with sufficient stock found."),d("No approved products available at the moment.")),e(y),s(h(y))}catch(b){console.error("Error fetching products:",b),d("Failed to load products. Please try again.")}finally{l(!1)}})(),xt(Xe(ve,"dailyDeals")).then(b=>{n(b.docs.map(x=>({id:x.id,...x.data()})))})},[u]);const m=R.useCallback(({priceRange:p,selectedCategories:b,sortOption:x,searchTerm:y,status:w})=>{let k=[...r].filter(N=>N!==null);k=k.filter(N=>(N.minPrice!==null?N.minPrice:N.price)>=p[0]&&(N.maxPrice!==null?N.maxPrice:N.price)<=p[1]),b.length>0&&(k=k.filter(N=>b.includes(N.categoryId))),y&&(k=k.filter(N=>N.name.toLowerCase().includes(y.toLowerCase()))),x==="price-low-high"?k.sort((N,T)=>(N.minPrice||N.price)-(T.minPrice||T.price)):x==="price-high-low"?k.sort((N,T)=>(T.minPrice||T.price)-(N.minPrice||N.price)):x==="alpha-asc"?k.sort((N,T)=>N.name.localeCompare(T.name)):x==="alpha-desc"?k.sort((N,T)=>T.name.localeCompare(T.name)):k.sort((N,T)=>{const E=N.bumpExpiry?new Date(N.bumpExpiry):null,I=T.bumpExpiry?new Date(T.bumpExpiry):null;return E&&I?I-E:E?-1:I?1:0}),console.log("Updated filtered products:",k),s(h(k))},[r]);return c?i.jsx("div",{className:"container mx-auto p-4",children:i.jsx("p",{className:"text-red-600 text-center",children:c})}):i.jsxs("div",{className:"mb-10 rounded-lg mx-auto p-3",children:[i.jsx("div",{className:"flex-col",children:i.jsx("h2",{className:"text-2xl font-bold mb-4 m-4",children:"Shop All Products"})}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"w-full rounded-lg border md:w-1/4",children:i.jsx(ofe,{onFilterChange:m,categoryMap:u})}),i.jsx("div",{className:"w-full rounded-lg border",children:i.jsx(qz,{products:t,dailyDeals:a})})]})]})},h0="/assets/logi-DGW4y32z.png",F5=async(r,e={})=>{const t=JSON.parse(localStorage.getItem("userData"))||{},a=Ux().currentUser,n=a?a.email:t.email||"",o={...e.headers,"x-user-email":n},l=await fetch(r,{...e,headers:o});return console.log("Fetch response status:",l.status),console.log("Fetch headers sent:",o),l},Eg=r=>{switch(r.code){case"auth/invalid-credential":return"Incorrect email or password.";case"auth/wrong-password":return"Wrong password. Please try again.";case"auth/user-not-found":return"No account found with this email.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-disabled":return"This account is not available.";case"auth/too-many-requests":return"Too many attempts. Please try again.";case"auth/otp-not-verified":return"Please verify your email with the code sent to you.";default:return"Something went wrong. Please try again."}};function cfe(){const[r,e]=R.useState(""),[t,s]=R.useState(""),[a,n]=R.useState(!1),[o,l]=R.useState(""),[c,d]=R.useState(""),[u,h]=R.useState(""),[m,p]=R.useState(!1),[b,x]=R.useState(!1),[y,w]=R.useState(!1),[k,N]=R.useState(!1),T=zr(),{state:E}=Ra(),I="https://foremade-backend.onrender.com",S=async()=>{l(""),d(""),h(""),N(!0);const G=new pm("apple.com");try{const X=await j1(Ye,G);await O(X.user)}catch(X){console.error("Apple sign-in error:",X),N(!1),l(Eg(X)||"Sign-in failed. Please try again.")}},A=G=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(G),P=async G=>{if(!G)return;const X=localStorage.getItem("lastLogin"),H=localStorage.getItem("inactiveEmailSent");if(!X||H==="true")return;const W=new Date(X),U=(new Date().getTime()-W.getTime())/(1e3*60*60*24);if(U>=14&&U<=21)try{const z=await fetch(`${I}/api/send-inactive-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:G.email,name:G.displayName||null})}),Q=await z.json();z.ok?(console.log("Inactive user email triggered:",Q.message),localStorage.setItem("inactiveEmailSent","true")):console.error("Failed to trigger inactive email:",Q.error)}catch(z){console.error("Error triggering inactive email:",z.message)}};R.useEffect(()=>{const G=localStorage.getItem("socialEmail")||E?.email||"";G&&(e(G),d("Use Google Sign-In for this account."));const X=Ye.onAuthStateChanged(H=>{H&&P(H)});return()=>X()},[]);const O=async G=>{try{const X=qe(ve,"users",G.uid),H=await wt(X);let W;if(H.exists())W=H.data();else{const q=G.displayName||"",[Z,J]=q.split(" ").length>1?q.split(" "):[q,""];W={uid:G.uid,email:G.email,firstName:Z||G.email.split("@")[0],lastName:J||"",username:G.email.split("@")[0].toLowerCase().replace(/[^a-z0-9]/g,"")+Math.floor(Math.random()*1e3),phoneNumber:G.phoneNumber||"",role:"standard"},await gr(X,W,{merge:!0})}const ne=await jI(G),U=await F5(`${I}/authenticate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`},body:JSON.stringify({email:G.email})}),z=await U.json();if(!U.ok)throw new Error(z.error||"Server authentication failed");W.role=z.role||"standard",localStorage.setItem("userData",JSON.stringify(W)),localStorage.removeItem("socialEmail"),localStorage.setItem("lastLogin",new Date().toISOString()),localStorage.removeItem("inactiveEmailSent");const Q=W.firstName||W.name?.split(" ")[0]||"User";h(`Welcome, ${Q}!`),setTimeout(()=>{x(!1),w(!1),T(z.redirectUrl||"/",{state:{fromValidNavigation:!0}})},2e3)}catch(X){console.error("Social login error:",X.message,X.code),l(Eg(X)||"Social login failed. Please check your connection or try again."),x(!1),w(!1)}},M=async G=>{G.preventDefault(),l(""),d(""),h(""),p(!0);let X=!1;const H=r.trim(),W=t.trim();if(H?A(H)||(l("Please enter a valid email address."),X=!0):(l("Email is required."),X=!0),!W&&!c.includes("Google Sign-In")&&(d("Password is required."),X=!0),X){p(!1);return}try{await mB(Ye,NA);const U=(await pQ(Ye,H,W)).user;let z={uid:U.uid,email:H,role:"standard"};const Q=await jI(U),q=await F5(`${I}/authenticate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({email:H})}),Z=await q.json();if(!q.ok)throw new Error(Z.error||"Server error");z.role=Z.role||"standard";const J=qe(ve,"users",U.uid),re=await wt(J);re.exists()?z={...re.data(),...z,role:Z.role||"standard"}:await gr(J,z),localStorage.setItem("userData",JSON.stringify(z)),localStorage.setItem("lastLogin",new Date().toISOString()),localStorage.removeItem("inactiveEmailSent");const de=z.firstName||z.name?.split(" ")[0]||"User";h(`Welcome, ${de}!`),setTimeout(()=>{p(!1),T(Z.redirectUrl||"/",{state:{fromValidNavigation:!0}})},2e3)}catch(ne){console.error("Login error:",ne.message,ne.code),p(!1);const U=ne.message?"Something went wrong. Please try again.":Eg(ne);U.includes("email")||U.includes("account")||U.includes("valid")?l(U):d(U)}},L=async()=>{l(""),d(""),h(""),x(!0);const G=new ml;G.setCustomParameters({prompt:"select_account"});try{const X=await j1(Ye,G);await O(X.user)}catch(X){console.error("Google sign-in error:",X.message,X.code),x(!1),l(Eg(X)||"Google sign-in failed. Please check your connection or try again.")}},B=async()=>{l(""),d(""),h(""),w(!0);const G=new fl;G.setCustomParameters({display:"popup"});try{const X=await j1(Ye,G);await O(X.user)}catch(X){console.error("Facebook sign-in error:",X.message,X.code),w(!1),l(Eg(X)||"Facebook sign-in failed. Please check your connection or try again.")}};return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"w-full h-screen flex",children:[i.jsx("div",{className:"hidden md:block md:w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('https://images.pexels.com/photos/7621356/pexels-photo-7621356.jpeg?auto=compress&cs=tinysrgb&w=600')"},children:i.jsxs("div",{className:"w-full h-full bg-black bg-opacity-40 flex flex-col justify-center items-center text-white p-8",children:[i.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center",children:["Welcome to ",i.jsx("img",{src:h0,alt:"Logo",className:"h-20 ml-2"})]}),i.jsx("p",{className:"text-lg text-center",children:"Join our community for buyers and sellers!"})]})}),i.jsxs("div",{className:"w-full md:w-1/2 h-full p-9 flex flex-col justify-center bg-white",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Sign In"}),i.jsxs("p",{className:"text-gray-600 mb-6",children:["Dont have an account?"," ",i.jsx(Fe,{to:"/register",className:"text-blue-600 hover:underline",children:"Sign Up"})]}),i.jsxs("form",{onSubmit:M,className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"email",id:"email",value:r,onChange:G=>e(G.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${o?"border-red-500":u?"border-green-500":"border-gray-300"}`,autoComplete:"email",required:!0}),i.jsx("label",{htmlFor:"email",className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${r?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Email"}),o&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:o})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:a?"text":"password",id:"password",value:t,onChange:G=>s(G.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${c?"border-red-500":u?"border-green-500":"border-gray-300"}`,autoComplete:"current-password",required:!0,disabled:c.includes("Google Sign-In")}),i.jsx("label",{htmlFor:"password",className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${t||c.includes("Google Sign-In")?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Password"}),i.jsx("span",{className:"absolute right-3 top-3 text-gray-500 cursor-pointer",onClick:()=>n(!a),style:{display:c.includes("Google Sign-In")?"none":"block"},children:i.jsx("i",{className:`bx ${a?"bx-hide":"bx-show"} text-xl`})}),c&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:c})]}),u&&i.jsx("p",{className:"text-green-600 text-xs mt-1",children:u}),i.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:m||c.includes("Google Sign-In"),children:m?"Logging in...":"Sign In"})]}),i.jsx("p",{className:"text-gray-600 mt-2",children:i.jsx(Fe,{to:"/recover-password",className:"hover:underline hover:text-blue-700",children:"Forgot Password?"})}),i.jsxs("div",{className:"mt-5 text-center",children:[i.jsx("p",{className:"text-gray-600 mb-4",children:"Or continue with"}),i.jsxs("div",{className:"flex justify-center space-x-4",children:[i.jsxs("button",{onClick:L,className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:b,children:[i.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5 mr-2"}),b?"Processing...":"Google"]}),i.jsxs("button",{onClick:B,className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:y,children:[i.jsx("img",{src:"https://www.facebook.com/favicon.ico",alt:"Facebook",className:"w-5 h-5 mr-2"}),y?"Processing...":"Facebook"]}),i.jsxs("button",{onClick:S,className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:k,children:[i.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg",alt:"Apple",className:"w-5 h-5 mr-2"}),k?"Processing...":"Apple"]})]})]})]})]})})}const dfe=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),L5=r=>{const e=r.length>=6,t=/[a-zA-Z]/.test(r),s=/[0-9]/.test(r),a=/[_@!+=#$%^&*()[\]{}|;:,.<>?~`/-]/.test(r);return{isValid:e&&t&&s&&a,score:(e?25:0)+(t?25:0)+(s?25:0)+(a?25:0),errors:[!e&&"Password needs 6+ characters.",!t&&"Password needs a letter.",!s&&"Password needs a number.",!a&&"Password needs a special character (e.g., _, @, !)."].filter(Boolean)}},eS=(r,e)=>{const t=[r,e].filter(l=>l?.trim()),s=t[0]?.slice(0,4).toLowerCase()||"user",a=t[1]?.slice(0,3).toLowerCase()||"",n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return(s+a).replace(/[^a-z0-9]/g,"")+n},ufe=r=>r.trim()?/^\+\d{7,15}$/.test(r):!0,tS=r=>{const e=new Date(r),t=new Date;let s=t.getFullYear()-e.getFullYear();const a=t.getMonth()-e.getMonth();return(a<0||a===0&&t.getDate()<e.getDate())&&s--,s},rS="https://foremade-backend.onrender.com";function hfe(){const[r,e]=R.useState(!1),[t,s]=R.useState(""),[a,n]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState(""),[u,h]=R.useState(""),[m,p]=R.useState(""),[b,x]=R.useState(""),[y,w]=R.useState(!1),[k,N]=R.useState(""),[T,E]=R.useState(""),[I,S]=R.useState(""),[A,P]=R.useState(""),[O,M]=R.useState(""),[L,B]=R.useState(""),[G,X]=R.useState(""),[H,W]=R.useState(""),[ne,U]=R.useState(!1),[z,Q]=R.useState(!1),[q,Z]=R.useState(0),[J,re]=R.useState(!1),[de,Se]=R.useState(!1),[je,Ne]=R.useState(!1),[xe,ze]=R.useState(!1),[se,fe]=R.useState(0),[Te,Ce]=R.useState(null),Be=zr();R.useEffect(()=>{const dt=L5(c);fe(dt.score),!dt.isValid&&c?P(dt.errors[0]):P("")},[c]),R.useEffect(()=>{ze(!0)},[]);const Ue=async dt=>{if(dt.preventDefault(),N(""),E(""),S(""),P(""),M(""),B(""),X(""),W(""),U(!0),q>=9){S("Too many attempts. Please try again later."),U(!1);return}let At=!1;if(t.trim()||(N("First name is required."),At=!0),a.trim()||(E("Last name is required."),At=!0),dfe(o)||(S("Please enter a valid email address."),At=!0),!c)P("Password is required."),At=!0;else{const Qe=L5(c);Qe.isValid||(P(Qe.errors[0]),At=!0)}if(u&&!ufe(u)&&(M("Invalid phone number (e.g., +1234567890)."),At=!0),m?tS(m)<18&&(X("You must be at least 18 years old to register."),At=!0):(X("Date of Birth is required."),At=!0),At){U(!1),Z(Qe=>Qe+1);return}try{const Qe=eS(t,a),ut={email:o,name:`${t} ${a}`,username:Qe,address:"",phoneNumber:u||"",createdAt:new Date().toISOString(),profileImage:null,role:"standard",dob:m};Ce(ut);const vt=await(await fetch(`${rS}/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})})).json();vt.success?(W("Check your email for a verification code."),Q(!0)):S(vt.error||"Failed to send OTP. Please try again.")}catch(Qe){console.error("Send OTP error:",Qe.message),S("Unable to send OTP. Check your connection or try again.")}finally{U(!1)}},gt=async dt=>{if(dt.preventDefault(),B(""),W(""),U(!0),!b.trim()){B("Please enter the verification code."),U(!1);return}try{const Qe=await(await fetch(`${rS}/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,otp:b})})).json();if(Qe.success)try{const kt=(await cw(Ye,o,c)).user;await zp(kt,{displayName:Te.username}),await gr(qe(ve,"users",kt.uid),{...Te,uid:kt.uid}),localStorage.setItem("userData",JSON.stringify({...Te,uid:kt.uid})),await xQ(kt),W("Email verified and account created! You can log in now."),Q(!1),setTimeout(()=>{Be("/login")},2e3)}catch(ut){console.error("Firebase registration error:",ut.message,ut.code),B(ut.message.includes("email")?"This email is already in use or invalid. Try another.":"Registration failed. Please try again.")}else B(Qe.error||"Invalid or expired code. Please try again.")}catch(At){console.error("Verify OTP error:",At.message),B("Verification failed. Check your connection or try again.")}finally{U(!1)}},st=async dt=>{let At;dt==="google"?(At=new ml,re(!0)):dt==="facebook"?(At=new fl,Se(!0)):dt==="apple"&&(At=new pm("apple.com"),e(!0));try{const ut=(await j1(Ye,At)).user,[kt,...vt]=ut.displayName?.split(" ")||[ut.email.split("@")[0],""],it=vt.join(" ");let ft=null;if(ut.birthDate&&(ft=tS(ut.birthDate)),ft===null||ft<18){Ne(!0);return}const Dt=eS(kt,it);await zp(ut,{displayName:Dt});const Bt={email:ut.email,name:`${kt} ${it}`,username:Dt,address:"",phoneNumber:ut.phoneNumber||"",createdAt:new Date().toISOString(),uid:ut.uid,profileImage:ut.photoURL||null,role:"standard",dob:ut.birthDate||""};await gr(qe(ve,"users",ut.uid),Bt,{merge:!0}),localStorage.setItem("userData",JSON.stringify(Bt)),W("Account created successfully with "+dt+"! Redirecting..."),setTimeout(()=>Be("/"),2e3)}catch(Qe){console.error("Social login error:",Qe.message,Qe.code),Qe.code==="auth/popup-blocked"?S("Popup was blocked by your browser. Please allow popups for this site and try again."):Qe.code==="auth/unauthorized-domain"?S("This domain is not authorized. Please add foremade.vercel.app to Firebase Authorized Domains."):S("Social signup failed. Please check your connection or try again.")}finally{re(!1),Se(!1),e(!1)}},bt=async dt=>{if(dt.preventDefault(),X(""),tS(m)<18){X("You must be at least 18 years old to register.");return}const Qe=Ye.currentUser;if(!Qe){S("User session expired. Please try signing in again."),Ne(!1);return}const[ut,...kt]=Qe.displayName?.split(" ")||[Qe.email.split("@")[0],""],vt=kt.join(" "),it=eS(ut,vt),ft={email:Qe.email,name:`${ut} ${vt}`,username:it,address:"",phoneNumber:Qe.phoneNumber||"",createdAt:new Date().toISOString(),uid:Qe.uid,profileImage:Qe.photoURL||null,role:"standard",dob:m};await gr(qe(ve,"users",Qe.uid),ft,{merge:!0}),localStorage.setItem("userData",JSON.stringify(ft)),W("Account created successfully! Redirecting..."),Ne(!1),setTimeout(()=>Be("/"),2e3)},pt=async()=>{U(!0);try{const At=await(await fetch(`${rS}/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})})).json();At.success?W("New verification code sent to your email."):S(At.error||"Failed to send code. Please try again.")}catch(dt){console.error("Resend OTP error:",dt.message),S("Unable to send code. Check your network and try again.")}finally{U(!1)}},zt=()=>{ze(!1)},Mt=()=>{Be("/pro-seller-form")};return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"w-full h-screen flex",children:[i.jsx("div",{className:"hidden md:block md:w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('https://i.pinimg.com/736x/f2/8c/a4/f28ca4118a46e68b6871946e65ab5665.jpg')"},children:i.jsxs("div",{className:"w-full h-full bg-black bg-opacity-40 flex flex-col justify-center items-center text-white p-8",children:[i.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center",children:["Join ",i.jsx("img",{src:h0,alt:"Formade logo",className:"h-20 ml-2"})]}),i.jsx("p",{className:"text-lg text-center",children:"Join our community for buyers and sellers!"})]})}),i.jsxs("div",{className:"w-full md:w-1/2 h-full p-9 flex flex-col justify-center bg-white relative",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Sign Up"})}),i.jsxs("p",{className:"text-gray-600 mb-6",children:["Already have an account? ",i.jsx(Fe,{to:"/login",className:"text-blue-600 hover:underline",children:"Sign In"})]}),i.jsxs("form",{onSubmit:Ue,className:"space-y-4",children:[i.jsxs("div",{className:"flex space-x-4 mb-4",children:[i.jsxs("div",{className:"relative w-1/2",children:[i.jsx("input",{type:"text",value:t,onChange:dt=>s(dt.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${k?"border-red-500":H?"border-green-500":"border-gray-300"}`,autoComplete:"given-name",required:!0}),i.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${t?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"First Name"}),k&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:k})]}),i.jsxs("div",{className:"relative w-1/2",children:[i.jsx("input",{type:"text",value:a,onChange:dt=>n(dt.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${T?"border-red-500":H?"border-green-500":"border-gray-300"}`,autoComplete:"family-name",required:!0}),i.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${a?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Last Name"}),T&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:T})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"email",value:o,onChange:dt=>l(dt.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${I?"border-red-500":H?"border-green-500":"border-gray-300"}`,autoComplete:"email",required:!0}),i.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${o?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Email"}),I&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:I})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"tel",value:u,onChange:dt=>h(dt.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${O?"border-red-500":H?"border-green-500":"border-gray-300"}`,autoComplete:"tel"}),i.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${u?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Phone Number"}),O&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:O})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:m,onChange:dt=>p(dt.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${G?"border-red-500":H?"border-green-500":"border-gray-300"}`,max:new Date().toISOString().split("T")[0],required:!0}),i.jsx("label",{className:`absolute hidden left-3 top-3 text-white-500 transition-all duration-300 transform origin-left pointer-events-none ${m?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Date of Birth"}),G&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:G})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:y?"text":"password",value:c,onChange:dt=>d(dt.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${A?"border-red-500":H?"border-green-500":"border-gray-300"}`,autoComplete:"new-password",required:!0}),i.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${c?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Password"}),i.jsx("span",{className:"absolute right-3 top-3 text-gray-500 cursor-pointer",onClick:()=>w(!y),children:i.jsx("i",{className:`bx ${y?"bx-hide":"bx-show"} text-xl`})})]}),c&&i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Password Strength"}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-out ${se>=75?"bg-green-500":se>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${se}%`}})}),i.jsx("p",{className:"text-xs mt-1",children:se>=75?"Strong":se>=50?"Medium":"Weak"})]}),A&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:A}),H&&i.jsx("p",{className:"text-green-600 text-xs mb-4",children:H}),i.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:ne,children:ne?"Processing...":"Sign Up"})]}),i.jsxs("div",{className:"mt-6 text-center",children:[i.jsx("p",{className:"text-gray-600 mb-4",children:"Or continue with"}),i.jsxs("div",{className:"flex justify-center space-x-4",children:[i.jsxs("button",{onClick:()=>st("google"),className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:J,children:[i.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5 mr-2"}),J?"Processing...":"Google"]}),i.jsxs("button",{onClick:()=>st("facebook"),className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:de,children:[i.jsx("img",{src:"https://www.facebook.com/favicon.ico",alt:"Facebook",className:"w-5 h-5 mr-2"}),de?"Processing...":"Facebook"]}),i.jsxs("button",{onClick:()=>st("apple"),className:"bg-white border border-gray-300 p-[17px] max-md:p-2 text-sm rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",disabled:r,children:[i.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg",alt:"Apple",className:"w-5 h-5 mr-2"}),r?"Processing...":"Apple"]})]})]}),z&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"m-4 bg-white p-6 rounded-lg w-full max-w-md animate-slide-up",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Verify Your Email"}),i.jsx("button",{onClick:()=>Q(!1),className:"text-gray-500 hover:text-gray-700",children:i.jsx("i",{className:"bx bx-x text-[24px]"})})]}),i.jsxs("p",{className:"text-gray-600 mb-4 text-sm text-center",children:["Enter the 6-digit code sent to your email ",o,"."]}),i.jsxs("form",{onSubmit:gt,className:"space-y-4",children:[i.jsx("div",{className:"flex justify-between gap-2",children:[0,1,2,3,4,5].map(dt=>i.jsx("input",{type:"text",maxLength:"1",value:b[dt]||"",onChange:At=>{const Qe=b.split("");Qe[dt]=At.target.value,x(Qe.join("")),At.target.value&&dt<5&&document.getElementsByTagName("input")[dt+1].focus()},onKeyDown:At=>{At.key==="Backspace"&&!b[dt]&&dt>0&&document.getElementsByTagName("input")[dt-1].focus()},className:"w-12 h-12 text-center border rounded-lg focus:border-blue-500 focus:outline-none text-2xl font-medium",required:!0},dt))}),L&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:L}),i.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:ne,children:ne?"Verifying...":"Verify Code"}),i.jsxs("p",{className:"text-center text-gray-600 mt-2 text-sm",children:["Didnt receive a code?"," ",i.jsx("button",{onClick:pt,className:"text-blue-600 hover:underline",disabled:ne,children:"Resend"})]}),H&&i.jsx("p",{className:"text-center text-green-600 text-xs mt-2",children:H})]})]})}),je&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"m-4 bg-white p-6 rounded-lg w-full max-w-md animate-slide-up",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Verify Your Age"}),i.jsx("button",{onClick:()=>Ne(!1),className:"text-gray-500 hover:text-gray-700",children:i.jsx("i",{className:"bx bx-x text-[24px]"})})]}),i.jsx("p",{className:"text-gray-600 mb-4 text-sm text-center",children:"Please enter your Date of Birth to confirm you are 18 or older."}),i.jsxs("form",{onSubmit:bt,className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:m,onChange:dt=>p(dt.target.value),className:`w-full p-3 border rounded-lg transition-all duration-300 ${G?"border-red-500":"border-gray-300"}`,max:new Date().toISOString().split("T")[0],required:!0}),i.jsx("label",{className:`absolute left-3 top-3 text-gray-500 transition-all duration-300 transform origin-left pointer-events-none ${m?"-translate-y-6 scale-75 text-blue-500 bg-white px-1":""}`,children:"Date of Birth"}),G&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:G})]}),i.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:ne,children:ne?"Verifying...":"Submit"})]})]})}),xe&&i.jsxs(Ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",children:[i.jsx(Ct.div,{initial:{opacity:0},animate:{opacity:.6},exit:{opacity:0},className:"absolute inset-0 bg-black"}),i.jsxs(Ct.div,{initial:{y:40,scale:.95,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:40,scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"relative bg-white rounded-2xl shadow-2xl max-w-lg w-full mx-4 p-6",children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:i.jsx(jhe,{className:"w-6 h-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Choose Your Option"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Merchant or Standard user"})]})]})}),i.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs(Ct.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:zt,className:"flex flex-col items-center justify-center p-4 border rounded-lg bg-gray-800 text-white hover:shadow-lg transition-shadow w-full h-32",children:[i.jsx("span",{className:"text-lg font-medium",children:"ALL USERS"}),i.jsx("span",{className:"text-sm mt-1",children:"Sign Up. Sell / Buy"})]}),i.jsxs(Ct.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:Mt,className:"flex flex-col items-center justify-center p-4 border rounded-lg bg-orange-500 text-white hover:shadow-lg transition-shadow w-full h-32",children:[i.jsx("span",{className:"text-lg font-medium",children:"MERCHANT"}),i.jsx("span",{className:"text-sm mt-1",children:"Sign Up / Pro Seller Benefits Included"}),i.jsx("span",{className:"text-xs mt-1",children:"Registered Businesses only"})]})]}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx("button",{onClick:()=>ze(!1),className:"text-blue-600 hover:underline text-sm",children:"Continue with Sign In"})})]})]})]})]})})}const xc=({alerts:r,removeAlert:e})=>i.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`flex items-center p-4 rounded-lg shadow-lg transition-all duration-300 transform translate-x-0 opacity-100 ${t.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"} animate-slide-in`,onClick:()=>e(t.id),role:"alert",children:[i.jsx("i",{className:`bx ${t.type==="success"?"bx-check-circle":"bx-error-circle"} text-xl mr-2`}),i.jsx("span",{children:t.message}),i.jsx("button",{className:"ml-auto text-white hover:text-gray-200","aria-label":"Close alert",children:i.jsx("i",{className:"bx bx-x text-xl"})})]},t.id))}),Vd=()=>{const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="success",o=3e3)=>{const l=Date.now().toString();e(c=>[...c,{id:l,message:a,type:n}]),o&&setTimeout(()=>{e(c=>c.filter(d=>d.id!==l))},o)},removeAlert:a=>{e(n=>n.filter(o=>o.id!==a))}}},ffe=({productId:r,isIconOnly:e=!1,customClass:t=""})=>{const[s,a]=R.useState(!1),{alerts:n,addAlert:o}=Vd(),{setAlerts:l}=Vd(),c=async()=>{if(!r){o("Invalid product ID","error",3e3);return}a(!0);try{await B1(r,1,Ye.currentUser?.uid),o("Added to cart!","success",3e3)}catch(u){console.error("Error adding to cart:",u),o(u.message||"Failed to add to cart","error",3e3)}finally{a(!1)}};let d=e?`${t} focus:outline-none`:`rounded-full px-2 py-1 text-white focus:outline-none ml-2 transition-all duration-200 ${s?"bg-gray-300 cursor-not-allowed":"bg-[#000] hover:bg-blue-950"}`;return i.jsxs("div",{className:"",children:[i.jsx("button",{onClick:c,disabled:s,className:d,"aria-label":"Add to cart",children:i.jsx("i",{className:`bx bx-cart-add text-2xl ${s?"opacity-50":""}`})}),i.jsx(xc,{alerts:n,removeAlert:u=>l(n.filter(h=>h.id!==u))})]})},mfe=()=>{const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(null),o=["tablet & phones","health & beauty","foremade fashion","electronics","baby products","computers & accessories","game & fun","drinks & categories","home & kitchen","smart watches"];return R.useEffect(()=>{(async()=>{s(!0),n(null);try{const d=o.sort(()=>.5-Math.random()).slice(0,Math.floor(Math.random()*3)+3).map(async p=>{const b=Lt(Xe(ve,"products"),Tt("category","==",p),JU(4));return(await xt(b)).docs.map(y=>{const w=y.data();let k=w.imageUrl&&typeof w.imageUrl=="string"&&w.imageUrl.startsWith("https://")?w.imageUrl:Array.isArray(w.imageUrls)&&w.imageUrls[0]&&typeof w.imageUrls[0]=="string"&&w.imageUrls[0].startsWith("https://")?w.imageUrls[0]:"/images/placeholder.jpg";return{id:y.id,name:w.name||"Unnamed Product",price:w.price||0,stock:w.stock||0,category:w.category||"uncategorized",imageUrl:k,rating:w.rating||Math.random()*2+3,colors:w.colors||[],sizes:w.category?.trim().toLowerCase()==="foremade fashion"?w.sizes||[]:[],condition:w.condition||"New",sellerId:w.sellerId||""}})}),m=(await Promise.all(d)).flat().filter(p=>p.imageUrl&&typeof p.imageUrl=="string"&&(p.imageUrl.startsWith("https://")||p.imageUrl==="/images/placeholder.jpg")?!0:(console.warn("Filtered out product with invalid imageUrl:",{id:p.id,name:p.name,imageUrl:p.imageUrl}),!1)).sort(()=>.5-Math.random()).slice(0,12);console.log("Fetched and normalized products:",m),e(m),m.length===0&&n("No products available at the moment.")}catch(c){console.error("Error fetching products:",{message:c.message,code:c.code}),n("Failed to load products. Please try again."),Ke.error("Failed to load products")}finally{s(!1)}})()},[]),t?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"})}):a?i.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[i.jsx("i",{className:"bx bx-error-circle text-8xl text-red-600"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-6 text-center",children:a}),i.jsxs(Fe,{to:"/",className:"mt-8 inline-flex items-center text-blue-600 hover:underline text-lg",children:[i.jsx("i",{className:"bx bx-home-alt mr-2"}),"Back to Home"]})]}):i.jsxs("div",{className:"container mx-auto px-4 py-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Discover More Products"}),i.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Shop sell, smile, check out these great products!"}),r.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh]",children:[i.jsx("i",{className:"bx bx-cart text-8xl text-gray-600"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-6 text-center",children:"No Products Available"}),i.jsx("p",{className:"text-gray-600 mt-2 text-center",children:"Our catalog is empty. Come back soon!"}),i.jsxs(Fe,{to:"/",className:"mt-8 inline-flex items-center text-blue-600 hover:underline text-lg",children:[i.jsx("i",{className:"bx bx-home-alt mr-2"}),"Back to Home"]})]}):i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(l=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm transition-shadow duration-300",children:[i.jsx(Fe,{to:`/product/${l.id}`,children:i.jsx("img",{src:l.imageUrl||"/images/placeholder.jpg",alt:l.name||"Product",className:"w-full h-48 object-cover rounded-t-lg",onError:c=>{c.target.src!=="/images/placeholder.jpg"&&(console.warn("Image load error, falling back to placeholder:",{productId:l.id,imageUrl:l.imageUrl,name:l.name}),c.target.src="/images/placeholder.jpg")},onLoad:()=>{console.log("Product image loaded:",{productId:l.id,imageUrl:l.imageUrl,name:l.name})}})}),i.jsxs("div",{className:"p-4",children:[i.jsx(Fe,{to:`/product/${l.id}`,children:i.jsx("h3",{className:"text-lg font-semibold text-gray-800 truncate hover:text-blue-600",children:l.name})}),i.jsxs("p",{className:"text-gray-600 mt-2 text-xl font-bold",children:["",l.price.toLocaleString("en-NG",{minimumFractionDigits:2})]}),i.jsx("div",{className:"mt-4",children:i.jsx(ffe,{productId:l.id,stock:l.stock,className:"w-full bg-slate-600 text-black py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center"})})]})]},l.id))})]})},gfe=({productId:r,productName:e})=>{const[t,s]=R.useState(!1),a=R.useRef(null),n=`${window.location.origin}/product/${r}`,o=async()=>{try{await navigator.clipboard.writeText(n),alert("Product link copied to clipboard!"),s(!1)}catch(c){console.error("Failed to copy:",c)}},l=()=>{const c=`Check out this product: ${e}
${n}`,d=`https://wa.me/?text=${encodeURIComponent(c)}`;window.open(d,"_blank"),s(!1)};return R.useEffect(()=>{const c=d=>{a.current&&!a.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),i.jsxs("div",{className:"relative inline-block",children:[i.jsx("button",{onClick:()=>s(!t),className:"flex items-center justify-center w-10 h-10 bg-gray-200 rounded-full hover:bg-gray-300 transition",children:i.jsx("i",{className:"bx bx-share bx-flip-horizontal text-2xl"})}),t&&i.jsxs("div",{ref:a,className:"absolute top-full mt-2 right-0 w-40 bg-white dark:bg-gray-800 shadow-lg rounded-lg border border-gray-200 dark:border-gray-700 z-50",children:[i.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 w-full text-left hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[i.jsx("i",{className:"bx bxl-whatsapp text-green-500 text-lg"}),"WhatsApp"]}),i.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 w-full text-left hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[i.jsx("i",{className:"bx bx-copy text-black text-lg"}),"Copy Link"]})]})]})},sS=(r,e)=>{let t;return(...s)=>{clearTimeout(t),t=setTimeout(()=>r(...s),e)}},aS={red:"#DC2626",blue:"#2563EB",green:"#22C55E",yellow:"#E0B912",orange:"#F59E42",purple:"#A21CAF",pink:"#EC4899",black:"#222222",white:"#F0F0F0",silver:"#E5E7EB",gold:"#FFD700",brown:"#A0522D",gray:"#9CA3AF",grey:"#9CA3AF",beige:"#F5F5DC",teal:"#14B8A6",navy:"#1E3A8A",olive:"#808000",maroon:"#800000",cyan:"#06B6D4",magenta:"#D946EF",lime:"#84CC16",coral:"#FB7185",indigo:"#6366F1",violet:"#8B5CF6"},pfe=r=>{let e=0;for(let t=0;t<r.length;t++)e=(e<<5)-e+r.charCodeAt(t),e|=0;return e},B5=(r,e)=>{if(!r||r==="Unknown Seller"||!e)return r;const t=r.split(" ")[0],s=Math.abs(pfe(e))%900+100;return`${t}${s}`},xfe=()=>{const[r,e]=R.useState([]),[t,s]=R.useState(null),[a,n]=R.useState(""),[o,l]=R.useState([]),[c,d]=R.useState([]),[u,h]=R.useState(!0),[m,p]=R.useState(1),[b,x]=R.useState([]),[y,w]=R.useState(!1),[k,N]=R.useState(0),[T,E]=R.useState(""),[I,S]=R.useState(!1),[A,P]=R.useState(!1),[O,M]=R.useState(""),[L,B]=R.useState(0),[G,X]=R.useState("right"),[H,W]=R.useState(!1),[ne,U]=R.useState(!1),[z,Q]=R.useState(0),[q,Z]=R.useState(""),[J,re]=R.useState(""),[de,Se]=R.useState(null),[je,Ne]=R.useState(null),[xe,ze]=R.useState(null),[se,fe]=R.useState({buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),[Te,Ce]=R.useState(25e3),[Be,Ue]=R.useState(.38),[gt,st]=R.useState(!1),{alerts:bt,addAlert:pt,removeAlert:zt}=Vd(),{id:Mt}=Pc(),dt=zr(),At=Ra(),Qe={new:"bg-amber-100 text-amber-800 border-amber-300",sale:"bg-emerald-100 text-emerald-800 border-emerald-300",trending:"bg-blue-100 text-blue-800 border-blue-300",default:"bg-gray-100 text-gray-800 border-gray-300"},ut=["foremade fashion","clothing","shoes","accessories"];R.useEffect(()=>{(async()=>{try{const Y=qe(ve,"settings","minimumPurchase"),ie=await wt(Y);ie.exists()&&Ce(ie.data().amount||25e3)}catch(Y){console.error("Error fetching minimum purchase:",Y),pt("Failed to fetch minimum purchase amount.","error",3e3)}})()},[pt]),R.useEffect(()=>{(async()=>{try{const Y=qe(ve,"settings","shippingFees"),ie=await wt(Y);ie.exists()&&Ue(ie.data().additionalPercentage||.3)}catch(Y){console.error("Error fetching additional shipping percentage:",Y),pt("Failed to fetch shipping fee configuration.","error",3e3)}})()},[pt]),R.useEffect(()=>{(async()=>{try{const Y=await xt(Xe(ve,"dailyDeals"));e(Y.docs.map(ie=>({id:ie.id,...ie.data()})))}catch(Y){console.error("Error fetching daily deals:",Y)}})()},[]),R.useEffect(()=>{(async()=>{try{const Y=qe(ve,"feeConfigurations","categoryFees"),ie=await wt(Y);ie.exists()&&ze(ie.data())}catch(Y){console.error("Error fetching fee configurations:",Y)}})()},[]),R.useEffect(()=>{if(xe&&t?.category&&(de?.price||t?.price)>0){const Ie=de?.price||t.price,Y=xe[t.category]||{buyerProtectionRate:.08,handlingRate:.2},ie=Ie*Y.buyerProtectionRate,ce=Ie*Y.handlingRate,oe=Ie+ie+ce;fe({buyerProtectionFee:ie,handlingFee:ce,totalEstimatedPrice:oe,sellerEarnings:Ie})}},[xe,t?.category,de?.price,t?.price]);const kt=Ie=>{if(!Ie||typeof Ie!="string")return"";const ie=Ie.replace(/<[^>]+>/g,"").split(`
`);let ce=!1,oe=ie.map(ge=>{if(ge=ge.trim(),!ge)return null;if(ge=ge.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),ge=ge.replace(/__(.*?)__/g,"<strong>$1</strong>"),ge.startsWith("- ")||ge.startsWith("* ")){const be=ge.substring(2).trim();return ce?`<li class="mb-1">${be}</li>`:(ce=!0,`<ul class="list-disc ml-4"><li class="mb-1">${be}</li>`)}return ce?(ce=!1,`</ul><p class="mb-2">${ge}</p>`):`<p class="mb-2">${ge}</p>`}).filter(Boolean).join("");return ce&&(oe+="</ul>"),oe},vt=R.useCallback(sS(async Ie=>{if(!Ie){x([]);return}try{const Y=Lt(Xe(ve,"favorites"),Tt("userId","==",Ie.uid)),ce=(await xt(Y)).docs.map(oe=>oe.data().productId);x(ce)}catch(Y){console.error("Error fetching favorites:",Y),pt("Failed to load favorites.","error",3e3)}},500),[pt]);R.useEffect(()=>{const Ie=Ye.onAuthStateChanged(Y=>{vt(Y)});return()=>Ie()},[vt]),R.useEffect(()=>{window.scrollTo(0,0),h(!0),(async()=>{try{if(!Mt||typeof Mt!="string"||Mt.trim()===""||Mt.includes("/"))throw new Error("Invalid product ID");const Y=qe(ve,"products",Mt),[ie,ce]=await Promise.all([wt(Y),xt(Xe(ve,"dailyDeals"))]);if(!ie.exists())throw new Error("Product not found");const oe=ie.data();if(oe.status!=="approved")throw new Error("Product not approved");let ge="",be=[];if(oe.sellerId){const De=qe(ve,"users",oe.sellerId),[Me,at]=await Promise.all([wt(De),xt(Xe(ve,`products/${Mt}/reviews`))]);if(Me.exists()){const mt=Me.data();ge=mt.location?`${mt.location.city||""}, ${mt.location.state||""}, ${mt.location.country||""}`.trim().replace(/, ,/g,","):""}be=at.docs.map(mt=>{const ir=mt.data();let Wr=ir.userName||"Anonymous";return typeof Wr=="object"&&Wr.name&&(Wr=Wr.name),{id:mt.id,...ir,userName:Wr}})}n(ge);let he=Array.isArray(oe.imageUrls)?oe.imageUrls:oe.imageUrl&&typeof oe.imageUrl=="string"?[oe.imageUrl]:["https://via.placeholder.com/600"],ye=Array.isArray(oe.videoUrls)?oe.videoUrls:[];(he.length===0||!he[0])&&(he=["https://via.placeholder.com/600"]);const pe=oe.category?.trim().toLowerCase()||"uncategorized",we=ut.includes(pe),te={id:ie.id,name:oe.name||"Unnamed Product",description:oe.description||"",price:oe.price||0,stock:oe.stock||0,category:pe,colors:oe.colors||[],sizes:we?oe.sizes||[]:[],condition:oe.condition||"New",imageUrls:he,videoUrls:ye,tags:oe.tags||[],seller:oe.seller||{name:"Unknown Seller",id:oe.sellerId||""},sellerId:oe.sellerId||"",rating:oe.rating||Math.random()*2+3,reviews:be,status:oe.status||"pending",variants:oe.variants||[]};if(te.seller.name=B5(te.seller.name,te.sellerId),te.variants&&te.variants.length>0){const De=[...new Set(te.variants.map(Me=>Me.color).filter(Boolean))].sort();if(te.colors=De.length>0?De:te.colors,we){const Me=[...new Set(te.variants.map(at=>at.size).filter(Boolean))].sort();te.sizes=Me.length>0?Me:te.sizes}}const _e=ce.docs.map(De=>({id:De.id,...De.data()})).find(De=>De.productId===Mt&&new Date(De.endDate)>new Date&&new Date(De.startDate)<=new Date);if(_e?(U(!0),Q((_e.discount*100).toFixed(2))):(U(!1),Q(0)),s(te),M(te.imageUrls[0]),B(0),te.colors.length>0&&Z(te.colors[0]),te.sizes.length>0&&re(te.sizes[0]),te.variants.length>0){const De=te.variants.find(Me=>Me.stock>0)||te.variants[0];Se(De),Ne(De),Z(De.color),re(De.size)}(()=>{const De=JSON.parse(localStorage.getItem("recentSearches")||"[]"),Me=te.variants.length&&de?{color:de.color,size:de.size,price:de.price,imageUrl:de.imageUrls?.[0]||te.imageUrls[0]}:null,mt=[{id:te.id,name:te.name,imageUrl:Me?.imageUrl||te.imageUrls[0],price:Me?.price||te.price||0,category:te.category,status:te.status,variant:Me},...De.filter(ir=>ir.id!==Mt)].slice(0,5);localStorage.setItem("recentSearches",JSON.stringify(mt))})();const Ee=Lt(Xe(ve,"products"),Tt("category","==",te.category)),Oe=(await xt(Ee)).docs.map(De=>{const Me=De.data();if(Me.status!=="approved")return null;let at=Me.variants&&Me.variants.length>0&&Me.variants[0]?.imageUrls?.[0]?Me.variants[0].imageUrls[0]:Me.imageUrl&&typeof Me.imageUrl=="string"?Me.imageUrl:Array.isArray(Me.imageUrls)&&Me.imageUrls[0]?Me.imageUrls[0]:"https://via.placeholder.com/600";if(De.id===Mt)return null;const mt=Me.category?.trim().toLowerCase()||"uncategorized",ir=ut.includes(mt);let Wr=Me.colors||[],Ia=ir?Me.sizes||[]:[];return Me.variants&&Me.variants.length>0&&(Wr=[...new Set(Me.variants.map(tn=>tn.color).filter(Boolean))].sort(),ir&&(Ia=[...new Set(Me.variants.map(tn=>tn.size).filter(Boolean))].sort())),{id:De.id,name:Me.name||"Unnamed Product",price:Me.price||0,stock:Me.stock||0,category:mt,colors:Wr,sizes:Ia,condition:Me.condition||"New",imageUrl:at,tags:Me.tags||[],seller:Me.seller||{name:"Unknown Seller",id:Me.sellerId||""},rating:Me.rating||Math.random()*2+3,status:Me.status||"pending"}}).filter(De=>De&&De.imageUrl).map(De=>({...De,seller:{...De.seller,name:B5(De.seller.name,De.seller.id)}}));l(Oe.slice(0,4))}catch(Y){console.error("Error loading product:",Y),s(null),l([]),pt(Y.message||"Failed to load product.","error",3e3),(Y.message.includes("Product not found")||Y.message.includes("Invalid product ID")||Y.message.includes("Product not approved"))&&setTimeout(()=>{dt("/products")},2e3)}finally{h(!1)}})()},[Mt,dt]),R.useEffect(()=>{try{const Y=JSON.parse(localStorage.getItem("recentSearches")||"[]").filter(ie=>ie&&ie.id&&ie.name).map(ie=>({...ie,imageUrl:ie.variant?.imageUrl||ie.imageUrl||"https://via.placeholder.com/600",price:typeof(ie.variant?.price??ie.price)=="number"&&!isNaN(ie.variant?.price??ie.price)?ie.variant?.price??ie.price:0}));d(Y)}catch(Ie){console.error("Error loading recent searches:",Ie),d([])}},[]),R.useEffect(()=>{if(!t)return;const Ie=t.variants.length?de||{imageUrls:[]}:null,Y=t.variants.length?Ie.imageUrls.map(ie=>({type:"image",url:ie})).filter(ie=>ie.url):t.imageUrls.map(ie=>({type:"image",url:ie})).filter(ie=>ie.url);if(!Y.length){M("https://via.placeholder.com/600"),B(0);return}M(Y[0].url),B(0)},[t,de]),R.useEffect(()=>{if(!t)return;const Ie=t.variants.length?de||{imageUrls:[]}:null,Y=t.variants.length?Ie.imageUrls.map(ie=>({type:"image",url:ie})).filter(ie=>ie.url):t.imageUrls.map(ie=>({type:"image",url:ie})).filter(ie=>ie.url);Y.length>0?M(Y[L]?.url||"https://via.placeholder.com/600"):M("https://via.placeholder.com/600")},[L,t,de]);const it=async()=>{if(t)try{if(m>(de?.stock||t.stock)){pt(`Cannot add more than ${de?.stock||t.stock} units of ${t.name}`,"error",3e3),p((de?.stock||t.stock)>0?de?.stock||t.stock:1);return}await B1(t.id,m,Ye.currentUser?.uid,q,J),pt(`${t.name} added to cart!`,"success",3e3),p(1)}catch(Ie){console.error("Error adding to cart:",Ie),pt("Failed to add to cart","error",3e3)}},ft=()=>{const Y=(de?.price||t.price)*m;return Math.round(Y*Be)},Dt=async()=>{if(!t)return;if(m>(de?.stock||t.stock)){pt(`Cannot purchase more than ${de?.stock||t.stock} units of ${t.name}`,"error",3e3),p((de?.stock||t.stock)>0?de?.stock||t.stock:1);return}const Ie=se.totalEstimatedPrice*m;if((ne?Math.round(Ie*(1-z/100)):Ie)<Te){st(!0);return}try{await B1(t.id,m,Ye.currentUser?.uid,q,J),setTimeout(()=>{dt(`/checkout?productId=${t.id}&quantity=${m}&color=${encodeURIComponent(q||"")}&size=${encodeURIComponent(J||"")}`)},100)}catch(ie){console.error("Error adding to cart:",ie),pt("Failed to add to cart","error",3e3)}},Bt=async()=>{try{await B1(t.id,m,Ye.currentUser?.uid,q,J);const Ie=ft();setTimeout(()=>{dt(`/checkout?productId=${t.id}&quantity=${m}&color=${encodeURIComponent(q||"")}&size=${encodeURIComponent(J||"")}&additionalShippingFee=${Ie}`)},100)}catch(Ie){console.error("Error adding to cart:",Ie),pt("Failed to add to cart","error",3e3)}finally{st(!1)}},or=()=>{st(!1),pt("Purchase cancelled.","info",3e3)},Ot=Ie=>{dt(`/product/${Ie}`,{state:{from:At.pathname}})},Xt=async()=>{if(!t){pt("No product selected","error",3e3);return}if(!Ye.currentUser){pt("Please log in to manage favorites","error",3e3);return}try{const Ie=Xe(ve,"favorites"),Y=Lt(Ie,Tt("userId","==",Ye.currentUser.uid),Tt("productId","==",t.id)),ie=await xt(Y);if(ie.empty)await fi(Ie,{userId:Ye.currentUser.uid,productId:t.id,createdAt:lo()}),x(ce=>[...ce,t.id]),pt("Added to favorites!","success",3e3);else{for(const ce of ie.docs)ce.data().userId===Ye.currentUser.uid&&await La(ce.ref);x(ce=>ce.filter(oe=>oe!==t.id)),pt("Removed from favorites","success",3e3)}}catch(Ie){console.error("Error toggling favorite:",Ie),pt("Failed to update favorites.","error",3e3)}},Vr=async Ie=>{if(Ie.preventDefault(),!Ye.currentUser){pt("Please log in to submit a review","error",3e3);return}if(k<1||k>5){pt("Please select a valid rating (1-5)","error",3e3);return}if(!T.trim()){pt("Please enter a review comment","error",3e3);return}try{let Y;try{const oe=localStorage.getItem("userData");Y=oe?JSON.parse(oe).name||"Anonymous":Ye.currentUser.displayName||"Anonymous"}catch{Y=Ye.currentUser.displayName||"Anonymous"}await fi(Xe(ve,`products/${Mt}/reviews`),{userId:Ye.currentUser.uid,userName:Y,rating:k,comment:T,date:lo()}),pt("Review submitted successfully!","success",3e3),N(0),E(""),P(!1);const ce=(await xt(Xe(ve,`products/${Mt}/reviews`))).docs.map(oe=>{const ge=oe.data();let be=ge.userName||"Anonymous";return typeof be=="object"&&be.name&&(be=be.name),{id:oe.id,...ge,userName:be}});s(oe=>({...oe,reviews:ce}))}catch(Y){console.error("Error submitting review:",Y),pt("Failed to submit review","error",3e3)}},vr=R.useCallback(sS((Ie,Y)=>{typeof Ie=="string"&&(Ie.startsWith("https://res.cloudinary.com/")||Ie.includes(".mp4"))&&(X(Y>L?"right":"left"),M(Ie),B(Y),W(Ie.includes(".mp4")))},300),[L]),Hr=R.useCallback(sS((Ie,Y)=>{if(!t?.variants)return;const ie=t.variants.find(ce=>ce.color===Ie&&ce.size===Y);if(!ie){pt("Selected variant combination is unavailable.","error",3e3),xr();return}if(ie.stock<=0){pt("Selected variant is out of stock.","error",3e3),xr();return}Ne(de),Se(ie),Z(Ie),re(Y),s(ce=>({...ce,price:ie.price,stock:ie.stock,imageUrls:ie.imageUrls&&ie.imageUrls.length>0?ie.imageUrls:ce.imageUrls})),M(ie.imageUrls&&ie.imageUrls.length>0?ie.imageUrls[0]:t.imageUrls[0]),B(0),p(1),pt("Variant selected successfully!","success",3e3)},300),[t,de,pt]),xr=()=>{je&&(Se(je),Z(je.color),re(je.size),s(Ie=>({...Ie,price:je.price,stock:je.stock,imageUrls:je.imageUrls&&je.imageUrls.length>0?je.imageUrls:Ie.imageUrls})),M(je.imageUrls&&je.imageUrls.length>0?je.imageUrls[0]:t.imageUrls[0]),B(0),p(1))},dr=(Ie,Y)=>{const ie=t?.variants?.find(ce=>ce.color===Ie&&ce.size===Y);return ie&&ie.stock>0},cr=Ie=>!Ie||Ie.includes("via.placeholder.com")||Ie==="https://via.placeholder.com/600"?"/fallback-image.png":Ie;if(u)return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx(Hz,{type:"productDetail",count:1}),i.jsx(xc,{alerts:bt,removeAlert:zt})]});if(!t)return i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx("p",{className:"text-[#333333]",children:"Product not found or not approved."}),i.jsx(Fe,{to:"/products",className:"text-[#112d4e] hover:underline",children:"Back to Products"}),i.jsx(xc,{alerts:bt,removeAlert:zt})]});const Er=150,Ar=5,qt=t.description.length>Er?`${t.description.substring(0,Er)}...`:t.description,Pr=t.description.length>Er,br=I?t.reviews||[]:(t.reviews||[]).slice(0,Ar),Jr=t.variants.length?de||{imageUrls:[]}:null,Ps=t.variants.length?Jr.imageUrls.map(Ie=>({type:"image",url:Ie})).filter(Ie=>Ie.url):t.imageUrls.map(Ie=>({type:"image",url:Ie})).filter(Ie=>Ie.url),ss=(de?.price||t.price)*m,$r=se.totalEstimatedPrice*m,Mr=ne?Math.round($r*(1-z/100)):$r,Vs=t.reviews&&t.reviews.length>0?(t.reviews.reduce((Ie,Y)=>Ie+Y.rating,0)/t.reviews.length).toFixed(1):t.rating.toFixed(1);return i.jsxs("div",{className:"mb-[140px] container mx-auto px-4 py-6 md:py-8 relative",children:[i.jsx("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .animate-fadeIn { animation: fadeIn 0.5s ease-out; }
          @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          .slide-in-right { animation: slideInRight 0.3s ease-out; }
          .slide-in-left { animation: slideInLeft 0.3s ease-out; }
          .main-media-container {
            position: relative;
            width: 100%;
            padding-top: 100%;
            overflow: hidden;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          }
          .main-media-container img, .main-media-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* Use contain so the full image is visible without cropping */
            object-fit: contain;
            object-position: center;
            transition: transform 0.2s ease;
          }
          /* Remove aggressive hover zoom which crops images; keep subtle fade only */
          .main-media-container:hover img, .main-media-container:hover video {
            transform: none;
          }
          .thumbnail {
            transition: all 0.2s ease;
          }
          .thumbnail:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
          }
          .sticky-cart {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #F0F0F0;
            padding: 1rem;
            box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
            z-index: 50;
          }
          .formatted-description strong {
            font-weight: 600;
          }
          .formatted-description ul {
            list-style: disc;
            margin-left: 1.5rem;
            margin-bottom: 0.5rem;
          }
          .formatted-description li {
            margin-bottom: 0.25rem;
          }
          .product-info-card {
            background: #F0F0F0;
            border: 1px solid #CCCCCC;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
          }
          .price-section {
            // background: #112d4e;
            border: 1px solid #cccccc;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1rem 0;
          }
          .selection-option {
            transition: all 0.2s ease;
            cursor: pointer;
          }
          .selection-option:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          }
          .selection-option.selected {
            border-color: #E0B912;
            background-color: #E0B912;
            color: #333333;
            box-shadow: 0 0 0 2px rgba(224, 185, 18, 0.2);
          }
          .selection-option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background-color: #CCCCCC;
            border-color: #CCCCCC;
          }
          .info-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.875rem;
            font-weight: 500;
            padding: 0.375rem 0.75rem;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
            background: #F0F0F0;
            color: #333333;
            border: 1px solid #CCCCCC;
          }
          .info-badge:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          }
          .message-icon {
            transition: all 0.3s ease;
            color: #25D366;
          }
          .message-icon:hover {
            transform: scale(1.2);
            color: #128C7E;
          }
          .quantity-controls {
            display: flex;
            align-items: center;
            border: 1px solid #CCCCCC;
            border-radius: 0.5rem;
            overflow: hidden;
            background: #F0F0F0;
            max-width: 120px;
          }
          .quantity-controls button {
            background: #F0F0F0;
            border: none;
            padding: 0.5rem 0.75rem;
            transition: all 0.2s ease;
            cursor: pointer;
            color: #333333;
          }
          .quantity-controls button:hover {
            background: #112d4e;
            color: #F0F0F0;
          }
          .quantity-controls input {
            border: none;
            text-align: center;
            width: 3rem;
            padding: 0.5rem;
            background: #F0F0F0;
            color: #333333;
          }
          .quantity-controls input:focus {
            outline: none;
            box-shadow: inset 0 0 0 2px #E0B912;
          }
          .favorite-button {
            transition: all 0.3s ease;
            color: #333333;
          }
          .favorite-button:hover {
            transform: scale(1.2);
          }
          .favorite-button.active {
            transform: scale(1.1);
            color: #DC2626;
          }
          .back-icon {
            transition: all 0.3s ease;
            color: #333333;
          }
          .back-icon:hover {
            transform: scale(1.2);
          }
          @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
          }
          .modal-enter { animation: modalFadeIn 0.3s ease-out forwards; }
          @keyframes modalBackdropFadeIn {
            from { opacity: 0; }
            to { opacity: 0.5; }
          }
          .backdrop-enter { animation: modalBackdropFadeIn 0.3s ease-out forwards; }
        `}),gt&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-opacity duration-300 animate-fade",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full animate-scale-in",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-info-circle text-blue-500"}),"Shipping Fee Notice"]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Your purchase of"," ",i.jsx(Ms,{price:Mr,currency:t.currency||localStorage.getItem("currency")||"NGN"})," ","is below the minimum purchase amount of"," ",i.jsx(Ms,{price:Te,currency:t.currency||localStorage.getItem("currency")||"NGN"}),". You will incur an additional shipping fee of"," ",i.jsx(Ms,{price:ft(),currency:t.currency||localStorage.getItem("currency")||"NGN"}),". Would you like to proceed?"]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:Bt,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition transform hover:scale-105",children:"Proceed"}),i.jsx("button",{onClick:or,className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-100 transition transform hover:scale-105",children:"Cancel"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-3",children:i.jsxs("div",{className:"sticky top-0 bg-white z-10",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-col-3 gap-6 animate-fadeIn",children:[i.jsxs("div",{className:"order-1",children:[i.jsx("div",{className:"relative main-media-container",children:Ps.length>0&&Ps[L].type==="image"?i.jsx("img",{src:cr(Ps[L].url),alt:`${t.name} ${t.variants.length?`variant ${t.variants.findIndex(Ie=>Ie===de)+1}`:""} image`,className:G==="right"?"slide-in-right":"slide-in-left",onError:Ie=>{Ie.target.onerror=null,Ie.target.src="/fallback-image.png"}}):Ps.length>0&&Ps[L].type==="video"?i.jsx("video",{src:Ps[L].url,controls:!0,autoPlay:H,className:G==="right"?"slide-in-right":"slide-in-left",children:"Your browser does not support the video tag."}):i.jsx("img",{src:"/fallback-image.png",alt:"Placeholder Image",className:"animate-fadeIn"})}),Ps.length>1&&i.jsx("div",{className:"flex justify-center space-x-2 mt-4 overflow-x-auto pb-2",children:Ps.map((Ie,Y)=>i.jsx("div",{className:`w-20 h-20 flex-shrink-0 cursor-pointer rounded-md overflow-hidden border-2 ${L===Y?"border-[#112d4e]":"border-transparent"} thumbnail`,onClick:()=>vr(Ie.url,Y),children:Ie.type==="image"?i.jsx("img",{src:cr(Ie.url),alt:`Thumbnail ${Y+1}`,className:"w-full h-full object-cover",onError:ie=>{ie.target.onerror=null,ie.target.src="/fallback-image.png"}}):i.jsx("video",{src:Ie.url,className:"w-full h-full object-cover",children:"Your browser does not support the video tag."})},Y))})]}),i.jsxs("div",{className:"order-2 md:order-2 product-info-card",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("button",{onClick:()=>dt(-1),className:"flex items-center text-[#333333] hover:text-[#112d4e] back-icon mr-3","aria-label":"Back to previous page",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("h1",{className:"text-lg text-[#333333] flex-grow",children:t.name}),i.jsx(gfe,{productId:t.id,productName:t.name}),i.jsx("button",{onClick:Xt,className:`favorite-button p-2 rounded-full ${b.includes(t.id)?"active text-[#DC2626]":"text-[#333333] hover:text-[#DC2626]"}`,"aria-label":b.includes(t.id)?"Remove from favorites":"Add to favorites",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]}),i.jsx("div",{className:"price-section text-white text-center",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[i.jsx("p",{className:"text-lg mb-2 sm:mb-0",children:i.jsx(Ms,{price:Mr,currency:t.currency||localStorage.getItem("currency")||"USD"})}),ne&&i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm line-through text-black opacity-80",children:i.jsx(Ms,{price:ss,currency:t.currency||localStorage.getItem("currency")||"USD"})}),i.jsxs("p",{className:"text-lg font-semibold text-[#E0B912]",children:[z,"% OFF!"]})]})]})}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[i.jsxs("span",{className:"info-badge",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-[#112d4e]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.329 1.14l1.519 4.674c.3.921-.755 1.688-1.539 1.14l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.543-1.838-.219-1.539-1.14l1.519-4.674a1 1 0 00-.329-1.14l-3.976-2.888c-.784-.57-.381-1.81.588-1.81h4.915a1 1 0 00.95-.69l1.519-4.674z"})}),Vs]}),i.jsxs("span",{className:"info-badge",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-[#112d4e]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.001 12.001 0 002.92 12c0 2.843.614 5.518 1.697 7.918l-.666 1.055c-.247.391.077.917.555.917h16.486c.478 0 .802-.526.555-.917l-.666-1.055c1.083-2.4 1.697-5.075 1.697-7.918a12.001 12.001 0 00-3.079-8.056z"})}),t.condition]}),i.jsxs(Fe,{to:`/seller/${t.sellerId}`,className:"info-badge hover:bg-gray-200",children:[i.jsx("i",{className:"ri-store-line"}),"Seller: ",t.seller.name]}),i.jsxs("button",{onClick:()=>dt(`/chat/${t.id}`,{state:{sellerId:t.sellerId,productId:t.id}}),className:"info-badge hover:bg-gray-200","aria-label":"Message seller",children:[i.jsx(Mz,{className:"message-icon",size:20}),"Message Seller"]})]}),t.variants.length>0&&i.jsxs("div",{className:"mb-4 flex-col",children:[i.jsx("h3",{className:"font-semibold text-lg text-[#333333] mb-2",children:"Variants:"}),i.jsxs("div",{className:"flex justify-between",children:[t.colors.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsxs("p",{className:"text-sm text-[#333333] mb-1",children:["Color:"," ",i.jsx("span",{className:"font-medium text-[#112d4e]",children:q||"N/A"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:t.colors.map(Ie=>{const Y=t.sizes.length>0?t.sizes.some(ce=>dr(Ie,ce)):dr(Ie,J),ie=()=>{if(!Y)return;let ce=J;if(t.sizes.length>0){const oe=t.sizes.filter(ge=>dr(Ie,ge));if(oe.length>0)ce=oe.includes(J)?J:oe[0];else return}Hr(Ie,ce)};return i.jsx("button",{onClick:ie,className:`selection-option p-2 rounded-lg border-2 flex items-center justify-center min-w-[32px] min-h-[32px] ${q===Ie?"selected":Y?"border-[#CCCCCC] bg-[#F0F0F0] text-[#333333] hover:bg-[#E0B912] hover:text-[#333333]":"disabled"}`,style:{backgroundColor:aS[Ie.toLowerCase()]||Ie,borderColor:q===Ie?"#E0B912":"#CCCCCC",color:Ie.toLowerCase()==="white"||Ie.toLowerCase()==="silver"||aS[Ie.toLowerCase()]==="#F0F0F0"?"#333333":"#F0F0F0"},disabled:!Y,"aria-label":`Select color ${Ie}`,title:Y?Ie:"Color unavailable or out of stock",children:q!==Ie&&(Ie.toLowerCase()==="white"||Ie.toLowerCase()==="silver")?i.jsx("div",{className:"w-5 h-5 rounded-full border border-gray-400",style:{backgroundColor:aS[Ie.toLowerCase()]||Ie}}):null},Ie)})})]}),t.sizes.length>0&&i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-[#333333] mb-1",children:["Size:"," ",i.jsx("span",{className:"font-medium text-[#112d4e]",children:J||"N/A"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:t.sizes.map(Ie=>{const Y=dr(q,Ie);return i.jsx("button",{onClick:()=>Y&&Hr(q,Ie),className:`selection-option px-2 py-1 rounded-full border-2 ${J===Ie?"selected":Y?"border-[#CCCCCC] bg-[#F0F0F0] text-[#fff] hover:bg-[#E0B912] hover:text-[#333333]":"disabled"}`,disabled:!Y,"aria-label":`Select size ${Ie}`,title:Y?Ie:"Size unavailable or out of stock",children:Ie},Ie)})})]})]}),t.variants.length>0&&!de&&i.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please select a valid variant combination."})]}),i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("p",{className:"text-sm font-semibold text-[#333333]",children:"Quantity:"}),i.jsxs("div",{className:"quantity-controls",children:[i.jsx("button",{onClick:()=>p(Ie=>Math.max(1,Ie-1)),"aria-label":"Decrease quantity",children:"-"}),i.jsx("input",{type:"number",value:m,onChange:Ie=>p(Math.max(1,parseInt(Ie.target.value)||1)),className:"no-arrows",min:"1",max:de?.stock||t.stock,"aria-label":"Product quantity"}),i.jsx("button",{onClick:()=>p(Ie=>Math.min(Ie+1,de?.stock||t.stock)),disabled:m>=(de?.stock||t.stock),"aria-label":"Increase quantity",children:"+"})]})]}),i.jsxs("p",{className:`text-sm font-semibold ${(de?.stock||t.stock)>0?"text-[#112d4e]":"text-[#DC2626]"}`,children:["Stock: ",de?.stock||t.stock," units"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsx("button",{onClick:it,disabled:!t.stock||m>t.stock,className:"flex-1 px-6 py-3 rounded-lg bg-[#ffffff] text-[#333333] font-semibold hover:bg-[#cccccc] focus:outline-none focus:ring-2 focus:ring-[#E0B912] focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:"Add to Cart"}),i.jsx("button",{onClick:Dt,disabled:!t.stock||m>t.stock,className:"flex-1 px-6 py-3 rounded-lg bg-[#112d4e] text-[#F0F0F0] font-semibold hover:bg-[#007F8B] focus:outline-none focus:ring-2 focus:ring-[#112d4e] focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:"Pay Now"})]})]})]}),i.jsxs("div",{className:"product-info-card mt-6",children:[i.jsx("h2",{className:"font-medium text-[#333333] mb-4",children:"Description"}),i.jsx("div",{className:"text-[#555555] leading-relaxed formatted-description",dangerouslySetInnerHTML:{__html:kt(y?t.description:qt)}}),Pr&&i.jsx("button",{onClick:()=>w(!y),className:"text-[#112d4e] hover:underline mt-2 text-sm",children:y?"Show Less":"Read More"}),i.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.tags.map((Ie,Y)=>{const ie=Qe[Ie.toLowerCase()]||Qe.default;return i.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border ${ie}`,children:Ie},Y)})})]}),i.jsxs("div",{className:"product-info-card mt-6",children:[i.jsx("h2",{className:"font-medium text-[#333333] mb-4",children:"Customer Reviews"}),(t.reviews||[]).length===0?i.jsx("p",{className:"text-[#555555]",children:"No reviews yet. Be the first!"}):i.jsxs("div",{className:"space-y-4",children:[br.map(Ie=>i.jsxs("div",{className:"border-b border-[#CCCCCC] pb-4 last:border-b-0",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("p",{className:"font-semibold text-[#333333]",children:Ie.userName}),i.jsx("span",{className:"ml-3 text-sm text-[#8D8D8D]",children:new Date(Ie.date?.toDate()).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center mb-2",children:[[...Array(5)].map((Y,ie)=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${ie<Ie.rating?"text-[#E0B912]":"text-[#CCCCCC]"}`,viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.329 1.14l1.07 3.292c.3.921-.755 1.688-1.539 1.14l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.543-1.838-.219-1.539-1.14l1.07-3.292a1 1 0 00-.329-1.14l-2.8-2.034c-.784-.57-.381-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"})},ie)),i.jsx("span",{className:"ml-2 text-sm font-medium text-[#333333]",children:Ie.rating.toFixed(1)})]}),i.jsx("p",{className:"text-[#555555]",children:Ie.comment})]},Ie.id)),(t.reviews||[]).length>Ar&&i.jsx("button",{onClick:()=>S(!I),className:"text-[#112d4e] hover:underline mt-4 text-sm",children:I?"Show Less Reviews":"Show All Reviews"})]}),i.jsx("button",{onClick:()=>P(!A),className:"mt-6 px-4 py-2 bg-[#E0B912] text-[#333333] font-semibold rounded-lg hover:bg-[#FACC15] focus:outline-none focus:ring-2 focus:ring-[#E0B912] focus:ring-offset-2 transition duration-200 ease-in-out",children:A?"Cancel Review":"Write a Review"}),A&&i.jsxs("form",{onSubmit:Vr,className:"mt-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium text-[#333333] mb-2",children:"Rating:"}),i.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(Ie=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-8 w-8 cursor-pointer ${Ie<=k?"text-[#E0B912]":"text-[#CCCCCC]"}`,viewBox:"0 0 20 20",fill:"currentColor",onClick:()=>N(Ie),"aria-label":`Rate ${Ie} stars`,children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.329 1.14l1.07 3.292c.3.921-.755 1.688-1.539 1.14l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.543-1.838-.219-1.539-1.14l1.07-3.292a1 1 0 00-.329-1.14l-2.8-2.034c-.784-.57-.381-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"})},Ie))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-[#333333] mb-2",children:"Comment:"}),i.jsx("textarea",{id:"comment",className:"w-full p-3 border border-[#CCCCCC] rounded-lg focus:ring-[#E0B912] focus:border-[#E0B912] outline-none text-[#333333] bg-[#F0F0F0]",rows:"4",value:T,onChange:Ie=>E(Ie.target.value),placeholder:"Share your thoughts on this product..."})]}),i.jsx("button",{type:"submit",className:"px-6 py-3 bg-[#112d4e] text-[#F0F0F0] font-semibold rounded-lg hover:bg-[#007F8B] focus:outline-none focus:ring-2 focus:ring-[#112d4e] focus:ring-offset-2 transition duration-200 ease-in-out",children:"Submit Review"})]})]})]})}),i.jsxs("div",{className:"lg:col-span-1",children:[o.length>0&&i.jsxs("div",{className:"product-info-card mb-6",children:[i.jsx("h2",{className:"font-medium text-[#333333] mb-4",children:"Similar Products"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-1 gap-4",children:o.map(Ie=>{const Y=Array.isArray(Ie.variants)&&Ie.variants.length>0;let ie=Ie.price,ce=Ie.price;if(Y){const be=Ie.variants.map(he=>he.price).filter(Boolean);ie=Math.min(...be),ce=Math.max(...be)}const oe=Y?[...new Set(Ie.variants.map(be=>be.color).filter(Boolean))]:[],ge=Y?[...new Set(Ie.variants.map(be=>be.size).filter(Boolean))]:[];return i.jsxs("div",{className:"relative",children:[i.jsx(Pa,{product:Ie,dailyDeals:r,selectedColor:Ie.selectedColor||Ie.color||Ie.colors&&Ie.colors[0]||"",selectedSize:Ie.selectedSize||Ie.size||Ie.sizes&&Ie.sizes[0]||"",selectedVariant:Ie.selectedVariant||Ie.variants&&Ie.variants[0]||null,onClick:()=>Ot(Ie.id),isFavorite:b.includes(Ie.id),toggleFavorite:Xt,cardClassName:"h-[300px]",imageClassName:"!rounded-md h-[900px]",priceClassName:"!text-[#112d4e] h-[400px]",nameClassName:"!text-[#333333]",minPrice:ie,maxPrice:ce,hasVariants:Y}),Y&&i.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-600",children:[oe.length>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(hE,{size:14}),oe.length," Color",oe.length>1?"s":""]}),ge.length>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(fE,{size:14}),ge.length," Size",ge.length>1?"s":""]})]})]},Ie.id)})})]}),c.length>0&&i.jsxs("div",{className:"product-info-card",children:[i.jsx("h2",{className:"font-medium text-[#333333] mb-4",children:"Recently Viewed"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-1 gap-4",children:c.map(Ie=>{const Y=Array.isArray(Ie.variants)&&Ie.variants.length>0;let ie=Ie.price,ce=Ie.price;if(Y){const be=Ie.variants.map(he=>he.price).filter(Boolean);ie=Math.min(...be),ce=Math.max(...be)}const oe=Y?[...new Set(Ie.variants.map(be=>be.color).filter(Boolean))]:[],ge=Y?[...new Set(Ie.variants.map(be=>be.size).filter(Boolean))]:[];return i.jsxs("div",{className:"relative",children:[i.jsx(Pa,{product:Ie,dailyDeals:r,selectedColor:Ie.selectedColor||Ie.color||Ie.colors&&Ie.colors[0]||"",selectedSize:Ie.selectedSize||Ie.size||Ie.sizes&&Ie.sizes[0]||"",selectedVariant:Ie.selectedVariant||Ie.variants&&Ie.variants[0]||null,onClick:()=>Ot(Ie.id),isFavorite:b.includes(Ie.id),toggleFavorite:Xt,cardClassName:"h-[300px]",imageClassName:"!rounded-md h-[900px]",priceClassName:"!text-[#112d4e] h-[400px]",nameClassName:"!text-[#333333]",minPrice:ie,maxPrice:ce,hasVariants:Y}),Y&&i.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-600",children:[oe.length>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(hE,{size:14}),oe.length," Color",oe.length>1?"s":""]}),ge.length>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(fE,{size:14}),ge.length," Size",ge.length>1?"s":""]})]})]},Ie.id)})})]})]})]}),i.jsx(xc,{alerts:bt,removeAlert:zt})]})},Fo=()=>i.jsx("div",{className:"flex justify-center items-center h-48",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})}),bfe="/assets/empty-cart-zEVFI3ed.svg",yfe=({item:r,updateCartQuantity:e,removeFromCart:t})=>{const{convertPrice:s}=Jx(),[a,n]=R.useState(js),[o,l]=R.useState(null),[c,d]=R.useState({buyerProtectionRate:.08,handlingRate:.2}),[u,h]=R.useState(!1),[m,p]=R.useState(0),[b,x]=R.useState(!1),y=(S,A=1,P=0)=>{const O=P>0?S*P/100:0;return(S-O)*(1+c.buyerProtectionRate+c.handlingRate)*A};R.useEffect(()=>{const S=async()=>{try{const P=qe(ve,"feeConfigurations","categoryFees"),O=await wt(P);if(O.exists()){const M=O.data(),L=o?.category||"default";d(M[L]||{buyerProtectionRate:.08,handlingRate:.2})}}catch(P){console.error("Error fetching fee config:",P)}},A=async()=>{if(!r||!r.productId){console.warn("Invalid cart item data:",r),l(null),n(js);return}try{const P=qe(ve,"products",r.productId),O=await wt(P);if(O.exists()){const M=O.data();l({id:O.id,name:M.name||"Unnamed Product",price:Number(M.price)||0,stock:Number(M.stock)||0,category:M.category?.trim().toLowerCase()||"uncategorized",imageUrls:M.imageUrls||[]});const L=Array.isArray(M.imageUrls)?M.imageUrls.filter(X=>typeof X=="string"&&X.startsWith("https://res.cloudinary.com/")):M.imageUrl&&typeof M.imageUrl=="string"&&M.imageUrl.startsWith("https://res.cloudinary.com/")?[M.imageUrl]:[];n(L.length>0?L[0]:js);const G=(await xt(Xe(ve,"dailyDeals"))).docs.map(X=>({id:X.id,...X.data()})).find(X=>X.productId===r.productId&&new Date(X.endDate)>new Date&&new Date(X.startDate)<=new Date);G?(h(!0),p(Number((G.discount*100).toFixed(2)))):(h(!1),p(0))}else console.warn(`Product ${r.productId} not found in Firestore.`),l(null),n(js)}catch(P){console.error("Product fetch error for cart item:",r.productId,":",P),l(null),n(js)}};S(),A()},[r]);const w=()=>{if(r.quantity<o.stock){const S=r.quantity+1;console.log("Incrementing quantity:",{productId:r.productId,newQuantity:S}),e(r.productId,S)}},k=()=>{if(r.quantity>1){const S=r.quantity-1;console.log("Decrementing quantity:",{productId:r.productId,newQuantity:S}),e(r.productId,S)}};if(!r||!r.productId||!o)return i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-100 rounded-lg",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-gray-500 text-xs",children:"Image N/A"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Product Not Found"}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Item ID: ",r?.productId||"Unknown"]}),i.jsx("p",{className:"text-xs text-red-600",children:"This product is no longer available."})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("button",{onClick:()=>t(r?.productId),className:"text-red-500 hover:text-red-700","aria-label":"Remove unavailable product from cart",children:i.jsx("i",{className:"bx bx-trash text-xl"})})})]});const N=o.stock===0,T=y(o.price,r.quantity,u?m:0);typeof r.variant?.price=="number"?r.variant.price:typeof r.price=="number"?r.price:o.price;const E=r.variant?.imageUrl&&typeof r.variant.imageUrl=="string"&&r.variant.imageUrl.startsWith("https://res.cloudinary.com/")?r.variant.imageUrl:r.variants?.length>0&&r.variants[0]?.imageUrls?.length>0&&r.variants[0].imageUrls[0].startsWith("https://res.cloudinary.com/")?r.variants[0].imageUrls[0]:a,I=(S,A=8)=>{const P=S.split(" ");return P.length>A?P.slice(0,A).join(" ")+"":S};return i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-100 rounded-lg",children:[i.jsx(Fe,{to:`/product/${o.id}`,children:i.jsxs("div",{className:"relative w-16 h-16",children:[b&&i.jsx("div",{className:"absolute bottom-0 left-0 bg-red-600 text-white text-xs px-1 rounded",children:"Image Failed"}),i.jsx("img",{src:E,alt:o.name,className:"w-16 h-16 object-cover rounded",onError:S=>{b||(console.error("CartItem image load error:",{productId:r.productId,imageUrl:E}),x(!0),S.target.src=js)},onLoad:()=>{console.log("CartItem image loaded successfully:",{productId:r.productId,imageUrl:E,name:o.name}),x(!1)},loading:"lazy"})]})}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Fe,{to:`/product/${o.id}`,children:i.jsx("h3",{className:"text-sm font-bold text-gray-800",children:I(o.name)})}),u&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-xs text-blue-600 font-medium",children:i.jsx(Ms,{price:T})}),i.jsx("p",{className:"text-xs text-gray-500 line-through",children:i.jsx(Ms,{price:y(o.price,r.quantity,0)})})]}),!u&&i.jsx("p",{className:"text-xs text-gray-600",children:i.jsx(Ms,{price:T})}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Stock:"," ",i.jsx("span",{className:N?"text-red-600":"text-green-600",children:N?"Out of stock":`${o.stock} units available`})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden",children:[i.jsx("button",{onClick:k,className:`px-1 py-1 text-gray-600 hover:bg-gray-200 transition ${r.quantity<=1||N?"opacity-50 cursor-not-allowed":""}`,disabled:r.quantity<=1||N,"aria-label":`Decrease quantity of ${o.name}`,children:i.jsx("i",{className:"bx bx-minus"})}),i.jsx("span",{className:"px-3 py-1 text-gray-800 font-medium",children:r.quantity}),i.jsx("button",{onClick:w,className:`px-1 py-1 text-gray-600 hover:bg-gray-200 transition ${r.quantity>=o.stock||N?"opacity-50 cursor-not-allowed":""}`,disabled:r.quantity>=o.stock||N,"aria-label":`Increase quantity of ${o.name}`,children:i.jsx("i",{className:"bx bx-plus"})})]}),i.jsx("button",{onClick:()=>{console.log("Removing item:",{productId:r.productId,name:o.name}),t(r.productId)},className:"text-red-500 hover:text-red-700","aria-label":`Remove ${o.name} from cart`,children:i.jsx("i",{className:"bx bx-trash text-xl"})})]})]})},vfe=({totalPrice:r,cartItems:e,clearCart:t})=>{const{convertPrice:s}=Jx(),a=zr(),[n,o]=R.useState({buyerProtectionRate:.08,handlingRate:.2}),[l,c]=R.useState(25e3);R.useEffect(()=>{const k=async()=>{try{const E=qe(ve,"feeConfigurations","categoryFees"),I=await wt(E);if(I.exists()){const P=I.data(),O=e[0]?.product?.category||"default";o(P[O]||{buyerProtectionRate:.08,handlingRate:.2})}const S=qe(ve,"settings","minimumPurchase"),A=await wt(S);A.exists()&&c(A.data().amount||25e3)}catch(E){console.error("Error fetching configs:",E)}},N=async()=>{try{return(await xt(Xe(ve,"dailyDeals"))).docs.map(S=>({id:S.id,...S.data()})).filter(S=>new Date(S.endDate)>new Date&&new Date(S.startDate)<=new Date)}catch(E){return console.error("Error fetching daily deals:",E),[]}},T=async()=>{const E=await N();e.forEach(I=>{const S=E.find(A=>A.productId===I.product.id);S?(I.isDailyDeal=!0,I.discountPercentage=(S.discount*100).toFixed(2)):(I.isDailyDeal=!1,I.discountPercentage=0)})};e.length>0&&T(),k()},[e]);const d=(k,N=1,T=0)=>{const E=T>0?k*T/100:0;return(k-E)*(1+n.buyerProtectionRate+n.handlingRate)*N},u=e.reduce((k,N)=>k+d(N.product.price||0,N.quantity||1,N.discountPercentage||0),0),h=e.some(k=>k.quantity>(k.product?.stock||0)),m=e.length===0,p=e.reduce((k,N)=>k+(N.quantity||0),0),b=u<l,y=u+0,w=()=>{if(b){alert(`Minimum purchase amount is ${l.toLocaleString("en-NG")} to checkout.`);return}if(p>20){alert("Maximum basket size is 20 items.");return}a("/checkout")};return i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Order Summary"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.map((k,N)=>k.isDailyDeal&&i.jsxs("div",{className:"flex justify-between text-xs text-green-600",children:[i.jsxs("span",{children:["Discount on ",k.product.name]}),i.jsxs("span",{children:["-",i.jsx(Ms,{price:k.product.price*k.discountPercentage/100*k.quantity})]})]},N)),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:i.jsx(Ms,{price:u})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Shipping"}),i.jsx("span",{className:"text-green-600 font-semibold",children:"FREE"})]}),i.jsxs("div",{className:"flex justify-between font-bold text-gray-800 border-t pt-2",children:[i.jsx("span",{children:"Grand Total"}),i.jsx("span",{children:i.jsx(Ms,{price:y})})]})]}),b&&i.jsxs("p",{className:"text-red-600 text-xs mt-2 bg-red-50 p-2 rounded",children:[" Minimum purchase amount is ",i.jsx(Ms,{price:l})," to checkout."]}),p>20&&i.jsx("p",{className:"text-red-600 text-xs mt-2 bg-red-50 p-2 rounded",children:" Maximum basket size is 20 items."}),i.jsxs("div",{className:"mt-4 flex gap-3",children:[i.jsx("button",{onClick:w,className:`flex-1 px-6 py-2 rounded-lg text-white transition ${m||h||b||p>20?"bg-gray-400 cursor-not-allowed":"bg-[#112d4e] hover:bg-[#112d4e]"}`,disabled:m||h||b||p>20,children:"Checkout"}),i.jsx("button",{onClick:t,className:`px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition ${m?"opacity-50 cursor-not-allowed":""}`,disabled:m,children:"Clear Cart"})]})]})},wfe=()=>{const r=zr(),[e,t]=R.useState([]),[s,a]=R.useState(null),[n,o]=R.useState(!0),[l,c]=R.useState(null),[d,u]=R.useState(0),[h,m]=R.useState([]);R.useEffect(()=>{const k=()=>{u(window.scrollY)};return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]),R.useEffect(()=>{(async()=>{try{if(e.length===0){m([]);return}const N=[...new Set(e.map(I=>I.product.category).filter(Boolean))];if(N.length===0){m([]);return}const T=e.map(I=>I.productId),E=[];for(const I of N){const S=Lt(Xe(ve,"products"),Tt("category","==",I),JU(4-E.length));if((await xt(S)).forEach(P=>{const O=P.data();if(!T.includes(P.id)){const M=Array.isArray(O.imageUrls)&&O.imageUrls[0]&&typeof O.imageUrls[0]=="string"&&O.imageUrls[0].startsWith("https://")?O.imageUrls[0]:O.imageUrl&&typeof O.imageUrl=="string"&&O.imageUrl.startsWith("https://")?O.imageUrl:js;E.push({id:P.id,name:O.name||"Unnamed Product",price:Number(O.price)||0,imageUrl:M,stock:Number(O.stock)||0})}}),E.length>=4)break}m(E.slice(0,4))}catch(N){console.error("Error fetching recommended products:",N),m([])}})()},[e]),R.useEffect(()=>{const k=Ye.onAuthStateChanged(async T=>{a(T);try{o(!0),c(null);let E=[];T?(await Xne(T.uid),E=await _l(T.uid)):E=await _l(),console.log("Raw cart items from getCart:",E);const I=E.map(S=>{if(!S.product)return console.warn("Cart item missing product data:",{productId:S.productId,quantity:S.quantity}),null;const{product:A}=S;let P=A.imageUrl&&typeof A.imageUrl=="string"&&A.imageUrl.startsWith("https://")?A.imageUrl:Array.isArray(A.imageUrls)&&A.imageUrls[0]&&typeof A.imageUrls[0]=="string"&&A.imageUrls[0].startsWith("https://")?A.imageUrls[0]:js;return{...S,product:{id:A.id||S.productId,name:A.name||"Unnamed Product",price:Number(A.price)||0,stock:Number(A.stock)||0,category:A.category||"uncategorized",imageUrl:P,rating:A.rating||Math.random()*2+3,colors:A.colors||[],sizes:A.sizes||[],condition:A.condition||"New",sellerId:A.sellerId||""}}}).filter(S=>S?S.product.imageUrl&&typeof S.product.imageUrl=="string"&&(S.product.imageUrl.startsWith("https://")||S.product.imageUrl===js)?!0:(console.warn("Filtered out cart item with invalid imageUrl:",{productId:S.productId,name:S.product.name,imageUrl:S.product.imageUrl}),!1):(console.warn("Filtered out invalid cart item"),!1));console.log("Normalized cart items:",I),t(I),I.length===0&&c("Your cart is empty.")}catch(E){console.error("Error loading cart:",{message:E.message,code:E.code}),c("Failed to load cart. Please try again."),t([]),Ke.error("Failed to load cart")}finally{o(!1)}}),N=async()=>{try{const T=await _l(s?.uid);console.log("Raw cart items from handleCartUpdate:",T);const E=T.map(I=>{if(!I.product)return console.warn("Cart item missing product data:",{productId:I.productId,quantity:I.quantity}),null;const{product:S}=I;let A=S.imageUrl&&typeof S.imageUrl=="string"&&S.imageUrl.startsWith("https://")?S.imageUrl:Array.isArray(S.imageUrls)&&S.imageUrls[0]&&typeof S.imageUrls[0]=="string"&&S.imageUrls[0].startsWith("https://")?S.imageUrls[0]:js;return{...I,product:{id:S.id||I.productId,name:S.name||"Unnamed Product",price:Number(S.price)||0,stock:Number(S.stock)||0,category:S.category||"uncategorized",imageUrl:A,rating:S.rating||Math.random()*2+3,colors:S.colors||[],sizes:S.sizes||[],condition:S.condition||"New",sellerId:S.sellerId||""}}}).filter(I=>I?I.product.imageUrl&&typeof I.product.imageUrl=="string"&&(I.product.imageUrl.startsWith("https://")||I.product.imageUrl===js)?!0:(console.warn("Filtered out cart item with invalid imageUrl:",{productId:I.productId,name:I.product.name,imageUrl:I.product.imageUrl}),!1):!1);t(E),E.length===0?c("Your cart is empty."):c(null)}catch(T){console.error("Error updating cart:",{message:T.message,code:T.code}),c("Failed to update cart."),Ke.error("Failed to update cart")}};return window.addEventListener("cartUpdated",N),()=>{k(),window.removeEventListener("cartUpdated",N)}},[s]);const p=async(k,N)=>{if(!(N<1))try{const T=e.find(I=>I.productId===k);if(T&&T.product&&N>T.product.stock){Ke.error(`Cannot add more than ${T.product.stock} units of ${T.product.name}`);return}const E=e.map(I=>I.productId===k?{...I,quantity:N}:I);await jh(E,s?.uid),t(E),Ke.success("Quantity updated")}catch(T){console.error("Error updating quantity:",{message:T.message,code:T.code}),Ke.error("Failed to update quantity")}},b=async k=>{try{const N=e.filter(T=>T.productId!==k);await jh(N,s?.uid),t(N),Ke.success("Item removed from cart"),N.length===0&&c("Your cart is empty.")}catch(N){console.error("Error removing item:",{message:N.message,code:N.code}),Ke.error("Failed to remove item")}},x=async()=>{try{await $2(s?.uid),t([]),c("Your cart is empty."),Ke.success("Cart cleared successfully")}catch(k){console.error("Error clearing cart:",{message:k.message,code:k.code}),Ke.error("Failed to clear cart")}},y=async()=>{if(!s){Ke.error("Please log in to checkout"),r("/login");return}try{await Yne(s.uid),Ke.success("Order placed successfully!"),r("/orders")}catch(k){console.error("Error during checkout:",{message:k.message,code:k.code}),Ke.error(k.message||"Checkout failed")}},w=e.reduce((k,N)=>k+(N.product?.price||0)*N.quantity,0);return n?i.jsxs("div",{className:"p-4 text-gray-600 text-center",children:[i.jsx(Fo,{}),"Loading..."]}):i.jsxs("div",{className:"mb-10 container mx-auto px-4 py-8 min-h-screen",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Your Cart"}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsx("div",{className:"lg:w-2/3",children:l&&e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("img",{src:bfe,alt:"Empty Cart",className:"h-[420px] m-3",onError:k=>{console.warn("Failed to load empty cart image:",k.target.src),k.target.src=js}}),i.jsxs("p",{className:"text-gray-600 m-3 text-md",children:[l,i.jsx(Fe,{to:"/products",className:"underline text-blue-500 ml-1",children:"Shop Now"})]})]}):i.jsx("div",{className:"space-y-4",children:e.map(k=>i.jsx(yfe,{item:k,updateCartQuantity:p,removeFromCart:b},k.productId))})}),i.jsx("div",{className:"lg:w-1/3",children:i.jsx(vfe,{totalPrice:w,handleCheckout:y,cartItems:e,clearCart:x,isFixed:d>200})})]})]})},U5=(r,e)=>{const t=[r,e].filter(l=>l?.trim()),s=t[0]?.slice(0,4).toLowerCase()||"user",a=t[1]?.slice(0,3).toLowerCase()||"",n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return(s+a).replace(/[^a-z0-9]/g,"")+n};function $h(){const[r,e]=R.useState({firstName:"",lastName:"",username:"guest",email:"",profileImage:localStorage.getItem("profileImage")||null}),t="https://via.placeholder.com/150?text=Profile";R.useEffect(()=>{const a=Ye.onAuthStateChanged(async l=>{if(!l){e({firstName:"",lastName:"",username:"guest",email:"",profileImage:null});return}try{const c=qe(ve,"users",l.uid),d=yr(c,u=>{if(u.exists()){const h=u.data();e(m=>({...m,firstName:h.firstName||"",lastName:h.lastName||"",username:h.username||U5(h.firstName||"",h.lastName||""),email:l.email||""}))}});return()=>d()}catch(c){console.error("Error fetching sidebar data:",c)}}),n=()=>{e(l=>({...l,profileImage:localStorage.getItem("profileImage")||null}))},o=()=>{const l=JSON.parse(localStorage.getItem("userData"));l&&e(c=>({...c,firstName:l.firstName||c.firstName,lastName:l.lastName||c.lastName,username:l.username||U5(l.firstName||"",l.lastName||""),email:l.email||c.email}))};return window.addEventListener("profileImageUpdated",n),window.addEventListener("userDataUpdated",o),()=>{a(),window.removeEventListener("profileImageUpdated",n),window.removeEventListener("userDataUpdated",o)}},[]);const s=()=>r.profileImage?i.jsx("img",{src:r.profileImage,alt:"Profile",className:"w-full h-full object-cover",onError:()=>{e(a=>({...a,profileImage:t}))}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300 text-white text-lg font-bold uppercase rounded-full",children:r.email[0]||"?"});return i.jsxs("div",{className:"md:w-1/4 dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-100 dark:border-black",children:[i.jsxs("div",{className:"flex flex-col items-center mb-6 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto flex items-center justify-center overflow-hidden hover:bg-gray-300 transition-colors duration-300",children:s()}),i.jsxs("h3",{className:"mt-2 text-lg font-semibold text-gray-800 dark:text-gray-200",children:[r.firstName," ",r.lastName||""]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:r.username})]}),i.jsxs("nav",{className:"flex flex-col space-y-2",children:[i.jsxs(Fe,{to:"/profile",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-blue-800 p-2 rounded-lg transition-colors duration-300",children:[i.jsx(zd,{className:"w-6 h-6 text-black dark:text-white"}),i.jsx("span",{children:"Profile"})]}),i.jsxs(Fe,{to:"/orders",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-green-100 dark:hover:bg-green-800 p-2 rounded-lg transition-colors duration-300",children:[i.jsx(Eh,{className:"w-6 h-6 text-black dark:text-white"}),i.jsx("span",{children:"Orders"})]}),i.jsxs(Fe,{to:"/order-tracking",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-green-100 dark:hover:bg-green-800 p-2 rounded-lg transition-colors duration-300",children:[i.jsx(Gde,{className:"w-6 h-6 text-black dark:text-white"}),i.jsx("span",{children:"Track Orders"})]}),i.jsxs(Fe,{to:"/favorites",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-red-100 dark:hover:bg-red-800 p-2 rounded-lg transition-colors duration-300",children:[i.jsx(Pz,{className:"w-6 h-6 text-black dark:text-white"}),i.jsx("span",{children:"Favorites"})]}),i.jsxs(Fe,{to:"/address",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-purple-100 dark:hover:bg-purple-800 p-2 rounded-lg transition-colors duration-300",children:[i.jsx(Fue,{className:"w-6 h-6 text-black dark:text-white"}),i.jsx("span",{children:"Addresses"})]}),i.jsxs(Fe,{to:"/setting",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-orange-100 dark:hover:bg-orange-800 p-2 rounded-lg transition-colors duration-300",children:[i.jsx(oC,{className:"w-6 h-6 text-black dark:text-white"}),i.jsx("span",{children:"Settings"})]}),i.jsxs(Fe,{to:"/chat-overview",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-orange-100 dark:hover:bg-orange-800 p-2 rounded-lg transition-colors duration-300",children:[i.jsx(Mz,{className:"w-6 h-6 text-black dark:text-white"}),i.jsx("span",{children:"All Chats"})]}),i.jsxs(Fe,{to:"/sell",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:bg-orange-100 dark:hover:bg-orange-800 p-2 rounded-lg transition-colors duration-300",children:[i.jsx(Tue,{className:"w-6 h-6 text-black dark:text-white"}),i.jsx("span",{children:"My Dashbaord"})]})]})]})}function kfe(){const[r,e]=R.useState(!0),[t,s]=R.useState(""),[a,n]=R.useState(!1),[o,l]=R.useState(null),[c,d]=R.useState([]),[u,h]=R.useState([]),m=5;R.useEffect(()=>{const b=Ye.onAuthStateChanged(async x=>{if(e(!0),!x){console.log("No authenticated user"),s("Please sign in to view your wishlist."),n(!0),d([]),h([]),e(!1);return}try{console.log("Fetching data for user:",x.uid);const y=localStorage.getItem("userData");let w={};y&&(w=JSON.parse(y)),l({email:x.email||"test@example.com",name:x.displayName||"User",profileImage:w.profileImage||null,createdAt:w.createdAt||null,address:w.address||"Not provided",uid:x.uid}),console.log("Querying favorites for user:",x.uid);const k=Lt(Xe(ve,"favorites"),Tt("userId","==",x.uid)),T=(await xt(k)).docs.map(S=>(console.log("Favorite doc:",S.id,S.data()),{id:S.id,...S.data()}));d(T);const E=T.map(async S=>{const A=await wt(qe(ve,"products",S.productId));if(A.exists()){const P=A.data();return{id:A.id,name:P.name,description:P.description||"",price:P.price,stock:P.stock||0,category:P.category?.trim().toLowerCase()||"",colors:P.colors||[],sizes:P.category?.trim().toLowerCase()==="foremade fashion"?P.sizes||[]:[],condition:P.condition||"",imageUrls:P.imageUrls||[],seller:P.seller||{name:"Unknown Seller"},rating:P.rating||Math.random()*2+3}}return console.warn("Product not found for favorite:",S.productId),null}),I=(await Promise.all(E)).filter(S=>S!==null);h(I)}catch(y){console.error("Error fetching favorites:",y.code,y.message,y.stack),s("Failed to load wishlist: "+(y.message||"Unknown error"))}finally{e(!1)}});return()=>b()},[]);const p=async(b,x)=>{if(!Ye.currentUser){s("Please sign in to manage your wishlist."),n(!0);return}try{console.log("Removing favorite:",b,"for user:",Ye.currentUser.uid);const y=await wt(qe(ve,"favorites",b));if(!y.exists()){console.warn("Favorite not found:",b);return}if(y.data().userId!==Ye.currentUser.uid){console.error("Cannot delete favorite with mismatched userId:",y.data()),s("Permission denied: Cannot remove this favorite.");return}await La(qe(ve,"favorites",b)),d(w=>w.filter(k=>k.id!==b)),h(w=>w.filter(k=>k.id!==x)),console.log("Removed favorite:",b)}catch(y){console.error("Error removing favorite:",y.code,y.message,y.stack),s("Failed to remove item from wishlist: "+(y.message||"Unknown error"))}};return r?i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx(Fo,{}),i.jsx("p",{className:"text-gray-600",children:"Loading..."})]}):t?i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx("p",{className:"text-red-600",children:t}),a?i.jsx(Fe,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"}):i.jsx("button",{onClick:()=>{s(""),e(!0)},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]}):i.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsx($h,{userData:o,orderCount:m,wishlistCount:c.length}),i.jsx("div",{className:"md:w-3/4",children:i.jsxs("div",{className:"rounded-lg p-6  bg-gray-100",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsx("h3",{className:"text-lg font-semibold",children:"Favorites"})}),u.length===0?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block p-4 rounded-full mb-2 bg-gray-100",children:i.jsx("span",{className:"text-2xl",children:i.jsx(_ue,{})})}),i.jsx("p",{className:"text-gray-400",children:"No items in your wish list!"})]}):i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4",children:u.map(b=>i.jsxs("div",{className:"relative",children:[i.jsx(Pa,{product:{...b,imageUrl:b.imageUrls[0]||""}}),i.jsx("button",{onClick:()=>{const x=c.find(y=>y.productId===b.id);x&&p(x.id,b.id)},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",title:"Remove from Wishlist",children:i.jsx("i",{className:"bx bx-x"})})]},b.id))})]})})]})})}function _fe(){const[r,e]=R.useState(!0),[t,s]=R.useState(""),[a,n]=R.useState(!1),[o,l]=R.useState(null),[c,d]=R.useState(localStorage.getItem("profileImage")||"https://i.pinimg.com/736x/de/b8/39/deb839cd82447631bd413229b2bfc33d.jpg"),[u,h]=R.useState(null);R.useEffect(()=>{const p=Ye.onAuthStateChanged(async x=>{if(e(!0),!x){s("Please sign in to view your profile."),n(!0),e(!1);return}try{const y=qe(ve,"users",x.uid),w=yr(y,k=>{if(k.exists()){const N=k.data(),T=N.addresses||[];l({email:x.email||"test@example.com",username:N.username||x.displayName||"emmachi789",name:N.name||x.displayName||"Emmanuel Chinecherem",createdAt:N.createdAt||"2025-05-04T23:28:48.857Z",address:T[0]?.street?`${T[0].street}, ${T[0].city}, ${T[0].state}, ${T[0].postalCode}, ${T[0].country}`:"Not provided",country:N.country||"Nigeria",phone:N.phoneNumber||"Not Provided",uid:x.uid})}else s("User profile not found.")});return e(!1),()=>w()}catch(y){y.code==="permission-denied"?(s("You do not have permission to view this profile."),n(!0)):s("Failed to load profile. Please try again."),e(!1)}}),b=()=>{d(localStorage.getItem("profileImage")||"https://i.pinimg.com/736x/de/b8/39/deb839cd82447631bd413229b2bfc33d.jpg")};return window.addEventListener("profileImageUpdated",b),()=>{p(),window.removeEventListener("profileImageUpdated",b)}},[]);const m=p=>{if(!p)return"Not available";try{return new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(b){return console.error("Error formatting date:",b),"Invalid date"}};return r?i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx(Fo,{}),i.jsx("p",{className:"text-gray-600 mt-4",children:"Loading your profile..."})]}):t?i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx("p",{className:"text-red-600 mb-4",children:t}),a?i.jsx(Fe,{to:"/login",className:"text-blue-600 hover:underline inline-block",children:"Go to Login"}):i.jsx("button",{onClick:()=>{s(""),e(!0)},className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 shadow-md",children:"Retry"})]}):o?i.jsx("div",{className:"container mx-auto px-4 py-8 text-primary-color",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsx($h,{}),i.jsxs("div",{className:"md:w-3/4",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[i.jsx("div",{className:"rounded-lg p-4 text-center bg-gradient-to-br from-background-light to-white border border-border-light cursor-pointer",children:i.jsxs(Fe,{to:"/orders",className:"block",children:[i.jsx("i",{className:"bx bx-package text-2xl text-secondary-color mb-2"}),i.jsx("p",{className:"text-primary-color/60",children:"Orders"})]})}),i.jsx("div",{className:"rounded-lg p-4 text-center bg-gradient-to-br from-background-light to-white border border-border-light cursor-pointer",children:i.jsxs(Fe,{to:"/favorites",className:"block",children:[i.jsx("i",{className:"bx bx-heart text-2xl text-secondary-color mb-2"}),i.jsx("p",{className:"text-primary-color/60",children:"Wish List"})]})}),i.jsxs("div",{className:"rounded-lg p-4 text-center bg-gradient-to-br from-background-light to-white border border-border-light cursor-pointer",children:[i.jsx("i",{className:"bx bx-star text-2xl text-accent-color mb-2"}),i.jsx("p",{className:"text-primary-color/60",children:"Loyalty Points"})]})]}),i.jsxs("div",{className:"rounded-lg p-6 mb-6 bg-background-light border border-border-light shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-primary-color",children:"Personal Details"}),i.jsxs(Fe,{to:"/setting",className:"flex items-center px-4 py-2 rounded-lg bg-accent-color/10 text-accent-color hover:bg-accent-color/20 transition duration-200",children:[i.jsx("i",{className:"bx bx-edit mr-1"})," Edit Profile"]})]}),i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-24 h-24 bg-background-light rounded-full flex items-center justify-center overflow-hidden border-2 border-secondary-color shadow-lg",children:i.jsx("img",{src:c,alt:"Profile",className:"w-full h-full object-cover",onError:p=>{p.target.src="https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"}})}),i.jsxs("div",{className:"ml-2",children:[i.jsx("h2",{className:"text-xl font-bold text-primary-color",children:o.name}),i.jsxs("p",{className:"text-primary-color/60",children:["Member since ",m(o.createdAt)]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{label:"Username",value:o.username},{label:"First Name",value:o.name.split(" ")[0]},{label:"Last Name",value:o.name.split(" ").slice(1).join(" ")||"-"},{label:"Email",value:o.email,icon:"bx-check-circle",iconColor:"text-secondary-color"},{label:"Country",value:o.country},{label:"Phone",value:o.phone},{label:"Date Joined",value:m(o.createdAt)},{label:"Address",value:o.address}].map((p,b)=>i.jsx("div",{className:"group",children:i.jsxs("div",{className:"p-3 rounded-lg bg-background-light border border-border-light",children:[i.jsx("p",{className:"text-primary-color/60 text-sm",children:p.label}),i.jsxs("p",{className:"font-semibold text-primary-color flex items-center",children:[p.value,p.icon&&i.jsx("i",{className:`bx ${p.icon} ml-2 ${p.iconColor}`})]})]})},b))})]}),i.jsxs("div",{className:"rounded-lg p-6 mb-6 bg-background-light border border-border-light shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-primary-color",children:"User Address"}),i.jsxs(Fe,{to:"/setting",className:"flex items-center px-4 py-2 rounded-lg bg-accent-color/10 text-accent-color hover:bg-accent-color/20 transition duration-200",children:[i.jsx("i",{className:"bx bx-map mr-1"})," Update Address"]})]}),i.jsx("div",{className:"p-4 bg-background-light rounded-lg border border-border-light",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("i",{className:"bx bx-map-pin text-secondary-color mr-2 text-xl mt-1"}),i.jsx("p",{className:"font-semibold text-primary-color",children:o.address})]})})]})]})]})}):i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx("p",{className:"text-red-600 mb-4",children:"User data not available."}),i.jsx("button",{onClick:()=>e(!0),className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 shadow-md",children:"Retry"})]})}var Gz="basil",Nfe=function(e){return e===3?"v3":e},Yz="https://js.stripe.com",Sfe="".concat(Yz,"/").concat(Gz,"/stripe.js"),jfe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Efe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Afe=function(e){return jfe.test(e)||Efe.test(e)},Tfe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Yz,'"]')),t=0;t<e.length;t++){var s=e[t];if(Afe(s.src))return s}return null},z5=function(e){var t="",s=document.createElement("script");s.src="".concat(Sfe).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},Cfe=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})},Ag=null,nv=null,iv=null,Pfe=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},Rfe=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},Ife=function(e){return Ag!==null?Ag:(Ag=new Promise(function(t,s){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var a=Tfe();if(!(a&&e)){if(!a)a=z5(e);else if(a&&iv!==null&&nv!==null){var n;a.removeEventListener("load",iv),a.removeEventListener("error",nv),(n=a.parentNode)===null||n===void 0||n.removeChild(a),a=z5(e)}}iv=Rfe(t,s),nv=Pfe(s),a.addEventListener("load",iv),a.addEventListener("error",nv)}catch(o){s(o);return}}),Ag.catch(function(t){return Ag=null,Promise.reject(t)}))},Dfe=function(e,t,s){if(e===null)return null;var a=t[0],n=a.match(/^pk_test/),o=Nfe(e.version),l=Gz;n&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,t);return Cfe(c,s),c},Tg,Xz=!1,Kz=function(){return Tg||(Tg=Ife(null).catch(function(e){return Tg=null,Promise.reject(e)}),Tg)};Promise.resolve().then(function(){return Kz()}).catch(function(r){Xz||console.warn(r)});var Ofe=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Xz=!0;var a=Date.now();return Kz().then(function(n){return Dfe(n,t,a)})},nS={exports:{}},iS,V5;function Mfe(){if(V5)return iS;V5=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return iS=r,iS}var oS,H5;function Ffe(){if(H5)return oS;H5=1;var r=Mfe();function e(){}function t(){}return t.resetWarningCache=e,oS=function(){function s(o,l,c,d,u,h){if(h!==r){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}s.isRequired=s;function a(){return s}var n={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return n.PropTypes=n,n},oS}var $5;function Zz(){return $5||($5=1,nS.exports=Ffe()()),nS.exports}var Lfe=Zz();const kr=Px(Lfe);function W5(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,s)}return t}function q5(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(t),!0).forEach(function(s){Qz(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):W5(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function W1(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?W1=function(e){return typeof e}:W1=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W1(r)}function Qz(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Bfe(r,e){if(r==null)return{};var t={},s=Object.keys(r),a,n;for(n=0;n<s.length;n++)a=s[n],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function Ufe(r,e){if(r==null)return{};var t=Bfe(r,e),s,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function Jz(r,e){return zfe(r)||Vfe(r,e)||Hfe(r,e)||$fe()}function zfe(r){if(Array.isArray(r))return r}function Vfe(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var s=[],a=!0,n=!1,o,l;try{for(t=t.call(r);!(a=(o=t.next()).done)&&(s.push(o.value),!(e&&s.length===e));a=!0);}catch(c){n=!0,l=c}finally{try{!a&&t.return!=null&&t.return()}finally{if(n)throw l}}return s}}function Hfe(r,e){if(r){if(typeof r=="string")return G5(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return G5(r,e)}}function G5(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=r[t];return s}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _i=function(e,t,s){var a=!!s,n=Lr.useRef(s);Lr.useEffect(function(){n.current=s},[s]),Lr.useEffect(function(){if(!a||!e)return function(){};var o=function(){n.current&&n.current.apply(n,arguments)};return e.on(t,o),function(){e.off(t,o)}},[a,t,e,n])},mE=function(e){var t=Lr.useRef(e);return Lr.useEffect(function(){t.current=e},[e]),t.current},Um=function(e){return e!==null&&W1(e)==="object"},Wfe=function(e){return Um(e)&&typeof e.then=="function"},qfe=function(e){return Um(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Y5="[object Object]",Gfe=function r(e,t){if(!Um(e)||!Um(t))return e===t;var s=Array.isArray(e),a=Array.isArray(t);if(s!==a)return!1;var n=Object.prototype.toString.call(e)===Y5,o=Object.prototype.toString.call(t)===Y5;if(n!==o)return!1;if(!n&&!s)return e===t;var l=Object.keys(e),c=Object.keys(t);if(l.length!==c.length)return!1;for(var d={},u=0;u<l.length;u+=1)d[l[u]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var m=Object.keys(d);if(m.length!==l.length)return!1;var p=e,b=t,x=function(w){return r(p[w],b[w])};return m.every(x)},eV=function(e,t,s){return Um(e)?Object.keys(e).reduce(function(a,n){var o=!Um(t)||!Gfe(e[n],t[n]);return s.includes(n)?(o&&console.warn("Unsupported prop change: options.".concat(n," is not a mutable property.")),a):o?q5(q5({},a||{}),{},Qz({},n,e[n])):a},null):null},tV="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",X5=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tV;if(e===null||qfe(e))return e;throw new Error(t)},Yfe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tV;if(Wfe(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return X5(a,t)})};var s=X5(e,t);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},Xfe=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.9.2"}),e.registerAppInfo({name:"react-stripe-js",version:"3.9.2",url:"https://stripe.com/docs/stripe-js/react"}))},X2=Lr.createContext(null);X2.displayName="ElementsContext";var rV=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},sV=function(e){var t=e.stripe,s=e.options,a=e.children,n=Lr.useMemo(function(){return Yfe(t)},[t]),o=Lr.useState(function(){return{stripe:n.tag==="sync"?n.stripe:null,elements:n.tag==="sync"?n.stripe.elements(s):null}}),l=Jz(o,2),c=l[0],d=l[1];Lr.useEffect(function(){var m=!0,p=function(x){d(function(y){return y.stripe?y:{stripe:x,elements:x.elements(s)}})};return n.tag==="async"&&!c.stripe?n.stripePromise.then(function(b){b&&m&&p(b)}):n.tag==="sync"&&!c.stripe&&p(n.stripe),function(){m=!1}},[n,c,s]);var u=mE(t);Lr.useEffect(function(){u!==null&&u!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,t]);var h=mE(s);return Lr.useEffect(function(){if(c.elements){var m=eV(s,h,["clientSecret","fonts"]);m&&c.elements.update(m)}},[s,h,c.elements]),Lr.useEffect(function(){Xfe(c.stripe)},[c.stripe]),Lr.createElement(X2.Provider,{value:c},a)};sV.propTypes={stripe:kr.any,options:kr.object};var Kfe=function(e){var t=Lr.useContext(X2);return rV(t,e)},Zfe=function(){var e=Kfe("calls useElements()"),t=e.elements;return t};kr.func.isRequired;var aV=Lr.createContext(null);aV.displayName="CheckoutSdkContext";var Qfe=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},Jfe=Lr.createContext(null);Jfe.displayName="CheckoutContext";kr.any,kr.shape({fetchClientSecret:kr.func.isRequired,elementsOptions:kr.object}).isRequired;var gE=function(e){var t=Lr.useContext(aV),s=Lr.useContext(X2);if(t&&s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?Qfe(t,e):rV(s,e)},eme=["mode"],tme=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},xa=function(e,t){var s="".concat(tme(e),"Element"),a=function(c){var d=c.id,u=c.className,h=c.options,m=h===void 0?{}:h,p=c.onBlur,b=c.onFocus,x=c.onReady,y=c.onChange,w=c.onEscape,k=c.onClick,N=c.onLoadError,T=c.onLoaderStart,E=c.onNetworksChange,I=c.onConfirm,S=c.onCancel,A=c.onShippingAddressChange,P=c.onShippingRateChange,O=gE("mounts <".concat(s,">")),M="elements"in O?O.elements:null,L="checkoutSdk"in O?O.checkoutSdk:null,B=Lr.useState(null),G=Jz(B,2),X=G[0],H=G[1],W=Lr.useRef(null),ne=Lr.useRef(null);_i(X,"blur",p),_i(X,"focus",b),_i(X,"escape",w),_i(X,"click",k),_i(X,"loaderror",N),_i(X,"loaderstart",T),_i(X,"networkschange",E),_i(X,"confirm",I),_i(X,"cancel",S),_i(X,"shippingaddresschange",A),_i(X,"shippingratechange",P),_i(X,"change",y);var U;x&&(e==="expressCheckout"?U=x:U=function(){x(X)}),_i(X,"ready",U),Lr.useLayoutEffect(function(){if(W.current===null&&ne.current!==null&&(M||L)){var Q=null;if(L)switch(e){case"payment":Q=L.createPaymentElement(m);break;case"address":if("mode"in m){var q=m.mode,Z=Ufe(m,eme);if(q==="shipping")Q=L.createShippingAddressElement(Z);else if(q==="billing")Q=L.createBillingAddressElement(Z);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Q=L.createExpressCheckoutElement(m);break;case"currencySelector":Q=L.createCurrencySelectorElement();break;case"taxId":Q=L.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else M&&(Q=M.create(e,m));W.current=Q,H(Q),Q&&Q.mount(ne.current)}},[M,L,m]);var z=mE(m);return Lr.useEffect(function(){if(W.current){var Q=eV(m,z,["paymentRequest"]);Q&&"update"in W.current&&W.current.update(Q)}},[m,z]),Lr.useLayoutEffect(function(){return function(){if(W.current&&typeof W.current.destroy=="function")try{W.current.destroy(),W.current=null}catch{}}},[]),Lr.createElement("div",{id:d,className:u,ref:ne})},n=function(c){gE("mounts <".concat(s,">"));var d=c.id,u=c.className;return Lr.createElement("div",{id:d,className:u})},o=t?n:a;return o.propTypes={id:kr.string,className:kr.string,onChange:kr.func,onBlur:kr.func,onFocus:kr.func,onReady:kr.func,onEscape:kr.func,onClick:kr.func,onLoadError:kr.func,onLoaderStart:kr.func,onNetworksChange:kr.func,onConfirm:kr.func,onCancel:kr.func,onShippingAddressChange:kr.func,onShippingRateChange:kr.func,options:kr.object},o.displayName=s,o.__elementType=e,o},ba=typeof window>"u",rme=Lr.createContext(null);rme.displayName="EmbeddedCheckoutProviderContext";var sme=function(){var e=gE("calls useStripe()"),t=e.stripe;return t};xa("auBankAccount",ba);var K5=xa("card",ba);xa("cardNumber",ba);xa("cardExpiry",ba);xa("cardCvc",ba);xa("fpxBank",ba);xa("iban",ba);xa("idealBank",ba);xa("p24Bank",ba);xa("epsBank",ba);xa("payment",ba);xa("expressCheckout",ba);xa("currencySelector",ba);xa("paymentRequestButton",ba);xa("linkAuthentication",ba);xa("address",ba);xa("shippingAddress",ba);xa("paymentMethodMessaging",ba);xa("affirmMessage",ba);xa("afterpayClearpayMessage",ba);xa("taxId",ba);const nV=({email:r,amount:e,onSuccess:t,onClose:s,disabled:a,buttonText:n,className:o,iconClass:l,sellerId:c,handlingFee:d,buyerProtectionFee:u})=>{const[h,m]=R.useState(!1),[p,b]=R.useState(!1);R.useEffect(()=>{const y=document.createElement("script");return y.src="https://js.paystack.co/v1/inline.js",y.async=!0,y.onload=()=>b(!0),y.onerror=()=>{Ke.error("Failed to load Paystack script."),b(!1)},document.body.appendChild(y),()=>{document.body.removeChild(y)}},[]);const x=async()=>{if(!p||!window.PaystackPop){Ke.error("Paystack not loaded.");return}if(!r||!e||e<=0||!c){Ke.error("Valid email, amount, and seller ID required.");return}m(!0);try{const y="https://foremade-backend.onrender.com",w=Math.round(e),k={amount:w,email:r,currency:"NGN",metadata:{userId:Ye.currentUser?.uid||"anonymous",orderId:`order-${Date.now()}`,sellerId:c,handlingFee:d||0,buyerProtectionFee:u||0}};console.log("Sending payload to backend:",k);const{data:N}=await jr.post(`${y}/initiate-paystack-payment`,k);console.log("Backend response:",N),window.PaystackPop.setup({key:"pk_live_80ce5e6562afd9418a07b2fd2f1a261dbb62a9bd",email:r,amount:w,currency:"NGN",ref:N.reference,callback:E=>{console.log("Paystack callback:",E),t(E),m(!1)},onClose:()=>{console.log("Paystack iframe closed"),s(),m(!1)}}).openIframe()}catch(y){console.error("Paystack payment error:",{message:y.message,code:y.code,response:y.response?.data});const w=y.code==="ERR_NETWORK"?"Cannot connect to server. Ensure backend is running.":y.response?.data?.error||y.response?.data?.message||"Payment failed. Please try again.";Ke.error(w),m(!1)}};return i.jsxs("button",{onClick:x,disabled:a||h||!p,className:`paystack-button ${o}`,children:[l&&i.jsx("i",{className:l}),h?"Processing...":n]})},ame="/assets/card-B58Cq-kn.png",nme={background:"#22c55e",color:"#fff",fontWeight:"bold",borderRadius:"8px",padding:"16px"},ime=Ofe("pk_live_51Ip94DC0iVaIHuVsCRhjlgXNMR2JOFCWTwVLbZPnaINYdEvaaMsLn0f6ObPMQnmqrbpaSc1Ui9nzfGvsB4HfJCmL009G3nCUwC"),Z5=(r,e=5e3)=>new Promise(t=>{const s=new Image;s.src=r,s.onload=()=>t(!0),s.onerror=()=>t(!1),setTimeout(()=>t(!1),e)}),ome=()=>i.jsx("div",{className:"flex justify-between mb-8",children:["Cart","Shipping","Payment","Confirmation"].map((r,e)=>i.jsxs("div",{className:"flex-1 text-center",children:[i.jsx("div",{className:`w-8 h-8 mx-auto rounded-full flex items-center justify-center ${e<2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:e+1}),i.jsx("p",{className:"text-sm mt-2 text-gray-600",children:r})]},r))}),lme=({isOpen:r,onConfirm:e,onCancel:t})=>r&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Confirm Order"}),i.jsx("i",{className:"bx bx-loader bx-spin text-3xl"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Are you sure you want to place this order and clear your cart?"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:e,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Confirm"}),i.jsx("button",{onClick:t,className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-100 transition",children:"Cancel"})]})]})}),cme=({totalPrice:r,formData:e,cart:t,onSuccess:s,onCancel:a,currency:n,setIsProcessing:o})=>{const l=sme(),c=Zfe(),[d,u]=R.useState(!1),h=async m=>{if(m.preventDefault(),!l||!c){Ke.error("Stripe not loaded. Please try again.",{position:"top-right",autoClose:3e3});return}u(!0),o(!0);try{const p=Math.round(r*100);if(!p||p<=0)throw new Error("Invalid amount: must be greater than zero");const b=t[0]?.product?.sellerId||"default-seller-id";(!b||b==="default-seller-id")&&(console.warn("No valid sellerId found in cart, using default"),Ke.warn("No seller specified. Using default seller.",{position:"top-right",autoClose:3e3}));const x={userId:Ye.currentUser?.uid||"anonymous",orderId:`order-${Date.now()}`,sellerId:b,handlingFee:t.reduce((N,T)=>N+(T.product?.totalPrice?T.product.totalPrice*(T.product?.handlingRate||.2):0)*(T.quantity||0),0)*100,buyerProtectionFee:t.reduce((N,T)=>N+(T.product?.totalPrice?T.product.totalPrice*(T.product?.buyerProtectionRate||.08):0)*(T.quantity||0),0)*100,taxFee:0};console.log("Sending payload to /create-payment-intent:",{amount:p,currency:n.toLowerCase(),metadata:x});const y="https://foremade-backend.onrender.com";let w=3,k=null;for(;w>0;)try{const{data:N}=await jr.post(`${y}/create-payment-intent`,{amount:p,currency:n.toLowerCase(),metadata:x},{headers:{Authorization:`Bearer ${await Ye.currentUser.getIdToken()}`,"Content-Type":"application/json"},timeout:15e3}),{error:T,paymentIntent:E}=await l.confirmCardPayment(N.clientSecret,{payment_method:{card:c.getElement(K5),billing_details:{name:e.name,email:e.email,phone:e.phone,address:{line1:e.address,city:e.city,postal_code:e.postalCode,country:n==="GBP"?"GB":"NG"}}}});if(T)throw new Error(T.message);if(E.status==="succeeded"){await s(E),u(!1),o(!1);return}}catch(N){if(k=N,w--,N.code!=="ECONNABORTED"||w===0)throw N;Ke.warn(`Retrying payment (${w} attempts left)...`,{position:"top-right",autoClose:2e3}),await new Promise(T=>setTimeout(T,2e3))}throw k||new Error("Payment failed after retries.")}catch(p){console.error("Stripe payment error:",{message:p.message,code:p.code,response:p.response?.data}),console.log("Logging to Sentry:",p),Ke.error(p.code==="ECONNABORTED"?"Payment timed out. Please try again or check your connection.":p.response?.data?.error||p.message||"Payment failed. Try again.",{position:"top-right",autoClose:3e3}),u(!1),o(!1)}};return i.jsxs("form",{onSubmit:h,className:"mt-6 space-y-4",children:[i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Details"}),i.jsx(K5,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},className:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"submit",disabled:d||!l||!c,className:`flex-1 py-3 px-4 rounded-lg text-white text-sm font-medium transition duration-200 shadow transform hover:scale-105 ${d||!l||!c?"bg-gray-400 cursor-not-allowed":"bg-[#112d4e] hover:bg-[#0e2740]"}`,"aria-label":"Checkout",children:d?"Processing...":`Pay ${n} ${r.toLocaleString("en-US",{minimumFractionDigits:2})}`}),i.jsx("button",{type:"button",onClick:a,disabled:d,className:"px-4 py-3 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition text-sm disabled:opacity-50 transform hover:scale-105","aria-label":"Cancel Payment",children:"Cancel"})]})]})},dme=()=>{const r=zr(),e=Ra(),[t,s]=R.useState([]),[a,n]=R.useState([]),[o,l]=R.useState(!0),[c,d]=R.useState(!1),[u,h]=R.useState(()=>{const Ce=localStorage.getItem("checkoutFormData");return Ce?JSON.parse(Ce):{name:"",email:"",address:"",city:"",postalCode:"",country:"Nigeria",phone:"",saveInfo:!1}}),[m,p]=R.useState({}),[b,x]=R.useState({}),[y,w]=R.useState({}),[k,N]=R.useState({}),[T,E]=R.useState(!1),[I,S]=R.useState(!1),[A,P]=R.useState(!1),[O,M]=R.useState(null),[L,B]=R.useState(25e3),G=R.useRef(null),X=!1,H=new URLSearchParams(e.search),W=parseFloat(H.get("additionalShippingFee"))||0;R.useEffect(()=>{localStorage.setItem("checkoutFormData",JSON.stringify(u))},[u]),R.useEffect(()=>{const Ce=async()=>{try{l(!0);const st=Ye.currentUser,bt=qe(ve,"settings","minimumPurchase"),pt=await wt(bt);pt.exists()&&B(pt.data().amount||25e3);const zt=qe(ve,"feeConfigurations","categoryFees"),Mt=await wt(zt);w(Mt.exists()?Mt.data():{});const Qe=(await xt(Xe(ve,"dailyDeals"))).docs.map(it=>({id:it.id,...it.data()})).filter(it=>new Date(it.endDate)>new Date&&new Date(it.startDate)<=new Date);n(Qe);const ut=await _l(st?.uid);console.log("Loaded cart items:",JSON.stringify(ut,null,2));const vt=(await Promise.all(ut.map(async it=>{if(!it.productId||!it.product)return console.warn("Invalid cart item:",it),null;const ft=it.product||{};let Dt=[];Array.isArray(ft.imageUrls)?Dt=ft.imageUrls.filter(Jr=>typeof Jr=="string"&&Jr.match(/^https?:\/\/.+/i)):ft.imageUrl&&typeof ft.imageUrl=="string"&&ft.imageUrl.match(/^https?:\/\/.+/i)&&(Dt=[ft.imageUrl]);const Bt=await Promise.all(Dt.map(Jr=>Z5(Jr)));let or=Dt.filter((Jr,Ps)=>Bt[Ps]);or.length===0&&(or=[js],x(Jr=>({...Jr,[it.productId]:!0})),console.warn("No valid imageUrls for product:",ft.name||"Unknown","Using placeholder"));const Ot=qe(ve,"products",it.productId),Xt=await wt(Ot),Vr=Xt.exists()&&Xt.data().category||"default",vr=Xt.exists()?Xt.data().sellerId:"default-seller-id",Hr=Xt.exists()&&Xt.data().stock||10,xr=y[Vr]||{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2},dr=ft.price||0,cr=Qe.find(Jr=>Jr.productId===it.productId),Er=cr?Number((cr.discount*100).toFixed(2)):0,Ar=Er?dr*(1-cr.discount):dr,qt=Ar*xr.buyerProtectionRate,Pr=Ar*xr.handlingRate,br=Ar+qt+Pr;return{...it,product:{...ft,imageUrls:or,category:Vr,sellerId:vr,totalPrice:br,stock:Hr,isDailyDeal:!!cr,discountPercentage:Er,handlingRate:xr.handlingRate,buyerProtectionRate:xr.buyerProtectionRate},currentImage:or[0],slideDirection:"right"}}))).filter(it=>it!==null);if(s(vt),p(vt.reduce((it,ft)=>({...it,[ft.productId]:!0}),{})),st){const it=qe(ve,"users",st.uid),ft=await wt(it);if(ft.exists()){const Dt=ft.data();h(Bt=>({...Bt,name:Dt.name||st.displayName||Bt.name,email:Dt.email||st.email||Bt.email,address:Dt.address||Bt.address,city:Dt.city||Bt.city,postalCode:Dt.postalCode||Bt.postalCode,country:Dt.country||Bt.country,phone:Dt.phone||Bt.phone}))}}}catch(st){console.error("Error loading cart, deals, or user data:",st),console.log("Logging to Sentry:",st),s([]),Ke.error("Failed to load data.",{position:"top-right",autoClose:3e3})}finally{l(!1)}},Be=async()=>{try{const st=Ye.currentUser,bt=await _l(st?.uid),pt=qe(ve,"feeConfigurations","categoryFees"),zt=await wt(pt),Mt=zt.exists()?zt.data():{},Qe=(await xt(Xe(ve,"dailyDeals"))).docs.map(vt=>({id:vt.id,...vt.data()})).filter(vt=>new Date(vt.endDate)>new Date&&new Date(vt.startDate)<=new Date),kt=(await Promise.all(bt.map(async vt=>{if(!vt.productId||!vt.product)return console.warn("Invalid cart item:",vt),null;const it=vt.product||{};let ft=[];Array.isArray(it.imageUrls)?ft=it.imageUrls.filter(br=>typeof br=="string"&&br.match(/^https?:\/\/.+/i)):it.imageUrl&&typeof it.imageUrl=="string"&&it.imageUrl.match(/^https?:\/\/.+/i)&&(ft=[it.imageUrl]);const Dt=await Promise.all(ft.map(br=>Z5(br)));let Bt=ft.filter((br,Jr)=>Dt[Jr]);Bt.length===0&&(Bt=[js],x(br=>({...br,[vt.productId]:!0})),console.warn("No valid imageUrls for product:",it.name||"Unknown","Using placeholder"));const or=qe(ve,"products",vt.productId),Ot=await wt(or),Xt=Ot.exists()&&Ot.data().category||"default",Vr=Ot.exists()?Ot.data().sellerId:"default-seller-id",vr=Ot.exists()&&Ot.data().stock||10,Hr=Mt[Xt]||{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2},xr=it.price||0,dr=Qe.find(br=>br.productId===vt.productId),cr=dr?Number((dr.discount*100).toFixed(2)):0,Er=cr?xr*(1-dr.discount):xr,Ar=Er*Hr.buyerProtectionRate,qt=Er*Hr.handlingRate,Pr=Er+Ar+qt;return{...vt,product:{...it,imageUrls:Bt,category:Xt,sellerId:Vr,totalPrice:Pr,stock:vr,isDailyDeal:!!dr,discountPercentage:cr,handlingRate:Hr.handlingRate,buyerProtectionRate:Hr.buyerProtectionRate},currentImage:Bt[0],slideDirection:"right"}}))).filter(vt=>vt!==null);s(kt),p(kt.reduce((vt,it)=>({...vt,[it.productId]:!0}),{}))}catch(st){console.error("Error updating cart:",st),console.log("Logging to Sentry:",st),Ke.error("Failed to update cart.",{position:"top-right",autoClose:3e3})}},Ue=()=>{clearTimeout(O);const st=setTimeout(()=>{Ke.warn("Session inactive. Please refresh or log in again.",{position:"top-right",autoClose:5e3}),r("/login")},1800*1e3);M(st)};window.addEventListener("cartUpdated",Be),window.addEventListener("mousemove",Ue),window.addEventListener("keydown",Ue);const gt=Ye.onAuthStateChanged(st=>{d(!!st),Ce(),Ue()});return()=>{gt(),window.removeEventListener("cartUpdated",Be),window.removeEventListener("mousemove",Ue),window.removeEventListener("keydown",Ue),clearTimeout(O)}},[]);const ne=async(Ce,Be)=>{try{const Ue=Ye.currentUser,gt=t.map(st=>st.productId===Ce?{...st,quantity:Math.max(1,Math.min(Be,st.product.stock||10))}:st);await jh(Ue?.uid,gt),s(gt),Ke.info("Quantity updated.",{position:"top-right",autoClose:2e3})}catch(Ue){console.error("Error updating quantity:",Ue),console.log("Logging to Sentry:",Ue),Ke.error("Failed to update quantity.",{position:"top-right",autoClose:3e3})}},U=t.reduce((Ce,Be)=>Ce+(Be.quantity||0),0),z=t.reduce((Ce,Be)=>Ce+(Be.product?.totalPrice||0)*(Be.quantity||0),0),Q=t.length===1&&W>0?W:z<L?500:0,q=z<L,Z=u.country==="United Kingdom"?"GBP":"NGN",J=48e-5,re=Z==="GBP"?(z+Q)*J:z+Q;R.useEffect(()=>{console.log("Subtotal NGN:",z.toLocaleString("en-NG",{minimumFractionDigits:2})),console.log("Additional Shipping Fee:",Q.toLocaleString("en-NG",{minimumFractionDigits:2})),console.log("Total Amount:",re.toLocaleString("en-NG",{minimumFractionDigits:2}),"(",Z,")")},[z,Q,re,Z]);const de=Ce=>{const{name:Be,value:Ue,type:gt,checked:st}=Ce.target;h(bt=>({...bt,[Be]:gt==="checkbox"?st:Ue})),N(bt=>({...bt,[Be]:""})),Be==="country"&&Ue!==u.country&&Ke.info(`Currency will change to ${Ue==="United Kingdom"?"GBP":"NGN"}.`,{position:"top-right",autoClose:3e3})},Se=()=>{const Ce={},{name:Be,email:Ue,address:gt,city:st,postalCode:bt,country:pt,phone:zt}=u;return Be||(Ce.name="Full name is required."),Ue?/\S+@\S+\.\S+/.test(Ue)||(Ce.email="Invalid email address."):Ce.email="Email is required.",zt||(Ce.phone="Phone number is required."),gt||(Ce.address="Address is required."),st||(Ce.city="City is required."),["Nigeria","United Kingdom"].includes(pt)||(Ce.country="Select Nigeria or United Kingdom."),{isValid:Object.keys(Ce).length===0,errors:Ce}},je=R.useMemo(()=>Se(),[u]),Ne=async(Ce,Be,Ue,gt)=>{try{S(!0);const st="https://foremade-backend.onrender.com";for(const[bt,pt]of Object.entries(Ce)){const zt=qe(ve,"users",bt),Mt=await wt(zt);if(!Mt.exists()){console.warn(`Seller ${bt} not found`);continue}const dt=Mt.data()?.email;if(!dt||!/\S+@\S+\.\S+/.test(dt)){console.warn(`Invalid email for seller ${bt}`);continue}const At=Be.find(ft=>ft.includes(bt))||`order-${Date.now()}-${bt}`,Qe=pt.reduce((ft,Dt)=>ft+(Dt.product?.totalPrice||0)*(Dt.quantity||0),0),ut=Ue==="GBP"?(Qe+Q)*J:Qe+Q,kt={orderId:At,sellerId:bt,email:dt,items:pt.map(ft=>({productId:ft.productId||"unknown",quantity:ft.quantity||1,price:ft.product?.totalPrice||0,name:ft.product?.name||"Unknown Product",imageUrls:Array.isArray(ft.product?.imageUrls)?ft.product.imageUrls:[js],isDailyDeal:ft.product?.isDailyDeal||!1,discountPercentage:ft.product?.discountPercentage||0})),total:ut,currency:Ue,shippingDetails:{name:gt.name||"Unknown",address:gt.address||"Unknown",city:gt.city||"",postalCode:gt.postalCode||"",country:gt.country||"",phone:gt.phone||""}};console.log("Sending seller notification email with payload:",{orderId:At,sellerId:bt,email:dt,items:kt.items,total:ut,currency:Ue,shippingDetails:kt.shippingDetails});let vt=2,it=null;for(;vt>0;)try{const ft=await jr.post(`${st}/send-seller-order-notification`,kt,{timeout:1e4});console.log(`Seller notification email sent successfully for seller ${bt}:`,ft.data);break}catch(ft){if(it=ft,vt--,vt===0||ft.response?.status!==400)throw ft;console.warn(`Retrying seller email send for ${bt} (${vt} attempts left)...`),await new Promise(Dt=>setTimeout(Dt,2e3))}if(vt===0)throw it||new Error(`Failed to send seller email for ${bt} after retries`)}}catch(st){console.error("Error sending seller notification emails:",{message:st.message,status:st.response?.status,responseData:st.response?.data,stack:st.stack}),console.log("Logging to Sentry:",st),Ke.warn("Order placed successfully, but failed to notify some sellers. They may receive notifications later.",{position:"top-right",autoClose:5e3})}finally{S(!1)}},xe=R.useCallback(async Ce=>{try{if(t.length===0){Ke.error("Cart is empty.",{position:"top-right",autoClose:3e3});return}const Be=Se();if(!Be.isValid){N(Be.errors),Ke.error("Please fix form errors.",{position:"top-right",autoClose:3e3}),G.current.scrollIntoView({behavior:"smooth"});return}console.log("Payment data:",Ce),(!Ce||!Ce.id&&!Ce.reference)&&(console.warn("Invalid payment data:",Ce),console.log("Logging to Sentry:",new Error("Invalid payment data received")));const Ue=Ye.currentUser?.uid||"anonymous",gt=`order-${Date.now()}`,st=u.country==="United Kingdom"?"Stripe":"Paystack",bt=Ce?.id||Ce?.reference||`fallback-${gt}`,pt={};t.forEach(Qe=>{const ut=Qe.product?.sellerId||"default-seller-id";pt[ut]||(pt[ut]=[]),pt[ut].push(Qe)});let zt=null;const Mt=[],dt=[];await Hre(ve,async Qe=>{const ut=t.map(Ot=>qe(ve,"products",Ot.productId)),kt=await Promise.all(ut.map(Ot=>Qe.get(Ot))),vt=[];kt.forEach((Ot,Xt)=>{if(!Ot.exists()){console.warn(`Product ${t[Xt].productId} does not exist. Skipping stock update.`);return}const Vr=Ot.data().stock||0,vr=t[Xt].quantity||0,Hr=Vr-vr;if(Hr<0)throw new Error(`Insufficient stock for product ${t[Xt].productId} (${t[Xt].product?.name||"Unknown"})`);vt.push({ref:ut[Xt],newStock:Hr})});const it=Object.keys(pt).map(Ot=>qe(ve,"wallets",Ot)),Dt=(await Promise.all(it.map(Ot=>Qe.get(Ot)))).map((Ot,Xt)=>({ref:it[Xt],exists:Ot.exists(),data:Ot.exists()?Ot.data():null,sellerId:Object.keys(pt)[Xt]}));console.log("Seller wallets before update:",Dt.map(Ot=>({sellerId:Ot.sellerId,exists:Ot.exists,pendingBalance:Ot.data?.pendingBalance||0,availableBalance:Ot.data?.availableBalance||0})));const Bt=[];Dt.forEach(({ref:Ot,exists:Xt,data:Vr,sellerId:vr})=>{const Hr=pt[vr],xr=Hr.reduce((qt,Pr)=>qt+(Pr.product?.totalPrice||0)*(Pr.quantity||0),0),dr=Z==="GBP"?(xr+Q)*J:xr+Q,cr={id:gt,userId:Ue,sellerId:vr,items:Hr.map(qt=>({productId:qt.productId||"unknown",quantity:qt.quantity||0,price:qt.product?.totalPrice||0,name:qt.product?.name||"Unknown",sellerId:qt.product?.sellerId||vr,imageUrls:qt.product?.imageUrls||[js],isDailyDeal:qt.product?.isDailyDeal||!1,discountPercentage:qt.product?.discountPercentage||0})),totalAmount:dr,date:new Date().toISOString(),createdAt:lo(),shippingDetails:u,status:"pending-approval",paymentGateway:st,paymentId:bt,currency:Z},Er=`${gt}-${vr}`;Bt.push({order:cr,orderId:Er}),dt.push(Er);const Ar=(Xt&&Vr?.pendingBalance||0)+dr;Mt.push({sellerId:vr,amount:dr}),Qe.set(Ot,{availableBalance:Xt&&Vr?.availableBalance||0,pendingBalance:Ar,updatedAt:lo(),...Xt?{}:{createdAt:lo()}},{merge:!0}),console.log(`Updated wallet for seller ${vr}:`,{pendingBalance:Ar,availableBalance:Xt&&Vr?.availableBalance||0})}),Bt.forEach(({order:Ot,orderId:Xt})=>{const Vr=qe(ve,"orders",Xt);try{Qe.set(Vr,Ot)}catch(vr){throw console.error(`Error saving order ${Xt}:`,vr),vr}zt=Ot}),vt.forEach(({ref:Ot,newStock:Xt})=>{Qe.update(Ot,{stock:Xt})});const or=Bt.map(({order:Ot})=>fi(Xe(ve,"transactions"),{userId:Ot.sellerId,type:"Sale",description:`Sale from order ${Ot.id}`,amount:Ot.totalAmount,date:new Date().toISOString().split("T")[0],status:"Pending",createdAt:lo(),reference:Ot.paymentId}));await Promise.all(or)});const At=await Promise.all(Mt.map(async({sellerId:Qe})=>{const ut=qe(ve,"wallets",Qe),kt=await wt(ut);return{sellerId:Qe,exists:kt.exists(),data:kt.exists()?kt.data():null}}));if(console.log("Seller wallets after update:",At),Ye.currentUser&&u.saveInfo){const Qe=qe(ve,"users",Ye.currentUser.uid);await gr(Qe,u,{merge:!0})}zt&&dt.length>0&&await sendOrderConfirmationEmail({...zt,paymentId:dt[0],items:t.map(Qe=>({productId:Qe.productId||"unknown",quantity:Qe.quantity||0,price:Qe.product?.totalPrice||0,name:Qe.product?.name||"Unknown",sellerId:Qe.product?.sellerId||"unknown",imageUrls:Qe.product?.imageUrls||[js],isDailyDeal:Qe.product?.isDailyDeal||!1,discountPercentage:Qe.product?.discountPercentage||0}))}),await Ne(pt,dt,Z,u),await $2(Ye.currentUser?.uid),s([]),Ke.success(i.jsxs("div",{children:[i.jsx("strong",{children:"Payment Successful!"}),i.jsx("p",{children:"Your order has been placed. Check your email for confirmation."})]}),{position:"top-right",autoClose:5e3,style:nme,icon:i.jsx("i",{className:"bx bx-check-circle text-blue-500 text-xl"})}),r("/order-confirmation",{state:{order:{...zt,items:t}}})}catch(Be){console.error("Checkout error:",Be),console.log("Logging to Sentry:",Be),Ke.error(Be.message||"Failed to place order. Please try again.",{position:"top-right",autoClose:3e3})}finally{P(!1)}},[t,u,Z,r,U,X,Q]),ze=()=>{Ke.info("Payment cancelled.",{position:"top-right",autoClose:3e3}),P(!1)},se=(Ce,Be,Ue,gt)=>{s(st=>st.map(bt=>bt.productId===Ce?{...bt,currentImage:Be,slideDirection:Ue>gt?"right":"left"}:bt)),console.log("Cart item image updated:",{itemId:Ce,url:Be,direction:Ue>gt?"right":"left"})},fe=(Ce,Be)=>{p(Ue=>({...Ue,[Ce]:Be?Ue[Ce]:!1})),x(Ue=>({...Ue,[Ce]:!1})),console.log(`Image ${Be?"thumbnail":"main"} loaded for productId: ${Ce}`)},Te=(Ce,Be)=>{console.error(`Image load error for productId: ${Be}`,{imageUrl:Ce.target.src,productId:Be}),p(Ue=>({...Ue,[Be]:!1})),x(Ue=>({...Ue,[Be]:!0})),Ce.target.src=js};return o?i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Fo,{}),i.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Loading..."})]})}):i.jsxs("div",{className:"container mx-auto px-4 py-8 relative mb-20",children:[(T||I)&&i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-40",children:[i.jsx(Fo,{}),i.jsx("p",{className:"text-white ml-4",children:I?"Sending confirmation email...":"Processing payment..."})]}),i.jsx("style",{children:`
          @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          .slide-in-right { animation: slideInRight 0.3s ease-in-out forwards; }
          .slide-in-left { animation: slideInLeft 0.3s ease-in-out forwards; }
          .image-zoom:hover { transform: scale(1.05); transition: transform 0.3s ease; }
        `}),i.jsx(ome,{}),i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-cart text-blue-600"}),"Checkout"]}),i.jsxs(Fe,{to:"/cart",className:"text-blue-600 hover:underline text-sm flex items-center gap-1","aria-label":"Back to Cart",children:[i.jsx("i",{className:"bx bx-arrow-back"}),"Back to Cart"]})]}),t.length===0?i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-gray-600 mb-4",children:["Your cart is empty."," ",i.jsx(Fe,{to:"/products",className:"text-blue-600 hover:underline",children:"Continue shopping"})]})}):i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsxs("div",{className:"flex-1 bg-white p-6 rounded-lg shadow-md",ref:G,children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-home text-blue-600"}),"Shipping Details"]}),i.jsxs("form",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Full Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"bx bx-user absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.name?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.name,"aria-describedby":k.name?"name-error":void 0})]}),k.name&&i.jsx("p",{id:"name-error",className:"text-red-600 text-xs mt-1",children:k.name})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"bx bx-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.email?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.email,"aria-describedby":k.email?"email-error":void 0})]}),k.email&&i.jsx("p",{id:"email-error",className:"text-red-600 text-xs mt-1",children:k.email})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Phone ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"bx bx-phone absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",id:"phone",name:"phone",value:u.phone,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.phone?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.phone,"aria-describedby":k.phone?"phone-error":void 0})]}),k.phone&&i.jsx("p",{id:"phone-error",className:"text-red-600 text-xs mt-1",children:k.phone})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Address ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"bx bx-map absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",id:"address",name:"address",value:u.address,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.address?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.address,"aria-describedby":k.address?"address-error":void 0})]}),k.address&&i.jsx("p",{id:"address-error",className:"text-red-600 text-xs mt-1",children:k.address})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"city",className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:["City ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"bx bx-city absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",id:"city",name:"city",value:u.city,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.city?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.city,"aria-describedby":k.city?"city-error":void 0})]}),k.city&&i.jsx("p",{id:"city-error",className:"text-red-600 text-xs mt-1",children:k.city})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Postal Code ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"bx bx-mail-send absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",id:"postalCode",name:"postalCode",value:u.postalCode,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.postalCode?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.postalCode,"aria-describedby":k.postalCode?"postalcode-error":void 0})]}),k.postalCode&&i.jsx("p",{id:"postalcode-error",className:"text-red-600 text-xs mt-1",children:k.postalCode})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 items-center gap-1",children:["Country ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"bx bx-world absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsxs("select",{id:"country",name:"country",value:u.country,onChange:de,className:`mt-1 w-full p-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${k.country?"border-red-500":"border-gray-300"}`,required:!0,disabled:o,"aria-invalid":!!k.country,"aria-describedby":k.country?"country-error":void 0,children:[i.jsx("option",{value:"",children:"Select a country"}),i.jsx("option",{value:"Nigeria",children:"Nigeria"}),i.jsx("option",{value:"United Kingdom",children:"United Kingdom"})]})]}),k.country&&i.jsx("p",{id:"country-error",className:"text-red-600 text-xs mt-1",children:k.country})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"saveInfo",name:"saveInfo",checked:u.saveInfo,onChange:de,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:o}),i.jsx("label",{htmlFor:"saveInfo",className:"ml-2 text-sm text-gray-600",children:"Save shipping information for future purchases"})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-package text-blue-600"}),"Cart Items",i.jsxs("span",{className:"ml-2 text-xs text-gray-500 cursor-help relative group","aria-label":"Prices include buyer protection and handling fees.",children:[i.jsx("i",{className:"bx bx-info-circle"}),i.jsx("span",{className:"absolute hidden group-hover:block bg-gray-800 text-white text-xs rounded-lg p-2 -top-10 left-0 w-48 z-10",children:"Prices Overview."})]})]}),t.map(Ce=>i.jsxs("div",{className:"flex items-start gap-4 mb-4 border-b pb-4",children:[i.jsxs("div",{className:"w-24 h-24 relative overflow-hidden rounded-lg image-zoom",children:[m[Ce.productId]&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:i.jsx(Fo,{size:"small"})}),i.jsx("img",{src:Ce.currentImage||js,alt:Ce.product?.name||"Product Image",className:`absolute w-full h-full object-cover ${Ce.slideDirection==="right"?"slide-in-right":"slide-in-left"} ${m[Ce.productId]||b[Ce.productId]?"opacity-50":"opacity-100"}`,onLoad:()=>fe(Ce.productId,!1),onError:Be=>Te(Be,Ce.productId),loading:"lazy","aria-label":`Image for ${Ce.product?.name||"Unknown Product"}`}),b[Ce.productId]&&i.jsx("div",{className:"absolute bottom-0 left-0 bg-red-600 text-white text-xs px-1 rounded",children:"Image Failed"}),Ce.product?.isDailyDeal&&i.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1.5 py-0.5 rounded-full text-[10px] font-bold",children:[Ce.product.discountPercentage,"% OFF"]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-base font-semibold text-gray-800",children:Ce.product?.name||"Unknown"}),i.jsx("p",{className:"text-sm text-gray-600",children:i.jsx(Ms,{price:(Ce.product?.totalPrice||0)*(Ce.quantity||0),currency:Z})}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("label",{htmlFor:`quantity-${Ce.productId}`,className:"text-sm text-gray-600",children:"Qty:"}),i.jsx("input",{type:"number",id:`quantity-${Ce.productId}`,value:Ce.quantity||1,onChange:Be=>ne(Ce.productId,parseInt(Be.target.value)),min:"1",max:Ce.product?.stock||10,className:"w-16 p-1 border rounded-lg focus:ring-2 focus:ring-blue-500","aria-label":`Quantity for ${Ce.product?.name||"Unknown"}`})]}),Ce.product?.imageUrls?.length>1&&i.jsx("div",{className:"flex gap-2 mt-2 overflow-x-auto",children:Ce.product.imageUrls.map((Be,Ue)=>i.jsx("img",{src:Be,alt:`${Ce.product?.name||"Unknown"} ${Ue+1}`,className:`w-10 h-10 object-cover rounded border cursor-pointer ${Ce.currentImage===Be?"border-blue-500 border-2":"border-gray-300"} ${m[Ce.productId]||b[Ce.productId]?"opacity-50":"opacity-100"}`,onClick:()=>se(Ce.productId,Be,Ue,Ce.product.imageUrls.indexOf(Ce.currentImage)),onLoad:()=>fe(Ce.productId,!0),onError:gt=>Te(gt,Ce.productId),loading:"lazy"},`${Ce.productId}-${Ue}`))})]})]},Ce.productId))]})]}),i.jsx("div",{className:"w-full lg:w-1/3",children:i.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md sticky top-4",children:[i.jsx("img",{src:ame,alt:"Accepted payment cards",className:"mb-6 w-auto h-8"}),i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-receipt text-blue-600"}),"Order Summary"]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Items"}),i.jsx("span",{children:U})]}),t.map(Ce=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"truncate w-2/3",children:[Ce.product?.name||"Unknown"," (x",Ce.quantity||0,")"]}),i.jsxs("span",{children:[i.jsx(Ms,{price:(Ce.product?.totalPrice||0)*(Ce.quantity||0),currency:Z}),Ce.product?.isDailyDeal&&i.jsxs("span",{className:"text-red-600 text-[10px] ml-2",children:[Ce.product.discountPercentage,"% OFF"]})]})]},Ce.productId)),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:i.jsx(Ms,{price:z,currency:Z})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Additional Shipping Fee"}),i.jsx("span",{children:i.jsx(Ms,{price:Q,currency:Z})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Shipping"}),i.jsx("span",{className:"text-green-600 font-semibold bg-green-100 px-2 py-1 rounded-full",children:"Free"})]}),i.jsxs("div",{className:"flex justify-between font-bold text-gray-800 border-t pt-2",children:[i.jsx("span",{children:"Grand Total"}),i.jsx("span",{children:i.jsx(Ms,{price:re,currency:Z})})]})]}),q&&i.jsxs("p",{className:"text-yellow-600 text-xs mt-2 bg-yellow-50 p-2 rounded",children:[" Note: Total is below the recommended minimum of ",L.toLocaleString("en-NG"),"."]}),i.jsxs("div",{className:"mt-6 border-t pt-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-home text-blue-600"}),"Shipping Information"]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Name:"})," ",u.name||"Not provided"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",u.email||"Not provided"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Phone:"})," ",u.phone||"Not provided"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Address:"})," ",u.address||"Not provided"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"City:"})," ",u.city||"Not provided"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Postal Code:"})," ",u.postalCode||"Not provided"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Country:"})," ",u.country||"Not provided"]})]})]}),c&&je.isValid&&t.length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-credit-card text-blue-600"}),"Payment Details"]}),u.country==="United Kingdom"?i.jsx(sV,{stripe:ime,children:i.jsx(cme,{totalPrice:re,formData:u,cart:t,onSuccess:Ce=>P(!0),onCancel:ze,currency:Z,setIsProcessing:E})}):u.country==="Nigeria"?i.jsx(nV,{email:u.email,amount:re*100,onSuccess:Ce=>P(!0),onClose:ze,disabled:!je.isValid||t.length===0||o,buttonText:"Complete Purchase",className:`w-full py-3 px-4 rounded-lg text-white text-sm font-medium transition duration-200 shadow transform hover:scale-105 ${!je.isValid||t.length===0||o?"bg-gray-400 cursor-not-allowed":"bg-[#112d4e] hover:bg-[#0e2740]"}`,iconClass:"bx bx-cart mr-2",sellerId:t[0]?.product?.sellerId||"default-seller-id"}):i.jsx("p",{className:"text-red-600 text-sm",children:"Please select a valid country."})]}),!c&&i.jsxs("div",{className:"mt-4 text-sm text-red-600",children:["Please"," ",i.jsx(Fe,{to:"/login",className:"text-blue-600 hover:underline",children:"log in"})," ","to proceed with payment."]})]})})]}),i.jsx(lme,{isOpen:A,onConfirm:xe,onCancel:ze}),X]})},ume=()=>{const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(null);zr(),R.useEffect(()=>{const c=async()=>{try{if(!Ye.currentUser){n("Please sign in to view your orders."),s(!1);return}const u=Lt(Xe(ve,"orders"),Tt("userId","==",Ye.currentUser.uid)),h=await xt(u),m=await Promise.all(h.docs.map(async p=>{const b=p.data(),x=Array.isArray(b.items)?b.items:[],y=b.total||0,w=b.paymentId||`TRK-${p.id.slice(0,8)}`;let k={sellerId:null,displayName:"Unknown Seller",avatar:null};if(x.length>0&&x[0].productId)try{const N=qe(ve,"products",x[0].productId),T=await wt(N);if(T.exists()){const I=T.data().sellerId;if(I){const S=qe(ve,"users",I),A=await wt(S);if(A.exists()){const P=A.data();k={sellerId:I,displayName:P.displayName||"Unknown Seller",avatar:P.avatar||"https://ui-avatars.com/api/?name=S&background=3b82f6&color=fff&size=40"}}}}}catch(N){console.error("Error fetching seller data:",N.message)}return{orderId:p.id,trackingId:w,total:y,date:b.date||new Date().toISOString(),items:x,seller:k}}));e(m)}catch(u){n(`Failed to load orders: ${u.message}`)}finally{s(!1)}},d=Ye.onAuthStateChanged(u=>{u?c():(n("Please sign in to view your orders."),s(!1))});return()=>d()},[]);const o=c=>`${c.toLocaleString("en-NG",{minimumFractionDigits:2})}`,l=c=>{try{return new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Unknown Date"}};return t?i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx(Fo,{}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading orders..."})]}):a?i.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:i.jsxs(Ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("p",{className:"text-red-600 dark:text-red-400 text-lg font-medium",children:a}),i.jsx(Fe,{to:"/login",className:"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-500 font-medium underline transition",children:"Go to Login"})]})}):i.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-200",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx($h,{}),i.jsx(Ct.div,{className:"md:w-3/4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Your Orders"}),r.length===0?i.jsxs(Ct.p,{initial:{opacity:0},animate:{opacity:1},className:"text-gray-600 dark:text-gray-400",children:["No orders found."," ",i.jsx(Fe,{to:"/products",className:"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-500 font-medium underline",children:"Start shopping"})]}):i.jsx("div",{className:"space-y-4",children:i.jsx(go,{children:r.map(c=>i.jsxs(Ct.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"bg-white dark:bg-gray-700 rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow",children:[i.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:c.seller.avatar,alt:"Seller",className:"w-10 h-10 rounded-full border border-gray-200 dark:border-gray-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-400",children:"Seller"}),i.jsxs("h2",{className:"text-xs text-gray-800 dark:text-gray-100",children:["Order #",c.orderId]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Tracking ID: ",c.trackingId]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Date: ",l(c.date)]})]}),i.jsx("div",{className:"space-y-2",children:c.items.map((d,u)=>i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-300",children:[i.jsxs("span",{children:[d.name," x",d.quantity]}),i.jsx("span",{children:o(d.price*d.quantity)})]},u))})]},c.orderId))})})]})})]})})};function hme(){const[r,e]=R.useState(!0),[t,s]=R.useState(""),[a,n]=R.useState(!1),[o,l]=R.useState(null),[c,d]=R.useState([]),[u,h]=R.useState({street:"",city:"",state:"",country:"",postalCode:""}),[m,p]=R.useState({}),[b,x]=R.useState(null),[y,w]=R.useState(0),[k]=R.useState(3),N="orderHistory_1",T=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,E=()=>{try{const M=localStorage.getItem(N);return M?JSON.parse(M).length:0}catch(M){return console.error("Error getting order count:",M),0}};R.useEffect(()=>{const M=Ye.onAuthStateChanged(async B=>{try{if(console.log("Auth state changed at:",new Date().toISOString()),!B){console.log("No user found, redirecting to login"),s("Please sign in to manage your addresses."),n(!0),e(!1);return}console.log("User authenticated, UID:",B.uid);const G=localStorage.getItem("userData");let X={};if(G)try{X=JSON.parse(G),(typeof X.name!="string"||X.name.includes("{"))&&(console.warn("Corrupted name field:",X.name),X.name="Emmanuel Chinecherem"),typeof X.username!="string"&&(X.username="emmaChi")}catch(z){console.error("Error parsing userData:",z),X={}}console.log("Fetching Firestore data for UID:",B.uid);const H=qe(ve,"users",B.uid),W=await wt(H);if(!W.exists()){console.warn("User document not found in Firestore:",B.uid),s("User profile not found."),e(!1);return}const ne=W.data();console.log("Firestore data fetched:",ne);const U=ne.addresses||X.addresses||[];l({email:B.email||"test@example.com",username:X.username||B.displayName||"emmaChi",name:X.name||B.displayName||"Emmanuel Chinecherem",profileImage:X.profileImage||null,createdAt:X.createdAt||"2025-05-04T23:28:48.857Z",address:X.address||(U[0]?.street?`${U[0].street}, ${U[0].city}, ${U[0].state}, ${U[0].postalCode}, ${U[0].country}`:"Not provided"),addresses:U,uid:B.uid}),d(U),w(E())}catch(G){console.error("Error in useEffect:",G.message,G.stack),s("Failed to load addresses. Please try again.")}finally{console.log("Setting loading to false at:",new Date().toISOString()),e(!1)}},B=>{console.error("Auth state error:",B),s("Authentication error. Please try again."),e(!1)}),L=()=>w(E());return window.addEventListener("orderPlaced",L),()=>{console.log("Cleaning up useEffect"),M(),window.removeEventListener("orderPlaced",L)}},[]);const I=()=>{const M={};return u.street.trim()||(M.street="Street is required."),u.city.trim()||(M.city="City is required."),u.state.trim()||(M.state="State is required."),u.country.trim()||(M.country="Country is required."),u.postalCode.trim()||(M.postalCode="Postal code is required."),M},S=M=>{const{name:L,value:B}=M.target;h(G=>({...G,[L]:B})),p(G=>({...G,[L]:""}))},A=async M=>{M.preventDefault();const L=I();if(Object.keys(L).length>0){p(L);return}try{e(!0);const B={id:b||T(),street:u.street,city:u.city,state:u.state,country:u.country,postalCode:u.postalCode};let G;b?G=c.map(W=>W.id===b?B:W):G=[...c,B];const X=qe(ve,"users",o.uid);await gr(X,{addresses:G,address:G[0]?`${G[0].street}, ${G[0].city}, ${G[0].state}, ${G[0].postalCode}, ${G[0].country}`:"Not provided"},{merge:!0});const H={...o,addresses:G,address:G[0]?`${G[0].street}, ${G[0].city}, ${G[0].state}, ${G[0].postalCode}, ${G[0].country}`:"Not provided"};localStorage.setItem("userData",JSON.stringify(H)),d(G),l(H),h({street:"",city:"",state:"",country:"",postalCode:""}),p({}),x(null)}catch(B){console.error("Error saving address:",B),s("Failed to save address. Please try again.")}finally{e(!1)}},P=M=>{h({street:M.street,city:M.city,state:M.state,country:M.country,postalCode:M.postalCode}),x(M.id)},O=async M=>{try{e(!0);const L=c.filter(X=>X.id!==M),B=qe(ve,"users",o.uid);await gr(B,{addresses:L,address:L[0]?`${L[0].street}, ${L[0].city}, ${L[0].state}, ${L[0].postalCode}, ${L[0].country}`:"Not provided"},{merge:!0});const G={...o,addresses:L,address:L[0]?`${L[0].street}, ${L[0].city}, ${L[0].state}, ${L[0].postalCode}, ${L[0].country}`:"Not provided"};localStorage.setItem("userData",JSON.stringify(G)),d(L),l(G)}catch(L){console.error("Error deleting address:",L),s("Failed to delete address. Please try again.")}finally{e(!1)}};return r?i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx(Fo,{}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-4",children:"Loading..."})]}):t?i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:t}),a?i.jsx(Fe,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"}):i.jsx("button",{onClick:()=>s(""),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]}):i.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-700",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsx($h,{userData:o,orderCount:y,wishlistCount:k}),i.jsxs("div",{className:"md:w-3/4",children:[i.jsxs("div",{className:"rounded-lg p-6 mb-6 border border-gray-300 dark:border-gray-300",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Personal Details"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500 dark:text-gray-300",children:"Username"}),i.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:o.username})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500 dark:text-gray-300",children:"First Name"}),i.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:o.name.split(" ")[0]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500 dark:text-gray-300",children:"Last Name"}),i.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:o.name.split(" ").slice(1).join(" ")||"-"})]})]})]}),i.jsxs("div",{className:"rounded-lg p-6 mb-6 border border-gray-300 dark:border-gray-300",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:b?"Edit Address":"Add New Address"}),i.jsxs("form",{onSubmit:A,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"Street"}),i.jsx("input",{type:"text",name:"street",value:u.street,onChange:S,className:`w-full p-3 border rounded-lg ${m.street?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),m.street&&i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m.street})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"City"}),i.jsx("input",{type:"text",name:"city",value:u.city,onChange:S,className:`w-full p-3 border rounded-lg ${m.city?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),m.city&&i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m.city})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"State"}),i.jsx("input",{type:"text",name:"state",value:u.state,onChange:S,className:`w-full p-3 border rounded-lg ${m.state?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),m.state&&i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m.state})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"Country"}),i.jsx("input",{type:"text",name:"country",value:u.country,onChange:S,className:`w-full p-3 border rounded-lg ${m.country?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),m.country&&i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m.country})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 dark:text-gray-300",children:"Postal Code"}),i.jsx("input",{type:"text",name:"postalCode",value:u.postalCode,onChange:S,className:`w-full p-3 border rounded-lg ${m.postalCode?"border-red-500":"border-gray-300 dark:border-gray-300"}`}),m.postalCode&&i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m.postalCode})]}),i.jsxs("div",{className:"col-span-1 md:col-span-2",children:[i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",disabled:r,children:b?"Update Address":"Add Address"}),b&&i.jsx("button",{type:"button",onClick:()=>{h({street:"",city:"",state:"",country:"",postalCode:""}),x(null),p({})},className:"ml-2 px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]}),i.jsxs("div",{className:"rounded-lg p-6 border border-gray-300 dark:border-gray-300",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Saved Addresses"}),c.length===0?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block p-4 rounded-full mb-2 bg-gray-100",children:i.jsx("i",{className:"bx bx-map text-2xl"})}),i.jsx("p",{className:"text-gray-400 dark:text-gray-300",children:"No addresses found!"})]}):i.jsx("div",{className:"space-y-4",children:c.map(M=>i.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:M.street}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[M.city,", ",M.state,", ",M.postalCode,", ",M.country]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>P(M),className:"text-blue-500 hover:text-blue-700",children:i.jsx("i",{className:"bx bx-edit text-lg"})}),i.jsx("button",{onClick:()=>O(M.id),className:"text-red-500 hover:text-red-700",children:i.jsx("i",{className:"bx bx-trash text-lg"})})]})]},M.id))})]})]})]})})}function fme(){const[r,e]=R.useState(!0),[t,s]=R.useState(""),[a,n]=R.useState({name:"",username:"",email:"",country:"",phone:"",address:""}),[o,l]=R.useState(localStorage.getItem("profileImage")||null),[c,d]=R.useState(""),[u,h]=R.useState(""),[m,p]=R.useState(""),[b,x]=R.useState(""),[y,w]=R.useState(!1),[k,N]=R.useState(!1),[T,E]=R.useState(!0),[I,S]=R.useState(localStorage.getItem("theme")||"light"),A=zr(),P="https://via.placeholder.com/150?text=Profile";R.useEffect(()=>{const W=Ye.onAuthStateChanged(async ne=>{if(e(!0),!ne){s("Please sign in to edit your profile."),l(null),e(!1);return}try{const U=qe(ve,"users",ne.uid),z=await wt(U);if(!z.exists()){s("User profile not found."),e(!1);return}const Q=z.data(),q=Q.addresses||[],Z=q[0]?.street?`${q[0].street}, ${q[0].city}, ${q[0].state}, ${q[0].postalCode}, ${q[0].country}`:"Not provided";n({name:Q.name||ne.displayName||"Emmanuel Chinecherem",username:Q.username||"emmachi789",email:ne.email||"",country:Q.country||"",phone:Q.phoneNumber||"Not provided",address:Z})}catch(U){s("Failed to load profile data."),console.error("Error loading profile:",U)}finally{e(!1)}});return document.documentElement.classList.toggle("dark",I==="dark"),()=>W()},[I]);const O=W=>{const{name:ne,value:U}=W.target;n(z=>({...z,[ne]:U}))},M=W=>{const ne=W.target.files[0];if(ne){if(!ne.type.startsWith("image/")){d("Please upload a valid image file.");return}if(ne.size>5*1024*1024){d("Image size must be less than 5MB.");return}d(""),e(!0);try{const U=new FileReader;U.onload=()=>{const z=U.result;l(z),localStorage.setItem("profileImage",z),window.dispatchEvent(new Event("profileImageUpdated")),Ke.success("Profile image updated successfully!")},U.readAsDataURL(ne)}catch(U){console.error("Error processing image:",U),d("Failed to process image. Please try again.")}finally{e(!1)}}},L=async()=>{x("");const W=Ye.currentUser;if(!W){x("Please sign in to change your password.");return}if(!u||!m){x("Please fill in both current and new password fields.");return}if(m.length<6){x("New password must be at least 6 characters long.");return}if(!/[A-Z]/.test(m)||!/[0-9]/.test(m)){x("New password must contain at least one uppercase letter and one number.");return}e(!0);try{const ne=Qd.credential(W.email,u);await hB(W,ne),await yQ(W,m),h(""),p(""),Ke.success("Password updated successfully!")}catch(ne){console.error("Error changing password:",ne),ne.code==="auth/wrong-password"?x("Current password is incorrect."):ne.code==="auth/requires-recent-login"?(x("Please log out and log in again to change your password."),A("/login")):x("Failed to change password. Please try again.")}finally{e(!1)}},B=async()=>{const W=Ye.currentUser;if(!W){s("Please sign in to save changes.");return}e(!0);try{const ne=a.address.split(", "),U=ne.length===5?{street:ne[0],city:ne[1],state:ne[2],postalCode:ne[3],country:ne[4]}:{street:a.address,city:"",state:"",postalCode:"",country:a.country};await Oi(qe(ve,"users",W.uid),{name:a.name,username:a.username,country:a.country,phoneNumber:a.phone==="Not provided"?"":a.phone,addresses:[U]}),localStorage.setItem("userData",JSON.stringify(a)),window.dispatchEvent(new Event("userDataUpdated")),Ke.success("Profile updated successfully!")}catch(ne){console.error("Error saving profile:",ne),s("Failed to save profile. Please try again.")}finally{e(!1)}},G=async()=>{e(!0);try{await Ye.signOut(),localStorage.removeItem("userData"),localStorage.removeItem("profileImage"),l(null),window.dispatchEvent(new Event("profileImageUpdated")),A("/login"),Ke.success("Logged out successfully!")}catch(W){console.error("Error logging out:",W),s("Failed to log out. Please try again.")}finally{e(!1)}},X=()=>{const W=I==="light"?"dark":"light";S(W),localStorage.setItem("theme",W),document.documentElement.setAttribute("data-theme",W)},H=()=>o?i.jsx("img",{src:o,alt:"Profile",className:"w-full h-full object-cover",onError:()=>l(P)}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300 text-white text-2xl font-bold uppercase",children:a.email[0]||"?"});return r?i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx(Fo,{}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-4",children:"Loading..."})]}):t?i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:t}),i.jsx("button",{onClick:()=>s(""),className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 transition-colors",children:"Retry"})]}):i.jsx("div",{className:"container mx-auto mb-10 px-4 py-8 text-gray-800 dark:text-gray-700",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsx($h,{}),i.jsxs("div",{className:"md:w-3/4",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:"Settings"}),i.jsxs("div",{className:"rounded-lg p-6 dark:bg-gray-800 shadow-md border border-gray-100 dark:border-black",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[i.jsx(zd,{size:20})," Profile Picture"]}),i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden shadow hover:bg-gray-300 transition-colors duration-300",children:H()}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("label",{className:"cursor-pointer text-blue-600 hover:text-blue-400 flex items-center gap-1",children:[i.jsx(Uz,{size:16})," Choose Image",i.jsx("input",{type:"file",accept:"image/*",onChange:M,className:"hidden"})]}),c&&i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:c})]})]}),i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[i.jsx(zd,{size:20})," Personal Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Name"}),i.jsx("input",{type:"text",name:"name",value:a.name,onChange:O,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Username"}),i.jsx("input",{type:"text",name:"username",value:a.username,onChange:O,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your username"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:a.email,onChange:O,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-400",disabled:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Country"}),i.jsx("input",{type:"text",name:"country",value:a.country,onChange:O,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your country"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Phone"}),i.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:O,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your phone number"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Address"}),i.jsx("input",{type:"text",name:"address",value:a.address,onChange:O,className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter your address"})]})]}),i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[i.jsx(Dz,{size:20})," Security"]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Current Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:y?"text":"password",value:u,onChange:W=>h(W.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter current password"}),i.jsx("button",{onClick:()=>w(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-300",children:y?i.jsx(A5,{size:16}):i.jsx(T5,{size:16})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:k?"text":"password",value:m,onChange:W=>p(W.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-black rounded-lg dark:bg-gray-700 dark:text-gray-200",placeholder:"Enter new password"}),i.jsx("button",{onClick:()=>N(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-300",children:k?i.jsx(A5,{size:16}):i.jsx(T5,{size:16})})]})]})]}),b&&i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-2",children:b}),i.jsx("button",{onClick:L,className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 transition-colors",children:"Change Password"})]}),i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[i.jsx(oC,{size:20})," Preferences"]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Email Notifications"}),i.jsx("input",{type:"checkbox",checked:T,onChange:()=>E(!T),className:"h-5 w-5 text-blue-600 dark:bg-gray-700"})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4",children:[i.jsx("label",{className:"text-gray-500 dark:text-gray-300",children:"Theme"}),i.jsxs("button",{onClick:X,className:"px-6 py-2 bg-gray-200 dark:bg-gray-600 rounded-lg shadow hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:[I==="light"?i.jsx(Wue,{size:16,className:"inline mr-1"}):i.jsx(xhe,{size:16,className:"inline mr-1"}),I==="light"?"Switch to Dark":"Switch to Light"]})]})]}),i.jsx("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-200"}),i.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[i.jsxs("button",{onClick:G,className:"px-3 py-2 bg-gray-900 text-white rounded-lg shadow-md hover:bg-red-900 transition-colors flex items-center gap-1",children:[i.jsx(Oue,{size:16})," Log Out"]}),i.jsxs(Fe,{to:"/profile",className:"px-6 py-2 bg-gray-300 text-gray-800 rounded-lg shadow-md hover:bg-gray-400 transition-colors dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 flex items-center gap-1",children:[i.jsx(th,{size:16})," Cancel"]}),i.jsxs("button",{onClick:B,className:"px-3 py-2 bg-gray-700 text-white rounded-lg shadow-md hover:bg-gray-800 transition-colors flex items-center gap-1",children:[i.jsx(rhe,{size:16})," Save Changes"]})]}),t&&i.jsx("p",{className:"text-red-600 dark:text-red-400 mt-2",children:t})]})]})]})})}const mme=()=>{const[r,e]=R.useState([]),[t,s]=R.useState({}),[a,n]=R.useState(!0),[o,l]=R.useState({}),c=R.useRef({}),d=b=>[/\d{5,}/,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}\b/,/\b(?:\d{4}[- ]?){3}\d{4}\b|\b\d{16}\b/,/(contact me via|whatsapp|telegram|linkedin|call me|sms)/i,/(http|https|www\.)/i,/\b\d{10,}\b/,/(bank account|routing number|ssn|social security)/i,/(<script>|<\/script>|javascript:)/i,/(password|pin|otp)/i,/(\bfree\s+money\b|\bclick here\b|\bsubscribe\b|\boffer\b)/i].some(y=>y.test(b));R.useEffect(()=>{if(!Ye.currentUser){n(!1);return}const b=Lt(Xe(ve,"messages"),Om("createdAt","asc")),x=yr(b,async y=>{const w=y.docs.map(N=>({id:N.id,...N.data()})),k={};await Promise.all(w.filter(N=>N.senderId===Ye.currentUser.uid||N.receiverId===Ye.currentUser.uid).map(async N=>{const T=N.senderId!==Ye.currentUser.uid?N.senderId:N.receiverId;if(k[N.conversationId])k[N.conversationId].messages.push(N);else try{const E=await wt(qe(ve,"sellers",T)),I=E.exists()?E.data().name:T;k[N.conversationId]={conversationId:N.conversationId,sellerId:T,sellerName:I,messages:[N]}}catch{k[N.conversationId]={conversationId:N.conversationId,sellerId:T,sellerName:T,messages:[N]}}})),e(Object.values(k)),n(!1)});return()=>x()},[]);const u=b=>{s(x=>({...x,[b]:!x[b]})),setTimeout(()=>m(b),100)},h=async b=>{const x=o[b.conversationId];if(!(!x||d(x)))try{await fi(Xe(ve,"messages"),{conversationId:b.conversationId,senderId:Ye.currentUser.uid,receiverId:b.sellerId,text:x,createdAt:lo()}),l(y=>({...y,[b.conversationId]:""})),m(b.conversationId)}catch(y){console.error("Error sending message:",y.message)}},m=b=>{c.current[b]&&(c.current[b].scrollTop=c.current[b].scrollHeight)},p=b=>b?b.split(" ").map(x=>x[0]).join("").toUpperCase():"?";return a?i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx(Fo,{}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading chats..."})]}):i.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-200 mb-20",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx($h,{}),i.jsxs(Ct.div,{className:"md:w-3/4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Your Conversations"}),r.length===0?i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mt-10",children:"No messages yet"}):i.jsx("div",{className:"space-y-4",children:r.map(b=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:[i.jsxs("div",{onClick:()=>u(b.conversationId),className:"cursor-pointer flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold",children:p(b.sellerName)}),i.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Seller"}),i.jsx("span",{className:"ml-auto text-gray-400",children:t[b.conversationId]?"":""})]}),i.jsx(go,{children:t[b.conversationId]&&i.jsxs(Ct.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex flex-col gap-2 max-h-96 overflow-y-auto p-2 border-t border-gray-200 dark:border-gray-700",ref:x=>c.current[b.conversationId]=x,children:[b.messages.map(x=>i.jsxs("div",{className:`max-w-xs p-2 rounded-lg ${x.senderId===Ye.currentUser.uid?"bg-blue-500 text-white self-end":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 self-start"}`,children:[i.jsx("p",{className:"text-sm",children:d(x.text)?" Restricted Message":x.text}),i.jsx("span",{className:"text-xs text-gray-400",children:x.createdAt?.toDate?new Date(x.createdAt.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]},x.id)),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsx("input",{type:"text",value:o[b.conversationId]||"",onChange:x=>l(y=>({...y,[b.conversationId]:x.target.value})),placeholder:"Type a message...",className:"flex-1 p-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-gray-200"}),i.jsx("button",{onClick:()=>h(b),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition",children:"Send"})]})]})})]},b.conversationId))})]})]})})};var ov={},Cg={},lv={},Q5;function Li(){if(Q5)return lv;Q5=1,Object.defineProperty(lv,"__esModule",{value:!0});function r(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}var e=function t(s,a){r(this,t),this.data=s,this.text=a.text||s,this.options=a};return lv.default=e,lv}var J5;function gme(){if(J5)return Cg;J5=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.CODE39=void 0;var r=(function(){function x(y,w){for(var k=0;k<w.length;k++){var N=w[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,N.key,N)}}return function(y,w,k){return w&&x(y.prototype,w),k&&x(y,k),y}})(),e=Li(),t=s(e);function s(x){return x&&x.__esModule?x:{default:x}}function a(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function n(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function o(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var l=(function(x){o(y,x);function y(w,k){return a(this,y),w=w.toUpperCase(),k.mod43&&(w+=m(b(w))),n(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w,k))}return r(y,[{key:"encode",value:function(){for(var k=u("*"),N=0;N<this.data.length;N++)k+=u(this.data[N])+"0";return k+=u("*"),{data:k,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),y})(t.default),c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],d=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function u(x){return h(p(x))}function h(x){return d[x].toString(2)}function m(x){return c[x]}function p(x){return c.indexOf(x)}function b(x){for(var y=0,w=0;w<x.length;w++)y+=p(x[w]);return y=y%43,y}return Cg.CODE39=l,Cg}var No={},cv={},dv={},ea={},eO;function ib(){if(eO)return ea;eO=1,Object.defineProperty(ea,"__esModule",{value:!0});var r;function e(c,d,u){return d in c?Object.defineProperty(c,d,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[d]=u,c}var t=ea.SET_A=0,s=ea.SET_B=1,a=ea.SET_C=2;ea.SHIFT=98;var n=ea.START_A=103,o=ea.START_B=104,l=ea.START_C=105;return ea.MODULO=103,ea.STOP=106,ea.FNC1=207,ea.SET_BY_CODE=(r={},e(r,n,t),e(r,o,s),e(r,l,a),r),ea.SWAP={101:t,100:s,99:a},ea.A_START_CHAR="",ea.B_START_CHAR="",ea.C_START_CHAR="",ea.A_CHARS="[\0-_-]",ea.B_CHARS="[ --]",ea.C_CHARS="(*[0-9]{2}*)",ea.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],ea}var tO;function K2(){if(tO)return dv;tO=1,Object.defineProperty(dv,"__esModule",{value:!0});var r=(function(){function d(u,h){for(var m=0;m<h.length;m++){var p=h[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,h,m){return h&&d(u.prototype,h),m&&d(u,m),u}})(),e=Li(),t=a(e),s=ib();function a(d){return d&&d.__esModule?d:{default:d}}function n(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(h,m){n(this,u);var p=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h.substring(1),m));return p.bytes=h.split("").map(function(b){return b.charCodeAt(0)}),p}return r(u,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var m=this.bytes,p=m.shift()-105,b=s.SET_BY_CODE[p];if(b===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&m.unshift(s.FNC1);var x=u.next(m,1,b);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:u.getBar(p)+x.result+u.getBar((x.checksum+p)%s.MODULO)+u.getBar(s.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var m=this.options.ean128||!1;return typeof m=="string"&&(m=m.toLowerCase()==="true"),m}}],[{key:"getBar",value:function(m){return s.BARS[m]?s.BARS[m].toString():""}},{key:"correctIndex",value:function(m,p){if(p===s.SET_A){var b=m.shift();return b<32?b+64:b-32}else return p===s.SET_B?m.shift()-32:(m.shift()-48)*10+m.shift()-48}},{key:"next",value:function(m,p,b){if(!m.length)return{result:"",checksum:0};var x=void 0,y=void 0;if(m[0]>=200){y=m.shift()-105;var w=s.SWAP[y];w!==void 0?x=u.next(m,p+1,w):((b===s.SET_A||b===s.SET_B)&&y===s.SHIFT&&(m[0]=b===s.SET_A?m[0]>95?m[0]-96:m[0]:m[0]<32?m[0]+96:m[0]),x=u.next(m,p+1,b))}else y=u.correctIndex(m,b),x=u.next(m,p+1,b);var k=u.getBar(y),N=y*p;return{result:k+x.result,checksum:N+x.checksum}}}]),u})(t.default);return dv.default=c,dv}var uv={},rO;function pme(){if(rO)return uv;rO=1,Object.defineProperty(uv,"__esModule",{value:!0});var r=ib(),e=function(l){return l.match(new RegExp("^"+r.A_CHARS+"*"))[0].length},t=function(l){return l.match(new RegExp("^"+r.B_CHARS+"*"))[0].length},s=function(l){return l.match(new RegExp("^"+r.C_CHARS+"*"))[0]};function a(o,l){var c=l?r.A_CHARS:r.B_CHARS,d=o.match(new RegExp("^("+c+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(d)return d[1]+""+n(o.substring(d[1].length));var u=o.match(new RegExp("^"+c+"+"))[0];return u.length===o.length?o:u+String.fromCharCode(l?205:206)+a(o.substring(u.length),!l)}function n(o){var l=s(o),c=l.length;if(c===o.length)return o;o=o.substring(c);var d=e(o)>=t(o);return l+String.fromCharCode(d?206:205)+a(o,d)}return uv.default=function(o){var l=void 0,c=s(o).length;if(c>=2)l=r.C_START_CHAR+n(o);else{var d=e(o)>t(o);l=(d?r.A_START_CHAR:r.B_START_CHAR)+a(o,d)}return l.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(u,h){return""+h})},uv}var sO;function xme(){if(sO)return cv;sO=1,Object.defineProperty(cv,"__esModule",{value:!0});var r=K2(),e=a(r),t=pme(),s=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function n(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(h,m){if(n(this,u),/^[\x00-\x7F\xC8-\xD3]+$/.test(h))var p=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,(0,s.default)(h),m));else var p=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h,m));return o(p)}return u})(e.default);return cv.default=c,cv}var hv={},aO;function bme(){if(aO)return hv;aO=1,Object.defineProperty(hv,"__esModule",{value:!0});var r=(function(){function d(u,h){for(var m=0;m<h.length;m++){var p=h[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,h,m){return h&&d(u.prototype,h),m&&d(u,m),u}})(),e=K2(),t=a(e),s=ib();function a(d){return d&&d.__esModule?d:{default:d}}function n(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(h,m){return n(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,s.A_START_CHAR+h,m))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+s.A_CHARS+"+$").test(this.data)}}]),u})(t.default);return hv.default=c,hv}var fv={},nO;function yme(){if(nO)return fv;nO=1,Object.defineProperty(fv,"__esModule",{value:!0});var r=(function(){function d(u,h){for(var m=0;m<h.length;m++){var p=h[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,h,m){return h&&d(u.prototype,h),m&&d(u,m),u}})(),e=K2(),t=a(e),s=ib();function a(d){return d&&d.__esModule?d:{default:d}}function n(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(h,m){return n(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,s.B_START_CHAR+h,m))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+s.B_CHARS+"+$").test(this.data)}}]),u})(t.default);return fv.default=c,fv}var mv={},iO;function vme(){if(iO)return mv;iO=1,Object.defineProperty(mv,"__esModule",{value:!0});var r=(function(){function d(u,h){for(var m=0;m<h.length;m++){var p=h[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,h,m){return h&&d(u.prototype,h),m&&d(u,m),u}})(),e=K2(),t=a(e),s=ib();function a(d){return d&&d.__esModule?d:{default:d}}function n(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(h,m){return n(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,s.C_START_CHAR+h,m))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+s.C_CHARS+"+$").test(this.data)}}]),u})(t.default);return mv.default=c,mv}var oO;function wme(){if(oO)return No;oO=1,Object.defineProperty(No,"__esModule",{value:!0}),No.CODE128C=No.CODE128B=No.CODE128A=No.CODE128=void 0;var r=xme(),e=c(r),t=bme(),s=c(t),a=yme(),n=c(a),o=vme(),l=c(o);function c(d){return d&&d.__esModule?d:{default:d}}return No.CODE128=e.default,No.CODE128A=s.default,No.CODE128B=n.default,No.CODE128C=l.default,No}var Un={},gv={},rc={},lO;function ob(){return lO||(lO=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.SIDE_BIN="101",rc.MIDDLE_BIN="01010",rc.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},rc.EAN2_STRUCTURE=["LL","LG","GL","GG"],rc.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],rc.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),rc}var pv={},xv={},cO;function lb(){if(cO)return xv;cO=1,Object.defineProperty(xv,"__esModule",{value:!0});var r=ob(),e=function(s,a,n){var o=s.split("").map(function(c,d){return r.BINARIES[a[d]]}).map(function(c,d){return c?c[s[d]]:""});if(n){var l=s.length-1;o=o.map(function(c,d){return d<l?c+n:c})}return o.join("")};return xv.default=e,xv}var dO;function iV(){if(dO)return pv;dO=1,Object.defineProperty(pv,"__esModule",{value:!0});var r=(function(){function h(m,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,p,b){return p&&h(m.prototype,p),b&&h(m,b),m}})(),e=ob(),t=lb(),s=o(t),a=Li(),n=o(a);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function c(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var u=(function(h){d(m,h);function m(p,b){l(this,m);var x=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,p,b));return x.fontSize=!b.flat&&b.fontSize>b.width*10?b.width*10:b.fontSize,x.guardHeight=b.height+x.fontSize/2+b.textMargin,x}return r(m,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(b,x){return this.text.substr(b,x)}},{key:"leftEncode",value:function(b,x){return(0,s.default)(b,x)}},{key:"rightText",value:function(b,x){return this.text.substr(b,x)}},{key:"rightEncode",value:function(b,x){return(0,s.default)(b,x)}},{key:"encodeGuarded",value:function(){var b={fontSize:this.fontSize},x={height:this.guardHeight};return[{data:e.SIDE_BIN,options:x},{data:this.leftEncode(),text:this.leftText(),options:b},{data:e.MIDDLE_BIN,options:x},{data:this.rightEncode(),text:this.rightText(),options:b},{data:e.SIDE_BIN,options:x}]}},{key:"encodeFlat",value:function(){var b=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:b.join(""),text:this.text}}}]),m})(n.default);return pv.default=u,pv}var uO;function kme(){if(uO)return gv;uO=1,Object.defineProperty(gv,"__esModule",{value:!0});var r=(function(){function h(m,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,p,b){return p&&h(m.prototype,p),b&&h(m,b),m}})(),e=function h(m,p,b){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,p);if(x===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:h(y,p,b)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(b)}},t=ob(),s=iV(),a=n(s);function n(h){return h&&h.__esModule?h:{default:h}}function o(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function l(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(m){var p=m.substr(0,12).split("").map(function(b){return+b}).reduce(function(b,x,y){return y%2?b+x*3:b+x},0);return(10-p%10)%10},u=(function(h){c(m,h);function m(p,b){o(this,m),p.search(/^[0-9]{12}$/)!==-1&&(p+=d(p));var x=l(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,p,b));return x.lastChar=b.lastChar,x}return r(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===d(this.data)}},{key:"leftText",value:function(){return e(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var b=this.data.substr(1,6),x=t.EAN13_STRUCTURE[this.data[0]];return e(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"leftEncode",this).call(this,b,x)}},{key:"rightText",value:function(){return e(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var b=this.data.substr(7,6);return e(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"rightEncode",this).call(this,b,"RRRRRR")}},{key:"encodeGuarded",value:function(){var b=e(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(b.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(b.push({data:"00"}),b.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),b}}]),m})(a.default);return gv.default=u,gv}var bv={},hO;function _me(){if(hO)return bv;hO=1,Object.defineProperty(bv,"__esModule",{value:!0});var r=(function(){function u(h,m){for(var p=0;p<m.length;p++){var b=m[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,b.key,b)}}return function(h,m,p){return m&&u(h.prototype,m),p&&u(h,p),h}})(),e=function u(h,m,p){h===null&&(h=Function.prototype);var b=Object.getOwnPropertyDescriptor(h,m);if(b===void 0){var x=Object.getPrototypeOf(h);return x===null?void 0:u(x,m,p)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(p)}},t=iV(),s=a(t);function a(u){return u&&u.__esModule?u:{default:u}}function n(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}function o(u,h){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:u}function l(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);u.prototype=Object.create(h&&h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(u,h):u.__proto__=h)}var c=function(h){var m=h.substr(0,7).split("").map(function(p){return+p}).reduce(function(p,b,x){return x%2?p+b:p+b*3},0);return(10-m%10)%10},d=(function(u){l(h,u);function h(m,p){return n(this,h),m.search(/^[0-9]{7}$/)!==-1&&(m+=c(m)),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,m,p))}return r(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===c(this.data)}},{key:"leftText",value:function(){return e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var p=this.data.substr(0,4);return e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"leftEncode",this).call(this,p,"LLLL")}},{key:"rightText",value:function(){return e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var p=this.data.substr(4,4);return e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"rightEncode",this).call(this,p,"RRRR")}}]),h})(s.default);return bv.default=d,bv}var yv={},fO;function Nme(){if(fO)return yv;fO=1,Object.defineProperty(yv,"__esModule",{value:!0});var r=(function(){function m(p,b){for(var x=0;x<b.length;x++){var y=b[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,b,x){return b&&m(p.prototype,b),x&&m(p,x),p}})(),e=ob(),t=lb(),s=o(t),a=Li(),n=o(a);function o(m){return m&&m.__esModule?m:{default:m}}function l(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function c(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var u=function(p){var b=p.split("").map(function(x){return+x}).reduce(function(x,y,w){return w%2?x+y*9:x+y*3},0);return b%10},h=(function(m){d(p,m);function p(b,x){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b,x))}return r(p,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var x=e.EAN5_STRUCTURE[u(this.data)];return{data:"1011"+(0,s.default)(this.data,x,"01"),text:this.text}}}]),p})(n.default);return yv.default=h,yv}var vv={},mO;function Sme(){if(mO)return vv;mO=1,Object.defineProperty(vv,"__esModule",{value:!0});var r=(function(){function h(m,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,p,b){return p&&h(m.prototype,p),b&&h(m,b),m}})(),e=ob(),t=lb(),s=o(t),a=Li(),n=o(a);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function c(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var u=(function(h){d(m,h);function m(p,b){return l(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,p,b))}return r(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var b=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,s.default)(this.data,b,"01"),text:this.text}}}]),m})(n.default);return vv.default=u,vv}var Pg={},gO;function oV(){if(gO)return Pg;gO=1,Object.defineProperty(Pg,"__esModule",{value:!0});var r=(function(){function h(m,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,p,b){return p&&h(m.prototype,p),b&&h(m,b),m}})();Pg.checksum=u;var e=lb(),t=n(e),s=Li(),a=n(s);function n(h){return h&&h.__esModule?h:{default:h}}function o(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function l(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=(function(h){c(m,h);function m(p,b){o(this,m),p.search(/^[0-9]{11}$/)!==-1&&(p+=u(p));var x=l(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,p,b));return x.displayValue=b.displayValue,b.fontSize>b.width*10?x.fontSize=b.width*10:x.fontSize=b.fontSize,x.guardHeight=b.height+x.fontSize/2+b.textMargin,x}return r(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==u(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var b="";return b+="101",b+=(0,t.default)(this.data.substr(0,6),"LLLLLL"),b+="01010",b+=(0,t.default)(this.data.substr(6,6),"RRRRRR"),b+="101",{data:b,text:this.text}}},{key:"guardedEncoding",value:function(){var b=[];return this.displayValue&&b.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),b.push({data:"101"+(0,t.default)(this.data[0],"L"),options:{height:this.guardHeight}}),b.push({data:(0,t.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),b.push({data:"01010",options:{height:this.guardHeight}}),b.push({data:(0,t.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),b.push({data:(0,t.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&b.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),b}}]),m})(a.default);function u(h){var m=0,p;for(p=1;p<11;p+=2)m+=parseInt(h[p]);for(p=0;p<11;p+=2)m+=parseInt(h[p])*3;return(10-m%10)%10}return Pg.default=d,Pg}var wv={},pO;function jme(){if(pO)return wv;pO=1,Object.defineProperty(wv,"__esModule",{value:!0});var r=(function(){function b(x,y){for(var w=0;w<y.length;w++){var k=y[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,y,w){return y&&b(x.prototype,y),w&&b(x,w),x}})(),e=lb(),t=o(e),s=Li(),a=o(s),n=oV();function o(b){return b&&b.__esModule?b:{default:b}}function l(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function c(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function d(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var u=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],h=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],m=(function(b){d(x,b);function x(y,w){l(this,x);var k=c(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,w));if(k.isValid=!1,y.search(/^[0-9]{6}$/)!==-1)k.middleDigits=y,k.upcA=p(y,"0"),k.text=w.text||""+k.upcA[0]+y+k.upcA[k.upcA.length-1],k.isValid=!0;else if(y.search(/^[01][0-9]{7}$/)!==-1)if(k.middleDigits=y.substring(1,y.length-1),k.upcA=p(k.middleDigits,y[0]),k.upcA[k.upcA.length-1]===y[y.length-1])k.isValid=!0;else return c(k);else return c(k);return k.displayValue=w.displayValue,w.fontSize>w.width*10?k.fontSize=w.width*10:k.fontSize=w.fontSize,k.guardHeight=w.height+k.fontSize/2+w.textMargin,k}return r(x,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var w="";return w+="101",w+=this.encodeMiddleDigits(),w+="010101",{data:w,text:this.text}}},{key:"guardedEncoding",value:function(){var w=[];return this.displayValue&&w.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),w.push({data:"101",options:{height:this.guardHeight}}),w.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),w.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&w.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),w}},{key:"encodeMiddleDigits",value:function(){var w=this.upcA[0],k=this.upcA[this.upcA.length-1],N=h[parseInt(k)][parseInt(w)];return(0,t.default)(this.middleDigits,N)}}]),x})(a.default);function p(b,x){for(var y=parseInt(b[b.length-1]),w=u[y],k="",N=0,T=0;T<w.length;T++){var E=w[T];E==="X"?k+=b[N++]:k+=E}return k=""+x+k,""+k+(0,n.checksum)(k)}return wv.default=m,wv}var xO;function Eme(){if(xO)return Un;xO=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.UPCE=Un.UPC=Un.EAN2=Un.EAN5=Un.EAN8=Un.EAN13=void 0;var r=kme(),e=m(r),t=_me(),s=m(t),a=Nme(),n=m(a),o=Sme(),l=m(o),c=oV(),d=m(c),u=jme(),h=m(u);function m(p){return p&&p.__esModule?p:{default:p}}return Un.EAN13=e.default,Un.EAN8=s.default,Un.EAN5=n.default,Un.EAN2=l.default,Un.UPC=d.default,Un.UPCE=h.default,Un}var Iu={},kv={},zf={},bO;function Ame(){return bO||(bO=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.START_BIN="1010",zf.END_BIN="11101",zf.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),zf}var yO;function lV(){if(yO)return kv;yO=1,Object.defineProperty(kv,"__esModule",{value:!0});var r=(function(){function d(u,h){for(var m=0;m<h.length;m++){var p=h[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,h,m){return h&&d(u.prototype,h),m&&d(u,m),u}})(),e=Ame(),t=Li(),s=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function n(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(){return n(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return r(u,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var m=this,p=this.data.match(/.{2}/g).map(function(b){return m.encodePair(b)}).join("");return{data:e.START_BIN+p+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(m){var p=e.BINARIES[m[1]];return e.BINARIES[m[0]].split("").map(function(b,x){return(b==="1"?"111":"1")+(p[x]==="1"?"000":"0")}).join("")}}]),u})(s.default);return kv.default=c,kv}var _v={},vO;function Tme(){if(vO)return _v;vO=1,Object.defineProperty(_v,"__esModule",{value:!0});var r=(function(){function d(u,h){for(var m=0;m<h.length;m++){var p=h[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,h,m){return h&&d(u.prototype,h),m&&d(u,m),u}})(),e=lV(),t=s(e);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function n(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function o(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var l=function(u){var h=u.substr(0,13).split("").map(function(m){return parseInt(m,10)}).reduce(function(m,p,b){return m+p*(3-b%2*2)},0);return Math.ceil(h/10)*10-h},c=(function(d){o(u,d);function u(h,m){return a(this,u),h.search(/^[0-9]{13}$/)!==-1&&(h+=l(h)),n(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h,m))}return r(u,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===l(this.data)}}]),u})(t.default);return _v.default=c,_v}var wO;function Cme(){if(wO)return Iu;wO=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.ITF14=Iu.ITF=void 0;var r=lV(),e=a(r),t=Tme(),s=a(t);function a(n){return n&&n.__esModule?n:{default:n}}return Iu.ITF=e.default,Iu.ITF14=s.default,Iu}var Ni={},Nv={},kO;function cb(){if(kO)return Nv;kO=1,Object.defineProperty(Nv,"__esModule",{value:!0});var r=(function(){function d(u,h){for(var m=0;m<h.length;m++){var p=h[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,h,m){return h&&d(u.prototype,h),m&&d(u,m),u}})(),e=Li(),t=s(e);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function n(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function o(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var l=(function(d){o(u,d);function u(h,m){return a(this,u),n(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h,m))}return r(u,[{key:"encode",value:function(){for(var m="110",p=0;p<this.data.length;p++){var b=parseInt(this.data[p]),x=b.toString(2);x=c(x,4-x.length);for(var y=0;y<x.length;y++)m+=x[y]=="0"?"100":"110"}return m+="1001",{data:m,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),u})(t.default);function c(d,u){for(var h=0;h<u;h++)d="0"+d;return d}return Nv.default=l,Nv}var Sv={},Rg={},_O;function Z2(){if(_O)return Rg;_O=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.mod10=r,Rg.mod11=e;function r(t){for(var s=0,a=0;a<t.length;a++){var n=parseInt(t[a]);(a+t.length)%2===0?s+=n:s+=n*2%10+Math.floor(n*2/10)}return(10-s%10)%10}function e(t){for(var s=0,a=[2,3,4,5,6,7],n=0;n<t.length;n++){var o=parseInt(t[t.length-1-n]);s+=a[n%a.length]*o}return(11-s%11)%11}return Rg}var NO;function Pme(){if(NO)return Sv;NO=1,Object.defineProperty(Sv,"__esModule",{value:!0});var r=cb(),e=s(r),t=Z2();function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function n(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,h){return a(this,d),n(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u+(0,t.mod10)(u),h))}return d})(e.default);return Sv.default=l,Sv}var jv={},SO;function Rme(){if(SO)return jv;SO=1,Object.defineProperty(jv,"__esModule",{value:!0});var r=cb(),e=s(r),t=Z2();function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function n(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,h){return a(this,d),n(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u+(0,t.mod11)(u),h))}return d})(e.default);return jv.default=l,jv}var Ev={},jO;function Ime(){if(jO)return Ev;jO=1,Object.defineProperty(Ev,"__esModule",{value:!0});var r=cb(),e=s(r),t=Z2();function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function n(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,h){return a(this,d),u+=(0,t.mod10)(u),u+=(0,t.mod10)(u),n(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,h))}return d})(e.default);return Ev.default=l,Ev}var Av={},EO;function Dme(){if(EO)return Av;EO=1,Object.defineProperty(Av,"__esModule",{value:!0});var r=cb(),e=s(r),t=Z2();function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function n(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,h){return a(this,d),u+=(0,t.mod11)(u),u+=(0,t.mod10)(u),n(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,h))}return d})(e.default);return Av.default=l,Av}var AO;function Ome(){if(AO)return Ni;AO=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.MSI1110=Ni.MSI1010=Ni.MSI11=Ni.MSI10=Ni.MSI=void 0;var r=cb(),e=u(r),t=Pme(),s=u(t),a=Rme(),n=u(a),o=Ime(),l=u(o),c=Dme(),d=u(c);function u(h){return h&&h.__esModule?h:{default:h}}return Ni.MSI=e.default,Ni.MSI10=s.default,Ni.MSI11=n.default,Ni.MSI1010=l.default,Ni.MSI1110=d.default,Ni}var Ig={},TO;function Mme(){if(TO)return Ig;TO=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.pharmacode=void 0;var r=(function(){function c(d,u){for(var h=0;h<u.length;h++){var m=u[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,h){return u&&c(d.prototype,u),h&&c(d,h),d}})(),e=Li(),t=s(e);function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function n(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,h){a(this,d);var m=n(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,h));return m.number=parseInt(u,10),m}return r(d,[{key:"encode",value:function(){for(var h=this.number,m="";!isNaN(h)&&h!=0;)h%2===0?(m="11100"+m,h=(h-2)/2):(m="100"+m,h=(h-1)/2);return m=m.slice(0,-2),{data:m,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),d})(t.default);return Ig.pharmacode=l,Ig}var Dg={},CO;function Fme(){if(CO)return Dg;CO=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.codabar=void 0;var r=(function(){function c(d,u){for(var h=0;h<u.length;h++){var m=u[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,h){return u&&c(d.prototype,u),h&&c(d,h),d}})(),e=Li(),t=s(e);function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function n(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,h){a(this,d),u.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(u="A"+u+"A");var m=n(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u.toUpperCase(),h));return m.text=m.options.text||m.text.replace(/[A-D]/g,""),m}return r(d,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var h=[],m=this.getEncodings(),p=0;p<this.data.length;p++)h.push(m[this.data.charAt(p)]),p!==this.data.length-1&&h.push("0");return{text:this.text,data:h.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),d})(t.default);return Dg.codabar=l,Dg}var Du={},Tv={},Vf={},PO;function Lme(){return PO||(PO=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],Vf.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Vf.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Vf}var RO;function cV(){if(RO)return Tv;RO=1,Object.defineProperty(Tv,"__esModule",{value:!0});var r=(function(){function d(u,h){for(var m=0;m<h.length;m++){var p=h[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,h,m){return h&&d(u.prototype,h),m&&d(u,m),u}})(),e=Lme(),t=Li(),s=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function n(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=(function(d){l(u,d);function u(h,m){return n(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h,m))}return r(u,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var m=this.data.split("").flatMap(function(y){return e.MULTI_SYMBOLS[y]||y}),p=m.map(function(y){return u.getEncoding(y)}).join(""),b=u.checksum(m,20),x=u.checksum(m.concat(b),15);return{text:this.text,data:u.getEncoding("")+p+u.getEncoding(b)+u.getEncoding(x)+u.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(m){return e.BINARIES[u.symbolValue(m)]}},{key:"getSymbol",value:function(m){return e.SYMBOLS[m]}},{key:"symbolValue",value:function(m){return e.SYMBOLS.indexOf(m)}},{key:"checksum",value:function(m,p){var b=m.slice().reverse().reduce(function(x,y,w){var k=w%p+1;return x+u.symbolValue(y)*k},0);return u.getSymbol(b%47)}}]),u})(s.default);return Tv.default=c,Tv}var Cv={},IO;function Bme(){if(IO)return Cv;IO=1,Object.defineProperty(Cv,"__esModule",{value:!0});var r=(function(){function c(d,u){for(var h=0;h<u.length;h++){var m=u[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,h){return u&&c(d.prototype,u),h&&c(d,h),d}})(),e=cV(),t=s(e);function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function n(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,h){return a(this,d),n(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,h))}return r(d,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),d})(t.default);return Cv.default=l,Cv}var DO;function Ume(){if(DO)return Du;DO=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.CODE93FullASCII=Du.CODE93=void 0;var r=cV(),e=a(r),t=Bme(),s=a(t);function a(n){return n&&n.__esModule?n:{default:n}}return Du.CODE93=e.default,Du.CODE93FullASCII=s.default,Du}var Og={},OO;function zme(){if(OO)return Og;OO=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.GenericBarcode=void 0;var r=(function(){function c(d,u){for(var h=0;h<u.length;h++){var m=u[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,h){return u&&c(d.prototype,u),h&&c(d,h),d}})(),e=Li(),t=s(e);function s(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function n(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function o(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=(function(c){o(d,c);function d(u,h){return a(this,d),n(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,h))}return r(d,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),d})(t.default);return Og.GenericBarcode=l,Og}var MO;function Vme(){if(MO)return ov;MO=1,Object.defineProperty(ov,"__esModule",{value:!0});var r=gme(),e=wme(),t=Eme(),s=Cme(),a=Ome(),n=Mme(),o=Fme(),l=Ume(),c=zme();return ov.default={CODE39:r.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:t.EAN13,EAN8:t.EAN8,EAN5:t.EAN5,EAN2:t.EAN2,UPC:t.UPC,UPCE:t.UPCE,ITF14:s.ITF14,ITF:s.ITF,MSI:a.MSI,MSI10:a.MSI10,MSI11:a.MSI11,MSI1010:a.MSI1010,MSI1110:a.MSI1110,pharmacode:n.pharmacode,codabar:o.codabar,CODE93:l.CODE93,CODE93FullASCII:l.CODE93FullASCII,GenericBarcode:c.GenericBarcode},ov}var Pv={},FO;function Q2(){if(FO)return Pv;FO=1,Object.defineProperty(Pv,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e};return Pv.default=function(e,t){return r({},e,t)},Pv}var Rv={},LO;function Hme(){if(LO)return Rv;LO=1,Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.default=r;function r(e){var t=[];function s(a){if(Array.isArray(a))for(var n=0;n<a.length;n++)s(a[n]);else a.text=a.text||"",a.data=a.data||"",t.push(a)}return s(e),t}return Rv}var Iv={},BO;function $me(){if(BO)return Iv;BO=1,Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.default=r;function r(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return Iv}var Dv={},Ov={},Mv={},UO;function dV(){if(UO)return Mv;UO=1,Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.default=r;function r(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var s in t)t.hasOwnProperty(s)&&(s=t[s],typeof e[s]=="string"&&(e[s]=parseInt(e[s],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return Mv}var Fv={},zO;function uV(){if(zO)return Fv;zO=1,Object.defineProperty(Fv,"__esModule",{value:!0});var r={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return Fv.default=r,Fv}var VO;function Wme(){if(VO)return Ov;VO=1,Object.defineProperty(Ov,"__esModule",{value:!0});var r=dV(),e=a(r),t=uV(),s=a(t);function a(o){return o&&o.__esModule?o:{default:o}}function n(o){var l={};for(var c in s.default)s.default.hasOwnProperty(c)&&(o.hasAttribute("jsbarcode-"+c.toLowerCase())&&(l[c]=o.getAttribute("jsbarcode-"+c.toLowerCase())),o.hasAttribute("data-"+c.toLowerCase())&&(l[c]=o.getAttribute("data-"+c.toLowerCase())));return l.value=o.getAttribute("jsbarcode-value")||o.getAttribute("data-value"),l=(0,e.default)(l),l}return Ov.default=n,Ov}var Lv={},Bv={},Si={},HO;function hV(){if(HO)return Si;HO=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.getTotalWidthOfEncodings=Si.calculateEncodingAttributes=Si.getBarcodePadding=Si.getEncodingHeight=Si.getMaximumHeightOfEncodings=void 0;var r=Q2(),e=t(r);function t(d){return d&&d.__esModule?d:{default:d}}function s(d,u){return u.height+(u.displayValue&&d.text.length>0?u.fontSize+u.textMargin:0)+u.marginTop+u.marginBottom}function a(d,u,h){if(h.displayValue&&u<d){if(h.textAlign=="center")return Math.floor((d-u)/2);if(h.textAlign=="left")return 0;if(h.textAlign=="right")return Math.floor(d-u)}return 0}function n(d,u,h){for(var m=0;m<d.length;m++){var p=d[m],b=(0,e.default)(u,p.options),x;b.displayValue?x=c(p.text,b,h):x=0;var y=p.data.length*b.width;p.width=Math.ceil(Math.max(x,y)),p.height=s(p,b),p.barcodePadding=a(x,y,b)}}function o(d){for(var u=0,h=0;h<d.length;h++)u+=d[h].width;return u}function l(d){for(var u=0,h=0;h<d.length;h++)d[h].height>u&&(u=d[h].height);return u}function c(d,u,h){var m;if(h)m=h;else if(typeof document<"u")m=document.createElement("canvas").getContext("2d");else return 0;m.font=u.fontOptions+" "+u.fontSize+"px "+u.font;var p=m.measureText(d);if(!p)return 0;var b=p.width;return b}return Si.getMaximumHeightOfEncodings=l,Si.getEncodingHeight=s,Si.getBarcodePadding=a,Si.calculateEncodingAttributes=n,Si.getTotalWidthOfEncodings=o,Si}var $O;function qme(){if($O)return Bv;$O=1,Object.defineProperty(Bv,"__esModule",{value:!0});var r=(function(){function l(c,d){for(var u=0;u<d.length;u++){var h=d[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,d,u){return d&&l(c.prototype,d),u&&l(c,u),c}})(),e=Q2(),t=a(e),s=hV();function a(l){return l&&l.__esModule?l:{default:l}}function n(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,d,u){n(this,l),this.canvas=c,this.encodings=d,this.options=u}return r(l,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var d=0;d<this.encodings.length;d++){var u=(0,t.default)(this.options,this.encodings[d].options);this.drawCanvasBarcode(u,this.encodings[d]),this.drawCanvasText(u,this.encodings[d]),this.moveCanvasDrawing(this.encodings[d])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var d=this.canvas.getContext("2d");d.save(),(0,s.calculateEncodingAttributes)(this.encodings,this.options,d);var u=(0,s.getTotalWidthOfEncodings)(this.encodings),h=(0,s.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=u+this.options.marginLeft+this.options.marginRight,this.canvas.height=h,d.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(d.fillStyle=this.options.background,d.fillRect(0,0,this.canvas.width,this.canvas.height)),d.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(d,u){var h=this.canvas.getContext("2d"),m=u.data,p;d.textPosition=="top"?p=d.marginTop+d.fontSize+d.textMargin:p=d.marginTop,h.fillStyle=d.lineColor;for(var b=0;b<m.length;b++){var x=b*d.width+u.barcodePadding;m[b]==="1"?h.fillRect(x,p,d.width,d.height):m[b]&&h.fillRect(x,p,d.width,d.height*m[b])}}},{key:"drawCanvasText",value:function(d,u){var h=this.canvas.getContext("2d"),m=d.fontOptions+" "+d.fontSize+"px "+d.font;if(d.displayValue){var p,b;d.textPosition=="top"?b=d.marginTop+d.fontSize-d.textMargin:b=d.height+d.textMargin+d.marginTop+d.fontSize,h.font=m,d.textAlign=="left"||u.barcodePadding>0?(p=0,h.textAlign="left"):d.textAlign=="right"?(p=u.width-1,h.textAlign="right"):(p=u.width/2,h.textAlign="center"),h.fillText(u.text,p,b)}}},{key:"moveCanvasDrawing",value:function(d){var u=this.canvas.getContext("2d");u.translate(d.width,0)}},{key:"restoreCanvas",value:function(){var d=this.canvas.getContext("2d");d.restore()}}]),l})();return Bv.default=o,Bv}var Uv={},WO;function Gme(){if(WO)return Uv;WO=1,Object.defineProperty(Uv,"__esModule",{value:!0});var r=(function(){function c(d,u){for(var h=0;h<u.length;h++){var m=u[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,h){return u&&c(d.prototype,u),h&&c(d,h),d}})(),e=Q2(),t=a(e),s=hV();function a(c){return c&&c.__esModule?c:{default:c}}function n(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o="http://www.w3.org/2000/svg",l=(function(){function c(d,u,h){n(this,c),this.svg=d,this.encodings=u,this.options=h,this.document=h.xmlDocument||document}return r(c,[{key:"render",value:function(){var u=this.options.marginLeft;this.prepareSVG();for(var h=0;h<this.encodings.length;h++){var m=this.encodings[h],p=(0,t.default)(this.options,m.options),b=this.createGroup(u,p.marginTop,this.svg);this.setGroupOptions(b,p),this.drawSvgBarcode(b,p,m),this.drawSVGText(b,p,m),u+=m.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,s.calculateEncodingAttributes)(this.encodings,this.options);var u=(0,s.getTotalWidthOfEncodings)(this.encodings),h=(0,s.getMaximumHeightOfEncodings)(this.encodings),m=u+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(m,h),this.options.background&&this.drawRect(0,0,m,h,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(u,h,m){var p=m.data,b;h.textPosition=="top"?b=h.fontSize+h.textMargin:b=0;for(var x=0,y=0,w=0;w<p.length;w++)y=w*h.width+m.barcodePadding,p[w]==="1"?x++:x>0&&(this.drawRect(y-h.width*x,b,h.width*x,h.height,u),x=0);x>0&&this.drawRect(y-h.width*(x-1),b,h.width*x,h.height,u)}},{key:"drawSVGText",value:function(u,h,m){var p=this.document.createElementNS(o,"text");if(h.displayValue){var b,x;p.setAttribute("style","font:"+h.fontOptions+" "+h.fontSize+"px "+h.font),h.textPosition=="top"?x=h.fontSize-h.textMargin:x=h.height+h.textMargin+h.fontSize,h.textAlign=="left"||m.barcodePadding>0?(b=0,p.setAttribute("text-anchor","start")):h.textAlign=="right"?(b=m.width-1,p.setAttribute("text-anchor","end")):(b=m.width/2,p.setAttribute("text-anchor","middle")),p.setAttribute("x",b),p.setAttribute("y",x),p.appendChild(this.document.createTextNode(m.text)),u.appendChild(p)}}},{key:"setSvgAttributes",value:function(u,h){var m=this.svg;m.setAttribute("width",u+"px"),m.setAttribute("height",h+"px"),m.setAttribute("x","0px"),m.setAttribute("y","0px"),m.setAttribute("viewBox","0 0 "+u+" "+h),m.setAttribute("xmlns",o),m.setAttribute("version","1.1"),m.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(u,h,m){var p=this.document.createElementNS(o,"g");return p.setAttribute("transform","translate("+u+", "+h+")"),m.appendChild(p),p}},{key:"setGroupOptions",value:function(u,h){u.setAttribute("style","fill:"+h.lineColor+";")}},{key:"drawRect",value:function(u,h,m,p,b){var x=this.document.createElementNS(o,"rect");return x.setAttribute("x",u),x.setAttribute("y",h),x.setAttribute("width",m),x.setAttribute("height",p),b.appendChild(x),x}}]),c})();return Uv.default=l,Uv}var zv={},qO;function Yme(){if(qO)return zv;qO=1,Object.defineProperty(zv,"__esModule",{value:!0});var r=(function(){function s(a,n){for(var o=0;o<n.length;o++){var l=n[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}return function(a,n,o){return n&&s(a.prototype,n),o&&s(a,o),a}})();function e(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}var t=(function(){function s(a,n,o){e(this,s),this.object=a,this.encodings=n,this.options=o}return r(s,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),s})();return zv.default=t,zv}var GO;function Xme(){if(GO)return Lv;GO=1,Object.defineProperty(Lv,"__esModule",{value:!0});var r=qme(),e=o(r),t=Gme(),s=o(t),a=Yme(),n=o(a);function o(l){return l&&l.__esModule?l:{default:l}}return Lv.default={CanvasRenderer:e.default,SVGRenderer:s.default,ObjectRenderer:n.default},Lv}var Hf={},YO;function fV(){if(YO)return Hf;YO=1,Object.defineProperty(Hf,"__esModule",{value:!0});function r(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function e(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function t(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var s=(function(o){t(l,o);function l(c,d){r(this,l);var u=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return u.name="InvalidInputException",u.symbology=c,u.input=d,u.message='"'+u.input+'" is not a valid input for '+u.symbology,u}return l})(Error),a=(function(o){t(l,o);function l(){r(this,l);var c=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return c.name="InvalidElementException",c.message="Not supported type to render on",c}return l})(Error),n=(function(o){t(l,o);function l(){r(this,l);var c=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return c.name="NoElementException",c.message="No element to render on.",c}return l})(Error);return Hf.InvalidInputException=s,Hf.InvalidElementException=a,Hf.NoElementException=n,Hf}var XO;function Kme(){if(XO)return Dv;XO=1,Object.defineProperty(Dv,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e=Wme(),t=o(e),s=Xme(),a=o(s),n=fV();function o(u){return u&&u.__esModule?u:{default:u}}function l(u){if(typeof u=="string")return c(u);if(Array.isArray(u)){for(var h=[],m=0;m<u.length;m++)h.push(l(u[m]));return h}else{if(typeof HTMLCanvasElement<"u"&&u instanceof HTMLImageElement)return d(u);if(u&&u.nodeName&&u.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&u instanceof SVGElement)return{element:u,options:(0,t.default)(u),renderer:a.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&u instanceof HTMLCanvasElement)return{element:u,options:(0,t.default)(u),renderer:a.default.CanvasRenderer};if(u&&u.getContext)return{element:u,renderer:a.default.CanvasRenderer};if(u&&(typeof u>"u"?"undefined":r(u))==="object"&&!u.nodeName)return{element:u,renderer:a.default.ObjectRenderer};throw new n.InvalidElementException}}function c(u){var h=document.querySelectorAll(u);if(h.length!==0){for(var m=[],p=0;p<h.length;p++)m.push(l(h[p]));return m}}function d(u){var h=document.createElement("canvas");return{element:h,options:(0,t.default)(u),renderer:a.default.CanvasRenderer,afterRender:function(){u.setAttribute("src",h.toDataURL())}}}return Dv.default=l,Dv}var Vv={},KO;function Zme(){if(KO)return Vv;KO=1,Object.defineProperty(Vv,"__esModule",{value:!0});var r=(function(){function s(a,n){for(var o=0;o<n.length;o++){var l=n[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}return function(a,n,o){return n&&s(a.prototype,n),o&&s(a,o),a}})();function e(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}var t=(function(){function s(a){e(this,s),this.api=a}return r(s,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var o=n.apply(void 0,arguments);return this.api._options.valid(!0),o}catch(l){return this.handleCatch(l),this.api}}}]),s})();return Vv.default=t,Vv}var lS,ZO;function Qme(){if(ZO)return lS;ZO=1;var r=Vme(),e=w(r),t=Q2(),s=w(t),a=Hme(),n=w(a),o=$me(),l=w(o),c=Kme(),d=w(c),u=dV(),h=w(u),m=Zme(),p=w(m),b=fV(),x=uV(),y=w(x);function w(P){return P&&P.__esModule?P:{default:P}}var k=function(){},N=function(O,M,L){var B=new k;if(typeof O>"u")throw Error("No element to render on was provided.");return B._renderProperties=(0,d.default)(O),B._encodings=[],B._options=y.default,B._errorHandler=new p.default(B),typeof M<"u"&&(L=L||{},L.format||(L.format=S()),B.options(L)[L.format](M,L).render()),B};N.getModule=function(P){return e.default[P]};for(var T in e.default)e.default.hasOwnProperty(T)&&E(e.default,T);function E(P,O){k.prototype[O]=k.prototype[O.toUpperCase()]=k.prototype[O.toLowerCase()]=function(M,L){var B=this;return B._errorHandler.wrapBarcodeCall(function(){L.text=typeof L.text>"u"?void 0:""+L.text;var G=(0,s.default)(B._options,L);G=(0,h.default)(G);var X=P[O],H=I(M,X,G);return B._encodings.push(H),B})}}function I(P,O,M){P=""+P;var L=new O(P,M);if(!L.valid())throw new b.InvalidInputException(L.constructor.name,P);var B=L.encode();B=(0,n.default)(B);for(var G=0;G<B.length;G++)B[G].options=(0,s.default)(M,B[G].options);return B}function S(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}k.prototype.options=function(P){return this._options=(0,s.default)(this._options,P),this},k.prototype.blank=function(P){var O=new Array(P+1).join("0");return this._encodings.push({data:O}),this},k.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var P;for(var O in this._renderProperties){P=this._renderProperties[O];var M=(0,s.default)(this._options,P.options);M.format=="auto"&&(M.format=S()),this._errorHandler.wrapBarcodeCall(function(){var L=M.value,B=e.default[M.format.toUpperCase()],G=I(L,B,M);A(P,G,M)})}}},k.prototype.render=function(){if(!this._renderProperties)throw new b.NoElementException;if(Array.isArray(this._renderProperties))for(var P=0;P<this._renderProperties.length;P++)A(this._renderProperties[P],this._encodings,this._options);else A(this._renderProperties,this._encodings,this._options);return this},k.prototype._defaults=y.default;function A(P,O,M){O=(0,n.default)(O);for(var L=0;L<O.length;L++)O[L].options=(0,s.default)(M,O[L].options),(0,l.default)(O[L].options);(0,l.default)(M);var B=P.renderer,G=new B(P.element,O,M);G.render(),P.afterRender&&P.afterRender()}return typeof window<"u"&&(window.JsBarcode=N),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(P,O){var M=[];return jQuery(this).each(function(){M.push(this)}),N(M,P,O)}),lS=N,lS}var Jme=Qme();const mV=Px(Jme);function e0e({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-gray-200 hover:text-white",children:""})]},t.id))})}function t0e(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>{e(n=>n.filter(o=>o.id!==a))}}}function r0e(){const{alerts:r,addAlert:e,removeAlert:t}=t0e(),[s,a]=R.useState(null),[n,o]=R.useState(!0),l=Ra(),c=R.useRef(null);return R.useEffect(()=>{(async()=>{try{let h=new URLSearchParams(l.search).get("orderId")||l.state?.order?.id;if(console.log("Attempting to fetch order with ID:",h),!h){console.warn("No orderId provided in query params or state"),e("Order not found. Please check your link or contact support.","error"),o(!1);return}if(!h.startsWith("order-")){console.warn("Invalid orderId format:",h),e("Invalid order ID. Please contact support.","error"),o(!1);return}let m=null,p=3;for(;p>0;)try{const b=qe(ve,"orders",h),x=await wt(b);if(x.exists()){m={id:x.id,...x.data()},console.log("Order found:",m);break}console.warn(`Order ${h} not found on attempt ${4-p}`),p--,p>0&&await new Promise(y=>setTimeout(y,1e3))}catch(b){if(console.error("Firestore fetch error:",b),p--,p===0)throw b;await new Promise(x=>setTimeout(x,1e3))}if(!m&&h.includes("-")){const b=h.split("-").slice(0,2).join("-");console.log("Trying base orderId:",b);const x=Lt(Xe(ve,"orders"),Tt("id","==",b)),y=await xt(x);if(!y.empty){const w=y.docs[0];m={id:w.id,...w.data()},console.log("Found order with base ID:",m),h=w.id}}if(!m&&l.state?.order&&(console.log("Using state.order as fallback:",l.state.order),m={...l.state.order,id:h},e("Order loaded from session. Some details may be incomplete.","info")),!m){console.error("No order data found for ID:",h),e("Order not found. Please contact support at support@foremade.com.","error"),o(!1);return}a(m)}catch(u){console.error("Error fetching order:",{message:u.message,stack:u.stack}),e("Failed to load order. Please try again or contact support.","error")}finally{o(!1)}})()},[l,e]),R.useEffect(()=>{if(s&&c.current)try{const d=s.id.replace("order-","").slice(0,8);mV(c.current,d,{format:"CODE128",height:30,width:1,displayValue:!0,fontSize:12,margin:5,background:"transparent"})}catch(d){console.error("Error generating barcode:",d),e("Failed to generate barcode: "+d.message,"error")}},[s,e]),n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:i.jsxs("div",{className:"flex gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})}):s?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 py-8",children:[i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-check-circle text-green-500"}),"Order Confirmation"]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:["Order #",s.id]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Thank you for your purchase! Your order has been successfully placed."}),i.jsx("div",{className:"space-y-4",children:s.items.map((d,u)=>i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[i.jsx("img",{src:d.imageUrls?.[0]||"https://via.placeholder.com/150",alt:d.name||"Product",className:"w-16 h-16 object-cover rounded",onError:h=>{h.target.src="https://via.placeholder.com/150"}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-100",children:d.name||"Unknown Product"}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Quantity: ",d.quantity||1]}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Price: ",s.currency==="gbp"?"":"",((d.price||0)*(d.quantity||1)).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},u))}),i.jsxs("div",{className:"mt-6 border-t border-gray-200 dark:border-gray-600 pt-4",children:[i.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-300",children:[i.jsx("span",{children:"Subtotal"}),i.jsxs("span",{children:[s.currency==="gbp"?"":"",(s.totalAmount||s.total||0).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),i.jsxs("div",{className:"flex justify-between font-semibold text-gray-800 dark:text-gray-100 mt-2",children:[i.jsx("span",{children:"Total"}),i.jsxs("span",{children:[s.currency==="gbp"?"":"",(s.totalAmount||s.total||0).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Shipping Details"}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:[s.shippingDetails?.name||"Not provided",i.jsx("br",{}),s.shippingDetails?.address||"Not provided",i.jsx("br",{}),s.shippingDetails?.city||"",s.shippingDetails?.city&&s.shippingDetails?.postalCode?", ":"",s.shippingDetails?.postalCode||"",i.jsx("br",{}),s.shippingDetails?.country||"Not provided",i.jsx("br",{}),i.jsx("strong",{children:"Email:"})," ",s.shippingDetails?.email||"Not provided",i.jsx("br",{}),i.jsx("strong",{children:"Phone:"})," ",s.shippingDetails?.phone||"Not provided"]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Order Barcode"}),i.jsx("canvas",{ref:c,className:"w-full bg-white dark:bg-gray-800 rounded-lg"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-xs mt-1",children:["Barcode Value: ",s.id.replace("order-","").slice(0,8)]})]})]})]}),i.jsx(e0e,{alerts:r,removeAlert:t})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:i.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-error-circle text-4xl text-red-500 mb-2"}),i.jsxs("p",{children:["Order not found. Please contact ",i.jsx("a",{href:"mailto:support@foremade.com",className:"text-blue-600 hover:underline",children:"support@foremade.com"}),"."]})]})})}function ws(){const[r,e]=R.useState(!1),[t,s]=R.useState(""),a=()=>{e(!r)},n=R.useCallback(Hh(h=>{s(h)},300),[]),o=h=>{n(h.target.value)};let l="buyer",c=!1;try{const h=JSON.parse(localStorage.getItem("userData"));h&&h.role&&(l=h.role,(h.role==="proseller"||h.isProSeller===!0)&&(c=!0))}catch{}const u=[{to:"/dashboard",label:"Dashboard",icon:uE,category:"Dashboard"},{to:"/sellers/orders",label:"Orders",icon:dhe,category:"Order Management"},{to:"/sellers/products",label:"Products List",icon:Iz,category:"Product Management"},{to:"/products-gallery",label:"Products Gallery",icon:eh,category:"Product Management"},{to:"/products-upload",label:"Upload Products",icon:Uz,category:"Product Management"},{to:"/product-bump",label:"Product Bump",icon:Eh,category:"Product Management"},{to:"/pro-seller-analytics",label:"Pro Analytics",icon:sx,category:"Product Management"},{to:"/smile",label:"Wallet",icon:vm,category:"Your wallet"},{to:"/seller-transactions",label:"Transactions",icon:sx,category:"Your wallet"},{to:"/seller-chat",label:"Chats",icon:Hue,category:"Chat"}].filter(h=>h.label.toLowerCase().includes(t.toLowerCase()));return i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"md:hidden fixed top-4 left-4 z-50 p-2 text-black bg-blue-900 rounded-lg hover:bg-blue-900 transition",onClick:a,"aria-label":"Open sidebar",children:i.jsx(Oz,{className:"w-6 h-6"})}),i.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-gradient-to-b from-gray-900 to-gray-800 text-white flex flex-col z-50 md:w-64 md:flex md:flex-col transition-transform duration-300 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 max-h-[calc(100vh)] overflow-y-auto`,children:[i.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[i.jsx(Fe,{to:"/",onClick:()=>e(!1),"aria-label":"Foremade homepage",children:i.jsx("img",{src:h0,alt:"Foremade logo",className:"w-32"})}),i.jsx("button",{className:"md:hidden p-2 text-gray-300 hover:text-white",onClick:a,"aria-label":"Close sidebar",children:i.jsx(th,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"p-4 sticky top-0 bg-gray-800 z-10",children:i.jsx("input",{type:"text",placeholder:"Search menu...",onChange:o,className:"w-full p-2 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm","aria-label":"Search menu items"})}),i.jsx("nav",{className:"flex-1 p-2 space-y-3",children:t&&u.length===0?i.jsx("p",{className:"text-gray-400 text-sm px-2",children:"No menu items found"}):i.jsxs(i.Fragment,{children:[u.some(h=>h.category==="Dashboard")&&i.jsxs(Fe,{to:"/dashboard",onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg bg-gray-700 text-white font-semibold hover:bg-gray-600 transition","aria-label":"Dashboard",children:[i.jsx(uE,{className:"w-5 h-5 mr-2"}),"Dashboard"]}),u.some(h=>h.category==="Order Management")&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Order Management"}),u.filter(h=>h.category==="Order Management").map(h=>i.jsxs(Fe,{to:h.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":h.label,children:[i.jsx(h.icon,{className:"w-5 h-5 mr-2"}),h.label]},h.to))]}),u.some(h=>h.category==="Product Management")&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Product Management"}),u.filter(h=>h.category==="Product Management").map(h=>i.jsxs(Fe,{to:h.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":h.label,children:[i.jsx(h.icon,{className:"w-5 h-5 mr-2"}),h.label]},h.to))]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Registering with us"}),c?i.jsxs("div",{className:"flex items-center p-2 rounded-lg text-gray-200 bg-gray-700 cursor-default",children:[i.jsx(P5,{className:"w-5 h-5 mr-2"}),"Pro Seller"]}):l==="seller"?i.jsxs(Fe,{to:"/pro-seller-guide",onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":"Upgrade to Pro Seller",children:[i.jsx(cE,{className:"w-5 h-5 mr-2"}),"Upgrade to Pro Seller"]}):i.jsxs(i.Fragment,{children:[i.jsxs(Fe,{to:"/pro-seller-guide",onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":"Pro Seller",children:[i.jsx(cE,{className:"w-5 h-5 mr-2"}),"Pro Seller"]}),i.jsxs(Fe,{to:"/seller-onboarding",onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":"Standard Seller",children:[i.jsx(P5,{className:"w-5 h-5 mr-2"}),"Standard Seller"]})]})]}),u.some(h=>h.category==="Your wallet")&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Your wallet"}),u.filter(h=>h.category==="Your wallet").map(h=>i.jsxs(Fe,{to:h.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":h.label,children:[i.jsx(h.icon,{className:"w-5 h-5 mr-2"}),h.label]},h.to))]}),u.some(h=>h.category==="Chat")&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs uppercase text-gray-400 px-2 mb-2",children:"Chat"}),u.filter(h=>h.category==="Chat").map(h=>i.jsxs(Fe,{to:h.to,onClick:()=>e(!1),className:"flex items-center p-2 rounded-lg text-gray-200 hover:bg-gray-700 transition","aria-label":h.label,children:[i.jsx(h.icon,{className:"w-5 h-5 mr-2"}),h.label]},h.to))]})]})})]}),r&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:a,"aria-hidden":"true"})]})}function s0e(){const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(""),[o,l]=R.useState(null),c=zr();R.useEffect(()=>{const m=Tl(Ye,async p=>{if(p)try{console.log("Starting orders fetch for seller at:",new Date().toISOString()),console.log("Authenticated seller UID:",p.uid);const b=Xe(ve,"products"),x=await xt(b);console.log("Products snapshot received, count:",x.docs.length);const y=x.docs.map(E=>({id:E.id,...E.data()})).filter(E=>E.sellerId===p.uid);if(console.log("Seller products fetched, count:",y.length),y.length===0){console.log("No products found for this seller."),e([]),s(!1);return}const w=y.map(E=>E.id);console.log("Seller product IDs:",w);const k=Xe(ve,"orders"),N=await xt(k);console.log("Orders snapshot received, count:",N.docs.length);const T=N.docs.map(E=>({id:E.id,...E.data(),total:Array.isArray(E.data().items)?E.data().items.filter(I=>w.includes(I.productId)).reduce((I,S)=>I+(S.price||0)*(S.quantity||0),0):0})).filter(E=>E.items.some(I=>w.includes(I.productId))).map(E=>{const S=(Array.isArray(E.items)?E.items:[]).filter(A=>w.includes(A.productId));return{...E,items:S.map(A=>({productId:A.productId,name:A.name||"Unknown",quantity:A.quantity||0,price:A.price||0,sellerId:A.sellerId}))}}).sort((E,I)=>{const S=E.createdAt?.toDate()||new Date(0);return(I.createdAt?.toDate()||new Date(0))-S});console.log("Filtered orders for seller, count:",T.length),e(T)}catch(b){console.error("Firestore fetch error:",{code:b.code,message:b.message,stack:b.stack}),n(`Failed to fetch user orders: ${b.message}.`)}else console.warn("No seller authenticated"),n("Please log in to view user orders."),c("/seller/login");s(!1)},p=>{console.error("Auth state error:",{code:p.code,message:p.message,stack:p.stack}),n("Authentication error: "+p.message),s(!1)});return()=>m()},[c]);const d=m=>{l(o===m?null:m)},u=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",h=(m,p)=>new Intl.NumberFormat("en-US",{style:"currency",currency:p||"NGN"}).format(m||0);return t?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]}):a?i.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[i.jsx(ws,{}),i.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6 font-serif",children:i.jsxs("div",{className:"max-w-4xl mx-auto bg-red-100 border-l-4 border-red-500 p-4 rounded-lg animate-fade-in",children:[i.jsx("p",{className:"text-red-700",children:a}),i.jsx("p",{className:"mt-2",children:i.jsx(Fe,{to:"/seller/login",className:"text-blue-600 hover:underline",children:"Return to Login"})})]})})]}):i.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[i.jsx(ws,{}),i.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-4",children:i.jsxs("div",{className:"max-w-8xl mx-auto bg-white border border-gray-200 rounded-xl shadow-sm p-8 bg-gradient-to-br from-gray-50 to-white",children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Your Orders"})}),r.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-gray-600 text-lg",children:"No orders found."}),i.jsx("p",{className:"mt-2",children:i.jsx(Fe,{to:"/products-upload",className:"text-blue-600 hover:underline",children:"Upload products to start receiving orders"})})]}):i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-left border-collapse hidden md:table",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-100",children:[i.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Order ID"}),i.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Customer"}),i.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Date"}),i.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Total"}),i.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Status"}),i.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700",children:"Details"})]})}),i.jsx("tbody",{children:r.map(m=>i.jsxs(Lr.Fragment,{children:[i.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[i.jsx("td",{className:"p-3 text-sm",children:m.orderId||m.id}),i.jsx("td",{className:"p-3 text-sm",children:m.shippingDetails?.name||"N/A"}),i.jsx("td",{className:"p-3 text-sm",children:u(m.createdAt)}),i.jsx("td",{className:"p-3 text-sm",children:h(m.total,m.currency)}),i.jsx("td",{className:"p-3 text-sm",children:i.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Placed"})}),i.jsx("td",{className:"p-3 text-sm",children:i.jsx("button",{onClick:()=>d(m.id),className:"text-blue-600 hover:underline",children:o===m.id?"Hide":"Show"})})]}),o===m.id&&i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"p-3 bg-gray-50",children:i.jsxs("div",{className:"pl-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Items"}),m.items&&m.items.length>0?i.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-600",children:m.items.map((p,b)=>i.jsxs("li",{children:[p.name," x",p.quantity," - ",h(p.price*p.quantity,m.currency)]},b))}):i.jsx("p",{className:"text-sm text-gray-600",children:"No items"})]})})})]},m.id))})]}),i.jsx("div",{className:"md:hidden space-y-4",children:r.map(m=>i.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 hover:bg-gray-100",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Order ID:"}),i.jsx("span",{className:"text-sm",children:m.orderId||m.id})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Customer:"}),i.jsx("span",{className:"text-sm",children:m.shippingDetails?.name||"N/A"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Date:"}),i.jsx("span",{className:"text-sm",children:u(m.createdAt)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total:"}),i.jsx("span",{className:"text-sm",children:h(m.total,m.currency)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Status:"}),i.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Placed"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Details:"}),i.jsx("button",{onClick:()=>d(m.id),className:"text-blue-600 hover:underline text-sm",children:o===m.id?"Hide":"Show"})]}),o===m.id&&i.jsxs("div",{className:"mt-2",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Items"}),m.items&&m.items.length>0?i.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-600",children:m.items.map((p,b)=>i.jsxs("li",{children:[p.name," x",p.quantity," - ",h(p.price*p.quantity,m.currency)]},b))}):i.jsx("p",{className:"text-sm text-gray-600",children:"No items"})]})]})},m.id))})]})]})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function db(r){return r+.5|0}const bd=(r,e,t)=>Math.max(Math.min(r,t),e);function rp(r){return bd(db(r*2.55),0,255)}function Td(r){return bd(db(r*255),0,255)}function oc(r){return bd(db(r/2.55)/100,0,1)}function QO(r){return bd(db(r*100),0,100)}const Qi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pE=[..."0123456789ABCDEF"],a0e=r=>pE[r&15],n0e=r=>pE[(r&240)>>4]+pE[r&15],Hv=r=>(r&240)>>4===(r&15),i0e=r=>Hv(r.r)&&Hv(r.g)&&Hv(r.b)&&Hv(r.a);function o0e(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&Qi[r[1]]*17,g:255&Qi[r[2]]*17,b:255&Qi[r[3]]*17,a:e===5?Qi[r[4]]*17:255}:(e===7||e===9)&&(t={r:Qi[r[1]]<<4|Qi[r[2]],g:Qi[r[3]]<<4|Qi[r[4]],b:Qi[r[5]]<<4|Qi[r[6]],a:e===9?Qi[r[7]]<<4|Qi[r[8]]:255})),t}const l0e=(r,e)=>r<255?e(r):"";function c0e(r){var e=i0e(r)?a0e:n0e;return r?"#"+e(r.r)+e(r.g)+e(r.b)+l0e(r.a,e):void 0}const d0e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gV(r,e,t){const s=e*Math.min(t,1-t),a=(n,o=(n+r/30)%12)=>t-s*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function u0e(r,e,t){const s=(a,n=(a+r/60)%6)=>t-t*e*Math.max(Math.min(n,4-n,1),0);return[s(5),s(3),s(1)]}function h0e(r,e,t){const s=gV(r,1,.5);let a;for(e+t>1&&(a=1/(e+t),e*=a,t*=a),a=0;a<3;a++)s[a]*=1-e-t,s[a]+=e;return s}function f0e(r,e,t,s,a){return r===a?(e-t)/s+(e<t?6:0):e===a?(t-r)/s+2:(r-e)/s+4}function lC(r){const t=r.r/255,s=r.g/255,a=r.b/255,n=Math.max(t,s,a),o=Math.min(t,s,a),l=(n+o)/2;let c,d,u;return n!==o&&(u=n-o,d=l>.5?u/(2-n-o):u/(n+o),c=f0e(t,s,a,u,n),c=c*60+.5),[c|0,d||0,l]}function cC(r,e,t,s){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,s)).map(Td)}function dC(r,e,t){return cC(gV,r,e,t)}function m0e(r,e,t){return cC(h0e,r,e,t)}function g0e(r,e,t){return cC(u0e,r,e,t)}function pV(r){return(r%360+360)%360}function p0e(r){const e=d0e.exec(r);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?rp(+e[5]):Td(+e[5]));const a=pV(+e[2]),n=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=m0e(a,n,o):e[1]==="hsv"?s=g0e(a,n,o):s=dC(a,n,o),{r:s[0],g:s[1],b:s[2],a:t}}function x0e(r,e){var t=lC(r);t[0]=pV(t[0]+e),t=dC(t),r.r=t[0],r.g=t[1],r.b=t[2]}function b0e(r){if(!r)return;const e=lC(r),t=e[0],s=QO(e[1]),a=QO(e[2]);return r.a<255?`hsla(${t}, ${s}%, ${a}%, ${oc(r.a)})`:`hsl(${t}, ${s}%, ${a}%)`}const JO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},eM={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function y0e(){const r={},e=Object.keys(eM),t=Object.keys(JO);let s,a,n,o,l;for(s=0;s<e.length;s++){for(o=l=e[s],a=0;a<t.length;a++)n=t[a],l=l.replace(n,JO[n]);n=parseInt(eM[o],16),r[l]=[n>>16&255,n>>8&255,n&255]}return r}let $v;function v0e(r){$v||($v=y0e(),$v.transparent=[0,0,0,0]);const e=$v[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const w0e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function k0e(r){const e=w0e.exec(r);let t=255,s,a,n;if(e){if(e[7]!==s){const o=+e[7];t=e[8]?rp(o):bd(o*255,0,255)}return s=+e[1],a=+e[3],n=+e[5],s=255&(e[2]?rp(s):bd(s,0,255)),a=255&(e[4]?rp(a):bd(a,0,255)),n=255&(e[6]?rp(n):bd(n,0,255)),{r:s,g:a,b:n,a:t}}}function _0e(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${oc(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const cS=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,$f=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function N0e(r,e,t){const s=$f(oc(r.r)),a=$f(oc(r.g)),n=$f(oc(r.b));return{r:Td(cS(s+t*($f(oc(e.r))-s))),g:Td(cS(a+t*($f(oc(e.g))-a))),b:Td(cS(n+t*($f(oc(e.b))-n))),a:r.a+t*(e.a-r.a)}}function Wv(r,e,t){if(r){let s=lC(r);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=dC(s),r.r=s[0],r.g=s[1],r.b=s[2]}}function xV(r,e){return r&&Object.assign(e||{},r)}function tM(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=Td(r[3]))):(e=xV(r,{r:0,g:0,b:0,a:1}),e.a=Td(e.a)),e}function S0e(r){return r.charAt(0)==="r"?k0e(r):p0e(r)}class ax{constructor(e){if(e instanceof ax)return e;const t=typeof e;let s;t==="object"?s=tM(e):t==="string"&&(s=o0e(e)||v0e(e)||S0e(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=xV(this._rgb);return e&&(e.a=oc(e.a)),e}set rgb(e){this._rgb=tM(e)}rgbString(){return this._valid?_0e(this._rgb):void 0}hexString(){return this._valid?c0e(this._rgb):void 0}hslString(){return this._valid?b0e(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,a=e.rgb;let n;const o=t===n?.5:t,l=2*o-1,c=s.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;n=1-d,s.r=255&d*s.r+n*a.r+.5,s.g=255&d*s.g+n*a.g+.5,s.b=255&d*s.b+n*a.b+.5,s.a=o*s.a+(1-o)*a.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=N0e(this._rgb,e._rgb,t)),this}clone(){return new ax(this.rgb)}alpha(e){return this._rgb.a=Td(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=db(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Wv(this._rgb,2,e),this}darken(e){return Wv(this._rgb,2,-e),this}saturate(e){return Wv(this._rgb,1,e),this}desaturate(e){return Wv(this._rgb,1,-e),this}rotate(e){return x0e(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function sc(){}const j0e=(()=>{let r=0;return()=>r++})();function hs(r){return r==null}function Qa(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function es(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function po(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function nl(r,e){return po(r)?r:e}function Sr(r,e){return typeof r>"u"?e:r}const E0e=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,bV=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function Fs(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function ys(r,e,t,s){let a,n,o;if(Qa(r))for(n=r.length,a=0;a<n;a++)e.call(t,r[a],a);else if(es(r))for(o=Object.keys(r),n=o.length,a=0;a<n;a++)e.call(t,r[o[a]],o[a])}function Iw(r,e){let t,s,a,n;if(!r||!e||r.length!==e.length)return!1;for(t=0,s=r.length;t<s;++t)if(a=r[t],n=e[t],a.datasetIndex!==n.datasetIndex||a.index!==n.index)return!1;return!0}function Dw(r){if(Qa(r))return r.map(Dw);if(es(r)){const e=Object.create(null),t=Object.keys(r),s=t.length;let a=0;for(;a<s;++a)e[t[a]]=Dw(r[t[a]]);return e}return r}function yV(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function A0e(r,e,t,s){if(!yV(r))return;const a=e[r],n=t[r];es(a)&&es(n)?nx(a,n,s):e[r]=Dw(n)}function nx(r,e,t){const s=Qa(e)?e:[e],a=s.length;if(!es(r))return r;t=t||{};const n=t.merger||A0e;let o;for(let l=0;l<a;++l){if(o=s[l],!es(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)n(c[d],r,o,t)}return r}function _p(r,e){return nx(r,e,{merger:T0e})}function T0e(r,e,t){if(!yV(r))return;const s=e[r],a=t[r];es(s)&&es(a)?_p(s,a):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=Dw(a))}const rM={"":r=>r,x:r=>r.x,y:r=>r.y};function C0e(r){const e=r.split("."),t=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function P0e(r){const e=C0e(r);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function Ah(r,e){return(rM[e]||(rM[e]=P0e(e)))(r)}function uC(r){return r.charAt(0).toUpperCase()+r.slice(1)}const ix=r=>typeof r<"u",Hd=r=>typeof r=="function",sM=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function R0e(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const Is=Math.PI,sa=2*Is,I0e=sa+Is,Ow=Number.POSITIVE_INFINITY,D0e=Is/180,Ua=Is/2,Ou=Is/4,aM=Is*2/3,vV=Math.log10,El=Math.sign;function Np(r,e,t){return Math.abs(r-e)<t}function nM(r){const e=Math.round(r);r=Np(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(vV(r))),s=r/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function O0e(r){const e=[],t=Math.sqrt(r);let s;for(s=1;s<t;s++)r%s===0&&(e.push(s),e.push(r/s));return t===(t|0)&&e.push(t),e.sort((a,n)=>a-n).pop(),e}function M0e(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function ox(r){return!M0e(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function F0e(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function L0e(r,e,t){let s,a,n;for(s=0,a=r.length;s<a;s++)n=r[s][t],isNaN(n)||(e.min=Math.min(e.min,n),e.max=Math.max(e.max,n))}function dc(r){return r*(Is/180)}function B0e(r){return r*(180/Is)}function iM(r){if(!po(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function wV(r,e){const t=e.x-r.x,s=e.y-r.y,a=Math.sqrt(t*t+s*s);let n=Math.atan2(s,t);return n<-.5*Is&&(n+=sa),{angle:n,distance:a}}function xE(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function U0e(r,e){return(r-e+I0e)%sa-Is}function To(r){return(r%sa+sa)%sa}function lx(r,e,t,s){const a=To(r),n=To(e),o=To(t),l=To(n-a),c=To(o-a),d=To(a-n),u=To(a-o);return a===n||a===o||s&&n===o||l>c&&d<u}function Tn(r,e,t){return Math.max(e,Math.min(t,r))}function z0e(r){return Tn(r,-32768,32767)}function yd(r,e,t,s=1e-6){return r>=Math.min(e,t)-s&&r<=Math.max(e,t)+s}function hC(r,e,t){t=t||(o=>r[o]<e);let s=r.length-1,a=0,n;for(;s-a>1;)n=a+s>>1,t(n)?a=n:s=n;return{lo:a,hi:s}}const rh=(r,e,t,s)=>hC(r,t,s?a=>{const n=r[a][e];return n<t||n===t&&r[a+1][e]===t}:a=>r[a][e]<t),V0e=(r,e,t)=>hC(r,t,s=>r[s][e]>=t);function H0e(r,e,t){let s=0,a=r.length;for(;s<a&&r[s]<e;)s++;for(;a>s&&r[a-1]>t;)a--;return s>0||a<r.length?r.slice(s,a):r}const kV=["push","pop","shift","splice","unshift"];function $0e(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),kV.forEach(t=>{const s="_onData"+uC(t),a=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...n){const o=a.apply(this,n);return r._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...n)}),o}})})}function oM(r,e){const t=r._chartjs;if(!t)return;const s=t.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(kV.forEach(n=>{delete r[n]}),delete r._chartjs)}function _V(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const NV=(function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame})();function SV(r,e){let t=[],s=!1;return function(...a){t=a,s||(s=!0,NV.call(window,()=>{s=!1,r.apply(e,t)}))}}function W0e(r,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(r,e,s)):r.apply(this,s),e}}const jV=r=>r==="start"?"left":r==="end"?"right":"center",ji=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,q0e=(r,e,t,s)=>r===(s?"left":"right")?t:r==="center"?(e+t)/2:e;function G0e(r,e,t){const s=e.length;let a=0,n=s;if(r._sorted){const{iScale:o,vScale:l,_parsed:c}=r,d=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,u=o.axis,{min:h,max:m,minDefined:p,maxDefined:b}=o.getUserBounds();if(p){if(a=Math.min(rh(c,u,h).lo,t?s:rh(e,u,o.getPixelForValue(h)).lo),d){const x=c.slice(0,a+1).reverse().findIndex(y=>!hs(y[l.axis]));a-=Math.max(0,x)}a=Tn(a,0,s-1)}if(b){let x=Math.max(rh(c,o.axis,m,!0).hi+1,t?0:rh(e,u,o.getPixelForValue(m),!0).hi+1);if(d){const y=c.slice(x-1).findIndex(w=>!hs(w[l.axis]));x+=Math.max(0,y)}n=Tn(x,a,s)-a}else n=s-a}return{start:a,count:n}}function Y0e(r){const{xScale:e,yScale:t,_scaleRanges:s}=r,a={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return r._scaleRanges=a,!0;const n=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,a),n}const qv=r=>r===0||r===1,lM=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*sa/t)),cM=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*sa/t)+1,Sp={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Ua)+1,easeOutSine:r=>Math.sin(r*Ua),easeInOutSine:r=>-.5*(Math.cos(Is*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>qv(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>qv(r)?r:lM(r,.075,.3),easeOutElastic:r=>qv(r)?r:cM(r,.075,.3),easeInOutElastic(r){return qv(r)?r:r<.5?.5*lM(r*2,.1125,.45):.5+.5*cM(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-Sp.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?Sp.easeInBounce(r*2)*.5:Sp.easeOutBounce(r*2-1)*.5+.5};function fC(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function dM(r){return fC(r)?r:new ax(r)}function dS(r){return fC(r)?r:new ax(r).saturate(.5).darken(.1).hexString()}const X0e=["x","y","borderWidth","radius","tension"],K0e=["color","borderColor","backgroundColor"];function Z0e(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:K0e},numbers:{type:"number",properties:X0e}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Q0e(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const uM=new Map;function J0e(r,e){e=e||{};const t=r+JSON.stringify(e);let s=uM.get(t);return s||(s=new Intl.NumberFormat(r,e),uM.set(t,s)),s}function mC(r,e,t){return J0e(e,t).format(r)}const ege={values(r){return Qa(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const s=this.chart.options.locale;let a,n=r;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),n=tge(r,t)}const o=vV(Math.abs(n)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),mC(r,s,c)}};function tge(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var EV={formatters:ege};function rge(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:EV.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Th=Object.create(null),bE=Object.create(null);function jp(r,e){if(!e)return r;const t=e.split(".");for(let s=0,a=t.length;s<a;++s){const n=t[s];r=r[n]||(r[n]=Object.create(null))}return r}function uS(r,e,t){return typeof e=="string"?nx(jp(r,e),t):nx(jp(r,""),e)}class sge{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>dS(a.backgroundColor),this.hoverBorderColor=(s,a)=>dS(a.borderColor),this.hoverColor=(s,a)=>dS(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return uS(this,e,t)}get(e){return jp(this,e)}describe(e,t){return uS(bE,e,t)}override(e,t){return uS(Th,e,t)}route(e,t,s,a){const n=jp(this,e),o=jp(this,s),l="_"+t;Object.defineProperties(n,{[l]:{value:n[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],d=o[a];return es(c)?Object.assign({},d,c):Sr(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var ga=new sge({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Z0e,Q0e,rge]);function age(r){return!r||hs(r.size)||hs(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function hM(r,e,t,s,a){let n=e[a];return n||(n=e[a]=r.measureText(a).width,t.push(a)),n>s&&(s=n),s}function Mu(r,e,t){const s=r.currentDevicePixelRatio,a=t!==0?Math.max(t/2,.5):0;return Math.round((e-a)*s)/s+a}function fM(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function yE(r,e,t,s){AV(r,e,t,s,null)}function AV(r,e,t,s,a){let n,o,l,c,d,u,h,m;const p=e.pointStyle,b=e.rotation,x=e.radius;let y=(b||0)*D0e;if(p&&typeof p=="object"&&(n=p.toString(),n==="[object HTMLImageElement]"||n==="[object HTMLCanvasElement]")){r.save(),r.translate(t,s),r.rotate(y),r.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),r.restore();return}if(!(isNaN(x)||x<=0)){switch(r.beginPath(),p){default:a?r.ellipse(t,s,a/2,x,0,0,sa):r.arc(t,s,x,0,sa),r.closePath();break;case"triangle":u=a?a/2:x,r.moveTo(t+Math.sin(y)*u,s-Math.cos(y)*x),y+=aM,r.lineTo(t+Math.sin(y)*u,s-Math.cos(y)*x),y+=aM,r.lineTo(t+Math.sin(y)*u,s-Math.cos(y)*x),r.closePath();break;case"rectRounded":d=x*.516,c=x-d,o=Math.cos(y+Ou)*c,h=Math.cos(y+Ou)*(a?a/2-d:c),l=Math.sin(y+Ou)*c,m=Math.sin(y+Ou)*(a?a/2-d:c),r.arc(t-h,s-l,d,y-Is,y-Ua),r.arc(t+m,s-o,d,y-Ua,y),r.arc(t+h,s+l,d,y,y+Ua),r.arc(t-m,s+o,d,y+Ua,y+Is),r.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*x,u=a?a/2:c,r.rect(t-u,s-c,2*u,2*c);break}y+=Ou;case"rectRot":h=Math.cos(y)*(a?a/2:x),o=Math.cos(y)*x,l=Math.sin(y)*x,m=Math.sin(y)*(a?a/2:x),r.moveTo(t-h,s-l),r.lineTo(t+m,s-o),r.lineTo(t+h,s+l),r.lineTo(t-m,s+o),r.closePath();break;case"crossRot":y+=Ou;case"cross":h=Math.cos(y)*(a?a/2:x),o=Math.cos(y)*x,l=Math.sin(y)*x,m=Math.sin(y)*(a?a/2:x),r.moveTo(t-h,s-l),r.lineTo(t+h,s+l),r.moveTo(t+m,s-o),r.lineTo(t-m,s+o);break;case"star":h=Math.cos(y)*(a?a/2:x),o=Math.cos(y)*x,l=Math.sin(y)*x,m=Math.sin(y)*(a?a/2:x),r.moveTo(t-h,s-l),r.lineTo(t+h,s+l),r.moveTo(t+m,s-o),r.lineTo(t-m,s+o),y+=Ou,h=Math.cos(y)*(a?a/2:x),o=Math.cos(y)*x,l=Math.sin(y)*x,m=Math.sin(y)*(a?a/2:x),r.moveTo(t-h,s-l),r.lineTo(t+h,s+l),r.moveTo(t+m,s-o),r.lineTo(t-m,s+o);break;case"line":o=a?a/2:Math.cos(y)*x,l=Math.sin(y)*x,r.moveTo(t-o,s-l),r.lineTo(t+o,s+l);break;case"dash":r.moveTo(t,s),r.lineTo(t+Math.cos(y)*(a?a/2:x),s+Math.sin(y)*x);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function cx(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function gC(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function pC(r){r.restore()}function nge(r,e,t,s,a){if(!e)return r.lineTo(t.x,t.y);if(a==="middle"){const n=(e.x+t.x)/2;r.lineTo(n,e.y),r.lineTo(n,t.y)}else a==="after"!=!!s?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function ige(r,e,t,s){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function oge(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),hs(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function lge(r,e,t,s,a){if(a.strikethrough||a.underline){const n=r.measureText(s),o=e-n.actualBoundingBoxLeft,l=e+n.actualBoundingBoxRight,c=t-n.actualBoundingBoxAscent,d=t+n.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=a.decorationWidth||2,r.moveTo(o,u),r.lineTo(l,u),r.stroke()}}function cge(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function Mw(r,e,t,s,a,n={}){const o=Qa(e)?e:[e],l=n.strokeWidth>0&&n.strokeColor!=="";let c,d;for(r.save(),r.font=a.string,oge(r,n),c=0;c<o.length;++c)d=o[c],n.backdrop&&cge(r,n.backdrop),l&&(n.strokeColor&&(r.strokeStyle=n.strokeColor),hs(n.strokeWidth)||(r.lineWidth=n.strokeWidth),r.strokeText(d,t,s,n.maxWidth)),r.fillText(d,t,s,n.maxWidth),lge(r,t,s,d,n),s+=Number(a.lineHeight);r.restore()}function Fw(r,e){const{x:t,y:s,w:a,h:n,radius:o}=e;r.arc(t+o.topLeft,s+o.topLeft,o.topLeft,1.5*Is,Is,!0),r.lineTo(t,s+n-o.bottomLeft),r.arc(t+o.bottomLeft,s+n-o.bottomLeft,o.bottomLeft,Is,Ua,!0),r.lineTo(t+a-o.bottomRight,s+n),r.arc(t+a-o.bottomRight,s+n-o.bottomRight,o.bottomRight,Ua,0,!0),r.lineTo(t+a,s+o.topRight),r.arc(t+a-o.topRight,s+o.topRight,o.topRight,0,-Ua,!0),r.lineTo(t+o.topLeft,s)}const dge=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,uge=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hge(r,e){const t=(""+r).match(dge);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const fge=r=>+r||0;function xC(r,e){const t={},s=es(e),a=s?Object.keys(e):e,n=es(r)?s?o=>Sr(r[o],r[e[o]]):o=>r[o]:()=>r;for(const o of a)t[o]=fge(n(o));return t}function TV(r){return xC(r,{top:"y",right:"x",bottom:"y",left:"x"})}function wm(r){return xC(r,["topLeft","topRight","bottomLeft","bottomRight"])}function Ho(r){const e=TV(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ci(r,e){r=r||{},e=e||ga.font;let t=Sr(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=Sr(r.style,e.style);s&&!(""+s).match(uge)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Sr(r.family,e.family),lineHeight:hge(Sr(r.lineHeight,e.lineHeight),t),size:t,style:s,weight:Sr(r.weight,e.weight),string:""};return a.string=age(a),a}function Gv(r,e,t,s){let a,n,o;for(a=0,n=r.length;a<n;++a)if(o=r[a],o!==void 0&&o!==void 0)return o}function mge(r,e,t){const{min:s,max:a}=r,n=bV(e,(a-s)/2),o=(l,c)=>t&&l===0?0:l+c;return{min:o(s,-Math.abs(n)),max:o(a,n)}}function Wh(r,e){return Object.assign(Object.create(r),e)}function bC(r,e=[""],t,s,a=()=>r[0]){const n=t||r;typeof s>"u"&&(s=IV("_fallback",r));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:n,_fallback:s,_getTarget:a,override:l=>bC([l,...r],e,n,s)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete r[0][c],!0},get(l,c){return PV(l,c,()=>kge(c,e,r,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(l,c){return gM(l).includes(c)},ownKeys(l){return gM(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function zm(r,e,t,s){const a={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:CV(r,s),setContext:n=>zm(r,n,t,s),override:n=>zm(r.override(n),e,t,s)};return new Proxy(a,{deleteProperty(n,o){return delete n[o],delete r[o],!0},get(n,o,l){return PV(n,o,()=>pge(n,o,l))},getOwnPropertyDescriptor(n,o){return n._descriptors.allKeys?Reflect.has(r,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,o)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(n,o){return Reflect.has(r,o)},ownKeys(){return Reflect.ownKeys(r)},set(n,o,l){return r[o]=l,delete n[o],!0}})}function CV(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=r;return{allKeys:a,scriptable:t,indexable:s,isScriptable:Hd(t)?t:()=>t,isIndexable:Hd(s)?s:()=>s}}const gge=(r,e)=>r?r+uC(e):e,yC=(r,e)=>es(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function PV(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const s=t();return r[e]=s,s}function pge(r,e,t){const{_proxy:s,_context:a,_subProxy:n,_descriptors:o}=r;let l=s[e];return Hd(l)&&o.isScriptable(e)&&(l=xge(e,l,r,t)),Qa(l)&&l.length&&(l=bge(e,l,r,o.isIndexable)),yC(e,l)&&(l=zm(l,a,n&&n[e],o)),l}function xge(r,e,t,s){const{_proxy:a,_context:n,_subProxy:o,_stack:l}=t;if(l.has(r))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+r);l.add(r);let c=e(n,o||s);return l.delete(r),yC(r,c)&&(c=vC(a._scopes,a,r,c)),c}function bge(r,e,t,s){const{_proxy:a,_context:n,_subProxy:o,_descriptors:l}=t;if(typeof n.index<"u"&&s(r))return e[n.index%e.length];if(es(e[0])){const c=e,d=a._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=vC(d,a,r,u);e.push(zm(h,n,o&&o[r],l))}}return e}function RV(r,e,t){return Hd(r)?r(e,t):r}const yge=(r,e)=>r===!0?e:typeof r=="string"?Ah(e,r):void 0;function vge(r,e,t,s,a){for(const n of e){const o=yge(t,n);if(o){r.add(o);const l=RV(o._fallback,t,a);if(typeof l<"u"&&l!==t&&l!==s)return l}else if(o===!1&&typeof s<"u"&&t!==s)return null}return!1}function vC(r,e,t,s){const a=e._rootScopes,n=RV(e._fallback,t,s),o=[...r,...a],l=new Set;l.add(s);let c=mM(l,o,t,n||t,s);return c===null||typeof n<"u"&&n!==t&&(c=mM(l,o,n,c,s),c===null)?!1:bC(Array.from(l),[""],a,n,()=>wge(e,t,s))}function mM(r,e,t,s,a){for(;t;)t=vge(r,e,t,s,a);return t}function wge(r,e,t){const s=r._getTarget();e in s||(s[e]={});const a=s[e];return Qa(a)&&es(t)?t:a||{}}function kge(r,e,t,s){let a;for(const n of e)if(a=IV(gge(n,r),t),typeof a<"u")return yC(r,a)?vC(t,s,r,a):a}function IV(r,e){for(const t of e){if(!t)continue;const s=t[r];if(typeof s<"u")return s}}function gM(r){let e=r._keys;return e||(e=r._keys=_ge(r._scopes)),e}function _ge(r){const e=new Set;for(const t of r)for(const s of Object.keys(t).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}const Nge=Number.EPSILON||1e-14,Vm=(r,e)=>e<r.length&&!r[e].skip&&r[e],DV=r=>r==="x"?"y":"x";function Sge(r,e,t,s){const a=r.skip?e:r,n=e,o=t.skip?e:t,l=xE(n,a),c=xE(o,n);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=s*d,m=s*u;return{previous:{x:n.x-h*(o.x-a.x),y:n.y-h*(o.y-a.y)},next:{x:n.x+m*(o.x-a.x),y:n.y+m*(o.y-a.y)}}}function jge(r,e,t){const s=r.length;let a,n,o,l,c,d=Vm(r,0);for(let u=0;u<s-1;++u)if(c=d,d=Vm(r,u+1),!(!c||!d)){if(Np(e[u],0,Nge)){t[u]=t[u+1]=0;continue}a=t[u]/e[u],n=t[u+1]/e[u],l=Math.pow(a,2)+Math.pow(n,2),!(l<=9)&&(o=3/Math.sqrt(l),t[u]=a*o*e[u],t[u+1]=n*o*e[u])}}function Ege(r,e,t="x"){const s=DV(t),a=r.length;let n,o,l,c=Vm(r,0);for(let d=0;d<a;++d){if(o=l,l=c,c=Vm(r,d+1),!l)continue;const u=l[t],h=l[s];o&&(n=(u-o[t])/3,l[`cp1${t}`]=u-n,l[`cp1${s}`]=h-n*e[d]),c&&(n=(c[t]-u)/3,l[`cp2${t}`]=u+n,l[`cp2${s}`]=h+n*e[d])}}function Age(r,e="x"){const t=DV(e),s=r.length,a=Array(s).fill(0),n=Array(s);let o,l,c,d=Vm(r,0);for(o=0;o<s;++o)if(l=c,c=d,d=Vm(r,o+1),!!c){if(d){const u=d[e]-c[e];a[o]=u!==0?(d[t]-c[t])/u:0}n[o]=l?d?El(a[o-1])!==El(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}jge(r,a,n),Ege(r,n,e)}function Yv(r,e,t){return Math.max(Math.min(r,t),e)}function Tge(r,e){let t,s,a,n,o,l=cx(r[0],e);for(t=0,s=r.length;t<s;++t)o=n,n=l,l=t<s-1&&cx(r[t+1],e),n&&(a=r[t],o&&(a.cp1x=Yv(a.cp1x,e.left,e.right),a.cp1y=Yv(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Yv(a.cp2x,e.left,e.right),a.cp2y=Yv(a.cp2y,e.top,e.bottom)))}function Cge(r,e,t,s,a){let n,o,l,c;if(e.spanGaps&&(r=r.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")Age(r,a);else{let d=s?r[r.length-1]:r[0];for(n=0,o=r.length;n<o;++n)l=r[n],c=Sge(d,l,r[Math.min(n+1,o-(s?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&Tge(r,t)}function wC(){return typeof window<"u"&&typeof document<"u"}function kC(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Lw(r,e,t){let s;return typeof r=="string"?(s=parseInt(r,10),r.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=r,s}const J2=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function Pge(r,e){return J2(r).getPropertyValue(e)}const Rge=["top","right","bottom","left"];function hh(r,e,t){const s={};t=t?"-"+t:"";for(let a=0;a<4;a++){const n=Rge[a];s[n]=parseFloat(r[e+"-"+n+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Ige=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function Dge(r,e){const t=r.touches,s=t&&t.length?t[0]:r,{offsetX:a,offsetY:n}=s;let o=!1,l,c;if(Ige(a,n,r.target))l=a,c=n;else{const d=e.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Hu(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:s}=e,a=J2(t),n=a.boxSizing==="border-box",o=hh(a,"padding"),l=hh(a,"border","width"),{x:c,y:d,box:u}=Dge(r,t),h=o.left+(u&&l.left),m=o.top+(u&&l.top);let{width:p,height:b}=e;return n&&(p-=o.width+l.width,b-=o.height+l.height),{x:Math.round((c-h)/p*t.width/s),y:Math.round((d-m)/b*t.height/s)}}function Oge(r,e,t){let s,a;if(e===void 0||t===void 0){const n=r&&kC(r);if(!n)e=r.clientWidth,t=r.clientHeight;else{const o=n.getBoundingClientRect(),l=J2(n),c=hh(l,"border","width"),d=hh(l,"padding");e=o.width-d.width-c.width,t=o.height-d.height-c.height,s=Lw(l.maxWidth,n,"clientWidth"),a=Lw(l.maxHeight,n,"clientHeight")}}return{width:e,height:t,maxWidth:s||Ow,maxHeight:a||Ow}}const Xv=r=>Math.round(r*10)/10;function Mge(r,e,t,s){const a=J2(r),n=hh(a,"margin"),o=Lw(a.maxWidth,r,"clientWidth")||Ow,l=Lw(a.maxHeight,r,"clientHeight")||Ow,c=Oge(r,e,t);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const m=hh(a,"border","width"),p=hh(a,"padding");d-=p.width+m.width,u-=p.height+m.height}return d=Math.max(0,d-n.width),u=Math.max(0,s?d/s:u-n.height),d=Xv(Math.min(d,o,c.maxWidth)),u=Xv(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Xv(d/2)),(e!==void 0||t!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=Xv(Math.floor(u*s))),{width:d,height:u}}function pM(r,e,t){const s=e||1,a=Math.floor(r.height*s),n=Math.floor(r.width*s);r.height=Math.floor(r.height),r.width=Math.floor(r.width);const o=r.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${r.height}px`,o.style.width=`${r.width}px`),r.currentDevicePixelRatio!==s||o.height!==a||o.width!==n?(r.currentDevicePixelRatio=s,o.height=a,o.width=n,r.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Fge=(function(){let r=!1;try{const e={get passive(){return r=!0,!1}};wC()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r})();function xM(r,e){const t=Pge(r,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function $u(r,e,t,s){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function Lge(r,e,t,s){return{x:r.x+t*(e.x-r.x),y:s==="middle"?t<.5?r.y:e.y:s==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function Bge(r,e,t,s){const a={x:r.cp2x,y:r.cp2y},n={x:e.cp1x,y:e.cp1y},o=$u(r,a,t),l=$u(a,n,t),c=$u(n,e,t),d=$u(o,l,t),u=$u(l,c,t);return $u(d,u,t)}const Uge=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},zge=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function km(r,e,t){return r?Uge(e,t):zge()}function OV(r,e){let t,s;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=s)}function MV(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function FV(r){return r==="angle"?{between:lx,compare:U0e,normalize:To}:{between:yd,compare:(e,t)=>e-t,normalize:e=>e}}function bM({start:r,end:e,count:t,loop:s,style:a}){return{start:r%t,end:e%t,loop:s&&(e-r+1)%t===0,style:a}}function Vge(r,e,t){const{property:s,start:a,end:n}=t,{between:o,normalize:l}=FV(s),c=e.length;let{start:d,end:u,loop:h}=r,m,p;if(h){for(d+=c,u+=c,m=0,p=c;m<p&&o(l(e[d%c][s]),a,n);++m)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:r.style}}function Hge(r,e,t){if(!t)return[r];const{property:s,start:a,end:n}=t,o=e.length,{compare:l,between:c,normalize:d}=FV(s),{start:u,end:h,loop:m,style:p}=Vge(r,e,t),b=[];let x=!1,y=null,w,k,N;const T=()=>c(a,N,w)&&l(a,N)!==0,E=()=>l(n,w)===0||c(n,N,w),I=()=>x||T(),S=()=>!x||E();for(let A=u,P=u;A<=h;++A)k=e[A%o],!k.skip&&(w=d(k[s]),w!==N&&(x=c(w,a,n),y===null&&I()&&(y=l(w,a)===0?A:P),y!==null&&S()&&(b.push(bM({start:y,end:A,loop:m,count:o,style:p})),y=null),P=A,N=w));return y!==null&&b.push(bM({start:y,end:h,loop:m,count:o,style:p})),b}function $ge(r,e){const t=[],s=r.segments;for(let a=0;a<s.length;a++){const n=Hge(s[a],r.points,e);n.length&&t.push(...n)}return t}function Wge(r,e,t,s){let a=0,n=e-1;if(t&&!s)for(;a<e&&!r[a].skip;)a++;for(;a<e&&r[a].skip;)a++;for(a%=e,t&&(n+=a);n>a&&r[n%e].skip;)n--;return n%=e,{start:a,end:n}}function qge(r,e,t,s){const a=r.length,n=[];let o=e,l=r[e],c;for(c=e+1;c<=t;++c){const d=r[c%a];d.skip||d.stop?l.skip||(s=!1,n.push({start:e%a,end:(c-1)%a,loop:s}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&n.push({start:e%a,end:o%a,loop:s}),n}function Gge(r,e){const t=r.points,s=r.options.spanGaps,a=t.length;if(!a)return[];const n=!!r._loop,{start:o,end:l}=Wge(t,a,n,s);if(s===!0)return yM(r,[{start:o,end:l,loop:n}],t,e);const c=l<o?l+a:l,d=!!r._fullLoop&&o===0&&l===a-1;return yM(r,qge(t,o,c,d),t,e)}function yM(r,e,t,s){return!s||!s.setContext||!t?e:Yge(r,e,t,s)}function Yge(r,e,t,s){const a=r._chart.getContext(),n=vM(r.options),{_datasetIndex:o,options:{spanGaps:l}}=r,c=t.length,d=[];let u=n,h=e[0].start,m=h;function p(b,x,y,w){const k=l?-1:1;if(b!==x){for(b+=c;t[b%c].skip;)b-=k;for(;t[x%c].skip;)x+=k;b%c!==x%c&&(d.push({start:b%c,end:x%c,loop:y,style:w}),u=w,h=x%c)}}for(const b of e){h=l?h:b.start;let x=t[h%c],y;for(m=h+1;m<=b.end;m++){const w=t[m%c];y=vM(s.setContext(Wh(a,{type:"segment",p0:x,p1:w,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:o}))),Xge(y,u)&&p(h,m-1,b.loop,u),x=w,u=y}h<m-1&&p(h,m-1,b.loop,u)}return d}function vM(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function Xge(r,e){if(!e)return!1;const t=[],s=function(a,n){return fC(n)?(t.includes(n)||t.push(n),t.indexOf(n)):n};return JSON.stringify(r,s)!==JSON.stringify(e,s)}function Kv(r,e,t){return r.options.clip?r[t]:e[t]}function Kge(r,e){const{xScale:t,yScale:s}=r;return t&&s?{left:Kv(t,e,"left"),right:Kv(t,e,"right"),top:Kv(s,e,"top"),bottom:Kv(s,e,"bottom")}:e}function Zge(r,e){const t=e._clip;if(t.disabled)return!1;const s=Kge(e,r.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?r.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?r.height:s.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Qge{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,a){const n=t.listeners[a],o=t.duration;n.forEach(l=>l({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(s-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=NV.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const n=s.items;let o=n.length-1,l=!1,c;for(;o>=0;--o)c=n[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),l=!0):(n[o]=n[n.length-1],n.pop());l&&(a.draw(),this._notify(a,s,e,"progress")),n.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),t+=n.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ac=new Qge;const wM="transparent",Jge={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const s=dM(r||wM),a=s.valid&&dM(e||wM);return a&&a.valid?a.mix(s,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class epe{constructor(e,t,s,a){const n=t[s];a=Gv([e.to,a,n,e.from]);const o=Gv([e.from,n,a]);this._active=!0,this._fn=e.fn||Jge[e.type||typeof o],this._easing=Sp[e.easing]||Sp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const a=this._target[this._prop],n=s-this._start,o=this._duration-n;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=n,this._loop=!!e.loop,this._to=Gv([e.to,t,a,e.from]),this._from=Gv([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,a=this._prop,n=this._from,o=this._loop,l=this._to;let c;if(this._active=n!==l&&(o||t<s),!this._active){this._target[a]=l,this._notify(!0);return}if(t<0){this._target[a]=n;return}c=t/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(n,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][t]()}}class LV{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!es(e))return;const t=Object.keys(ga.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const n=e[a];if(!es(n))return;const o={};for(const l of t)o[l]=n[l];(Qa(n.properties)&&n.properties||[a]).forEach(l=>{(l===a||!s.has(l))&&s.set(l,o)})})}_animateOptions(e,t){const s=t.options,a=rpe(e,s);if(!a)return[];const n=this._createAnimations(a,s);return s.$shared&&tpe(e.options.$animations,s).then(()=>{e.options=s},()=>{}),n}_createAnimations(e,t){const s=this._properties,a=[],n=e.$animations||(e.$animations={}),o=Object.keys(t),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(e,t));continue}const u=t[d];let h=n[d];const m=s.get(d);if(h)if(m&&h.active()){h.update(m,u,l);continue}else h.cancel();if(!m||!m.duration){e[d]=u;continue}n[d]=h=new epe(m,e,d,u),a.push(h)}return a}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return ac.add(this._chart,s),!0}}function tpe(r,e){const t=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const n=r[s[a]];n&&n.active()&&t.push(n.wait())}return Promise.all(t)}function rpe(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function kM(r,e){const t=r&&r.options||{},s=t.reverse,a=t.min===void 0?e:0,n=t.max===void 0?e:0;return{start:s?n:a,end:s?a:n}}function spe(r,e,t){if(t===!1)return!1;const s=kM(r,t),a=kM(e,t);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function ape(r){let e,t,s,a;return es(r)?(e=r.top,t=r.right,s=r.bottom,a=r.left):e=t=s=a=r,{top:e,right:t,bottom:s,left:a,disabled:r===!1}}function BV(r,e){const t=[],s=r._getSortedDatasetMetas(e);let a,n;for(a=0,n=s.length;a<n;++a)t.push(s[a].index);return t}function _M(r,e,t,s={}){const a=r.keys,n=s.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===t){if(u=!0,s.all)continue;break}d=r.values[c],po(d)&&(n||e===0||El(e)===El(d))&&(e+=d)}return!u&&!s.all?0:e}function npe(r,e){const{iScale:t,vScale:s}=e,a=t.axis==="x"?"x":"y",n=s.axis==="x"?"x":"y",o=Object.keys(r),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[n]:r[u]};return l}function hS(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function ipe(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function ope(r){const{min:e,max:t,minDefined:s,maxDefined:a}=r.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?t:Number.POSITIVE_INFINITY}}function lpe(r,e,t){const s=r[e]||(r[e]={});return s[t]||(s[t]={})}function NM(r,e,t,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const n=r[a.index];if(t&&n>0||!t&&n<0)return a.index}return null}function SM(r,e){const{chart:t,_cachedMeta:s}=r,a=t._stacks||(t._stacks={}),{iScale:n,vScale:o,index:l}=s,c=n.axis,d=o.axis,u=ipe(n,o,s),h=e.length;let m;for(let p=0;p<h;++p){const b=e[p],{[c]:x,[d]:y}=b,w=b._stacks||(b._stacks={});m=w[d]=lpe(a,u,x),m[l]=y,m._top=NM(m,o,!0,s.type),m._bottom=NM(m,o,!1,s.type);const k=m._visualValues||(m._visualValues={});k[l]=y}}function fS(r,e){const t=r.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function cpe(r,e){return Wh(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function dpe(r,e,t){return Wh(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Mg(r,e){const t=r.controller.index,s=r.vScale&&r.vScale.axis;if(s){e=e||r._parsed;for(const a of e){const n=a._stacks;if(!n||n[s]===void 0||n[s][t]===void 0)return;delete n[s][t],n[s]._visualValues!==void 0&&n[s]._visualValues[t]!==void 0&&delete n[s]._visualValues[t]}}}const mS=r=>r==="reset"||r==="none",jM=(r,e)=>e?r:Object.assign({},r),upe=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:BV(t,!0),values:null};class ek{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=hS(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Mg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),a=(h,m,p,b)=>h==="x"?m:h==="r"?b:p,n=t.xAxisID=Sr(s.xAxisID,fS(e,"x")),o=t.yAxisID=Sr(s.yAxisID,fS(e,"y")),l=t.rAxisID=Sr(s.rAxisID,fS(e,"r")),c=t.indexAxis,d=t.iAxisID=a(c,n,o,l),u=t.vAxisID=a(c,o,n,l);t.xScale=this.getScaleForId(n),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&oM(this._data,this),e._stacked&&Mg(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(es(t)){const a=this._cachedMeta;this._data=npe(t,a)}else if(s!==t){if(s){oM(s,this);const a=this._cachedMeta;Mg(a),a._parsed=[]}t&&Object.isExtensible(t)&&$0e(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const n=t._stacked;t._stacked=hS(t.vScale,t),t.stack!==s.stack&&(a=!0,Mg(t),t.stack=s.stack),this._resyncElements(e),(a||n!==t._stacked)&&(SM(this,t._parsed),t._stacked=hS(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:a}=this,{iScale:n,_stacked:o}=s,l=n.axis;let c=e===0&&t===a.length?!0:s._sorted,d=e>0&&s._parsed[e-1],u,h,m;if(this._parsing===!1)s._parsed=a,s._sorted=!0,m=a;else{Qa(a[e])?m=this.parseArrayData(s,a,e,t):es(a[e])?m=this.parseObjectData(s,a,e,t):m=this.parsePrimitiveData(s,a,e,t);const p=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<t;++u)s._parsed[u+e]=h=m[u],c&&(p()&&(c=!1),d=h);s._sorted=c}o&&SM(this,m)}parsePrimitiveData(e,t,s,a){const{iScale:n,vScale:o}=e,l=n.axis,c=o.axis,d=n.getLabels(),u=n===o,h=new Array(a);let m,p,b;for(m=0,p=a;m<p;++m)b=m+s,h[m]={[l]:u||n.parse(d[b],b),[c]:o.parse(t[b],b)};return h}parseArrayData(e,t,s,a){const{xScale:n,yScale:o}=e,l=new Array(a);let c,d,u,h;for(c=0,d=a;c<d;++c)u=c+s,h=t[u],l[c]={x:n.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,t,s,a){const{xScale:n,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,h,m,p;for(u=0,h=a;u<h;++u)m=u+s,p=t[m],d[u]={x:n.parse(Ah(p,l),m),y:o.parse(Ah(p,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const a=this.chart,n=this._cachedMeta,o=t[e.axis],l={keys:BV(a,!0),values:t._stacks[e.axis]._visualValues};return _M(l,o,n.index,{mode:s})}updateRangeFromParsed(e,t,s,a){const n=s[t.axis];let o=n===null?NaN:n;const l=a&&s._stacks[t.axis];a&&l&&(a.values=l,o=_M(a,n,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const s=this._cachedMeta,a=s._parsed,n=s._sorted&&e===s.iScale,o=a.length,l=this._getOtherScale(e),c=upe(t,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=ope(l);let m,p;function b(){p=a[m];const x=p[l.axis];return!po(p[e.axis])||u>x||h<x}for(m=0;m<o&&!(!b()&&(this.updateRangeFromParsed(d,e,p,c),n));++m);if(n){for(m=o-1;m>=0;--m)if(!b()){this.updateRangeFromParsed(d,e,p,c);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let a,n,o;for(a=0,n=t.length;a<n;++a)o=t[a][e.axis],po(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,a=t.vScale,n=this.getParsed(e);return{label:s?""+s.getLabelForValue(n[s.axis]):"",value:a?""+a.getLabelForValue(n[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=ape(Sr(this.options.clip,spe(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,a=s.data||[],n=t.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,n,l,c),u=l;u<l+c;++u){const h=a[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,n))}for(u=0;u<o.length;++u)o[u].draw(e,n)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const a=this.getDataset();let n;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];n=o.$context||(o.$context=dpe(this.getContext(),e,o)),n.parsed=this.getParsed(e),n.raw=a.data[e],n.index=n.dataIndex=e}else n=this.$context||(this.$context=cpe(this.chart.getContext(),this.index)),n.dataset=a,n.index=n.datasetIndex=this.index;return n.active=!!t,n.mode=s,n}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const a=t==="active",n=this._cachedDataOpts,o=e+"-"+t,l=n[o],c=this.enableOptionSharing&&ix(s);if(l)return jM(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=a?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),p=Object.keys(ga.elements[e]),b=()=>this.getContext(s,a,t),x=d.resolveNamedOptions(m,p,b,h);return x.$shared&&(x.$shared=c,n[o]=Object.freeze(jM(x,c))),x}_resolveAnimations(e,t,s){const a=this.chart,n=this._cachedDataOpts,o=`animation-${t}`,l=n[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),m=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(m,this.getContext(e,s,t))}const d=new LV(a,c&&c.animations);return c&&c._cacheable&&(n[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||mS(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),a=this._sharedOptions,n=this.getSharedOptions(s),o=this.includeOptions(t,n)||n!==a;return this.updateSharedOptions(n,t,s),{sharedOptions:n,includeOptions:o}}updateElement(e,t,s,a){mS(a)?Object.assign(e,s):this._resolveAnimations(t,a).update(e,s)}updateSharedOptions(e,t,s){e&&!mS(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,a){e.active=a;const n=this.getStyle(t,a);this._resolveAnimations(t,s,a).update(e,{options:!a&&this.getSharedOptions(n)||n})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=s.length,n=t.length,o=Math.min(n,a);o&&this.parse(0,o),n>a?this._insertElements(a,n-a,e):n<a&&this._removeElements(n,a-n)}_insertElements(e,t,s=!0){const a=this._cachedMeta,n=a.data,o=e+t;let l;const c=d=>{for(d.length+=t,l=d.length-1;l>=o;l--)d[l]=d[l-t]};for(c(n),l=e;l<o;++l)n[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,t),s&&this.updateElements(n,e,t,"reset")}updateElements(e,t,s,a){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,t);s._stacked&&Mg(s,a)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,a]=e;this[t](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function hpe(r,e){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(e);let s=[];for(let a=0,n=t.length;a<n;a++)s=s.concat(t[a].controller.getAllParsedValues(r));r._cache.$bar=_V(s.sort((a,n)=>a-n))}return r._cache.$bar}function fpe(r){const e=r.iScale,t=hpe(e,r.type);let s=e._length,a,n,o,l;const c=()=>{o===32767||o===-32768||(ix(l)&&(s=Math.min(s,Math.abs(o-l)||s)),l=o)};for(a=0,n=t.length;a<n;++a)o=e.getPixelForValue(t[a]),c();for(l=void 0,a=0,n=e.ticks.length;a<n;++a)o=e.getPixelForTick(a),c();return s}function mpe(r,e,t,s){const a=t.barThickness;let n,o;return hs(a)?(n=e.min*t.categoryPercentage,o=t.barPercentage):(n=a*s,o=1),{chunk:n/s,ratio:o,start:e.pixels[r]-n/2}}function gpe(r,e,t,s){const a=e.pixels,n=a[r];let o=r>0?a[r-1]:null,l=r<a.length-1?a[r+1]:null;const c=t.categoryPercentage;o===null&&(o=n-(l===null?e.end-e.start:l-n)),l===null&&(l=n+n-o);const d=n-(n-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/s,ratio:t.barPercentage,start:d}}function ppe(r,e,t,s){const a=t.parse(r[0],s),n=t.parse(r[1],s),o=Math.min(a,n),l=Math.max(a,n);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[t.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:n,min:o,max:l}}function UV(r,e,t,s){return Qa(r)?ppe(r,e,t,s):e[t.axis]=t.parse(r,s),e}function EM(r,e,t,s){const a=r.iScale,n=r.vScale,o=a.getLabels(),l=a===n,c=[];let d,u,h,m;for(d=t,u=t+s;d<u;++d)m=e[d],h={},h[a.axis]=l||a.parse(o[d],d),c.push(UV(m,h,n,d));return c}function gS(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function xpe(r,e,t){return r!==0?El(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function bpe(r){let e,t,s,a,n;return r.horizontal?(e=r.base>r.x,t="left",s="right"):(e=r.base<r.y,t="bottom",s="top"),e?(a="end",n="start"):(a="start",n="end"),{start:t,end:s,reverse:e,top:a,bottom:n}}function ype(r,e,t,s){let a=e.borderSkipped;const n={};if(!a){r.borderSkipped=n;return}if(a===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=bpe(r);a==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===s?a=d:(t._bottom||0)===s?a=u:(n[AM(u,o,l,c)]=!0,a=d)),n[AM(a,o,l,c)]=!0,r.borderSkipped=n}function AM(r,e,t,s){return s?(r=vpe(r,e,t),r=TM(r,t,e)):r=TM(r,e,t),r}function vpe(r,e,t){return r===e?t:r===t?e:r}function TM(r,e,t){return r==="start"?e:r==="end"?t:r}function wpe(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}class kpe extends ek{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,a){return EM(e,t,s,a)}parseArrayData(e,t,s,a){return EM(e,t,s,a)}parseObjectData(e,t,s,a){const{iScale:n,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=n.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let m,p,b,x;for(m=s,p=s+a;m<p;++m)x=t[m],b={},b[n.axis]=n.parse(Ah(x,d),m),h.push(UV(Ah(x,u),b,o,m));return h}updateRangeFromParsed(e,t,s,a){super.updateRangeFromParsed(e,t,s,a);const n=s._custom;n&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,n.min),e.max=Math.max(e.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:a}=t,n=this.getParsed(e),o=n._custom,l=gS(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(n[a.axis]);return{label:""+s.getLabelForValue(n[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,a){const n=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(t,a);for(let p=t;p<t+s;p++){const b=this.getParsed(p),x=n||hs(b[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,u),w=(b._stacks||{})[l.axis],k={horizontal:d,base:x.base,enableBorderRadius:!w||gS(b._custom)||o===w._top||o===w._bottom,x:d?x.head:y.center,y:d?y.center:x.head,height:d?y.size:Math.abs(x.size),width:d?Math.abs(x.size):y.size};m&&(k.options=h||this.resolveDataElementOptions(p,e[p].active?"active":a));const N=k.options||e[p].options;ype(k,N,w,o),wpe(k,N,u.ratio),this.updateElement(e[p],p,k,a)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),n=s.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[s.axis],d=u=>{const h=u._parsed.find(p=>p[s.axis]===c),m=h&&h[u.vScale.axis];if(hs(m)||isNaN(m))return!0};for(const u of a)if(!(t!==void 0&&d(u))&&((n===!1||o.indexOf(u.stack)===-1||n===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Sr(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const a=this._getStacks(e,s),n=t!==void 0?a.indexOf(t):-1;return n===-1?a.length-1:n}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,a=[];let n,o;for(n=0,o=t.data.length;n<o;++n)a.push(s.getPixelForValue(this.getParsed(n)[s.axis],n));const l=e.barThickness;return{min:l||fpe(t),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:a},options:{base:n,minBarLength:o}}=this,l=n||0,c=this.getParsed(e),d=c._custom,u=gS(d);let h=c[t.axis],m=0,p=s?this.applyStack(t,c,s):h,b,x;p!==h&&(m=p-h,p=h),u&&(h=d.barStart,p=d.barEnd-d.barStart,h!==0&&El(h)!==El(d.barEnd)&&(m=0),m+=h);const y=!hs(n)&&!u?n:m;let w=t.getPixelForValue(y);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(m+p):b=w,x=b-w,Math.abs(x)<o){x=xpe(x,t,l)*o,h===l&&(w-=x/2);const k=t.getPixelForDecimal(0),N=t.getPixelForDecimal(1),T=Math.min(k,N),E=Math.max(k,N);w=Math.max(Math.min(w,E),T),b=w+x,s&&!u&&(c._stacks[t.axis]._visualValues[a]=t.getValueForPixel(b)-t.getValueForPixel(w))}if(w===t.getPixelForValue(l)){const k=El(x)*t.getLineWidthForValue(l)/2;w+=k,x-=k}return{size:x,base:w,head:b,center:b+x/2}}_calculateBarIndexPixels(e,t){const s=t.scale,a=this.options,n=a.skipNull,o=Sr(a.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(t.grouped){const u=n?this._getStackCount(e):t.stackCount,h=a.barThickness==="flex"?gpe(e,t,a,u*d):mpe(e,t,a,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(Sr(m,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,n?e:void 0)+p;l=h.start+h.chunk*b+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,a=s.length;let n=0;for(;n<a;++n)this.getParsed(n)[t.axis]!==null&&!s[n].hidden&&s[n].draw(this._ctx)}}function _pe(r,e,t){let s=1,a=1,n=0,o=0;if(e<sa){const l=r,c=l+e,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),m=Math.sin(c),p=(N,T,E)=>lx(N,l,c,!0)?1:Math.max(T,T*t,E,E*t),b=(N,T,E)=>lx(N,l,c,!0)?-1:Math.min(T,T*t,E,E*t),x=p(0,d,h),y=p(Ua,u,m),w=b(Is,d,h),k=b(Is+Ua,u,m);s=(x-w)/2,a=(y-k)/2,n=-(x+w)/2,o=-(y+k)/2}return{ratioX:s,ratioY:a,offsetX:n,offsetY:o}}class Npe extends ek{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return t.labels.map((n,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:n,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let n=c=>+s[c];if(es(s[e])){const{key:c="value"}=this._parsing;n=d=>+Ah(s[d],c)}let o,l;for(o=e,l=e+t;o<l;++o)a._parsed[o]=n(o)}}_getRotation(){return dc(this.options.rotation-90)}_getCircumference(){return dc(this.options.circumference)}_getRotationExtents(){let e=sa,t=-sa;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,n=a._getRotation(),o=a._getCircumference();e=Math.min(e,n),t=Math.max(t,n+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,a=this._cachedMeta,n=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(E0e(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:b,offsetY:x}=_pe(h,u,c),y=(s.width-o)/m,w=(s.height-o)/p,k=Math.max(Math.min(y,w)/2,0),N=bV(this.options.radius,k),T=Math.max(N*c,0),E=(N-T)/this._getVisibleDatasetWeightTotal();this.offsetX=b*N,this.offsetY=x*N,a.total=this.calculateTotal(),this.outerRadius=N-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*d,0),this.updateElements(n,0,n.length,e)}_circumference(e,t){const s=this.options,a=this._cachedMeta,n=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*n/sa)}updateElements(e,t,s,a){const n=a==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,m=n&&d.animateScale,p=m?0:this.innerRadius,b=m?0:this.outerRadius,{sharedOptions:x,includeOptions:y}=this._getSharedOptions(t,a);let w=this._getRotation(),k;for(k=0;k<t;++k)w+=this._circumference(k,n);for(k=t;k<t+s;++k){const N=this._circumference(k,n),T=e[k],E={x:u+this.offsetX,y:h+this.offsetY,startAngle:w,endAngle:w+N,circumference:N,outerRadius:b,innerRadius:p};y&&(E.options=x||this.resolveDataElementOptions(k,T.active?"active":a)),w+=N,this.updateElement(T,k,E,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,a;for(a=0;a<t.length;a++){const n=e._parsed[a];n!==null&&!isNaN(n)&&this.chart.getDataVisibility(a)&&!t[a].hidden&&(s+=Math.abs(n))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?sa*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,a=s.data.labels||[],n=mC(t._parsed[e],s.options.locale);return{label:a[e]||"",value:n}}getMaxBorderWidth(e){let t=0;const s=this.chart;let a,n,o,l,c;if(!e){for(a=0,n=s.data.datasets.length;a<n;++a)if(s.isDatasetVisible(a)){o=s.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,n=e.length;a<n;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,a=e.length;s<a;++s){const n=this.resolveDataElementOptions(s);t=Math.max(t,n.offset||0,n.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(Sr(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Spe extends ek{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:a=[],_dataset:n}=t,o=this.chart._animationsDisabled;let{start:l,count:c}=G0e(t,a,o);this._drawStart=l,this._drawCount=c,Y0e(t)&&(l=0,c=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!n._decimated,s.points=a;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:d},e),this.updateElements(a,l,c,e)}updateElements(e,t,s,a){const n=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,a),m=o.axis,p=l.axis,{spanGaps:b,segment:x}=this.options,y=ox(b)?b:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||n||a==="none",k=t+s,N=e.length;let T=t>0&&this.getParsed(t-1);for(let E=0;E<N;++E){const I=e[E],S=w?I:{};if(E<t||E>=k){S.skip=!0;continue}const A=this.getParsed(E),P=hs(A[p]),O=S[m]=o.getPixelForValue(A[m],E),M=S[p]=n||P?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[p],E);S.skip=isNaN(O)||isNaN(M)||P,S.stop=E>0&&Math.abs(A[m]-T[m])>y,x&&(S.parsed=A,S.raw=d.data[E]),h&&(S.options=u||this.resolveDataElementOptions(E,I.active?"active":a)),w||this.updateElement(I,E,S,a),T=A}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const n=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,n,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Fu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class _C{static override(e){Object.assign(_C.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Fu()}parse(){return Fu()}format(){return Fu()}add(){return Fu()}diff(){return Fu()}startOf(){return Fu()}endOf(){return Fu()}}var jpe={_date:_C};function Epe(r,e,t,s){const{controller:a,data:n,_sorted:o}=r,l=a._cachedMeta.iScale,c=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&n.length){const d=l._reversePixels?V0e:rh;if(s){if(a._sharedOptions){const u=n[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const m=d(n,e,t-h),p=d(n,e,t+h);return{lo:m.lo,hi:p.hi}}}}else{const u=d(n,e,t);if(c){const{vScale:h}=a._cachedMeta,{_parsed:m}=r,p=m.slice(0,u.lo+1).reverse().findIndex(x=>!hs(x[h.axis]));u.lo-=Math.max(0,p);const b=m.slice(u.hi).findIndex(x=>!hs(x[h.axis]));u.hi+=Math.max(0,b)}return u}}return{lo:0,hi:n.length-1}}function tk(r,e,t,s,a){const n=r.getSortedVisibleDatasetMetas(),o=t[e];for(let l=0,c=n.length;l<c;++l){const{index:d,data:u}=n[l],{lo:h,hi:m}=Epe(n[l],e,o,a);for(let p=h;p<=m;++p){const b=u[p];b.skip||s(b,d,p)}}}function Ape(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(s,a){const n=e?Math.abs(s.x-a.x):0,o=t?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))}}function pS(r,e,t,s,a){const n=[];return!a&&!r.isPointInArea(e)||tk(r,t,e,function(l,c,d){!a&&!cx(l,r.chartArea,0)||l.inRange(e.x,e.y,s)&&n.push({element:l,datasetIndex:c,index:d})},!0),n}function Tpe(r,e,t,s){let a=[];function n(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=wV(o,{x:e.x,y:e.y});lx(h,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return tk(r,t,e,n),a}function Cpe(r,e,t,s,a,n){let o=[];const l=Ape(t);let c=Number.POSITIVE_INFINITY;function d(u,h,m){const p=u.inRange(e.x,e.y,a);if(s&&!p)return;const b=u.getCenterPoint(a);if(!(!!n||r.isPointInArea(b))&&!p)return;const y=l(e,b);y<c?(o=[{element:u,datasetIndex:h,index:m}],c=y):y===c&&o.push({element:u,datasetIndex:h,index:m})}return tk(r,t,e,d),o}function xS(r,e,t,s,a,n){return!n&&!r.isPointInArea(e)?[]:t==="r"&&!s?Tpe(r,e,t,a):Cpe(r,e,t,s,a,n)}function CM(r,e,t,s,a){const n=[],o=t==="x"?"inXRange":"inYRange";let l=!1;return tk(r,t,e,(c,d,u)=>{c[o]&&c[o](e[t],a)&&(n.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,a))}),s&&!l?[]:n}var Ppe={modes:{index(r,e,t,s){const a=Hu(e,r),n=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?pS(r,a,n,s,o):xS(r,a,n,!1,s,o),c=[];return l.length?(r.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(r,e,t,s){const a=Hu(e,r),n=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?pS(r,a,n,s,o):xS(r,a,n,!1,s,o);if(l.length>0){const c=l[0].datasetIndex,d=r.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(r,e,t,s){const a=Hu(e,r),n=t.axis||"xy",o=t.includeInvisible||!1;return pS(r,a,n,s,o)},nearest(r,e,t,s){const a=Hu(e,r),n=t.axis||"xy",o=t.includeInvisible||!1;return xS(r,a,n,t.intersect,s,o)},x(r,e,t,s){const a=Hu(e,r);return CM(r,a,"x",t.intersect,s)},y(r,e,t,s){const a=Hu(e,r);return CM(r,a,"y",t.intersect,s)}}};const zV=["left","top","right","bottom"];function Fg(r,e){return r.filter(t=>t.pos===e)}function PM(r,e){return r.filter(t=>zV.indexOf(t.pos)===-1&&t.box.axis===e)}function Lg(r,e){return r.sort((t,s)=>{const a=e?s:t,n=e?t:s;return a.weight===n.weight?a.index-n.index:a.weight-n.weight})}function Rpe(r){const e=[];let t,s,a,n,o,l;for(t=0,s=(r||[]).length;t<s;++t)a=r[t],{position:n,options:{stack:o,stackWeight:l=1}}=a,e.push({index:t,box:a,pos:n,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&n+o,stackWeight:l});return e}function Ipe(r){const e={};for(const t of r){const{stack:s,pos:a,stackWeight:n}=t;if(!s||!zV.includes(a))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=n}return e}function Dpe(r,e){const t=Ipe(r),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let n,o,l;for(n=0,o=r.length;n<o;++n){l=r[n];const{fullSize:c}=l.box,d=t[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*s:c&&e.availableWidth,l.height=a):(l.width=s,l.height=u?u*a:c&&e.availableHeight)}return t}function Ope(r){const e=Rpe(r),t=Lg(e.filter(d=>d.box.fullSize),!0),s=Lg(Fg(e,"left"),!0),a=Lg(Fg(e,"right")),n=Lg(Fg(e,"top"),!0),o=Lg(Fg(e,"bottom")),l=PM(e,"x"),c=PM(e,"y");return{fullSize:t,leftAndTop:s.concat(n),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:Fg(e,"chartArea"),vertical:s.concat(a).concat(c),horizontal:n.concat(o).concat(l)}}function RM(r,e,t,s){return Math.max(r[t],e[t])+Math.max(r[s],e[s])}function VV(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function Mpe(r,e,t,s){const{pos:a,box:n}=t,o=r.maxPadding;if(!es(a)){t.size&&(r[a]-=t.size);const h=s[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?n.height:n.width),t.size=h.size/h.count,r[a]+=t.size}n.getPadding&&VV(o,n.getPadding());const l=Math.max(0,e.outerWidth-RM(o,r,"left","right")),c=Math.max(0,e.outerHeight-RM(o,r,"top","bottom")),d=l!==r.w,u=c!==r.h;return r.w=l,r.h=c,t.horizontal?{same:d,other:u}:{same:u,other:d}}function Fpe(r){const e=r.maxPadding;function t(s){const a=Math.max(e[s]-r[s],0);return r[s]+=a,a}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function Lpe(r,e){const t=e.maxPadding;function s(a){const n={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{n[o]=Math.max(e[o],t[o])}),n}return s(r?["left","right"]:["top","bottom"])}function sp(r,e,t,s){const a=[];let n,o,l,c,d,u;for(n=0,o=r.length,d=0;n<o;++n){l=r[n],c=l.box,c.update(l.width||e.w,l.height||e.h,Lpe(l.horizontal,e));const{same:h,other:m}=Mpe(e,t,l,s);d|=h&&a.length,u=u||m,c.fullSize||a.push(l)}return d&&sp(a,e,t,s)||u}function Zv(r,e,t,s,a){r.top=t,r.left=e,r.right=e+s,r.bottom=t+a,r.width=s,r.height=a}function IM(r,e,t,s){const a=t.padding;let{x:n,y:o}=e;for(const l of r){const c=l.box,d=s[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,m=d.size||c.height;ix(d.start)&&(o=d.start),c.fullSize?Zv(c,a.left,o,t.outerWidth-a.right-a.left,m):Zv(c,e.left+d.placed,o,h,m),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,m=d.size||c.width;ix(d.start)&&(n=d.start),c.fullSize?Zv(c,n,a.top,m,t.outerHeight-a.bottom-a.top):Zv(c,n,e.top+d.placed,m,h),d.start=n,d.placed+=h,n=c.right}}e.x=n,e.y=o}var vd={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,s){if(!r)return;const a=Ho(r.options.layout.padding),n=Math.max(e-a.width,0),o=Math.max(t-a.height,0),l=Ope(r.boxes),c=l.vertical,d=l.horizontal;ys(r.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,y)=>y.box.options&&y.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:a,availableWidth:n,availableHeight:o,vBoxMaxWidth:n/2/u,hBoxMaxHeight:o/2}),m=Object.assign({},a);VV(m,Ho(s));const p=Object.assign({maxPadding:m,w:n,h:o,x:a.left,y:a.top},a),b=Dpe(c.concat(d),h);sp(l.fullSize,p,h,b),sp(c,p,h,b),sp(d,p,h,b)&&sp(c,p,h,b),Fpe(p),IM(l.leftAndTop,p,h,b),p.x+=p.w,p.y+=p.h,IM(l.rightAndBottom,p,h,b),r.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ys(l.chartArea,x=>{const y=x.box;Object.assign(y,r.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class HV{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,a){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):s)}}isAttached(e){return!0}updateConfig(e){}}class Bpe extends HV{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const q1="$chartjs",Upe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},DM=r=>r===null||r==="";function zpe(r,e){const t=r.style,s=r.getAttribute("height"),a=r.getAttribute("width");if(r[q1]={initial:{height:s,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",DM(a)){const n=xM(r,"width");n!==void 0&&(r.width=n)}if(DM(s))if(r.style.height==="")r.height=r.width/(e||2);else{const n=xM(r,"height");n!==void 0&&(r.height=n)}return r}const $V=Fge?{passive:!0}:!1;function Vpe(r,e,t){r&&r.addEventListener(e,t,$V)}function Hpe(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,$V)}function $pe(r,e){const t=Upe[r.type]||r.type,{x:s,y:a}=Hu(r,e);return{type:t,chart:e,native:r,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Bw(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function Wpe(r,e,t){const s=r.canvas,a=new MutationObserver(n=>{let o=!1;for(const l of n)o=o||Bw(l.addedNodes,s),o=o&&!Bw(l.removedNodes,s);o&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}function qpe(r,e,t){const s=r.canvas,a=new MutationObserver(n=>{let o=!1;for(const l of n)o=o||Bw(l.removedNodes,s),o=o&&!Bw(l.addedNodes,s);o&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}const dx=new Map;let OM=0;function WV(){const r=window.devicePixelRatio;r!==OM&&(OM=r,dx.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function Gpe(r,e){dx.size||window.addEventListener("resize",WV),dx.set(r,e)}function Ype(r){dx.delete(r),dx.size||window.removeEventListener("resize",WV)}function Xpe(r,e,t){const s=r.canvas,a=s&&kC(s);if(!a)return;const n=SV((l,c)=>{const d=a.clientWidth;t(l,c),d<a.clientWidth&&t()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||n(d,u)});return o.observe(a),Gpe(r,n),o}function bS(r,e,t){t&&t.disconnect(),e==="resize"&&Ype(r)}function Kpe(r,e,t){const s=r.canvas,a=SV(n=>{r.ctx!==null&&t($pe(n,r))},r);return Vpe(s,e,a),a}class Zpe extends HV{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(zpe(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[q1])return!1;const s=t[q1].initial;["height","width"].forEach(n=>{const o=s[n];hs(o)?t.removeAttribute(n):t.setAttribute(n,o)});const a=s.style||{};return Object.keys(a).forEach(n=>{t.style[n]=a[n]}),t.width=t.width,delete t[q1],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),o={attach:Wpe,detach:qpe,resize:Xpe}[t]||Kpe;a[t]=o(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),a=s[t];if(!a)return;({attach:bS,detach:bS,resize:bS}[t]||Hpe)(e,t,a),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,a){return Mge(e,t,s,a)}isAttached(e){const t=e&&kC(e);return!!(t&&t.isConnected)}}function Qpe(r){return!wC()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?Bpe:Zpe}let ru=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return ox(this.x)&&ox(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const a={};return e.forEach(n=>{a[n]=s[n]&&s[n].active()?s[n]._to:this[n]}),a}};function Jpe(r,e){const t=r.options.ticks,s=exe(r),a=Math.min(t.maxTicksLimit||s,s),n=t.major.enabled?rxe(e):[],o=n.length,l=n[0],c=n[o-1],d=[];if(o>a)return sxe(e,d,n,o/a),d;const u=txe(n,e,a);if(o>0){let h,m;const p=o>1?Math.round((c-l)/(o-1)):null;for(Qv(e,d,u,hs(p)?0:l-p,l),h=0,m=o-1;h<m;h++)Qv(e,d,u,n[h],n[h+1]);return Qv(e,d,u,c,hs(p)?e.length:c+p),d}return Qv(e,d,u),d}function exe(r){const e=r.options.offset,t=r._tickSize(),s=r._length/t+(e?0:1),a=r._maxLength/t;return Math.floor(Math.min(s,a))}function txe(r,e,t){const s=axe(r),a=e.length/t;if(!s)return Math.max(a,1);const n=O0e(s);for(let o=0,l=n.length-1;o<l;o++){const c=n[o];if(c>a)return c}return Math.max(a,1)}function rxe(r){const e=[];let t,s;for(t=0,s=r.length;t<s;t++)r[t].major&&e.push(t);return e}function sxe(r,e,t,s){let a=0,n=t[0],o;for(s=Math.ceil(s),o=0;o<r.length;o++)o===n&&(e.push(r[o]),a++,n=t[a*s])}function Qv(r,e,t,s,a){const n=Sr(s,0),o=Math.min(Sr(a,r.length),r.length);let l=0,c,d,u;for(t=Math.ceil(t),a&&(c=a-s,t=c/Math.floor(c/t)),u=n;u<0;)l++,u=Math.round(n+l*t);for(d=Math.max(n,0);d<o;d++)d===u&&(e.push(r[d]),l++,u=Math.round(n+l*t))}function axe(r){const e=r.length;let t,s;if(e<2)return!1;for(s=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==s)return!1;return s}const nxe=r=>r==="left"?"right":r==="right"?"left":r,MM=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,FM=(r,e)=>Math.min(e||r,r);function LM(r,e){const t=[],s=r.length/e,a=r.length;let n=0;for(;n<a;n+=s)t.push(r[Math.floor(n)]);return t}function ixe(r,e,t){const s=r.ticks.length,a=Math.min(e,s-1),n=r._startPixel,o=r._endPixel,l=1e-6;let c=r.getPixelForTick(a),d;if(!(t&&(s===1?d=Math.max(c-n,o-c):e===0?d=(r.getPixelForTick(1)-c)/2:d=(c-r.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<n-l||c>o+l)))return c}function oxe(r,e){ys(r,t=>{const s=t.gc,a=s.length/2;let n;if(a>e){for(n=0;n<a;++n)delete t.data[s[n]];s.splice(0,a)}})}function Bg(r){return r.drawTicks?r.tickLength:0}function BM(r,e){if(!r.display)return 0;const t=ci(r.font,e),s=Ho(r.padding);return(Qa(r.text)?r.text.length:1)*t.lineHeight+s.height}function lxe(r,e){return Wh(r,{scale:e,type:"scale"})}function cxe(r,e,t){return Wh(r,{tick:t,index:e,type:"tick"})}function dxe(r,e,t){let s=jV(r);return(t&&e!=="right"||!t&&e==="right")&&(s=nxe(s)),s}function uxe(r,e,t,s){const{top:a,left:n,bottom:o,right:l,chart:c}=r,{chartArea:d,scales:u}=c;let h=0,m,p,b;const x=o-a,y=l-n;if(r.isHorizontal()){if(p=ji(s,n,l),es(t)){const w=Object.keys(t)[0],k=t[w];b=u[w].getPixelForValue(k)+x-e}else t==="center"?b=(d.bottom+d.top)/2+x-e:b=MM(r,t,e);m=l-n}else{if(es(t)){const w=Object.keys(t)[0],k=t[w];p=u[w].getPixelForValue(k)-y+e}else t==="center"?p=(d.left+d.right)/2-y+e:p=MM(r,t,e);b=ji(s,o,a),h=t==="left"?-Ua:Ua}return{titleX:p,titleY:b,maxWidth:m,rotation:h}}class f0 extends ru{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:a}=this;return e=nl(e,Number.POSITIVE_INFINITY),t=nl(t,Number.NEGATIVE_INFINITY),s=nl(s,Number.POSITIVE_INFINITY),a=nl(a,Number.NEGATIVE_INFINITY),{min:nl(e,s),max:nl(t,a),minDefined:po(e),maxDefined:po(t)}}getMinMax(e){let{min:t,max:s,minDefined:a,maxDefined:n}=this.getUserBounds(),o;if(a&&n)return{min:t,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),a||(t=Math.min(t,o.min)),n||(s=Math.max(s,o.max));return t=n&&t>s?s:t,s=a&&t>s?t:s,{min:nl(t,nl(s,t)),max:nl(s,nl(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Fs(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:a,grace:n,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=mge(this,n,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?LM(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Jpe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Fs(this.options.afterUpdate,[this])}beforeSetDimensions(){Fs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Fs(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Fs(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Fs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,a,n;for(s=0,a=e.length;s<a;s++)n=e[s],n.label=Fs(t.callback,[n.value,s,e],this)}afterTickToLabelConversion(){Fs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Fs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=FM(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,n=t.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!t.display||a>=n||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),h=u.widest.width,m=u.highest.height,p=Tn(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/s:p/(s-1),h+6>l&&(l=p/(s-(e.offset?.5:1)),c=this.maxHeight-Bg(e.grid)-t.padding-BM(e.title,this.chart.options.font),d=Math.sqrt(h*h+m*m),o=B0e(Math.min(Math.asin(Tn((u.highest.height+6)/l,-1,1)),Math.asin(Tn(c/d,-1,1))-Math.asin(Tn(m/d,-1,1)))),o=Math.max(a,Math.min(n,o))),this.labelRotation=o}afterCalculateLabelRotation(){Fs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Fs(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:a,grid:n}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=BM(a,t.options.font);if(l?(e.width=this.maxWidth,e.height=Bg(n)+c):(e.height=this.maxHeight,e.width=Bg(n)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:m}=this._getLabelSizes(),p=s.padding*2,b=dc(this.labelRotation),x=Math.cos(b),y=Math.sin(b);if(l){const w=s.mirror?0:y*h.width+x*m.height;e.height=Math.min(this.maxHeight,e.height+w+p)}else{const w=s.mirror?0:x*h.width+y*m.height;e.width=Math.min(this.maxWidth,e.width+w+p)}this._calculatePadding(d,u,y,x)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,a){const{ticks:{align:n,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,p=0;c?d?(m=a*e.width,p=s*t.height):(m=s*e.height,p=a*t.width):n==="start"?p=t.width:n==="end"?m=e.width:n!=="inner"&&(m=e.width/2,p=t.width/2),this.paddingLeft=Math.max((m-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;n==="start"?(u=0,h=e.height):n==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Fs(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)hs(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=LM(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:a,_longestTextCache:n}=this,o=[],l=[],c=Math.floor(t/FM(t,s));let d=0,u=0,h,m,p,b,x,y,w,k,N,T,E;for(h=0;h<t;h+=c){if(b=e[h].label,x=this._resolveTickFontOptions(h),a.font=y=x.string,w=n[y]=n[y]||{data:{},gc:[]},k=x.lineHeight,N=T=0,!hs(b)&&!Qa(b))N=hM(a,w.data,w.gc,N,b),T=k;else if(Qa(b))for(m=0,p=b.length;m<p;++m)E=b[m],!hs(E)&&!Qa(E)&&(N=hM(a,w.data,w.gc,N,E),T+=k);o.push(N),l.push(T),d=Math.max(N,d),u=Math.max(T,u)}oxe(n,t);const I=o.indexOf(d),S=l.indexOf(u),A=P=>({width:o[P]||0,height:l[P]||0});return{first:A(0),last:A(t-1),widest:A(I),highest:A(S),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return z0e(this._alignToPixels?Mu(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=cxe(this.getContext(),e,s))}return this.$context||(this.$context=lxe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=dc(this.labelRotation),s=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),n=this._getLabelSizes(),o=e.autoSkipPadding||0,l=n?n.widest.width+o:0,c=n?n.highest.height+o:0;return this.isHorizontal()?c*s>l*a?l/s:c/a:c*a<l*s?c/s:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,a=this.options,{grid:n,position:o,border:l}=a,c=n.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),m=Bg(n),p=[],b=l.setContext(this.getContext()),x=b.display?b.width:0,y=x/2,w=function(H){return Mu(s,H,x)};let k,N,T,E,I,S,A,P,O,M,L,B;if(o==="top")k=w(this.bottom),S=this.bottom-m,P=k-y,M=w(e.top)+y,B=e.bottom;else if(o==="bottom")k=w(this.top),M=e.top,B=w(e.bottom)-y,S=k+y,P=this.top+m;else if(o==="left")k=w(this.right),I=this.right-m,A=k-y,O=w(e.left)+y,L=e.right;else if(o==="right")k=w(this.left),O=e.left,L=w(e.right)-y,I=k+y,A=this.left+m;else if(t==="x"){if(o==="center")k=w((e.top+e.bottom)/2+.5);else if(es(o)){const H=Object.keys(o)[0],W=o[H];k=w(this.chart.scales[H].getPixelForValue(W))}M=e.top,B=e.bottom,S=k+y,P=S+m}else if(t==="y"){if(o==="center")k=w((e.left+e.right)/2);else if(es(o)){const H=Object.keys(o)[0],W=o[H];k=w(this.chart.scales[H].getPixelForValue(W))}I=k-y,A=I-m,O=e.left,L=e.right}const G=Sr(a.ticks.maxTicksLimit,h),X=Math.max(1,Math.ceil(h/G));for(N=0;N<h;N+=X){const H=this.getContext(N),W=n.setContext(H),ne=l.setContext(H),U=W.lineWidth,z=W.color,Q=ne.dash||[],q=ne.dashOffset,Z=W.tickWidth,J=W.tickColor,re=W.tickBorderDash||[],de=W.tickBorderDashOffset;T=ixe(this,N,c),T!==void 0&&(E=Mu(s,T,U),d?I=A=O=L=E:S=P=M=B=E,p.push({tx1:I,ty1:S,tx2:A,ty2:P,x1:O,y1:M,x2:L,y2:B,width:U,color:z,borderDash:Q,borderDashOffset:q,tickWidth:Z,tickColor:J,tickBorderDash:re,tickBorderDashOffset:de}))}return this._ticksLength=h,this._borderValue=k,p}_computeLabelItems(e){const t=this.axis,s=this.options,{position:a,ticks:n}=s,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=n,m=Bg(s.grid),p=m+u,b=h?-u:p,x=-dc(this.labelRotation),y=[];let w,k,N,T,E,I,S,A,P,O,M,L,B="middle";if(a==="top")I=this.bottom-b,S=this._getXAxisLabelAlignment();else if(a==="bottom")I=this.top+b,S=this._getXAxisLabelAlignment();else if(a==="left"){const X=this._getYAxisLabelAlignment(m);S=X.textAlign,E=X.x}else if(a==="right"){const X=this._getYAxisLabelAlignment(m);S=X.textAlign,E=X.x}else if(t==="x"){if(a==="center")I=(e.top+e.bottom)/2+p;else if(es(a)){const X=Object.keys(a)[0],H=a[X];I=this.chart.scales[X].getPixelForValue(H)+p}S=this._getXAxisLabelAlignment()}else if(t==="y"){if(a==="center")E=(e.left+e.right)/2-p;else if(es(a)){const X=Object.keys(a)[0],H=a[X];E=this.chart.scales[X].getPixelForValue(H)}S=this._getYAxisLabelAlignment(m).textAlign}t==="y"&&(c==="start"?B="top":c==="end"&&(B="bottom"));const G=this._getLabelSizes();for(w=0,k=l.length;w<k;++w){N=l[w],T=N.label;const X=n.setContext(this.getContext(w));A=this.getPixelForTick(w)+n.labelOffset,P=this._resolveTickFontOptions(w),O=P.lineHeight,M=Qa(T)?T.length:1;const H=M/2,W=X.color,ne=X.textStrokeColor,U=X.textStrokeWidth;let z=S;o?(E=A,S==="inner"&&(w===k-1?z=this.options.reverse?"left":"right":w===0?z=this.options.reverse?"right":"left":z="center"),a==="top"?d==="near"||x!==0?L=-M*O+O/2:d==="center"?L=-G.highest.height/2-H*O+O:L=-G.highest.height+O/2:d==="near"||x!==0?L=O/2:d==="center"?L=G.highest.height/2-H*O:L=G.highest.height-M*O,h&&(L*=-1),x!==0&&!X.showLabelBackdrop&&(E+=O/2*Math.sin(x))):(I=A,L=(1-M)*O/2);let Q;if(X.showLabelBackdrop){const q=Ho(X.backdropPadding),Z=G.heights[w],J=G.widths[w];let re=L-q.top,de=0-q.left;switch(B){case"middle":re-=Z/2;break;case"bottom":re-=Z;break}switch(S){case"center":de-=J/2;break;case"right":de-=J;break;case"inner":w===k-1?de-=J:w>0&&(de-=J/2);break}Q={left:de,top:re,width:J+q.width,height:Z+q.height,color:X.backdropColor}}y.push({label:T,font:P,textOffset:L,options:{rotation:x,color:W,strokeColor:ne,strokeWidth:U,textAlign:z,textBaseline:B,translation:[E,I],backdrop:Q}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-dc(this.labelRotation))return e==="top"?"left":"right";let a="center";return t.align==="start"?a="left":t.align==="end"?a="right":t.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:a,padding:n}}=this.options,o=this._getLabelSizes(),l=e+n,c=o.widest.width;let d,u;return t==="left"?a?(u=this.right+n,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):t==="right"?a?(u=this.left+n,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:a,width:n,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,a,n,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex(n=>n.value===e);return a>=0?t.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let n,o;const l=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(t.display)for(n=0,o=a.length;n<o;++n){const c=a[n];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:a}}=this,n=s.setContext(this.getContext()),o=s.display?n.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,m;this.isHorizontal()?(d=Mu(e,this.left,o)-o/2,u=Mu(e,this.right,l)+l/2,h=m=c):(h=Mu(e,this.top,o)-o/2,m=Mu(e,this.bottom,l)+l/2,d=u=c),t.save(),t.lineWidth=n.width,t.strokeStyle=n.color,t.beginPath(),t.moveTo(d,h),t.lineTo(u,m),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&gC(s,a);const n=this.getLabelItems(e);for(const o of n){const l=o.options,c=o.font,d=o.label,u=o.textOffset;Mw(s,d,0,u,c,l)}a&&pC(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:a}}=this;if(!s.display)return;const n=ci(s.font),o=Ho(s.padding),l=s.align;let c=n.lineHeight/2;t==="bottom"||t==="center"||es(t)?(c+=o.bottom,Qa(s.text)&&(c+=n.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:m}=uxe(this,c,t,l);Mw(e,s.text,0,0,n,{color:s.color,maxWidth:h,rotation:m,textAlign:dxe(l,t,a),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=Sr(e.grid&&e.grid.z,-1),a=Sr(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==f0.prototype.draw?[{z:t,draw:n=>{this.draw(n)}}]:[{z:s,draw:n=>{this.drawBackground(),this.drawGrid(n),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:n=>{this.drawLabels(n)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let n,o;for(n=0,o=t.length;n<o;++n){const l=t[n];l[s]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ci(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Jv{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;mxe(t)&&(s=this.register(t));const a=this.items,n=e.id,o=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+e);return n in a||(a[n]=e,hxe(e,o,s),this.override&&ga.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,a=this.scope;s in t&&delete t[s],a&&s in ga[a]&&(delete ga[a][s],this.override&&delete Th[s])}}function hxe(r,e,t){const s=nx(Object.create(null),[t?ga.get(t):{},ga.get(e),r.defaults]);ga.set(e,s),r.defaultRoutes&&fxe(e,r.defaultRoutes),r.descriptors&&ga.describe(e,r.descriptors)}function fxe(r,e){Object.keys(e).forEach(t=>{const s=t.split("."),a=s.pop(),n=[r].concat(s).join("."),o=e[t].split("."),l=o.pop(),c=o.join(".");ga.route(n,a,c,l)})}function mxe(r){return"id"in r&&"defaults"in r}class gxe{constructor(){this.controllers=new Jv(ek,"datasets",!0),this.elements=new Jv(ru,"elements"),this.plugins=new Jv(Object,"plugins"),this.scales=new Jv(f0,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(a=>{const n=s||this._getRegistryForType(a);s||n.isForType(a)||n===this.plugins&&a.id?this._exec(e,n,a):ys(a,o=>{const l=s||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,t,s){const a=uC(e);Fs(s["before"+a],[],s),t[e](s),Fs(s["after"+a],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const a=t.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var ul=new gxe;class pxe{constructor(){this._init=[]}notify(e,t,s,a){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const n=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(n,e,t,s);return t==="afterDestroy"&&(this._notify(n,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,s,a){a=a||{};for(const n of e){const o=n.plugin,l=o[s],c=[t,a,n.options];if(Fs(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){hs(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,a=Sr(s.options&&s.options.plugins,{}),n=xxe(s);return a===!1&&!t?[]:yxe(e,n,a,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,a=(n,o)=>n.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(t,s),e,"stop"),this._notify(a(s,t),e,"start")}}function xxe(r){const e={},t=[],s=Object.keys(ul.plugins.items);for(let n=0;n<s.length;n++)t.push(ul.getPlugin(s[n]));const a=r.plugins||[];for(let n=0;n<a.length;n++){const o=a[n];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function bxe(r,e){return!e&&r===!1?null:r===!0?{}:r}function yxe(r,{plugins:e,localIds:t},s,a){const n=[],o=r.getContext();for(const l of e){const c=l.id,d=bxe(s[c],a);d!==null&&n.push({plugin:l,options:vxe(r.config,{plugin:l,local:t[c]},d,o)})}return n}function vxe(r,{plugin:e,local:t},s,a){const n=r.pluginScopeKeys(e),o=r.getOptionScopes(s,n);return t&&e.defaults&&o.push(e.defaults),r.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vE(r,e){const t=ga.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function wxe(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function kxe(r,e){return r===e?"_index_":"_value_"}function UM(r){if(r==="x"||r==="y"||r==="r")return r}function _xe(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function wE(r,...e){if(UM(r))return r;for(const t of e){const s=t.axis||_xe(t.position)||r.length>1&&UM(r[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function zM(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function Nxe(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===r||s.yAxisID===r);if(t.length)return zM(r,"x",t[0])||zM(r,"y",t[0])}return{}}function Sxe(r,e){const t=Th[r.type]||{scales:{}},s=e.scales||{},a=vE(r.type,e),n=Object.create(null);return Object.keys(s).forEach(o=>{const l=s[o];if(!es(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=wE(o,l,Nxe(o,r),ga.scales[l.type]),d=kxe(c,a),u=t.scales||{};n[o]=_p(Object.create(null),[{axis:c},l,u[c],u[d]])}),r.data.datasets.forEach(o=>{const l=o.type||r.type,c=o.indexAxis||vE(l,e),u=(Th[l]||{}).scales||{};Object.keys(u).forEach(h=>{const m=wxe(h,c),p=o[m+"AxisID"]||m;n[p]=n[p]||Object.create(null),_p(n[p],[{axis:m},s[p],u[h]])})}),Object.keys(n).forEach(o=>{const l=n[o];_p(l,[ga.scales[l.type],ga.scale])}),n}function qV(r){const e=r.options||(r.options={});e.plugins=Sr(e.plugins,{}),e.scales=Sxe(r,e)}function GV(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function jxe(r){return r=r||{},r.data=GV(r.data),qV(r),r}const VM=new Map,YV=new Set;function e1(r,e){let t=VM.get(r);return t||(t=e(),VM.set(r,t),YV.add(t)),t}const Ug=(r,e,t)=>{const s=Ah(e,t);s!==void 0&&r.add(s)};class Exe{constructor(e){this._config=jxe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=GV(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),qV(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return e1(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return e1(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return e1(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return e1(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let a=s.get(e);return(!a||t)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,t,s){const{options:a,type:n}=this,o=this._cachedScopes(e,s),l=o.get(t);if(l)return l;const c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(h=>Ug(c,e,h))),u.forEach(h=>Ug(c,a,h)),u.forEach(h=>Ug(c,Th[n]||{},h)),u.forEach(h=>Ug(c,ga,h)),u.forEach(h=>Ug(c,bE,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),YV.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Th[t]||{},ga.datasets[t]||{},{type:t},ga,bE]}resolveNamedOptions(e,t,s,a=[""]){const n={$shared:!0},{resolver:o,subPrefixes:l}=HM(this._resolverCache,e,a);let c=o;if(Txe(o,t)){n.$shared=!1,s=Hd(s)?s():s;const d=this.createResolver(e,s,l);c=zm(o,s,d)}for(const d of t)n[d]=c[d];return n}createResolver(e,t,s=[""],a){const{resolver:n}=HM(this._resolverCache,e,s);return es(t)?zm(n,t,void 0,a):n}}function HM(r,e,t){let s=r.get(e);s||(s=new Map,r.set(e,s));const a=t.join();let n=s.get(a);return n||(n={resolver:bC(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},s.set(a,n)),n}const Axe=r=>es(r)&&Object.getOwnPropertyNames(r).some(e=>Hd(r[e]));function Txe(r,e){const{isScriptable:t,isIndexable:s}=CV(r);for(const a of e){const n=t(a),o=s(a),l=(o||n)&&r[a];if(n&&(Hd(l)||Axe(l))||o&&Qa(l))return!0}return!1}var Cxe="4.5.0";const Pxe=["top","bottom","left","right","chartArea"];function $M(r,e){return r==="top"||r==="bottom"||Pxe.indexOf(r)===-1&&e==="x"}function WM(r,e){return function(t,s){return t[r]===s[r]?t[e]-s[e]:t[r]-s[r]}}function qM(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Fs(t&&t.onComplete,[r],e)}function Rxe(r){const e=r.chart,t=e.options.animation;Fs(t&&t.onProgress,[r],e)}function XV(r){return wC()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const G1={},GM=r=>{const e=XV(r);return Object.values(G1).filter(t=>t.canvas===e).pop()};function Ixe(r,e,t){const s=Object.keys(r);for(const a of s){const n=+a;if(n>=e){const o=r[a];delete r[a],(t>0||n>e)&&(r[n+t]=o)}}}function Dxe(r,e,t,s){return!t||r.type==="mouseout"?null:s?e:r}let m0=class{static defaults=ga;static instances=G1;static overrides=Th;static registry=ul;static version=Cxe;static getChart=GM;static register(...e){ul.add(...e),YM()}static unregister(...e){ul.remove(...e),YM()}constructor(e,t){const s=this.config=new Exe(t),a=XV(e),n=GM(a);if(n)throw new Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Qpe(a)),this.platform.updateConfig(s);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=j0e(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pxe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=W0e(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],G1[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ac.listen(this,"complete",qM),ac.listen(this,"progress",Rxe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:a,_aspectRatio:n}=this;return hs(e)?t&&n?n:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ul}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pM(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fM(this.canvas,this.ctx),this}stop(){return ac.stop(this),this}resize(e,t){ac.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,a=this.canvas,n=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,t,n),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,pM(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Fs(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ys(t,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,a=Object.keys(s).reduce((o,l)=>(o[l]=!1,o),{});let n=[];t&&(n=n.concat(Object.keys(t).map(o=>{const l=t[o],c=wE(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),ys(n,o=>{const l=o.options,c=l.id,d=wE(c,l),u=Sr(l.type,o.dtype);(l.position===void 0||$M(l.position,d)!==$M(o.dposition))&&(l.position=o.dposition),a[c]=!0;let h=null;if(c in s&&s[c].type===u)h=s[c];else{const m=ul.getScale(u);h=new m({id:c,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(l,e)}),ys(a,(o,l)=>{o||delete s[l]}),ys(s,o=>{vd.configure(this,o,o.options),vd.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((a,n)=>a.index-n.index),s>t){for(let a=t;a<s;++a)this._destroyDatasetMeta(a);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(WM("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,a)=>{t.filter(n=>n===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=t.length;s<a;s++){const n=t[s];let o=this.getDatasetMeta(s);const l=n.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=l,o.indexAxis=n.indexAxis||vE(l,this.options),o.order=n.order||0,o.index=s,o.label=""+n.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=ul.getController(l),{datasetElementType:d,dataElementType:u}=ga.datasets[l];Object.assign(c,{dataElementType:ul.getElement(u),datasetElementType:d&&ul.getElement(d)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ys(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),m=!a&&n.indexOf(h)===-1;h.buildOrUpdateElements(m),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),a||ys(n,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(WM("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ys(this.scales,e=>{vd.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!sM(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:n}of t){const o=s==="_removeElements"?-n:n;Ixe(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=n=>new Set(e.filter(o=>o[0]===n).map((o,l)=>l+","+o.splice(1).join(","))),a=s(0);for(let n=1;n<t;n++)if(!sM(a,s(n)))return;return Array.from(a).map(n=>n.split(",")).map(n=>({method:n[1],start:+n[2],count:+n[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vd.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],ys(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,n)=>{a._idx=n}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Hd(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ac.has(this)?this.attached&&!ac.running(this)&&ac.start(this):(this.draw(),qM({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let a,n;for(a=0,n=t.length;a<n;++a){const o=t[a];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=Zge(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&gC(t,a),e.controller.draw(),a&&pC(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return cx(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,a){const n=Ppe.modes[t];return typeof n=="function"?n(this,e,s,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let a=s.filter(n=>n&&n._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Wh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const a=s?"show":"hide",n=this.getDatasetMeta(e),o=n.controller._resolveAnimations(void 0,a);ix(t)?(n.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(n,{visible:s}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ac.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),fM(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete G1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(n,o)=>{t.addEventListener(this,n,o),e[n]=o},a=(n,o,l)=>{n.offsetX=o,n.offsetY=l,this._eventHandler(n)};ys(this.options.events,n=>s(n,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},n=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),s("resize",n),s("detach",o)};o=()=>{this.attached=!1,a("resize",n),this._stop(),this._resize(0,0),s("attach",l)},t.isAttached(this.canvas)?l():o()}unbindEvents(){ys(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ys(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const a=s?"set":"remove";let n,o,l,c;for(t==="dataset"&&(n=this.getDatasetMeta(e[0].datasetIndex),n.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:n,index:o})=>{const l=this.getDatasetMeta(n);if(!l)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:l.data[o],index:o}});!Iw(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const a=this.options.hover,n=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=n(t,e),l=s?e:n(e,t);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const n=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(n||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:a=[],options:n}=this,o=t,l=this._getActiveElements(e,a,s,o),c=R0e(e),d=Dxe(e,this._lastEvent,s,c);s&&(this._lastEvent=null,Fs(n.onHover,[e,l,this],this),c&&Fs(n.onClick,[e,l,this],this));const u=!Iw(l,a);return(u||t)&&(this._active=l,this._updateHoverStyles(l,a,t)),this._lastEvent=d,u}_getActiveElements(e,t,s,a){if(e.type==="mouseout")return[];if(!s)return t;const n=this.options.hover;return this.getElementsAtEventForMode(e,n.mode,n,a)}};function YM(){return ys(m0.instances,r=>r._plugins.invalidate())}function Oxe(r,e,t){const{startAngle:s,x:a,y:n,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,To(s-t));if(r.beginPath(),r.arc(a,n,o-d/2,s+h/2,t-h/2),l>0){const m=Math.min(d/l,To(s-t));r.arc(a,n,l+d/2,t-m/2,s+m/2,!0)}else{const m=Math.min(d/2,o*To(s-t));if(u==="round")r.arc(a,n,m,t-Is/2,s+Is/2,!0);else if(u==="bevel"){const p=2*m*m,b=-p*Math.cos(t+Is/2)+a,x=-p*Math.sin(t+Is/2)+n,y=p*Math.cos(s+Is/2)+a,w=p*Math.sin(s+Is/2)+n;r.lineTo(b,x),r.lineTo(y,w)}}r.closePath(),r.moveTo(0,0),r.rect(0,0,r.canvas.width,r.canvas.height),r.clip("evenodd")}function Mxe(r,e,t){const{startAngle:s,pixelMargin:a,x:n,y:o,outerRadius:l,innerRadius:c}=e;let d=a/l;r.beginPath(),r.arc(n,o,l,s-d,t+d),c>a?(d=a/c,r.arc(n,o,c,t+d,s-d,!0)):r.arc(n,o,a,t+Ua,s-Ua),r.closePath(),r.clip()}function Fxe(r){return xC(r,["outerStart","outerEnd","innerStart","innerEnd"])}function Lxe(r,e,t,s){const a=Fxe(r.options.borderRadius),n=(t-e)/2,o=Math.min(n,s*e/2),l=c=>{const d=(t-Math.min(n,c))*s/2;return Tn(c,0,Math.min(n,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Tn(a.innerStart,0,o),innerEnd:Tn(a.innerEnd,0,o)}}function Wf(r,e,t,s){return{x:t+r*Math.cos(e),y:s+r*Math.sin(e)}}function Uw(r,e,t,s,a,n){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+s+t-d,0),m=u>0?u+s+t+d:0;let p=0;const b=a-c;if(s){const X=u>0?u-s:0,H=h>0?h-s:0,W=(X+H)/2,ne=W!==0?b*W/(W+s):b;p=(b-ne)/2}const x=Math.max(.001,b*h-t/Is)/h,y=(b-x)/2,w=c+y+p,k=a-y-p,{outerStart:N,outerEnd:T,innerStart:E,innerEnd:I}=Lxe(e,m,h,k-w),S=h-N,A=h-T,P=w+N/S,O=k-T/A,M=m+E,L=m+I,B=w+E/M,G=k-I/L;if(r.beginPath(),n){const X=(P+O)/2;if(r.arc(o,l,h,P,X),r.arc(o,l,h,X,O),T>0){const U=Wf(A,O,o,l);r.arc(U.x,U.y,T,O,k+Ua)}const H=Wf(L,k,o,l);if(r.lineTo(H.x,H.y),I>0){const U=Wf(L,G,o,l);r.arc(U.x,U.y,I,k+Ua,G+Math.PI)}const W=(k-I/m+(w+E/m))/2;if(r.arc(o,l,m,k-I/m,W,!0),r.arc(o,l,m,W,w+E/m,!0),E>0){const U=Wf(M,B,o,l);r.arc(U.x,U.y,E,B+Math.PI,w-Ua)}const ne=Wf(S,w,o,l);if(r.lineTo(ne.x,ne.y),N>0){const U=Wf(S,P,o,l);r.arc(U.x,U.y,N,w-Ua,P)}}else{r.moveTo(o,l);const X=Math.cos(P)*h+o,H=Math.sin(P)*h+l;r.lineTo(X,H);const W=Math.cos(O)*h+o,ne=Math.sin(O)*h+l;r.lineTo(W,ne)}r.closePath()}function Bxe(r,e,t,s,a){const{fullCircles:n,startAngle:o,circumference:l}=e;let c=e.endAngle;if(n){Uw(r,e,t,s,c,a);for(let d=0;d<n;++d)r.fill();isNaN(l)||(c=o+(l%sa||sa))}return Uw(r,e,t,s,c,a),r.fill(),c}function Uxe(r,e,t,s,a){const{fullCircles:n,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:m,borderRadius:p}=c,b=c.borderAlign==="inner";if(!d)return;r.setLineDash(h||[]),r.lineDashOffset=m,b?(r.lineWidth=d*2,r.lineJoin=u||"round"):(r.lineWidth=d,r.lineJoin=u||"bevel");let x=e.endAngle;if(n){Uw(r,e,t,s,x,a);for(let y=0;y<n;++y)r.stroke();isNaN(l)||(x=o+(l%sa||sa))}b&&Mxe(r,e,x),c.selfJoin&&x-o>=Is&&p===0&&u!=="miter"&&Oxe(r,e,x),n||(Uw(r,e,t,s,x,a),r.stroke())}class KV extends ru{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.getProps(["x","y"],s),{angle:n,distance:o}=wV(a,{x:e,y:t}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,p=Sr(h,c-l),b=lx(n,l,c)&&l!==c,x=p>=sa||b,y=yd(o,d+m,u+m);return x&&y}getCenterPoint(e){const{x:t,y:s,startAngle:a,endAngle:n,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:d}=this.options,u=(a+n)/2,h=(o+l+d+c)/2;return{x:t+Math.cos(u)*h,y:s+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,a=(t.offset||0)/4,n=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>sa?Math.floor(s/sa):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*a,Math.sin(l)*a);const c=1-Math.sin(Math.min(Is,s||0)),d=a*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,Bxe(e,this,d,n,o),Uxe(e,this,d,n,o),e.restore()}}function ZV(r,e,t=e){r.lineCap=Sr(t.borderCapStyle,e.borderCapStyle),r.setLineDash(Sr(t.borderDash,e.borderDash)),r.lineDashOffset=Sr(t.borderDashOffset,e.borderDashOffset),r.lineJoin=Sr(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=Sr(t.borderWidth,e.borderWidth),r.strokeStyle=Sr(t.borderColor,e.borderColor)}function zxe(r,e,t){r.lineTo(t.x,t.y)}function Vxe(r){return r.stepped?nge:r.tension||r.cubicInterpolationMode==="monotone"?ige:zxe}function QV(r,e,t={}){const s=r.length,{start:a=0,end:n=s-1}=t,{start:o,end:l}=e,c=Math.max(a,o),d=Math.min(n,l),u=a<o&&n<o||a>l&&n>l;return{count:s,start:c,loop:e.loop,ilen:d<c&&!u?s+d-c:d-c}}function Hxe(r,e,t,s){const{points:a,options:n}=e,{count:o,start:l,loop:c,ilen:d}=QV(a,t,s),u=Vxe(n);let{move:h=!0,reverse:m}=s||{},p,b,x;for(p=0;p<=d;++p)b=a[(l+(m?d-p:p))%o],!b.skip&&(h?(r.moveTo(b.x,b.y),h=!1):u(r,x,b,m,n.stepped),x=b);return c&&(b=a[(l+(m?d:0))%o],u(r,x,b,m,n.stepped)),!!c}function $xe(r,e,t,s){const a=e.points,{count:n,start:o,ilen:l}=QV(a,t,s),{move:c=!0,reverse:d}=s||{};let u=0,h=0,m,p,b,x,y,w;const k=T=>(o+(d?l-T:T))%n,N=()=>{x!==y&&(r.lineTo(u,y),r.lineTo(u,x),r.lineTo(u,w))};for(c&&(p=a[k(0)],r.moveTo(p.x,p.y)),m=0;m<=l;++m){if(p=a[k(m)],p.skip)continue;const T=p.x,E=p.y,I=T|0;I===b?(E<x?x=E:E>y&&(y=E),u=(h*u+T)/++h):(N(),r.lineTo(T,E),b=I,h=0,x=y=E),w=E}N()}function kE(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?$xe:Hxe}function Wxe(r){return r.stepped?Lge:r.tension||r.cubicInterpolationMode==="monotone"?Bge:$u}function qxe(r,e,t,s){let a=e._path;a||(a=e._path=new Path2D,e.path(a,t,s)&&a.closePath()),ZV(r,e.options),r.stroke(a)}function Gxe(r,e,t,s){const{segments:a,options:n}=e,o=kE(e);for(const l of a)ZV(r,n,l.style),r.beginPath(),o(r,e,l,{start:t,end:t+s-1})&&r.closePath(),r.stroke()}const Yxe=typeof Path2D=="function";function Xxe(r,e,t,s){Yxe&&!e.options.segment?qxe(r,e,t,s):Gxe(r,e,t,s)}class Kxe extends ru{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;Cge(this._points,s,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Gge(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,a=e[t],n=this.points,o=$ge(this,{property:t,start:a,end:a});if(!o.length)return;const l=[],c=Wxe(s);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:m}=o[d],p=n[h],b=n[m];if(p===b){l.push(p);continue}const x=Math.abs((a-p[t])/(b[t]-p[t])),y=c(p,b,x,s.stepped);y[t]=e[t],l.push(y)}return l.length===1?l[0]:l}pathSegment(e,t,s){return kE(this)(e,this,t,s)}path(e,t,s){const a=this.segments,n=kE(this);let o=this._loop;t=t||0,s=s||this.points.length-t;for(const l of a)o&=n(e,this,l,{start:t,end:t+s-1});return!!o}draw(e,t,s,a){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(e.save(),Xxe(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function XM(r,e,t,s){const a=r.options,{[t]:n}=r.getProps([t],s);return Math.abs(e-n)<a.radius+a.hitRadius}class Zxe extends ru{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.options,{x:n,y:o}=this.getProps(["x","y"],s);return Math.pow(e-n,2)+Math.pow(t-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return XM(this,e,"x",t)}inYRange(e,t){return XM(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!cx(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,yE(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function JV(r,e){const{x:t,y:s,base:a,width:n,height:o}=r.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return r.horizontal?(h=o/2,l=Math.min(t,a),c=Math.max(t,a),d=s-h,u=s+h):(h=n/2,l=t-h,c=t+h,d=Math.min(s,a),u=Math.max(s,a)),{left:l,top:d,right:c,bottom:u}}function wd(r,e,t,s){return r?0:Tn(e,t,s)}function Qxe(r,e,t){const s=r.options.borderWidth,a=r.borderSkipped,n=TV(s);return{t:wd(a.top,n.top,0,t),r:wd(a.right,n.right,0,e),b:wd(a.bottom,n.bottom,0,t),l:wd(a.left,n.left,0,e)}}function Jxe(r,e,t){const{enableBorderRadius:s}=r.getProps(["enableBorderRadius"]),a=r.options.borderRadius,n=wm(a),o=Math.min(e,t),l=r.borderSkipped,c=s||es(a);return{topLeft:wd(!c||l.top||l.left,n.topLeft,0,o),topRight:wd(!c||l.top||l.right,n.topRight,0,o),bottomLeft:wd(!c||l.bottom||l.left,n.bottomLeft,0,o),bottomRight:wd(!c||l.bottom||l.right,n.bottomRight,0,o)}}function ebe(r){const e=JV(r),t=e.right-e.left,s=e.bottom-e.top,a=Qxe(r,t/2,s/2),n=Jxe(r,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:n},inner:{x:e.left+a.l,y:e.top+a.t,w:t-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,n.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,n.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,n.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,n.bottomRight-Math.max(a.b,a.r))}}}}function yS(r,e,t,s){const a=e===null,n=t===null,l=r&&!(a&&n)&&JV(r,s);return l&&(a||yd(e,l.left,l.right))&&(n||yd(t,l.top,l.bottom))}function tbe(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function rbe(r,e){r.rect(e.x,e.y,e.w,e.h)}function vS(r,e,t={}){const s=r.x!==t.x?-e:0,a=r.y!==t.y?-e:0,n=(r.x+r.w!==t.x+t.w?e:0)-s,o=(r.y+r.h!==t.y+t.h?e:0)-a;return{x:r.x+s,y:r.y+a,w:r.w+n,h:r.h+o,radius:r.radius}}class NC extends ru{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:a}}=this,{inner:n,outer:o}=ebe(this),l=tbe(o.radius)?Fw:rbe;e.save(),(o.w!==n.w||o.h!==n.h)&&(e.beginPath(),l(e,vS(o,t,n)),e.clip(),l(e,vS(n,-t,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),l(e,vS(n,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,s){return yS(this,e,t,s)}inXRange(e,t){return yS(this,e,null,t)}inYRange(e,t){return yS(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:a,horizontal:n}=this.getProps(["x","y","base","horizontal"],e);return{x:n?(t+a)/2:t,y:n?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const KM=(r,e)=>{let{boxHeight:t=e,boxWidth:s=e}=r;return r.usePointStyle&&(t=Math.min(t,e),s=r.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},sbe=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class ZM extends ru{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Fs(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=ci(s.font),n=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=KM(s,n);let d,u;t.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,n,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,a){const{ctx:n,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let h=e;n.textAlign="left",n.textBaseline="middle";let m=-1,p=-u;return this.legendItems.forEach((b,x)=>{const y=s+t/2+n.measureText(b.text).width;(x===0||d[d.length-1]+y+2*l>o)&&(h+=u,d[d.length-(x>0?0:1)]=0,p+=u,m++),c[x]={left:0,top:p,row:m,width:y,height:a},d[d.length-1]+=y+l}),h}_fitCols(e,t,s,a){const{ctx:n,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,m=0,p=0,b=0,x=0;return this.legendItems.forEach((y,w)=>{const{itemWidth:k,itemHeight:N}=abe(s,t,n,y,a);w>0&&p+N+2*l>u&&(h+=m+l,d.push({width:m,height:p}),b+=m+l,x++,m=p=0),c[w]={left:b,top:p,col:x,width:k,height:N},m=Math.max(m,k),p+=N+l}),h+=m,d.push({width:m,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:a},rtl:n}}=this,o=km(n,this.left,this.width);if(this.isHorizontal()){let l=0,c=ji(s,this.left+a,this.right-this.lineWidths[l]);for(const d of t)l!==d.row&&(l=d.row,c=ji(s,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+e+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=ji(s,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const d of t)d.col!==l&&(l=d.col,c=ji(s,this.top+e+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;gC(e,this),this._draw(),pC(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:a}=this,{align:n,labels:o}=e,l=ga.color,c=km(e.rtl,this.left,this.width),d=ci(o.font),{padding:u}=o,h=d.size,m=h/2;let p;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:b,boxHeight:x,itemHeight:y}=KM(o,h),w=function(I,S,A){if(isNaN(b)||b<=0||isNaN(x)||x<0)return;a.save();const P=Sr(A.lineWidth,1);if(a.fillStyle=Sr(A.fillStyle,l),a.lineCap=Sr(A.lineCap,"butt"),a.lineDashOffset=Sr(A.lineDashOffset,0),a.lineJoin=Sr(A.lineJoin,"miter"),a.lineWidth=P,a.strokeStyle=Sr(A.strokeStyle,l),a.setLineDash(Sr(A.lineDash,[])),o.usePointStyle){const O={radius:x*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:P},M=c.xPlus(I,b/2),L=S+m;AV(a,O,M,L,o.pointStyleWidth&&b)}else{const O=S+Math.max((h-x)/2,0),M=c.leftForLtr(I,b),L=wm(A.borderRadius);a.beginPath(),Object.values(L).some(B=>B!==0)?Fw(a,{x:M,y:O,w:b,h:x,radius:L}):a.rect(M,O,b,x),a.fill(),P!==0&&a.stroke()}a.restore()},k=function(I,S,A){Mw(a,A.text,I,S+y/2,d,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},N=this.isHorizontal(),T=this._computeTitleHeight();N?p={x:ji(n,this.left+u,this.right-s[0]),y:this.top+u+T,line:0}:p={x:this.left+u,y:ji(n,this.top+T+u,this.bottom-t[0].height),line:0},OV(this.ctx,e.textDirection);const E=y+u;this.legendItems.forEach((I,S)=>{a.strokeStyle=I.fontColor,a.fillStyle=I.fontColor;const A=a.measureText(I.text).width,P=c.textAlign(I.textAlign||(I.textAlign=o.textAlign)),O=b+m+A;let M=p.x,L=p.y;c.setWidth(this.width),N?S>0&&M+O+u>this.right&&(L=p.y+=E,p.line++,M=p.x=ji(n,this.left+u,this.right-s[p.line])):S>0&&L+E>this.bottom&&(M=p.x=M+t[p.line].width+u,p.line++,L=p.y=ji(n,this.top+T+u,this.bottom-t[p.line].height));const B=c.x(M);if(w(B,L,I),M=q0e(P,M+b+m,N?M+O:this.right,e.rtl),k(c.x(M),L,I),N)p.x+=O+u;else if(typeof I.text!="string"){const G=d.lineHeight;p.y+=eH(I,G)+u}else p.y+=E}),MV(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=ci(t.font),a=Ho(t.padding);if(!t.display)return;const n=km(e.rtl,this.left,this.width),o=this.ctx,l=t.position,c=s.size/2,d=a.top+c;let u,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,h=ji(e.align,h,this.right-m);else{const b=this.columnSizes.reduce((x,y)=>Math.max(x,y.height),0);u=d+ji(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const p=ji(l,h,h+m);o.textAlign=n.textAlign(jV(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=s.string,Mw(o,t.text,p,u,s)}_computeTitleHeight(){const e=this.options.title,t=ci(e.font),s=Ho(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,a,n;if(yd(e,this.left,this.right)&&yd(t,this.top,this.bottom)){for(n=this.legendHitBoxes,s=0;s<n.length;++s)if(a=n[s],yd(e,a.left,a.left+a.width)&&yd(t,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!obe(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,n=sbe(a,s);a&&!n&&Fs(t.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!n&&Fs(t.onHover,[e,s,this],this)}else s&&Fs(t.onClick,[e,s,this],this)}}function abe(r,e,t,s,a){const n=nbe(s,r,e,t),o=ibe(a,s,e.lineHeight);return{itemWidth:n,itemHeight:o}}function nbe(r,e,t,s){let a=r.text;return a&&typeof a!="string"&&(a=a.reduce((n,o)=>n.length>o.length?n:o)),e+t.size/2+s.measureText(a).width}function ibe(r,e,t){let s=r;return typeof e.text!="string"&&(s=eH(e,t)),s}function eH(r,e){const t=r.text?r.text.length:0;return e*t}function obe(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var SC={id:"legend",_element:ZM,start(r,e,t){const s=r.legend=new ZM({ctx:r.ctx,options:t,chart:r});vd.configure(r,s,t),vd.addBox(r,s)},stop(r){vd.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const s=r.legend;vd.configure(r,s,t),s.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const s=e.datasetIndex,a=t.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:a,color:n,useBorderRadius:o,borderRadius:l}}=r.legend.options;return r._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),u=Ho(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:n,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};const ap={average(r){if(!r.length)return!1;let e,t,s=new Set,a=0,n=0;for(e=0,t=r.length;e<t;++e){const l=r[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),a+=c.y,++n}}return n===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:a/n}},nearest(r,e){if(!r.length)return!1;let t=e.x,s=e.y,a=Number.POSITIVE_INFINITY,n,o,l;for(n=0,o=r.length;n<o;++n){const c=r[n].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=xE(e,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,s=c.y}return{x:t,y:s}}};function ol(r,e){return e&&(Qa(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function nc(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function lbe(r,e){const{element:t,datasetIndex:s,index:a}=e,n=r.getDatasetMeta(s).controller,{label:o,value:l}=n.getLabelAndValue(a);return{chart:r,label:o,parsed:n.getParsed(a),raw:r.data.datasets[s].data[a],formattedValue:l,dataset:n.getDataset(),dataIndex:a,datasetIndex:s,element:t}}function QM(r,e){const t=r.chart.ctx,{body:s,footer:a,title:n}=r,{boxWidth:o,boxHeight:l}=e,c=ci(e.bodyFont),d=ci(e.titleFont),u=ci(e.footerFont),h=n.length,m=a.length,p=s.length,b=Ho(e.padding);let x=b.height,y=0,w=s.reduce((T,E)=>T+E.before.length+E.lines.length+E.after.length,0);if(w+=r.beforeBody.length+r.afterBody.length,h&&(x+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),w){const T=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=p*T+(w-p)*c.lineHeight+(w-1)*e.bodySpacing}m&&(x+=e.footerMarginTop+m*u.lineHeight+(m-1)*e.footerSpacing);let k=0;const N=function(T){y=Math.max(y,t.measureText(T).width+k)};return t.save(),t.font=d.string,ys(r.title,N),t.font=c.string,ys(r.beforeBody.concat(r.afterBody),N),k=e.displayColors?o+2+e.boxPadding:0,ys(s,T=>{ys(T.before,N),ys(T.lines,N),ys(T.after,N)}),k=0,t.font=u.string,ys(r.footer,N),t.restore(),y+=b.width,{width:y,height:x}}function cbe(r,e){const{y:t,height:s}=e;return t<s/2?"top":t>r.height-s/2?"bottom":"center"}function dbe(r,e,t,s){const{x:a,width:n}=s,o=t.caretSize+t.caretPadding;if(r==="left"&&a+n+o>e.width||r==="right"&&a-n-o<0)return!0}function ube(r,e,t,s){const{x:a,width:n}=t,{width:o,chartArea:{left:l,right:c}}=r;let d="center";return s==="center"?d=a<=(l+c)/2?"left":"right":a<=n/2?d="left":a>=o-n/2&&(d="right"),dbe(d,r,e,t)&&(d="center"),d}function JM(r,e,t){const s=t.yAlign||e.yAlign||cbe(r,t);return{xAlign:t.xAlign||e.xAlign||ube(r,e,t,s),yAlign:s}}function hbe(r,e){let{x:t,width:s}=r;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function fbe(r,e,t){let{y:s,height:a}=r;return e==="top"?s+=t:e==="bottom"?s-=a+t:s-=a/2,s}function eF(r,e,t,s){const{caretSize:a,caretPadding:n,cornerRadius:o}=r,{xAlign:l,yAlign:c}=t,d=a+n,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:p}=wm(o);let b=hbe(e,l);const x=fbe(e,c,d);return c==="center"?l==="left"?b+=d:l==="right"&&(b-=d):l==="left"?b-=Math.max(u,m)+a:l==="right"&&(b+=Math.max(h,p)+a),{x:Tn(b,0,s.width-e.width),y:Tn(x,0,s.height-e.height)}}function t1(r,e,t){const s=Ho(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-s.right:r.x+s.left}function tF(r){return ol([],nc(r))}function mbe(r,e,t){return Wh(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function rF(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const tH={beforeTitle:sc,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:sc,beforeBody:sc,beforeLabel:sc,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return hs(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:sc,afterBody:sc,beforeFooter:sc,footer:sc,afterFooter:sc};function ri(r,e,t,s){const a=r[e].call(t,s);return typeof a>"u"?tH[e].call(t,s):a}class sF extends ru{static positioners=ap;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&t.options.animation&&s.animations,n=new LV(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=mbe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,a=ri(s,"beforeTitle",this,e),n=ri(s,"title",this,e),o=ri(s,"afterTitle",this,e);let l=[];return l=ol(l,nc(a)),l=ol(l,nc(n)),l=ol(l,nc(o)),l}getBeforeBody(e,t){return tF(ri(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,a=[];return ys(e,n=>{const o={before:[],lines:[],after:[]},l=rF(s,n);ol(o.before,nc(ri(l,"beforeLabel",this,n))),ol(o.lines,ri(l,"label",this,n)),ol(o.after,nc(ri(l,"afterLabel",this,n))),a.push(o)}),a}getAfterBody(e,t){return tF(ri(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,a=ri(s,"beforeFooter",this,e),n=ri(s,"footer",this,e),o=ri(s,"afterFooter",this,e);let l=[];return l=ol(l,nc(a)),l=ol(l,nc(n)),l=ol(l,nc(o)),l}_createItems(e){const t=this._active,s=this.chart.data,a=[],n=[],o=[];let l=[],c,d;for(c=0,d=t.length;c<d;++c)l.push(lbe(this.chart,t[c]));return e.filter&&(l=l.filter((u,h,m)=>e.filter(u,h,m,s))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,s))),ys(l,u=>{const h=rF(e.callbacks,u);a.push(ri(h,"labelColor",this,u)),n.push(ri(h,"labelPointStyle",this,u)),o.push(ri(h,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=n,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const s=this.options.setContext(this.getContext()),a=this._active;let n,o=[];if(!a.length)this.opacity!==0&&(n={opacity:0});else{const l=ap[s.position].call(this,a,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=QM(this,s),d=Object.assign({},l,c),u=JM(this.chart,s,d),h=eF(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,n={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,a){const n=this.getCaretPosition(e,s,a);t.lineTo(n.x1,n.y1),t.lineTo(n.x2,n.y2),t.lineTo(n.x3,n.y3)}getCaretPosition(e,t,s){const{xAlign:a,yAlign:n}=this,{caretSize:o,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=wm(l),{x:m,y:p}=e,{width:b,height:x}=t;let y,w,k,N,T,E;return n==="center"?(T=p+x/2,a==="left"?(y=m,w=y-o,N=T+o,E=T-o):(y=m+b,w=y+o,N=T-o,E=T+o),k=y):(a==="left"?w=m+Math.max(c,u)+o:a==="right"?w=m+b-Math.max(d,h)-o:w=this.caretX,n==="top"?(N=p,T=N-o,y=w-o,k=w+o):(N=p+x,T=N+o,y=w+o,k=w-o),E=N),{x1:y,x2:w,x3:k,y1:N,y2:T,y3:E}}drawTitle(e,t,s){const a=this.title,n=a.length;let o,l,c;if(n){const d=km(s.rtl,this.x,this.width);for(e.x=t1(this,s.titleAlign,s),t.textAlign=d.textAlign(s.titleAlign),t.textBaseline="middle",o=ci(s.titleFont),l=s.titleSpacing,t.fillStyle=s.titleColor,t.font=o.string,c=0;c<n;++c)t.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===n&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,t,s,a,n){const o=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=n,u=ci(n.bodyFont),h=t1(this,"left",n),m=a.x(h),p=c<u.lineHeight?(u.lineHeight-c)/2:0,b=t.y+p;if(n.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=a.leftForLtr(m,d)+d/2,w=b+c/2;e.strokeStyle=n.multiKeyBackground,e.fillStyle=n.multiKeyBackground,yE(e,x,y,w),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,yE(e,x,y,w)}else{e.lineWidth=es(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=a.leftForLtr(m,d),y=a.leftForLtr(a.xPlus(m,1),d-2),w=wm(o.borderRadius);Object.values(w).some(k=>k!==0)?(e.beginPath(),e.fillStyle=n.multiKeyBackground,Fw(e,{x,y:b,w:d,h:c,radius:w}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Fw(e,{x:y,y:b+1,w:d-2,h:c-2,radius:w}),e.fill()):(e.fillStyle=n.multiKeyBackground,e.fillRect(x,b,d,c),e.strokeRect(x,b,d,c),e.fillStyle=o.backgroundColor,e.fillRect(y,b+1,d-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:a}=this,{bodySpacing:n,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,h=ci(s.bodyFont);let m=h.lineHeight,p=0;const b=km(s.rtl,this.x,this.width),x=function(A){t.fillText(A,b.x(e.x+p),e.y+m/2),e.y+=m+n},y=b.textAlign(o);let w,k,N,T,E,I,S;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,e.x=t1(this,y,s),t.fillStyle=s.bodyColor,ys(this.beforeBody,x),p=l&&y!=="right"?o==="center"?d/2+u:d+2+u:0,T=0,I=a.length;T<I;++T){for(w=a[T],k=this.labelTextColors[T],t.fillStyle=k,ys(w.before,x),N=w.lines,l&&N.length&&(this._drawColorBox(t,e,T,b,s),m=Math.max(h.lineHeight,c)),E=0,S=N.length;E<S;++E)x(N[E]),m=h.lineHeight;ys(w.after,x)}p=0,m=h.lineHeight,ys(this.afterBody,x),e.y-=n}drawFooter(e,t,s){const a=this.footer,n=a.length;let o,l;if(n){const c=km(s.rtl,this.x,this.width);for(e.x=t1(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=c.textAlign(s.footerAlign),t.textBaseline="middle",o=ci(s.footerFont),t.fillStyle=s.footerColor,t.font=o.string,l=0;l<n;++l)t.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,t,s,a){const{xAlign:n,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=s,{topLeft:h,topRight:m,bottomLeft:p,bottomRight:b}=wm(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(l+h,c),o==="top"&&this.drawCaret(e,t,s,a),t.lineTo(l+d-m,c),t.quadraticCurveTo(l+d,c,l+d,c+m),o==="center"&&n==="right"&&this.drawCaret(e,t,s,a),t.lineTo(l+d,c+u-b),t.quadraticCurveTo(l+d,c+u,l+d-b,c+u),o==="bottom"&&this.drawCaret(e,t,s,a),t.lineTo(l+p,c+u),t.quadraticCurveTo(l,c+u,l,c+u-p),o==="center"&&n==="left"&&this.drawCaret(e,t,s,a),t.lineTo(l,c+h),t.quadraticCurveTo(l,c,l+h,c),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,a=s&&s.x,n=s&&s.y;if(a||n){const o=ap[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=QM(this,e),c=Object.assign({},o,this._size),d=JM(t,e,c),u=eF(e,c,d,t);(a._to!==u.x||n._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},n={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Ho(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=s,this.drawBackground(n,e,a,t),OV(e,t.textDirection),n.y+=o.top,this.drawTitle(n,e,t),this.drawBody(n,e,t),this.drawFooter(n,e,t),MV(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,a=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),n=!Iw(s,a),o=this._positionChanged(a,t);(n||o)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,n=this._active||[],o=this._getActiveElements(e,n,t,s),l=this._positionChanged(o,e),c=t||!Iw(o,n)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,s,a){const n=this.options;if(e.type==="mouseout")return[];if(!a)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,n.mode,n,s);return n.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:s,caretY:a,options:n}=this,o=ap[n.position].call(this,e,t);return o!==!1&&(s!==o.x||a!==o.y)}}var jC={id:"tooltip",_element:sF,positioners:ap,afterInit(r,e,t){t&&(r.tooltip=new sF({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tH},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const gbe=(r,e,t,s)=>(typeof e=="string"?(t=r.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function pbe(r,e,t,s){const a=r.indexOf(e);if(a===-1)return gbe(r,e,t,s);const n=r.lastIndexOf(e);return a!==n?t:a}const xbe=(r,e)=>r===null?null:Tn(Math.round(r),0,e);function aF(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class EC extends f0{static id="category";static defaults={ticks:{callback:aF}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:a,label:n}of t)s[a]===n&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(hs(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:pbe(s,e,Sr(t,e),this._addedLabels),xbe(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,a=[];let n=this.getLabels();n=e===0&&t===n.length-1?n:n.slice(e,t+1),this._valueRange=Math.max(n.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=t;o++)a.push({value:o});return a}getLabelForValue(e){return aF.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function bbe(r,e){const t=[],{bounds:a,step:n,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:m}=r,p=n||1,b=u-1,{min:x,max:y}=e,w=!hs(o),k=!hs(l),N=!hs(d),T=(y-x)/(h+1);let E=nM((y-x)/b/p)*p,I,S,A,P;if(E<1e-14&&!w&&!k)return[{value:x},{value:y}];P=Math.ceil(y/E)-Math.floor(x/E),P>b&&(E=nM(P*E/b/p)*p),hs(c)||(I=Math.pow(10,c),E=Math.ceil(E*I)/I),a==="ticks"?(S=Math.floor(x/E)*E,A=Math.ceil(y/E)*E):(S=x,A=y),w&&k&&n&&F0e((l-o)/n,E/1e3)?(P=Math.round(Math.min((l-o)/E,u)),E=(l-o)/P,S=o,A=l):N?(S=w?o:S,A=k?l:A,P=d-1,E=(A-S)/P):(P=(A-S)/E,Np(P,Math.round(P),E/1e3)?P=Math.round(P):P=Math.ceil(P));const O=Math.max(iM(E),iM(S));I=Math.pow(10,hs(c)?O:c),S=Math.round(S*I)/I,A=Math.round(A*I)/I;let M=0;for(w&&(m&&S!==o?(t.push({value:o}),S<o&&M++,Np(Math.round((S+M*E)*I)/I,o,nF(o,T,r))&&M++):S<o&&M++);M<P;++M){const L=Math.round((S+M*E)*I)/I;if(k&&L>l)break;t.push({value:L})}return k&&m&&A!==l?t.length&&Np(t[t.length-1].value,l,nF(l,T,r))?t[t.length-1].value=l:t.push({value:l}):(!k||A===l)&&t.push({value:A}),t}function nF(r,e,{horizontal:t,minRotation:s}){const a=dc(s),n=(t?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+r).length;return Math.min(e/n,o)}class ybe extends f0{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return hs(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:a,max:n}=this;const o=c=>a=t?a:c,l=c=>n=s?n:c;if(e){const c=El(a),d=El(n);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===n){let c=n===0?1:Math.abs(n*.05);l(n+c),e||o(a-c)}this.min=a,this.max=n}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),t=t||11),t&&(a=Math.min(t,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},n=this._range||this,o=bbe(a,n);return e.bounds==="ticks"&&L0e(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-t)/Math.max(e.length-1,1)/2;t-=a,s+=a}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return mC(e,this.chart.options.locale,this.options.ticks.format)}}class AC extends ybe{static id="linear";static defaults={ticks:{callback:EV.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=po(e)?e:0,this.max=po(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=dc(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,n.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const rk={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},oi=Object.keys(rk);function iF(r,e){return r-e}function oF(r,e){if(hs(e))return null;const t=r._adapter,{parser:s,round:a,isoWeekday:n}=r._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),po(o)||(o=typeof s=="string"?t.parse(o,s):t.parse(o)),o===null?null:(a&&(o=a==="week"&&(ox(n)||n===!0)?t.startOf(o,"isoWeek",n):t.startOf(o,a)),+o)}function lF(r,e,t,s){const a=oi.length;for(let n=oi.indexOf(r);n<a-1;++n){const o=rk[oi[n]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(l*o.size))<=s)return oi[n]}return oi[a-1]}function vbe(r,e,t,s,a){for(let n=oi.length-1;n>=oi.indexOf(t);n--){const o=oi[n];if(rk[o].common&&r._adapter.diff(a,s,o)>=e-1)return o}return oi[t?oi.indexOf(t):0]}function wbe(r){for(let e=oi.indexOf(r)+1,t=oi.length;e<t;++e)if(rk[oi[e]].common)return oi[e]}function cF(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:s,hi:a}=hC(t,e),n=t[s]>=e?t[s]:t[a];r[n]=!0}}function kbe(r,e,t,s){const a=r._adapter,n=+a.startOf(e[0].value,s),o=e[e.length-1].value;let l,c;for(l=n;l<=o;l=+a.add(l,1,s))c=t[l],c>=0&&(e[c].major=!0);return e}function dF(r,e,t){const s=[],a={},n=e.length;let o,l;for(o=0;o<n;++o)l=e[o],a[l]=o,s.push({value:l,major:!1});return n===0||!t?s:kbe(r,s,a,t)}class uF extends f0{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),a=this._adapter=new jpe._date(e.adapters.date);a.init(t),_p(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:oF(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:a,max:n,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(n=Math.max(n,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=po(a)&&!isNaN(a)?a:+t.startOf(Date.now(),s),n=po(n)&&!isNaN(n)?n:+t.endOf(Date.now(),s)+1,this.min=Math.min(a,n-1),this.max=Math.max(a+1,n)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const n=this.min,o=this.max,l=H0e(a,n,o);return this._unit=t.unit||(s.autoSkip?lF(t.minUnit,this.min,this.max,this._getLabelCapacity(n)):vbe(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:wbe(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),dF(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,a,n;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?t=1-a:t=(this.getDecimalForValue(e[1])-a)/2,n=this.getDecimalForValue(e[e.length-1]),e.length===1?s=n:s=(n-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Tn(t,0,o),s=Tn(s,0,o),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,a=this.options,n=a.time,o=n.unit||lF(n.minUnit,t,s,this._getLabelCapacity(t)),l=Sr(a.ticks.stepSize,1),c=o==="week"?n.isoWeekday:!1,d=ox(c)||c===!0,u={};let h=t,m,p;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(s,t,o)>1e5*l)throw new Error(t+" and "+s+" are too far apart with stepSize of "+l+" "+o);const b=a.ticks.source==="data"&&this.getDataTimestamps();for(m=h,p=0;m<s;m=+e.add(m,l,o),p++)cF(u,m,b);return(m===s||a.bounds==="ticks"||p===1)&&cF(u,m,b),Object.keys(u).sort(iF).map(x=>+x)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const a=this.options.time.displayFormats,n=this._unit,o=t||a[n];return this._adapter.format(e,o)}_tickFormatFunction(e,t,s,a){const n=this.options,o=n.ticks.callback;if(o)return Fs(o,[e,t,s],this);const l=n.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],m=s[t],p=d&&h&&m&&m.major;return this._adapter.format(e,a||(p?h:u))}generateTickLabels(e){let t,s,a;for(t=0,s=e.length;t<s;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,a=dc(this.isHorizontal()?t.maxRotation:t.minRotation),n=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:s*n+l*o,h:s*o+l*n}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,a=s[t.unit]||s.millisecond,n=this._tickFormatFunction(e,0,dF(this,[e],this._majorUnit),a),o=this._getLabelSize(n),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(t=0,s=a.length;t<s;++t)e=e.concat(a[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const a=this.getLabels();for(t=0,s=a.length;t<s;++t)e.push(oF(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _V(e.sort(iF))}}function r1(r,e,t){let s=0,a=r.length-1,n,o,l,c;t?(e>=r[s].pos&&e<=r[a].pos&&({lo:s,hi:a}=rh(r,"pos",e)),{pos:n,time:l}=r[s],{pos:o,time:c}=r[a]):(e>=r[s].time&&e<=r[a].time&&({lo:s,hi:a}=rh(r,"time",e)),{time:n,pos:l}=r[s],{time:o,pos:c}=r[a]);const d=o-n;return d?l+(c-l)*(e-n)/d:l}class MPe extends uF{static id="timeseries";static defaults=uF.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=r1(t,this.min),this._tableRange=r1(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,a=[],n=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=t&&d<=s&&a.push(d);if(a.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&n.push({time:d,pos:o/(l-1)});return n}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((a,n)=>a-n)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(r1(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return r1(this._table,s*this._tableRange+this._minPos,!0)}}const rH="label";function hF(r,e){typeof r=="function"?r(e):r&&(r.current=e)}function _be(r,e){const t=r.options;t&&e&&Object.assign(t,e)}function sH(r,e){r.labels=e}function aH(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rH;const s=[];r.datasets=e.map(a=>{const n=r.datasets.find(o=>o[t]===a[t]);return!n||!a.data||s.includes(n)?{...a}:(s.push(n),Object.assign(n,a),n)})}function Nbe(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rH;const t={labels:[],datasets:[]};return sH(t,r.labels),aH(t,r.datasets,e),t}function Sbe(r,e){const{height:t=150,width:s=300,redraw:a=!1,datasetIdKey:n,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=r,p=R.useRef(null),b=R.useRef(null),x=()=>{p.current&&(b.current=new m0(p.current,{type:o,data:Nbe(l,n),options:c&&{...c},plugins:d}),hF(e,b.current))},y=()=>{hF(e,null),b.current&&(b.current.destroy(),b.current=null)};return R.useEffect(()=>{!a&&b.current&&c&&_be(b.current,c)},[a,c]),R.useEffect(()=>{!a&&b.current&&sH(b.current.config.data,l.labels)},[a,l.labels]),R.useEffect(()=>{!a&&b.current&&l.datasets&&aH(b.current.config.data,l.datasets,n)},[a,l.datasets]),R.useEffect(()=>{b.current&&(a?(y(),setTimeout(x)):b.current.update(h))},[a,c,l.labels,l.datasets,h]),R.useEffect(()=>{b.current&&(y(),setTimeout(x))},[o]),R.useEffect(()=>(x(),()=>y()),[]),Lr.createElement("canvas",{ref:p,role:"img",height:t,width:s,...m},u)}const jbe=R.forwardRef(Sbe);function TC(r,e){return m0.register(e),R.forwardRef((t,s)=>Lr.createElement(jbe,{...t,ref:s,type:r}))}const Ebe=TC("line",Spe),CC=TC("bar",kpe),nH=TC("doughnut",Npe),Abe=()=>{const r=Ra();return i.jsxs("nav",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around items-center py-2 z-40",children:[i.jsxs(Fe,{to:"/",className:`flex flex-col items-center ${r.pathname==="/"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[i.jsx("i",{className:"bx bx-home-alt text-2xl"}),i.jsx("span",{className:"text-xs",children:"Home"})]}),i.jsxs(Fe,{to:"/search",className:`flex flex-col items-center ${r.pathname==="/search"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[i.jsx("i",{className:"bx bx-search text-2xl"}),i.jsx("span",{className:"text-xs",children:"Search"})]}),i.jsxs(Fe,{to:"/products-upload",className:`flex flex-col items-center ${r.pathname==="/products-upload"?"text-blue-600":"text-orange-500"} hover:text-amber-500`,children:[i.jsx("i",{className:"bx bxs-plus-circle text-2xl"}),i.jsx("span",{className:"text-xs",children:"Sell"})]}),i.jsxs(Fe,{to:"/notifications",className:`flex flex-col items-center relative ${r.pathname==="/notifications"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[i.jsx("i",{className:"bx bx-bell text-2xl"}),i.jsx("span",{className:"text-xs",children:"Inbox"})]}),i.jsxs(Fe,{to:"/profile",className:`flex flex-col items-center ${r.pathname==="/profile"?"text-blue-600":"text-gray-600"} hover:text-amber-500`,children:[i.jsx("i",{className:"bx bx-user text-2xl"}),i.jsx("span",{className:"text-xs",children:"You"})]})]})};m0.register(KV,NC,EC,AC,jC,SC);function fF(){const r=zr(),[e,t]=R.useState(!0),[s,a]=R.useState(""),[n,o]=R.useState(!1),[l,c]=R.useState({products:0,approvedProducts:0,rejectedProducts:0}),[d,u]=R.useState({products:0,approvedProducts:0,rejectedProducts:0}),[h,m]=R.useState(""),{userProfile:p}=Nh();R.useEffect(()=>{let w,k={...d},N={...l},T=800,E=null;function I(S){E||(E=S);let A=Math.min((S-E)/T,1);u({products:Math.floor(k.products+(N.products-k.products)*A),approvedProducts:Math.floor(k.approvedProducts+(N.approvedProducts-k.approvedProducts)*A),rejectedProducts:Math.floor(k.rejectedProducts+(N.rejectedProducts-k.rejectedProducts)*A)}),A<1&&(w=requestAnimationFrame(I))}return w=requestAnimationFrame(I),()=>cancelAnimationFrame(w)},[l]),R.useEffect(()=>{const w=Tl(Ye,async k=>{k&&m(k.displayName||"Seller")});return()=>w()},[]),R.useEffect(()=>{console.log("Seller Dashboard mounted");const w=Tl(Ye,async k=>{if(console.log("Auth state changed:",k?"User logged in":"No user"),!k){r("/register",{replace:!0});return}try{const N=k.uid,[T,E,I]=await Promise.all([xt(Lt(Xe(ve,"products"),Tt("sellerId","==",N))),xt(Lt(Xe(ve,"products"),Tt("sellerId","==",N),Tt("status","==","approved"))),xt(Lt(Xe(ve,"products"),Tt("sellerId","==",N),Tt("status","==","rejected")))]);c({products:T.size,approvedProducts:E.size,rejectedProducts:I.size})}catch(N){console.error("Error fetching seller stats:",N),a("Failed to load dashboard stats: "+N.message)}finally{t(!1)}});return()=>{console.log("Seller Dashboard unmounting"),w()}},[r]);const b={labels:["Total Products","Approved Products","Rejected Products"],datasets:[{label:"Counts",data:[l.products,l.approvedProducts,l.rejectedProducts],backgroundColor:["#2563EB","#16A34A","#DC2626"],borderColor:["#2563EB","#16A34A","#DC2626"],borderWidth:1}]},x={labels:["Approved Products","Rejected Products","Pending Products"],datasets:[{label:"Product Status",data:[l.approvedProducts,l.rejectedProducts,l.products-(l.approvedProducts+l.rejectedProducts)],backgroundColor:["#2563EB","#16A34A","#DC2626"],borderColor:["#2563EB","#16A34A","#DC2626"],borderWidth:1}]},y={responsive:!0,plugins:{legend:{position:"top"},tooltip:{enabled:!0}}};return e?i.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[i.jsx("button",{className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-blue-800 text-white rounded-lg",onClick:()=>o(!n),children:i.jsx("i",{className:"bx bx-menu text-xl"})}),i.jsx("div",{className:`${n?"block":"hidden"} md:block md:w-64 bg-white border-r`,children:i.jsx(ws,{})}),i.jsx("div",{className:"flex-1 p-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 animate-pulse",children:Array.from({length:3}).map((w,k)=>i.jsx("div",{className:"bg-gray-200 p-4 rounded-lg h-24"},k))}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"}),i.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"})]})]})})]}):s?null:i.jsxs("div",{className:"relative flex min-h-screen bg-white overflow-x-hidden",children:[i.jsx("div",{className:`${n?"block":""} md:block md:w-64 bg-white border-r max-h-[calc(100vh-2rem)] overflow-y-auto`,children:i.jsx(ws,{})}),i.jsx("div",{className:"flex-1 p-3 sm:p-4 md:p-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"relative flex flex-col items-center md:flex-row md:items-center md:justify-between bg-white border border-blue-100 rounded-2xl shadow-sm p-4 sm:p-6 md:p-8 mb-8 md:mb-10",children:[i.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left w-full md:w-auto",children:[i.jsxs("h1",{className:"text-2xl sm:text-3xl font-extrabold text-blue-900 mb-1 tracking-tight",children:["Welcome back, ",i.jsx("span",{className:"text-blue-600",children:h}),"!"]}),i.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Heres a snapshot of your stores performance."})]}),i.jsx("div",{className:"mt-4 md:mt-0 flex-shrink-0",children:i.jsx("img",{src:"https://i.pinimg.com/originals/97/16/5e/97165e191052892894cb886b4a8c0971.gif",alt:"Seller Avatar",className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 rounded-full shadow border-2 border-blue-100 bg-white object-contain"})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4 mb-8 md:mb-10 items-stretch",children:[i.jsxs(Fe,{to:"/products-upload",className:"flex-1 min-w-[140px] flex items-center gap-2 px-4 py-3 rounded-lg bg-[#112d4e] text-white font-semibold shadow-sm hover:bg-[#112d4e] focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 transition",title:"Add Product",children:[i.jsx(nC,{className:"w-5 h-5"})," Add Product"]}),i.jsxs(Fe,{to:"/sellers/orders",className:"flex-1 min-w-[140px] flex items-center gap-2 px-4 py-3 rounded-lg bg-[#112d4e] text-white font-semibold shadow-sm hover:bg-[#112d4e] focus:outline-green-400 focus:ring-2 focus:ring-green-300 transition",title:"View Orders",children:[i.jsx($1,{className:"w-5 h-5"})," View Orders"]}),i.jsxs(Fe,{to:"/smile",className:"flex-1 min-w-[140px] flex items-center gap-2 px-4 py-3 rounded-lg bg-[#112d4e] text-white font-semibold shadow-sm hover:bg-[#112d4e] focus:outline-gray-400 focus:ring-2 focus:ring-gray-300 transition",title:"Withdraw Funds",children:[i.jsx(vm,{className:"w-5 h-5"})," Withdraw Funds"]}),p&&p.isProSeller&&i.jsxs("div",{className:"flex flex-1 min-w-[140px] gap-2",children:[i.jsxs(Fe,{to:"/product-bump",className:"flex-1 flex items-center gap-2 px-4 py-3 rounded-lg bg-[#112d4e] text-white font-semibold shadow-sm hover:bg-[#112d4e] focus:outline-purple-400 focus:ring-2 focus:ring-purple-300 transition",title:"Product Bump",children:[i.jsx(Eh,{className:"w-5 h-5"})," Product Bump"]}),i.jsx(Fe,{to:"/product-bump-info",className:"flex items-center px-3 py-3 rounded-lg bg-blue-100 text-blue-700 hover:bg-blue-200 transition",title:"What is Product Bump?",children:i.jsx(sm,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:[i.jsxs("div",{className:"bg-white border border-blue-100 p-5 rounded-xl shadow flex items-center justify-between transition-transform hover:scale-105 focus-within:scale-105 cursor-pointer group relative overflow-hidden",tabIndex:0,"aria-label":"Total Products","aria-live":"polite",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-semibold text-blue-700 mb-1",children:"Total Products"}),i.jsx("p",{className:"text-2xl font-extrabold text-blue-900 animate-countup",children:d.products})]}),i.jsx(Eh,{className:"w-8 h-8 text-blue-500 group-hover:scale-110 group-focus:scale-110 transition-transform z-10"})]}),i.jsxs("div",{className:"bg-white border border-green-100 p-5 rounded-xl shadow flex items-center justify-between transition-transform hover:scale-105 focus-within:scale-105 cursor-pointer group relative overflow-hidden",tabIndex:0,"aria-label":"Approved Products","aria-live":"polite",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-semibold text-green-700 mb-1",children:"Approved Products"}),i.jsx("p",{className:"text-2xl font-extrabold text-green-900 animate-countup",children:d.approvedProducts})]}),i.jsx(nb,{className:"w-8 h-8 text-green-500 group-hover:scale-110 group-focus:scale-110 transition-transform z-10"})]}),i.jsxs("div",{className:"bg-white border border-orange-100 p-5 rounded-xl shadow flex items-center justify-between transition-transform hover:scale-105 focus-within:scale-105 cursor-pointer group relative overflow-hidden",tabIndex:0,"aria-label":"Rejected Products","aria-live":"polite",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-semibold text-orange-700 mb-1",children:"Rejected Products"}),i.jsx("p",{className:"text-2xl font-extrabold text-orange-900 animate-countup",children:d.rejectedProducts})]}),i.jsx(ym,{className:"w-8 h-8 text-orange-500 group-hover:scale-110 group-focus:scale-110 transition-transform z-10"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white border border-blue-100 p-5 rounded-xl shadow",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Kde,{className:"w-5 h-5 text-blue-500"}),i.jsx("h2",{className:"text-base font-bold text-blue-900",children:"Product Analytics"})]}),i.jsx("div",{className:"h-56 sm:h-64",children:i.jsx(CC,{data:b,options:y})})]}),i.jsxs("div",{className:"bg-white border border-purple-100 p-5 rounded-xl shadow",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Qde,{className:"w-5 h-5 text-purple-500"}),i.jsx("h2",{className:"text-base font-bold text-purple-900",children:"Product Status"})]}),i.jsx("div",{className:"h-56 sm:h-64 flex items-center justify-center",children:i.jsx("div",{className:"w-3/4 sm:w-1/2",children:i.jsx(nH,{data:x,options:y})})})]})]}),i.jsx("div",{className:"mt-8",children:i.jsx("div",{className:"flex justify-end mt-4",children:i.jsx(Fe,{to:"/pro-seller-analytics",className:"inline-block px-5 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-semibold shadow",children:"See More Analytics"})})}),i.jsx(Abe,{})]})})]})}function Tbe(){const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(""),[o,l]=R.useState([]),[c,d]=R.useState("");R.useEffect(()=>{(async()=>{try{Tl(Ye,async m=>{if(m)try{const p=Lt(Xe(ve,"products"),Tt("sellerId","==",m.uid)),x=(await xt(p)).docs.map(y=>({id:y.id,...y.data(),active:y.data().active||!0,isHidden:y.data().isHidden||!1}));e(x),l(x)}catch(p){n("Failed to fetch products: "+p.message)}else n("Please log in to view your products.");s(!1)})}catch(m){n("Authentication error: "+m.message),s(!1)}})()},[]),R.useEffect(()=>{const h=r.filter(m=>m.name?.toLowerCase().includes(c.toLowerCase()));l(h)},[c,r]);const u=()=>window.location.reload();return t?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]}):a?i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-gray-50",children:i.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg shadow-lg",children:[i.jsx("p",{className:"text-red-700 text-base mb-4",children:a}),i.jsx(Fe,{to:"/seller/login",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Return to Login"})]})}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[i.jsx(ws,{}),i.jsxs("div",{className:"flex-1 ml-0 md:ml-64 p-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3 md:gap-6 mb-8 p-4 sm:p-6 md:p-8 rounded-xl bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-100 shadow-sm",children:[i.jsx(Eh,{className:"w-8 h-8 text-blue-600 mb-2 md:mb-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-900 flex items-center gap-3 flex-wrap",children:["My Products",i.jsxs("span",{className:"inline-block bg-blue-100 text-blue-700 text-base md:text-lg font-semibold px-3 py-1 rounded-full ml-2",children:[r.length," ",r.length===1?"Product":"Products"]})]}),i.jsx("p",{className:"text-gray-500 text-sm md:text-base mt-1",children:"Manage and track all your listed products."})]}),i.jsx("button",{onClick:u,title:"Refresh",className:"ml-0 md:ml-auto bg-white border border-blue-200 rounded-full p-2 md:p-3 hover:bg-blue-100 transition focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 mt-2 md:mt-0",children:i.jsx(iC,{className:"w-5 h-5 md:w-6 md:h-6 text-blue-600"})}),i.jsxs(Fe,{to:"/products-upload",className:"hidden sm:flex bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 md:px-10 md:py-5 rounded-xl hover:from-blue-700 hover:to-purple-700 transition duration-300 items-center gap-3 shadow-xl focus:outline-blue-400 focus:ring-4 focus:ring-blue-300 ml-4 font-bold text-lg md:text-xl animate-none hover:animate-pulseBtn",children:[i.jsx(Lm,{className:"w-7 h-7 md:w-8 md:h-8"})," ",i.jsx("span",{children:"Add New Product"})]})]}),i.jsxs(Fe,{to:"/products-upload",className:"sm:hidden fixed bottom-8 right-4 md:bottom-12 md:right-12 z-50 rounded-full bg-gradient-to-br from-blue-600 via-purple-500 to-pink-500 text-white p-7 shadow-2xl hover:from-blue-700 hover:to-pink-600 transition focus:outline-blue-400 focus:ring-4 focus:ring-blue-300 flex items-center justify-center animate-pulseBtn",title:"Add New Product","aria-label":"Add New Product",tabIndex:0,children:[i.jsx(nC,{className:"w-12 h-12 font-bold"}),i.jsx("span",{className:"sr-only",children:"Add New Product"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 max-w-full overflow-x-auto",children:[i.jsx("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:i.jsxs("div",{className:"relative w-full sm:w-1/3",children:[i.jsx("input",{type:"text",value:c,onChange:h=>d(h.target.value),placeholder:"Search by product name...",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"}),i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:i.jsx("i",{className:"bx bx-search"})}),c&&i.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:i.jsx("i",{className:"bx bx-x"})})]})}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsx("div",{className:"block sm:hidden",children:o.map((h,m)=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4 shadow-md hover:shadow-xl transition duration-300 animate-slide-in focus:ring-2 focus:ring-blue-300 outline-none",tabIndex:0,children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"SL:"}),i.jsx("span",{className:"text-gray-900",children:m+1})]}),i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Name:"}),i.jsx(Fe,{to:`/seller/edit-product/${h.id}`,className:"text-blue-900 font-medium hover:underline focus:underline cursor-pointer focus:outline-blue-400",children:h.name||"Unnamed Product"})]}),i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Price:"}),i.jsxs("span",{className:"text-gray-900",children:["",h.price||0]})]}),i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Verify:"}),i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${h.status==="pending"?"bg-orange-100 text-orange-800":h.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[h.status==="pending"&&i.jsx(sm,{className:"w-3 h-3"}),h.status==="approved"&&i.jsx(sm,{className:"w-3 h-3"}),h.status==="pending"?"Pending":h.status==="approved"?"Approved":"Not Approved"]})]}),i.jsx("div",{className:"flex justify-end mt-2",children:i.jsxs(Fe,{to:`/seller/edit-product/${h.id}`,className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 transition",title:"View/Edit Product",children:[i.jsx(Bm,{className:"w-4 h-4"})," Edit"]})})]},h.id))}),i.jsx("div",{className:"hidden sm:block w-full overflow-x-auto",children:i.jsxs("table",{className:"w-full min-w-[600px] border-collapse text-sm md:text-base",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-100",children:[i.jsx("th",{className:"p-2 text-left text-gray-700 font-semibold",children:"SL"}),i.jsx("th",{className:"p-2 text-left text-gray-700 font-semibold",children:"Name"}),i.jsx("th",{className:"p-2 text-left text-gray-700 font-semibold",children:"Price"}),i.jsxs("th",{className:"p-2 text-left text-gray-700 font-semibold flex items-center gap-1",children:["Verify",i.jsxs("span",{className:"group relative cursor-pointer",children:[i.jsx(sm,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-500 transition"}),i.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 mt-2 w-40 bg-gray-800 text-white text-xs rounded p-2 opacity-0 group-hover:opacity-100 pointer-events-none z-10 transition-opacity duration-200 shadow-lg",children:"Status: Pending = Awaiting approval, Approved = Live, Not Approved = Rejected"})]})]}),i.jsx("th",{className:"p-2 text-left text-gray-700 font-semibold",children:"Actions"})]})}),i.jsx("tbody",{children:o.map((h,m)=>i.jsxs("tr",{className:`border-t transition duration-200 animate-slide-in outline-none ${m%2===0?"bg-white":"bg-blue-50"}`,tabIndex:0,children:[i.jsx("td",{className:"p-2 text-gray-900",children:m+1}),i.jsx("td",{className:"p-2 text-blue-900 font-medium truncate max-w-xs hover:underline focus:underline cursor-pointer",title:h.name||"Unnamed Product",children:i.jsx(Fe,{to:`/seller/edit-product/${h.id}`,className:"focus:outline-blue-400",children:h.name||"Unnamed Product"})}),i.jsxs("td",{className:"p-2 text-gray-900",children:["",h.price||0]}),i.jsx("td",{className:"p-2",children:i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${h.status==="pending"?"bg-orange-100 text-orange-800":h.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[h.status==="pending"&&i.jsx(sm,{className:"w-3 h-3"}),h.status==="approved"&&i.jsx(sm,{className:"w-3 h-3"}),h.status==="pending"?"Pending":h.status==="approved"?"Approved":"Not Approved"]})}),i.jsx("td",{className:"p-2",children:i.jsxs(Fe,{to:`/seller/edit-product/${h.id}`,className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 transition",title:"View/Edit Product",children:[i.jsx(Bm,{className:"w-4 h-4"})," Edit"]})})]},h.id))})]})})]}),o.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center mt-10 mb-10 animate-slide-in",children:[i.jsx("img",{src:"/src/assets/icons/empty-cart.svg",alt:"No products",className:"w-32 h-32 mb-6 opacity-80"}),i.jsx("p",{className:"text-gray-700 text-center text-xl font-semibold mb-4",children:"No products found"}),i.jsxs(Fe,{to:"/products-upload",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-lg focus:outline-blue-400 focus:ring-2 focus:ring-blue-300",children:[i.jsx(Lm,{className:"w-5 h-5"})," Add Your First Product"]})]})]})]}),i.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(16px); }
          to { opacity: 1; transform: none; }
        }
        .animate-fade-in {
          animation: fade-in 0.7s cubic-bezier(0.4,0,0.2,1);
        }
        @keyframes slide-in {
          from { opacity: 0; transform: translateY(32px); }
          to { opacity: 1; transform: none; }
        }
        .animate-slide-in {
          animation: slide-in 0.7s cubic-bezier(0.4,0,0.2,1);
        }
        @keyframes pulseBtn {
          0%, 100% { box-shadow: 0 0 0 0 rgba(124,58,237,0.4), 0 8px 32px 0 rgba(30,58,138,0.18); }
          50% { box-shadow: 0 0 0 12px rgba(124,58,237,0.15), 0 8px 32px 0 rgba(30,58,138,0.18); }
        }
        .animate-pulseBtn {
          animation: pulseBtn 1.2s infinite;
        }
      `})]})}function Cbe(){const r=zr(),[e,t]=R.useState({fullName:"",country:"Nigeria",idNumber:"",bankName:"",bankCode:"",accountNumber:"",iban:"",email:Ye.currentUser?.email||""}),[s,a]=R.useState([]),[n,o]=R.useState({}),[l,c]=R.useState(!0),[d,u]=R.useState(""),[h,m]=R.useState(!1),[p,b]=R.useState(1),x=()=>{const k={};return e.fullName.trim()||(k.fullName="Full name is required."),e.country==="Nigeria"?(e.bankCode||(k.bankCode="Select a bank."),e.accountNumber.match(/^\d{10}$/)||(k.accountNumber="Enter a valid 10-digit account number.")):(e.idNumber.trim()||(k.idNumber="Enter a valid ID number."),e.iban.match(/^[A-Z]{2}\d{2}[A-Z0-9]{1,30}$/)||(k.iban="Enter a valid IBAN."),e.email.match(/\S+@\S+\.\S+/)||(k.email="Enter a valid email."),e.bankName.trim()||(k.bankName="Bank name is required.")),k};R.useEffect(()=>{(async()=>{try{if(!Ye.currentUser){u("Please log in to onboard."),r("/login");return}const N=qe(ve,"users",Ye.currentUser.uid),T=await wt(N);if(T.exists()&&T.data().isOnboarded){console.log(`User ${Ye.currentUser.uid} already onboarded`),m(!0);return}if(e.country==="Nigeria"){const E=await jr.get("https://foremade-backend.onrender.com/fetch-banks");a(E.data)}}catch(N){console.error(`Initialization error for ${Ye.currentUser.uid}:`,N),u("Initialization error: "+N.message)}finally{c(!1)}})()},[e.country,r]);const y=k=>{const{name:N,value:T}=k.target;t(E=>({...E,[N]:T})),o(E=>({...E,[N]:""})),N==="fullName"&&T.trim()&&p<2&&b(2),(e.country==="Nigeria"&&N==="bankCode"&&T&&e.accountNumber||e.country==="United Kingdom"&&N==="idNumber"&&T)&&b(3)},w=async k=>{k.preventDefault(),o({}),c(!0);const N=x();if(Object.keys(N).length>0){o(N),c(!1);return}try{const T={userId:Ye.currentUser.uid,country:e.country,fullName:e.fullName,email:e.email,bankCode:e.country==="Nigeria"?e.bankCode:void 0,accountNumber:e.country==="Nigeria"?e.accountNumber:void 0,iban:e.country==="United Kingdom"?e.iban:void 0,bankName:e.country==="United Kingdom"?e.bankName:void 0,idNumber:e.country==="United Kingdom"?e.idNumber:void 0};console.log(`Submitting onboarding for ${Ye.currentUser.uid}:`,T);const E=await jr.post("https://foremade-backend.onrender.com/onboard-seller",T);if(E.data.error)throw new Error(E.data.error);if(e.country==="United Kingdom"){window.location.href=E.data.redirectUrl;return}const I=new Date().toISOString(),S={fullName:e.fullName,country:e.country,idNumber:"",bankName:s.find(A=>A.code===e.bankCode)?.name||"",bankCode:e.country==="Nigeria"?e.bankCode:"",accountNumber:e.country==="Nigeria"?e.accountNumber:"",iban:"",email:"",paystackRecipientCode:E.data.recipientCode||"",createdAt:I,updatedAt:I};await gr(qe(ve,"sellers",Ye.currentUser.uid),S,{merge:!0}),await gr(qe(ve,"users",Ye.currentUser.uid),{role:"seller",isOnboarded:!0,updatedAt:I},{merge:!0}),console.log(`Onboarding successful for ${Ye.currentUser.uid}, role set to seller`),alert("Onboarding successful!"),r("/smile")}catch(T){console.error(`Onboarding failed for ${Ye.currentUser.uid}:`,T),u("Failed to onboard: "+(T.response?.data?.error||T.message))}finally{c(!1)}};return l?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-300 animate-pulse",children:[i.jsxs("svg",{className:"w-6 h-6 text-blue-500 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),i.jsx("span",{className:"text-lg",children:"Loading..."})]})})]}):d?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-xl shadow-lg max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Error"}),i.jsx("p",{className:"text-gray-600 mb-4",children:d}),i.jsx(Fe,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Return to Login"})]})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 sm:p-8 border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[i.jsx("div",{className:"flex-1 h-1 bg-gray-200 dark:bg-gray-600 rounded-full",children:i.jsx("div",{className:"h-1 bg-blue-600 rounded-full transition-all duration-500",style:{width:`${p/3*100}%`}})}),i.jsx("div",{className:"flex space-x-4 ml-4",children:[1,2,3].map(k=>i.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded-full text-sm font-medium transition-all duration-300 ${p>=k?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:k},k))})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-3",children:[i.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"})}),"Seller Onboarding"]}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 text-sm",children:"Complete your profile to start selling on FOREMADE."})]}),i.jsxs("form",{onSubmit:w,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Full Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{type:"text",name:"fullName",value:e.fullName,onChange:y,className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${n.fullName?"border-red-500":""}`,disabled:l,placeholder:"e.g., John Doe","aria-label":"Full Name"}),i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:i.jsx("i",{className:"bx bx-user"})})]}),n.fullName&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:n.fullName})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Country ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"country",value:e.country,onChange:y,className:"mt-1 w-full p-3 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",disabled:l,"aria-label":"Country",children:[i.jsx("option",{value:"Nigeria",children:"Nigeria"}),i.jsx("option",{value:"United Kingdom",children:"United Kingdom"})]})]}),e.country==="Nigeria"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Bank Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"bankCode",value:e.bankCode,onChange:y,className:`mt-1 w-full p-3 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${n.bankCode?"border-red-500":""}`,disabled:l,"aria-label":"Bank Name",children:[i.jsx("option",{value:"",children:"Select a bank"}),s.map(k=>i.jsx("option",{value:k.code,children:k.name},k.code))]}),n.bankCode&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:n.bankCode})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Account Number ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{type:"text",name:"accountNumber",value:e.accountNumber,onChange:y,placeholder:"e.g., 0123456789",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${n.accountNumber?"border-red-500":""}`,disabled:l,"aria-label":"Account Number"}),i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:i.jsx("i",{className:"bx bx-bank"})})]}),n.accountNumber&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:n.accountNumber})]})]}),e.country==="United Kingdom"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["ID Number ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{type:"text",name:"idNumber",value:e.idNumber,onChange:y,placeholder:"e.g., AB123456C",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${n.idNumber?"border-red-500":""}`,disabled:l,"aria-label":"ID Number"}),i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:i.jsx("i",{className:"bx bx-id-card"})})]}),n.idNumber&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:n.idNumber})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Bank Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{type:"text",name:"bankName",value:e.bankName,onChange:y,placeholder:"e.g., Barclays",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${n.bankName?"border-red-500":""}`,disabled:l,"aria-label":"Bank Name"}),i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:i.jsx("i",{className:"bx bx-bank"})})]}),n.bankName&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:n.bankName})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["IBAN ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{type:"text",name:"iban",value:e.iban,onChange:y,placeholder:"e.g., GB33BUKB20201555555555",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${n.iban?"border-red-500":""}`,disabled:l,"aria-label":"IBAN"}),i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:i.jsx("i",{className:"bx bx-credit-card"})})]}),n.iban&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:n.iban})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{type:"email",name:"email",value:e.email,onChange:y,placeholder:"e.g., seller@example.com",className:`w-full p-3 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${n.email?"border-red-500":""}`,disabled:l,"aria-label":"Email"}),i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:i.jsx("i",{className:"bx bx-envelope"})})]}),n.email&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:n.email})]})]}),i.jsx("button",{type:"submit",className:`w-full py-3 px-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl shadow-lg hover:from-blue-700 hover:to-blue-800 flex items-center justify-center gap-2 transition duration-300 ${l?"opacity-75 cursor-not-allowed":""}`,disabled:l,"aria-label":"Complete Onboarding",children:l?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"w-5 h-5 animate-spin text-white",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})}),"Complete Onboarding"]})})]})]})}),h&&i.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-2xl w-full max-w-md mx-4 sm:mx-0 transform transition-all duration-500 ease-out animate-fadeInUp",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Already Onboarded"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Youre already set as a seller! Ready to manage your wallet?"}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{onClick:()=>r("/sell"),className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200","aria-label":"Go to Dashboard",children:"Yes"}),i.jsx("button",{onClick:()=>m(!1),className:"py-2 px-6 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition duration-200","aria-label":"Close Modal",children:"No"})]})]})})]})}function PC(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var qh=PC();function iH(r){qh=r}var Ep={exec:()=>null};function fs(r,e=""){let t=typeof r=="string"?r:r.source;const s={replace:(a,n)=>{let o=typeof n=="string"?n:n.source;return o=o.replace(Yn.caret,"$1"),t=t.replace(a,o),s},getRegex:()=>new RegExp(t,e)};return s}var Yn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},Pbe=/^(?:[ \t]*(?:\n|$))+/,Rbe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Ibe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ub=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Dbe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,RC=/(?:[*+-]|\d{1,9}[.)])/,oH=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,lH=fs(oH).replace(/bull/g,RC).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Obe=fs(oH).replace(/bull/g,RC).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),IC=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Mbe=/^[^\n]+/,DC=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Fbe=fs(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",DC).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Lbe=fs(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,RC).getRegex(),sk="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",OC=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Bbe=fs("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",OC).replace("tag",sk).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),cH=fs(IC).replace("hr",ub).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sk).getRegex(),Ube=fs(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",cH).getRegex(),MC={blockquote:Ube,code:Rbe,def:Fbe,fences:Ibe,heading:Dbe,hr:ub,html:Bbe,lheading:lH,list:Lbe,newline:Pbe,paragraph:cH,table:Ep,text:Mbe},mF=fs("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ub).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sk).getRegex(),zbe={...MC,lheading:Obe,table:mF,paragraph:fs(IC).replace("hr",ub).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",mF).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sk).getRegex()},Vbe={...MC,html:fs(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",OC).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ep,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:fs(IC).replace("hr",ub).replace("heading",` *#{1,6} *[^
]`).replace("lheading",lH).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Hbe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,$be=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,dH=/^( {2,}|\\)\n(?!\s*$)/,Wbe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ak=/[\p{P}\p{S}]/u,FC=/[\s\p{P}\p{S}]/u,uH=/[^\s\p{P}\p{S}]/u,qbe=fs(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,FC).getRegex(),hH=/(?!~)[\p{P}\p{S}]/u,Gbe=/(?!~)[\s\p{P}\p{S}]/u,Ybe=/(?:[^\s\p{P}\p{S}]|~)/u,Xbe=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,fH=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Kbe=fs(fH,"u").replace(/punct/g,ak).getRegex(),Zbe=fs(fH,"u").replace(/punct/g,hH).getRegex(),mH="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Qbe=fs(mH,"gu").replace(/notPunctSpace/g,uH).replace(/punctSpace/g,FC).replace(/punct/g,ak).getRegex(),Jbe=fs(mH,"gu").replace(/notPunctSpace/g,Ybe).replace(/punctSpace/g,Gbe).replace(/punct/g,hH).getRegex(),eye=fs("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,uH).replace(/punctSpace/g,FC).replace(/punct/g,ak).getRegex(),tye=fs(/\\(punct)/,"gu").replace(/punct/g,ak).getRegex(),rye=fs(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),sye=fs(OC).replace("(?:-->|$)","-->").getRegex(),aye=fs("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",sye).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),zw=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,nye=fs(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",zw).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),gH=fs(/^!?\[(label)\]\[(ref)\]/).replace("label",zw).replace("ref",DC).getRegex(),pH=fs(/^!?\[(ref)\](?:\[\])?/).replace("ref",DC).getRegex(),iye=fs("reflink|nolink(?!\\()","g").replace("reflink",gH).replace("nolink",pH).getRegex(),LC={_backpedal:Ep,anyPunctuation:tye,autolink:rye,blockSkip:Xbe,br:dH,code:$be,del:Ep,emStrongLDelim:Kbe,emStrongRDelimAst:Qbe,emStrongRDelimUnd:eye,escape:Hbe,link:nye,nolink:pH,punctuation:qbe,reflink:gH,reflinkSearch:iye,tag:aye,text:Wbe,url:Ep},oye={...LC,link:fs(/^!?\[(label)\]\((.*?)\)/).replace("label",zw).getRegex(),reflink:fs(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",zw).getRegex()},_E={...LC,emStrongRDelimAst:Jbe,emStrongLDelim:Zbe,url:fs(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},lye={..._E,br:fs(dH).replace("{2,}","*").getRegex(),text:fs(_E.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},s1={normal:MC,gfm:zbe,pedantic:Vbe},zg={normal:LC,gfm:_E,breaks:lye,pedantic:oye},cye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gF=r=>cye[r];function ll(r,e){if(e){if(Yn.escapeTest.test(r))return r.replace(Yn.escapeReplace,gF)}else if(Yn.escapeTestNoEncode.test(r))return r.replace(Yn.escapeReplaceNoEncode,gF);return r}function pF(r){try{r=encodeURI(r).replace(Yn.percentDecode,"%")}catch{return null}return r}function xF(r,e){const t=r.replace(Yn.findPipe,(n,o,l)=>{let c=!1,d=o;for(;--d>=0&&l[d]==="\\";)c=!c;return c?"|":" |"}),s=t.split(Yn.splitPipe);let a=0;if(s[0].trim()||s.shift(),s.length>0&&!s.at(-1)?.trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;a<s.length;a++)s[a]=s[a].trim().replace(Yn.slashPipe,"|");return s}function Vg(r,e,t){const s=r.length;if(s===0)return"";let a=0;for(;a<s&&r.charAt(s-a-1)===e;)a++;return r.slice(0,s-a)}function dye(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let s=0;s<r.length;s++)if(r[s]==="\\")s++;else if(r[s]===e[0])t++;else if(r[s]===e[1]&&(t--,t<0))return s;return t>0?-2:-1}function bF(r,e,t,s,a){const n=e.href,o=e.title||null,l=r[1].replace(a.other.outputLinkReplace,"$1");s.state.inLink=!0;const c={type:r[0].charAt(0)==="!"?"image":"link",raw:t,href:n,title:o,text:l,tokens:s.inlineTokens(l)};return s.state.inLink=!1,c}function uye(r,e,t){const s=r.match(t.other.indentCodeCompensation);if(s===null)return e;const a=s[1];return e.split(`
`).map(n=>{const o=n.match(t.other.beginningSpace);if(o===null)return n;const[l]=o;return l.length>=a.length?n.slice(a.length):n}).join(`
`)}var Vw=class{options;rules;lexer;constructor(r){this.options=r||qh}space(r){const e=this.rules.block.newline.exec(r);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(r){const e=this.rules.block.code.exec(r);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Vg(t,`
`)}}}fences(r){const e=this.rules.block.fences.exec(r);if(e){const t=e[0],s=uye(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(r){const e=this.rules.block.heading.exec(r);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const s=Vg(t,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(t=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(r){const e=this.rules.block.hr.exec(r);if(e)return{type:"hr",raw:Vg(e[0],`
`)}}blockquote(r){const e=this.rules.block.blockquote.exec(r);if(e){let t=Vg(e[0],`
`).split(`
`),s="",a="";const n=[];for(;t.length>0;){let o=!1;const l=[];let c;for(c=0;c<t.length;c++)if(this.rules.other.blockquoteStart.test(t[c]))l.push(t[c]),o=!0;else if(!o)l.push(t[c]);else break;t=t.slice(c);const d=l.join(`
`),u=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${d}`:d,a=a?`${a}
${u}`:u;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,n,!0),this.lexer.state.top=h,t.length===0)break;const m=n.at(-1);if(m?.type==="code")break;if(m?.type==="blockquote"){const p=m,b=p.raw+`
`+t.join(`
`),x=this.blockquote(b);n[n.length-1]=x,s=s.substring(0,s.length-p.raw.length)+x.raw,a=a.substring(0,a.length-p.text.length)+x.text;break}else if(m?.type==="list"){const p=m,b=p.raw+`
`+t.join(`
`),x=this.list(b);n[n.length-1]=x,s=s.substring(0,s.length-m.raw.length)+x.raw,a=a.substring(0,a.length-p.raw.length)+x.raw,t=b.substring(n.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:n,text:a}}}list(r){let e=this.rules.block.list.exec(r);if(e){let t=e[1].trim();const s=t.length>1,a={type:"list",raw:"",ordered:s,start:s?+t.slice(0,-1):"",loose:!1,items:[]};t=s?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=s?t:"[*+-]");const n=this.rules.other.listItemRegex(t);let o=!1;for(;r;){let c=!1,d="",u="";if(!(e=n.exec(r))||this.rules.block.hr.test(r))break;d=e[0],r=r.substring(d.length);let h=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),m=r.split(`
`,1)[0],p=!h.trim(),b=0;if(this.options.pedantic?(b=2,u=h.trimStart()):p?b=e[1].length+1:(b=e[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,u=h.slice(b),b+=e[1].length),p&&this.rules.other.blankLine.test(m)&&(d+=m+`
`,r=r.substring(m.length+1),c=!0),!c){const w=this.rules.other.nextBulletRegex(b),k=this.rules.other.hrRegex(b),N=this.rules.other.fencesBeginRegex(b),T=this.rules.other.headingBeginRegex(b),E=this.rules.other.htmlBeginRegex(b);for(;r;){const I=r.split(`
`,1)[0];let S;if(m=I,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),S=m):S=m.replace(this.rules.other.tabCharGlobal,"    "),N.test(m)||T.test(m)||E.test(m)||w.test(m)||k.test(m))break;if(S.search(this.rules.other.nonSpaceChar)>=b||!m.trim())u+=`
`+S.slice(b);else{if(p||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||N.test(h)||T.test(h)||k.test(h))break;u+=`
`+m}!p&&!m.trim()&&(p=!0),d+=I+`
`,r=r.substring(I.length+1),h=S.slice(b)}}a.loose||(o?a.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(o=!0));let x=null,y;this.options.gfm&&(x=this.rules.other.listIsTask.exec(u),x&&(y=x[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:d,task:!!x,checked:y,loose:!1,text:u,tokens:[]}),a.raw+=d}const l=a.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let c=0;c<a.items.length;c++)if(this.lexer.state.top=!1,a.items[c].tokens=this.lexer.blockTokens(a.items[c].text,[]),!a.loose){const d=a.items[c].tokens.filter(h=>h.type==="space"),u=d.length>0&&d.some(h=>this.rules.other.anyLine.test(h.raw));a.loose=u}if(a.loose)for(let c=0;c<a.items.length;c++)a.items[c].loose=!0;return a}}html(r){const e=this.rules.block.html.exec(r);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(r){const e=this.rules.block.def.exec(r);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:s,title:a}}}table(r){const e=this.rules.block.table.exec(r);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const t=xF(e[1]),s=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],n={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===s.length){for(const o of s)this.rules.other.tableAlignRight.test(o)?n.align.push("right"):this.rules.other.tableAlignCenter.test(o)?n.align.push("center"):this.rules.other.tableAlignLeft.test(o)?n.align.push("left"):n.align.push(null);for(let o=0;o<t.length;o++)n.header.push({text:t[o],tokens:this.lexer.inline(t[o]),header:!0,align:n.align[o]});for(const o of a)n.rows.push(xF(o,n.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:n.align[c]})));return n}}lheading(r){const e=this.rules.block.lheading.exec(r);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(r){const e=this.rules.block.paragraph.exec(r);if(e){const t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(r){const e=this.rules.block.text.exec(r);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(r){const e=this.rules.inline.escape.exec(r);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(r){const e=this.rules.inline.tag.exec(r);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(r){const e=this.rules.inline.link.exec(r);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const n=Vg(t.slice(0,-1),"\\");if((t.length-n.length)%2===0)return}else{const n=dye(e[2],"()");if(n===-2)return;if(n>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+n;e[2]=e[2].substring(0,n),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let s=e[2],a="";if(this.options.pedantic){const n=this.rules.other.pedanticHrefTitle.exec(s);n&&(s=n[1],a=n[3])}else a=e[3]?e[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?s=s.slice(1):s=s.slice(1,-1)),bF(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(r,e){let t;if((t=this.rules.inline.reflink.exec(r))||(t=this.rules.inline.nolink.exec(r))){const s=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=e[s.toLowerCase()];if(!a){const n=t[0].charAt(0);return{type:"text",raw:n,text:n}}return bF(t,a,t[0],this.lexer,this.rules)}}emStrong(r,e,t=""){let s=this.rules.inline.emStrongLDelim.exec(r);if(!s||s[3]&&t.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const n=[...s[0]].length-1;let o,l,c=n,d=0;const u=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*r.length+n);(s=u.exec(e))!=null;){if(o=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!o)continue;if(l=[...o].length,s[3]||s[4]){c+=l;continue}else if((s[5]||s[6])&&n%3&&!((n+l)%3)){d+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+d);const h=[...s[0]][0].length,m=r.slice(0,n+s.index+h+l);if(Math.min(n,l)%2){const b=m.slice(1,-1);return{type:"em",raw:m,text:b,tokens:this.lexer.inlineTokens(b)}}const p=m.slice(2,-2);return{type:"strong",raw:m,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(r){const e=this.rules.inline.code.exec(r);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(t),a=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return s&&a&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(r){const e=this.rules.inline.br.exec(r);if(e)return{type:"br",raw:e[0]}}del(r){const e=this.rules.inline.del.exec(r);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(r){const e=this.rules.inline.autolink.exec(r);if(e){let t,s;return e[2]==="@"?(t=e[1],s="mailto:"+t):(t=e[1],s=t),{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}url(r){let e;if(e=this.rules.inline.url.exec(r)){let t,s;if(e[2]==="@")t=e[0],s="mailto:"+t;else{let a;do a=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(a!==e[0]);t=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(r){const e=this.rules.inline.text.exec(r);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},uc=class NE{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||qh,this.options.tokenizer=this.options.tokenizer||new Vw,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:Yn,block:s1.normal,inline:zg.normal};this.options.pedantic?(t.block=s1.pedantic,t.inline=zg.pedantic):this.options.gfm&&(t.block=s1.gfm,this.options.breaks?t.inline=zg.breaks:t.inline=zg.gfm),this.tokenizer.rules=t}static get rules(){return{block:s1,inline:zg}}static lex(e,t){return new NE(t).lex(e)}static lexInline(e,t){return new NE(t).inlineTokens(e)}lex(e){e=e.replace(Yn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const s=this.inlineQueue[t];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],s=!1){for(this.options.pedantic&&(e=e.replace(Yn.tabCharGlobal,"    ").replace(Yn.spaceLine,""));e;){let a;if(this.options.extensions?.block?.some(o=>(a=o.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);const o=t.at(-1);a.raw.length===1&&o!==void 0?o.raw+=`
`:t.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);const o=t.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.at(-1).src=o.text):t.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);const o=t.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),t.push(a);continue}let n=e;if(this.options.extensions?.startBlock){let o=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(d=>{c=d.call({lexer:this},l),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(n=e.substring(0,o+1))}if(this.state.top&&(a=this.tokenizer.paragraph(n))){const o=t.at(-1);s&&o?.type==="paragraph"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(a),s=n.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);const o=t.at(-1);o?.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(a);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let s=e,a=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)l.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let n=!1,o="";for(;e;){n||(o=""),n=!1;let l;if(this.options.extensions?.inline?.some(d=>(l=d.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const d=t.at(-1);l.type==="text"&&d?.type==="text"?(d.raw+=l.raw,d.text+=l.text):t.push(l);continue}if(l=this.tokenizer.emStrong(e,s,o)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),t.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),t.push(l);continue}let c=e;if(this.options.extensions?.startInline){let d=1/0;const u=e.slice(1);let h;this.options.extensions.startInline.forEach(m=>{h=m.call({lexer:this},u),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(c=e.substring(0,d+1))}if(l=this.tokenizer.inlineText(c)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),n=!0;const d=t.at(-1);d?.type==="text"?(d.raw+=l.raw,d.text+=l.text):t.push(l);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}},Hw=class{options;parser;constructor(r){this.options=r||qh}space(r){return""}code({text:r,lang:e,escaped:t}){const s=(e||"").match(Yn.notSpaceStart)?.[0],a=r.replace(Yn.endingNewline,"")+`
`;return s?'<pre><code class="language-'+ll(s)+'">'+(t?a:ll(a,!0))+`</code></pre>
`:"<pre><code>"+(t?a:ll(a,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}heading({tokens:r,depth:e}){return`<h${e}>${this.parser.parseInline(r)}</h${e}>
`}hr(r){return`<hr>
`}list(r){const e=r.ordered,t=r.start;let s="";for(let o=0;o<r.items.length;o++){const l=r.items[o];s+=this.listitem(l)}const a=e?"ol":"ul",n=e&&t!==1?' start="'+t+'"':"";return"<"+a+n+`>
`+s+"</"+a+`>
`}listitem(r){let e="";if(r.task){const t=this.checkbox({checked:!!r.checked});r.loose?r.tokens[0]?.type==="paragraph"?(r.tokens[0].text=t+" "+r.tokens[0].text,r.tokens[0].tokens&&r.tokens[0].tokens.length>0&&r.tokens[0].tokens[0].type==="text"&&(r.tokens[0].tokens[0].text=t+" "+ll(r.tokens[0].tokens[0].text),r.tokens[0].tokens[0].escaped=!0)):r.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(r.tokens,!!r.loose),`<li>${e}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let e="",t="";for(let a=0;a<r.header.length;a++)t+=this.tablecell(r.header[a]);e+=this.tablerow({text:t});let s="";for(let a=0;a<r.rows.length;a++){const n=r.rows[a];t="";for(let o=0;o<n.length;o++)t+=this.tablecell(n[o]);s+=this.tablerow({text:t})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){const e=this.parser.parseInline(r.tokens),t=r.header?"th":"td";return(r.align?`<${t} align="${r.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${ll(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:e,tokens:t}){const s=this.parser.parseInline(t),a=pF(r);if(a===null)return s;r=a;let n='<a href="'+r+'"';return e&&(n+=' title="'+ll(e)+'"'),n+=">"+s+"</a>",n}image({href:r,title:e,text:t,tokens:s}){s&&(t=this.parser.parseInline(s,this.parser.textRenderer));const a=pF(r);if(a===null)return ll(t);r=a;let n=`<img src="${r}" alt="${t}"`;return e&&(n+=` title="${ll(e)}"`),n+=">",n}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:ll(r.text)}},BC=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}},hc=class SE{options;renderer;textRenderer;constructor(e){this.options=e||qh,this.options.renderer=this.options.renderer||new Hw,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new BC}static parse(e,t){return new SE(t).parse(e)}static parseInline(e,t){return new SE(t).parseInline(e)}parse(e,t=!0){let s="";for(let a=0;a<e.length;a++){const n=e[a];if(this.options.extensions?.renderers?.[n.type]){const l=n,c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){s+=c||"";continue}}const o=n;switch(o.type){case"space":{s+=this.renderer.space(o);continue}case"hr":{s+=this.renderer.hr(o);continue}case"heading":{s+=this.renderer.heading(o);continue}case"code":{s+=this.renderer.code(o);continue}case"table":{s+=this.renderer.table(o);continue}case"blockquote":{s+=this.renderer.blockquote(o);continue}case"list":{s+=this.renderer.list(o);continue}case"html":{s+=this.renderer.html(o);continue}case"paragraph":{s+=this.renderer.paragraph(o);continue}case"text":{let l=o,c=this.renderer.text(l);for(;a+1<e.length&&e[a+1].type==="text";)l=e[++a],c+=`
`+this.renderer.text(l);t?s+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):s+=c;continue}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return s}parseInline(e,t=this.renderer){let s="";for(let a=0;a<e.length;a++){const n=e[a];if(this.options.extensions?.renderers?.[n.type]){const l=this.options.extensions.renderers[n.type].call({parser:this},n);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type)){s+=l||"";continue}}const o=n;switch(o.type){case"escape":{s+=t.text(o);break}case"html":{s+=t.html(o);break}case"link":{s+=t.link(o);break}case"image":{s+=t.image(o);break}case"strong":{s+=t.strong(o);break}case"em":{s+=t.em(o);break}case"codespan":{s+=t.codespan(o);break}case"br":{s+=t.br(o);break}case"del":{s+=t.del(o);break}case"text":{s+=t.text(o);break}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return s}},Y1=class{options;block;constructor(r){this.options=r||qh}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}provideLexer(){return this.block?uc.lex:uc.lexInline}provideParser(){return this.block?hc.parse:hc.parseInline}},hye=class{defaults=PC();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=hc;Renderer=Hw;TextRenderer=BC;Lexer=uc;Tokenizer=Vw;Hooks=Y1;constructor(...r){this.use(...r)}walkTokens(r,e){let t=[];for(const s of r)switch(t=t.concat(e.call(this,s)),s.type){case"table":{const a=s;for(const n of a.header)t=t.concat(this.walkTokens(n.tokens,e));for(const n of a.rows)for(const o of n)t=t.concat(this.walkTokens(o.tokens,e));break}case"list":{const a=s;t=t.concat(this.walkTokens(a.items,e));break}default:{const a=s;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(n=>{const o=a[n].flat(1/0);t=t.concat(this.walkTokens(o,e))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,e)))}}return t}use(...r){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(t=>{const s={...t};if(s.async=this.defaults.async||s.async||!1,t.extensions&&(t.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const n=e.renderers[a.name];n?e.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=n.apply(this,o)),l}:e.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const n=e[a.level];n?n.unshift(a.tokenizer):e[a.level]=[a.tokenizer],a.start&&(a.level==="block"?e.startBlock?e.startBlock.push(a.start):e.startBlock=[a.start]:a.level==="inline"&&(e.startInline?e.startInline.push(a.start):e.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(e.childTokens[a.name]=a.childTokens)}),s.extensions=e),t.renderer){const a=this.defaults.renderer||new Hw(this.defaults);for(const n in t.renderer){if(!(n in a))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const o=n,l=t.renderer[o],c=a[o];a[o]=(...d)=>{let u=l.apply(a,d);return u===!1&&(u=c.apply(a,d)),u||""}}s.renderer=a}if(t.tokenizer){const a=this.defaults.tokenizer||new Vw(this.defaults);for(const n in t.tokenizer){if(!(n in a))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const o=n,l=t.tokenizer[o],c=a[o];a[o]=(...d)=>{let u=l.apply(a,d);return u===!1&&(u=c.apply(a,d)),u}}s.tokenizer=a}if(t.hooks){const a=this.defaults.hooks||new Y1;for(const n in t.hooks){if(!(n in a))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const o=n,l=t.hooks[o],c=a[o];Y1.passThroughHooks.has(n)?a[o]=d=>{if(this.defaults.async)return Promise.resolve(l.call(a,d)).then(h=>c.call(a,h));const u=l.call(a,d);return c.call(a,u)}:a[o]=(...d)=>{let u=l.apply(a,d);return u===!1&&(u=c.apply(a,d)),u}}s.hooks=a}if(t.walkTokens){const a=this.defaults.walkTokens,n=t.walkTokens;s.walkTokens=function(o){let l=[];return l.push(n.call(this,o)),a&&(l=l.concat(a.call(this,o))),l}}this.defaults={...this.defaults,...s}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,e){return uc.lex(r,e??this.defaults)}parser(r,e){return hc.parse(r,e??this.defaults)}parseMarkdown(r){return(t,s)=>{const a={...s},n={...this.defaults,...a},o=this.onError(!!n.silent,!!n.async);if(this.defaults.async===!0&&a.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));n.hooks&&(n.hooks.options=n,n.hooks.block=r);const l=n.hooks?n.hooks.provideLexer():r?uc.lex:uc.lexInline,c=n.hooks?n.hooks.provideParser():r?hc.parse:hc.parseInline;if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(t):t).then(d=>l(d,n)).then(d=>n.hooks?n.hooks.processAllTokens(d):d).then(d=>n.walkTokens?Promise.all(this.walkTokens(d,n.walkTokens)).then(()=>d):d).then(d=>c(d,n)).then(d=>n.hooks?n.hooks.postprocess(d):d).catch(o);try{n.hooks&&(t=n.hooks.preprocess(t));let d=l(t,n);n.hooks&&(d=n.hooks.processAllTokens(d)),n.walkTokens&&this.walkTokens(d,n.walkTokens);let u=c(d,n);return n.hooks&&(u=n.hooks.postprocess(u)),u}catch(d){return o(d)}}}onError(r,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const s="<p>An error occurred:</p><pre>"+ll(t.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(t);throw t}}},Ch=new hye;function cs(r,e){return Ch.parse(r,e)}cs.options=cs.setOptions=function(r){return Ch.setOptions(r),cs.defaults=Ch.defaults,iH(cs.defaults),cs};cs.getDefaults=PC;cs.defaults=qh;cs.use=function(...r){return Ch.use(...r),cs.defaults=Ch.defaults,iH(cs.defaults),cs};cs.walkTokens=function(r,e){return Ch.walkTokens(r,e)};cs.parseInline=Ch.parseInline;cs.Parser=hc;cs.parser=hc.parse;cs.Renderer=Hw;cs.TextRenderer=BC;cs.Lexer=uc;cs.lexer=uc.lex;cs.Tokenizer=Vw;cs.Hooks=Y1;cs.parse=cs;cs.options;cs.setOptions;cs.use;cs.walkTokens;cs.parseInline;hc.parse;uc.lex;function hb({locationData:r,setLocationData:e,errors:t,saveLocation:s}){const a=o=>{const{name:l,value:c}=o.target,d={...r,[l]:c};console.log("SellerLocationForm handleChange:",l,c,d),e(d)},n=async()=>{if(s){const o=Ye.currentUser?.uid;if(o)try{await gr(qe(ve,"sellerLocations",o),r,{merge:!0}),console.log("Location saved to Firestore:",r)}catch(l){console.error("Error saving location:",l)}}};return Lr.useEffect(()=>{s&&Object.values(r).some(o=>o)&&n()},[r,s]),i.jsxs("div",{className:"mt-6",children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-map text-blue-500"}),"Seller Location"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{htmlFor:"country",className:`text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 ${r.country?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""} transition-all duration-300 transform origin-left pointer-events-none absolute left-3 top-3`,children:["Country ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"country",name:"country",value:r.country||"",onChange:a,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${t.country?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),t.country&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),t.country]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{htmlFor:"state",className:`text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 ${r.state?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""} transition-all duration-300 transform origin-left pointer-events-none absolute left-3 top-3`,children:["State ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"state",name:"state",value:r.state||"",onChange:a,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${t.state?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),t.state&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),t.state]})]}),i.jsxs("div",{className:"relative group",children:[i.jsx("label",{htmlFor:"city",className:`text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 ${r.city?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""} transition-all duration-300 transform origin-left pointer-events-none absolute left-3 top-3`,children:"City"}),i.jsx("input",{type:"text",id:"city",name:"city",value:r.city||"",onChange:a,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${t.city?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),t.city&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),t.city]})]}),i.jsxs("div",{className:"relative group",children:[i.jsx("label",{htmlFor:"address",className:`text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 ${r.address?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""} transition-all duration-300 transform origin-left pointer-events-none absolute left-3 top-3`,children:"Address"}),i.jsx("input",{type:"text",id:"address",name:"address",value:r.address||"",onChange:a,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${t.address?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),t.address&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),t.address]})]})]})]})}hb.propTypes={locationData:kr.shape({country:kr.string,state:kr.string,city:kr.string,address:kr.string}).isRequired,setLocationData:kr.func.isRequired,errors:kr.object.isRequired,saveLocation:kr.func};hb.defaultProps={saveLocation:null};jr.defaults.timeout=8e4;function yF({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function fye(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>{e(n=>n.filter(o=>o.id!==a))}}}function mye(){const[r,e]=R.useState(!1),t=zr(),{alerts:s,addAlert:a,removeAlert:n}=fye(),[o,l]=R.useState(()=>{const le=localStorage.getItem("sellerProductForm");return le?JSON.parse(le):{sellerName:"",name:"",description:"",price:"",stock:"",category:"",subcategory:"",subSubcategory:"",colors:[],sizes:[],condition:"New",productUrl:"",images:[],videos:[],tags:[],manualSize:"",deliveryDays:""}}),[c,d]=R.useState(()=>{const le=localStorage.getItem("sellerLocationForm");return le?JSON.parse(le):{country:"",state:"",city:"",address:""}}),[u,h]=R.useState({}),[m,p]=R.useState(!1),[b,x]=R.useState(()=>{const le=localStorage.getItem("sellerProductImages");return le?JSON.parse(le):[]}),[y,w]=R.useState(()=>{const le=localStorage.getItem("sellerProductPreviews");return le?JSON.parse(le):[]}),[k,N]=R.useState(()=>{const le=localStorage.getItem("sellerProductVideos");return le?JSON.parse(le):[]}),[T,E]=R.useState(()=>{const le=localStorage.getItem("sellerProductVideoPreviews");return le?JSON.parse(le):[]}),[I,S]=R.useState({}),[A,P]=R.useState(!1),[O,M]=R.useState(0),[L,B]=R.useState(null),[G,X]=R.useState(""),[H,W]=R.useState([]),[ne,U]=R.useState(!1),[z,Q]=R.useState(!1),[q,Z]=R.useState(!1),[J,re]=R.useState(!1),[de,Se]=R.useState(!1),[je,Ne]=R.useState({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),[xe,ze]=R.useState(!1),[se,fe]=R.useState([]),[Te,Ce]=R.useState({}),[Be,Ue]=R.useState({}),[gt,st]=R.useState([]),[bt,pt]=R.useState(null),[zt,Mt]=R.useState(null),[dt,At]=R.useState(""),[Qe,ut]=R.useState(1),kt=le=>le===1?b.length>0:le===2?o.name&&o.description&&o.sellerName:le===3?o.price&&o.stock&&o.deliveryDays:le===4?c.country&&c.state:!1;R.useEffect(()=>{kt(1)&&Qe<2&&ut(2),kt(2)&&Qe<3&&ut(3),kt(3)&&Qe<4&&ut(4)},[b,o.name,o.description,o.sellerName,o.price,o.stock,o.deliveryDays,c.country,c.state]);const vt=R.useRef(null),it=R.useRef(null),ft=R.useRef(null),Dt=R.useRef(null),Bt=R.useRef(null),or=[{name:"Red",hex:"#ff0000"},{name:"Orange",hex:"#FFA500"},{name:"Blue",hex:"#0000ff"},{name:"Green",hex:"#008000"},{name:"Brown",hex:"#8b4513"},{name:"Black",hex:"#000000"},{name:"White",hex:"#ffffff"},{name:"Purple",hex:"#800080"},{name:"Pink",hex:"#ffc1cc"},{name:"Gray",hex:"#808080"},{name:"Yellow",hex:"#FFFF00"},{name:"Gold",hex:"#ff9a1d"},{name:"Silver",hex:"#e2f2ec"}],Ot=["S","M","L","XL","XXL"],Xt=["3","4","6","8","10","12","14","16","18","20"],Vr=['3"','5"','5.5"','6"','6.5"','7"','7.5"','8"','8.5"','9"','9.5"','10"','10.5"','11"','11.5"','12"','12.5"'],vr=["30ml","50ml","60ml","75ml","100ml"],Hr=["1 to 5kg","5 to 10kg ","10 to 20kg","20kg above"],xr=8,dr=1,cr=10*1024*1024,Er=30;R.useEffect(()=>{localStorage.setItem("sellerLocationForm",JSON.stringify(c))},[c]),R.useEffect(()=>{const le=yr(Xe(ve,"categories"),Oe=>{const De=Oe.docs.map(Me=>({id:Me.id,...Me.data()}));fe(De.map(Me=>Me.name)),o.category&&!De.some(Me=>Me.name===o.category)&&(l(Me=>({...Me,category:"",subcategory:"",subSubcategory:"",sizes:[]})),a("Selected category was removed by admin.","error"))},Oe=>{console.error("Error fetching categories:",Oe),a("Failed to load categories.","error")}),Ee=yr(Xe(ve,"customSubcategories"),Oe=>{const De={};Oe.forEach(Me=>{De[Me.id]=Me.data().subcategories||[]}),Ce(De),o.category&&o.subcategory&&!De[o.category]?.includes(o.subcategory)&&(l(Me=>({...Me,subcategory:"",subSubcategory:"",sizes:[]})),a("Selected subcategory was removed by admin.","error"))},Oe=>{console.error("Error fetching subcategories:",Oe),a("Failed to load subcategories.","error")}),ae=yr(Xe(ve,"customSubSubcategories"),Oe=>{const De={};Oe.forEach(Me=>{const at=Me.id,mt=Me.data();De[at]={},Object.entries(mt).forEach(([ir,Wr])=>{De[at][ir]=Array.isArray(Wr)?Wr:[]})}),Ue(De),o.category&&o.subcategory&&o.subSubcategory&&!De[o.category]?.[o.subcategory]?.includes(o.subSubcategory)&&(l(Me=>({...Me,subSubcategory:"",sizes:[]})),a("Selected sub-subcategory was removed by admin.","error"))},Oe=>{console.error("Error fetching sub-subcategories:",Oe),a("Failed to load sub-subcategories.","error")});return(async()=>{try{const Oe=qe(ve,"feeConfigurations","categoryFees"),De=await wt(Oe);De.exists()?Mt(De.data()):a("No fee configurations found.","error")}catch(Oe){console.error("Error fetching fee configurations:",Oe),a("Failed to load fee configurations.","error")}})(),()=>{le(),Ee(),ae()}},[o.category,o.subcategory,o.subSubcategory]),R.useEffect(()=>{const le=Ye.onAuthStateChanged(Ee=>{if(Ee){B(Ee);try{let ae=Ee.displayName||"";ae&&ae.startsWith("{")&&(ae=JSON.parse(ae).name||""),l(ke=>({...ke,sellerName:ae})),localStorage.setItem("sellerProductForm",JSON.stringify({...o,sellerName:ae}))}catch(ae){console.error("Error parsing displayName:",ae),a("Failed to load seller profile.","error")}}else a("Please log in to add products.","error"),t("/login")});return()=>le()},[t]),R.useEffect(()=>{if(!zt||!o.category)return;const le=parseFloat(o.price);if(!le||isNaN(le)){Ne({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0});return}const Ee=zt[o.category]||{buyerProtectionRate:.08,handlingRate:.2},ae=le*Ee.buyerProtectionRate,ke=le*Ee.handlingRate,Oe=le+ae+ke,De=le;Ne({productSize:o.category,buyerProtectionFee:ae,handlingFee:ke,totalEstimatedPrice:Oe,sellerEarnings:De}),localStorage.setItem("sellerProductForm",JSON.stringify(o))},[o.price,o.category,zt]),R.useEffect(()=>{localStorage.setItem("sellerProductForm",JSON.stringify(o)),localStorage.setItem("sellerProductImages",JSON.stringify(b)),localStorage.setItem("sellerProductPreviews",JSON.stringify(y)),localStorage.setItem("sellerProductVideos",JSON.stringify(k)),localStorage.setItem("sellerProductVideoPreviews",JSON.stringify(T))},[o,b,y,k,T]),R.useEffect(()=>{At(cs(o.description||"",{gfm:!0,breaks:!0}))},[o.description]),R.useEffect(()=>{(()=>{const Ee=`${o.name} ${o.description} ${o.subSubcategory}`.toLowerCase(),ae=[];Ee.includes("leather")&&ae.push("Leather"),(Ee.includes("shoe")||Ee.includes("footwear"))&&ae.push("Footwear"),(Ee.includes("phone")||Ee.includes("mobile"))&&ae.push("Smartphone"),Ee.includes("fashion")&&ae.push("Fashion"),Ee.includes("vintage")&&ae.push("Vintage"),Ee.includes("smart")&&ae.push("Smart"),st(ae.filter(ke=>!o.tags.includes(ke)))})()},[o.name,o.description,o.subSubcategory]),R.useEffect(()=>{const le=navigator.userAgent||navigator.vendor||window.opera;ze(/android|iphone|ipad|ipod|opera mini|mobile/i.test(le))},[]);const Ar=le=>{const{name:Ee,value:ae}=le.target;l(ke=>({...ke,[Ee]:ae,...Ee==="category"?{subcategory:"",subSubcategory:"",sizes:[]}:{},...Ee==="subcategory"?{subSubcategory:"",sizes:[]}:{}})),S(ke=>({...ke,[Ee]:""}))},qt=(le,Ee=!1)=>{const ke=Array.from(le).filter(Me=>Me.type.startsWith("image/")&&Me.size<=5*1024*1024);if(b.length+ke.length>xr){a(`You can upload a maximum of ${xr} images.`,"error");return}if(Ee&&ke.length>1){a("Please upload one image at a time.","error");return}x(Me=>[...Me,...ke]);const De=ke.map(Me=>URL.createObjectURL(Me));w(Me=>[...Me,...De]),S(Me=>({...Me,images:""})),vt.current&&(vt.current.value=""),it.current&&(it.current.value="")},Pr=le=>{const ae=Array.from(le.target.files).filter(Oe=>Oe.type.startsWith("video/")&&Oe.size<=cr);if(k.length+ae.length>dr){a(`You can upload a maximum of ${dr} video.`,"error");return}const ke=Oe=>new Promise((De,Me)=>{const at=document.createElement("video");at.preload="metadata",at.onloadedmetadata=()=>{at.duration>Er&&Me(new Error(`Video must be under ${Er} seconds.`)),(at.audioTracks||[]).length>0?Me(new Error("Please upload a video without audio.")):De(Oe)},at.onerror=()=>Me(new Error("Error loading video metadata.")),at.src=URL.createObjectURL(Oe)});Promise.all(ae.map(Oe=>ke(Oe))).then(Oe=>{N(Me=>[...Me,...Oe]);const De=Oe.map(Me=>URL.createObjectURL(Me));E(Me=>[...Me,...De]),S(Me=>({...Me,videos:""}))}).catch(Oe=>{a(Oe.message,"error")}),ft.current&&(ft.current.value="")},br=le=>qt(le.target.files),Jr=le=>qt(le.target.files,!0),Ps=le=>{le.preventDefault(),le.stopPropagation(),Dt.current.classList.remove("border-blue-500"),qt(le.dataTransfer.files)},Or=le=>{le.preventDefault(),le.stopPropagation(),Dt.current.classList.add("border-blue-500")},ss=le=>{le.preventDefault(),le.stopPropagation(),Dt.current.classList.remove("border-blue-500")},$r=le=>{x(Ee=>Ee.filter((ae,ke)=>ke!==le)),w(Ee=>Ee.filter((ae,ke)=>ke!==le)),b.length<=1&&(vt.current&&(vt.current.value=""),it.current&&(it.current.value=""))},Mr=le=>{N(Ee=>Ee.filter((ae,ke)=>ke!==le)),E(Ee=>Ee.filter((ae,ke)=>ke!==le)),k.length<=1&&ft.current&&(ft.current.value="")},Vs=le=>{l(Ee=>{const ae=Ee.colors.includes(le)?Ee.colors.filter(ke=>ke!==le):[...Ee.colors,le];return{...Ee,colors:ae}}),X(""),U(!1)},Ie=le=>{const Ee=le.target.value;if(X(Ee),Ee.trim()===""){W([]),U(!1);return}const ae=or.filter(ke=>ke.name.toLowerCase().includes(Ee.toLowerCase()));W(ae),U(!0)},Y=le=>{if(le.key==="Enter"&&G.trim()){const Ee=G.trim();if(Ee.length>20){a("Color name must be 20 characters or less.","error");return}l(ae=>{const ke=ae.colors.includes(Ee)?ae.colors:[...ae.colors,Ee];return{...ae,colors:ke}}),X(""),W([]),U(!1)}},ie=le=>{l(Ee=>({...Ee,colors:Ee.colors.filter(ae=>ae!==le)}))},ce=le=>{l(Ee=>{const ae=Ee.sizes.includes(le)?Ee.sizes.filter(ke=>ke!==le):[...Ee.sizes,le];return{...Ee,sizes:ae}})},oe=le=>{if(le.key==="Enter"&&le.target.value.trim()){const Ee=le.target.value.trim();l(ae=>{const ke=ae.sizes.includes(Ee)?ae.sizes:[...ae.sizes,Ee];return{...ae,sizes:ke}}),le.target.value=""}},ge=le=>{l(Ee=>({...Ee,sizes:Ee.sizes.filter(ae=>ae!==le)}))},be=le=>{l(Ee=>{const ae=Ee.tags.includes(le)?Ee.tags.filter(ke=>ke!==le):[...Ee.tags,le];return{...Ee,tags:ae}})},he=le=>{const Ee=Bt.current;if(!Ee)return;const ae=Ee.selectionStart,ke=Ee.selectionEnd,Oe=o.description.substring(ae,ke);let De=o.description,Me=ae,at=ke;le==="bold"?Oe?(De=De.substring(0,ae)+`**${Oe}**`+De.substring(ke),Me=ae+2,at=ke+2):(De=De.substring(0,ae)+"****"+De.substring(ae),Me=ae+2,at=ae+2):le==="italic"?Oe?(De=De.substring(0,ae)+`*${Oe}*`+De.substring(ke),Me=ae+1,at=ke+1):(De=De.substring(0,ae)+"**"+De.substring(ae),Me=ae+1,at=ae+1):le==="code"&&(Oe?(De=De.substring(0,ae)+`\`${Oe}\``+De.substring(ke),Me=ae+1,at=ke+1):(De=De.substring(0,ae)+"``"+De.substring(ae),Me=ae+1,at=ae+1)),l(mt=>({...mt,description:De})),setTimeout(()=>{Ee.selectionStart=Me,Ee.selectionEnd=at,Ee.focus()},0)},ye=()=>{const le={};return o.sellerName.trim()||(le.sellerName="Please enter your full name."),o.name.trim()||(le.name="Product name is required."),(!o.price||isNaN(o.price)||o.price<=0)&&(le.price="Enter a valid price greater than 0."),(!o.stock||isNaN(o.stock)||o.stock<0)&&(le.stock="Enter a valid stock quantity (0 or more)."),(!o.category||!se.includes(o.category))&&(le.category="Select a valid category."),b.length===0&&(le.images="At least one image is required."),b.length>xr&&(le.images=`Maximum ${xr} images allowed.`),k.length>dr&&(le.videos=`Maximum ${dr} video allowed.`),(!o.deliveryDays||isNaN(o.deliveryDays)||o.deliveryDays<=0)&&(le.deliveryDays="Enter a valid number of delivery days (greater than 0)."),o.category==="Clothing"&&o.subcategory&&o.sizes.length===0&&(le.sizes="Select or enter at least one size for clothing products."),o.category==="Footwear"&&o.subcategory&&o.sizes.length===0&&(le.sizes="Select or enter at least one size for footwear products."),o.category==="Perfumes"&&o.subcategory&&o.sizes.length===0&&(le.sizes="Select or enter at least one size for perfume products."),le},pe=()=>({}),we=async(le,Ee=!1)=>{const ae=new FormData;ae.append("file",le),ae.append("isVideo",Ee);try{const Oe=await jr.post("https://foremade-backend.onrender.com/upload",ae,{headers:{"Content-Type":"multipart/form-data"},timeout:1e5,onUploadProgress:De=>{const Me=Math.round(De.loaded*100/De.total);M(Me)}});if(Oe.status!==200||!Oe.data.url)throw new Error(`Failed to upload ${Ee?"video":"image"} to Cloudinary.`);return Oe.data.url}catch(ke){throw console.error(`${Ee?"Video":"Image"} upload error:`,{message:ke.message,code:ke.code,response:ke.response?.data}),new Error(ke.code==="ECONNABORTED"?"Request timed out. Please check your network or try again later.":ke.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network or server status.":ke.response?.data?.error||`Failed to upload ${Ee?"video":"image"}.`)}finally{M(0)}},te=async le=>{if(le.preventDefault(),S({}),h({}),P(!0),!L){a("You must be logged in to add products.","error"),P(!1),t("/login");return}const Ee=ye(),ae=pe();if(Object.keys(Ee).length>0||Object.keys(ae).length>0){S(Ee),h(ae),P(!1),a("Please fix the form errors.","error");return}try{const ke=await Promise.all(b.map(at=>we(at))),Oe=k.length>0?await Promise.all(k.map(at=>we(at,!0))):[];if(ke.length===0)throw new Error("At least one image URL is required.");const De={sellerName:o.sellerName,name:o.name,description:o.description||"",price:parseFloat(o.price),stock:parseInt(o.stock,10),category:o.category.toLowerCase(),subcategory:o.subcategory||"",subSubcategory:o.subSubcategory||"",colors:o.colors,sizes:o.sizes,condition:o.condition||"New",productUrl:o.productUrl||"",imageUrls:ke,videoUrls:Oe,tags:o.tags,sellerId:L.uid,seller:{name:o.sellerName,id:L.uid},createdAt:new Date().toISOString(),reviews:[],buyerProtectionFee:je.buyerProtectionFee,handlingFee:je.handlingFee,totalEstimatedPrice:je.totalEstimatedPrice,sellerEarnings:je.sellerEarnings,manualSize:o.manualSize||"",deliveryDays:parseInt(o.deliveryDays,10),location:{country:c.country,state:c.state,city:c.city||"",address:c.address||""}},Me=await fi(Xe(ve,"products"),De);console.log("Product uploaded with ID:",Me.id),p(!0),l({sellerName:"",name:"",description:"",price:"",stock:"",category:"",subcategory:"",subSubcategory:"",colors:[],sizes:[],condition:"New",productUrl:"",images:[],videos:[],tags:[],manualSize:"",deliveryDays:""}),d({country:"",state:"",city:"",address:""}),x([]),w([]),N([]),E([]),localStorage.removeItem("sellerProductForm"),localStorage.removeItem("sellerLocationForm"),localStorage.removeItem("sellerProductImages"),localStorage.removeItem("sellerProductPreviews"),localStorage.removeItem("sellerProductVideos"),localStorage.removeItem("sellerProductVideoPreviews"),vt.current&&(vt.current.value=""),it.current&&(it.current.value=""),ft.current&&(ft.current.value=""),W([]),U(!1),Q(!1),Z(!1),re(!1),Ne({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),Se(!1)}catch(ke){console.error("Error uploading product:",{message:ke.message,stack:ke.stack,code:ke.code}),a(ke.message||"Failed to upload product.","error")}finally{P(!1)}},_e=()=>o.category==="Clothing"&&o.subcategory?o.subcategory==="Men"?Ot:Xt:o.category==="Footwear"&&o.subcategory?Vr:o.category==="Perfumes"&&o.subSubcategory?.startsWith("Oil -")?vr:[];return L?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 flex justify-center items-start",children:i.jsxs("div",{className:"w-full max-w-7xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-package text-blue-500"}),"Add a New Product"]}),i.jsx(Fe,{to:"/bulk-upload",className:"inline-block px-1 py-1 bg-[#112d4e] text-white rounded hover:bg-blue-700 font-semibold shadow",children:"Bulk Upload"})]}),i.jsxs("form",{onSubmit:te,className:"space-y-6 sm:space-y-8",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Images (up to ",xr,") ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Upload up to 8 images (JPEG, PNG, etc.)"})]}),i.jsxs("div",{ref:Dt,onDrop:Ps,onDragOver:Or,onDragLeave:ss,className:`mt-1 w-full p-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center min-h-[200px] transition-colors ${I.images?"border-red-500":"border-gray-300 hover:border-blue-500 dark:border-gray-600"} ${A?"opacity-50":""}`,children:[y.length===0?i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"bx bx-cloud-upload text-5xl text-gray-600 dark:text-gray-400"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:xe?i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",onClick:()=>it.current.click(),className:"text-blue-600 hover:underline",disabled:A,children:"Upload one image"})," or ",i.jsxs("button",{type:"button",onClick:()=>vt.current.click(),className:"text-blue-600 hover:underline",disabled:A,children:["select up to ",xr," images"]})]}):i.jsxs(i.Fragment,{children:["Drag and drop up to ",xr," images or"," ",i.jsx("button",{type:"button",onClick:()=>vt.current.click(),className:"text-blue-600 hover:underline",disabled:A,children:"select images"})]})}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"(JPEG, JPG, PNG, WEBP, GIF, max 5MB each)"})]}):i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 w-full",children:y.map((le,Ee)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:le,alt:`Preview ${Ee+1}`,className:"w-full h-48 object-cover rounded-md border border-gray-200 dark:border-gray-600 cursor-pointer shadow-sm",onClick:()=>pt({type:"image",src:le})}),i.jsx("button",{type:"button",onClick:()=>$r(Ee),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 shadow-sm",disabled:A,title:"Remove image",children:i.jsx("i",{className:"bx bx-x text-sm"})})]},Ee))}),i.jsx("input",{ref:vt,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:br,className:"hidden",disabled:A,multiple:!0}),i.jsx("input",{ref:it,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:Jr,className:"hidden",disabled:A})]}),I.images&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.images]}),xe&&y.length>0&&y.length<xr&&i.jsx("button",{type:"button",onClick:()=>it.current.click(),className:"mt-2 text-blue-600 hover:underline text-sm",disabled:A,children:"Add another image"}),O>0&&i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:i.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${O}%`}})})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Product Video (1 video, Optional)",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Upload one video (MP4, MKV, WEBM, max 10MB, 30s, no audio)"})]}),i.jsxs("div",{className:`mt-1 w-full p-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center min-h-[200px] transition-colors ${I.videos?"border-red-500":"border-gray-300 hover:border-blue-500 dark:border-gray-600"} ${A?"opacity-50":""}`,children:[T.length===0?i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"bx bx-video-plus text-5xl text-gray-600 dark:text-gray-400"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Drag and drop a video or"," ",i.jsx("button",{type:"button",onClick:()=>ft.current.click(),className:"text-blue-600 hover:underline",disabled:A,children:"select a video"})]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"(MP4, MKV, WEBM, max 10MB, under 30 seconds, no audio)"})]}):i.jsx("div",{className:"w-full",children:T.map((le,Ee)=>i.jsxs("div",{className:"relative",children:[i.jsx("video",{src:le,controls:!0,className:"w-full h-[255px] object-cover rounded-md border border-gray-200 dark:border-gray-600 cursor-pointer shadow-sm md:w-full md:h-auto",onClick:()=>pt({type:"video",src:le})}),i.jsx("button",{type:"button",onClick:()=>Mr(Ee),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 shadow-sm",disabled:A,title:"Remove video",children:i.jsx("i",{className:"bx bx-x text-sm"})})]},Ee))}),i.jsx("input",{ref:ft,type:"file",accept:"video/mp4,video/mkv,video/webm",onChange:Pr,className:"hidden",disabled:A})]}),I.videos&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.videos]}),O>0&&i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:i.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${O}%`}})})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-info-circle text-blue-500"}),"Product Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Seller Name ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Your registered name"})]}),i.jsx("input",{type:"text",name:"sellerName",value:o.sellerName,placeholder:"Enter your full name",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:!0}),I.sellerName&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.sellerName]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Product Name ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Name of the product"})]}),i.jsx("input",{type:"text",name:"name",value:o.name,onChange:Ar,placeholder:"e.g., Men's Leather Jacket",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:A}),I.name&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.name]})]})]}),i.jsxs("div",{className:"mt-6 relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Description",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Describe your product with optional bold, italic, or code formatting"})]}),i.jsxs("div",{className:"mt-1",children:[i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("button",{type:"button",onClick:()=>he("bold"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:A,title:"Bold text (**text**)",children:i.jsx("i",{className:"bx bx-bold text-lg group-hover:text-blue-500"})}),i.jsx("button",{type:"button",onClick:()=>he("italic"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:A,title:"Italic text (*text*)",children:i.jsx("i",{className:"bx bx-italic text-lg group-hover:text-blue-500"})}),i.jsx("button",{type:"button",onClick:()=>he("code"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:A,title:"Code text (`text`)",children:i.jsx("i",{className:"bx bx-code text-lg group-hover:text-blue-500"})})]}),i.jsx("textarea",{ref:Bt,name:"description",value:o.description,onChange:Ar,placeholder:"e.g., **Premium leather** jacket with *stylish stitching*",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.description?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,rows:"4",disabled:A}),o.description&&i.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-gray-700 dark:text-gray-300",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Preview"}),i.jsx("div",{className:"prose prose-sm dark:prose-invert",dangerouslySetInnerHTML:{__html:dt}})]})]}),I.description&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.description]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-money text-blue-500"}),"Pricing & Stock"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Price () ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Price in Naira"})]}),i.jsx("input",{type:"number",name:"price",value:o.price,onChange:Ar,step:"0.01",min:"0",placeholder:"e.g., 5000.00",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.price?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:A}),I.price&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.price]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Stock Quantity ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Available stock"})]}),i.jsx("input",{type:"number",name:"stock",value:o.stock,onChange:Ar,min:"0",placeholder:"e.g., 10",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.stock?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:A}),I.stock&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.stock]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Delivery Days ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Estimated delivery time in days"})]}),i.jsx("input",{type:"number",name:"deliveryDays",value:o.deliveryDays,onChange:Ar,min:"1",placeholder:"e.g., 3",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.deliveryDays?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:A}),I.deliveryDays&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.deliveryDays]})]})]}),i.jsxs("div",{className:"mt-6 relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Weight",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product weight"})]}),i.jsxs("select",{name:"manualSize",value:o.manualSize,onChange:Ar,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.manualSize?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:A,children:[i.jsx("option",{value:"",children:"Select a size"}),Hr.map(le=>i.jsx("option",{value:le,children:le},le))]}),I.manualSize&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.manualSize]})]}),je.productSize&&zt&&i.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-calculator text-blue-500"}),"Foremade Fees"]}),i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[i.jsxs("p",{children:["Category: ",i.jsx("span",{className:"font-semibold",children:je.productSize})]}),i.jsxs("p",{className:"hidden",children:["Buyer Protection Fee (",(zt[je.productSize]?.buyerProtectionRate*100).toFixed(2),"%): ",je.buyerProtectionFee.toLocaleString("en-NG",{minimumFractionDigits:2})]}),i.jsxs("p",{className:"hidden",children:["Handling Fee (",(zt[je.productSize]?.handlingRate*100).toFixed(2),"%): ",je.handlingFee.toLocaleString("en-NG",{minimumFractionDigits:2})]}),i.jsxs("p",{className:"font-bold",children:["Total Estimated Price for Buyer: ",je.totalEstimatedPrice.toLocaleString("en-NG",{minimumFractionDigits:2})]}),i.jsxs("p",{className:"font-bold text-green-600",children:["Your Estimated Earnings: ",je.sellerEarnings.toLocaleString("en-NG",{minimumFractionDigits:2})]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:"Note: International shipping costs can be added separately."})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-category text-blue-500"}),"Category & Subcategory"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Category ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product category"})]}),i.jsxs("div",{className:"relative mt-1",children:[i.jsxs("button",{type:"button",onClick:()=>Q(!z),className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.category?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 flex justify-between items-center transition-all duration-200`,disabled:A||se.length===0,children:[i.jsx("span",{children:o.category||"Select a category"}),i.jsx("i",{className:"bx bx-chevron-down text-gray-500 dark:text-gray-400"})]}),z&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:se.length===0?i.jsx("div",{className:"p-2 text-sm text-gray-500 dark:text-gray-400",children:"No categories available"}):se.map(le=>i.jsx("button",{type:"button",onClick:()=>{l(Ee=>({...Ee,category:le,subcategory:"",subSubcategory:"",sizes:[]})),Q(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:le},le))})]}),I.category&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.category]}),se.length===0&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),"Loading categories..."]}),o.category&&o.category.toLowerCase().includes("food")&&i.jsxs("p",{className:"text-gray-500 text-xs mt-3 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-info-circle"}),"All food-related categories must meet NAFDAC/FSA food safety standards."]})]}),o.category&&i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Subcategory",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or type a subcategory"})]}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx("input",{type:"text",value:o.subcategory,onChange:le=>l(Ee=>({...Ee,subcategory:le.target.value,subSubcategory:"",sizes:[]})),onFocus:()=>Z(!0),onBlur:()=>setTimeout(()=>Z(!1),200),placeholder:"Select or type a subcategory",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.subcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:A||!Te[o.category]}),q&&Te[o.category]&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:Te[o.category].filter(le=>le.toLowerCase().includes(o.subcategory.toLowerCase())).map(le=>i.jsx("button",{type:"button",onClick:()=>{l(Ee=>({...Ee,subcategory:le,subSubcategory:"",sizes:[]})),Z(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:le},le))}),!Te[o.category]&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),"Loading subcategories..."]}),I.subcategory&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.subcategory]})]})]}),o.subcategory&&Be[o.category]?.[o.subcategory]&&i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Sub-Subcategory",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or type a sub-subcategory"})]}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx("input",{type:"text",value:o.subSubcategory,onChange:le=>l(Ee=>({...Ee,subSubcategory:le.target.value,sizes:[]})),onFocus:()=>re(!0),onBlur:()=>setTimeout(()=>re(!1),200),placeholder:"Select or type a sub-subcategory",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.subSubcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:A||!Be[o.category]?.[o.subcategory]}),J&&Be[o.category]?.[o.subcategory]&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:Be[o.category][o.subcategory].filter(le=>le.toLowerCase().includes(o.subSubcategory.toLowerCase())).map(le=>i.jsx("button",{type:"button",onClick:()=>{l(Ee=>({...Ee,subSubcategory:le,sizes:[]})),re(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:le},le))}),I.subSubcategory&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.subSubcategory]})]})]})]})]}),(o.category==="Clothing"||o.category==="Footwear"||o.category==="Perfumes")&&o.subcategory&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-ruler text-blue-500"}),"Sizes"]}),i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Sizes ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or enter sizes"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:_e().map(le=>i.jsx("button",{type:"button",onClick:()=>ce(le),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${o.sizes.includes(le)?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${A?"opacity-50 cursor-not-allowed":""}`,disabled:A,children:le},le))}),i.jsx("div",{className:"relative mt-2",children:i.jsx("input",{type:"text",placeholder:"Enter custom size (e.g., Size 35) and press Enter",onKeyDown:oe,className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.sizes?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:A})}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.sizes.map(le=>i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[i.jsx("span",{children:le}),i.jsx("button",{type:"button",onClick:()=>ge(le),className:"text-red-500 hover:text-red-700",disabled:A,title:"Remove size",children:i.jsx("i",{className:"bx bx-x"})})]},le))}),I.sizes&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.sizes]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-color-fill text-blue-500"}),"Colors"]}),i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Colors",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or enter colors"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2",children:o.colors.map(le=>{const Ee=or.find(ae=>ae.name.toLowerCase()===le.toLowerCase());return i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[i.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Ee||Ee?Ee.hex:"#000000"}}),i.jsx("span",{children:le}),i.jsx("button",{type:"button",onClick:()=>ie(le),className:"text-red-500 hover:text-red-700",disabled:A,title:"Remove color",children:i.jsx("i",{className:"bx bx-x"})})]},le)})}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:G,onChange:Ie,onKeyDown:Y,placeholder:"Type a color and press Enter",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.colors?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:A}),ne&&H.length>0&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:H.map(le=>i.jsxs("button",{type:"button",onClick:()=>Vs(le.name),className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:le.hex}}),le.name]},le.name))})]}),I.colors&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.colors]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-purchase-tag text-blue-500"}),"Tags"]}),i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Tags",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or enter tags to improve product visibility"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 mb-2",children:[gt.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:gt.map(le=>i.jsx("button",{type:"button",onClick:()=>be(le),className:"px-3 py-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm shadow-sm",disabled:A,children:le},le))}),o.tags.map(le=>i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[i.jsx("span",{children:le}),i.jsx("button",{type:"button",onClick:()=>be(le),className:"text-red-500 hover:text-red-700",disabled:A,title:"Remove tag",children:i.jsx("i",{className:"bx bx-x"})})]},le))]}),i.jsx("input",{type:"text",onKeyDown:le=>{if(le.key==="Enter"&&le.target.value.trim()){const Ee=le.target.value.trim();if(o.tags.length>=10){a("Maximum 10 tags allowed.","error");return}if(Ee.length>20){a("Tag must be 20 characters or less.","error");return}l(ae=>({...ae,tags:ae.tags.includes(Ee)?ae.tags:[...ae.tags,Ee]})),le.target.value=""}},placeholder:"Type a tag and press Enter",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${I.tags?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:A}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:"Authenticity tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Verified","Original","Hand Made","Authentic"].map(le=>i.jsx("button",{type:"button",onClick:()=>l(Ee=>({...Ee,condition:le})),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${o.condition===le?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${A?"opacity-50 cursor-not-allowed":""}`,disabled:A,children:le},le))})]}),I.tags&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.tags]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-check-shield text-blue-500"}),"Condition"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["New","Used","Refurbished"].map(le=>i.jsx("button",{type:"button",onClick:()=>l(Ee=>({...Ee,condition:le})),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${o.condition===le?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${A?"opacity-50 cursor-not-allowed":""}`,disabled:A,children:le},le))}),I.condition&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),I.condition]})]}),i.jsx(Fe,{to:"/products-upload-variant",className:"text-white hover:underline",children:i.jsx("button",{className:"p-2 mt-5 rounded-lg bg-blue-500",children:"Variants Upload?"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-map text-blue-500"}),"Location"]}),i.jsx(hb,{locationData:c,setLocationData:d,errors:u,disabled:A})]}),i.jsx("div",{className:"mt-8 flex items-center justify-start",children:i.jsxs("label",{className:"flex items-center gap-2 text-blue-900 font-semibold",children:[i.jsx("input",{type:"checkbox",checked:r,onChange:le=>e(le.target.checked),className:"accent-blue-600 w-4 h-4"}),"I have read and understood the ",i.jsx("a",{href:"/guidelines",className:"underline text-blue-700",children:"Product Upload Guidelines"})]})}),i.jsx("div",{className:"mt-8 flex justify-end",children:i.jsx("button",{type:"submit",className:`px-6 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition-colors flex items-center gap-2 ${A||!r?"opacity-50 cursor-not-allowed":""}`,disabled:A||!r,title:r?"":"Please read the guidelines before proceeding.",children:A?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bx bx-loader bx-spin"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bx bx-upload"}),"Add Product"]})})})]}),i.jsx(yF,{alerts:s,removeAlert:n}),m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-md w-full text-center",children:[i.jsx("i",{className:"bx bx-check-circle text-5xl text-green-500 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Product Added Successfully!"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Your product has been uploaded and is now awaiting admin approval."}),i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsx("button",{onClick:()=>t("/seller/products"),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500",children:"View Products"}),i.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Another"})]})]})}),bt&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:i.jsxs("div",{className:"relative max-w-4xl w-full",children:[i.jsx("button",{onClick:()=>pt(null),className:"absolute top-4 right-4 text-white text-2xl hover:text-gray-300",children:i.jsx("i",{className:"bx bx-x"})}),bt.type==="image"?i.jsx("img",{src:bt.src,alt:"Zoomed",className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"}):i.jsx("video",{src:bt.src,controls:!0,className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"})]})}),i.jsx(yF,{alerts:s,removeAlert:n})]})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]})}/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:xH,setPrototypeOf:vF,isFrozen:gye,getPrototypeOf:pye,getOwnPropertyDescriptor:xye}=Object;let{freeze:Kn,seal:xo,create:bH}=Object,{apply:jE,construct:EE}=typeof Reflect<"u"&&Reflect;Kn||(Kn=function(e){return e});xo||(xo=function(e){return e});jE||(jE=function(e,t){for(var s=arguments.length,a=new Array(s>2?s-2:0),n=2;n<s;n++)a[n-2]=arguments[n];return e.apply(t,a)});EE||(EE=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return new e(...s)});const a1=Zn(Array.prototype.forEach),bye=Zn(Array.prototype.lastIndexOf),wF=Zn(Array.prototype.pop),Hg=Zn(Array.prototype.push),yye=Zn(Array.prototype.splice),X1=Zn(String.prototype.toLowerCase),wS=Zn(String.prototype.toString),kS=Zn(String.prototype.match),$g=Zn(String.prototype.replace),vye=Zn(String.prototype.indexOf),wye=Zn(String.prototype.trim),Ao=Zn(Object.prototype.hasOwnProperty),zn=Zn(RegExp.prototype.test),Wg=kye(TypeError);function Zn(r){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return jE(r,e,s)}}function kye(r){return function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return EE(r,t)}}function Dr(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X1;vF&&vF(r,null);let s=e.length;for(;s--;){let a=e[s];if(typeof a=="string"){const n=t(a);n!==a&&(gye(e)||(e[s]=n),a=n)}r[a]=!0}return r}function _ye(r){for(let e=0;e<r.length;e++)Ao(r,e)||(r[e]=null);return r}function ic(r){const e=bH(null);for(const[t,s]of xH(r))Ao(r,t)&&(Array.isArray(s)?e[t]=_ye(s):s&&typeof s=="object"&&s.constructor===Object?e[t]=ic(s):e[t]=s);return e}function qg(r,e){for(;r!==null;){const s=xye(r,e);if(s){if(s.get)return Zn(s.get);if(typeof s.value=="function")return Zn(s.value)}r=pye(r)}function t(){return null}return t}const kF=Kn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_S=Kn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),NS=Kn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Nye=Kn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),SS=Kn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Sye=Kn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_F=Kn(["#text"]),NF=Kn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),jS=Kn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),SF=Kn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),n1=Kn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),jye=xo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Eye=xo(/<%[\w\W]*|[\w\W]*%>/gm),Aye=xo(/\$\{[\w\W]*/gm),Tye=xo(/^data-[\-\w.\u00B7-\uFFFF]+$/),Cye=xo(/^aria-[\-\w]+$/),yH=xo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Pye=xo(/^(?:\w+script|data):/i),Rye=xo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vH=xo(/^html$/i),Iye=xo(/^[a-z][.\w]*(-[.\w]+)+$/i);var jF=Object.freeze({__proto__:null,ARIA_ATTR:Cye,ATTR_WHITESPACE:Rye,CUSTOM_ELEMENT:Iye,DATA_ATTR:Tye,DOCTYPE_NAME:vH,ERB_EXPR:Eye,IS_ALLOWED_URI:yH,IS_SCRIPT_OR_DATA:Pye,MUSTACHE_EXPR:jye,TMPLIT_EXPR:Aye});const Gg={element:1,text:3,progressingInstruction:7,comment:8,document:9},Dye=function(){return typeof window>"u"?null:window},Oye=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(s=t.getAttribute(a));const n="dompurify"+(s?"#"+s:"");try{return e.createPolicy(n,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+n+" could not be created."),null}},EF=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function wH(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dye();const e=we=>wH(we);if(e.version="3.2.7",e.removed=[],!r||!r.document||r.document.nodeType!==Gg.document||!r.Element)return e.isSupported=!1,e;let{document:t}=r;const s=t,a=s.currentScript,{DocumentFragment:n,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:h,DOMParser:m,trustedTypes:p}=r,b=c.prototype,x=qg(b,"cloneNode"),y=qg(b,"remove"),w=qg(b,"nextSibling"),k=qg(b,"childNodes"),N=qg(b,"parentNode");if(typeof o=="function"){const we=t.createElement("template");we.content&&we.content.ownerDocument&&(t=we.content.ownerDocument)}let T,E="";const{implementation:I,createNodeIterator:S,createDocumentFragment:A,getElementsByTagName:P}=t,{importNode:O}=s;let M=EF();e.isSupported=typeof xH=="function"&&typeof N=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:L,ERB_EXPR:B,TMPLIT_EXPR:G,DATA_ATTR:X,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:W,ATTR_WHITESPACE:ne,CUSTOM_ELEMENT:U}=jF;let{IS_ALLOWED_URI:z}=jF,Q=null;const q=Dr({},[...kF,..._S,...NS,...SS,..._F]);let Z=null;const J=Dr({},[...NF,...jS,...SF,...n1]);let re=Object.seal(bH(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),de=null,Se=null,je=!0,Ne=!0,xe=!1,ze=!0,se=!1,fe=!0,Te=!1,Ce=!1,Be=!1,Ue=!1,gt=!1,st=!1,bt=!0,pt=!1;const zt="user-content-";let Mt=!0,dt=!1,At={},Qe=null;const ut=Dr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let kt=null;const vt=Dr({},["audio","video","img","source","image","track"]);let it=null;const ft=Dr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Dt="http://www.w3.org/1998/Math/MathML",Bt="http://www.w3.org/2000/svg",or="http://www.w3.org/1999/xhtml";let Ot=or,Xt=!1,Vr=null;const vr=Dr({},[Dt,Bt,or],wS);let Hr=Dr({},["mi","mo","mn","ms","mtext"]),xr=Dr({},["annotation-xml"]);const dr=Dr({},["title","style","font","a","script"]);let cr=null;const Er=["application/xhtml+xml","text/html"],Ar="text/html";let qt=null,Pr=null;const br=t.createElement("form"),Jr=function(te){return te instanceof RegExp||te instanceof Function},Ps=function(){let te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Pr&&Pr===te)){if((!te||typeof te!="object")&&(te={}),te=ic(te),cr=Er.indexOf(te.PARSER_MEDIA_TYPE)===-1?Ar:te.PARSER_MEDIA_TYPE,qt=cr==="application/xhtml+xml"?wS:X1,Q=Ao(te,"ALLOWED_TAGS")?Dr({},te.ALLOWED_TAGS,qt):q,Z=Ao(te,"ALLOWED_ATTR")?Dr({},te.ALLOWED_ATTR,qt):J,Vr=Ao(te,"ALLOWED_NAMESPACES")?Dr({},te.ALLOWED_NAMESPACES,wS):vr,it=Ao(te,"ADD_URI_SAFE_ATTR")?Dr(ic(ft),te.ADD_URI_SAFE_ATTR,qt):ft,kt=Ao(te,"ADD_DATA_URI_TAGS")?Dr(ic(vt),te.ADD_DATA_URI_TAGS,qt):vt,Qe=Ao(te,"FORBID_CONTENTS")?Dr({},te.FORBID_CONTENTS,qt):ut,de=Ao(te,"FORBID_TAGS")?Dr({},te.FORBID_TAGS,qt):ic({}),Se=Ao(te,"FORBID_ATTR")?Dr({},te.FORBID_ATTR,qt):ic({}),At=Ao(te,"USE_PROFILES")?te.USE_PROFILES:!1,je=te.ALLOW_ARIA_ATTR!==!1,Ne=te.ALLOW_DATA_ATTR!==!1,xe=te.ALLOW_UNKNOWN_PROTOCOLS||!1,ze=te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,se=te.SAFE_FOR_TEMPLATES||!1,fe=te.SAFE_FOR_XML!==!1,Te=te.WHOLE_DOCUMENT||!1,Ue=te.RETURN_DOM||!1,gt=te.RETURN_DOM_FRAGMENT||!1,st=te.RETURN_TRUSTED_TYPE||!1,Be=te.FORCE_BODY||!1,bt=te.SANITIZE_DOM!==!1,pt=te.SANITIZE_NAMED_PROPS||!1,Mt=te.KEEP_CONTENT!==!1,dt=te.IN_PLACE||!1,z=te.ALLOWED_URI_REGEXP||yH,Ot=te.NAMESPACE||or,Hr=te.MATHML_TEXT_INTEGRATION_POINTS||Hr,xr=te.HTML_INTEGRATION_POINTS||xr,re=te.CUSTOM_ELEMENT_HANDLING||{},te.CUSTOM_ELEMENT_HANDLING&&Jr(te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(re.tagNameCheck=te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),te.CUSTOM_ELEMENT_HANDLING&&Jr(te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(re.attributeNameCheck=te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),te.CUSTOM_ELEMENT_HANDLING&&typeof te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(re.allowCustomizedBuiltInElements=te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),se&&(Ne=!1),gt&&(Ue=!0),At&&(Q=Dr({},_F),Z=[],At.html===!0&&(Dr(Q,kF),Dr(Z,NF)),At.svg===!0&&(Dr(Q,_S),Dr(Z,jS),Dr(Z,n1)),At.svgFilters===!0&&(Dr(Q,NS),Dr(Z,jS),Dr(Z,n1)),At.mathMl===!0&&(Dr(Q,SS),Dr(Z,SF),Dr(Z,n1))),te.ADD_TAGS&&(Q===q&&(Q=ic(Q)),Dr(Q,te.ADD_TAGS,qt)),te.ADD_ATTR&&(Z===J&&(Z=ic(Z)),Dr(Z,te.ADD_ATTR,qt)),te.ADD_URI_SAFE_ATTR&&Dr(it,te.ADD_URI_SAFE_ATTR,qt),te.FORBID_CONTENTS&&(Qe===ut&&(Qe=ic(Qe)),Dr(Qe,te.FORBID_CONTENTS,qt)),Mt&&(Q["#text"]=!0),Te&&Dr(Q,["html","head","body"]),Q.table&&(Dr(Q,["tbody"]),delete de.tbody),te.TRUSTED_TYPES_POLICY){if(typeof te.TRUSTED_TYPES_POLICY.createHTML!="function")throw Wg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Wg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=te.TRUSTED_TYPES_POLICY,E=T.createHTML("")}else T===void 0&&(T=Oye(p,a)),T!==null&&typeof E=="string"&&(E=T.createHTML(""));Kn&&Kn(te),Pr=te}},Or=Dr({},[..._S,...NS,...Nye]),ss=Dr({},[...SS,...Sye]),$r=function(te){let _e=N(te);(!_e||!_e.tagName)&&(_e={namespaceURI:Ot,tagName:"template"});const le=X1(te.tagName),Ee=X1(_e.tagName);return Vr[te.namespaceURI]?te.namespaceURI===Bt?_e.namespaceURI===or?le==="svg":_e.namespaceURI===Dt?le==="svg"&&(Ee==="annotation-xml"||Hr[Ee]):!!Or[le]:te.namespaceURI===Dt?_e.namespaceURI===or?le==="math":_e.namespaceURI===Bt?le==="math"&&xr[Ee]:!!ss[le]:te.namespaceURI===or?_e.namespaceURI===Bt&&!xr[Ee]||_e.namespaceURI===Dt&&!Hr[Ee]?!1:!ss[le]&&(dr[le]||!Or[le]):!!(cr==="application/xhtml+xml"&&Vr[te.namespaceURI]):!1},Mr=function(te){Hg(e.removed,{element:te});try{N(te).removeChild(te)}catch{y(te)}},Vs=function(te,_e){try{Hg(e.removed,{attribute:_e.getAttributeNode(te),from:_e})}catch{Hg(e.removed,{attribute:null,from:_e})}if(_e.removeAttribute(te),te==="is")if(Ue||gt)try{Mr(_e)}catch{}else try{_e.setAttribute(te,"")}catch{}},Ie=function(te){let _e=null,le=null;if(Be)te="<remove></remove>"+te;else{const ke=kS(te,/^[\r\n\t ]+/);le=ke&&ke[0]}cr==="application/xhtml+xml"&&Ot===or&&(te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+te+"</body></html>");const Ee=T?T.createHTML(te):te;if(Ot===or)try{_e=new m().parseFromString(Ee,cr)}catch{}if(!_e||!_e.documentElement){_e=I.createDocument(Ot,"template",null);try{_e.documentElement.innerHTML=Xt?E:Ee}catch{}}const ae=_e.body||_e.documentElement;return te&&le&&ae.insertBefore(t.createTextNode(le),ae.childNodes[0]||null),Ot===or?P.call(_e,Te?"html":"body")[0]:Te?_e.documentElement:ae},Y=function(te){return S.call(te.ownerDocument||te,te,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},ie=function(te){return te instanceof h&&(typeof te.nodeName!="string"||typeof te.textContent!="string"||typeof te.removeChild!="function"||!(te.attributes instanceof u)||typeof te.removeAttribute!="function"||typeof te.setAttribute!="function"||typeof te.namespaceURI!="string"||typeof te.insertBefore!="function"||typeof te.hasChildNodes!="function")},ce=function(te){return typeof l=="function"&&te instanceof l};function oe(we,te,_e){a1(we,le=>{le.call(e,te,_e,Pr)})}const ge=function(te){let _e=null;if(oe(M.beforeSanitizeElements,te,null),ie(te))return Mr(te),!0;const le=qt(te.nodeName);if(oe(M.uponSanitizeElement,te,{tagName:le,allowedTags:Q}),fe&&te.hasChildNodes()&&!ce(te.firstElementChild)&&zn(/<[/\w!]/g,te.innerHTML)&&zn(/<[/\w!]/g,te.textContent)||te.nodeType===Gg.progressingInstruction||fe&&te.nodeType===Gg.comment&&zn(/<[/\w]/g,te.data))return Mr(te),!0;if(!Q[le]||de[le]){if(!de[le]&&he(le)&&(re.tagNameCheck instanceof RegExp&&zn(re.tagNameCheck,le)||re.tagNameCheck instanceof Function&&re.tagNameCheck(le)))return!1;if(Mt&&!Qe[le]){const Ee=N(te)||te.parentNode,ae=k(te)||te.childNodes;if(ae&&Ee){const ke=ae.length;for(let Oe=ke-1;Oe>=0;--Oe){const De=x(ae[Oe],!0);De.__removalCount=(te.__removalCount||0)+1,Ee.insertBefore(De,w(te))}}}return Mr(te),!0}return te instanceof c&&!$r(te)||(le==="noscript"||le==="noembed"||le==="noframes")&&zn(/<\/no(script|embed|frames)/i,te.innerHTML)?(Mr(te),!0):(se&&te.nodeType===Gg.text&&(_e=te.textContent,a1([L,B,G],Ee=>{_e=$g(_e,Ee," ")}),te.textContent!==_e&&(Hg(e.removed,{element:te.cloneNode()}),te.textContent=_e)),oe(M.afterSanitizeElements,te,null),!1)},be=function(te,_e,le){if(bt&&(_e==="id"||_e==="name")&&(le in t||le in br))return!1;if(!(Ne&&!Se[_e]&&zn(X,_e))){if(!(je&&zn(H,_e))){if(!Z[_e]||Se[_e]){if(!(he(te)&&(re.tagNameCheck instanceof RegExp&&zn(re.tagNameCheck,te)||re.tagNameCheck instanceof Function&&re.tagNameCheck(te))&&(re.attributeNameCheck instanceof RegExp&&zn(re.attributeNameCheck,_e)||re.attributeNameCheck instanceof Function&&re.attributeNameCheck(_e,te))||_e==="is"&&re.allowCustomizedBuiltInElements&&(re.tagNameCheck instanceof RegExp&&zn(re.tagNameCheck,le)||re.tagNameCheck instanceof Function&&re.tagNameCheck(le))))return!1}else if(!it[_e]){if(!zn(z,$g(le,ne,""))){if(!((_e==="src"||_e==="xlink:href"||_e==="href")&&te!=="script"&&vye(le,"data:")===0&&kt[te])){if(!(xe&&!zn(W,$g(le,ne,"")))){if(le)return!1}}}}}}return!0},he=function(te){return te!=="annotation-xml"&&kS(te,U)},ye=function(te){oe(M.beforeSanitizeAttributes,te,null);const{attributes:_e}=te;if(!_e||ie(te))return;const le={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Z,forceKeepAttr:void 0};let Ee=_e.length;for(;Ee--;){const ae=_e[Ee],{name:ke,namespaceURI:Oe,value:De}=ae,Me=qt(ke),at=De;let mt=ke==="value"?at:wye(at);if(le.attrName=Me,le.attrValue=mt,le.keepAttr=!0,le.forceKeepAttr=void 0,oe(M.uponSanitizeAttribute,te,le),mt=le.attrValue,pt&&(Me==="id"||Me==="name")&&(Vs(ke,te),mt=zt+mt),fe&&zn(/((--!?|])>)|<\/(style|title|textarea)/i,mt)){Vs(ke,te);continue}if(Me==="attributename"&&kS(mt,"href")){Vs(ke,te);continue}if(le.forceKeepAttr)continue;if(!le.keepAttr){Vs(ke,te);continue}if(!ze&&zn(/\/>/i,mt)){Vs(ke,te);continue}se&&a1([L,B,G],Wr=>{mt=$g(mt,Wr," ")});const ir=qt(te.nodeName);if(!be(ir,Me,mt)){Vs(ke,te);continue}if(T&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Oe)switch(p.getAttributeType(ir,Me)){case"TrustedHTML":{mt=T.createHTML(mt);break}case"TrustedScriptURL":{mt=T.createScriptURL(mt);break}}if(mt!==at)try{Oe?te.setAttributeNS(Oe,ke,mt):te.setAttribute(ke,mt),ie(te)?Mr(te):wF(e.removed)}catch{Vs(ke,te)}}oe(M.afterSanitizeAttributes,te,null)},pe=function we(te){let _e=null;const le=Y(te);for(oe(M.beforeSanitizeShadowDOM,te,null);_e=le.nextNode();)oe(M.uponSanitizeShadowNode,_e,null),ge(_e),ye(_e),_e.content instanceof n&&we(_e.content);oe(M.afterSanitizeShadowDOM,te,null)};return e.sanitize=function(we){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=null,le=null,Ee=null,ae=null;if(Xt=!we,Xt&&(we="<!-->"),typeof we!="string"&&!ce(we))if(typeof we.toString=="function"){if(we=we.toString(),typeof we!="string")throw Wg("dirty is not a string, aborting")}else throw Wg("toString is not a function");if(!e.isSupported)return we;if(Ce||Ps(te),e.removed=[],typeof we=="string"&&(dt=!1),dt){if(we.nodeName){const De=qt(we.nodeName);if(!Q[De]||de[De])throw Wg("root node is forbidden and cannot be sanitized in-place")}}else if(we instanceof l)_e=Ie("<!---->"),le=_e.ownerDocument.importNode(we,!0),le.nodeType===Gg.element&&le.nodeName==="BODY"||le.nodeName==="HTML"?_e=le:_e.appendChild(le);else{if(!Ue&&!se&&!Te&&we.indexOf("<")===-1)return T&&st?T.createHTML(we):we;if(_e=Ie(we),!_e)return Ue?null:st?E:""}_e&&Be&&Mr(_e.firstChild);const ke=Y(dt?we:_e);for(;Ee=ke.nextNode();)ge(Ee),ye(Ee),Ee.content instanceof n&&pe(Ee.content);if(dt)return we;if(Ue){if(gt)for(ae=A.call(_e.ownerDocument);_e.firstChild;)ae.appendChild(_e.firstChild);else ae=_e;return(Z.shadowroot||Z.shadowrootmode)&&(ae=O.call(s,ae,!0)),ae}let Oe=Te?_e.outerHTML:_e.innerHTML;return Te&&Q["!doctype"]&&_e.ownerDocument&&_e.ownerDocument.doctype&&_e.ownerDocument.doctype.name&&zn(vH,_e.ownerDocument.doctype.name)&&(Oe="<!DOCTYPE "+_e.ownerDocument.doctype.name+`>
`+Oe),se&&a1([L,B,G],De=>{Oe=$g(Oe,De," ")}),T&&st?T.createHTML(Oe):Oe},e.setConfig=function(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ps(we),Ce=!0},e.clearConfig=function(){Pr=null,Ce=!1},e.isValidAttribute=function(we,te,_e){Pr||Ps({});const le=qt(we),Ee=qt(te);return be(le,Ee,_e)},e.addHook=function(we,te){typeof te=="function"&&Hg(M[we],te)},e.removeHook=function(we,te){if(te!==void 0){const _e=bye(M[we],te);return _e===-1?void 0:yye(M[we],_e,1)[0]}return wF(M[we])},e.removeHooks=function(we){M[we]=[]},e.removeAllHooks=function(){M=EF()},e}var Mye=wH();function UC({isOpen:r,onClose:e,message:t,icon:s,type:a}){return r?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-3",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg w-full max-w-md relative shadow-lg transform transition-all duration-300 animate-slide-in",children:[i.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300","aria-label":"Close popup",children:i.jsx("i",{className:"bx bx-x text-2xl"})}),i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx(gue,{color:"blue",size:60}),i.jsx("h1",{className:"text-xl font-bold m-2",children:"Upload successful"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Your product is awaiting admin approval before going live. This would take around 24 hours."}),i.jsx("div",{className:"mt-6 flex gap-4",children:i.jsx("button",{onClick:e,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:"Close"})})]})]})}):null}UC.propTypes={isOpen:kr.bool.isRequired,onClose:kr.func.isRequired,message:kr.string,icon:kr.string,type:kr.oneOf(["success","question"]),showYesNoButtons:kr.bool,onYes:kr.func,onNo:kr.func};UC.defaultProps={message:"Action completed!",icon:"bx-check-circle",type:"success",showYesNoButtons:!1,onYes:()=>{},onNo:()=>{}};const Fye=["Verified","Original","Hand Made","Authentic"];function Lye({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Bye(){const[r,e]=R.useState([]),t=R.useCallback((a,n="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},[]),s=R.useCallback(a=>{e(n=>n.filter(o=>o.id!==a))},[]);return{alerts:r,addAlert:t,removeAlert:s}}function Uye(){const r=zr(),{alerts:e,addAlert:t,removeAlert:s}=Bye(),[a,n]=R.useState("single"),[o,l]=R.useState(!1),[c,d]=R.useState({sellerName:"",name:"",description:"",category:"",subcategory:"",subSubcategory:"",colors:[],condition:"New",productUrl:"",tags:[],manualSize:"",size:"",price:"",stock:"",deliveryDays:""}),[u,h]=R.useState({country:"",state:"",city:"",address:""}),[m,p]=R.useState([{color:"",size:"",price:"",stock:"",images:[]}]),[b,x]=R.useState([[]]),[y,w]=R.useState([[]]),[k,N]=R.useState([]),[T,E]=R.useState([]),[I,S]=R.useState({}),[A,P]=R.useState({}),[O,M]=R.useState(!1),[L,B]=R.useState(0),[G,X]=R.useState(null),[H,W]=R.useState(""),[ne,U]=R.useState([]),[z,Q]=R.useState(!1),[q,Z]=R.useState(!1),[J,re]=R.useState(!1),[de,Se]=R.useState(!1),[je,Ne]=R.useState(!1),[xe,ze]=R.useState(!1),[se,fe]=R.useState([]),[Te,Ce]=R.useState({}),[Be,Ue]=R.useState({}),[gt,st]=R.useState([]),[bt,pt]=R.useState(null),[zt,Mt]=R.useState(null),[dt,At]=R.useState(""),Qe=R.useRef([]),ut=R.useRef([]),kt=R.useRef(null),vt=R.useRef(null),it=R.useRef(null),ft=4,Dt=R.useMemo(()=>[{name:"Red",hex:"#ff0000"},{name:"Orange",hex:"#FFA500"},{name:"Blue",hex:"#0000ff"},{name:"Green",hex:"#008000"},{name:"Brown",hex:"#8b4513"},{name:"Black",hex:"#000000"},{name:"White",hex:"#ffffff"},{name:"Purple",hex:"#800080"},{name:"Pink",hex:"#ffc1cc"},{name:"Gray",hex:"#808080"},{name:"Yellow",hex:"#FFFF00"},{name:"Gold",hex:"#ff9a1d"},{name:"Silver",hex:"#e2f2ec"}],[]),Bt=R.useMemo(()=>["S","M","L","XL","XXL"],[]),or=R.useMemo(()=>["S","M","L","XL","XXL"],[]),Ot=R.useMemo(()=>['3"','5"','5.5"','6"','6.5"','7"','7.5"','8"','8.5"','9"','9.5"','10"','10.5"','11"','11.5"','12"','12.5"'],[]),Xt=R.useMemo(()=>["30ml","50ml","60ml","75ml","100ml"],[]),Vr=R.useMemo(()=>["1 to 5kg","5 to 10kg","10 to 20kg","20kg above"],[]);R.useEffect(()=>{Qe.current=Array(m.length).fill().map(()=>({current:null})),ut.current=Array(m.length).fill().map(()=>({current:null}))},[m.length]),R.useEffect(()=>()=>{y.forEach(he=>he.forEach(ye=>URL.revokeObjectURL(ye))),T.forEach(he=>URL.revokeObjectURL(he))},[y,T]),R.useEffect(()=>{const he=yr(Xe(ve,"categories"),te=>{const _e=te.docs.map(le=>({id:le.id,...le.data()}));fe(_e.map(le=>le.name))},te=>{console.error("Error fetching categories:",te),t("Failed to load categories.","error")}),ye=yr(Xe(ve,"customSubcategories"),te=>{const _e={};te.forEach(le=>{_e[le.id]=le.data().subcategories||[]}),Ce(_e)},te=>{console.error("Error fetching subcategories:",te),t("Failed to load subcategories.","error")}),pe=yr(Xe(ve,"customSubSubcategories"),te=>{const _e={};te.forEach(le=>{const Ee=le.id,ae=le.data();_e[Ee]={},Object.entries(ae).forEach(([ke,Oe])=>{_e[Ee][ke]=Array.isArray(Oe)?Oe:[]})}),Ue(_e)},te=>{console.error("Error fetching sub-subcategories:",te),t("Failed to load sub-subcategories.","error")});return(async()=>{try{const te=qe(ve,"feeConfigurations","categoryFees"),_e=await wt(te);_e.exists()?Mt(_e.data()):t("No fee configurations found.","error")}catch(te){console.error("Error fetching fee configurations:",te),t("Failed to load fee configurations.","error")}})(),()=>{he(),ye(),pe()}},[t]),R.useEffect(()=>{c.category&&!se.includes(c.category)&&(d(he=>({...he,category:"",subcategory:"",subSubcategory:""})),t("Selected category was removed by admin.","error")),c.subcategory&&!Te[c.category]?.includes(c.subcategory)&&(d(he=>({...he,subcategory:"",subSubcategory:""})),t("Selected subcategory was removed by admin.","error")),c.subSubcategory&&!Be[c.category]?.[c.subcategory]?.includes(c.subSubcategory)&&(d(he=>({...he,subSubcategory:""})),t("Selected sub-subcategory was removed by admin.","error"))},[se,Te,Be,c,t]),R.useEffect(()=>{const he=Ye.onAuthStateChanged(ye=>{if(ye){X(ye);try{let pe=ye.displayName||"";pe&&pe.startsWith("{")&&(pe=JSON.parse(pe).name||""),d(we=>({...we,sellerName:pe}))}catch(pe){console.error("Error parsing displayName:",pe),t("Failed to load seller profile.","error")}}else t("Please log in to add products.","error"),r("/login")});return()=>he()},[r,t]),R.useEffect(()=>{const he=cs(c.description||"",{gfm:!0,breaks:!0});At(Mye.sanitize(he))},[c.description]),R.useEffect(()=>{(()=>{const ye=`${c.name} ${c.description} ${c.subSubcategory}`.toLowerCase(),pe=[...Fye];ye.includes("leather")&&pe.push("Leather"),(ye.includes("shoe")||ye.includes("footwear"))&&pe.push("Footwear"),(ye.includes("phone")||ye.includes("mobile"))&&pe.push("Smartphone"),ye.includes("fashion")&&pe.push("Fashion"),ye.includes("vintage")&&pe.push("Vintage"),ye.includes("smart")&&pe.push("Smart"),st(pe.filter(we=>!c.tags.includes(we)))})()},[c.name,c.description,c.subSubcategory]);const vr=R.useMemo(()=>()=>c.category==="Clothing"&&c.subcategory?c.subcategory==="Men"?Bt:or:c.category==="Footwear"&&c.subcategory?Ot:c.category==="Perfumes"&&c.subSubcategory?.startsWith("Oil -")?Xt:[],[c.category,c.subcategory,c.subSubcategory]),Hr=R.useCallback(()=>{const he=vr().length>0?vr()[0]:"";p(ye=>[...ye,{color:"",size:he,price:"",stock:"",images:[]}]),x(ye=>[...ye,[]]),w(ye=>[...ye,[]]),Qe.current.push({current:null}),ut.current.push({current:null})},[vr]),xr=R.useCallback(he=>{p(ye=>ye.filter((pe,we)=>we!==he)),x(ye=>ye.filter((pe,we)=>we!==he)),w(ye=>((ye[he]||[]).forEach(we=>URL.revokeObjectURL(we)),ye.filter((we,te)=>te!==he))),Qe.current.splice(he,1),ut.current.splice(he,1)},[]),dr=R.useCallback((he,ye,pe)=>{p(we=>we.map((te,_e)=>_e===he?{...te,[ye]:pe}:te))},[]),cr=R.useCallback((he,ye,pe=!1)=>{const we=Array.from(ye).filter(te=>te.type.startsWith("image/")&&te.size<=5242880);if(pe){if(k.length+we.length>ft){t(`Maximum ${ft} images allowed.`,"error");return}N(te=>[...te,...we]),E(te=>[...te,...we.map(_e=>URL.createObjectURL(_e))]),vt.current&&(vt.current.value="")}else{if((b[he]?.length||0)+we.length>ft){t(`Maximum ${ft} images allowed per variant.`,"error");return}x(te=>{const _e=[...te];return _e[he]=[..._e[he]||[],...we],_e}),w(te=>{const _e=[...te];return _e[he]=[..._e[he]||[],...we.map(le=>URL.createObjectURL(le))],_e}),ut.current[he]?.current&&(ut.current[he].current.value="")}},[b,k,t]),Er=R.useCallback((he,ye,pe=!1)=>{pe?(N(we=>we.filter((te,_e)=>_e!==ye)),E(we=>{const te=we[ye],_e=we.filter((le,Ee)=>Ee!==ye);return URL.revokeObjectURL(te),_e})):(x(we=>{const te=[...we];return te[he]=te[he].filter((_e,le)=>le!==ye),te}),w(we=>{const te=[...we],_e=te[he][ye];return te[he]=te[he].filter((le,Ee)=>Ee!==ye),URL.revokeObjectURL(_e),te}))},[]),Ar=R.useCallback((he,ye,pe=!1)=>{he.preventDefault(),he.stopPropagation(),pe&&kt.current?kt.current.classList.remove("border-blue-500"):Qe.current[ye]?.current&&Qe.current[ye].current.classList.remove("border-blue-500"),cr(ye,he.dataTransfer.files,pe)},[cr]),qt=R.useCallback((he,ye,pe=!1)=>{he.preventDefault(),he.stopPropagation(),pe&&kt.current?kt.current.classList.add("border-blue-500"):Qe.current[ye]?.current&&Qe.current[ye].current.classList.add("border-blue-500")},[]),Pr=R.useCallback((he,ye,pe=!1)=>{he.preventDefault(),he.stopPropagation(),pe&&kt.current?kt.current.classList.remove("border-blue-500"):Qe.current[ye]?.current&&Qe.current[ye].current.classList.remove("border-blue-500")},[]),br=R.useCallback(he=>{const{name:ye,value:pe}=he.target;d(we=>({...we,[ye]:pe,...ye==="category"?{subcategory:"",subSubcategory:""}:{},...ye==="subcategory"?{subSubcategory:""}:{}})),P(we=>({...we,[ye]:""}))},[]),Jr=R.useCallback(he=>{d(ye=>{const pe=ye.colors.includes(he)?ye.colors.filter(we=>we!==he):[...ye.colors,he];return{...ye,colors:pe}}),W(""),Q(!1)},[]),Ps=R.useCallback(he=>{const ye=he.target.value;if(W(ye),ye.trim()===""){U([]),Q(!1);return}const pe=Dt.filter(we=>we.name.toLowerCase().includes(ye.toLowerCase()));U(pe),Q(!0)},[Dt]),Or=R.useCallback(he=>{if(he.key==="Enter"&&H.trim()){const ye=H.trim();if(ye.length>20){t("Color name must be 20 characters or less.","error");return}d(pe=>{const we=pe.colors.includes(ye)?pe.colors:[...pe.colors,ye];return{...pe,colors:we}}),W(""),U([]),Q(!1)}},[H,t]),ss=R.useCallback(he=>{d(ye=>({...ye,colors:ye.colors.filter(pe=>pe!==he)}))},[]),$r=R.useCallback(he=>{d(ye=>{const pe=ye.tags.includes(he)?ye.tags.filter(we=>we!==he):[...ye.tags,he];return{...ye,tags:pe}})},[]),Mr=R.useCallback(he=>{const ye=it.current;if(!ye)return;const pe=ye.selectionStart,we=ye.selectionEnd,te=c.description.substring(pe,we);let _e=c.description,le=pe,Ee=we;he==="bold"?te?(_e=_e.substring(0,pe)+`**${te}**`+_e.substring(we),le=pe+2,Ee=we+2):(_e=_e.substring(0,pe)+"****"+_e.substring(pe),le=pe+2,Ee=pe+2):he==="italic"?te?(_e=_e.substring(0,pe)+`*${te}*`+_e.substring(we),le=pe+1,Ee=we+1):(_e=_e.substring(0,pe)+"**"+_e.substring(pe),le=pe+1,Ee=pe+1):he==="code"&&(te?(_e=_e.substring(0,pe)+`\`${te}\``+_e.substring(we),le=pe+1,Ee=we+1):(_e=_e.substring(0,pe)+"``"+_e.substring(pe),le=pe+1,Ee=pe+1)),d(ae=>({...ae,description:_e})),setTimeout(()=>{ye.selectionStart=le,ye.selectionEnd=Ee,ye.focus()},0)},[c.description]),Vs=R.useCallback(()=>{const he={};c.sellerName.trim()||(he.sellerName="Please enter your full name."),c.name.trim()||(he.name="Product name is required."),(!c.category||!se.includes(c.category))&&(he.category="Select a valid category."),c.manualSize||(he.manualSize="Please select a product weight.");const ye=vr();return a==="single"?(ye.length>0&&!c.size&&(he.size="Please select a product size."),(!c.price||isNaN(c.price)||parseFloat(c.price)<=0)&&(he.price="Enter a valid price greater than 0."),(!c.stock||isNaN(c.stock)||parseInt(c.stock,10)<0)&&(he.stock="Enter a valid stock quantity (0 or more)."),k.length===0&&(he.images="At least one image is required."),(!c.deliveryDays||isNaN(c.deliveryDays)||parseInt(c.deliveryDays,10)<=0)&&(he.deliveryDays="Enter valid delivery days (1 or more).")):(m.length===0&&(he.variants="At least one variant is required."),m.forEach((pe,we)=>{!pe.size&&ye.length>0&&(he[`variant${we}_size`]="Size is required."),(!pe.price||isNaN(pe.price)||parseFloat(pe.price)<=0)&&(he[`variant${we}_price`]="Enter a valid price greater than 0."),(!pe.stock||isNaN(pe.stock)||parseInt(pe.stock,10)<0)&&(he[`variant${we}_stock`]="Enter a valid stock quantity (0 or more)."),(b[we]?.length||0)===0&&(he[`variant${we}_images`]="At least one image is required per variant.")})),he},[c,m,se,b,k,a,vr]),Ie=R.useCallback(()=>{const he={};return u.country.trim()||(he.country="Country is required."),u.state.trim()||(he.state="State is required."),u.city.trim()||(he.city="City is required."),he},[u]),Y=R.useCallback(async he=>{const ye=new FormData;ye.append("file",he),ye.append("isVideo",!1);try{const we=await jr.post("https://foremade-backend.onrender.com/upload",ye,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4,onUploadProgress:te=>{const _e=Math.round(te.loaded*100/te.total);B(_e)}});if(we.status!==200||!we.data.url)throw new Error("Failed to upload image to Cloudinary.");return we.data.url}catch(pe){throw new Error(pe.code==="ECONNABORTED"?"Request timed out. Please check your network or try again later.":pe.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network or server status.":pe.response?.data?.error||"Failed to upload image.")}finally{B(0)}},[]),ie=R.useCallback(async he=>{if(he.preventDefault(),P({}),S({}),M(!0),!G){t("You must be logged in to add products.","error"),M(!1),r("/login");return}const ye=Vs(),pe=Ie();if(Object.keys(ye).length>0||Object.keys(pe).length>0){P(ye),S(pe),M(!1),Object.entries(ye).forEach(([we,te])=>t(te,"error")),Object.entries(pe).forEach(([we,te])=>t(te,"error"));return}try{let we=[];a==="single"?we=[await Promise.all(k.map(Ee=>Y(Ee)))]:we=await Promise.all(b.map(async Ee=>Promise.all(Ee.map(ae=>Y(ae)))));const te=a==="single"?parseFloat(c.price):m.reduce((Ee,ae)=>{const ke=parseFloat(ae.price);return isNaN(ke)?Ee:Math.min(Ee,ke)},1/0),_e={sellerName:c.sellerName,name:c.name,description:c.description||"",category:c.category.toLowerCase(),subcategory:c.subcategory||"",subSubcategory:c.subSubcategory||"",colors:c.colors,condition:c.condition||"New",productUrl:c.productUrl||"",tags:c.tags,sellerId:G.uid,seller:{name:c.sellerName,id:G.uid},createdAt:new Date().toISOString(),reviews:[],variants:a==="single"?[{color:c.colors[0]||"",size:c.size||"",price:parseFloat(c.price),stock:parseInt(c.stock,10),imageUrls:we[0]||[]}]:m.map((Ee,ae)=>({...Ee,price:parseFloat(Ee.price),stock:parseInt(Ee.stock,10),imageUrls:we[ae]||[]})),location:{country:u.country,state:u.state,city:u.city||"",address:u.address||""},buyerProtectionFee:zt?.[c.category]?.buyerProtectionRate*te||0,handlingFee:zt?.[c.category]?.handlingRate*te||0,totalEstimatedPrice:te+(zt?.[c.category]?.buyerProtectionRate*te||0)+(zt?.[c.category]?.handlingRate*te||0),sellerEarnings:te,manualSize:c.manualSize,deliveryDays:parseInt(c.deliveryDays,10)||1},le=await fi(Xe(ve,"products"),_e);console.log("Product uploaded with ID:",le.id),Ne(!0),d({sellerName:"",name:"",description:"",category:"",subcategory:"",subSubcategory:"",colors:[],condition:"New",productUrl:"",tags:[],manualSize:"",size:"",price:"",stock:"",deliveryDays:""}),h({country:"",state:"",city:"",address:""}),p([{color:"",size:"",price:"",stock:"",images:[]}]),x([[]]),w([[]]),N([]),E([]),Qe.current=[{current:null}],ut.current=[{current:null}],U([]),Q(!1),Z(!1),re(!1),Se(!1),n("variants")}catch(we){console.error("Error uploading product:",we),t(we.message||"Failed to upload product.","error")}finally{M(!1)}},[G,c,u,m,b,k,zt,Vs,Ie,Y,t,r,a]),ce=R.useMemo(()=>se,[se]),oe=R.useMemo(()=>Te[c.category]||[],[Te,c.category]),ge=R.useMemo(()=>Be[c.category]?.[c.subcategory]||[],[Be,c.category,c.subcategory]);if(!G)return i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]});const be=vr();return i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 flex justify-center items-start",children:i.jsxs("div",{className:"w-full max-w-7xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[i.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-package text-blue-500"}),"Add Product"]}),i.jsxs("form",{onSubmit:ie,className:"space-y-8",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-toggle-left text-blue-500"}),"Upload Mode"]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"uploadMode",value:"single",checked:a==="single",onChange:()=>n("single"),disabled:O,className:"form-radio text-blue-500"}),i.jsx("span",{children:"Single Product"})]}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"uploadMode",value:"variants",checked:a==="variants",onChange:()=>n("variants"),disabled:O,className:"form-radio text-blue-500"}),i.jsx("span",{children:"Multiple Variants"})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-info-circle text-blue-500"}),"Product Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Seller Name ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Your registered name"})]}),i.jsx("input",{type:"text",name:"sellerName",value:c.sellerName,placeholder:"Enter your full name",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:!0}),A.sellerName&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A.sellerName]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Name ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Name of the product"})]}),i.jsx("input",{type:"text",name:"name",value:c.name,onChange:br,placeholder:"e.g., Men's Leather Jacket",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:O}),A.name&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A.name]})]})]}),i.jsxs("div",{className:"mt-6 relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Description",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Describe your product with optional bold, italic, or code formatting"})]}),i.jsxs("div",{className:"mt-1",children:[i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("button",{type:"button",onClick:()=>Mr("bold"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:O,title:"Bold text (**text**)",children:i.jsx("i",{className:"bx bx-bold text-lg group-hover:text-blue-500"})}),i.jsx("button",{type:"button",onClick:()=>Mr("italic"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:O,title:"Italic text (*text*)",children:i.jsx("i",{className:"bx bx-italic text-lg group-hover:text-blue-500"})}),i.jsx("button",{type:"button",onClick:()=>Mr("code"),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 shadow-sm group",disabled:O,title:"Code text (`text`)",children:i.jsx("i",{className:"bx bx-code text-lg group-hover:text-blue-500"})})]}),i.jsx("textarea",{ref:it,name:"description",value:c.description,onChange:br,placeholder:"e.g., Premium leather jacket with stylish stitching",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.description?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,rows:"4",disabled:O}),c.description&&i.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-gray-700 dark:text-gray-300",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Preview"}),i.jsx("div",{className:"prose prose-sm dark:prose-invert",dangerouslySetInnerHTML:{__html:dt}})]})]}),A.description&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A.description]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-category text-blue-500"}),"Category & Subcategory"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Category ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product category"})]}),i.jsxs("div",{className:"relative mt-1",children:[i.jsxs("button",{type:"button",onClick:()=>Z(!q),className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.category?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 flex justify-between items-center transition-all duration-200`,disabled:O||ce.length===0,children:[i.jsx("span",{children:c.category||"Select a category"}),i.jsx("i",{className:"bx bx-chevron-down text-gray-500 dark:text-gray-400"})]}),q&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:ce.length===0?i.jsx("div",{className:"p-2 text-sm text-gray-500 dark:text-gray-400",children:"No categories available"}):ce.map(he=>i.jsx("button",{type:"button",onClick:()=>{d(ye=>({...ye,category:he,subcategory:"",subSubcategory:""})),Z(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:he},he))})]}),A.category&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A.category]}),ce.length===0&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),"Loading categories..."]})]}),c.category&&i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Subcategory",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or type a subcategory"})]}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx("input",{type:"text",value:c.subcategory,onChange:he=>{d(ye=>({...ye,subcategory:he.target.value,subSubcategory:""})),re(!0)},onFocus:()=>re(!0),onBlur:()=>setTimeout(()=>re(!1),200),placeholder:"Select or type a subcategory",className:"w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:O||!oe.length}),J&&oe.length>0&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:oe.filter(he=>he.toLowerCase().includes(c.subcategory.toLowerCase())).map(he=>i.jsx("button",{type:"button",onClick:()=>{d(ye=>({...ye,subcategory:he,subSubcategory:""})),re(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:he},he))})]})]}),c.subcategory&&ge.length>0&&i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Sub-Subcategory",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or type a sub-subcategory"})]}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx("input",{type:"text",value:c.subSubcategory,onChange:he=>d(ye=>({...ye,subSubcategory:he.target.value})),onFocus:()=>Se(!0),onBlur:()=>setTimeout(()=>Se(!1),200),placeholder:"Select or type a sub-subcategory",className:"w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:O}),de&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:ge.filter(he=>he.toLowerCase().includes(c.subSubcategory.toLowerCase())).map(he=>i.jsx("button",{type:"button",onClick:()=>{d(ye=>({...ye,subSubcategory:he})),Se(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:he},he))})]})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-color-fill text-blue-500"}),"Colors"]}),i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Colors",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select or enter colors"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2",children:c.colors.map(he=>{const ye=Dt.find(pe=>pe.name.toLowerCase()===he.toLowerCase());return i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[i.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:ye?ye.hex:"#ccc"}}),i.jsx("span",{children:he}),i.jsx("button",{type:"button",onClick:()=>ss(he),className:"text-red-500 hover:text-red-700",disabled:O,title:"Remove color",children:i.jsx("i",{className:"bx bx-x"})})]},he)})}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:H,onChange:Ps,onKeyDown:Or,onFocus:()=>H.trim()&&Q(!0),onBlur:()=>setTimeout(()=>Q(!1),200),placeholder:"Type a color and press Enter (e.g., Navy)",className:"w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:O}),z&&ne.length>0&&i.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md z-10 max-h-40 overflow-y-auto",children:ne.map(he=>i.jsxs("button",{type:"button",onMouseDown:()=>Jr(he.name),className:"flex items-center w-full p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",disabled:O,children:[i.jsx("span",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:he.hex}}),he.name]},he.name))})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-purchase-tag text-blue-500"}),"Tags"]}),i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Tags (Optional)",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Add tags to improve product discoverability"})]}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx("input",{type:"text",value:c.tags.join(", "),onChange:he=>{const ye=he.target.value.split(",").map(pe=>pe.trim()).filter(pe=>pe);d(pe=>({...pe,tags:ye}))},placeholder:"e.g., Vintage, Leather, Smartphone",className:"w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:O}),gt.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Suggested Tags:"}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:gt.map(he=>i.jsx("button",{type:"button",onClick:()=>$r(he),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${c.tags.includes(he)?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${O?"opacity-50 cursor-not-allowed":""}`,disabled:O,children:he},he))})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-star text-blue-500"}),"Condition"]}),i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Condition",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select the condition of the product"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["New","Used","Refurbished"].map(he=>i.jsx("button",{type:"button",onClick:()=>d(ye=>({...ye,condition:he})),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${c.condition===he?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${O?"opacity-50 cursor-not-allowed":""}`,disabled:O,children:he},he))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-ruler text-blue-500"}),"Weight"]}),i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Weight ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product weight"})]}),i.jsxs("select",{name:"manualSize",value:c.manualSize,onChange:br,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.manualSize?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:O,children:[i.jsx("option",{value:"",children:"Select a weight"}),Vr.map(he=>i.jsx("option",{value:he,children:he},he))]}),A.manualSize&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A.manualSize]})]}),be.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-ruler text-blue-500"}),"Size"]}),i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Size ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product size"})]}),a==="single"?i.jsxs("select",{name:"size",value:c.size,onChange:br,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.size?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:O,children:[i.jsx("option",{value:"",children:"Select a size"}),be.map(he=>i.jsx("option",{value:he,children:he},he))]}):i.jsx("div",{children:m.map((he,ye)=>i.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Variant ",ye+1," Size ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:he.size,onChange:pe=>dr(ye,"size",pe.target.value),className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A[`variant${ye}_size`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:O,children:[i.jsx("option",{value:"",children:"Select a size"}),be.map(pe=>i.jsx("option",{value:pe,children:pe},pe))]}),A[`variant${ye}_size`]&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A[`variant${ye}_size`]]})]},ye))}),a==="single"&&A.size&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A.size]})]}),a==="single"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-image text-blue-500"}),"Product Images"]}),i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Images (up to ",ft,") ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:`Upload up to ${ft} images (max 5MB each)`})]}),i.jsxs("div",{ref:kt,onDrop:he=>Ar(he,0,!0),onDragOver:he=>qt(he,0,!0),onDragLeave:he=>Pr(he,0,!0),className:`mt-1 w-full p-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center min-h-[150px] transition-colors ${A.images?"border-red-500":"border-gray-300 hover:border-blue-500 dark:border-gray-600"} ${O?"opacity-50":""}`,children:[T.length===0?i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"bx bx-cloud-upload text-4xl text-gray-600 dark:text-gray-400"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Drag and drop images or"," ",i.jsx("button",{type:"button",onClick:()=>vt.current?.click(),className:"text-blue-600 hover:underline",disabled:O,children:"select images"})]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"(JPEG, JPG, PNG, WEBP, GIF, max 5MB each)"})]}):i.jsx("div",{className:"grid grid-cols-2 gap-3 w-full",children:T.map((he,ye)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:he,alt:`Preview ${ye+1}`,className:"w-full h-32 object-cover rounded-md border border-gray-200 dark:border-gray-600 cursor-pointer shadow-sm",onClick:()=>pt({type:"image",src:he})}),i.jsx("button",{type:"button",onClick:()=>Er(0,ye,!0),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 shadow-sm",disabled:O,title:"Remove image",children:i.jsx("i",{className:"bx bx-x text-sm"})})]},ye))}),i.jsx("input",{ref:vt,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:he=>cr(0,he.target.files,!0),className:"hidden",disabled:O,multiple:!0})]}),A.images&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A.images]}),L>0&&i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:i.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${L}%`}})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Price () ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",name:"price",value:c.price,onChange:br,step:"0.01",min:"0",placeholder:"e.g., 5000.00",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.price?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:O}),A.price&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A.price]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Stock ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",name:"stock",value:c.stock,onChange:br,min:"0",placeholder:"e.g., 10",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.stock?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:O}),A.stock&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A.stock]})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Delivery Days ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",name:"deliveryDays",value:c.deliveryDays,onChange:br,min:"1",placeholder:"e.g., 3",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.deliveryDays?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:O}),A.deliveryDays&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A.deliveryDays]})]})]}),a==="variants"&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-list-plus text-blue-500"}),"Variants"]}),A.variants&&i.jsxs("p",{className:"text-red-600 text-xs mb-2 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A.variants]}),m.map((he,ye)=>i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:["Variant ",ye+1]}),i.jsx("button",{type:"button",onClick:()=>xr(ye),className:"text-red-500 hover:text-red-700",disabled:O,"aria-label":`Remove variant ${ye+1}`,children:i.jsx("i",{className:"bx bx-trash text-lg"})})]}),i.jsxs("div",{className:"relative group mb-4",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Variant Images (up to ",ft,") ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:`Upload up to ${ft} images (max 5MB each)`})]}),i.jsxs("div",{ref:pe=>Qe.current[ye]={current:pe},onDrop:pe=>Ar(pe,ye),onDragOver:pe=>qt(pe,ye),onDragLeave:pe=>Pr(pe,ye),className:`mt-1 w-full p-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center min-h-[150px] transition-colors ${A[`variant${ye}_images`]?"border-red-500":"border-gray-300 hover:border-blue-500 dark:border-gray-600"} ${O?"opacity-50":""}`,children:[(y[ye]?.length||0)===0?i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"bx bx-cloud-upload text-4xl text-gray-600 dark:text-gray-400"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Drag and drop images or"," ",i.jsx("button",{type:"button",onClick:()=>ut.current[ye]?.current.click(),className:"text-blue-600 hover:underline",disabled:O,children:"select images"})]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"(JPEG, JPG, PNG, WEBP, GIF, max 5MB each)"})]}):i.jsx("div",{className:"grid grid-cols-2 gap-3 w-full",children:y[ye].map((pe,we)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:pe,alt:`Variant ${ye+1} Preview ${we+1}`,className:"w-full h-32 object-cover rounded-md border border-gray-200 dark:border-gray-600 cursor-pointer shadow-sm",onClick:()=>pt({type:"image",src:pe})}),i.jsx("button",{type:"button",onClick:()=>Er(ye,we),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 shadow-sm",disabled:O,title:"Remove image","aria-label":`Remove image ${we+1} from variant ${ye+1}`,children:i.jsx("i",{className:"bx bx-x text-sm"})})]},we))}),i.jsx("input",{ref:pe=>ut.current[ye]={current:pe},type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:pe=>cr(ye,pe.target.files),className:"hidden",disabled:O,multiple:!0})]}),A[`variant${ye}_images`]&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A[`variant${ye}_images`]]}),L>0&&i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:i.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${L}%`}})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Color"}),i.jsx("input",{type:"text",value:he.color,onChange:pe=>dr(ye,"color",pe.target.value),placeholder:"Type a color (e.g., Navy blue)",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:O})]}),!be.length>0&&i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product Weight ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select product weight"})]}),i.jsxs("select",{name:"manualSize",value:c.manualSize,onChange:br,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A.manualSize?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:O,children:[i.jsx("option",{value:"",children:"Select a weight"}),Vr.map(pe=>i.jsx("option",{value:pe,children:pe},pe))]}),A.manualSize&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A.manualSize]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Price () ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:he.price,onChange:pe=>dr(ye,"price",pe.target.value),step:"0.01",min:"0",placeholder:"e.g., 5000.00",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A[`variant${ye}_price`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:O}),A[`variant${ye}_price`]&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A[`variant${ye}_price`]]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Stock ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:he.stock,onChange:pe=>dr(ye,"stock",pe.target.value),min:"0",placeholder:"e.g., 10",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${A[`variant${ye}_stock`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:O}),A[`variant${ye}_stock`]&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),A[`variant${ye}_stock`]]})]})]})]},ye)),i.jsxs("button",{type:"button",onClick:Hr,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm transition-colors flex items-center gap-2",disabled:O,children:[i.jsx("i",{className:"bx bx-plus"}),"Add Variant"]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-link text-blue-500"}),"Product URL (Optional)"]}),i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["External Product URL",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Optional link to external product page"})]}),i.jsx("input",{type:"url",name:"productUrl",value:c.productUrl,onChange:br,placeholder:"e.g., https://example.com/product",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:O})]}),i.jsx(hb,{locationData:u,setLocationData:h,errors:I,disabled:O}),i.jsx("div",{className:"mt-8 flex items-center justify-start",children:i.jsxs("label",{className:"flex items-center gap-2 text-blue-900 font-semibold",children:[i.jsx("input",{type:"checkbox",checked:o,onChange:he=>l(he.target.checked),className:"accent-blue-600 w-4 h-4"}),"I have read and understood the ",i.jsx(Fe,{to:"/guidelines",className:"underline text-blue-700",children:"Product Upload Guidelines"})]})}),i.jsx("div",{className:"mt-8 flex justify-end",children:i.jsx("button",{type:"submit",className:`px-6 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition-colors flex items-center gap-2 ${O||!o?"opacity-50 cursor-not-allowed":""}`,disabled:O||!o,title:o?"":"Please read the guidelines before proceeding.",children:O?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bx bx-loader bx-spin"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bx bx-upload"}),"Add Product"]})})})]}),i.jsx(Lye,{alerts:e,removeAlert:s}),je&&i.jsx(UC,{isOpen:je,onClose:()=>{Ne(!1),r("/products-gallery")},onAddAnother:()=>Ne(!1)}),xe&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4",children:"Add Variant Images?"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Would you like to add images for this variant?"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:()=>{ze(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Yes"}),i.jsx("button",{onClick:()=>ze(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500",children:"No"})]})]})}),bt&&i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50",onClick:()=>pt(null),children:[i.jsx("img",{src:bt.src,alt:"Zoomed media",className:"max-w-[90%] max-h-[90%] object-contain"}),i.jsx("button",{className:"absolute top-4 right-4 text-white text-2xl",onClick:()=>pt(null),"aria-label":"Close zoomed media",children:i.jsx("i",{className:"bx bx-x"})})]})]})})]})}function zye(){const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState(!1),[u,h]=R.useState(null),m=R.useRef(null),p=R.useCallback(Hh(w=>{l(w)},300),[]),b=async w=>{try{const k=Lt(Xe(ve,"products"),Tt("sellerId","==",w)),T=(await xt(k)).docs.map(async E=>{if(!E.data().barcodeValue){const S=E.id;await gr(qe(ve,"products",E.id),{barcodeValue:S},{merge:!0}),console.log(`Added barcodeValue ${S} to product ${E.id}`)}});await Promise.all(T)}catch(k){console.error("Error ensuring barcode values:",k),n("Failed to initialize barcodes: "+k.message)}};R.useEffect(()=>{(async()=>{try{Tl(Ye,async k=>{if(k)try{await b(k.uid);const N=Lt(Xe(ve,"products"),Tt("sellerId","==",k.uid)),E=(await xt(N)).docs.map(I=>{const S=I.data(),A=Array.isArray(S.imageUrls)?S.imageUrls.filter(M=>typeof M=="string"&&M.startsWith("https://res.cloudinary.com/")):S.imageUrl&&typeof S.imageUrl=="string"&&S.imageUrl.startsWith("https://res.cloudinary.com/")?[S.imageUrl]:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"],P=Array.isArray(S.videoUrls)?S.videoUrls.filter(M=>typeof M=="string"&&M.startsWith("https://res.cloudinary.com/")):[],O=Array.isArray(S.variants)?S.variants:[];return{id:I.id,...S,imageUrls:A.length>0?A:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"],videoUrls:P,variants:O,barcodeValue:S.barcodeValue||I.id,uploadDate:S.uploadDate?S.uploadDate.toDate():new Date}});e(E)}catch(N){n("Failed to fetch products: "+N.message)}else n("Please log in to view your products.");s(!1)})}catch(k){n("Authentication error: "+k.message),s(!1)}})()},[]),R.useEffect(()=>{if(c&&u&&u.barcodeValue&&m.current)try{mV(m.current,u.barcodeValue,{format:"CODE128",height:50,width:2,displayValue:!0,background:"transparent",fontSize:14})}catch(w){console.error("Error generating barcode:",w),n("Failed to generate barcode: "+w.message)}},[c,u]);const x=r.filter(w=>w.name?.toLowerCase().includes(o.toLowerCase())),y=()=>window.location.reload();return t?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-5xl",children:Array.from({length:6}).map((w,k)=>i.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-md animate-pulse h-64"},k))})})]}):a?i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-gray-50",children:i.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg shadow-lg",children:[i.jsx("p",{className:"text-red-700 text-base mb-4",children:a}),i.jsx(Fe,{to:"/seller/login",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Return to Login"})]})}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[i.jsx(ws,{}),i.jsxs("div",{className:"flex-1 ml-0 md:ml-64 p-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3 md:gap-6 mb-8 p-4 sm:p-6 md:p-8 rounded-xl bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-100 shadow-sm",children:[i.jsx(wue,{className:"w-8 h-8 text-blue-600 mb-2 md:mb-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-900 flex items-center gap-3 flex-wrap",children:["Product Gallery",i.jsxs("span",{className:"inline-block bg-blue-100 text-blue-700 text-base md:text-lg font-semibold px-3 py-1 rounded-full ml-2",children:[r.length," ",r.length===1?"Product":"Products"]})]}),i.jsx("p",{className:"text-gray-500 text-sm md:text-base mt-1",children:"Explore your uploaded products with images, videos, and barcodes."})]}),i.jsx("button",{onClick:y,title:"Refresh",className:"ml-0 md:ml-auto bg-white border border-blue-200 rounded-full p-2 md:p-3 hover:bg-blue-100 transition focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 mt-2 md:mt-0",children:i.jsx(iC,{className:"w-5 h-5 md:w-6 md:h-6 text-blue-600"})}),i.jsxs(Fe,{to:"/products-upload",className:"hidden sm:flex bg-[#112d4e] text-white px-8 py-4 md:px-10 md:py-5 rounded-xl hover:bg-[#1a4577] transition duration-300 items-center gap-3 shadow-xl focus:outline-[#112d4e] focus:ring-4 focus:ring-blue-300 ml-4 font-bold text-lg md:text-xl",children:[i.jsx(Lm,{className:"w-7 h-7 md:w-8 md:h-8"})," ",i.jsx("span",{children:"Add New Product"})]})]}),i.jsxs(Fe,{to:"/products-upload",className:"sm:hidden fixed bottom-8 right-4 md:bottom-12 md:right-12 z-50 rounded-full bg-[#112d4e] text-white p-7 shadow-2xl hover:bg-[#1a4577] transition focus:outline-[#112d4e] focus:ring-4 focus:ring-blue-300 flex items-center justify-center animate-pulseBtn",title:"Add New Product","aria-label":"Add New Product",tabIndex:0,children:[i.jsx(nC,{className:"w-12 h-12 font-bold"}),i.jsx("span",{className:"sr-only",children:"Add New Product"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 max-w-full overflow-x-auto",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx("input",{type:"text",value:o,onChange:w=>p(w.target.value),placeholder:"Search by product name...",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"}),i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:i.jsx("i",{className:"bx bx-search"})})]})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.length>0?x.map(w=>{const k=w.variants?.length>0&&w.variants[0].imageUrls?.length>0?w.variants[0].imageUrls[0]:w.imageUrls[0];return i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-md hover:shadow-xl transition duration-300 animate-slide-in focus:ring-2 focus:ring-blue-300 outline-none cursor-pointer group",tabIndex:0,onClick:()=>{d(!0),h(w)},title:"View product media",children:[i.jsxs("div",{className:"relative aspect-[4/3] mb-4 overflow-hidden",children:[k?i.jsx("img",{src:k,alt:w.name||"Product Image",className:"w-full h-full object-cover rounded-lg group-hover:scale-105 transition-transform duration-300 hover:opacity-90",onError:N=>{N.target.style.display="none",N.target.parentElement.innerHTML='<div class="absolute w-full h-full bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-500">Image N/A</span></div>'}}):i.jsx("div",{className:"w-full h-full bg-gray-200 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-gray-500",children:"Image N/A"})}),w.videoUrls[0]&&i.jsx(Che,{className:"absolute bottom-2 right-2 w-8 h-8 text-blue-600 bg-white rounded-full p-1 shadow",title:"Video available"})]}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate",children:w.name||"Unnamed Product"}),i.jsxs("p",{className:"text-gray-600 text-sm mb-1",children:["Price: ",w.variants?.length>0?`${Math.min(...w.variants.map(N=>N.price||0)).toLocaleString("en-NG")} - ${Math.max(...w.variants.map(N=>N.price||0)).toLocaleString("en-NG")}`:`${(w.price||0).toLocaleString("en-NG")}`]}),i.jsxs("p",{className:"text-gray-600 text-sm mb-1",children:["Variants: ",w.variants?.length||0]}),i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${w.status==="pending"?"bg-orange-100 text-orange-800":w.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.status==="pending"?"Pending":w.status==="approved"?"Approved":"Not Approved"}),i.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Uploaded: ",w.uploadDate.toLocaleDateString("en-NG",{day:"2-digit",month:"short",year:"numeric"})]}),i.jsxs(Fe,{to:`/seller/edit-product/${w.id}`,className:"mt-4 inline-flex items-center gap-1 px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded focus:outline-blue-400 focus:ring-2 focus:ring-blue-300 transition",title:"Edit Product",children:[i.jsx(Bm,{className:"w-4 h-4"})," Edit"]})]},w.id)}):i.jsxs("div",{className:"flex flex-col items-center justify-center mt-10 mb-10 animate-slide-in col-span-full",children:[i.jsx(eh,{className:"w-24 h-24 mb-4 text-blue-200"}),i.jsxs("p",{className:"text-gray-600 text-center text-lg",children:["No products uploaded yet.",i.jsx("br",{}),"Start by adding your first product!"]}),i.jsxs(Fe,{to:"/products-upload",className:"bg-[#112d4e] text-white px-6 py-3 rounded-lg hover:bg-[#1a4577] transition duration-300 flex items-center gap-2 shadow-lg focus:outline-[#112d4e] focus:ring-2 focus:ring-blue-300 mt-4",children:[i.jsx(Lm,{className:"w-5 h-5"})," Add Your First Product"]})]})})]}),c&&u&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 animate-fade-in overflow-y-auto p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-4 sm:p-6 max-w-lg w-full relative mx-auto",children:[i.jsx("button",{onClick:()=>d(!1),className:"absolute top-2 right-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full p-2 focus:outline-blue-400",title:"Close",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-700 dark:text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 truncate",children:u.name||"Unnamed Product"}),u.imageUrls&&u.imageUrls.length>0&&i.jsx("img",{src:u.imageUrls[0],alt:u.name||"Product Image",className:"w-full h-64 object-cover rounded-lg mb-4"}),u.videoUrls&&u.videoUrls.length>0&&i.jsx("video",{src:u.videoUrls[0],controls:!0,className:"w-full h-64 rounded-lg mb-4"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-2",children:["Price: ",u.variants?.length>0?`${Math.min(...u.variants.map(w=>w.price||0)).toLocaleString("en-NG")} - ${Math.max(...u.variants.map(w=>w.price||0)).toLocaleString("en-NG")}`:(u.price||0).toLocaleString("en-NG")]}),i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${u.status==="pending"?"bg-orange-100 text-orange-800":u.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.status==="pending"?"Pending":u.status==="approved"?"Approved":"Not Approved"}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Barcode"}),i.jsx("canvas",{ref:m,className:"mt-2 w-full bg-white dark:bg-gray-800 rounded-lg"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-xs mt-1",children:["Barcode Value: ",u.barcodeValue]})]}),i.jsx("button",{onClick:()=>d(!1),className:"mt-6 w-full bg-[#112d4e] text-white py-2 rounded-lg hover:bg-[#1a4577] transition focus:outline-[#112d4e] focus:ring-2 focus:ring-blue-300",children:"Close"})]})}),i.jsx("style",{children:`
          @keyframes slide-in {
            from { opacity: 0; transform: translateY(32px); }
            to { opacity: 1; transform: none; }
          }
          .animate-slide-in {
            animation: slide-in 0.7s cubic-bezier(0.4,0,0.2,1);
          }
          @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          .animate-fade-in {
            animation: fade-in 0.5s cubic-bezier(0.4,0,0.2,1);
          }
          @keyframes pulseBtn {
            0%, 100% { box-shadow: 0 0 0 0 rgba(124,58,237,0.4), 0 8px 32px 0 rgba(30,58,138,0.18); }
            50% { box-shadow: 0 0 0 12px rgba(124,58,237,0.15), 0 8px 32px 0 rgba(30,58,138,0.18); }
          }
          .animate-pulseBtn {
            animation: pulseBtn 1.2s infinite;
          }
        `})]})]})}const Vye=()=>{const[r,e]=R.useState("contact"),[t,s]=R.useState(null),[a,n]=R.useState({name:"",email:"",subject:"",message:""}),[o,l]=R.useState(!1),{user:c}=Nh?Nh():{user:null},d=[{question:"How do I place an order?",answer:"To place an order, browse our products, add items to your cart, and proceed to checkout. You'll need to provide shipping and payment information to complete your order."},{question:"What payment methods do you accept?",answer:"We accept various payment methods including credit/debit cards, bank transfers, and digital wallets. All payments are processed securely through our payment partners."},{question:"How can I track my order?",answer:"Once your order is shipped, you'll receive a tracking number via email. You can also view your order status and tracking information in your account under 'My Orders'."},{question:"What is your return policy?",answer:"We offer a 30-day return policy for most items. Products must be in original condition with all packaging. Some restrictions may apply to certain categories."},{question:"How long does shipping take?",answer:"Standard shipping typically takes 3-7 business days within the country. International shipping may take 7-14 business days. Express shipping options are available at checkout."},{question:"Do you ship internationally?",answer:"Yes, we ship to most countries worldwide. International shipping costs and delivery times vary by location."},{question:"How do I become a seller on Foremade?",answer:"To become a seller, create an account and click on 'Become a Seller' in your profile. You'll need to complete the seller application and verification process."},{question:"What are Foremade's fees for sellers?",answer:"Our seller fees include a small listing fee and a commission on sales. The exact fee structure depends on your seller level and product category."}],u=[{name:"Privacy Policy",url:"/privacy-policy"},{name:"Terms & Conditions",url:"/terms-conditions"},{name:"Seller Agreement",url:"/seller-agreement"},{name:"Shipping Policy",url:"/shipping-policy"}],h=b=>{const{name:x,value:y}=b.target;n(w=>({...w,[x]:y}))},m=async b=>{b.preventDefault(),l(!0);try{const x="https://foremade-backend.onrender.com";console.log("Submitting to:",`${x}/api/support-request`,a);let y=null;c&&(y=await c.getIdToken());const w=await fetch(`${x}/api/support-request`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...y?{Authorization:`Bearer ${y}`}:{}},body:JSON.stringify(a)});if(!w.ok){const k=await w.json().catch(()=>({}));throw new Error(k.message||"Failed to send message. Please try again later.")}Ke.success("Your message has been sent! Our support team will get back to you soon."),n({name:"",email:"",subject:"",message:""})}catch(x){console.error("Error submitting form:",x),Ke.error(x.message||"Failed to send message. Please try again later.")}finally{l(!1)}},p=b=>{s(t===b?null:b)};return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx(Ct.h1,{className:"text-2xl md:text-3xl font-bold text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Customer Support Center"}),i.jsx("div",{className:"flex justify-center mb-8",children:i.jsx("div",{className:"inline-flex bg-background-light rounded-lg p-1 border border-border-light",children:["contact","faq","policies"].map(b=>i.jsxs(Ct.button,{onClick:()=>e(b),className:`px-4 py-2 rounded-md ${r===b?"bg-gray text-black":"bg-transparent text-secondary hover:bg-background-dark"} transition-all duration-200 text-sm md:text-base font-medium`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[b==="contact"&&"Contact Us",b==="faq"&&"FAQs",b==="policies"&&"Policies"]},b))})}),r==="contact"&&i.jsxs(Ct.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[i.jsxs("div",{className:"bg-background-light rounded-lg shadow-md p-6 mb-8 border border-border-light",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 text-primary",children:"Get in Touch"}),i.jsx("p",{className:"text-secondary mb-6",children:"Have a question or need assistance? Fill out the form below and our support team will get back to you as soon as possible."}),i.jsxs("form",{onSubmit:m,children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-secondary mb-1",children:"Your Name"}),i.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:h,className:"w-full p-2 border border-border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary mb-1",children:"Email Address"}),i.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:h,className:"w-full p-2 border border-border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-secondary mb-1",children:"Subject"}),i.jsx("input",{type:"text",id:"subject",name:"subject",value:a.subject,onChange:h,className:"w-full p-2 border border-border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-secondary mb-1",children:"Message"}),i.jsx("textarea",{id:"message",name:"message",value:a.message,onChange:h,rows:"5",className:"w-full p-2 border border-border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),i.jsx(Ct.button,{type:"submit",disabled:o,className:`w-full py-2 px-4 ${o?"bg-primary/70":"bg-primary hover:bg-primary/80"} text-white rounded-md transition-colors duration-200 flex items-center justify-center`,whileHover:{scale:1.02},whileTap:{scale:.98},children:o?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"mr-2",children:"Sending..."}),i.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]}):"Send Message"})]})]}),i.jsxs("div",{className:"bg-background-light rounded-lg shadow-md p-6 border border-border-light",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 text-primary",children:"Contact Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 bg-primary/10 p-3 rounded-full text-primary",children:i.jsx("i",{className:"bx bx-envelope text-xl"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h3",{className:"text-md font-medium text-secondary",children:"Email"}),i.jsx("p",{className:"text-primary hover:underline",children:"support@foremade.com"})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 bg-primary/10 p-3 rounded-full text-primary",children:i.jsx("i",{className:"bx bx-map text-xl"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h3",{className:"text-md font-medium text-secondary",children:"Address"}),i.jsx("p",{className:"text-secondary",children:"United Kingdom"})]})]})]})]})]}),r==="faq"&&i.jsxs(Ct.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-3xl mx-auto",children:[i.jsx("h2",{className:"text-xl font-semibold mb-6 text-center",children:"Frequently Asked Questions"}),i.jsx("div",{className:"space-y-4",children:d.map((b,x)=>i.jsxs(Ct.div,{className:"border border-border-light rounded-lg overflow-hidden bg-background-light",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},children:[i.jsxs("button",{className:"w-full px-6 py-4 text-left bg-background-light hover:bg-background-dark flex justify-between items-center",onClick:()=>p(x),children:[i.jsx("span",{className:"font-medium text-primary",children:b.question}),i.jsx(Ct.i,{className:`bx ${t===x?"bx-minus":"bx-plus"} text-primary`,animate:{rotate:t===x?180:0},transition:{duration:.3}})]}),i.jsx(Ct.div,{className:"px-6 pb-4",initial:{height:0,opacity:0},animate:{height:t===x?"auto":0,opacity:t===x?1:0},transition:{duration:.3},style:{overflow:"hidden"},children:i.jsx("p",{className:"text-secondary",children:b.answer})})]},x))}),i.jsxs("div",{className:"mt-8 text-center",children:[i.jsx("p",{className:"text-secondary mb-4",children:"Can't find what you're looking for?"}),i.jsx(Ct.button,{onClick:()=>e("contact"),className:"px-6 py-2 bg-primary text-white rounded-md hover:bg-primary/80 transition-colors duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Contact Support"})]})]}),r==="policies"&&i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsx("h2",{className:"text-xl font-semibold mb-6 text-center",children:"Policies & Terms"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map((b,x)=>i.jsxs(Fe,{to:b.url,className:"bg-background-light rounded-lg shadow-md p-6 flex flex-col items-center hover:shadow-lg transition-shadow duration-200 hover:text-primary border border-border-light",children:[i.jsx("div",{className:"bg-primary/10 p-4 rounded-full text-primary mb-4",children:i.jsx("i",{className:"bx bx-file text-2xl"})}),i.jsx("h3",{className:"text-lg font-medium text-primary",children:b.name}),i.jsxs("p",{className:"text-secondary mt-2 flex items-center",children:["Read more",i.jsx("i",{className:"bx bx-right-arrow-alt ml-1 text-primary"})]})]},x))})]})]})},Hye=()=>i.jsx("div",{className:"min-h-screen bg-background-light py-8",children:i.jsxs("div",{className:"max-w-3xl mx-auto policy-card",children:[i.jsx("div",{className:"policy-header text-primary",children:"FOREMADE Marketplace  Terms and Conditions"}),i.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[i.jsx("div",{className:"w-20 h-20 mb-4 flex items-center justify-center bg-primary/10 rounded-full",children:i.jsx("i",{className:"bx bx-file text-5xl text-primary"})}),i.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-primary mb-2",children:"FOREMADE Marketplace  Terms and Conditions"}),i.jsx("p",{className:"text-secondary max-w-xl",children:"Please read these terms and conditions carefully before using the FOREMADE platform."})]}),i.jsxs("div",{className:"policy-content",children:[i.jsxs("p",{className:"mb-2 text-secondary",children:[i.jsx("strong",{children:"Last Updated:"})," July 5, 2024"]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"1. Eligibility"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"Be at least 18 years old (or have guardian consent if underage)"}),i.jsx("li",{children:"Provide truthful and accurate registration details"}),i.jsx("li",{children:"Not be restricted from using digital platforms by applicable law"})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"2. Account Registration"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"Keep your login details secure"}),i.jsx("li",{children:"Be responsible for all activity under your account"}),i.jsx("li",{children:"Notify FOREMADE of any unauthorised access or misuse"})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"3. Selling on FOREMADE"}),i.jsxs("p",{className:"mb-4",children:["Sellers must list only legal, original, and accurately described items, fulfill orders on time, maintain good service, and follow our policies. See our ",i.jsx(Fe,{to:"/seller-agreement",className:"policy-link",children:"Seller Agreement"}),"."]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"4. Buying on FOREMADE"}),i.jsx("p",{className:"mb-4",children:"Buyers must complete purchases in good faith, avoid fraud, and raise issues respectfully within the platform."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"5. Listing and Selling Fees"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsxs("li",{children:["No listing fees for up to 300 items/month (",i.jsx(Fe,{to:"/sellers-guide",className:"policy-link",children:"Standard Sellers"}),")"]}),i.jsxs("li",{children:["Up to 400 items/month (",i.jsx(Fe,{to:"/pro-seller-guide",className:"policy-link",children:"Pro Sellers"}),")"]}),i.jsx("li",{children:"Fees apply only for extra listings, communicated in advance"})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"6. Inclusive Pricing"}),i.jsx("p",{className:"mb-4",children:"All prices shown are final and include taxes, buyer protection, and handling fees. No hidden costs at checkout."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"7. Payments & Payouts"}),i.jsx("p",{className:"mb-4",children:"Payments are released after buyer confirmation. Seller wallets show pending balance until approved by FOREMADE, after which they can withdraw."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"8. Returns & Refunds"}),i.jsx("p",{className:"mb-4",children:"7-day return window. Sellers respond within 2 business days. Refunds issued after successful return. Exceptions apply."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"9. Prohibited Items"}),i.jsx("p",{className:"mb-4",children:"Illegal, counterfeit, restricted, or infringing items are banned. Violations lead to suspension."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"10. Disputes & Resolution"}),i.jsx("p",{className:"mb-4",children:"Direct communication encouraged. FOREMADE may step in and issue a final decision if needed."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"11. Intellectual Property"}),i.jsx("p",{className:"mb-4",children:"Users grant FOREMADE a non-exclusive license to use uploaded content. Do not upload content you don't own."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"12. Platform Use & Conduct"}),i.jsx("p",{className:"mb-4",children:"No fraud, abuse, or misuse of the platform. Violators may be banned."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"13. Limitation of Liability"}),i.jsx("p",{className:"mb-4",children:"FOREMADE is not liable for third-party delays, misuse of products, or losses from transactions."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"14. Account Suspension & Termination"}),i.jsx("p",{className:"mb-4",children:"FOREMADE can suspend or terminate accounts violating terms without prior notice."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"15. Privacy and Data Use"}),i.jsxs("p",{className:"mb-4",children:["We respect your data. See our ",i.jsx(Fe,{to:"/privacy-policy",className:"policy-link",children:"Privacy Policy"})," for more details."]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"16. Changes to These Terms"}),i.jsx("p",{className:"mb-4",children:"We may update these terms. Continued use implies acceptance of updates."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"17. Contact Us"}),i.jsxs("p",{className:"mb-4",children:["Email: support@foremade.com",i.jsx("br",{}),"Website: www.foremade.com",i.jsx("br",{}),"See also our ",i.jsx(Fe,{to:"/shipping-policy",className:"policy-link",children:"Shipping Policy"}),"."]})]}),i.jsxs("footer",{className:"policy-footer text-secondary",children:[" ",new Date().getFullYear()," Foremade. All rights reserved."]})]})}),$ye=()=>{const[r,e]=R.useState([]),[t,s]=R.useState(""),[a,n]=R.useState(null),[o,l]=R.useState(null),{productId:c}=Pc();zr();const u=Ra().state?.sellerId,h=R.useRef(null),m=R.useCallback((y=!0)=>{h.current?.scrollIntoView({behavior:y?"smooth":"auto"})},[]),p=y=>[/\d{5,}/,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}\b/,/\b(?:\d{4}[- ]?){3}\d{4}\b|\b\d{16}\b/,/(contact me via|whatsapp|telegram|linkedin|call me|sms)/i,/(http|https|www\.)/i,/\b\d{10,}\b/,/(bank account|routing number|ssn|social security)/i,/(<script>|<\/script>|javascript:)/i,/(password|pin|otp)/i,/(\bfree\s+money\b|\bclick here\b|\bsubscribe\b|\boffer\b)/i].some(k=>k.test(y)),b=y=>y?y.split(" ").map(w=>w[0]).join("").toUpperCase():"?";R.useEffect(()=>{if(!u||!c)return;(async()=>{const w=await wt(qe(ve,"users",u)),k=await wt(qe(ve,"products",c));w.exists()&&n({id:u,...w.data()}),k.exists()&&l({id:c,...k.data()})})()},[u,c]),R.useEffect(()=>{if(!Ye.currentUser||!u||!c)return;const y=[Ye.currentUser.uid,u,c].sort().join("_"),w=Lt(Xe(ve,"messages"),Om("createdAt","asc")),k=yr(w,N=>{const T=N.docs.map(E=>({id:E.id,...E.data()})).filter(E=>E.conversationId===y);e(T),m()});return()=>k()},[u,c,m]);const x=async y=>{if(y.preventDefault(),!t.trim()||p(t))return;const w=[Ye.currentUser.uid,u,c].sort().join("_");await fi(Xe(ve,"messages"),{conversationId:w,text:t.trim(),senderId:Ye.currentUser.uid,senderName:Ye.currentUser.displayName||"Anonymous",receiverId:u,productId:c,createdAt:lo()}),s(""),m()};return!a||!o?i.jsx("div",{className:"flex items-center justify-center h-full text-gray-700",children:"Loading..."}):i.jsxs("div",{className:"flex flex-col w-full max-w-3xl mx-auto h-[calc(100vh-2rem)] bg-gray-100 rounded-lg shadow-xl border my-4",children:[i.jsxs("div",{className:"lg:hidden flex items-center gap-4 p-4 bg-teal-600 text-white",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center font-semibold",children:b(a.name)}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold",children:a.name}),i.jsx("p",{className:"text-sm",children:o.name})]})]}),i.jsxs("div",{className:"bg-white shadow-sm border-b border-gray-200 p-4 flex items-center gap-4",children:[i.jsx("img",{src:"https://i.pinimg.com/736x/17/f1/11/17f11174ba7f057202e88a2129c27598.jpg",alt:o.name,className:"w-16 h-16 rounded-lg object-cover"}),i.jsx("div",{children:i.jsx("h3",{className:"font-medium",children:o.name})})]}),i.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4 bg-gray-50",children:[r.map(y=>{const w=y.senderId===Ye.currentUser.uid,k=b(w?Ye.currentUser.displayName:a.name);return i.jsxs("div",{className:`flex items-start gap-2 max-w-[70%] ${w?"ml-auto flex-row-reverse":"mr-auto"}`,children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-600 text-white flex items-center justify-center font-semibold text-sm",children:k}),i.jsxs("div",{className:`p-3 rounded-2xl shadow-sm break-words ${w?"bg-[#112639] text-white rounded-tr-none":"bg-white rounded-tl-none"}`,children:[i.jsx("p",{children:y.text}),i.jsx("p",{className:"text-xs text-gray-400 mt-1 text-right",children:y.createdAt?new Date(y.createdAt.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Sending..."})]})]},y.id)}),i.jsx("div",{ref:h})]}),i.jsxs("form",{onSubmit:x,className:"flex items-center gap-3 p-4 border-t border-gray-200 bg-white",children:[i.jsx("input",{type:"text",value:t,onChange:y=>s(y.target.value),placeholder:"Type a message",className:"flex-1 px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-teal-400 outline-none"}),i.jsx("button",{type:"submit",className:"p-3 bg-teal-600 text-white rounded-full hover:bg-teal-700 transition",children:i.jsx(ahe,{size:20})})]})]})};function Ur(){const[r,e]=R.useState(window.innerWidth>=768),t=Ra();R.useEffect(()=>{const n=()=>{e(window.innerWidth>=768)};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]);const s=()=>{e(!r)},a=[{path:"/admin/dashboard",icon:uE,label:"Dashboard"},{path:"/admin/users",icon:zz,label:"Manage Users"},{path:"/admin/sellers-wallet",icon:oC,label:"Account Management"},{path:"/admin/sellers/payouts",icon:xue,label:"Approve Payments"},{path:"/admin/transactions",icon:Wde,label:"Transactions"},{path:"/admin/products",icon:Eh,label:"Manage Products"},{path:"/admin/edit/categories",icon:Iz,label:"Categories"},{path:"/admin/edit/fees",icon:Hde,label:"Edit Fees"},{path:"/admin/notifications",icon:Bde,label:"Notifications"},{path:"/admin/edit/banners",icon:eh,label:"Edit Banners & Others"},{path:"/admin/edit/daily-deals",icon:yhe,label:"Daily Deals"},{path:"/admin/manager",icon:zue,label:"Admin Manager"},{path:"/admin/pro-sellers-requests",icon:cE,label:"Admin Pro Sellers"},{path:"/admin/bumped-products",icon:sx,label:"Admin Bumped Products"},{path:"/admin/users-phone",icon:Kue,label:"Users Phone"}];return i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:s,className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-blue-600 text-white rounded-lg focus:outline-none hover:bg-blue-700 transition-colors","aria-label":r?"Close menu":"Open menu",children:r?i.jsx(th,{className:"w-6 h-6"}):i.jsx(Oz,{className:"w-6 h-6"})}),i.jsxs("div",{className:`fixed top-0 left-0 w-64 h-full bg-gradient-to-b from-gray-900 to-gray-800 text-white shadow-xl transform transition-transform duration-300 ease-in-out z-40
          ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:block max-h-[calc(100vh)] overflow-y-auto overflow-x-auto`,children:[i.jsx(Fe,{to:"/",onClick:()=>window.innerWidth<768&&e(!1),children:i.jsxs("div",{className:"p-4 border-b border-gray-700 flex-col items-center gap-2",children:[i.jsx("img",{src:h0,alt:"Logo",className:"h-10"}),i.jsx("span",{className:"text-sm font-bold",children:"Admin Panel"})]})}),i.jsx("nav",{className:"mt-4 px-2",children:i.jsx("ul",{className:"space-y-1 whitespace-nowrap",children:a.map(n=>i.jsx("li",{children:i.jsxs(Fe,{to:n.path,onClick:()=>window.innerWidth<768&&e(!1),className:`flex items-center p-3 rounded-lg transition-all duration-200 ${t.pathname===n.path?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[i.jsx(n.icon,{className:"w-5 h-5 mr-3"}),i.jsx("span",{className:"text-sm font-medium",children:n.label})]})},n.path))})})]}),r&&i.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:s})]})}function AF({variants:r=[],imageUrls:e=[],isModal:t,product:s={},onUpdateProduct:a}){const[n,o]=R.useState(0),[l,c]=R.useState(0),[d,u]=R.useState(!1),[h,m]=R.useState({...s,variants:r.length?r.map(B=>({...B,imageUrls:B.imageUrls||[],price:B.price||0,stock:B.stock||0,color:B.color||"",size:B.size||""})):[],imageUrls:s.imageUrls||e||[]}),p=r.length?h.variants[n]||{imageUrls:[]}:null,b=r.length?p.imageUrls.map(B=>({type:"image",url:B})).filter(B=>B.url):h.imageUrls.map(B=>({type:"image",url:B})).filter(B=>B.url);if(!b.length&&!d)return i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm flex items-center gap-1",children:"No media available."});const x=B=>{B.stopPropagation(),c(G=>G===0?b.length-1:G-1)},y=B=>{B.stopPropagation(),c(G=>G===b.length-1?0:G+1)},w=B=>{B.stopPropagation(),o(G=>G===0?h.variants.length-1:G-1),c(0)},k=B=>{B.stopPropagation(),o(G=>G===h.variants.length-1?0:G+1),c(0)},N=()=>{u(!d),d||m({...s,variants:r.length?r.map(B=>({...B,imageUrls:B.imageUrls||[],price:B.price||0,stock:B.stock||0,color:B.color||"",size:B.size||""})):[],imageUrls:s.imageUrls||e||[]})},T=(B,G)=>{m(X=>({...X,[B]:G}))},E=(B,G,X)=>{m(H=>({...H,variants:H.variants.map((W,ne)=>ne===B?{...W,[G]:X}:W)}))},I=(B,G,X)=>{r.length?m(H=>({...H,variants:H.variants.map((W,ne)=>ne===B?{...W,imageUrls:W.imageUrls.map((U,z)=>z===G?X:U)}:W)})):m(H=>({...H,imageUrls:H.imageUrls.map((W,ne)=>ne===G?X:W)}))},S=B=>{r.length?m(G=>({...G,variants:G.variants.map((X,H)=>H===B?{...X,imageUrls:[...X.imageUrls,""]}:X)})):m(G=>({...G,imageUrls:[...G.imageUrls,""]}))},A=(B,G)=>{r.length?m(X=>({...X,variants:X.variants.map((H,W)=>W===B?{...H,imageUrls:H.imageUrls.filter((ne,U)=>U!==G)}:H)})):m(X=>({...X,imageUrls:X.imageUrls.filter((H,W)=>W!==G)})),l>=b.length-1&&c(0)},P=()=>{m(B=>({...B,variants:[...B.variants,{color:"",size:"",price:0,stock:0,imageUrls:[]}]}))},O=B=>{m(G=>({...G,variants:G.variants.filter((X,H)=>H!==B)})),n>=h.variants.length-1&&o(0)},M=()=>{a&&a({...h,variants:h.variants.map(B=>({...B,price:parseFloat(B.price)||0,stock:parseInt(B.stock)||0,imageUrls:B.imageUrls.filter(G=>G.trim())})),imageUrls:h.imageUrls.filter(B=>B.trim())}),u(!1)},L=b[l];return i.jsxs("div",{className:`relative ${t?"h-full":"h-64"} p-2 rounded-xl overflow-hidden shadow-md`,children:[i.jsxs("div",{className:"w-full h-full relative",children:[L&&i.jsx("img",{src:L.url,alt:`${s.name||"Product"} ${r.length?`variant ${n+1}`:""} image`,className:"w-full h-full object-cover rounded-xl transition-transform duration-300 hover:scale-105",onError:B=>{B.target.src="https://via.placeholder.com/150",console.error(`Failed to load image: ${L.url}`)}}),b.length>1&&t&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:x,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-900 bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition-all duration-200 focus:outline-none",title:"Previous media","aria-label":"Previous media",children:i.jsx(E5,{size:20})}),i.jsx("button",{onClick:y,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-900 bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition-all duration-200 focus:outline-none",title:"Next media","aria-label":"Next media",children:i.jsx(kp,{size:20})}),i.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2 bg-gray-900 bg-opacity-70 p-1 rounded-full",children:b.map((B,G)=>i.jsx("button",{onClick:()=>c(G),className:`w-2 h-2 rounded-full transition-all duration-200 ${G===l?"bg-blue-500 w-3":"bg-gray-400 hover:bg-gray-500"}`,"aria-label":`Go to media ${G+1}`},G))})]}),r.length>1&&t&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:w,className:"absolute left-2 top-1/4 -translate-y-1/2 bg-gray-900 bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition-all duration-200 focus:outline-none",title:"Previous variant","aria-label":"Previous variant",children:i.jsx(E5,{size:20})}),i.jsx("button",{onClick:k,className:"absolute right-2 top-1/4 -translate-y-1/2 bg-gray-900 bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition-all duration-200 focus:outline-none",title:"Next variant","aria-label":"Next variant",children:i.jsx(kp,{size:20})})]}),i.jsxs("div",{className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[i.jsx(eh,{size:12}),r.length?`Variant ${n+1}/${h.variants.length} | `:"","Image ",l+1,"/",b.length]}),t&&i.jsx("div",{className:"absolute top-2 left-2",children:d?i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:M,className:"bg-emerald-600 text-white p-2 rounded-full hover:bg-emerald-700 transition-all duration-200 focus:outline-none",title:"Save edits","aria-label":"Save edits",children:i.jsx(eue,{size:16})}),i.jsx("button",{onClick:N,className:"bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-all duration-200 focus:outline-none",title:"Cancel edits","aria-label":"Cancel edits",children:i.jsx(th,{size:16})})]}):i.jsx("button",{onClick:N,className:"bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition-all duration-200 focus:outline-none",title:"Edit product","aria-label":"Edit product",children:i.jsx(Bm,{size:16})})})]}),d&&t&&i.jsxs("div",{className:"mt-4 p-2 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-y-auto max-h-[40vh]",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Edit Product Details"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Name"}),i.jsx("input",{type:"text",value:h.name||"",onChange:B=>T("name",B.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Category"}),i.jsx("input",{type:"text",value:h.category||"",onChange:B=>T("category",B.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Condition"}),i.jsx("input",{type:"text",value:h.condition||"",onChange:B=>T("condition",B.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Tags (comma-separated)"}),i.jsx("input",{type:"text",value:Array.isArray(h.tags)?h.tags.join(", "):h.tags||"",onChange:B=>T("tags",B.target.value.split(", ").filter(Boolean)),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),r.length?i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Variants"}),h.variants.map((B,G)=>i.jsxs("div",{className:"mb-4 p-2 border border-gray-300 dark:border-gray-600 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h5",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:["Variant ",G+1]}),i.jsx("button",{onClick:()=>O(G),className:"bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-all duration-200",title:"Remove variant","aria-label":"Remove variant",children:i.jsx(th,{size:14})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Color"}),i.jsx("input",{type:"text",value:B.color||"",onChange:X=>E(G,"color",X.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Size"}),i.jsx("input",{type:"text",value:B.size||"",onChange:X=>E(G,"size",X.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Price ()"}),i.jsx("input",{type:"number",value:B.price||"",onChange:X=>E(G,"price",X.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Stock"}),i.jsx("input",{type:"number",value:B.stock||"",onChange:X=>E(G,"stock",X.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Images"}),B.imageUrls.map((X,H)=>i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("input",{type:"text",value:X||"",onChange:W=>I(G,H,W.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Enter image URL"}),i.jsx("button",{onClick:()=>A(G,H),className:"bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-all duration-200",title:"Remove image","aria-label":"Remove image",children:i.jsx(th,{size:14})})]},H)),i.jsxs("button",{onClick:()=>S(G),className:"mt-2 text-blue-600 hover:underline text-sm flex items-center gap-1",children:[i.jsx(eh,{size:14})," Add Image"]})]})]})]},G)),i.jsxs("button",{onClick:P,className:"mt-2 text-blue-600 hover:underline text-sm flex items-center gap-1",children:[i.jsx(eh,{size:14})," Add Variant"]})]}):i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Images"}),h.imageUrls.map((B,G)=>i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("input",{type:"text",value:B||"",onChange:X=>I(0,G,X.target.value),className:"w-full p-1 border border-gray-300 rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Enter image URL"}),i.jsx("button",{onClick:()=>A(0,G),className:"bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-all duration-200",title:"Remove image","aria-label":"Remove image",children:i.jsx(th,{size:14})})]},G)),i.jsxs("button",{onClick:()=>S(0),className:"mt-2 text-blue-600 hover:underline text-sm flex items-center gap-1",children:[i.jsx(eh,{size:14})," Add Image"]})]})]})]})]})}function TF({productId:r,currentStatus:e,onStatusChange:t,onDelete:s,loading:a,onEdit:n,isModal:o}){return i.jsxs("div",{className:`flex ${o?"justify-end mt-4":"space-x-2"}`,children:[e!=="approved"&&i.jsx("button",{onClick:l=>{l.stopPropagation(),t(r,"approved")},disabled:a,className:"py-2 px-2 m-1 bg-gray-800 text-white rounded-xl text-sm hover:bg-gray-600 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",title:"Approve product for sale",children:a?i.jsx(rv,{size:16,className:"animate-spin"}):i.jsx(nb,{size:16})}),e!=="rejected"&&i.jsx("button",{onClick:l=>{l.stopPropagation(),t(r,"rejected")},disabled:a,className:"py-2 px-4 m-1 bg-gray-600 text-white rounded-xl text-sm hover:bg-amber-900 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",title:"Reject product",children:a?i.jsx(rv,{size:16,className:"animate-spin"}):i.jsx(ym,{size:16})}),i.jsx("button",{onClick:l=>{l.stopPropagation(),s(r)},disabled:a,className:"py-2 px-4 m-1 bg-gray-600 text-white rounded-xl text-sm hover:bg-red-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",title:"Delete product permanently",children:a?i.jsx(rv,{size:16,className:"animate-spin"}):i.jsx(Bz,{size:16})}),i.jsx("button",{onClick:l=>{l.stopPropagation(),n(r)},disabled:a,className:"py-2 px-4 m-1 bg-gray-600 text-white rounded-xl text-sm hover:bg-gray-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",title:"Edit product details",children:a?i.jsx(rv,{size:16,className:"animate-spin"}):i.jsx(Bm,{size:16})})]})}function CF({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-xl shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-500 text-white":"bg-green-500 text-white"} flex items-center gap-2`,children:[t.type==="error"?i.jsx(ym,{size:20}):i.jsx(nb,{size:20}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg hover:text-gray-200",children:""})]},t.id))})}function Wye(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>{e(n=>n.filter(o=>o.id!==a))}}}function qye(){const{alerts:r,addAlert:e,removeAlert:t}=Wye(),[s,a]=R.useState({products:[]}),[n,o]=R.useState(!0),[l,c]=R.useState(""),[d,u]=R.useState(null),[h,m]=R.useState("default"),[p,b]=R.useState(!1),[x,y]=R.useState(!1),[w,k]=R.useState(""),[N,T]=R.useState(""),[E,I]=R.useState(null);R.useEffect(()=>{(async()=>{try{const z=await xt(Xe(ve,"products")),Q=await Promise.all(z.docs.map(async q=>{const Z={id:q.id,...q.data()},J=await S(Z.id);return{...Z,buyerCount:J}}));a({products:Q})}catch(z){console.error("Error fetching data:",z),c("Failed to fetch data: "+z.message),e("Failed to load products.","error")}finally{o(!1)}})()},[e]),R.useEffect(()=>{const U=z=>{z.key==="Escape"&&(d||x)&&G()};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[d,x]);const S=async U=>{try{return(await xt(Xe(ve,"orders"))).docs.filter(Q=>Q.data().items.some(q=>q.productId===U)).length}catch(z){return console.error("Error fetching buyer count:",z),0}},A=async(U,z)=>{const Q=s.products.find(q=>q.id===U);if(z==="rejected"){I(Q),y(!0);return}if(window.confirm(`Are you sure you want to ${z==="approved"?"approve":"reject"} this product?`)){o(!0);try{const q=qe(ve,"products",U);await Oi(q,{status:z}),a(J=>({...J,products:J.products.map(re=>re.id===U?{...re,status:z}:re)})),e(`Product ${z==="approved"?"approved":"rejected"} successfully! `,"success");const Z=z==="approved"?"/send-product-approved-email":"/send-product-rejected-email";try{await jr.post(`https://foremade-backend.onrender.com${Z}`,{productId:U,productName:Q.name,sellerId:Q.sellerId,sellerEmail:Q.sellerEmail||await O(Q.sellerId),...z==="rejected"&&{reason:w||N}}),e(`${z==="approved"?"Approval":"Rejection"} email sent to seller! `,"success")}catch(J){console.error(`Error sending ${z} email:`,J),e(`Failed to send ${z} email.`,"error")}}catch(q){console.error("Error updating product status:",q),e("Failed to update product status.","error")}finally{o(!1)}}},P=async()=>{if(!w&&!N){e("Please select or enter a rejection reason.","error");return}const U=w==="Other"?N:w;if(!U){e("Please enter a custom reason.","error");return}o(!0);try{const z=E.id,Q=qe(ve,"products",z);await Oi(Q,{status:"rejected"}),a(q=>({...q,products:q.products.map(Z=>Z.id===z?{...Z,status:"rejected"}:Z)})),e("Product rejected successfully! ","success");try{await jr.post("https://foremade-backend.onrender.com/send-product-rejected-email",{productId:z,productName:E.name,sellerId:E.sellerId,sellerEmail:E.sellerEmail||await O(E.sellerId),reason:U}),e("Rejection email sent to seller! ","success")}catch(q){console.error("Error sending rejection email:",q),e("Failed to send rejection email.","error")}}catch(z){console.error("Error rejecting product:",z),e("Failed to reject product.","error")}finally{o(!1),y(!1),k(""),T(""),I(null)}},O=async U=>{try{const z=await wt(qe(ve,"users",U));return z.exists()?z.data().email:null}catch(z){return console.error("Error fetching seller email:",z),null}},M=async U=>{if(window.confirm("Are you sure you want to delete this product?")){o(!0);try{await La(qe(ve,"products",U)),a(z=>({...z,products:z.products.filter(Q=>Q.id!==U)})),e("Product deleted successfully! ","success")}catch(z){console.error(`Error deleting product ${U}:`,z),e("Failed to delete product.","error")}finally{o(!1)}}},L=(U,z)=>{z.stopPropagation(),console.log("Card clicked:",U.id,U.name),u(U)},B=async U=>{if(!U.name||U.variants.some(z=>!z.price||!z.stock||!z.color)){e("Please fill all required fields for all variants.","error");return}o(!0);try{const z=qe(ve,"products",U.id);await Oi(z,{name:U.name,category:U.category,condition:U.condition,tags:U.tags,variants:U.variants.map(Q=>({...Q,price:parseFloat(Q.price)||0,stock:parseInt(Q.stock)||0})),imageUrls:U.imageUrls||[]}),a(Q=>({...Q,products:Q.products.map(q=>q.id===U.id?{...q,...U}:q)})),e("Product updated successfully! ","success"),u(null)}catch(z){console.error("Error updating product:",z),e("Failed to update product.","error")}finally{o(!1)}},G=()=>{u(null),y(!1),k(""),T(""),I(null)},H=(U=>{const z=[...U];switch(h){case"name-asc":return z.sort((Q,q)=>(Q.name||"").localeCompare(q.name||""));case"name-desc":return z.sort((Q,q)=>(q.name||"").localeCompare(Q.name||""));case"price-asc":return z.sort((Q,q)=>{const Z=Q.variants&&Q.variants.length?Math.min(...Q.variants.map(re=>re.price||0)):Q.price||0,J=q.variants&&q.variants.length?Math.min(...q.variants.map(re=>re.price||0)):q.price||0;return Z-J});case"price-desc":return z.sort((Q,q)=>{const Z=Q.variants&&Q.variants.length?Math.max(...Q.variants.map(re=>re.price||0)):Q.price||0;return(q.variants&&q.variants.length?Math.max(...q.variants.map(re=>re.price||0)):q.price||0)-Z});case"status-pending":return z.sort(Q=>Q.status==="pending"?-1:1);case"status-approved":return z.sort(Q=>Q.status==="approved"?-1:1);case"status-not-approved":return z.sort(Q=>Q.status!=="approved"&&Q.status!=="pending"?-1:1);default:return z}})(s.products),W=s.products.filter(U=>U.status==="approved").length,ne=s.products.filter(U=>U.status!=="approved").length;return n?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]}):l?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"bg-red-500 text-white p-4 rounded-xl shadow-md flex items-center gap-2",children:[i.jsx(ym,{size:20}),i.jsx("p",{children:l})]})})}),i.jsx(CF,{alerts:r,removeAlert:t})]}):i.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[i.jsx(Ur,{}),i.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-4",children:i.jsxs("div",{className:"container mx-auto px-4 py-7",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-4 sm:mb-0 flex items-center gap-2",children:[i.jsx(nb,{size:24,className:"text-green-600 dark:text-green-400"}),"Product Verification Hub"]}),i.jsxs("button",{onClick:()=>b(!p),className:"py-2 px-4 bg-blue-950 text-white rounded-lg text-sm hover:bg-blue-900 flex items-center gap-2 transition-all duration-200 shadow-md",children:[i.jsx("i",{className:`bx bx-${p?"x":"filter-alt"}`}),p?"Close Filters":"Filters & Sort"]})]}),p&&i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-md mb-6 animate-slide-down",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 items-center gap-1",children:["Sort Products",i.jsx("i",{className:"bx bx-info-circle text-gray-500 dark:text-gray-400 group-hover:text-blue-500 cursor-help",title:"Sort products by name, price, or status"})]}),i.jsxs("select",{value:h,onChange:U=>m(U.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[i.jsx("option",{value:"default",children:"Default"}),i.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),i.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),i.jsx("option",{value:"price-asc",children:"Price (Low to High)"}),i.jsx("option",{value:"price-desc",children:"Price (High to Low)"}),i.jsx("option",{value:"status-pending",children:"Status: Pending"}),i.jsx("option",{value:"status-approved",children:"Status: Approved"}),i.jsx("option",{value:"status-not-approved",children:"Status: Not Approved"})]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Stats"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg text-sm shadow-md",children:["Approved: ",W]}),i.jsxs("div",{className:"bg-red-700 text-white px-4 py-2 rounded-lg text-sm shadow-md",children:["Not Approved: ",ne]})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-6",children:[H.map(U=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 shadow-md",onClick:z=>L(U,z),children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h2",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 truncate",children:U.name||"Unnamed Product"}),i.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${U.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":U.status==="approved"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:U.status==="pending"?"Pending":U.status==="approved"?"Approved":"Not Approved"})]}),i.jsx(AF,{variants:U.variants||[],imageUrls:U.imageUrls||[]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 flex items-center gap-1",children:[i.jsx(zd,{size:14})," Seller: ",U.sellerName||"Unknown"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 flex items-center gap-1",children:[i.jsx($1,{size:14})," Buyers: ",U.buyerCount||0]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Variants: ",U.variants?.length||0]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Price Range: ",U.variants&&U.variants.length?Math.min(...U.variants.map(z=>z.price||0)).toLocaleString("en-NG"):(U.price||0).toLocaleString("en-NG")," - ",U.variants&&U.variants.length?Math.max(...U.variants.map(z=>z.price||0)).toLocaleString("en-NG"):(U.price||0).toLocaleString("en-NG")]}),i.jsx(TF,{productId:U.id,currentStatus:U.status,onStatusChange:A,onDelete:M,loading:n,onEdit:z=>L(U,z)})]},U.id)),H.length===0&&i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mt-4 col-span-3 italic",children:"No products to verify."})]})]})}),d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 animate-fade-in",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 m-4 rounded-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto shadow-lg flex flex-col md:flex-row gap-6",children:[i.jsxs("div",{className:"w-full md:w-1/2 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:d.name||"Unnamed Product"}),i.jsx("button",{onClick:G,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 text-2xl",title:"Close",children:i.jsx("i",{className:"bx bx-x"})})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[i.jsx(j5,{size:18,className:"text-green-600 dark:text-green-400"})," Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[i.jsxs("p",{className:"text-[13px]",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Seller:"})," ",d.sellerName||"Unknown Seller"]}),i.jsxs("p",{className:"text-[13px]",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Status:"})," ",d.status==="pending"?"Pending":d.status==="approved"?"Approved":"Not Approved"]}),i.jsxs("p",{className:"text-[13px]",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Category:"})," ",d.category||"Uncategorized"]}),i.jsxs("p",{className:"text-[13px]",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Condition:"})," ",d.condition||"New"]}),i.jsxs("p",{className:"text-[13px]",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Rating:"})," ",d.rating||"N/A"]}),i.jsxs("p",{className:"text-[13px]",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Buyers:"})," ",d.buyerCount||0]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[i.jsx(Bm,{size:18,className:"text-green-600 dark:text-green-400"})," Tags"]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Array.isArray(d.tags)?d.tags.join(", "):"None"})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[i.jsx(zd,{size:18,className:"text-green-600 dark:text-green-400"})," Seller Info"]}),i.jsxs("p",{className:"text-[13px] mt-3",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Name:"})," ",d.seller?.name||"Unknown Seller"]}),i.jsxs("p",{className:"text-[13px] mt-4",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"ID:"})," ",d.seller?.id||"N/A"]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[i.jsx($1,{size:18,className:"text-green-600 dark:text-green-400"})," Variants"]}),d.variants&&d.variants.length>0?i.jsx("div",{className:"space-y-4 mt-2",children:d.variants.map((U,z)=>i.jsxs("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded-lg",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:["Variant ",z+1]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[i.jsxs("p",{className:"text-[13px]",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Color:"})," ",U.color||"N/A"]}),i.jsxs("p",{className:"text-[13px]",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Size:"})," ",U.size||"N/A"]}),i.jsxs("p",{className:"text-[13px]",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Price:"})," ",(U.price||0).toLocaleString("en-NG",{minimumFractionDigits:2})]}),i.jsxs("p",{className:"text-[13px]",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Stock:"})," ",U.stock||0," units"]}),i.jsxs("p",{className:"text-[13px]",children:[i.jsx("span",{className:"bg-green-100 dark:bg-green-900 rounded-full p-1",children:"Images:"})," ",U.imageUrls?.length||0]})]})]},z))}):i.jsx("p",{className:"text-[13px] text-gray-600 dark:text-gray-400",children:"No variants available."})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[i.jsx($1,{size:18,className:"text-green-600 dark:text-green-400"})," Reviews"]}),Array.isArray(d.reviews)&&d.reviews.length>0?i.jsx("ul",{className:"list-disc pl-5 space-y-2",children:d.reviews.map((U,z)=>i.jsxs("li",{className:"text-sm text-gray-600 dark:text-gray-400",children:[U.comment," ",i.jsxs("span",{className:"text-yellow-500",children:["(Rating: ",U.rating,")"]}),", By: ",U.userName||"Anonymous"]},z))}):i.jsx("p",{className:"text-[13px] text-gray-600 dark:text-gray-400",children:"No reviews available yet."})]}),i.jsx(TF,{productId:d.id,currentStatus:d.status,onStatusChange:A,onDelete:M,loading:n,onEdit:U=>L(d,U),isModal:!0})]}),i.jsxs("div",{className:"w-full md:w-1/2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2 mb-4",children:[i.jsx(j5,{size:18,className:"text-green-600 dark:text-green-400"})," Variant Media Preview"]}),i.jsx(AF,{variants:d.variants||[],imageUrls:d.imageUrls||[],isModal:!0,product:d,onUpdateProduct:B})]})]})}),x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 animate-fade-in",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl w-full max-w-md shadow-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[i.jsx(ym,{size:20,className:"text-red-600 dark:text-red-400"})," Reject Product"]}),i.jsx("button",{onClick:G,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 text-2xl",title:"Close",children:i.jsx("i",{className:"bx bx-x"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Reason for Rejection"}),i.jsxs("select",{value:w,onChange:U=>k(U.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[i.jsx("option",{value:"",children:"Select a reason"}),i.jsx("option",{value:"Missing product image",children:"Missing product image"}),i.jsx("option",{value:"Incomplete product description",children:"Incomplete product description"}),i.jsx("option",{value:"Invalid price",children:"Invalid price"}),i.jsx("option",{value:"Product violates guidelines",children:"Product violates guidelines"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),w==="Other"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Custom Reason"}),i.jsx("textarea",{value:N,onChange:U=>T(U.target.value),placeholder:"Enter custom reason...",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",rows:"4"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:G,className:"py-2 px-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg text-sm hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-200",children:"Cancel"}),i.jsxs("button",{onClick:P,className:"py-2 px-4 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 transition-all duration-200 flex items-center gap-2",disabled:n,children:[n?i.jsx("i",{className:"bx bx-loader bx-spin"}):i.jsx(ym,{size:16}),"Reject Product"]})]})]})]})}),i.jsx(CF,{alerts:r,removeAlert:t})]})}m0.register(KV,NC,EC,AC,jC,SC);function Gye(){const[r,e]=R.useState({users:0,admins:0,products:0,approvedProducts:0,rejectedProducts:0}),[t,s]=R.useState(!0),[a,n]=R.useState(""),[o,l]=R.useState([]),[c,d]=R.useState([]),[u,h]=R.useState(!1);R.useEffect(()=>{(async()=>{try{const[k,N,T,E,I]=await Promise.all([xt(Xe(ve,"users")),xt(Xe(ve,"admins")),xt(Xe(ve,"products")),xt(Lt(Xe(ve,"products"),Tt("status","==","approved"))),xt(Lt(Xe(ve,"products"),Tt("status","==","rejected")))]);e({users:k.size,admins:N.size,products:T.size,approvedProducts:E.size,rejectedProducts:I.size})}catch(k){n("Failed to fetch dashboard stats: "+k.message)}finally{s(!1)}})()},[]);const m=async()=>{h(!0);try{const w=Ye.currentUser;if(!w)throw new Error("Not authenticated");const k=await w.getIdToken(),T=await fetch("https://foremade-backend.onrender.com/api/admin/all-pro-sellers",{headers:{Authorization:`Bearer ${k}`}}),E=await T.json();T.ok&&E.status==="success"?l(E.approvals||[]):Ke.error(E.message||"Failed to fetch pro seller requests")}catch(w){Ke.error(w.message||"Failed to fetch pro seller requests")}finally{h(!1)}};R.useEffect(()=>{m()},[]);const p=async(w,k)=>{try{const N=Ye.currentUser;if(!N)throw new Error("Not authenticated");const T=await N.getIdToken(),I=await fetch("https://foremade-backend.onrender.com/api/admin/approve-pro-seller",{method:"POST",headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify({proSellerId:w,approve:k})}),S=await I.json();I.ok&&S.status==="success"?(Ke.success(S.message||(k?"Pro seller approved":"Pro seller rejected")),m()):Ke.error(S.message||"Action failed")}catch(N){Ke.error(N.message||"Action failed")}},b={labels:["Users","Admins","Approved Products","Rejected Products"],datasets:[{label:"Counts",data:[r.users,r.admins,r.approvedProducts,r.rejectedProducts],backgroundColor:["#3B82F6","#10B981","#22C55E","#EF4444"],borderColor:["#2563EB","#059669","#16A34A","#DC2626"],borderWidth:1}]},x={labels:["Approved Products","Rejected Products","Pending Products"],datasets:[{label:"Product Status",data:[r.approvedProducts,r.rejectedProducts,r.products-(r.approvedProducts+r.rejectedProducts)],backgroundColor:["#22C55E","#EF4444","#F59E0B"],borderColor:["#16A34A","#DC2626","#D97706"],borderWidth:1}]},y={responsive:!0,plugins:{legend:{position:"top"},tooltip:{enabled:!0}}};return t?i.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[i.jsx(Ur,{}),i.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 animate-pulse",children:Array.from({length:3}).map((w,k)=>i.jsx("div",{className:"bg-gray-200 p-4 rounded-lg h-24"},k))}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"}),i.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"})]})]})})]}):a?i.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[i.jsx(Ur,{}),i.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 rounded-lg dark:bg-red-900 dark:border-red-700",children:i.jsx("p",{className:"text-red-700 dark:text-red-300",children:a})})})})]}):i.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[i.jsx(Ur,{}),i.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mb-6",children:"Admin Dashboard"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[i.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg shadow flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Total Users"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.users})]}),i.jsx("i",{className:"bx bx-user text-3xl text-blue-500"})]}),i.jsxs("div",{className:"bg-green-100 p-4 rounded-lg shadow flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Total Admins"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.admins})]}),i.jsx("i",{className:"bx bx-shield text-3xl text-green-500"})]}),i.jsxs("div",{className:"bg-red-100 p-4 rounded-lg shadow flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Total Products"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.products})]}),i.jsx("i",{className:"bx bx-package text-3xl text-red-500"})]}),i.jsxs("div",{className:"bg-teal-100 p-4 rounded-lg shadow flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Approved Products"}),i.jsx("p",{className:"text-2xl font-bold text-teal-600",children:r.approvedProducts})]}),i.jsx("i",{className:"bx bx-check-circle text-3xl text-teal-500"})]}),i.jsxs("div",{className:"bg-orange-100 p-4 rounded-lg shadow flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Rejected Products"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:r.rejectedProducts})]}),i.jsx("i",{className:"bx bx-x-circle text-3xl text-orange-500"})]})]}),i.jsxs("div",{className:"mb-10",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Pro Seller Requests"}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 overflow-x-auto",children:u?i.jsx("div",{className:"text-gray-500",children:"Loading..."}):o.length===0?i.jsx("div",{className:"text-gray-500",children:"No pending requests."}):i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-1 text-left",children:"ProSeller ID"}),i.jsx("th",{className:"px-2 py-1 text-left",children:"User ID"}),i.jsx("th",{className:"px-2 py-1 text-left",children:"Status"}),i.jsx("th",{className:"px-2 py-1 text-left",children:"Created"}),i.jsx("th",{className:"px-2 py-1 text-left",children:"Actions"})]})}),i.jsx("tbody",{children:o.map(w=>i.jsxs("tr",{className:"border-b",children:[i.jsx("td",{className:"px-2 py-1",children:w.proSellerId}),i.jsx("td",{className:"px-2 py-1",children:w.userId}),i.jsx("td",{className:"px-2 py-1",children:w.status}),i.jsx("td",{className:"px-2 py-1",children:w.createdAt?new Date(w.createdAt).toLocaleDateString():"-"}),i.jsxs("td",{className:"px-2 py-1 space-x-2",children:[i.jsx("button",{onClick:()=>p(w.proSellerId,!0),className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Approve"}),i.jsx("button",{onClick:()=>p(w.proSellerId,!1),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Reject"})]})]},w.proSellerId))})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Analytics Overview"}),i.jsx("div",{className:"h-64",children:i.jsx(CC,{data:b,options:y})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Product Status"}),i.jsx("div",{className:"h-64 flex items-center justify-center",children:i.jsx("div",{className:"w-1/2",children:i.jsx(nH,{data:x,options:y})})})]})]})]})})]})}function Yye({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-2 sm:bottom-4 right-2 sm:right-4 z-50 space-y-1 sm:space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-2 sm:p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-1 sm:gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-lg sm:text-xl`}),i.jsx("span",{className:"text-xs sm:text-base",children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg sm:text-xl font-bold hover:text-gray-200",children:""})]},t.id))})}function Xye(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>{e(n=>n.filter(o=>o.id!==a))}}}function Kye(){const{alerts:r,addAlert:e,removeAlert:t}=Xye(),[s,a]=R.useState(null),[n,o]=R.useState([]),[l,c]=R.useState(!0);R.useEffect(()=>{const m=Ye.onAuthStateChanged(p=>{p?(a(p),c(!1)):(e("Please log in to access this page.","error"),c(!1))});return()=>m()},[e]),R.useEffect(()=>{if(!s)return;const m=Lt(Xe(ve,"notifications"),Om("createdAt","desc")),p=yr(m,b=>{try{const x=b.docs.map(y=>({id:y.id,...y.data()}));o(x),c(!1)}catch(x){console.error("Error fetching notifications:",x),e("Failed to load notifications.","error"),c(!1)}},b=>{console.error("Snapshot error:",b),e("Error receiving real-time updates.","error"),c(!1)});return()=>p()},[s,e]);const d=async()=>{if(window.confirm("Are you sure you want to clear all notifications? This cannot be undone.")){c(!0);try{const m=Xe(ve,"notifications"),b=(await xt(m)).docs.map(x=>La(x.ref));await Promise.all(b),e("All notifications cleared successfully! ","success")}catch(m){console.error("Error clearing notifications:",m),e("Failed to clear notifications.","error")}finally{c(!1)}}},u=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleString("en-NG",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A",h=m=>{switch(m){case"user_signup":return{icon:"bx-user-plus",color:"text-green-500"};case"product_upload":return{icon:"bx-package",color:"text-blue-500"};case"order_placed":return{icon:"bx-cart",color:"text-yellow-500"};case"payment_failed":return{icon:"bx-credit-card",color:"text-red-500"};default:return{icon:"bx-bell",color:"text-gray-500"}}};return s?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-3 sm:p-5 flex justify-center items-start",children:i.jsxs("div",{className:"w-full max-w-lg sm:max-w-md md:max-w-2xl lg:max-w-5xl bg-white dark:bg-gray-800 p-3 sm:p-4 md:p-6 rounded-lg sm:rounded-xl shadow-sm",children:[i.jsxs("div",{className:"flex sm:flex-row justify-between items-start sm:items-center mb-3 sm:mb-6",children:[i.jsxs("h2",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-gray-800 dark:text-gray-100 border-b-2 sm:border-b-0 border-blue-500 pb-2 sm:pb-0 flex items-center gap-1 sm:gap-2",children:[i.jsx("i",{className:"bx bx-bell text-blue-500 text-lg sm:text-xl md:text-2xl"}),"Notifications"]}),n.length>0&&i.jsxs("button",{onClick:d,disabled:l,className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm font-medium text-white bg-red-600 rounded-md sm:rounded-lg hover:bg-red-700 transition-all duration-200 shadow-md ${l?"opacity-50 cursor-not-allowed":""} mt-2 sm:mt-0`,children:[i.jsx("i",{className:"bx bx-trash text-base sm:text-lg"}),i.jsx("span",{children:"Clear All"})]})]}),l?i.jsx("div",{className:"flex justify-center items-center py-4 sm:py-6",children:i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-xl sm:text-2xl"}),i.jsx("span",{className:"text-sm sm:text-base",children:"Loading notifications..."})]})}):n.length===0?i.jsxs("div",{className:"text-center py-6 sm:py-8",children:[i.jsx("i",{className:"bx bx-bell-off text-3xl sm:text-5xl text-gray-400 dark:text-gray-500 mb-2 sm:mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic text-sm sm:text-base",children:"No notifications found."})]}):i.jsx("ul",{className:"space-y-2 sm:space-y-4",children:n.map(m=>{const{icon:p,color:b}=h(m.type);return i.jsxs("li",{className:"p-2 sm:p-4 bg-gray-50 dark:bg-gray-700 rounded-lg sm:rounded-xl shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200 flex items-start gap-2 sm:gap-4",children:[i.jsx("i",{className:`bx ${p} text-lg sm:text-2xl ${b}`}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[i.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100 text-sm sm:text-base",children:m.message}),i.jsx("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1 sm:mt-0",children:u(m.createdAt)})]}),m.details&&i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 mt-1 sm:mt-2",children:Object.entries(m.details).map(([x,y])=>i.jsxs("span",{children:[i.jsxs("strong",{children:[x.replace("_"," "),":"]})," ",y," ",i.jsx("br",{})]},x))})]})]},m.id)})}),i.jsx(Yye,{alerts:r,removeAlert:t})]})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-3 sm:p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-xl sm:text-2xl"}),i.jsx("span",{className:"text-sm sm:text-base",children:"Loading..."})]})})]})}function Zye({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-3 rounded-lg shadow-md animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-lg`}),i.jsx("span",{className:"text-sm",children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Qye(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="info")=>e(o=>[...o,{id:Date.now(),message:a,type:n}]),removeAlert:a=>e(n=>n.filter(o=>o.id!==a))}}const PF=(r,e)=>{const t=[r,e].filter(o=>o?.trim()),s=t[0]?.slice(0,4).toLowerCase()||"user",a=t[1]?.slice(0,3).toLowerCase()||"",n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return(s+a).replace(/[^a-z0-9]/g,"")+n},Jye=(r,e)=>e?e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):r?r.split("@")[0].slice(0,2).toUpperCase():"??";function eve(){const r=zr(),{alerts:e,addAlert:t,removeAlert:s}=Qye(),[a,n]=R.useState(!1),[o,l]=R.useState(null),[c,d]=R.useState([]),[u,h]=R.useState({email:"",firstName:"",lastName:"",password:"",role:"buyer"}),[m,p]=R.useState({email:"",password:""}),[b,x]=R.useState(null),[y,w]=R.useState(null),[k,N]=R.useState({}),[T,E]=R.useState(!1),[I,S]=R.useState(!1),[A,P]=R.useState(!1),[O,M]=R.useState(!1),[L,B]=R.useState("");R.useEffect(()=>{const xe=Ye.onAuthStateChanged(async se=>{if(se){l(se);const fe=await wt(qe(ve,"users",se.uid));(!fe.exists()||fe.data().role!=="admin")&&(t("Unauthorized access.","error"),r("/login"))}else t("Please log in as an admin.","error"),r("/login")}),ze=yr(Xe(ve,"users"),se=>{const fe=se.docs.map(Te=>({id:Te.id,...Te.data(),role:Te.data().role||"buyer",status:Te.data().status||"active",profileImage:Te.data().profileImage||null}));d(fe)});return()=>{xe(),ze()}},[r]);const G=xe=>{const ze=Xe(ve,"products"),se=Lt(ze,Tt("sellerId","==",xe));return yr(se,fe=>{const Te=fe.docs.map(Ce=>{const Be=Ce.data();return{id:Ce.id,name:Be.name||"Unnamed Product",imageUrl:Be.imageUrls?.[0]||null,price:Be.price||0,description:Be.description||"No description",category:Be.category||"Uncategorized"}});x(Ce=>Ce?{...Ce,products:Te}:null)})};R.useEffect(()=>{const xe=ze=>{ze.key==="Escape"&&(T||I)&&(E(!1),S(!1))};return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)},[T,I]);const X=xe=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(xe),H=xe=>xe?.length<6?"Password must be at least 6 characters.":"",W=xe=>{const ze={};if(xe.firstName?.trim()||(ze.firstName="First name required."),xe.lastName?.trim()||(ze.lastName="Last name required."),xe.email?X(xe.email)||(ze.email="Invalid email."):ze.email="Email required.",xe.password){const se=H(xe.password);se&&(ze.password=se)}return["buyer","seller","pro seller","admin"].includes(xe.role)||(ze.role="Invalid role."),ze},ne=xe=>{const ze={};if(xe.email?X(xe.email)||(ze.email="Invalid email."):ze.email="Email required.",!xe.password)ze.password="Password required.";else{const se=H(xe.password);se&&(ze.password=se)}return ze},U=(xe,ze)=>{h(se=>({...se,[xe]:ze})),N(se=>({...se,[xe]:""}))},z=(xe,ze)=>{p(se=>({...se,[xe]:ze})),N(se=>({...se,[xe]:""}))},Q=(xe,ze)=>{w(se=>({...se,[xe]:ze})),N(se=>({...se,[xe]:""}))},q=async xe=>{xe.preventDefault(),N({}),n(!0);const ze=W(u);if(Object.keys(ze).length){N(ze),n(!1),t("Fix form errors.","error");return}try{const se=PF(u.firstName,u.lastName),Te=(await cw(Ye,u.email,u.password)).user;await zp(Te,{displayName:se}),await gr(qe(ve,"users",Te.uid),{email:u.email,name:`${u.firstName} ${u.lastName}`,username:se,role:u.role,status:"active",preRegistered:!0,createdAt:new Date().toISOString(),uid:Te.uid,profileImage:null}),t(`User ${u.email} added! `,"success"),h({email:"",firstName:"",lastName:"",password:"",role:"buyer"}),P(!1)}catch(se){console.error("Add user error:",se),se.code==="auth/email-already-in-use"?N({email:"Email in use."}):se.code==="auth/invalid-email"?N({email:"Invalid email."}):t("Failed to add user.","error")}finally{n(!1)}},Z=async xe=>{xe.preventDefault(),N({}),n(!0);const ze=ne(m);if(Object.keys(ze).length){N(ze),n(!1),t("Fix form errors.","error");return}try{const fe=(await cw(Ye,m.email,m.password)).user,Te=m.email.split("@")[0];await zp(fe,{displayName:Te}),await gr(qe(ve,"users",fe.uid),{email:m.email,name:Te,username:Te,role:"admin",status:"active",preRegistered:!0,createdAt:new Date().toISOString(),uid:fe.uid,profileImage:null}),await gr(qe(ve,"admins",fe.uid),{email:m.email,uid:fe.uid,createdAt:new Date().toISOString()}),t(`Admin ${m.email} added! `,"success"),p({email:"",password:""}),M(!1)}catch(se){console.error("Add admin error:",se),se.code==="auth/email-already-in-use"?N({email:"Email in use."}):t("Failed to add admin.","error")}finally{n(!1)}},J=async xe=>{xe.preventDefault(),N({}),n(!0);const ze=W(y);if(Object.keys(ze).length){N(ze),n(!1),t("Fix form errors.","error");return}try{const se=y.username||PF(y.firstName,y.lastName);await Oi(qe(ve,"users",y.id),{email:y.email,name:`${y.firstName} ${y.lastName}`,username:se,role:y.role,updatedAt:new Date().toISOString()}),y.password&&(await gQ(Ye,y.email),t(`Password reset sent to ${y.email}! `,"success")),t(`User ${y.email} updated! `,"success"),S(!1),w(null)}catch(se){console.error("Update user error:",se),t("Failed to update user.","error")}finally{n(!1)}},re=async(xe,ze,se)=>{if(window.confirm(`Confirm ${se==="suspended"?"unsuspend":"suspend"} ${ze}?`)){n(!0);try{await Oi(qe(ve,"users",xe),{status:se==="suspended"?"active":"suspended",updatedAt:new Date().toISOString()}),t(`User ${ze} ${se==="suspended"?"unsuspended":"suspended"}!`,"success")}catch(fe){console.error("Suspend error:",fe),t("Failed to update status.","error")}finally{n(!1)}}},de=async(xe,ze)=>{if(window.confirm(`Confirm delete ${ze}?`)){n(!0);try{await fetch("/send-membership-revoked-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:ze})}),await La(qe(ve,"users",xe)),t(`User ${ze} deleted!`,"success")}catch(se){console.error("Delete error:",se),t("Failed to delete or send email.","error")}finally{n(!1)}}},Se=async xe=>{n(!0);try{const ze=await wt(qe(ve,"users",xe.id));if(ze.exists()){const se=G(xe.id);x({...xe,...ze.data(),unsubscribe:se})}E(!0)}catch(ze){console.error("Fetch user error:",ze),t("Failed to fetch details.","error")}finally{n(!1)}},je=xe=>{w({id:xe.id,email:xe.email,firstName:xe.name.split(" ")[0],lastName:xe.name.split(" ").slice(1).join(" "),username:xe.username,role:xe.role,password:""}),S(!0)},Ne=c.filter(xe=>xe.email?.toLowerCase().includes(L.toLowerCase())||xe.name?.toLowerCase().includes(L.toLowerCase()));return o?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6",children:i.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-user text-blue-500 text-xl"})," Manage Users"]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search Users"}),i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",value:L,onChange:xe=>B(xe.target.value),placeholder:"Search by email or name...",className:"w-full py-2 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md mb-4 sm:mb-8",children:[i.jsx("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>P(!A),children:i.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[i.jsx("i",{className:`bx bx-chevron-${A?"up":"down"} text-blue-500 text-lg sm:text-xl`}),"Add New User"]})}),A&&i.jsx("div",{className:"mt-4 animate-slide-down",children:i.jsxs("form",{onSubmit:q,className:"space-y-4",children:[i.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["First Name ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"User's first name"})]}),i.jsx("input",{type:"text",value:u.firstName,onChange:xe=>U("firstName",xe.target.value),placeholder:"John",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.firstName?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.firstName&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),k.firstName]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Last Name ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"User's last name"})]}),i.jsx("input",{type:"text",value:u.lastName,onChange:xe=>U("lastName",xe.target.value),placeholder:"Doe",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.lastName?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.lastName&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),k.lastName]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"User's email address"})]}),i.jsx("input",{type:"email",value:u.email,onChange:xe=>U("email",xe.target.value),placeholder:"john.doe@example.com",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.email&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),k.email]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Password ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Password (min 6 characters)"})]}),i.jsx("input",{type:"password",value:u.password,onChange:xe=>U("password",xe.target.value),placeholder:"Enter password",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.password&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),k.password]})]}),i.jsxs("div",{className:"relative group sm:col-span-2",children:[i.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Role ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Select user role"})]}),i.jsxs("select",{value:u.role,onChange:xe=>U("role",xe.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.role?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a,children:[i.jsx("option",{value:"buyer",children:"Buyer"}),i.jsx("option",{value:"seller",children:"Seller"}),i.jsx("option",{value:"pro seller",children:"Pro Seller"}),i.jsx("option",{value:"admin",children:"Admin"})]}),k.role&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),k.role]})]})]})}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{type:"submit",disabled:a,className:"py-2 px-4 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-sm",children:[a?i.jsx("i",{className:"bx bx-loader bx-spin"}):i.jsx("i",{className:"bx bx-plus"}),a?"Adding...":"Add User"]})})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md mb-4 sm:mb-8",children:[i.jsx("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>M(!O),children:i.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[i.jsx("i",{className:`bx bx-chevron-${O?"up":"down"} text-blue-500 text-lg sm:text-xl`}),"Add New Admin"]})}),O&&i.jsx("div",{className:"mt-4 animate-slide-down",children:i.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[i.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Admin's email address"})]}),i.jsx("input",{type:"email",value:m.email,onChange:xe=>z("email",xe.target.value),placeholder:"admin@example.com",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.email&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),k.email]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 items-center gap-1",children:["Password ",i.jsx("span",{className:"text-red-500",children:"*"}),i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Password (min 6 characters)"})]}),i.jsx("input",{type:"password",value:m.password,onChange:xe=>z("password",xe.target.value),placeholder:"Enter password",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 ${k.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:a}),k.password&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),k.password]})]})]})}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{type:"submit",disabled:a,className:"py-2 px-4 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-sm",children:[a?i.jsx("i",{className:"bx bx-loader bx-spin"}):i.jsx("i",{className:"bx bx-plus"}),a?"Adding...":"Add Admin"]})})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-700 dark:text-gray-200 mb-2 sm:mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-list-ul text-blue-500 text-lg sm:text-xl"}),"All Users"]}),Ne.length===0?i.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic text-sm",children:"No users found."}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:Ne.map(xe=>{const ze=xe.role==="buyer"?"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300":xe.role==="seller"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":xe.role==="pro seller"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":xe.role==="admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300":"bg-gray-100 text-gray-700",se=xe.profileImage||null,fe=Jye(xe.email,xe.name);return i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>Se(xe),children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[se?i.jsx("img",{src:se,alt:xe.name,className:"w-10 h-10 rounded-full object-cover"}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm font-medium",children:fe}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 truncate",children:xe.name}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:["Email: ",xe.email]})]})]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ze}`,children:xe.role}),i.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[i.jsxs("button",{onClick:Te=>{Te.stopPropagation(),re(xe.id,xe.email,xe.status)},className:"text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300 flex items-center gap-1 text-xs",disabled:a||xe.status==="suspended",children:[i.jsx("i",{className:"bx bx-block"}),xe.status==="suspended"?"Unsuspend":"Suspend"]}),i.jsxs("button",{onClick:Te=>{Te.stopPropagation(),de(xe.id,xe.email)},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 flex items-center gap-1 text-xs",disabled:a,children:[i.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]},xe.id)})})]}),T&&b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 p-10 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200",children:"User Details"}),i.jsx("button",{onClick:()=>{E(!1),b.unsubscribe?.()},className:"text-gray-500 hover:text-gray-700 text-xl",children:i.jsx("i",{className:"bx bx-x"})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Name:"})," ",b.name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",b.email]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Username:"})," ",b.username||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Role:"})," ",b.role]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Status:"})," ",b.status]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Created:"})," ",new Date(b.createdAt).toLocaleDateString()]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Products:"}),b.products?.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-2",children:b.products.map(xe=>i.jsx("div",{className:"border border-gray-200 dark:border-gray-700 p-4 rounded-lg shadow-sm hover:shadow-md",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[xe.imageUrl?i.jsx("img",{src:xe.imageUrl,alt:xe.name,className:"w-full h-32 object-cover rounded-md"}):i.jsx("div",{className:"w-full h-32 bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-sm",children:"No Image"}),i.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-200",children:xe.name}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Price: ",xe.price.toLocaleString()]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Category: ",xe.category]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:xe.description})]})},xe.id))}):i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No products."})]})]}),i.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>{E(!1),je(b),b.unsubscribe?.()},className:"py-1 px-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Edit"}),i.jsx("button",{onClick:()=>{E(!1),r(`/admin-upload-product/${b.id}`),b.unsubscribe?.()},className:"py-1 px-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Upload Product"}),i.jsx("button",{onClick:()=>{E(!1),b.unsubscribe?.()},className:"py-1 px-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})]})]})}),I&&y&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 sm:p-2 rounded-lg shadow-md w-full max-w-md",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200",children:"Edit User"}),i.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xl",children:i.jsx("i",{className:"bx bx-x"})})]}),i.jsxs("form",{onSubmit:J,className:"space-y-4",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["First Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:y.firstName,onChange:xe=>Q("firstName",xe.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.firstName?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a}),k.firstName&&i.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.firstName})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Last Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:y.lastName,onChange:xe=>Q("lastName",xe.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.lastName?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a}),k.lastName&&i.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.lastName})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",value:y.email,onChange:xe=>Q("email",xe.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a}),k.email&&i.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.email})]}),i.jsxs("div",{className:"relative group",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username"}),i.jsx("input",{type:"text",value:y.username,onChange:xe=>Q("username",xe.target.value),className:"mt-1 w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",disabled:a})]}),i.jsxs("div",{className:"relative group",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Password (optional)"}),i.jsx("input",{type:"password",value:y.password,onChange:xe=>Q("password",xe.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a}),k.password&&i.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.password})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Role ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:y.role,onChange:xe=>Q("role",xe.target.value),className:`mt-1 w-full py-2 px-3 border rounded-lg focus:ring-2 ${k.role?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:a,children:[i.jsx("option",{value:"buyer",children:"Buyer"}),i.jsx("option",{value:"seller",children:"Seller"}),i.jsx("option",{value:"pro seller",children:"Pro Seller"}),i.jsx("option",{value:"admin",children:"Admin"})]}),k.role&&i.jsx("p",{className:"text-red-600 text-sm mt-1",children:k.role})]}),i.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>S(!1),className:"py-2 px-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a,className:"py-2 px-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:a?"Updating...":"Update User"})]})]})]})}),i.jsx(Zye,{alerts:e,removeAlert:s})]})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsx("i",{className:"bx bx-loader bx-spin text-2xl text-gray-600 dark:text-gray-300"})})]})}function tve({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-lg shadow-lg ${t.type==="error"?"bg-red-600":"bg-green-600"} text-white flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function rve(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="success")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>e(n=>n.filter(o=>o.id!==a))}}function sve(){const{alerts:r,addAlert:e,removeAlert:t}=rve(),s=zr(),[a,n]=R.useState([]),[o,l]=R.useState([]),[c,d]=R.useState(""),[u,h]=R.useState(!1),m=R.useCallback(Hh(x=>{d(x)},300),[]),p=x=>{m(x.target.value)},b=async(x,y,w)=>{h(!0);try{console.log("Attempting approval for transactionId:",x,"sellerId:",y,"amount:",w);const N=await jr.post("https://foremade-backend.onrender.com/approve-payout",{transactionId:x,sellerId:y,amount:w},{timeout:15e3});console.log("Approval response:",N.data),N.data.status==="redirect"?window.location.href=N.data.redirectUrl:e(N.data.message||"Payout approved successfully","success")}catch(k){console.error("Approval error details:",k.response?.data||k.message);let N=k.response?.data?.error||"Approval failed. Please check your Paystack balance.";const T=k.response?.data?.details;T&&typeof T=="object"&&(T.pendingBalance!==void 0&&T.amount!==void 0?N=`Insufficient pending balance: Available ${T.pendingBalance}, Requested ${T.amount}`:N=Object.entries(T).map(([E,I])=>`${E}: ${I}`).join(", ")),e(N,"error")}finally{h(!1)}};return R.useEffect(()=>{const x=N=>{if(!N){e("Please log in.","error"),s("/login");return}},y=Ye.onAuthStateChanged(x);if(!Ye.currentUser){x(null);return}const w=Lt(Xe(ve,"transactions"),Tt("status","==","Pending"),Tt("type","==","Withdrawal")),k=yr(w,async N=>{const T=[];for(const E of N.docs){const I={id:E.id,...E.data()};if(I.id=String(I.id||"N/A"),I.sellerId=String(I.sellerId||"N/A"),!I.sellerId||I.sellerId==="N/A"||!/^[a-zA-Z0-9]+$/.test(I.sellerId)){console.warn(`Invalid sellerId for transaction ${I.id}: ${I.sellerId}`),I.sellerName="Unknown",I.bankName="N/A",I.accountNumber="N/A",T.push(I);continue}const S=qe(ve,"sellers",I.sellerId);try{const A=await wt(S);if(A.exists()){const P=A.data();if(I.sellerName=String(P.fullName||"Unknown"),I.accountNumber=String(P.accountNumber||"N/A"),P.bankCode){const O=qe(ve,"banks",P.bankCode),M=await wt(O);I.bankName=String(M.exists()&&M.data().name||"N/A")}else I.bankName="N/A"}else console.warn(`Seller document not found for sellerId: ${I.sellerId}`),I.sellerName="Unknown",I.bankName="N/A",I.accountNumber="N/A"}catch(A){console.error(`Failed to fetch seller or bank data for ${I.sellerId}:`,A),I.sellerName="Unknown",I.bankName="N/A",I.accountNumber="N/A"}T.push(I)}if(console.log("Fetched transaction data:",T),n(T),!c.trim())l(T);else{const E=c.toLowerCase().trim();l(T.filter(I=>[I.id,I.sellerId,I.sellerName].some(A=>!A||typeof A!="string"?!1:A.toLowerCase()===E||A.toLowerCase().includes(E))))}},N=>{e("Failed to fetch transactions.","error"),console.error("Firestore listener error:",N)});return()=>{y(),k&&k()}},[s,c]),i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx(Ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 flex items-center gap-2",children:"Admin Payout Monitor"})}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search by Transaction ID, Seller ID, or Seller Name...",onChange:p,className:"w-full p-3 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"}),i.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]})}),o.length===0?i.jsx(Ct.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No pending payout requests."}):i.jsx(Ct.div,{className:"grid gap-4 lg:grid-cols-2",children:i.jsx(go,{children:o.map((x,y)=>i.jsxs(Ct.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3,delay:y*.1},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",x.id||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",x.sellerId||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Seller Name:"})," ",x.sellerName||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Status:"})," ",i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${x.status==="Pending"?"bg-yellow-100 text-yellow-800":x.status==="Approved"?"bg-green-100 text-green-800":x.status==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:x.status||"N/A"})]})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Amount:"})," ",x.country==="United Kingdom"?"":"",x.amount?.toFixed(2)||"0.00"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Bank Name:"})," ",x.bankName||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Account Number:"})," ",x.accountNumber||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Country:"})," ",x.country||"N/A"]})]})]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:[i.jsx("span",{className:"font-medium",children:"Date:"})," ",x.createdAt?.toDate?new Date(x.createdAt.toDate()).toLocaleString():"N/A"]}),x.status==="Failed"&&x.failureReason&&i.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:[i.jsx("span",{className:"font-medium",children:"Reason:"})," ",x.failureReason]}),i.jsx("div",{className:"mt-4 flex gap-2",children:i.jsxs("button",{onClick:()=>b(x.id,x.sellerId,x.amount),disabled:u||x.status!=="Pending"||x.sellerId==="N/A",className:`px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center gap-2 ${u||x.status!=="Pending"||x.sellerId==="N/A"?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx("i",{className:"bx bx-check"}),"Approve"]})})]},x.id||`txn-${y}`))})}),i.jsx(tve,{alerts:r,removeAlert:t})]})})]})}function ave(){const[r,e]=R.useState([]),[t,s]=R.useState({Fashion:[],Gadgets:[]}),[a,n]=R.useState(""),[o,l]=R.useState("All"),[c,d]=R.useState([]),[u,h]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const y=Lt(Xe(ve,"products"),Tt("status","==","approved")),k=(await xt(y)).docs.map(I=>({id:I.id,...I.data()})),N=new Set(k.map(I=>I.category||"Other"));d(["All",...N]);const T=await xt(Xe(ve,"trendingItems")),E={Fashion:[],Gadgets:[]};T.forEach(I=>{const S=I.data();if(S.category==="Fashion"||S.category==="Gadgets"){const A=k.find(P=>P.id===S.productId);E[S.category].push({id:I.id,...S,productName:A?.name||"Unknown Product"})}}),s(E),e(k)}catch(y){console.error("Error loading data:",y),Ke.error("Failed to load products or trending items.")}finally{h(!1)}})()},[]);const m=async(x,y)=>{if(t[y].length>=10){Ke.error(`Cannot add more to trending ${y}. Maximum 10 items reached.`);return}try{const w=qe(Xe(ve,"trendingItems"));await gr(w,{productId:x,category:y,addedAt:new Date});const k=r.find(N=>N.id===x);s({...t,[y]:[...t[y],{id:w.id,productId:x,productName:k.name}]}),Ke.success(`Added to trending ${y}!`)}catch(w){console.error("Error adding trending item:",w),Ke.error("Failed to add trending item.")}},p=async(x,y)=>{try{await La(qe(ve,"trendingItems",x)),s({...t,[y]:t[y].filter(w=>w.id!==x)}),Ke.success("Removed from trending items!")}catch(w){console.error("Error removing trending item:",w),Ke.error("Failed to remove trending item.")}},b=r.filter(x=>x.name.toLowerCase().includes(a.toLowerCase())&&(o==="All"||x.category===o));return u?i.jsx("div",{className:"py-4 xs:py-6",children:i.jsx("div",{className:"container mx-auto px-2 xs:px-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 xs:p-6 animate-pulse",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),i.jsx("div",{className:"space-y-4",children:[...Array(5)].map((x,y)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},y))})]})})}):i.jsx("div",{className:"py-4 xs:py-6",children:i.jsxs("div",{className:"container mx-auto px-2 xs:px-4",children:[i.jsxs("h1",{className:"text-xl xs:text-2xl font-bold text-gray-800 mb-4 xs:mb-6 flex items-center",children:[i.jsx("i",{className:"bx bx-trending-up text-blue-600 mr-2 text-2xl"}),"Edit Trending Items"]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 xs:gap-4 mb-4 xs:mb-6",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("input",{type:"text",placeholder:"Search products...",value:a,onChange:x=>n(x.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all","aria-label":"Search products"}),i.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-lg"})]}),i.jsxs("div",{className:"relative flex-1",children:[i.jsx("select",{value:o,onChange:x=>l(x.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all appearance-none","aria-label":"Filter by category",children:c.map(x=>i.jsx("option",{value:x,children:x},x))}),i.jsx("i",{className:"bx bx-filter absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-lg"})]})]}),["Fashion","Gadgets"].map(x=>i.jsxs("div",{className:"mb-6 xs:mb-8 bg-white rounded-lg shadow-sm",children:[i.jsx("div",{className:"sticky top-0 bg-white z-10 p-4 xs:p-6 border-b border-gray-100",children:i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[i.jsx("i",{className:"bx bx-star text-blue-600 mr-2 text-xl"}),"Trending in ",x]})}),i.jsxs("div",{className:"p-4 xs:p-6",children:[i.jsxs("div",{className:"mb-4 xs:mb-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Current Trending Products"}),t[x].length===0?i.jsxs("p",{className:"text-gray-500 text-sm flex items-center",children:[i.jsx("i",{className:"bx bx-list-ul mr-1 text-gray-400"}),"No trending products selected for ",x,"."]}):i.jsx("ul",{className:"space-y-2 animate-fadeIn",children:t[x].map(y=>i.jsxs("li",{className:"flex items-center justify-between p-2 rounded-md hover:bg-gray-50 transition-colors",children:[i.jsx("span",{className:"text-sm text-gray-800",children:y.productName}),i.jsx("button",{onClick:()=>p(y.id,x),className:"text-red-500 hover:text-red-600 transform hover:scale-110 transition-transform","aria-label":`Remove ${y.productName} from trending ${x}`,children:i.jsx("i",{className:"bx bx-trash text-lg"})})]},y.id))})]}),i.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Add Products"}),b.length===0?i.jsxs("p",{className:"text-gray-500 text-sm flex items-center",children:[i.jsx("i",{className:"bx bx-search-alt-2 mr-1 text-gray-400"}),"No products match your search or filter."]}):i.jsx("ul",{className:"space-y-2 max-h-80 overflow-y-auto animate-fadeIn",children:b.map(y=>i.jsxs("li",{className:"flex items-center justify-between p-2 rounded-md hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[y.imageUrls?.[0]&&i.jsx("img",{src:y.imageUrls[0],alt:y.name,className:"w-10 h-10 object-cover rounded"}),i.jsx("span",{className:"text-sm text-gray-800",children:y.name})]}),i.jsx("button",{onClick:()=>m(y.id,x),className:`text-blue-600 hover:text-blue-500 text-sm transform hover:scale-110 transition-transform ${t[x].some(w=>w.productId===y.id)?"opacity-50 cursor-not-allowed":""}`,disabled:t[x].some(w=>w.productId===y.id),"aria-label":`Add ${y.name} to trending ${x}`,children:i.jsx("i",{className:"bx bx-plus text-lg"})})]},y.id))})]})]},x))]})})}function nve({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function ive(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>{e(n=>n.filter(o=>o.id!==a))}}}function ove(){const{alerts:r,addAlert:e,removeAlert:t}=ive(),[s,a]=R.useState([]),[n,o]=R.useState({id:"",desktop:"",tablet:"",mobile:"",buttonText:"",buttonUrl:"",buttonStyle:"primary"}),[l,c]=R.useState(!1),[d,u]=R.useState({desktop:!1,tablet:!1,mobile:!1}),[h,m]=R.useState({desktop:0,tablet:0,mobile:0}),[p,b]=R.useState(!0),[x,y]=R.useState(!0);R.useEffect(()=>{(async()=>{try{b(!0);const O=Xe(ve,"settings","carousel","slides"),M=await xt(O),L=new Map;M.docs.forEach(G=>{const X={id:G.id,...G.data()};L.set(G.id,X)});const B=Array.from(L.values()).sort((G,X)=>new Date(X.createdAt||0)-new Date(G.createdAt||0));a(B),e("Slides loaded successfully!","success")}catch(O){console.error("Error fetching slides:",O),e("Failed to load slides.","error")}finally{b(!1)}})()},[]);const w=P=>{const{name:O,value:M}=P.target;o(L=>({...L,[O]:M}))},k=async(P,O)=>{const M=P.target.files[0];if(!M)return;if(!["image/gif","video/mp4","video/webm","image/jpeg","image/png"].includes(M.type)){e(`Invalid file type for ${O}. Use GIF, MP4, WebM, JPEG, or PNG.`,"error");return}const B=M.type.startsWith("video")?50*1024*1024:10*1024*1024;if(M.size>B){e(`File too large for ${O}. Max size is ${M.type.startsWith("video")?"50MB":"10MB"}.`,"error");return}u(G=>({...G,[O]:!0})),m(G=>({...G,[O]:0}));try{const G=new FormData;G.append("file",M),G.append("isVideo",M.type.startsWith("video").toString());const H=await jr.post("https://foremade-backend.onrender.com/upload",G,{headers:{"Content-Type":"multipart/form-data"},timeout:12e4,onUploadProgress:W=>{const ne=Math.round(W.loaded*100/W.total);m(U=>({...U,[O]:ne}))}});if(H.status!==200||!H.data.url)throw new Error("Failed to upload media to Cloudinary.");o(W=>({...W,[O]:H.data.url})),e(`${O} media uploaded!`,"success")}catch(G){console.error("Media upload error:",{message:G.message,code:G.code,response:G.response?.data}),e(G.code==="ECONNABORTED"?"Upload timed out. Please check your network.":G.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network.":`Failed to upload ${O} media.`,"error")}finally{u(G=>({...G,[O]:!1})),m(G=>({...G,[O]:0}))}},N=P=>P?P.match(/\.(mp4|webm)$/i)?i.jsx("video",{src:P,controls:!0,className:"mt-2 h-20 w-auto rounded shadow-sm",title:"Video preview"}):i.jsx("img",{src:P,alt:"Media preview",className:"mt-2 h-20 w-auto rounded shadow-sm"}):null,T=async P=>{if(P.preventDefault(),!n.desktop||!n.tablet||!n.mobile){e("All media fields are required.","error");return}try{b(!0);const O=l?n.id:`slide-${Date.now()}`,M={desktop:n.desktop,tablet:n.tablet,mobile:n.mobile,buttonText:n.buttonText||"",buttonUrl:n.buttonUrl||"",buttonStyle:n.buttonStyle||"primary",mediaType:n.desktop.toLowerCase().match(/\.(mp4|webm)$/i)?"video":"image",createdAt:new Date().toISOString()};await gr(qe(ve,"settings/carousel/slides",O),M),e(l?"Slide updated successfully! ":"Slide added successfully! ","success"),a(L=>l?L.map(B=>B.id===O?{id:O,...n}:B):[...L,{id:O,...n}]),S()}catch(O){console.error("Error saving slide:",O),e("Failed to save slide.","error")}finally{b(!1)}},E=P=>{o(P),c(!0),y(!0)},I=async P=>{if(confirm("Delete this slide?"))try{b(!0);const O=[La(qe(ve,"settings","carousel","slides",P)).catch(G=>console.error("Error deleting from new path:",G)),La(qe(ve,"carouselSlides",P)).catch(G=>console.error("Error deleting from old path:",G))];await Promise.all(O),a(G=>G.filter(X=>X.id!==P)),e("Slide deleted successfully!","success");const M=Xe(ve,"settings","carousel","slides"),B=(await xt(M)).docs.map(G=>({id:G.id,...G.data()}));a(B)}catch(O){console.error("Error deleting slide:",O),e("Failed to delete slide.","error")}finally{b(!1)}},S=()=>{o({id:"",desktop:"",tablet:"",mobile:"",buttonText:"",buttonUrl:"",buttonStyle:"primary"}),c(!1)},A=()=>{y(P=>!P)};return p?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:i.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[i.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-image text-blue-500"}),"Manage Carousel Banners"]}),i.jsxs("div",{className:"p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:A,children:[i.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[i.jsx("i",{className:`bx bx-chevron-${x?"up":"down"} text-blue-500`}),l?"Edit Slide":"Add New Slide"]}),l&&i.jsxs("button",{onClick:P=>{P.stopPropagation(),S()},className:"text-gray-600 hover:text-gray-800 dark:hover:text-gray-400 text-sm flex items-center gap-1",title:"Cancel editing",children:[i.jsx("i",{className:"bx bx-x"}),"Cancel"]})]}),x&&i.jsxs("form",{onSubmit:T,className:"mt-4 ml-4 space-y-4 animate-slide-down",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"col-span-1 md:col-span-2 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:"Call-to-Action Button (Optional)"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Button Text"}),i.jsx("input",{type:"text",name:"buttonText",value:n.buttonText,onChange:w,placeholder:"e.g., Shop Now",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Button URL"}),i.jsx("input",{type:"text",name:"buttonUrl",value:n.buttonUrl,onChange:w,placeholder:"e.g., /products/category",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Button Style"}),i.jsxs("select",{name:"buttonStyle",value:n.buttonStyle,onChange:w,className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[i.jsx("option",{value:"primary",children:"Primary"}),i.jsx("option",{value:"secondary",children:"Secondary"}),i.jsx("option",{value:"outline",children:"Outline"})]})]})]})]}),["desktop","tablet","mobile"].map(P=>i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[`${P.charAt(0).toUpperCase()+P.slice(1)} Media`,i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:`Upload an image, GIF, or short video optimized for ${P} devices (GIF 10MB, Videos 50MB)`})]}),i.jsx("div",{className:"relative",children:i.jsx("input",{type:"text",name:P,value:n[P],onChange:w,placeholder:"Enter media URL or upload below",className:"mt-1 w-full py-2 pl-3 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-600 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:d[P]})}),i.jsx("input",{type:"file",accept:"image/*,video/mp4,video/webm",onChange:O=>k(O,P),className:"mt-2 w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",disabled:d[P]}),d[P]&&i.jsxs("div",{className:"mt-2",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["Uploading... ",h[P],"%"]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:i.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${h[P]}%`}})})]}),N(n[P])]},P))]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsxs("button",{type:"submit",disabled:d.desktop||d.tablet||d.mobile||p,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-sm",children:[p?i.jsx("i",{className:"bx bx-loader bx-spin"}):i.jsx("i",{className:"bx bx-save"}),p?"Saving...":l?"Update Slide":"Add Slide"]})})]})]}),i.jsxs("div",{className:"mt-6 p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[i.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-list-ul text-blue-500"}),"Current Slides"]}),s.length===0?i.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic",children:"No slides available."}):i.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(P=>i.jsxs("li",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all duration-200",children:[N(P.desktop),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Slide ",P.id.split("-")[1]]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>E(P),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 text-sm",title:"Edit slide",children:[i.jsx("i",{className:"bx bx-edit"}),"Edit"]}),i.jsxs("button",{onClick:()=>I(P.id),className:"text-red-600 hover:text-red-800 flex items-center gap-1 text-sm",title:"Delete slide",children:[i.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]})]},P.id))})]}),i.jsx(ave,{}),i.jsx(nve,{alerts:r,removeAlert:t})]})})]})}function lve({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function cve(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>{e(n=>n.filter(o=>o.id!==a))}}}function dve(){const{alerts:r,addAlert:e,removeAlert:t}=cve(),[s,a]=R.useState([]),[n,o]=R.useState([]),[l,c]=R.useState({id:"",productId:"",discount:"",startDate:"",endDate:""}),[d,u]=R.useState(!1),[h,m]=R.useState(!0),[p,b]=R.useState(!0),[x,y]=R.useState({});R.useEffect(()=>{(async()=>{try{m(!0);const M=(await xt(Xe(ve,"products"))).docs.map(G=>({id:G.id,...G.data()})).filter(G=>G.status==="approved");o(M);const B=(await xt(Xe(ve,"dailyDeals"))).docs.map(G=>({id:G.id,...G.data()}));a(B),e("Data loaded successfully!","success")}catch(O){console.error("Error fetching data:",O),e("Failed to load products or deals.","error")}finally{m(!1)}})()},[]);const w=P=>{const{name:O,value:M}=P.target;c(L=>({...L,[O]:M})),y(L=>({...L,[O]:""}))},k=()=>{const P={};return l.productId||(P.productId="Please select a product."),(!l.discount||l.discount<0||l.discount>100)&&(P.discount="Discount must be between 0 and 100%."),l.startDate||(P.startDate="Start date is required."),l.endDate||(P.endDate="End date is required."),l.startDate&&l.endDate&&l.startDate>l.endDate&&(P.endDate="End date must be after start date."),P},N=async P=>{P.preventDefault();const O=k();if(Object.keys(O).length>0){y(O),e("Please fix form errors.","error");return}try{m(!0);const M=d?l.id:`deal-${Date.now()}`,L={productId:l.productId,discount:parseFloat(l.discount)/100,startDate:l.startDate,endDate:l.endDate,createdAt:new Date().toISOString()};await gr(qe(ve,"dailyDeals",M),L),e(d?"Deal updated successfully! ":"Deal added successfully! ","success"),a(B=>d?B.map(G=>G.id===M?{id:M,...L}:G):[...B,{id:M,...L}]),I()}catch(M){console.error("Error saving deal:",M),e("Failed to save deal.","error")}finally{m(!1)}},T=P=>{c({id:P.id,productId:P.productId,discount:(P.discount*100).toString(),startDate:P.startDate,endDate:P.endDate}),u(!0),b(!0)},E=async P=>{if(confirm("Delete this deal?"))try{m(!0),await La(qe(ve,"dailyDeals",P)),a(O=>O.filter(M=>M.id!==P)),e("Deal deleted successfully!","success")}catch(O){console.error("Error deleting deal:",O),e("Failed to delete deal.","error")}finally{m(!1)}},I=()=>{c({id:"",productId:"",discount:"",startDate:"",endDate:""}),u(!1),y({})},S=()=>{b(P=>!P)},A=P=>n.find(O=>O.id===P)||{};return h?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:i.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[i.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-purchase-tag text-blue-500"}),"Manage Daily Deals"]}),i.jsxs("div",{className:"p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:S,children:[i.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[i.jsx("i",{className:`bx bx-chevron-${p?"up":"down"} text-blue-500`}),d?"Edit Deal":"Add New Deal"]}),d&&i.jsxs("button",{onClick:P=>{P.stopPropagation(),I()},className:"text-gray-600 hover:text-gray-800 dark:hover:text-gray-400 text-sm flex items-center gap-1",title:"Cancel editing",children:[i.jsx("i",{className:"bx bx-x"}),"Cancel"]})]}),p&&i.jsxs("form",{onSubmit:N,className:"mt-4 ml-4 space-y-4 animate-slide-down",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Product",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Select a product for the deal"})]}),i.jsxs("select",{name:"productId",value:l.productId,onChange:w,className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${x.productId?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,children:[i.jsx("option",{value:"",children:"Select a product"}),n.map(P=>i.jsx("option",{value:P.id,children:P.name||"Unnamed Product"},P.id))]}),x.productId&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),x.productId]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Discount (%)",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Discount percentage for the deal"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",name:"discount",value:l.discount,onChange:w,min:"0",max:"100",step:"0.01",placeholder:"20",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${x.discount?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),i.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),x.discount&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),x.discount]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Start Date",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"When the deal starts"})]}),i.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:w,className:`mt-1 w-full py-2 pl-3 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${x.startDate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),x.startDate&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),x.startDate]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["End Date",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"When the deal ends"})]}),i.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:w,className:`mt-1 w-full py-2 pl-3 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${x.endDate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`}),x.endDate&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),x.endDate]})]})]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsxs("button",{type:"submit",disabled:h,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-sm",children:[h?i.jsx("i",{className:"bx bx-loader bx-spin"}):i.jsx("i",{className:"bx bx-save"}),h?"Saving...":d?"Update Deal":"Add Deal"]})})]})]}),i.jsxs("div",{className:"mt-6 p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[i.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-list-ul text-blue-500"}),"Current Daily Deals"]}),s.length===0?i.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic",children:"No deals available."}):i.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(P=>{const O=A(P.productId);return i.jsxs("li",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all duration-200",children:[i.jsx("img",{src:O.imageUrls?.[0]||"/images/placeholder.jpg",alt:O.name||"Product",className:"h-32 w-full object-cover rounded-lg mb-2"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:O.name||"Unnamed Product"}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Discount: ",(P.discount*100).toFixed(2),"%"]}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:[P.startDate," to ",P.endDate]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Deal ",P.id.split("-")[1]]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>T(P),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 text-sm",title:"Edit deal",children:[i.jsx("i",{className:"bx bx-edit"}),"Edit"]}),i.jsxs("button",{onClick:()=>E(P.id),className:"text-red-600 hover:text-red-800 flex items-center gap-1 text-sm",title:"Delete deal",children:[i.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]})]},P.id)})})]}),i.jsx(lve,{alerts:r,removeAlert:t})]})})]})}function uve({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function hve(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>e(n=>n.filter(o=>o.id!==a))}}function fve({label:r="Minimum Purchase Amount",currencySymbol:e="",firestorePath:t="settings/minimumPurchase",defaultValue:s=25e3}){const{alerts:a,addAlert:n,removeAlert:o}=hve(),l=zr(),[c,d]=R.useState(s),[u,h]=R.useState(!0),[m,p]=R.useState(!1);R.useEffect(()=>{if(!Ye.currentUser){n("Please log in as admin.","error"),l("/login");return}(async()=>{try{const y=qe(ve,t),w=await wt(y);w.exists()&&d(w.data().amount||s)}catch(y){n(`Failed to fetch ${r.toLowerCase()}.`,"error"),console.error("Fetch error:",y)}finally{h(!1)}})()},[l,t,r,s]);const b=async()=>{if(!Ye.currentUser){n("Please log in as admin.","error"),l("/login");return}if(c<=0){n(`${r} must be greater than zero.`,"error");return}p(!0);try{const x=qe(ve,t);await gr(x,{amount:c},{merge:!0}),n(`${r} updated successfully.`,"success")}catch(x){n(`Failed to update ${r.toLowerCase()}.`,"error"),console.error("Save error:",x)}finally{p(!1)}};return u?i.jsx("div",{className:"flex-1 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})}):i.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800",children:[i.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 border-b-2 border-blue-500 pb-2 md:pb-3 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-dollar text-blue-500"}),r]}),i.jsxs("div",{className:"mt-6 space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"minimumPurchase",className:"block text-sm md:text-base font-medium text-gray-700 dark:text-gray-300",children:[r," (",e,")"]}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:e}),i.jsx("input",{type:"number",id:"minimumPurchase",value:c,onChange:x=>d(Math.max(0,Number(x.target.value))),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",min:"0",required:!0,disabled:m})]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Set the ",r.toLowerCase()," buyers must meet to proceed."]})]}),i.jsxs("button",{onClick:b,className:`w-full md:w-auto py-2 px-4 md:px-6 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 flex items-center justify-center gap-2 transition ${m?"opacity-50 cursor-not-allowed":""}`,disabled:m,children:[i.jsx("i",{className:"bx bx-save"}),m?"Saving...":"Save Changes"]})]}),i.jsx(uve,{alerts:a,removeAlert:o})]})}function mve({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function gve(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>e(n=>n.filter(o=>o.id!==a))}}function pve(){const{alerts:r,addAlert:e,removeAlert:t}=gve(),[s,a]=R.useState(!0),[n,o]=R.useState({}),[l,c]=R.useState([]),[d,u]=R.useState({}),[h,m]=R.useState({});R.useEffect(()=>{(async()=>{try{a(!0);const T=(await xt(Xe(ve,"categories"))).docs.map(P=>P.id).sort();c(T);const E=qe(ve,"feeConfigurations","categoryFees"),I=await wt(E);let S={};I.exists()?S=I.data():(S=T.reduce((P,O)=>({...P,[O]:{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2,taxRate:.075}}),{}),await gr(E,S));const A={...S};T.forEach(P=>{A[P]||(A[P]={minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2,taxRate:.075})}),o(A)}catch(N){console.error("Error fetching data:",N),e("Failed to load categories or fees.","error")}finally{a(!1)}})()},[]);const p=(k,N,T)=>{o(E=>({...E,[k]:{...E[k],[N]:N==="minPrice"||N==="maxPrice"?T===""?1/0:parseFloat(T)||0:(parseFloat(T)||0)/100}})),u(E=>({...E,[`${k}_${N}`]:""}))},b=()=>{const k={};return l.forEach(N=>{const T=n[N]||{};T.minPrice<0&&(k[`${N}_minPrice`]="Minimum price cannot be negative."),T.maxPrice!==1/0&&T.maxPrice<T.minPrice&&(k[`${N}_maxPrice`]="Maximum price must be greater than minimum price."),(T.buyerProtectionRate<0||T.buyerProtectionRate>1)&&(k[`${N}_buyerProtectionRate`]="Rate must be between 0 and 100%."),(T.handlingRate<0||T.handlingRate>1)&&(k[`${N}_handlingRate`]="Rate must be between 0 and 100%."),(T.taxRate<0||T.taxRate>1)&&(k[`${N}_taxRate`]="Tax rate must be between 0 and 100%.")}),k},x=async k=>{k.preventDefault(),u({}),a(!0);const N=b();if(Object.keys(N).length>0){u(N),a(!1),e("Please fix the form errors.","error");return}try{const T=qe(ve,"feeConfigurations","categoryFees");await gr(T,n),e("Fees updated successfully! ","success")}catch(T){console.error("Error saving fees:",T),e("Failed to save fees.","error")}finally{a(!1)}},y=k=>{o(N=>({...N,[k]:{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2,taxRate:.075}})),u(N=>({...N,[`${k}_minPrice`]:"",[`${k}_maxPrice`]:"",[`${k}_buyerProtectionRate`]:"",[`${k}_handlingRate`]:"",[`${k}_taxRate`]:""}))},w=k=>{m(N=>({...N,[k]:!N[k]}))};return s?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:i.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[i.jsx(fve,{label:"Set Minimum Purchase",currencySymbol:"",firestorePath:"settings/minimumPurchase",defaultValue:25e3}),i.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-money text-blue-500"}),"Edit Category Fees"]}),l.length===0?i.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic",children:"No categories found. Add categories in Firestore to set fees."}):i.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l.map(k=>i.jsxs("div",{className:"p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>w(k),children:[i.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[i.jsx("i",{className:`bx bx-chevron-${h[k]?"up":"down"} text-blue-500`}),k]}),i.jsxs("button",{onClick:N=>{N.stopPropagation(),y(k)},disabled:s,className:"text-gray-600 hover:text-gray-800 dark:hover:text-gray-400 text-sm flex items-center gap-1",title:"Reset fees to default",children:[i.jsx("i",{className:"bx bx-refresh"}),"Reset"]})]}),h[k]&&i.jsx("div",{className:"mt-4 ml-4 space-y-4 animate-slide-down",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Minimum Price ()",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Minimum product price for this category"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:""}),i.jsx("input",{type:"number",value:n[k]?.minPrice===1/0?"":n[k]?.minPrice||"",onChange:N=>p(k,"minPrice",N.target.value),min:"0",step:"0.01",placeholder:"1000",className:`mt-1 w-full py-2 pl-8 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${d[`${k}_minPrice`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s})]}),d[`${k}_minPrice`]&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),d[`${k}_minPrice`]]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Maximum Price ()",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Maximum product price (leave blank for no limit)"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:""}),i.jsx("input",{type:"number",value:n[k]?.maxPrice===1/0?"":n[k]?.maxPrice||"",onChange:N=>p(k,"maxPrice",N.target.value),min:"0",step:"0.01",placeholder:"No maximum",className:`mt-1 w-full py-2 pl-8 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${d[`${k}_maxPrice`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s})]}),d[`${k}_maxPrice`]&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),d[`${k}_maxPrice`]]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Buyer Protection Rate (%)",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Fee percentage for buyer protection"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",value:n[k]?.buyerProtectionRate*100||"",onChange:N=>p(k,"buyerProtectionRate",N.target.value),min:"0",max:"100",step:"0.01",placeholder:"8",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${d[`${k}_buyerProtectionRate`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),i.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),d[`${k}_buyerProtectionRate`]&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),d[`${k}_buyerProtectionRate`]]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Handling Rate (%)",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Fee percentage for handling"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",value:n[k]?.handlingRate*100||"",onChange:N=>p(k,"handlingRate",N.target.value),min:"0",max:"100",step:"0.01",placeholder:"20",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${d[`${k}_handlingRate`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),i.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),d[`${k}_handlingRate`]&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),d[`${k}_handlingRate`]]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Tax Rate (%)",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Tax percentage for this category"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",value:n[k]?.taxRate*100||"",onChange:N=>p(k,"taxRate",N.target.value),min:"0",max:"100",step:"0.01",placeholder:"7.5",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${d[`${k}_taxRate`]?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),i.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),d[`${k}_taxRate`]&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),d[`${k}_taxRate`]]})]})]})})]},k)),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsxs("button",{type:"submit",disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-sm",children:[s?i.jsx("i",{className:"bx bx-loader bx-spin"}):i.jsx("i",{className:"bx bx-save"}),s?"Saving...":"Save Fees"]})})]}),i.jsx(mve,{alerts:r,removeAlert:t})]})})]})}function xve({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function bve(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>e(n=>n.filter(o=>o.id!==a))}}function yve(){const{alerts:r,addAlert:e,removeAlert:t}=bve(),[s,a]=R.useState(!0),[n,o]=R.useState([]),[l,c]=R.useState({}),[d,u]=R.useState({}),[h,m]=R.useState(""),[p,b]=R.useState(""),[x,y]=R.useState(""),[w,k]=R.useState(null),[N,T]=R.useState(null),[E,I]=R.useState({minPrice:"",maxPrice:"",buyerProtectionRate:"",handlingRate:"",taxRate:""}),[S,A]=R.useState({}),[P,O]=R.useState({}),[M,L]=R.useState(null),[B,G]=R.useState(null),[X,H]=R.useState({}),[W,ne]=R.useState({}),[U,z]=R.useState({category:null,subcategory:null,subSubcategory:null});R.useEffect(()=>{let fe=!0;const Te=yr(Xe(ve,"categories"),gt=>{const st=gt.docs.map(bt=>bt.id).sort();fe&&o(st)}),Ce=yr(Xe(ve,"customSubcategories"),gt=>{const st={};gt.forEach(bt=>{st[bt.id]=bt.data().subcategories||[]}),fe&&c(st)}),Be=yr(Xe(ve,"customSubSubcategories"),gt=>{const st={};gt.forEach(bt=>{st[bt.id]=bt.data()||{}}),fe&&u(st)}),Ue=yr(qe(ve,"feeConfigurations","categoryFees"),gt=>{if(gt.exists())fe&&T(gt.data());else{const st={};gr(qe(ve,"feeConfigurations","categoryFees"),st),fe&&T(st)}});return a(!1),()=>{fe=!1,Te(),Ce(),Be(),Ue()}},[]);const Q=async()=>{if(!h.trim()){H({newCategory:"Category name is required."}),e("Category name is required.","error");return}if(n.includes(h.trim())){H({newCategory:"Category already exists."}),e("Category already exists.","error");return}const fe={};if(E.minPrice&&parseFloat(E.minPrice)<0&&(fe.minPrice="Minimum price cannot be negative."),E.maxPrice&&parseFloat(E.maxPrice)<(parseFloat(E.minPrice)||0)&&(fe.maxPrice="Maximum price must be greater than minimum price."),E.buyerProtectionRate&&(parseFloat(E.buyerProtectionRate)<0||parseFloat(E.buyerProtectionRate)>100)&&(fe.buyerProtectionRate="Rate must be between 0 and 100%."),E.handlingRate&&(parseFloat(E.handlingRate)<0||parseFloat(E.handlingRate)>100)&&(fe.handlingRate="Rate must be between 0 and 100%."),E.taxRate&&(parseFloat(E.taxRate)<0||parseFloat(E.taxRate)>100)&&(fe.taxRate="Tax rate must be between 0 and 100%."),Object.keys(fe).length>0){H(fe),e("Please fix the form errors.","error");return}a(!0);try{const Te=qe(ve,"categories",h.trim());await gr(Te,{name:h.trim(),createdAt:new Date,bannerDesktop:p||fallbackBanner,bannerMobile:x||fallbackBanner});const Ce=qe(ve,"feeConfigurations","categoryFees"),Be={...N,[h.trim()]:{minPrice:parseFloat(E.minPrice)||1e3,maxPrice:E.maxPrice?parseFloat(E.maxPrice):1/0,buyerProtectionRate:(parseFloat(E.buyerProtectionRate)||8)/100,handlingRate:(parseFloat(E.handlingRate)||20)/100,taxRate:(parseFloat(E.taxRate)||7.5)/100}};await gr(Ce,Be),m(""),b(""),y(""),I({minPrice:"",maxPrice:"",buyerProtectionRate:"",handlingRate:"",taxRate:""}),H({}),e("Category added successfully! ","success")}catch(Te){console.error("Error adding category:",Te),e("Failed to add category.","error")}finally{a(!1)}},q=async fe=>{if(!h.trim()){H({newCategory:"Category name is required."}),e("Category name is required.","error");return}if(n.includes(h.trim())&&h.trim()!==fe){H({newCategory:"Category name already exists."}),e("Category name already exists.","error");return}const Te={};if(E.minPrice&&parseFloat(E.minPrice)<0&&(Te.minPrice="Minimum price cannot be negative."),E.maxPrice&&parseFloat(E.maxPrice)<(parseFloat(E.minPrice)||0)&&(Te.maxPrice="Maximum price must be greater than minimum price."),E.buyerProtectionRate&&(parseFloat(E.buyerProtectionRate)<0||parseFloat(E.buyerProtectionRate)>100)&&(Te.buyerProtectionRate="Rate must be between 0 and 100%."),E.handlingRate&&(parseFloat(E.handlingRate)<0||parseFloat(E.handlingRate)>100)&&(Te.handlingRate="Rate must be between 0 and 100%."),E.taxRate&&(parseFloat(E.taxRate)<0||parseFloat(E.taxRate)>100)&&(Te.taxRate="Tax rate must be between 0 and 100%."),Object.keys(Te).length>0){H(Te),e("Please fix the form errors.","error");return}a(!0);try{const Ce=qe(ve,"categories",fe),Ue=(await wt(Ce)).data(),gt=qe(ve,"categories",h.trim());await gr(gt,{name:h.trim(),createdAt:new Date,bannerDesktop:p||Ue.bannerDesktop||fallbackBanner,bannerMobile:x||Ue.bannerMobile||fallbackBanner}),await La(Ce);const st={...N};st[h.trim()]={minPrice:parseFloat(E.minPrice)||st[fe].minPrice,maxPrice:E.maxPrice?parseFloat(E.maxPrice):st[fe].maxPrice,buyerProtectionRate:(parseFloat(E.buyerProtectionRate)||st[fe].buyerProtectionRate*100)/100,handlingRate:(parseFloat(E.handlingRate)||st[fe].handlingRate*100)/100,taxRate:(parseFloat(E.taxRate)||st[fe].taxRate||7.5)/100},delete st[fe];const bt=qe(ve,"feeConfigurations","categoryFees");await gr(bt,st);const pt=qe(ve,"customSubcategories",fe),zt=await wt(pt);if(zt.exists()){const kt=qe(ve,"customSubcategories",h.trim());await gr(kt,zt.data()),await La(pt)}const Mt=qe(ve,"customSubSubcategories",fe),dt=await wt(Mt);if(dt.exists()){const kt=qe(ve,"customSubSubcategories",h.trim());await gr(kt,dt.data()),await La(Mt)}const At=Lt(Xe(ve,"products"),Tt("category","==",fe.toLowerCase())),Qe=await xt(At),ut=Uf(ve);Qe.docs.forEach(kt=>{ut.update(kt.ref,{category:h.trim().toLowerCase()})}),await ut.commit(),e(`Updated ${Qe.size} products to new category.`,"success"),m(""),b(""),y(""),I({minPrice:"",maxPrice:"",buyerProtectionRate:"",handlingRate:"",taxRate:""}),k(null),H({}),e("Category updated successfully! ","success")}catch(Ce){console.error("Error editing category:",Ce),e("Failed to edit category.","error")}finally{a(!1)}},Z=async fe=>{a(!0);try{await La(qe(ve,"categories",fe));const Te={...N};delete Te[fe];const Ce=qe(ve,"feeConfigurations","categoryFees");await gr(Ce,Te),await La(qe(ve,"customSubcategories",fe)),await La(qe(ve,"customSubSubcategories",fe));const Be=Lt(Xe(ve,"products"),Tt("category","==",fe.toLowerCase())),Ue=await xt(Be),gt=Uf(ve);Ue.docs.forEach(st=>{gt.update(st.ref,{category:"uncategorized"})}),await gt.commit(),e(`Updated ${Ue.size} products to Uncategorized.`,"success"),e("Category deleted successfully! ","success")}catch(Te){console.error("Error deleting category:",Te),e("Failed to delete category.","error")}finally{a(!1)}},J=async fe=>{const Te=S[fe]?.trim();if(!Te){e("Subcategory name is required.","error");return}if(l[fe]?.includes(Te)){e("Subcategory already exists.","error");return}a(!0);try{const Ce=qe(ve,"customSubcategories",fe),Be=await wt(Ce),gt=[...Be.exists()?Be.data().subcategories||[]:[],Te];await gr(Ce,{subcategories:gt}),A(st=>({...st,[fe]:""})),e(`Subcategory "${Te}" added! `,"success")}catch(Ce){console.error("Error adding subcategory:",Ce),e("Failed to add subcategory.","error")}finally{a(!1)}},re=async(fe,Te)=>{const Ce=S[fe]?.trim();if(!Ce){e("Subcategory name is required.","error");return}if(l[fe]?.includes(Ce)&&Ce!==Te){e("Subcategory name already exists.","error");return}a(!0);try{const Be=qe(ve,"customSubcategories",fe),Ue=await wt(Be),st=(Ue.exists()?Ue.data().subcategories||[]:[]).map(ut=>ut===Te?Ce:ut);await gr(Be,{subcategories:st});const bt=qe(ve,"customSubSubcategories",fe),pt=await wt(bt),zt=pt.exists()?pt.data()||{}:{},Mt=Object.fromEntries(Object.entries(zt).map(([ut,kt])=>ut===Te?[Ce,kt]:[ut,kt]));await gr(bt,Mt);const dt=Lt(Xe(ve,"products"),Tt("category","==",fe.toLowerCase()),Tt("subcategory","==",Te)),At=await xt(dt),Qe=Uf(ve);At.docs.forEach(ut=>{Qe.update(ut.ref,{subcategory:Ce})}),await Qe.commit(),e(`Updated ${At.size} products to new subcategory.`,"success"),A(ut=>({...ut,[fe]:""})),L(null),e(`Subcategory "${Te}" updated to "${Ce}"! `,"success")}catch(Be){console.error("Error editing subcategory:",Be),e("Failed to edit subcategory.","error")}finally{a(!1)}},de=async(fe,Te)=>{a(!0);try{const Ce=qe(ve,"customSubcategories",fe),Be=await wt(Ce),gt=(Be.exists()?Be.data().subcategories||[]:[]).filter(Qe=>Qe!==Te);await gr(Ce,{subcategories:gt});const st=qe(ve,"customSubSubcategories",fe),bt=await wt(st),zt={...bt.exists()?bt.data()||{}:{}};delete zt[Te],await gr(st,zt);const Mt=Lt(Xe(ve,"products"),Tt("category","==",fe.toLowerCase()),Tt("subcategory","==",Te)),dt=await xt(Mt),At=Uf(ve);dt.docs.forEach(Qe=>{At.update(Qe.ref,{subcategory:"uncategorized"})}),await At.commit(),e(`Updated ${dt.size} products to uncategorized subcategory.`,"success"),e(`Subcategory "${Te}" deleted successfully! `,"success")}catch(Ce){console.error("Error deleting subcategory:",Ce),e("Failed to delete subcategory.","error")}finally{a(!1)}},Se=async(fe,Te)=>{const Ce=P[`${fe}_${Te}`]?.trim();if(!Ce){e("Sub-subcategory name is required.","error");return}if(d[fe]?.[Te]?.includes(Ce)){e("Sub-subcategory already exists.","error");return}a(!0);try{const Be=qe(ve,"customSubSubcategories",fe),Ue=await wt(Be),gt=Ue.exists()?Ue.data()||{}:{},st={...gt,[Te]:[...gt[Te]||[],Ce]};await gr(Be,st),O(bt=>({...bt,[`${fe}_${Te}`]:""})),e(`Sub-subcategory "${Ce}" added! `,"success")}catch(Be){console.error("Error adding sub-subcategory:",Be),e("Failed to add sub-subcategory.","error")}finally{a(!1)}},je=async(fe,Te,Ce)=>{const Be=P[`${fe}_${Te}`]?.trim();if(!Be){e("Sub-subcategory name is required.","error");return}if(d[fe]?.[Te]?.includes(Be)&&Be!==Ce){e("Sub-subcategory already exists.","error");return}a(!0);try{const Ue=qe(ve,"customSubSubcategories",fe),gt=await wt(Ue),st=gt.exists()?gt.data()||{}:{},bt={...st,[Te]:st[Te].map(dt=>dt===Ce?Be:dt)};await gr(Ue,bt);const pt=Lt(Xe(ve,"products"),Tt("category","==",fe.toLowerCase()),Tt("subcategory","==",Te),Tt("subSubcategory","==",Ce)),zt=await xt(pt),Mt=Uf(ve);zt.docs.forEach(dt=>{Mt.update(dt.ref,{subSubcategory:Be})}),await Mt.commit(),e(`Updated ${zt.size} products to new sub-subcategory.`,"success"),O(dt=>({...dt,[`${fe}_${Te}`]:""})),G(null),e(`Sub-subcategory "${Ce}" updated to "${Be}"! `,"success")}catch(Ue){console.error("Error editing sub-subcategory:",Ue),e("Failed to edit sub-subcategory.","error")}finally{a(!1)}},Ne=async(fe,Te,Ce)=>{a(!0);try{const Be=qe(ve,"customSubSubcategories",fe),Ue=await wt(Be),gt=Ue.exists()?Ue.data()||{}:{},st={...gt,[Te]:gt[Te].filter(Mt=>Mt!==Ce)};await gr(Be,st);const bt=Lt(Xe(ve,"products"),Tt("category","==",fe.toLowerCase()),Tt("subcategory","==",Te),Tt("subSubcategory","==",Ce)),pt=await xt(bt),zt=Uf(ve);pt.docs.forEach(Mt=>{zt.update(Mt.ref,{subSubcategory:"uncategorized"})}),await zt.commit(),e(`Updated ${pt.size} products to uncategorized sub-subcategory.`,"success"),e(`Sub-subcategory "${Ce}" deleted successfully! `,"success")}catch(Be){console.error("Error deleting sub-subcategory:",Be),e("Failed to delete sub-subcategory.","error")}finally{a(!1)}},xe=(fe,Te)=>{I(Ce=>({...Ce,[fe]:Te})),H(Ce=>({...Ce,[fe]:""}))},ze=fe=>{ne(Te=>({...Te,[fe]:!Te[fe]}))},se=()=>{m(""),b(""),y(""),I({minPrice:"",maxPrice:"",buyerProtectionRate:"",handlingRate:"",taxRate:""}),k(null),H({})};return R.useEffect(()=>{w&&(async()=>{const Te=qe(ve,"categories",w),Ce=await wt(Te);if(Ce.exists()){const Be=Ce.data();b(Be.bannerDesktop),y(Be.bannerMobile)}})()},[w]),s||!N?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:i.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-xl shadow-lg",children:[i.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-category text-blue-500"}),"Manage Categories"]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"space-y-6 bg-gray-50 dark:bg-gray-700 p-6 rounded-lg shadow-inner",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-plus-circle text-green-500"}),w?"Edit Category":"Add New Category"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Category Name",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Unique name for the category (e.g., Electronics)"})]}),i.jsx("input",{type:"text",value:h,onChange:fe=>m(fe.target.value),placeholder:"e.g., Electronics",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${X.newCategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),X.newCategory&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),X.newCategory]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Desktop Banner URL",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"URL for desktop category banner"})]}),i.jsx("input",{type:"url",value:p,onChange:fe=>b(fe.target.value),placeholder:"https://example.com/banner-desktop.jpg",className:"mt-1 w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Mobile Banner URL",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"URL for mobile category banner"})]}),i.jsx("input",{type:"url",value:x,onChange:fe=>y(fe.target.value),placeholder:"https://example.com/banner-mobile.jpg",className:"mt-1 w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Minimum Price ()",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Minimum product price for this category"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:""}),i.jsx("input",{type:"number",value:E.minPrice,onChange:fe=>xe("minPrice",fe.target.value),min:"0",step:"0.01",placeholder:"1000",className:`mt-1 w-full py-2 pl-8 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${X.minPrice?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s})]}),X.minPrice&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),X.minPrice]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Maximum Price ()",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Maximum product price (leave blank for no limit)"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:""}),i.jsx("input",{type:"number",value:E.maxPrice,onChange:fe=>xe("maxPrice",fe.target.value),min:"0",step:"0.01",placeholder:"No maximum",className:`mt-1 w-full py-2 pl-8 pr-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${X.maxPrice?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s})]}),X.maxPrice&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),X.maxPrice]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Buyer Protection Rate (%)",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Fee percentage for buyer protection"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",value:E.buyerProtectionRate,onChange:fe=>xe("buyerProtectionRate",fe.target.value),min:"0",step:"0.01",placeholder:"8",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${X.buyerProtectionRate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),i.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),X.buyerProtectionRate&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),X.buyerProtectionRate]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Handling Rate (%)",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Fee percentage for handling"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",value:E.handlingRate,onChange:fe=>xe("handlingRate",fe.target.value),min:"0",step:"0.01",placeholder:"20",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${X.handlingRate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),i.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),X.handlingRate&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),X.handlingRate]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Tax Rate (%)",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Tax percentage for this category"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",value:E.taxRate,onChange:fe=>xe("taxRate",fe.target.value),min:"0",step:"0.01",placeholder:"7.5",className:`mt-1 w-full py-2 pl-3 pr-8 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${X.taxRate?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200`,disabled:s}),i.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500",children:"%"})]}),X.taxRate&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),X.taxRate]})]})]}),i.jsx("div",{className:"flex gap-4 mt-6",children:w?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>q(w),disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-md",children:[i.jsx("i",{className:"bx bx-save"}),s?"Updating...":"Update Category"]}),i.jsxs("button",{onClick:se,disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-red-600 hover:bg-red-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-md",children:[i.jsx("i",{className:"bx bx-x"}),"Cancel"]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:Q,disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-md",children:[i.jsx("i",{className:"bx bx-plus"}),s?"Adding...":"Add Category"]}),i.jsxs("button",{onClick:se,disabled:s,className:"py-2 px-6 rounded-lg text-white text-sm font-medium bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 transition-all duration-200 flex items-center gap-2 shadow-md",children:[i.jsx("i",{className:"bx bx-refresh"}),"Clear Form"]})]})})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-list-ul text-blue-500"}),"Existing Categories"]}),n.length===0?i.jsx("p",{className:"text-gray-600 dark:text-gray-300 italic",children:"No categories found. Add one above!"}):i.jsx("ul",{className:"space-y-4",children:n.map(fe=>i.jsxs("li",{className:"p-6 bg-white dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>ze(fe),children:[i.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[i.jsx("i",{className:`bx bx-chevron-${W[fe]?"up":"down"} text-blue-500`}),fe]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:Te=>{Te.stopPropagation(),k(fe),m(fe),I({minPrice:N[fe].minPrice===1/0?"":N[fe].minPrice,maxPrice:N[fe].maxPrice===1/0?"":N[fe].maxPrice,buyerProtectionRate:N[fe].buyerProtectionRate*100,handlingRate:N[fe].handlingRate*100,taxRate:N[fe].taxRate?N[fe].taxRate*100:7.5})},disabled:s,className:"text-blue-600 hover:text-blue-800 dark:hover:text-blue-400 text-sm flex items-center gap-1",title:"Edit category",children:[i.jsx("i",{className:"bx bx-edit"}),"Edit"]}),i.jsxs("button",{onClick:Te=>{Te.stopPropagation(),z({...U,category:fe})},disabled:s,className:"text-red-600 hover:text-red-800 dark:hover:text-red-400 text-sm flex items-center gap-1",title:"Delete category",children:[i.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]}),W[fe]&&i.jsxs("div",{className:"mt-4 ml-4 space-y-4 animate-slide-down",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Add Subcategory",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Subcategories group products within a category (e.g., Phones under Electronics)"})]}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("input",{type:"text",value:S[fe]||"",onChange:Te=>A(Ce=>({...Ce,[fe]:Te.target.value})),placeholder:"e.g., Phones",className:"w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s}),i.jsxs("button",{type:"button",onClick:()=>J(fe),className:"py-2 px-4 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",disabled:s,children:[s?i.jsx("i",{className:"bx bx-loader bx-spin"}):i.jsx("i",{className:"bx bx-plus"}),"Add"]})]})]}),l[fe]?.length>0&&i.jsx("ul",{className:"space-y-3 ml-4",children:l[fe].map(Te=>i.jsxs("li",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-subdirectory-right text-gray-500"}),Te]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>{L({category:fe,subcat:Te}),A(Ce=>({...Ce,[fe]:Te}))},disabled:s,className:"text-blue-600 hover:text-blue-800 dark:hover:text-blue-400 text-sm flex items-center gap-1",title:"Edit subcategory",children:[i.jsx("i",{className:"bx bx-edit"}),"Edit"]}),i.jsxs("button",{onClick:()=>z({...U,subcategory:{category:fe,subcat:Te}}),disabled:s,className:"text-red-600 hover:text-red-800 dark:hover:text-red-400 text-sm flex items-center gap-1",title:"Delete subcategory",children:[i.jsx("i",{className:"bx bx-trash"}),"Delete"]})]})]}),M?.category===fe&&M.subcat===Te&&i.jsxs("div",{className:"mt-2 ml-4",children:[i.jsx("input",{type:"text",value:S[fe]||"",onChange:Ce=>A(Be=>({...Be,[fe]:Ce.target.value})),className:"w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs("button",{onClick:()=>re(fe,Te),disabled:s,className:"py-2 px-4 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",children:[i.jsx("i",{className:"bx bx-save"})," Save"]}),i.jsxs("button",{onClick:()=>L(null),disabled:s,className:"py-2 px-4 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",children:[i.jsx("i",{className:"bx bx-x"})," Cancel"]})]})]}),i.jsxs("div",{className:"mt-2 ml-6",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Add Sub-subcategory",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help",title:"Further refine products (e.g., Smartphones under Phones)"})]}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("input",{type:"text",value:P[`${fe}_${Te}`]||"",onChange:Ce=>O(Be=>({...Be,[`${fe}_${Te}`]:Ce.target.value})),placeholder:"e.g., Smartphones",className:"w-full max-w-md py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s}),i.jsx("button",{type:"button",onClick:()=>Se(fe,Te),className:"py-2 px-3 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",disabled:s,children:s?i.jsx("i",{className:"bx bx-loader bx-spin"}):i.jsx("i",{className:"bx bx-plus"})})]}),d[fe]?.[Te]?.length>0&&i.jsx("ul",{className:"mt-2 space-y-1 ml-6",children:d[fe][Te].map(Ce=>i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[i.jsx("i",{className:"bx bx-subdirectory-right text-gray-400"}),Ce]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{G({category:fe,subcategory:Te,subSubcat:Ce}),O(Be=>({...Be,[`${fe}_${Te}`]:Ce}))},disabled:s,className:"text-blue-600 hover:text-blue-800 dark:hover:text-blue-400 text-sm flex items-center gap-1",title:"Edit sub-subcategory",children:i.jsx("i",{className:"bx bx-edit text-[15px]"})}),i.jsx("button",{onClick:()=>z({...U,subSubcategory:{category:fe,subcategory:Te,subSubcat:Ce}}),disabled:s,className:"text-red-600 hover:text-red-800 dark:hover:text-red-400 text-sm flex items-center gap-1",title:"Delete sub-subcategory",children:i.jsx("i",{className:"bx bx-trash text-[15px]"})})]})]},Ce))}),B?.category===fe&&B.subcategory===Te&&B.subSubcat&&i.jsxs("div",{className:"mt-2 ml-6",children:[i.jsx("input",{type:"text",value:P[`${fe}_${Te}`]||"",onChange:Ce=>O(Be=>({...Be,[`${fe}_${Te}`]:Ce.target.value})),className:"w-full max-w-md py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",disabled:s}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsx("button",{onClick:()=>je(fe,Te,B.subSubcat),disabled:s,className:"py-2 px-4 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",children:i.jsx("i",{className:"bx bx-save"})}),i.jsx("button",{onClick:()=>G(null),disabled:s,className:"py-2 px-4 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 disabled:bg-gray-400 flex items-center gap-2 transition-all duration-200 shadow-md",children:i.jsx("i",{className:"bx bx-x"})})]})]})]})]},Te))})]})]},fe))})]})]}),U.category&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Confirm Deletion"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:['Are you sure you want to delete the category "',U.category,`"? Products will be set to 'uncategorized'. This action cannot be undone.`]})," ",i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{onClick:()=>z({...U,category:null}),className:"py-2 px-4 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 transition",children:"Cancel"}),i.jsxs("button",{onClick:()=>{Z(U.category),z({...U,category:null})},className:"py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition",disabled:s,children:[i.jsx("i",{className:"bx bx-trash"})," Delete"]})]})]})}),U.subcategory&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Confirm Deletion"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:['Are you sure you want to delete the subcategory "',U.subcategory.subcat,'" under "',U.subcategory.category,`"? Products will be set to 'uncategorized'. This action cannot be undone.`]})," ",i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{onClick:()=>z({...U,subcategory:null}),className:"py-2 px-4 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 transition",children:"Cancel"}),i.jsxs("button",{onClick:()=>{de(U.subcategory.category,U.subcategory.subcat),z({...U,subcategory:null})},className:"py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition",disabled:s,children:[i.jsx("i",{className:"bx bx-trash"})," Delete"]})]})]})}),U.subSubcategory&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Confirm Deletion"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:['Are you sure you want to delete the sub-subcategory "',U.subSubcategory.subSubcat,'" under "',U.subSubcategory.subcategory,'" in "',U.subSubcategory.category,`"? Products will be set to 'uncategorized'. This action cannot be undone.`]})," ",i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{onClick:()=>z({...U,subSubcategory:null}),className:"py-2 px-4 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 transition",children:"Cancel"}),i.jsxs("button",{onClick:()=>{Ne(U.subSubcategory.category,U.subSubcategory.subcategory,U.subSubcategory.subSubcat),z({...U,subSubcategory:null})},className:"py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition",disabled:s,children:[i.jsx("i",{className:"bx bx-trash"})," Delete"]})]})]})}),i.jsx(xve,{alerts:r,removeAlert:t})]})})]})}function vve({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-lg shadow-lg ${t.type==="error"?"bg-red-600":"bg-green-600"} text-white flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function wve(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="success")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>e(n=>n.filter(o=>o.id!==a))}}function kve(){const{alerts:r,addAlert:e,removeAlert:t}=wve(),s=zr(),[a,n]=R.useState("sellers"),[o,l]=R.useState([]),[c,d]=R.useState([]),[u,h]=R.useState([]),[m,p]=R.useState([]),[b,x]=R.useState(!0),[y,w]=R.useState(!1),[k,N]=R.useState(null),[T,E]=R.useState({color:"",size:"",stock:""});R.useEffect(()=>{if(!Ye.currentUser){e("Please log in.","error"),s("/login");return}const A=Lt(Xe(ve,"sellers")),P=yr(A,async H=>{const W=[];for(const ne of H.docs){const U={id:ne.id,...ne.data()};if(U.bankCode){const q=qe(ve,"banks",U.bankCode),Z=await wt(q);U.bankName=Z.exists()&&Z.data().name||"N/A"}else U.bankName="N/A";const z=Lt(Xe(ve,"products"),Tt("sellerId","==",U.id)),Q=await wt(qe(ve,"products",U.id));U.productCount=Q.exists()?(await yr(z,q=>q.size)).size:0,W.push(U)}l(W)},H=>{e("Failed to fetch sellers.","error"),console.error("Sellers fetch error:",H)}),O=Lt(Xe(ve,"products")),M=yr(O,async H=>{const W=[];for(const ne of H.docs){const U={id:ne.id,...ne.data()},z=Lt(Xe(ve,"orders"),Tt("productId","==",U.id)),Q=await wt(qe(ve,"orders",U.id));U.buyerCount=Q.exists()?(await yr(z,q=>q.size)).size:0,W.push(U)}d(W)},H=>{e("Failed to fetch products.","error"),console.error("Products fetch error:",H)}),L=Lt(Xe(ve,"orders")),B=yr(L,H=>{h(H.docs.map(W=>({id:W.id,...W.data()})))},H=>{e("Failed to fetch orders.","error"),console.error("Orders fetch error:",H)}),G=Lt(Xe(ve,"favorites")),X=yr(G,H=>{const W={};H.docs.forEach(U=>{const z=U.data();W[z.productId]=(W[z.productId]||0)+1});const ne=Object.entries(W).map(([U,z])=>({productId:U,count:z}));ne.sort((U,z)=>z.count-U.count),p(ne)},H=>{e("Failed to fetch favorites.","error"),console.error("Favorites fetch error:",H)});return x(!1),()=>{P(),M(),B(),X()}},[s]);const I=async A=>{if(A.preventDefault(),!!k){x(!0);try{const P=qe(ve,"products",k.id),O=await wt(P),L=[...O.exists()?O.data().variants||[]:[],{...T,stock:parseInt(T.stock)||0}];await Oi(P,{variants:L}),e("Variant added successfully!","success"),E({color:"",size:"",stock:""}),w(!1)}catch(P){e("Failed to add variant.","error"),console.error("Add variant error:",P)}finally{x(!1)}}},S=A=>{N(A),w(!0)};return b?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-5 flex justify-center items-start",children:i.jsxs("div",{className:"w-full lg:max-w-5xl md:max-w-4xl sm:max-w-3xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-xl shadow-sm",children:[i.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 border-b-2 border-blue-500 pb-3 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-user text-blue-500"}),"Admin Manager"]}),i.jsx("div",{className:"flex border-b border-gray-300 dark:border-gray-600 mt-6",children:["sellers","products","orders","favorites"].map(A=>i.jsx("button",{onClick:()=>n(A),className:`py-2 px-4 text-sm md:text-base font-medium ${a===A?"border-b-2 border-blue-500 text-blue-500":"text-gray-600 dark:text-gray-300 hover:text-blue-500"}`,children:A.charAt(0).toUpperCase()+A.slice(1)},A))}),a==="sellers"&&i.jsx("div",{className:"mt-6 space-y-4",children:o.length===0?i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No sellers found."}):o.map(A=>i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",A.id]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Name:"})," ",A.fullName||"Unknown"]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Bank:"})," ",A.bankName]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Account Number:"})," ",A.accountNumber||"N/A"]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Products:"})," ",A.productCount||0]})]},A.id))}),a==="products"&&i.jsx("div",{className:"mt-6 space-y-4",children:c.length===0?i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No products found."}):c.map(A=>i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Product ID:"})," ",A.id]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Name:"})," ",A.name||"Unnamed Product"]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",A.sellerId]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Price:"})," ",A.price?.toFixed(2)||"0.00"]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Buyers:"})," ",A.buyerCount||0]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Variants:"})," ",A.variants?.length?A.variants.map(P=>`${P.color} (${P.size}, ${P.stock})`).join(", "):"None"]}),i.jsxs("button",{onClick:()=>S(A),className:"mt-2 py-1 px-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm",children:[i.jsx("i",{className:"bx bx-plus"})," Add Variant"]})]},A.id))}),a==="orders"&&i.jsx("div",{className:"mt-6 space-y-4",children:u.length===0?i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No orders found."}):u.map(A=>i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Order ID:"})," ",A.id]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Product ID:"})," ",A.productId]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Buyer ID:"})," ",A.buyerId]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Amount:"})," ",A.amount?.toFixed(2)||"0.00"]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Status:"})," ",A.status||"Unknown"]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(A.createdAt?.toDate()).toLocaleString()]})]},A.id))}),a==="favorites"&&i.jsx("div",{className:"mt-6 space-y-4",children:m.length===0?i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No favorited products found."}):m.map(A=>{const P=c.find(O=>O.id===A.productId)||{};return i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm",children:[i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Product ID:"})," ",A.productId]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Name:"})," ",P.name||"Unnamed Product"]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",P.sellerId||"N/A"]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Favorite Count:"})," ",A.count]})]},A.productId)})}),y&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:["Add Variant for ",k?.name]}),i.jsxs("form",{onSubmit:I,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Color"}),i.jsx("input",{type:"text",value:T.color,onChange:A=>E({...T,color:A.target.value}),className:"mt-1 p-2 w-full border rounded-lg text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Size"}),i.jsx("input",{type:"text",value:T.size,onChange:A=>E({...T,size:A.target.value}),className:"mt-1 p-2 w-full border rounded-lg text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Stock"}),i.jsx("input",{type:"number",value:T.stock,onChange:A=>E({...T,stock:A.target.value}),className:"mt-1 p-2 w-full border rounded-lg text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 text-sm",children:"Cancel"}),i.jsx("button",{type:"submit",className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm ${b?"opacity-50 cursor-not-allowed":""}`,disabled:b,children:"Add Variant"})]})]})]})}),i.jsx(vve,{alerts:r,removeAlert:t})]})})]})}function _ve({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function Nve(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="info")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>e(n=>n.filter(o=>o.id!==a))}}function Sve(){const{alerts:r,addAlert:e,removeAlert:t}=Nve(),s=zr(),[a,n]=R.useState([]),[o,l]=R.useState(!1),[c,d]=R.useState(null),[u,h]=R.useState(!1);R.useEffect(()=>{if(!Ye.currentUser){e("Please log in as admin.","error"),s("/login");return}l(!0),(async()=>{try{const x=(await xt(Xe(ve,"sellers"))).docs.map(y=>({id:y.id,...y.data(),email:y.data().email||"N/A",phoneNumber:y.data().phoneNumber||"N/A",walletAddress:y.data().walletAddress||"N/A",bankName:y.data().bankName||"N/A",fullName:y.data().fullName||"N/A",accountNumber:y.data().accountNumber||"N/A"}));n(x)}catch(b){e("Failed to fetch sellers.","error"),console.error("Fetch error:",b)}finally{l(!1)}})()},[s]);const m=async()=>{if(c){l(!0);try{await La(qe(ve,"sellers",c.id)),n(a.filter(p=>p.id!==c.id)),e("Seller wallet deleted successfully.","success"),h(!1)}catch(p){e("Failed to delete seller wallet.","error"),console.error("Delete error:",p)}finally{l(!1)}}};return o?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 md:p-6",children:i.jsxs("div",{className:"w-full max-w-7xl mx-auto bg-white dark:bg-gray-800 p-4 md:p-6 rounded-xl shadow-lg",children:[i.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 border-b-2 border-blue-500 pb-2 md:pb-3 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-wallet-alt text-blue-500"}),"Admin Seller Wallet"]}),a.length===0?i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center py-4 md:py-6",children:"No sellers found."}):i.jsx("div",{className:"space-y-4 mt-4 md:mt-6",children:a.map(p=>i.jsx("div",{className:"p-3 md:p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 transition",children:i.jsxs("div",{className:"grid grid-cols-1 gap-2  lg:flex md:items-center md:justify-between md:gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",p.id]}),i.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium text-sm",children:"Full Name:"})," ",p.fullName]}),i.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium text-sm",children:"Email:"})," ",p.email]}),i.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium text-sm",children:"Bank Name:"})," ",p.bankName]}),i.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium text-sm",children:"Account Number:"})," ",p.accountNumber]})]}),i.jsxs("div",{className:"space-y-1 md:space-y-2",children:[i.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium text-sm",children:"Phone:"})," ",p.phoneNumber]}),i.jsxs("p",{className:"text-sm font-light md:text-base text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium text-sm",children:"Wallet Address:"})," ",p.walletAddress]})]}),i.jsx("div",{className:"mt-2 md:mt-0",children:i.jsxs("button",{onClick:()=>{d(p),h(!0)},className:"w-full md:w-auto py-2 px-3 md:px-4 bg-red-600 text-white rounded-lg shadow-md hover:bg-red-700 flex items-center justify-center gap-1 md:gap-2 text-sm md:text-base transition",disabled:o,children:[i.jsx("i",{className:"bx bx-trash"})," Delete Wallet"]})})]})},p.id))}),u&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 md:p-6 rounded-lg shadow-lg w-11/12 md:max-w-md",children:[i.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800 dark:text-gray-100 mb-2 md:mb-4",children:"Confirm Deletion"}),i.jsxs("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-300 mb-2 md:mb-4",children:["Are you sure you want to delete the wallet for ",c.email,"? This action cannot be undone."]}),i.jsxs("div",{className:"flex justify-end gap-2 md:gap-4",children:[i.jsx("button",{onClick:()=>h(!1),className:"py-1 md:py-2 px-2 md:px-4 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-400 text-sm md:text-base transition",children:"Cancel"}),i.jsxs("button",{onClick:m,className:"py-1 md:py-2 px-2 md:px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-1 md:gap-2 text-sm md:text-base transition",disabled:o,children:[i.jsx("i",{className:"bx bx-trash"})," Delete"]})]})]})}),i.jsx(_ve,{alerts:r,removeAlert:t})]})})]})}function jve(){const[r,e]=R.useState([]),[t,s]=R.useState(!1),[a,n]=R.useState("all"),[o,l]=R.useState(""),c=zr(),d=async()=>{s(!0);try{const b=await fetch("https://foremade-backend.onrender.com/api/admin/all-pro-sellers");console.log("Response status:",b.status,"Headers:",Object.fromEntries(b.headers.entries()));const x=await b.json();console.log("Response data:",x),b.ok&&x.status==="success"?e(x.proSellers||[]):Ke.error(x.message||"Failed to fetch pro seller requests")}catch(p){console.error("Fetch error:",p),Ke.error(p.message||"Failed to fetch pro seller requests")}finally{s(!1)}};R.useEffect(()=>{d()},[]);const u=async(p,b)=>{try{const y=await fetch("https://foremade-backend.onrender.com/api/admin/approve-pro-seller",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proSellerId:p,approve:b})}),w=await y.json();y.ok&&w.status==="success"?(Ke.success(w.message||(b?"Pro seller approved":"Pro seller rejected")),d()):Ke.error(w.message||"Action failed")}catch(x){console.error("Approve/Reject error:",x),Ke.error(x.message||"Action failed")}},h=p=>{if(!p)return"-";if(typeof p=="object"&&p.seconds){const x=new Date(p.seconds*1e3);return isNaN(x.getTime())?"-":x.toLocaleDateString()}const b=new Date(p);return isNaN(b.getTime())?"-":b.toLocaleDateString()},m=r.filter(p=>(p.proSellerId?.toLowerCase()||"").includes(o.toLowerCase())||(p.userId?.toLowerCase()||"").includes(o.toLowerCase())||(p.status?.toLowerCase()||"").includes(o.toLowerCase())).filter(p=>a==="all"||p.status===a);return i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 sm:p-6",children:i.jsxs("div",{className:"w-full max-w-8xl mx-auto p-4",children:[i.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-store text-blue-500 text-lg sm:text-xl"}),"Pro Seller Requests"]}),i.jsxs("div",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1 group",children:[i.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 mb-1",children:["Search Pro Sellers",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Search by ID, User ID, or Status"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm sm:text-base"}),i.jsx("input",{type:"text",value:o,onChange:p=>l(p.target.value),placeholder:"Search by ID, User ID, or Status...",className:"w-full py-2 pl-10 pr-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200"})]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1 mb-1",children:["Filter by Status",i.jsx("i",{className:"bx bx-info-circle text-gray-400 group-hover:text-blue-500 cursor-help text-xs sm:text-sm",title:"Filter pro seller requests"})]}),i.jsxs("select",{value:a,onChange:p=>n(p.target.value),className:"w-full py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-all duration-200",children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"approved",children:"Approved"}),i.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-700 dark:text-gray-200 mb-2 sm:mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-list-ul text-blue-500 text-lg sm:text-xl"}),"All Pro Sellers"]}),t?i.jsx("div",{className:"text-gray-500 text-center py-8",children:"Loading..."}):m.length===0?i.jsx("div",{className:"text-gray-500 text-center py-8",children:"No pro sellers found."}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden lg:block",children:i.jsxs(Ct.table,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:[i.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"ProSeller ID"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"User ID"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"Created"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold whitespace-nowrap",children:"Actions"})]})}),i.jsx("tbody",{children:i.jsx(go,{children:m.map((p,b)=>{const x=p.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":p.status==="approved"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300";return i.jsxs(Ct.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:b*.1},className:"border-b hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 break-all max-w-xs cursor-pointer text-blue-600 hover:underline",onClick:()=>c(`/admin/pro-seller-details/${p.proSellerId}`),children:p.businessName}),i.jsx("td",{className:"px-4 py-3 break-all max-w-xs",children:p.userId}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${x}`,children:p.status})}),i.jsx("td",{className:"px-4 py-3",children:h(p.createdAt)}),i.jsx("td",{className:"px-4 py-3 flex gap-2",children:p.status==="pending"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>u(p.proSellerId,!0),className:"px-3 py-1 bg-green-600 text-white rounded-lg text-xs hover:bg-green-700 transition flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-check"})," Approve"]}),i.jsxs("button",{onClick:()=>u(p.proSellerId,!1),className:"px-3 py-1 bg-red-600 text-white rounded-lg text-xs hover:bg-red-700 transition flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-x"})," Reject"]})]})})]},p.proSellerId||`req-${b}`)})})})]})}),i.jsx("div",{className:"lg:hidden",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.jsx(go,{children:m.map((p,b)=>{const x=p.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":p.status==="approved"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300";return i.jsxs(Ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:b*.1},className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium dark:text-gray-200 truncate cursor-pointer text-blue-600 hover:underline",onClick:()=>c(`/admin/pro-seller-details/${p.proSellerId}`),children:["Business name: ",p.businessName]}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:["User ID: ",p.userId]})]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${x}`,children:p.status}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Created: ",h(p.createdAt)]})]}),p.status==="pending"&&i.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[i.jsxs("button",{onClick:()=>u(p.proSellerId,!0),className:"px-3 py-1 bg-green-600 text-white rounded-lg text-xs hover:bg-green-700 transition flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-check"})," Approve"]}),i.jsxs("button",{onClick:()=>u(p.proSellerId,!1),className:"px-3 py-1 bg-red-600 text-white rounded-lg text-xs hover:bg-red-700 transition flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-x"})," Reject"]})]})]},p.proSellerId||`req-${b}`)})})})})]})]})]})})]})}const Eve=()=>{const[r,e]=R.useState([]),[t,s]=R.useState([]),[a,n]=R.useState(!0),[o,l]=R.useState(""),[c,d]=R.useState(""),[u,h]=R.useState("7"),m=async()=>{try{n(!0),Tl(Ye,async N=>{if(N){const I=(await xt(Xe(ve,"productBumps"))).docs.map(M=>({id:M.id,productId:M.data().productId,sellerId:M.data().sellerId||"Unknown",startDate:M.data().startDate?.toDate()||null,expiry:M.data().expiry?.toDate()||null})).map(async M=>{const L=await wt(qe(ve,"products",M.productId));if(L.exists()){const B=L.data(),G=Array.isArray(B.imageUrls)?B.imageUrls.filter(X=>typeof X=="string"&&X.startsWith("https://res.cloudinary.com/")):B.imageUrl&&typeof B.imageUrl=="string"&&B.imageUrl.startsWith("https://res.cloudinary.com/")?[B.imageUrl]:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"];return{...M,name:B.name||"Unnamed Product",price:B.price||0,imageUrl:G[0],bumpExpiry:B.bumpExpiry?.toDate()||null,bumpDuration:B.bumpDuration||"Unknown",sellerName:B.sellerName||B.seller||M.sellerId}}else return{...M,name:"Unnamed Product",price:0,imageUrl:"https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg",bumpExpiry:null,bumpDuration:"Unknown",sellerName:M.sellerId}}),S=await Promise.all(I);console.log("Fetched Products:",S),e(S),console.log("Fetching approved products...");const A=await xt(Lt(Xe(ve,"products"),Tt("status","==","approved"))),O=(await Promise.all(A.docs.map(async M=>{try{const L=M.data(),B=Array.isArray(L.imageUrls)?L.imageUrls.filter(G=>typeof G=="string"&&G.startsWith("https://res.cloudinary.com/")):L.imageUrl&&typeof L.imageUrl=="string"&&L.imageUrl.startsWith("https://res.cloudinary.com/")?[L.imageUrl]:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"];return{id:M.id,...L,imageUrl:B[0]||"https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"}}catch(L){return console.warn("Error processing product:",M.id,L),null}}))).filter(M=>M!==null);console.log("Fetched available products:",O),s(O)}else l("Please log in as an admin to view bumped products.");n(!1)})}catch(N){l("Failed to fetch bumped products: "+N.message),n(!1)}},p=async N=>{try{const T=Ye.currentUser;if(!T)throw new Error("User not authenticated");console.log("Adding bump for product:",N);const E=parseInt(u),I=new Date,S=new Date(I);S.setDate(I.getDate()+E);const A=await wt(qe(ve,"products",N));if(!A.exists())throw new Error("Product not found");const P=A.data(),O=P.seller||P.sellerId||T.uid;await fi(Xe(ve,"productBumps"),{productId:N,sellerId:O,bumpDuration:`${E} days`,startDate:I,expiry:S,timestamp:new Date}),Ke.success("Product bumped successfully!",{position:"top-right",autoClose:3e3}),m()}catch(T){console.error("Error adding bump:",T),Ke.error("Failed to bump product: "+T.message,{position:"top-right",autoClose:3e3})}},b=async N=>{if(window.confirm("Are you sure you want to delete this product bump?"))try{await La(qe(ve,"productBumps",N)),e(r.filter(T=>T.id!==N))}catch(T){l("Failed to delete product bump: "+T.message)}},x=()=>{m()};R.useEffect(()=>{m()},[]);const y=N=>{if(!N)return"N/A";try{return new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},w=N=>{const T=N.bumpExpiry||N.expiry;return T&&new Date(T)>new Date},k=t.filter(N=>N.name?.toLowerCase().includes(c.toLowerCase()));return a?i.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[i.jsx(Ur,{}),i.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 animate-pulse",children:Array.from({length:6}).map((N,T)=>i.jsx("div",{className:"bg-gray-200 p-4 rounded-lg h-64"},T))})})})]}):o?i.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[i.jsx(Ur,{}),i.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-6",children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 rounded-lg dark:bg-red-900 dark:border-red-700",children:[i.jsx("p",{className:"text-red-700 dark:text-red-300",children:o}),i.jsx(Fe,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium underline mt-2 block",children:"Return to Login"})]})})})]}):i.jsxs("div",{className:"flex min-h-screen bg-white dark:bg-gray-900",children:[i.jsx(Ur,{}),i.jsx("main",{className:"flex-1 ml-0 md:ml-64 p-4 sm:p-6",children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsx(Fe,{to:"/admin/dashboard",className:"inline-flex px-5 py-2 bg-gray-200 text-gray-900 rounded hover:bg-gray-300 font-semibold text-sm sm:text-base w-full sm:w-auto text-center",children:"Return to Dashboard"}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full sm:w-auto",children:[i.jsx("input",{type:"text",placeholder:"Search products...",value:c,onChange:N=>d(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64 text-sm sm:text-base"}),i.jsxs("button",{onClick:x,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors w-full sm:w-auto",children:[i.jsx(iC,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Refresh"]})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white",children:"Bumped Products"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 text-sm sm:text-base",children:"View all products currently bumped by sellers"})]}),r.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:r.map(N=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-md hover:shadow-lg transition duration-300 relative",children:[i.jsxs("div",{className:"relative aspect-[4/3] mb-4 overflow-hidden rounded-lg",children:[i.jsx("img",{src:N.imageUrl,alt:N.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:T=>{T.target.style.display="none",T.target.parentElement.innerHTML='<div class="absolute w-full h-full bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-500">Image N/A</span></div>'}}),i.jsx("button",{onClick:()=>b(N.id),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",children:i.jsx(Bz,{className:"w-[34px] h-[34px] bg-gray-300 rounded-lg p-2"})}),i.jsx("span",{className:"absolute top-2 left-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:w(N)?"#00ffaaaf":"#ff6e6eff",color:"white"},children:w(N)?"Bump Active":"Bump Expired"})]}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 truncate",children:N.name}),i.jsxs("p",{className:"text-gray-700 text-sm mb-1",children:["Price: ",N.price.toLocaleString("en-NG")]}),i.jsxs("p",{className:"text-gray-600 text-xs mb-1",children:["Seller: ",N.sellerName]}),i.jsxs("p",{className:"text-gray-600 text-xs",children:["Expires: ",y(N.expiry||N.bumpExpiry)]}),i.jsxs("p",{className:"text-gray-600 text-xs",children:["Duration: ",N.bumpDuration]})]},N.id))}):i.jsx("div",{className:"col-span-full flex flex-col items-center justify-center mt-10 mb-10",children:i.jsx("p",{className:"text-gray-900 dark:text-gray-300 text-center text-lg mt-4",children:"No bumped products found."})}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Add Products to Bump"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Bump Duration"}),i.jsxs("select",{value:u,onChange:N=>h(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64 text-sm sm:text-base",children:[i.jsx("option",{value:"3",children:"3 Days"}),i.jsx("option",{value:"7",children:"7 Days"}),i.jsx("option",{value:"14",children:"14 Days"}),i.jsx("option",{value:"30",children:"30 Days"})]})]}),k.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(N=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-md hover:shadow-lg transition duration-300 relative",children:[i.jsxs("div",{className:"relative aspect-[4/3] mb-4 overflow-hidden rounded-lg",children:[i.jsx("img",{src:N.imageUrl,alt:N.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:T=>{T.target.style.display="none",T.target.parentElement.innerHTML='<div class="absolute w-full h-full bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-500 text-sm">Image N/A</span></div>'}}),r.some(T=>T.productId===N.id&&w(T))?i.jsx("span",{className:"absolute top-2 right-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Bumped"}):i.jsx("button",{onClick:()=>p(N.id),className:"absolute top-2 right-2 text-green-500 hover:text-green-700",children:i.jsx(Lm,{className:"w-10 h-10 bg-gray-300 rounded-lg p-"})})]}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 truncate",children:N.name||"Unnamed Product"}),i.jsxs("p",{className:"text-gray-700 text-sm mb-1",children:["Price: ",N.price!=null?N.price.toLocaleString("en-NG"):"N/A"]}),i.jsxs("p",{className:"text-gray-600 text-xs mb-1",children:["Seller: ",N.sellerName||N.seller||"Unknown"]})]},N.id))}):i.jsx("div",{className:"col-span-full flex flex-col items-center justify-center mt-10 mb-10",children:i.jsx("p",{className:"text-gray-900 dark:text-gray-300 text-center text-lg mt-4",children:"No approved products available."})})]})})]})};function Ave({alerts:r,removeAlert:e}){return i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:i.jsx(go,{children:r.map(t=>i.jsxs(Ct.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:.3},className:`p-4 rounded-lg shadow-lg flex items-center gap-2 ${t.type==="error"?"bg-red-600":"bg-green-600"} text-white`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})})}function Tve(){const[r,e]=R.useState([]),t=R.useCallback((a,n="success")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}]),setTimeout(()=>e(l=>l.filter(c=>c.id!==o)),5e3)},[]),s=R.useCallback(a=>{e(n=>n.filter(o=>o.id!==a))},[]);return{alerts:r,addAlert:t,removeAlert:s}}function Cve(){const r=zr(),{alerts:e,addAlert:t,removeAlert:s}=Tve(),[a,n]=R.useState([]),[o,l]=R.useState([]),[c,d]=R.useState(""),[u,h]=R.useState(!1),m=R.useCallback(Hh(x=>{d(x)},300),[]),p=x=>{m(x.target.value)},b=async x=>{if(!x){t("Cannot delete: Missing transaction ID","error");return}h(!0);try{const w=await jr.delete(`https://foremade-backend.onrender.com/delete-transaction/${x}`,{timeout:15e3});t(w.data.message),n(k=>k.filter(N=>N.id!==x)),l(k=>k.filter(N=>N.id!==x))}catch(y){console.error("Delete error:",y.message,{transactionId:x,details:y.response?.data?.details});const w=y.response?.data?.error||y.message,k=y.response?.data?.details?JSON.stringify(y.response.data.details):"";t(`Failed to delete transaction: ${w}${k?` (Details: ${k})`:""}`,"error")}finally{h(!1)}};return R.useEffect(()=>{if(!Ye.currentUser){t("Please log in.","error"),r("/login");return}const x=Lt(Xe(ve,"transactions")),y=yr(x,w=>{const k=w.docs.map(N=>({id:N.id,...N.data()}));console.log("Fetched all transactions:",k),n(k),l(k.filter(N=>(N.id?.toLowerCase()||"").includes(c.toLowerCase())||(N.sellerId?.toLowerCase()||"").includes(c.toLowerCase())||(N.type?.toLowerCase()||"").includes(c.toLowerCase())))},w=>{console.error("Firestore error:",w.message),t(`Failed to fetch transactions: ${w.message}`,"error")});return()=>y()},[r,c]),i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx(Ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:i.jsxs("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 flex items-center gap-2",children:"All Transactions"})}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search by Transaction ID, Seller ID, or Type...",onChange:p,className:"w-full p-3 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"}),i.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]})}),o.length===0?i.jsx(Ct.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No transactions found."}):i.jsx(Ct.div,{className:"grid gap-4 lg:grid-cols-2",children:i.jsx(go,{children:o.map((x,y)=>i.jsxs(Ct.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3,delay:y*.1},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",x.id||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Seller ID:"})," ",x.sellerId||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Type:"})," ",x.type||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Status:"})," ",i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${x.status==="Pending"?"bg-yellow-100 text-yellow-800":x.status==="Approved"?"bg-green-100 text-green-800":x.status==="Rejected"||x.status==="Failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:x.status||"N/A"})]})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Amount:"})," ",x.country==="United Kingdom"?"":"",x.amount?.toFixed(2)||"0.00"]}),x.type==="Withdrawal"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Bank Name:"})," ",x.bankName||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Account Number:"})," ",x.accountNumber||"N/A"]})]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Country:"})," ",x.country||"N/A"]})]})]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:[i.jsx("span",{className:"font-medium",children:"Date:"})," ",x.createdAt?.toDate?new Date(x.createdAt.toDate()).toLocaleString():"N/A"]}),x.status==="Failed"&&x.failureReason&&i.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:[i.jsx("span",{className:"font-medium",children:"Reason:"})," ",x.failureReason]}),i.jsx("div",{className:"mt-4 flex gap-2",children:i.jsxs("button",{onClick:()=>b(x.id),disabled:u||!x.id,className:`px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition flex items-center gap-2 ${u||!x.id?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx("i",{className:"bx bx-trash"}),"Delete"]})})]},x.id||`txn-${y}`))})}),i.jsx(Ave,{alerts:e,removeAlert:s})]})})]})}var ES={};/*!
 * ApexCharts v5.3.5
 * (c) 2018-2025 ApexCharts
 */function AE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,s=Array(e);t<e;t++)s[t]=r[t];return s}function kH(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Rt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function RF(r,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,SH(s.key),s)}}function It(r,e,t){return e&&RF(r.prototype,e),t&&RF(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function np(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=zC(r))||e){t&&(r=t);var s=0,a=function(){};return{s:a,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,o=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var c=t.next();return o=c.done,c},e:function(c){l=!0,n=c},f:function(){try{o||t.return==null||t.return()}finally{if(l)throw n}}}}function fb(r){var e=_H();return function(){var t,s=Ww(r);if(e){var a=Ww(this).constructor;t=Reflect.construct(s,arguments,a)}else t=s.apply(this,arguments);return(function(n,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kH(n)})(this,t)}}function $w(r,e,t){return(e=SH(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ww(r){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ww(r)}function mb(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&TE(r,e)}function _H(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(_H=function(){return!!r})()}function IF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.push.apply(t,s)}return t}function yt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(t),!0).forEach((function(s){$w(r,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):IF(Object(t)).forEach((function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))}))}return r}function TE(r,e){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},TE(r,e)}function NH(r,e){return(function(t){if(Array.isArray(t))return t})(r)||(function(t,s){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,o,l,c,d=[],u=!0,h=!1;try{if(l=(a=a.call(t)).next,s===0){if(Object(a)!==a)return;u=!1}else for(;!(u=(n=l.call(a)).done)&&(d.push(n.value),d.length!==s);u=!0);}catch(m){h=!0,o=m}finally{try{if(!u&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(h)throw o}}return d}})(r,e)||zC(r,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function za(r){return(function(e){if(Array.isArray(e))return AE(e)})(r)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(r)||zC(r)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function SH(r){var e=(function(t,s){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,s);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)})(r,"string");return typeof e=="symbol"?e:e+""}function Vn(r){return Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vn(r)}function zC(r,e){if(r){if(typeof r=="string")return AE(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?AE(r,e):void 0}}var Pe=(function(){function r(){Rt(this,r)}return It(r,[{key:"shadeRGBColor",value:function(e,t){var s=t.split(","),a=e<0?0:255,n=e<0?-1*e:e,o=parseInt(s[0].slice(4),10),l=parseInt(s[1],10),c=parseInt(s[2],10);return"rgb("+(Math.round((a-o)*n)+o)+","+(Math.round((a-l)*n)+l)+","+(Math.round((a-c)*n)+c)+")"}},{key:"shadeHexColor",value:function(e,t){var s=parseInt(t.slice(1),16),a=e<0?0:255,n=e<0?-1*e:e,o=s>>16,l=s>>8&255,c=255&s;return"#"+(16777216+65536*(Math.round((a-o)*n)+o)+256*(Math.round((a-l)*n)+l)+(Math.round((a-c)*n)+c)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return r.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&Vn(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,s=[];for(t=0;t<e.length;t++)s[t]=e[t];return s}},{key:"extend",value:function(e,t){var s=this;typeof Object.assign!="function"&&(Object.assign=function(n){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var d in c)c.hasOwnProperty(d)&&(o[d]=c[d])}return o});var a=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(n){s.isObject(t[n])&&n in e?a[n]=s.extend(e[n],t[n]):Object.assign(a,$w({},n,t[n]))})),a}},{key:"extendArray",value:function(e,t){var s=[];return e.map((function(a){s.push(r.extend(t,a))})),e=s}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||Vn(e)!=="object")return e;if(s.has(e))return s.get(e);if(Array.isArray(e)){t=[],s.set(e,t);for(var a=0;a<e.length;a++)t[a]=this.clone(e[a],s)}else if(e instanceof Date)t=new Date(e.getTime());else for(var n in t={},s.set(e,t),e)e.hasOwnProperty(n)&&(t[n]=this.clone(e[n],s));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return typeof e=="number"||e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),s=e.clientHeight,a=e.clientWidth;return s-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[a-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),s]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce((function(t,s){return Array.isArray(s)&&(s=s.reduce((function(a,n){return a.length>n.length?a:n}))),t.length>s.length?t:s}),0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var s=e.replace("#","");s=s.match(new RegExp("(.{"+s.length/3+"})","g"));for(var a=0;a<s.length;a++)s[a]=parseInt(s[a].length===1?s[a]+s[a]:s[a],16);return t!==void 0&&s.push(t),"rgba("+s.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var s=[],a=2*Math.PI/t,n=0;n<t;n++){var o={};o.x=e*Math.sin(n*a),o.y=-e*Math.cos(n*a),s.push(o)}return s}},{key:"polarToCartesian",value:function(e,t,s,a){var n=(a-90)*Math.PI/180;return{x:e+s*Math.cos(n),y:t+s*Math.sin(n)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",s=e.toString().slice();return s=s.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,s){if(s>=e.length)for(var a=s-e.length+1;a--;)e.push(void 0);return e.splice(s,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e.style.key=t[s])}},{key:"preciseAddition",value:function(e,t){var s=(String(e).split(".")[1]||"").length,a=(String(t).split(".")[1]||"").length,n=Math.pow(10,Math.max(s,a));return(Math.round(e*n)+Math.round(t*n))/n}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*a),t=Math.round(Math.abs(t)*a);t;){var n=t;t=e%t,e=n}return e/a}},{key:"getPrimeFactors",value:function(e){for(var t=[],s=2;e>=2;)e%s==0?(t.push(s),e/=s):s++;return t}},{key:"mod",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*a))%(t=Math.round(Math.abs(t)*a))/a}}]),r})(),g0=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"animateLine",value:function(e,t,s,a){e.attr(t).animate(a).attr(s)}},{key:"animateMarker",value:function(e,t,s,a){e.attr({opacity:0}).animate(t).attr({opacity:1}).after((function(){a()}))}},{key:"animateRect",value:function(e,t,s,a,n){e.attr(t).animate(a).attr(s).after((function(){return n()}))}},{key:"animatePathsGradually",value:function(e){var t=e.el,s=e.realIndex,a=e.j,n=e.fill,o=e.pathFrom,l=e.pathTo,c=e.speed,d=e.delay,u=this.w,h=0;u.config.chart.animations.animateGradually.enabled&&(h=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(h=0),this.morphSVG(t,s,a,u.config.chart.type!=="line"||u.globals.comboCharts?n:"stroke",o,l,c,d*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")}))}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,s,a,n,o,l,c){var d=this,u=this.w;n||(n=e.attr("pathFrom")),o||(o=e.attr("pathTo"));var h=function(m){return u.config.chart.type==="radar"&&(l=1),"M 0 ".concat(u.globals.gridHeight)};(!n||n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n=h()),(!o.trim()||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=h()),u.globals.shouldAnimate||(l=1),e.plot(n).animate(1,c).plot(n).animate(l,c).plot(o).after((function(){Pe.isNumber(s)?s===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&d.animationCompleted(e):a!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&t===u.globals.series.length-1||u.globals.comboCharts)&&d.animationCompleted(e),d.showDelayedElements()}))}}]),r})();const CE={},jH=[];function pr(r,e){if(Array.isArray(r))for(const t of r)pr(t,e);else if(typeof r!="object")EH(Object.getOwnPropertyNames(e)),CE[r]=Object.assign(CE[r]||{},e);else for(const t in r)pr(t,r[t])}function si(r){return CE[r]||{}}function EH(r){jH.push(...r)}function VC(r,e){let t;const s=r.length,a=[];for(t=0;t<s;t++)a.push(e(r[t]));return a}function AS(r){return r%360*Math.PI/180}function p0(r){return r.charAt(0).toUpperCase()+r.slice(1)}function x0(r,e,t,s){return e!=null&&t!=null||(s=s||r.bbox(),e==null?e=s.width/s.height*t:t==null&&(t=s.height/s.width*e)),{width:e,height:t}}function PE(r,e){const t=r.origin;let s=r.ox!=null?r.ox:r.originX!=null?r.originX:"center",a=r.oy!=null?r.oy:r.originY!=null?r.originY:"center";t!=null&&([s,a]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const n=typeof s=="string",o=typeof a=="string";if(n||o){const{height:l,width:c,x:d,y:u}=e.bbox();n&&(s=s.includes("left")?d:s.includes("right")?d+c:d+c/2),o&&(a=a.includes("top")?u:a.includes("bottom")?u+l:u+l/2)}return[s,a]}const Pve=new Set(["desc","metadata","title"]),RE=r=>Pve.has(r.nodeName),AH=(r,e,t={})=>{const s={...e};for(const a in s)s[a].valueOf()===t[a]&&delete s[a];Object.keys(s).length?r.node.setAttribute("data-svgjs",JSON.stringify(s)):(r.node.removeAttribute("data-svgjs"),r.node.removeAttribute("svgjs:data"))},HC="http://www.w3.org/2000/svg",TS="http://www.w3.org/2000/xmlns/",b0="http://www.w3.org/1999/xlink",Kr={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function gb(){return Kr.window}let $C=class{};const fh={},WC="___SYMBOL___ROOT___";function ux(r,e=HC){return Kr.document.createElementNS(e,r)}function qn(r,e=!1){if(r instanceof $C)return r;if(typeof r=="object")return CS(r);if(r==null)return new fh[WC];if(typeof r=="string"&&r.charAt(0)!=="<")return CS(Kr.document.querySelector(r));const t=e?Kr.document.createElement("div"):ux("svg");return t.innerHTML=r,r=CS(t.firstChild),t.removeChild(t.firstChild),r}function Cs(r,e){return e&&(e instanceof Kr.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:ux(r)}function oo(r){if(!r)return null;if(r.instance instanceof $C)return r.instance;if(r.nodeName==="#document-fragment")return new fh.Fragment(r);let e=p0(r.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":fh[e]||(e="Dom"),new fh[e](r)}let CS=oo;function Qr(r,e=r.name,t=!1){return fh[e]=r,t&&(fh[WC]=r),EH(Object.getOwnPropertyNames(r.prototype)),r}let Rve=1e3;function TH(r){return"Svgjs"+p0(r)+Rve++}function CH(r){for(let e=r.children.length-1;e>=0;e--)CH(r.children[e]);return r.id&&(r.id=TH(r.nodeName)),r}function Yt(r,e){let t,s;for(s=(r=Array.isArray(r)?r:[r]).length-1;s>=0;s--)for(t in e)r[s].prototype[t]=e[t]}function Ts(r){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?r.apply(this,e):r.apply(this,e.slice(0,-1)).attr(t)}}pr("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const r=this.position();return this.parent().add(this.remove(),r+1),this},backward:function(){const r=this.position();return this.parent().add(this.remove(),r?r-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(r){(r=qn(r)).remove();const e=this.position();return this.parent().add(r,e),this},after:function(r){(r=qn(r)).remove();const e=this.position();return this.parent().add(r,e+1),this},insertBefore:function(r){return(r=qn(r)).before(this),this},insertAfter:function(r){return(r=qn(r)).after(this),this}});const PH=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Ive=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Dve=/rgb\((\d+),(\d+),(\d+)\)/,Ove=/(#[a-z_][a-z0-9\-_]*)/i,Mve=/\)\s*,?\s*/,Fve=/\s/g,DF=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,OF=/^rgb\(/,MF=/^(\s+)?$/,FF=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Lve=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Oc=/[\s,]+/,qC=/[MLHVCSQTAZ]/i;function Bve(r){const e=Math.round(r),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function qf(r,e){for(let t=e.length;t--;)if(r[e[t]]==null)return!1;return!0}function PS(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+(e-r)*(2/3-t)*6:r}pr("Dom",{classes:function(){const r=this.attr("class");return r==null?[]:r.trim().split(Oc)},hasClass:function(r){return this.classes().indexOf(r)!==-1},addClass:function(r){if(!this.hasClass(r)){const e=this.classes();e.push(r),this.attr("class",e.join(" "))}return this},removeClass:function(r){return this.hasClass(r)&&this.attr("class",this.classes().filter((function(e){return e!==r})).join(" ")),this},toggleClass:function(r){return this.hasClass(r)?this.removeClass(r):this.addClass(r)}}),pr("Dom",{css:function(r,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter((function(s){return!!s.length})).forEach((function(s){const a=s.split(/\s*:\s*/);t[a[0]]=a[1]})),t;if(arguments.length<2){if(Array.isArray(r)){for(const s of r){const a=s;t[s]=this.node.style.getPropertyValue(a)}return t}if(typeof r=="string")return this.node.style.getPropertyValue(r);if(typeof r=="object")for(const s in r)this.node.style.setProperty(s,r[s]==null||MF.test(r[s])?"":r[s])}return arguments.length===2&&this.node.style.setProperty(r,e==null||MF.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),pr("Dom",{data:function(r,e,t){if(r==null)return this.data(VC((function(s,a){let n;const o=s.length,l=[];for(n=0;n<o;n++)a(s[n])&&l.push(s[n]);return l})(this.node.attributes,(s=>s.nodeName.indexOf("data-")===0)),(s=>s.nodeName.slice(5))));if(r instanceof Array){const s={};for(const a of r)s[a]=this.data(a);return s}if(typeof r=="object")for(e in r)this.data(e,r[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+r))}catch{return this.attr("data-"+r)}else this.attr("data-"+r,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),pr("Dom",{remember:function(r,e){if(typeof arguments[0]=="object")for(const t in r)this.remember(t,r[t]);else{if(arguments.length===1)return this.memory()[r];this.memory()[r]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let r=arguments.length-1;r>=0;r--)delete this.memory()[arguments[r]];return this},memory:function(){return this._memory=this._memory||{}}});class xs{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof xs||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:s,round:a,sin:n,PI:o}=Math;if(e==="vibrant"){const l=24*s()+57,c=38*s()+45,d=360*s();return new xs(l,c,d,"lch")}if(e==="sine"){const l=a(80*n(2*o*(t=t??s())/.5+.01)+150),c=a(50*n(2*o*t/.5+4.6)+200),d=a(100*n(2*o*t/.5+2.3)+150);return new xs(l,c,d)}if(e==="pastel"){const l=8*s()+86,c=17*s()+9,d=360*s();return new xs(l,c,d,"lch")}if(e==="dark"){const l=10+10*s(),c=50*s()+86,d=360*s();return new xs(l,c,d,"lch")}if(e==="rgb"){const l=255*s(),c=255*s(),d=255*s();return new xs(l,c,d)}if(e==="lab"){const l=100*s(),c=256*s()-128,d=256*s()-128;return new xs(l,c,d,"lab")}if(e==="grey"){const l=255*s();return new xs(l,l,l)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(DF.test(e)||OF.test(e))}cmyk(){const{_a:e,_b:t,_c:s}=this.rgb(),[a,n,o]=[e,t,s].map((c=>c/255)),l=Math.min(1-a,1-n,1-o);return l===1?new xs(0,0,0,1,"cmyk"):new xs((1-a-l)/(1-l),(1-n-l)/(1-l),(1-o-l)/(1-l),l,"cmyk")}hsl(){const{_a:e,_b:t,_c:s}=this.rgb(),[a,n,o]=[e,t,s].map((m=>m/255)),l=Math.max(a,n,o),c=Math.min(a,n,o),d=(l+c)/2,u=l===c,h=l-c;return new xs(360*(u?0:l===a?((n-o)/h+(n<o?6:0))/6:l===n?((o-a)/h+2)/6:l===o?((a-n)/h+4)/6:0),100*(u?0:d>.5?h/(2-l-c):h/(l+c)),100*d,"hsl")}init(e=0,t=0,s=0,a=0,n="rgb"){if(e=e||0,this.space)for(const h in this.space)delete this[this.space[h]];if(typeof e=="number")n=typeof a=="string"?a:n,a=typeof a=="string"?0:a,Object.assign(this,{_a:e,_b:t,_c:s,_d:a,space:n});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const h=(function(m,p){const b=qf(m,"rgb")?{_a:m.r,_b:m.g,_c:m.b,_d:0,space:"rgb"}:qf(m,"xyz")?{_a:m.x,_b:m.y,_c:m.z,_d:0,space:"xyz"}:qf(m,"hsl")?{_a:m.h,_b:m.s,_c:m.l,_d:0,space:"hsl"}:qf(m,"lab")?{_a:m.l,_b:m.a,_c:m.b,_d:0,space:"lab"}:qf(m,"lch")?{_a:m.l,_b:m.c,_c:m.h,_d:0,space:"lch"}:qf(m,"cmyk")?{_a:m.c,_b:m.m,_c:m.y,_d:m.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return b.space=p||b.space,b})(e,t);Object.assign(this,h)}else if(typeof e=="string")if(OF.test(e)){const h=e.replace(Fve,""),[m,p,b]=Dve.exec(h).slice(1,4).map((x=>parseInt(x)));Object.assign(this,{_a:m,_b:p,_c:b,_d:0,space:"rgb"})}else{if(!DF.test(e))throw Error("Unsupported string format, can't construct Color");{const h=x=>parseInt(x,16),[,m,p,b]=Ive.exec((function(x){return x.length===4?["#",x.substring(1,2),x.substring(1,2),x.substring(2,3),x.substring(2,3),x.substring(3,4),x.substring(3,4)].join(""):x})(e)).map(h);Object.assign(this,{_a:m,_b:p,_c:b,_d:0,space:"rgb"})}}const{_a:o,_b:l,_c:c,_d:d}=this,u=this.space==="rgb"?{r:o,g:l,b:c}:this.space==="xyz"?{x:o,y:l,z:c}:this.space==="hsl"?{h:o,s:l,l:c}:this.space==="lab"?{l:o,a:l,b:c}:this.space==="lch"?{l:o,c:l,h:c}:this.space==="cmyk"?{c:o,m:l,y:c,k:d}:{};Object.assign(this,u)}lab(){const{x:e,y:t,z:s}=this.xyz();return new xs(116*t-16,500*(e-t),200*(t-s),"lab")}lch(){const{l:e,a:t,b:s}=this.lab(),a=Math.sqrt(t**2+s**2);let n=180*Math.atan2(s,t)/Math.PI;return n<0&&(n*=-1,n=360-n),new xs(e,a,n,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:s,z:a}=this;if(this.space==="lab"||this.space==="lch"){let{l:p,a:b,b:x}=this;if(this.space==="lch"){const{c:I,h:S}=this,A=Math.PI/180;b=I*Math.cos(A*S),x=I*Math.sin(A*S)}const y=(p+16)/116,w=b/500+y,k=y-x/200,N=16/116,T=.008856,E=7.787;t=.95047*(w**3>T?w**3:(w-N)/E),s=1*(y**3>T?y**3:(y-N)/E),a=1.08883*(k**3>T?k**3:(k-N)/E)}const n=3.2406*t+-1.5372*s+-.4986*a,o=-.9689*t+1.8758*s+.0415*a,l=.0557*t+-.204*s+1.057*a,c=Math.pow,d=.0031308,u=n>d?1.055*c(n,1/2.4)-.055:12.92*n,h=o>d?1.055*c(o,1/2.4)-.055:12.92*o,m=l>d?1.055*c(l,1/2.4)-.055:12.92*l;return new xs(255*u,255*h,255*m)}if(this.space==="hsl"){let{h:t,s,l:a}=this;if(t/=360,s/=100,a/=100,s===0)return a*=255,new xs(a,a,a);const n=a<.5?a*(1+s):a+s-a*s,o=2*a-n,l=255*PS(o,n,t+1/3),c=255*PS(o,n,t),d=255*PS(o,n,t-1/3);return new xs(l,c,d)}if(this.space==="cmyk"){const{c:t,m:s,y:a,k:n}=this,o=255*(1-Math.min(1,t*(1-n)+n)),l=255*(1-Math.min(1,s*(1-n)+n)),c=255*(1-Math.min(1,a*(1-n)+n));return new xs(o,l,c)}return this;var e}toArray(){const{_a:e,_b:t,_c:s,_d:a,space:n}=this;return[e,t,s,a,n]}toHex(){const[e,t,s]=this._clamped().map(Bve);return`#${e}${t}${s}`}toRgb(){const[e,t,s]=this._clamped();return`rgb(${e},${t},${s})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:s}=this.rgb(),[a,n,o]=[e,t,s].map((y=>y/255)),l=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,c=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,d=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,u=(.4124*l+.3576*c+.1805*d)/.95047,h=(.2126*l+.7152*c+.0722*d)/1,m=(.0193*l+.1192*c+.9505*d)/1.08883,p=u>.008856?Math.pow(u,1/3):7.787*u+16/116,b=h>.008856?Math.pow(h,1/3):7.787*h+16/116,x=m>.008856?Math.pow(m,1/3):7.787*m+16/116;return new xs(p,b,x,"xyz")}_clamped(){const{_a:e,_b:t,_c:s}=this.rgb(),{max:a,min:n,round:o}=Math;return[e,t,s].map((l=>a(0,n(o(l),255))))}}class ls{constructor(...e){this.init(...e)}clone(){return new ls(this)}init(e,t){const n=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=n.x==null?0:n.x,this.y=n.y==null?0:n.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Ht.isMatrixLike(e)||(e=new Ht(e));const{x:t,y:s}=this;return this.x=e.a*t+e.c*s+e.e,this.y=e.b*t+e.d*s+e.f,this}}function Gf(r,e,t){return Math.abs(e-r)<1e-6}class Ht{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,s=e.flip&&(t||e.flip==="x")?-1:1,a=e.flip&&(t||e.flip==="y")?-1:1,n=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,o=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,l=e.scale&&e.scale.length?e.scale[0]*s:isFinite(e.scale)?e.scale*s:isFinite(e.scaleX)?e.scaleX*s:s,c=e.scale&&e.scale.length?e.scale[1]*a:isFinite(e.scale)?e.scale*a:isFinite(e.scaleY)?e.scaleY*a:a,d=e.shear||0,u=e.rotate||e.theta||0,h=new ls(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),m=h.x,p=h.y,b=new ls(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),x=b.x,y=b.y,w=new ls(e.translate||e.tx||e.translateX,e.ty||e.translateY),k=w.x,N=w.y,T=new ls(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:l,scaleY:c,skewX:n,skewY:o,shear:d,theta:u,rx:T.x,ry:T.y,tx:k,ty:N,ox:m,oy:p,px:x,py:y}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,s){const a=e.a*t.a+e.c*t.b,n=e.b*t.a+e.d*t.b,o=e.a*t.c+e.c*t.d,l=e.b*t.c+e.d*t.d,c=e.e+e.a*t.e+e.c*t.f,d=e.f+e.b*t.e+e.d*t.f;return s.a=a,s.b=n,s.c=o,s.d=l,s.e=c,s.f=d,s}around(e,t,s){return this.clone().aroundO(e,t,s)}aroundO(e,t,s){const a=e||0,n=t||0;return this.translateO(-a,-n).lmultiplyO(s).translateO(a,n)}clone(){return new Ht(this)}decompose(e=0,t=0){const s=this.a,a=this.b,n=this.c,o=this.d,l=this.e,c=this.f,d=s*o-a*n,u=d>0?1:-1,h=u*Math.sqrt(s*s+a*a),m=Math.atan2(u*a,u*s),p=180/Math.PI*m,b=Math.cos(m),x=Math.sin(m),y=(s*n+a*o)/d,w=n*h/(y*s-a)||o*h/(y*a+s);return{scaleX:h,scaleY:w,shear:y,rotate:p,translateX:l-e+e*b*h+t*(y*b*h-x*w),translateY:c-t+e*x*h+t*(y*x*h+b*w),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new Ht(e);return Gf(this.a,t.a)&&Gf(this.b,t.b)&&Gf(this.c,t.c)&&Gf(this.d,t.d)&&Gf(this.e,t.e)&&Gf(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=Ht.fromArray([1,0,0,1,0,0]);return e=e instanceof xn?e.matrixify():typeof e=="string"?Ht.fromArray(e.split(Oc).map(parseFloat)):Array.isArray(e)?Ht.fromArray(e):typeof e=="object"&&Ht.isMatrixLike(e)?e:typeof e=="object"?new Ht().transform(e):arguments.length===6?Ht.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,s=this.c,a=this.d,n=this.e,o=this.f,l=e*a-t*s;if(!l)throw new Error("Cannot invert "+this);const c=a/l,d=-t/l,u=-s/l,h=e/l,m=-(c*n+u*o),p=-(d*n+h*o);return this.a=c,this.b=d,this.c=u,this.d=h,this.e=m,this.f=p,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof Ht?e:new Ht(e);return Ht.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof Ht?e:new Ht(e);return Ht.matrixMultiply(this,t,this)}rotate(e,t,s){return this.clone().rotateO(e,t,s)}rotateO(e,t=0,s=0){e=AS(e);const a=Math.cos(e),n=Math.sin(e),{a:o,b:l,c,d,e:u,f:h}=this;return this.a=o*a-l*n,this.b=l*a+o*n,this.c=c*a-d*n,this.d=d*a+c*n,this.e=u*a-h*n+s*n-t*a+t,this.f=h*a+u*n-t*n-s*a+s,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,s=0,a=0){arguments.length===3&&(a=s,s=t,t=e);const{a:n,b:o,c:l,d:c,e:d,f:u}=this;return this.a=n*e,this.b=o*t,this.c=l*e,this.d=c*t,this.e=d*e-s*e+s,this.f=u*t-a*t+a,this}shear(e,t,s){return this.clone().shearO(e,t,s)}shearO(e,t=0,s=0){const{a,b:n,c:o,d:l,e:c,f:d}=this;return this.a=a+n*e,this.c=o+l*e,this.e=c+d*e-s*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,s=0,a=0){arguments.length===3&&(a=s,s=t,t=e),e=AS(e),t=AS(t);const n=Math.tan(e),o=Math.tan(t),{a:l,b:c,c:d,d:u,e:h,f:m}=this;return this.a=l+c*n,this.b=c+l*o,this.c=d+u*n,this.d=u+d*o,this.e=h+m*n-a*n,this.f=m+h*o-s*o,this}skewX(e,t,s){return this.skew(e,0,t,s)}skewY(e,t,s){return this.skew(0,e,t,s)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Ht.isMatrixLike(e))return new Ht(e).multiplyO(this);const t=Ht.formatTransforms(e),{x:s,y:a}=new ls(t.ox,t.oy).transform(this),n=new Ht().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-s,-a).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(s,a);if(isFinite(t.px)||isFinite(t.py)){const o=new ls(s,a).transform(n),l=isFinite(t.px)?t.px-o.x:0,c=isFinite(t.py)?t.py-o.y:0;n.translateO(l,c)}return n.translateO(t.tx,t.ty),n}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function gd(){if(!gd.nodes){const r=qn().size(2,0);r.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),r.attr("focusable","false"),r.attr("aria-hidden","true");const e=r.path().node;gd.nodes={svg:r,path:e}}if(!gd.nodes.svg.node.parentNode){const r=Kr.document.body||Kr.document.documentElement;gd.nodes.svg.addTo(r)}return gd.nodes}function RH(r){return!(r.width||r.height||r.x||r.y)}Qr(Ht,"Matrix");class aa{constructor(...e){this.init(...e)}addOffset(){return this.x+=Kr.window.pageXOffset,this.y+=Kr.window.pageYOffset,new aa(this)}init(e){return e=typeof e=="string"?e.split(Oc).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return RH(this)}merge(e){const t=Math.min(this.x,e.x),s=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x+e.width)-t,n=Math.max(this.y+this.height,e.y+e.height)-s;return new aa(t,s,a,n)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Ht||(e=new Ht(e));let t=1/0,s=-1/0,a=1/0,n=-1/0;return[new ls(this.x,this.y),new ls(this.x2,this.y),new ls(this.x,this.y2),new ls(this.x2,this.y2)].forEach((function(o){o=o.transform(e),t=Math.min(t,o.x),s=Math.max(s,o.x),a=Math.min(a,o.y),n=Math.max(n,o.y)})),new aa(t,a,s-t,n-a)}}function LF(r,e,t){let s;try{if(s=e(r.node),RH(s)&&(a=r.node)!==Kr.document&&!(Kr.document.documentElement.contains||function(n){for(;n.parentNode;)n=n.parentNode;return n===Kr.document}).call(Kr.document.documentElement,a))throw new Error("Element not in the dom")}catch{s=t(r)}var a;return s}pr({viewbox:{viewbox(r,e,t,s){return r==null?new aa(this.attr("viewBox")):this.attr("viewBox",new aa(r,e,t,s))},zoom(r,e){let{width:t,height:s}=this.attr(["width","height"]);if((t||s)&&typeof t!="string"&&typeof s!="string"||(t=this.node.clientWidth,s=this.node.clientHeight),!t||!s)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const a=this.viewbox(),n=t/a.width,o=s/a.height,l=Math.min(n,o);if(r==null)return l;let c=l/r;c===1/0&&(c=Number.MAX_SAFE_INTEGER/100),e=e||new ls(t/2/n+a.x,s/2/o+a.y);const d=new aa(a).transform(new Ht({scale:c,origin:e}));return this.viewbox(d)}}}),Qr(aa,"Box");class Ph extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}Yt([Ph],{each(r,...e){return typeof r=="function"?this.map(((t,s,a)=>r.call(t,t,s,a))):this.map((t=>t[r](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const Uve=["toArray","constructor","each"];function Gh(r,e){return new Ph(VC((e||Kr.document).querySelectorAll(r),(function(t){return oo(t)})))}Ph.extend=function(r){r=r.reduce(((e,t)=>(Uve.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...s){return this.each(t,...s)}),e)),{}),Yt([Ph],r)};let zve=0;const IH={};function DH(r){let e=r.getEventHolder();return e===Kr.window&&(e=IH),e.events||(e.events={}),e.events}function GC(r){return r.getEventTarget()}function fc(r,e,t,s,a){const n=t.bind(s||r),o=qn(r),l=DH(o),c=GC(o);e=Array.isArray(e)?e:e.split(Oc),t._svgjsListenerId||(t._svgjsListenerId=++zve),e.forEach((function(d){const u=d.split(".")[0],h=d.split(".")[1]||"*";l[u]=l[u]||{},l[u][h]=l[u][h]||{},l[u][h][t._svgjsListenerId]=n,c.addEventListener(u,n,a||!1)}))}function co(r,e,t,s){const a=qn(r),n=DH(a),o=GC(a);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Oc)).forEach((function(l){const c=l&&l.split(".")[0],d=l&&l.split(".")[1];let u,h;if(t)n[c]&&n[c][d||"*"]&&(o.removeEventListener(c,n[c][d||"*"][t],s||!1),delete n[c][d||"*"][t]);else if(c&&d){if(n[c]&&n[c][d]){for(h in n[c][d])co(o,[c,d].join("."),h);delete n[c][d]}}else if(d)for(l in n)for(u in n[l])d===u&&co(o,[l,d].join("."));else if(c){if(n[c]){for(u in n[c])co(o,[c,u].join("."));delete n[c]}}else{for(l in n)co(o,l);(function(m){let p=m.getEventHolder();p===Kr.window&&(p=IH),p.events&&(p.events={})})(a)}}))}class pb extends $C{addEventListener(){}dispatch(e,t,s){return(function(a,n,o,l){const c=GC(a);return n instanceof Kr.window.Event||(n=new Kr.window.CustomEvent(n,{detail:o,cancelable:!0,...l})),c.dispatchEvent(n),n})(this,e,t,s)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const s=t[e.type];for(const a in s)for(const n in s[a])s[a][n](e);return!e.defaultPrevented}fire(e,t,s){return this.dispatch(e,t,s),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,s){return co(this,e,t,s),this}on(e,t,s,a){return fc(this,e,t,s,a),this}removeEventListener(){}}function BF(){}Qr(pb,"EventTarget");const RS=400,Vve=">",Hve=0,$ve={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Rh extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Oc).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class lr{constructor(...e){this.init(...e)}convert(e){return new lr(this.value,e)}divide(e){return e=new lr(e),new lr(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(PH))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof lr&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new lr(e),new lr(this-e,this.unit||e.unit)}plus(e){return e=new lr(e),new lr(this+e,this.unit||e.unit)}times(e){return e=new lr(e),new lr(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Wve=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),OH=[];class $d extends pb{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=qn(e)).removeNamespace&&this.node instanceof Kr.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return qn(e).put(this,t)}children(){return new Ph(VC(this.node.children,(function(e){return oo(e)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let s=this.node.cloneNode(e);return t&&(s=CH(s)),new this.constructor(s)}each(e,t){const s=this.children();let a,n;for(a=0,n=s.length;a<n;a++)e.apply(s[a],[a,s]),t&&s[a].each(e,t);return this}element(e,t){return this.put(new $d(ux(e),t))}first(){return oo(this.node.firstChild)}get(e){return oo(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=TH(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return oo(this.node.lastChild)}matches(e){const t=this.node,s=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return s&&s.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=oo(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=oo(t.node.parentNode));return t}put(e,t){return e=qn(e),this.add(e,t),e}putIn(e,t){return qn(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=qn(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const s=10**e,a=this.attr(t);for(const n in a)typeof a[n]=="number"&&(a[n]=Math.round(a[n]*s)/s);return this.attr(a),this}svg(e,t){return this.xml(e,t,HC)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const s=t.index(this);return t.put(e,s).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(e,t,s){if(typeof e=="boolean"&&(s=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let l=this;if(e!=null){if(l=oo(l.node.cloneNode(!0)),t){const c=e(l);if(l=c||l,c===!1)return""}l.each((function(){const c=e(this),d=c||this;c===!1?this.remove():c&&this!==d&&this.replace(d)}),!0)}return t?l.node.outerHTML:l.node.innerHTML}t=t!=null&&t;const a=ux("wrapper",s),n=Kr.document.createDocumentFragment();a.innerHTML=e;for(let l=a.children.length;l--;)n.appendChild(a.firstElementChild);const o=this.parent();return t?this.replace(n)&&o:this.add(n)}}Yt($d,{attr:function(r,e,t){if(r==null){r={},e=this.node.attributes;for(const s of e)r[s.nodeName]=FF.test(s.nodeValue)?parseFloat(s.nodeValue):s.nodeValue;return r}if(r instanceof Array)return r.reduce(((s,a)=>(s[a]=this.attr(a),s)),{});if(typeof r=="object"&&r.constructor===Object)for(e in r)this.attr(e,r[e]);else if(e===null)this.node.removeAttribute(r);else{if(e==null)return(e=this.node.getAttribute(r))==null?$ve[r]:FF.test(e)?parseFloat(e):e;typeof(e=OH.reduce(((s,a)=>a(r,s,this)),e))=="number"?e=new lr(e):Wve.has(r)&&xs.isColor(e)?e=new xs(e):e.constructor===Array&&(e=new Rh(e)),r==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,r,e.toString()):this.node.setAttribute(r,e.toString()),!this.rebuild||r!=="font-size"&&r!=="x"||this.rebuild()}return this},find:function(r){return Gh(r,this.node)},findOne:function(r){return oo(this.node.querySelector(r))}}),Qr($d,"Dom");let xn=class extends $d{constructor(r,e){super(r,e),this.dom={},this.node.instance=this,(r.hasAttribute("data-svgjs")||r.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(r.getAttribute("data-svgjs"))??JSON.parse(r.getAttribute("svgjs:data"))??{})}center(r,e){return this.cx(r).cy(e)}cx(r){return r==null?this.x()+this.width()/2:this.x(r-this.width()/2)}cy(r){return r==null?this.y()+this.height()/2:this.y(r-this.height()/2)}defs(){const r=this.root();return r&&r.defs()}dmove(r,e){return this.dx(r).dy(e)}dx(r=0){return this.x(new lr(r).plus(this.x()))}dy(r=0){return this.y(new lr(r).plus(this.y()))}getEventHolder(){return this}height(r){return this.attr("height",r)}move(r,e){return this.x(r).y(e)}parents(r=this.root()){const e=typeof r=="string";e||(r=qn(r));const t=new Ph;let s=this;for(;(s=s.parent())&&s.node!==Kr.document&&s.nodeName!=="#document-fragment"&&(t.push(s),e||s.node!==r.node)&&(!e||!s.matches(r));)if(s.node===this.root().node)return null;return t}reference(r){if(!(r=this.attr(r)))return null;const e=(r+"").match(Ove);return e?qn(e[1]):null}root(){const r=this.parent((function(e){return fh[e]})(WC));return r&&r.root()}setData(r){return this.dom=r,this}size(r,e){const t=x0(this,r,e);return this.width(new lr(t.width)).height(new lr(t.height))}width(r){return this.attr("width",r)}writeDataToDom(){return AH(this,this.dom),super.writeDataToDom()}x(r){return this.attr("x",r)}y(r){return this.attr("y",r)}};Yt(xn,{bbox:function(){const r=LF(this,(e=>e.getBBox()),(e=>{try{const t=e.clone().addTo(gd().svg).show(),s=t.node.getBBox();return t.remove(),s}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}}));return new aa(r)},rbox:function(r){const e=LF(this,(s=>s.getBoundingClientRect()),(s=>{throw new Error(`Getting rbox of element "${s.node.nodeName}" is not possible`)})),t=new aa(e);return r?t.transform(r.screenCTM().inverseO()):t.addOffset()},inside:function(r,e){const t=this.bbox();return r>t.x&&e>t.y&&r<t.x+t.width&&e<t.y+t.height},point:function(r,e){return new ls(r,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Ht(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const r=this.rect(1,1),e=r.node.getScreenCTM();return r.remove(),new Ht(e)}return new Ht(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Ht}}}),Qr(xn,"Element");const Yg={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(r,e){return e==="color"?r:r+"-"+e}};["fill","stroke"].forEach((function(r){const e={};let t;e[r]=function(s){if(s===void 0)return this.attr(r);if(typeof s=="string"||s instanceof xs||xs.isRgb(s)||s instanceof xn)this.attr(r,s);else for(t=Yg[r].length-1;t>=0;t--)s[Yg[r][t]]!=null&&this.attr(Yg.prefix(r,Yg[r][t]),s[Yg[r][t]]);return this},pr(["Element","Runner"],e)})),pr(["Element","Runner"],{matrix:function(r,e,t,s,a,n){return r==null?new Ht(this):this.attr("transform",new Ht(r,e,t,s,a,n))},rotate:function(r,e,t){return this.transform({rotate:r,ox:e,oy:t},!0)},skew:function(r,e,t,s){return arguments.length===1||arguments.length===3?this.transform({skew:r,ox:e,oy:t},!0):this.transform({skew:[r,e],ox:t,oy:s},!0)},shear:function(r,e,t){return this.transform({shear:r,ox:e,oy:t},!0)},scale:function(r,e,t,s){return arguments.length===1||arguments.length===3?this.transform({scale:r,ox:e,oy:t},!0):this.transform({scale:[r,e],ox:t,oy:s},!0)},translate:function(r,e){return this.transform({translate:[r,e]},!0)},relative:function(r,e){return this.transform({relative:[r,e]},!0)},flip:function(r="both",e="center"){return"xybothtrue".indexOf(r)===-1&&(e=r,r="both"),this.transform({flip:r,origin:e},!0)},opacity:function(r){return this.attr("opacity",r)}}),pr("radius",{radius:function(r,e=r){return(this._element||this).type==="radialGradient"?this.attr("r",new lr(r)):this.rx(r).ry(e)}}),pr("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(r){return new ls(this.node.getPointAtLength(r))}}),pr(["Element","Runner"],{font:function(r,e){if(typeof r=="object"){for(e in r)this.font(e,r[e]);return this}return r==="leading"?this.leading(e):r==="anchor"?this.attr("text-anchor",e):r==="size"||r==="family"||r==="weight"||r==="stretch"||r==="variant"||r==="style"?this.attr("font-"+r,e):this.attr(r,e)}});pr("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce((function(r,e){return r[e]=function(t){return t===null?this.off(e):this.on(e,t),this},r}),{})),pr("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(Mve).slice(0,-1).map((function(e){const t=e.trim().split("(");return[t[0],t[1].split(Oc).map((function(s){return parseFloat(s)}))]})).reverse().reduce((function(e,t){return t[0]==="matrix"?e.lmultiply(Ht.fromArray(t[1])):e[t[0]].apply(e,t[1])}),new Ht)},toParent:function(r,e){if(this===r)return this;if(RE(this.node))return this.addTo(r,e);const t=this.screenCTM(),s=r.screenCTM().inverse();return this.addTo(r,e).untransform().transform(s.multiply(t)),this},toRoot:function(r){return this.toParent(this.root(),r)},transform:function(r,e){if(r==null||typeof r=="string"){const s=new Ht(this).decompose();return r==null?s:s[r]}Ht.isMatrixLike(r)||(r={...r,origin:PE(r,this)});const t=new Ht(e===!0?this:e||!1).transform(r);return this.attr("transform",t)}});class Qn extends xn{flatten(){return this.each((function(){if(this instanceof Qn)return this.flatten().ungroup()})),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each((function(s,a){return a[a.length-s-1].toParent(e,t)})),this.remove()}}Qr(Qn,"Container");class nk extends Qn{constructor(e,t=e){super(Cs("defs",e),t)}flatten(){return this}ungroup(){return this}}Qr(nk,"Defs");class Bi extends xn{}function YC(r){return this.attr("rx",r)}function XC(r){return this.attr("ry",r)}function MH(r){return r==null?this.cx()-this.rx():this.cx(r+this.rx())}function FH(r){return r==null?this.cy()-this.ry():this.cy(r+this.ry())}function LH(r){return this.attr("cx",r)}function BH(r){return this.attr("cy",r)}function UH(r){return r==null?2*this.rx():this.rx(new lr(r).divide(2))}function zH(r){return r==null?2*this.ry():this.ry(new lr(r).divide(2))}Qr(Bi,"Shape");var qve=Object.freeze({__proto__:null,cx:LH,cy:BH,height:zH,rx:YC,ry:XC,width:UH,x:MH,y:FH});class K1 extends Bi{constructor(e,t=e){super(Cs("ellipse",e),t)}size(e,t){const s=x0(this,e,t);return this.rx(new lr(s.width).divide(2)).ry(new lr(s.height).divide(2))}}Yt(K1,qve),pr("Container",{ellipse:Ts((function(r=0,e=r){return this.put(new K1).size(r,e).move(0,0)}))}),Qr(K1,"Ellipse");class VH extends $d{constructor(e=Kr.document.createDocumentFragment()){super(e)}xml(e,t,s){if(typeof e=="boolean"&&(s=t,t=e,e=null),e==null||typeof e=="function"){const a=new $d(ux("wrapper",s));return a.add(this.node.cloneNode(!0)),a.xml(!1,s)}return super.xml(e,!1,s)}}function HH(r,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new lr(r),fy:new lr(e)}):this.attr({x1:new lr(r),y1:new lr(e)})}function $H(r,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new lr(r),cy:new lr(e)}):this.attr({x2:new lr(r),y2:new lr(e)})}Qr(VH,"Fragment");var Gve=Object.freeze({__proto__:null,from:HH,to:$H});class Ap extends Qn{constructor(e,t){super(Cs(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,s){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,s)}bbox(){return new aa}targets(){return Gh("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Yt(Ap,Gve),pr({Container:{gradient(...r){return this.defs().gradient(...r)}},Defs:{gradient:Ts((function(r,e){return this.put(new Ap(r)).update(e)}))}}),Qr(Ap,"Gradient");class hx extends Qn{constructor(e,t=e){super(Cs("pattern",e),t)}attr(e,t,s){return e==="transform"&&(e="patternTransform"),super.attr(e,t,s)}bbox(){return new aa}targets(){return Gh("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}pr({Container:{pattern(...r){return this.defs().pattern(...r)}},Defs:{pattern:Ts((function(r,e,t){return this.put(new hx).update(t).attr({x:0,y:0,width:r,height:e,patternUnits:"userSpaceOnUse"})}))}}),Qr(hx,"Pattern");let Z1=class extends Bi{constructor(r,e=r){super(Cs("image",r),e)}load(r,e){if(!r)return this;const t=new Kr.window.Image;return fc(t,"load",(function(s){const a=this.parent(hx);this.width()===0&&this.height()===0&&this.size(t.width,t.height),a instanceof hx&&a.width()===0&&a.height()===0&&a.size(this.width(),this.height()),typeof e=="function"&&e.call(this,s)}),this),fc(t,"load error",(function(){co(t)})),this.attr("href",t.src=r,b0)}};var UF;UF=function(r,e,t){return r!=="fill"&&r!=="stroke"||Lve.test(e)&&(e=t.root().defs().image(e)),e instanceof Z1&&(e=t.root().defs().pattern(0,0,(s=>{s.add(e)}))),e},OH.push(UF),pr({Container:{image:Ts((function(r,e){return this.put(new Z1).size(0,0).load(r,e)}))}}),Qr(Z1,"Image");class Wd extends Rh{bbox(){let e=-1/0,t=-1/0,s=1/0,a=1/0;return this.forEach((function(n){e=Math.max(n[0],e),t=Math.max(n[1],t),s=Math.min(n[0],s),a=Math.min(n[1],a)})),new aa(s,a,e-s,t-a)}move(e,t){const s=this.bbox();if(e-=s.x,t-=s.y,!isNaN(e)&&!isNaN(t))for(let a=this.length-1;a>=0;a--)this[a]=[this[a][0]+e,this[a][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Oc).map(parseFloat)).length%2!=0&&e.pop();for(let s=0,a=e.length;s<a;s+=2)t.push([e[s],e[s+1]]);return t}size(e,t){let s;const a=this.bbox();for(s=this.length-1;s>=0;s--)a.width&&(this[s][0]=(this[s][0]-a.x)*e/a.width+a.x),a.height&&(this[s][1]=(this[s][1]-a.y)*t/a.height+a.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,s=this.length;t<s;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Ht.isMatrixLike(e)||(e=new Ht(e));for(let t=this.length;t--;){const[s,a]=this[t];this[t][0]=e.a*s+e.c*a+e.e,this[t][1]=e.b*s+e.d*a+e.f}return this}}const Yve=Wd;var KC=Object.freeze({__proto__:null,MorphArray:Yve,height:function(r){const e=this.bbox();return r==null?e.height:this.size(e.width,r)},width:function(r){const e=this.bbox();return r==null?e.width:this.size(r,e.height)},x:function(r){return r==null?this.bbox().x:this.move(r,this.bbox().y)},y:function(r){return r==null?this.bbox().y:this.move(this.bbox().x,r)}});let sh=class extends Bi{constructor(r,e=r){super(Cs("line",r),e)}array(){return new Wd([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(r,e){return this.attr(this.array().move(r,e).toLine())}plot(r,e,t,s){return r==null?this.array():(r=e!==void 0?{x1:r,y1:e,x2:t,y2:s}:new Wd(r).toLine(),this.attr(r))}size(r,e){const t=x0(this,r,e);return this.attr(this.array().size(t.width,t.height).toLine())}};Yt(sh,KC),pr({Container:{line:Ts((function(...r){return sh.prototype.plot.apply(this.put(new sh),r[0]!=null?r:[0,0,0,0])}))}}),Qr(sh,"Line");let Q1=class extends Qn{constructor(r,e=r){super(Cs("marker",r),e)}height(r){return this.attr("markerHeight",r)}orient(r){return this.attr("orient",r)}ref(r,e){return this.attr("refX",r).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(r){return this.clear(),typeof r=="function"&&r.call(this,this),this}width(r){return this.attr("markerWidth",r)}};function um(r,e){return function(t){return t==null?this[r]:(this[r]=t,e&&e.call(this),this)}}pr({Container:{marker(...r){return this.defs().marker(...r)}},Defs:{marker:Ts((function(r,e,t){return this.put(new Q1).size(r,e).ref(r/2,e/2).viewbox(0,0,r,e).attr("orient","auto").update(t)}))},marker:{marker(r,e,t,s){let a=["marker"];return r!=="all"&&a.push(r),a=a.join("-"),r=arguments[1]instanceof Q1?arguments[1]:this.defs().marker(e,t,s),this.attr(a,r)}}}),Qr(Q1,"Marker");const Xve={"-":function(r){return r},"<>":function(r){return-Math.cos(r*Math.PI)/2+.5},">":function(r){return Math.sin(r*Math.PI/2)},"<":function(r){return 1-Math.cos(r*Math.PI/2)},bezier:function(r,e,t,s){return function(a){return a<0?r>0?e/r*a:t>0?s/t*a:0:a>1?t<1?(1-s)/(1-t)*a+(s-t)/(1-t):r<1?(1-e)/(1-r)*a+(e-r)/(1-r):1:3*a*(1-a)**2*e+3*a**2*(1-a)*s+a**3}},steps:function(r,e="end"){e=e.split("-").reverse()[0];let t=r;return e==="none"?--t:e==="both"&&++t,(s,a=!1)=>{let n=Math.floor(s*r);const o=s*n%1==0;return e!=="start"&&e!=="both"||++n,a&&o&&--n,s>=0&&n<0&&(n=0),s<=1&&n>t&&(n=t),n/t}}};class ZC{done(){return!1}}class IE extends ZC{constructor(e=Vve){super(),this.ease=Xve[e]||e}step(e,t,s){return typeof e!="number"?s<1?e:t:e+(t-e)*this.ease(s)}}class qw extends ZC{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,s,a){return this.stepper(e,t,s,a)}}function zF(){const r=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,s=Math.log(e/100+1e-10),a=-s/Math.sqrt(t*t+s*s),n=3.9/(a*r);this.d=2*a*n,this.k=n*n}Yt(class extends qw{constructor(r=500,e=0){super(),this.duration(r).overshoot(e)}step(r,e,t,s){if(typeof r=="string")return r;if(s.done=t===1/0,t===1/0)return e;if(t===0)return r;t>100&&(t=16),t/=1e3;const a=s.velocity||0,n=-this.d*a-this.k*(r-e),o=r+a*t+n*t*t/2;return s.velocity=a+n*t,s.done=Math.abs(e-o)+Math.abs(a)<.002,s.done?e:o}},{duration:um("_duration",zF),overshoot:um("_overshoot",zF)});Yt(class extends qw{constructor(r=.1,e=.01,t=0,s=1e3){super(),this.p(r).i(e).d(t).windup(s)}step(r,e,t,s){if(typeof r=="string")return r;if(s.done=t===1/0,t===1/0)return e;if(t===0)return r;const a=e-r;let n=(s.integral||0)+a*t;const o=(a-(s.error||0))/t,l=this._windup;return l!==!1&&(n=Math.max(-l,Math.min(n,l))),s.error=a,s.integral=n,s.done=Math.abs(a)<.001,s.done?e:r+(this.P*a+this.I*n+this.D*o)}},{windup:um("_windup"),p:um("P"),i:um("I"),d:um("D")});const Kve={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},DE={M:function(r,e,t){return e.x=t.x=r[0],e.y=t.y=r[1],["M",e.x,e.y]},L:function(r,e){return e.x=r[0],e.y=r[1],["L",r[0],r[1]]},H:function(r,e){return e.x=r[0],["H",r[0]]},V:function(r,e){return e.y=r[0],["V",r[0]]},C:function(r,e){return e.x=r[4],e.y=r[5],["C",r[0],r[1],r[2],r[3],r[4],r[5]]},S:function(r,e){return e.x=r[2],e.y=r[3],["S",r[0],r[1],r[2],r[3]]},Q:function(r,e){return e.x=r[2],e.y=r[3],["Q",r[0],r[1],r[2],r[3]]},T:function(r,e){return e.x=r[0],e.y=r[1],["T",r[0],r[1]]},Z:function(r,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(r,e){return e.x=r[5],e.y=r[6],["A",r[0],r[1],r[2],r[3],r[4],r[5],r[6]]}},IS="mlhvqtcsaz".split("");for(let r=0,e=IS.length;r<e;++r)DE[IS[r]]=(function(t){return function(s,a,n){if(t==="H")s[0]=s[0]+a.x;else if(t==="V")s[0]=s[0]+a.y;else if(t==="A")s[5]=s[5]+a.x,s[6]=s[6]+a.y;else for(let o=0,l=s.length;o<l;++o)s[o]=s[o]+(o%2?a.y:a.x);return DE[t](s,a,n)}})(IS[r].toUpperCase());function OE(r){return r.segment.length&&r.segment.length-1===Kve[r.segment[0].toUpperCase()]}function Zve(r,e){r.inNumber&&Wu(r,!1);const t=qC.test(e);if(t)r.segment=[e];else{const s=r.lastCommand,a=s.toLowerCase(),n=s===a;r.segment=[a==="m"?n?"l":"L":s]}return r.inSegment=!0,r.lastCommand=r.segment[0],t}function Wu(r,e){if(!r.inNumber)throw new Error("Parser Error");r.number&&r.segment.push(parseFloat(r.number)),r.inNumber=e,r.number="",r.pointSeen=!1,r.hasExponent=!1,OE(r)&&ME(r)}function ME(r){r.inSegment=!1,r.absolute&&(r.segment=(function(e){const t=e.segment[0];return DE[t](e.segment.slice(1),e.p,e.p0)})(r)),r.segments.push(r.segment)}function Qve(r){if(!r.segment.length)return!1;const e=r.segment[0].toUpperCase()==="A",t=r.segment.length;return e&&(t===4||t===5)}function Jve(r){return r.lastToken.toUpperCase()==="E"}const e1e=new Set([" ",",","	",`
`,"\r","\f"]);class Ro extends Rh{bbox(){return gd().path.setAttribute("d",this.toString()),new aa(gd.nodes.path.getBBox())}move(e,t){const s=this.bbox();if(e-=s.x,t-=s.y,!isNaN(e)&&!isNaN(t))for(let a,n=this.length-1;n>=0;n--)a=this[n][0],a==="M"||a==="L"||a==="T"?(this[n][1]+=e,this[n][2]+=t):a==="H"?this[n][1]+=e:a==="V"?this[n][1]+=t:a==="C"||a==="S"||a==="Q"?(this[n][1]+=e,this[n][2]+=t,this[n][3]+=e,this[n][4]+=t,a==="C"&&(this[n][5]+=e,this[n][6]+=t)):a==="A"&&(this[n][6]+=e,this[n][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),(function(t,s=!0){let a=0,n="";const o={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:s,p0:new ls,p:new ls};for(;o.lastToken=n,n=t.charAt(a++);)if(o.inSegment||!Zve(o,n))if(n!==".")if(isNaN(parseInt(n)))if(e1e.has(n))o.inNumber&&Wu(o,!1);else if(n!=="-"&&n!=="+")if(n.toUpperCase()!=="E"){if(qC.test(n)){if(o.inNumber)Wu(o,!1);else{if(!OE(o))throw new Error("parser Error");ME(o)}--a}}else o.number+=n,o.hasExponent=!0;else{if(o.inNumber&&!Jve(o)){Wu(o,!1),--a;continue}o.number+=n,o.inNumber=!0}else{if(o.number==="0"||Qve(o)){o.inNumber=!0,o.number=n,Wu(o,!0);continue}o.inNumber=!0,o.number+=n}else{if(o.pointSeen||o.hasExponent){Wu(o,!1),--a;continue}o.inNumber=!0,o.pointSeen=!0,o.number+=n}return o.inNumber&&Wu(o,!1),o.inSegment&&OE(o)&&ME(o),o.segments})(e)}size(e,t){const s=this.bbox();let a,n;for(s.width=s.width===0?1:s.width,s.height=s.height===0?1:s.height,a=this.length-1;a>=0;a--)n=this[a][0],n==="M"||n==="L"||n==="T"?(this[a][1]=(this[a][1]-s.x)*e/s.width+s.x,this[a][2]=(this[a][2]-s.y)*t/s.height+s.y):n==="H"?this[a][1]=(this[a][1]-s.x)*e/s.width+s.x:n==="V"?this[a][1]=(this[a][1]-s.y)*t/s.height+s.y:n==="C"||n==="S"||n==="Q"?(this[a][1]=(this[a][1]-s.x)*e/s.width+s.x,this[a][2]=(this[a][2]-s.y)*t/s.height+s.y,this[a][3]=(this[a][3]-s.x)*e/s.width+s.x,this[a][4]=(this[a][4]-s.y)*t/s.height+s.y,n==="C"&&(this[a][5]=(this[a][5]-s.x)*e/s.width+s.x,this[a][6]=(this[a][6]-s.y)*t/s.height+s.y)):n==="A"&&(this[a][1]=this[a][1]*e/s.width,this[a][2]=this[a][2]*t/s.height,this[a][6]=(this[a][6]-s.x)*e/s.width+s.x,this[a][7]=(this[a][7]-s.y)*t/s.height+s.y);return this}toString(){return(function(e){let t="";for(let s=0,a=e.length;s<a;s++)t+=e[s][0],e[s][1]!=null&&(t+=e[s][1],e[s][2]!=null&&(t+=" ",t+=e[s][2],e[s][3]!=null&&(t+=" ",t+=e[s][3],t+=" ",t+=e[s][4],e[s][5]!=null&&(t+=" ",t+=e[s][5],t+=" ",t+=e[s][6],e[s][7]!=null&&(t+=" ",t+=e[s][7])))));return t+" "})(this)}}const WH=r=>{const e=typeof r;return e==="number"?lr:e==="string"?xs.isColor(r)?xs:Oc.test(r)?qC.test(r)?Ro:Rh:PH.test(r)?lr:FE:LE.indexOf(r.constructor)>-1?r.constructor:Array.isArray(r)?Rh:e==="object"?fx:FE};class qu{constructor(e){this._stepper=e||new IE("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(e,t){return e&&t}),!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(WH(e));let t=new this._type(e);return this._type===xs&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===fx&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map((function(s){return s.done=!0,s})),t}}class FE{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class xb{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,xb.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}xb.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const t1e=(r,e)=>r[0]<e[0]?-1:r[0]>e[0]?1:0;class fx{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let s=0,a=t.length;s<a;++s){if(t[s+1]===e[s+1]){if(t[s+1]===xs&&e[s+7]!==t[s+7]){const l=e[s+7],c=new xs(this.values.splice(s+3,5))[l]().toArray();this.values.splice(s+3,0,...c)}s+=t[s+2]+2;continue}if(!e[s+1])return this;const n=new e[s+1]().toArray(),o=t[s+2]+3;t.splice(s,o,e[s],e[s+1],e[s+2],...n),s+=t[s+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const s in e){const a=WH(e[s]),n=new a(e[s]).toArray();t.push([s,a,n.length,...n])}return t.sort(t1e),this.values=t.reduce(((s,a)=>s.concat(a)),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const s=t.shift(),a=t.shift(),n=t.shift(),o=t.splice(0,n);e[s]=new a(o)}return e}}const LE=[FE,xb,fx];class _m extends Bi{constructor(e,t=e){super(Cs("path",e),t)}array(){return this._array||(this._array=new Ro(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new Ro(e))}size(e,t){const s=x0(this,e,t);return this.attr("d",this.array().size(s.width,s.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}_m.prototype.MorphArray=Ro,pr({Container:{path:Ts((function(r){return this.put(new _m).plot(r||new Ro)}))}}),Qr(_m,"Path");var qH=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Wd(this.attr("points")))},clear:function(){return delete this._array,this},move:function(r,e){return this.attr("points",this.array().move(r,e))},plot:function(r){return r==null?this.array():this.clear().attr("points",typeof r=="string"?r:this._array=new Wd(r))},size:function(r,e){const t=x0(this,r,e);return this.attr("points",this.array().size(t.width,t.height))}});class ah extends Bi{constructor(e,t=e){super(Cs("polygon",e),t)}}pr({Container:{polygon:Ts((function(r){return this.put(new ah).plot(r||new Wd)}))}}),Yt(ah,KC),Yt(ah,qH),Qr(ah,"Polygon");class nh extends Bi{constructor(e,t=e){super(Cs("polyline",e),t)}}pr({Container:{polyline:Ts((function(r){return this.put(new nh).plot(r||new Wd)}))}}),Yt(nh,KC),Yt(nh,qH),Qr(nh,"Polyline");class J1 extends Bi{constructor(e,t=e){super(Cs("rect",e),t)}}Yt(J1,{rx:YC,ry:XC}),pr({Container:{rect:Ts((function(r,e){return this.put(new J1).size(r,e)}))}}),Qr(J1,"Rect");class DS{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const us={nextDraw:null,frames:new DS,timeouts:new DS,immediates:new DS,timer:()=>Kr.window.performance||Kr.window.Date,transforms:[],frame(r){const e=us.frames.push({run:r});return us.nextDraw===null&&(us.nextDraw=Kr.window.requestAnimationFrame(us._draw)),e},timeout(r,e){e=e||0;const t=us.timer().now()+e,s=us.timeouts.push({run:r,time:t});return us.nextDraw===null&&(us.nextDraw=Kr.window.requestAnimationFrame(us._draw)),s},immediate(r){const e=us.immediates.push(r);return us.nextDraw===null&&(us.nextDraw=Kr.window.requestAnimationFrame(us._draw)),e},cancelFrame(r){r!=null&&us.frames.remove(r)},clearTimeout(r){r!=null&&us.timeouts.remove(r)},cancelImmediate(r){r!=null&&us.immediates.remove(r)},_draw(r){let e=null;const t=us.timeouts.last();for(;(e=us.timeouts.shift())&&(r>=e.time?e.run():us.timeouts.push(e),e!==t););let s=null;const a=us.frames.last();for(;s!==a&&(s=us.frames.shift());)s.run(r);let n=null;for(;n=us.immediates.shift();)n();us.nextDraw=us.timeouts.first()||us.frames.first()?Kr.window.requestAnimationFrame(us._draw):null}},r1e=function(r){const e=r.start,t=r.runner.duration();return{start:e,duration:t,end:e+t,runner:r.runner}},s1e=function(){const r=Kr.window;return(r.performance||r.Date).now()};class GH extends pb{constructor(e=s1e){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const s=Math.abs(t);return this.speed(e?-s:s)}schedule(e,t,s){if(e==null)return this._runners.map(r1e);let a=0;const n=this.getEndTime();if(t=t||0,s==null||s==="last"||s==="after")a=n;else if(s==="absolute"||s==="start")a=t,t=0;else if(s==="now")a=this._time;else if(s==="relative"){const c=this.getRunnerInfoById(e.id);c&&(a=c.start+t,t=0)}else{if(s!=="with-last")throw new Error('Invalid value for the "when" parameter');{const c=this.getLastRunnerInfo();a=c?c.start:this._time}}e.unschedule(),e.timeline(this);const o=e.persist(),l={persist:o===null?this._persist:o,start:a+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(l),this._runners.sort(((c,d)=>c.start-d.start)),this._runnerIds=this._runners.map((c=>c.runner.id)),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return us.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=us.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let s=t-this._lastSourceTime;e&&(s=0);const a=this._speed*s+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=a,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const l=this._runners[o],c=l.runner;this._time-l.start<=0&&c.reset()}let n=!1;for(let o=0,l=this._runners.length;o<l;o++){const c=this._runners[o],d=c.runner;let u=a;const h=this._time-c.start;if(h<=0){n=!0;continue}h<u&&(u=h),d.active()&&(d.step(u).done?c.persist!==!0&&d.duration()-d.time()+this._time+c.persist<this._time&&(d.unschedule(),--o,--l):n=!0)}return n&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}pr({Element:{timeline:function(r){return r==null?(this._timeline=this._timeline||new GH,this._timeline):(this._timeline=r,this)}}});class Mi extends pb{constructor(e){super(),this.id=Mi.id++,e=typeof(e=e??RS)=="function"?new qw(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof qw,this._stepper=this._isDeclarative?e:new IE,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Ht,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,s){let a=1,n=!1,o=0;return t=t??Hve,s=s||"last",typeof(e=e??RS)!="object"||e instanceof ZC||(t=e.delay??t,s=e.when??s,n=e.swing||n,a=e.times??a,o=e.wait??o,e=e.duration??RS),{duration:e,delay:t,swing:n,times:a,wait:o,when:s}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,s){const a=Mi.sanitise(e,t,s),n=new Mi(a.duration);return this._timeline&&n.timeline(this._timeline),this._element&&n.element(this._element),n.loop(a).schedule(a.delay,a.when)}clearTransform(){return this.transforms=new Ht,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((e=>!e.isTransform)))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new IE(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,s){return typeof e=="object"&&(t=e.swing,s=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=s||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const n=Math.floor(this._time/t),o=(this._time-n*t)/this._duration;return Math.min(n+o,this._times)}const s=e%1,a=t*Math.floor(e)+this._duration*s;return this.time(a)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,s=this._duration,a=this._wait,n=this._times,o=this._swing,l=this._reverse;let c;if(e==null){const h=function(p){const b=o*Math.floor(p%(2*(a+s))/(a+s)),x=b&&!l||!b&&l,y=Math.pow(-1,x)*(p%(a+s))/s+x;return Math.max(Math.min(y,1),0)},m=n*(a+s)-a;return c=t<=0?Math.round(h(1e-5)):t<m?h(t):Math.round(h(m-1e-5)),c}const d=Math.floor(this.loops()),u=o&&d%2==0;return c=d+(u&&!l||l&&u?e:1-e),this.loops(c)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,s,a){return this._queue.push({initialiser:e||BF,runner:t||BF,retarget:s,isTransform:a,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,s){if(e instanceof GH||(s=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,s),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),s=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const a=this.duration(),n=this._lastTime<=0&&this._time>0,o=this._lastTime<a&&this._time>=a;this._lastTime=this._time,n&&this.fire("start",this);const l=this._isDeclarative;this.done=!l&&!o&&this._time>=a,this._reseted=!1;let c=!1;return(s||l)&&(this._initialise(s),this.transforms=new Ht,c=this._run(l?e:t),this.fire("step",this)),this.done=this.done||c&&l,o&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,s=this._queue.length;t<s;++t){const a=this._queue[t],n=this._isDeclarative||!a.initialised&&e;e=!a.finished,n&&e&&(a.initialiser.call(this),a.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const s=this.timeline();s&&s.play()}}_run(e){let t=!0;for(let s=0,a=this._queue.length;s<a;++s){const n=this._queue[s],o=n.runner.call(this,e);n.finished=n.finished||o===!0,t=t&&n.finished}return t}_tryRetarget(e,t,s){if(this._history[e]){if(!this._history[e].caller.initialised){const n=this._queue.indexOf(this._history[e].caller);return this._queue.splice(n,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,s):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const a=this.timeline();return a&&a.play(),!0}return!1}}Mi.id=0;class Gw{constructor(e=new Ht,t=-1,s=!0){this.transforms=e,this.id=t,this.done=s}clearTransformsFromQueue(){}}Yt([Mi,Gw],{mergeWith(r){return new Gw(r.transforms.lmultiply(this.transforms),r.id)}});const YH=(r,e)=>r.lmultiplyO(e),XH=r=>r.transforms;function a1e(){const r=this._transformationRunners.runners.map(XH).reduce(YH,new Ht);this.transform(r),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class n1e{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new Gw).forEach((s=>s.clearTransformsFromQueue())),this}edit(e,t){const s=this.ids.indexOf(e+1);return this.ids.splice(s,1,e+1),this.runners.splice(s,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const s=this.runners[t];if(e&&s.done&&e.done&&(!s._timeline||!s._timeline._runnerIds.includes(s.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(s.id);const a=s.mergeWith(e);this.edit(e.id,a),e=a,--t}else e=s}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}pr({Element:{animate(r,e,t){const s=Mi.sanitise(r,e,t),a=this.timeline();return new Mi(s.duration).loop(s).element(this).timeline(a.play()).schedule(s.delay,s.when)},delay(r,e){return this.animate(0,r,e)},_clearTransformRunnersBefore(r){this._transformationRunners.clearBefore(r.id)},_currentTransform(r){return this._transformationRunners.runners.filter((e=>e.id<=r.id)).map(XH).reduce(YH,new Ht)},_addRunner(r){this._transformationRunners.add(r),us.cancelImmediate(this._frameId),this._frameId=us.immediate(a1e.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new n1e().add(new Gw(new Ht(this))))}}});Yt(Mi,{attr(r,e){return this.styleAttr("attr",r,e)},css(r,e){return this.styleAttr("css",r,e)},styleAttr(r,e,t){if(typeof e=="string")return this.styleAttr(r,{[e]:t});let s=e;if(this._tryRetarget(r,s))return this;let a=new qu(this._stepper).to(s),n=Object.keys(s);return this.queue((function(){a=a.from(this.element()[r](n))}),(function(o){return this.element()[r](a.at(o).valueOf()),a.done()}),(function(o){const l=Object.keys(o),c=(d=n,l.filter((h=>!d.includes(h))));var d;if(c.length){const h=this.element()[r](c),m=new fx(a.from()).valueOf();Object.assign(m,h),a.from(m)}const u=new fx(a.to()).valueOf();Object.assign(u,o),a.to(u),n=l,s=o})),this._rememberMorpher(r,a),this},zoom(r,e){if(this._tryRetarget("zoom",r,e))return this;let t=new qu(this._stepper).to(new lr(r));return this.queue((function(){t=t.from(this.element().zoom())}),(function(s){return this.element().zoom(t.at(s),e),t.done()}),(function(s,a){e=a,t.to(s)})),this._rememberMorpher("zoom",t),this},transform(r,e,t){if(e=r.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",r))return this;const s=Ht.isMatrixLike(r);t=r.affine!=null?r.affine:t??!s;const a=new qu(this._stepper).type(t?xb:Ht);let n,o,l,c,d;return this.queue((function(){o=o||this.element(),n=n||PE(r,o),d=new Ht(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)}),(function(u){e||this.clearTransform();const{x:h,y:m}=new ls(n).transform(o._currentTransform(this));let p=new Ht({...r,origin:[h,m]}),b=this._isDeclarative&&l?l:d;if(t){p=p.decompose(h,m),b=b.decompose(h,m);const y=p.rotate,w=b.rotate,k=[y-360,y,y+360],N=k.map((I=>Math.abs(I-w))),T=Math.min(...N),E=N.indexOf(T);p.rotate=k[E]}e&&(s||(p.rotate=r.rotate||0),this._isDeclarative&&c&&(b.rotate=c)),a.from(b),a.to(p);const x=a.at(u);return c=x.rotate,l=new Ht(x),this.addTransform(l),o._addRunner(this),a.done()}),(function(u){(u.origin||"center").toString()!==(r.origin||"center").toString()&&(n=PE(u,o)),r={...u,origin:n}}),!0),this._isDeclarative&&this._rememberMorpher("transform",a),this},x(r){return this._queueNumber("x",r)},y(r){return this._queueNumber("y",r)},ax(r){return this._queueNumber("ax",r)},ay(r){return this._queueNumber("ay",r)},dx(r=0){return this._queueNumberDelta("x",r)},dy(r=0){return this._queueNumberDelta("y",r)},dmove(r,e){return this.dx(r).dy(e)},_queueNumberDelta(r,e){if(e=new lr(e),this._tryRetarget(r,e))return this;const t=new qu(this._stepper).to(e);let s=null;return this.queue((function(){s=this.element()[r](),t.from(s),t.to(s+e)}),(function(a){return this.element()[r](t.at(a)),t.done()}),(function(a){t.to(s+new lr(a))})),this._rememberMorpher(r,t),this},_queueObject(r,e){if(this._tryRetarget(r,e))return this;const t=new qu(this._stepper).to(e);return this.queue((function(){t.from(this.element()[r]())}),(function(s){return this.element()[r](t.at(s)),t.done()})),this._rememberMorpher(r,t),this},_queueNumber(r,e){return this._queueObject(r,new lr(e))},cx(r){return this._queueNumber("cx",r)},cy(r){return this._queueNumber("cy",r)},move(r,e){return this.x(r).y(e)},amove(r,e){return this.ax(r).ay(e)},center(r,e){return this.cx(r).cy(e)},size(r,e){let t;return r&&e||(t=this._element.bbox()),r||(r=t.width/t.height*e),e||(e=t.height/t.width*r),this.width(r).height(e)},width(r){return this._queueNumber("width",r)},height(r){return this._queueNumber("height",r)},plot(r,e,t,s){if(arguments.length===4)return this.plot([r,e,t,s]);if(this._tryRetarget("plot",r))return this;const a=new qu(this._stepper).type(this._element.MorphArray).to(r);return this.queue((function(){a.from(this._element.array())}),(function(n){return this._element.plot(a.at(n)),a.done()})),this._rememberMorpher("plot",a),this},leading(r){return this._queueNumber("leading",r)},viewbox(r,e,t,s){return this._queueObject("viewbox",new aa(r,e,t,s))},update(r){return typeof r!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(r.opacity!=null&&this.attr("stop-opacity",r.opacity),r.color!=null&&this.attr("stop-color",r.color),r.offset!=null&&this.attr("offset",r.offset),this)}}),Yt(Mi,{rx:YC,ry:XC,from:HH,to:$H}),Qr(Mi,"Runner");class BE extends Qn{constructor(e,t=e){super(Cs("svg",e),t),this.namespace()}defs(){return this.isRoot()?oo(this.node.querySelector("defs"))||this.put(new nk):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Kr.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:HC,version:"1.1"}).attr("xmlns:xlink",b0,TS):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,TS).attr("xmlns:svgjs",null,TS)}root(){return this.isRoot()?this:super.root()}}pr({Container:{nested:Ts((function(){return this.put(new BE)}))}}),Qr(BE,"Svg",!0);let UE=class extends Qn{constructor(r,e=r){super(Cs("symbol",r),e)}};pr({Container:{symbol:Ts((function(){return this.put(new UE)}))}}),Qr(UE,"Symbol");var KH=Object.freeze({__proto__:null,amove:function(r,e){return this.ax(r).ay(e)},ax:function(r){return this.attr("x",r)},ay:function(r){return this.attr("y",r)},build:function(r){return this._build=!!r,this},center:function(r,e,t=this.bbox()){return this.cx(r,t).cy(e,t)},cx:function(r,e=this.bbox()){return r==null?e.cx:this.attr("x",this.attr("x")+r-e.cx)},cy:function(r,e=this.bbox()){return r==null?e.cy:this.attr("y",this.attr("y")+r-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(r,e,t=this.bbox()){return this.x(r,t).y(e,t)},plain:function(r){return this._build===!1&&this.clear(),this.node.appendChild(Kr.document.createTextNode(r)),this},x:function(r,e=this.bbox()){return r==null?e.x:this.attr("x",this.attr("x")+r-e.x)},y:function(r,e=this.bbox()){return r==null?e.y:this.attr("y",this.attr("y")+r-e.y)}});class Io extends Bi{constructor(e,t=e){super(Cs("text",e),t),this.dom.leading=this.dom.leading??new lr(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new lr(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let s=0;const a=this.dom.leading;this.each((function(n){if(RE(this.node))return;const o=Kr.window.getComputedStyle(this.node).getPropertyValue("font-size"),l=a*new lr(o);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?s+=l:(this.attr("dy",n?l+s:0),s=0))})),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new lr(e.leading||1.3),this}writeDataToDom(){return AH(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let s=0;e="";for(let a=0,n=t.length;a<n;++a)t[a].nodeName==="textPath"||RE(t[a])?a===0&&(s=a+1):(a!==s&&t[a].nodeType!==3&&oo(t[a]).dom.newLined===!0&&(e+=`
`),e+=t[a].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,s=(e=(e+"").split(`
`)).length;t<s;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}Yt(Io,KH),pr({Container:{text:Ts((function(r=""){return this.put(new Io).text(r)})),plain:Ts((function(r=""){return this.put(new Io).plain(r)}))}}),Qr(Io,"Text");class ew extends Bi{constructor(e,t=e){super(Cs("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Io))return this;const t=e.index(this),s=Kr.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=e.dom.leading*new lr(s);return this.dy(t?a:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}Yt(ew,KH),pr({Tspan:{tspan:Ts((function(r=""){const e=new ew;return this._build||this.clear(),this.put(e).text(r)}))},Text:{newLine:function(r=""){return this.tspan(r).newLine()}}}),Qr(ew,"Tspan");class OS extends Bi{constructor(e,t=e){super(Cs("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new lr(e).divide(2))}}Yt(OS,{x:MH,y:FH,cx:LH,cy:BH,width:UH,height:zH}),pr({Container:{circle:Ts((function(r=0){return this.put(new OS).size(r).move(0,0)}))}}),Qr(OS,"Circle");class MS extends Qn{constructor(e,t=e){super(Cs("clipPath",e),t)}remove(){return this.targets().forEach((function(e){e.unclip()})),super.remove()}targets(){return Gh("svg [clip-path*="+this.id()+"]")}}pr({Container:{clip:Ts((function(){return this.defs().put(new MS)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(r){const e=r instanceof MS?r:this.parent().clip().add(r);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),Qr(MS,"ClipPath");class VF extends xn{constructor(e,t=e){super(Cs("foreignObject",e),t)}}pr({Container:{foreignObject:Ts((function(r,e){return this.put(new VF).size(r,e)}))}}),Qr(VF,"ForeignObject");var ZH=Object.freeze({__proto__:null,dmove:function(r,e){return this.children().forEach((t=>{let s;try{s=t.node instanceof gb().SVGSVGElement?new aa(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const a=new Ht(t),n=a.translate(r,e).transform(a.inverse()),o=new ls(s.x,s.y).transform(n);t.move(o.x,o.y)})),this},dx:function(r){return this.dmove(r,0)},dy:function(r){return this.dmove(0,r)},height:function(r,e=this.bbox()){return r==null?e.height:this.size(e.width,r,e)},move:function(r=0,e=0,t=this.bbox()){const s=r-t.x,a=e-t.y;return this.dmove(s,a)},size:function(r,e,t=this.bbox()){const s=x0(this,r,e,t),a=s.width/t.width,n=s.height/t.height;return this.children().forEach((o=>{const l=new ls(t).transform(new Ht(o).inverse());o.scale(a,n,l.x,l.y)})),this},width:function(r,e=this.bbox()){return r==null?e.width:this.size(r,e.height,e)},x:function(r,e=this.bbox()){return r==null?e.x:this.move(r,e.y,e)},y:function(r,e=this.bbox()){return r==null?e.y:this.move(e.x,r,e)}});class Cd extends Qn{constructor(e,t=e){super(Cs("g",e),t)}}Yt(Cd,ZH),pr({Container:{group:Ts((function(){return this.put(new Cd)}))}}),Qr(Cd,"G");class i1 extends Qn{constructor(e,t=e){super(Cs("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,b0)}}Yt(i1,ZH),pr({Container:{link:Ts((function(r){return this.put(new i1).to(r)}))},Element:{unlink(){const r=this.linker();if(!r)return this;const e=r.parent();if(!e)return this.remove();const t=e.index(r);return e.add(this,t),r.remove(),this},linkTo(r){let e=this.linker();return e||(e=new i1,this.wrap(e)),typeof r=="function"?r.call(e,e):e.to(r),this},linker(){const r=this.parent();return r&&r.node.nodeName.toLowerCase()==="a"?r:null}}}),Qr(i1,"A");class FS extends Qn{constructor(e,t=e){super(Cs("mask",e),t)}remove(){return this.targets().forEach((function(e){e.unmask()})),super.remove()}targets(){return Gh("svg [mask*="+this.id()+"]")}}pr({Container:{mask:Ts((function(){return this.defs().put(new FS)}))},Element:{masker(){return this.reference("mask")},maskWith(r){const e=r instanceof FS?r:this.parent().mask().add(r);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),Qr(FS,"Mask");class HF extends xn{constructor(e,t=e){super(Cs("stop",e),t)}update(e){return(typeof e=="number"||e instanceof lr)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new lr(e.offset)),this}}pr({Gradient:{stop:function(r,e,t){return this.put(new HF).update(r,e,t)}}}),Qr(HF,"Stop");class LS extends xn{constructor(e,t=e){super(Cs("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,s={}){return this.rule("@font-face",{fontFamily:e,src:t,...s})}rule(e,t){return this.addText((function(s,a){if(!s)return"";if(!a)return s;let n=s+"{";for(const o in a)n+=o.replace(/([A-Z])/g,(function(l,c){return"-"+c.toLowerCase()}))+":"+a[o]+";";return n+="}",n})(e,t))}}pr("Dom",{style(r,e){return this.put(new LS).rule(r,e)},fontface(r,e,t){return this.put(new LS).font(r,e,t)}}),Qr(LS,"Style");class BS extends Io{constructor(e,t=e){super(Cs("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let s=null;return t&&(s=t.plot(e)),e==null?s:this}track(){return this.reference("href")}}pr({Container:{textPath:Ts((function(r,e){return r instanceof Io||(r=this.text(r)),r.path(e)}))},Text:{path:Ts((function(r,e=!0){const t=new BS;let s;if(r instanceof _m||(r=this.defs().path(r)),t.attr("href","#"+r,b0),e)for(;s=this.node.firstChild;)t.node.appendChild(s);return this.put(t)})),textPath(){return this.findOne("textPath")}},Path:{text:Ts((function(r){return r instanceof Io||(r=new Io().addTo(this.parent()).text(r)),r.path(this)})),targets(){return Gh("svg textPath").filter((r=>(r.attr("href")||"").includes(this.id())))}}}),BS.prototype.MorphArray=Ro,Qr(BS,"TextPath");class $F extends Bi{constructor(e,t=e){super(Cs("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,b0)}}pr({Container:{use:Ts((function(r,e){return this.put(new $F).use(r,e)}))}}),Qr($F,"Use");const i1e=qn;Yt([BE,UE,Z1,hx,Q1],si("viewbox")),Yt([sh,nh,ah,_m],si("marker")),Yt(Io,si("Text")),Yt(_m,si("Path")),Yt(nk,si("Defs")),Yt([Io,ew],si("Tspan")),Yt([J1,K1,Ap,Mi],si("radius")),Yt(pb,si("EventTarget")),Yt($d,si("Dom")),Yt(xn,si("Element")),Yt(Bi,si("Shape")),Yt([Qn,VH],si("Container")),Yt(Ap,si("Gradient")),Yt(Mi,si("Runner")),Ph.extend([...new Set(jH)]),(function(r=[]){LE.push(...[].concat(r))})([lr,xs,aa,Ht,Rh,Wd,Ro,ls]),Yt(LE,{to(r){return new qu().type(this.constructor).from(this.toArray()).to(r)},fromArray(r){return this.init(r),this},toConsumable(){return this.toArray()},morph(r,e,t,s,a){return this.fromArray(r.map((function(n,o){return s.step(n,e[o],t,a[o],a)})))}});class Os extends xn{constructor(e){super(Cs("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Gh('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class QC extends xn{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const Ji=r=>function(...e){for(let t=r.length;t--;)e[t]!=null&&this.attr(r[t],e[t])},o1e={blend:Ji(["in","in2","mode"]),colorMatrix:Ji(["type","values"]),composite:Ji(["in","in2","operator"]),convolveMatrix:function(r){r=new Rh(r).toString(),this.attr({order:Math.sqrt(r.split(" ").length),kernelMatrix:r})},diffuseLighting:Ji(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Ji(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Ji(["in","dx","dy","stdDeviation"]),flood:Ji(["flood-color","flood-opacity"]),gaussianBlur:function(r=0,e=r){this.attr("stdDeviation",r+" "+e)},image:function(r){this.attr("href",r,b0)},morphology:Ji(["operator","radius"]),offset:Ji(["dx","dy"]),specularLighting:Ji(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Ji([]),turbulence:Ji(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach((r=>{const e=p0(r),t=o1e[r];Os[e+"Effect"]=class extends QC{constructor(s){super(Cs("fe"+e,s),s)}update(s){return t.apply(this,s),this}},Os.prototype[r]=Ts((function(s,...a){const n=new Os[e+"Effect"];return s==null?this.put(n):(typeof s=="function"?s.call(n,n):a.unshift(s),this.put(n).update(a))}))})),Yt(Os,{merge(r){const e=this.put(new Os.MergeEffect);return typeof r=="function"?(r.call(e,e),e):((r instanceof Array?r:[...arguments]).forEach((t=>{t instanceof Os.MergeNode?e.put(t):e.mergeNode(t)})),e)},componentTransfer(r={}){const e=this.put(new Os.ComponentTransferEffect);if(typeof r=="function")return r.call(e,e),e;r.r||r.g||r.b||r.a||(r={r,g:r,b:r,a:r});for(const t in r)e.add(new Os["Func"+t.toUpperCase()](r[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach((r=>{const e=p0(r);Os[e]=class extends QC{constructor(t){super(Cs("fe"+e,t),t)}}}));["funcR","funcG","funcB","funcA"].forEach((function(r){const e=Os[p0(r)],t=Ts((function(){return this.put(new e)}));Os.ComponentTransferEffect.prototype[r]=t}));["distantLight","pointLight","spotLight"].forEach((r=>{const e=Os[p0(r)],t=Ts((function(){return this.put(new e)}));Os.DiffuseLightingEffect.prototype[r]=t,Os.SpecularLightingEffect.prototype[r]=t})),Yt(Os.MergeEffect,{mergeNode(r){return this.put(new Os.MergeNode).attr("in",r)}}),Yt(nk,{filter:function(r){const e=this.put(new Os);return typeof r=="function"&&r.call(e,e),e}}),Yt(Qn,{filter:function(r){return this.defs().filter(r)}}),Yt(xn,{filterWith:function(r){const e=r instanceof Os?r:this.defs().filter(r);return this.attr("filter",e)},unfilter:function(r){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const l1e={blend:function(r,e){return this.parent()&&this.parent().blend(this,r,e)},colorMatrix:function(r,e){return this.parent()&&this.parent().colorMatrix(r,e).in(this)},componentTransfer:function(r){return this.parent()&&this.parent().componentTransfer(r).in(this)},composite:function(r,e){return this.parent()&&this.parent().composite(this,r,e)},convolveMatrix:function(r){return this.parent()&&this.parent().convolveMatrix(r).in(this)},diffuseLighting:function(r,e,t,s){return this.parent()&&this.parent().diffuseLighting(r,t,s).in(this)},displacementMap:function(r,e,t,s){return this.parent()&&this.parent().displacementMap(this,r,e,t,s)},dropShadow:function(r,e,t){return this.parent()&&this.parent().dropShadow(this,r,e,t).in(this)},flood:function(r,e){return this.parent()&&this.parent().flood(r,e)},gaussianBlur:function(r,e){return this.parent()&&this.parent().gaussianBlur(r,e).in(this)},image:function(r){return this.parent()&&this.parent().image(r)},merge:function(r){return r=r instanceof Array?r:[...r],this.parent()&&this.parent().merge(this,...r)},morphology:function(r,e){return this.parent()&&this.parent().morphology(r,e).in(this)},offset:function(r,e){return this.parent()&&this.parent().offset(r,e).in(this)},specularLighting:function(r,e,t,s,a){return this.parent()&&this.parent().specularLighting(r,t,s,a).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(r,e,t,s,a){return this.parent()&&this.parent().turbulence(r,e,t,s,a).in(this)}};Yt(QC,l1e),Yt(Os.MergeEffect,{in:function(r){return r instanceof Os.MergeNode?this.add(r,0):this.add(new Os.MergeNode().in(r),0),this}}),Yt([Os.CompositeEffect,Os.BlendEffect,Os.DisplacementMapEffect],{in2:function(r){if(r==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",r)}}),Os.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var gn=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"getDefaultFilter",value:function(e,t){var s=this.w;e.unfilter(!0),new Os().size("120%","180%","-5%","-40%"),s.config.chart.dropShadow.enabled&&this.dropShadow(e,s.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,s){var a,n=this,o=this.w;if(e.unfilter(!0),s!=="none"){var l,c,d=o.config.chart.dropShadow,u=s==="lighten"?2:.3;e.filterWith((function(h){h.colorMatrix({type:"matrix",values:`
          `.concat(u,` 0 0 0 0
          0 `).concat(u,` 0 0 0
          0 0 `).concat(u,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),d.enabled&&n.addShadow(h,t,d,"brightness")})),!d.noUserSpaceOnUse&&((l=e.filterer())===null||l===void 0||(c=l.node)===null||c===void 0||c.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,s,a){var n,o=this.w,l=s.blur,c=s.top,d=s.left,u=s.color,h=s.opacity;if(u=Array.isArray(u)?u[t]:u,((n=o.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.length)>0&&o.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:a,dx:d,dy:c,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:l,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":h,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",a])}},{key:"dropShadow",value:function(e,t){var s,a,n,o,l,c=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this.w;return e.unfilter(!0),Pe.isMsEdge()&&u.config.chart.type==="radialBar"||((s=u.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&((n=u.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.indexOf(d))===-1?e:(e.filterWith((function(h){c.addShadow(h,d,t,"SourceGraphic")})),t.noUserSpaceOnUse||(o=e.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node),e)}},{key:"setSelectionFilter",value:function(e,t,s){var a=this.w;if(a.globals.selectedDataPoints[t]!==void 0&&a.globals.selectedDataPoints[t].indexOf(s)>-1){e.node.setAttribute("selected",!0);var n=a.config.states.active.filter;n!=="none"&&this.applyFilter(e,t,n.type)}}},{key:"_scaleFilterSize",value:function(e){e&&(function(t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),r})(),ot=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"roundPathCorners",value:function(e,t){function s(A,P,O){var M=P.x-A.x,L=P.y-A.y,B=Math.sqrt(M*M+L*L);return a(A,P,Math.min(1,O/B))}function a(A,P,O){return{x:A.x+(P.x-A.x)*O,y:A.y+(P.y-A.y)*O}}function n(A,P){A.length>2&&(A[A.length-2]=P.x,A[A.length-1]=P.y)}function o(A){return{x:parseFloat(A[A.length-2]),y:parseFloat(A[A.length-1])}}e.indexOf("NaN")>-1&&(e="");var l=e.split(/[,\s]/).reduce((function(A,P){var O=P.match(/^([a-zA-Z])(.+)/);return O?(A.push(O[1]),A.push(O[2])):A.push(P),A}),[]).reduce((function(A,P){return parseFloat(P)==P&&A.length?A[A.length-1].push(P):A.push([P]),A}),[]),c=[];if(l.length>1){var d=o(l[0]),u=null;l[l.length-1][0]=="Z"&&l[0].length>2&&(u=["L",d.x,d.y],l[l.length-1]=u),c.push(l[0]);for(var h=1;h<l.length;h++){var m=c[c.length-1],p=l[h],b=p==u?l[1]:l[h+1];if(b&&m&&m.length>2&&p[0]=="L"&&b.length>2&&b[0]=="L"){var x,y,w=o(m),k=o(p),N=o(b);x=s(k,w,t),y=s(k,N,t),n(p,x),p.origPoint=k,c.push(p);var T=a(x,k,.5),E=a(k,y,.5),I=["C",T.x,T.y,E.x,E.y,y.x,y.y];I.origPoint=k,c.push(I)}else c.push(p)}if(u){var S=o(c[c.length-1]);c.push(["Z"]),n(c[0],S)}}else c=l;return c.reduce((function(A,P){return A+P.join(" ")+" "}),"")}},{key:"drawLine",value:function(e,t,s,a){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:s,y2:a,stroke:n,"stroke-dasharray":o,"stroke-width":l,"stroke-linecap":c})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,d=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,h=this.w.globals.dom.Paper.rect();return h.attr({x:e,y:t,width:s>0?s:0,height:a>0?a:0,rx:n,ry:n,opacity:l,"stroke-width":c!==null?c:0,stroke:d!==null?d:"none","stroke-dasharray":u}),h.node.setAttribute("fill",o),h}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:a,stroke:t,"stroke-width":s})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var s=this.w.globals.dom.Paper.circle(2*e);return t!==null&&s.attr(t),s}},{key:"drawPath",value:function(e){var t=e.d,s=t===void 0?"":t,a=e.stroke,n=a===void 0?"#a8a8a8":a,o=e.strokeWidth,l=o===void 0?1:o,c=e.fill,d=e.fillOpacity,u=d===void 0?1:d,h=e.strokeOpacity,m=h===void 0?1:h,p=e.classes,b=e.strokeLinecap,x=b===void 0?null:b,y=e.strokeDashArray,w=y===void 0?0:y,k=this.w;return x===null&&(x=k.config.stroke.lineCap),(s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s="M 0 ".concat(k.globals.gridHeight)),k.globals.dom.Paper.path(s).attr({fill:c,"fill-opacity":u,stroke:n,"stroke-opacity":m,"stroke-linecap":x,"stroke-width":l,"stroke-dasharray":w,class:p})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var s=["M",e,t].join(" ");return s}},{key:"line",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=null;return s===null?a=[" L",e,t].join(" "):s==="H"?a=[" H",e].join(" "):s==="V"&&(a=[" V",t].join(" ")),a}},{key:"curve",value:function(e,t,s,a,n,o){var l=["C",e,t,s,a,n,o].join(" ");return l}},{key:"quadraticCurve",value:function(e,t,s,a){return["Q",e,t,s,a].join(" ")}},{key:"arc",value:function(e,t,s,a,n,o,l){var c="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(c="a");var d=[c,e,t,s,a,n,o,l].join(" ");return d}},{key:"renderPaths",value:function(e){var t,s=e.j,a=e.realIndex,n=e.pathFrom,o=e.pathTo,l=e.stroke,c=e.strokeWidth,d=e.strokeLinecap,u=e.fill,h=e.animationDelay,m=e.initialSpeed,p=e.dataChangeSpeed,b=e.className,x=e.chartType,y=e.shouldClipToGrid,w=y===void 0||y,k=e.bindEventsOnPaths,N=k===void 0||k,T=e.drawShadow,E=T===void 0||T,I=this.w,S=new gn(this.ctx),A=new g0(this.ctx),P=this.w.config.chart.animations.enabled,O=P&&this.w.config.chart.animations.dynamicAnimation.enabled;if(n&&n.startsWith("M 0 0")&&o){var M=o.match(/^M\s+[\d.-]+\s+[\d.-]+/);M&&(n=n.replace(/^M\s+0\s+0/,M[0]))}var L=!!(P&&!I.globals.resized||O&&I.globals.dataChanged&&I.globals.shouldAnimate);L?t=n:(t=o,I.globals.animationEnded=!0);var B=I.config.stroke.dashArray,G=0;G=Array.isArray(B)?B[a]:I.config.stroke.dashArray;var X=this.drawPath({d:t,stroke:l,strokeWidth:c,fill:u,fillOpacity:1,classes:b,strokeLinecap:d,strokeDashArray:G});X.attr("index",a),w&&(x==="bar"&&!I.globals.isHorizontal||I.globals.comboCharts?X.attr({"clip-path":"url(#gridRectBarMask".concat(I.globals.cuid,")")}):X.attr({"clip-path":"url(#gridRectMask".concat(I.globals.cuid,")")})),I.config.chart.dropShadow.enabled&&E&&S.dropShadow(X,I.config.chart.dropShadow,a),N&&(X.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,X)),X.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,X)),X.node.addEventListener("mousedown",this.pathMouseDown.bind(this,X))),X.attr({pathTo:o,pathFrom:n});var H={el:X,j:s,realIndex:a,pathFrom:n,pathTo:o,fill:u,strokeWidth:c,delay:h};return!P||I.globals.resized||I.globals.dataChanged?!I.globals.resized&&I.globals.dataChanged||A.showDelayedElements():A.animatePathsGradually(yt(yt({},H),{},{speed:m})),I.globals.dataChanged&&O&&L&&A.animatePathsGradually(yt(yt({},H),{},{speed:p})),X}},{key:"drawPattern",value:function(e,t,s){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,s,(function(o){e==="horizontalLines"?o.line(0,0,s,0).stroke({color:a,width:n+1}):e==="verticalLines"?o.line(0,0,0,t).stroke({color:a,width:n+1}):e==="slantedLines"?o.line(0,0,t,s).stroke({color:a,width:n}):e==="squares"?o.rect(t,s).fill("none").stroke({color:a,width:n}):e==="circles"&&o.circle(t).fill("none").stroke({color:a,width:n})}))}},{key:"drawGradient",value:function(e,t,s,a,n){var o,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,h=this.w;t.length<9&&t.indexOf("#")===0&&(t=Pe.hexToRgba(t,a)),s.length<9&&s.indexOf("#")===0&&(s=Pe.hexToRgba(s,n));var m=0,p=1,b=1,x=null;c!==null&&(m=c[0]!==void 0?c[0]/100:0,p=c[1]!==void 0?c[1]/100:1,b=c[2]!==void 0?c[2]/100:1,x=c[3]!==void 0?c[3]/100:null);var y=!(h.config.chart.type!=="donut"&&h.config.chart.type!=="pie"&&h.config.chart.type!=="polarArea"&&h.config.chart.type!=="bubble");if(o=d&&d.length!==0?h.globals.dom.Paper.gradient(y?"radial":"linear",(function(N){(Array.isArray(d[u])?d[u]:d).forEach((function(T){N.stop(T.offset/100,T.color,T.opacity)}))})):h.globals.dom.Paper.gradient(y?"radial":"linear",(function(N){N.stop(m,t,a),N.stop(p,s,n),N.stop(b,s,n),x!==null&&N.stop(x,t,a)})),y){var w=h.globals.gridWidth/2,k=h.globals.gridHeight/2;h.config.chart.type!=="bubble"?o.attr({gradientUnits:"userSpaceOnUse",cx:w,cy:k,r:l}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?o.from(0,0).to(0,1):e==="diagonal"?o.from(0,0).to(1,1):e==="horizontal"?o.from(0,1).to(1,1):e==="diagonal2"&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,s=e.maxWidth,a=e.fontSize,n=e.fontFamily,o=this.getTextRects(t,a,n),l=o.width/t.length,c=Math.floor(s/l);return s<o.width?t.slice(0,c-3)+"...":t}},{key:"drawText",value:function(e){var t=this,s=e.x,a=e.y,n=e.text,o=e.textAnchor,l=e.fontSize,c=e.fontFamily,d=e.fontWeight,u=e.foreColor,h=e.opacity,m=e.maxWidth,p=e.cssClass,b=p===void 0?"":p,x=e.isPlainText,y=x===void 0||x,w=e.dominantBaseline,k=w===void 0?"auto":w,N=this.w;n===void 0&&(n="");var T=n;o||(o="start"),u&&u.length||(u=N.config.chart.foreColor),c=c||N.config.chart.fontFamily,d=d||"regular";var E,I={maxWidth:m,fontSize:l=l||"11px",fontFamily:c};return Array.isArray(n)?E=N.globals.dom.Paper.text((function(S){for(var A=0;A<n.length;A++)T=n[A],m&&(T=t.getTextBasedOnMaxWidth(yt({text:n[A]},I))),A===0?S.tspan(T):S.tspan(T).newLine()})):(m&&(T=this.getTextBasedOnMaxWidth(yt({text:n},I))),E=y?N.globals.dom.Paper.plain(n):N.globals.dom.Paper.text((function(S){return S.tspan(T)}))),E.attr({x:s,y:a,"text-anchor":o,"dominant-baseline":k,"font-size":l,"font-family":c,"font-weight":d,fill:u,class:"apexcharts-text "+b}),E.node.style.fontFamily=c,E.node.style.opacity=h,E}},{key:"getMarkerPath",value:function(e,t,s,a){var n="";switch(s){case"cross":n="M ".concat(e-(a/=1.4)," ").concat(t-a," L ").concat(e+a," ").concat(t+a,"  M ").concat(e-a," ").concat(t+a," L ").concat(e+a," ").concat(t-a);break;case"plus":n="M ".concat(e-(a/=1.12)," ").concat(t," L ").concat(e+a," ").concat(t,"  M ").concat(e," ").concat(t-a," L ").concat(e," ").concat(t+a);break;case"star":case"sparkle":var o=5;a*=1.15,s==="sparkle"&&(a/=1.1,o=4);for(var l=Math.PI/o,c=0;c<=2*o;c++){var d=c*l,u=c%2==0?a:a/2;n+=(c===0?"M":"L")+(e+u*Math.sin(d))+","+(t-u*Math.cos(d))}n+="Z";break;case"triangle":n="M ".concat(e," ").concat(t-a,` 
             L `).concat(e+a," ").concat(t+a,` 
             L `).concat(e-a," ").concat(t+a,` 
             Z`);break;case"square":case"rect":n="M ".concat(e-(a/=1.125)," ").concat(t-a,` 
           L `).concat(e+a," ").concat(t-a,` 
           L `).concat(e+a," ").concat(t+a,` 
           L `).concat(e-a," ").concat(t+a,` 
           Z`);break;case"diamond":a*=1.05,n="M ".concat(e," ").concat(t-a,` 
             L `).concat(e+a," ").concat(t,` 
             L `).concat(e," ").concat(t+a,` 
             L `).concat(e-a," ").concat(t,` 
            Z`);break;case"line":n="M ".concat(e-(a/=1.1)," ").concat(t,` 
           L `).concat(e+a," ").concat(t);break;default:a*=2,n="M ".concat(e,", ").concat(t,` 
           m -`).concat(a/2,`, 0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 ").concat(a,`,0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 -").concat(a,",0")}return n}},{key:"drawMarkerShape",value:function(e,t,s,a,n){var o=this.drawPath({d:this.getMarkerPath(e,t,s,a,n),stroke:n.pointStrokeColor,strokeDashArray:n.pointStrokeDashArray,strokeWidth:n.pointStrokeWidth,fill:n.pointFillColor,fillOpacity:n.pointFillOpacity,strokeOpacity:n.pointStrokeOpacity});return o.attr({cx:e,cy:t,shape:n.shape,class:n.class?n.class:""}),o}},{key:"drawMarker",value:function(e,t,s){e=e||0;var a=s.pSize||0;return Pe.isNumber(t)||(a=0,t=0),this.drawMarkerShape(e,t,s?.shape,a,yt(yt({},s),s.shape==="line"||s.shape==="plus"||s.shape==="cross"?{pointStrokeColor:s.pointFillColor,pointStrokeOpacity:s.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var s=this.w,a=new gn(this.ctx),n=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);if(typeof s.config.chart.events.dataPointMouseEnter=="function"&&s.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:n,dataPointIndex:o,w:s}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:n,dataPointIndex:o,w:s}]),(s.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&s.config.states.hover.filter.type!=="none"&&!s.globals.isTouchDevice){var l=s.config.states.hover.filter;a.applyFilter(e,n,l.type)}}},{key:"pathMouseLeave",value:function(e,t){var s=this.w,a=new gn(this.ctx),n=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);typeof s.config.chart.events.dataPointMouseLeave=="function"&&s.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:n,dataPointIndex:o,w:s}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:n,dataPointIndex:o,w:s}]),s.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||s.config.states.hover.filter.type!=="none"&&a.getDefaultFilter(e,n)}},{key:"pathMouseDown",value:function(e,t){var s=this.w,a=new gn(this.ctx),n=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10),l="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),s.globals.selectedDataPoints[n].indexOf(o)>-1){var c=s.globals.selectedDataPoints[n].indexOf(o);s.globals.selectedDataPoints[n].splice(c,1)}}else{if(!s.config.states.active.allowMultipleDataPointsSelection&&s.globals.selectedDataPoints.length>0){s.globals.selectedDataPoints=[];var d=s.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=s.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),h=function(b){Array.prototype.forEach.call(b,(function(x){x.node.setAttribute("selected","false"),a.getDefaultFilter(x,n)}))};h(d),h(u)}e.node.setAttribute("selected","true"),l="true",s.globals.selectedDataPoints[n]===void 0&&(s.globals.selectedDataPoints[n]=[]),s.globals.selectedDataPoints[n].push(o)}if(l==="true"){var m=s.config.states.active.filter;if(m!=="none")a.applyFilter(e,n,m.type);else if(s.config.states.hover.filter!=="none"&&!s.globals.isTouchDevice){var p=s.config.states.hover.filter;a.applyFilter(e,n,p.type)}}else s.config.states.active.filter.type!=="none"&&(s.config.states.hover.filter.type==="none"||s.globals.isTouchDevice?a.getDefaultFilter(e,n):(p=s.config.states.hover.filter,a.applyFilter(e,n,p.type)));typeof s.config.chart.events.dataPointSelection=="function"&&s.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:n,dataPointIndex:o,w:s}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:n,dataPointIndex:o,w:s}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,s,a){var n=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w,l=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:s,foreColor:"#fff",opacity:0});a&&l.attr("transform",a),o.globals.dom.Paper.add(l);var c=l.bbox();return n||(c=l.node.getBoundingClientRect()),l.remove(),{width:c.width,height:c.height}}},{key:"placeTextWithEllipsis",value:function(e,t,s){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=s/1.1)){for(var a=t.length-3;a>0;a-=3)if(e.getSubStringLength(0,a)<=s/1.1)return void(e.textContent=t.substring(0,a)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])}}]),r})(),na=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,s=[];if(t.globals.series.length===0)return s;for(var a=0;a<t.globals.series[t.globals.maxValsInArrayIndex].length;a++){for(var n=0,o=0;o<t.globals.series.length;o++)t.globals.series[o][a]!==void 0&&e.indexOf(o)===-1&&(n+=t.globals.series[o][a]);s.push(n)}return s}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce((function(t,s){return t+s}),0):this.w.globals.series[e].reduce((function(t,s){return t+s}),0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,s=[];return t.globals.seriesGroups.forEach((function(a){var n=[];t.config.series.forEach((function(l,c){a.indexOf(t.globals.seriesNames[c])>-1&&n.push(c)}));var o=t.globals.series.map((function(l,c){return n.indexOf(c)===-1?c:-1})).filter((function(l){return l!==-1}));s.push(e.getStackedSeriesTotals(o))})),s}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,s=[],a=[],n=[],o=e.series.length>t.yaxis.length||t.yaxis.some((function(h){return Array.isArray(h.seriesName)}));t.series.forEach((function(h,m){n.push(m),a.push(null)})),t.yaxis.forEach((function(h,m){s[m]=[]}));var l=[];t.yaxis.forEach((function(h,m){var p=!1;if(h.seriesName){var b=[];Array.isArray(h.seriesName)?b=h.seriesName:b.push(h.seriesName),b.forEach((function(x){t.series.forEach((function(y,w){if(y.name===x){var k=w;m===w||o?!o||n.indexOf(w)>-1?s[m].push([m,w]):console.warn("Series '"+y.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(s[w].push([w,m]),k=m),p=!0,(k=n.indexOf(k))!==-1&&n.splice(k,1)}}))}))}p||l.push(m)})),s=s.map((function(h,m){var p=[];return h.forEach((function(b){a[b[1]]=b[0],p.push(b[1])})),p}));for(var c=t.yaxis.length-1,d=0;d<l.length&&(c=l[d],s[c]=[],n);d++){var u=n[0];n.shift(),s[c].push(u),a[u]=c}n.forEach((function(h){s[c].push(h),a[h]=c})),e.seriesYAxisMap=s.map((function(h){return h})),e.seriesYAxisReverseMap=a.map((function(h){return h})),e.seriesYAxisMap.forEach((function(h,m){h.forEach((function(p){t.series[p]&&t.series[p].group===void 0&&(t.series[p].group="apexcharts-axis-".concat(m.toString()))}))}))}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter((function(t){return t!==null})):this.w.config.series[e].data.filter((function(t){return t!==null}))).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every((function(t,s,a){return t===a[0]}))}},{key:"getCategoryLabels",value:function(e){var t=this.w,s=e.slice();return t.config.xaxis.convertedCatToNumeric&&(s=e.map((function(a,n){return t.config.xaxis.labels.formatter(a-t.globals.minX+1)}))),s}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,e.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach((function(s){t=Math.max(t,s)})),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach((function(s){t=Math.max(t,s.size)})),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map((function(t,s){var a=0;if(Array.isArray(t))for(var n=0;n<t.length;n++)a+=t[n];else a+=t;return a}))}},{key:"getSeriesTotalsXRange",value:function(e,t){var s=this.w;return s.globals.series.map((function(a,n){for(var o=0,l=0;l<a.length;l++)s.globals.seriesX[n][l]>e&&s.globals.seriesX[n][l]<t&&(o+=a[l]);return o}))}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map((function(t,s){var a=[];if(Array.isArray(t))for(var n=0;n<t.length;n++){var o=e.globals.stackedSeriesTotals[n],l=0;o&&(l=100*t[n]/o),a.push(l)}else{var c=100*t/e.globals.seriesTotals.reduce((function(d,u){return d+u}),0);a.push(c)}return a}))}},{key:"getCalculatedRatios",value:function(){var e,t,s,a=this,n=this.w,o=n.globals,l=[],c=0,d=[],u=.1,h=0;if(o.yRange=[],o.isMultipleYAxis)for(var m=0;m<o.minYArr.length;m++)o.yRange.push(Math.abs(o.minYArr[m]-o.maxYArr[m])),d.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var p=0;p<o.yRange.length;p++)l.push(o.yRange[p]/o.gridHeight);if(t=o.xRange/o.gridWidth,e=o.yRange/o.gridWidth,s=o.xRange/o.gridHeight,(c=o.zRange/o.gridHeight*16)||(c=1),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(o.hasNegs=!0),n.globals.seriesYAxisReverseMap.length>0){var b=function(y,w){var k=n.config.yaxis[n.globals.seriesYAxisReverseMap[w]],N=y<0?-1:1;return y=Math.abs(y),k.logarithmic&&(y=a.getBaseLog(k.logBase,y)),-N*y/l[w]};if(o.isMultipleYAxis){d=[];for(var x=0;x<l.length;x++)d.push(b(o.minYArr[x],x))}else(d=[]).push(b(o.minY,0)),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(u=-o.minY/e,h=o.minX/t)}else(d=[]).push(0),u=0,h=0;return{yRatio:l,invertedYRatio:e,zRatio:c,xRatio:t,invertedXRatio:s,baseLineInvertedY:u,baseLineY:d,baseLineX:h}}},{key:"getLogSeries",value:function(e){var t=this,s=this.w;return s.globals.seriesLog=e.map((function(a,n){var o=s.globals.seriesYAxisReverseMap[n];return s.config.yaxis[o]&&s.config.yaxis[o].logarithmic?a.map((function(l){return l===null?null:t.getLogVal(s.config.yaxis[o].logBase,l,n)})):a})),s.globals.invalidLogScale?e:s.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var s=this.w,a=s.globals.seriesYAxisReverseMap[t];return s.config.yaxis[a]&&s.config.yaxis[a].logarithmic?this.getLogVal(s.config.yaxis[a].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,s){if(t<=0)return 0;var a=this.w,n=a.globals.minYArr[s]===0?-1:this.getBaseLog(e,a.globals.minYArr[s]),o=(a.globals.maxYArr[s]===0?0:this.getBaseLog(e,a.globals.maxYArr[s]))-n;return t<1?t/o:(this.getBaseLog(e,t)-n)/o}},{key:"getLogYRatios",value:function(e){var t=this,s=this.w,a=this.w.globals;return a.yLogRatio=e.slice(),a.logYRange=a.yRange.map((function(n,o){var l=s.globals.seriesYAxisReverseMap[o];if(s.config.yaxis[l]&&t.w.config.yaxis[l].logarithmic){var c,d=-Number.MAX_VALUE,u=Number.MIN_VALUE;return a.seriesLog.forEach((function(h,m){h.forEach((function(p){s.config.yaxis[m]&&s.config.yaxis[m].logarithmic&&(d=Math.max(p,d),u=Math.min(p,u))}))})),c=Math.pow(a.yRange[o],Math.abs(u-d)/a.yRange[o]),a.yLogRatio[o]=c/a.gridHeight,c}})),a.invalidLogScale?e.slice():a.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,s,a){var n=this.w,o=[];return e.series.length>0&&t.forEach((function(l){var c=[],d=[];e.i.forEach((function(u,h){n.config.series[u].group===l&&(c.push(e.series[h]),d.push(u))})),c.length>0&&o.push(a.draw(c,s,d))})),o}}],[{key:"checkComboSeries",value:function(e,t){var s=!1,a=0,n=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach((function(o){o.type!=="bar"&&o.type!=="column"&&o.type!=="candlestick"&&o.type!=="boxPlot"||a++,o.type!==void 0&&o.type!==t&&n++})),n>0&&(s=!0),{comboBarCount:a,comboCharts:s}}},{key:"extendArrayProps",value:function(e,t,s){var a,n,o,l,c,d;return(a=t)!==null&&a!==void 0&&a.yaxis&&(t=e.extendYAxis(t,s)),(n=t)!==null&&n!==void 0&&n.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(o=t)!==null&&o!==void 0&&(l=o.annotations)!==null&&l!==void 0&&l.xaxis&&(t=e.extendXAxisAnnotations(t)),(c=t)!==null&&c!==void 0&&(d=c.annotations)!==null&&d!==void 0&&d.points&&(t=e.extendPointAnnotations(t))),t}}]),r})(),ik=(function(){function r(e){Rt(this,r),this.w=e.w,this.annoCtx=e}return It(r,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.w;if(e.label.orientation==="vertical"){var a=t!==null?t:0,n=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(a,"']"));if(n!==null){var o=n.getBoundingClientRect();n.setAttribute("x",parseFloat(n.getAttribute("x"))-o.height+4);var l=e.label.position==="top"?o.width:-o.width;n.setAttribute("y",parseFloat(n.getAttribute("y"))+l);var c=this.annoCtx.graphics.rotateAroundCenter(n),d=c.x,u=c.y;n.setAttribute("transform","rotate(-90 ".concat(d," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var s=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var a=s.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),n=e.getBoundingClientRect(),o=t.label.style.padding,l=o.left,c=o.right,d=o.top,u=o.bottom;if(t.label.orientation==="vertical"){var h=[l,c,d,u];d=h[0],u=h[1],l=h[2],c=h[3]}var m=n.left-a.left-l,p=n.top-a.top-d,b=this.annoCtx.graphics.drawRect(m-s.globals.barPadForNumericAxis,p,n.width+l+c,n.height+d+u,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&b.node.classList.add(t.id),b}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,s=function(a,n,o){var l=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(n,"']"));if(l){var c=l.parentNode,d=e.addBackgroundToAnno(l,a);d&&(c.insertBefore(d.node,l),a.label.mouseEnter&&d.node.addEventListener("mouseenter",a.label.mouseEnter.bind(e,a)),a.label.mouseLeave&&d.node.addEventListener("mouseleave",a.label.mouseLeave.bind(e,a)),a.label.click&&d.node.addEventListener("click",a.label.click.bind(e,a)))}};t.config.annotations.xaxis.forEach((function(a,n){return s(a,n,"xaxis")})),t.config.annotations.yaxis.forEach((function(a,n){return s(a,n,"yaxis")})),t.config.annotations.points.forEach((function(a,n){return s(a,n,"point")}))}},{key:"getY1Y2",value:function(e,t){var s,a=this.w,n=e==="y1"?t.y:t.y2,o=!1;if(this.annoCtx.invertAxis){var l=a.config.xaxis.convertedCatToNumeric?a.globals.categoryLabels:a.globals.labels,c=l.indexOf(n),d=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(c+1,")"));s=d?parseFloat(d.getAttribute("y")):(a.globals.gridHeight/l.length-1)*(c+1)-a.globals.barHeight,t.seriesIndex!==void 0&&a.globals.barHeight&&(s-=a.globals.barHeight/2*(a.globals.series.length-1)-a.globals.barHeight*t.seriesIndex)}else{var u,h=a.globals.seriesYAxisMap[t.yAxisIndex][0],m=a.config.yaxis[t.yAxisIndex].logarithmic?new na(this.annoCtx.ctx).getLogVal(a.config.yaxis[t.yAxisIndex].logBase,n,h)/a.globals.yLogRatio[h]:(n-a.globals.minYArr[h])/(a.globals.yRange[h]/a.globals.gridHeight);s=a.globals.gridHeight-Math.min(Math.max(m,0),a.globals.gridHeight),o=m>a.globals.gridHeight||m<0,!t.marker||t.y!==void 0&&t.y!==null||(s=0),(u=a.config.yaxis[t.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(s=m)}return typeof n=="string"&&n.includes("px")&&(s=parseFloat(n)),{yP:s,clipped:o}}},{key:"getX1X2",value:function(e,t){var s=this.w,a=e==="x1"?t.x:t.x2,n=this.annoCtx.invertAxis?s.globals.minY:s.globals.minX,o=this.annoCtx.invertAxis?s.globals.maxY:s.globals.maxX,l=this.annoCtx.invertAxis?s.globals.yRange[0]:s.globals.xRange,c=!1,d=this.annoCtx.inversedReversedAxis?(o-a)/(l/s.globals.gridWidth):(a-n)/(l/s.globals.gridWidth);return s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||s.config.chart.sparkline.enabled||(d=this.getStringX(a)),typeof a=="string"&&a.includes("px")&&(d=parseFloat(a)),a==null&&t.marker&&(d=s.globals.gridWidth),t.seriesIndex!==void 0&&s.globals.barWidth&&!this.annoCtx.invertAxis&&(d-=s.globals.barWidth/2*(s.globals.series.length-1)-s.globals.barWidth*t.seriesIndex),typeof d!="number"&&(d=0,c=!0),parseFloat(d.toFixed(10))>parseFloat(s.globals.gridWidth.toFixed(10))?(d=s.globals.gridWidth,c=!0):d<0&&(d=0,c=!0),{x:d,clipped:c}}},{key:"getStringX",value:function(e){var t=this.w,s=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var a=t.globals.labels.map((function(o){return Array.isArray(o)?o.join(" "):o})).indexOf(e),n=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(a+1,")"));return n&&(s=parseFloat(n.getAttribute("x"))),s}}]),r})(),c1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new ik(this.annoCtx)}return It(r,[{key:"addXaxisAnnotation",value:function(e,t,s){var a,n=this.w,o=this.helpers.getX1X2("x1",e),l=o.x,c=o.clipped,d=!0,u=e.label.text,h=e.strokeDashArray;if(Pe.isNumber(l)){if(e.x2===null||e.x2===void 0){if(!c){var m=this.annoCtx.graphics.drawLine(l+e.offsetX,0+e.offsetY,l+e.offsetX,n.globals.gridHeight+e.offsetY,e.borderColor,h,e.borderWidth);t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}}else{var p=this.helpers.getX1X2("x2",e);if(a=p.x,d=p.clipped,a<l){var b=l;l=a,a=b}var x=this.annoCtx.graphics.drawRect(l+e.offsetX,0+e.offsetY,a-l,n.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,h);x.node.classList.add("apexcharts-annotation-rect"),x.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),t.appendChild(x.node),e.id&&x.node.classList.add(e.id)}if(!c||!d){var y=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),w=e.label.position==="top"?4:e.label.position==="center"?n.globals.gridHeight/2+(e.label.orientation==="vertical"?y.width/2:0):n.globals.gridHeight,k=this.annoCtx.graphics.drawText({x:l+e.label.offsetX,y:w+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?y.width/2-12:-y.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});k.attr({rel:s}),t.appendChild(k.node),this.annoCtx.helpers.setOrientations(e,s)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map((function(a,n){e.addXaxisAnnotation(a,s.node,n)})),s}}]),r})(),hn=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return It(r,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var s=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return s=this.getTimeStamp(s)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var s=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,n=["\0"].concat(za(s.months)),o=[""].concat(za(s.shortMonths)),l=[""].concat(za(s.days)),c=[""].concat(za(s.shortDays));function d(A,P){var O=A+"";for(P=P||2;O.length<P;)O="0"+O;return O}var u=a?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var h=(a?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+n[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+d(h))).replace(/(^|[^\\])M/g,"$1"+h);var m=a?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+l[0])).replace(/(^|[^\\])ddd/g,"$1"+c[0])).replace(/(^|[^\\])dd/g,"$1"+d(m))).replace(/(^|[^\\])d/g,"$1"+m);var p=a?e.getUTCHours():e.getHours(),b=p>12?p-12:p===0?12:p;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+d(p))).replace(/(^|[^\\])H/g,"$1"+p)).replace(/(^|[^\\])hh+/g,"$1"+d(b))).replace(/(^|[^\\])h/g,"$1"+b);var x=a?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+d(x))).replace(/(^|[^\\])m/g,"$1"+x);var y=a?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+d(y))).replace(/(^|[^\\])s/g,"$1"+y);var w=a?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+d(w,3)),w=Math.round(w/10),t=t.replace(/(^|[^\\])ff/g,"$1"+d(w)),w=Math.round(w/10);var k=p<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+w)).replace(/(^|[^\\])TT+/g,"$1"+k)).replace(/(^|[^\\])T/g,"$1"+k.charAt(0));var N=k.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+N)).replace(/(^|[^\\])t/g,"$1"+N.charAt(0));var T=-e.getTimezoneOffset(),E=a||!T?"Z":T>0?"+":"-";if(!a){var I=(T=Math.abs(T))%60;E+=d(Math.floor(T/60))+":"+d(I)}t=t.replace(/(^|[^\\])K/g,"$1"+E);var S=(a?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(l[0],"g"),l[S])).replace(new RegExp(c[0],"g"),c[S])).replace(new RegExp(n[0],"g"),n[h])).replace(new RegExp(o[0],"g"),o[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,s){var a=this.w;a.config.xaxis.min!==void 0&&(e=a.config.xaxis.min),a.config.xaxis.max!==void 0&&(t=a.config.xaxis.max);var n=this.getDate(e),o=this.getDate(t),l=this.formatDate(n,"yyyy MM dd HH mm ss fff").split(" "),c=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(l[6],10),maxMillisecond:parseInt(c[6],10),minSecond:parseInt(l[5],10),maxSecond:parseInt(c[5],10),minMinute:parseInt(l[4],10),maxMinute:parseInt(c[4],10),minHour:parseInt(l[3],10),maxHour:parseInt(c[3],10),minDate:parseInt(l[2],10),maxDate:parseInt(c[2],10),minMonth:parseInt(l[1],10)-1,maxMonth:parseInt(c[1],10)-1,minYear:parseInt(l[0],10),maxYear:parseInt(c[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,s){return this.determineDaysOfMonths(e,t)-s}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,s){var a=this.daysCntOfYear[t]+s;return t>1&&this.isLeapYear()&&a++,a}},{key:"determineDaysOfMonths",value:function(e,t){var s=30;switch(e=Pe.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(s=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:s=31}return s}}]),r})(),bb=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return It(r,[{key:"xLabelFormat",value:function(e,t,s,a){var n=this.w;if(n.config.xaxis.type==="datetime"&&n.config.xaxis.labels.formatter===void 0&&n.config.tooltip.x.formatter===void 0){var o=new hn(this.ctx);return o.formatDate(o.getDate(t),n.config.tooltip.x.format)}return e(t,s,a)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map((function(t){return t})):e}},{key:"defaultYFormatter",value:function(e,t,s){var a=this.w;if(Pe.isNumber(e))if(a.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:a.globals.yValueDecimal);else{var n=e.toFixed(0);e=e==n?n:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.ttKeyFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.ttZFormatter=function(s){return s},t.globals.legendFormatter=function(s){return e.defaultGeneralFormatter(s)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(s){if(Pe.isNumber(s)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(Pe.isNumber(t.config.xaxis.decimalsInFloat))return s.toFixed(t.config.xaxis.decimalsInFloat);var a=t.globals.maxX-t.globals.minX;return a>0&&a<100?s.toFixed(1):s.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?s.toFixed(1):s.toFixed(0)}return s},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach((function(s,a){s.labels.formatter!==void 0?t.globals.yLabelFormatters[a]=s.labels.formatter:t.globals.yLabelFormatters[a]=function(n){return t.globals.xyCharts?Array.isArray(n)?n.map((function(o){return e.defaultYFormatter(o,s,a)})):e.defaultYFormatter(n,s,a):n}})),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce((function(s,a){return s.length>a.length?s:a}),0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),r})(),qd=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"getLabel",value:function(e,t,s,a){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",l=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],c=this.w,d=e[a]===void 0?"":e[a],u=d,h=c.globals.xLabelFormatter,m=c.config.xaxis.labels.formatter,p=!1,b=new bb(this.ctx),x=d;l&&(u=b.xLabelFormat(h,d,x,{i:a,dateFormatter:new hn(this.ctx).formatDate,w:c}),m!==void 0&&(u=m(d,e[a],{i:a,dateFormatter:new hn(this.ctx).formatDate,w:c})));var y,w;t.length>0?(y=t[a].unit,w=null,t.forEach((function(E){E.unit==="month"?w="year":E.unit==="day"?w="month":E.unit==="hour"?w="day":E.unit==="minute"&&(w="hour")})),p=w===y,s=t[a].position,u=t[a].value):c.config.xaxis.type==="datetime"&&m===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var k=new ot(this.ctx),N={};N=c.globals.rotateXLabels&&l?k.getTextRects(u,parseInt(o,10),null,"rotate(".concat(c.config.xaxis.labels.rotate," 0 0)"),!1):k.getTextRects(u,parseInt(o,10));var T=!c.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||n.indexOf(u)>=0&&T)&&(u=""),{x:s,text:u,textRect:N,isBold:p}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,s){var a=this.w,n=a.config.xaxis.tickAmount;return n==="dataPoints"&&(n=Math.round(a.globals.gridWidth/120)),n>s||e%Math.round(s/(n+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,s,a,n){var o=this.w;if(e===0&&o.globals.skipFirstTimelinelabel&&(t.text=""),e===s-1&&o.globals.skipLastTimelinelabel&&(t.text=""),o.config.xaxis.labels.hideOverlappingLabels&&a.length>0){var l=n[n.length-1];if(o.config.xaxis.labels.trim&&o.config.xaxis.type!=="datetime")return t;t.x<l.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+l.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var s=this.w;return s.config.yaxis[e]&&s.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some((function(s){return t.collapsedSeriesIndices.indexOf(s)===-1}))}},{key:"translateYAxisIndex",value:function(e){var t=this.w,s=t.globals,a=t.config.yaxis;return s.series.length>a.length||a.some((function(n){return Array.isArray(n.seriesName)}))?e:s.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,s=t.config.yaxis[e];if(!s.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!s.showForNullSeries){var a=t.globals.seriesYAxisMap[e],n=new na(this.ctx);return a.every((function(o){return n.isSeriesNull(o)}))}return!1}},{key:"getYAxisForeColor",value:function(e,t){var s=this.w;return Array.isArray(e)&&s.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,s.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,s,a,n,o,l){var c=this.w,d=new ot(this.ctx),u=c.globals.translateY+c.config.yaxis[n].labels.offsetY;if(c.globals.isBarHorizontal?u=0:c.config.chart.type==="heatmap"&&(u+=o/2),a.show&&t>0){c.config.yaxis[n].opposite===!0&&(e+=a.width);for(var h=t;h>=0;h--){var m=d.drawLine(e+s.offsetX-a.width+a.offsetX,u+a.offsetY,e+s.offsetX+a.offsetX,u+a.offsetY,a.color);l.add(m),u+=o}}}}]),r})(),d1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new ik(this.annoCtx),this.axesUtils=new qd(this.annoCtx)}return It(r,[{key:"addYaxisAnnotation",value:function(e,t,s){var a,n=this.w,o=e.strokeDashArray,l=this.helpers.getY1Y2("y1",e),c=l.yP,d=l.clipped,u=!0,h=!1,m=e.label.text;if(e.y2===null||e.y2===void 0){if(!d){h=!0;var p=this.annoCtx.graphics.drawLine(0+e.offsetX,c+e.offsetY,this._getYAxisAnnotationWidth(e),c+e.offsetY,e.borderColor,o,e.borderWidth);t.appendChild(p.node),e.id&&p.node.classList.add(e.id)}}else{if(a=(l=this.helpers.getY1Y2("y2",e)).yP,u=l.clipped,a>c){var b=c;c=a,a=b}if(!d||!u){h=!0;var x=this.annoCtx.graphics.drawRect(0+e.offsetX,a+e.offsetY,this._getYAxisAnnotationWidth(e),c-a,0,e.fillColor,e.opacity,1,e.borderColor,o);x.node.classList.add("apexcharts-annotation-rect"),x.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),t.appendChild(x.node),e.id&&x.node.classList.add(e.id)}}if(h){var y=e.label.position==="right"?n.globals.gridWidth:e.label.position==="center"?n.globals.gridWidth/2:0,w=this.annoCtx.graphics.drawText({x:y+e.label.offsetX,y:(a??c)+e.label.offsetY-3,text:m,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});w.attr({rel:s}),t.appendChild(w.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach((function(a,n){a.yAxisIndex=e.axesUtils.translateYAxisIndex(a.yAxisIndex),e.axesUtils.isYAxisHidden(a.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(a.yAxisIndex)||e.addYaxisAnnotation(a,s.node,n)})),s}}]),r})(),u1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new ik(this.annoCtx)}return It(r,[{key:"addPointAnnotation",value:function(e,t,s){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var a=this.helpers.getX1X2("x1",e),n=a.x,o=a.clipped,l=(a=this.helpers.getY1Y2("y1",e)).yP,c=a.clipped;if(Pe.isNumber(n)&&!c&&!o){var d={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(n+e.marker.offsetX,l+e.marker.offsetY,d);t.appendChild(u.node);var h=e.label.text?e.label.text:"",m=this.annoCtx.graphics.drawText({x:n+e.label.offsetX,y:l+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(m.attr({rel:s}),t.appendChild(m.node),e.customSVG.SVG){var p=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});p.attr({transform:"translate(".concat(n+e.customSVG.offsetX,", ").concat(l+e.customSVG.offsetY,")")}),p.node.innerHTML=e.customSVG.SVG,t.appendChild(p.node)}if(e.image.path){var b=e.image.width?e.image.width:20,x=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:n+e.image.offsetX-b/2,y:l+e.image.offsetY-x/2,width:b,height:x,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map((function(a,n){e.addPointAnnotation(a,s.node,n)})),s}}]),r})(),QH={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Gu=(function(){function r(){Rt(this,r),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return It(r,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[QH],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(t,s){return t+s}),0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(t,s){return t+s}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),r})(),h1e=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.graphics=new ot(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new ik(this),this.xAxisAnnotations=new c1e(this),this.yAxisAnnotations=new d1e(this),this.pointsAnnotations=new u1e(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return It(r,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),s=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),n=e.config.chart.animations.enabled,o=[t,s,a],l=[s.node,t.node,a.node],c=0;c<3;c++)e.globals.dom.elGraphical.add(o[c]),!n||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&l[c].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:l[c],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map((function(t,s){e.addImage(t,s)}))}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map((function(t,s){e.addText(t,s)}))}},{key:"addXaxisAnnotation",value:function(e,t,s){this.xAxisAnnotations.addXaxisAnnotation(e,t,s)}},{key:"addYaxisAnnotation",value:function(e,t,s){this.yAxisAnnotations.addYaxisAnnotation(e,t,s)}},{key:"addPointAnnotation",value:function(e,t,s){this.pointsAnnotations.addPointAnnotation(e,t,s)}},{key:"addText",value:function(e,t){var s=e.x,a=e.y,n=e.text,o=e.textAnchor,l=e.foreColor,c=e.fontSize,d=e.fontFamily,u=e.fontWeight,h=e.cssClass,m=e.backgroundColor,p=e.borderWidth,b=e.strokeDashArray,x=e.borderRadius,y=e.borderColor,w=e.appendTo,k=w===void 0?".apexcharts-svg":w,N=e.paddingLeft,T=N===void 0?4:N,E=e.paddingRight,I=E===void 0?4:E,S=e.paddingBottom,A=S===void 0?2:S,P=e.paddingTop,O=P===void 0?2:P,M=this.w,L=this.graphics.drawText({x:s,y:a,text:n,textAnchor:o||"start",fontSize:c||"12px",fontWeight:u||"regular",fontFamily:d||M.config.chart.fontFamily,foreColor:l||M.config.chart.foreColor,cssClass:h}),B=M.globals.dom.baseEl.querySelector(k);B&&B.appendChild(L.node);var G=L.bbox();if(n){var X=this.graphics.drawRect(G.x-T,G.y-O,G.width+T+I,G.height+A+O,x,m||"transparent",1,p,y,b);B.insertBefore(X.node,L.node)}}},{key:"addImage",value:function(e,t){var s=this.w,a=e.path,n=e.x,o=n===void 0?0:n,l=e.y,c=l===void 0?0:l,d=e.width,u=d===void 0?20:d,h=e.height,m=h===void 0?20:h,p=e.appendTo,b=p===void 0?".apexcharts-svg":p,x=s.globals.dom.Paper.image(a);x.size(u,m).move(o,c);var y=s.globals.dom.baseEl.querySelector(b);return y&&y.appendChild(x.node),x}},{key:"addXaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"xaxis",contextMethod:s.addXaxisAnnotation}),s}},{key:"addYaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"yaxis",contextMethod:s.addYaxisAnnotation}),s}},{key:"addPointAnnotationExternal",value:function(e,t,s){return this.invertAxis===void 0&&(this.invertAxis=s.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"point",contextMethod:s.addPointAnnotation}),s}},{key:"addAnnotationExternal",value:function(e){var t=e.params,s=e.pushToMemory,a=e.context,n=e.type,o=e.contextMethod,l=a,c=l.w,d=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations")),u=d.childNodes.length+1,h=new Gu,m=Object.assign({},n==="xaxis"?h.xAxisAnnotation:n==="yaxis"?h.yAxisAnnotation:h.pointAnnotation),p=Pe.extend(m,t);switch(n){case"xaxis":this.addXaxisAnnotation(p,d,u);break;case"yaxis":this.addYaxisAnnotation(p,d,u);break;case"point":this.addPointAnnotation(p,d,u)}var b=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations .apexcharts-").concat(n,"-annotation-label[rel='").concat(u,"']")),x=this.helpers.addBackgroundToAnno(b,p);return x&&d.insertBefore(x.node,b),s&&c.globals.memory.methodsToExec.push({context:l,id:p.id?p.id:Pe.randomId(),method:o,label:"addAnnotation",params:t}),a}},{key:"clearAnnotations",value:function(e){for(var t=e.w,s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),a=t.globals.memory.methodsToExec.length-1;a>=0;a--)t.globals.memory.methodsToExec[a].label!=="addText"&&t.globals.memory.methodsToExec[a].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(a,1);s=Pe.listToArray(s),Array.prototype.forEach.call(s,(function(n){for(;n.firstChild;)n.removeChild(n.firstChild)}))}},{key:"removeAnnotation",value:function(e,t){var s=e.w,a=s.globals.dom.baseEl.querySelectorAll(".".concat(t));a&&(s.globals.memory.methodsToExec.map((function(n,o){n.id===t&&s.globals.memory.methodsToExec.splice(o,1)})),Object.keys(s.config.annotations).forEach((function(n){var o=s.config.annotations[n];Array.isArray(o)&&(s.config.annotations[n]=o.filter((function(l){return l.id!==t})))})),Array.prototype.forEach.call(a,(function(n){n.parentElement.removeChild(n)})))}}]),r})(),US=function(r){var e,t=r.isTimeline,s=r.ctx,a=r.seriesIndex,n=r.dataPointIndex,o=r.y1,l=r.y2,c=r.w,d=c.globals.seriesRangeStart[a][n],u=c.globals.seriesRangeEnd[a][n],h=c.globals.labels[n],m=c.config.series[a].name?c.config.series[a].name:"",p=c.globals.ttKeyFormatter,b=c.config.tooltip.y.title.formatter,x={w:c,seriesIndex:a,dataPointIndex:n,start:d,end:u};typeof b=="function"&&(m=b(m,x)),(e=c.config.series[a].data[n])!==null&&e!==void 0&&e.x&&(h=c.config.series[a].data[n].x),t||c.config.xaxis.type==="datetime"&&(h=new bb(s).xLabelFormat(c.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new hn(s).formatDate,w:c})),typeof p=="function"&&(h=p(h,x)),Number.isFinite(o)&&Number.isFinite(l)&&(d=o,u=l);var y="",w="",k=c.globals.colors[a];if(c.config.tooltip.x.formatter===void 0)if(c.config.xaxis.type==="datetime"){var N=new hn(s);y=N.formatDate(N.getDate(d),c.config.tooltip.x.format),w=N.formatDate(N.getDate(u),c.config.tooltip.x.format)}else y=d,w=u;else y=c.config.tooltip.x.formatter(d),w=c.config.tooltip.x.formatter(u);return{start:d,end:u,startVal:y,endVal:w,ylabel:h,color:k,seriesName:m}},zS=function(r){var e=r.color,t=r.seriesName,s=r.ylabel,a=r.start,n=r.end,o=r.seriesIndex,l=r.dataPointIndex,c=r.ctx.tooltip.tooltipLabels.getFormatters(o);a=c.yLbFormatter(a),n=c.yLbFormatter(n);var d=c.yLbFormatter(r.w.globals.series[o][l]),u=`<span class="value start-value">
  `.concat(a,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(n,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+s+": </span> "+(r.w.globals.comboCharts?r.w.config.series[o].type==="rangeArea"||r.w.config.series[o].type==="rangeBar"?u:"<span>".concat(d,"</span>"):u)+" </div></div>"},mx=(function(){function r(e){Rt(this,r),this.opts=e}return It(r,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),Pe.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var s=t.w.config.series[t.seriesIndex].name;return e!==null?s+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),yt(yt({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var s=t.seriesIndex,a=t.dataPointIndex,n=t.w;return e._getBoxTooltip(n,s,a,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var s=t.seriesIndex,a=t.dataPointIndex,n=t.w;return e._getBoxTooltip(n,s,a,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var s=t.seriesIndex,a=t.dataPointIndex,n=t.w,o=function(){var l=n.globals.seriesRangeStart[s][a];return n.globals.seriesRangeEnd[s][a]-l};return n.globals.comboCharts?n.config.series[s].type==="rangeBar"||n.config.series[s].type==="rangeArea"?o():e:o()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?(function(t){var s=US(yt(yt({},t),{},{isTimeline:!0})),a=s.color,n=s.seriesName,o=s.ylabel,l=s.startVal,c=s.endVal;return zS(yt(yt({},t),{},{color:a,seriesName:n,ylabel:o,start:l,end:c}))})(e):(function(t){var s=US(t),a=s.color,n=s.seriesName,o=s.ylabel,l=s.start,c=s.end;return zS(yt(yt({},t),{},{color:a,seriesName:n,ylabel:o,start:l,end:c}))})(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,s;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(s=e.plotOptions.bar)!==null&&s!==void 0&&s.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return(function(t){var s=US(t),a=s.color,n=s.seriesName,o=s.ylabel,l=s.start,c=s.end;return zS(yt(yt({},t),{},{color:a,seriesName:n,ylabel:o,start:l,end:c}))})(e)}}}}},{key:"brush",value:function(e){return Pe.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach((function(s,a){e.yaxis[a].min=0,e.yaxis[a].max=100})),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(s){return typeof s=="number"&&s?s.toFixed(0)+"%":s}),e}},{key:"stackedBars",value:function(){var e=this.bar();return yt(yt({},e),{},{plotOptions:yt(yt({},e.plotOptions),{},{bar:yt(yt({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,s){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(o){return Pe.isNumber(o)?Math.floor(o):o};var a=e.xaxis.labels.formatter,n=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return s&&s.length&&(n=s.map((function(o){return Array.isArray(o)?o:String(o)}))),n&&n.length&&(e.xaxis.labels.formatter=function(o){return Pe.isNumber(o)?a(n[Math.floor(o)-1]):a(o)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,s,a,n){var o=e.globals.seriesCandleO[t][s],l=e.globals.seriesCandleH[t][s],c=e.globals.seriesCandleM[t][s],d=e.globals.seriesCandleL[t][s],u=e.globals.seriesCandleC[t][s];return e.config.series[t].type&&e.config.series[t].type!==n?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][s],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+l+"</span></div>"+(c?"<div>".concat(a[2],': <span class="value">')+c+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+d+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+u+"</span></div></div>"}}]),r})(),gx=(function(){function r(e){Rt(this,r),this.opts=e}return It(r,[{key:"init",value:function(e){var t=e.responsiveOverride,s=this.opts,a=new Gu,n=new mx(s);this.chartType=s.chart.type,s=this.extendYAxis(s),s=this.extendAnnotations(s);var o=a.init(),l={};if(s&&Vn(s)==="object"){var c,d,u,h,m,p,b,x,y,w,k={};k=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(s.chart.type)!==-1?n[s.chart.type]():n.line(),(c=s.plotOptions)!==null&&c!==void 0&&(d=c.bar)!==null&&d!==void 0&&d.isFunnel&&(k=n.funnel()),s.chart.stacked&&s.chart.type==="bar"&&(k=n.stackedBars()),(u=s.chart.brush)!==null&&u!==void 0&&u.enabled&&(k=n.brush(k)),(h=s.plotOptions)!==null&&h!==void 0&&(m=h.line)!==null&&m!==void 0&&m.isSlopeChart&&(k=n.slope()),s.chart.stacked&&s.chart.stackType==="100%"&&(s=n.stacked100(s)),(p=s.plotOptions)!==null&&p!==void 0&&(b=p.bar)!==null&&b!==void 0&&b.isDumbbell&&(s=n.dumbbell(s)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(s),s.xaxis=s.xaxis||window.Apex.xaxis||{},t||(s.xaxis.convertedCatToNumeric=!1),((x=(s=this.checkForCatToNumericXAxis(this.chartType,k,s)).chart.sparkline)!==null&&x!==void 0&&x.enabled||(y=window.Apex.chart)!==null&&y!==void 0&&(w=y.sparkline)!==null&&w!==void 0&&w.enabled)&&(k=n.sparkline(k)),l=Pe.extend(o,k)}var N=Pe.extend(l,window.Apex);return o=Pe.extend(N,s),o=this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(e,t,s){var a,n,o=new mx(s),l=(e==="bar"||e==="boxPlot")&&((a=s.plotOptions)===null||a===void 0||(n=a.bar)===null||n===void 0?void 0:n.horizontal),c=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",d=s.xaxis.type!=="datetime"&&s.xaxis.type!=="numeric",u=s.xaxis.tickPlacement?s.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return l||c||!d||u==="between"||(s=o.convertCatToNumeric(s)),s}},{key:"extendYAxis",value:function(e,t){var s=new Gu;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=Pe.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[Pe.extend(s.yAxis,e.yaxis)]:e.yaxis=Pe.extendArray(e.yaxis,s.yAxis);var a=!1;e.yaxis.forEach((function(o){o.logarithmic&&(a=!0)}));var n=e.series;return t&&!n&&(n=t.config.series),a&&n.length!==e.yaxis.length&&n.length&&(e.yaxis=n.map((function(o,l){if(o.name||(n[l].name="series-".concat(l+1)),e.yaxis[l])return e.yaxis[l].seriesName=n[l].name,e.yaxis[l];var c=Pe.extend(s.yAxis,e.yaxis[0]);return c.show=!1,c}))),a&&n.length>1&&n.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new Gu;return e.annotations.yaxis=Pe.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new Gu;return e.annotations.xaxis=Pe.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new Gu;return e.annotations.points=Pe.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),r})(),JH=(function(){function r(){Rt(this,r)}return It(r,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=Pe.extend({},e),t.initialSeries=Pe.clone(e.series),t.lastXAxis=Pe.clone(t.initialConfig.xaxis),t.lastYAxis=Pe.clone(t.initialConfig.yaxis),t}}]),r})(),f1e=(function(){function r(e){Rt(this,r),this.opts=e}return It(r,[{key:"init",value:function(){var e=new gx(this.opts).init({responsiveOverride:!1});return{config:e,globals:new JH().init(e)}}}]),r})(),Lo=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return It(r,[{key:"clippedImgArea",value:function(e){var t=this.w,s=t.config,a=parseInt(t.globals.gridWidth,10),n=parseInt(t.globals.gridHeight,10),o=a>n?a:n,l=e.image,c=0,d=0;e.width===void 0&&e.height===void 0?s.fill.image.width!==void 0&&s.fill.image.height!==void 0?(c=s.fill.image.width+1,d=s.fill.image.height):(c=o+1,d=o):(c=e.width,d=e.height);var u=document.createElementNS(t.globals.SVGNS,"pattern");ot.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:c+"px",height:d+"px"});var h=document.createElementNS(t.globals.SVGNS,"image");u.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",l),ot.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:c+"px",height:d+"px"}),h.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var t=this.w,s=t.config.chart.type;return(s==="bar"||s==="rangeBar")&&t.config.plotOptions.bar.distributed||s==="heatmap"||s==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var s,a=this.w,n=null,o=null,l=np(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;c>=t.threshold?(n===null||c>n)&&(n=c):(o===null||c<o)&&(o=c)}}catch(h){l.e(h)}finally{l.f()}n===null&&(n=t.threshold),o===null&&(o=t.threshold);var d=n-t.threshold+(t.threshold-o);d===0&&(d=1);var u=100-(t.threshold-o)/d*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:t.colorAboveThreshold,opacity:a.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:a.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,s,a,n=this.w;this.opts=e;var o,l,c,d=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=d.plotOptions.line.colors.colorAboveThreshold&&d.plotOptions.line.colors.colorBelowThreshold,h=this.getFillColors()[this.seriesIndex];n.globals.seriesColors[this.seriesIndex]!==void 0&&(h=n.globals.seriesColors[this.seriesIndex]),typeof h=="function"&&(h=h({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:n}));var m,p,b,x=e.fillType?e.fillType:this.getFillType(this.seriesIndex),y=Array.isArray(d.fill.opacity)?d.fill.opacity[this.seriesIndex]:d.fill.opacity,w=x==="gradient"||u;e.color&&(h=e.color),(t=n.config.series[this.seriesIndex])!==null&&t!==void 0&&(s=t.data)!==null&&s!==void 0&&(a=s[e.dataPointIndex])!==null&&a!==void 0&&a.fillColor&&(h=(m=n.config.series[this.seriesIndex])===null||m===void 0||(p=m.data)===null||p===void 0||(b=p[e.dataPointIndex])===null||b===void 0?void 0:b.fillColor),h||(h="#fff",console.warn("undefined color - ApexCharts"));var k=h;if(h.indexOf("rgb")===-1?h.indexOf("#")===-1?k=h:h.length<9&&(k=Pe.hexToRgba(h,y)):h.indexOf("rgba")>-1?y=Pe.getOpacityFromRGBA(h):k=Pe.hexToRgba(Pe.rgb2hex(h),y),e.opacity&&(y=e.opacity),x==="pattern"&&(l=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:l,fillColor:h,fillOpacity:y,defaultColor:k})),w){var N=za(d.fill.gradient.colorStops)||[],T=d.fill.gradient.type;u&&(N[this.seriesIndex]=this.computeColorStops(n.globals.series[this.seriesIndex],d.plotOptions.line.colors),T="vertical"),c=this.handleGradientFill({type:T,fillConfig:e.fillConfig,fillColor:h,fillOpacity:y,colorStops:N,i:this.seriesIndex})}if(x==="image"){var E=d.fill.image.src,I=e.patternID?e.patternID:"",S="pattern".concat(n.globals.cuid).concat(e.seriesNumber+1).concat(I);this.patternIDs.indexOf(S)===-1&&(this.clippedImgArea({opacity:y,image:Array.isArray(E)?e.seriesNumber<E.length?E[e.seriesNumber]:E[0]:E,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:S}),this.patternIDs.push(S)),o="url(#".concat(S,")")}else o=w?c:x==="pattern"?l:k;return e.solid&&(o=k),o}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,s=this.opts,a=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors),s.fillColors!==void 0&&(a=[],Array.isArray(s.fillColors)?a=s.fillColors.slice():a.push(s.fillColors)),a}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,s=e.patternFill,a=e.fillColor,n=e.fillOpacity,o=e.defaultColor,l=this.w.config.fill;t&&(l=t);var c=this.opts,d=new ot(this.ctx),u=Array.isArray(l.pattern.strokeWidth)?l.pattern.strokeWidth[this.seriesIndex]:l.pattern.strokeWidth,h=a;return Array.isArray(l.pattern.style)?s=l.pattern.style[c.seriesNumber]!==void 0?d.drawPattern(l.pattern.style[c.seriesNumber],l.pattern.width,l.pattern.height,h,u,n):o:s=d.drawPattern(l.pattern.style,l.pattern.width,l.pattern.height,h,u,n),s}},{key:"handleGradientFill",value:function(e){var t=e.type,s=e.fillColor,a=e.fillOpacity,n=e.fillConfig,o=e.colorStops,l=e.i,c=this.w.config.fill;n&&(c=yt(yt({},c),n));var d=this.opts,u=new ot(this.ctx),h=new Pe;t=t||c.gradient.type;var m,p=s,b=c.gradient.opacityFrom===void 0?a:Array.isArray(c.gradient.opacityFrom)?c.gradient.opacityFrom[l]:c.gradient.opacityFrom;p.indexOf("rgba")>-1&&(b=Pe.getOpacityFromRGBA(p));var x=c.gradient.opacityTo===void 0?a:Array.isArray(c.gradient.opacityTo)?c.gradient.opacityTo[l]:c.gradient.opacityTo;if(c.gradient.gradientToColors===void 0||c.gradient.gradientToColors.length===0)m=c.gradient.shade==="dark"?h.shadeColor(-1*parseFloat(c.gradient.shadeIntensity),s.indexOf("rgb")>-1?Pe.rgb2hex(s):s):h.shadeColor(parseFloat(c.gradient.shadeIntensity),s.indexOf("rgb")>-1?Pe.rgb2hex(s):s);else if(c.gradient.gradientToColors[d.seriesNumber]){var y=c.gradient.gradientToColors[d.seriesNumber];m=y,y.indexOf("rgba")>-1&&(x=Pe.getOpacityFromRGBA(y))}else m=s;if(c.gradient.gradientFrom&&(p=c.gradient.gradientFrom),c.gradient.gradientTo&&(m=c.gradient.gradientTo),c.gradient.inverseColors){var w=p;p=m,m=w}return p.indexOf("rgb")>-1&&(p=Pe.rgb2hex(p)),m.indexOf("rgb")>-1&&(m=Pe.rgb2hex(m)),u.drawGradient(t,p,m,b,x,d.size,c.gradient.stops,o,l)}}]),r})(),y0=(function(){function r(e,t){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map((function(s){return e.config.markers.size}))}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,s=e.seriesIndex,a=e.j,n=e.pSize,o=e.alwaysDrawMarker,l=o!==void 0&&o,c=e.isVirtualPoint,d=c!==void 0&&c,u=this.w,h=s,m=t,p=null,b=new ot(this.ctx),x=u.config.markers.discrete&&u.config.markers.discrete.length;if(Array.isArray(m.x))for(var y=0;y<m.x.length;y++){var w=void 0,k=a,N=!Pe.isNumber(m.y[y]);u.globals.markers.largestSize===0&&u.globals.hasNullValues&&u.globals.series[h][a+1]!==null&&!d&&(N=!0),a===1&&y===0&&(k=0),a===1&&y===1&&(k=1);var T="apexcharts-marker";if(u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(T+=" no-pointer-events"),(Array.isArray(u.config.markers.size)?u.globals.markers.size[s]>0:u.config.markers.size>0)||l||x){N||(T+=" w".concat(Pe.randomId()));var E=this.getMarkerConfig({cssClass:T,seriesIndex:s,dataPointIndex:k});u.config.series[h].data[k]&&(u.config.series[h].data[k].fillColor&&(E.pointFillColor=u.config.series[h].data[k].fillColor),u.config.series[h].data[k].strokeColor&&(E.pointStrokeColor=u.config.series[h].data[k].strokeColor)),n!==void 0&&(E.pSize=n),(m.x[y]<-u.globals.markers.largestSize||m.x[y]>u.globals.gridWidth+u.globals.markers.largestSize||m.y[y]<-u.globals.markers.largestSize||m.y[y]>u.globals.gridHeight+u.globals.markers.largestSize)&&(E.pSize=0),!N&&((u.globals.markers.size[s]>0||l||x)&&!p&&(p=b.group({class:l||x?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),(w=b.drawMarker(m.x[y],m.y[y],E)).attr("rel",k),w.attr("j",k),w.attr("index",s),w.node.setAttribute("default-marker-size",E.pSize),new gn(this.ctx).setSelectionFilter(w,s,k),this.addEvents(w),p&&p.add(w))}else u.globals.pointsArray[s]===void 0&&(u.globals.pointsArray[s]=[]),u.globals.pointsArray[s].push([m.x[y],m.y[y]])}return p}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,s=e.seriesIndex,a=e.dataPointIndex,n=a===void 0?null:a,o=e.radius,l=o===void 0?null:o,c=e.size,d=c===void 0?null:c,u=e.strokeWidth,h=u===void 0?null:u,m=this.w,p=this.getMarkerStyle(s),b=d===null?m.globals.markers.size[s]:d,x=m.config.markers;return n!==null&&x.discrete.length&&x.discrete.map((function(y){y.seriesIndex===s&&y.dataPointIndex===n&&(p.pointStrokeColor=y.strokeColor,p.pointFillColor=y.fillColor,b=y.size,p.pointShape=y.shape)})),{pSize:l===null?b:l,pRadius:l!==null?l:x.radius,pointStrokeWidth:h!==null?h:Array.isArray(x.strokeWidth)?x.strokeWidth[s]:x.strokeWidth,pointStrokeColor:p.pointStrokeColor,pointFillColor:p.pointFillColor,shape:p.pointShape||(Array.isArray(x.shape)?x.shape[s]:x.shape),class:t,pointStrokeOpacity:Array.isArray(x.strokeOpacity)?x.strokeOpacity[s]:x.strokeOpacity,pointStrokeDashArray:Array.isArray(x.strokeDashArray)?x.strokeDashArray[s]:x.strokeDashArray,pointFillOpacity:Array.isArray(x.fillOpacity)?x.fillOpacity[s]:x.fillOpacity,seriesIndex:s}}},{key:"addEvents",value:function(e){var t=this.w,s=new ot(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",s.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,s=t.globals.markers.colors,a=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(a)?a[e]:a,pointFillColor:Array.isArray(s)?s[e]:s}}}]),r})(),e$=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return It(r,[{key:"draw",value:function(e,t,s){var a=this.w,n=new ot(this.ctx),o=s.realIndex,l=s.pointsPos,c=s.zRatio,d=s.elParent,u=n.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(l.x))for(var h=0;h<l.x.length;h++){var m=t+1,p=!0;t===0&&h===0&&(m=0),t===0&&h===1&&(m=1);var b=a.globals.markers.size[o];if(c!==1/0){var x=a.config.plotOptions.bubble;b=a.globals.seriesZ[o][m],x.zScaling&&(b/=c),x.minBubbleRadius&&b<x.minBubbleRadius&&(b=x.minBubbleRadius),x.maxBubbleRadius&&b>x.maxBubbleRadius&&(b=x.maxBubbleRadius)}var y=l.x[h],w=l.y[h];if(b=b||0,w!==null&&a.globals.series[o][m]!==void 0||(p=!1),p){var k=this.drawPoint(y,w,b,o,m,t);u.add(k)}d.add(u)}}},{key:"drawPoint",value:function(e,t,s,a,n,o){var l=this.w,c=a,d=new g0(this.ctx),u=new gn(this.ctx),h=new Lo(this.ctx),m=new y0(this.ctx),p=new ot(this.ctx),b=m.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:c,dataPointIndex:n,radius:l.config.chart.type==="bubble"||l.globals.comboCharts&&l.config.series[a]&&l.config.series[a].type==="bubble"?s:null}),x=h.fillPath({seriesNumber:a,dataPointIndex:n,color:b.pointFillColor,patternUnits:"objectBoundingBox",value:l.globals.series[a][o]}),y=p.drawMarker(e,t,b);if(l.config.series[c].data[n]&&l.config.series[c].data[n].fillColor&&(x=l.config.series[c].data[n].fillColor),y.attr({fill:x}),l.config.chart.dropShadow.enabled){var w=l.config.chart.dropShadow;u.dropShadow(y,w,a)}if(!this.initialAnim||l.globals.dataChanged||l.globals.resized)l.globals.animationEnded=!0;else{var k=l.config.chart.animations.speed;d.animateMarker(y,k,l.globals.easing,(function(){window.setTimeout((function(){d.animationCompleted(y)}),100)}))}return y.attr({rel:n,j:n,index:a,"default-marker-size":b.pSize}),u.setSelectionFilter(y,a,n),m.addEvents(y),y.node.classList.add("apexcharts-marker"),y}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),r})(),Hm=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"dataLabelsCorrection",value:function(e,t,s,a,n,o,l){var c=this.w,d=!1,u=new ot(this.ctx).getTextRects(s,l),h=u.width,m=u.height;t<0&&(t=0),t>c.globals.gridHeight+m&&(t=c.globals.gridHeight+m/2),c.globals.dataLabelsRects[a]===void 0&&(c.globals.dataLabelsRects[a]=[]),c.globals.dataLabelsRects[a].push({x:e,y:t,width:h,height:m});var p=c.globals.dataLabelsRects[a].length-2,b=c.globals.lastDrawnDataLabelsIndexes[a]!==void 0?c.globals.lastDrawnDataLabelsIndexes[a][c.globals.lastDrawnDataLabelsIndexes[a].length-1]:0;if(c.globals.dataLabelsRects[a][p]!==void 0){var x=c.globals.dataLabelsRects[a][b];(e>x.x+x.width||t>x.y+x.height||t+m<x.y||e+h<x.x)&&(d=!0)}return(n===0||o)&&(d=!0),{x:e,y:t,textRects:u,drawnextLabel:d}}},{key:"drawDataLabel",value:function(e){var t=this,s=e.type,a=e.pos,n=e.i,o=e.j,l=e.isRangeStart,c=e.strokeWidth,d=c===void 0?2:c,u=this.w,h=new ot(this.ctx),m=u.config.dataLabels,p=0,b=0,x=o,y=null;if(u.globals.collapsedSeriesIndices.indexOf(n)!==-1||!m.enabled||!Array.isArray(a.x))return y;y=h.group({class:"apexcharts-data-labels"});for(var w=0;w<a.x.length;w++)if(p=a.x[w]+m.offsetX,b=a.y[w]+m.offsetY+d,!isNaN(p)){o===1&&w===0&&(x=0),o===1&&w===1&&(x=1);var k=u.globals.series[n][x];s==="rangeArea"&&(k=l?u.globals.seriesRangeStart[n][x]:u.globals.seriesRangeEnd[n][x]);var N="",T=function(I){return u.config.dataLabels.formatter(I,{ctx:t.ctx,seriesIndex:n,dataPointIndex:x,w:u})};u.config.chart.type==="bubble"?(N=T(k=u.globals.seriesZ[n][x]),b=a.y[w],b=new e$(this.ctx).centerTextInBubble(b,n,x).y):k!==void 0&&(N=T(k));var E=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(E=x===0?"end":x===u.config.series[n].data.length-1?"start":"middle"),this.plotDataLabelsText({x:p,y:b,text:N,i:n,j:x,parent:y,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:E})}return y}},{key:"plotDataLabelsText",value:function(e){var t=this.w,s=new ot(this.ctx),a=e.x,n=e.y,o=e.i,l=e.j,c=e.text,d=e.textAnchor,u=e.fontSize,h=e.parent,m=e.dataLabelsConfig,p=e.color,b=e.alwaysDrawDataLabel,x=e.offsetCorrection,y=e.className,w=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(o)<0)return w;var k={x:a,y:n,drawnextLabel:!0,textRects:null};x&&(k=this.dataLabelsCorrection(a,n,c,o,l,b,parseInt(m.style.fontSize,10))),t.globals.zoomed||(a=k.x,n=k.y),k.textRects&&(a<-20-k.textRects.width||a>t.globals.gridWidth+k.textRects.width+30)&&(c="");var N=t.globals.dataLabels.style.colors[o];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(N=t.globals.dataLabels.style.colors[l]),typeof N=="function"&&(N=N({series:t.globals.series,seriesIndex:o,dataPointIndex:l,w:t})),p&&(N=p);var T=m.offsetX,E=m.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(T=0,E=0),t.globals.isSlopeChart&&(l!==0&&(T=-2*m.offsetX+5),l!==0&&l!==t.config.series[o].data.length-1&&(T=0)),k.drawnextLabel){if(d==="middle"&&a===t.globals.gridWidth&&(d="end"),(w=s.drawText({width:100,height:parseInt(m.style.fontSize,10),x:a+T,y:n+E,foreColor:N,textAnchor:d||m.textAnchor,text:c,fontSize:u||m.style.fontSize,fontFamily:m.style.fontFamily,fontWeight:m.style.fontWeight||"normal"})).attr({class:y||"apexcharts-datalabel",cx:a,cy:n}),m.dropShadow.enabled){var I=m.dropShadow;new gn(this.ctx).dropShadow(w,I)}h.add(w),t.globals.lastDrawnDataLabelsIndexes[o]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[o]=[]),t.globals.lastDrawnDataLabelsIndexes[o].push(l)}return w}},{key:"addBackgroundToDataLabel",value:function(e,t){var s=this.w,a=s.config.dataLabels.background,n=a.padding,o=a.padding/2,l=t.width,c=t.height,d=new ot(this.ctx).drawRect(t.x-n,t.y-o/2,l+2*n,c+o,a.borderRadius,s.config.chart.background!=="transparent"&&s.config.chart.background?s.config.chart.background:"#fff",a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new gn(this.ctx).dropShadow(d,a.dropShadow),d}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),s=0;s<t.length;s++){var a=t[s],n=a.getBBox(),o=null;if(n.width&&n.height&&(o=this.addBackgroundToDataLabel(a,n)),o){a.parentNode.insertBefore(o.node,a);var l=e.config.dataLabels.background.backgroundColor||a.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?o.animate().attr({fill:l}):o.attr({fill:l}),a.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),s=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<t.length;a++)s&&s.insertBefore(t[a],s.nextSibling)}}]),r})(),t$=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,ho=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return It(r,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(Pe.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),s=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:s}}},{key:"addCollapsedClassToSeries",value:function(e,t){var s=this.w;function a(n){for(var o=0;o<n.length;o++)n[o].index===t&&e.node.classList.add("apexcharts-series-collapsed")}a(s.globals.collapsedSeries),a(s.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w,n=Pe.clone(a.globals.initialSeries);a.globals.previousPaths=[],s?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):n=this.emptyCollapsedSeries(n),a.config.series=n,e&&(t&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(n,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,s=0;s<e.length;s++)t.globals.collapsedSeriesIndices.indexOf(s)>-1&&(e[s].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,s=this.getSeriesByName(e),a=parseInt(s?.getAttribute("data:realIndex"),10),n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),o=null,l=null,c=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){o=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),l=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"));var d=t.globals.seriesYAxisReverseMap[a];c=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(d,"']"))}else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']"));else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var u=0;u<n.length;u++)n[u].classList.add(this.legendInactiveClass);if(o)t.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass),c!==null&&c.classList.remove(this.legendInactiveClass);else for(var h=0;h<n.length;h++)n[h].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var s=this.w;t||(t=e.target);var a=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var n=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(s.globals.seriesNames[n])}else if(e.type==="mouseout")for(var o=0;o<a.length;o++)a[o].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var s=this,a=this.w,n=a.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(d){for(var u=0;u<n.length;u++)n[u].classList[d](s.legendInactiveClass)};if(e.type==="mousemove"){var l=parseInt(t.getAttribute("rel"),10)-1;o("add");var c=a.config.plotOptions.heatmap.colorScale.ranges;(function(d,u){for(var h=0;h<n.length;h++){var m=Number(n[h].getAttribute("val"));m>=d.from&&(m<d.to||d.to===u&&m===u)&&n[h].classList.remove(s.legendInactiveClass)}})(c[l],c.reduce((function(d,u){return Math.max(d,u.to)}),0))}else e.type==="mouseout"&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=this.w,a=0;if(s.config.series.length>1){for(var n=s.config.series.map((function(l,c){return l.data&&l.data.length>0&&s.globals.collapsedSeriesIndices.indexOf(c)===-1&&(!s.globals.comboCharts||t.length===0||t.length&&t.indexOf(s.config.series[c].type)>-1)?c:-1})),o=e==="asc"?0:n.length-1;e==="asc"?o<n.length:o>=0;e==="asc"?o++:o--)if(n[o]!==-1){a=n[o];break}}return a}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(e,t){return e.type==="bar"||e.type==="column"?t:-1})).filter((function(e){return e!==-1})):this.w.config.series.map((function(e,t){return t}))}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(o,l,c){for(var d=o[l].childNodes,u={type:c,paths:[],realIndex:o[l].getAttribute("data:realIndex")},h=0;h<d.length;h++)if(d[h].hasAttribute("pathTo")){var m=d[h].getAttribute("pathTo");u.paths.push({d:m})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(o){for(var l,c=(l=o,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(l,"-series .apexcharts-series"))),d=0;d<c.length;d++)t(c,d,o)}));var s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(s.length>0)for(var a=function(o){for(var l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(o,"'] rect")),c=[],d=function(h){var m=function(b){return l[h].getAttribute(b)},p={x:parseFloat(m("x")),y:parseFloat(m("y")),width:parseFloat(m("width")),height:parseFloat(m("height"))};c.push({rect:p,color:l[h].getAttribute("color")})},u=0;u<l.length;u++)d(u);e.globals.previousPaths.push(c)},n=0;n<s.length;n++)a(n);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,s=new ot(this.ctx),a=e.globals.svgWidth/2,n=e.globals.svgHeight/2,o="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(a=10,o="start"):t.align==="right"&&(a=e.globals.svgWidth-10,o="end"),t.verticalAlign==="top"?n=50:t.verticalAlign==="bottom"&&(n=e.globals.svgHeight-50),a+=t.offsetX,n=n+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var l=s.drawText({x:a,y:n,text:t.text,textAnchor:o,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(l)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,s=0;s<e.length;s++)if(e[s].length===0)for(var a=0;a<e[t.globals.maxValsInArrayIndex].length;a++)e[s].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,s=this.filteredSeriesX(),a=0;a<s.length-1;a++)if(s[a][0]!==s[a+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}));return e}}]),r})(),JC=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new na(this.ctx)}return It(r,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new ho(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new ho(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var s=this.w.config,a=this.w.globals,n=s.chart.type==="boxPlot"||s.series[t].type==="boxPlot",o=0;o<e[t].data.length;o++)if(e[t].data[o][1]!==void 0&&(Array.isArray(e[t].data[o][1])&&e[t].data[o][1].length===4&&!n?this.twoDSeries.push(Pe.parseNumber(e[t].data[o][1][3])):e[t].data[o].length>=5?this.twoDSeries.push(Pe.parseNumber(e[t].data[o][4])):this.twoDSeries.push(Pe.parseNumber(e[t].data[o][1])),a.dataFormatXNumeric=!0),s.xaxis.type==="datetime"){var l=new Date(e[t].data[o][0]);l=new Date(l).getTime(),this.twoDSeriesX.push(l)}else this.twoDSeriesX.push(e[t].data[o][0]);for(var c=0;c<e[t].data.length;c++)e[t].data[c][2]!==void 0&&(this.threeDSeries.push(e[t].data[c][2]),a.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var s=this.w.config,a=this.w.globals,n=new hn(this.ctx),o=t;a.collapsedSeriesIndices.indexOf(t)>-1&&(o=this.activeSeriesIndex);for(var l=0;l<e[t].data.length;l++)e[t].data[l].y!==void 0&&(Array.isArray(e[t].data[l].y)?this.twoDSeries.push(Pe.parseNumber(e[t].data[l].y[e[t].data[l].y.length-1])):this.twoDSeries.push(Pe.parseNumber(e[t].data[l].y))),e[t].data[l].goals!==void 0&&Array.isArray(e[t].data[l].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[l].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var c=0;c<e[o].data.length;c++){var d=typeof e[o].data[c].x=="string",u=Array.isArray(e[o].data[c].x),h=!u&&!!n.isValidDate(e[o].data[c].x);if(d||h)if(d||s.xaxis.convertedCatToNumeric){var m=a.isBarHorizontal&&a.isRangeData;s.xaxis.type!=="datetime"||m?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[c].x),isNaN(e[o].data[c].x)||this.w.config.xaxis.type==="category"||typeof e[o].data[c].x=="string"||(a.isXNumeric=!0)):this.twoDSeriesX.push(n.parseDate(e[o].data[c].x))}else s.xaxis.type==="datetime"?this.twoDSeriesX.push(n.parseDate(e[o].data[c].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[o].data[c].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[c].x)):(a.isXNumeric=!0,a.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[o].data[c].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var p=0;p<e[t].data.length;p++)this.threeDSeries.push(e[t].data[p].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var s=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",e,t)),s.seriesRangeStart[t]=a.start===void 0?[]:a.start,s.seriesRangeEnd[t]=a.end===void 0?[]:a.end,s.seriesRange[t]=a.rangeUniques,s.seriesRange.forEach((function(n,o){n&&n.forEach((function(l,c){l.y.forEach((function(d,u){for(var h=0;h<l.y.length;h++)if(u!==h){var m=d.y1,p=d.y2,b=l.y[h].y1;m<=l.y[h].y2&&b<=p&&(l.overlaps.indexOf(d.rangeName)<0&&l.overlaps.push(d.rangeName),l.overlaps.indexOf(l.y[h].rangeName)<0&&l.overlaps.push(l.y[h].rangeName))}}))}))})),a}},{key:"handleCandleStickBoxData",value:function(e,t){var s=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",e,t)),s.seriesCandleO[t]=a.o,s.seriesCandleH[t]=a.h,s.seriesCandleM[t]=a.m,s.seriesCandleL[t]=a.l,s.seriesCandleC[t]=a.c,a}},{key:"handleRangeDataFormat",value:function(e,t,s){var a=[],n=[],o=t[s].data.filter((function(u,h,m){return h===m.findIndex((function(p){return p.x===u.x}))})).map((function(u,h){return{x:u.x,overlaps:[],y:[]}}));if(e==="array")for(var l=0;l<t[s].data.length;l++)Array.isArray(t[s].data[l])?(a.push(t[s].data[l][1][0]),n.push(t[s].data[l][1][1])):(a.push(t[s].data[l]),n.push(t[s].data[l]));else if(e==="xy")for(var c=function(u){var h=Array.isArray(t[s].data[u].y),m=Pe.randomId(),p=t[s].data[u].x,b={y1:h?t[s].data[u].y[0]:t[s].data[u].y,y2:h?t[s].data[u].y[1]:t[s].data[u].y,rangeName:m};t[s].data[u].rangeName=m;var x=o.findIndex((function(y){return y.x===p}));o[x].y.push(b),a.push(b.y1),n.push(b.y2)},d=0;d<t[s].data.length;d++)c(d);return{start:a,end:n,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,s){var a=this.w,n=a.config.chart.type==="boxPlot"||a.config.series[s].type==="boxPlot",o=[],l=[],c=[],d=[],u=[];if(e==="array")if(n&&t[s].data[0].length===6||!n&&t[s].data[0].length===5)for(var h=0;h<t[s].data.length;h++)o.push(t[s].data[h][1]),l.push(t[s].data[h][2]),n?(c.push(t[s].data[h][3]),d.push(t[s].data[h][4]),u.push(t[s].data[h][5])):(d.push(t[s].data[h][3]),u.push(t[s].data[h][4]));else for(var m=0;m<t[s].data.length;m++)Array.isArray(t[s].data[m][1])&&(o.push(t[s].data[m][1][0]),l.push(t[s].data[m][1][1]),n?(c.push(t[s].data[m][1][2]),d.push(t[s].data[m][1][3]),u.push(t[s].data[m][1][4])):(d.push(t[s].data[m][1][2]),u.push(t[s].data[m][1][3])));else if(e==="xy")for(var p=0;p<t[s].data.length;p++)Array.isArray(t[s].data[p].y)&&(o.push(t[s].data[p].y[0]),l.push(t[s].data[p].y[1]),n?(c.push(t[s].data[p].y[2]),d.push(t[s].data[p].y[3]),u.push(t[s].data[p].y[4])):(d.push(t[s].data[p].y[2]),u.push(t[s].data[p].y[3])));return{o,h:l,m:c,l:d,c:u}}},{key:"parseDataAxisCharts",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,a=this.w.config,n=this.w.globals,o=new hn(s),l=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();n.isRangeBar=a.chart.type==="rangeBar"&&n.isBarHorizontal,n.hasXaxisGroups=a.xaxis.type==="category"&&a.xaxis.group.groups.length>0,n.hasXaxisGroups&&(n.groups=a.xaxis.group.groups),e.forEach((function(p,b){p.name!==void 0?n.seriesNames.push(p.name):n.seriesNames.push("series-"+parseInt(b+1,10))})),this.coreUtils.setSeriesYAxisMappings();var c=[],d=za(new Set(a.series.map((function(p){return p.group}))));a.series.forEach((function(p,b){var x=d.indexOf(p.group);c[x]||(c[x]=[]),c[x].push(n.seriesNames[b])})),n.seriesGroups=c;for(var u=function(){for(var p=0;p<l.length;p++)if(typeof l[p]=="string"){if(!o.isValidDate(l[p]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(o.parseDate(l[p]))}else t.twoDSeriesX.push(l[p])},h=0;h<e.length;h++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[h].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(a.chart.type!=="rangeBar"&&a.chart.type!=="rangeArea"&&e[h].type!=="rangeBar"&&e[h].type!=="rangeArea"||(n.isRangeData=!0,this.handleRangeData(e,h)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,h):this.isFormatXY()&&this.handleFormatXY(e,h),a.chart.type!=="candlestick"&&e[h].type!=="candlestick"&&a.chart.type!=="boxPlot"&&e[h].type!=="boxPlot"||this.handleCandleStickBoxData(e,h),n.series.push(this.twoDSeries),n.labels.push(this.twoDSeriesX),n.seriesX.push(this.twoDSeriesX),n.seriesGoals=this.seriesGoals,h!==this.activeSeriesIndex||this.fallbackToCategory||(n.isXNumeric=!0);else{a.xaxis.type==="datetime"?(n.isXNumeric=!0,u(),n.seriesX.push(this.twoDSeriesX)):a.xaxis.type==="numeric"&&(n.isXNumeric=!0,l.length>0&&(this.twoDSeriesX=l,n.seriesX.push(this.twoDSeriesX))),n.labels.push(this.twoDSeriesX);var m=e[h].data.map((function(p){return Pe.parseNumber(p)}));n.series.push(m)}n.seriesZ.push(this.threeDSeries),e[h].color!==void 0?n.seriesColors.push(e[h].color):n.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,s=this.w.config,a=Array.isArray(e)&&e.every((function(u){return typeof u=="number"}))&&s.labels.length>0,n=Array.isArray(e)&&e.some((function(u){return u&&Vn(u)==="object"&&u.data||u&&Vn(u)==="object"&&u.parsing}));if(a&&n&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),a){t.series=e.slice(),t.seriesNames=s.labels.slice();for(var o=0;o<t.series.length;o++)t.seriesNames[o]===void 0&&t.seriesNames.push("series-"+(o+1));return this.w}if(Array.isArray(e)&&e.every((function(u){return typeof u=="number"}))){t.series=e.slice(),t.seriesNames=[];for(var l=0;l<t.series.length;l++)t.seriesNames.push(s.labels[l]||"series-".concat(l+1));return this.w}var c=this.extractPieDataFromSeries(e);t.series=c.values,t.seriesNames=c.labels,s.chart.type==="radialBar"&&(t.series=t.series.map((function(u){var h=Pe.parseNumber(u);return h>100&&console.warn("ApexCharts: RadialBar value ".concat(h," > 100, consider using percentage values (0-100)")),h})));for(var d=0;d<t.series.length;d++)t.seriesNames[d]===void 0&&t.seriesNames.push("series-"+(d+1));return this.w}},{key:"resetParsingFlags",value:function(){var e=this.w;e.globals.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach((function(t){t.__apexParsed&&delete t.__apexParsed}))}},{key:"extractPieDataFromSeries",value:function(e){var t=[],s=[];if(!Array.isArray(e))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(e.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var a=e[0];return Vn(a)==="object"&&a!==null&&a.data?(this.extractPieDataFromSeriesObjects(e,t,s),{values:t,labels:s}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(e,t,s){e.forEach((function(a,n){a.data&&Array.isArray(a.data)?a.data.forEach((function(o){Vn(o)==="object"&&o!==null?o.x!==void 0&&o.y!==void 0?(s.push(String(o.x)),t.push(Pe.parseNumber(o.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",o):console.warn("ApexCharts: Expected object data point, got:",Vn(o))})):console.warn("ApexCharts: Series ".concat(n," has no valid data array"))}))}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,s=this.w.globals;t.xaxis.categories.length>0?s.labels=t.xaxis.categories:t.labels.length>0?s.labels=t.labels.slice():this.fallbackToCategory?(s.labels=s.labels[0],s.seriesRange.length&&(s.seriesRange.map((function(a){a.forEach((function(n){s.labels.indexOf(n.x)<0&&n.x&&s.labels.push(n.x)}))})),s.labels=Array.from(new Set(s.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new mx(t).convertCatToNumericXaxis(t,this.ctx,s.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,s=this.w.config,a=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var n=s.series.map((function(h,m){return h.data.filter((function(p,b,x){return x.findIndex((function(y){return y.x===p.x}))===b}))})),o=n.reduce((function(h,m,p,b){return b[h].length>m.length?h:p}),0),l=0;l<n[o].length;l++)a.push(l+1);else for(var c=0;c<t.series[t.maxValsInArrayIndex].length;c++)a.push(c+1);t.seriesX=[];for(var d=0;d<e.length;d++)t.seriesX.push(a);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(a.length===0){a=t.axisCharts?[]:t.series.map((function(h,m){return m+1}));for(var u=0;u<e.length;u++)t.seriesX.push(a)}t.labels=a,s.xaxis.convertedCatToNumeric&&(t.categoryLabels=a.map((function(h){return s.xaxis.labels.formatter(h)}))),t.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(e){var t=this,s=this.w.config,a=this.w.globals,n=s.parsing;if(a.dataWasParsed||!n&&!e.some((function(l){return l.parsing})))return e;var o=e.map((function(l,c){var d,u,h;if(!l.data||!Array.isArray(l.data)||l.data.length===0)return l;var m={x:((d=l.parsing)===null||d===void 0?void 0:d.x)||n?.x,y:((u=l.parsing)===null||u===void 0?void 0:u.y)||n?.y,z:((h=l.parsing)===null||h===void 0?void 0:h.z)||n?.z};if(!m.x&&!m.y)return l;var p=l.data[0];if(Vn(p)==="object"&&p!==null&&(p.hasOwnProperty("x")||p.hasOwnProperty("y"))||Array.isArray(p))return l;if(!m.x||!m.y||Array.isArray(m.y)&&m.y.length===0)return console.warn("ApexCharts: Series ".concat(c," has parsing config but missing x or y field specification")),l;var b=l.data.map((function(x,y){if(Vn(x)!=="object"||x===null)return console.warn("ApexCharts: Series ".concat(c,", data point ").concat(y," is not an object, skipping parsing")),x;var w,k=t.getNestedValue(x,m.x),N=void 0;if(Array.isArray(m.y)){var T=m.y.map((function(S){return t.getNestedValue(x,S)}));w=t.w.config.chart.type==="bubble"&&T.length===2?T[0]:T}else w=t.getNestedValue(x,m.y);m.z&&(N=t.getNestedValue(x,m.z)),k===void 0&&console.warn("ApexCharts: Series ".concat(c,", data point ").concat(y," missing field '").concat(m.x,"'")),w===void 0&&console.warn("ApexCharts: Series ".concat(c,", data point ").concat(y," missing field '").concat(m.y,"'"));var E={x:k,y:w};if(t.w.config.chart.type==="bubble"&&Array.isArray(m.y)&&m.y.length===2){var I=t.getNestedValue(x,m.y[1]);I!==void 0&&(E.z=I)}return N!==void 0&&(E.z=N),E}));return yt(yt({},l),{},{data:b,__apexParsed:!0})}));return a.dataWasParsed=!0,a.originalSeries||(a.originalSeries=Pe.clone(e)),o}},{key:"getNestedValue",value:function(e,t){if(e&&Vn(e)==="object"&&t){if(t.indexOf(".")===-1)return e[t];for(var s=t.split("."),a=e,n=0;n<s.length;n++){if(a==null||Vn(a)!=="object")return;a=a[s[n]]}return a}}},{key:"parseData",value:function(e){var t=this.w,s=t.config,a=t.globals;if(e=this.parseRawDataIfNeeded(e),s.series=e,a.initialSeries=Pe.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),s.chart.stacked){var n=new ho(this.ctx);a.series=n.setNullSeriesToZeroValues(a.series)}this.coreUtils.getSeriesTotals(),a.axisCharts&&(a.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),a.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&(s.xaxis.type!=="numeric"||s.labels.length!==0||s.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var o=this.coreUtils.getCategoryLabels(a.labels),l=0;l<o.length;l++)if(Array.isArray(o[l])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach((function(s,a){var n=0;s.forEach((function(o){e.globals.collapsedSeriesIndices.indexOf(o)!==-1&&n++})),n>0&&n==s.length&&t.push(a)})),e.globals.ignoreYAxisIndexes=t.map((function(s){return s}))}}]),r})(),Tp=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var s=parseFloat(e.getAttributeNS(null,"width")),a=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",s*t),e.setAttributeNS(null,"height",a*t),e.setAttributeNS(null,"viewBox","0 0 "+s+" "+a)}},{key:"getSvgString",value:function(e){var t=this;return new Promise((function(s){var a=t.w,n=e||a.config.chart.toolbar.export.scale||a.config.chart.toolbar.export.width/a.globals.svgWidth;n||(n=1);var o=a.globals.svgWidth*n,l=a.globals.svgHeight*n,c=a.globals.dom.elWrap.cloneNode(!0);c.style.width=o+"px",c.style.height=l+"px";var d=new XMLSerializer().serializeToString(c),u=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;a.config.legend.show&&a.globals.dom.elLegendWrap&&a.globals.dom.elLegendWrap.children.length>0&&(u+=t$);var h=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(a.globals.svgWidth,'px" height="').concat(a.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(o,"px; height:").concat(l,`px;">
            <style type="text/css">
              `).concat(u,`
            </style>
              `).concat(d,`
            </div>
          </foreignObject>
        </svg>
      `),m=t.svgStringToNode(h);n!==1&&t.scaleSvgNode(m,n),t.convertImagesToBase64(m).then((function(){h=new XMLSerializer().serializeToString(m),s(h.replace(/&nbsp;/g,"&#160;"))}))}))}},{key:"convertImagesToBase64",value:function(e){var t=this,s=e.getElementsByTagName("image"),a=Array.from(s).map((function(n){var o=n.getAttributeNS("http://www.w3.org/1999/xlink","href");return o&&!o.startsWith("data:")?t.getBase64FromUrl(o).then((function(l){n.setAttributeNS("http://www.w3.org/1999/xlink","href",l)})).catch((function(l){console.error("Error converting image to base64:",l)})):Promise.resolve()}));return Promise.all(a)}},{key:"getBase64FromUrl",value:function(e){return new Promise((function(t,s){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var n=document.createElement("canvas");n.width=a.width,n.height=a.height,n.getContext("2d").drawImage(a,0,0),t(n.toDataURL())},a.onerror=s,a.src=e}))}},{key:"svgUrl",value:function(){var e=this;return new Promise((function(t){e.getSvgString().then((function(s){var a=new Blob([s],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(a))}))}))}},{key:"dataURI",value:function(e){var t=this;return new Promise((function(s){var a=t.w,n=e?e.scale||e.width/a.globals.svgWidth:1,o=document.createElement("canvas");o.width=a.globals.svgWidth*n,o.height=parseInt(a.globals.dom.elWrap.style.height,10)*n;var l=a.config.chart.background!=="transparent"&&a.config.chart.background?a.config.chart.background:"#fff",c=o.getContext("2d");c.fillStyle=l,c.fillRect(0,0,o.width*n,o.height*n),t.getSvgString(n).then((function(d){var u="data:image/svg+xml,"+encodeURIComponent(d),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(c.drawImage(h,0,0),o.msToBlob){var m=o.msToBlob();s({blob:m})}else{var p=o.toDataURL("image/png");s({imgURI:p})}},h.src=u}))}))}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then((function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")}))}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,s=this.w.config.chart.toolbar.export.width,a=t?{scale:t}:s?{width:s}:void 0;this.dataURI(a).then((function(n){var o=n.imgURI,l=n.blob;l?navigator.msSaveOrOpenBlob(l,e.w.globals.chartID+".png"):e.triggerDownload(o,e.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(e){var t=this,s=e.series,a=e.fileName,n=e.columnDelimiter,o=n===void 0?",":n,l=e.lineDelimiter,c=l===void 0?`
`:l,d=this.w;s||(s=d.config.series);var u=[],h=[],m="",p=d.globals.series.map((function(E,I){return d.globals.collapsedSeriesIndices.indexOf(I)===-1?E:[]})),b=function(E){return typeof d.config.chart.toolbar.export.csv.categoryFormatter=="function"?d.config.chart.toolbar.export.csv.categoryFormatter(E):d.config.xaxis.type==="datetime"&&String(E).length>=10?new Date(E).toDateString():Pe.isNumber(E)?E:E.split(o).join("")},x=function(E){return typeof d.config.chart.toolbar.export.csv.valueFormatter=="function"?d.config.chart.toolbar.export.csv.valueFormatter(E):E},y=Math.max.apply(Math,za(s.map((function(E){return E.data?E.data.length:0})))),w=new JC(this.ctx),k=new qd(this.ctx),N=function(E){var I="";if(d.globals.axisCharts){if(d.config.xaxis.type==="category"||d.config.xaxis.convertedCatToNumeric)if(d.globals.isBarHorizontal){var S=d.globals.yLabelFormatters[0],A=new ho(t.ctx).getActiveConfigSeriesIndex();I=S(d.globals.labels[E],{seriesIndex:A,dataPointIndex:E,w:d})}else I=k.getLabel(d.globals.labels,d.globals.timescaleLabels,0,E).text;d.config.xaxis.type==="datetime"&&(d.config.xaxis.categories.length?I=d.config.xaxis.categories[E]:d.config.labels.length&&(I=d.config.labels[E]))}else I=d.config.labels[E];return I===null?"nullvalue":(Array.isArray(I)&&(I=I.join(" ")),Pe.isNumber(I)?I:I.split(o).join(""))},T=function(E,I){if(u.length&&I===0&&h.push(u.join(o)),E.data){E.data=E.data.length&&E.data||za(Array(y)).map((function(){return""}));for(var S=0;S<E.data.length;S++){u=[];var A=N(S);if(A!=="nullvalue"){if(A||(w.isFormatXY()?A=s[I].data[S].x:w.isFormat2DArray()&&(A=s[I].data[S]?s[I].data[S][0]:"")),I===0){u.push(b(A));for(var P=0;P<d.globals.series.length;P++){var O,M=w.isFormatXY()?(O=s[P].data[S])===null||O===void 0?void 0:O.y:p[P][S];u.push(x(M))}}(d.config.chart.type==="candlestick"||E.type&&E.type==="candlestick")&&(u.pop(),u.push(d.globals.seriesCandleO[I][S]),u.push(d.globals.seriesCandleH[I][S]),u.push(d.globals.seriesCandleL[I][S]),u.push(d.globals.seriesCandleC[I][S])),(d.config.chart.type==="boxPlot"||E.type&&E.type==="boxPlot")&&(u.pop(),u.push(d.globals.seriesCandleO[I][S]),u.push(d.globals.seriesCandleH[I][S]),u.push(d.globals.seriesCandleM[I][S]),u.push(d.globals.seriesCandleL[I][S]),u.push(d.globals.seriesCandleC[I][S])),d.config.chart.type==="rangeBar"&&(u.pop(),u.push(d.globals.seriesRangeStart[I][S]),u.push(d.globals.seriesRangeEnd[I][S])),u.length&&h.push(u.join(o))}}}};u.push(d.config.chart.toolbar.export.csv.headerCategory),d.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):d.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):d.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):s.map((function(E,I){var S=(E.name?E.name:"series-".concat(I))+"";d.globals.axisCharts&&u.push(S.split(o).join("")?S.split(o).join(""):"series-".concat(I))})),d.globals.axisCharts||(u.push(d.config.chart.toolbar.export.csv.headerValue),h.push(u.join(o))),d.globals.allSeriesHasEqualX||!d.globals.axisCharts||d.config.xaxis.categories.length||d.config.labels.length?s.map((function(E,I){d.globals.axisCharts?T(E,I):((u=[]).push(b(d.globals.labels[I])),u.push(x(p[I])),h.push(u.join(o)))})):(function(){var E=new Set,I={};s.forEach((function(S,A){S?.data.forEach((function(P){var O,M;if(w.isFormatXY())O=P.x,M=P.y;else{if(!w.isFormat2DArray())return;O=P[0],M=P[1]}I[O]||(I[O]=Array(s.length).fill("")),I[O][A]=x(M),E.add(O)}))})),u.length&&h.push(u.join(o)),Array.from(E).sort().forEach((function(S){h.push([b(S),I[S].join(o)])}))})(),m+=h.join(c),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+m),a||d.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,s){var a=document.createElement("a");a.href=e,a.download=(t||this.w.globals.chartID)+s,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),r})(),px=(function(){function r(e,t){Rt(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var s=this.w;this.axesUtils=new qd(e),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],s.config.xaxis.position==="top"?this.offY=0:this.offY=s.globals.gridHeight,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return It(r,[{key:"drawXaxis",value:function(){var e=this.w,t=new ot(this.ctx),s=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),a=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(a);for(var n=[],o=0;o<this.xaxisLabels.length;o++)n.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,t,a,n,e.globals.isXNumeric,(function(b,x){return x})),e.globals.hasXaxisGroups){var l=e.globals.groups;n=[];for(var c=0;c<l.length;c++)n.push(l[c].title);var d={};e.config.xaxis.group.style&&(d.xaxisFontSize=e.config.xaxis.group.style.fontSize,d.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,d.xaxisForeColors=e.config.xaxis.group.style.colors,d.fontWeight=e.config.xaxis.group.style.fontWeight,d.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,a,n,!1,(function(b,x){return l[b].cols*x}),d)}if(e.config.xaxis.title.text!==void 0){var u=t.group({class:"apexcharts-xaxis-title"}),h=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(h),s.add(u)}if(e.config.xaxis.axisBorder.show){var m=e.globals.barPadForNumericAxis,p=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-m,this.offY,this.xaxisBorderWidth+m,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(p):s.add(p)}return s}},{key:"drawXAxisLabelAndGroup",value:function(e,t,s,a,n,o){var l,c=this,d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],h=[],m=this.w,p=d.xaxisFontSize||this.xaxisFontSize,b=d.xaxisFontFamily||this.xaxisFontFamily,x=d.xaxisForeColors||this.xaxisForeColors,y=d.fontWeight||m.config.xaxis.labels.style.fontWeight,w=d.cssClass||m.config.xaxis.labels.style.cssClass,k=m.globals.padHorizontal,N=a.length,T=m.config.xaxis.type==="category"?m.globals.dataPoints:N;if(T===0&&N>T&&(T=N),n){var E=Math.max(Number(m.config.xaxis.tickAmount)||1,T>1?T-1:T);l=m.globals.gridWidth/Math.min(E,N-1),k=k+o(0,l)/2+m.config.xaxis.labels.offsetX}else l=m.globals.gridWidth/T,k=k+o(0,l)+m.config.xaxis.labels.offsetX;for(var I=function(A){var P=k-o(A,l)/2+m.config.xaxis.labels.offsetX;A===0&&N===1&&l/2===k&&T===1&&(P=m.globals.gridWidth/2);var O=c.axesUtils.getLabel(a,m.globals.timescaleLabels,P,A,u,p,e),M=28;if(m.globals.rotateXLabels&&e&&(M=22),m.config.xaxis.title.text&&m.config.xaxis.position==="top"&&(M+=parseFloat(m.config.xaxis.title.style.fontSize)+2),e||(M=M+parseFloat(p)+(m.globals.xAxisLabelsHeight-m.globals.xAxisGroupLabelsHeight)+(m.globals.rotateXLabels?10:0)),O=m.config.xaxis.tickAmount!==void 0&&m.config.xaxis.tickAmount!=="dataPoints"&&m.config.xaxis.type!=="datetime"?c.axesUtils.checkLabelBasedOnTickamount(A,O,N):c.axesUtils.checkForOverflowingLabels(A,O,N,u,h),m.config.xaxis.labels.show){var L=t.drawText({x:O.x,y:c.offY+m.config.xaxis.labels.offsetY+M-(m.config.xaxis.position==="top"?m.globals.xAxisHeight+m.config.xaxis.axisTicks.height-2:0),text:O.text,textAnchor:"middle",fontWeight:O.isBold?600:y,fontSize:p,fontFamily:b,foreColor:Array.isArray(x)?e&&m.config.xaxis.convertedCatToNumeric?x[m.globals.minX+A-1]:x[A]:x,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+w});if(s.add(L),L.on("click",(function(G){if(typeof m.config.chart.events.xAxisLabelClick=="function"){var X=Object.assign({},m,{labelIndex:A});m.config.chart.events.xAxisLabelClick(G,c.ctx,X)}})),e){var B=document.createElementNS(m.globals.SVGNS,"title");B.textContent=Array.isArray(O.text)?O.text.join(" "):O.text,L.node.appendChild(B),O.text!==""&&(u.push(O.text),h.push(O))}}A<N-1&&(k+=o(A+1,l))},S=0;S<=N-1;S++)I(S)}},{key:"drawXaxisInversed",value:function(e){var t,s,a=this,n=this.w,o=new ot(this.ctx),l=n.config.yaxis[0].opposite?n.globals.translateYAxisX[e]:0,c=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),d=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+l+", 0)"});c.add(d);var u=[];if(n.config.yaxis[e].show)for(var h=0;h<this.xaxisLabels.length;h++)u.push(this.xaxisLabels[h]);t=n.globals.gridHeight/u.length,s=-t/2.2;var m=n.globals.yLabelFormatters[0],p=n.config.yaxis[0].labels;if(p.show)for(var b=function(E){var I=u[E]===void 0?"":u[E];I=m(I,{seriesIndex:e,dataPointIndex:E,w:n});var S=a.axesUtils.getYAxisForeColor(p.style.colors,e),A=0;Array.isArray(I)&&(A=I.length/2*parseInt(p.style.fontSize,10));var P=p.offsetX-15,O="end";a.yaxis.opposite&&(O="start"),n.config.yaxis[0].labels.align==="left"?(P=p.offsetX,O="start"):n.config.yaxis[0].labels.align==="center"?(P=p.offsetX,O="middle"):n.config.yaxis[0].labels.align==="right"&&(O="end");var M=o.drawText({x:P,y:s+t+p.offsetY-A,text:I,textAnchor:O,foreColor:Array.isArray(S)?S[E]:S,fontSize:p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+p.style.cssClass,maxWidth:p.maxWidth});d.add(M),M.on("click",(function(G){if(typeof n.config.chart.events.xAxisLabelClick=="function"){var X=Object.assign({},n,{labelIndex:E});n.config.chart.events.xAxisLabelClick(G,a.ctx,X)}}));var L=document.createElementNS(n.globals.SVGNS,"title");if(L.textContent=Array.isArray(I)?I.join(" "):I,M.node.appendChild(L),n.config.yaxis[e].labels.rotate!==0){var B=o.rotateAroundCenter(M.node);M.node.setAttribute("transform","rotate(".concat(n.config.yaxis[e].labels.rotate," 0 ").concat(B.y,")"))}s+=t},x=0;x<=u.length-1;x++)b(x);if(n.config.yaxis[0].title.text!==void 0){var y=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+l+", 0)"}),w=o.drawText({x:n.config.yaxis[0].title.offsetX,y:n.globals.gridHeight/2+n.config.yaxis[0].title.offsetY,text:n.config.yaxis[0].title.text,textAnchor:"middle",foreColor:n.config.yaxis[0].title.style.color,fontSize:n.config.yaxis[0].title.style.fontSize,fontWeight:n.config.yaxis[0].title.style.fontWeight,fontFamily:n.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+n.config.yaxis[0].title.style.cssClass});y.add(w),c.add(y)}var k=0;this.isCategoryBarHorizontal&&n.config.yaxis[0].opposite&&(k=n.globals.gridWidth);var N=n.config.xaxis.axisBorder;if(N.show){var T=o.drawLine(n.globals.padHorizontal+N.offsetX+k,1+N.offsetY,n.globals.padHorizontal+N.offsetX+k,n.globals.gridHeight+N.offsetY,N.color,0);this.elgrid&&this.elgrid.elGridBorders&&n.config.grid.show?this.elgrid.elGridBorders.add(T):c.add(T)}return n.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(k,u.length,n.config.yaxis[0].axisBorder,n.config.yaxis[0].axisTicks,0,t,c),c}},{key:"drawXaxisTicks",value:function(e,t,s){var a=this.w,n=e;if(!(e<0||e-2>a.globals.gridWidth)){var o=this.offY+a.config.xaxis.axisTicks.offsetY;if(t=t+o+a.config.xaxis.axisTicks.height,a.config.xaxis.position==="top"&&(t=o-a.config.xaxis.axisTicks.height),a.config.xaxis.axisTicks.show){var l=new ot(this.ctx).drawLine(e+a.config.xaxis.axisTicks.offsetX,o+a.config.xaxis.offsetY,n+a.config.xaxis.axisTicks.offsetX,t+a.config.xaxis.offsetY,a.config.xaxis.axisTicks.color);s.add(l),l.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],s=this.xaxisLabels.length,a=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var n=0;n<s;n++)a=this.xaxisLabels[n].position,t.push(a);else for(var o=s,l=0;l<o;l++){var c=o;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(c-=1),a+=e.globals.gridWidth/c,t.push(a)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new ot(this.ctx),s=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var l=0;l<a.length;l++){var c=t.rotateAroundCenter(a[l]);c.y=c.y-1,c.x=c.x+1,a[l].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(c.x," ").concat(c.y,")")),a[l].setAttribute("text-anchor","end"),s.setAttribute("transform","translate(0, ".concat(-10,")"));var d=a[l].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(d,(function(p){t.placeTextWithEllipsis(p,p.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))}))}else(function(){for(var p=e.globals.gridWidth/(e.globals.labels.length+1),b=0;b<a.length;b++){var x=a[b].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(x,(function(y){t.placeTextWithEllipsis(y,y.textContent,p)}))}})();if(n.length>0){var u=n[n.length-1].getBBox(),h=n[0].getBBox();u.x<-20&&n[n.length-1].parentNode.removeChild(n[n.length-1]),h.x+h.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&n[0].parentNode.removeChild(n[0]);for(var m=0;m<o.length;m++)t.placeTextWithEllipsis(o[m],o[m].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),r})(),r$=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new qd(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return It(r,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,s=new ot(this.ctx);e||(e=s.group({class:"apexcharts-grid"}));var a=s.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),n=s.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(n),e.add(a),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,s=new ot(this.ctx),a=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,za(e.config.stroke.width)):e.config.stroke.width,n=function(u){var h=document.createElementNS(t.SVGNS,"clipPath");return h.setAttribute("id",u),h};t.dom.elGridRectMask=n("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=n("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=n("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=n("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=n("nonForecastMask".concat(t.cuid));var o=0,l=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(o=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),l=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=s.drawRect(-a/2-2,-a/2-2,t.gridWidth+a+4,t.gridHeight+a+4,0,"#fff"),t.dom.elGridRectBar=s.drawRect(-a/2-o-2,-a/2-2,t.gridWidth+a+l+o+4,t.gridHeight+a+4,0,"#fff");var c=e.globals.markers.largestSize;t.dom.elGridRectMarker=s.drawRect(Math.min(-a/2-o-2,-c),-c,t.gridWidth+Math.max(a+l+o+4,2*c),t.gridHeight+2*c,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var d=t.dom.baseEl.querySelector("defs");d.appendChild(t.dom.elGridRectMask),d.appendChild(t.dom.elGridRectBarMask),d.appendChild(t.dom.elGridRectMarkerMask),d.appendChild(t.dom.elForecastMask),d.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,s=e.x1,a=e.y1,n=e.x2,o=e.y2,l=e.xCount,c=e.parent,d=this.w;if(!(t===0&&d.globals.skipFirstTimelinelabel||t===l-1&&d.globals.skipLastTimelinelabel&&!d.config.xaxis.labels.formatter||d.config.chart.type==="radar")){d.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:s,y1:a,x2:n,y2:o,xCount:l,parent:c});var u=0;if(d.globals.hasXaxisGroups&&d.config.xaxis.tickPlacement==="between"){var h=d.globals.groups;if(h){for(var m=0,p=0;m<t&&p<h.length;p++)m+=h[p].cols;m===t&&(u=.6*d.globals.xAxisLabelsHeight)}}new px(this.ctx).drawXaxisTicks(s,u,d.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,s=e.x1,a=e.y1,n=e.x2,o=e.y2,l=e.xCount,c=e.parent,d=this.w,u=c.node.classList.contains("apexcharts-gridlines-horizontal"),h=d.globals.barPadForNumericAxis,m=a===0&&o===0||s===0&&n===0||a===d.globals.gridHeight&&o===d.globals.gridHeight||d.globals.isBarHorizontal&&(t===0||t===l-1),p=new ot(this).drawLine(s-(u?h:0),a,n+(u?h:0),o,d.config.grid.borderColor,d.config.grid.strokeDashArray);p.node.classList.add("apexcharts-gridline"),m&&d.config.grid.show?this.elGridBorders.add(p):c.add(p)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,s=e.x1,a=e.y1,n=e.x2,o=e.y2,l=e.type,c=this.w,d=new ot(this.ctx),u=c.globals.barPadForNumericAxis,h=c.config.grid[l].colors[t],m=d.drawRect(s-(l==="row"?u:0),a,n+(l==="row"?2*u:0),o,0,h,c.config.grid[l].opacity);this.elg.add(m),m.attr("clip-path","url(#gridRectMask".concat(c.globals.cuid,")")),m.node.classList.add("apexcharts-grid-".concat(l))}},{key:"_drawXYLines",value:function(e){var t=this,s=e.xCount,a=e.tickAmount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show){var o,l=n.globals.padHorizontal,c=n.globals.gridHeight;n.globals.timescaleLabels.length?(function(b){for(var x=b.xC,y=b.x1,w=b.y1,k=b.x2,N=b.y2,T=0;T<x;T++)y=t.xaxisLabels[T].position,k=t.xaxisLabels[T].position,t._drawGridLines({i:T,x1:y,y1:w,x2:k,y2:N,xCount:s,parent:t.elgridLinesV})})({xC:s,x1:l,y1:0,x2:o,y2:c}):(n.globals.isXNumeric&&(s=n.globals.xAxisScale.result.length),(function(b){for(var x=b.xC,y=b.x1,w=b.y1,k=b.x2,N=b.y2,T=0;T<x+(n.globals.isXNumeric?0:1);T++)T===0&&x===1&&n.globals.dataPoints===1&&(k=y=n.globals.gridWidth/2),t._drawGridLines({i:T,x1:y,y1:w,x2:k,y2:N,xCount:s,parent:t.elgridLinesV}),k=y+=n.globals.gridWidth/(n.globals.isXNumeric?x-1:x)})({xC:s,x1:l,y1:0,x2:o,y2:c}))}if(n.config.grid.yaxis.lines.show){var d=0,u=0,h=n.globals.gridWidth,m=a+1;this.isRangeBar&&(m=n.globals.labels.length);for(var p=0;p<m+(this.isRangeBar?1:0);p++)this._drawGridLine({i:p,xCount:m+(this.isRangeBar?1:0),x1:0,y1:d,x2:h,y2:u,parent:this.elgridLinesH}),u=d+=n.globals.gridHeight/(this.isRangeBar?m:a)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show)for(var a,n=s.globals.padHorizontal,o=s.globals.gridHeight,l=0;l<t+1;l++)s.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,xCount:t+1,x1:n,y1:0,x2:a,y2:o,parent:this.elgridLinesV}),new px(this.ctx).drawXaxisTicks(n,0,s.globals.dom.elGraphical),a=n+=s.globals.gridWidth/t;if(s.config.grid.yaxis.lines.show)for(var c=0,d=0,u=s.globals.gridWidth,h=0;h<s.globals.dataPoints+1;h++)this._drawGridLine({i:h,xCount:s.globals.dataPoints+1,x1:0,y1:c,x2:u,y2:d,parent:this.elgridLinesH}),d=c+=s.globals.gridHeight/s.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,s=new ot(this.ctx);this.elg=s.group({class:"apexcharts-grid"}),this.elgridLinesH=s.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=s.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=s.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a=0;a<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(a);)a++;a===t.seriesYAxisMap.length&&(a=0);var n,o=t.yAxisScale[a].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var l,c,d;n=this.xaxisLabels.length,this.isRangeBar&&(o=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(n=e.config.xaxis.tickAmount),((l=t.yAxisScale)===null||l===void 0||(c=l[a])===null||c===void 0||(d=c.result)===null||d===void 0?void 0:d.length)>0&&e.config.xaxis.type!=="datetime"&&(n=t.yAxisScale[a].result.length-1)),this._drawXYLines({xCount:n,tickAmount:o})}else n=o,o=t.xTickAmount,this._drawInvertedXYLines({xCount:n,tickAmount:o});return this.drawGridBands(n,o),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/n}}},{key:"drawGridBands",value:function(e,t){var s,a,n=this,o=this.w;if(((s=o.config.grid.row.colors)===null||s===void 0?void 0:s.length)>0&&(function(b,x,y,w,k,N){for(var T=0,E=0;T<x;T++,E++)E>=o.config.grid[b].colors.length&&(E=0),n._drawGridBandRect({c:E,x1:y,y1:w,x2:k,y2:N,type:b}),w+=o.globals.gridHeight/t})("row",t,0,0,o.globals.gridWidth,o.globals.gridHeight/t),((a=o.config.grid.column.colors)===null||a===void 0?void 0:a.length)>0){var l=o.globals.isBarHorizontal||o.config.xaxis.tickPlacement!=="on"||o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric?e:e-1;o.globals.isXNumeric&&(l=o.globals.xAxisScale.result.length-1);for(var c=o.globals.padHorizontal,d=o.globals.padHorizontal+o.globals.gridWidth/l,u=o.globals.gridHeight,h=0,m=0;h<e;h++,m++){var p;m>=o.config.grid.column.colors.length&&(m=0),o.config.xaxis.type==="datetime"&&(c=this.xaxisLabels[h].position,d=(((p=this.xaxisLabels[h+1])===null||p===void 0?void 0:p.position)||o.globals.gridWidth)-this.xaxisLabels[h].position),this._drawGridBandRect({c:m,x1:c,y1:0,x2:d,y2:u,type:"column"}),c+=o.globals.gridWidth/l}}}}]),r})(),s$=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.coreUtils=new na(this.ctx)}return It(r,[{key:"niceScale",value:function(e,t){var s,a,n,o,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=1e-11,d=this.w,u=d.globals;u.isBarHorizontal?(s=d.config.xaxis,a=Math.max((u.svgWidth-100)/25,2)):(s=d.config.yaxis[l],a=Math.max((u.svgHeight-100)/15,2)),Pe.isNumber(a)||(a=10),n=s.min!==void 0&&s.min!==null,o=s.max!==void 0&&s.min!==null;var h=s.stepSize!==void 0&&s.stepSize!==null,m=s.tickAmount!==void 0&&s.tickAmount!==null,p=m?s.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(a/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!m&&u.multiAxisTickAmount>0&&(p=u.multiAxisTickAmount,m=!0),p=p==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(p)),(e===Number.MIN_VALUE&&t===0||!Pe.isNumber(e)&&!Pe.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=Pe.isNumber(s.min)?s.min:0,t=Pe.isNumber(s.max)?s.max:e+p,u.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var b=t;t=e,e=b}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var x=[];p<1&&(p=1);var y=p,w=Math.abs(t-e);!n&&e>0&&e/w<.15&&(e=0,n=!0),!o&&t<0&&-t/w<.15&&(t=0,o=!0);var k=(w=Math.abs(t-e))/y,N=k,T=Math.floor(Math.log10(N)),E=Math.pow(10,T),I=Math.ceil(N/E);if(k=N=(I=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][I])*E,u.isBarHorizontal&&s.stepSize&&s.type!=="datetime"?(k=s.stepSize,h=!0):h&&(k=s.stepSize),h&&s.forceNiceScale){var S=Math.floor(Math.log10(k));k*=Math.pow(10,T-S)}if(n&&o){var A=w/y;if(m)if(h)if(Pe.mod(w,k)!=0){var P=Pe.getGCD(k,A);k=A/P<10?P:A}else Pe.mod(k,A)==0?k=A:(A=k,m=!1);else k=A;else if(h)Pe.mod(w,k)==0?A=k:k=A;else if(Pe.mod(w,k)==0)A=k;else{A=w/(y=Math.ceil(w/k));var O=Pe.getGCD(w,k);w/O<a&&(A=O),k=A}y=Math.round(w/k)}else{if(n||o){if(o)if(m)e=t-k*y;else{var M=e;e=k*Math.floor(e/k),Math.abs(t-e)/Pe.getGCD(w,k)>a&&(e=t-k*p,e+=k*Math.floor((M-e)/k))}else if(n)if(m)t=e+k*y;else{var L=t;t=k*Math.ceil(t/k),Math.abs(t-e)/Pe.getGCD(w,k)>a&&(t=e+k*p,t+=k*Math.ceil((L-t)/k))}}else if(u.isMultipleYAxis&&m){var B=k*Math.floor(e/k),G=B+k*y;G<t&&(k*=2),G=t,t=(e=B)+k*y,w=Math.abs(t-e),e>0&&e<Math.abs(G-t)&&(e=0,t=k*y),t<0&&-t<Math.abs(B-e)&&(t=0,e=-k*y)}else e=k*Math.floor(e/k),t=k*Math.ceil(t/k);w=Math.abs(t-e),k=Pe.getGCD(w,k),y=Math.round(w/k)}if(m||n||o||(y=Math.ceil((w-c)/(k+c)))>16&&Pe.getPrimeFactors(y).length<2&&y++,!m&&s.forceNiceScale&&u.yValueDecimal===0&&y>w&&(y=w,k=Math.round(w/y)),y>a&&(!m&&!h||s.forceNiceScale)){var X=Pe.getPrimeFactors(y),H=X.length-1,W=y;e:for(var ne=0;ne<H;ne++)for(var U=0;U<=H-ne;U++){for(var z=Math.min(U+ne,H),Q=W,q=1,Z=U;Z<=z;Z++)q*=X[Z];if((Q/=q)<a){W=Q;break e}}k=W===y?w:w/W,y=Math.round(w/k)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(l)<0&&(u.multiAxisTickAmount=y);var J=e-k,re=k*c;do J+=k,x.push(Pe.stripNumber(J,7));while(t-J>re);return{result:x,niceMin:x[0],niceMax:x[x.length-1]}}},{key:"linearScale",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=Math.abs(t-e),l=[];if(e===t)return{result:l=[e],niceMin:l[0],niceMax:l[l.length-1]};(s=this._adjustTicksForSmallRange(s,a,o))==="dataPoints"&&(s=this.w.globals.dataPoints-1),n||(n=o/s),n=Math.round(100*(n+Number.EPSILON))/100,s===Number.MAX_VALUE&&(s=5,n=1);for(var c=e;s>=0;)l.push(c),c=Pe.preciseAddition(c,n),s-=1;return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var a=[],n=Math.ceil(Math.log(t)/Math.log(s)+1),o=Math.floor(Math.log(e)/Math.log(s));o<n;o++)a.push(Math.pow(s,o));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var a=[],n=Math.log(t)/Math.log(s),o=Math.log(e)/Math.log(s),l=n-o,c=Math.round(l),d=l/c,u=0,h=o;u<c;u++,h+=d)a.push(Math.pow(s,h));return a.push(Math.pow(s,n)),{result:a,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,s){var a=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var n=Number(this.w.config.yaxis[t].labels.formatter(1));Pe.isNumber(n)&&this.w.globals.yValueDecimal===0&&(a=Math.ceil(s))}return a<e?a:e}},{key:"setYScaleForIndex",value:function(e,t,s){var a=this.w.globals,n=this.w.config,o=a.isBarHorizontal?n.xaxis:n.yaxis[e];a.yAxisScale[e]===void 0&&(a.yAxisScale[e]=[]);var l=Math.abs(s-t);o.logarithmic&&l<=5&&(a.invalidLogScale=!0),o.logarithmic&&l>5?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=o.forceNiceScale?this.logarithmicScaleNice(t,s,o.logBase):this.logarithmicScale(t,s,o.logBase)):s!==-Number.MAX_VALUE&&Pe.isNumber(s)&&t!==Number.MAX_VALUE&&Pe.isNumber(t)?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=this.niceScale(t,s,e)):a.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var s=this.w,a=s.globals;if(t!==-Number.MAX_VALUE&&Pe.isNumber(t)){var n=a.xTickAmount;a.xAxisScale=this.linearScale(e,t,n,0,s.config.xaxis.max===void 0?s.config.xaxis.stepSize:void 0)}else a.xAxisScale=this.linearScale(0,10,10);return a.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,s=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var a=s.seriesYAxisMap,n=s.minYArr,o=s.maxYArr;s.allSeriesCollapsed=!0,s.barGroups=[],a.forEach((function(l,c){var d=[];l.forEach((function(u){var h,m=(h=t.series[u])===null||h===void 0?void 0:h.group;d.indexOf(m)<0&&d.push(m)})),l.length>0?(function(){var u,h,m=Number.MAX_VALUE,p=-Number.MAX_VALUE,b=m,x=p;if(t.chart.stacked)(function(){var k=new Array(s.dataPoints).fill(0),N=[],T=[],E=[];d.forEach((function(){N.push(k.map((function(){return Number.MIN_VALUE}))),T.push(k.map((function(){return Number.MIN_VALUE}))),E.push(k.map((function(){return Number.MIN_VALUE})))}));for(var I=function(A){!u&&t.series[l[A]].type&&(u=t.series[l[A]].type);var P=l[A];h=t.series[P].group?t.series[P].group:"axis-".concat(c),!(s.collapsedSeriesIndices.indexOf(P)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(P)<0)||(s.allSeriesCollapsed=!1,d.forEach((function(O,M){if(t.series[P].group===O)for(var L=0;L<s.series[P].length;L++){var B=s.series[P][L];B>=0?T[M][L]+=B:E[M][L]+=B,N[M][L]+=B,b=Math.min(b,B),x=Math.max(x,B)}}))),u!=="bar"&&u!=="column"||s.barGroups.push(h)},S=0;S<l.length;S++)I(S);u||(u=t.chart.type),u==="bar"||u==="column"?d.forEach((function(A,P){m=Math.min(m,Math.min.apply(null,E[P])),p=Math.max(p,Math.max.apply(null,T[P]))})):(d.forEach((function(A,P){b=Math.min(b,Math.min.apply(null,N[P])),x=Math.max(x,Math.max.apply(null,N[P]))})),m=b,p=x),m===Number.MIN_VALUE&&p===Number.MIN_VALUE&&(p=-Number.MAX_VALUE)})();else for(var y=0;y<l.length;y++){var w=l[y];m=Math.min(m,n[w]),p=Math.max(p,o[w]),!(s.collapsedSeriesIndices.indexOf(w)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(w)<0)||(s.allSeriesCollapsed=!1)}t.yaxis[c].min!==void 0&&(m=typeof t.yaxis[c].min=="function"?t.yaxis[c].min(m):t.yaxis[c].min),t.yaxis[c].max!==void 0&&(p=typeof t.yaxis[c].max=="function"?t.yaxis[c].max(p):t.yaxis[c].max),s.barGroups=s.barGroups.filter((function(k,N,T){return T.indexOf(k)===N})),e.setYScaleForIndex(c,m,p),l.forEach((function(k){n[k]=s.yAxisScale[c].niceMin,o[k]=s.yAxisScale[c].niceMax}))})():e.setYScaleForIndex(c,0,-Number.MAX_VALUE)}))}}]),r})(),zE=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.scales=new s$(e)}return It(r,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,n=this.w.config,o=this.w.globals,l=-Number.MAX_VALUE,c=Number.MIN_VALUE;a===null&&(a=e+1);var d=o.series,u=d,h=d;n.chart.type==="candlestick"?(u=o.seriesCandleL,h=o.seriesCandleH):n.chart.type==="boxPlot"?(u=o.seriesCandleO,h=o.seriesCandleC):o.isRangeData&&(u=o.seriesRangeStart,h=o.seriesRangeEnd);var m=!1;if(o.seriesX.length>=a){var p,b=(p=o.brushSource)===null||p===void 0?void 0:p.w.config.chart.brush;(n.chart.zoom.enabled&&n.chart.zoom.autoScaleYaxis||b!=null&&b.enabled&&b!=null&&b.autoScaleYaxis)&&(m=!0)}for(var x=e;x<a;x++){o.dataPoints=Math.max(o.dataPoints,d[x].length);var y=n.series[x].type;o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter((function(P){return P!==void 0})).length),o.labels.length&&n.xaxis.type!=="datetime"&&o.series.reduce((function(P,O){return P+O.length}),0)!==0&&(o.dataPoints=Math.max(o.dataPoints,o.labels.length));var w=0,k=d[x].length-1;if(m){if(n.xaxis.min)for(;w<k&&o.seriesX[x][w]<n.xaxis.min;w++);if(n.xaxis.max)for(;k>w&&o.seriesX[x][k]>n.xaxis.max;k--);}for(var N=w;N<=k&&N<o.series[x].length;N++){var T=d[x][N];if(T!==null&&Pe.isNumber(T)){var E,I,S,A;switch(((E=h[x])===null||E===void 0?void 0:E[N])!==void 0&&(l=Math.max(l,h[x][N]),t=Math.min(t,h[x][N])),((I=u[x])===null||I===void 0?void 0:I[N])!==void 0&&(t=Math.min(t,u[x][N]),s=Math.max(s,u[x][N])),y){case"candlestick":o.seriesCandleC[x][N]!==void 0&&(l=Math.max(l,o.seriesCandleH[x][N]),t=Math.min(t,o.seriesCandleL[x][N]));break;case"boxPlot":o.seriesCandleC[x][N]!==void 0&&(l=Math.max(l,o.seriesCandleC[x][N]),t=Math.min(t,o.seriesCandleO[x][N]))}y&&y!=="candlestick"&&y!=="boxPlot"&&y!=="rangeArea"&&y!=="rangeBar"&&(l=Math.max(l,o.series[x][N]),t=Math.min(t,o.series[x][N])),o.seriesGoals[x]&&o.seriesGoals[x][N]&&Array.isArray(o.seriesGoals[x][N])&&o.seriesGoals[x][N].forEach((function(P){l=Math.max(l,P.value),t=Math.min(t,P.value)})),s=l,T=Pe.noExponents(T),Pe.isFloat(T)&&(o.yValueDecimal=Math.max(o.yValueDecimal,T.toString().split(".")[1].length)),c>((S=u[x])===null||S===void 0?void 0:S[N])&&((A=u[x])===null||A===void 0?void 0:A[N])<0&&(c=u[x][N])}else o.hasNullValues=!0}y!=="bar"&&y!=="column"||(c<0&&l<0&&(l=0,s=Math.max(s,0)),c===Number.MIN_VALUE&&(c=0,t=Math.min(t,0)))}return n.chart.type==="rangeBar"&&o.seriesRangeStart.length&&o.isBarHorizontal&&(c=t),n.chart.type==="bar"&&(c<0&&l<0&&(l=0),c===Number.MIN_VALUE&&(c=0)),{minY:c,maxY:l,lowestY:t,highestY:s}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var s,a=Number.MAX_VALUE;if(e.isMultipleYAxis){a=Number.MAX_VALUE;for(var n=0;n<e.series.length;n++)s=this.getMinYMaxY(n),e.minYArr[n]=s.lowestY,e.maxYArr[n]=s.highestY,a=Math.min(a,s.lowestY)}return s=this.getMinYMaxY(0,a,null,e.series.length),t.chart.type==="bar"?(e.minY=s.minY,e.maxY=s.maxY):(e.minY=s.lowestY,e.maxY=s.highestY),a=s.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&a!==-Number.MAX_VALUE&&a!==e.maxY&&(e.minY=a):e.minY=e.minY!==Number.MIN_VALUE?Math.min(s.minY,e.minY):s.minY,t.yaxis.forEach((function(o,l){o.max!==void 0&&(typeof o.max=="number"?e.maxYArr[l]=o.max:typeof o.max=="function"&&(e.maxYArr[l]=o.max(e.isMultipleYAxis?e.maxYArr[l]:e.maxY)),e.maxY=e.maxYArr[l]),o.min!==void 0&&(typeof o.min=="number"?e.minYArr[l]=o.min:typeof o.min=="function"&&(e.minYArr[l]=o.min(e.isMultipleYAxis?e.minYArr[l]===Number.MIN_VALUE?0:e.minYArr[l]:e.minY)),e.minY=e.minYArr[l])})),e.isBarHorizontal&&["min","max"].forEach((function(o){t.xaxis[o]!==void 0&&typeof t.xaxis[o]=="number"&&(o==="min"?e.minY=t.xaxis[o]:e.maxY=t.xaxis[o])})),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=a):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach((function(o){switch(o.type||t.chart.type){case"bar":case"column":e.barGroups.push(o.group);break;case"line":e.lineGroups.push(o.group);break;case"area":e.areaGroups.push(o.group)}})),e.barGroups=e.barGroups.filter((function(o,l,c){return c.indexOf(o)===l})),e.lineGroups=e.lineGroups.filter((function(o,l,c){return c.indexOf(o)===l})),e.areaGroups=e.areaGroups.filter((function(o,l,c){return c.indexOf(o)===l})),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,s=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&(function(){for(var c=0;c<e.series.length;c++)if(e.labels[c])for(var d=0;d<e.labels[c].length;d++)e.labels[c][d]!==null&&Pe.isNumber(e.labels[c][d])&&(e.maxX=Math.max(e.maxX,e.labels[c][d]),e.initialMaxX=Math.max(e.maxX,e.labels[c][d]),e.minX=Math.min(e.minX,e.labels[c][d]),e.initialMinX=Math.min(e.minX,e.labels[c][d]))})(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var a=10;if(t.xaxis.tickAmount===void 0)a=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(a=e.dataPoints-1),a>e.dataPoints&&e.dataPoints!==0&&(a=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(a=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var n=Math.round(e.maxX-e.minX);n<30&&(a=n)}}else a=t.xaxis.tickAmount;if(e.xTickAmount=a,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var o=[],l=e.minX-1;l<e.maxX;l++)o.push(l+1);e.xAxisScale={result:o,niceMin:o[0],niceMax:o[o.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,a,a,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,a-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());s&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var s=0;s<e.seriesZ[t].length;s++)e.seriesZ[t][s]!==null&&Pe.isNumber(e.seriesZ[t][s])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][s]),e.minZ=Math.min(e.minZ,e.seriesZ[t][s]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var s=new hn(this.ctx);if(t.xaxis.type==="datetime"){var a=s.getDate(e.minX);t.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()-2):a.setDate(a.getDate()-2),e.minX=new Date(a).getTime();var n=s.getDate(e.maxX);t.xaxis.labels.datetimeUTC?n.setUTCDate(n.getUTCDate()+2):n.setDate(n.getDate()+2),e.maxX=new Date(n).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach((function(t,s){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var a=t.slice();a.sort((function(n,o){return n-o})),a.forEach((function(n,o){if(o>0){var l=n-a[o-1];l>0&&(e.minXDiff=Math.min(l,e.minXDiff))}})),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}}))}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var s=t.seriesGroups;s.length||(s=[this.w.globals.seriesNames.map((function(o){return o}))]);var a={},n={};s.forEach((function(o){a[o]=[],n[o]=[],e.w.config.series.map((function(l,c){return o.indexOf(t.seriesNames[c])>-1?c:null})).filter((function(l){return l!==null})).forEach((function(l){for(var c=0;c<t.series[t.maxValsInArrayIndex].length;c++){var d,u,h,m;a[o][c]===void 0&&(a[o][c]=0,n[o][c]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((d=e.w.config.series)===null||d===void 0||(u=d[l])===null||u===void 0?void 0:u.type)==="bar"||((h=e.w.config.series)===null||h===void 0||(m=h[l])===null||m===void 0?void 0:m.type)==="column"))&&t.series[l][c]!==null&&Pe.isNumber(t.series[l][c])&&(t.series[l][c]>0?a[o][c]+=parseFloat(t.series[l][c])+1e-4:n[o][c]+=parseFloat(t.series[l][c]))}}))})),Object.entries(a).forEach((function(o){var l=NH(o,1)[0];a[l].forEach((function(c,d){t.maxY=Math.max(t.maxY,a[l][d]),t.minY=Math.min(t.minY,n[l][d])}))}))}}}]),r})(),e4=(function(){function r(e,t){Rt(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=s.config.xaxis.position==="bottom"?s.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new qd(e)}return It(r,[{key:"drawYaxis",value:function(e){var t=this.w,s=new ot(this.ctx),a=t.config.yaxis[e].labels.style,n=a.fontSize,o=a.fontFamily,l=a.fontWeight,c=s.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return c;var d=s.group({class:"apexcharts-yaxis-texts-g"});c.add(d);var u=t.globals.yAxisScale[e].result.length-1,h=t.globals.gridHeight/u,m=t.globals.yLabelFormatters[e],p=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var b=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?b=0:t.config.chart.type==="heatmap"&&(b-=h/2),b+=parseInt(n,10)/3;for(var x=u;x>=0;x--){var y=m(p[x],x,t),w=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(w*=-1);var k=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),N=this.axesUtils.getYAxisForeColor(a.colors,e),T=Array.isArray(N)?N[x]:N,E=Pe.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map((function(S){return S.textContent})),I=s.drawText({x:w,y:b,text:E.includes(y)&&!t.config.yaxis[e].labels.showDuplicates?"":y,textAnchor:k,fontSize:n,fontFamily:o,fontWeight:l,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:T,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(a.cssClass)});d.add(I),this.addTooltip(I,y),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(s,I,firstLabel,t.config.yaxis[e].labels.rotate),b+=h}}return this.addYAxisTitle(s,c,e),this.addAxisBorder(s,c,e,u,h),c}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var s=document.createElementNS(this.w.globals.SVGNS,"title");s.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(s)}},{key:"rotateLabel",value:function(e,t,s,a){var n=e.rotateAroundCenter(s.node),o=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(a," ").concat(n.x," ").concat(o.y,")"))}},{key:"addYAxisTitle",value:function(e,t,s){var a=this.w;if(a.config.yaxis[s].title.text!==void 0){var n=e.group({class:"apexcharts-yaxis-title"}),o=a.config.yaxis[s].opposite?a.globals.translateYAxisX[s]:0,l=e.drawText({x:o,y:a.globals.gridHeight/2+a.globals.translateY+a.config.yaxis[s].title.offsetY,text:a.config.yaxis[s].title.text,textAnchor:"end",foreColor:a.config.yaxis[s].title.style.color,fontSize:a.config.yaxis[s].title.style.fontSize,fontWeight:a.config.yaxis[s].title.style.fontWeight,fontFamily:a.config.yaxis[s].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(a.config.yaxis[s].title.style.cssClass)});n.add(l),t.add(n)}}},{key:"addAxisBorder",value:function(e,t,s,a,n){var o=this.w,l=o.config.yaxis[s].axisBorder,c=31+l.offsetX;if(o.config.yaxis[s].opposite&&(c=-31-l.offsetX),l.show){var d=e.drawLine(c,o.globals.translateY+l.offsetY-2,c,o.globals.gridHeight+o.globals.translateY+l.offsetY+2,l.color,0,l.width);t.add(d)}o.config.yaxis[s].axisTicks.show&&this.axesUtils.drawYAxisTicks(c,a,l,o.config.yaxis[s].axisTicks,s,n,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,s=new ot(this.ctx),a=s.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),n=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});a.add(n);var o=t.globals.yAxisScale[e].result.length-1,l=t.globals.gridWidth/o+.1,c=l+t.config.xaxis.labels.offsetX,d=t.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),h=t.globals.timescaleLabels;if(h.length>0&&(this.xaxisLabels=h.slice(),o=(u=h.slice()).length),t.config.xaxis.labels.show)for(var m=h.length?0:o;h.length?m<h.length:m>=0;h.length?m++:m--){var p=d(u[m],m,t),b=t.globals.gridWidth+t.globals.padHorizontal-(c-l+t.config.xaxis.labels.offsetX);if(h.length){var x=this.axesUtils.getLabel(u,h,b,m,this.drawnLabels,this.xaxisFontSize);b=x.x,p=x.text,this.drawnLabels.push(x.text),m===0&&t.globals.skipFirstTimelinelabel&&(p=""),m===u.length-1&&t.globals.skipLastTimelinelabel&&(p="")}var y=s.drawText({x:b,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});n.add(y),y.tspan(p),this.addTooltip(y,p),c+=l}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,s=new ot(this.ctx),a=t.config.xaxis.axisBorder;if(a.show){var n=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(n-=15);var o=s.drawLine(t.globals.padHorizontal+n+a.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,a.color,0,a.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(o):e.add(o)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,s=new ot(this.ctx);if(t.config.xaxis.title.text!==void 0){var a=s.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),n=s.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});a.add(n),e.add(a)}}},{key:"yAxisTitleRotate",value:function(e,t){var s=this.w,a=new ot(this.ctx),n=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),o=n?n.getBoundingClientRect():{width:0,height:0},l=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),c=l?l.getBoundingClientRect():{width:0,height:0};if(l){var d=this.xPaddingForYAxisTitle(e,o,c,t);l.setAttribute("x",d.xPos-(t?10:0));var u=a.rotateAroundCenter(l);l.setAttribute("transform","rotate(".concat(t?-1*s.config.yaxis[e].title.rotate:s.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,s,a){var n=this.w,o=0,l=10;return n.config.yaxis[e].title.text===void 0||e<0?{xPos:o,padd:0}:(a?o=t.width+n.config.yaxis[e].title.offsetX+s.width/2+l/2:(o=-1*t.width+n.config.yaxis[e].title.offsetX+l/2+s.width/2,n.globals.isBarHorizontal&&(l=25,o=-1*t.width-n.config.yaxis[e].title.offsetX-l)),{xPos:o,padd:l})}},{key:"setYAxisXPosition",value:function(e,t){var s=this.w,a=0,n=0,o=18,l=1;s.config.yaxis.length>1&&(this.multipleYs=!0),s.config.yaxis.forEach((function(c,d){var u=s.globals.ignoreYAxisIndexes.includes(d)||!c.show||c.floating||e[d].width===0,h=e[d].width+t[d].width;c.opposite?s.globals.isBarHorizontal?(n=s.globals.gridWidth+s.globals.translateX-1,s.globals.translateYAxisX[d]=n-c.labels.offsetX):(n=s.globals.gridWidth+s.globals.translateX+l,u||(l+=h+20),s.globals.translateYAxisX[d]=n-c.labels.offsetX+20):(a=s.globals.translateX-o,u||(o+=h+20),s.globals.translateYAxisX[d]=a+c.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;Pe.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach((function(t,s){var a=e.config.yaxis[s];if(a&&!a.floating&&a.labels.align!==void 0){var n=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-texts-g")),o=Pe.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-label"))),l=n.getBoundingClientRect();o.forEach((function(c){c.setAttribute("text-anchor",a.labels.align)})),a.labels.align!=="left"||a.opposite?a.labels.align==="center"?n.setAttribute("transform","translate(".concat(l.width/2*(a.opposite?1:-1),", 0)")):a.labels.align==="right"&&a.opposite&&n.setAttribute("transform","translate(".concat(l.width,", 0)")):n.setAttribute("transform","translate(-".concat(l.width,", 0)"))}}))}}]),r})(),m1e=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.documentEvent=Pe.bind(this.documentEvent,this)}return It(r,[{key:"addEventListener",value:function(e,t){var s=this.w;s.globals.events.hasOwnProperty(e)?s.globals.events[e].push(t):s.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){var a=s.globals.events[e].indexOf(t);a!==-1&&s.globals.events[e].splice(a,1)}}},{key:"fireEvent",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var a=s.globals.events[e],n=a.length,o=0;o<n;o++)a[o].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,s=this.ctx,a=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach((function(n){a.addEventListener(n,(function(o){var l=o.target.getAttribute("i")===null&&t.globals.capturedSeriesIndex!==-1?t.globals.capturedSeriesIndex:o.target.getAttribute("i"),c=o.target.getAttribute("j")===null&&t.globals.capturedDataPointIndex!==-1?t.globals.capturedDataPointIndex:o.target.getAttribute("j"),d=Object.assign({},t,{seriesIndex:t.globals.axisCharts?l:0,dataPointIndex:c});o.type==="mousemove"||o.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(o,s,d):o.type==="mouseleave"||o.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(o,s,d):(o.type==="mouseup"&&o.which===1||o.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(o,s,d),s.ctx.events.fireEvent("click",[o,s,d]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(n){t.globals.dom.baseEl.addEventListener(n,e.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,s=e.target.className;if(e.type==="click"){var a=t.globals.dom.baseEl.querySelector(".apexcharts-menu");a&&a.classList.contains("apexcharts-menu-open")&&s!=="apexcharts-menu-icon"&&a.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),r})(),g1e=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var s=t.filter((function(n){return n.name===e}))[0];if(!s)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var a=Pe.extend(QH,s);this.w.globals.locale=a.options}}]),r})(),p1e=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"drawAxis",value:function(e,t){var s,a,n=this,o=this.w.globals,l=this.w.config,c=new px(this.ctx,t),d=new e4(this.ctx,t);o.axisCharts&&e!=="radar"&&(o.isBarHorizontal?(a=d.drawYaxisInversed(0),s=c.drawXaxisInversed(0),o.dom.elGraphical.add(s),o.dom.elGraphical.add(a)):(s=c.drawXaxis(),o.dom.elGraphical.add(s),l.yaxis.map((function(u,h){if(o.ignoreYAxisIndexes.indexOf(h)===-1&&(a=d.drawYaxis(h),o.dom.Paper.add(a),n.w.config.grid.position==="back")){var m=o.dom.Paper.children()[1];m.remove(),o.dom.Paper.add(m)}}))))}}]),r})(),VE=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new ot(this.ctx),s=new gn(this.ctx),a=e.config.xaxis.crosshairs.fill.gradient,n=e.config.xaxis.crosshairs.dropShadow,o=e.config.xaxis.crosshairs.fill.type,l=a.colorFrom,c=a.colorTo,d=a.opacityFrom,u=a.opacityTo,h=a.stops,m=n.enabled,p=n.left,b=n.top,x=n.blur,y=n.color,w=n.opacity,k=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){o==="gradient"&&(k=t.drawGradient("vertical",l,c,d,u,null,h,null));var N=t.drawRect();e.config.xaxis.crosshairs.width===1&&(N=t.drawLine());var T=e.globals.gridHeight;(!Pe.isNumber(T)||T<0)&&(T=0);var E=e.config.xaxis.crosshairs.width;(!Pe.isNumber(E)||E<0)&&(E=0),N.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:T,width:E,height:T,fill:k,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),m&&(N=s.dropShadow(N,{left:p,top:b,blur:x,color:y,opacity:w})),e.globals.dom.elGraphical.add(N)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new ot(this.ctx),s=e.config.yaxis[0].crosshairs,a=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var n=t.drawLine(-a,0,e.globals.gridWidth+a,0,s.stroke.color,s.stroke.dashArray,s.stroke.width);n.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(n)}var o=t.drawLine(-a,0,e.globals.gridWidth+a,0,s.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(o)}}]),r})(),x1e=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"checkResponsiveConfig",value:function(e){var t=this,s=this.w,a=s.config;if(a.responsive.length!==0){var n=a.responsive.slice();n.sort((function(d,u){return d.breakpoint>u.breakpoint?1:u.breakpoint>d.breakpoint?-1:0})).reverse();var o=new gx({}),l=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=n[0].breakpoint,h=window.innerWidth>0?window.innerWidth:screen.width;if(h>u){var m=Pe.clone(s.globals.initialConfig);m.series=Pe.clone(s.config.series);var p=na.extendArrayProps(o,m,s);d=Pe.extend(p,d),d=Pe.extend(s.config,d),t.overrideResponsiveOptions(d)}else for(var b=0;b<n.length;b++)h<n[b].breakpoint&&(d=na.extendArrayProps(o,n[b].options,s),d=Pe.extend(s.config,d),t.overrideResponsiveOptions(d))};if(e){var c=na.extendArrayProps(o,e,s);c=Pe.extend(s.config,c),l(c=Pe.extend(c,e))}else l({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new gx(e).init({responsiveOverride:!0});this.w.config=t}}]),r})(),b1e=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return It(r,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,s=e.plotOptions;return t.type==="treemap"&&s.treemap&&s.treemap.distributed||t.type==="heatmap"&&s.heatmap&&s.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,s=e.plotOptions;return s.bar&&s.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new Pe;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var s=za(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(s),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var a=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],a),this.applyDataLabelsColors(a),this.applyRadarPolygonsColors(),this.applyMarkersColors(a)}},{key:"getColors",value:function(e){var t=this,s=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,s.config.series.map((function(a,n){var o=e[n]||e[0];return typeof o=="function"?o({value:s.globals.axisCharts?s.globals.series[n][0]||0:s.globals.series[n],seriesIndex:n,dataPointIndex:n,w:t.w}):o}))):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach((function(s,a){s&&(t[a]=s)}))}},{key:"getMonochromeColors",value:function(e,t,s){var a=e.color,n=e.shadeIntensity,o=e.shadeTo,l=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,c=1/(l/n),d=0;return Array.from({length:l},(function(){var u=o==="dark"?s.shadeColor(-1*d,a):s.shadeColor(d,a);return d+=c,u}))}},{key:"applyColorTypes",value:function(e,t){var s=this,a=this.w;e.forEach((function(n){a.globals[n].colors=a.config[n].colors===void 0?s.isColorFn?a.config.colors:t:a.config[n].colors.slice(),s.pushExtraColors(a.globals[n].colors)}))}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,n=t||a.globals.series.length;if(s===null&&(s=this.isBarDistributed||this.isHeatmapDistributed||a.config.chart.type==="heatmap"&&a.config.plotOptions.heatmap&&a.config.plotOptions.heatmap.colorScale.inverse),s&&a.globals.series.length&&(n=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),e.length<n)for(var o=n-e.length,l=0;l<o;l++)e.push(e[l])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,s=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",a=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=a,e.theme.palette=s,e}},{key:"predefined",value:function(){var e=this.w.config.theme.palette,t=this.ctx.constructor.getThemePalettes();return t[e]||t.palette1}}]),r})(),y1e=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,s=e==="title"?t.config.title:t.config.subtitle,a=t.globals.svgWidth/2,n=s.offsetY,o="middle";if(s.align==="left"?(a=10,o="start"):s.align==="right"&&(a=t.globals.svgWidth-10,o="end"),a+=s.offsetX,n=n+parseInt(s.style.fontSize,10)+s.margin/2,s.text!==void 0){var l=new ot(this.ctx).drawText({x:a,y:n,text:s.text,textAnchor:o,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,fontWeight:s.style.fontWeight,foreColor:s.style.color,opacity:1});l.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(l)}}}]),r})(),v1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.dCtx=e}return It(r,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,s=0,a=0,n=e==="title"?t.config.title.floating:t.config.subtitle.floating,o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(o!==null&&!n){var l=o.getBoundingClientRect();s=l.width,a=t.globals.axisCharts?l.height+5:l.height}return{width:s,height:a}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var s=Object.assign({},Pe.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:s.x,y:s.y,height:s.height,width:s.height===0?0:s.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,s=[];t.config.series.forEach((function(c,d){c.data.forEach((function(u,h){var m;m=t.globals.series[d][h],a=t.config.dataLabels.formatter(m,{ctx:e.dCtx.ctx,seriesIndex:d,dataPointIndex:h,w:t}),s.push(a)}))}));var a=Pe.getLargestStringFromArr(s),n=new ot(this.dCtx.ctx),o=t.config.dataLabels.style,l=n.getTextRects(a,parseInt(o.fontSize),o.fontFamily);return{width:1.05*l.width,height:l.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var s=e;if(this.w.globals.isMultiLineX){var a=t.map((function(o,l){return Array.isArray(o)?o.length:1})),n=Math.max.apply(Math,za(a));s=t[a.indexOf(n)]}return s}}]),r})(),w1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.dCtx=e}return It(r,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,s=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&s.length===0&&(s=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var a=this.getxAxisTimeScaleLabelsCoords();e={width:a.width,height:a.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var n=t.globals.xLabelFormatter,o=Pe.getLargestStringFromArr(s),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,s);t.globals.isBarHorizontal&&(l=o=t.globals.yAxisScale[0].result.reduce((function(b,x){return b.length>x.length?b:x}),0));var c=new bb(this.dCtx.ctx),d=o;o=c.xLabelFormat(n,o,d,{i:void 0,dateFormatter:new hn(this.dCtx.ctx).formatDate,w:t}),l=c.xLabelFormat(n,l,d,{i:void 0,dateFormatter:new hn(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&o===void 0||String(o).trim()==="")&&(l=o="1");var u=new ot(this.dCtx.ctx),h=u.getTextRects(o,t.config.xaxis.labels.style.fontSize),m=h;if(o!==l&&(m=u.getTextRects(l,t.config.xaxis.labels.style.fontSize)),(e={width:h.width>=m.width?h.width:m.width,height:h.height>=m.height?h.height:m.height}).width*s.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var p=function(b){return u.getTextRects(b,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};h=p(o),o!==l&&(m=p(l)),e.height=(h.height>m.height?h.height:m.height)/1.5,e.width=h.width>m.width?h.width:m.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var s,a=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,n=t.globals.groups.map((function(h){return h.title})),o=Pe.getLargestStringFromArr(n),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,n),c=new ot(this.dCtx.ctx),d=c.getTextRects(o,a),u=d;return o!==l&&(u=c.getTextRects(l,a)),s={width:d.width>=u.width?d.width:u.width,height:d.height>=u.height?d.height:u.height},t.config.xaxis.labels.show||(s={width:0,height:0}),{width:s.width,height:s.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,s=0;if(e.config.xaxis.title.text!==void 0){var a=new ot(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=a.width,s=a.height}return{width:t,height:s}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var s=this.dCtx.timescaleLabels.map((function(n){return n.value})),a=s.reduce((function(n,o){return n===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):n.length>o.length?n:o}),0);return 1.05*(e=new ot(this.dCtx.ctx).getTextRects(a,t.config.xaxis.labels.style.fontSize)).width*s.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,s=this.w,a=s.globals,n=s.config,o=n.xaxis.type,l=e.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var c=s.config.yaxis[0].opposite&&s.globals.isBarHorizontal,d=function(u,h){n.yaxis.length>1&&(function(m){return a.collapsedSeriesIndices.indexOf(m)!==-1})(h)||(function(m){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var p=t.dCtx.timescaleLabels[0],b=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+l/1.75-t.dCtx.yAxisWidthRight,x=p.position-l/1.75+t.dCtx.yAxisWidthLeft,y=s.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;b>a.svgWidth-a.translateX-y&&(a.skipLastTimelinelabel=!0),x<-(m.show&&!m.floating||n.chart.type!=="bar"&&n.chart.type!=="candlestick"&&n.chart.type!=="rangeBar"&&n.chart.type!=="boxPlot"?10:l/1.75)&&(a.skipFirstTimelinelabel=!0)}else o==="datetime"?t.dCtx.gridPad.right<l&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):o!=="datetime"&&t.dCtx.gridPad.right<l/2-t.dCtx.yAxisWidthRight&&!a.rotateXLabels&&!s.config.xaxis.labels.trim&&(t.dCtx.xPadRight=l/2+1)})(u)};n.yaxis.forEach((function(u,h){c?(t.dCtx.gridPad.left<l&&(t.dCtx.xPadLeft=l/2+1),t.dCtx.xPadRight=l/2+1):d(u,h)}))}}]),r})(),k1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.dCtx=e}return It(r,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,s=[],a=10,n=new qd(this.dCtx.ctx);return t.config.yaxis.map((function(o,l){var c={seriesIndex:l,dataPointIndex:-1,w:t},d=t.globals.yAxisScale[l],u=0;if(!n.isYAxisHidden(l)&&o.labels.show&&o.labels.minWidth!==void 0&&(u=o.labels.minWidth),!n.isYAxisHidden(l)&&o.labels.show&&d.result.length){var h=t.globals.yLabelFormatters[l],m=d.niceMin===Number.MIN_VALUE?0:d.niceMin,p=d.result.reduce((function(T,E){var I,S;return((I=String(h(T,c)))===null||I===void 0?void 0:I.length)>((S=String(h(E,c)))===null||S===void 0?void 0:S.length)?T:E}),m),b=p=h(p,c);if(p!==void 0&&p.length!==0||(p=d.niceMax),t.globals.isBarHorizontal){a=0;var x=t.globals.labels.slice();p=Pe.getLargestStringFromArr(x),p=h(p,{seriesIndex:l,dataPointIndex:-1,w:t}),b=e.dCtx.dimHelpers.getLargestStringFromMultiArr(p,x)}var y=new ot(e.dCtx.ctx),w="rotate(".concat(o.labels.rotate," 0 0)"),k=y.getTextRects(p,o.labels.style.fontSize,o.labels.style.fontFamily,w,!1),N=k;p!==b&&(N=y.getTextRects(b,o.labels.style.fontSize,o.labels.style.fontFamily,w,!1)),s.push({width:(u>N.width||u>k.width?u:N.width>k.width?N.width:k.width)+a,height:N.height>k.height?N.height:k.height})}else s.push({width:0,height:0})})),s}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,s=[];return t.config.yaxis.map((function(a,n){if(a.show&&a.title.text!==void 0){var o=new ot(e.dCtx.ctx),l="rotate(".concat(a.title.rotate," 0 0)"),c=o.getTextRects(a.title.text,a.title.style.fontSize,a.title.style.fontFamily,l,!1);s.push({width:c.width,height:c.height})}else s.push({width:0,height:0})})),s}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,s=0,a=0,n=e.globals.yAxisScale.length>1?10:0,o=new qd(this.dCtx.ctx),l=function(c,d){var u=e.config.yaxis[d].floating,h=0;c.width>0&&!u?(h=c.width+n,(function(m){return e.globals.ignoreYAxisIndexes.indexOf(m)>-1})(d)&&(h=h-c.width-n)):h=u||o.isYAxisHidden(d)?0:5,e.config.yaxis[d].opposite?a+=h:s+=h,t+=h};return e.globals.yLabelsCoords.map((function(c,d){l(c,d)})),e.globals.yTitleCoords.map((function(c,d){l(c,d)})),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=s,this.dCtx.yAxisWidthRight=a,t}}]),r})(),_1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.dCtx=e}return It(r,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,s=t.config,a=t.globals;if(a.noData||a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===s.series.length)return 0;var n=function(p){return["bar","rangeBar","candlestick","boxPlot"].includes(p)},o=s.chart.type,l=0,c=n(o)?s.series.length:1;a.comboBarCount>0&&(c=a.comboBarCount),a.collapsedSeries.forEach((function(p){n(p.type)&&(c-=1)})),s.chart.stacked&&(c=1);var d=n(o)||a.comboBarCount>0,u=Math.abs(a.initialMaxX-a.initialMinX);if(d&&a.isXNumeric&&!a.isBarHorizontal&&c>0&&u!==0){u<=3&&(u=a.dataPoints);var h=u/e,m=a.minXDiff&&a.minXDiff/h>0?a.minXDiff/h:0;m>e/2&&(m/=2),(l=m*parseInt(s.plotOptions.bar.columnWidth,10)/100)<1&&(l=1),a.barPadForNumericAxis=l}return l}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,s=t.globals,a=this.dCtx.isSparkline||!s.axisCharts?0:10;["title","subtitle"].forEach((function(l){t.config[l].text!==void 0?a+=t.config[l].margin:a+=e.dCtx.isSparkline||!s.axisCharts?0:5})),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||s.axisCharts||(a+=10);var n=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");s.gridHeight-=n.height+o.height+a,s.translateY+=n.height+o.height+a}},{key:"setGridXPosForDualYAxis",value:function(e,t){var s=this.w,a=new qd(this.dCtx.ctx);s.config.yaxis.forEach((function(n,o){s.globals.ignoreYAxisIndexes.indexOf(o)!==-1||n.floating||a.isYAxisHidden(o)||(n.opposite&&(s.globals.translateX-=t[o].width+e[o].width+parseInt(n.labels.style.fontSize,10)/1.2+12),s.globals.translateX<2&&(s.globals.translateX=2))}))}}]),r})(),Yw=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new v1e(this),this.dimYAxis=new k1e(this),this.dimXAxis=new w1e(this),this.dimGrid=new _1e(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return It(r,[{key:"plotCoords",value:function(){var e=this,t=this.w,s=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var a=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,za(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(o){var l=NH(o,2),c=l[0],d=l[1];e.gridPad[c]=Math.max(d,e.w.globals.markers.largestSize/1.5)})),this.gridPad.top=Math.max(a/2,this.gridPad.top),this.gridPad.bottom=Math.max(a/2,this.gridPad.bottom)),s.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),s.gridHeight=s.gridHeight-this.gridPad.top-this.gridPad.bottom,s.gridWidth=s.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var n=this.dimGrid.gridPadForColumnsInNumericAxis(s.gridWidth);s.gridWidth=s.gridWidth-2*n,s.translateX=s.translateX+this.gridPad.left+this.xPadLeft+(n>0?n:0),s.translateY=s.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,s=t.globals,a=this.dimYAxis.getyAxisLabelsCoords(),n=this.dimYAxis.getyAxisTitleCoords();s.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map((function(p,b){t.globals.yLabelsCoords.push({width:a[b].width,index:b}),t.globals.yTitleCoords.push({width:n[b].width,index:b})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),l=this.dimXAxis.getxAxisGroupLabelsCoords(),c=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,c,l),s.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,s.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(s.rotateXLabels=!1,s.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),s.translateXAxisY=s.translateXAxisY+t.config.xaxis.labels.offsetY,s.translateXAxisX=s.translateXAxisX+t.config.xaxis.labels.offsetX;var d=this.yAxisWidth,u=this.xAxisHeight;s.xAxisLabelsHeight=this.xAxisHeight-c.height,s.xAxisGroupLabelsHeight=s.xAxisLabelsHeight-o.height,s.xAxisLabelsWidth=this.xAxisWidth,s.xAxisHeight=this.xAxisHeight;var h=10;(t.config.chart.type==="radar"||this.isSparkline)&&(d=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(d=0,u=0,h=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(o);var m=function(){s.translateX=d+e.datalabelsCoords.width,s.gridHeight=s.svgHeight-e.lgRect.height-u-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),s.gridWidth=s.svgWidth-d-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(h=s.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":s.translateY=h,m();break;case"top":s.translateY=this.lgRect.height+h,m();break;case"left":s.translateY=h,s.translateX=this.lgRect.width+d+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-u-12,s.gridWidth=s.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width;break;case"right":s.translateY=h,s.translateX=d+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-u-12,s.gridWidth=s.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(n,a),new e4(this.ctx).setYAxisXPosition(a,n)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=e.config,a=0;e.config.legend.show&&!e.config.legend.floating&&(a=20);var n=s.chart.type==="pie"||s.chart.type==="polarArea"||s.chart.type==="donut"?"pie":"radialBar",o=s.plotOptions[n].offsetY,l=s.plotOptions[n].offsetX;if(!s.legend.show||s.legend.floating){t.gridHeight=t.svgHeight;var c=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(c,t.gridHeight),t.translateY=o,void(t.translateX=l+(t.svgWidth-t.gridWidth)/2)}switch(s.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=o-10,t.translateX=l+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+o+10,t.translateX=l+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-a,t.gridHeight=s.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=l+this.lgRect.width+a;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-a-5,t.gridHeight=s.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=l+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,s){var a=this.w,n=a.globals.hasXaxisGroups?2:1,o=s.height+e.height+t.height,l=a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO,c=a.globals.rotateXLabels?22:10,d=a.globals.rotateXLabels&&a.config.legend.position==="bottom"?10:0;this.xAxisHeight=o*l+n*c+d,this.xAxisWidth=e.width,this.xAxisHeight-t.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,h=0;a.config.yaxis.forEach((function(m){u+=m.labels.minWidth,h+=m.labels.maxWidth})),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),r})(),N1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.lgCtx=e}return It(r,[{key:"getLegendStyles",value:function(){var e,t,s,a=document.createElement("style");a.setAttribute("type","text/css");var n=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(s=t.chart)===null||s===void 0?void 0:s.nonce)||this.w.config.chart.nonce;n&&a.setAttribute("nonce",n);var o=document.createTextNode(t$);return a.appendChild(o),a}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&e.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var s=this,a=this.w;if(a.globals.axisCharts||a.config.chart.type==="radialBar"){a.globals.resized=!0;var n=null,o=null;a.globals.risingSeries=[],a.globals.axisCharts?(n=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),o=parseInt(n.getAttribute("data:realIndex"),10)):(n=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),o=parseInt(n.getAttribute("rel"),10)-1),t?[{cs:a.globals.collapsedSeries,csi:a.globals.collapsedSeriesIndices},{cs:a.globals.ancillaryCollapsedSeries,csi:a.globals.ancillaryCollapsedSeriesIndices}].forEach((function(u){s.riseCollapsedSeries(u.cs,u.csi,o)})):this.hideSeries({seriesEl:n,realIndex:o})}else{var l=a.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),c=a.config.chart.type;if(c==="pie"||c==="polarArea"||c==="donut"){var d=a.config.plotOptions.pie.donut.labels;new ot(this.lgCtx.ctx).pathMouseDown(l,null),this.lgCtx.ctx.pie.printDataLabelsInner(l.node,d)}l.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,s=this.w,a=s.globals,n=Pe.clone(s.config.series);if(a.axisCharts){var o=s.config.yaxis[a.seriesYAxisReverseMap[t]],l={index:t,data:n[t].data.slice(),type:n[t].type||s.config.chart.type};if(o&&o.show&&o.showAlways)a.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(a.ancillaryCollapsedSeries.push(l),a.ancillaryCollapsedSeriesIndices.push(t));else if(a.collapsedSeriesIndices.indexOf(t)<0){a.collapsedSeries.push(l),a.collapsedSeriesIndices.push(t);var c=a.risingSeries.indexOf(t);a.risingSeries.splice(c,1)}}else a.collapsedSeries.push({index:t,data:n[t]}),a.collapsedSeriesIndices.push(t);return a.allSeriesCollapsed=a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===s.config.series.length,this._getSeriesBasedOnCollapsedState(n)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,s=e.realIndex,a=this.w,n=this.getSeriesAfterCollapsing({realIndex:s}),o=t.childNodes,l=0;l<o.length;l++)o[l].classList.contains("apexcharts-series-markers-wrap")&&(o[l].classList.contains("apexcharts-hide")?o[l].classList.remove("apexcharts-hide"):o[l].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(n,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,s){var a=this.w,n=Pe.clone(a.config.series);if(e.length>0){for(var o=0;o<e.length;o++)e[o].index===s&&(a.globals.axisCharts?n[s].data=e[o].data.slice():n[s]=e[o].data,typeof n[s]!="number"&&(n[s].hidden=!1),e.splice(o,1),t.splice(o,1),a.globals.risingSeries.push(s));n=this._getSeriesBasedOnCollapsedState(n),this.lgCtx.ctx.updateHelpers._updateSeries(n,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,s=0;return t.globals.axisCharts?e.forEach((function(a,n){t.globals.collapsedSeriesIndices.indexOf(n)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(n)<0||(e[n].data=[],s++)})):e.forEach((function(a,n){!t.globals.collapsedSeriesIndices.indexOf(n)<0&&(e[n]=0,s++)})),t.globals.allSeriesCollapsed=s===e.length,e}}]),r})(),a$=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new N1e(this)}return It(r,[{key:"init",value:function(){var e=this.w,t=e.globals,s=e.config,a=s.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(a||!t.axisCharts)&&s.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),s.legend.position==="bottom"||s.legend.position==="top"?this.legendAlignHorizontal():s.legend.position!=="right"&&s.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,s=e.fillcolor,a=this.w,n=document.createElement("span");n.classList.add("apexcharts-legend-marker");var o=a.config.legend.markers.shape||a.config.markers.shape,l=o;Array.isArray(o)&&(l=o[t]);var c=Array.isArray(a.config.legend.markers.size)?parseFloat(a.config.legend.markers.size[t]):parseFloat(a.config.legend.markers.size),d=Array.isArray(a.config.legend.markers.offsetX)?parseFloat(a.config.legend.markers.offsetX[t]):parseFloat(a.config.legend.markers.offsetX),u=Array.isArray(a.config.legend.markers.offsetY)?parseFloat(a.config.legend.markers.offsetY[t]):parseFloat(a.config.legend.markers.offsetY),h=Array.isArray(a.config.legend.markers.strokeWidth)?parseFloat(a.config.legend.markers.strokeWidth[t]):parseFloat(a.config.legend.markers.strokeWidth),m=n.style;if(m.height=2*(c+h)+"px",m.width=2*(c+h)+"px",m.left=d+"px",m.top=u+"px",a.config.legend.markers.customHTML)m.background="transparent",m.color=s[t],Array.isArray(a.config.legend.markers.customHTML)?a.config.legend.markers.customHTML[t]&&(n.innerHTML=a.config.legend.markers.customHTML[t]()):n.innerHTML=a.config.legend.markers.customHTML();else{var p=new y0(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(l),seriesIndex:t,strokeWidth:h,size:c}),b=window.SVG().addTo(n).size("100%","100%"),x=new ot(this.ctx).drawMarker(0,0,yt(yt({},p),{},{pointFillColor:Array.isArray(s)?s[t]:p.pointFillColor,shape:l}));a.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach((function(y){y.node.classList.contains("apexcharts-marker-triangle")?y.node.style.transform="translate(50%, 45%)":y.node.style.transform="translate(50%, 50%)"})),b.add(x)}return n}},{key:"drawLegends",value:function(){var e=this,t=this,s=this.w,a=s.config.legend.fontFamily,n=s.globals.seriesNames,o=s.config.legend.markers.fillColors?s.config.legend.markers.fillColors.slice():s.globals.colors.slice();if(s.config.chart.type==="heatmap"){var l=s.config.plotOptions.heatmap.colorScale.ranges;n=l.map((function(p){return p.name?p.name:p.from+" - "+p.to})),o=l.map((function(p){return p.color}))}else this.isBarsDistributed&&(n=s.globals.labels.slice());s.config.legend.customLegendItems.length&&(n=s.config.legend.customLegendItems);var c=s.globals.legendFormatter,d=s.config.legend.inverseOrder,u=[];s.globals.seriesGroups.length>1&&s.config.legend.clusterGroupedSeries&&s.globals.seriesGroups.forEach((function(p,b){u[b]=document.createElement("div"),u[b].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(b)),s.config.legend.clusterGroupedSeriesOrientation==="horizontal"?s.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):u[b].classList.add("apexcharts-legend-group-vertical")}));for(var h=function(p){var b,x=c(n[p],{seriesIndex:p,w:s}),y=!1,w=!1;if(s.globals.collapsedSeries.length>0)for(var k=0;k<s.globals.collapsedSeries.length;k++)s.globals.collapsedSeries[k].index===p&&(y=!0);if(s.globals.ancillaryCollapsedSeriesIndices.length>0)for(var N=0;N<s.globals.ancillaryCollapsedSeriesIndices.length;N++)s.globals.ancillaryCollapsedSeriesIndices[N]===p&&(w=!0);var T=e.createLegendMarker({i:p,fillcolor:o});ot.setAttrs(T,{rel:p+1,"data:collapsed":y||w}),(y||w)&&T.classList.add("apexcharts-inactive-legend");var E=document.createElement("div"),I=document.createElement("span");I.classList.add("apexcharts-legend-text"),I.innerHTML=Array.isArray(x)?x.join(" "):x;var S=s.config.legend.labels.useSeriesColors?s.globals.colors[p]:Array.isArray(s.config.legend.labels.colors)?(b=s.config.legend.labels.colors)===null||b===void 0?void 0:b[p]:s.config.legend.labels.colors;S||(S=s.config.chart.foreColor),I.style.color=S,I.style.fontSize=parseFloat(s.config.legend.fontSize)+"px",I.style.fontWeight=s.config.legend.fontWeight,I.style.fontFamily=a||s.config.chart.fontFamily,ot.setAttrs(I,{rel:p+1,i:p,"data:default-text":encodeURIComponent(x),"data:collapsed":y||w}),E.appendChild(T),E.appendChild(I);var A=new na(e.ctx);s.config.legend.showForZeroSeries||A.getSeriesTotalByIndex(p)===0&&A.seriesHaveSameValues(p)&&!A.isSeriesNull(p)&&s.globals.collapsedSeriesIndices.indexOf(p)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(p)===-1&&E.classList.add("apexcharts-hidden-zero-series"),s.config.legend.showForNullSeries||A.isSeriesNull(p)&&s.globals.collapsedSeriesIndices.indexOf(p)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(p)===-1&&E.classList.add("apexcharts-hidden-null-series"),u.length?s.globals.seriesGroups.forEach((function(P,O){var M;P.includes((M=s.config.series[p])===null||M===void 0?void 0:M.name)&&(s.globals.dom.elLegendWrap.appendChild(u[O]),u[O].appendChild(E))})):s.globals.dom.elLegendWrap.appendChild(E),s.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(s.config.legend.horizontalAlign)),s.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+s.config.legend.position),E.classList.add("apexcharts-legend-series"),E.style.margin="".concat(s.config.legend.itemMargin.vertical,"px ").concat(s.config.legend.itemMargin.horizontal,"px"),s.globals.dom.elLegendWrap.style.width=s.config.legend.width?s.config.legend.width+"px":"",s.globals.dom.elLegendWrap.style.height=s.config.legend.height?s.config.legend.height+"px":"",ot.setAttrs(E,{rel:p+1,seriesName:Pe.escapeString(n[p]),"data:collapsed":y||w}),(y||w)&&E.classList.add("apexcharts-inactive-legend"),s.config.legend.onItemClick.toggleDataSeries||E.classList.add("apexcharts-no-click")},m=d?n.length-1:0;d?m>=0:m<=n.length-1;d?m--:m++)h(m);s.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),s.config.legend.onItemHover.highlightDataSeries&&s.config.legend.customLegendItems.length===0&&(s.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),s.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var s=this.w,a=s.globals.dom.elLegendWrap,n=a.clientHeight,o=0,l=0;if(s.config.legend.position==="bottom")l=s.globals.svgHeight-Math.min(n,s.globals.svgHeight/2)-5;else if(s.config.legend.position==="top"){var c=new Yw(this.ctx),d=c.dimHelpers.getTitleSubtitleCoords("title").height,u=c.dimHelpers.getTitleSubtitleCoords("subtitle").height;l=(d>0?d-10:0)+(u>0?u-10:0)}a.style.position="absolute",o=o+e+s.config.legend.offsetX,l=l+t+s.config.legend.offsetY,a.style.left=o+"px",a.style.top=l+"px",s.config.legend.position==="right"&&(a.style.left="auto",a.style.right=25+s.config.legend.offsetX+"px"),["width","height"].forEach((function(h){a.style[h]&&(a.style[h]=parseInt(s.config.legend[h],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new Yw(this.ctx),s=t.dimHelpers.getTitleSubtitleCoords("title"),a=t.dimHelpers.getTitleSubtitleCoords("subtitle"),n=0;e.config.legend.position==="top"&&(n=s.height+a.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,n)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),s=0;e.config.legend.position==="left"&&(s=20),e.config.legend.position==="right"&&(s=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(s,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,s=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(s){var a=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,a,this.w]),new ho(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&s&&new ho(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var s=parseInt(e.target.getAttribute("rel"),10)-1,a=e.target.getAttribute("data:collapsed")==="true",n=this.w.config.chart.events.legendClick;typeof n=="function"&&n(this.ctx,s,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,s,this.w]);var o=this.w.config.legend.markers.onClick;typeof o=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,s,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,s,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(s,a)}}}]),r})(),n$=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return It(r,[{key:"createToolbar",value:function(){var e=this,t=this.w,s=function(){return document.createElement("div")},a=s();if(a.setAttribute("class","apexcharts-toolbar"),a.style.top=t.config.chart.toolbar.offsetY+"px",a.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(a),this.elZoom=s(),this.elZoomIn=s(),this.elZoomOut=s(),this.elPan=s(),this.elSelection=s(),this.elZoomReset=s(),this.elMenuIcon=s(),this.elMenu=s(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var n=0;n<this.t.customIcons.length;n++)this.elCustomIcons.push(s());var o=[],l=function(h,m,p){var b=h.toLowerCase();e.t[b]&&t.config.chart.zoom.enabled&&o.push({el:m,icon:typeof e.t[b]=="string"?e.t[b]:p,title:e.localeValues[h],class:"apexcharts-".concat(b,"-icon")})};l("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),l("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var c=function(h){e.t[h]&&t.config.chart[h].enabled&&o.push({el:h==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[h]=="string"?e.t[h]:h==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[h==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(h,"-icon")})};c("zoom"),c("selection"),this.t.pan&&t.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),l("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&o.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var d=0;d<this.elCustomIcons.length;d++)o.push({el:this.elCustomIcons[d],icon:this.t.customIcons[d].icon,title:this.t.customIcons[d].title,index:this.t.customIcons[d].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[d].class});o.forEach((function(h,m){h.index&&Pe.moveIndexInArray(o,m,h.index)}));for(var u=0;u<o.length;u++)ot.setAttrs(o[u].el,{class:o[u].class,title:o[u].title}),o[u].el.innerHTML=o[u].icon,a.appendChild(o[u].el);this._createHamburgerMenu(a),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),ot.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],s=0;s<t.length;s++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[s].innerHTML=t[s].title,ot.setAttrs(this.elMenuItems[s],{class:"apexcharts-menu-item ".concat(t[s].name),title:t[s].title}),this.elMenu.appendChild(this.elMenuItems[s])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(s){s.classList.contains("exportSVG")?s.addEventListener("click",e.handleDownload.bind(e,"svg")):s.classList.contains("exportPNG")?s.addEventListener("click",e.handleDownload.bind(e,"png")):s.classList.contains("exportCSV")&&s.addEventListener("click",e.handleDownload.bind(e,"csv"))}));for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls();var s=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,a=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[a]=!t.w.globals[a],s.classList.contains(t.ctx.toolbar.selectedClass)?s.classList.remove(t.ctx.toolbar.selectedClass):s.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,s=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),s&&s.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(s){s&&s.classList.remove(e.selectedClass)}))}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,s=(this.minX+t)/2,a=(this.maxX+t)/2,n=this._getNewMinXMaxX(s,a);e.globals.disableZoomIn||this.zoomUpdateOptions(n.minX,n.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,s=this.minX-(t-this.minX),a=this.maxX-(t-this.maxX),n=this._getNewMinXMaxX(s,a);e.globals.disableZoomOut||this.zoomUpdateOptions(n.minX,n.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var s=this.w.config.xaxis.convertedCatToNumeric;return{minX:s?Math.floor(e):e,maxX:s?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var s=this.w;if(e!==void 0||t!==void 0){if(!(s.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=s.globals.dataPoints),t-e<2))){var a={min:e,max:t},n=this.getBeforeZoomRange(a);n&&(a=n.xaxis);var o={xaxis:a},l=Pe.clone(s.globals.initialConfig.yaxis);s.config.chart.group||(o.yaxis=l),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(a,l)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var s=null;return typeof this.ev.beforeZoom=="function"&&(s=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),s}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout((function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(e){var t=this.w,s=new Tp(this.ctx);switch(e){case"svg":s.exportToSVG(this.ctx);break;case"png":s.exportToPng(this.ctx);break;case"csv":s.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){var s=t.w;if(s.globals.lastXAxis.min=s.globals.initialConfig.xaxis.min,s.globals.lastXAxis.max=s.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof s.config.chart.events.beforeResetZoom=="function"){var a=s.config.chart.events.beforeResetZoom(t,s);a&&t.updateHelpers.revertDefaultAxisMinMax(a)}typeof s.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:s.config.xaxis.min,max:s.config.xaxis.max}),s.globals.zoomed=!1;var n=t.ctx.series.emptyCollapsedSeries(Pe.clone(s.globals.initialSeries));t.updateHelpers._updateSeries(n,s.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),r})(),S1e=(function(r){mb(t,n$);var e=fb(t);function t(s){var a;return Rt(this,t),(a=e.call(this,s)).ctx=s,a.w=s.w,a.dragged=!1,a.graphics=new ot(a.ctx),a.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],a.clientX=0,a.clientY=0,a.startX=0,a.endX=0,a.dragX=0,a.startY=0,a.endY=0,a.dragY=0,a.moveDirection="none",a.debounceTimer=null,a.debounceDelay=100,a.wheelDelay=400,a}return It(t,[{key:"init",value:function(s){var a=this,n=s.xyRatios,o=this.w,l=this;this.xyRatios=n,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=o.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new aa(0,0,o.globals.gridWidth,o.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),o.globals.dom.Paper.add(this.zoomRect),o.globals.dom.Paper.add(this.selectionRect),o.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):o.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:o.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=o.globals.dom.baseEl.querySelector("".concat(o.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(c){a.hoverArea.addEventListener(c,l.svgMouseEvents.bind(l,n),{capture:!1,passive:!0})})),o.config.chart.zoom.enabled&&o.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",l.mouseWheelEvent.bind(l),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(s,a){var n=this.w,o=this.ctx.toolbar,l=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type,c=n.config.chart.toolbar.autoSelected;if(a.shiftKey?(this.shiftWasPressed=!0,o.enableZoomPanFromToolbar(c==="pan"?"zoom":"pan")):this.shiftWasPressed&&(o.enableZoomPanFromToolbar(c),this.shiftWasPressed=!1),a.target){var d,u=a.target.classList;if(a.target.parentNode&&a.target.parentNode!==null&&(d=a.target.parentNode.classList),!(u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||d&&d.contains("apexcharts-toolbar"))){if(this.clientX=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientX:a.type==="touchend"?a.changedTouches[0].clientX:a.clientX,this.clientY=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientY:a.type==="touchend"?a.changedTouches[0].clientY:a.clientY,a.type==="mousedown"&&a.which===1||a.type==="touchstart"){var h=this.gridRect.getBoundingClientRect();this.startX=this.clientX-h.left-n.globals.barPadForNumericAxis,this.startY=this.clientY-h.top,this.dragged=!1,this.w.globals.mousedown=!0}(a.type==="mousemove"&&a.which===1||a.type==="touchmove")&&(this.dragged=!0,n.globals.panEnabled?(n.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:l,xyRatios:s})):(this.w.globals.mousedown&&n.globals.zoomEnabled||this.w.globals.mousedown&&n.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:l}))),a.type!=="mouseup"&&a.type!=="touchend"&&a.type!=="mouseleave"||this.handleMouseUp({zoomtype:l}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(s){var a,n=s.zoomtype,o=s.isResized,l=this.w,c=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();c&&(this.w.globals.mousedown||o)&&(this.endX=this.clientX-c.left-l.globals.barPadForNumericAxis,this.endY=this.clientY-c.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(l.globals.zoomEnabled||l.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:n})),l.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(s){var a=this,n=this.w;s.preventDefault();var o=Date.now();o-n.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(s),n.globals.lastWheelExecution=o),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){o-n.globals.lastWheelExecution>a.wheelDelay&&(a.executeMouseWheelZoom(s),n.globals.lastWheelExecution=o)}),this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(s){var a,n=this.w;this.minX=n.globals.isRangeBar?n.globals.minY:n.globals.minX,this.maxX=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;var o=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();if(o){var l,c,d,u=(s.clientX-o.left)/o.width,h=this.minX,m=this.maxX,p=m-h;if(s.deltaY<0){var b=h+u*p;c=b-(l=.5*p)/2,d=b+l/2}else c=h-(l=1.5*p)/2,d=m+l/2;if(!n.globals.isRangeBar){c=Math.max(c,n.globals.initialMinX),d=Math.min(d,n.globals.initialMaxX);var x=.01*(n.globals.initialMaxX-n.globals.initialMinX);if(d-c<x){var y=(c+d)/2;c=y-x/2,d=y+x/2}}var w=this._getNewMinXMaxX(c,d);isNaN(w.minX)||isNaN(w.maxX)||this.zoomUpdateOptions(w.minX,w.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var s=this,a=this.w;if(this.selectionRect){var n=this.selectionRect.node.getBoundingClientRect();n.width>0&&n.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(o,l,c,d,u){return u==="l"||u==="r"?o.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):o.circle(0)},updateHandle:function(o,l){return o.center(l[0],l[1])}}).resize().on("resize",(function(){var o=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type;s.handleMouseUp({zoomtype:o,isResized:!0})})))}}},{key:"preselectedSelection",value:function(){var s=this.w,a=this.xyRatios;if(!s.globals.zoomEnabled){if(s.globals.selection!==void 0&&s.globals.selection!==null)this.drawSelectionRect(yt(yt({},s.globals.selection),{},{translateX:s.globals.translateX,translateY:s.globals.translateY}));else if(s.config.chart.selection.xaxis.min!==void 0&&s.config.chart.selection.xaxis.max!==void 0){var n=(s.config.chart.selection.xaxis.min-s.globals.minX)/a.xRatio,o=s.globals.gridWidth-(s.globals.maxX-s.config.chart.selection.xaxis.max)/a.xRatio-n;s.globals.isRangeBar&&(n=(s.config.chart.selection.xaxis.min-s.globals.yAxisScale[0].niceMin)/a.invertedYRatio,o=(s.config.chart.selection.xaxis.max-s.config.chart.selection.xaxis.min)/a.invertedYRatio);var l={x:n,y:0,width:o,height:s.globals.gridHeight,translateX:s.globals.translateX,translateY:s.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(l),this.makeSelectionRectDraggable(),typeof s.config.chart.events.selection=="function"&&s.config.chart.events.selection(this.ctx,{xaxis:{min:s.config.chart.selection.xaxis.min,max:s.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(s){var a=s.x,n=s.y,o=s.width,l=s.height,c=s.translateX,d=c===void 0?0:c,u=s.translateY,h=u===void 0?0:u,m=this.w,p=this.zoomRect,b=this.selectionRect;if(this.dragged||m.globals.selection!==null){var x={transform:"translate("+d+", "+h+")"};m.globals.zoomEnabled&&this.dragged&&(o<0&&(o=1),p.attr({x:a,y:n,width:o,height:l,fill:m.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":m.config.chart.zoom.zoomedArea.fill.opacity,stroke:m.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":m.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":m.config.chart.zoom.zoomedArea.stroke.opacity}),ot.setAttrs(p.node,x)),m.globals.selectionEnabled&&(b.attr({x:a,y:n,width:o>0?o:0,height:l>0?l:0,fill:m.config.chart.selection.fill.color,"fill-opacity":m.config.chart.selection.fill.opacity,stroke:m.config.chart.selection.stroke.color,"stroke-width":m.config.chart.selection.stroke.width,"stroke-dasharray":m.config.chart.selection.stroke.dashArray,"stroke-opacity":m.config.chart.selection.stroke.opacity}),ot.setAttrs(b.node,x))}}},{key:"hideSelectionRect",value:function(s){s&&s.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(s){var a=s.context,n=s.zoomtype,o=this.w,l=a,c=this.gridRect.getBoundingClientRect(),d=l.startX-1,u=l.startY,h=!1,m=!1,p=l.clientX-c.left-o.globals.barPadForNumericAxis,b=l.clientY-c.top,x=p-d,y=b-u,w={translateX:o.globals.translateX,translateY:o.globals.translateY};return Math.abs(x+d)>o.globals.gridWidth?x=o.globals.gridWidth-d:p<0&&(x=d),d>p&&(h=!0,x=Math.abs(x)),u>b&&(m=!0,y=Math.abs(y)),w=yt(yt({},w=n==="x"?{x:h?d-x:d,y:0,width:x,height:o.globals.gridHeight}:n==="y"?{x:0,y:m?u-y:u,width:o.globals.gridWidth,height:y}:{x:h?d-x:d,y:m?u-y:u,width:x,height:y}),{},{translateX:o.globals.translateX,translateY:o.globals.translateY}),l.drawSelectionRect(w),l.selectionDragging("resizing"),w}},{key:"selectionDragging",value:function(s,a){var n=this,o=this.w;if(a){a.preventDefault();var l=a.detail,c=l.handler,d=l.box,u=d.x,h=d.y;u<this.constraints.x&&(u=this.constraints.x),h<this.constraints.y&&(h=this.constraints.y),d.x2>this.constraints.x2&&(u=this.constraints.x2-d.w),d.y2>this.constraints.y2&&(h=this.constraints.y2-d.h),c.move(u,h);var m=this.xyRatios,p=this.selectionRect,b=0;s==="resizing"&&(b=30);var x=function(w){return parseFloat(p.node.getAttribute(w))},y={x:x("x"),y:x("y"),width:x("width"),height:x("height")};o.globals.selection=y,typeof o.config.chart.events.selection=="function"&&o.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var w,k,N,T,E=n.gridRect.getBoundingClientRect(),I=p.node.getBoundingClientRect();o.globals.isRangeBar?(w=o.globals.yAxisScale[0].niceMin+(I.left-E.left)*m.invertedYRatio,k=o.globals.yAxisScale[0].niceMin+(I.right-E.left)*m.invertedYRatio,N=0,T=1):(w=o.globals.xAxisScale.niceMin+(I.left-E.left)*m.xRatio,k=o.globals.xAxisScale.niceMin+(I.right-E.left)*m.xRatio,N=o.globals.yAxisScale[0].niceMin+(E.bottom-I.bottom)*m.yRatio[0],T=o.globals.yAxisScale[0].niceMax-(I.top-E.top)*m.yRatio[0]);var S={xaxis:{min:w,max:k},yaxis:{min:N,max:T}};o.config.chart.events.selection(n.ctx,S),o.config.chart.brush.enabled&&o.config.chart.events.brushScrolled!==void 0&&o.config.chart.events.brushScrolled(n.ctx,S)}),b))}}},{key:"selectionDrawn",value:function(s){var a,n,o=s.context,l=s.zoomtype,c=this.w,d=o,u=this.xyRatios,h=this.ctx.toolbar,m=c.globals.zoomEnabled?d.zoomRect.node.getBoundingClientRect():d.selectionRect.node.getBoundingClientRect(),p=d.gridRect.getBoundingClientRect(),b=m.left-p.left-c.globals.barPadForNumericAxis,x=m.right-p.left-c.globals.barPadForNumericAxis,y=m.top-p.top,w=m.bottom-p.top;c.globals.isRangeBar?(a=c.globals.yAxisScale[0].niceMin+b*u.invertedYRatio,n=c.globals.yAxisScale[0].niceMin+x*u.invertedYRatio):(a=c.globals.xAxisScale.niceMin+b*u.xRatio,n=c.globals.xAxisScale.niceMin+x*u.xRatio);var k=[],N=[];if(c.config.yaxis.forEach((function(O,M){var L=c.globals.seriesYAxisMap[M][0],B=c.globals.yAxisScale[M].niceMax-u.yRatio[L]*y,G=c.globals.yAxisScale[M].niceMax-u.yRatio[L]*w;k.push(B),N.push(G)})),d.dragged&&(d.dragX>10||d.dragY>10)&&a!==n){if(c.globals.zoomEnabled){var T=Pe.clone(c.globals.initialConfig.yaxis),E=Pe.clone(c.globals.initialConfig.xaxis);if(c.globals.zoomed=!0,c.config.xaxis.convertedCatToNumeric&&(a=Math.floor(a),n=Math.floor(n),a<1&&(a=1,n=c.globals.dataPoints),n-a<2&&(n=a+1)),l!=="xy"&&l!=="x"||(E={min:a,max:n}),l!=="xy"&&l!=="y"||T.forEach((function(O,M){T[M].min=N[M],T[M].max=k[M]})),h){var I=h.getBeforeZoomRange(E,T);I&&(E=I.xaxis?I.xaxis:E,T=I.yaxis?I.yaxis:T)}var S={xaxis:E};c.config.chart.group||(S.yaxis=T),d.ctx.updateHelpers._updateOptions(S,!1,d.w.config.chart.animations.dynamicAnimation.enabled),typeof c.config.chart.events.zoomed=="function"&&h.zoomCallback(E,T)}else if(c.globals.selectionEnabled){var A,P=null;A={min:a,max:n},l!=="xy"&&l!=="y"||(P=Pe.clone(c.config.yaxis)).forEach((function(O,M){P[M].min=N[M],P[M].max=k[M]})),c.globals.selection=d.selection,typeof c.config.chart.events.selection=="function"&&c.config.chart.events.selection(d.ctx,{xaxis:A,yaxis:P})}}}},{key:"panDragging",value:function(s){var a=s.context,n=this.w,o=a;if(n.globals.lastClientPosition.x!==void 0){var l=n.globals.lastClientPosition.x-o.clientX,c=n.globals.lastClientPosition.y-o.clientY;Math.abs(l)>Math.abs(c)&&l>0?this.moveDirection="left":Math.abs(l)>Math.abs(c)&&l<0?this.moveDirection="right":Math.abs(c)>Math.abs(l)&&c>0?this.moveDirection="up":Math.abs(c)>Math.abs(l)&&c<0&&(this.moveDirection="down")}n.globals.lastClientPosition={x:o.clientX,y:o.clientY};var d=n.globals.isRangeBar?n.globals.minY:n.globals.minX,u=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;o.panScrolled(d,u)}},{key:"panScrolled",value:function(s,a){var n=this.w,o=this.xyRatios,l=Pe.clone(n.globals.initialConfig.yaxis),c=o.xRatio,d=n.globals.minX,u=n.globals.maxX;n.globals.isRangeBar&&(c=o.invertedYRatio,d=n.globals.minY,u=n.globals.maxY),this.moveDirection==="left"?(s=d+n.globals.gridWidth/15*c,a=u+n.globals.gridWidth/15*c):this.moveDirection==="right"&&(s=d-n.globals.gridWidth/15*c,a=u-n.globals.gridWidth/15*c),n.globals.isRangeBar||(s<n.globals.initialMinX||a>n.globals.initialMaxX)&&(s=d,a=u);var h={xaxis:{min:s,max:a}};n.config.chart.group||(h.yaxis=l),this.updateScrolledChart(h,s,a)}},{key:"updateScrolledChart",value:function(s,a,n){var o=this.w;if(this.ctx.updateHelpers._updateOptions(s,!1,!1),typeof o.config.chart.events.scrolled=="function"){var l={xaxis:{min:a,max:n}};o.config.chart.events.scrolled(this.ctx,l),this.ctx.events.fireEvent("scrolled",l)}}}]),t})(),i$=(function(){function r(e){Rt(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return It(r,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,s=e.elGrid,a=e.clientX,n=e.clientY,o=this.w,l=s.getBoundingClientRect(),c=l.width,d=l.height,u=c/(o.globals.dataPoints-1),h=d/o.globals.dataPoints,m=this.hasBars();!o.globals.comboCharts&&!m||o.config.xaxis.convertedCatToNumeric||(u=c/o.globals.dataPoints);var p=a-l.left-o.globals.barPadForNumericAxis,b=n-l.top;p<0||b<0||p>c||b>d?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):o.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):o.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var x=Math.round(p/u),y=Math.floor(b/h);m&&!o.config.xaxis.convertedCatToNumeric&&(x=Math.ceil(p/u),x-=1);var w=null,k=null,N=o.globals.seriesXvalues.map((function(A){return A.filter((function(P){return Pe.isNumber(P)}))})),T=o.globals.seriesYvalues.map((function(A){return A.filter((function(P){return Pe.isNumber(P)}))}));if(o.globals.isXNumeric){var E=this.ttCtx.getElGrid().getBoundingClientRect(),I=p*(E.width/c),S=b*(E.height/d);w=(k=this.closestInMultiArray(I,S,N,T)).index,x=k.j,w!==null&&o.globals.hasNullValues&&(N=o.globals.seriesXvalues[w],x=(k=this.closestInArray(I,N)).j)}return o.globals.capturedSeriesIndex=w===null?-1:w,(!x||x<1)&&(x=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=y:o.globals.capturedDataPointIndex=x,{capturedSeries:w,j:o.globals.isBarHorizontal?y:x,hoverX:p,hoverY:b}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,s=0,a=e.map((function(o,l){return o.length>0?l:-1})),n=0;n<a.length;n++)if(a[n]!==-1&&t.globals.collapsedSeriesIndices.indexOf(n)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(n)===-1){s=a[n];break}return s}},{key:"closestInMultiArray",value:function(e,t,s,a){for(var n,o=this.w,l=1/0,c=null,d=null,u=0;u<s.length;u++)if(n=u,o.globals.collapsedSeriesIndices.indexOf(n)===-1&&o.globals.ancillaryCollapsedSeriesIndices.indexOf(n)===-1)for(var h=s[u],m=a[u],p=Math.min(h.length,m.length),b=0;b<p;b++){var x=e-h[b],y=Math.sqrt(x*x);if(!o.globals.allSeriesHasEqualX){var w=t-m[b];y=Math.sqrt(x*x+w*w)}y<l&&(l=y,c=u,d=b)}return{index:c,j:d}}},{key:"closestInArray",value:function(e,t){for(var s=t[0],a=null,n=Math.abs(e-s),o=0;o<t.length;o++){var l=Math.abs(e-t[o]);l<n&&(n=l,a=o)}return{j:a}}},{key:"isXoverlap",value:function(e){var t=[],s=this.w.globals.seriesX.filter((function(n){return n[0]!==void 0}));if(s.length>0)for(var a=0;a<s.length-1;a++)s[a][e]!==void 0&&s[a+1][e]!==void 0&&s[a][e]!==s[a+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,s=0;s<t.length-1;s++)if(t[s].data.length!==t[s+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return za(e).reduce((function(t,s){return t+s.getBBox().height}),0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");s=za(s),t&&(s=s.filter((function(n){var o=Number(n.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(o)===-1}))),s.sort((function(n,o){var l=Number(n.getAttribute("data:realIndex")),c=Number(o.getAttribute("data:realIndex"));return c<l?1:c>l?-1:0}));var a=[];return s.forEach((function(n){a.push(n.querySelector(".apexcharts-marker"))})),a}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var s=Number(e.getAttribute("cx")),a=Number(e.getAttribute("cy")),n=e.getAttribute("shape");return new ot(this.ctx).getMarkerPath(s,a,n,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,s=t.config.markers.hover.size;return s===void 0&&(s=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),s}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,s=this.ttCtx;s.allTooltipSeriesGroups.length===0&&(s.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=s.allTooltipSeriesGroups,n=0;n<a.length;n++)e==="enable"?(a[n].classList.add("apexcharts-active"),a[n].style.display=t.config.tooltip.items.display):(a[n].classList.remove("apexcharts-active"),a[n].style.display="none")}}]),r})(),j1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new i$(e)}return It(r,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,s=t===void 0||t,a=e.ttItems,n=e.i,o=n===void 0?0:n,l=e.j,c=l===void 0?null:l,d=e.y1,u=e.y2,h=e.e,m=this.w;m.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:o,j:c,y1:d,y2:u,w:m}):this.toggleActiveInactiveSeries(s,o);var p=this.getValuesToPrint({i:o,j:c});this.printLabels({i:o,j:c,values:p,ttItems:a,shared:s,e:h});var b=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=b.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=b.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,s=this,a=e.i,n=e.j,o=e.values,l=e.ttItems,c=e.shared,d=e.e,u=this.w,h=[],m=function(E){return u.globals.seriesGoals[E]&&u.globals.seriesGoals[E][n]&&Array.isArray(u.globals.seriesGoals[E][n])},p=o.xVal,b=o.zVal,x=o.xAxisTTVal,y="",w=u.globals.colors[a];n!==null&&u.config.plotOptions.bar.distributed&&(w=u.globals.colors[n]);for(var k=function(E,I){var S=s.getFormatters(a);y=s.getSeriesName({fn:S.yLbTitleFormatter,index:a,seriesIndex:a,j:n}),u.config.chart.type==="treemap"&&(y=S.yLbTitleFormatter(String(u.config.series[a].data[n].x),{series:u.globals.series,seriesIndex:a,dataPointIndex:n,w:u}));var A=u.config.tooltip.inverseOrder?I:E;if(u.globals.axisCharts){var P=function(L){var B,G,X,H;return u.globals.isRangeData?S.yLbFormatter((B=u.globals.seriesRangeStart)===null||B===void 0||(G=B[L])===null||G===void 0?void 0:G[n],{series:u.globals.seriesRangeStart,seriesIndex:L,dataPointIndex:n,w:u})+" - "+S.yLbFormatter((X=u.globals.seriesRangeEnd)===null||X===void 0||(H=X[L])===null||H===void 0?void 0:H[n],{series:u.globals.seriesRangeEnd,seriesIndex:L,dataPointIndex:n,w:u}):S.yLbFormatter(u.globals.series[L][n],{series:u.globals.series,seriesIndex:L,dataPointIndex:n,w:u})};if(c)S=s.getFormatters(A),y=s.getSeriesName({fn:S.yLbTitleFormatter,index:A,seriesIndex:a,j:n}),w=u.globals.colors[A],t=P(A),m(A)&&(h=u.globals.seriesGoals[A][n].map((function(L){return{attrs:L,val:S.yLbFormatter(L.value,{seriesIndex:A,dataPointIndex:n,w:u})}})));else{var O,M=d==null||(O=d.target)===null||O===void 0?void 0:O.getAttribute("fill");M&&(M.indexOf("url")!==-1?M.indexOf("Pattern")!==-1&&(w=u.globals.dom.baseEl.querySelector(M.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):w=M),t=P(a),m(a)&&Array.isArray(u.globals.seriesGoals[a][n])&&(h=u.globals.seriesGoals[a][n].map((function(L){return{attrs:L,val:S.yLbFormatter(L.value,{seriesIndex:a,dataPointIndex:n,w:u})}})))}}n===null&&(t=S.yLbFormatter(u.globals.series[a],yt(yt({},u),{},{seriesIndex:a,dataPointIndex:a}))),s.DOMHandling({i:a,t:A,j:n,ttItems:l,values:{val:t,goalVals:h,xVal:p,xAxisTTVal:x,zVal:b},seriesName:y,shared:c,pColor:w})},N=0,T=u.globals.series.length-1;N<u.globals.series.length;N++,T--)k(N,T)}},{key:"getFormatters",value:function(e){var t,s=this.w,a=s.globals.yLabelFormatters[e];return s.globals.ttVal!==void 0?Array.isArray(s.globals.ttVal)?(a=s.globals.ttVal[e]&&s.globals.ttVal[e].formatter,t=s.globals.ttVal[e]&&s.globals.ttVal[e].title&&s.globals.ttVal[e].title.formatter):(a=s.globals.ttVal.formatter,typeof s.globals.ttVal.title.formatter=="function"&&(t=s.globals.ttVal.title.formatter)):t=s.config.tooltip.y.title.formatter,typeof a!="function"&&(a=s.globals.yLabelFormatters[0]?s.globals.yLabelFormatters[0]:function(n){return n}),typeof t!="function"&&(t=function(n){return n?n+": ":""}),{yLbFormatter:a,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,s=e.index,a=e.seriesIndex,n=e.j,o=this.w;return t(String(o.globals.seriesNames[s]),{series:o.globals.series,seriesIndex:a,dataPointIndex:n,w:o})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,s=e.j,a=e.ttItems,n=e.values,o=e.seriesName,l=e.shared,c=e.pColor,d=this.w,u=this.ttCtx,h=n.val,m=n.goalVals,p=n.xVal,b=n.xAxisTTVal,x=n.zVal,y=null;y=a[t].children,d.config.tooltip.fillSeriesColor&&(a[t].style.backgroundColor=c,y[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=p),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=b!==""?b:p);var w=a[t].querySelector(".apexcharts-tooltip-text-y-label");w&&(w.innerHTML=o||"");var k=a[t].querySelector(".apexcharts-tooltip-text-y-value");k&&(k.innerHTML=h!==void 0?h:""),y[0]&&y[0].classList.contains("apexcharts-tooltip-marker")&&(d.config.tooltip.marker.fillColors&&Array.isArray(d.config.tooltip.marker.fillColors)&&(c=d.config.tooltip.marker.fillColors[t]),d.config.tooltip.fillSeriesColor?y[0].style.backgroundColor=c:y[0].style.color=c),d.config.tooltip.marker.show||(y[0].style.display="none");var N=a[t].querySelector(".apexcharts-tooltip-text-goals-label"),T=a[t].querySelector(".apexcharts-tooltip-text-goals-value");if(m.length&&d.globals.seriesGoals[t]){var E=function(){var A="<div>",P="<div>";m.forEach((function(O,M){A+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(O.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(O.attrs.name,"</div>"),P+="<div>".concat(O.val,"</div>")})),N.innerHTML=A+"</div>",T.innerHTML=P+"</div>"};l?d.globals.seriesGoals[t][s]&&Array.isArray(d.globals.seriesGoals[t][s])?E():(N.innerHTML="",T.innerHTML=""):E()}else N.innerHTML="",T.innerHTML="";if(x!==null&&(a[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=d.config.tooltip.z.title,a[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=x!==void 0?x:""),l&&y[0]){if(d.config.tooltip.hideEmptySeries){var I=a[t].querySelector(".apexcharts-tooltip-marker"),S=a[t].querySelector(".apexcharts-tooltip-text");parseFloat(h)==0?(I.style.display="none",S.style.display="none"):(I.style.display="block",S.style.display="block")}h==null||d.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||d.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1?y[0].parentNode.style.display="none":y[0].parentNode.style.display=d.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1&&(y[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var s=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var a=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));a&&(a.classList.add("apexcharts-active"),a.style.display=s.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,s=e.j,a=this.w,n=this.ctx.series.filteredSeriesX(),o="",l="",c=null,d=null,u={series:a.globals.series,seriesIndex:t,dataPointIndex:s,w:a},h=a.globals.ttZFormatter;s===null?d=a.globals.series[t]:a.globals.isXNumeric&&a.config.chart.type!=="treemap"?(o=n[t][s],n[t].length===0&&(o=n[this.tooltipUtil.getFirstActiveXArray(n)][s])):o=new JC(this.ctx).isFormatXY()?a.config.series[t].data[s]!==void 0?a.config.series[t].data[s].x:"":a.globals.labels[s]!==void 0?a.globals.labels[s]:"";var m=o;return a.globals.isXNumeric&&a.config.xaxis.type==="datetime"?o=new bb(this.ctx).xLabelFormat(a.globals.ttKeyFormatter,m,m,{i:void 0,dateFormatter:new hn(this.ctx).formatDate,w:this.w}):o=a.globals.isBarHorizontal?a.globals.yLabelFormatters[0](m,u):a.globals.xLabelFormatter(m,u),a.config.tooltip.x.formatter!==void 0&&(o=a.globals.ttKeyFormatter(m,u)),a.globals.seriesZ.length>0&&a.globals.seriesZ[t].length>0&&(c=h(a.globals.seriesZ[t][s],a)),l=typeof a.config.xaxis.tooltip.formatter=="function"?a.globals.xaxisTooltipFormatter(m,u):o,{val:Array.isArray(d)?d.join(" "):d,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(l)?l.join(" "):l,zVal:c}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,s=e.j,a=e.y1,n=e.y2,o=e.w,l=this.ttCtx.getElTooltip(),c=o.config.tooltip.custom;Array.isArray(c)&&c[t]&&(c=c[t]);var d=c({ctx:this.ctx,series:o.globals.series,seriesIndex:t,dataPointIndex:s,y1:a,y2:n,w:o});typeof d=="string"||typeof d=="number"?l.innerHTML=d:(d instanceof Element||typeof d.nodeName=="string")&&(l.innerHTML="",l.appendChild(d.cloneNode(!0)))}}]),r})(),o$=(function(){function r(e){Rt(this,r),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return It(r,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.ttCtx,a=this.w,n=s.getElXCrosshairs(),o=e-s.xcrosshairsWidth/2,l=a.globals.labels.slice().length;if(t!==null&&(o=a.globals.gridWidth/l*t),n===null||a.globals.isBarHorizontal||(n.setAttribute("x",o),n.setAttribute("x1",o),n.setAttribute("x2",o),n.setAttribute("y2",a.globals.gridHeight),n.classList.add("apexcharts-active")),o<0&&(o=0),o>a.globals.gridWidth&&(o=a.globals.gridWidth),s.isXAxisTooltipEnabled){var c=o;a.config.xaxis.crosshairs.width!=="tickWidth"&&a.config.xaxis.crosshairs.width!=="barWidth"||(c=o+s.xcrosshairsWidth/2),this.moveXAxisTooltip(c)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&ot.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&ot.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;if(s.xaxisTooltip!==null&&s.xcrosshairsWidth!==0){s.xaxisTooltip.classList.add("apexcharts-active");var a=s.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=s.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var n;n=new ot(this.ctx).getTextRects(s.xaxisTooltipText.innerHTML),s.xaxisTooltipText.style.minWidth=n.width+"px",s.xaxisTooltip.style.left=e+"px",s.xaxisTooltip.style.top=a+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;s.yaxisTTEls===null&&(s.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var a=parseInt(s.ycrosshairsHidden.getAttribute("y1"),10),n=t.globals.translateY+a,o=s.yaxisTTEls[e].getBoundingClientRect(),l=o.height,c=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(c-=o.width),n-=l/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1&&n>0&&n<t.globals.gridHeight?(s.yaxisTTEls[e].classList.add("apexcharts-active"),s.yaxisTTEls[e].style.top=n+"px",s.yaxisTTEls[e].style.left=c+t.config.yaxis[e].tooltip.offsetX+"px"):s.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,n=this.ttCtx,o=n.getElTooltip(),l=n.tooltipRect,c=s!==null?parseFloat(s):1,d=parseFloat(e)+c+5,u=parseFloat(t)+c/2;if(d>a.globals.gridWidth/2&&(d=d-l.ttWidth-c-10),d>a.globals.gridWidth-l.ttWidth-10&&(d=a.globals.gridWidth-l.ttWidth),d<-20&&(d=-20),a.config.tooltip.followCursor){var h=n.getElGrid().getBoundingClientRect();(d=n.e.clientX-h.left)>a.globals.gridWidth/2&&(d-=n.tooltipRect.ttWidth),(u=n.e.clientY+a.globals.translateY-h.top)>a.globals.gridHeight/2&&(u-=n.tooltipRect.ttHeight)}else a.globals.isBarHorizontal||l.ttHeight/2+u>a.globals.gridHeight&&(u=a.globals.gridHeight-l.ttHeight+a.globals.translateY);isNaN(d)||(d+=a.globals.translateX,o.style.left=d+"px",o.style.top=u+"px")}},{key:"moveMarkers",value:function(e,t){var s=this.w,a=this.ttCtx;if(s.globals.markers.size[e]>0)for(var n=s.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),o=0;o<n.length;o++)parseInt(n[o].getAttribute("rel"),10)===t&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(t,n[o]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var s,a,n,o,l=this.w,c=this.ttCtx,d=new ot(this.ctx),u=l.globals.pointsArray,h=c.tooltipUtil.getHoverMarkerSize(t),m=l.config.series[t].type;if(!m||m!=="column"&&m!=="candlestick"&&m!=="boxPlot"){n=(s=u[t][e])===null||s===void 0?void 0:s[0],o=((a=u[t][e])===null||a===void 0?void 0:a[1])||0;var p=l.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(p&&o<l.globals.gridHeight&&o>0){var b=p.getAttribute("shape"),x=d.getMarkerPath(n,o,b,1.5*h);p.setAttribute("d",x)}this.moveXCrosshairs(n),c.fixedTooltip||this.moveTooltip(n,o,h)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,s=this.ttCtx,a=s.w,n=0,o=0,l=a.globals.pointsArray,c=new ho(this.ctx),d=new ot(this.ctx);t=c.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=s.tooltipUtil.getHoverMarkerSize(t);if(l[t]&&(n=l[t][e][0],o=l[t][e][1]),!isNaN(n)){var h=s.tooltipUtil.getAllMarkers();if(h.length)for(var m=0;m<a.globals.series.length;m++){var p=l[m];if(a.globals.comboCharts&&p===void 0&&h.splice(m,0,null),p&&p.length){var b=l[m][e][1],x=void 0;h[m].setAttribute("cx",n);var y=h[m].getAttribute("shape");if(a.config.chart.type==="rangeArea"&&!a.globals.comboCharts){var w=e+a.globals.series[m].length;x=l[m][w][1],b-=Math.abs(b-x)/2}if(b!==null&&!isNaN(b)&&b<a.globals.gridHeight+u&&b+u>0){var k=d.getMarkerPath(n,b,y,u);h[m].setAttribute("d",k)}else h[m].setAttribute("d","")}}this.moveXCrosshairs(n),s.fixedTooltip||this.moveTooltip(n,o||a.globals.gridHeight,u)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var s=this.w,a=this.ttCtx,n=s.globals.columnSeries?s.globals.columnSeries.length:s.globals.series.length;s.config.chart.stacked&&(n=s.globals.barGroups.length);var o=n>=2&&n%2==0?Math.floor(n/2):Math.floor(n/2)+1;s.globals.isBarHorizontal&&(o=new ho(this.ctx).getActiveConfigSeriesIndex("desc")+1);var l=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"']"));l||typeof t!="number"||(l=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var c=l?parseFloat(l.getAttribute("cx")):0,d=l?parseFloat(l.getAttribute("cy")):0,u=l?parseFloat(l.getAttribute("barWidth")):0,h=a.getElGrid().getBoundingClientRect(),m=l&&(l.classList.contains("apexcharts-candlestick-area")||l.classList.contains("apexcharts-boxPlot-area"));s.globals.isXNumeric?(l&&!m&&(c-=n%2!=0?u/2:0),l&&m&&(c-=u/2)):s.globals.isBarHorizontal||(c=a.xAxisTicksPositions[e-1]+a.dataPointsDividedWidth/2,isNaN(c)&&(c=a.xAxisTicksPositions[e]-a.dataPointsDividedWidth/2)),s.globals.isBarHorizontal?d-=a.tooltipRect.ttHeight:s.config.tooltip.followCursor?d=a.e.clientY-h.top-a.tooltipRect.ttHeight/2:d+a.tooltipRect.ttHeight+15>s.globals.gridHeight&&(d=s.globals.gridHeight),s.globals.isBarHorizontal||this.moveXCrosshairs(c),a.fixedTooltip||this.moveTooltip(c,d||s.globals.gridHeight)}}]),r})(),E1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new o$(e)}return It(r,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new ot(this.ctx),s=new y0(this.ctx),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");a=za(a),e.config.chart.stacked&&a.sort((function(h,m){return parseFloat(h.getAttribute("data:realIndex"))-parseFloat(m.getAttribute("data:realIndex"))}));for(var n=0;n<a.length;n++){var o=a[n].querySelector(".apexcharts-series-markers-wrap");if(o!==null){var l=void 0,c="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(c+=" no-pointer-events");var d=s.getMarkerConfig({cssClass:c,seriesIndex:Number(o.getAttribute("data:realIndex"))});(l=t.drawMarker(0,0,d)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(l.node),o.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,n=this.w;n.config.chart.type!=="bubble"&&this.newPointSize(e,t);var o=t.getAttribute("cx"),l=t.getAttribute("cy");if(s!==null&&a!==null&&(o=s,l=a),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if(n.config.chart.type==="radar"){var c=this.ttCtx.getElGrid().getBoundingClientRect();o=this.ttCtx.e.clientX-c.left}this.tooltipPosition.moveTooltip(o,l,n.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,s=this,a=this.ttCtx,n=e,o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=t.config.markers.hover.size,c=0;c<o.length;c++){var d=o[c].getAttribute("rel"),u=o[c].getAttribute("index");if(l===void 0&&(l=t.globals.markers.size[u]+t.config.markers.hover.sizeOffset),n===parseInt(d,10)){s.newPointSize(n,o[c]);var h=o[c].getAttribute("cx"),m=o[c].getAttribute("cy");s.tooltipPosition.moveXCrosshairs(h),a.fixedTooltip||s.tooltipPosition.moveTooltip(h,m,l)}else s.oldPointSize(o[c])}}},{key:"newPointSize",value:function(e,t){var s=this.w,a=s.config.markers.hover.size,n=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(n.getAttribute("default-marker-size")!=="0"){var o=parseInt(n.getAttribute("index"),10);a===void 0&&(a=s.globals.markers.size[o]+s.config.markers.hover.sizeOffset),a<0&&(a=0);var l=this.ttCtx.tooltipUtil.getPathFromPoint(t,a);t.setAttribute("d",l)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),s=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",s)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var s=parseFloat(e[t].getAttribute("default-marker-size"));if(Pe.isNumber(s)&&s>0){var a=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],s);e[t].setAttribute("d",a)}else e[t].setAttribute("d","M0,0")}}}]),r})(),A1e=(function(){function r(e){Rt(this,r),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return It(r,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,s=e.opt,a=e.x,n=e.y,o=e.type,l=this.ttCtx,c=this.w;if(t.target.classList.contains("apexcharts-".concat(o,"-rect"))){var d=this.getAttr(t,"i"),u=this.getAttr(t,"j"),h=this.getAttr(t,"cx"),m=this.getAttr(t,"cy"),p=this.getAttr(t,"width"),b=this.getAttr(t,"height");if(l.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:d,j:u,shared:!1,e:t}),c.globals.capturedSeriesIndex=d,c.globals.capturedDataPointIndex=u,a=h+l.tooltipRect.ttWidth/2+p,n=m+l.tooltipRect.ttHeight/2-b/2,l.tooltipPosition.moveXCrosshairs(h+p/2),a>c.globals.gridWidth/2&&(a=h-l.tooltipRect.ttWidth/2+p),l.w.config.tooltip.followCursor){var x=c.globals.dom.elWrap.getBoundingClientRect();a=c.globals.clientX-x.left-(a>c.globals.gridWidth/2?l.tooltipRect.ttWidth:0),n=c.globals.clientY-x.top-(n>c.globals.gridHeight/2?l.tooltipRect.ttHeight:0)}}return{x:a,y:n}}},{key:"handleMarkerTooltip",value:function(e){var t,s,a=e.e,n=e.opt,o=e.x,l=e.y,c=this.w,d=this.ttCtx;if(a.target.classList.contains("apexcharts-marker")){var u=parseInt(n.paths.getAttribute("cx"),10),h=parseInt(n.paths.getAttribute("cy"),10),m=parseFloat(n.paths.getAttribute("val"));if(s=parseInt(n.paths.getAttribute("rel"),10),t=parseInt(n.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,d.intersect){var p=Pe.findAncestor(n.paths,"apexcharts-series");p&&(t=parseInt(p.getAttribute("data:realIndex"),10))}if(d.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:t,j:s,shared:!d.showOnIntersect&&c.config.tooltip.shared,e:a}),a.type==="mouseup"&&d.markerClick(a,t,s),c.globals.capturedSeriesIndex=t,c.globals.capturedDataPointIndex=s,o=u,l=h+c.globals.translateY-1.4*d.tooltipRect.ttHeight,d.w.config.tooltip.followCursor){var b=d.getElGrid().getBoundingClientRect();l=d.e.clientY+c.globals.translateY-b.top}m<0&&(l=h),d.marker.enlargeCurrentPoint(s,n.paths,o,l)}return{x:o,y:l}}},{key:"handleBarTooltip",value:function(e){var t,s,a=e.e,n=e.opt,o=this.w,l=this.ttCtx,c=l.getElTooltip(),d=0,u=0,h=0,m=this.getBarTooltipXY({e:a,opt:n});if(m.j!==null||m.barHeight!==0||m.barWidth!==0){t=m.i;var p=m.j;if(o.globals.capturedSeriesIndex=t,o.globals.capturedDataPointIndex=p,o.globals.isBarHorizontal&&l.tooltipUtil.hasBars()||!o.config.tooltip.shared?(u=m.x,h=m.y,s=Array.isArray(o.config.stroke.width)?o.config.stroke.width[t]:o.config.stroke.width,d=u):o.globals.comboCharts||o.config.tooltip.shared||(d/=2),isNaN(h)&&(h=o.globals.svgHeight-l.tooltipRect.ttHeight),parseInt(n.paths.parentNode.getAttribute("data:realIndex"),10),u+l.tooltipRect.ttWidth>o.globals.gridWidth?u-=l.tooltipRect.ttWidth:u<0&&(u=0),l.w.config.tooltip.followCursor){var b=l.getElGrid().getBoundingClientRect();h=l.e.clientY-b.top}l.tooltip===null&&(l.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?l.tooltipPosition.moveXCrosshairs(d+s/2):l.tooltipPosition.moveXCrosshairs(d)),!l.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&l.tooltipUtil.hasBars())&&(h=h+o.globals.translateY-l.tooltipRect.ttHeight/2,c.style.left=u+o.globals.translateX+"px",c.style.top=h+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,s=e.e,a=e.opt,n=this.w,o=null,l=this.ttCtx,c=0,d=0,u=0,h=0,m=0,p=s.target.classList;if(p.contains("apexcharts-bar-area")||p.contains("apexcharts-candlestick-area")||p.contains("apexcharts-boxPlot-area")||p.contains("apexcharts-rangebar-area")){var b=s.target,x=b.getBoundingClientRect(),y=a.elGrid.getBoundingClientRect(),w=x.height;m=x.height;var k=x.width,N=parseInt(b.getAttribute("cx"),10),T=parseInt(b.getAttribute("cy"),10);h=parseFloat(b.getAttribute("barWidth"));var E=s.type==="touchmove"?s.touches[0].clientX:s.clientX;o=parseInt(b.getAttribute("j"),10),c=parseInt(b.parentNode.getAttribute("rel"),10)-1;var I=b.getAttribute("data-range-y1"),S=b.getAttribute("data-range-y2");n.globals.comboCharts&&(c=parseInt(b.parentNode.getAttribute("data:realIndex"),10));var A=function(O){return n.globals.isXNumeric?N-k/2:t.isVerticalGroupedRangeBar?N+k/2:N-l.dataPointsDividedWidth+k/2},P=function(){return T-l.dataPointsDividedHeight+w/2-l.tooltipRect.ttHeight/2};l.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:c,j:o,y1:I?parseInt(I,10):null,y2:S?parseInt(S,10):null,shared:!l.showOnIntersect&&n.config.tooltip.shared,e:s}),n.config.tooltip.followCursor?n.globals.isBarHorizontal?(d=E-y.left+15,u=P()):(d=A(),u=s.clientY-y.top-l.tooltipRect.ttHeight/2-15):n.globals.isBarHorizontal?((d=N)<l.xyRatios.baseLineInvertedY&&(d=N-l.tooltipRect.ttWidth),u=P()):(d=A(),u=T)}return{x:d,y:u,barHeight:m,barWidth:h,i:c,j:o}}}]),r})(),T1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.ttCtx=e}return It(r,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,s=e.config.xaxis.position==="bottom";t.xaxisOffY=s?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var a=s?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",n=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+e.config.tooltip.theme),n.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,s=0;s<e.config.yaxis.length;s++){var a=e.config.yaxis[s].opposite||e.config.yaxis[s].crosshairs.opposite;t.yaxisOffX=a?e.globals.gridWidth+1:1;var n="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s,a?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),o=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(t.yaxisTooltip),s===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[s]=document.createElement("div"),t.yaxisTooltipText[s].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[s]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,s=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var a=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(a!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var n=parseFloat(a.getAttribute("barWidth"));t.xcrosshairsWidth=n}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var l=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/l}else if(e.config.xaxis.crosshairs.width==="barWidth"){var c=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(c!==null){var d=parseFloat(c.getAttribute("barWidth"));t.xcrosshairsWidth=d}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),s!==null&&t.xcrosshairsWidth>0&&s.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,s){var a=this.ttCtx,n=this.w,o=n.globals,l=o.seriesYAxisMap[e];if(a.yaxisTooltips[e]&&l.length>0){var c=o.yLabelFormatters[e],d=a.getElGrid().getBoundingClientRect(),u=l[0],h=0;s.yRatio.length>1&&(h=u);var m=(t-d.top)*s.yRatio[h],p=o.maxYArr[u]-o.minYArr[u],b=o.minYArr[u]+(p-m);n.config.yaxis[e].reversed&&(b=o.maxYArr[u]-(p-m)),a.tooltipPosition.moveYCrosshairs(t-d.top),a.yaxisTooltipText[e].innerHTML=c(b),a.tooltipPosition.moveYAxisTooltip(e)}}}]),r})(),WF=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new i$(this),this.tooltipLabels=new j1e(this),this.tooltipPosition=new o$(this),this.marker=new E1e(this),this.intersect=new A1e(this),this.axesTooltip=new T1e(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return It(r,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map((function(o,l){return!!(o.show&&o.tooltip.enabled&&t.globals.axisCharts)})),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var s=document.createElement("div");if(s.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&s.classList.add(t.config.tooltip.cssClass),s.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(s),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var a=new px(this.ctx);this.xAxisTicksPositions=a.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,s.appendChild(this.tooltipTitle));var n=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(n=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(n),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,s=this.w,a=[],n=this.getElTooltip(),o=function(c){var d=document.createElement("div");d.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(c)),d.style.order=s.config.tooltip.inverseOrder?e-c:c+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),s.config.tooltip.fillSeriesColor?u.style.backgroundColor=s.globals.colors[c]:u.style.color=s.globals.colors[c];var h=s.config.markers.shape,m=h;Array.isArray(h)&&(m=h[c]),u.setAttribute("shape",m),d.appendChild(u);var p=document.createElement("div");p.classList.add("apexcharts-tooltip-text"),p.style.fontFamily=t.tConfig.style.fontFamily||s.config.chart.fontFamily,p.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach((function(b){var x=document.createElement("div");x.classList.add("apexcharts-tooltip-".concat(b,"-group"));var y=document.createElement("span");y.classList.add("apexcharts-tooltip-text-".concat(b,"-label")),x.appendChild(y);var w=document.createElement("span");w.classList.add("apexcharts-tooltip-text-".concat(b,"-value")),x.appendChild(w),p.appendChild(x)})),d.appendChild(p),n.appendChild(d),a.push(d)},l=0;l<e;l++)o(l);return a}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,s=this.getElTooltip(),a=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),n=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",o=e.globals.dom.Paper.node,l=this.getElGrid();l&&(this.seriesBound=l.getBoundingClientRect());var c,d=[],u=[],h={hoverArea:o,elGrid:l,tooltipEl:s,tooltipY:d,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(n?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),c&&c.length))for(var m=0;m<c.length;m++)d.push(c[m].getAttribute("cy")),u.push(c[m].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],h);else if(a&&!e.globals.comboCharts||n&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(p,h)}if(this.showOnIntersect){var b=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");b.length>0&&this.addPathsEventListeners(b,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),s=t.getBoundingClientRect(),a=s.width+10,n=s.height+10,o=this.tConfig.fixed.offsetX,l=this.tConfig.fixed.offsetY,c=this.tConfig.fixed.position.toLowerCase();return c.indexOf("right")>-1&&(o=o+e.globals.svgWidth-a+10),c.indexOf("bottom")>-1&&(l=l+e.globals.svgHeight-n-10),t.style.left=o+"px",t.style.top=l+"px",{x:o,y:l,ttWidth:a,ttHeight:n}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var s=this,a=function(o){var l={paths:e[o],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(c){return e[o].addEventListener(c,s.onSeriesHover.bind(s,l),{capture:!1,passive:!0})}))},n=0;n<e.length;n++)a(n)}},{key:"onSeriesHover",value:function(e,t){var s=this,a=Date.now()-this.lastHoverTime;a>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){s.seriesHover(e,t)}),20-a))}},{key:"seriesHover",value:function(e,t){var s=this;this.lastHoverTime=Date.now();var a=[],n=this.w;n.config.chart.group&&(a=this.ctx.getGroupedCharts()),n.globals.axisCharts&&(n.globals.minX===-1/0&&n.globals.maxX===1/0||n.globals.dataPoints===0)||(a.length?a.forEach((function(o){var l=s.getElTooltip(o),c={paths:e.paths,tooltipEl:l,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:o.w.globals.tooltip.ttItems};o.w.globals.minX===s.w.globals.minX&&o.w.globals.maxX===s.w.globals.maxX&&o.w.globals.tooltip.seriesHoverByContext({chartCtx:o,ttCtx:o.w.globals.tooltip,opt:c,e:t})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,s=e.ttCtx,a=e.opt,n=e.e,o=t.w,l=this.getElTooltip(t);l&&(s.tooltipRect={x:0,y:0,ttWidth:l.getBoundingClientRect().width,ttHeight:l.getBoundingClientRect().height},s.e=n,s.tooltipUtil.hasBars()&&!o.globals.comboCharts&&!s.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new ho(t).toggleSeriesOnHover(n,n.target.parentNode),o.globals.axisCharts?s.axisChartsTooltips({e:n,opt:a,tooltipRect:s.tooltipRect}):s.nonAxisChartsTooltips({e:n,opt:a,tooltipRect:s.tooltipRect}),s.fixedTooltip&&s.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,s,a=e.e,n=e.opt,o=this.w,l=n.elGrid.getBoundingClientRect(),c=a.type==="touchmove"?a.touches[0].clientX:a.clientX,d=a.type==="touchmove"?a.touches[0].clientY:a.clientY;if(this.clientY=d,this.clientX=c,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,d<l.top||d>l.top+l.height)this.handleMouseOut(n);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var u=parseInt(n.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(n)}var h=this.getElTooltip(),m=this.getElXCrosshairs(),p=[];o.config.chart.group&&(p=this.ctx.getSyncedCharts());var b=o.globals.xyCharts||o.config.chart.type==="bar"&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if(a.type==="mousemove"||a.type==="touchmove"||a.type==="mouseup"){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;m!==null&&m.classList.add("apexcharts-active");var x=this.yaxisTooltips.filter((function(k){return k===!0}));if(this.ycrosshairs!==null&&x.length&&this.ycrosshairs.classList.add("apexcharts-active"),b&&!this.showOnIntersect||p.length>1)this.handleStickyTooltip(a,c,d,n);else if(o.config.chart.type==="heatmap"||o.config.chart.type==="treemap"){var y=this.intersect.handleHeatTreeTooltip({e:a,opt:n,x:t,y:s,type:o.config.chart.type});t=y.x,s=y.y,h.style.left=t+"px",h.style.top=s+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:a,opt:n}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:a,opt:n,x:t,y:s});if(this.yaxisTooltips.length)for(var w=0;w<o.config.yaxis.length;w++)this.axesTooltip.drawYaxisTooltipText(w,d,this.xyRatios);o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),n.tooltipEl.classList.add("apexcharts-active")}else a.type!=="mouseout"&&a.type!=="touchend"||this.handleMouseOut(n)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,s=e.opt,a=e.tooltipRect,n=this.w,o=s.paths.getAttribute("rel"),l=this.getElTooltip(),c=n.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){n.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),l.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:parseInt(o,10)-1,shared:!1});var d=n.globals.clientX-c.left-a.ttWidth/2,u=n.globals.clientY-c.top-a.ttHeight-10;if(l.style.left=d+"px",l.style.top=u+"px",n.config.legend.tooltipHoverFormatter){var h=o-1,m=(0,n.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:n});this.legendLabels[h].innerHTML=m}}else t.type!=="mouseout"&&t.type!=="touchend"||(l.classList.remove("apexcharts-active"),n.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),n.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(p){var b=p.getAttribute("data:default-text");p.innerHTML=decodeURIComponent(b)})))}},{key:"handleStickyTooltip",value:function(e,t,s,a){var n=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:t,clientY:s}),l=o.j,c=o.capturedSeries;n.globals.collapsedSeriesIndices.includes(c)&&(c=null);var d=a.elGrid.getBoundingClientRect();if(o.hoverX<0||o.hoverX>d.width)this.handleMouseOut(a);else if(c!==null)this.handleStickyCapturedSeries(e,c,a,l);else if(this.tooltipUtil.isXoverlap(l)||n.globals.isBarHorizontal){var u=n.globals.series.findIndex((function(h,m){return!n.globals.collapsedSeriesIndices.includes(m)}));this.create(e,this,u,l,a.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,s,a){var n=this.w;if(!this.tConfig.shared&&n.globals.series[t][a]===null)return void this.handleMouseOut(s);if(n.globals.series[t][a]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,a,s.ttItems):this.create(e,this,t,a,s.ttItems,!1);else if(this.tooltipUtil.isXoverlap(a)){var o=n.globals.series.findIndex((function(l,c){return!n.globals.collapsedSeriesIndices.includes(c)}));this.create(e,this,o,a,s.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new ot(this.ctx),s=e.globals.dom.Paper.find(".apexcharts-bar-area"),a=0;a<s.length;a++)t.pathMouseLeave(s[a])}},{key:"handleMouseOut",value:function(e){var t=this.w,s=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),s!==null&&s.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(n){var o=n.getAttribute("data:default-text");n.innerHTML=decodeURIComponent(o)}))}},{key:"markerClick",value:function(e,t,s){var a=this.w;typeof a.config.chart.events.markerClick=="function"&&a.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:a}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:a}])}},{key:"create",value:function(e,t,s,a,n){var o,l,c,d,u,h,m,p,b,x,y,w,k,N,T,E,I=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,S=this.w,A=t;e.type==="mouseup"&&this.markerClick(e,s,a),I===null&&(I=this.tConfig.shared);var P=this.tooltipUtil.hasMarkers(s),O=this.tooltipUtil.getElBars(),M=function(){S.globals.markers.largestSize>0?A.marker.enlargePoints(a):A.tooltipPosition.moveDynamicPointsOnHover(a)};if(S.config.legend.tooltipHoverFormatter){var L=S.config.legend.tooltipHoverFormatter,B=Array.from(this.legendLabels);B.forEach((function(Z){var J=Z.getAttribute("data:default-text");Z.innerHTML=decodeURIComponent(J)}));for(var G=0;G<B.length;G++){var X=B[G],H=parseInt(X.getAttribute("i"),10),W=decodeURIComponent(X.getAttribute("data:default-text")),ne=L(W,{seriesIndex:I?H:s,dataPointIndex:a,w:S});if(I)X.innerHTML=S.globals.collapsedSeriesIndices.indexOf(H)<0?ne:W;else if(X.innerHTML=H===s?ne:W,s===H)break}}var U=yt(yt({ttItems:n,i:s,j:a},((o=S.globals.seriesRange)===null||o===void 0||(l=o[s])===null||l===void 0||(c=l[a])===null||c===void 0||(d=c.y[0])===null||d===void 0?void 0:d.y1)!==void 0&&{y1:(u=S.globals.seriesRange)===null||u===void 0||(h=u[s])===null||h===void 0||(m=h[a])===null||m===void 0||(p=m.y[0])===null||p===void 0?void 0:p.y1}),((b=S.globals.seriesRange)===null||b===void 0||(x=b[s])===null||x===void 0||(y=x[a])===null||y===void 0||(w=y.y[0])===null||w===void 0?void 0:w.y2)!==void 0&&{y2:(k=S.globals.seriesRange)===null||k===void 0||(N=k[s])===null||N===void 0||(T=N[a])===null||T===void 0||(E=T.y[0])===null||E===void 0?void 0:E.y2});if(I){if(A.tooltipLabels.drawSeriesTexts(yt(yt({},U),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),P)M();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(O),this.barSeriesHeight>0)){var z=new ot(this.ctx),Q=S.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),A.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&M(),A.tooltipPosition.moveStickyTooltipOverBars(a,s);for(var q=0;q<Q.length;q++)z.pathMouseEnter(Q[q])}}else A.tooltipLabels.drawSeriesTexts(yt({shared:!1},U)),this.tooltipUtil.hasBars()&&A.tooltipPosition.moveStickyTooltipOverBars(a,s),P&&A.tooltipPosition.moveMarkers(s,a)}}]),r})(),C1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return It(r,[{key:"handleBarDataLabels",value:function(e){var t,s,a=e.x,n=e.y,o=e.y1,l=e.y2,c=e.i,d=e.j,u=e.realIndex,h=e.columnGroupIndex,m=e.series,p=e.barHeight,b=e.barWidth,x=e.barXPosition,y=e.barYPosition,w=e.visibleSeries,k=this.w,N=new ot(this.barCtx.ctx),T=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;k.globals.isXNumeric&&!k.globals.isBarHorizontal?(t=a+parseFloat(b*(w+1)),s=n+parseFloat(p*(w+1))-T):(t=a+parseFloat(b*w),s=n+parseFloat(p*w));var E,I=null,S=a,A=n,P={},O=k.config.dataLabels,M=this.barCtx.barOptions.dataLabels,L=this.barCtx.barOptions.dataLabels.total;y!==void 0&&this.barCtx.isRangeBar&&(s=y,A=y),x!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=x,S=x);var B=O.offsetX,G=O.offsetY,X={width:0,height:0};if(k.config.dataLabels.enabled){var H=k.globals.series[c][d];X=N.getTextRects(k.config.dataLabels.formatter?k.config.dataLabels.formatter(H,yt(yt({},k),{},{seriesIndex:c,dataPointIndex:d,w:k})):k.globals.yLabelFormatters[0](H),parseFloat(O.style.fontSize))}var W={x:a,y:n,i:c,j:d,realIndex:u,columnGroupIndex:h,bcx:t,bcy:s,barHeight:p,barWidth:b,textRects:X,strokeWidth:T,dataLabelsX:S,dataLabelsY:A,dataLabelsConfig:O,barDataLabelsConfig:M,barTotalDataLabelsConfig:L,offX:B,offY:G};return P=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(W):this.calculateColumnsDataLabelsPosition(W),E=this.drawCalculatedDataLabels({x:P.dataLabelsX,y:P.dataLabelsY,val:this.barCtx.isRangeBar?[o,l]:k.config.chart.stackType==="100%"?m[u][d]:k.globals.series[u][d],i:u,j:d,barWidth:b,barHeight:p,textRects:X,dataLabelsConfig:O}),k.config.chart.stacked&&L.enabled&&(I=this.drawTotalDataLabels({x:P.totalDataLabelsX,y:P.totalDataLabelsY,barWidth:b,barHeight:p,realIndex:u,textAnchor:P.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:d}),dataLabelsConfig:O,barTotalDataLabelsConfig:L})),{dataLabelsPos:P,dataLabels:E,totalDataLabels:I}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,s=e.j,a=this.w,n=this.barCtx.stackedSeriesTotals[s];return this.totalFormatter&&(n=this.totalFormatter(n,yt(yt({},a),{},{seriesIndex:t,dataPointIndex:s,w:a}))),n}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,s=this.w,a=e.i,n=e.j,o=e.realIndex;e.columnGroupIndex;var l,c,d=e.y,u=e.bcx,h=e.barWidth,m=e.barHeight,p=e.textRects,b=e.dataLabelsX,x=e.dataLabelsY,y=e.dataLabelsConfig,w=e.barDataLabelsConfig,k=e.barTotalDataLabelsConfig,N=e.strokeWidth,T=e.offX,E=e.offY,I=u;m=Math.abs(m);var S=s.config.plotOptions.bar.dataLabels.orientation==="vertical",A=this.barCtx.barHelpers.getZeroValueEncounters({i:a,j:n}).zeroEncounters;u-=N/2;var P=s.globals.gridWidth/s.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?b+=h/2:(b=s.globals.isXNumeric?u-h/2+T:u-P+h/2+T,!s.config.chart.stacked&&A>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(b-=h*A)),S&&(b=b+p.height/2-N/2-2);var O=s.globals.series[a][n]<0,M=d;switch(this.barCtx.isReversed&&(M=d+(O?m:-m)),w.position){case"center":x=S?O?M-m/2+E:M+m/2-E:O?M-m/2+p.height/2+E:M+m/2+p.height/2-E;break;case"bottom":x=S?O?M-m+E:M+m-E:O?M-m+p.height+N+E:M+m-p.height/2+N-E;break;case"top":x=S?O?M+E:M-E:O?M-p.height/2-E:M+p.height+E}var L=M;if(s.globals.seriesGroups.forEach((function(X){var H;(H=t.barCtx[X.join(",")])===null||H===void 0||H.prevY.forEach((function(W){L=O?Math.max(W[n],L):Math.min(W[n],L)}))})),this.barCtx.lastActiveBarSerieIndex===o&&k.enabled){var B=new ot(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:n}),y.fontSize);l=O?L-B.height/2-E-k.offsetY+18:L+B.height+E+k.offsetY-18;var G=P;c=I+(s.globals.isXNumeric?-h*s.globals.barGroups.length/2:s.globals.barGroups.length*h/2-(s.globals.barGroups.length-1)*h-G)+k.offsetX}return s.config.chart.stacked||(x<0?x=0+N:x+p.height/3>s.globals.gridHeight&&(x=s.globals.gridHeight-N)),{bcx:u,bcy:d,dataLabelsX:b,dataLabelsY:x,totalDataLabelsX:c,totalDataLabelsY:l,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,s=this.w,a=e.x,n=e.i,o=e.j,l=e.realIndex,c=e.bcy,d=e.barHeight,u=e.barWidth,h=e.textRects,m=e.dataLabelsX,p=e.strokeWidth,b=e.dataLabelsConfig,x=e.barDataLabelsConfig,y=e.barTotalDataLabelsConfig,w=e.offX,k=e.offY,N=s.globals.gridHeight/s.globals.dataPoints,T=this.barCtx.barHelpers.getZeroValueEncounters({i:n,j:o}).zeroEncounters;u=Math.abs(u);var E,I,S=c-(this.barCtx.isRangeBar?0:N)+d/2+h.height/2+k-3;!s.config.chart.stacked&&T>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(S-=d*T);var A="start",P=s.globals.series[n][o]<0,O=a;switch(this.barCtx.isReversed&&(O=a+(P?-u:u),A=P?"start":"end"),x.position){case"center":m=P?O+u/2-w:Math.max(h.width/2,O-u/2)+w;break;case"bottom":m=P?O+u-p-w:O-u+p+w;break;case"top":m=P?O-p-w:O-p+w}var M=O;if(s.globals.seriesGroups.forEach((function(B){var G;(G=t.barCtx[B.join(",")])===null||G===void 0||G.prevX.forEach((function(X){M=P?Math.min(X[o],M):Math.max(X[o],M)}))})),this.barCtx.lastActiveBarSerieIndex===l&&y.enabled){var L=new ot(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:l,j:o}),b.fontSize);P?(E=M-p-w-y.offsetX,A="end"):E=M+w+y.offsetX+(this.barCtx.isReversed?-(u+p):p),I=S-h.height/2+L.height/2+y.offsetY+p,s.globals.barGroups.length>1&&(I-=s.globals.barGroups.length/2*(d/2))}return s.config.chart.stacked||(b.textAnchor==="start"?m-h.width<0?m=P?h.width+p:p:m+h.width>s.globals.gridWidth&&(m=P?s.globals.gridWidth-p:s.globals.gridWidth-h.width-p):b.textAnchor==="middle"?m-h.width/2<0?m=h.width/2+p:m+h.width/2>s.globals.gridWidth&&(m=s.globals.gridWidth-h.width/2-p):b.textAnchor==="end"&&(m<1?m=h.width+p:m+1>s.globals.gridWidth&&(m=s.globals.gridWidth-h.width-p))),{bcx:a,bcy:c,dataLabelsX:m,dataLabelsY:S,totalDataLabelsX:E,totalDataLabelsY:I,totalDataLabelsAnchor:A}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,s=e.y,a=e.val,n=e.i,o=e.j,l=e.textRects,c=e.barHeight,d=e.barWidth,u=e.dataLabelsConfig,h=this.w,m="rotate(0)";h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(m="rotate(-90, ".concat(t,", ").concat(s,")"));var p=new Hm(this.barCtx.ctx),b=new ot(this.barCtx.ctx),x=u.formatter,y=null,w=h.globals.collapsedSeriesIndices.indexOf(n)>-1;if(u.enabled&&!w){y=b.group({class:"apexcharts-data-labels",transform:m});var k="";a!==void 0&&(k=x(a,yt(yt({},h),{},{seriesIndex:n,dataPointIndex:o,w:h}))),!a&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(k="");var N=h.globals.series[n][o]<0,T=h.config.plotOptions.bar.dataLabels.position;h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(T==="top"&&(u.textAnchor=N?"end":"start"),T==="center"&&(u.textAnchor="middle"),T==="bottom"&&(u.textAnchor=N?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&d<b.getTextRects(k,parseFloat(u.style.fontSize)).width&&(k=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?l.width/1.6>Math.abs(d)&&(k=""):l.height/1.6>Math.abs(c)&&(k=""));var E=yt({},u);this.barCtx.isHorizontal&&a<0&&(u.textAnchor==="start"?E.textAnchor="end":u.textAnchor==="end"&&(E.textAnchor="start")),p.plotDataLabelsText({x:t,y:s,text:k,i:n,j:o,parent:y,dataLabelsConfig:E,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return y}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,s=e.y,a=e.val,n=e.realIndex,o=e.textAnchor,l=e.barTotalDataLabelsConfig;this.w;var c,d=new ot(this.barCtx.ctx);return l.enabled&&t!==void 0&&s!==void 0&&this.barCtx.lastActiveBarSerieIndex===n&&(c=d.drawText({x:t,y:s,foreColor:l.style.color,text:a,textAnchor:o,fontFamily:l.style.fontFamily,fontSize:l.style.fontSize,fontWeight:l.style.fontWeight})),c}}]),r})(),P1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.barCtx=e}return It(r,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var s=0;s<e.length;s++)if(e[s].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[s].length),t.globals.isXNumeric)for(var a=0;a<e[s].length;a++)t.globals.seriesX[s][a]>t.globals.minX&&t.globals.seriesX[s][a]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),Pe.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map((function(n){return n.map((function(o){return"none"}))}))),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,s,a,n,o,l,c,d,u=this.w,h=u.globals.dataPoints;this.barCtx.isRangeBar&&(h=u.globals.labels.length);var m=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(m=1),this.barCtx.isHorizontal)o=(a=u.globals.gridHeight/h)/m,u.globals.isXNumeric&&(o=(a=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),o=o*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.barHeight,10)),d=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(d=u.globals.gridWidth/2),s=(a-o*this.barCtx.seriesLen)/2;else{if(n=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(n=u.globals.gridWidth/u.globals.dataPoints),l=n/m*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var p=this.barCtx.xRatio;u.globals.minXDiff&&u.globals.minXDiff!==.5&&u.globals.minXDiff/p>0&&(n=u.globals.minXDiff/p),(l=n/m*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(l=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(l=parseInt(this.barCtx.barOptions.columnWidth,10)),c=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),u.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:l}).x:t=u.globals.padHorizontal+Pe.noExponents(n-l*this.barCtx.seriesLen)/2}return u.globals.barHeight=o,u.globals.barWidth=l,{x:t,y:s,yDivision:a,xDivision:n,barHeight:o,barWidth:l,zeroH:c,zeroW:d}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]}))}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]}))}},{key:"getPathFillColor",value:function(e,t,s,a){var n,o,l,c,d=this.w,u=this.barCtx.ctx.fill,h=null,m=this.barCtx.barOptions.distributed?s:t,p=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(b){e[t][s]>=b.from&&e[t][s]<=b.to&&(h=b.color,p=!0)})),{color:u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?m:a,dataPointIndex:s,color:h,value:e[t][s],fillConfig:(n=d.config.series[t].data[s])===null||n===void 0?void 0:n.fill,fillType:(o=d.config.series[t].data[s])!==null&&o!==void 0&&(l=o.fill)!==null&&l!==void 0&&l.type?(c=d.config.series[t].data[s])===null||c===void 0?void 0:c.fill.type:Array.isArray(d.config.fill.type)?d.config.fill.type[a]:d.config.fill.type}),useRangeColor:p}}},{key:"getStrokeWidth",value:function(e,t,s){var a=0,n=this.w;return this.barCtx.series[e][t]===void 0||this.barCtx.series[e][t]===null||n.config.chart.type==="bar"&&!this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,n.config.stroke.show&&(this.barCtx.isNullValue||(a=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth)),a}},{key:"createBorderRadiusArr",value:function(e){var t,s=this.w,a=!this.w.config.chart.stacked||s.config.plotOptions.bar.borderRadius<=0,n=e.length,o=0|((t=e[0])===null||t===void 0?void 0:t.length),l=Array.from({length:n},(function(){return Array(o).fill(a?"top":"none")}));if(a)return l;for(var c=0;c<o;c++){for(var d=[],u=[],h=0,m=0;m<n;m++){var p=e[m][c];p>0?(d.push(m),h++):p<0&&(u.push(m),h++)}if(d.length>0&&u.length===0)if(d.length===1)l[d[0]][c]="both";else{var b,x=d[0],y=d[d.length-1],w=np(d);try{for(w.s();!(b=w.n()).done;){var k=b.value;l[k][c]=k===x?"bottom":k===y?"top":"none"}}catch(H){w.e(H)}finally{w.f()}}else if(u.length>0&&d.length===0)if(u.length===1)l[u[0]][c]="both";else{var N,T=Math.max.apply(Math,u),E=Math.min.apply(Math,u),I=np(u);try{for(I.s();!(N=I.n()).done;){var S=N.value;l[S][c]=S===T?"bottom":S===E?"top":"none"}}catch(H){I.e(H)}finally{I.f()}}else if(d.length>0&&u.length>0){var A,P=d[d.length-1],O=np(d);try{for(O.s();!(A=O.n()).done;){var M=A.value;l[M][c]=M===P?"top":"none"}}catch(H){O.e(H)}finally{O.f()}var L,B=Math.max.apply(Math,u),G=np(u);try{for(G.s();!(L=G.n()).done;){var X=L.value;l[X][c]=X===B?"bottom":"none"}}catch(H){G.e(H)}finally{G.f()}}else h===1&&(l[d[0]||u[0]][c]="both")}return l}},{key:"barBackground",value:function(e){var t=e.j,s=e.i,a=e.x1,n=e.x2,o=e.y1,l=e.y2,c=e.elSeries,d=this.w,u=new ot(this.barCtx.ctx),h=new ho(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===s){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var m=this.barCtx.barOptions.colors.backgroundBarColors[t],p=u.drawRect(a!==void 0?a:0,o!==void 0?o:0,n!==void 0?n:d.globals.gridWidth,l!==void 0?l:d.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,m,this.barCtx.barOptions.colors.backgroundBarOpacity);c.add(p),p.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,s=e.barWidth,a=e.barXPosition,n=e.y1,o=e.y2,l=e.strokeWidth,c=e.isReversed,d=e.series,u=e.seriesGroup,h=e.realIndex,m=e.i,p=e.j,b=e.w,x=new ot(this.barCtx.ctx);(l=Array.isArray(l)?l[h]:l)||(l=0);var y=s,w=a;(t=b.config.series[h].data[p])!==null&&t!==void 0&&t.columnWidthOffset&&(w=a-b.config.series[h].data[p].columnWidthOffset/2,y=s+b.config.series[h].data[p].columnWidthOffset);var k=l/2,N=w+k,T=w+y-k,E=(d[m][p]>=0?1:-1)*(c?-1:1);n+=.001-k*E,o+=.001+k*E;var I=x.move(N,n),S=x.move(N,n),A=x.line(T,n);if(b.globals.previousPaths.length>0&&(S=this.barCtx.getPreviousPath(h,p,!1)),I=I+x.line(N,o)+x.line(T,o)+A+(b.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),S=S+x.line(N,n)+A+A+A+A+A+x.line(N,n)+(b.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),this.arrBorderRadius[h][p]!=="none"&&(I=x.roundPathCorners(I,b.config.plotOptions.bar.borderRadius)),b.config.chart.stacked){var P=this.barCtx;(P=this.barCtx[u]).yArrj.push(o-k*E),P.yArrjF.push(Math.abs(n-o+l*E)),P.yArrjVal.push(this.barCtx.series[m][p])}return{pathTo:I,pathFrom:S}}},{key:"getBarpaths",value:function(e){var t,s=e.barYPosition,a=e.barHeight,n=e.x1,o=e.x2,l=e.strokeWidth,c=e.isReversed,d=e.series,u=e.seriesGroup,h=e.realIndex,m=e.i,p=e.j,b=e.w,x=new ot(this.barCtx.ctx);(l=Array.isArray(l)?l[h]:l)||(l=0);var y=s,w=a;(t=b.config.series[h].data[p])!==null&&t!==void 0&&t.barHeightOffset&&(y=s-b.config.series[h].data[p].barHeightOffset/2,w=a+b.config.series[h].data[p].barHeightOffset);var k=l/2,N=y+k,T=y+w-k,E=(d[m][p]>=0?1:-1)*(c?-1:1);n+=.001+k*E,o+=.001-k*E;var I=x.move(n,N),S=x.move(n,N);b.globals.previousPaths.length>0&&(S=this.barCtx.getPreviousPath(h,p,!1));var A=x.line(n,T);if(I=I+x.line(o,N)+x.line(o,T)+A+(b.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),S=S+x.line(n,N)+A+A+A+A+A+x.line(n,N)+(b.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),this.arrBorderRadius[h][p]!=="none"&&(I=x.roundPathCorners(I,b.config.plotOptions.bar.borderRadius)),b.config.chart.stacked){var P=this.barCtx;(P=this.barCtx[u]).xArrj.push(o+k*E),P.xArrjF.push(Math.abs(n-o-l*E)),P.xArrjVal.push(this.barCtx.series[m][p])}return{pathTo:I,pathFrom:S}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,s=this.w,a=0;a<t.length;a++){for(var n=0,o=0;o<t[s.globals.maxValsInArrayIndex].length;o++)n+=t[a][o];n===0&&this.barCtx.zeroSerieses.push(a)}}},{key:"getXForValue",value:function(e,t){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(s=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(e,t,s){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(a=t-e/this.barCtx.yRatio[s]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[s]:0)),a}},{key:"getGoalValues",value:function(e,t,s,a,n,o){var l=this,c=this.w,d=[],u=function(p,b){var x;d.push(($w(x={},e,e==="x"?l.getXForValue(p,t,!1):l.getYForValue(p,s,o,!1)),$w(x,"attrs",b),x))};if(c.globals.seriesGoals[a]&&c.globals.seriesGoals[a][n]&&Array.isArray(c.globals.seriesGoals[a][n])&&c.globals.seriesGoals[a][n].forEach((function(p){u(p.value,p)})),this.barCtx.barOptions.isDumbbell&&c.globals.seriesRange.length){var h=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:c.globals.colors,m={strokeHeight:e==="x"?0:c.globals.markers.size[a],strokeWidth:e==="x"?c.globals.markers.size[a]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(h[a])?h[a][0]:h[a]};u(c.globals.seriesRangeStart[a][n],m),u(c.globals.seriesRangeEnd[a][n],yt(yt({},m),{},{strokeColor:Array.isArray(h[a])?h[a][1]:h[a]}))}return d}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,s=e.barYPosition,a=e.goalX,n=e.goalY,o=e.barWidth,l=e.barHeight,c=new ot(this.barCtx.ctx),d=c.group({className:"apexcharts-bar-goals-groups"});d.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:d.node}),d.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(a)&&a.forEach((function(h){if(h.x>=-1&&h.x<=c.w.globals.gridWidth+1){var m=h.attrs.strokeHeight!==void 0?h.attrs.strokeHeight:l/2,p=s+m+l/2;u=c.drawLine(h.x,p-2*m,h.x,p,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeWidth?h.attrs.strokeWidth:2,h.attrs.strokeLineCap),d.add(u)}})):Array.isArray(n)&&n.forEach((function(h){if(h.y>=-1&&h.y<=c.w.globals.gridHeight+1){var m=h.attrs.strokeWidth!==void 0?h.attrs.strokeWidth:o/2,p=t+m+o/2;u=c.drawLine(p-2*m,h.y,p,h.y,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeHeight?h.attrs.strokeHeight:2,h.attrs.strokeLineCap),d.add(u)}})),d}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,s=e.currPaths,a=e.color,n=this.w,o=t.x,l=t.x1,c=t.barYPosition,d=s.x,u=s.x1,h=s.barYPosition,m=c+s.barHeight,p=new ot(this.barCtx.ctx),b=new Pe,x=p.move(l,m)+p.line(o,m)+p.line(d,h)+p.line(u,h)+p.line(l,m)+(n.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return p.drawPath({d:x,fill:b.shadeColor(.5,Pe.rgb2hex(a)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,s=e.i,a=e.j,n=this.w,o=0,l=0;return(n.config.plotOptions.bar.horizontal?n.globals.series.map((function(c,d){return d})):((t=n.globals.columnSeries)===null||t===void 0?void 0:t.i.map((function(c){return c})))||[]).forEach((function(c){var d=n.globals.seriesPercent[c][a];d&&o++,c<s&&d===0&&l++})),{nonZeroColumns:o,zeroEncounters:l}}},{key:"getGroupIndex",value:function(e){var t=this.w,s=t.globals.seriesGroups.findIndex((function(o){return o.indexOf(t.globals.seriesNames[e])>-1})),a=this.barCtx.columnGroupIndices,n=a.indexOf(s);return n<0&&(a.push(s),n=a.length-1),{groupIndex:s,columnGroupIndex:n}}}]),r})(),$m=(function(){function r(e,t){Rt(this,r),this.ctx=e,this.w=e.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&s.globals.seriesRange.length&&s.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var a=new ho(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var n=a.getBarSeriesIndices(),o=new na(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map((function(l,c){return n.indexOf(c)===-1?c:-1})).filter((function(l){return l!==-1}))),this.barHelpers=new P1e(this)}return It(r,[{key:"draw",value:function(e,t){var s=this.w,a=new ot(this.ctx),n=new na(this.ctx,s);e=n.getLogSeries(e),this.series=e,this.yRatio=n.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var o=a.group({class:"apexcharts-bar-series apexcharts-plot-series"});s.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var l=0,c=0;l<e.length;l++,c++){var d,u,h,m,p=void 0,b=void 0,x=[],y=[],w=s.globals.comboCharts?t[l]:l,k=this.barHelpers.getGroupIndex(w).columnGroupIndex,N=a.group({class:"apexcharts-series",rel:l+1,seriesName:Pe.escapeString(s.globals.seriesNames[w]),"data:realIndex":w});this.ctx.series.addCollapsedClassToSeries(N,w),e[l].length>0&&(this.visibleI=this.visibleI+1);var T=0,E=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[w],this.translationsIndex=w);var I=this.translationsIndex;this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed;var S=this.barHelpers.initialPositions(w);b=S.y,T=S.barHeight,u=S.yDivision,m=S.zeroW,p=S.x,E=S.barWidth,d=S.xDivision,h=S.zeroH,this.isHorizontal||y.push(p+E/2);var A=a.group({class:"apexcharts-datalabels","data:realIndex":w});s.globals.delayedElements.push({el:A.node}),A.node.classList.add("apexcharts-element-hidden");var P=a.group({class:"apexcharts-bar-goals-markers"}),O=a.group({class:"apexcharts-bar-shadows"});s.globals.delayedElements.push({el:O.node}),O.node.classList.add("apexcharts-element-hidden");for(var M=0;M<e[l].length;M++){var L=this.barHelpers.getStrokeWidth(l,M,w),B=null,G={indexes:{i:l,j:M,realIndex:w,translationsIndex:I,bc:c},x:p,y:b,strokeWidth:L,elSeries:N};this.isHorizontal?(B=this.drawBarPaths(yt(yt({},G),{},{barHeight:T,zeroW:m,yDivision:u})),E=this.series[l][M]/this.invertedYRatio):(B=this.drawColumnPaths(yt(yt({},G),{},{xDivision:d,barWidth:E,zeroH:h})),T=this.series[l][M]/this.yRatio[I]);var X=this.barHelpers.getPathFillColor(e,l,M,w);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&M>0){var H,W=this.barHelpers.drawBarShadow({color:typeof X.color=="string"&&((H=X.color)===null||H===void 0?void 0:H.indexOf("url"))===-1?X.color:Pe.hexToRgba(s.globals.colors[l]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:B});O.add(W),s.config.chart.dropShadow.enabled&&new gn(this.ctx).dropShadow(W,s.config.chart.dropShadow,w)}this.pathArr.push(B);var ne=this.barHelpers.drawGoalLine({barXPosition:B.barXPosition,barYPosition:B.barYPosition,goalX:B.goalX,goalY:B.goalY,barHeight:T,barWidth:E});ne&&P.add(ne),b=B.y,p=B.x,M>0&&y.push(p+E/2),x.push(b),this.renderSeries(yt(yt({realIndex:w,pathFill:X.color},X.useRangeColor?{lineFill:X.color}:{}),{},{j:M,i:l,columnGroupIndex:k,pathFrom:B.pathFrom,pathTo:B.pathTo,strokeWidth:L,elSeries:N,x:p,y:b,series:e,barHeight:Math.abs(B.barHeight?B.barHeight:T),barWidth:Math.abs(B.barWidth?B.barWidth:E),elDataLabelsWrap:A,elGoalsMarkers:P,elBarShadows:O,visibleSeries:this.visibleI,type:"bar"}))}s.globals.seriesXvalues[w]=y,s.globals.seriesYvalues[w]=x,o.add(N)}return o}},{key:"renderSeries",value:function(e){var t=e.realIndex,s=e.pathFill,a=e.lineFill,n=e.j,o=e.i,l=e.columnGroupIndex,c=e.pathFrom,d=e.pathTo,u=e.strokeWidth,h=e.elSeries,m=e.x,p=e.y,b=e.y1,x=e.y2,y=e.series,w=e.barHeight,k=e.barWidth,N=e.barXPosition,T=e.barYPosition,E=e.elDataLabelsWrap,I=e.elGoalsMarkers,S=e.elBarShadows,A=e.visibleSeries,P=e.type,O=e.classes,M=this.w,L=new ot(this.ctx),B=!1;if(!a){var G=typeof M.globals.stroke.colors[t]=="function"?(function(U){var z,Q=M.config.stroke.colors;return Array.isArray(Q)&&Q.length>0&&((z=Q[U])||(z=""),typeof z=="function")?z({value:M.globals.series[U][n],dataPointIndex:n,w:M}):z})(t):M.globals.stroke.colors[t];a=this.barOptions.distributed?M.globals.stroke.colors[n]:G}var X=new C1e(this).handleBarDataLabels({x:m,y:p,y1:b,y2:x,i:o,j:n,series:y,realIndex:t,columnGroupIndex:l,barHeight:w,barWidth:k,barXPosition:N,barYPosition:T,visibleSeries:A});M.globals.isBarHorizontal||(X.dataLabelsPos.dataLabelsX+Math.max(k,M.globals.barPadForNumericAxis)<0||X.dataLabelsPos.dataLabelsX-Math.max(k,M.globals.barPadForNumericAxis)>M.globals.gridWidth)&&(B=!0),M.config.series[o].data[n]&&M.config.series[o].data[n].strokeColor&&(a=M.config.series[o].data[n].strokeColor),this.isNullValue&&(s="none");var H=n/M.config.chart.animations.animateGradually.delay*(M.config.chart.animations.speed/M.globals.dataPoints)/2.4;if(!B){var W=L.renderPaths({i:o,j:n,realIndex:t,pathFrom:c,pathTo:d,stroke:a,strokeWidth:u,strokeLineCap:M.config.stroke.lineCap,fill:s,animationDelay:H,initialSpeed:M.config.chart.animations.speed,dataChangeSpeed:M.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(P,"-area ").concat(O),chartType:P});W.attr("clip-path","url(#gridRectBarMask".concat(M.globals.cuid,")"));var ne=M.config.forecastDataPoints;ne.count>0&&n>=M.globals.dataPoints-ne.count&&(W.node.setAttribute("stroke-dasharray",ne.dashArray),W.node.setAttribute("stroke-width",ne.strokeWidth),W.node.setAttribute("fill-opacity",ne.fillOpacity)),b!==void 0&&x!==void 0&&(W.attr("data-range-y1",b),W.attr("data-range-y2",x)),new gn(this.ctx).setSelectionFilter(W,t,n),h.add(W),W.attr({cy:X.dataLabelsPos.bcy,cx:X.dataLabelsPos.bcx,j:n,val:M.globals.series[o][n],barHeight:w,barWidth:k}),X.dataLabels!==null&&E.add(X.dataLabels),X.totalDataLabels&&E.add(X.totalDataLabels),h.add(E),I&&h.add(I),S&&h.add(S)}return h}},{key:"drawBarPaths",value:function(e){var t,s=e.indexes,a=e.barHeight,n=e.strokeWidth,o=e.zeroW,l=e.x,c=e.y,d=e.yDivision,u=e.elSeries,h=this.w,m=s.i,p=s.j;if(h.globals.isXNumeric)t=(c=(h.globals.seriesX[m][p]-h.globals.minX)/this.invertedXRatio-a)+a*this.visibleI;else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var b=this.barHelpers.getZeroValueEncounters({i:m,j:p}),x=b.nonZeroColumns,y=b.zeroEncounters;x>0&&(a=this.seriesLen*a/x),t=c+a*this.visibleI,t-=a*y}else t=c+a*this.visibleI;this.isFunnel&&(o-=(this.barHelpers.getXForValue(this.series[m][p],o)-o)/2),l=this.barHelpers.getXForValue(this.series[m][p],o);var w=this.barHelpers.getBarpaths({barYPosition:t,barHeight:a,x1:o,x2:l,strokeWidth:n,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,i:m,j:p,w:h});return h.globals.isXNumeric||(c+=d),this.barHelpers.barBackground({j:p,i:m,y1:t-a*this.visibleI,y2:a*this.seriesLen,elSeries:u}),{pathTo:w.pathTo,pathFrom:w.pathFrom,x1:o,x:l,y:c,goalX:this.barHelpers.getGoalValues("x",o,null,m,p),barYPosition:t,barHeight:a}}},{key:"drawColumnPaths",value:function(e){var t,s=e.indexes,a=e.x,n=e.y,o=e.xDivision,l=e.barWidth,c=e.zeroH,d=e.strokeWidth,u=e.elSeries,h=this.w,m=s.realIndex,p=s.translationsIndex,b=s.i,x=s.j,y=s.bc;if(h.globals.isXNumeric){var w=this.getBarXForNumericXAxis({x:a,j:x,realIndex:m,barWidth:l});a=w.x,t=w.barXPosition}else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var k=this.barHelpers.getZeroValueEncounters({i:b,j:x}),N=k.nonZeroColumns,T=k.zeroEncounters;N>0&&(l=this.seriesLen*l/N),t=a+l*this.visibleI,t-=l*T}else t=a+l*this.visibleI;n=this.barHelpers.getYForValue(this.series[b][x],c,p);var E=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:l,y1:c,y2:n,strokeWidth:d,isReversed:this.isReversed,series:this.series,realIndex:m,i:b,j:x,w:h});return h.globals.isXNumeric||(a+=o),this.barHelpers.barBackground({bc:y,j:x,i:b,x1:t-d/2-l*this.visibleI,x2:l*this.seriesLen+d/2,elSeries:u}),{pathTo:E.pathTo,pathFrom:E.pathFrom,x:a,y:n,goalY:this.barHelpers.getGoalValues("y",null,c,b,x,p),barXPosition:t,barWidth:l}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,s=e.barWidth,a=e.realIndex,n=e.j,o=this.w,l=a;return o.globals.seriesX[a].length||(l=o.globals.maxValsInArrayIndex),Pe.isNumber(o.globals.seriesX[l][n])&&(t=(o.globals.seriesX[l][n]-o.globals.minX)/this.xRatio-s*this.seriesLen/2),{barXPosition:t+s*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var s=this.w,a="M 0 0",n=0;n<s.globals.previousPaths.length;n++){var o=s.globals.previousPaths[n];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&s.globals.previousPaths[n].paths[t]!==void 0&&(a=s.globals.previousPaths[n].paths[t].d)}return a}}]),r})(),qF=(function(r){mb(t,$m);var e=fb(t);function t(){return Rt(this,t),e.apply(this,arguments)}return It(t,[{key:"draw",value:function(s,a){var n=this,o=this.w;this.graphics=new ot(this.ctx),this.bar=new $m(this.ctx,this.xyRatios);var l=new na(this.ctx,o);s=l.getLogSeries(s),this.yRatio=l.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s),o.config.chart.stackType==="100%"&&(s=o.globals.comboCharts?a.map((function(b){return o.globals.seriesPercent[b]})):o.globals.seriesPercent.slice()),this.series=s,this.barHelpers.initializeStackedPrevVars(this);for(var c=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),d=0,u=0,h=function(b,x){var y=void 0,w=void 0,k=void 0,N=void 0,T=o.globals.comboCharts?a[b]:b,E=n.barHelpers.getGroupIndex(T),I=E.groupIndex,S=E.columnGroupIndex;n.groupCtx=n[o.globals.seriesGroups[I]];var A=[],P=[],O=0;n.yRatio.length>1&&(n.yaxisIndex=o.globals.seriesYAxisReverseMap[T][0],O=T),n.isReversed=o.config.yaxis[n.yaxisIndex]&&o.config.yaxis[n.yaxisIndex].reversed;var M=n.graphics.group({class:"apexcharts-series",seriesName:Pe.escapeString(o.globals.seriesNames[T]),rel:b+1,"data:realIndex":T});n.ctx.series.addCollapsedClassToSeries(M,T);var L=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":T}),B=n.graphics.group({class:"apexcharts-bar-goals-markers"}),G=0,X=0,H=n.initialPositions(d,u,y,w,k,N,O);u=H.y,G=H.barHeight,w=H.yDivision,N=H.zeroW,d=H.x,X=H.barWidth,y=H.xDivision,k=H.zeroH,o.globals.barHeight=G,o.globals.barWidth=X,n.barHelpers.initializeStackedXYVars(n),n.groupCtx.prevY.length===1&&n.groupCtx.prevY[0].every((function(re){return isNaN(re)}))&&(n.groupCtx.prevY[0]=n.groupCtx.prevY[0].map((function(){return k})),n.groupCtx.prevYF[0]=n.groupCtx.prevYF[0].map((function(){return 0})));for(var W=0;W<o.globals.dataPoints;W++){var ne=n.barHelpers.getStrokeWidth(b,W,T),U={indexes:{i:b,j:W,realIndex:T,translationsIndex:O,bc:x},strokeWidth:ne,x:d,y:u,elSeries:M,columnGroupIndex:S,seriesGroup:o.globals.seriesGroups[I]},z=null;n.isHorizontal?(z=n.drawStackedBarPaths(yt(yt({},U),{},{zeroW:N,barHeight:G,yDivision:w})),X=n.series[b][W]/n.invertedYRatio):(z=n.drawStackedColumnPaths(yt(yt({},U),{},{xDivision:y,barWidth:X,zeroH:k})),G=n.series[b][W]/n.yRatio[O]);var Q=n.barHelpers.drawGoalLine({barXPosition:z.barXPosition,barYPosition:z.barYPosition,goalX:z.goalX,goalY:z.goalY,barHeight:G,barWidth:X});Q&&B.add(Q),u=z.y,d=z.x,A.push(d),P.push(u);var q=n.barHelpers.getPathFillColor(s,b,W,T),Z="",J=o.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(n.barHelpers.arrBorderRadius[T][W]==="bottom"&&o.globals.series[T][W]>0||n.barHelpers.arrBorderRadius[T][W]==="top"&&o.globals.series[T][W]<0)&&(Z=J),M=n.renderSeries(yt(yt({realIndex:T,pathFill:q.color},q.useRangeColor?{lineFill:q.color}:{}),{},{j:W,i:b,columnGroupIndex:S,pathFrom:z.pathFrom,pathTo:z.pathTo,strokeWidth:ne,elSeries:M,x:d,y:u,series:s,barHeight:G,barWidth:X,elDataLabelsWrap:L,elGoalsMarkers:B,type:"bar",visibleSeries:S,classes:Z}))}o.globals.seriesXvalues[T]=A,o.globals.seriesYvalues[T]=P,n.groupCtx.prevY.push(n.groupCtx.yArrj),n.groupCtx.prevYF.push(n.groupCtx.yArrjF),n.groupCtx.prevYVal.push(n.groupCtx.yArrjVal),n.groupCtx.prevX.push(n.groupCtx.xArrj),n.groupCtx.prevXF.push(n.groupCtx.xArrjF),n.groupCtx.prevXVal.push(n.groupCtx.xArrjVal),c.add(M)},m=0,p=0;m<s.length;m++,p++)h(m,p);return c}},{key:"initialPositions",value:function(s,a,n,o,l,c,d){var u,h,m=this.w;if(this.isHorizontal){o=m.globals.gridHeight/m.globals.dataPoints;var p=m.config.plotOptions.bar.barHeight;u=String(p).indexOf("%")===-1?parseInt(p,10):o*parseInt(p,10)/100,c=m.globals.padHorizontal+(this.isReversed?m.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),a=(o-u)/2}else{h=n=m.globals.gridWidth/m.globals.dataPoints;var b=m.config.plotOptions.bar.columnWidth;m.globals.isXNumeric&&m.globals.dataPoints>1?h=(n=m.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(b).indexOf("%")===-1?h=parseInt(b,10):h*=parseInt(b,10)/100,l=this.isReversed?this.baseLineY[d]:m.globals.gridHeight-this.baseLineY[d],s=m.globals.padHorizontal+(n-h)/2}var x=m.globals.barGroups.length||1;return{x:s,y:a,yDivision:o,xDivision:n,barHeight:u/x,barWidth:h/x,zeroH:l,zeroW:c}}},{key:"drawStackedBarPaths",value:function(s){for(var a,n=s.indexes,o=s.barHeight,l=s.strokeWidth,c=s.zeroW,d=s.x,u=s.y,h=s.columnGroupIndex,m=s.seriesGroup,p=s.yDivision,b=s.elSeries,x=this.w,y=u+h*o,w=n.i,k=n.j,N=n.realIndex,T=n.translationsIndex,E=0,I=0;I<this.groupCtx.prevXF.length;I++)E+=this.groupCtx.prevXF[I][k];var S=w;if(x.config.series[N].name&&(S=m.indexOf(x.config.series[N].name)),S>0){var A=c;this.groupCtx.prevXVal[S-1][k]<0?A=this.series[w][k]>=0?this.groupCtx.prevX[S-1][k]+E-2*(this.isReversed?E:0):this.groupCtx.prevX[S-1][k]:this.groupCtx.prevXVal[S-1][k]>=0&&(A=this.series[w][k]>=0?this.groupCtx.prevX[S-1][k]:this.groupCtx.prevX[S-1][k]-E+2*(this.isReversed?E:0)),a=A}else a=c;d=this.series[w][k]===null?a:a+this.series[w][k]/this.invertedYRatio-2*(this.isReversed?this.series[w][k]/this.invertedYRatio:0);var P=this.barHelpers.getBarpaths({barYPosition:y,barHeight:o,x1:a,x2:d,strokeWidth:l,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,seriesGroup:m,i:w,j:k,w:x});return this.barHelpers.barBackground({j:k,i:w,y1:y,y2:o,elSeries:b}),u+=p,{pathTo:P.pathTo,pathFrom:P.pathFrom,goalX:this.barHelpers.getGoalValues("x",c,null,w,k,T),barXPosition:a,barYPosition:y,x:d,y:u}}},{key:"drawStackedColumnPaths",value:function(s){var a=s.indexes,n=s.x,o=s.y,l=s.xDivision,c=s.barWidth,d=s.zeroH,u=s.columnGroupIndex,h=s.seriesGroup,m=s.elSeries,p=this.w,b=a.i,x=a.j,y=a.bc,w=a.realIndex,k=a.translationsIndex;if(p.globals.isXNumeric){var N=p.globals.seriesX[w][x];N||(N=0),n=(N-p.globals.minX)/this.xRatio-c/2*p.globals.barGroups.length}for(var T,E=n+u*c,I=0,S=0;S<this.groupCtx.prevYF.length;S++)I+=isNaN(this.groupCtx.prevYF[S][x])?0:this.groupCtx.prevYF[S][x];var A=b;if(h&&(A=h.indexOf(p.globals.seriesNames[w])),A>0&&!p.globals.isXNumeric||A>0&&p.globals.isXNumeric&&p.globals.seriesX[w-1][x]===p.globals.seriesX[w][x]){var P,O,M,L=Math.min(this.yRatio.length+1,w+1);if(this.groupCtx.prevY[A-1]!==void 0&&this.groupCtx.prevY[A-1].length)for(var B=1;B<L;B++){var G;if(!isNaN((G=this.groupCtx.prevY[A-B])===null||G===void 0?void 0:G[x])){M=this.groupCtx.prevY[A-B][x];break}}for(var X=1;X<L;X++){var H,W;if(((H=this.groupCtx.prevYVal[A-X])===null||H===void 0?void 0:H[x])<0){O=this.series[b][x]>=0?M-I+2*(this.isReversed?I:0):M;break}if(((W=this.groupCtx.prevYVal[A-X])===null||W===void 0?void 0:W[x])>=0){O=this.series[b][x]>=0?M:M+I-2*(this.isReversed?I:0);break}}O===void 0&&(O=p.globals.gridHeight),T=(P=this.groupCtx.prevYF[0])!==null&&P!==void 0&&P.every((function(U){return U===0}))&&this.groupCtx.prevYF.slice(1,A).every((function(U){return U.every((function(z){return isNaN(z)}))}))?d:O}else T=d;o=this.series[b][x]?T-this.series[b][x]/this.yRatio[k]+2*(this.isReversed?this.series[b][x]/this.yRatio[k]:0):T;var ne=this.barHelpers.getColumnPaths({barXPosition:E,barWidth:c,y1:T,y2:o,yRatio:this.yRatio[k],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:h,realIndex:a.realIndex,i:b,j:x,w:p});return this.barHelpers.barBackground({bc:y,j:x,i:b,x1:E,x2:c,elSeries:m}),{pathTo:ne.pathTo,pathFrom:ne.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,d,b,x),barXPosition:E,x:p.globals.isXNumeric?n:n+l,y:o}}}]),t})(),VS=(function(r){mb(t,$m);var e=fb(t);function t(){return Rt(this,t),e.apply(this,arguments)}return It(t,[{key:"draw",value:function(s,a,n){var o=this,l=this.w,c=new ot(this.ctx),d=l.globals.comboCharts?a:l.config.chart.type,u=new Lo(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=l.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var h=new na(this.ctx,l);s=h.getLogSeries(s),this.series=s,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s);for(var m=c.group({class:"apexcharts-".concat(d,"-series apexcharts-plot-series")}),p=function(x){o.isBoxPlot=l.config.chart.type==="boxPlot"||l.config.series[x].type==="boxPlot";var y,w,k,N,T=void 0,E=void 0,I=[],S=[],A=l.globals.comboCharts?n[x]:x,P=o.barHelpers.getGroupIndex(A).columnGroupIndex,O=c.group({class:"apexcharts-series",seriesName:Pe.escapeString(l.globals.seriesNames[A]),rel:x+1,"data:realIndex":A});o.ctx.series.addCollapsedClassToSeries(O,A),s[x].length>0&&(o.visibleI=o.visibleI+1);var M,L,B=0;o.yRatio.length>1&&(o.yaxisIndex=l.globals.seriesYAxisReverseMap[A][0],B=A);var G=o.barHelpers.initialPositions(A);E=G.y,M=G.barHeight,w=G.yDivision,N=G.zeroW,T=G.x,L=G.barWidth,y=G.xDivision,k=G.zeroH,S.push(T+L/2);for(var X=c.group({class:"apexcharts-datalabels","data:realIndex":A}),H=c.group({class:"apexcharts-bar-goals-markers"}),W=function(U){var z=o.barHelpers.getStrokeWidth(x,U,A),Q=null,q={indexes:{i:x,j:U,realIndex:A,translationsIndex:B},x:T,y:E,strokeWidth:z,elSeries:O};Q=o.isHorizontal?o.drawHorizontalBoxPaths(yt(yt({},q),{},{yDivision:w,barHeight:M,zeroW:N})):o.drawVerticalBoxPaths(yt(yt({},q),{},{xDivision:y,barWidth:L,zeroH:k})),E=Q.y,T=Q.x;var Z=o.barHelpers.drawGoalLine({barXPosition:Q.barXPosition,barYPosition:Q.barYPosition,goalX:Q.goalX,goalY:Q.goalY,barHeight:M,barWidth:L});Z&&H.add(Z),U>0&&S.push(T+L/2),I.push(E),Q.pathTo.forEach((function(J,re){var de=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?Q.color[re]:l.globals.stroke.colors[x],Se=u.fillPath({seriesNumber:A,dataPointIndex:U,color:Q.color[re],value:s[x][U]});o.renderSeries({realIndex:A,pathFill:Se,lineFill:de,j:U,i:x,pathFrom:Q.pathFrom,pathTo:J,strokeWidth:z,elSeries:O,x:T,y:E,series:s,columnGroupIndex:P,barHeight:M,barWidth:L,elDataLabelsWrap:X,elGoalsMarkers:H,visibleSeries:o.visibleI,type:l.config.chart.type})}))},ne=0;ne<l.globals.dataPoints;ne++)W(ne);l.globals.seriesXvalues[A]=S,l.globals.seriesYvalues[A]=I,m.add(O)},b=0;b<s.length;b++)p(b);return m}},{key:"drawVerticalBoxPaths",value:function(s){var a=s.indexes,n=s.x;s.y;var o=s.xDivision,l=s.barWidth,c=s.zeroH,d=s.strokeWidth,u=this.w,h=new ot(this.ctx),m=a.i,p=a.j,b=u.config.plotOptions.candlestick.colors,x=this.boxOptions.colors,y=a.realIndex,w=function(ne){return Array.isArray(ne)?ne[y]:ne},k=w(b.upward),N=w(b.downward),T=this.yRatio[a.translationsIndex],E=this.getOHLCValue(y,p),I=c,S=c,A=E.o<E.c?[k]:[N];this.isBoxPlot&&(A=[w(x.lower),w(x.upper)]);var P=Math.min(E.o,E.c),O=Math.max(E.o,E.c),M=E.m;u.globals.isXNumeric&&(n=(u.globals.seriesX[y][p]-u.globals.minX)/this.xRatio-l/2);var L=n+l*this.visibleI;this.series[m][p]===void 0||this.series[m][p]===null?(P=c,O=c):(P=c-P/T,O=c-O/T,I=c-E.h/T,S=c-E.l/T,M=c-E.m/T);var B=h.move(L,c),G=h.move(L+l/2,P);if(u.globals.previousPaths.length>0&&(G=this.getPreviousPath(y,p,!0)),this.isOHLC){var X=L+l/2,H=c-E.o/T,W=c-E.c/T;B=[h.move(X,I)+h.line(X,S)+h.move(X,H)+h.line(L,H)+h.move(X,W)+h.line(L+l,W)]}else B=this.isBoxPlot?[h.move(L,P)+h.line(L+l/2,P)+h.line(L+l/2,I)+h.line(L+l/4,I)+h.line(L+l-l/4,I)+h.line(L+l/2,I)+h.line(L+l/2,P)+h.line(L+l,P)+h.line(L+l,M)+h.line(L,M)+h.line(L,P+d/2),h.move(L,M)+h.line(L+l,M)+h.line(L+l,O)+h.line(L+l/2,O)+h.line(L+l/2,S)+h.line(L+l-l/4,S)+h.line(L+l/4,S)+h.line(L+l/2,S)+h.line(L+l/2,O)+h.line(L,O)+h.line(L,M)+"z"]:[h.move(L,O)+h.line(L+l/2,O)+h.line(L+l/2,I)+h.line(L+l/2,O)+h.line(L+l,O)+h.line(L+l,P)+h.line(L+l/2,P)+h.line(L+l/2,S)+h.line(L+l/2,P)+h.line(L,P)+h.line(L,O-d/2)];return G+=h.move(L,P),u.globals.isXNumeric||(n+=o),{pathTo:B,pathFrom:G,x:n,y:O,goalY:this.barHelpers.getGoalValues("y",null,c,m,p,a.translationsIndex),barXPosition:L,color:A}}},{key:"drawHorizontalBoxPaths",value:function(s){var a=s.indexes;s.x;var n=s.y,o=s.yDivision,l=s.barHeight,c=s.zeroW,d=s.strokeWidth,u=this.w,h=new ot(this.ctx),m=a.i,p=a.j,b=this.boxOptions.colors.lower;this.isBoxPlot&&(b=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var x=this.invertedYRatio,y=a.realIndex,w=this.getOHLCValue(y,p),k=c,N=c,T=Math.min(w.o,w.c),E=Math.max(w.o,w.c),I=w.m;u.globals.isXNumeric&&(n=(u.globals.seriesX[y][p]-u.globals.minX)/this.invertedXRatio-l/2);var S=n+l*this.visibleI;this.series[m][p]===void 0||this.series[m][p]===null?(T=c,E=c):(T=c+T/x,E=c+E/x,k=c+w.h/x,N=c+w.l/x,I=c+w.m/x);var A=h.move(c,S),P=h.move(T,S+l/2);return u.globals.previousPaths.length>0&&(P=this.getPreviousPath(y,p,!0)),A=[h.move(T,S)+h.line(T,S+l/2)+h.line(k,S+l/2)+h.line(k,S+l/2-l/4)+h.line(k,S+l/2+l/4)+h.line(k,S+l/2)+h.line(T,S+l/2)+h.line(T,S+l)+h.line(I,S+l)+h.line(I,S)+h.line(T+d/2,S),h.move(I,S)+h.line(I,S+l)+h.line(E,S+l)+h.line(E,S+l/2)+h.line(N,S+l/2)+h.line(N,S+l-l/4)+h.line(N,S+l/4)+h.line(N,S+l/2)+h.line(E,S+l/2)+h.line(E,S)+h.line(I,S)+"z"],P+=h.move(T,S),u.globals.isXNumeric||(n+=o),{pathTo:A,pathFrom:P,x:E,y:n,goalX:this.barHelpers.getGoalValues("x",c,null,m,p),barYPosition:S,color:b}}},{key:"getOHLCValue",value:function(s,a){var n=this.w,o=new na(this.ctx,n),l=o.getLogValAtSeriesIndex(n.globals.seriesCandleH[s][a],s),c=o.getLogValAtSeriesIndex(n.globals.seriesCandleO[s][a],s),d=o.getLogValAtSeriesIndex(n.globals.seriesCandleM[s][a],s),u=o.getLogValAtSeriesIndex(n.globals.seriesCandleC[s][a],s),h=o.getLogValAtSeriesIndex(n.globals.seriesCandleL[s][a],s);return{o:this.isBoxPlot?l:c,h:this.isBoxPlot?c:l,m:d,l:this.isBoxPlot?u:h,c:this.isBoxPlot?h:u}}}]),t})(),l$=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,s=e.config.plotOptions[e.config.chart.type];return s.colorScale.ranges.length>0&&s.colorScale.ranges.map((function(a,n){a.from<=0&&(t=!0)})),t}},{key:"getShadeColor",value:function(e,t,s,a){var n=this.w,o=1,l=n.config.plotOptions[e].shadeIntensity,c=this.determineColor(e,t,s);n.globals.hasNegs||a?o=n.config.plotOptions[e].reverseNegativeShade?c.percent<0?c.percent/100*(1.25*l):(1-c.percent/100)*(1.25*l):c.percent<=0?1-(1+c.percent/100)*l:(1-c.percent/100)*l:(o=1-c.percent/100,e==="treemap"&&(o=(1-c.percent/100)*(1.25*l)));var d=c.color,u=new Pe;if(n.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var h=u.shadeColor(-1*o,c.color);d=Pe.hexToRgba(Pe.isColorHex(h)?h:Pe.rgb2hex(h),n.config.fill.opacity)}else{var m=u.shadeColor(o,c.color);d=Pe.hexToRgba(Pe.isColorHex(m)?m:Pe.rgb2hex(m),n.config.fill.opacity)}return{color:d,colorProps:c}}},{key:"determineColor",value:function(e,t,s){var a=this.w,n=a.globals.series[t][s],o=a.config.plotOptions[e],l=o.colorScale.inverse?s:t;o.distributed&&a.config.chart.type==="treemap"&&(l=s);var c=a.globals.colors[l],d=null,u=Math.min.apply(Math,za(a.globals.series[t])),h=Math.max.apply(Math,za(a.globals.series[t]));o.distributed||e!=="heatmap"||(u=a.globals.minY,h=a.globals.maxY),o.colorScale.min!==void 0&&(u=o.colorScale.min<a.globals.minY?o.colorScale.min:a.globals.minY,h=o.colorScale.max>a.globals.maxY?o.colorScale.max:a.globals.maxY);var m=Math.abs(h)+Math.abs(u),p=100*n/(m===0?m-1e-6:m);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map((function(b,x){if(n>=b.from&&n<=b.to){c=b.color,d=b.foreColor?b.foreColor:null,u=b.from,h=b.to;var y=Math.abs(h)+Math.abs(u);p=100*n/(y===0?y-1e-6:y)}})),{color:c,foreColor:d,percent:p}}},{key:"calculateDataLabels",value:function(e){var t=e.text,s=e.x,a=e.y,n=e.i,o=e.j,l=e.colorProps,c=e.fontSize,d=this.w.config.dataLabels,u=new ot(this.ctx),h=new Hm(this.ctx),m=null;if(d.enabled){m=u.group({class:"apexcharts-data-labels"});var p=d.offsetX,b=d.offsetY,x=s+p,y=a+parseFloat(d.style.fontSize)/3+b;h.plotDataLabelsText({x,y,text:t,i:n,j:o,color:l.foreColor,parent:m,fontSize:c,dataLabelsConfig:d})}return m}},{key:"addListeners",value:function(e){var t=new ot(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),r})(),R1e=(function(){function r(e,t){Rt(this,r),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new l$(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return It(r,[{key:"draw",value:function(e){var t=this.w,s=new ot(this.ctx),a=s.group({class:"apexcharts-heatmap"});a.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var n=t.globals.gridWidth/t.globals.dataPoints,o=t.globals.gridHeight/t.globals.series.length,l=0,c=!1;this.negRange=this.helpers.checkColorRange();var d=e.slice();t.config.yaxis[0].reversed&&(c=!0,d.reverse());for(var u=c?0:d.length-1;c?u<d.length:u>=0;c?u++:u--){var h=s.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:Pe.escapeString(t.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(h,u),t.config.chart.dropShadow.enabled){var m=t.config.chart.dropShadow;new gn(this.ctx).dropShadow(h,m,u)}for(var p=0,b=t.config.plotOptions.heatmap.shadeIntensity,x=0,y=0;y<t.globals.dataPoints;y++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*y<t.globals.seriesX[u][x])p+=n;else{if(x>=d[u].length)break;var w=this.helpers.getShadeColor(t.config.chart.type,u,x,this.negRange),k=w.color,N=w.colorProps;t.config.fill.type==="image"&&(k=new Lo(this.ctx).fillPath({seriesNumber:u,dataPointIndex:x,opacity:t.globals.hasNegs?N.percent<0?1-(1+N.percent/100):b+N.percent/100:N.percent/100,patternID:Pe.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:n,height:t.config.fill.image.height?t.config.fill.image.height:o}));var T=this.rectRadius,E=s.drawRect(p,l,n,o,T);if(E.attr({cx:p,cy:l}),E.node.classList.add("apexcharts-heatmap-rect"),h.add(E),E.attr({fill:k,i:u,index:u,j:x,val:e[u][x],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?k:t.globals.stroke.colors[0],color:k}),this.helpers.addListeners(E),t.config.chart.animations.enabled&&!t.globals.dataChanged){var I=1;t.globals.resized||(I=t.config.chart.animations.speed),this.animateHeatMap(E,p,l,n,o,I)}if(t.globals.dataChanged){var S=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){S=this.dynamicAnim.speed;var A=t.globals.previousPaths[u]&&t.globals.previousPaths[u][x]&&t.globals.previousPaths[u][x].color;A||(A="rgba(255, 255, 255, 0)"),this.animateHeatColor(E,Pe.isColorHex(A)?A:Pe.rgb2hex(A),Pe.isColorHex(k)?k:Pe.rgb2hex(k),S)}}var P=(0,t.config.dataLabels.formatter)(t.globals.series[u][x],{value:t.globals.series[u][x],seriesIndex:u,dataPointIndex:x,w:t}),O=this.helpers.calculateDataLabels({text:P,x:p+n/2,y:l+o/2,i:u,j:x,colorProps:N,series:d});O!==null&&h.add(O),p+=n,x++}l+=o,a.add(h)}var M=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?M.unshift(""):M.push(""),t.globals.yAxisScale[0].result=M,a}},{key:"animateHeatMap",value:function(e,t,s,a,n,o){var l=new g0(this.ctx);l.animateRect(e,{x:t+a/2,y:s+n/2,width:0,height:0},{x:t,y:s,width:a,height:n},o,(function(){l.animationCompleted(e)}))}},{key:"animateHeatColor",value:function(e,t,s,a){e.attr({fill:t}).animate(a).attr({fill:s})}}]),r})(),c$=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"drawYAxisTexts",value:function(e,t,s,a){var n=this.w,o=n.config.yaxis[0],l=n.globals.yLabelFormatters[0];return new ot(this.ctx).drawText({x:e+o.labels.offsetX,y:t+o.labels.offsetY,text:l(a,s),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[s]:o.labels.style.colors})}}]),r})(),d$=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var s=t.config.plotOptions.pie.customScale,a=t.globals.gridWidth/2,n=t.globals.gridHeight/2;this.translateX=a-a*s,this.translateY=n-n*s,this.dataLabelsGroup=new ot(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return It(r,[{key:"draw",value:function(e){var t=this,s=this.w,a=new ot(this.ctx),n=a.group({class:"apexcharts-pie"});if(s.globals.noData)return n;for(var o=0,l=0;l<e.length;l++)o+=Pe.negToZero(e[l]);var c=[],d=a.group();o===0&&(o=1e-5),e.forEach((function(N){t.maxY=Math.max(t.maxY,N)})),s.config.yaxis[0].max&&(this.maxY=s.config.yaxis[0].max),s.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(n);for(var u=0;u<e.length;u++){var h=this.fullAngle*Pe.negToZero(e[u])/o;c.push(h),this.chartType==="polarArea"?(c[u]=this.fullAngle/e.length,this.sliceSizes.push(s.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(s.globals.radialSize)}if(s.globals.dataChanged){for(var m,p=0,b=0;b<s.globals.previousPaths.length;b++)p+=Pe.negToZero(s.globals.previousPaths[b]);for(var x=0;x<s.globals.previousPaths.length;x++)m=this.fullAngle*Pe.negToZero(s.globals.previousPaths[x])/p,this.prevSectorAngleArr.push(m)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var y=a.drawCircle(this.donutSize);y.attr({cx:this.centerX,cy:this.centerY,fill:s.config.plotOptions.pie.donut.background?s.config.plotOptions.pie.donut.background:"transparent"}),d.add(y)}var w=this.drawArcs(c,e);if(this.sliceLabels.forEach((function(N){w.add(N)})),d.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s.config.plotOptions.pie.customScale,")")}),d.add(w),n.add(d),this.donutDataLabels.show){var k=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});n.add(k)}return s.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(n),n}},{key:"drawArcs",value:function(e,t){var s=this.w,a=new gn(this.ctx),n=new ot(this.ctx),o=new Lo(this.ctx),l=n.group({class:"apexcharts-slices"}),c=this.initialAngle,d=this.initialAngle,u=this.initialAngle,h=this.initialAngle;this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0;for(var m=0;m<e.length;m++){var p=n.group({class:"apexcharts-series apexcharts-pie-series",seriesName:Pe.escapeString(s.globals.seriesNames[m]),rel:m+1,"data:realIndex":m});l.add(p),d=h,u=(c=u)+e[m],h=d+this.prevSectorAngleArr[m];var b=u<c?this.fullAngle+u-c:u-c,x=o.fillPath({seriesNumber:m,size:this.sliceSizes[m],value:t[m]}),y=this.getChangedPath(d,h),w=n.drawPath({d:y,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[m]:this.lineColorArr,strokeWidth:0,fill:x,fillOpacity:s.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(m)});if(w.attr({index:0,j:m}),a.setSelectionFilter(w,0,m),s.config.chart.dropShadow.enabled){var k=s.config.chart.dropShadow;a.dropShadow(w,k,m)}this.addListeners(w,this.donutDataLabels),ot.setAttrs(w.node,{"data:angle":b,"data:startAngle":c,"data:strokeWidth":this.strokeWidth,"data:value":t[m]});var N={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?N=Pe.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize/1.25+s.config.plotOptions.pie.dataLabels.offset,(c+b/2)%this.fullAngle):this.chartType==="donut"&&(N=Pe.polarToCartesian(this.centerX,this.centerY,(s.globals.radialSize+this.donutSize)/2+s.config.plotOptions.pie.dataLabels.offset,(c+b/2)%this.fullAngle)),p.add(w);var T=0;if(!this.initialAnim||s.globals.resized||s.globals.dataChanged?this.animBeginArr.push(0):((T=b/this.fullAngle*s.config.chart.animations.speed)===0&&(T=1),this.animDur=T+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&s.globals.dataChanged?this.animatePaths(w,{size:this.sliceSizes[m],endAngle:u,startAngle:c,prevStartAngle:d,prevEndAngle:h,animateStartingPos:!0,i:m,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:s.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(w,{size:this.sliceSizes[m],endAngle:u,startAngle:c,i:m,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:T}),s.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&w.node.addEventListener("mouseup",this.pieClicked.bind(this,m)),s.globals.selectedDataPoints[0]!==void 0&&s.globals.selectedDataPoints[0].indexOf(m)>-1&&this.pieClicked(m),s.config.dataLabels.enabled){var E=N.x,I=N.y,S=100*b/this.fullAngle+"%";if(b!==0&&s.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[m]){var A=s.config.dataLabels.formatter;A!==void 0&&(S=A(s.globals.seriesPercent[m][0],{seriesIndex:m,w:s}));var P=s.globals.dataLabels.style.colors[m],O=n.group({class:"apexcharts-datalabels"}),M=n.drawText({x:E,y:I,text:S,textAnchor:"middle",fontSize:s.config.dataLabels.style.fontSize,fontFamily:s.config.dataLabels.style.fontFamily,fontWeight:s.config.dataLabels.style.fontWeight,foreColor:P});if(O.add(M),s.config.dataLabels.dropShadow.enabled){var L=s.config.dataLabels.dropShadow;a.dropShadow(M,L)}M.node.classList.add("apexcharts-pie-label"),s.config.chart.animations.animate&&s.globals.resized===!1&&(M.node.classList.add("apexcharts-pie-label-delay"),M.node.style.animationDelay=s.config.chart.animations.speed/940+"s"),this.sliceLabels.push(O)}}}return l}},{key:"addListeners",value:function(e,t){var s=new ot(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var s=this.w,a=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,n=a,o=t.startAngle,l=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(o=t.prevEndAngle,n=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===s.config.series.length-1&&(a+l>this.fullAngle?t.endAngle=t.endAngle-(a+l):a+l<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(a+l)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(e,o,l,a,n,t)}},{key:"animateArc",value:function(e,t,s,a,n,o){var l,c=this,d=this.w,u=new g0(this.ctx),h=o.size;(isNaN(t)||isNaN(n))&&(t=s,n=a,o.dur=0);var m=a,p=s,b=t<s?this.fullAngle+t-s:t-s;d.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(l=c.getPiePath({me:c,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:h}),e.attr({d:l})),o.dur!==0?e.animate(o.dur,o.animBeginArr[o.i]).after((function(){c.chartType!=="pie"&&c.chartType!=="donut"&&c.chartType!=="polarArea"||this.animate(d.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":c.strokeWidth}),o.i===d.config.series.length-1&&u.animationCompleted(e)})).during((function(x){m=b+(a-b)*x,o.animateStartingPos&&(m=n+(a-n)*x,p=t-n+(s-(t-n))*x),l=c.getPiePath({me:c,startAngle:p,angle:m,size:h}),e.node.setAttribute("data:pathOrig",l),e.attr({d:l})})):(l=c.getPiePath({me:c,startAngle:p,angle:a,size:h}),o.isTrack||(d.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",l),e.attr({d:l,"stroke-width":c.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,s=this.w,a=this,n=a.sliceSizes[e]+(s.config.plotOptions.pie.expandOnClick?4:0),o=s.globals.dom.Paper.findOne(".apexcharts-".concat(a.chartType.toLowerCase(),"-slice-").concat(e));if(o.attr("data:pieClicked")!=="true"){var l=s.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(l,(function(h){h.setAttribute("data:pieClicked","false");var m=h.getAttribute("data:pathOrig");m&&h.setAttribute("d",m)})),s.globals.capturedDataPointIndex=e,o.attr("data:pieClicked","true");var c=parseInt(o.attr("data:startAngle"),10),d=parseInt(o.attr("data:angle"),10);t=a.getPiePath({me:a,startAngle:c,angle:d,size:n}),d!==360&&o.plot(t)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var u=o.attr("data:pathOrig");o.attr({d:u})}}},{key:"getChangedPath",value:function(e,t){var s="";return this.dynamicAnim&&this.w.globals.dataChanged&&(s=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),s}},{key:"getPiePath",value:function(e){var t,s=e.me,a=e.startAngle,n=e.angle,o=e.size,l=new ot(this.ctx),c=a,d=Math.PI*(c-90)/180,u=n+a;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var h=Math.PI*(u-90)/180,m=s.centerX+o*Math.cos(d),p=s.centerY+o*Math.sin(d),b=s.centerX+o*Math.cos(h),x=s.centerY+o*Math.sin(h),y=Pe.polarToCartesian(s.centerX,s.centerY,s.donutSize,u),w=Pe.polarToCartesian(s.centerX,s.centerY,s.donutSize,c),k=n>180?1:0,N=["M",m,p,"A",o,o,0,k,1,b,x];return t=s.chartType==="donut"?[].concat(N,["L",y.x,y.y,"A",s.donutSize,s.donutSize,0,k,0,w.x,w.y,"L",m,p,"z"]).join(" "):s.chartType==="pie"||s.chartType==="polarArea"?[].concat(N,["L",s.centerX,s.centerY,"L",m,p]).join(" "):[].concat(N).join(" "),l.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,s=new s$(this.ctx),a=new ot(this.ctx),n=new c$(this.ctx),o=a.group(),l=a.group(),c=s.niceScale(0,Math.ceil(this.maxY),0),d=c.result.reverse(),u=c.result.length;this.maxY=c.niceMax;for(var h=t.globals.radialSize,m=h/(u-1),p=0;p<u-1;p++){var b=a.drawCircle(h);if(b.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var x=n.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,p,d[p]);l.add(x)}o.add(b),h-=m}this.drawSpokes(e),e.add(o),e.add(l)}},{key:"renderInnerDataLabels",value:function(e,t,s){var a=this.w,n=new ot(this.ctx),o=t.total.show;e.node.innerHTML="",e.node.style.opacity=s.opacity;var l,c,d=s.centerX,u=this.donutDataLabels.total.label?s.centerY:s.centerY-s.centerY/6;l=t.name.color===void 0?a.globals.colors[0]:t.name.color;var h=t.name.fontSize,m=t.name.fontFamily,p=t.name.fontWeight;c=t.value.color===void 0?a.config.chart.foreColor:t.value.color;var b=t.value.formatter,x="",y="";if(o?(l=t.total.color,h=t.total.fontSize,m=t.total.fontFamily,p=t.total.fontWeight,y=this.donutDataLabels.total.label?t.total.label:"",x=t.total.formatter(a)):a.globals.series.length===1&&(x=b(a.globals.series[0],a),y=a.globals.seriesNames[0]),y&&(y=t.name.formatter(y,t.total.show,a)),t.name.show){var w=n.drawText({x:d,y:u+parseFloat(t.name.offsetY),text:y,textAnchor:"middle",foreColor:l,fontSize:h,fontWeight:p,fontFamily:m});w.node.classList.add("apexcharts-datalabel-label"),e.add(w)}if(t.value.show){var k=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,N=n.drawText({x:d,y:u+k,text:x,textAnchor:"middle",foreColor:c,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});N.node.classList.add("apexcharts-datalabel-value"),e.add(N)}return e}},{key:"printInnerLabels",value:function(e,t,s,a){var n,o=this.w;a?n=e.name.color===void 0?o.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:e.name.color:o.globals.series.length>1&&e.total.show&&(n=e.total.color);var l=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),c=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");s=(0,e.value.formatter)(s,o),a||typeof e.total.formatter!="function"||(s=e.total.formatter(o));var d=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,d,o):"",l!==null&&(l.textContent=t),c!==null&&(c.textContent=s),l!==null&&(l.style.fill=n)}},{key:"printDataLabelsInner",value:function(e,t){var s=this.w,a=e.getAttribute("data:value"),n=s.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];s.globals.series.length>1&&this.printInnerLabels(t,n,a,e);var o=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");o!==null&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,s=this.w,a=new ot(this.ctx),n=s.config.plotOptions.polarArea.spokes;if(n.strokeWidth!==0){for(var o=[],l=360/s.globals.series.length,c=0;c<s.globals.series.length;c++)o.push(Pe.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize,s.config.plotOptions.pie.startAngle+l*c));o.forEach((function(d,u){var h=a.drawLine(d.x,d.y,t.centerX,t.centerY,Array.isArray(n.connectorColors)?n.connectorColors[u]:n.connectorColors);e.add(h)}))}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),s=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(s)}}}]),r})(),I1e=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new ot(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new na(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return It(r,[{key:"draw",value:function(e){var t=this,s=this.w,a=new Lo(this.ctx),n=[],o=new Hm(this.ctx);e.length&&(this.dataPointsLen=e[s.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var l=s.globals.gridWidth/2,c=s.globals.gridHeight/2,d=l+s.config.plotOptions.radar.offsetX,u=c+s.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(d||0,", ").concat(u||0,")")}),m=[],p=null,b=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach((function(y,w){var k=y.length===s.globals.dataPoints,N=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":k,seriesName:Pe.escapeString(s.globals.seriesNames[w]),rel:w+1,"data:realIndex":w});t.dataRadiusOfPercent[w]=[],t.dataRadius[w]=[],t.angleArr[w]=[],y.forEach((function(B,G){var X=Math.abs(t.maxValue-t.minValue);B-=t.minValue,t.isLog&&(B=t.coreUtils.getLogVal(t.logBase,B,0)),t.dataRadiusOfPercent[w][G]=B/X,t.dataRadius[w][G]=t.dataRadiusOfPercent[w][G]*t.size,t.angleArr[w][G]=G*t.disAngle})),m=t.getDataPointsPos(t.dataRadius[w],t.angleArr[w]);var T=t.createPaths(m,{x:0,y:0});p=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),b=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":w}),s.globals.delayedElements.push({el:p.node,index:w});var E={i:w,realIndex:w,animationDelay:w,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:s.globals.stroke.colors[w],strokeLineCap:s.config.stroke.lineCap},I=null;s.globals.previousPaths.length>0&&(I=t.getPreviousPath(w));for(var S=0;S<T.linePathsTo.length;S++){var A=t.graphics.renderPaths(yt(yt({},E),{},{pathFrom:I===null?T.linePathsFrom[S]:I,pathTo:T.linePathsTo[S],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[w]:t.strokeWidth,fill:"none",drawShadow:!1}));N.add(A);var P=a.fillPath({seriesNumber:w}),O=t.graphics.renderPaths(yt(yt({},E),{},{pathFrom:I===null?T.areaPathsFrom[S]:I,pathTo:T.areaPathsTo[S],strokeWidth:0,fill:P,drawShadow:!1}));if(s.config.chart.dropShadow.enabled){var M=new gn(t.ctx),L=s.config.chart.dropShadow;M.dropShadow(O,Object.assign({},L,{noUserSpaceOnUse:!0}),w)}N.add(O)}y.forEach((function(B,G){var X=new y0(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:w,dataPointIndex:G}),H=t.graphics.drawMarker(m[G].x,m[G].y,X);H.attr("rel",G),H.attr("j",G),H.attr("index",w),H.node.setAttribute("default-marker-size",X.pSize);var W=t.graphics.group({class:"apexcharts-series-markers"});W&&W.add(H),p.add(W),N.add(p);var ne=s.config.dataLabels;if(ne.enabled){var U=ne.formatter(s.globals.series[w][G],{seriesIndex:w,dataPointIndex:G,w:s});o.plotDataLabelsText({x:m[G].x,y:m[G].y,text:U,textAnchor:"middle",i:w,j:w,parent:b,offsetCorrection:!1,dataLabelsConfig:yt({},ne)})}N.add(b)})),n.push(N)})),this.drawPolygons({parent:h}),s.config.xaxis.labels.show){var x=this.drawXAxisTexts();h.add(x)}return n.forEach((function(y){h.add(y)})),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(e){for(var t=this,s=this.w,a=e.parent,n=new c$(this.ctx),o=s.globals.yAxisScale[0].result.reverse(),l=o.length,c=[],d=this.size/(l-1),u=0;u<l;u++)c[u]=d*u;c.reverse();var h=[],m=[];c.forEach((function(p,b){var x=Pe.getPolygonPos(p,t.dataPointsLen),y="";x.forEach((function(w,k){if(b===0){var N=t.graphics.drawLine(w.x,w.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[k]:t.polygons.connectorColors);m.push(N)}k===0&&t.yaxisLabelsTextsPos.push({x:w.x,y:w.y}),y+=w.x+","+w.y+" "})),h.push(y)})),h.forEach((function(p,b){var x=t.polygons.strokeColors,y=t.polygons.strokeWidth,w=t.graphics.drawPolygon(p,Array.isArray(x)?x[b]:x,Array.isArray(y)?y[b]:y,s.globals.radarPolygons.fill.colors[b]);a.add(w)})),m.forEach((function(p){a.add(p)})),s.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(p,b){var x=n.drawYAxisTexts(p.x,p.y,b,o[b]);t.yaxisLabels.add(x)}))}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,s=t.config.xaxis.labels,a=this.graphics.group({class:"apexcharts-xaxis"}),n=Pe.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach((function(o,l){var c=t.config.xaxis.labels.formatter,d=new Hm(e.ctx);if(n[l]){var u=e.getTextPos(n[l],e.size),h=c(o,{seriesIndex:-1,dataPointIndex:l,w:t});d.plotDataLabelsText({x:u.newX,y:u.newY,text:h,textAnchor:u.textAnchor,i:l,j:l,parent:a,className:"apexcharts-xaxis-label",color:Array.isArray(s.style.colors)&&s.style.colors[l]?s.style.colors[l]:"#a8a8a8",dataLabelsConfig:yt({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},s),offsetCorrection:!1}).on("click",(function(m){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var p=Object.assign({},t,{labelIndex:l});t.config.chart.events.xAxisLabelClick(m,e.ctx,p)}}))}})),a}},{key:"createPaths",value:function(e,t){var s=this,a=[],n=[],o=[],l=[];if(e.length){n=[this.graphics.move(t.x,t.y)],l=[this.graphics.move(t.x,t.y)];var c=this.graphics.move(e[0].x,e[0].y),d=this.graphics.move(e[0].x,e[0].y);e.forEach((function(u,h){c+=s.graphics.line(u.x,u.y),d+=s.graphics.line(u.x,u.y),h===e.length-1&&(c+="Z",d+="Z")})),a.push(c),o.push(d)}return{linePathsFrom:n,linePathsTo:a,areaPathsFrom:l,areaPathsTo:o}}},{key:"getTextPos",value:function(e,t){var s="middle",a=e.x,n=e.y;return Math.abs(e.x)>=10?e.x>0?(s="start",a+=10):e.x<0&&(s="end",a-=10):s="middle",Math.abs(e.y)>=t-10&&(e.y<0?n-=10:e.y>0&&(n+=10)),{textAnchor:s,newX:a,newY:n}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,s=null,a=0;a<t.globals.previousPaths.length;a++){var n=t.globals.previousPaths[a];n.paths.length>0&&parseInt(n.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[a].paths[0]!==void 0&&(s=t.globals.previousPaths[a].paths[0].d)}return s}},{key:"getDataPointsPos",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var a=[],n=0;n<s;n++){var o={};o.x=e[n]*Math.sin(t[n]),o.y=-e[n]*Math.cos(t[n]),a.push(o)}return a}}]),r})(),D1e=(function(r){mb(t,d$);var e=fb(t);function t(s){var a;Rt(this,t),(a=e.call(this,s)).ctx=s,a.w=s.w,a.animBeginArr=[0],a.animDur=0;var n=a.w;return a.startAngle=n.config.plotOptions.radialBar.startAngle,a.endAngle=n.config.plotOptions.radialBar.endAngle,a.totalAngle=Math.abs(n.config.plotOptions.radialBar.endAngle-n.config.plotOptions.radialBar.startAngle),a.trackStartAngle=n.config.plotOptions.radialBar.track.startAngle,a.trackEndAngle=n.config.plotOptions.radialBar.track.endAngle,a.barLabels=a.w.config.plotOptions.radialBar.barLabels,a.donutDataLabels=a.w.config.plotOptions.radialBar.dataLabels,a.radialDataLabels=a.donutDataLabels,a.trackStartAngle||(a.trackStartAngle=a.startAngle),a.trackEndAngle||(a.trackEndAngle=a.endAngle),a.endAngle===360&&(a.endAngle=359.99),a.margin=parseInt(n.config.plotOptions.radialBar.track.margin,10),a.onBarLabelClick=a.onBarLabelClick.bind(kH(a)),a}return It(t,[{key:"draw",value:function(s){var a=this.w,n=new ot(this.ctx),o=n.group({class:"apexcharts-radialbar"});if(a.globals.noData)return o;var l=n.group(),c=this.defaultSize/2,d=a.globals.gridWidth/2,u=this.defaultSize/2.05;a.config.chart.sparkline.enabled||(u=u-a.config.stroke.width-a.config.chart.dropShadow.blur);var h=a.globals.fill.colors;if(a.config.plotOptions.radialBar.track.show){var m=this.drawTracks({size:u,centerX:d,centerY:c,colorArr:h,series:s});l.add(m)}var p=this.drawArcs({size:u,centerX:d,centerY:c,colorArr:h,series:s}),b=360;a.config.plotOptions.radialBar.startAngle<0&&(b=this.totalAngle);var x=(360-b)/360;if(a.globals.radialSize=u-u*x,this.radialDataLabels.value.show){var y=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);a.globals.radialSize+=y*x}return l.add(p.g),a.config.plotOptions.radialBar.hollow.position==="front"&&(p.g.add(p.elHollow),p.dataLabels&&p.g.add(p.dataLabels)),o.add(l),o}},{key:"drawTracks",value:function(s){var a=this.w,n=new ot(this.ctx),o=n.group({class:"apexcharts-tracks"}),l=new gn(this.ctx),c=new Lo(this.ctx),d=this.getStrokeWidth(s);s.size=s.size-d/2;for(var u=0;u<s.series.length;u++){var h=n.group({class:"apexcharts-radialbar-track apexcharts-track"});o.add(h),h.attr({rel:u+1}),s.size=s.size-d-this.margin;var m=a.config.plotOptions.radialBar.track,p=c.fillPath({seriesNumber:0,size:s.size,fillColors:Array.isArray(m.background)?m.background[u]:m.background,solid:!0}),b=this.trackStartAngle,x=this.trackEndAngle;Math.abs(x)+Math.abs(b)>=360&&(x=360-Math.abs(this.startAngle)-.1);var y=n.drawPath({d:"",stroke:p,strokeWidth:d*parseInt(m.strokeWidth,10)/100,fill:"none",strokeOpacity:m.opacity,classes:"apexcharts-radialbar-area"});if(m.dropShadow.enabled){var w=m.dropShadow;l.dropShadow(y,w)}h.add(y),y.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(y,{centerX:s.centerX,centerY:s.centerY,endAngle:x,startAngle:b,size:s.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return o}},{key:"drawArcs",value:function(s){var a=this.w,n=new ot(this.ctx),o=new Lo(this.ctx),l=new gn(this.ctx),c=n.group(),d=this.getStrokeWidth(s);s.size=s.size-d/2;var u=a.config.plotOptions.radialBar.hollow.background,h=s.size-d*s.series.length-this.margin*s.series.length-d*parseInt(a.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,m=h-a.config.plotOptions.radialBar.hollow.margin;a.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(s,c,h,u));var p=this.drawHollow({size:m,centerX:s.centerX,centerY:s.centerY,fill:u||"transparent"});if(a.config.plotOptions.radialBar.hollow.dropShadow.enabled){var b=a.config.plotOptions.radialBar.hollow.dropShadow;l.dropShadow(p,b)}var x=1;!this.radialDataLabels.total.show&&a.globals.series.length>1&&(x=0);var y=null;if(this.radialDataLabels.show){var w=a.globals.dom.Paper.findOne(".apexcharts-datalabels-group");y=this.renderInnerDataLabels(w,this.radialDataLabels,{hollowSize:h,centerX:s.centerX,centerY:s.centerY,opacity:x})}a.config.plotOptions.radialBar.hollow.position==="back"&&(c.add(p),y&&c.add(y));var k=!1;a.config.plotOptions.radialBar.inverseOrder&&(k=!0);for(var N=k?s.series.length-1:0;k?N>=0:N<s.series.length;k?N--:N++){var T=n.group({class:"apexcharts-series apexcharts-radial-series",seriesName:Pe.escapeString(a.globals.seriesNames[N])});c.add(T),T.attr({rel:N+1,"data:realIndex":N}),this.ctx.series.addCollapsedClassToSeries(T,N),s.size=s.size-d-this.margin;var E=o.fillPath({seriesNumber:N,size:s.size,value:s.series[N]}),I=this.startAngle,S=void 0,A=Pe.negToZero(s.series[N]>100?100:s.series[N])/100,P=Math.round(this.totalAngle*A)+this.startAngle,O=void 0;a.globals.dataChanged&&(S=this.startAngle,O=Math.round(this.totalAngle*Pe.negToZero(a.globals.previousPaths[N])/100)+S),Math.abs(P)+Math.abs(I)>360&&(P-=.01),Math.abs(O)+Math.abs(S)>360&&(O-=.01);var M=P-I,L=Array.isArray(a.config.stroke.dashArray)?a.config.stroke.dashArray[N]:a.config.stroke.dashArray,B=n.drawPath({d:"",stroke:E,strokeWidth:d,fill:"none",fillOpacity:a.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+N,strokeDashArray:L});if(ot.setAttrs(B.node,{"data:angle":M,"data:value":s.series[N]}),a.config.chart.dropShadow.enabled){var G=a.config.chart.dropShadow;l.dropShadow(B,G,N)}if(l.setSelectionFilter(B,0,N),this.addListeners(B,this.radialDataLabels),T.add(B),B.attr({index:0,j:N}),this.barLabels.enabled){var X=Pe.polarToCartesian(s.centerX,s.centerY,s.size,I),H=this.barLabels.formatter(a.globals.seriesNames[N],{seriesIndex:N,w:a}),W=["apexcharts-radialbar-label"];this.barLabels.onClick||W.push("apexcharts-no-click");var ne=this.barLabels.useSeriesColors?a.globals.colors[N]:a.config.chart.foreColor;ne||(ne=a.config.chart.foreColor);var U=X.x+this.barLabels.offsetX,z=X.y+this.barLabels.offsetY,Q=n.drawText({x:U,y:z,text:H,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:ne,cssClass:W.join(" ")});Q.on("click",this.onBarLabelClick),Q.attr({rel:N+1}),I!==0&&Q.attr({"transform-origin":"".concat(U," ").concat(z),transform:"rotate(".concat(I," 0 0)")}),T.add(Q)}var q=0;!this.initialAnim||a.globals.resized||a.globals.dataChanged||(q=a.config.chart.animations.speed),a.globals.dataChanged&&(q=a.config.chart.animations.dynamicAnimation.speed),this.animDur=q/(1.2*s.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(B,{centerX:s.centerX,centerY:s.centerY,endAngle:P,startAngle:I,prevEndAngle:O,prevStartAngle:S,size:s.size,i:N,totalItems:2,animBeginArr:this.animBeginArr,dur:q,shouldSetPrevPaths:!0})}return{g:c,elHollow:p,dataLabels:y}}},{key:"drawHollow",value:function(s){var a=new ot(this.ctx).drawCircle(2*s.size);return a.attr({class:"apexcharts-radialbar-hollow",cx:s.centerX,cy:s.centerY,r:s.size,fill:s.fill}),a}},{key:"drawHollowImage",value:function(s,a,n,o){var l=this.w,c=new Lo(this.ctx),d=Pe.randomId(),u=l.config.plotOptions.radialBar.hollow.image;if(l.config.plotOptions.radialBar.hollow.imageClipped)c.clippedImgArea({width:n,height:n,image:u,patternID:"pattern".concat(l.globals.cuid).concat(d)}),o="url(#pattern".concat(l.globals.cuid).concat(d,")");else{var h=l.config.plotOptions.radialBar.hollow.imageWidth,m=l.config.plotOptions.radialBar.hollow.imageHeight;if(h===void 0&&m===void 0){var p=l.globals.dom.Paper.image(u,(function(x){this.move(s.centerX-x.width/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-x.height/2+l.config.plotOptions.radialBar.hollow.imageOffsetY)}));a.add(p)}else{var b=l.globals.dom.Paper.image(u,(function(x){this.move(s.centerX-h/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-m/2+l.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(h,m)}));a.add(b)}}return o}},{key:"getStrokeWidth",value:function(s){var a=this.w;return s.size*(100-parseInt(a.config.plotOptions.radialBar.hollow.size,10))/100/(s.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(s){var a=parseInt(s.target.getAttribute("rel"),10)-1,n=this.barLabels.onClick,o=this.w;n&&n(o.globals.seriesNames[a],{w:o,seriesIndex:a})}}]),t})(),O1e=(function(r){mb(t,$m);var e=fb(t);function t(){return Rt(this,t),e.apply(this,arguments)}return It(t,[{key:"draw",value:function(s,a){var n=this.w,o=new ot(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=s,this.seriesRangeStart=n.globals.seriesRangeStart,this.seriesRangeEnd=n.globals.seriesRangeEnd,this.barHelpers.initVariables(s);for(var l=o.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),c=0;c<s.length;c++){var d,u,h,m,p=void 0,b=void 0,x=n.globals.comboCharts?a[c]:c,y=this.barHelpers.getGroupIndex(x).columnGroupIndex,w=o.group({class:"apexcharts-series",seriesName:Pe.escapeString(n.globals.seriesNames[x]),rel:c+1,"data:realIndex":x});this.ctx.series.addCollapsedClassToSeries(w,x),s[c].length>0&&(this.visibleI=this.visibleI+1);var k=0,N=0,T=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[x][0],T=x);var E=this.barHelpers.initialPositions(x);b=E.y,m=E.zeroW,p=E.x,N=E.barWidth,k=E.barHeight,d=E.xDivision,u=E.yDivision,h=E.zeroH;for(var I=o.group({class:"apexcharts-datalabels","data:realIndex":x}),S=o.group({class:"apexcharts-rangebar-goals-markers"}),A=0;A<n.globals.dataPoints;A++){var P=this.barHelpers.getStrokeWidth(c,A,x),O=this.seriesRangeStart[c][A],M=this.seriesRangeEnd[c][A],L=null,B=null,G=null,X={x:p,y:b,strokeWidth:P,elSeries:w},H=this.seriesLen;if(n.config.plotOptions.bar.rangeBarGroupRows&&(H=1),n.config.series[c].data[A]===void 0)break;if(this.isHorizontal){G=b+k*this.visibleI;var W=(u-k*H)/2;if(n.config.series[c].data[A].x){var ne=this.detectOverlappingBars({i:c,j:A,barYPosition:G,srty:W,barHeight:k,yDivision:u,initPositions:E});k=ne.barHeight,G=ne.barYPosition}N=(L=this.drawRangeBarPaths(yt({indexes:{i:c,j:A,realIndex:x},barHeight:k,barYPosition:G,zeroW:m,yDivision:u,y1:O,y2:M},X))).barWidth}else{n.globals.isXNumeric&&(p=(n.globals.seriesX[c][A]-n.globals.minX)/this.xRatio-N/2),B=p+N*this.visibleI;var U=(d-N*H)/2;if(n.config.series[c].data[A].x){var z=this.detectOverlappingBars({i:c,j:A,barXPosition:B,srtx:U,barWidth:N,xDivision:d,initPositions:E});N=z.barWidth,B=z.barXPosition}k=(L=this.drawRangeColumnPaths(yt({indexes:{i:c,j:A,realIndex:x,translationsIndex:T},barWidth:N,barXPosition:B,zeroH:h,xDivision:d},X))).barHeight}var Q=this.barHelpers.drawGoalLine({barXPosition:L.barXPosition,barYPosition:G,goalX:L.goalX,goalY:L.goalY,barHeight:k,barWidth:N});Q&&S.add(Q),b=L.y,p=L.x;var q=this.barHelpers.getPathFillColor(s,c,A,x);this.renderSeries({realIndex:x,pathFill:q.color,lineFill:q.useRangeColor?q.color:n.globals.stroke.colors[x],j:A,i:c,x:p,y:b,y1:O,y2:M,pathFrom:L.pathFrom,pathTo:L.pathTo,strokeWidth:P,elSeries:w,series:s,barHeight:k,barWidth:N,barXPosition:B,barYPosition:G,columnGroupIndex:y,elDataLabelsWrap:I,elGoalsMarkers:S,visibleSeries:this.visibleI,type:"rangebar"})}l.add(w)}return l}},{key:"detectOverlappingBars",value:function(s){var a=s.i,n=s.j,o=s.barYPosition,l=s.barXPosition,c=s.srty,d=s.srtx,u=s.barHeight,h=s.barWidth,m=s.yDivision,p=s.xDivision,b=s.initPositions,x=this.w,y=[],w=x.config.series[a].data[n].rangeName,k=x.config.series[a].data[n].x,N=Array.isArray(k)?k.join(" "):k,T=x.globals.labels.map((function(I){return Array.isArray(I)?I.join(" "):I})).indexOf(N),E=x.globals.seriesRange[a].findIndex((function(I){return I.x===N&&I.overlaps.length>0}));return this.isHorizontal?(o=x.config.plotOptions.bar.rangeBarGroupRows?c+m*T:c+u*this.visibleI+m*T,E>-1&&!x.config.plotOptions.bar.rangeBarOverlap&&(y=x.globals.seriesRange[a][E].overlaps).indexOf(w)>-1&&(o=(u=b.barHeight/y.length)*this.visibleI+m*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+y.indexOf(w))+m*T)):(T>-1&&!x.globals.timescaleLabels.length&&(l=x.config.plotOptions.bar.rangeBarGroupRows?d+p*T:d+h*this.visibleI+p*T),E>-1&&!x.config.plotOptions.bar.rangeBarOverlap&&(y=x.globals.seriesRange[a][E].overlaps).indexOf(w)>-1&&(l=(h=b.barWidth/y.length)*this.visibleI+p*(100-parseInt(this.barOptions.barWidth,10))/100/2+h*(this.visibleI+y.indexOf(w))+p*T)),{barYPosition:o,barXPosition:l,barHeight:u,barWidth:h}}},{key:"drawRangeColumnPaths",value:function(s){var a=s.indexes,n=s.x,o=s.xDivision,l=s.barWidth,c=s.barXPosition,d=s.zeroH,u=this.w,h=a.i,m=a.j,p=a.realIndex,b=a.translationsIndex,x=this.yRatio[b],y=this.getRangeValue(p,m),w=Math.min(y.start,y.end),k=Math.max(y.start,y.end);this.series[h][m]===void 0||this.series[h][m]===null?w=d:(w=d-w/x,k=d-k/x);var N=Math.abs(k-w),T=this.barHelpers.getColumnPaths({barXPosition:c,barWidth:l,y1:w,y2:k,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:p,i:p,j:m,w:u});if(u.globals.isXNumeric){var E=this.getBarXForNumericXAxis({x:n,j:m,realIndex:p,barWidth:l});n=E.x,c=E.barXPosition}else n+=o;return{pathTo:T.pathTo,pathFrom:T.pathFrom,barHeight:N,x:n,y:y.start<0&&y.end<0?w:k,goalY:this.barHelpers.getGoalValues("y",null,d,h,m,b),barXPosition:c}}},{key:"preventBarOverflow",value:function(s){var a=this.w;return s<0&&(s=0),s>a.globals.gridWidth&&(s=a.globals.gridWidth),s}},{key:"drawRangeBarPaths",value:function(s){var a=s.indexes,n=s.y,o=s.y1,l=s.y2,c=s.yDivision,d=s.barHeight,u=s.barYPosition,h=s.zeroW,m=this.w,p=a.realIndex,b=a.j,x=this.preventBarOverflow(h+o/this.invertedYRatio),y=this.preventBarOverflow(h+l/this.invertedYRatio),w=this.getRangeValue(p,b),k=Math.abs(y-x),N=this.barHelpers.getBarpaths({barYPosition:u,barHeight:d,x1:x,x2:y,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:p,realIndex:p,j:b,w:m});return m.globals.isXNumeric||(n+=c),{pathTo:N.pathTo,pathFrom:N.pathFrom,barWidth:k,x:w.start<0&&w.end<0?x:y,goalX:this.barHelpers.getGoalValues("x",h,null,p,b),y:n}}},{key:"getRangeValue",value:function(s,a){var n=this.w;return{start:n.globals.seriesRangeStart[s][a],end:n.globals.seriesRangeEnd[s][a]}}}]),t})(),M1e=(function(){function r(e){Rt(this,r),this.w=e.w,this.lineCtx=e}return It(r,[{key:"sameValueSeriesFix",value:function(e,t){var s=this.w;if((s.config.fill.type==="gradient"||s.config.fill.type[e]==="gradient")&&new na(this.lineCtx.ctx,s).seriesHaveSameValues(e)){var a=t[e].slice();a[a.length-1]=a[a.length-1]+1e-6,t[e]=a}return t}},{key:"calculatePoints",value:function(e){var t=e.series,s=e.realIndex,a=e.x,n=e.y,o=e.i,l=e.j,c=e.prevY,d=this.w,u=[],h=[],m=this.lineCtx.categoryAxisCorrection+d.config.markers.offsetX;return d.globals.isXNumeric&&(m=(d.globals.seriesX[s][0]-d.globals.minX)/this.lineCtx.xRatio+d.config.markers.offsetX),l===0&&(u.push(m),h.push(Pe.isNumber(t[o][0])?c+d.config.markers.offsetY:null)),u.push(a+d.config.markers.offsetX),h.push(Pe.isNumber(t[o][l+1])?n+d.config.markers.offsetY:null),{x:u,y:h}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,s=e.pathFromArea,a=e.realIndex,n=this.w,o=0;o<n.globals.previousPaths.length;o++){var l=n.globals.previousPaths[o];(l.type==="line"||l.type==="area")&&l.paths.length>0&&parseInt(l.realIndex,10)===parseInt(a,10)&&(l.type==="line"?(this.lineCtx.appendPathFrom=!1,t=n.globals.previousPaths[o].paths[0].d):l.type==="area"&&(this.lineCtx.appendPathFrom=!1,s=n.globals.previousPaths[o].paths[0].d,n.config.stroke.show&&n.globals.previousPaths[o].paths[1]&&(t=n.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:t,pathFromArea:s}}},{key:"determineFirstPrevY",value:function(e){var t,s,a,n=e.i,o=e.realIndex,l=e.series,c=e.prevY,d=e.lineYPosition,u=e.translationsIndex,h=this.w,m=h.config.chart.stacked&&!h.globals.comboCharts||h.config.chart.stacked&&h.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[o])===null||t===void 0?void 0:t.type)==="bar"||((s=this.w.config.series[o])===null||s===void 0?void 0:s.type)==="column");if(((a=l[n])===null||a===void 0?void 0:a[0])!==void 0)c=(d=m&&n>0?this.lineCtx.prevSeriesY[n-1][0]:this.lineCtx.zeroY)-l[n][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?l[n][0]/this.lineCtx.yRatio[u]:0);else if(m&&n>0&&l[n][0]===void 0){for(var p=n-1;p>=0;p--)if(l[p][0]!==null&&l[p][0]!==void 0){c=d=this.lineCtx.prevSeriesY[p][0];break}}return{prevY:c,lineYPosition:d}}}]),r})(),F1e=function(r){for(var e,t,s,a,n=(function(u){for(var h=[],m=u[0],p=u[1],b=h[0]=HS(m,p),x=1,y=u.length-1;x<y;x++)m=p,p=u[x+1],h[x]=.5*(b+(b=HS(m,p)));return h[x]=b,h})(r),o=r.length-1,l=[],c=0;c<o;c++)s=HS(r[c],r[c+1]),Math.abs(s)<1e-6?n[c]=n[c+1]=0:(a=(e=n[c]/s)*e+(t=n[c+1]/s)*t)>9&&(a=3*s/Math.sqrt(a),n[c]=a*e,n[c+1]=a*t);for(var d=0;d<=o;d++)a=(r[Math.min(o,d+1)][0]-r[Math.max(0,d-1)][0])/(6*(1+n[d]*n[d])),l.push([a||0,n[d]*a||0]);return l},L1e=function(r){var e=F1e(r),t=r[1],s=r[0],a=[],n=e[1],o=e[0];a.push(s,[s[0]+o[0],s[1]+o[1],t[0]-n[0],t[1]-n[1],t[0],t[1]]);for(var l=2,c=e.length;l<c;l++){var d=r[l],u=e[l];a.push([d[0]-u[0],d[1]-u[1],d[0],d[1]])}return a},B1e=function(r,e,t){var s=r.slice(e,t);if(e){if(t-e>1&&s[1].length<6){var a=s[0].length;s[1]=[2*s[0][a-2]-s[0][a-4],2*s[0][a-1]-s[0][a-3]].concat(s[1])}s[0]=s[0].slice(-2)}return s};function HS(r,e){return(e[1]-r[1])/(e[0]-r[0])}var $S=(function(){function r(e,t,s){Rt(this,r),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||s,this.scatter=new e$(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new M1e(this),this.markers=new y0(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return It(r,[{key:"draw",value:function(e,t,s,a){var n,o=this.w,l=new ot(this.ctx),c=o.globals.comboCharts?t:o.config.chart.type,d=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),u=new na(this.ctx,o);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var h=[],m=0;m<e.length;m++){e=this.lineHelpers.sameValueSeriesFix(m,e);var p=o.globals.comboCharts?s[m]:m,b=this.yRatio.length>1?p:0;this._initSerieVariables(e,m,p);var x=[],y=[],w=[],k=o.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,p),o.globals.isXNumeric&&o.globals.seriesX.length>0&&(k=(o.globals.seriesX[p][0]-o.globals.minX)/this.xRatio),w.push(k);var N,T=k,E=void 0,I=T,S=this.zeroY,A=this.zeroY;S=this.lineHelpers.determineFirstPrevY({i:m,realIndex:p,series:e,prevY:S,lineYPosition:0,translationsIndex:b}).prevY,o.config.stroke.curve==="monotoneCubic"&&e[m][0]===null?x.push(null):x.push(S),N=S,c==="rangeArea"&&(E=A=this.lineHelpers.determineFirstPrevY({i:m,realIndex:p,series:a,prevY:A,lineYPosition:0,translationsIndex:b}).prevY,y.push(x[0]!==null?A:null));var P=this._calculatePathsFrom({type:c,series:e,i:m,realIndex:p,translationsIndex:b,prevX:I,prevY:S,prevY2:A}),O=[x[0]],M=[y[0]],L={type:c,series:e,realIndex:p,translationsIndex:b,i:m,x:k,y:1,pX:T,pY:N,pathsFrom:P,linePaths:[],areaPaths:[],seriesIndex:s,lineYPosition:0,xArrj:w,yArrj:x,y2Arrj:y,seriesRangeEnd:a},B=this._iterateOverDataPoints(yt(yt({},L),{},{iterations:c==="rangeArea"?e[m].length-1:void 0,isRangeStart:!0}));if(c==="rangeArea"){for(var G=this._calculatePathsFrom({series:a,i:m,realIndex:p,prevX:I,prevY:A}),X=this._iterateOverDataPoints(yt(yt({},L),{},{series:a,xArrj:[k],yArrj:O,y2Arrj:M,pY:E,areaPaths:B.areaPaths,pathsFrom:G,iterations:a[m].length-1,isRangeStart:!1})),H=B.linePaths.length/2,W=0;W<H;W++)B.linePaths[W]=X.linePaths[W+H]+B.linePaths[W];B.linePaths.splice(H),B.pathFromLine=X.pathFromLine+B.pathFromLine}else B.pathFromArea+="z";this._handlePaths({type:c,realIndex:p,i:m,paths:B}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),h.push(this.elSeries)}if(((n=o.config.series[0])===null||n===void 0?void 0:n.zIndex)!==void 0&&h.sort((function(z,Q){return Number(z.node.getAttribute("zIndex"))-Number(Q.node.getAttribute("zIndex"))})),o.config.chart.stacked)for(var ne=h.length-1;ne>=0;ne--)d.add(h[ne]);else for(var U=0;U<h.length;U++)d.add(h[U]);return d}},{key:"_initSerieVariables",value:function(e,t,s){var a=this.w,n=new ot(this.ctx);this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-(a.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[s]:a.config.stroke.width;var o=0;if(this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[s],o=s),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[o]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[o]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||a.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=n.group({class:"apexcharts-series",zIndex:a.config.series[s].zIndex!==void 0?a.config.series[s].zIndex:s,seriesName:Pe.escapeString(a.globals.seriesNames[s])}),this.elPointsMain=n.group({class:"apexcharts-series-markers-wrap","data:realIndex":s}),a.globals.hasNullValues){var l=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[a.globals.gridHeight+a.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});l!==null&&this.elPointsMain.add(l)}this.elDataLabelsWrap=n.group({class:"apexcharts-datalabels","data:realIndex":s});var c=e[t].length===a.globals.dataPoints;this.elSeries.attr({"data:longestSeries":c,rel:t+1,"data:realIndex":s}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,s,a,n,o=e.type,l=e.series,c=e.i,d=e.realIndex,u=e.translationsIndex,h=e.prevX,m=e.prevY,p=e.prevY2,b=this.w,x=new ot(this.ctx);if(l[c][0]===null){for(var y=0;y<l[c].length;y++)if(l[c][y]!==null){h=this.xDivision*y,m=this.zeroY-l[c][y]/this.yRatio[u],t=x.move(h,m),s=x.move(h,this.areaBottomY);break}}else t=x.move(h,m),o==="rangeArea"&&(t=x.move(h,p)+x.line(h,m)),s=x.move(h,this.areaBottomY)+x.line(h,m);if(a=x.move(0,this.areaBottomY)+x.line(0,this.areaBottomY),n=x.move(0,this.areaBottomY)+x.line(0,this.areaBottomY),b.globals.previousPaths.length>0){var w=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:n,realIndex:d});a=w.pathFromLine,n=w.pathFromArea}return{prevX:h,prevY:m,linePath:t,areaPath:s,pathFromLine:a,pathFromArea:n}}},{key:"_handlePaths",value:function(e){var t=e.type,s=e.realIndex,a=e.i,n=e.paths,o=this.w,l=new ot(this.ctx),c=new Lo(this.ctx);this.prevSeriesY.push(n.yArrj),o.globals.seriesXvalues[s]=n.xArrj,o.globals.seriesYvalues[s]=n.yArrj;var d=o.config.forecastDataPoints;if(d.count>0&&t!=="rangeArea"){var u=o.globals.seriesXvalues[s][o.globals.seriesXvalues[s].length-d.count-1],h=l.drawRect(u,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(h.node);var m=l.drawRect(0,0,u,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(m.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:s});var p={i:a,realIndex:s,animationDelay:a,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var b=c.fillPath({seriesNumber:s}),x=0;x<n.areaPaths.length;x++){var y=l.renderPaths(yt(yt({},p),{},{pathFrom:n.pathFromArea,pathTo:n.areaPaths[x],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:b}));this.elSeries.add(y)}if(o.config.stroke.show&&!this.pointsChart){var w=null;if(t==="line")w=c.fillPath({seriesNumber:s,i:a});else if(o.config.stroke.fill.type==="solid")w=o.globals.stroke.colors[s];else{var k=o.config.fill;o.config.fill=o.config.stroke.fill,w=c.fillPath({seriesNumber:s,i:a}),o.config.fill=k}for(var N=0;N<n.linePaths.length;N++){var T=w;t==="rangeArea"&&(T=c.fillPath({seriesNumber:s}));var E=yt(yt({},p),{},{pathFrom:n.pathFromLine,pathTo:n.linePaths[N],stroke:w,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:t==="rangeArea"?T:"none"}),I=l.renderPaths(E);if(this.elSeries.add(I),I.attr("fill-rule","evenodd"),d.count>0&&t!=="rangeArea"){var S=l.renderPaths(E);S.node.setAttribute("stroke-dasharray",d.dashArray),d.strokeWidth&&S.node.setAttribute("stroke-width",d.strokeWidth),this.elSeries.add(S),S.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),I.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,s,a=this,n=e.type,o=e.series,l=e.iterations,c=e.realIndex,d=e.translationsIndex,u=e.i,h=e.x,m=e.y,p=e.pX,b=e.pY,x=e.pathsFrom,y=e.linePaths,w=e.areaPaths,k=e.seriesIndex,N=e.lineYPosition,T=e.xArrj,E=e.yArrj,I=e.y2Arrj,S=e.isRangeStart,A=e.seriesRangeEnd,P=this.w,O=new ot(this.ctx),M=this.yRatio,L=x.prevY,B=x.linePath,G=x.areaPath,X=x.pathFromLine,H=x.pathFromArea,W=Pe.isNumber(P.globals.minYArr[c])?P.globals.minYArr[c]:P.globals.minY;l||(l=P.globals.dataPoints>1?P.globals.dataPoints-1:P.globals.dataPoints);var ne=function(Ne,xe){return xe-Ne/M[d]+2*(a.isReversed?Ne/M[d]:0)},U=m,z=P.config.chart.stacked&&!P.globals.comboCharts||P.config.chart.stacked&&P.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[c])===null||t===void 0?void 0:t.type)==="bar"||((s=this.w.config.series[c])===null||s===void 0?void 0:s.type)==="column"),Q=P.config.stroke.curve;Array.isArray(Q)&&(Q=Array.isArray(k)?Q[k[u]]:Q[u]);for(var q,Z=0,J=0;J<l&&o[u].length!==0;J++){var re=o[u][J+1]===void 0||o[u][J+1]===null;if(P.globals.isXNumeric){var de=P.globals.seriesX[c][J+1];P.globals.seriesX[c][J+1]===void 0&&(de=P.globals.seriesX[c][l-1]),h=(de-P.globals.minX)/this.xRatio}else h+=this.xDivision;z?u>0&&P.globals.collapsedSeries.length<P.config.series.length-1?N=this.prevSeriesY[(function(Ne){for(var xe=Ne;xe>0;xe--){if(!(P.globals.collapsedSeriesIndices.indexOf(k?.[xe]||xe)>-1))return xe;xe--}return 0})(u-1)][J+1]:N=this.zeroY:N=this.zeroY,re?m=ne(W,N):(m=ne(o[u][J+1],N),n==="rangeArea"&&(U=ne(A[u][J+1],N))),T.push(o[u][J+1]===null?null:h),!re||P.config.stroke.curve!=="smooth"&&P.config.stroke.curve!=="monotoneCubic"?(E.push(m),I.push(U)):(E.push(null),I.push(null));var Se=this.lineHelpers.calculatePoints({series:o,x:h,y:m,realIndex:c,i:u,j:J,prevY:L}),je=this._createPaths({type:n,series:o,i:u,realIndex:c,j:J,x:h,y:m,y2:U,xArrj:T,yArrj:E,y2Arrj:I,pX:p,pY:b,pathState:Z,segmentStartX:q,linePath:B,areaPath:G,linePaths:y,areaPaths:w,curve:Q,isRangeStart:S});w=je.areaPaths,y=je.linePaths,p=je.pX,b=je.pY,Z=je.pathState,q=je.segmentStartX,G=je.areaPath,B=je.linePath,!this.appendPathFrom||P.globals.hasNullValues||Q==="monotoneCubic"&&n==="rangeArea"||(X+=O.line(h,this.areaBottomY),H+=O.line(h,this.areaBottomY)),this.handleNullDataPoints(o,Se,u,J,c),this._handleMarkersAndLabels({type:n,pointsPos:Se,i:u,j:J,realIndex:c,isRangeStart:S})}return{yArrj:E,xArrj:T,pathFromArea:H,areaPaths:w,pathFromLine:X,linePaths:y,linePath:B,areaPath:G}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,s=e.pointsPos,a=e.isRangeStart,n=e.i,o=e.j,l=e.realIndex,c=this.w,d=new Hm(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:l,pointsPos:s,zRatio:this.zRatio,elParent:this.elPointsMain});else{c.globals.series[n].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers({pointsPos:s,seriesIndex:l,j:o+1});u!==null&&this.elPointsMain.add(u)}var h=d.drawDataLabel({type:t,isRangeStart:a,pos:s,i:l,j:o+1});h!==null&&this.elDataLabelsWrap.add(h)}},{key:"_createPaths",value:function(e){var t=e.type,s=e.series,a=e.i;e.realIndex;var n,o=e.j,l=e.x,c=e.y,d=e.xArrj,u=e.yArrj,h=e.y2,m=e.y2Arrj,p=e.pX,b=e.pY,x=e.pathState,y=e.segmentStartX,w=e.linePath,k=e.areaPath,N=e.linePaths,T=e.areaPaths,E=e.curve,I=e.isRangeStart,S=new ot(this.ctx),A=this.areaBottomY,P=t==="rangeArea",O=t==="rangeArea"&&I;switch(E){case"monotoneCubic":var M=I?u:m;switch(x){case 0:if(M[o+1]===null)break;x=1;case 1:if(!(P?d.length===s[a].length:o===s[a].length-2))break;case 2:var L=I?d:d.slice().reverse(),B=I?M:M.slice().reverse(),G=(n=B,L.map((function(de,Se){return[de,n[Se]]})).filter((function(de){return de[1]!==null}))),X=G.length>1?L1e(G):G,H=[];P&&(O?T=G:H=T.reverse());var W=0,ne=0;if((function(de,Se){for(var je=(function(se){var fe=[],Te=0;return se.forEach((function(Ce){Ce!==null?Te++:Te>0&&(fe.push(Te),Te=0)})),Te>0&&fe.push(Te),fe})(de),Ne=[],xe=0,ze=0;xe<je.length;ze+=je[xe++])Ne[xe]=B1e(Se,ze,ze+je[xe]);return Ne})(B,X).forEach((function(de){W++;var Se=(function(xe){for(var ze="",se=0;se<xe.length;se++){var fe=xe[se],Te=fe.length;Te>4?(ze+="C".concat(fe[0],", ").concat(fe[1]),ze+=", ".concat(fe[2],", ").concat(fe[3]),ze+=", ".concat(fe[4],", ").concat(fe[5])):Te>2&&(ze+="S".concat(fe[0],", ").concat(fe[1]),ze+=", ".concat(fe[2],", ").concat(fe[3]))}return ze})(de),je=ne,Ne=(ne+=de.length)-1;O?w=S.move(G[je][0],G[je][1])+Se:P?w=S.move(H[je][0],H[je][1])+S.line(G[je][0],G[je][1])+Se+S.line(H[Ne][0],H[Ne][1]):(w=S.move(G[je][0],G[je][1])+Se,k=w+S.line(G[Ne][0],A)+S.line(G[je][0],A)+"z",T.push(k)),N.push(w)})),P&&W>1&&!O){var U=N.slice(W).reverse();N.splice(W),U.forEach((function(de){return N.push(de)}))}x=0}break;case"smooth":var z=.35*(l-p);if(s[a][o]===null)x=0;else switch(x){case 0:if(y=p,w=O?S.move(p,m[o])+S.line(p,b):S.move(p,b),k=S.move(p,b),s[a][o+1]===null||s[a][o+1]===void 0){N.push(w),T.push(k);break}if(x=1,o<s[a].length-2){var Q=S.curve(p+z,b,l-z,c,l,c);w+=Q,k+=Q;break}case 1:if(s[a][o+1]===null)w+=O?S.line(p,h):S.move(p,b),k+=S.line(p,A)+S.line(y,A)+"z",N.push(w),T.push(k),x=-1;else{var q=S.curve(p+z,b,l-z,c,l,c);w+=q,k+=q,o>=s[a].length-2&&(O&&(w+=S.curve(l,c,l,c,l,h)+S.move(l,h)),k+=S.curve(l,c,l,c,l,A)+S.line(y,A)+"z",N.push(w),T.push(k),x=-1)}}p=l,b=c;break;default:var Z=function(de,Se,je){var Ne=[];switch(de){case"stepline":Ne=S.line(Se,null,"H")+S.line(null,je,"V");break;case"linestep":Ne=S.line(null,je,"V")+S.line(Se,null,"H");break;case"straight":Ne=S.line(Se,je)}return Ne};if(s[a][o]===null)x=0;else switch(x){case 0:if(y=p,w=O?S.move(p,m[o])+S.line(p,b):S.move(p,b),k=S.move(p,b),s[a][o+1]===null||s[a][o+1]===void 0){N.push(w),T.push(k);break}if(x=1,o<s[a].length-2){var J=Z(E,l,c);w+=J,k+=J;break}case 1:if(s[a][o+1]===null)w+=O?S.line(p,h):S.move(p,b),k+=S.line(p,A)+S.line(y,A)+"z",N.push(w),T.push(k),x=-1;else{var re=Z(E,l,c);w+=re,k+=re,o>=s[a].length-2&&(O&&(w+=S.line(l,h)),k+=S.line(l,A)+S.line(y,A)+"z",N.push(w),T.push(k),x=-1)}}p=l,b=c}return{linePaths:N,areaPaths:T,pX:p,pY:b,pathState:x,segmentStartX:y,linePath:w,areaPath:k}}},{key:"handleNullDataPoints",value:function(e,t,s,a,n){var o=this.w;if(e[s][a]===null&&o.config.markers.showNullDataPoints||e[s].length===1){var l=this.strokeWidth-o.config.markers.strokeWidth/2;l>0||(l=0);var c=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:n,j:a+1,pSize:l,alwaysDrawMarker:!0});c!==null&&this.elPointsMain.add(c)}}}]),r})();window.TreemapSquared={},window.TreemapSquared.generate=(function(){function r(l,c,d,u){this.xoffset=l,this.yoffset=c,this.height=u,this.width=d,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(h){var m,p=[],b=this.xoffset,x=this.yoffset,y=n(h)/this.height,w=n(h)/this.width;if(this.width>=this.height)for(m=0;m<h.length;m++)p.push([b,x,b+y,x+h[m]/y]),x+=h[m]/y;else for(m=0;m<h.length;m++)p.push([b,x,b+h[m]/w,x+w]),b+=h[m]/w;return p},this.cutArea=function(h){var m;if(this.width>=this.height){var p=h/this.height,b=this.width-p;m=new r(this.xoffset+p,this.yoffset,b,this.height)}else{var x=h/this.width,y=this.height-x;m=new r(this.xoffset,this.yoffset+x,this.width,y)}return m}}function e(l,c,d,u,h){u=u===void 0?0:u,h=h===void 0?0:h;var m=t((function(p,b){var x,y=[],w=b/n(p);for(x=0;x<p.length;x++)y[x]=p[x]*w;return y})(l,c*d),[],new r(u,h,c,d),[]);return(function(p){var b,x,y=[];for(b=0;b<p.length;b++)for(x=0;x<p[b].length;x++)y.push(p[b][x]);return y})(m)}function t(l,c,d,u){var h,m,p;if(l.length!==0)return h=d.shortestEdge(),(function(b,x,y){var w;if(b.length===0)return!0;(w=b.slice()).push(x);var k=s(b,y),N=s(w,y);return k>=N})(c,m=l[0],h)?(c.push(m),t(l.slice(1),c,d,u)):(p=d.cutArea(n(c),u),u.push(d.getCoordinates(c)),t(l,[],p,u)),u;u.push(d.getCoordinates(c))}function s(l,c){var d=Math.min.apply(Math,l),u=Math.max.apply(Math,l),h=n(l);return Math.max(Math.pow(c,2)*u/Math.pow(h,2),Math.pow(h,2)/(Math.pow(c,2)*d))}function a(l){return l&&l.constructor===Array}function n(l){var c,d=0;for(c=0;c<l.length;c++)d+=l[c];return d}function o(l){var c,d=0;if(a(l[0]))for(c=0;c<l.length;c++)d+=o(l[c]);else d=n(l);return d}return function l(c,d,u,h,m){h=h===void 0?0:h,m=m===void 0?0:m;var p,b,x=[],y=[];if(a(c[0])){for(b=0;b<c.length;b++)x[b]=o(c[b]);for(p=e(x,d,u,h,m),b=0;b<c.length;b++)y.push(l(c[b],p[b][2]-p[b][0],p[b][3]-p[b][1],p[b][0],p[b][1]))}else y=e(c,d,u,h,m);return y}})();var U1e=(function(){function r(e,t){Rt(this,r),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new l$(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return It(r,[{key:"draw",value:function(e){var t=this,s=this.w,a=new ot(this.ctx),n=new Lo(this.ctx),o=a.group({class:"apexcharts-treemap"});if(s.globals.noData)return o;var l=[];return e.forEach((function(c){var d=c.map((function(u){return Math.abs(u)}));l.push(d)})),this.negRange=this.helpers.checkColorRange(),s.config.series.forEach((function(c,d){c.data.forEach((function(u){Array.isArray(t.labels[d])||(t.labels[d]=[]),t.labels[d].push(u.x)}))})),window.TreemapSquared.generate(l,s.globals.gridWidth,s.globals.gridHeight).forEach((function(c,d){var u=a.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:Pe.escapeString(s.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});if(s.config.chart.dropShadow.enabled){var h=s.config.chart.dropShadow;new gn(t.ctx).dropShadow(o,h,d)}var m=a.group({class:"apexcharts-data-labels"}),p={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};c.forEach((function(X,H){var W=X[0],ne=X[1],U=X[2],z=X[3];p.xMin=Math.min(p.xMin,W),p.yMin=Math.min(p.yMin,ne),p.xMax=Math.max(p.xMax,U),p.yMax=Math.max(p.yMax,z);var Q=t.helpers.getShadeColor(s.config.chart.type,d,H,t.negRange),q=Q.color,Z=n.fillPath({color:q,seriesNumber:d,dataPointIndex:H}),J=a.drawRect(W,ne,U-W,z-ne,s.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,s.config.plotOptions.treemap.useFillColorAsStroke?q:s.globals.stroke.colors[d]);J.attr({cx:W,cy:ne,index:d,i:d,j:H,width:U-W,height:z-ne,fill:Z}),J.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(J);var re={x:W+(U-W)/2,y:ne+(z-ne)/2,width:0,height:0},de={x:W,y:ne,width:U-W,height:z-ne};if(s.config.chart.animations.enabled&&!s.globals.dataChanged){var Se=1;s.globals.resized||(Se=s.config.chart.animations.speed),t.animateTreemap(J,re,de,Se)}if(s.globals.dataChanged){var je=1;t.dynamicAnim.enabled&&s.globals.shouldAnimate&&(je=t.dynamicAnim.speed,s.globals.previousPaths[d]&&s.globals.previousPaths[d][H]&&s.globals.previousPaths[d][H].rect&&(re=s.globals.previousPaths[d][H].rect),t.animateTreemap(J,re,de,je))}var Ne=t.getFontSize(X),xe=s.config.dataLabels.formatter(t.labels[d][H],{value:s.globals.series[d][H],seriesIndex:d,dataPointIndex:H,w:s});s.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Ne=parseInt(s.config.dataLabels.style.fontSize,10),xe=t.truncateLabels(xe,Ne,W,ne,U,z));var ze=null;s.globals.series[d][H]&&(ze=t.helpers.calculateDataLabels({text:xe,x:(W+U)/2,y:(ne+z)/2+t.strokeWidth/2+Ne/3,i:d,j:H,colorProps:Q,fontSize:Ne,series:e})),s.config.dataLabels.enabled&&ze&&t.rotateToFitLabel(ze,Ne,xe,W,ne,U,z),u.add(J),ze!==null&&u.add(ze)}));var b=s.config.plotOptions.treemap.seriesTitle;if(s.config.series.length>1&&b&&b.show){var x=s.config.series[d].name||"";if(x&&p.xMin<1/0&&p.yMin<1/0){var y=b.offsetX,w=b.offsetY,k=b.borderColor,N=b.borderWidth,T=b.borderRadius,E=b.style,I=E.color||s.config.chart.foreColor,S={left:E.padding.left,right:E.padding.right,top:E.padding.top,bottom:E.padding.bottom},A=a.getTextRects(x,E.fontSize,E.fontFamily),P=A.width+S.left+S.right,O=A.height+S.top+S.bottom,M=p.xMin+(y||0),L=p.yMin+(w||0),B=a.drawRect(M,L,P,O,T,E.background,1,N,k),G=a.drawText({x:M+S.left,y:L+S.top+.75*A.height,text:x,fontSize:E.fontSize,fontFamily:E.fontFamily,fontWeight:E.fontWeight,foreColor:I,cssClass:E.cssClass||""});u.add(B),u.add(G)}}u.add(m),o.add(u)})),o}},{key:"getFontSize",value:function(e){var t=this.w,s=(function a(n){var o,l=0;if(Array.isArray(n[0]))for(o=0;o<n.length;o++)l+=a(n[o]);else for(o=0;o<n.length;o++)l+=n[o].length;return l})(this.labels)/(function a(n){var o,l=0;if(Array.isArray(n[0]))for(o=0;o<n.length;o++)l+=a(n[o]);else for(o=0;o<n.length;o++)l+=1;return l})(this.labels);return(function(a,n){var o=a*n,l=Math.pow(o,.5);return Math.min(l/s,parseInt(t.config.dataLabels.style.fontSize,10))})(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,s,a,n,o,l){var c=new ot(this.ctx),d=c.getTextRects(s,t);if(d.width+this.w.config.stroke.width+5>o-a&&d.width<=l-n){var u=c.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(d.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,s,a,n,o){var l=new ot(this.ctx),c=l.getTextRects(e,t).width+this.w.config.stroke.width+5>n-s&&o-a>n-s?o-a:n-s,d=l.getTextBasedOnMaxWidth({text:e,maxWidth:c,fontSize:t});return e.length!==d.length&&c/t<5?"":d}},{key:"animateTreemap",value:function(e,t,s,a){var n=new g0(this.ctx);n.animateRect(e,t,s,a,(function(){n.animationCompleted(e)}))}}]),r})(),u$=86400,z1e=10/u$,V1e=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return It(r,[{key:"calculateTimeScaleTicks",value:function(e,t){var s=this,a=this.w;if(a.globals.allSeriesCollapsed)return a.globals.labels=[],a.globals.timescaleLabels=[],[];var n=new hn(this.ctx),o=(t-e)/864e5;this.determineInterval(o),a.globals.disableZoomIn=!1,a.globals.disableZoomOut=!1,o<z1e?a.globals.disableZoomIn=!0:o>5e4&&(a.globals.disableZoomOut=!0);var l=n.getTimeUnitsfromTimestamp(e,t,this.utc),c=a.globals.gridWidth/o,d=c/24,u=d/60,h=u/60,m=Math.floor(24*o),p=Math.floor(1440*o),b=Math.floor(o*u$),x=Math.floor(o),y=Math.floor(o/30),w=Math.floor(o/365),k={minMillisecond:l.minMillisecond,minSecond:l.minSecond,minMinute:l.minMinute,minHour:l.minHour,minDate:l.minDate,minMonth:l.minMonth,minYear:l.minYear},N={firstVal:k,currentMillisecond:k.minMillisecond,currentSecond:k.minSecond,currentMinute:k.minMinute,currentHour:k.minHour,currentMonthDate:k.minDate,currentDate:k.minDate,currentMonth:k.minMonth,currentYear:k.minYear,daysWidthOnXAxis:c,hoursWidthOnXAxis:d,minutesWidthOnXAxis:u,secondsWidthOnXAxis:h,numberOfSeconds:b,numberOfMinutes:p,numberOfHours:m,numberOfDays:x,numberOfMonths:y,numberOfYears:w};switch(this.tickInterval){case"years":this.generateYearScale(N);break;case"months":case"half_year":this.generateMonthScale(N);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(N);break;case"hours":this.generateHourScale(N);break;case"minutes_fives":case"minutes":this.generateMinuteScale(N);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(N)}var T=this.timeScaleArray.map((function(E){var I={position:E.position,unit:E.unit,year:E.year,day:E.day?E.day:1,hour:E.hour?E.hour:0,month:E.month+1};return E.unit==="month"?yt(yt({},I),{},{day:1,value:E.value+1}):E.unit==="day"||E.unit==="hour"?yt(yt({},I),{},{value:E.value}):E.unit==="minute"?yt(yt({},I),{},{value:E.value,minute:E.value}):E.unit==="second"?yt(yt({},I),{},{value:E.value,minute:E.minute,second:E.second}):E}));return T.filter((function(E){var I=1,S=Math.ceil(a.globals.gridWidth/120),A=E.value;a.config.xaxis.tickAmount!==void 0&&(S=a.config.xaxis.tickAmount),T.length>S&&(I=Math.floor(T.length/S));var P=!1,O=!1;switch(s.tickInterval){case"years":E.unit==="year"&&(P=!0);break;case"half_year":I=7,E.unit==="year"&&(P=!0);break;case"months":I=1,E.unit==="year"&&(P=!0);break;case"months_fortnight":I=15,E.unit!=="year"&&E.unit!=="month"||(P=!0),A===30&&(O=!0);break;case"months_days":I=10,E.unit==="month"&&(P=!0),A===30&&(O=!0);break;case"week_days":I=8,E.unit==="month"&&(P=!0);break;case"days":I=1,E.unit==="month"&&(P=!0);break;case"hours":E.unit==="day"&&(P=!0);break;case"minutes_fives":case"seconds_fives":A%5!=0&&(O=!0);break;case"seconds_tens":A%10!=0&&(O=!0)}if(s.tickInterval==="hours"||s.tickInterval==="minutes_fives"||s.tickInterval==="seconds_tens"||s.tickInterval==="seconds_fives"){if(!O)return!0}else if((A%I==0||P)&&!O)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var s=this.w,a=this.formatDates(e),n=this.removeOverlappingTS(a);s.globals.timescaleLabels=n.slice(),new Yw(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,s=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case s>15:this.tickInterval="minutes_fives";break;case s>5:this.tickInterval="minutes";break;case s>1:this.tickInterval="seconds_tens";break;case 60*s>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,s=e.currentMonth,a=e.currentYear,n=e.daysWidthOnXAxis,o=e.numberOfYears,l=t.minYear,c=0,d=new hn(this.ctx),u="year";if(t.minDate>1||t.minMonth>0){var h=d.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);c=(d.determineDaysOfYear(t.minYear)-h+1)*n,l=t.minYear+1,this.timeScaleArray.push({position:c,value:l,unit:u,year:l,month:Pe.monthMod(s+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:c,value:l,unit:u,year:a,month:Pe.monthMod(s+1)});for(var m=l,p=c,b=0;b<o;b++)m++,p=d.determineDaysOfYear(m-1)*n+p,this.timeScaleArray.push({position:p,value:m,unit:u,year:m,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,s=e.currentMonthDate,a=e.currentMonth,n=e.currentYear,o=e.daysWidthOnXAxis,l=e.numberOfMonths,c=a,d=0,u=new hn(this.ctx),h="month",m=0;if(t.minDate>1){d=(u.determineDaysOfMonths(a+1,t.minYear)-s+1)*o,c=Pe.monthMod(a+1);var p=n+m,b=Pe.monthMod(c),x=c;c===0&&(h="year",x=p,b=1,p+=m+=1),this.timeScaleArray.push({position:d,value:x,unit:h,year:p,month:b})}else this.timeScaleArray.push({position:d,value:c,unit:h,year:n,month:Pe.monthMod(a)});for(var y=c+1,w=d,k=0,N=1;k<l;k++,N++){(y=Pe.monthMod(y))===0?(h="year",m+=1):h="month";var T=this._getYear(n,y,m);w=u.determineDaysOfMonths(y,T)*o+w;var E=y===0?T:y;this.timeScaleArray.push({position:w,value:E,unit:h,year:T,month:y===0?1:y}),y++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,s=e.currentMonth,a=e.currentYear,n=e.hoursWidthOnXAxis,o=e.numberOfDays,l=new hn(this.ctx),c="day",d=t.minDate+1,u=d,h=function(N,T,E){return N>l.determineDaysOfMonths(T+1,E)&&(u=1,c="month",p=T+=1),T},m=(24-t.minHour)*n,p=d,b=h(u,s,a);t.minHour===0&&t.minDate===1?(m=0,p=Pe.monthMod(t.minMonth),c="month",u=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(m=0,d=t.minDate,p=d,b=h(u=d,s,a),p!==1&&(c="day")),this.timeScaleArray.push({position:m,value:p,unit:c,year:this._getYear(a,b,0),month:Pe.monthMod(b),day:u});for(var x=m,y=0;y<o;y++){c="day",b=h(u+=1,b,this._getYear(a,b,0));var w=this._getYear(a,b,0);x=24*n+x;var k=u===1?Pe.monthMod(b):u;this.timeScaleArray.push({position:x,value:k,unit:c,year:w,month:Pe.monthMod(b),day:k})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,s=e.currentDate,a=e.currentMonth,n=e.currentYear,o=e.minutesWidthOnXAxis,l=e.numberOfHours,c=new hn(this.ctx),d="hour",u=function(I,S){return I>c.determineDaysOfMonths(S+1,n)&&(y=1,S+=1),{month:S,date:y}},h=function(I,S){return I>c.determineDaysOfMonths(S+1,n)?S+=1:S},m=60-(t.minMinute+t.minSecond/60),p=m*o,b=t.minHour+1,x=b;m===60&&(p=0,x=b=t.minHour);var y=s;x>=24&&(x=0,d="day",b=y+=1);var w=u(y,a).month;w=h(y,w),b>31&&(b=y=1),this.timeScaleArray.push({position:p,value:b,unit:d,day:y,hour:x,year:n,month:Pe.monthMod(w)}),x++;for(var k=p,N=0;N<l;N++){d="hour",x>=24&&(x=0,d="day",w=u(y+=1,w).month,w=h(y,w));var T=this._getYear(n,w,0);k=60*o+k;var E=x===0?y:x;this.timeScaleArray.push({position:k,value:E,unit:d,hour:x,day:y,year:T,month:Pe.monthMod(w)}),x++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,s=e.currentSecond,a=e.currentMinute,n=e.currentHour,o=e.currentDate,l=e.currentMonth,c=e.currentYear,d=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,h=e.numberOfMinutes,m=a+1,p=o,b=l,x=c,y=n,w=(60-s-t/1e3)*u,k=0;k<h;k++)m>=60&&(m=0,(y+=1)===24&&(y=0)),this.timeScaleArray.push({position:w,value:m,unit:"minute",hour:y,minute:m,day:p,year:this._getYear(x,b,0),month:Pe.monthMod(b)}),w+=d,m++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,s=e.currentSecond,a=e.currentMinute,n=e.currentHour,o=e.currentDate,l=e.currentMonth,c=e.currentYear,d=e.secondsWidthOnXAxis,u=e.numberOfSeconds,h=s+1,m=a,p=o,b=l,x=c,y=n,w=(1e3-t)/1e3*d,k=0;k<u;k++)h>=60&&(h=0,++m>=60&&(m=0,++y===24&&(y=0))),this.timeScaleArray.push({position:w,value:h,unit:"second",hour:y,minute:m,second:h,day:p,year:this._getYear(x,b,0),month:Pe.monthMod(b)}),w+=d,h++}},{key:"createRawDateString",value:function(e,t){var s=e.year;return e.month===0&&(e.month=1),s+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?s+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":s+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?s+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":s+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?s+=":"+("0"+t).slice(-2):s+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?s+=":"+("0"+t).slice(-2):s+=":00",this.utc&&(s+=".000Z"),s}},{key:"formatDates",value:function(e){var t=this,s=this.w;return e.map((function(a){var n=a.value.toString(),o=new hn(t.ctx),l=t.createRawDateString(a,n),c=o.getDate(o.parseDate(l));if(t.utc||(c=o.getDate(o.parseDateWithTimezone(l))),s.config.xaxis.labels.format===void 0){var d="dd MMM",u=s.config.xaxis.labels.datetimeFormatter;a.unit==="year"&&(d=u.year),a.unit==="month"&&(d=u.month),a.unit==="day"&&(d=u.day),a.unit==="hour"&&(d=u.hour),a.unit==="minute"&&(d=u.minute),a.unit==="second"&&(d=u.second),n=o.formatDate(c,d)}else n=o.formatDate(c,s.config.xaxis.labels.format);return{dateString:l,position:a.position,value:n,unit:a.unit,year:a.year,month:a.month}}))}},{key:"removeOverlappingTS",value:function(e){var t,s=this,a=new ot(this.ctx),n=!1;e.length>0&&e[0].value&&e.every((function(c){return c.value.length===e[0].value.length}))&&(n=!0,t=a.getTextRects(e[0].value).width);var o=0,l=e.map((function(c,d){if(d>0&&s.w.config.xaxis.labels.hideOverlappingLabels){var u=n?t:a.getTextRects(e[o].value).width,h=e[o].position;return c.position>h+u+10?(o=d,c):null}return c}));return l=l.filter((function(c){return c!==null}))}},{key:"_getYear",value:function(e,t,s){return e+Math.floor(t/12)+s}}]),r})(),H1e=(function(){function r(e,t){Rt(this,r),this.ctx=t,this.w=t.w,this.el=e}return It(r,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,s=e.config,a=s.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(a),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(a),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(a)&&s.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),ot.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(s.chart.offsetX,", ").concat(s.chart.offsetY,")")}),t.dom.Paper.node.style.background=s.theme.mode!=="dark"||s.chart.background?s.theme.mode!=="light"||s.chart.background?s.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),ot.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var s=this.w,a=this.ctx,n=s.config,o=s.globals,l={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},c=n.chart.type||"line",d=null,u=0;o.series.forEach((function(I,S){var A,P,O=((A=e[S])===null||A===void 0?void 0:A.type)==="column"?"bar":((P=e[S])===null||P===void 0?void 0:P.type)||(c==="column"?"bar":c);l[O]?(O==="rangeArea"?(l[O].series.push(o.seriesRangeStart[S]),l[O].seriesRangeEnd.push(o.seriesRangeEnd[S])):l[O].series.push(I),l[O].i.push(S),O==="bar"&&(s.globals.columnSeries=l.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(O)?d=O:console.warn("You have specified an unrecognized series type (".concat(O,").")),c!==O&&O!=="scatter"&&u++})),u>0&&(d&&console.warn("Chart or series type ".concat(d," cannot appear with other chart or series types.")),l.bar.series.length>0&&n.plotOptions.bar.horizontal&&(u-=l.bar.series.length,l.bar={series:[],i:[]},s.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),o.comboCharts||(o.comboCharts=u>0);var h=new $S(a,t),m=new VS(a,t);a.pie=new d$(a);var p=new D1e(a);a.rangeBar=new O1e(a,t);var b=new I1e(a),x=[];if(o.comboCharts){var y,w,k=new na(a);if(l.area.series.length>0&&(y=x).push.apply(y,za(k.drawSeriesByGroup(l.area,o.areaGroups,"area",h))),l.bar.series.length>0)if(n.chart.stacked){var N=new qF(a,t);x.push(N.draw(l.bar.series,l.bar.i))}else a.bar=new $m(a,t),x.push(a.bar.draw(l.bar.series,l.bar.i));if(l.rangeArea.series.length>0&&x.push(h.draw(l.rangeArea.series,"rangeArea",l.rangeArea.i,l.rangeArea.seriesRangeEnd)),l.line.series.length>0&&(w=x).push.apply(w,za(k.drawSeriesByGroup(l.line,o.lineGroups,"line",h))),l.candlestick.series.length>0&&x.push(m.draw(l.candlestick.series,"candlestick",l.candlestick.i)),l.boxPlot.series.length>0&&x.push(m.draw(l.boxPlot.series,"boxPlot",l.boxPlot.i)),l.rangeBar.series.length>0&&x.push(a.rangeBar.draw(l.rangeBar.series,l.rangeBar.i)),l.scatter.series.length>0){var T=new $S(a,t,!0);x.push(T.draw(l.scatter.series,"scatter",l.scatter.i))}if(l.bubble.series.length>0){var E=new $S(a,t,!0);x.push(E.draw(l.bubble.series,"bubble",l.bubble.i))}}else switch(n.chart.type){case"line":x=h.draw(o.series,"line");break;case"area":x=h.draw(o.series,"area");break;case"bar":n.chart.stacked?x=new qF(a,t).draw(o.series):(a.bar=new $m(a,t),x=a.bar.draw(o.series));break;case"candlestick":x=new VS(a,t).draw(o.series,"candlestick");break;case"boxPlot":x=new VS(a,t).draw(o.series,n.chart.type);break;case"rangeBar":x=a.rangeBar.draw(o.series);break;case"rangeArea":x=h.draw(o.seriesRangeStart,"rangeArea",void 0,o.seriesRangeEnd);break;case"heatmap":x=new R1e(a,t).draw(o.series);break;case"treemap":x=new U1e(a,t).draw(o.series);break;case"pie":case"donut":case"polarArea":x=a.pie.draw(o.series);break;case"radialBar":x=p.draw(o.series);break;case"radar":x=b.draw(o.series);break;default:x=h.draw(o.series)}return x}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,s=e.config;s.chart.width=s.chart.width||"100%",s.chart.height=s.chart.height||"auto",t.svgWidth=s.chart.width,t.svgHeight=s.chart.height;var a=Pe.getDimensions(this.el),n=s.chart.width.toString().split(/[0-9]+/g).pop();n==="%"?Pe.isNumber(a[0])&&(a[0].width===0&&(a=Pe.getDimensions(this.el.parentNode)),t.svgWidth=a[0]*parseInt(s.chart.width,10)/100):n!=="px"&&n!==""||(t.svgWidth=parseInt(s.chart.width,10));var o=String(s.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(o==="%"){var l=Pe.getDimensions(this.el.parentNode);t.svgHeight=l[1]*parseInt(s.chart.height,10)/100}else t.svgHeight=parseInt(s.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),ot.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),o!=="%"){var c=s.chart.sparkline.enabled?0:t.axisCharts?s.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+c,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,s=e.translateX;ot.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(s,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=0,a=e.config.chart.sparkline.enabled?1:15;a+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(s=new a$(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var n=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*e.globals.radialSize;if(n&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var l=Pe.getBoundingClientRect(n);o=l.bottom;var c=l.bottom-l.top;o=Math.max(2.05*e.globals.radialSize,c)}var d=Math.ceil(o+t.translateY+s+a);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",d),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(d,"px"),ot.setAttrs(t.dom.Paper.node,{height:d}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(d,"px"))}},{key:"coreCalculations",value:function(){new zE(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map((function(){return[]}))},s=new JH,a=this.w.globals,n={dataWasParsed:a.dataWasParsed,originalSeries:a.originalSeries};s.initGlobalVars(a),a.seriesXvalues=t(),a.seriesYvalues=t(),n.dataWasParsed&&(a.dataWasParsed=n.dataWasParsed,a.originalSeries=n.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new VE(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new VE(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new V1e(this.ctx);var s=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(s)}t=new na(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,s=this.w;if(s.config.chart.brush.enabled&&typeof s.config.chart.events.selection!="function"){var a=Array.isArray(s.config.chart.brush.targets)?s.config.chart.brush.targets:[s.config.chart.brush.target];a.forEach((function(n){var o=t.constructor.getChartByID(n);o.w.globals.brushSource=e.ctx,typeof o.w.config.chart.events.zoomed!="function"&&(o.w.config.chart.events.zoomed=function(){return e.updateSourceChart(o)}),typeof o.w.config.chart.events.scrolled!="function"&&(o.w.config.chart.events.scrolled=function(){return e.updateSourceChart(o)})})),s.config.chart.events.selection=function(n,o){a.forEach((function(l){t.constructor.getChartByID(l).ctx.updateHelpers._updateOptions({xaxis:{min:o.xaxis.min,max:o.xaxis.max}},!1,!1,!1,!1)}))}}}}]),r})(),$1e=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"_updateOptions",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise((function(l){var c=[t.ctx];n&&(c=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(c=[t.ctx],t.ctx.w.globals.isExecCalled=!1),c.forEach((function(d,u){var h=d.w;if(h.globals.shouldAnimate=a,s||(h.globals.resized=!0,h.globals.dataChanged=!0,a&&d.series.getPreviousPaths()),e&&Vn(e)==="object"&&(d.config=new gx(e),e=na.extendArrayProps(d.config,e,h),d.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,h.config=Pe.extend(h.config,e),o&&(h.globals.lastXAxis=e.xaxis?Pe.clone(e.xaxis):[],h.globals.lastYAxis=e.yaxis?Pe.clone(e.yaxis):[],h.globals.initialConfig=Pe.extend({},h.config),h.globals.initialSeries=Pe.clone(h.config.series),e.series))){for(var m=0;m<h.globals.collapsedSeriesIndices.length;m++){var p=h.config.series[h.globals.collapsedSeriesIndices[m]];h.globals.collapsedSeries[m].data=h.globals.axisCharts?p.data.slice():p}for(var b=0;b<h.globals.ancillaryCollapsedSeriesIndices.length;b++){var x=h.config.series[h.globals.ancillaryCollapsedSeriesIndices[b]];h.globals.ancillaryCollapsedSeries[b].data=h.globals.axisCharts?x.data.slice():x}d.series.emptyCollapsedSeries(h.config.series)}return d.update(e).then((function(){u===c.length-1&&l(d)}))}))}))}},{key:"_updateSeries",value:function(e,t){var s=this,a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise((function(n){var o=s.w;return o.globals.shouldAnimate=t,o.globals.dataChanged=!0,t&&s.ctx.series.getPreviousPaths(),s.ctx.data.resetParsingFlags(),s.ctx.data.parseData(e),a&&(o.globals.initialConfig.series=Pe.clone(o.config.series),o.globals.initialSeries=Pe.clone(o.config.series)),s.ctx.update().then((function(){n(s.ctx)}))}))}},{key:"_extendSeries",value:function(e,t){var s=this.w,a=s.config.series[t];return yt(yt({},s.config.series[t]),{},{name:e.name?e.name:a?.name,color:e.color?e.color:a?.color,type:e.type?e.type:a?.type,group:e.group?e.group:a?.group,hidden:e.hidden!==void 0?e.hidden:a?.hidden,data:e.data?e.data:a?.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var s=this.w,a=null,n=".apexcharts-series[data\\:realIndex='".concat(e,"']");return s.globals.axisCharts?a=s.globals.dom.Paper.findOne("".concat(n," path[j='").concat(t,"'], ").concat(n," circle[j='").concat(t,"'], ").concat(n," rect[j='").concat(t,"']")):t===void 0&&(a=s.globals.dom.Paper.findOne("".concat(n," path[j='").concat(e,"']")),s.config.chart.type!=="pie"&&s.config.chart.type!=="polarArea"&&s.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),a?(new ot(this.ctx).pathMouseDown(a,null),a.node?a.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach((function(a){e.xaxis[a]!==void 0&&(t.config.xaxis[a]=e.xaxis[a],t.globals.lastXAxis[a]=e.xaxis[a])})),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var s=new mx(e);e=s.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach((function(t,s){e.yaxis[s].min=0,e.yaxis[s].max=100})):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,s=this.w,a=s.globals.lastXAxis,n=s.globals.lastYAxis;e&&e.xaxis&&(a=e.xaxis),e&&e.yaxis&&(n=e.yaxis),s.config.xaxis.min=a.min,s.config.xaxis.max=a.max;var o=function(l){n[l]!==void 0&&(s.config.yaxis[l].min=n[l].min,s.config.yaxis[l].max=n[l].max)};s.config.yaxis.map((function(l,c){s.globals.zoomed||n[c]!==void 0?o(c):t.ctx.opts.yaxis[c]!==void 0&&(l.min=t.ctx.opts.yaxis[c].min,l.max=t.ctx.opts.yaxis[c].max)}))}}]),r})();(function(){function r(){for(var n=arguments.length>0&&arguments[0]!==h?arguments[0]:[],o=arguments.length>1?arguments[1]:h,l=arguments.length>2?arguments[2]:h,c=arguments.length>3?arguments[3]:h,d=arguments.length>4?arguments[4]:h,u=arguments.length>5?arguments[5]:h,h=arguments.length>6?arguments[6]:h,m=n.slice(o,l||h),p=c.slice(d,u||h),b=0,x={pos:[0,0],start:[0,0]},y={pos:[0,0],start:[0,0]};m[b]=e.call(x,m[b]),p[b]=e.call(y,p[b]),m[b][0]!=p[b][0]||m[b][0]=="M"||m[b][0]=="A"&&(m[b][4]!=p[b][4]||m[b][5]!=p[b][5])?(Array.prototype.splice.apply(m,[b,1].concat(s.call(x,m[b]))),Array.prototype.splice.apply(p,[b,1].concat(s.call(y,p[b])))):(m[b]=t.call(x,m[b]),p[b]=t.call(y,p[b])),!(++b==m.length&&b==p.length);)b==m.length&&m.push(["C",x.pos[0],x.pos[1],x.pos[0],x.pos[1],x.pos[0],x.pos[1]]),b==p.length&&p.push(["C",y.pos[0],y.pos[1],y.pos[0],y.pos[1],y.pos[0],y.pos[1]]);return{start:m,dest:p}}function e(n){switch(n[0]){case"z":case"Z":n[0]="L",n[1]=this.start[0],n[2]=this.start[1];break;case"H":n[0]="L",n[2]=this.pos[1];break;case"V":n[0]="L",n[2]=n[1],n[1]=this.pos[0];break;case"T":n[0]="Q",n[3]=n[1],n[4]=n[2],n[1]=this.reflection[1],n[2]=this.reflection[0];break;case"S":n[0]="C",n[6]=n[4],n[5]=n[3],n[4]=n[2],n[3]=n[1],n[2]=this.reflection[1],n[1]=this.reflection[0]}return n}function t(n){var o=n.length;return this.pos=[n[o-2],n[o-1]],"SCQT".indexOf(n[0])!=-1&&(this.reflection=[2*this.pos[0]-n[o-4],2*this.pos[1]-n[o-3]]),n}function s(n){var o=[n];switch(n[0]){case"M":return this.pos=this.start=[n[1],n[2]],o;case"L":n[5]=n[3]=n[1],n[6]=n[4]=n[2],n[1]=this.pos[0],n[2]=this.pos[1];break;case"Q":n[6]=n[4],n[5]=n[3],n[4]=1*n[4]/3+2*n[2]/3,n[3]=1*n[3]/3+2*n[1]/3,n[2]=1*this.pos[1]/3+2*n[2]/3,n[1]=1*this.pos[0]/3+2*n[1]/3;break;case"A":o=(function(l,c){var d,u,h,m,p,b,x,y,w,k,N,T,E,I,S,A,P,O,M,L,B,G,X,H,W,ne,U=Math.abs(c[1]),z=Math.abs(c[2]),Q=c[3]%360,q=c[4],Z=c[5],J=c[6],re=c[7],de=new ls(l),Se=new ls(J,re),je=[];if(U===0||z===0||de.x===Se.x&&de.y===Se.y)return[["C",de.x,de.y,Se.x,Se.y,Se.x,Se.y]];for(d=new ls((de.x-Se.x)/2,(de.y-Se.y)/2).transform(new Ht().rotate(Q)),u=d.x*d.x/(U*U)+d.y*d.y/(z*z),u>1&&(U*=u=Math.sqrt(u),z*=u),h=new Ht().rotate(Q).scale(1/U,1/z).rotate(-Q),de=de.transform(h),Se=Se.transform(h),m=[Se.x-de.x,Se.y-de.y],b=m[0]*m[0]+m[1]*m[1],p=Math.sqrt(b),m[0]/=p,m[1]/=p,x=b<4?Math.sqrt(1-b/4):0,q===Z&&(x*=-1),y=new ls((Se.x+de.x)/2+x*-m[1],(Se.y+de.y)/2+x*m[0]),w=new ls(de.x-y.x,de.y-y.y),k=new ls(Se.x-y.x,Se.y-y.y),N=Math.acos(w.x/Math.sqrt(w.x*w.x+w.y*w.y)),w.y<0&&(N*=-1),T=Math.acos(k.x/Math.sqrt(k.x*k.x+k.y*k.y)),k.y<0&&(T*=-1),Z&&N>T&&(T+=2*Math.PI),!Z&&N<T&&(T-=2*Math.PI),I=Math.ceil(2*Math.abs(N-T)/Math.PI),A=[],P=N,E=(T-N)/I,S=4*Math.tan(E/4)/3,B=0;B<=I;B++)M=Math.cos(P),O=Math.sin(P),L=new ls(y.x+M,y.y+O),A[B]=[new ls(L.x+S*O,L.y-S*M),L,new ls(L.x-S*O,L.y+S*M)],P+=E;for(A[0][0]=A[0][1].clone(),A[A.length-1][2]=A[A.length-1][1].clone(),h=new Ht().rotate(Q).scale(U,z).rotate(-Q),B=0,G=A.length;B<G;B++)A[B][0]=A[B][0].transform(h),A[B][1]=A[B][1].transform(h),A[B][2]=A[B][2].transform(h);for(B=1,G=A.length;B<G;B++)X=(L=A[B-1][2]).x,H=L.y,W=(L=A[B][0]).x,ne=L.y,J=(L=A[B][1]).x,re=L.y,je.push(["C",X,H,W,ne,J,re]);return je})(this.pos,n),n=o[0]}return n[0]="C",this.pos=[n[5],n[6]],this.reflection=[2*n[5]-n[3],2*n[6]-n[4]],o}function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;if(o===!1)return!1;for(var l=o,c=n.length;l<c;++l)if(n[l][0]=="M")return l;return!1}Yt(Ro,{morph:function(n,o,l,c,d){for(var u=this.parse(n),h=this.parse(o),m=0,p=0,b=!1,x=!1;m!==!1||p!==!1;){var y;b=a(u,m!==!1&&m+1),x=a(h,p!==!1&&p+1),m===!1&&(m=(y=new Ro(w.start).bbox()).height==0||y.width==0?u.push(u[0])-1:u.push(["M",y.x+y.width/2,y.y+y.height/2])-1),p===!1&&(p=(y=new Ro(w.dest).bbox()).height==0||y.width==0?h.push(h[0])-1:h.push(["M",y.x+y.width/2,y.y+y.height/2])-1);var w=r(u,m,b,h,p,x);u=u.slice(0,m).concat(w.start,b===!1?[]:u.slice(b)),h=h.slice(0,p).concat(w.dest,x===!1?[]:h.slice(x)),m=b!==!1&&m+w.start.length,p=x!==!1&&p+w.dest.length}this._array=u,this.destination=new Ro,this.destination._array=h;var k=this.fromArray(u.map((function(N,T){var E=h[T].map((function(I,S){return S===0?I:c.step(N[S],h[T][S],l,d[T],d)}));return E})));return k}})})();const GF=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY});class W1e{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(GF(e));const s=(t?"mouseup":"touchend")+".drag";fc(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),fc(window,s,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:s}=this,a=this.el.point(GF(e)),n=a.x-s.x,o=a.y-s.y;if(!n&&!o)return t;const l=t.x+n,c=t.y+o;this.box=new aa(l,c,t.w,t.h),this.lastClick=a,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(l,c)}move(e,t){this.el.type==="svg"?Cd.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),co(window,"mousemove.drag"),co(window,"touchmove.drag"),co(window,"mouseup.drag"),co(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function HE(r,e,t,s=null){return function(a){a.preventDefault(),a.stopPropagation();var n=a.pageX||a.touches[0].pageX,o=a.pageY||a.touches[0].pageY;e.fire(r,{x:n,y:o,event:a,index:s,points:t})}}function $E([r,e],{a:t,b:s,c:a,d:n,e:o,f:l}){return[r*t+e*a+o,r*s+e*n+l]}Yt(xn,{draggable(r=!0){return(this.remember("_draggable")||new W1e(this)).init(r),this}});let h$=class{constructor(r){this.el=r,r.remember("_selectHandler",this),this.selection=new Cd,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=gb();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.createRot=r.createRot||this.createRotFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.updateRot=r.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((r,e,t)=>{const s=this.order[e];this.createHandle.call(this,this.selection,r,e,t,s),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+s).on("mousedown.selection touchstart.selection",HE(s,this.el,this.handlePoints,e))}))}createHandleFn(r){r.polyline()}updateHandleFn(r,e,t,s){const a=s.at(t-1),n=s[(t+1)%s.length],o=e,l=[o[0]-a[0],o[1]-a[1]],c=[o[0]-n[0],o[1]-n[1]],d=Math.sqrt(l[0]*l[0]+l[1]*l[1]),u=Math.sqrt(c[0]*c[0]+c[1]*c[1]),h=[l[0]/d,l[1]/d],m=[c[0]/u,c[1]/u],p=[o[0]-10*h[0],o[1]-10*h[1]],b=[o[0]-10*m[0],o[1]-10*m[1]];r.plot([p,o,b])}updateResizeHandles(){this.handlePoints.forEach(((r,e,t)=>{const s=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),r,e,t,s)}))}createRotFn(r){r.line(),r.circle(5)}getPoint(r){return this.handlePoints[this.order.indexOf(r)]}getPointHandle(r){return this.selection.get(this.order.indexOf(r)+1)}updateRotFn(r,e){const t=this.getPoint("t");r.get(0).plot(t[0],t[1],e[0],e[1]),r.get(1).center(e[0],e[1])}createRotationHandle(){const r=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",HE("rot",this.el,this.handlePoints));this.createRot.call(this,r)}updateRotationHandle(){const r=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(r,this.rotationPoint,this.handlePoints)}updatePoints(){const r=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(r).map((t=>$E(t,e))),this.rotationPoint=$E(this.getRotationPoint(r),e)}getHandlePoints({x:r,x2:e,y:t,y2:s,cx:a,cy:n}=this.el.bbox()){return[[r,t],[a,t],[e,t],[e,n],[e,s],[a,s],[r,s],[r,n]]}getRotationPoint({y:r,cx:e}=this.el.bbox()){return[e,r-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const YF=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let s=this.remember("_"+r.name);return s||(e.prototype instanceof h$?(s=new e(this),e=!0):s=new r(this),this.remember("_"+r.name,s)),s.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function WE(r,e,t,s=null){return function(a){a.preventDefault(),a.stopPropagation();var n=a.pageX||a.touches[0].pageX,o=a.pageY||a.touches[0].pageY;e.fire(r,{x:n,y:o,event:a,index:s,points:t})}}function qE([r,e],{a:t,b:s,c:a,d:n,e:o,f:l}){return[r*t+e*a+o,r*s+e*n+l]}Yt(xn,{select:YF(h$)}),Yt([ah,nh,sh],{pointSelect:YF(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new Cd,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=gb();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",HE("point",this.el,this.points,e))}))}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach(((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)}))}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((e=>$E(e,r)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class f${constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new Cd,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=gb();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((e,t,s)=>{const a=this.order[t];this.createHandle.call(this,this.selection,e,t,s,a),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+a).on("mousedown.selection touchstart.selection",WE(a,this.el,this.handlePoints,t))}))}createHandleFn(e){e.polyline()}updateHandleFn(e,t,s,a){const n=a.at(s-1),o=a[(s+1)%a.length],l=t,c=[l[0]-n[0],l[1]-n[1]],d=[l[0]-o[0],l[1]-o[1]],u=Math.sqrt(c[0]*c[0]+c[1]*c[1]),h=Math.sqrt(d[0]*d[0]+d[1]*d[1]),m=[c[0]/u,c[1]/u],p=[d[0]/h,d[1]/h],b=[l[0]-10*m[0],l[1]-10*m[1]],x=[l[0]-10*p[0],l[1]-10*p[1]];e.plot([b,l,x])}updateResizeHandles(){this.handlePoints.forEach(((e,t,s)=>{const a=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,s,a)}))}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const s=this.getPoint("t");e.get(0).plot(s[0],s[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",WE("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map((s=>qE(s,t))),this.rotationPoint=qE(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:s,y2:a,cx:n,cy:o}=this.el.bbox()){return[[e,s],[n,s],[t,s],[t,o],[t,a],[n,a],[e,a],[e,o]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const XF=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let s=this.remember("_"+r.name);return s||(e.prototype instanceof f$?(s=new e(this),e=!0):s=new r(this),this.remember("_"+r.name,s)),s.active(e,t),this};Yt(xn,{select:XF(f$)}),Yt([ah,nh,sh],{pointSelect:XF(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new Cd,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=gb();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",WE("point",this.el,this.points,e))}))}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach(((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)}))}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((e=>qE(e,r)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const o1=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY}),KF=r=>{let e=1/0,t=1/0,s=-1/0,a=-1/0;for(let n=0;n<r.length;n++){const o=r[n];e=Math.min(e,o[0]),t=Math.min(t,o[1]),s=Math.max(s,o[0]),a=Math.max(a,o[1])}return new aa(e,t,s-e,a-t)};class ZF{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:s,points:a}=e.detail,n=!t.type.indexOf("mouse");if(n&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(o1(t)),this.index=s,this.points=a.slice();const o=(n?"mousemove":"touchmove")+".resize",l=(n?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?fc(window,o,this.movePoint):e.type==="rot"?fc(window,o,this.rotate):fc(window,o,this.resize),fc(window,l,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(o1(e)));let s=t.x-this.startPoint.x,a=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(s*=2,a*=2);const n=this.box.x+s,o=this.box.y+a,l=this.box.x2+s,c=this.box.y2+a;let d=new aa(this.box);if(this.eventType.includes("l")&&(d.x=Math.min(n,this.box.x2),d.x2=Math.max(n,this.box.x2)),this.eventType.includes("r")&&(d.x=Math.min(l,this.box.x),d.x2=Math.max(l,this.box.x)),this.eventType.includes("t")&&(d.y=Math.min(o,this.box.y2),d.y2=Math.max(o,this.box.y2)),this.eventType.includes("b")&&(d.y=Math.min(c,this.box.y),d.y2=Math.max(c,this.box.y)),d.width=d.x2-d.x,d.height=d.y2-d.y,this.preserveAspectRatio){const u=d.width/this.box.width,h=d.height/this.box.height,m=["lt","t","rt","r","rb","b","lb","l"],p=(m.indexOf(this.eventType)+4)%m.length,b=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[p];let x=this.eventType.includes("t")||this.eventType.includes("b")?h:u;x=this.eventType.length===2?Math.max(u,h):x,d=(function(y,w,k){const N=[[y.x,y.y],[y.x+y.width,y.y],[y.x+y.width,y.y+y.height],[y.x,y.y+y.height]].map((([T,E])=>{const I=T-w[0],S=(E-w[1])*k;return[I*k+w[0],S+w[1]]}));return KF(N)})(this.box,b,x)}this.el.dispatch("resize",{box:new aa(d),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(d.width,d.height).move(d.x,d.y)}movePoint(e){this.lastEvent=e;const{x:t,y:s}=this.snapToGrid(this.el.point(o1(e))),a=this.el.array().slice();a[this.index]=[t,s],this.el.dispatch("resize",{box:KF(a),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(a)}rotate(e){this.lastEvent=e;const t=this.startPoint,s=this.el.point(o1(e)),{cx:a,cy:n}=this.box,o=t.x-a,l=t.y-n,c=s.x-a,d=s.y-n,u=Math.sqrt(o*o+l*l)*Math.sqrt(c*c+d*d);if(u===0)return;let h=Math.acos((o*c+l*d)/u)/Math.PI*180;if(!h)return;s.x<t.x&&(h=-h);const m=new Ht(this.el),{x:p,y:b}=new ls(a,n).transformO(m),{rotate:x}=m.decompose(),y=this.snapToAngle(x+h)-x;this.el.dispatch("resize",{box:this.box,angle:y,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(m.rotateO(y,p,b))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",co(window,"mousemove.resize touchmove.resize"),co(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}Yt(xn,{resize:function(r=!0,e={}){typeof r=="object"&&(e=r,r=!0);let t=this.remember("_ResizeHandler");return t||(r.prototype instanceof ZF?(t=new r(this),r=!0):t=new ZF(this),this.remember("_resizeHandler",t)),t.active(r,e),this}}),window.SVG===void 0&&(window.SVG=i1e),window.Apex===void 0&&(window.Apex={});var QF=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new g0(this.ctx),this.ctx.axes=new p1e(this.ctx),this.ctx.core=new H1e(this.ctx.el,this.ctx),this.ctx.config=new gx({}),this.ctx.data=new JC(this.ctx),this.ctx.grid=new r$(this.ctx),this.ctx.graphics=new ot(this.ctx),this.ctx.coreUtils=new na(this.ctx),this.ctx.crosshairs=new VE(this.ctx),this.ctx.events=new m1e(this.ctx),this.ctx.exports=new Tp(this.ctx),this.ctx.fill=new Lo(this.ctx),this.ctx.localization=new g1e(this.ctx),this.ctx.options=new Gu,this.ctx.responsive=new x1e(this.ctx),this.ctx.series=new ho(this.ctx),this.ctx.theme=new b1e(this.ctx),this.ctx.formatters=new bb(this.ctx),this.ctx.titleSubtitle=new y1e(this.ctx),this.ctx.legend=new a$(this.ctx),this.ctx.toolbar=new n$(this.ctx),this.ctx.tooltip=new WF(this.ctx),this.ctx.dimensions=new Yw(this.ctx),this.ctx.updateHelpers=new $1e(this.ctx),this.ctx.zoomPanSelection=new S1e(this.ctx),this.ctx.w.globals.tooltip=new WF(this.ctx)}}]),r})(),JF=(function(){function r(e){Rt(this,r),this.ctx=e,this.w=e.w}return It(r,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each((function(){this.removeClass("*"),this.off()}),!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,s=e.isUpdating,a=this.w.globals.dom.Paper.node;a.parentNode&&a.parentNode.parentNode&&!s&&(a.parentNode.parentNode.style.minHeight="unset");var n=this.w.globals.dom.baseEl;n&&this.ctx.eventList.forEach((function(l){n.removeEventListener(l,t.ctx.events.documentEvent)}));var o=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elLegendWrap=null,o.elLegendForeign=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectBarMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),r})(),WS=new WeakMap,q1e=(function(){function r(e,t){Rt(this,r),this.opts=t,this.ctx=this,this.w=new f1e(t).init(),this.el=e,this.w.globals.cuid=Pe.randomId(),this.w.globals.chartID=this.w.config.chart.id?Pe.escapeString(this.w.config.chart.id):this.w.globals.cuid,new QF(this).initModules(),this.lastUpdateOptions=null,this.create=Pe.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return It(r,[{key:"render",value:function(){var e=this;return new Promise((function(t,s){if(Pe.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var a=e.w.config.chart.events.beforeMount;typeof a=="function"&&a(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),(function(m,p){var b=!1;if(m.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var x=m.getBoundingClientRect();m.style.display!=="none"&&x.width!==0||(b=!0)}var y=new ResizeObserver((function(w){b&&p.call(m,w),b=!0}));m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(m.children).forEach((function(w){return y.observe(w)})):y.observe(m),WS.set(p,y)})(e.el.parentNode,e.parentResizeHandler);var n=e.el.getRootNode&&e.el.getRootNode(),o=Pe.is("ShadowRoot",n),l=e.el.ownerDocument,c=o?n.getElementById("apexcharts-css"):l.getElementById("apexcharts-css");if(!c){var d;(c=document.createElement("style")).id="apexcharts-css",c.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var u=((d=e.opts.chart)===null||d===void 0?void 0:d.nonce)||e.w.config.chart.nonce;u&&c.setAttribute("nonce",u),o?n.prepend(c):e.w.config.chart.injectStyleSheet!==!1&&l.head.appendChild(c)}var h=e.create(e.w.config.series,{});if(!h)return t(e);e.mount(h).then((function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(h)})).catch((function(m){s(m)}))}else s(new Error("Element not found"))}))}},{key:"create",value:function(e,t){var s=this,a=this.w;new QF(this).initModules();var n=this.w.globals;if(n.noData=!1,n.animationEnded=!1,!Pe.elementExists(this.el)||(this.responsive.checkResponsiveConfig(t),a.config.xaxis.convertedCatToNumeric&&new mx(a.config).convertCatToNumericXaxis(a.config,this.ctx),this.core.setupElements(),a.config.chart.type==="treemap"&&(a.config.grid.show=!1,a.config.yaxis[0].show=!1),n.svgWidth===0))return n.animationEnded=!0,null;var o=e;e.forEach((function(m,p){m.hidden&&(o=s.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:p}))}));var l=na.checkComboSeries(o,a.config.chart.type);n.comboCharts=l.comboCharts,n.comboBarCount=l.comboBarCount;var c=o.every((function(m){return m.data&&m.data.length===0}));(o.length===0||c&&n.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new y0(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),n.noData&&n.collapsedSeries.length!==n.series.length&&!a.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),n.axisCharts&&(this.core.coreCalculations(),a.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=a.globals.minX,this.ctx.toolbar.maxX=a.globals.maxX),this.formatters.heatmapLabelFormatters(),new na(this).getLargestMarkerSize(),this.dimensions.plotCoords();var d=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(o,d),h=new Hm(this);return h.bringForward(),a.config.dataLabels.background.enabled&&h.dataLabelsBackground(),this.core.shiftGraphPosition(),a.globals.dataPoints>50&&a.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:u,xyRatios:d,dimensions:{plot:{left:a.globals.translateX,top:a.globals.translateY,width:a.globals.gridWidth,height:a.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this,a=s.w;return new Promise((function(n,o){if(s.el===null)return o(new Error("Not enough data to display or target element not found"));(t===null||a.globals.allSeriesCollapsed)&&s.series.handleNoData(),s.grid=new r$(s);var l,c,d=s.grid.drawGrid();if(s.annotations=new h1e(s),s.annotations.drawImageAnnos(),s.annotations.drawTextAnnos(),a.config.grid.position==="back"&&(d&&a.globals.dom.elGraphical.add(d.el),d!=null&&(l=d.elGridBorders)!==null&&l!==void 0&&l.node&&a.globals.dom.elGraphical.add(d.elGridBorders)),Array.isArray(t.elGraph))for(var u=0;u<t.elGraph.length;u++)a.globals.dom.elGraphical.add(t.elGraph[u]);else a.globals.dom.elGraphical.add(t.elGraph);a.config.grid.position==="front"&&(d&&a.globals.dom.elGraphical.add(d.el),d!=null&&(c=d.elGridBorders)!==null&&c!==void 0&&c.node&&a.globals.dom.elGraphical.add(d.elGridBorders)),a.config.xaxis.crosshairs.position==="front"&&s.crosshairs.drawXCrosshairs(),a.config.yaxis[0].crosshairs.position==="front"&&s.crosshairs.drawYCrosshairs(),a.config.chart.type!=="treemap"&&s.axes.drawAxis(a.config.chart.type,d);var h=new px(e.ctx,d),m=new e4(e.ctx,d);if(d!==null&&(h.xAxisLabelCorrections(d.xAxisTickWidth),m.setYAxisTextAlignments(),a.config.yaxis.map((function(b,x){a.globals.ignoreYAxisIndexes.indexOf(x)===-1&&m.yAxisTitleRotate(x,b.opposite)}))),s.annotations.drawAxesAnnotations(),!a.globals.noData){if(a.config.tooltip.enabled&&!a.globals.noData&&s.w.globals.tooltip.drawTooltip(t.xyRatios),a.globals.axisCharts&&(a.globals.isXNumeric||a.config.xaxis.convertedCatToNumeric||a.globals.isRangeBar))(a.config.chart.zoom.enabled||a.config.chart.selection&&a.config.chart.selection.enabled||a.config.chart.pan&&a.config.chart.pan.enabled)&&s.zoomPanSelection.init({xyRatios:t.xyRatios});else{var p=a.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(b){p[b]=!1}))}a.config.chart.toolbar.show&&!a.globals.allSeriesCollapsed&&s.toolbar.createToolbar()}a.globals.memory.methodsToExec.length>0&&a.globals.memory.methodsToExec.forEach((function(b){b.method(b.params,!1,b.context)})),a.globals.axisCharts||a.globals.noData||s.core.resizeNonAxisCharts(),n(s)}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),(function(t,s){var a=WS.get(s);a&&(a.disconnect(),WS.delete(s))})(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach((function(t,s){t.id===Pe.escapeString(e)&&Apex._chartInstances.splice(s,1)})),new JF(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],l=this.w;return l.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map((function(c,d){return t.updateHelpers._extendSeries(c,d)}))),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),l.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,s,a,n,o))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,s)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var a=this.w.config.series.slice();return a.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,t,s)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=this;s.data.resetParsingFlags(),s.w.globals.dataChanged=!0,s.series.getPreviousPaths();for(var a=s.w.config.series.slice(),n=0;n<a.length;n++)if(e[n]!==null&&e[n]!==void 0)for(var o=0;o<e[n].data.length;o++)a[n].data.push(e[n].data[o]);return s.w.config.series=a,t&&(s.w.globals.initialSeries=Pe.clone(s.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise((function(s,a){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return s(t);t.lastUpdateOptions=Pe.clone(e),new JF(t.ctx).clear({isUpdating:!0});var n=t.create(t.w.config.series,e);if(!n)return s(t);t.mount(n).then((function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,s(t)})).catch((function(o){a(o)}))}))}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach((function(s){t.push(s)}))),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(t){return e.w.config.chart.group===t.group?t.chart:e}))}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;s&&(a=s),a.annotations.addXaxisAnnotationExternal(e,t,a)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;s&&(a=s),a.annotations.addYaxisAnnotationExternal(e,t,a)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;s&&(a=s),a.annotations.addPointAnnotationExternal(e,t,a)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=this;t&&(s=t),s.annotations.removeAnnotation(s,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new zE(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new zE(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Tp(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new Tp(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Tp(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=Pe.escapeString(e);if(Apex._chartInstances){var s=Apex._chartInstances.filter((function(a){return a.id===t}))[0];return s&&s.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new r(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var s=this.getChartByID(e);if(s){s.w.globals.isExecCalled=!0;var a=null;if(s.publicMethods.indexOf(t)!==-1){for(var n=arguments.length,o=new Array(n>2?n-2:0),l=2;l<n;l++)o[l-2]=arguments[l];a=s[t].apply(s,o)}return a}}},{key:"merge",value:function(e,t){return Pe.extend(e,t)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),r})();const G1e=Object.freeze(Object.defineProperty({__proto__:null,default:q1e},Symbol.toStringTag,{value:"Module"})),Y1e=XG(G1e);var eL;function X1e(){return eL||(eL=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=N;var e=l(l2()),t=n(Y1e),s=n(Zz()),a=["type","width","height","series","options"];function n(T){return T&&T.__esModule?T:{default:T}}function o(T){var E,I;return typeof WeakMap!="function"?null:(E=new WeakMap,I=new WeakMap,(o=function(S){return S?I:E})(T))}function l(T,E){if(!E&&T&&T.__esModule)return T;if(T===null||h(T)!="object"&&typeof T!="function")return{default:T};if(E=o(E),E&&E.has(T))return E.get(T);var I,S,A={__proto__:null},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in T)I!=="default"&&{}.hasOwnProperty.call(T,I)&&((S=P?Object.getOwnPropertyDescriptor(T,I):null)&&(S.get||S.set)?Object.defineProperty(A,I,S):A[I]=T[I]);return A.default=T,E&&E.set(T,A),A}function c(){return(c=Object.assign?Object.assign.bind():function(T){for(var E=1;E<arguments.length;E++){var I,S=arguments[E];for(I in S)!{}.hasOwnProperty.call(S,I)||(T[I]=S[I])}return T}).apply(null,arguments)}function d(T,E){if(T==null)return{};var I,S=u(T,E);if(Object.getOwnPropertySymbols)for(var A=Object.getOwnPropertySymbols(T),P=0;P<A.length;P++)I=A[P],E.includes(I)||{}.propertyIsEnumerable.call(T,I)&&(S[I]=T[I]);return S}function u(T,E){if(T==null)return{};var I,S={};for(I in T)if({}.hasOwnProperty.call(T,I)){if(E.includes(I))continue;S[I]=T[I]}return S}function h(T){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(T)}function m(T,E){var I,S=Object.keys(T);return Object.getOwnPropertySymbols&&(I=Object.getOwnPropertySymbols(T),E&&(I=I.filter(function(A){return Object.getOwnPropertyDescriptor(T,A).enumerable})),S.push.apply(S,I)),S}function p(T){for(var E=1;E<arguments.length;E++){var I=arguments[E]!=null?arguments[E]:{};E%2?m(Object(I),!0).forEach(function(S){b(T,S,I[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(I)):m(Object(I)).forEach(function(S){Object.defineProperty(T,S,Object.getOwnPropertyDescriptor(I,S))})}return T}function b(T,E,I){return(E=x(E))in T?Object.defineProperty(T,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):T[E]=I,T}function x(T){return T=y(T,"string"),h(T)=="symbol"?T:T+""}function y(T,E){if(h(T)!="object"||!T)return T;var I=T[Symbol.toPrimitive];if(I===void 0)return(E==="string"?String:Number)(T);if(I=I.call(T,E),h(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}function w(T,E){var I=p({},T);return E.forEach(function(S){delete I[S]}),I}function k(T,E){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(T!==E){if(h(T)!=="object"||T===null||h(E)!=="object"||E===null)return!1;if(!I.has(T)&&!I.has(E)){I.add(T),I.add(E);var S=Object.keys(T),A=Object.keys(E);if(S.length!==A.length)return!1;for(var P=0,O=S;P<O.length;P++){var M=O[P];if(!A.includes(M)||!k(T[M],E[M],I))return!1}}}return!0}function N(W){function E(ne){return ne&&h(ne)==="object"&&!Array.isArray(ne)}var M=W.type,I=M===void 0?"line":M,M=W.width,S=M===void 0?"100%":M,M=W.height,A=M===void 0?"auto":M,P=W.series,O=W.options,M=d(W,a),L=(0,e.useRef)(null),B=(0,e.useRef)(null),G=(0,e.useRef)(),X=((0,e.useEffect)(function(){G.current=O;var ne=L.current;return B.current=new t.default(ne,X()),B.current.render(),function(){B.current&&typeof B.current.destroy=="function"&&B.current.destroy()}},[]),(0,e.useEffect)(function(){var ne=!k(B.current.w.config.series,P),U=!k(G.current,O)||A!==B.current.opts.chart.height||S!==B.current.opts.chart.width;(ne||U)&&(!ne||U?B.current.updateOptions(X()):B.current.updateSeries(P)),G.current=O},[O,P,A,S]),function(){return H(O,{chart:{type:I,height:A,width:S},series:P})}),H=function(ne,U){var z=p({},ne);return E(ne)&&E(U)&&Object.keys(U).forEach(function(Q){E(U[Q])&&Q in ne?z[Q]=H(ne[Q],U[Q]):Object.assign(z,b({},Q,U[Q]))}),z},W=w(M,Object.keys(N.propTypes));return e.default.createElement("div",c({ref:L},W))}N.propTypes={type:s.default.string.isRequired,series:s.default.array.isRequired,options:s.default.object.isRequired,width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number])}})(ES)),ES}var K1e=X1e();const Z1e=Px(K1e);function Q1e(){const r=zr(),[e,t]=R.useState(0),[s,a]=R.useState(0),[n,o]=R.useState(""),[l,c]=R.useState(""),[d,u]=R.useState(!0),[h,m]=R.useState(!1),[p,b]=R.useState(null),[x,y]=R.useState(!1),[w,k]=R.useState({series:[],options:{}});R.useEffect(()=>{if(!Ye.currentUser){r("/login");return}(async()=>{const O=qe(ve,"wallets",Ye.currentUser.uid),M=qe(ve,"users",Ye.currentUser.uid);try{const L=await wt(O);if(console.log(`Fetching wallet for ${Ye.currentUser.uid}:`,L.exists()?L.data():"No wallet"),!L.exists()){console.log(`Creating wallet for ${Ye.currentUser.uid}`);const H=await wt(M),W=H.exists()&&H.data().accountDetails?H.data().accountDetails:{accountNumber:`MOCK${Math.random().toString().slice(2,12)}`,bankName:"Mock Bank",accountName:"Mock Seller"};await gr(O,{availableBalance:0,pendingWithdrawals:0,updatedAt:lo(),accountDetails:W})}const B=await wt(M),G=B.exists()&&B.data().isOnboarded===!0,X=B.exists()&&B.data().isProSeller===!0;console.log(`Seller ${Ye.currentUser.uid} onboarding status: ${G?"onboarded":"not onboarded"}, pro status: ${X?"pro":"standard"}`),b(G||X),y(X),u(!1)}catch(L){console.error(`Error fetching wallet or status for ${Ye.currentUser.uid}:`,L),c("Failed to load wallet or status: "+L.message),u(!1)}})();const I=qe(ve,"wallets",Ye.currentUser.uid),S=yr(I,O=>{if(O.exists()){const M=O.data();console.log(`Snapshot for ${Ye.currentUser.uid}:`,M),t(M.availableBalance||0),a(M.pendingWithdrawals||0),T(M.availableBalance||0,M.pendingWithdrawals||0)}else console.log(`No wallet for ${Ye.currentUser.uid}`),t(0),a(0),T(0,0)},O=>{console.error("Wallet snapshot error:",O),c("Failed to update wallet: "+O.message)}),A=Lt(Xe(ve,"transactions"),Tt("sellerId","==",Ye.currentUser.uid),Tt("type","==","Withdrawal")),P=yr(A,O=>{console.log(`Received ${O.docs.length} withdrawal transactions for seller ${Ye.currentUser.uid}`)},O=>{console.error("Transaction snapshot error:",O),c(`Failed to fetch transactions: ${O.message}`)});return()=>{S(),P()}},[r]);const N=async E=>{if(E.preventDefault(),c(""),u(!0),!p){console.log(`Withdrawal blocked: Seller ${Ye.currentUser.uid} is not onboarded`),m(!0),u(!1);return}const I=parseFloat(n);if(isNaN(I)||I<=0){c("Enter a valid amount."),u(!1);return}if(I>e){c("Insufficient balance."),u(!1);return}const S="https://foremade-backend.onrender.com";try{const A=qe(ve,"wallets",Ye.currentUser.uid),P=await wt(A),O=P.exists()&&P.data().accountDetails?P.data().accountDetails:{accountNumber:`MOCK${Math.random().toString().slice(2,12)}`,bankName:"Mock Bank",accountName:"Mock Seller"},M={sellerId:Ye.currentUser.uid,amount:I,transactionReference:`TXN_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,accountDetails:O};console.log("Withdrawal request:",`${S}/initiate-seller-payout`,M),(await jr.post(`${S}/initiate-seller-payout`,M,{timeout:1e4})).data.status==="success"&&(o(""),m(!1),alert("Withdrawal submitted. Funds will be credited upon admin approval."))}catch(A){console.error("Withdrawal error:",A),c("Withdrawal failed: "+(A.response?.data?.error||A.message))}finally{u(!1)}},T=(E=e,I=0)=>{k({series:[E,I],options:{chart:{type:"area",height:"100%",width:"100%",animations:{enabled:!0}},xaxis:{categories:["Balance"]},yaxis:{title:{text:"Amount (NGN)"},min:0},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},colors:["#2563EB","#c08640"],legend:{position:"top",horizontalAlign:"center"},tooltip:{y:{formatter:S=>`${S.toFixed(2)}`},custom:({series:S,seriesIndex:A,dataPointIndex:P,w:O})=>`<div class="p-2 bg-gray-800 text-white rounded-lg">
              ${O.globals.seriesNames[A]}: ${S[A][P].toFixed(2)}
            </div>`},dataLabels:{enabled:!1}}})};return d?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 sm:p-6 md:p-8 lg:p-10",children:i.jsxs("div",{className:"max-w-8xl mx-auto w-full bg-white rounded-2xl shadow-lg p-6 sm:p-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vm,{className:"w-8 h-8 text-blue-600"}),i.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-900",children:"My Wallet"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Vz,{}),p!==null&&(p?i.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full text-green-600 bg-green-100",children:`Status: Onboarded (${x?"Pro":"Standard"} Seller)`}):i.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full text-red-600 bg-red-100 cursor-pointer hover:bg-red-200 transition",onClick:()=>window.location.href="/seller-onboarding","aria-label":"Onboard as seller",children:"Please Onboard"}))]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-5 text-white shadow-md relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-2 right-2 opacity-30",children:i.jsx(vm,{className:"w-16 h-16"})}),i.jsxs("span",{className:"text-xs font-light",children:["Wallet ID: ",Ye.currentUser.uid]}),i.jsx("h3",{className:"text-lg font-semibold mt-2",children:"Available Balance"}),i.jsx("p",{className:"text-2xl font-bold mt-2 bg-white p-2 rounded-lg text-blue-900",children:i.jsx(Ms,{price:e})})]}),i.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-5 text-white shadow-md relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-2 right-2 opacity-30",children:i.jsx(vm,{className:"w-16 h-16"})}),i.jsx("span",{className:"text-xs font-light",children:"Pending Transactions"}),i.jsx("h3",{className:"text-lg font-semibold mt-2",children:"Pending Withdrawals"}),i.jsx("p",{className:"text-2xl font-bold mt-2 bg-white p-2 rounded-lg text-orange-900",children:i.jsx(Ms,{price:s})})]})]}),i.jsxs("form",{onSubmit:N,className:"bg-white border border-gray-100 rounded-2xl shadow-md p-5 sm:p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(oue,{className:"w-5 h-5 text-green-600"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Request Withdrawal"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"withdraw-amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Withdrawal Amount"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"withdraw-amount",type:"number",value:n,onChange:E=>o(E.target.value),className:"p-3 pl-10 w-full border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-base transition",required:!0,"aria-label":"Withdrawal Amount",min:"1",step:"any"}),i.jsx("i",{className:"bx bx-money absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum withdrawal: 1. Withdrawals subject to admin approval, may take up to 24 hours."})]}),l&&i.jsx("p",{className:"text-red-500 text-sm mb-4",children:l}),i.jsxs("button",{type:"submit",className:`w-full mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300 transition flex items-center justify-center gap-2 ${d?"opacity-50 cursor-not-allowed":""}`,disabled:d,"aria-label":"Request Withdrawal",children:[i.jsx("i",{className:"bx bx-wallet"}),"Request Withdrawal",d&&i.jsx("i",{className:"bx bx-loader-alt animate-spin"})]})]}),i.jsxs("div",{className:"mt-6 bg-white p-4 sm:p-6 rounded-lg shadow-md",children:[i.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-wallet text-blue-600"}),"Wallet Balance"]}),i.jsx("div",{className:"h-64 sm:h-80",children:i.jsx(Z1e,{options:w.options,series:w.series,type:"area",height:"100%"})})]}),h&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Onboarding Required"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Please onboard as a seller to withdraw funds."}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition","aria-label":"Close modal",children:"Cancel"}),i.jsx("button",{onClick:()=>r("/seller-onboarding"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition","aria-label":"Go to onboarding",children:"Onboard Now"})]})]})})]})})]})}const J1e=()=>{const[r,e]=R.useState({}),t=a=>{e(n=>({...n,[a]:!n[a]}))},s=[{id:"introduction",title:"Introduction and Scope",icon:"bx-info-circle",content:i.jsx("p",{className:"text-secondary leading-relaxed",children:'This Privacy Notice explains how Foremade and its affiliates ("Foremade", "we", "us", or "our") collect, use, store, share, and protect your personal data. It complies with international privacy laws including GDPR, NDPR, CCPA, and more.'})},{id:"controller",title:"Data Controller",icon:"bx-globe",content:i.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{region:"EU",entity:"Foremade GmbH  Berlin, Germany"},{region:"UK",entity:"Foremade UK Ltd.  London"},{region:"Nigeria",entity:"Foremade Nigeria Ltd.  Lagos"},{region:"Other Africa",entity:"Foremade Africa Ltd.  Nairobi"},{region:"Americas",entity:"Foremade Americas Inc.  Delaware, USA"},{region:"Asia",entity:"Foremade Asia Pte. Ltd.  Singapore"},{region:"All Regions",entity:"Foremade Global AG  Zurich"}].map(({region:a,entity:n},o)=>i.jsxs("div",{className:"bg-background-light p-3 rounded-lg border-l-4 border-primary",children:[i.jsx("div",{className:"font-semibold text-primary",children:a}),i.jsx("div",{className:"text-sm text-secondary",children:n})]},o))})},{id:"contact",title:"Contact and DPO",icon:"bx-envelope",content:i.jsx("div",{className:"bg-background-light p-4 rounded-lg border border-border-light",children:i.jsxs("p",{className:"text-secondary",children:["Reach our Data Protection Officers via the"," ",i.jsx(Fe,{to:"/privacy-policy/contact",className:"policy-link font-semibold",children:"Privacy Centre"}),"."]})})},{id:"data-collection",title:"What Data We Collect",icon:"bx-shield",content:i.jsx("div",{className:"space-y-3",children:[{type:"Identity",desc:"Name, email, phone number"},{type:"Account Data",desc:"Order history, preferences, settings"},{type:"Usage Data",desc:"Device/browser information, interaction patterns"},{type:"Geolocation",desc:"Location data (if enabled by you)"},{type:"Third-party Sources",desc:"Data from partners and public sources"}].map(({type:a,desc:n},o)=>i.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-background-light rounded-lg",children:[i.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-primary",children:a}),i.jsx("div",{className:"text-sm text-secondary",children:n})]})]},o))})},{id:"legal-basis",title:"Legal Basis",icon:"bx-check-circle",content:i.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:["Contract fulfillment","Legal compliance","Platform improvement","Consent (e.g., marketing)"].map((a,n)=>i.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-background-light rounded-lg",children:[i.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),i.jsx("span",{className:"text-primary font-medium",children:a})]},n))})},{id:"transfers",title:"International Transfers",icon:"bx-world",content:i.jsx("div",{className:"bg-background-light p-4 rounded-lg border-l-4 border-primary",children:i.jsx("p",{className:"text-secondary leading-relaxed",children:"We use Standard Contractual Clauses (SCCs), NDPR rules, APEC frameworks, or other safeguards to protect your data when transferred internationally."})})},{id:"retention",title:"Data Retention",icon:"bx-folder",content:i.jsx("p",{className:"text-secondary leading-relaxed",children:"We keep your data as long as needed to deliver services, comply with legal obligations, or resolve disputes."})},{id:"rights",title:"Your Rights",icon:"bx-user",content:i.jsxs("div",{className:"bg-background-light p-4 rounded-lg border border-border-light",children:[i.jsx("p",{className:"text-secondary mb-3",children:"Depending on your region, you may request access, correction, deletion, or restriction of your data."}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-primary",children:"Submit requests via our"}),i.jsx(Fe,{to:"/privacy-policy/contact",className:"policy-link font-semibold",children:"Privacy Centre"})]})]})},{id:"cookies",title:"Cookies",icon:"bx-cookie",content:i.jsx("div",{className:"bg-background-light p-4 rounded-lg border border-border-light",children:i.jsxs("p",{className:"text-secondary mb-3",children:["We use cookies to enhance performance and deliver marketing. Adjust your preferences in our"," ",i.jsx(Fe,{to:"/privacy-policy/cookies",className:"policy-link font-semibold",children:"Cookie Settings"}),"."]})})},{id:"security",title:"Data Security",icon:"bx-lock",content:i.jsx("div",{className:"bg-background-light p-4 rounded-lg border-l-4 border-primary",children:i.jsx("p",{className:"text-secondary leading-relaxed",children:"We apply encryption, access controls, and secure infrastructure to protect your data from unauthorized access and breaches."})})},{id:"third-party",title:"Third-Party Links",icon:"bx-link",content:i.jsx("p",{className:"text-secondary leading-relaxed",children:"We are not responsible for third-party privacy practices linked from our platform. Please review their policies separately."})},{id:"children",title:"Children's Privacy",icon:"bx-child",content:i.jsx("div",{className:"bg-background-light p-4 rounded-lg border border-border-light",children:i.jsx("p",{className:"text-secondary leading-relaxed",children:"Children under 16 require verified parental consent to use our services."})})},{id:"updates",title:"Policy Updates",icon:"bx-refresh",content:i.jsx("p",{className:"text-secondary leading-relaxed",children:"We may update this policy and will notify you of major changes through our website or email notifications."})}];return i.jsxs(i.Fragment,{children:[i.jsx("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/boxicons/2.1.4/css/boxicons.min.css",rel:"stylesheet"}),i.jsxs("div",{className:"min-h-screen bg-background-light py-8",children:[i.jsx("div",{className:"bg-gray-100",children:i.jsx("div",{className:"max-w-4xl mx-auto px-6 py-16",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"bg-primary/10 p-4 rounded-2xl",children:i.jsx("i",{className:"bx bx-shield text-4xl text-primary"})})}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-primary",children:"Foremade Global Privacy Notice"}),i.jsx("div",{className:"bg-accent px-4 py-2 rounded-full inline-block",children:i.jsx("p",{className:"text-accent font-medium",children:"Effective Date: June 2, 2025"})})]})})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[i.jsx("div",{className:"space-y-4",children:s.map(a=>i.jsxs("div",{className:"bg-background-light rounded-xl shadow-sm border border-border-light overflow-hidden hover:shadow-md transition-shadow",children:[i.jsxs("button",{onClick:()=>t(a.id),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-background-dark transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"text-primary flex items-center justify-center w-8",children:i.jsx("i",{className:`bx ${a.icon} text-2xl`})}),i.jsx("h2",{className:"text-xl font-semibold text-primary",children:a.title})]}),i.jsx("div",{className:"text-secondary",children:r[a.id]?i.jsx("i",{className:"bx bx-chevron-down text-2xl"}):i.jsx("i",{className:"bx bx-chevron-right text-2xl"})})]}),r[a.id]&&i.jsx("div",{className:"px-6 pb-6 border-t border-border-light",children:i.jsx("div",{className:"pt-4",children:a.content})})]},a.id))}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h3",{className:"text-2xl font-semibold text-primary mb-4",children:"Regional Policies"}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{name:"EU Policy",type:"eu"},{name:"UK Policy",type:"uk"},{name:"US Policy",type:"us"},{name:"Nigeria Policy",type:"nigeria"},{name:"Other Africa",type:"africa"},{name:"Americas Policy",type:"americas"},{name:"Asia Policy",type:"asia"},{name:"Australia/Oceania",type:"australia"}].map((a,n)=>i.jsxs(Fe,{to:`/privacy-policy/${a.type}`,className:"block p-4 rounded-lg border-2 bg-background-light hover:bg-background-dark transition-all group border-border-light hover:border-primary",children:[i.jsx("div",{className:"text-primary group-hover:text-secondary",children:a.name}),i.jsxs("div",{className:"text-sm flex items-center gap-1 text-secondary",children:["View regional details",i.jsx("i",{className:"bx bx-right-arrow-alt"})]})]},n))})]}),i.jsx("footer",{className:"mt-16 pt-8 border-t border-gray-200 text-center",children:i.jsxs("div",{className:"text-secondary text-sm",children:[" ",new Date().getFullYear()," Foremade Global. All rights reserved."]})})]})]})]})},ewe=()=>{const[r,e]=R.useState("requests"),[t,s]=R.useState({requestType:"",fullName:"",email:"",phone:"",region:"",requestDetails:"",additionalInfo:""}),[a,n]=R.useState(!1),o=[{value:"access",label:"Access My Data",description:"Get a copy of all personal data we hold about you"},{value:"correction",label:"Correct My Data",description:"Update or correct inaccurate personal information"},{value:"deletion",label:"Delete My Data",description:"Request deletion of your personal data (Right to be Forgotten)"},{value:"restriction",label:"Restrict Processing",description:"Limit how we process your personal data"},{value:"portability",label:"Data Portability",description:"Receive your data in a structured, machine-readable format"},{value:"objection",label:"Object to Processing",description:"Object to processing based on legitimate interests"},{value:"withdraw",label:"Withdraw Consent",description:"Withdraw previously given consent for data processing"},{value:"complaint",label:"File a Complaint",description:"Report privacy concerns or violations"}],l=[{value:"eu",label:"European Union (GDPR)"},{value:"uk",label:"United Kingdom (UK GDPR)"},{value:"nigeria",label:"Nigeria (NDPR)"},{value:"us",label:"United States (CCPA/CPRA)"},{value:"canada",label:"Canada (PIPEDA)"},{value:"australia",label:"Australia (Privacy Act)"},{value:"singapore",label:"Singapore (PDPA)"},{value:"other",label:"Other Region"}],c=u=>{const{name:h,value:m}=u.target;s(p=>({...p,[h]:m}))},d=async u=>{if(u.preventDefault(),!t.requestType||!t.fullName||!t.email){Ke.error("Please fill in all required fields");return}n(!0),setTimeout(()=>{Ke.success("Privacy request submitted successfully! We will respond within 30 days."),s({requestType:"",fullName:"",email:"",phone:"",region:"",requestDetails:"",additionalInfo:""}),n(!1)},2e3)};return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[i.jsx("div",{className:"flex justify-center mb-8",children:i.jsxs("div",{className:"bg-gray-100 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>e("requests"),className:`px-6 py-2 rounded-md transition-colors ${r==="requests"?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:"Privacy Requests"}),i.jsx("button",{onClick:()=>e("contact"),className:`px-6 py-2 rounded-md transition-colors ${r==="contact"?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:"Contact DPO"})]})}),r==="requests"&&i.jsxs("form",{onSubmit:d,className:"space-y-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Submit Privacy Request"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Request Type *"}),i.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:o.map(u=>i.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"requestType",value:u.value,checked:t.requestType===u.value,onChange:c,className:"mt-1"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:u.label}),i.jsx("div",{className:"text-sm text-gray-600",children:u.description})]})]},u.value))})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),i.jsx("input",{type:"text",name:"fullName",value:t.fullName,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),i.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number (Optional)"}),i.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region *"}),i.jsxs("select",{name:"region",value:t.region,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Select your region"}),l.map(u=>i.jsx("option",{value:u.value,children:u.label},u.value))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Request Details *"}),i.jsx("textarea",{name:"requestDetails",value:t.requestDetails,onChange:c,rows:"4",placeholder:"Please provide specific details about your request...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("i",{className:"bx bx-info-circle text-blue-600 text-xl mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Email Verification"}),i.jsxs("p",{className:"text-sm text-blue-700",children:["We will verify your identity via email at ",i.jsx("strong",{children:t.email}),". Please check your inbox for a verification link after submitting this request."]})]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Information (Optional)"}),i.jsx("textarea",{name:"additionalInfo",value:t.additionalInfo,onChange:c,rows:"3",placeholder:"Any additional context or specific requirements...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",disabled:a,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-semibold",children:a?i.jsxs("span",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-loader-alt animate-spin mr-2"}),"Submitting..."]}):"Submit Request"})})]}),r==="contact"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Contact Data Protection Officer"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[i.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Email Contact"}),i.jsx("p",{className:"text-blue-700 mb-4",children:"For privacy-related inquiries and support:"}),i.jsx("a",{href:"mailto:privacy@foremade.com",className:"text-blue-600 hover:text-blue-800 font-semibold",children:"privacy@foremade.com"})]}),i.jsxs("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[i.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"Response Time"}),i.jsx("p",{className:"text-green-700 mb-2",children:"We aim to respond to all privacy requests within:"}),i.jsxs("ul",{className:"text-green-700 text-sm space-y-1",children:[i.jsx("li",{children:" Initial acknowledgment: 24 hours"}),i.jsx("li",{children:" Full response: 30 days"}),i.jsx("li",{children:" Complex requests: 60 days"})]})]})]}),i.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200",children:[i.jsx("h4",{className:"font-semibold text-yellow-900 mb-3",children:"Data Protection Officer"}),i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("strong",{className:"text-yellow-800",children:"Email:"})," privacy@foremade.com"]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("strong",{className:"text-yellow-800",children:"Response Time:"})," Within 24-48 hours"]}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-yellow-800",children:"Languages:"})," English, French, Spanish, Arabic"]})]})]})]})]})},twe=()=>{const{type:r}=Pc(),e=zr(),t=()=>{switch(r){case"cookies":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[i.jsx("i",{className:"bx bx-cookie text-2xl text-yellow-600"}),"Cookie Settings"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-700",children:"We use cookies and similar technologies to provide, protect, and improve our services. This page helps you understand how we use them and what choices you have."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Essential Cookies"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Required for basic site functionality. Always active."})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Analytics Cookies"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors interact with our website."})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Marketing Cookies"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Used to deliver personalized advertisements."})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Preference Cookies"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Remember your settings and preferences."})]})]}),i.jsxs("div",{className:"mt-6 flex gap-4",children:[i.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Accept All"}),i.jsx("button",{className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Essential Only"})]})]})]});case"contact":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[i.jsx("i",{className:"bx bx-support text-2xl text-blue-600"}),"Privacy Centre"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-700",children:"Contact our Data Protection Officers for any privacy-related concerns or to exercise your data rights."}),i.jsx(ewe,{})]})]});case"eu":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[i.jsx("i",{className:"bx bx-flag text-2xl text-blue-600"}),"EU Privacy Policy"]}),i.jsxs("div",{className:"prose prose-blue max-w-none",children:[i.jsx("p",{className:"text-gray-700",children:"This policy complies with GDPR requirements for EU residents."}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-4",children:"Key GDPR Rights"}),i.jsx("div",{className:"grid gap-4",children:[{title:"Right to Access",description:"Individuals can request access to their personal data and obtain information about how it's processed.",link:"https://gdpr-info.eu/art-15-gdpr/"},{title:"Right to Rectification",description:"Allows individuals to have inaccurate personal data corrected.",link:"https://gdpr-info.eu/art-16-gdpr/"},{title:'Right to Erasure ("Right to be Forgotten")',description:"Enables individuals to request the deletion of their personal data under certain circumstances.",link:"https://gdpr-info.eu/art-17-gdpr/"},{title:"Right to Restrict Processing",description:"Individuals can request the limitation of their data processing under specific conditions.",link:"https://gdpr-info.eu/art-18-gdpr/"},{title:"Right to Data Portability",description:"Allows individuals to receive their personal data in a structured format and transfer it to another controller.",link:"https://gdpr-info.eu/art-20-gdpr/"},{title:"Right to Object to Processing",description:"Grants individuals the right to object to the processing of their personal data in certain situations.",link:"https://gdpr-info.eu/art-21-gdpr/"}].map((s,a)=>i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),i.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),i.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",children:["Learn More",i.jsx("i",{className:"bx bx-external-link text-lg"})]})]},a))})]})]});case"nigeria":return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-10",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[i.jsx("div",{className:"w-20 h-20 mb-4 flex items-center justify-center bg-green-100 rounded-full",children:i.jsx("i",{className:"bx bx-shield text-5xl text-green-700"})}),i.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-green-700 mb-2",children:"Your Data Protection Rights under Nigerian Law (NDPA 2023)"}),i.jsx("p",{className:"text-gray-600 max-w-xl",children:"As a data subject in Nigeria, the Nigeria Data Protection Act (NDPA) 2023 grants you specific rights regarding your personal data. These rights ensure transparency, accountability, and give you greater control over how your information is collected, used, stored, and shared by organizations."})]}),i.jsxs("div",{className:"bg-white/90 rounded-xl shadow-lg p-6 md:p-10 border border-green-100",children:[i.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"1. Right to Access Personal Data"}),i.jsx("p",{className:"mb-2",children:"You have the right to request and receive confirmation as to whether or not an organization holds your personal data. Where your data is being processed, you are entitled to:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-green-900",children:[i.jsx("li",{children:"A copy of the personal data being processed"}),i.jsx("li",{children:"Information about the purpose of the processing"}),i.jsx("li",{children:"The categories of data involved"}),i.jsx("li",{children:"The recipients or categories of recipients to whom the data has been disclosed"}),i.jsx("li",{children:"The retention period for the data or criteria for determining that period"}),i.jsx("li",{children:"The existence of your data protection rights (e.g., correction, deletion)"}),i.jsx("li",{children:"Information about any automated decision-making (e.g., profiling) that may affect you"})]}),i.jsx("p",{className:"mb-4",children:"Organizations must respond within 30 days and in a clear, intelligible format."}),i.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"2. Right to Data Correction (Rectification)"}),i.jsx("p",{className:"mb-4",children:"You have the right to request that inaccurate or incomplete data about you be corrected or updated without undue delay. The organization must also notify any third parties who received the inaccurate data."}),i.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"3. Right to Data Deletion (Erasure)"}),i.jsx("p",{className:"mb-2",children:'Also known as the "right to be forgotten", you may request the deletion of your data under specific conditions, such as:'}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsx("li",{children:"Data is no longer needed for its original purpose"}),i.jsx("li",{children:"You withdraw consent"}),i.jsx("li",{children:"You object to processing with no overriding legitimate reason"}),i.jsx("li",{children:"Data was unlawfully processed"}),i.jsx("li",{children:"Deletion is required for legal compliance"})]}),i.jsx("p",{className:"mb-4",children:"Note: This right is not absolute and may be limited by legal obligations."}),i.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"4. Right to Restrict Data Processing"}),i.jsx("p",{className:"mb-2",children:"You can request temporary restriction of data processing under circumstances such as:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsx("li",{children:"Contesting the accuracy of the data"}),i.jsx("li",{children:"Unlawful processing but preferring restriction over deletion"}),i.jsx("li",{children:"Data no longer needed but required for legal claims"}),i.jsx("li",{children:"Pending verification of objection to processing"})]}),i.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"5. Right to Data Portability"}),i.jsx("p",{className:"mb-4",children:"You have the right to receive your personal data in a structured, machine-readable format, and to transmit it to another data controller. This applies to data based on consent or a contract and processed by automated means."}),i.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3 mt-8",children:"How to Exercise Your Rights"}),i.jsxs("p",{className:"mb-4",children:["You may contact the organization (data controller) through a formal Data Subject Access Request (DSAR). A response is typically required within 30 days. If unsatisfied, complaints can be filed with the Nigeria Data Protection Commission (NDPC) at ",i.jsx("a",{href:"https://ndpc.gov.ng",target:"_blank",rel:"noopener noreferrer",className:"text-green-700 underline font-semibold",children:"https://ndpc.gov.ng"}),"."]})]})]})});case"us":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[i.jsx("i",{className:"bx bx-flag text-2xl text-red-600"}),"US Privacy Policy"]}),i.jsxs("div",{className:"prose prose-red max-w-none",children:[i.jsx("p",{className:"text-gray-700",children:"This policy complies with CCPA and other US privacy requirements."}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-4",children:"Key CCPA Rights"}),i.jsx("div",{className:"grid gap-4",children:[{title:"Right to Know",description:"Consumers can request disclosure of categories and specific pieces of personal information collected, sources, purposes, and third parties with whom it's shared.",link:"https://oag.ca.gov/privacy/ccpa"},{title:"Right to Delete",description:"Consumers can request the deletion of personal information collected by the business, subject to certain exceptions.",link:"https://oag.ca.gov/privacy/ccpa"},{title:"Right to Opt-Out of Sale or Sharing",description:"Consumers can direct businesses to stop selling or sharing their personal information with third parties.",link:"https://cppa.ca.gov/"},{title:"Right to Non-Discrimination",description:"Businesses cannot discriminate against consumers for exercising their CCPA rights.",link:"https://cppa.ca.gov/"}].map((s,a)=>i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),i.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),i.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-full hover:bg-red-100 transition-colors",children:["Learn More",i.jsx("i",{className:"bx bx-external-link text-lg"})]})]},a))})]})]});case"asia":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[i.jsx("i",{className:"bx bx-flag text-2xl text-yellow-600"}),"Asia Privacy Policy"]}),i.jsxs("div",{className:"prose prose-yellow max-w-none",children:[i.jsx("p",{className:"text-gray-700",children:"This policy complies with APEC and Asian privacy requirements."}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-4",children:"Key Privacy Resources"}),i.jsx("div",{className:"grid gap-4",children:[{title:"APEC Privacy Framework",description:"Comprehensive framework for privacy protection across APEC member economies.",link:"https://www.apec.org/docs/default-source/Publications/2005/12/APEC-Privacy-Framework/05_ecsg_privacyframewk.pdf"},{title:"APEC Secretariat Privacy Policy",description:"Official privacy policy and procedures of the APEC Secretariat.",link:"https://www.apec.org/docs/default-source/aboutus/policiesandprocedures/1a-apec-secretariatpersonal-data-protection-policy-v2-1-%28approved-by-cmg-on-22-july-2022%29.pdf"},{title:"CBPR System Guidelines",description:"Cross-Border Privacy Rules system policies and guidelines.",link:"https://cbprs.org/wp-content/uploads/2019/11/4.-CBPR-Policies-Rules-and-Guidelines-Revised-For-Posting-3-16-updated-1709-2019.pdf"},{title:"Hong Kong Privacy Guidelines",description:"Privacy protection guidelines from the Office of the Privacy Commissioner for Personal Data.",link:"https://www.pcpd.org.hk/english/files/infocentre/1tonylam1_ppt.pdf"}].map((s,a)=>i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),i.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),i.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-50 text-yellow-600 rounded-full hover:bg-yellow-100 transition-colors",children:["View Document",i.jsx("i",{className:"bx bx-external-link text-lg"})]})]},a))})]})]});case"australia":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[i.jsx("i",{className:"bx bx-flag text-2xl text-purple-600"}),"Australia/Oceania Privacy Policy"]}),i.jsxs("div",{className:"prose prose-purple max-w-none",children:[i.jsx("p",{className:"text-gray-700",children:"This policy complies with Australian Privacy Principles (APPs)."}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-4",children:"Key Privacy Resources"}),i.jsx("div",{className:"grid gap-4",children:[{title:"Australian Privacy Principles",description:"The 13 APPs that form the basis of privacy protection in Australia.",link:"https://www.oaic.gov.au/privacy/australian-privacy-principles"},{title:"Privacy Complaints",description:"Information about making privacy complaints and the complaint process.",link:"https://www.oaic.gov.au/privacy/privacy-complaints"},{title:"Privacy Guidance for Organisations and Government Agencies",description:"Guidance for organisations and government agencies on privacy obligations.",link:"https://www.oaic.gov.au/privacy/guidance-and-advice"},{title:"Notifiable Data Breaches",description:"Information about the Notifiable Data Breaches (NDB) scheme and reporting requirements.",link:"https://www.oaic.gov.au/privacy/notifiable-data-breaches"},{title:"Anonymity and Pseudonymity",description:"Guidelines on anonymity and pseudonymity in data collection.",link:"https://www.oaic.gov.au/privacy/privacy-fact-sheets/individuals/anonymity-and-pseudonymity"},{title:"Data Collection and Use",description:"Information about how personal data is collected and used.",link:"https://www.oaic.gov.au/privacy/your-privacy-rights/knowing-how-your-data-is-collected-and-used"}].map((s,a)=>i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),i.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),i.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-50 text-purple-600 rounded-full hover:bg-purple-100 transition-colors",children:["Learn More",i.jsx("i",{className:"bx bx-external-link text-lg"})]})]},a))})]})]});default:return e("/privacy-policy"),null}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[i.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 text-white",children:i.jsx("div",{className:"max-w-4xl mx-auto px-6 py-12",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{"aria-label":"back",onClick:()=>e("/privacy-policy"),className:"bg-white/10 p-2 rounded-lg hover:bg-white/20 transition-colors",children:i.jsx("i",{className:"bx bx-arrow-back text-2xl"})}),i.jsx("h1",{className:"text-3xl font-bold",children:"Privacy Settings"})]})})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:t()}),i.jsx("footer",{className:"mt-16 pt-8 border-t border-gray-200 text-center",children:i.jsx("div",{className:"text-gray-500 text-sm",children:" 2025 Foremade Global. All rights reserved."})})]})]})},rwe=()=>{const[r,e]=R.useState(!1);return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("section",{className:"bg-gradient-to-br from-indigo-900 via-purple-900 to-indigo-800 text-white",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:"Foremade Empowerment Hub"}),i.jsx("p",{className:"text-xl md:text-2xl text-indigo-100 max-w-3xl mx-auto leading-relaxed",children:"Empowering the Next Generation of Creators & Entrepreneurs"})]})})}),i.jsx("section",{className:"py-16 bg-white",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("div",{className:"text-center mb-12",children:i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8",children:"Our Mission"})}),i.jsxs("div",{className:"prose prose-xl mx-auto text-gray-700 leading-relaxed",children:[i.jsx("p",{className:"mb-8",children:"At Foremade, we believe that the future belongs to the bold. We are committed to supporting young individuals with creative minds and entrepreneurial passion through comprehensive funding, expert mentorship, and a professional platform to showcase their talents."}),i.jsx("p",{children:"Our mission extends beyond providing toolswe create pathways for visionaries to bring their ideas to life and establish sustainable businesses that thrive both locally and globally. Each creator we sponsor represents the embodiment of passion, cultural heritage, and innovation."})]})]})}),i.jsx("section",{className:"py-16 bg-gray-50",children:i.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:i.jsxs("div",{className:"md:flex",children:[i.jsx("div",{className:"md:w-1/2",children:i.jsx("img",{src:"https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80",alt:"Handcrafted jewelry collection",className:"h-64 md:h-full w-full object-cover"})}),i.jsxs("div",{className:"md:w-1/2 p-8 md:p-12",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("span",{className:"inline-block bg-indigo-100 text-indigo-800 text-sm font-semibold px-3 py-1 rounded-full mb-4",children:"Featured Creator"}),i.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rhoda"}),i.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Founder, Rhodabella Crafted"}),i.jsx("p",{className:"text-lg text-indigo-600 font-medium",children:"Handmade  Heritage-Inspired  Uniquely Crafted"})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:["Rhoda is a distinguished jewelry designer who masterfully blends traditional African artistry with contemporary aesthetics. Her brand, ",i.jsx("strong",{children:"Rhodabella Crafted"}),", creates handcrafted pieces that serve as both elegant accessories and powerful expressions of cultural identity."]}),i.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"From intricately beaded chokers to custom waist beads, each piece in Rhoda's collections tells a story of heritage, pride, and individual expression."}),i.jsxs("blockquote",{className:"border-l-4 border-indigo-500 pl-6 italic text-gray-600 mb-8",children:['"My jewelry transcends mere aesthetics. It honors our heritage while expressing our authentic selves."',i.jsx("footer",{className:"text-sm font-semibold text-gray-900 mt-2",children:" Rhoda, Rhodabella Crafted"})]})]}),i.jsxs("a",{href:"https://foremade.com/store/RhodabellaCrafted",className:"inline-flex items-center px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors duration-200",target:"_blank",rel:"noopener noreferrer",children:["Visit Store",i.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})})})}),i.jsx("section",{className:"py-16 bg-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Program Benefits"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Comprehensive support designed to transform creative passion into sustainable business success"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Financial Sponsorship"}),i.jsx("p",{className:"text-gray-600",children:"Funding for product development and business growth"})]}),i.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Expert Mentorship"}),i.jsx("p",{className:"text-gray-600",children:"Professional guidance in branding and digital commerce"})]}),i.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"E-commerce Platform"}),i.jsx("p",{className:"text-gray-600",children:"Professional online storefront at no cost"})]}),i.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Global Promotion"}),i.jsx("p",{className:"text-gray-600",children:"Marketing and visibility across Africa and beyond"})]})]})]})}),i.jsx("section",{className:"py-16 bg-gradient-to-r from-indigo-600 to-purple-600 mb-20",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Join Our Creator Program"}),i.jsx("p",{className:"text-xl text-indigo-100 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Are you a young creator or entrepreneur ready to transform your vision into reality? Apply to become part of our exclusive empowerment program."}),i.jsx("div",{className:"flex items-center justify-center mb-8",children:i.jsxs("label",{className:"flex items-center text-white",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-indigo-300 rounded border-white",onChange:t=>e(t.target.checked),checked:r}),i.jsxs("span",{className:"ml-2 text-sm",children:["I have read and agree to the"," ",i.jsx(Fe,{to:"/youth-empowerment-terms",className:"underline hover:text-indigo-200",children:"Terms and Conditions"})]})]})}),i.jsxs(Fe,{to:r?"/youth-empowerment-form":"#",className:`inline-flex items-center px-8 py-4 font-semibold rounded-lg transition-colors duration-200 ${r?"bg-white text-indigo-600 hover:bg-gray-100":"bg-gray-400 text-gray-700 cursor-not-allowed"}`,onClick:t=>{r||(t.preventDefault(),alert("Please accept the terms and conditions to continue."))},children:["Apply Now",i.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})})]})},swe=()=>{const[r,e]=R.useState(1),[t,s]=R.useState(!1),[a,n]=R.useState({fullName:"",age:"",email:"",businessIdea:"",motivation:"",relevantExperience:"",expectedChallenges:"",twelveMonthGoals:"",supportNeeded:""}),[o,l]=R.useState({}),{alerts:c,addAlert:d,removeAlert:u}=Vd(),h=(w,k)=>{n(N=>({...N,[w]:k})),o[w]&&l(N=>({...N,[w]:""}))},m=w=>{const k={};return w===1&&(a.fullName||(k.fullName="Name is required"),a.age||(k.age="Age is required"),a.email?/\S+@\S+\.\S+/.test(a.email)||(k.email="Invalid email"):k.email="Email is required"),w===2&&(a.businessIdea||(k.businessIdea="Business idea is required"),a.motivation||(k.motivation="Motivation is required"),a.relevantExperience||(k.relevantExperience="Relevant experience is required")),w===3&&(a.expectedChallenges||(k.expectedChallenges="Expected challenges is required"),a.twelveMonthGoals||(k.twelveMonthGoals="12-month goals is required"),a.supportNeeded||(k.supportNeeded="Support needed is required")),l(k),Object.keys(k).length===0},p=async()=>{m(r)&&(r<3?e(w=>w+1):await b())},b=async()=>{s(!0);try{const w={...a,submittedAt:new Date().toISOString(),timestamp:Date.now(),userAgent:navigator.userAgent,formType:"Youth Empowerment Application"};console.log("=== YOUTH EMPOWERMENT FORM SUBMISSION ==="),console.log("Form Data:",w),console.log("Submission Time:",new Date().toLocaleString()),console.log("Total Fields:",Object.keys(a).length),console.log("=========================================="),console.log("Sending data to /api/youth-empowerment...");const N=await fetch("https://foremade-backend.onrender.com/api/youth-empowerment",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(w)});if(console.log("API Response Status:",N.status),console.log("API Response Headers:",Object.fromEntries(N.headers.entries())),!N.ok){const E=await N.text();throw console.error("API Error Response:",E),new Error(`HTTP error! status: ${N.status}, message: ${E}`)}const T=await N.json();console.log("API Success Response:",T),console.log("=== SUBMISSION COMPLETED SUCCESSFULLY ==="),d("Application submitted successfully! We will review your application and get back to you soon.","success"),n({fullName:"",age:"",email:"",businessIdea:"",motivation:"",relevantExperience:"",expectedChallenges:"",twelveMonthGoals:"",supportNeeded:""}),e(1)}catch(w){console.error("=== SUBMISSION ERROR ==="),console.error("Error Details:",w),console.error("Error Message:",w.message),console.error("Error Stack:",w.stack),console.error("======================="),d("There was an error submitting your application. Please try again or contact support at support@foremade.com","error")}finally{s(!1)}},x=()=>{r>1&&e(w=>w-1)},y=()=>{const w={enter:{x:50,opacity:0},center:{x:0,opacity:1},exit:{x:-50,opacity:0}};return i.jsx(go,{mode:"wait",children:i.jsxs(Ct.div,{variants:w,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[r===1&&i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx(zd,{className:"w-6 h-6 text-neutral-500 mx-auto mb-3"}),i.jsx("h2",{className:"text-xl font-bold text-neutral-800 mb-2",children:"Personal Information"}),i.jsx("p",{className:"text-neutral-600",children:"Let's start with the basics"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",placeholder:"Enter your full name",value:a.fullName,onChange:k=>h("fullName",k.target.value),className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all ${o.fullName?"border-red-500":"border-gray-300"}`}),o.fullName&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.fullName})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Age ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Enter your age",value:a.age,onChange:k=>h("age",k.target.value),className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all pr-12 ${o.age?"border-red-500":"border-gray-300"}`}),i.jsx(rue,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"})]}),o.age&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.age})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",placeholder:"your.email@example.com",value:a.email,onChange:k=>h("email",k.target.value),className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all ${o.email?"border-red-500":"border-gray-300"}`}),o.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.email})]})]}),r===2&&i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx(Rz,{className:"w-6 h-6 text-neutral-500 mx-auto mb-3"}),i.jsx("h2",{className:"text-xl font-bold text-neutral-800 mb-2",children:"Your Business Vision"}),i.jsx("p",{className:"text-neutral-600",children:"Tell us about your entrepreneurial journey"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Idea ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{placeholder:"Describe your business idea in detail...",value:a.businessIdea,onChange:k=>h("businessIdea",k.target.value),rows:4,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.businessIdea?"border-red-500":"border-gray-300"}`}),o.businessIdea&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.businessIdea})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Motivation ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{placeholder:"What drives you to pursue this business opportunity?",value:a.motivation,onChange:k=>h("motivation",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.motivation?"border-red-500":"border-gray-300"}`}),o.motivation&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.motivation})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Relevant Experience ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{placeholder:"Share any relevant experience, skills, or background...",value:a.relevantExperience,onChange:k=>h("relevantExperience",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.relevantExperience?"border-red-500":"border-gray-300"}`}),o.relevantExperience&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.relevantExperience})]})]}),r===3&&i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx(whe,{className:"w-6 h-6 text-neutral-500 mx-auto mb-3"}),i.jsx("h2",{className:"text-xl font-bold text-neutral-800 mb-2",children:"Goals & Support"}),i.jsx("p",{className:"text-neutral-600",children:"Help us understand how we can support your success"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Expected Challenges ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{placeholder:"What obstacles do you anticipate in your entrepreneurial journey?",value:a.expectedChallenges,onChange:k=>h("expectedChallenges",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.expectedChallenges?"border-red-500":"border-gray-300"}`}),o.expectedChallenges&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.expectedChallenges})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["12-Month Goals ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{placeholder:"What do you aim to achieve in the next 12 months?",value:a.twelveMonthGoals,onChange:k=>h("twelveMonthGoals",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.twelveMonthGoals?"border-red-500":"border-gray-300"}`}),o.twelveMonthGoals&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.twelveMonthGoals})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Support Needed from Foremade ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{placeholder:"What specific support, resources, or guidance would be most valuable to you?",value:a.supportNeeded,onChange:k=>h("supportNeeded",k.target.value),rows:3,className:`w-full px-4 py-3 sm:py-3.5 border rounded-xl text-gray-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-transparent transition-all resize-none ${o.supportNeeded?"border-red-500":"border-gray-300"}`}),o.supportNeeded&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.supportNeeded})]})]})]},r)})};return i.jsxs("div",{className:"relative",children:[i.jsx(xc,{alerts:c,removeAlert:u}),i.jsx("div",{className:"min-h-screen bg-neutral-50 py-6 px-4 sm:py-8 md:py-12 lg:py-16",children:i.jsxs("div",{className:"max-w-md lg:max-w-2xl xl:max-w-3xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8 sm:mb-10 lg:mb-12",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-black rounded-2xl flex items-center justify-center mx-auto mb-4 sm:mb-6",children:i.jsx(zz,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),i.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-neutral-900 mb-3 sm:mb-4 leading-tight",children:["Youth Empowerment",i.jsx("br",{}),"Program"]}),i.jsx("p",{className:"text-neutral-600 text-sm sm:text-base lg:text-lg leading-relaxed max-w-2xl mx-auto",children:"Join our exclusive community of ambitious young entrepreneurs and creators."})]}),i.jsx("div",{className:"flex justify-center items-center gap-2 sm:gap-4 lg:gap-6 mb-8 sm:mb-10 max-w-lg mx-auto",children:[1,2,3].map((w,k)=>i.jsxs(Lr.Fragment,{children:[i.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-all
                    ${r>w||r===w?"bg-black text-white":"bg-neutral-200 text-neutral-600"}`,children:r>w?i.jsx(Eo,{className:"w-4 h-4 sm:w-5 sm:h-5"}):i.jsx("span",{className:"text-sm sm:text-base font-bold",children:w})}),k<2&&i.jsx("div",{className:`w-8 sm:w-12 h-0.5 transition-all ${r>w+1?"bg-black":"bg-neutral-200"}`})]},w))}),i.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 lg:p-8 shadow-xl shadow-neutral-200/50 mb-6",children:[y(),i.jsxs("div",{className:"flex gap-3 mt-6 sm:mt-8 lg:mt-10",children:[r>1&&i.jsx("button",{onClick:x,className:"flex-1 px-4 py-3 sm:py-4 border border-neutral-300 rounded-xl font-semibold text-neutral-600 hover:bg-neutral-50 transition-colors lg:text-lg",children:"Previous"}),i.jsx("button",{onClick:p,disabled:t,className:`flex-1 bg-black text-white py-3 sm:py-4 px-6 rounded-xl font-semibold flex items-center justify-center gap-2 transition-colors lg:text-lg ${t?"bg-gray-400 cursor-not-allowed":"hover:bg-neutral-800"}`,children:r===3?t?i.jsxs(i.Fragment,{children:["Submitting...",i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})]}):i.jsxs(i.Fragment,{children:["Submit Application",i.jsx(Eo,{className:"w-4 h-4"})]}):i.jsxs(i.Fragment,{children:["Continue",i.jsx(rx,{className:"w-4 h-4"})]})})]})]}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-xs sm:text-sm lg:text-base text-neutral-500",children:["Questions? Contact us at"," ",i.jsx("span",{className:"text-black font-medium hover:underline",children:"support@foremade.com"})]})})]})})]})},awe=()=>i.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 min-h-screen py-12",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx(swe,{})})}),nwe=()=>i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[i.jsxs("div",{className:"max-w-5xl mx-auto p-8",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8 border border-gray-100",children:[i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 rounded-full",children:i.jsx("i",{className:"bx bx-world text-3xl text-white"})})}),i.jsx("h1",{className:"text-4xl font-bold text-center bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"FOREMADE Youth Empowerment"}),i.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-700 mb-4",children:"Terms of Engagement"}),i.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:i.jsx("p",{className:"text-center text-gray-700 font-medium",children:'"Empowered Creators Collaboration Agreement"'})}),i.jsxs("p",{className:"mt-6 text-gray-600 text-center leading-relaxed",children:["This agreement outlines the terms and conditions between ",i.jsx("strong",{className:"text-indigo-600",children:"FOREMADE Marketplace"}),' ("FOREMADE") and the selected participant/brand ("Creator") under the ',i.jsx("strong",{className:"text-purple-600",children:"FOREMADE Youth Empowerment Initiative"}),"."]})]}),i.jsx("div",{className:"space-y-6",children:iwe.map((r,e)=>i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"bg-indigo-50 p-2 rounded-lg mr-3",children:i.jsx("i",{className:`bx ${r.icon} text-indigo-600 text-xl`})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:r.title})]}),r.content]},e))}),i.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl shadow-lg p-6 text-white mb-20",children:[i.jsxs("div",{className:"flex items-center justify-center mb-4",children:[i.jsx("i",{className:"bx bx-handshake text-3xl mr-3"}),i.jsx("h3",{className:"text-xl font-semibold",children:"Agreement Commitment"})]}),i.jsx("p",{className:"text-center leading-relaxed",children:i.jsx("strong",{children:"By entering into this agreement, both parties commit to upholding the objectives of the Youth Empowerment Initiative in a fair and transparent manner."})})]})]}),i.jsx("link",{href:"https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css",rel:"stylesheet"})]}),iwe=[{icon:"bx-target-lock",title:"1. Purpose",content:i.jsx("p",{className:"text-gray-600 leading-relaxed ml-12",children:"The initiative aims to empower talented youth-led creators by offering financial support, free retail exposure, and a structured commercial partnership to scale their creations through the FOREMADE platform."})},{icon:"bx-briefcase",title:"2. Project Scope",content:i.jsxs("div",{className:"ml-12 space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-dollar-circle text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"Provide initial funding for production setup"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-store text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"Offer access to online retail infrastructure"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-trending-up text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"Co-market the Creator's selected product lines through web and social campaigns"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-shield-check text-indigo-500 mr-2"}),i.jsxs("span",{className:"text-gray-600",children:["Retain co-ownership of the empowered product lines ",i.jsx("strong",{className:"text-indigo-600",children:"until 10,000 units are sold"})]})]})]})},{icon:"bx-time",title:"3. Duration & Termination",content:i.jsxs("div",{className:"ml-12 space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-calendar text-indigo-500 mr-2"}),i.jsxs("span",{className:"text-gray-600",children:["The partnership runs until a total of ",i.jsx("strong",{className:"text-indigo-600",children:"10,000 units"})," have been sold"]})]}),i.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4 mt-3",children:[i.jsx("div",{className:"font-medium text-indigo-700 mb-2",children:"After reaching this threshold:"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-crown text-indigo-500 mr-2"}),i.jsxs("span",{className:"text-gray-600",children:["Creator retains ",i.jsx("strong",{className:"text-indigo-600",children:"100% ownership"})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-no-entry text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"FOREMADE no longer shares in profits"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-wallet text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"50% of capital funding is retained by the Creator"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-refresh text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"Option to renew under revised terms"})]})]})]})]})},{icon:"bx-pie-chart-alt",title:"4. Profit Sharing",content:i.jsxs("div",{className:"ml-12 space-y-3",children:[i.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-line-chart text-indigo-500 mr-2"}),i.jsxs("span",{className:"text-gray-700",children:[i.jsx("strong",{children:"010,000 units:"})," Creator gets ",i.jsx("strong",{className:"text-indigo-600",children:"40% net profit"})]})]})}),i.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-trending-up text-indigo-500 mr-2"}),i.jsxs("span",{className:"text-gray-700",children:[i.jsx("strong",{children:"Post-10,000 units:"})," Creator gets ",i.jsx("strong",{className:"text-indigo-600",children:"60%"}),", FOREMADE gets ",i.jsx("strong",{className:"text-indigo-600",children:"40%"})," (if agreement continues)"]})]})})]})},{icon:"bx-money",title:"5. Capital Funding",content:i.jsxs("div",{className:"ml-12 space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-package text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"Initial setup costs covered by FOREMADE"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-repeat text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"Performance-based funding adjustments"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-coin-stack text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"Materials and packaging support included"})]})]})},{icon:"bx-refresh",title:"6. Continuation Clause",content:i.jsxs("div",{className:"ml-12 space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-copyright text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"Creator retains intellectual property rights"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-package text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"FOREMADE continues logistics support"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-calendar-check text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"Quarterly performance reviews"})]})]})},{icon:"bx-package",title:"7. Product Standards",content:i.jsx("p",{className:"text-gray-600 text-sm leading-relaxed ml-12",children:"All products must meet agreed quality standards. Packaging design must align with youth-focused branding and maintain consistency with the Creator's vision while meeting FOREMADE's marketplace requirements."})},{icon:"bx-bullhorn",title:"8. Marketing & Branding",content:i.jsx("p",{className:"text-gray-600 text-sm leading-relaxed ml-12",children:'Products will be featured prominently on the "Empowered Creators" section. All marketing materials will include Creator credits and cultural storytelling elements to maintain authenticity.'})},{icon:"bx-exit",title:"9. Termination Clause",content:i.jsxs("div",{className:"ml-12 space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-time text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"14 days notice required"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-calculator text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"Fair reconciliation of funding and inventory"})]})]})},{icon:"bx-balance-scale",title:"10. Dispute Resolution",content:i.jsxs("div",{className:"ml-12 space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-conversation text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"Mediation as primary resolution method"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"bx bx-book-open text-indigo-500 mr-2"}),i.jsx("span",{className:"text-gray-600",children:"Local jurisdiction laws apply"})]}),i.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:[i.jsx("strong",{children:"Note:"})," All disputes will be handled in accordance with the laws applicable to your country of operation."]})]})}],owe=()=>{const r=()=>{window.open("https://gdpr-info.eu/art-15-gdpr/","_blank","noopener,noreferrer")};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[i.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 text-white",children:i.jsx("div",{className:"max-w-4xl mx-auto px-6 py-12",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Fe,{to:"/privacy-policy/eu",className:"bg-white/10 p-2 rounded-lg hover:bg-white/20 transition-colors",children:i.jsx("i",{className:"bx bx-arrow-back text-2xl"})}),i.jsx("h1",{className:"text-3xl font-bold",children:"Right of Access (Article 15 GDPR)"})]})})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:i.jsxs("div",{className:"prose prose-blue max-w-none",children:[i.jsx("div",{className:"mb-6",children:i.jsx("p",{className:"text-gray-700",children:"To view the official text of Article 15 of the GDPR, please click the button below to open it in a new window:"})}),i.jsx("div",{className:"flex justify-center mb-8",children:i.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx("i",{className:"bx bx-external-link text-xl"}),"View Article 15 GDPR"]})}),i.jsxs("div",{className:"mt-8 bg-gray-50 p-6 rounded-lg",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"How to Exercise Your Right"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"To exercise your right of access, you can:"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("i",{className:"bx bx-envelope text-blue-600 text-xl mt-1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:"Email Request"}),i.jsx("p",{className:"text-gray-600",children:"Send your request to privacy@foremade.com"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("i",{className:"bx bx-user text-blue-600 text-xl mt-1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:"Privacy Centre"}),i.jsxs("p",{className:"text-gray-600",children:["Submit your request through our ",i.jsx(Fe,{to:"/privacy-policy/contact",className:"text-blue-600 hover:text-blue-800",children:"Privacy Centre"})]})]})]})]})]})]})}),i.jsx("footer",{className:"mt-16 pt-8 border-t border-gray-200 text-center",children:i.jsx("div",{className:"text-gray-500 text-sm",children:" 2025 Foremade Global. All rights reserved."})})]})]})},Wm=({category:r})=>{const e={"Tablet & Phones":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496510/photo_2025-06-09_20-11-21_vsojz8.jpg","Health & Beauty":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496502/photo_2025-06-09_20-11-23_2_kwjqqr.jpg",Electronics:"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496477/photo_2025-06-09_20-11-29_tzs0vs.jpg","Computers & Accessories":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496469/photo_2025-06-09_20-11-31_xtfepw.jpg","Baby Products":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749496470/photo_2025-06-09_20-11-30_ht9ms8.jpg","Games & Fun":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749425277/photo_2025-06-09_00-28-12_dt7sp3.jpg","Drinks & Categories":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749417059/photo_2025-06-08_22-10-17_inpwcf.jpg","Home & Kitchen":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749425370/photo_2025-06-09_00-28-16_mildb8.jpg","Smart Watches":"https://res.cloudinary.com/dvhogp27g/image/upload/v1749425266/photo_2025-06-09_00-28-13_hai2go.jpg"};return i.jsxs("div",{className:"w-full h-[200px] relative overflow-hidden rounded-lg mb-6",children:[i.jsx("img",{src:e[r]||"default-banner-url.jpg",alt:`${r} banner`,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/50 to-transparent",children:i.jsx("div",{className:"flex items-center h-full px-6",children:i.jsx("h1",{className:"hidden text-3xl font-bold text-white",children:r})})})]})};function lwe(){const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(null),o="Tablet & Phones",l=1,c="tablet & phones";return R.useEffect(()=>{(async()=>{try{s(!0),n(null);const u=Lt(Xe(ve,"products"),Tt("category","==",c)),m=(await xt(u)).docs.map(b=>{const x=b.data();return{id:b.id,...x}});console.log("All fetched products (Tablet & Phones):",m);const p=m.map(b=>{const x=b;let y=x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://")?x.imageUrl:Array.isArray(x.imageUrls)&&x.imageUrls[0]&&typeof x.imageUrls[0]=="string"&&x.imageUrls[0].startsWith("https://")?x.imageUrls[0]:"/images/placeholder.jpg";return{id:b.id,name:x.name||"Unnamed Product",description:x.description||"",price:x.price||0,stock:x.stock||0,category:x.category||"tablet & phones",categoryId:x.category?.trim().toLowerCase()===c.toLowerCase()?l:1,colors:x.colors||[],sizes:x.sizes||[],condition:x.condition||"",imageUrl:y,sellerId:x.sellerId||"",rating:x.rating||Math.random()*2+3}}).filter(b=>b.stock<10?(console.warn("Filtered out product with low stock (Tablet & Phones):",{id:b.id,name:b.name,stock:b.stock}),!1):!(b.imageUrl&&typeof b.imageUrl=="string"&&b.imageUrl.startsWith("https://"))&&b.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (Tablet & Phones):",{id:b.id,name:b.name,imageUrl:b.imageUrl}),!1):!0).sort((b,x)=>x.rating-b.rating);if(console.log(`Fetched ${o} products:`,p),p.length===0){console.warn("No products passed the filters (Tablet & Phones). Relaxing stock filter to debug...");const b=m.map(x=>{const y=x;let w=y.imageUrl&&typeof y.imageUrl=="string"&&y.imageUrl.startsWith("https://")?y.imageUrl:Array.isArray(y.imageUrls)&&y.imageUrls[0]&&typeof y.imageUrls[0]=="string"&&y.imageUrls[0].startsWith("https://")?y.imageUrls[0]:"/images/placeholder.jpg";return{id:x.id,name:y.name||"Unnamed Product",description:y.description||"",price:y.price||0,stock:y.stock||0,category:y.category||"tablet & phones",categoryId:y.category?.trim().toLowerCase()===c.toLowerCase()?l:1,colors:y.colors||[],sizes:y.sizes||[],condition:y.condition||"",imageUrl:w,sellerId:y.sellerId||"",rating:y.rating||Math.random()*2+3}}).filter(x=>!(x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://"))&&x.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (relaxed filter, Tablet & Phones):",{id:x.id,name:x.name,imageUrl:x.imageUrl}),!1):!0);console.log("Products with relaxed stock filter (Tablet & Phones):",b),e(b.sort((x,y)=>y.rating-x.rating))}else e(p)}catch(u){console.error(`Error loading ${o} products:`,{message:u.message,code:u.code}),n(`Failed to load ${o} products.`)}finally{s(!1)}})()},[]),t?i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx(Wm,{category:o}),i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(4)].map((d,u)=>i.jsx("div",{className:"w-full",children:i.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},u))})]})}):i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx(Wm,{category:o}),i.jsxs("div",{className:"flex mt-6 justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Trending ",o]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(Fe,{to:`/products?category=${l}`,className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"})})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[r.length===0?i.jsxs("p",{className:"text-gray-600",children:["No ",o," products found."]}):r.map(d=>i.jsx("div",{className:"w-full",children:i.jsx(Pa,{product:d})},d.id)),console.log(a)]})]})})}function cwe(){const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(null),o="Electronics",l=3,c="electronics";return R.useEffect(()=>{(async()=>{try{s(!0),n(null);const u=Lt(Xe(ve,"products"),Tt("category","==",c)),m=(await xt(u)).docs.map(b=>{const x=b.data();return{id:b.id,...x}});console.log("All fetched products (Electronics):",m);const p=m.map(b=>{const x=b;let y=x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://")?x.imageUrl:Array.isArray(x.imageUrls)&&x.imageUrls[0]&&typeof x.imageUrls[0]=="string"&&x.imageUrls[0].startsWith("https://")?x.imageUrls[0]:"/images/placeholder.jpg";return{id:b.id,name:x.name||"Unnamed Product",description:x.description||"",price:x.price||0,stock:x.stock||0,category:x.category||"electronics",categoryId:x.category?.trim().toLowerCase()===c.toLowerCase()?l:3,colors:x.colors||[],sizes:x.sizes||[],condition:x.condition||"",imageUrl:y,sellerId:x.sellerId||"",rating:x.rating||Math.random()*2+3}}).filter(b=>b.stock<10?(console.warn("Filtered out product with low stock (Electronics):",{id:b.id,name:b.name,stock:b.stock}),!1):!(b.imageUrl&&typeof b.imageUrl=="string"&&b.imageUrl.startsWith("https://"))&&b.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (Electronics):",{id:b.id,name:b.name,imageUrl:b.imageUrl}),!1):!0).sort((b,x)=>x.rating-b.rating);if(console.log(`Fetched ${o} products:`,p),p.length===0){console.warn("No products passed the filters (Electronics). Relaxing stock filter to debug...");const b=m.map(x=>{const y=x;let w=y.imageUrl&&typeof y.imageUrl=="string"&&y.imageUrl.startsWith("https://")?y.imageUrl:Array.isArray(y.imageUrls)&&y.imageUrls[0]&&typeof y.imageUrls[0]=="string"&&y.imageUrls[0].startsWith("https://")?y.imageUrls[0]:"/images/placeholder.jpg";return{id:x.id,name:y.name||"Unnamed Product",description:y.description||"",price:y.price||0,stock:y.stock||0,category:y.category||"electronics",categoryId:y.category?.trim().toLowerCase()===c.toLowerCase()?l:3,colors:y.colors||[],sizes:y.sizes||[],condition:y.condition||"",imageUrl:w,sellerId:y.sellerId||"",rating:y.rating||Math.random()*2+3}}).filter(x=>!(x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://"))&&x.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (relaxed filter, Electronics):",{id:x.id,name:x.name,imageUrl:x.imageUrl}),!1):!0);console.log("Products with relaxed stock filter (Electronics):",b),e(b.sort((x,y)=>y.rating-x.rating))}else e(p)}catch(u){console.error(`Error loading ${o} products:`,{message:u.message,code:u.code}),n(`Failed to load ${o} products.`)}finally{s(!1)}})()},[]),t?i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx(Wm,{category:o}),i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[...Array(4)].map((d,u)=>i.jsx("div",{className:"w-full",children:i.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},u))})]})}):i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx(Wm,{category:o}),i.jsxs("div",{className:"flex mt-6 justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(Fe,{to:`/products?category=${l}`,className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"})})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[r.length===0?i.jsxs("p",{className:"text-gray-600 p-4",children:["No ",o," products found."]}):r.map(d=>i.jsx("div",{className:"w-full",children:i.jsx(Pa,{product:d})},d.id)),console.log(a)]})]})})}function dwe(){const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(null),o="Smart Watches",l=9,c="smart watches";return R.useEffect(()=>{(async()=>{try{s(!0),n(null);const u=Lt(Xe(ve,"products"),Tt("category","==",c)),m=(await xt(u)).docs.map(b=>{const x=b.data();return{id:b.id,...x}});console.log("All fetched products (Smart Watches):",m);const p=m.map(b=>{const x=b;let y=x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://")?x.imageUrl:Array.isArray(x.imageUrls)&&x.imageUrls[0]&&typeof x.imageUrls[0]=="string"&&x.imageUrls[0].startsWith("https://")?x.imageUrls[0]:"/images/placeholder.jpg";return{id:b.id,name:x.name||"Unnamed Product",description:x.description||"",price:x.price||0,stock:x.stock||0,category:x.category||"smart watches",categoryId:x.category?.trim().toLowerCase()===c.toLowerCase()?l:9,colors:x.colors||[],sizes:x.sizes||[],condition:x.condition||"",imageUrl:y,sellerId:x.sellerId||"",rating:x.rating||Math.random()*2+3}}).filter(b=>b.stock<10?(console.warn("Filtered out product with low stock (Smart Watches):",{id:b.id,name:b.name,stock:b.stock}),!1):!(b.imageUrl&&typeof b.imageUrl=="string"&&b.imageUrl.startsWith("https://"))&&b.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (Smart Watches):",{id:b.id,name:b.name,imageUrl:b.imageUrl}),!1):!0).sort((b,x)=>x.rating-b.rating);if(console.log(`Fetched ${o} products:`,p),p.length===0){console.warn("No products passed the filters (Smart Watches). Relaxing stock filter to debug...");const b=m.map(x=>{const y=x;let w=y.imageUrl&&typeof y.imageUrl=="string"&&y.imageUrl.startsWith("https://")?y.imageUrl:Array.isArray(y.imageUrls)&&y.imageUrls[0]&&typeof y.imageUrls[0]=="string"&&y.imageUrls[0].startsWith("https://")?y.imageUrls[0]:"/images/placeholder.jpg";return{id:x.id,name:y.name||"Unnamed Product",description:y.description||"",price:y.price||0,stock:y.stock||0,category:y.category||"smart watches",categoryId:y.category?.trim().toLowerCase()===c.toLowerCase()?l:9,colors:y.colors||[],sizes:y.sizes||[],condition:y.condition||"",imageUrl:w,sellerId:y.sellerId||"",rating:y.rating||Math.random()*2+3}}).filter(x=>!(x.imageUrl&&typeof x.imageUrl=="string"&&x.imageUrl.startsWith("https://"))&&x.imageUrl!=="/images/placeholder.jpg"?(console.warn("Filtered out product with invalid imageUrl (relaxed filter, Smart Watches):",{id:x.id,name:x.name,imageUrl:x.imageUrl}),!1):!0);console.log("Products with relaxed stock filter (Smart Watches):",b),e(b.sort((x,y)=>y.rating-x.rating))}else e(p)}catch(u){console.error(`Error loading ${o} products:`,{message:u.message,code:u.code}),n(`Failed to load ${o} products.`)}finally{s(!1)}})()},[]),t?i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx(Wm,{category:o}),i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(4)].map((d,u)=>i.jsx("div",{className:"w-full",children:i.jsx("div",{className:"bg-gray-200 rounded-lg h-72 w-full animate-pulse"})},u))})]})}):i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx(Wm,{category:o}),i.jsxs("div",{className:"flex mt-6 justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:o}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(Fe,{to:`/products?category=${l}`,className:"text-blue-600 text-sm hover:text-blue-400",children:"See All"})})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:[r.length===0?i.jsx("p",{className:"text-gray-600",children:"No product found."}):r.map(d=>i.jsx("div",{className:"w-full",children:i.jsx(Pa,{product:d})},d.id)),console.log(a)]})]})})}const uwe=r=>{switch(r.message){case"Network Error":return"Check your network connection and try again.";case"No user found with this email":return"No user found with this email.";case"Valid email is required":return"Please enter a valid email address.";default:return"An unexpected error occurred. Please try again later."}};function hwe(){const r=zr(),[e,t]=R.useState(""),[s,a]=R.useState(""),[n,o]=R.useState(""),[l,c]=R.useState(!1),d=h=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h),u=async h=>{if(h.preventDefault(),a(""),o(""),c(!0),!e){a("Email is required."),c(!1);return}if(!d(e)){a("Please enter a valid email address."),c(!1);return}try{const m=await fetch("https://foremade-backend.onrender.com/request-password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),p=await m.json();if(!m.ok)throw new Error(p.error||"Failed to send reset link");o(`Password reset email sent to ${e}. Please check your inbox.`),t(""),setTimeout(()=>{c(!1),r("/login")},7e3)}catch(m){console.error("Error sending password reset email:",m),a(uwe(m)),c(!1)}};return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"w-full h-screen flex",children:[i.jsx("div",{className:"hidden md:block md:w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('https://images.pexels.com/photos/5625115/pexels-photo-5625115.jpeg?auto=compress&cs=tinysrgb&w=600')"},children:i.jsxs("div",{className:"w-full h-full bg-black bg-opacity-40 dark:bg-black/50 flex flex-col justify-center items-center text-white p-8",children:[i.jsx("h1",{className:"text-3xl font-bold flex-col items-center",children:i.jsx("img",{src:h0,alt:"Formade logo",className:"h-20"})}),i.jsx("p",{className:"text-lg",children:"Recover Your Password."})]})}),i.jsxs("div",{className:"w-full md:w-1/2 h-full p-9 flex flex-col justify-center bg-white dark:bg-gray-800",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Forgot Password"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Already have an account?"," ",i.jsx(Fe,{to:"/login",className:"text-blue-600 hover:underline dark:text-blue-400 dark:hover:text-blue-300",children:"Sign In"})]}),i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"email",id:"email",value:e,onChange:h=>{t(h.target.value),a("")},className:`w-full p-3 border rounded-lg transition-all duration-300 ${s?"border-red-500":n?"border-green-500":"border-gray-300 dark:border-gray-600"}`,autoComplete:"email",required:!0}),i.jsx("label",{htmlFor:"email",className:`absolute left-3 top-3 text-gray-500 dark:text-gray-400 transition-all duration-300 transform origin-left pointer-events-none peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-500 peer-focus:bg-white dark:peer-focus:bg-gray-800 peer-focus:px-1 ${e?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":""}`,children:"Email"}),i.jsx("span",{className:"absolute right-3 top-3 text-blue-500 dark:text-blue-400",children:i.jsx("i",{className:"bx bx-envelope text-xl"})}),s&&i.jsx("p",{className:"text-red-600 text-[10px] mt-1",children:s})]}),n&&i.jsx("p",{className:"text-green-600 text-[10px] mb-4",children:n}),i.jsx("button",{type:"submit",className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200 dark:bg-slate-700 dark:hover:bg-blue-900",disabled:l,children:l?"Sending...":i.jsxs(i.Fragment,{children:["Send Reset Link"," ",i.jsx("i",{className:"bx bx-send text-blue-500 text-xl inline-block ml-2"})]})})]}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-5",children:["Dont have an account?"," ",i.jsx(Fe,{to:"/register",className:"text-blue-600 hover:underline dark:text-blue-400 dark:hover:text-blue-300",children:"Sign Up"})]})]})]})})}const fwe="https://foremade-backend.onrender.com",mwe=r=>{switch(r.message){case"Network Error":return"Check your network connection and try again.";case"Invalid or used token":return"Invalid or expired reset link. Please request a new one.";case"No user found with this email":return"No user found with this email.";case"New password must be at least 8 characters":return"New password must be at least 8 characters long.";default:return"An unexpected error occurred. Please try again later."}};function gwe(){const r=zr(),e=Ra(),[t,s]=R.useState(""),[a,n]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState(!1),u=new URLSearchParams(e.search),h=u.get("token"),m=u.get("email");R.useEffect(()=>{(!h||!m)&&n("Invalid or missing reset link. Please request a new one.")},[h,m]);const p=async b=>{if(b.preventDefault(),n(""),l(""),d(!0),!t){n("New password is required."),d(!1);return}if(t.length<8){n("New password must be at least 8 characters long."),d(!1);return}try{const x=await fetch(`${fwe}/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,token:h,newPassword:t})});let y;try{y=await x.json()}catch(w){throw console.error("JSON parse error:",w),new Error("Server returned an invalid response")}if(!x.ok)throw new Error(y.error||"Failed to reset password");l("Password reset successfully! Redirecting to login..."),s(""),setTimeout(()=>{d(!1),r("/login")},3e3)}catch(x){console.error("Error resetting password:",x),n(mwe(x)),d(!1)}};return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:i.jsxs("div",{className:"w-full h-screen flex",children:[i.jsx("div",{className:"hidden md:block md:w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('https://images.pexels.com/photos/5625115/pexels-photo-5625115.jpeg?auto=compress&cs=tinysrgb&w=600')"},children:i.jsxs("div",{className:"w-full h-full bg-black bg-opacity-40 dark:bg-black/50 flex flex-col justify-center items-center text-white p-8",children:[i.jsx("h1",{className:"text-3xl font-bold flex-col items-center",children:i.jsx("img",{src:h0,alt:"Formade logo",className:"h-20",onError:b=>{b.target.src="/fallback-logo.png"}})}),i.jsx("p",{className:"text-lg",children:"Reset Your Password"})]})}),i.jsxs("div",{className:"w-full md:w-1/2 h-full p-6 sm:p-9 flex flex-col justify-center bg-white dark:bg-gray-800",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Reset Password"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Back to login?"," ",i.jsx(Fe,{to:"/login",className:"text-blue-600 hover:underline dark:text-blue-400 dark:hover:text-blue-300","aria-label":"Sign in to your account",children:"Sign In"})]}),i.jsxs("form",{onSubmit:p,className:"space-y-4",noValidate:!0,children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"password",id:"new-password",value:t,onChange:b=>{s(b.target.value),n(""),l("")},className:`w-full p-3 border rounded-lg transition-all duration-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 ${a?"border-red-500":o?"border-green-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`,autoComplete:"new-password",required:!0,disabled:c,"aria-describedby":a?"password-error":void 0,"aria-invalid":a?"true":"false"}),i.jsx("label",{htmlFor:"new-password",className:`absolute left-3 top-3 text-gray-500 dark:text-gray-400 transition-all duration-300 transform origin-left pointer-events-none ${t?"-translate-y-6 scale-75 text-blue-500 bg-white dark:bg-gray-800 px-1":"peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-500 peer-focus:bg-white dark:peer-focus:bg-gray-800 peer-focus:px-1"}`,children:"New Password"}),i.jsx("span",{className:"absolute right-3 top-3 text-blue-500 dark:text-blue-400",children:i.jsx("i",{className:"bx bx-lock text-xl"})}),a&&i.jsx("p",{id:"password-error",className:"text-red-600 text-xs mt-1",children:a})]}),o&&i.jsxs("div",{className:"relative bg-green-100 text-green-700 p-3 rounded-lg flex items-center justify-between",children:[i.jsx("p",{className:"text-sm",children:o}),i.jsx("button",{onClick:()=>r("/login"),className:"ml-2 text-green-700 hover:text-green-900 focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Dismiss success message and go to login",children:i.jsx("i",{className:"bx bx-check-circle text-xl"})})]}),i.jsx("button",{type:"submit",className:`w-full p-3 rounded-lg font-semibold transition duration-200 flex items-center justify-center space-x-2 ${c||!h||!m?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-slate-600 hover:bg-blue-800 dark:bg-slate-700 dark:hover:bg-blue-900 text-white"}`,disabled:c||!h||!m,"aria-label":"Reset password",children:c?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}),i.jsx("span",{children:"Resetting..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"Reset Password"}),i.jsx("i",{className:"bx bx-lock text-xl"})]})})]}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-5",children:["Dont have an account?"," ",i.jsx(Fe,{to:"/register",className:"text-blue-600 hover:underline dark:text-blue-400 dark:hover:text-blue-300","aria-label":"Sign up for a new account",children:"Sign Up"})]})]})]})})}const pwe={Shoes:"https://banner2.cleanpng.com/20180406/wow/kisspng-shoe-jumpman-sneakers-air-jordan-teal-jordan-5ac6ff9c2fcfe2.7959868915229910041959.jpg",Fashion:"https://pngimg.com/uploads/dress_shirt/dress_shirt_PNG8088.png",Phones:"https://banner2.cleanpng.com/20240415/cv/transparent-apple-logo-person-holding-iphone-11-pro-max661df755177ea1.73458741.webp",Laptops:"https://banner2.cleanpng.com/lnd/20240424/uxz/transparent-rainbow-open-laptop-with-rainbow-gradient-background-image662945f170dc49.58708681.webp",Watches:"https://banner2.cleanpng.com/20180202/lie/av2ldq3r4.webp",Electronics:"https://banner2.cleanpng.com/20180131/jgw/av1z4nree.webp"};function xwe(r){const e=Pc();Ra();const t=r.category||e.category||"",[s,a]=R.useState([]),[n,o]=R.useState(!0);R.useEffect(()=>{if(!t)return;(async()=>{o(!0);try{const d=Lt(Xe(ve,"products"),Tt("category","==",t.toLowerCase())),h=(await xt(d)).docs.map(m=>({id:m.id,...m.data()}));a(h)}catch{a([])}finally{o(!1)}})()},[t]);const l=pwe[t]||null;return i.jsxs("section",{className:"py-8 bg-white",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative w-full h-40 md:h-56 bg-gradient-to-r from-blue-100 to-blue-300 flex items-center justify-center rounded-lg overflow-hidden",children:[l&&i.jsx("img",{src:l,alt:t,className:"absolute right-4 bottom-0 h-32 md:h-48 object-contain opacity-60 pointer-events-none",style:{maxWidth:"40%"}}),i.jsx("h1",{className:"relative z-10 text-2xl md:text-4xl font-bold text-blue-900 drop-shadow-lg",children:t?`${t} Products`:"Products"})]})}),i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-4",children:t?`Products in ${t}`:"Products"}),n?i.jsx("div",{children:"Loading..."}):s.length===0?i.jsx("p",{className:"text-gray-600",children:"No products found for this category."}):i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:s.map(c=>i.jsx(Pa,{product:c},c.id))})]})]})}const bwe=()=>i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[i.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 text-white",children:i.jsx("div",{className:"max-w-4xl mx-auto px-6 py-16",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"bg-blue-100 p-4 rounded-2xl",children:i.jsx("i",{className:"bx bx-store text-4xl text-blue-600"})})}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"About Us"}),i.jsx("p",{className:"text-xl text-blue-100",children:"Shop. Sell. Smile."})]})})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:i.jsxs("div",{className:"prose prose-lg max-w-none",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Welcome to ",i.jsx("strong",{className:"text-blue-600",children:"FOREMADE Marketplace"}),"  the people-first platform where ",i.jsx("em",{children:"everyone can shop, sell, and smile"}),".",i.jsx("br",{}),"Whether you're clearing out the old, launching something new, or simply looking to buy smart, FOREMADE gives you the tools, the platform, and the audience."]})}),i.jsx("div",{className:"mb-8",children:i.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["We're ",i.jsx("strong",{className:"text-blue-600",children:"not just another marketplace"}),". FOREMADE was created to ",i.jsx("strong",{children:"level the playing field"}),"  giving everyday people, creatives, and entrepreneurs a ",i.jsx("strong",{children:"free, secure space to sell"})," new or used products and reach buyers everywhere."]})}),i.jsxs("div",{className:"mb-12",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[i.jsx("i",{className:"bx bx-star text-2xl text-yellow-500 mr-3"}),"What Makes Us Different?"]}),i.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{icon:"bx-gift",title:"Free to Sell",desc:"List your items at no cost  new, handmade, or preloved."},{icon:"bx-money",title:"Get Paid Fast",desc:"Sellers receive full payment after confirmed deliveries. No delays."},{icon:"bx-mobile",title:"User-Friendly Platform",desc:"Designed to be mobile-first, easy to use, and built with sellers in mind."},{icon:"bx-globe",title:"Worldwide Reach",desc:"Buy or sell across cities, countries, and continents."},{icon:"bx-shield",title:"Safe & Secure",desc:"Protected payments, verified vendors, and encrypted data."},{icon:"bx-check-shield",title:"Zero Tolerance for Fraud",desc:"Robust anti-money laundering and transaction monitoring systems."},{icon:"bx-truck",title:"Fast, Discounted Delivery",desc:"Reliable logistics and savings on bundled shipments."}].map((r,e)=>i.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"text-blue-600 flex items-center justify-center w-8",children:i.jsx("i",{className:`bx ${r.icon} text-2xl`})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:r.title}),i.jsx("p",{className:"text-sm text-gray-600",children:r.desc})]})]},e))})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[i.jsx("i",{className:"bx bx-globe text-2xl text-green-600 mr-3"}),"For Everyone. Open to the World."]}),i.jsx("p",{className:"text-gray-700 leading-relaxed",children:"FOREMADE empowers sellers from all walks of life to connect with a growing global marketplace. Whether you're a student with a side hustle or a brand ready to scale, we help you get noticed  and get paid."})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-100",children:[i.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Shop what you love. Sell what you have. To your neighborhood  or across borders. And always, smile."}),i.jsx("p",{className:"text-gray-600 italic",children:"Because on FOREMADE, everyone is a seller, and everyone is a customer."})]})]})}),i.jsx("div",{className:"mt-12 text-center",children:i.jsxs(Fe,{to:"/products",className:"inline-flex items-center gap-2 px-6 py-3 bg-[#112d4e] text-white rounded-lg hover:bg-[#112d4e] transition-colors",children:["Start Shopping",i.jsx("i",{className:"bx bx-right-arrow-alt"})]})}),i.jsx("footer",{className:"mt-16 pt-8 border-t border-gray-200 text-center",children:i.jsx("div",{className:"text-gray-500 text-sm",children:" 2025 Foremade Global. All rights reserved."})})]})]}),ywe=()=>{const[r,e]=R.useState(""),[t,s]=R.useState([]),[a,n]=R.useState(!1),[o,l]=R.useState([]),[c,d]=R.useState("All"),[u,h]=R.useState([0,1e5]);R.useEffect(()=>{(async()=>{try{const b=await xt(Xe(ve,"products")),x=new Set(b.docs.map(y=>y.data().category||"Other"));l(["All",...x])}catch(b){console.error("Error fetching categories:",b),Ke.error("Failed to load categories.")}})()},[]);const m=async()=>{if(!r.trim()){s([]);return}n(!0);try{let p=Lt(Xe(ve,"products"),Tt("status","==","approved"));c!=="All"&&(p=Lt(p,Tt("category","==",c)));const x=(await xt(p)).docs.map(y=>({id:y.id,...y.data()})).filter(y=>y.name.toLowerCase().includes(r.toLowerCase())&&y.price>=u[0]&&y.price<=u[1]);s(x)}catch(p){console.error("Error searching products:",p),Ke.error("Failed to load search results.")}finally{n(!1)}};return R.useEffect(()=>{const p=setTimeout(m,500);return()=>clearTimeout(p)},[r,c,u]),i.jsx("div",{className:"min-h-screen bg-gray-100 py-4 xs:py-6",children:i.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[i.jsxs("div",{className:"relative mb-4 xs:mb-6",children:[i.jsx("input",{type:"text",placeholder:"Search for items...",value:r,onChange:p=>e(p.target.value),className:"w-full pl-10 pr-4 py-2 xs:py-3 rounded-full bg-white shadow-sm text-sm xs:text-base focus:outline-none focus:ring-2 focus:ring-blue-500 justify-end"}),i.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-lg xs:text-xl"})]}),i.jsxs("div",{className:"flex flex-col xs:flex-row gap-3 xs:gap-4 mb-4 xs:mb-6",children:[i.jsx("select",{value:c,onChange:p=>d(p.target.value),className:"px-3 py-2 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:o.map(p=>i.jsx("option",{value:p,children:p},p))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"number",placeholder:"Min",value:u[0]||"",onChange:p=>h([Number(p.target.value)||0,u[1]]),className:"w-20 px-2 py-2 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("span",{children:"-"}),i.jsx("input",{type:"number",placeholder:"Max",value:u[1]||"",onChange:p=>h([u[0],Number(p.target.value)||1e5]),className:"w-20 px-2 py-2 rounded-lg bg-white shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 xs:gap-4",children:[...Array(8)].map((p,b)=>i.jsx("div",{className:"bg-white rounded-lg shadow-sm h-[260px] animate-pulse"},b))}):t.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-600",children:[i.jsx("i",{className:"bx bx-search-alt-2 text-4xl mb-2"}),i.jsx("p",{className:"text-sm xs:text-base",children:"No products found. Try a different search term."})]}):i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 xs:gap-4",children:t.map(p=>i.jsx(Pa,{product:{id:p.id,name:p.name,price:p.price,imageUrls:p.imageUrls,sellerName:p.sellerName||"Unknown Seller"}},p.id))})]})})},vwe=()=>{const[r,e]=R.useState([]),[t,s]=R.useState(!0);R.useEffect(()=>{(async()=>{s(!0);try{const c=Ye.currentUser?.uid;if(!c){e([]),s(!1);return}const d=Lt(Xe(ve,"users-notifications"),Tt("userId","==",c),Om("createdAt","desc")),h=(await xt(d)).docs.map(m=>({id:m.id,...m.data()}));e(h)}catch(c){console.error("Error fetching notifications:",c),Ke.error("Failed to load notifications.")}finally{s(!1)}})()},[]);const a=l=>{switch(l){case"message":return"bx bx-message-dots";case"signup":return"bx bx-user-plus";case"login":return"bx bx-log-in";case"order_placed":return"bx bx-package";case"order_status":return"bx bx-truck";case"promo":return"bx bx-gift";default:return"bx bx-bell"}},n=(l,c)=>{switch(l){case"message":return`${c?.senderName||"Someone"} sent you a new message about ${c?.productName||"a product"}.`;case"signup":return"Welcome! You have successfully signed up.";case"login":return`You logged in from ${c?.device||"an unknown device"} at ${o(c?.timestamp||new Date)}`;case"order_placed":return`Your order #${c?.orderId||"N/A"} has been placed.`;case"order_status":return`Order #${c?.orderId||"N/A"} is now ${c?.status||"updated"}.`;case"promo":return c?.message||"New promotion available! Check it out.";default:return"New notification received."}},o=l=>l?(l.toDate?l.toDate():new Date(l)).toLocaleString("en-NG",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"Unknown time";return i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-6",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[i.jsx("i",{className:"bx bx-bell text-blue-600 mr-3 text-2xl"}),"Your Activity & Notifications"]}),t?i.jsx("div",{className:"space-y-4",children:[...Array(5)].map((l,c)=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 animate-pulse",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},c))}):r.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[i.jsx("i",{className:"bx bx-bell-off text-4xl mb-4"}),i.jsx("p",{className:"text-lg",children:"No activities or notifications yet."})]}):i.jsx("div",{className:"space-y-4",children:r.map(l=>i.jsxs("div",{className:`bg-white rounded-lg shadow-md p-4 flex items-start gap-4 ${l.read===!1?"border-l-4 border-blue-500":""}`,children:[i.jsx("i",{className:`${a(l.type)} text-blue-600 text-2xl`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-base text-gray-800",children:n(l.type,l.data)}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o(l.createdAt)})]})]},l.id))})]})})};function wwe(){return i.jsxs("div",{children:["No store available at the moment.",i.jsx("p",{children:"Check back later for updates."})]})}function kwe(){const{productId:r}=Pc(),e=zr(),[t,s]=R.useState({name:"",price:"",quantity:0,description:"",imageUrls:[],videoUrls:[],colors:[],status:"pending",isDailyDeal:!1,discountPercentage:0,variants:[]}),[a,n]=R.useState(!0),[o,l]=R.useState({}),[c,d]=R.useState(""),[u,h]=R.useState(""),[m,p]=R.useState({price:"",stock:0,imageUrls:[]}),[b,x]=R.useState([]),[y,w]=R.useState([]),[k,N]=R.useState({});R.useEffect(()=>{(async()=>{try{const z=Ye.currentUser?.uid;if(!z)throw new Error("User not authenticated");const Q=qe(ve,"products",r),q=await wt(Q);if(q.exists()&&q.data().sellerId===z){const Z=q.data();s({name:Z.name||"",price:Z.price||"",quantity:Z.quantity||0,description:Z.description||"",imageUrls:Array.isArray(Z.imageUrls)?Z.imageUrls:[],videoUrls:Array.isArray(Z.videoUrls)?Z.videoUrls:[],colors:Array.isArray(Z.colors)?Z.colors:[],status:Z.status||"pending",isDailyDeal:Z.isDailyDeal||!1,discountPercentage:Z.discountPercentage||0,variants:Array.isArray(Z.variants)?Z.variants:[]})}else throw new Error("Product not found or unauthorized")}catch(z){console.error("Error fetching product:",{message:z.message,code:z.code}),l({general:z.message})}finally{n(!1)}})()},[r]);const T=()=>{const U={};return t.name.trim()||(U.name="Product name is required"),(!t.price||isNaN(t.price)||Number(t.price)<=0)&&(U.price="Valid price is required"),t.quantity<0&&(U.quantity="Quantity cannot be negative"),t.isDailyDeal&&(!t.discountPercentage||t.discountPercentage<0||t.discountPercentage>100)&&(U.discountPercentage="Discount must be between 0 and 100%"),t.variants.forEach((z,Q)=>{(!z.price||isNaN(z.price)||Number(z.price)<=0)&&(U[`variantPrice${Q}`]=`Valid price for variant ${Q+1} is required`),z.stock<0&&(U[`variantStock${Q}`]=`Stock for variant ${Q+1} cannot be negative`)}),U},E=U=>{const{name:z,value:Q,type:q,checked:Z}=U.target;s(J=>({...J,[z]:q==="checkbox"?Z:Q}))},I=U=>{const z=Number(U.target.value);s(Q=>({...Q,quantity:z>=0?z:0}))},S=U=>{const z=U.target.value.trim();z&&!t.colors.includes(z)&&(s(Q=>({...Q,colors:[...Q.colors,z]})),h(""))},A=U=>{window.confirm(`Remove color ${U}?`)&&s(z=>({...z,colors:z.colors.filter(Q=>Q!==U)}))},P=async U=>{const z=U.target.files[0];if(z){const Q=new FileReader;Q.onloadend=async()=>{const q=Q.result,Z=Date.now().toString();x(J=>[...J,{id:Z,url:q}]),N(J=>({...J,[Z]:"uploading"}));try{const J=DN(O1,`products/${r}/images/${Z}`);await RN(J,q,"data_url");const re=await IN(J);s(de=>({...de,imageUrls:[...de.imageUrls,re]})),x(de=>de.filter(Se=>Se.id!==Z)),N(de=>({...de,[Z]:"success"})),setTimeout(()=>N(de=>({...de,[Z]:void 0})),2e3)}catch(J){console.error("Error uploading image:",J),l(re=>({...re,image:"Failed to upload image"})),N(re=>({...re,[Z]:"error"})),setTimeout(()=>N(re=>({...re,[Z]:void 0})),2e3)}},Q.readAsDataURL(z)}},O=U=>{window.confirm("Remove this image?")&&s(z=>({...z,imageUrls:z.imageUrls.filter(Q=>Q!==U)}))},M=async U=>{const z=U.target.files[0];if(z){const Q=new FileReader;Q.onloadend=async()=>{const q=Q.result,Z=Date.now().toString();w(J=>[...J,{id:Z,url:q}]),N(J=>({...J,[Z]:"uploading"}));try{const J=DN(O1,`products/${r}/videos/${Z}`);await RN(J,q,"data_url");const re=await IN(J);s(de=>({...de,videoUrls:[...de.videoUrls,re]})),w(de=>de.filter(Se=>Se.id!==Z)),N(de=>({...de,[Z]:"success"})),setTimeout(()=>N(de=>({...de,[Z]:void 0})),2e3)}catch(J){console.error("Error uploading video:",J),l(re=>({...re,video:"Failed to upload video"})),N(re=>({...re,[Z]:"error"})),setTimeout(()=>N(re=>({...re,[Z]:void 0})),2e3)}},Q.readAsDataURL(z)}},L=U=>{window.confirm("Remove this video?")&&s(z=>({...z,videoUrls:z.videoUrls.filter(Q=>Q!==U)}))},B=(U,z,Q)=>{s(q=>{const Z=[...q.variants];return Z[U]={...Z[U],[z]:Q},{...q,variants:Z}})},G=async(U,z)=>{const Q=U.target.files[0];if(Q){const q=new FileReader;q.onloadend=async()=>{const Z=q.result,J=Date.now().toString();s(re=>{const de=[...re.variants];return de[z]={...de[z],imageUrls:[...de[z].imageUrls||[],{id:J,url:Z}]},{...re,variants:de}}),N(re=>({...re,[J]:"uploading"}));try{const re=DN(O1,`products/${r}/variants/${z}/images/${J}`);await RN(re,Z,"data_url");const de=await IN(re);s(Se=>{const je=[...Se.variants];return je[z]={...je[z],imageUrls:je[z].imageUrls.map(Ne=>Ne.id===J?de:Ne.url).filter(Ne=>typeof Ne=="string")},{...Se,variants:je}}),N(Se=>({...Se,[J]:"success"})),setTimeout(()=>N(Se=>({...Se,[J]:void 0})),2e3)}catch(re){console.error("Error uploading variant image:",re),l(de=>({...de,[`variantImage${z}`]:"Failed to upload variant image"})),N(de=>({...de,[J]:"error"})),setTimeout(()=>N(de=>({...de,[J]:void 0})),2e3)}},q.readAsDataURL(Q)}},X=(U,z)=>{window.confirm("Remove this variant image?")&&s(Q=>{const q=[...Q.variants];return q[U]={...q[U],imageUrls:q[U].imageUrls.filter(Z=>Z!==z)},{...Q,variants:q}})},H=()=>{s(U=>({...U,variants:[...U.variants,{price:"",stock:0,imageUrls:[]}]}))},W=U=>{window.confirm(`Remove variant ${U+1}?`)&&s(z=>({...z,variants:z.variants.filter((Q,q)=>q!==U)}))},ne=async()=>{const U=T();if(Object.keys(U).length>0){l(U);return}try{const z=Ye.currentUser?.uid,Q=qe(ve,"products",r);await Oi(Q,{name:t.name,price:Number(t.price),quantity:t.quantity,description:t.description,imageUrls:t.imageUrls,videoUrls:t.videoUrls,colors:t.colors,variants:t.variants,isDailyDeal:t.isDailyDeal,discountPercentage:Number(t.discountPercentage),updatedAt:lo()});const q=qe(Xe(ve,"adminNotifications"));await gr(q,{message:`Product "${t.name}" (ID: ${r}) edited by seller ${z}`,type:"product_edit",sellerId:z,productId:r,timestamp:lo(),read:!1}),d("Product updated successfully!"),setTimeout(()=>e("/sellers/products"),2e3)}catch(z){console.error("Error saving product:",{message:z.message,code:z.code}),l({general:"Failed to save product: "+z.message})}};return a?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 flex justify-center items-start mb-14",children:i.jsxs("div",{className:"w-full max-w-7xl bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-md",children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-6 flex items-center",children:[i.jsx("i",{className:"bx bx-edit-alt text-blue-500 mr-2"})," Edit Product"]}),o.general&&i.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg mb-6",children:i.jsx("p",{className:"text-red-700",children:o.general})}),c&&i.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg mb-6",children:i.jsx("p",{className:"text-green-700",children:c})}),i.jsxs("form",{className:"space-y-6 sm:space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Product Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:E,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o.name?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o.name&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.name})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:["Price () ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",id:"price",name:"price",value:t.price,onChange:E,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o.price?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o.price&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.price})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:["Quantity ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",id:"quantity",name:"quantity",value:t.quantity,onChange:I,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o.quantity?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o.quantity&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.quantity})]}),i.jsxs("div",{className:"relative group",children:[i.jsx("label",{htmlFor:"colors",className:"block text-sm font-medium text-gray-700",children:"Colors"}),i.jsx("input",{type:"text",id:"colors",name:"colors",value:u,onChange:U=>h(U.target.value),onKeyPress:U=>U.key==="Enter"&&S(U),placeholder:"Enter a color (e.g., #FF0000) and press Enter",className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500"}),i.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.colors.map((U,z)=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"inline-block w-6 h-6 rounded-full",style:{backgroundColor:U}}),i.jsx("button",{type:"button",onClick:()=>A(U),className:"ml-1 text-red-600 hover:text-red-800",children:i.jsx("i",{className:"bx bx-x"})})]},z))})]}),i.jsxs("div",{className:"relative group",children:[i.jsx("label",{htmlFor:"isDailyDeal",className:"block text-sm font-medium text-gray-700",children:"Daily Deal"}),i.jsx("input",{type:"checkbox",id:"isDailyDeal",name:"isDailyDeal",checked:t.isDailyDeal,onChange:E,className:"mt-1"})]}),t.isDailyDeal&&i.jsxs("div",{className:"relative group",children:[i.jsx("label",{htmlFor:"discountPercentage",className:"block text-sm font-medium text-gray-700",children:"Discount Percentage"}),i.jsx("input",{type:"number",id:"discountPercentage",name:"discountPercentage",value:t.discountPercentage,onChange:E,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o.discountPercentage?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o.discountPercentage&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.discountPercentage})]})]}),i.jsxs("div",{className:"relative group",children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),i.jsx("textarea",{id:"description",name:"description",value:t.description,onChange:E,className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500",rows:"4"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),i.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500"}),o.image&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.image}),i.jsxs("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[b.map(U=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:U.url,alt:"Pending",className:"w-24 h-24 object-cover rounded-lg"}),k[U.id]==="uploading"&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-lg",children:i.jsx("i",{className:"bx bx-loader bx-spin text-white text-xl"})}),k[U.id]==="success"&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-green-500 bg-opacity-75 rounded-lg",children:i.jsx("i",{className:"bx bx-check text-white text-xl"})}),k[U.id]==="error"&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-500 bg-opacity-75 rounded-lg",children:i.jsx("i",{className:"bx bx-x text-white text-xl"})})]},U.id)),t.imageUrls.map((U,z)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:U,alt:"Product",className:"w-24 h-24 object-cover rounded-lg"}),i.jsx("button",{type:"button",onClick:()=>O(U),className:"absolute top-0 right-0 text-red-600 hover:text-red-800 bg-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:i.jsx("i",{className:"bx bx-x"})})]},z))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Videos"}),i.jsx("input",{type:"file",accept:"video/*",onChange:M,className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500"}),o.video&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.video}),i.jsxs("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[y.map(U=>i.jsxs("div",{className:"relative",children:[i.jsxs("video",{controls:!0,className:"w-32 h-20 object-cover rounded-lg",children:[i.jsx("source",{src:U.url,type:"video/mp4"}),"Your browser does not support the video tag."]}),k[U.id]==="uploading"&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-lg",children:i.jsx("i",{className:"bx bx-loader bx-spin text-white text-xl"})}),k[U.id]==="success"&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-green-500 bg-opacity-75 rounded-lg",children:i.jsx("i",{className:"bx bx-check text-white text-xl"})}),k[U.id]==="error"&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-500 bg-opacity-75 rounded-lg",children:i.jsx("i",{className:"bx bx-x text-white text-xl"})})]},U.id)),t.videoUrls.map((U,z)=>i.jsxs("div",{className:"relative group",children:[i.jsxs("video",{controls:!0,className:"w-32 h-20 object-cover rounded-lg",children:[i.jsx("source",{src:U,type:"video/mp4"}),"Your browser does not support the video tag."]}),i.jsx("button",{type:"button",onClick:()=>L(U),className:"absolute top-0 right-0 text-red-600 hover:text-red-800 bg-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:i.jsx("i",{className:"bx bx-x"})})]},z))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Variants"}),i.jsx("button",{type:"button",onClick:H,className:"mt-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Add Variant"}),t.variants.map((U,z)=>i.jsxs("div",{className:"mt-4 p-4 border rounded-lg",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700",children:["Variant ",z+1]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Price () ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:U.price,onChange:Q=>B(z,"price",Number(Q.target.value)),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o[`variantPrice${z}`]?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o[`variantPrice${z}`]&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:o[`variantPrice${z}`]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Stock ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:U.stock,onChange:Q=>B(z,"stock",Number(Q.target.value)),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 ${o[`variantStock${z}`]?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),o[`variantStock${z}`]&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:o[`variantStock${z}`]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Variant Images"}),i.jsx("input",{type:"file",accept:"image/*",onChange:Q=>G(Q,z),className:"mt-1 w-full py-2 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 border-gray-300 focus:ring-blue-500"}),o[`variantImage${z}`]&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:o[`variantImage${z}`]}),i.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-4",children:(U.imageUrls||[]).map((Q,q)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:Q,alt:`Variant ${z+1}`,className:"w-24 h-24 object-cover rounded-lg"}),i.jsx("button",{type:"button",onClick:()=>X(z,Q),className:"absolute top-0 right-0 text-red-600 hover:text-red-800 bg-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:i.jsx("i",{className:"bx bx-x"})})]},q))})]})]}),i.jsx("button",{type:"button",onClick:()=>W(z),className:"mt-2 text-red-600 hover:text-red-800",children:"Remove Variant"})]},z))]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"button",onClick:ne,className:"w-full sm:w-auto px-6 py-3 rounded-lg bg-gray-800 text-white hover:bg-gray-700 font-bold shadow-md transition focus:outline-blue-400 focus:ring-4 focus:ring-blue-300 mt-4 sm:mt-0",children:"Save Changes"})})]})]})})]})}function _we({title:r,imageUrl:e}){return i.jsxs("div",{className:"relative h-64 md:h-96 overflow-hidden",children:[e?i.jsx("img",{src:e,alt:r,className:"w-full h-full object-cover"}):i.jsx("div",{className:"bg-gray-200 border-2 border-dashed w-full h-full"}),r&&i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:i.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white text-center",children:r})})]})}const l1={Transport:{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485716/auto_big_k4jp8e.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485719/auto_small_fvr8do.jpg"},Television:{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485684/screens_big_stuvgq.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485713/screens_small_wzvifu.jpg"},Scent:{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485702/perfume_big_mzpohm.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485684/perfume_small_xhsxan.jpg"},"Home & Living":{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485706/garden_big_p9bfjz.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485710/garden_small_ruvatt.jpg"},Photography:{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485711/camera_big_icewmf.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485703/camera_small_dv0k55.jpg"},"Game & Console":{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485685/games_big_tyfg2v.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485698/games_small_s2hvrp.jpg"},Beverages:{desktop:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485685/drink_big_afnisz.jpg",mobile:"https://res.cloudinary.com/dvhogp27g/image/upload/v1750485685/drink_small_tsaqxo.jpg"}};function Nwe(){const[r,e]=R.useState(window.innerWidth<768);return R.useEffect(()=>{const t=()=>e(window.innerWidth<768);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r}const c1="https://cdn.pixabay.com/photo/2018/08/29/17/07/ecommerce-3640321_640.jpg";function Swe(r){return r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function jwe(r,e){return Object.keys(e).find(t=>Swe(t)===r)}function Ewe(){const{categoryName:r}=Pc(),[e,t]=R.useState({}),[s,a]=R.useState(null),[n,o]=R.useState(null),[l,c]=R.useState(!0),[d,u]=R.useState(""),[h,m]=R.useState([]),[p,b]=R.useState(!1),x=Nwe();R.useEffect(()=>{const T=yr(Xe(ve,"customSubcategories"),E=>{const I={};E.forEach(S=>{I[S.id]=S.data().subcategories||[]}),t(I),c(!1)});return()=>T()},[]);const y=jwe(r,e),w=y?e[y]:null;R.useEffect(()=>{y&&(async()=>{const E=qe(ve,"categories",y),I=await wt(E);if(I.exists()){const S=I.data();a(S.bannerDesktop||l1[y]?.desktop||c1),o(S.bannerMobile||l1[y]?.mobile||c1)}else a(l1[y]?.desktop||c1),o(l1[y]?.mobile||c1)})()},[y]);const k=x?n:s,N=!s;return R.useEffect(()=>{w&&w.length>0&&u(w[0])},[w]),R.useEffect(()=>{(async()=>{if(!(!y||!d)){b(!0);try{const E=Lt(Xe(ve,"products"),Tt("category","==",y.toLowerCase()),Tt("subcategory","==",d)),S=(await xt(E)).docs.map(A=>({id:A.id,...A.data()}));m(S)}catch{m([])}finally{b(!1)}}})()},[y,d]),l?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):w?i.jsxs("div",{className:"bg-white min-h-screen mb-14",children:[i.jsx(_we,{title:N?y:"",imageUrl:k}),i.jsxs("div",{className:"container mx-auto px-4 py-6",children:[i.jsx("div",{className:"flex overflow-x-auto pb-2 mb-6 -mx-4 px-4 border-b",children:w.map(T=>i.jsx("button",{className:`px-4 py-2 font-medium whitespace-nowrap ${d===T?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,onClick:()=>u(T),children:T},T))}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold",children:[d," Products"]}),i.jsx(Fe,{to:`/products?category=${encodeURIComponent(y)}&subcategory=${encodeURIComponent(d)}`,className:"text-blue-600 hover:underline",children:"See All"})]}),p?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(5)].map((T,E)=>i.jsx("div",{className:"bg-gray-200 rounded-lg aspect-square animate-pulse"},E))}):h.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-600",children:["No products found in ",d]}):i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:h.map(T=>i.jsx(Pa,{product:T},T.id))})]})]})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Category not found"}),i.jsxs("p",{className:"mt-4",children:['The category "',r,`" doesn't exist.`]}),i.jsx(Fe,{to:"/",className:"mt-6 inline-block text-blue-600 hover:underline",children:"Return to homepage"})]})})}const tL={businessName:"",regNumber:"",regVerified:!1,regVerifying:!1,regError:"",taxRef:"",taxVerified:!1,taxVerifying:!1,taxError:"",address:"",country:"Nigeria",phone:"",phoneCode:"+234",email:"",password:"",firstName:"",lastName:"",manager:"",managerEmail:"",managerPhone:"",productLines:[],categories:[],bankName:"",bankCode:"",accountNumber:"",accountName:"",accountVerified:!1,accountVerifying:!1,accountError:"",agree:!1,signup:!1},Awe=(r,e)=>{const t=[r,e].filter(l=>l?.trim()),s=t[0]?.slice(0,4).toLowerCase()||"user",a=t[1]?.slice(0,3).toLowerCase()||"",n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return(s+a).replace(/[^a-z0-9]/g,"")+n},Twe=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo (Congo-Brazzaville)","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea (North)","Korea (South)","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],Cwe=()=>{const r=async se=>{L(""),H(""),G(!0);try{const Ce=await(await fetch("https://foremade-backend.onrender.com/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:se})})).json();Ce.success?(H("OTP sent! Please check your email."),O(!0)):L(Ce.error||"Failed to send OTP. Please try again.")}catch{L("Failed to send OTP. Please check your connection and try again.")}finally{G(!1)}},[e,t]=R.useState(1),[s,a]=R.useState(!1),[n,o]=R.useState(tL),[l,c]=R.useState({}),[d,u]=R.useState([]),[h,m]=R.useState([]),[p,b]=R.useState(!0),[x,y]=R.useState(!0),{alerts:w,addAlert:k,removeAlert:N}=Vd(),{user:T,setUser:E}=Nh(),I=zr(),[S,A]=R.useState(""),[P,O]=R.useState(!1),[M,L]=R.useState(""),[B,G]=R.useState(!1),[X,H]=R.useState(""),[W,ne]=R.useState(!1),U=async se=>{se.preventDefault(),L(""),H(""),G(!0);const fe=n.managerEmail||n.email;try{const Be=await(await fetch("https://foremade-backend.onrender.com/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:fe,otp:S})})).json();Be.success?(H("Email verified! You can now submit your application."),ne(!0),O(!1),k("Email verified! You can now submit your application.","success")):L(Be.error||"Invalid or expired code. Please try again.")}catch{L("Verification failed. Check your connection or try again.")}finally{G(!1)}},z=()=>i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"m-4 bg-white p-6 rounded-lg w-full max-w-md animate-slide-up",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Verify Your Email"}),i.jsx("button",{onClick:()=>O(!1),className:"text-gray-500 hover:text-gray-700",children:i.jsx("i",{className:"bx bx-x text-[24px]"})})]}),i.jsxs("p",{className:"text-gray-600 mb-4 text-sm text-center",children:["Enter the 6-digit code sent to your email ",n.managerEmail||n.email,".",i.jsx("br",{}),i.jsx("span",{className:"block mt-2 text-orange-500 font-medium",children:"Please wait at least 2 minutes for the email to arrive."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-between gap-2",children:[0,1,2,3,4,5].map(se=>i.jsx("input",{type:"text",maxLength:"1",value:S[se]||"",onChange:fe=>{const Te=S.split("");Te[se]=fe.target.value,A(Te.join("")),fe.target.value&&se<5&&document.getElementsByTagName("input")[se+1].focus()},onKeyDown:fe=>{fe.key==="Backspace"&&!S[se]&&se>0&&document.getElementsByTagName("input")[se-1].focus(),fe.key==="Enter"&&U(fe)},className:"w-12 h-12 text-center border rounded-lg focus:border-blue-500 focus:outline-none text-2xl font-medium",required:!0},se))}),M&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:M}),i.jsx("button",{type:"button",onClick:U,className:"w-full bg-slate-600 text-white p-3 rounded-lg hover:bg-blue-800 transition duration-200",disabled:B,children:B?"Verifying...":"Verify Code"}),i.jsxs("p",{className:"text-center text-gray-600 mt-2 text-sm",children:["Didnt receive a code?"," ",i.jsx("button",{type:"button",onClick:se=>{se.preventDefault(),r(n.managerEmail||n.email)},className:"text-blue-600 hover:underline",disabled:B,children:"Resend"})]}),X&&i.jsx("p",{className:"text-center text-green-600 text-xs mt-2",children:X})]})]})});R.useEffect(()=>{let se=!1;b(!0),y(!0);const fe="https://foremade-backend.onrender.com";return fetch("/api/categories").then(Te=>Te.json()).then(Te=>{se||(u(Te),b(!1))}).catch(Te=>{se||(u([{name:"Electronics"},{name:"Fashion"},{name:"Home & Living"},{name:"Beauty"},{name:"Sports"},{name:"Automotive"},{name:"Books"},{name:"Toys"},{name:"Groceries"},{name:"Health"}]),b(!1))}),fetch(`${fe}/fetch-banks`).then(Te=>Te.json()).then(Te=>{se||(m(Te),y(!1))}).catch(Te=>{se||(m([{code:"044",name:"Access Bank"},{code:"063",name:"Diamond Bank"},{code:"050",name:"Ecobank"},{code:"011",name:"First Bank"},{code:"033",name:"United Bank for Africa"}]),y(!1),k("Failed to fetch banks. Using fallback data.","error"))}),()=>{se=!0}},[]);const Q=(se,fe)=>{let Te=fe;se==="regNumber"&&(Te=fe.replace(/[^0-9]/g,"").slice(0,8),q(Te)),o(Ce=>({...Ce,[se]:Te})),l[se]&&c(Ce=>({...Ce,[se]:""}))},q=se=>{o(Te=>({...Te,regError:"",regVerified:!1,regVerifying:!1}));const fe=/^\d{7,8}$/.test(se);!fe&&se?o(Te=>({...Te,regError:"Registration number must be 7-8 digits"})):fe&&(o(Te=>({...Te,regVerifying:!0})),setTimeout(()=>{o(Te=>({...Te,regVerified:!0,regVerifying:!1}))},1500))},Z=se=>{const fe={};return se===1&&(n.businessName||(fe.businessName="Business name is required"),n.regNumber||(fe.regNumber="Registration number is required"),n.regError&&(fe.regNumber=n.regError),n.address||(fe.address="Business address is required"),n.country||(fe.country="Country is required")),se===2&&(n.firstName||(fe.firstName="First name is required"),n.lastName||(fe.lastName="Last name is required"),n.phone||(fe.phone="Phone number is required"),n.email||(fe.email="Email is required"),n.signup&&!n.password&&(fe.password="Password is required for signup"),n.manager||(fe.manager="Manager name is required"),n.managerEmail||(fe.managerEmail="Manager email is required"),n.managerEmail&&n.email&&n.managerEmail.trim().toLowerCase()===n.email.trim().toLowerCase()&&(fe.managerEmail="Manager/Company email must be different from your personal email")),se===3&&(n.productLines.length||(fe.productLines="At least one product line is required"),n.bankName||(fe.bankName="Bank name is required"),n.accountNumber||(fe.accountNumber="Account number is required"),n.agree||(fe.agree="You must agree to the terms"),n.accountError&&(fe.accountNumber=n.accountError)),c(fe),Object.keys(fe).length===0},J=async()=>{if(e<4)Z(e)&&t(e+1);else{if(!W){const se=n.managerEmail||n.email;await r(se);return}await re()}},re=async()=>{if(!Z(3)){a(!1);return}if(!W){O(!0),a(!1),k("Please verify your email with the OTP code before submitting.","error");return}a(!0);try{let se=T?.uid,fe=null;const Ce=Ux().currentUser;if(!Ce&&n.signup&&n.email&&n.password){const bt=await cw(Ye,n.email,n.password);se=bt.user.uid,fe=await bt.user.getIdToken(!0),await zp(bt.user,{displayName:`${n.firstName} ${n.lastName}`}),typeof E=="function"?E(bt.user):console.warn("setUser is not a function. Skipping auth context update.");const pt=Awe(n.firstName,n.lastName),zt=qe(ve,"users",se);let Mt=0;const dt=3;for(;Mt<dt;)try{await gr(zt,{email:n.email,username:pt,firstName:n.firstName,lastName:n.lastName,createdAt:new Date().toISOString(),phoneNumber:n.phoneCode+n.phone,country:n.country,addresses:[{street:n.address,city:"",state:"",postalCode:"",country:n.country}],proStatus:"pending"},{merge:!0}),k("Account and profile created successfully!","success");break}catch(At){if(Mt++,Mt===dt)throw console.error("Firestore profile creation failed after retries:",At),new Error("Failed to create user profile in Firestore after multiple attempts.");await new Promise(Qe=>setTimeout(Qe,1e3))}}else if(Ce){se=Ce.uid;try{fe=await Ce.getIdToken(!0)}catch(bt){if(bt.code==="auth/user-token-expired"){k("Your session has expired. Please sign in again.","error"),I("/login");return}throw bt}}else throw new Error("No authenticated user found and signup not selected.");const Be={...n,submittedAt:new Date().toISOString(),timestamp:Date.now(),userAgent:navigator.userAgent,formType:"Pro Seller Application",uid:se||`guest_${Date.now()}_${Math.random().toString(36).substring(2,8)}`},gt=await fetch("https://foremade-backend.onrender.com/api/pro-seller",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...fe?{Authorization:`Bearer ${fe}`}:{}},body:JSON.stringify(Be)}),st=await gt.json();if(!gt.ok)throw new Error(st.error||st.message||"Submission failed");k("Pro Seller application submitted successfully! We will review your application and get back to you soon.","success"),o(tL),t(1),I("/profile")}catch(se){console.error("Submission error:",se.message,se),se.code==="auth/user-token-expired"?(k("Your session has expired. Please sign in again.","error"),I("/login")):k(`There was an error submitting your application: ${se.message}. Please try again or contact support.`,"error")}finally{a(!1)}},de=()=>{e>1&&t(se=>se-1)},Se=()=>{q(n.regNumber)},je=()=>{o(se=>({...se,taxError:"",taxVerified:!0}))},Ne=async()=>{if(!(!n.accountNumber||!n.bankCode)){o(se=>({...se,accountVerifying:!0,accountError:"",accountVerified:!1,accountName:""}));try{const se={accountNumber:n.accountNumber,bankCode:n.bankCode},Te=await fetch("https://foremade-backend.onrender.com/verify-bank-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),Ce=await Te.json();Te.ok&&(Ce.accountName||Ce.account_name)?o(Be=>({...Be,accountVerified:!0,accountVerifying:!1,accountError:"",accountName:Ce.accountName||Ce.account_name})):o(Be=>({...Be,accountVerified:!1,accountVerifying:!1,accountError:Ce.message||"Verification failed.",accountName:""}))}catch(se){o(fe=>({...fe,accountVerified:!1,accountVerifying:!1,accountError:"Network or server error.",accountName:""})),console.error("Bank account verification error:",se)}}},xe=()=>{const se={enter:{x:50,opacity:0},center:{x:0,opacity:1},exit:{x:-50,opacity:0}};return i.jsxs(i.Fragment,{children:[P&&i.jsx(z,{}),i.jsx(go,{mode:"wait",children:i.jsxs(Ct.div,{variants:se,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[e===1&&i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx(zde,{className:"w-6 h-6 text-orange-500 mx-auto mb-3"}),i.jsx("h2",{className:"text-xl font-bold text-orange-800 mb-2",children:"Business Information"}),i.jsx("p",{className:"text-orange-600",children:"Let's start with your business details"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",placeholder:"Business Name",value:n.businessName,onChange:fe=>Q("businessName",fe.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.businessName?"border-red-500":"border-gray-300"}`}),l.businessName&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.businessName})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center",children:["Registration Number ",i.jsx("span",{className:"text-red-500",children:"*"}),n.regVerifying&&i.jsxs("span",{className:"ml-2 text-xs text-orange-500 animate-pulse",children:["Verifying... ",i.jsx("span",{className:"ml-1 w-4 h-4 border-2 border-t-orange-500 border-orange-200 rounded-full animate-spin"})]}),n.regVerified&&!n.regError&&i.jsx(Eo,{className:"ml-2 w-5 h-5 text-green-500"}),n.regError&&i.jsx("span",{className:"ml-2 text-xs text-red-500",children:n.regError})]}),i.jsx("input",{type:"text",placeholder:"7-8 digits (e.g., 1234567)",value:n.regNumber,onChange:fe=>Q("regNumber",fe.target.value),onBlur:Se,pattern:"\\d{7,8}",title:"Must be 7-8 digits",className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${n.regError?"border-red-500":n.regVerified?"border-green-500":l.regNumber?"border-red-500":"border-gray-300"}`,required:!0}),l.regNumber&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.regNumber})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Tax Reference (Optional)",n.taxVerifying&&i.jsx("span",{className:"ml-2 text-xs text-orange-500 animate-pulse",children:"Verifying..."}),n.taxVerified&&!n.taxError&&i.jsx(Eo,{className:"ml-2 w-5 h-5 text-green-500"}),n.taxError&&i.jsx("span",{className:"ml-2 text-xs text-red-500",children:n.taxError})]}),i.jsx("input",{type:"text",placeholder:"Tax Reference (optional)",value:n.taxRef,onChange:fe=>Q("taxRef",fe.target.value),onBlur:je,className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${n.taxError?"border-red-500":n.taxVerified?"border-green-500":"border-gray-300"}`})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Address ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",placeholder:"Business Address",value:n.address,onChange:fe=>Q("address",fe.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.address?"border-red-500":"border-gray-300"}`}),l.address&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.address})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Country ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:n.country,onChange:fe=>{Q("country",fe.target.value),Q("regNumber",""),o(Te=>({...Te,regError:"",regVerified:!1}))},className:`w-full px-4 py-3 border rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.country?"border-red-500":"border-gray-300"}`,children:[i.jsx("option",{value:"",children:"Select Country"}),Twe.map(fe=>i.jsx("option",{value:fe,children:fe},fe))]}),l.country&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.country})]})]}),e===2&&i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx(zd,{className:"w-6 h-6 text-orange-500 mx-auto mb-3"}),i.jsx("h2",{className:"text-xl font-bold text-orange-800 mb-2",children:"Contact Information"}),i.jsxs("p",{className:"text-orange-600",children:["How can we reach you? ",i.jsx("span",{className:"text-sm text-gray-500",children:"(Sign up option available)"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["First Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",placeholder:"First Name",value:n.firstName,onChange:fe=>Q("firstName",fe.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.firstName?"border-red-500":"border-gray-300"}`}),l.firstName&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.firstName})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Last Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",placeholder:"Last Name",value:n.lastName,onChange:fe=>Q("lastName",fe.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.lastName?"border-red-500":"border-gray-300"}`}),l.lastName&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.lastName})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",placeholder:"Phone Number",value:n.phone,onChange:fe=>Q("phone",fe.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.phone?"border-red-500":"border-gray-300"}`}),l.phone&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.phone})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",placeholder:"Email Address",value:n.email,onChange:fe=>Q("email",fe.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.email?"border-red-500":"border-gray-300"}`}),l.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.email})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:n.signup,onChange:fe=>Q("signup",fe.target.checked),className:"accent-orange-500 w-4 h-4"}),i.jsx("label",{className:"text-sm text-gray-700",children:"Create an account with this email"})]}),n.signup&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"password",placeholder:"Password",value:n.password,onChange:fe=>Q("password",fe.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.password?"border-red-500":"border-gray-300"}`}),l.password&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.password})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Manager Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",placeholder:"Manager Name",value:n.manager,onChange:fe=>Q("manager",fe.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.manager?"border-red-500":"border-gray-300"}`}),l.manager&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.manager})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Manager Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",placeholder:"Manager Email",value:n.managerEmail,onChange:fe=>Q("managerEmail",fe.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.managerEmail?"border-red-500":"border-gray-300"}`}),l.managerEmail&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.managerEmail})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Manager Phone ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",placeholder:"Manager Phone",value:n.managerPhone,onChange:fe=>Q("managerPhone",fe.target.value),className:`w-full px-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.managerPhone?"border-red-500":"border-gray-300"}`}),l.managerPhone&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.managerPhone})]})]}),e===3&&i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx(Eh,{className:"w-6 h-6 text-orange-500 mx-auto mb-3"}),i.jsx("h2",{className:"text-xl font-bold text-orange-800 mb-2",children:"Products & Banking"}),i.jsx("p",{className:"text-orange-600",children:"Tell us about your products and banking details"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Product Line ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:p?i.jsx("span",{className:"text-gray-400 italic",children:"Loading categories..."}):d.length>0?d.map((fe,Te)=>i.jsxs("label",{className:"flex items-center space-x-2 bg-orange-50 rounded-lg px-3 py-2 cursor-pointer hover:bg-orange-100 transition",children:[i.jsx("input",{type:"checkbox",checked:n.productLines.includes(fe.value||fe.name||fe),onChange:Ce=>{let Be=n.productLines.includes(fe.value||fe.name||fe)?n.productLines.filter(Ue=>Ue!==(fe.value||fe.name||fe)):[...n.productLines,fe.value||fe.name||fe];Q("productLines",Be)},className:"accent-orange-500 w-4 h-4"}),i.jsx("span",{className:"text-sm",children:fe.label||fe.name||fe})]},`${fe.value||fe.code||fe.name}-${Te}`)):i.jsx("span",{className:"text-gray-400 italic",children:"No categories available."})}),l.productLines&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.productLines})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Bank Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:n.bankCode,onChange:fe=>{const Te=h.find(Ce=>Ce.code===fe.target.value);Q("bankCode",fe.target.value),Q("bankName",Te?Te.name:"")},className:`w-full px-4 py-3 border rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${l.bankName?"border-red-500":"border-gray-300"}`,children:[i.jsx("option",{value:"",children:"Select Bank"}),x?i.jsx("option",{value:"",children:"Loading banks..."}):h.length>0?h.map((fe,Te)=>i.jsx("option",{value:fe.code,children:fe.name},`${fe.code||"bank"}-${Te}`)):i.jsx("option",{value:"",children:"No banks available."})]}),l.bankName&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.bankName})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center",children:["Account Number ",i.jsx("span",{className:"text-red-500",children:"*"}),n.accountVerifying&&i.jsx("span",{className:"ml-2 text-xs text-orange-500 animate-pulse",children:"Verifying..."}),n.accountVerified&&!n.accountError&&i.jsx(Eo,{className:"ml-2 w-5 h-5 text-green-500"}),n.accountError&&i.jsx("span",{className:"ml-2 text-xs text-red-500",children:n.accountError})]}),i.jsx("input",{type:"text",placeholder:"Account Number",value:n.accountNumber,onChange:fe=>Q("accountNumber",fe.target.value),onBlur:Ne,className:`w-full px-4 py-3 border rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${n.accountError?"border-red-500":n.accountVerified?"border-green-500":l.accountNumber?"border-red-500":"border-gray-300"}`}),n.accountName&&i.jsxs("div",{className:"mt-2 flex items-center text-green-600 text-sm font-semibold",children:[i.jsx(Eo,{className:"w-5 h-5 mr-1"}),n.accountName]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:n.agree,onChange:fe=>Q("agree",fe.target.checked),className:"accent-orange-500 w-4 h-4"}),i.jsxs("label",{className:"text-sm text-gray-700",children:["I agree to the",i.jsx(Fe,{to:"/terms-conditions",target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 underline hover:text-orange-800 ml-1",children:"Pro Seller Terms & Conditions"}),i.jsx("span",{className:"text-red-500",children:"*"})]}),l.agree&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.agree})]})]}),e===4&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx(Eo,{className:"w-8 h-8 text-green-500 mx-auto mb-3"}),i.jsx("h2",{className:"text-xl font-bold text-green-700 mb-2",children:"Review & Submit"}),i.jsx("p",{className:"text-green-600",children:"Please review your information before submitting."})]}),i.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 shadow space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Business Name:"})," ",n.businessName]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Registration Number:"})," ",n.regNumber," ",n.regVerified&&i.jsx(Eo,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Tax Reference:"})," ",n.taxRef||"Not provided"," ",n.taxVerified&&i.jsx(Eo,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Business Address:"})," ",n.address]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Country:"})," ",n.country]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"First Name:"})," ",n.firstName]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Last Name:"})," ",n.lastName]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Phone:"})," ",n.phoneCode," ",n.phone]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Email:"})," ",n.email]}),n.signup&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Password:"})," [Set for new account]"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Manager:"})," ",n.manager]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Manager Email:"})," ",n.managerEmail]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Manager Phone:"})," ",n.managerPhone]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Product Lines:"})," ",n.productLines.join(", ")||"None"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Bank:"})," ",n.bankName]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Account Number:"})," ",n.accountNumber," ",n.accountVerified&&i.jsx(Eo,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Account Name:"})," ",n.accountName||"Not verified"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Agreed to Terms:"})," ",n.agree?"Yes":"No"]})]}),i.jsx("div",{className:"text-xs text-gray-500 text-center",children:"By submitting, you confirm all information is correct and consent to verification."})]})]},e)})]})},ze=[{label:"Business Info"},{label:"Contact Info"},{label:"Products & Banking"},{label:"Review & Submit"}];return i.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100 flex items-center justify-center py-8 px-2 sm:px-4",children:[i.jsx(xc,{alerts:w,removeAlert:N}),i.jsx("div",{className:"w-full max-w-2xl mx-auto px-2 sm:px-4 md:px-8",children:i.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-3xl shadow-2xl border border-orange-100 dark:border-gray-800 overflow-hidden",children:i.jsxs("div",{className:"px-4 sm:px-8 md:px-12 pt-10 pb-4 md:pt-14 md:pb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold text-orange-700 dark:text-orange-400 tracking-tight",children:"Pro Seller Registration"}),i.jsx(Eo,{className:"w-9 h-9 text-orange-500 self-center"})]}),i.jsxs("div",{className:"block sm:hidden mb-10",children:[i.jsx("div",{className:"flex items-center w-full mb-2",children:ze.map((se,fe)=>i.jsxs(Lr.Fragment,{children:[i.jsx("div",{className:"flex-1 flex flex-col items-center",children:i.jsx("div",{className:`w-7 h-7 flex items-center justify-center rounded-full border-2 text-sm font-bold
                          ${fe<e-1?"border-orange-600 bg-orange-100 text-orange-600":fe===e-1?"border-orange-700 bg-orange-200 text-orange-700":"border-gray-200 bg-gray-100 text-gray-400"}`,children:fe+1})}),fe<ze.length-1&&i.jsx("div",{className:`flex-1 h-1 mx-1 rounded-full ${fe<e-1?"bg-orange-600":"bg-gray-200"}`})]},se.label))}),i.jsx("div",{className:"flex justify-between w-full px-1",children:ze.map((se,fe)=>i.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wide text-center flex-1 ${fe===e-1?"text-orange-700":"text-gray-400"}`,children:se.label},se.label))})]}),i.jsx("div",{className:"hidden sm:flex items-center justify-center mb-10 gap-4",children:ze.map((se,fe)=>i.jsxs(Lr.Fragment,{children:[i.jsxs("div",{className:`flex flex-col items-center ${fe<e-1?"text-orange-600":fe===e-1?"text-orange-700 font-bold dark:text-orange-300":"text-gray-300 dark:text-gray-600"}`,children:[i.jsx("div",{className:`w-9 h-9 flex items-center justify-center rounded-full border-4 ${fe<e-1?"border-orange-600 bg-orange-100":fe===e-1?"border-orange-700 bg-orange-200 dark:bg-orange-900":"border-gray-200 bg-gray-100 dark:bg-gray-800"} text-lg font-bold`,children:fe+1}),i.jsx("span",{className:"text-xs mt-2 font-semibold tracking-wide uppercase whitespace-nowrap",children:se.label})]}),fe<ze.length-1&&i.jsx("div",{className:`flex-1 h-1 mx-2 rounded-full ${fe<e-1?"bg-orange-600":"bg-gray-200 dark:bg-gray-700"}`})]},se.label))}),i.jsxs("form",{onSubmit:se=>{se.preventDefault(),J()},children:[i.jsx("div",{className:"max-h-[60vh] md:max-h-[65vh] overflow-y-auto pb-4 custom-scrollbar px-1 md:px-2",children:xe()}),i.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-20 bg-gradient-to-t from-white via-white/90 to-transparent dark:from-gray-900 dark:via-gray-900/90 dark:to-transparent px-0 pt-6 pb-4 mt-8 border-t border-orange-100 dark:border-gray-800 shadow-2xl flex flex-col items-center gap-2",children:i.jsxs("div",{className:"flex flex-col sm:flex-row w-full gap-3 sm:gap-4",children:[e>1&&i.jsx("button",{type:"button",onClick:de,className:"flex-1 px-6 py-3 rounded-xl bg-orange-100 text-orange-700 font-bold text-base sm:text-lg shadow hover:bg-orange-200 transition border-2 border-orange-200",children:"Back"}),i.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-6 py-3 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 text-white font-extrabold text-base sm:text-lg shadow-lg hover:from-orange-600 hover:to-orange-700 focus:ring-4 focus:ring-orange-200 transition border-2 border-orange-500 disabled:opacity-60 disabled:cursor-not-allowed",children:s?"Submitting...":e<4?"Continue":"Submit"})]})})]})]})})})]})},m$="/assets/bg-wEpT47DD.jpg",Pwe="/assets/1-BrZQmCyo.png",Rwe="/assets/3-jTyAYhqG.png",Iwe="/assets/2-DOJJuS8a.png";function Dwe(){return i.jsxs("div",{className:"min-h-screen relative overflow-x-hidden flex flex-col",children:[i.jsx("style",{children:`
        .arrow-border {
          clip-path: polygon(0% 10%, 50% 10%, 50% 0%, 100% 50%, 50% 100%, 50% 90%, 0% 90%);
          box-shadow: 0 4px 24px 0 rgba(0,0,0,0.08);
          background: white;
        }
        .fold-effect {
          /* Optionally add a slight transform for the fold effect */
          box-shadow: 0 8px 32px 0 rgba(0,0,0,0.18);
          z-index: 2;
        }
        .sway {
          animation: sway-left-right 2.2s ease-in-out infinite alternate;
        }
        @keyframes sway-left-right {
          0% { transform: translateX(0); }
          50% { transform: translateX(10px); }
          100% { transform: translateX(0); }
        }
        .learn-more-anim {
          transition: background 0.3s, color 0.3s, transform 0.3s;
        }
        .learn-more-anim:hover {
          background: #f59e42;
          color: #fff;
          transform: scale(1.07) translateY(-2px);
        }
        .learn-more-anim .arrow-anim {
          transition: transform 0.3s;
        }
        .learn-more-anim:hover .arrow-anim {
          transform: translateX(8px) scale(1.2) rotate(8deg);
        }
        .register-anim {
          transition: background 0.3s, box-shadow 0.3s, transform 0.3s;
        }
        .register-anim:hover {
          background: linear-gradient(90deg, #1e3a8a 0%, #7c3aed 100%);
          box-shadow: 0 8px 32px 0 rgba(245,158,66,0.18);
          transform: scale(1.06) translateY(-2px);
        }
        .register-anim .arrow-anim {
          transition: transform 0.3s;
        }
        .register-anim:hover .arrow-anim {
          transform: translateX(8px) scale(1.2) rotate(8deg);
        }
      `}),i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat pointer-events-none",style:{backgroundImage:`url(${m$})`}}),i.jsx("div",{className:"absolute right-0 top-0 h-full w-1/2 flex items-center justify-end pr-8 pointer-events-none select-none"}),i.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-center max-w-6xl mx-auto px-4 py-12 w-full",children:[i.jsx("div",{className:"mb-12 max-w-2xl lg:ml-0 ml-0",children:i.jsxs("div",{className:"bg-gradient-to-r from-blue-900 via-blue-800 to-purple-900 text-white p-10 md:p-16 rounded-2xl shadow-2xl flex flex-col items-start",children:[i.jsx("h1",{className:"text-orange-400 text-4xl md:text-5xl font-extrabold mb-4 self-start",children:"Foremade Pro Seller"}),i.jsxs("div",{className:"flex items-center text-lg md:text-xl",children:[i.jsx("span",{children:"Grow Your Business With Ease"}),i.jsxs(Fe,{to:"/pro-seller-form",className:"ml-4 flex items-center group",children:[i.jsx(kp,{className:"w-8 h-8 animate-pulse text-yellow-300 group-hover:text-orange-400 transition-colors duration-200 sway"}),i.jsx(kp,{className:"w-8 h-8 animate-pulse delay-75 text-yellow-300 group-hover:text-orange-400 transition-colors duration-200 sway"}),i.jsx(kp,{className:"w-8 h-8 animate-pulse delay-150 text-yellow-300 group-hover:text-orange-400 transition-colors duration-200 sway"})]})]})]})}),i.jsx("div",{className:"mb-12 max-w-4xl lg:ml-0 ml-0",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-10 md:p-16 w-full",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 pb-2 border-b border-gray-200",children:"WHO CAN REGISTER AS A PRO SELLER?"}),i.jsx("div",{className:"mb-8",children:i.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"Are you a manufacturer, trader, brand, or retail business looking to expand your reach and grow your customer base? Become a FOREMADE Pro Seller and gain access to advanced features, dedicated support, and increased visibility."})}),i.jsxs("div",{className:"space-y-6 mb-8",children:[i.jsxs("div",{className:"hover:bg-blue-50 p-4 rounded transition-colors duration-200",children:[i.jsx("h3",{className:"font-semibold text-blue-900 text-lg mb-2",children:"1. New to FOREMADE?"}),i.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Sign up directly through the FOREMADE Pro Seller registration page."})]}),i.jsxs("div",{className:"hover:bg-blue-50 p-4 rounded transition-colors duration-200",children:[i.jsx("h3",{className:"font-semibold text-blue-900 text-lg mb-2",children:"2. Already have a FOREMADE account?"}),i.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"You can upgrade your existing seller account to a Pro account once all current orders are fulfilled."})]}),i.jsxs("div",{className:"hover:bg-blue-50 p-4 rounded transition-colors duration-200",children:[i.jsx("h3",{className:"font-semibold text-blue-900 text-lg mb-2",children:"3. Need both personal and business accounts?"}),i.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"No problem! You're welcome to have one standard account and one Pro account - just use a different email and phone number for your Pro registration."})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(Fe,{to:"/pro-seller-guide-full",className:"learn-more-anim group text-orange-500 text-lg font-semibold px-6 py-2 rounded-full border border-orange-200 shadow hover:shadow-lg flex items-center justify-end w-fit",children:i.jsxs("span",{className:"flex items-center justify-center",children:["Learn more",i.jsx(rx,{className:"ml-2 w-5 h-5 arrow-anim group-hover:text-white transition-transform duration-200 sway"})]})})})]})}),i.jsxs("div",{className:"flex flex-col items-center justify-center w-full gap-8 -mt-11 -mb-4",children:[i.jsxs("div",{className:"flex flex-row items-end justify-start gap-8 w-full",children:[i.jsx("div",{className:"w-48 h-48 md:w-52 md:h-52 lg:w-72 lg:h-72 rounded-full shadow-lg bg-white flex items-center justify-center overflow-hidden",children:i.jsx("img",{src:Pwe,alt:"Seller 1",className:"w-full h-full object-cover"})}),i.jsx("div",{className:"w-48 h-48 md:w-52 md:h-52 lg:w-72 lg:h-72 rounded-full shadow-xl bg-white flex items-center justify-center overflow-hidden fold-effect",children:i.jsx("img",{src:Rwe,alt:"Seller 2",className:"w-full h-full object-cover"})})]}),i.jsxs("div",{className:"flex flex-row items-center justify-center lg:justify-end w-full gap-6 -mt-9 mb-8",children:[i.jsx("div",{className:"w-48 h-48 md:w-52 md:h-52 lg:w-72 lg:h-72 arrow-border shadow-xl bg-white flex items-center justify-center overflow-hidden flex-shrink-0",children:i.jsx("img",{src:Iwe,alt:"Seller 3",className:"w-full h-full object-cover"})}),i.jsx(Fe,{to:"/pro-seller-form",className:"register-anim group bg-gradient-to-r from-blue-900 to-purple-900 text-white px-8 py-4 rounded-full font-semibold text-base flex items-center hover:from-blue-800 hover:to-purple-800 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:i.jsxs("span",{className:"flex items-center",children:["Register Now",i.jsx(rx,{className:"ml-2 w-5 h-5 arrow-anim group-hover:text-orange-300 transition-transform duration-200 sway"})]})})]})]})]})]})}function Owe(){return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-10 pointer-events-none",style:{backgroundImage:`url(${m$})`}}),i.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 py-12 w-full",children:[i.jsxs("section",{className:"mb-10 bg-white rounded-2xl shadow-lg p-8",children:[i.jsx("h1",{className:"text-4xl font-extrabold text-blue-900 mb-4",children:"Foremade Pro Seller Guide"}),i.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"Welcome to the comprehensive guide for becoming a Foremade Pro Seller. This page covers everything you need to know to get started, maximize your success, and understand the benefits and requirements of the Pro Seller program."})]}),i.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Who Can Register?"}),i.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[i.jsx("li",{children:"Manufacturers, brands, and authorized distributors"}),i.jsx("li",{children:"Retailers and traders with a business presence"}),i.jsx("li",{children:"Businesses seeking advanced selling tools and analytics"}),i.jsx("li",{children:"Existing Foremade sellers ready to upgrade"})]})]}),i.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Benefits of Becoming a Pro Seller"}),i.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[i.jsx("li",{children:"Priority listing and increased product visibility"}),i.jsx("li",{children:"Access to advanced analytics and sales reports"}),i.jsx("li",{children:"Dedicated account manager and support"}),i.jsx("li",{children:"Bulk product upload and inventory management tools"}),i.jsx("li",{children:"Exclusive marketing and promotional opportunities"}),i.jsx("li",{children:"Early access to new platform features"})]})]}),i.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Requirements"}),i.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[i.jsx("li",{children:"Valid business registration and tax information"}),i.jsx("li",{children:"Proof of product authenticity (for brands/distributors)"}),i.jsx("li",{children:"Minimum monthly sales volume (varies by category)"}),i.jsx("li",{children:"Compliance with Foremades seller policies"}),i.jsx("li",{children:"Active fulfillment of orders and positive ratings"})]})]}),i.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"How to Register"}),i.jsxs("ol",{className:"list-decimal pl-6 text-gray-700 space-y-1",children:[i.jsxs("li",{children:["Go to the ",i.jsx(Fe,{to:"/pro-seller-form",className:"text-blue-600 underline",children:"Pro Seller Registration Form"}),"."]}),i.jsx("li",{children:"Fill in your business and contact details."}),i.jsx("li",{children:"Upload required documents (business registration, product certificates, etc.)."}),i.jsx("li",{children:"Submit your application for review."}),i.jsx("li",{children:"Wait for approval and onboarding instructions from the Foremade team."})]}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsxs(Fe,{to:"/pro-seller-form",className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-full font-semibold flex items-center shadow",children:["Register Now ",i.jsx(rx,{className:"ml-2 w-5 h-5"})]})})]}),i.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Fees & Commissions"}),i.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[i.jsx("li",{children:"One-time registration fee (see registration form for current amount)"}),i.jsx("li",{children:"Commission on sales (varies by product category, typically 5-15%)"}),i.jsx("li",{children:"No hidden charges; all fees are transparently listed in your seller dashboard"})]})]}),i.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Support & Resources"}),i.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[i.jsx("li",{children:"Dedicated Pro Seller support team"}),i.jsx("li",{children:"Access to training materials and webinars"}),i.jsx("li",{children:"Community forums and peer support"}),i.jsx("li",{children:"Knowledge base with step-by-step guides"})]})]}),i.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Frequently Asked Questions"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"How long does approval take?"}),i.jsx("p",{className:"text-gray-700",children:"Most applications are reviewed within 2-5 business days. You will be notified by email once your account is approved or if more information is needed."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Can I upgrade from a regular seller account?"}),i.jsx("p",{className:"text-gray-700",children:"Yes! If you already sell on Foremade, you can apply for Pro Seller status. Make sure all your current orders are fulfilled before applying."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"What if I need help with my application?"}),i.jsxs("p",{className:"text-gray-700",children:["Contact our support team at ",i.jsx("a",{href:"mailto:support@foremade.com",className:"text-blue-600 underline",children:"support@foremade.com"})," for assistance."]})]})]})]}),i.jsxs("section",{className:"mb-8 bg-white rounded-2xl shadow p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-2",children:"Contact & Help"}),i.jsxs("p",{className:"text-gray-700",children:["For further questions or support, email ",i.jsx("a",{href:"mailto:support@foremade.com",className:"text-blue-600 underline",children:"support@foremade.com"})," or visit our ",i.jsx(Fe,{to:"/support",className:"text-blue-600 underline",children:"Support Center"}),"."]})]})]})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Xw={};Xw.version="0.18.5";var g$=1252,Mwe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],t4={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},r4=function(r){Mwe.indexOf(r)!=-1&&(g$=t4[0]=r)};function Fwe(){r4(1252)}var Do=function(r){r4(r)};function s4(){Do(1200),Fwe()}function rL(r){for(var e=[],t=0,s=r.length;t<s;++t)e[t]=r.charCodeAt(t);return e}function Lwe(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t)+(r.charCodeAt(2*t+1)<<8));return e.join("")}function p$(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t+1)+(r.charCodeAt(2*t)<<8));return e.join("")}var ip=function(r){var e=r.charCodeAt(0),t=r.charCodeAt(1);return e==255&&t==254?Lwe(r.slice(2)):e==254&&t==255?p$(r.slice(2)):e==65279?r.slice(1):r},d1=function(e){return String.fromCharCode(e)},sL=function(e){return String.fromCharCode(e)},xx,kd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function bx(r){for(var e="",t=0,s=0,a=0,n=0,o=0,l=0,c=0,d=0;d<r.length;)t=r.charCodeAt(d++),n=t>>2,s=r.charCodeAt(d++),o=(t&3)<<4|s>>4,a=r.charCodeAt(d++),l=(s&15)<<2|a>>6,c=a&63,isNaN(s)?l=c=64:isNaN(a)&&(c=64),e+=kd.charAt(n)+kd.charAt(o)+kd.charAt(l)+kd.charAt(c);return e}function Fi(r){var e="",t=0,s=0,a=0,n=0,o=0,l=0,c=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<r.length;)n=kd.indexOf(r.charAt(d++)),o=kd.indexOf(r.charAt(d++)),t=n<<2|o>>4,e+=String.fromCharCode(t),l=kd.indexOf(r.charAt(d++)),s=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(s)),c=kd.indexOf(r.charAt(d++)),a=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(a));return e}var Nr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Mc=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Gd(r){return Nr?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function aL(r){return Nr?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Ci=function(e){return Nr?Mc(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function ok(r){if(typeof ArrayBuffer>"u")return Ci(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),s=0;s!=r.length;++s)t[s]=r.charCodeAt(s)&255;return e}function su(r){if(Array.isArray(r))return r.map(function(s){return String.fromCharCode(s)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function Bwe(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}function a4(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return a4(new Uint8Array(r));for(var e=new Array(r.length),t=0;t<r.length;++t)e[t]=r[t];return e}var Ja=Nr?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:Mc(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var s=new Uint8Array(t),a=0;for(e=0,t=0;e<r.length;t+=a,++e)if(a=r[e].length,r[e]instanceof Uint8Array)s.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";s.set(new Uint8Array(r[e]),t)}return s}return[].concat.apply([],r.map(function(n){return Array.isArray(n)?n:[].slice.call(n)}))};function Uwe(r){for(var e=[],t=0,s=r.length+250,a=Gd(r.length+255),n=0;n<r.length;++n){var o=r.charCodeAt(n);if(o<128)a[t++]=o;else if(o<2048)a[t++]=192|o>>6&31,a[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=r.charCodeAt(++n)&1023;a[t++]=240|o>>8&7,a[t++]=128|o>>2&63,a[t++]=128|l>>6&15|(o&3)<<4,a[t++]=128|l&63}else a[t++]=224|o>>12&15,a[t++]=128|o>>6&63,a[t++]=128|o&63;t>s&&(e.push(a.slice(0,t)),t=0,a=Gd(65535),s=65530)}return e.push(a.slice(0,t)),Ja(e)}var Xn=/\u0000/g,op=/[\u0001-\u0006]/g;function Nm(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function Oo(r,e){var t=""+r;return t.length>=e?t:ra("0",e-t.length)+t}function n4(r,e){var t=""+r;return t.length>=e?t:ra(" ",e-t.length)+t}function Kw(r,e){var t=""+r;return t.length>=e?t:t+ra(" ",e-t.length)}function zwe(r,e){var t=""+Math.round(r);return t.length>=e?t:ra("0",e-t.length)+t}function Vwe(r,e){var t=""+r;return t.length>=e?t:ra("0",e-t.length)+t}var nL=Math.pow(2,32);function Yf(r,e){if(r>nL||r<-nL)return zwe(r,e);var t=Math.round(r);return Vwe(t,e)}function Zw(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var iL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],qS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Hwe(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var Jt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},oL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},$we={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Qw(r,e,t){for(var s=r<0?-1:1,a=r*s,n=0,o=1,l=0,c=1,d=0,u=0,h=Math.floor(a);d<e&&(h=Math.floor(a),l=h*o+n,u=h*d+c,!(a-h<5e-8));)a=1/(a-h),n=o,o=l,c=d,d=u;if(u>e&&(d>e?(u=c,l=n):(u=d,l=o)),!t)return[0,s*l,u];var m=Math.floor(s*l/u);return[m,s*l-m*u,u]}function ih(r,e,t){if(r>2958465||r<0)return null;var s=r|0,a=Math.floor(86400*(r-s)),n=0,o=[],l={D:s,T:a,u:86400*(r-s)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++s,++l.D)),s===60)o=t?[1317,10,29]:[1900,2,29],n=3;else if(s===0)o=t?[1317,8,29]:[1900,1,0],n=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],n=c.getDay(),s<60&&(n=(n+6)%7),t&&(n=Kwe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=n,l}var x$=new Date(1899,11,31,0,0,0),Wwe=x$.getTime(),qwe=new Date(1900,2,1,0,0,0);function b$(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=qwe&&(t+=1440*60*1e3),(t-(Wwe+(r.getTimezoneOffset()-x$.getTimezoneOffset())*6e4))/(1440*60*1e3)}function i4(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Gwe(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Ywe(r){var e=r<0?12:11,t=i4(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function Xwe(r){var e=i4(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function yx(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=Ywe(r):e===10?t=r.toFixed(10).substr(0,12):t=Xwe(r),i4(Gwe(t.toUpperCase()))}function Ih(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):yx(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return bo(14,b$(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function Kwe(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function Zwe(r,e,t,s){var a="",n=0,o=0,l=t.y,c,d=0;switch(r){case 98:l=t.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,d=e.length;break;case 3:return qS[t.m-1][1];case 5:return qS[t.m-1][0];default:return qS[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,d=e.length;break;case 3:return iL[t.q][0];default:return iL[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Oo(t.S,e.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,n=Math.round(o*(t.S+t.u)),n>=60*o&&(n=0),e==="s"?n===0?"0":""+n/o:(a=Oo(n,2+s),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?Oo(c,d):"";return u}function _d(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,s=r.substr(0,t);t!=r.length;t+=e)s+=(s.length>0?",":"")+r.substr(t,e);return s}var y$=/%/g;function Qwe(r,e,t){var s=e.replace(y$,""),a=e.length-s.length;return bc(r,s,t*Math.pow(10,2*a))+ra("%",a)}function Jwe(r,e,t){for(var s=e.length-1;e.charCodeAt(s-1)===44;)--s;return bc(r,e.substr(0,s),t/Math.pow(10,3*(e.length-s)))}function v$(r,e){var t,s=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+v$(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var n=Math.floor(Math.log(e)*Math.LOG10E)%a;if(n<0&&(n+=a),t=(e/Math.pow(10,n)).toPrecision(s+1+(a+n)%a),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+n):t+="E+"+(o-n);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+n)%a)+"."+u.substr(n)+"E"})}else t=e.toExponential(s);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var w$=/# (\?+)( ?)\/( ?)(\d+)/;function e2e(r,e,t){var s=parseInt(r[4],10),a=Math.round(e*s),n=Math.floor(a/s),o=a-n*s,l=s;return t+(n===0?"":""+n)+" "+(o===0?ra(" ",r[1].length+1+r[4].length):n4(o,r[1].length)+r[2]+"/"+r[3]+Oo(l,r[4].length))}function t2e(r,e,t){return t+(e===0?"":""+e)+ra(" ",r[1].length+2+r[4].length)}var k$=/^#*0*\.([0#]+)/,_$=/\).*[0#]/,N$=/\(###\) ###\\?-####/;function Hn(r){for(var e="",t,s=0;s!=r.length;++s)switch(t=r.charCodeAt(s)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function lL(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function cL(r,e){var t=r-Math.floor(r),s=Math.pow(10,e);return e<(""+Math.round(t*s)).length?0:Math.round(t*s)}function r2e(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function s2e(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function to(r,e,t){if(r.charCodeAt(0)===40&&!e.match(_$)){var s=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?to("n",s,t):"("+to("n",s,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Jwe(r,e,t);if(e.indexOf("%")!==-1)return Qwe(r,e,t);if(e.indexOf("E")!==-1)return v$(e,t);if(e.charCodeAt(0)===36)return"$"+to(r,e.substr(e.charAt(1)==" "?2:1),t);var a,n,o,l,c=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+Yf(c,e.length);if(e.match(/^[#?]+$/))return a=Yf(t,0),a==="0"&&(a=""),a.length>e.length?a:Hn(e.substr(0,e.length-a.length))+a;if(n=e.match(w$))return e2e(n,c,d);if(e.match(/^#+0+$/))return d+Yf(c,e.length-e.indexOf("0"));if(n=e.match(k$))return a=lL(t,n[1].length).replace(/^([^\.]+)$/,"$1."+Hn(n[1])).replace(/\.$/,"."+Hn(n[1])).replace(/\.(\d*)$/,function(b,x){return"."+x+ra("0",Hn(n[1]).length-x.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),n=e.match(/^(0*)\.(#*)$/))return d+lL(c,n[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,n[1].length?"0.":".");if(n=e.match(/^#{1,3},##0(\.?)$/))return d+_d(Yf(c,0));if(n=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+to(r,e,-t):_d(""+(Math.floor(t)+r2e(t,n[1].length)))+"."+Oo(cL(t,n[1].length),n[1].length);if(n=e.match(/^#,#*,#0/))return to(r,e.replace(/^#,#*,/,""),t);if(n=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Nm(to(r,e.replace(/[\\-]/g,""),t)),o=0,Nm(Nm(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return o<a.length?a.charAt(o++):b==="0"?"0":""}));if(e.match(N$))return a=to(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(n=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(n[4].length,7),l=Qw(c,Math.pow(10,o)-1,!1),a=""+d,u=bc("n",n[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+n[2]+"/"+n[3],u=Kw(l[2],o),u.length<n[4].length&&(u=Hn(n[4].substr(n[4].length-u.length))+u),a+=u,a;if(n=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(n[1].length,n[4].length),7),l=Qw(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?n4(l[1],o)+n[2]+"/"+n[3]+Kw(l[2],o):ra(" ",2*o+1+n[2].length+n[3].length));if(n=e.match(/^[#0?]+$/))return a=Yf(t,0),e.length<=a.length?a:Hn(e.substr(0,e.length-a.length))+a;if(n=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(n[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=e.indexOf(".")-o,m=e.length-a.length-h;return Hn(e.substr(0,h)+a+e.substr(e.length-m))}if(n=e.match(/^00,000\.([#0]*0)$/))return o=cL(t,n[1].length),t<0?"-"+to(r,e,-t):_d(s2e(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Oo(0,3-b.length):"")+b})+"."+Oo(o,n[1].length);switch(e){case"###,##0.00":return to(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var p=_d(Yf(c,0));return p!=="0"?d+p:"";case"###,###.00":return to(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return to(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function a2e(r,e,t){for(var s=e.length-1;e.charCodeAt(s-1)===44;)--s;return bc(r,e.substr(0,s),t/Math.pow(10,3*(e.length-s)))}function n2e(r,e,t){var s=e.replace(y$,""),a=e.length-s.length;return bc(r,s,t*Math.pow(10,2*a))+ra("%",a)}function S$(r,e){var t,s=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+S$(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var n=Math.floor(Math.log(e)*Math.LOG10E)%a;if(n<0&&(n+=a),t=(e/Math.pow(10,n)).toPrecision(s+1+(a+n)%a),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+n):t+="E+"+(o-n),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+n)%a)+"."+u.substr(n)+"E"})}else t=e.toExponential(s);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function cl(r,e,t){if(r.charCodeAt(0)===40&&!e.match(_$)){var s=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?cl("n",s,t):"("+cl("n",s,-t)+")"}if(e.charCodeAt(e.length-1)===44)return a2e(r,e,t);if(e.indexOf("%")!==-1)return n2e(r,e,t);if(e.indexOf("E")!==-1)return S$(e,t);if(e.charCodeAt(0)===36)return"$"+cl(r,e.substr(e.charAt(1)==" "?2:1),t);var a,n,o,l,c=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+Oo(c,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:Hn(e.substr(0,e.length-a.length))+a;if(n=e.match(w$))return t2e(n,c,d);if(e.match(/^#+0+$/))return d+Oo(c,e.length-e.indexOf("0"));if(n=e.match(k$))return a=(""+t).replace(/^([^\.]+)$/,"$1."+Hn(n[1])).replace(/\.$/,"."+Hn(n[1])),a=a.replace(/\.(\d*)$/,function(b,x){return"."+x+ra("0",Hn(n[1]).length-x.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),n=e.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,n[1].length?"0.":".");if(n=e.match(/^#{1,3},##0(\.?)$/))return d+_d(""+c);if(n=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+cl(r,e,-t):_d(""+t)+"."+ra("0",n[1].length);if(n=e.match(/^#,#*,#0/))return cl(r,e.replace(/^#,#*,/,""),t);if(n=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Nm(cl(r,e.replace(/[\\-]/g,""),t)),o=0,Nm(Nm(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return o<a.length?a.charAt(o++):b==="0"?"0":""}));if(e.match(N$))return a=cl(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(n=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(n[4].length,7),l=Qw(c,Math.pow(10,o)-1,!1),a=""+d,u=bc("n",n[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+n[2]+"/"+n[3],u=Kw(l[2],o),u.length<n[4].length&&(u=Hn(n[4].substr(n[4].length-u.length))+u),a+=u,a;if(n=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(n[1].length,n[4].length),7),l=Qw(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?n4(l[1],o)+n[2]+"/"+n[3]+Kw(l[2],o):ra(" ",2*o+1+n[2].length+n[3].length));if(n=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:Hn(e.substr(0,e.length-a.length))+a;if(n=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(n[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=e.indexOf(".")-o,m=e.length-a.length-h;return Hn(e.substr(0,h)+a+e.substr(e.length-m))}if(n=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+cl(r,e,-t):_d(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Oo(0,3-b.length):"")+b})+"."+Oo(0,n[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=_d(""+c);return p!=="0"?d+p:"";default:if(e.match(/\.[0#?]*$/))return cl(r,e.slice(0,e.lastIndexOf(".")),t)+Hn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function bc(r,e,t){return(t|0)===t?cl(r,e,t):to(r,e,t)}function i2e(r){for(var e=[],t=!1,s=0,a=0;s<r.length;++s)switch(r.charCodeAt(s)){case 34:t=!t;break;case 95:case 42:case 92:++s;break;case 59:e[e.length]=r.substr(a,s-a),a=s+1}if(e[e.length]=r.substr(a),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var j$=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function v0(r){for(var e=0,t="",s="";e<r.length;)switch(t=r.charAt(e)){case"G":Zw(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(s=t;r.charAt(e++)!=="]"&&e<r.length;)s+=r.charAt(e);if(s.match(j$))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function o2e(r,e,t,s){for(var a=[],n="",o=0,l="",c="t",d,u,h,m="H";o<r.length;)switch(l=r.charAt(o)){case"G":if(!Zw(r,o))throw new Error("unrecognized character "+l+" in "+r);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(n="";(h=r.charCodeAt(++o))!==34&&o<r.length;)n+=String.fromCharCode(h);a[a.length]={t:"t",v:n},++o;break;case"\\":var p=r.charAt(++o),b=p==="("||p===")"?p:"t";a[a.length]={t:b,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:e},++o;break;case"B":case"b":if(r.charAt(o+1)==="1"||r.charAt(o+1)==="2"){if(d==null&&(d=ih(e,t,r.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:r.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=ih(e,t),d==null))return"";for(n=l;++o<r.length&&r.charAt(o).toLowerCase()===l;)n+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:n},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(d==null&&(d=ih(e,t)),r.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(x.v=d.H>=12?"P":"A"),x.t="T",m="h",o+=3):r.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(x.v=d.H>=12?"PM":"AM"),x.t="T",o+=5,m="h"):r.substr(o,5).toUpperCase()==="/"?(d!=null&&(x.v=d.H>=12?"":""),x.t="T",o+=5,m="h"):(x.t="t",++o),d==null&&x.t==="T")return"";a[a.length]=x,c=l;break;case"[":for(n=l;r.charAt(o++)!=="]"&&o<r.length;)n+=r.charAt(o);if(n.slice(-1)!=="]")throw'unterminated "[" block: |'+n+"|";if(n.match(j$)){if(d==null&&(d=ih(e,t),d==null))return"";a[a.length]={t:"Z",v:n.toLowerCase()},c=n.charAt(1)}else n.indexOf("$")>-1&&(n=(n.match(/\$([^-\[\]]*)/)||[])[1]||"$",v0(r)||(a[a.length]={t:"t",v:n}));break;case".":if(d!=null){for(n=l;++o<r.length&&(l=r.charAt(o))==="0";)n+=l;a[a.length]={t:"s",v:n};break}case"0":case"#":for(n=l;++o<r.length&&"0#?.,E+-%".indexOf(l=r.charAt(o))>-1;)n+=l;a[a.length]={t:"n",v:n};break;case"?":for(n=l;r.charAt(++o)===l;)n+=l;a[a.length]={t:l,v:n},c=l;break;case"*":++o,(r.charAt(o)==" "||r.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:s===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(n=l;o<r.length&&"0123456789".indexOf(r.charAt(++o))>-1;)n+=r.charAt(o);a[a.length]={t:"D",v:n};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+r);a[a.length]={t:"t",v:l},++o;break}var y=0,w=0,k;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",y<1&&(y=1);break;case"s":(k=a[o].v.match(/\.0+$/))&&(w=Math.max(w,k[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&a[o].v.match(/[Hh]/)&&(y=1),y<2&&a[o].v.match(/[Mm]/)&&(y=2),y<3&&a[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var N="",T;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=Zwe(a[o].t.charCodeAt(0),a[o].v,d,w),a[o].t="t";break;case"n":case"?":for(T=o+1;a[T]!=null&&((l=a[T].t)==="?"||l==="D"||(l===" "||l==="t")&&a[T+1]!=null&&(a[T+1].t==="?"||a[T+1].t==="t"&&a[T+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[T].v==="/"||a[T].v===" "&&a[T+1]!=null&&a[T+1].t=="?"));)a[o].v+=a[T].v,a[T]={v:"",t:";"},++T;N+=a[o].v,o=T-1;break;case"G":a[o].t="t",a[o].v=Ih(e,t);break}var E="",I,S;if(N.length>0){N.charCodeAt(0)==40?(I=e<0&&N.charCodeAt(0)===45?-e:e,S=bc("n",N,I)):(I=e<0&&s>1?-e:e,S=bc("n",N,I),I<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),T=S.length-1;var A=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){A=o;break}var P=a.length;if(A===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(T>=a[o].v.length-1?(T-=a[o].v.length,a[o].v=S.substr(T+1,a[o].v.length)):T<0?a[o].v="":(a[o].v=S.substr(0,T+1),T=-1),a[o].t="t",P=o);T>=0&&P<a.length&&(a[P].v=S.substr(0,T+1)+a[P].v)}else if(A!==a.length&&S.indexOf("E")===-1){for(T=S.indexOf(".")-1,o=A;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")-1:a[o].v.length-1,E=a[o].v.substr(u+1);u>=0;--u)T>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(E=S.charAt(T--)+E);a[o].v=E,a[o].t="t",P=o}for(T>=0&&P<a.length&&(a[P].v=S.substr(0,T+1)+a[P].v),T=S.indexOf(".")+1,o=A;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==A)){for(u=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")+1:0,E=a[o].v.substr(0,u);u<a[o].v.length;++u)T<S.length&&(E+=S.charAt(T++));a[o].v=E,a[o].t="t",P=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(I=s>1&&e<0&&o>0&&a[o-1].v==="-"?-e:e,a[o].v=bc(a[o].t,a[o].v,I),a[o].t="t");var O="";for(o=0;o!==a.length;++o)a[o]!=null&&(O+=a[o].v);return O}var dL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uL(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function l2e(r,e){var t=i2e(r),s=t.length,a=t[s-1].indexOf("@");if(s<4&&a>-1&&--s,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var n=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[s,n];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(dL),l=t[1].match(dL);return uL(e,o)?[s,t[0]]:uL(e,l)?[s,t[1]]:[s,t[o!=null&&l!=null?2:1]]}return[s,n]}function bo(r,e,t){t==null&&(t={});var s="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?s=t.dateNF:s=r;break;case"number":r==14&&t.dateNF?s=t.dateNF:s=(t.table!=null?t.table:Jt)[r],s==null&&(s=t.table&&t.table[oL[r]]||Jt[oL[r]]),s==null&&(s=$we[r]||"General");break}if(Zw(s,0))return Ih(e,t);e instanceof Date&&(e=b$(e,t.date1904));var a=l2e(s,e);if(Zw(a[1]))return Ih(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return o2e(a[1],e,t,a[0])}function yc(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Jt[t]==null){e<0&&(e=t);continue}if(Jt[t]==r){e=t;break}}e<0&&(e=391)}return Jt[e]=r,e}function lk(r){for(var e=0;e!=392;++e)r[e]!==void 0&&yc(r[e],e)}function w0(){Jt=Hwe()}var c2e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},E$=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function d2e(r){var e=typeof r=="number"?Jt[r]:r;return e=e.replace(E$,"(\\d+)"),new RegExp("^"+e+"$")}function u2e(r,e,t){var s=-1,a=-1,n=-1,o=-1,l=-1,c=-1;(e.match(E$)||[]).forEach(function(h,m){var p=parseInt(t[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":s=p;break;case"d":n=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(n>=1?n:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:s==-1&&a==-1&&n==-1?u:d+"T"+u}var h2e=(function(){var r={};r.version="1.2.0";function e(){for(var S=0,A=new Array(256),P=0;P!=256;++P)S=P,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,A[P]=S;return typeof Int32Array<"u"?new Int32Array(A):A}var t=e();function s(S){var A=0,P=0,O=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)M[O]=S[O];for(O=0;O!=256;++O)for(P=S[O],A=256+O;A<4096;A+=256)P=M[A]=P>>>8^S[P&255];var L=[];for(O=1;O!=16;++O)L[O-1]=typeof Int32Array<"u"?M.subarray(O*256,O*256+256):M.slice(O*256,O*256+256);return L}var a=s(t),n=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],h=a[6],m=a[7],p=a[8],b=a[9],x=a[10],y=a[11],w=a[12],k=a[13],N=a[14];function T(S,A){for(var P=A^-1,O=0,M=S.length;O<M;)P=P>>>8^t[(P^S.charCodeAt(O++))&255];return~P}function E(S,A){for(var P=A^-1,O=S.length-15,M=0;M<O;)P=N[S[M++]^P&255]^k[S[M++]^P>>8&255]^w[S[M++]^P>>16&255]^y[S[M++]^P>>>24]^x[S[M++]]^b[S[M++]]^p[S[M++]]^m[S[M++]]^h[S[M++]]^u[S[M++]]^d[S[M++]]^c[S[M++]]^l[S[M++]]^o[S[M++]]^n[S[M++]]^t[S[M++]];for(O+=15;M<O;)P=P>>>8^t[(P^S[M++])&255];return~P}function I(S,A){for(var P=A^-1,O=0,M=S.length,L=0,B=0;O<M;)L=S.charCodeAt(O++),L<128?P=P>>>8^t[(P^L)&255]:L<2048?(P=P>>>8^t[(P^(192|L>>6&31))&255],P=P>>>8^t[(P^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,B=S.charCodeAt(O++)&1023,P=P>>>8^t[(P^(240|L>>8&7))&255],P=P>>>8^t[(P^(128|L>>2&63))&255],P=P>>>8^t[(P^(128|B>>6&15|(L&3)<<4))&255],P=P>>>8^t[(P^(128|B&63))&255]):(P=P>>>8^t[(P^(224|L>>12&15))&255],P=P>>>8^t[(P^(128|L>>6&63))&255],P=P>>>8^t[(P^(128|L&63))&255]);return~P}return r.table=t,r.bstr=T,r.buf=E,r.str=I,r})(),Wt=(function(){var e={};e.version="1.2.1";function t(Y,ie){for(var ce=Y.split("/"),oe=ie.split("/"),ge=0,be=0,he=Math.min(ce.length,oe.length);ge<he;++ge){if(be=ce[ge].length-oe[ge].length)return be;if(ce[ge]!=oe[ge])return ce[ge]<oe[ge]?-1:1}return ce.length-oe.length}function s(Y){if(Y.charAt(Y.length-1)=="/")return Y.slice(0,-1).indexOf("/")===-1?Y:s(Y.slice(0,-1));var ie=Y.lastIndexOf("/");return ie===-1?Y:Y.slice(0,ie+1)}function a(Y){if(Y.charAt(Y.length-1)=="/")return a(Y.slice(0,-1));var ie=Y.lastIndexOf("/");return ie===-1?Y:Y.slice(ie+1)}function n(Y,ie){typeof ie=="string"&&(ie=new Date(ie));var ce=ie.getHours();ce=ce<<6|ie.getMinutes(),ce=ce<<5|ie.getSeconds()>>>1,Y.write_shift(2,ce);var oe=ie.getFullYear()-1980;oe=oe<<4|ie.getMonth()+1,oe=oe<<5|ie.getDate(),Y.write_shift(2,oe)}function o(Y){var ie=Y.read_shift(2)&65535,ce=Y.read_shift(2)&65535,oe=new Date,ge=ce&31;ce>>>=5;var be=ce&15;ce>>>=4,oe.setMilliseconds(0),oe.setFullYear(ce+1980),oe.setMonth(be-1),oe.setDate(ge);var he=ie&31;ie>>>=5;var ye=ie&63;return ie>>>=6,oe.setHours(ie),oe.setMinutes(ye),oe.setSeconds(he<<1),oe}function l(Y){un(Y,0);for(var ie={},ce=0;Y.l<=Y.length-4;){var oe=Y.read_shift(2),ge=Y.read_shift(2),be=Y.l+ge,he={};switch(oe){case 21589:ce=Y.read_shift(1),ce&1&&(he.mtime=Y.read_shift(4)),ge>5&&(ce&2&&(he.atime=Y.read_shift(4)),ce&4&&(he.ctime=Y.read_shift(4))),he.mtime&&(he.mt=new Date(he.mtime*1e3));break}Y.l=be,ie[oe]=he}return ie}var c;function d(){return c||(c={})}function u(Y,ie){if(Y[0]==80&&Y[1]==75)return xr(Y,ie);if((Y[0]|32)==109&&(Y[1]|32)==105)return Ps(Y,ie);if(Y.length<512)throw new Error("CFB file size "+Y.length+" < 512");var ce=3,oe=512,ge=0,be=0,he=0,ye=0,pe=0,we=[],te=Y.slice(0,512);un(te,0);var _e=h(te);switch(ce=_e[0],ce){case 3:oe=512;break;case 4:oe=4096;break;case 0:if(_e[1]==0)return xr(Y,ie);default:throw new Error("Major Version: Expected 3 or 4 saw "+ce)}oe!==512&&(te=Y.slice(0,oe),un(te,28));var le=Y.slice(0,oe);m(te,ce);var Ee=te.read_shift(4,"i");if(ce===3&&Ee!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ee);te.l+=4,he=te.read_shift(4,"i"),te.l+=4,te.chk("00100000","Mini Stream Cutoff Size: "),ye=te.read_shift(4,"i"),ge=te.read_shift(4,"i"),pe=te.read_shift(4,"i"),be=te.read_shift(4,"i");for(var ae=-1,ke=0;ke<109&&(ae=te.read_shift(4,"i"),!(ae<0));++ke)we[ke]=ae;var Oe=p(Y,oe);y(pe,be,Oe,oe,we);var De=k(Oe,he,we,oe);De[he].name="!Directory",ge>0&&ye!==B&&(De[ye].name="!MiniFAT"),De[we[0]].name="!FAT",De.fat_addrs=we,De.ssz=oe;var Me={},at=[],mt=[],ir=[];N(he,De,Oe,at,ge,Me,mt,ye),b(mt,ir,at),at.shift();var Wr={FileIndex:mt,FullPaths:ir};return ie&&ie.raw&&(Wr.raw={header:le,sectors:Oe}),Wr}function h(Y){if(Y[Y.l]==80&&Y[Y.l+1]==75)return[0,0];Y.chk(G,"Header Signature: "),Y.l+=16;var ie=Y.read_shift(2,"u");return[Y.read_shift(2,"u"),ie]}function m(Y,ie){var ce=9;switch(Y.l+=2,ce=Y.read_shift(2)){case 9:if(ie!=3)throw new Error("Sector Shift: Expected 9 saw "+ce);break;case 12:if(ie!=4)throw new Error("Sector Shift: Expected 12 saw "+ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ce)}Y.chk("0600","Mini Sector Shift: "),Y.chk("000000000000","Reserved: ")}function p(Y,ie){for(var ce=Math.ceil(Y.length/ie)-1,oe=[],ge=1;ge<ce;++ge)oe[ge-1]=Y.slice(ge*ie,(ge+1)*ie);return oe[ce-1]=Y.slice(ce*ie),oe}function b(Y,ie,ce){for(var oe=0,ge=0,be=0,he=0,ye=0,pe=ce.length,we=[],te=[];oe<pe;++oe)we[oe]=te[oe]=oe,ie[oe]=ce[oe];for(;ye<te.length;++ye)oe=te[ye],ge=Y[oe].L,be=Y[oe].R,he=Y[oe].C,we[oe]===oe&&(ge!==-1&&we[ge]!==ge&&(we[oe]=we[ge]),be!==-1&&we[be]!==be&&(we[oe]=we[be])),he!==-1&&(we[he]=oe),ge!==-1&&oe!=we[oe]&&(we[ge]=we[oe],te.lastIndexOf(ge)<ye&&te.push(ge)),be!==-1&&oe!=we[oe]&&(we[be]=we[oe],te.lastIndexOf(be)<ye&&te.push(be));for(oe=1;oe<pe;++oe)we[oe]===oe&&(be!==-1&&we[be]!==be?we[oe]=we[be]:ge!==-1&&we[ge]!==ge&&(we[oe]=we[ge]));for(oe=1;oe<pe;++oe)if(Y[oe].type!==0){if(ye=oe,ye!=we[ye])do ye=we[ye],ie[oe]=ie[ye]+"/"+ie[oe];while(ye!==0&&we[ye]!==-1&&ye!=we[ye]);we[oe]=-1}for(ie[0]+="/",oe=1;oe<pe;++oe)Y[oe].type!==2&&(ie[oe]+="/")}function x(Y,ie,ce){for(var oe=Y.start,ge=Y.size,be=[],he=oe;ce&&ge>0&&he>=0;)be.push(ie.slice(he*L,he*L+L)),ge-=L,he=Yu(ce,he*4);return be.length===0?et(0):Ja(be).slice(0,Y.size)}function y(Y,ie,ce,oe,ge){var be=B;if(Y===B){if(ie!==0)throw new Error("DIFAT chain shorter than expected")}else if(Y!==-1){var he=ce[Y],ye=(oe>>>2)-1;if(!he)return;for(var pe=0;pe<ye&&(be=Yu(he,pe*4))!==B;++pe)ge.push(be);y(Yu(he,oe-4),ie-1,ce,oe,ge)}}function w(Y,ie,ce,oe,ge){var be=[],he=[];ge||(ge=[]);var ye=oe-1,pe=0,we=0;for(pe=ie;pe>=0;){ge[pe]=!0,be[be.length]=pe,he.push(Y[pe]);var te=ce[Math.floor(pe*4/oe)];if(we=pe*4&ye,oe<4+we)throw new Error("FAT boundary crossed: "+pe+" 4 "+oe);if(!Y[te])break;pe=Yu(Y[te],we)}return{nodes:be,data:_L([he])}}function k(Y,ie,ce,oe){var ge=Y.length,be=[],he=[],ye=[],pe=[],we=oe-1,te=0,_e=0,le=0,Ee=0;for(te=0;te<ge;++te)if(ye=[],le=te+ie,le>=ge&&(le-=ge),!he[le]){pe=[];var ae=[];for(_e=le;_e>=0;){ae[_e]=!0,he[_e]=!0,ye[ye.length]=_e,pe.push(Y[_e]);var ke=ce[Math.floor(_e*4/oe)];if(Ee=_e*4&we,oe<4+Ee)throw new Error("FAT boundary crossed: "+_e+" 4 "+oe);if(!Y[ke]||(_e=Yu(Y[ke],Ee),ae[_e]))break}be[le]={nodes:ye,data:_L([pe])}}return be}function N(Y,ie,ce,oe,ge,be,he,ye){for(var pe=0,we=oe.length?2:0,te=ie[Y].data,_e=0,le=0,Ee;_e<te.length;_e+=128){var ae=te.slice(_e,_e+128);un(ae,64),le=ae.read_shift(2),Ee=f4(ae,0,le-we),oe.push(Ee);var ke={name:Ee,type:ae.read_shift(1),color:ae.read_shift(1),L:ae.read_shift(4,"i"),R:ae.read_shift(4,"i"),C:ae.read_shift(4,"i"),clsid:ae.read_shift(16),state:ae.read_shift(4,"i"),start:0,size:0},Oe=ae.read_shift(2)+ae.read_shift(2)+ae.read_shift(2)+ae.read_shift(2);Oe!==0&&(ke.ct=T(ae,ae.l-8));var De=ae.read_shift(2)+ae.read_shift(2)+ae.read_shift(2)+ae.read_shift(2);De!==0&&(ke.mt=T(ae,ae.l-8)),ke.start=ae.read_shift(4,"i"),ke.size=ae.read_shift(4,"i"),ke.size<0&&ke.start<0&&(ke.size=ke.type=0,ke.start=B,ke.name=""),ke.type===5?(pe=ke.start,ge>0&&pe!==B&&(ie[pe].name="!StreamData")):ke.size>=4096?(ke.storage="fat",ie[ke.start]===void 0&&(ie[ke.start]=w(ce,ke.start,ie.fat_addrs,ie.ssz)),ie[ke.start].name=ke.name,ke.content=ie[ke.start].data.slice(0,ke.size)):(ke.storage="minifat",ke.size<0?ke.size=0:pe!==B&&ke.start!==B&&ie[pe]&&(ke.content=x(ke,ie[pe].data,(ie[ye]||{}).data))),ke.content&&un(ke.content,0),be[Ee]=ke,he.push(ke)}}function T(Y,ie){return new Date((Ai(Y,ie+4)/1e7*Math.pow(2,32)+Ai(Y,ie)/1e7-11644473600)*1e3)}function E(Y,ie){return d(),u(c.readFileSync(Y),ie)}function I(Y,ie){var ce=ie&&ie.type;switch(ce||Nr&&Buffer.isBuffer(Y)&&(ce="buffer"),ce||"base64"){case"file":return E(Y,ie);case"base64":return u(Ci(Fi(Y)),ie);case"binary":return u(Ci(Y),ie)}return u(Y,ie)}function S(Y,ie){var ce=ie||{},oe=ce.root||"Root Entry";if(Y.FullPaths||(Y.FullPaths=[]),Y.FileIndex||(Y.FileIndex=[]),Y.FullPaths.length!==Y.FileIndex.length)throw new Error("inconsistent CFB structure");Y.FullPaths.length===0&&(Y.FullPaths[0]=oe+"/",Y.FileIndex[0]={name:oe,type:5}),ce.CLSID&&(Y.FileIndex[0].clsid=ce.CLSID),A(Y)}function A(Y){var ie="Sh33tJ5";if(!Wt.find(Y,"/"+ie)){var ce=et(4);ce[0]=55,ce[1]=ce[3]=50,ce[2]=54,Y.FileIndex.push({name:ie,type:2,content:ce,size:4,L:69,R:69,C:69}),Y.FullPaths.push(Y.FullPaths[0]+ie),P(Y)}}function P(Y,ie){S(Y);for(var ce=!1,oe=!1,ge=Y.FullPaths.length-1;ge>=0;--ge){var be=Y.FileIndex[ge];switch(be.type){case 0:oe?ce=!0:(Y.FileIndex.pop(),Y.FullPaths.pop());break;case 1:case 2:case 5:oe=!0,isNaN(be.R*be.L*be.C)&&(ce=!0),be.R>-1&&be.L>-1&&be.R==be.L&&(ce=!0);break;default:ce=!0;break}}if(!(!ce&&!ie)){var he=new Date(1987,1,19),ye=0,pe=Object.create?Object.create(null):{},we=[];for(ge=0;ge<Y.FullPaths.length;++ge)pe[Y.FullPaths[ge]]=!0,Y.FileIndex[ge].type!==0&&we.push([Y.FullPaths[ge],Y.FileIndex[ge]]);for(ge=0;ge<we.length;++ge){var te=s(we[ge][0]);oe=pe[te],oe||(we.push([te,{name:a(te).replace("/",""),type:1,clsid:H,ct:he,mt:he,content:null}]),pe[te]=!0)}for(we.sort(function(Ee,ae){return t(Ee[0],ae[0])}),Y.FullPaths=[],Y.FileIndex=[],ge=0;ge<we.length;++ge)Y.FullPaths[ge]=we[ge][0],Y.FileIndex[ge]=we[ge][1];for(ge=0;ge<we.length;++ge){var _e=Y.FileIndex[ge],le=Y.FullPaths[ge];if(_e.name=a(le).replace("/",""),_e.L=_e.R=_e.C=-(_e.color=1),_e.size=_e.content?_e.content.length:0,_e.start=0,_e.clsid=_e.clsid||H,ge===0)_e.C=we.length>1?1:-1,_e.size=0,_e.type=5;else if(le.slice(-1)=="/"){for(ye=ge+1;ye<we.length&&s(Y.FullPaths[ye])!=le;++ye);for(_e.C=ye>=we.length?-1:ye,ye=ge+1;ye<we.length&&s(Y.FullPaths[ye])!=s(le);++ye);_e.R=ye>=we.length?-1:ye,_e.type=1}else s(Y.FullPaths[ge+1]||"")==s(le)&&(_e.R=ge+1),_e.type=2}}}function O(Y,ie){var ce=ie||{};if(ce.fileType=="mad")return Or(Y,ce);switch(P(Y),ce.fileType){case"zip":return cr(Y,ce)}var oe=(function(Ee){for(var ae=0,ke=0,Oe=0;Oe<Ee.FileIndex.length;++Oe){var De=Ee.FileIndex[Oe];if(De.content){var Me=De.content.length;Me>0&&(Me<4096?ae+=Me+63>>6:ke+=Me+511>>9)}}for(var at=Ee.FullPaths.length+3>>2,mt=ae+7>>3,ir=ae+127>>7,Wr=mt+ke+at+ir,Ia=Wr+127>>7,tn=Ia<=109?0:Math.ceil((Ia-109)/127);Wr+Ia+tn+127>>7>Ia;)tn=++Ia<=109?0:Math.ceil((Ia-109)/127);var On=[1,tn,Ia,ir,at,ke,ae,0];return Ee.FileIndex[0].size=ae<<6,On[7]=(Ee.FileIndex[0].start=On[0]+On[1]+On[2]+On[3]+On[4]+On[5])+(On[6]+7>>3),On})(Y),ge=et(oe[7]<<9),be=0,he=0;{for(be=0;be<8;++be)ge.write_shift(1,X[be]);for(be=0;be<8;++be)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),be=0;be<3;++be)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,oe[2]),ge.write_shift(4,oe[0]+oe[1]+oe[2]+oe[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,oe[3]?oe[0]+oe[1]+oe[2]-1:B),ge.write_shift(4,oe[3]),ge.write_shift(-4,oe[1]?oe[0]-1:B),ge.write_shift(4,oe[1]),be=0;be<109;++be)ge.write_shift(-4,be<oe[2]?oe[1]+be:-1)}if(oe[1])for(he=0;he<oe[1];++he){for(;be<236+he*127;++be)ge.write_shift(-4,be<oe[2]?oe[1]+be:-1);ge.write_shift(-4,he===oe[1]-1?B:he+1)}var ye=function(Ee){for(he+=Ee;be<he-1;++be)ge.write_shift(-4,be+1);Ee&&(++be,ge.write_shift(-4,B))};for(he=be=0,he+=oe[1];be<he;++be)ge.write_shift(-4,W.DIFSECT);for(he+=oe[2];be<he;++be)ge.write_shift(-4,W.FATSECT);ye(oe[3]),ye(oe[4]);for(var pe=0,we=0,te=Y.FileIndex[0];pe<Y.FileIndex.length;++pe)te=Y.FileIndex[pe],te.content&&(we=te.content.length,!(we<4096)&&(te.start=he,ye(we+511>>9)));for(ye(oe[6]+7>>3);ge.l&511;)ge.write_shift(-4,W.ENDOFCHAIN);for(he=be=0,pe=0;pe<Y.FileIndex.length;++pe)te=Y.FileIndex[pe],te.content&&(we=te.content.length,!(!we||we>=4096)&&(te.start=he,ye(we+63>>6)));for(;ge.l&511;)ge.write_shift(-4,W.ENDOFCHAIN);for(be=0;be<oe[4]<<2;++be){var _e=Y.FullPaths[be];if(!_e||_e.length===0){for(pe=0;pe<17;++pe)ge.write_shift(4,0);for(pe=0;pe<3;++pe)ge.write_shift(4,-1);for(pe=0;pe<12;++pe)ge.write_shift(4,0);continue}te=Y.FileIndex[be],be===0&&(te.start=te.size?te.start-1:B);var le=be===0&&ce.root||te.name;if(we=2*(le.length+1),ge.write_shift(64,le,"utf16le"),ge.write_shift(2,we),ge.write_shift(1,te.type),ge.write_shift(1,te.color),ge.write_shift(-4,te.L),ge.write_shift(-4,te.R),ge.write_shift(-4,te.C),te.clsid)ge.write_shift(16,te.clsid,"hex");else for(pe=0;pe<4;++pe)ge.write_shift(4,0);ge.write_shift(4,te.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,te.start),ge.write_shift(4,te.size),ge.write_shift(4,0)}for(be=1;be<Y.FileIndex.length;++be)if(te=Y.FileIndex[be],te.size>=4096)if(ge.l=te.start+1<<9,Nr&&Buffer.isBuffer(te.content))te.content.copy(ge,ge.l,0,te.size),ge.l+=te.size+511&-512;else{for(pe=0;pe<te.size;++pe)ge.write_shift(1,te.content[pe]);for(;pe&511;++pe)ge.write_shift(1,0)}for(be=1;be<Y.FileIndex.length;++be)if(te=Y.FileIndex[be],te.size>0&&te.size<4096)if(Nr&&Buffer.isBuffer(te.content))te.content.copy(ge,ge.l,0,te.size),ge.l+=te.size+63&-64;else{for(pe=0;pe<te.size;++pe)ge.write_shift(1,te.content[pe]);for(;pe&63;++pe)ge.write_shift(1,0)}if(Nr)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function M(Y,ie){var ce=Y.FullPaths.map(function(pe){return pe.toUpperCase()}),oe=ce.map(function(pe){var we=pe.split("/");return we[we.length-(pe.slice(-1)=="/"?2:1)]}),ge=!1;ie.charCodeAt(0)===47?(ge=!0,ie=ce[0].slice(0,-1)+ie):ge=ie.indexOf("/")!==-1;var be=ie.toUpperCase(),he=ge===!0?ce.indexOf(be):oe.indexOf(be);if(he!==-1)return Y.FileIndex[he];var ye=!be.match(op);for(be=be.replace(Xn,""),ye&&(be=be.replace(op,"!")),he=0;he<ce.length;++he)if((ye?ce[he].replace(op,"!"):ce[he]).replace(Xn,"")==be||(ye?oe[he].replace(op,"!"):oe[he]).replace(Xn,"")==be)return Y.FileIndex[he];return null}var L=64,B=-2,G="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],H="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:H,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ne(Y,ie,ce){d();var oe=O(Y,ce);c.writeFileSync(ie,oe)}function U(Y){for(var ie=new Array(Y.length),ce=0;ce<Y.length;++ce)ie[ce]=String.fromCharCode(Y[ce]);return ie.join("")}function z(Y,ie){var ce=O(Y,ie);switch(ie&&ie.type||"buffer"){case"file":return d(),c.writeFileSync(ie.filename,ce),ce;case"binary":return typeof ce=="string"?ce:U(ce);case"base64":return bx(typeof ce=="string"?ce:U(ce));case"buffer":if(Nr)return Buffer.isBuffer(ce)?ce:Mc(ce);case"array":return typeof ce=="string"?Ci(ce):ce}return ce}var Q;function q(Y){try{var ie=Y.InflateRaw,ce=new ie;if(ce._processChunk(new Uint8Array([3,0]),ce._finishFlushFlag),ce.bytesRead)Q=Y;else throw new Error("zlib does not expose bytesRead")}catch(oe){console.error("cannot use native zlib: "+(oe.message||oe))}}function Z(Y,ie){if(!Q)return vr(Y,ie);var ce=Q.InflateRaw,oe=new ce,ge=oe._processChunk(Y.slice(Y.l),oe._finishFlushFlag);return Y.l+=oe.bytesRead,ge}function J(Y){return Q?Q.deflateRawSync(Y):it(Y)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function je(Y){var ie=(Y<<1|Y<<11)&139536|(Y<<5|Y<<15)&558144;return(ie>>16|ie>>8|ie)&255}for(var Ne=typeof Uint8Array<"u",xe=Ne?new Uint8Array(256):[],ze=0;ze<256;++ze)xe[ze]=je(ze);function se(Y,ie){var ce=xe[Y&255];return ie<=8?ce>>>8-ie:(ce=ce<<8|xe[Y>>8&255],ie<=16?ce>>>16-ie:(ce=ce<<8|xe[Y>>16&255],ce>>>24-ie))}function fe(Y,ie){var ce=ie&7,oe=ie>>>3;return(Y[oe]|(ce<=6?0:Y[oe+1]<<8))>>>ce&3}function Te(Y,ie){var ce=ie&7,oe=ie>>>3;return(Y[oe]|(ce<=5?0:Y[oe+1]<<8))>>>ce&7}function Ce(Y,ie){var ce=ie&7,oe=ie>>>3;return(Y[oe]|(ce<=4?0:Y[oe+1]<<8))>>>ce&15}function Be(Y,ie){var ce=ie&7,oe=ie>>>3;return(Y[oe]|(ce<=3?0:Y[oe+1]<<8))>>>ce&31}function Ue(Y,ie){var ce=ie&7,oe=ie>>>3;return(Y[oe]|(ce<=1?0:Y[oe+1]<<8))>>>ce&127}function gt(Y,ie,ce){var oe=ie&7,ge=ie>>>3,be=(1<<ce)-1,he=Y[ge]>>>oe;return ce<8-oe||(he|=Y[ge+1]<<8-oe,ce<16-oe)||(he|=Y[ge+2]<<16-oe,ce<24-oe)||(he|=Y[ge+3]<<24-oe),he&be}function st(Y,ie,ce){var oe=ie&7,ge=ie>>>3;return oe<=5?Y[ge]|=(ce&7)<<oe:(Y[ge]|=ce<<oe&255,Y[ge+1]=(ce&7)>>8-oe),ie+3}function bt(Y,ie,ce){var oe=ie&7,ge=ie>>>3;return ce=(ce&1)<<oe,Y[ge]|=ce,ie+1}function pt(Y,ie,ce){var oe=ie&7,ge=ie>>>3;return ce<<=oe,Y[ge]|=ce&255,ce>>>=8,Y[ge+1]=ce,ie+8}function zt(Y,ie,ce){var oe=ie&7,ge=ie>>>3;return ce<<=oe,Y[ge]|=ce&255,ce>>>=8,Y[ge+1]=ce&255,Y[ge+2]=ce>>>8,ie+16}function Mt(Y,ie){var ce=Y.length,oe=2*ce>ie?2*ce:ie+5,ge=0;if(ce>=ie)return Y;if(Nr){var be=aL(oe);if(Y.copy)Y.copy(be);else for(;ge<Y.length;++ge)be[ge]=Y[ge];return be}else if(Ne){var he=new Uint8Array(oe);if(he.set)he.set(Y);else for(;ge<ce;++ge)he[ge]=Y[ge];return he}return Y.length=oe,Y}function dt(Y){for(var ie=new Array(Y),ce=0;ce<Y;++ce)ie[ce]=0;return ie}function At(Y,ie,ce){var oe=1,ge=0,be=0,he=0,ye=0,pe=Y.length,we=Ne?new Uint16Array(32):dt(32);for(be=0;be<32;++be)we[be]=0;for(be=pe;be<ce;++be)Y[be]=0;pe=Y.length;var te=Ne?new Uint16Array(pe):dt(pe);for(be=0;be<pe;++be)we[ge=Y[be]]++,oe<ge&&(oe=ge),te[be]=0;for(we[0]=0,be=1;be<=oe;++be)we[be+16]=ye=ye+we[be-1]<<1;for(be=0;be<pe;++be)ye=Y[be],ye!=0&&(te[be]=we[ye+16]++);var _e=0;for(be=0;be<pe;++be)if(_e=Y[be],_e!=0)for(ye=se(te[be],oe)>>oe-_e,he=(1<<oe+4-_e)-1;he>=0;--he)ie[ye|he<<_e]=_e&15|be<<4;return oe}var Qe=Ne?new Uint16Array(512):dt(512),ut=Ne?new Uint16Array(32):dt(32);if(!Ne){for(var kt=0;kt<512;++kt)Qe[kt]=0;for(kt=0;kt<32;++kt)ut[kt]=0}(function(){for(var Y=[],ie=0;ie<32;ie++)Y.push(5);At(Y,ut,32);var ce=[];for(ie=0;ie<=143;ie++)ce.push(8);for(;ie<=255;ie++)ce.push(9);for(;ie<=279;ie++)ce.push(7);for(;ie<=287;ie++)ce.push(8);At(ce,Qe,288)})();var vt=(function(){for(var ie=Ne?new Uint8Array(32768):[],ce=0,oe=0;ce<Se.length-1;++ce)for(;oe<Se[ce+1];++oe)ie[oe]=ce;for(;oe<32768;++oe)ie[oe]=29;var ge=Ne?new Uint8Array(259):[];for(ce=0,oe=0;ce<de.length-1;++ce)for(;oe<de[ce+1];++oe)ge[oe]=ce;function be(ye,pe){for(var we=0;we<ye.length;){var te=Math.min(65535,ye.length-we),_e=we+te==ye.length;for(pe.write_shift(1,+_e),pe.write_shift(2,te),pe.write_shift(2,~te&65535);te-- >0;)pe[pe.l++]=ye[we++]}return pe.l}function he(ye,pe){for(var we=0,te=0,_e=Ne?new Uint16Array(32768):[];te<ye.length;){var le=Math.min(65535,ye.length-te);if(le<10){for(we=st(pe,we,+(te+le==ye.length)),we&7&&(we+=8-(we&7)),pe.l=we/8|0,pe.write_shift(2,le),pe.write_shift(2,~le&65535);le-- >0;)pe[pe.l++]=ye[te++];we=pe.l*8;continue}we=st(pe,we,+(te+le==ye.length)+2);for(var Ee=0;le-- >0;){var ae=ye[te];Ee=(Ee<<5^ae)&32767;var ke=-1,Oe=0;if((ke=_e[Ee])&&(ke|=te&-32768,ke>te&&(ke-=32768),ke<te))for(;ye[ke+Oe]==ye[te+Oe]&&Oe<250;)++Oe;if(Oe>2){ae=ge[Oe],ae<=22?we=pt(pe,we,xe[ae+1]>>1)-1:(pt(pe,we,3),we+=5,pt(pe,we,xe[ae-23]>>5),we+=3);var De=ae<8?0:ae-4>>2;De>0&&(zt(pe,we,Oe-de[ae]),we+=De),ae=ie[te-ke],we=pt(pe,we,xe[ae]>>3),we-=3;var Me=ae<4?0:ae-2>>1;Me>0&&(zt(pe,we,te-ke-Se[ae]),we+=Me);for(var at=0;at<Oe;++at)_e[Ee]=te&32767,Ee=(Ee<<5^ye[te])&32767,++te;le-=Oe-1}else ae<=143?ae=ae+48:we=bt(pe,we,1),we=pt(pe,we,xe[ae]),_e[Ee]=te&32767,++te}we=pt(pe,we,0)-1}return pe.l=(we+7)/8|0,pe.l}return function(pe,we){return pe.length<8?be(pe,we):he(pe,we)}})();function it(Y){var ie=et(50+Math.floor(Y.length*1.1)),ce=vt(Y,ie);return ie.slice(0,ce)}var ft=Ne?new Uint16Array(32768):dt(32768),Dt=Ne?new Uint16Array(32768):dt(32768),Bt=Ne?new Uint16Array(128):dt(128),or=1,Ot=1;function Xt(Y,ie){var ce=Be(Y,ie)+257;ie+=5;var oe=Be(Y,ie)+1;ie+=5;var ge=Ce(Y,ie)+4;ie+=4;for(var be=0,he=Ne?new Uint8Array(19):dt(19),ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pe=1,we=Ne?new Uint8Array(8):dt(8),te=Ne?new Uint8Array(8):dt(8),_e=he.length,le=0;le<ge;++le)he[re[le]]=be=Te(Y,ie),pe<be&&(pe=be),we[be]++,ie+=3;var Ee=0;for(we[0]=0,le=1;le<=pe;++le)te[le]=Ee=Ee+we[le-1]<<1;for(le=0;le<_e;++le)(Ee=he[le])!=0&&(ye[le]=te[Ee]++);var ae=0;for(le=0;le<_e;++le)if(ae=he[le],ae!=0){Ee=xe[ye[le]]>>8-ae;for(var ke=(1<<7-ae)-1;ke>=0;--ke)Bt[Ee|ke<<ae]=ae&7|le<<3}var Oe=[];for(pe=1;Oe.length<ce+oe;)switch(Ee=Bt[Ue(Y,ie)],ie+=Ee&7,Ee>>>=3){case 16:for(be=3+fe(Y,ie),ie+=2,Ee=Oe[Oe.length-1];be-- >0;)Oe.push(Ee);break;case 17:for(be=3+Te(Y,ie),ie+=3;be-- >0;)Oe.push(0);break;case 18:for(be=11+Ue(Y,ie),ie+=7;be-- >0;)Oe.push(0);break;default:Oe.push(Ee),pe<Ee&&(pe=Ee);break}var De=Oe.slice(0,ce),Me=Oe.slice(ce);for(le=ce;le<286;++le)De[le]=0;for(le=oe;le<30;++le)Me[le]=0;return or=At(De,ft,286),Ot=At(Me,Dt,30),ie}function Vr(Y,ie){if(Y[0]==3&&!(Y[1]&3))return[Gd(ie),2];for(var ce=0,oe=0,ge=aL(ie||1<<18),be=0,he=ge.length>>>0,ye=0,pe=0;(oe&1)==0;){if(oe=Te(Y,ce),ce+=3,oe>>>1)oe>>1==1?(ye=9,pe=5):(ce=Xt(Y,ce),ye=or,pe=Ot);else{ce&7&&(ce+=8-(ce&7));var we=Y[ce>>>3]|Y[(ce>>>3)+1]<<8;if(ce+=32,we>0)for(!ie&&he<be+we&&(ge=Mt(ge,be+we),he=ge.length);we-- >0;)ge[be++]=Y[ce>>>3],ce+=8;continue}for(;;){!ie&&he<be+32767&&(ge=Mt(ge,be+32767),he=ge.length);var te=gt(Y,ce,ye),_e=oe>>>1==1?Qe[te]:ft[te];if(ce+=_e&15,_e>>>=4,(_e>>>8&255)===0)ge[be++]=_e;else{if(_e==256)break;_e-=257;var le=_e<8?0:_e-4>>2;le>5&&(le=0);var Ee=be+de[_e];le>0&&(Ee+=gt(Y,ce,le),ce+=le),te=gt(Y,ce,pe),_e=oe>>>1==1?ut[te]:Dt[te],ce+=_e&15,_e>>>=4;var ae=_e<4?0:_e-2>>1,ke=Se[_e];for(ae>0&&(ke+=gt(Y,ce,ae),ce+=ae),!ie&&he<Ee&&(ge=Mt(ge,Ee+100),he=ge.length);be<Ee;)ge[be]=ge[be-ke],++be}}}return ie?[ge,ce+7>>>3]:[ge.slice(0,be),ce+7>>>3]}function vr(Y,ie){var ce=Y.slice(Y.l||0),oe=Vr(ce,ie);return Y.l+=oe[1],oe[0]}function Hr(Y,ie){if(Y)typeof console<"u"&&console.error(ie);else throw new Error(ie)}function xr(Y,ie){var ce=Y;un(ce,0);var oe=[],ge=[],be={FileIndex:oe,FullPaths:ge};S(be,{root:ie.root});for(var he=ce.length-4;(ce[he]!=80||ce[he+1]!=75||ce[he+2]!=5||ce[he+3]!=6)&&he>=0;)--he;ce.l=he+4,ce.l+=4;var ye=ce.read_shift(2);ce.l+=6;var pe=ce.read_shift(4);for(ce.l=pe,he=0;he<ye;++he){ce.l+=20;var we=ce.read_shift(4),te=ce.read_shift(4),_e=ce.read_shift(2),le=ce.read_shift(2),Ee=ce.read_shift(2);ce.l+=8;var ae=ce.read_shift(4),ke=l(ce.slice(ce.l+_e,ce.l+_e+le));ce.l+=_e+le+Ee;var Oe=ce.l;ce.l=ae+4,dr(ce,we,te,be,ke),ce.l=Oe}return be}function dr(Y,ie,ce,oe,ge){Y.l+=2;var be=Y.read_shift(2),he=Y.read_shift(2),ye=o(Y);if(be&8257)throw new Error("Unsupported ZIP encryption");for(var pe=Y.read_shift(4),we=Y.read_shift(4),te=Y.read_shift(4),_e=Y.read_shift(2),le=Y.read_shift(2),Ee="",ae=0;ae<_e;++ae)Ee+=String.fromCharCode(Y[Y.l++]);if(le){var ke=l(Y.slice(Y.l,Y.l+le));(ke[21589]||{}).mt&&(ye=ke[21589].mt),((ge||{})[21589]||{}).mt&&(ye=ge[21589].mt)}Y.l+=le;var Oe=Y.slice(Y.l,Y.l+we);switch(he){case 8:Oe=Z(Y,te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+he)}var De=!1;be&8&&(pe=Y.read_shift(4),pe==134695760&&(pe=Y.read_shift(4),De=!0),we=Y.read_shift(4),te=Y.read_shift(4)),we!=ie&&Hr(De,"Bad compressed size: "+ie+" != "+we),te!=ce&&Hr(De,"Bad uncompressed size: "+ce+" != "+te),$r(oe,Ee,Oe,{unsafe:!0,mt:ye})}function cr(Y,ie){var ce=ie||{},oe=[],ge=[],be=et(1),he=ce.compression?8:0,ye=0,pe=0,we=0,te=0,_e=0,le=Y.FullPaths[0],Ee=le,ae=Y.FileIndex[0],ke=[],Oe=0;for(pe=1;pe<Y.FullPaths.length;++pe)if(Ee=Y.FullPaths[pe].slice(le.length),ae=Y.FileIndex[pe],!(!ae.size||!ae.content||Ee=="Sh33tJ5")){var De=te,Me=et(Ee.length);for(we=0;we<Ee.length;++we)Me.write_shift(1,Ee.charCodeAt(we)&127);Me=Me.slice(0,Me.l),ke[_e]=h2e.buf(ae.content,0);var at=ae.content;he==8&&(at=J(at)),be=et(30),be.write_shift(4,67324752),be.write_shift(2,20),be.write_shift(2,ye),be.write_shift(2,he),ae.mt?n(be,ae.mt):be.write_shift(4,0),be.write_shift(-4,ke[_e]),be.write_shift(4,at.length),be.write_shift(4,ae.content.length),be.write_shift(2,Me.length),be.write_shift(2,0),te+=be.length,oe.push(be),te+=Me.length,oe.push(Me),te+=at.length,oe.push(at),be=et(46),be.write_shift(4,33639248),be.write_shift(2,0),be.write_shift(2,20),be.write_shift(2,ye),be.write_shift(2,he),be.write_shift(4,0),be.write_shift(-4,ke[_e]),be.write_shift(4,at.length),be.write_shift(4,ae.content.length),be.write_shift(2,Me.length),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(4,0),be.write_shift(4,De),Oe+=be.l,ge.push(be),Oe+=Me.length,ge.push(Me),++_e}return be=et(22),be.write_shift(4,101010256),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,_e),be.write_shift(2,_e),be.write_shift(4,Oe),be.write_shift(4,te),be.write_shift(2,0),Ja([Ja(oe),Ja(ge),be])}var Er={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ar(Y,ie){if(Y.ctype)return Y.ctype;var ce=Y.name||"",oe=ce.match(/\.([^\.]+)$/);return oe&&Er[oe[1]]||ie&&(oe=(ce=ie).match(/[\.\\]([^\.\\])+$/),oe&&Er[oe[1]])?Er[oe[1]]:"application/octet-stream"}function qt(Y){for(var ie=bx(Y),ce=[],oe=0;oe<ie.length;oe+=76)ce.push(ie.slice(oe,oe+76));return ce.join(`\r
`)+`\r
`}function Pr(Y){var ie=Y.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(we){var te=we.charCodeAt(0).toString(16).toUpperCase();return"="+(te.length==1?"0"+te:te)});ie=ie.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ie.charAt(0)==`
`&&(ie="=0D"+ie.slice(1)),ie=ie.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ce=[],oe=ie.split(`\r
`),ge=0;ge<oe.length;++ge){var be=oe[ge];if(be.length==0){ce.push("");continue}for(var he=0;he<be.length;){var ye=76,pe=be.slice(he,he+ye);pe.charAt(ye-1)=="="?ye--:pe.charAt(ye-2)=="="?ye-=2:pe.charAt(ye-3)=="="&&(ye-=3),pe=be.slice(he,he+ye),he+=ye,he<be.length&&(pe+="="),ce.push(pe)}}return ce.join(`\r
`)}function br(Y){for(var ie=[],ce=0;ce<Y.length;++ce){for(var oe=Y[ce];ce<=Y.length&&oe.charAt(oe.length-1)=="=";)oe=oe.slice(0,oe.length-1)+Y[++ce];ie.push(oe)}for(var ge=0;ge<ie.length;++ge)ie[ge]=ie[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(be){return String.fromCharCode(parseInt(be.slice(1),16))});return Ci(ie.join(`\r
`))}function Jr(Y,ie,ce){for(var oe="",ge="",be="",he,ye=0;ye<10;++ye){var pe=ie[ye];if(!pe||pe.match(/^\s*$/))break;var we=pe.match(/^(.*?):\s*([^\s].*)$/);if(we)switch(we[1].toLowerCase()){case"content-location":oe=we[2].trim();break;case"content-type":be=we[2].trim();break;case"content-transfer-encoding":ge=we[2].trim();break}}switch(++ye,ge.toLowerCase()){case"base64":he=Ci(Fi(ie.slice(ye).join("")));break;case"quoted-printable":he=br(ie.slice(ye));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var te=$r(Y,oe.slice(ce.length),he,{unsafe:!0});be&&(te.ctype=be)}function Ps(Y,ie){if(U(Y.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ce=ie&&ie.root||"",oe=(Nr&&Buffer.isBuffer(Y)?Y.toString("binary"):U(Y)).split(`\r
`),ge=0,be="";for(ge=0;ge<oe.length;++ge)if(be=oe[ge],!!/^Content-Location:/i.test(be)&&(be=be.slice(be.indexOf("file")),ce||(ce=be.slice(0,be.lastIndexOf("/")+1)),be.slice(0,ce.length)!=ce))for(;ce.length>0&&(ce=ce.slice(0,ce.length-1),ce=ce.slice(0,ce.lastIndexOf("/")+1),be.slice(0,ce.length)!=ce););var he=(oe[1]||"").match(/boundary="(.*?)"/);if(!he)throw new Error("MAD cannot find boundary");var ye="--"+(he[1]||""),pe=[],we=[],te={FileIndex:pe,FullPaths:we};S(te);var _e,le=0;for(ge=0;ge<oe.length;++ge){var Ee=oe[ge];Ee!==ye&&Ee!==ye+"--"||(le++&&Jr(te,oe.slice(_e,ge),ce),_e=ge)}return te}function Or(Y,ie){var ce=ie||{},oe=ce.boundary||"SheetJS";oe="------="+oe;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+oe.slice(2)+'"',"","",""],be=Y.FullPaths[0],he=be,ye=Y.FileIndex[0],pe=1;pe<Y.FullPaths.length;++pe)if(he=Y.FullPaths[pe].slice(be.length),ye=Y.FileIndex[pe],!(!ye.size||!ye.content||he=="Sh33tJ5")){he=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Oe){return"_x"+Oe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Oe){return"_u"+Oe.charCodeAt(0).toString(16)+"_"});for(var we=ye.content,te=Nr&&Buffer.isBuffer(we)?we.toString("binary"):U(we),_e=0,le=Math.min(1024,te.length),Ee=0,ae=0;ae<=le;++ae)(Ee=te.charCodeAt(ae))>=32&&Ee<128&&++_e;var ke=_e>=le*4/5;ge.push(oe),ge.push("Content-Location: "+(ce.root||"file:///C:/SheetJS/")+he),ge.push("Content-Transfer-Encoding: "+(ke?"quoted-printable":"base64")),ge.push("Content-Type: "+Ar(ye,he)),ge.push(""),ge.push(ke?Pr(te):qt(te))}return ge.push(oe+`--\r
`),ge.join(`\r
`)}function ss(Y){var ie={};return S(ie,Y),ie}function $r(Y,ie,ce,oe){var ge=oe&&oe.unsafe;ge||S(Y);var be=!ge&&Wt.find(Y,ie);if(!be){var he=Y.FullPaths[0];ie.slice(0,he.length)==he?he=ie:(he.slice(-1)!="/"&&(he+="/"),he=(he+ie).replace("//","/")),be={name:a(ie),type:2},Y.FileIndex.push(be),Y.FullPaths.push(he),ge||Wt.utils.cfb_gc(Y)}return be.content=ce,be.size=ce?ce.length:0,oe&&(oe.CLSID&&(be.clsid=oe.CLSID),oe.mt&&(be.mt=oe.mt),oe.ct&&(be.ct=oe.ct)),be}function Mr(Y,ie){S(Y);var ce=Wt.find(Y,ie);if(ce){for(var oe=0;oe<Y.FileIndex.length;++oe)if(Y.FileIndex[oe]==ce)return Y.FileIndex.splice(oe,1),Y.FullPaths.splice(oe,1),!0}return!1}function Vs(Y,ie,ce){S(Y);var oe=Wt.find(Y,ie);if(oe){for(var ge=0;ge<Y.FileIndex.length;++ge)if(Y.FileIndex[ge]==oe)return Y.FileIndex[ge].name=a(ce),Y.FullPaths[ge]=ce,!0}return!1}function Ie(Y){P(Y,!0)}return e.find=M,e.read=I,e.parse=u,e.write=z,e.writeFile=ne,e.utils={cfb_new:ss,cfb_add:$r,cfb_del:Mr,cfb_mov:Vs,cfb_gc:Ie,ReadShift:Cp,CheckField:X$,prep_blob:un,bconcat:Ja,use_zlib:q,_deflateRaw:it,_inflateRaw:vr,consts:W},e})();function f2e(r){return typeof r=="string"?ok(r):Array.isArray(r)?Bwe(r):r}function yb(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=ok(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var s=t=="utf8"?gl(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,r);if(typeof Blob<"u"){var a=new Blob([f2e(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,r);if(typeof saveAs<"u")return saveAs(a,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var n=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(n)},6e4),chrome.downloads.download({url:n,filename:r,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=r,o.href=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(n)},6e4),n}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(r);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=su(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+r)}function m2e(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(r);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(s){if(!s.message||!s.message.match(/onstruct/))throw s}throw new Error("Cannot access file "+r)}function la(r){for(var e=Object.keys(r),t=[],s=0;s<e.length;++s)Object.prototype.hasOwnProperty.call(r,e[s])&&t.push(e[s]);return t}function hL(r,e){for(var t=[],s=la(r),a=0;a!==s.length;++a)t[r[s[a]][e]]==null&&(t[r[s[a]][e]]=s[a]);return t}function ck(r){for(var e=[],t=la(r),s=0;s!==t.length;++s)e[r[t[s]]]=t[s];return e}function dk(r){for(var e=[],t=la(r),s=0;s!==t.length;++s)e[r[t[s]]]=parseInt(t[s],10);return e}function g2e(r){for(var e=[],t=la(r),s=0;s!==t.length;++s)e[r[t[s]]]==null&&(e[r[t[s]]]=[]),e[r[t[s]]].push(t[s]);return e}var Jw=new Date(1899,11,30,0,0,0);function Ha(r,e){var t=r.getTime(),s=Jw.getTime()+(r.getTimezoneOffset()-Jw.getTimezoneOffset())*6e4;return(t-s)/(1440*60*1e3)}var A$=new Date,p2e=Jw.getTime()+(A$.getTimezoneOffset()-Jw.getTimezoneOffset())*6e4,fL=A$.getTimezoneOffset();function uk(r){var e=new Date;return e.setTime(r*24*60*60*1e3+p2e),e.getTimezoneOffset()!==fL&&e.setTime(e.getTime()+(e.getTimezoneOffset()-fL)*6e4),e}function x2e(r){var e=0,t=0,s=!1,a=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var n=1;n!=a.length;++n)if(a[n]){switch(t=1,n>3&&(s=!0),a[n].slice(a[n].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[n].slice(a[n].length-1));case"D":t*=24;case"H":t*=60;case"M":if(s)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(a[n],10)}return e}var mL=new Date("2017-02-19T19:06:09.000Z"),T$=isNaN(mL.getFullYear())?new Date("2/19/17"):mL,b2e=T$.getFullYear()==2017;function Us(r,e){var t=new Date(r);if(b2e)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(T$.getFullYear()==1917&&!isNaN(t.getFullYear())){var s=t.getFullYear();return r.indexOf(""+s)>-1||t.setFullYear(t.getFullYear()+100),t}var a=r.match(/\d+/g)||["2017","2","19","0","0","0"],n=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return r.indexOf("Z")>-1&&(n=new Date(n.getTime()-n.getTimezoneOffset()*60*1e3)),n}function Dh(r,e){if(Nr&&Buffer.isBuffer(r)){if(e){if(r[0]==255&&r[1]==254)return gl(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return gl(p$(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(r[0]==255&&r[1]==254)return gl(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return gl(new TextDecoder("utf-16be").decode(r.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(n){return t[n]||n})}catch{}for(var s=[],a=0;a!=r.length;++a)s.push(String.fromCharCode(r[a]));return s.join("")}function zs(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=zs(r[t]));return e}function ra(r,e){for(var t="";t.length<e;)t+=r;return t}function Bo(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,s=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(s))||(s=s.replace(/[(](.*)[)]/,function(a,n){return t=-t,n}),!isNaN(e=Number(s)))?e/t:e}var y2e=["january","february","march","april","may","june","july","august","september","october","november","december"];function qm(r){var e=new Date(r),t=new Date(NaN),s=e.getYear(),a=e.getMonth(),n=e.getDate();if(isNaN(n))return t;var o=r.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&y2e.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return s<0||s>8099?t:(a>0||n>1)&&s!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}var v2e=(function(){var r="abacaba".split(/(:?b)/i).length==5;return function(t,s,a){if(r||typeof s=="string")return t.split(s);for(var n=t.split(s),o=[n[0]],l=1;l<n.length;++l)o.push(a),o.push(n[l]);return o}})();function C$(r){return r?r.content&&r.type?Dh(r.content,!0):r.data?ip(r.data):r.asNodeBuffer&&Nr?ip(r.asNodeBuffer().toString("binary")):r.asBinary?ip(r.asBinary()):r._data&&r._data.getContent?ip(Dh(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function P$(r){if(!r)return null;if(r.data)return rL(r.data);if(r.asNodeBuffer&&Nr)return r.asNodeBuffer();if(r._data&&r._data.getContent){var e=r._data.getContent();return typeof e=="string"?rL(e):Array.prototype.slice.call(e)}return r.content&&r.type?r.content:null}function w2e(r){return r&&r.name.slice(-4)===".bin"?P$(r):C$(r)}function no(r,e){for(var t=r.FullPaths||la(r.files),s=e.toLowerCase().replace(/[\/]/g,"\\"),a=s.replace(/\\/g,"/"),n=0;n<t.length;++n){var o=t[n].replace(/^Root Entry[\/]/,"").toLowerCase();if(s==o||a==o)return r.files?r.files[t[n]]:r.FileIndex[n]}return null}function o4(r,e){var t=no(r,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function Sa(r,e,t){if(!t)return w2e(o4(r,e));if(!e)return null;try{return Sa(r,e)}catch{return null}}function Pi(r,e,t){if(!t)return C$(o4(r,e));if(!e)return null;try{return Pi(r,e)}catch{return null}}function k2e(r,e,t){return P$(o4(r,e))}function gL(r){for(var e=r.FullPaths||la(r.files),t=[],s=0;s<e.length;++s)e[s].slice(-1)!="/"&&t.push(e[s].replace(/^Root Entry[\/]/,""));return t.sort()}function mr(r,e,t){if(r.FullPaths){if(typeof t=="string"){var s;return Nr?s=Mc(t):s=Uwe(t),Wt.utils.cfb_add(r,e,s)}Wt.utils.cfb_add(r,e,t)}else r.file(e,t)}function l4(){return Wt.utils.cfb_new()}function R$(r,e){switch(e.type){case"base64":return Wt.read(r,{type:"base64"});case"binary":return Wt.read(r,{type:"binary"});case"buffer":case"array":return Wt.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function lp(r,e){if(r.charAt(0)=="/")return r.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var s=r.split("/");s.length!==0;){var a=s.shift();a===".."?t.pop():a!=="."&&t.push(a)}return t.join("/")}var ya=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,_2e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,pL=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,N2e=/<[^>]*>/g,Dn=ya.match(pL)?pL:N2e,S2e=/<\w*:/,j2e=/<(\/?)\w+:/;function ar(r,e,t){for(var s={},a=0,n=0;a!==r.length&&!((n=r.charCodeAt(a))===32||n===10||n===13);++a);if(e||(s[0]=r.slice(0,a)),a===r.length)return s;var o=r.match(_2e),l=0,c="",d=0,u="",h="",m=1;if(o)for(d=0;d!=o.length;++d){for(h=o[d],n=0;n!=h.length&&h.charCodeAt(n)!==61;++n);for(u=h.slice(0,n).trim();h.charCodeAt(n+1)==32;)++n;for(m=(a=h.charCodeAt(n+1))==34||a==39?1:0,c=h.slice(n+1+m,h.length-m),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),s[u]=c,s[u.toLowerCase()]=c;else{var p=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(s[p]&&u.slice(l-3,l)=="ext")continue;s[p]=c,s[p.toLowerCase()]=c}}return s}function Dl(r){return r.replace(j2e,"<$1")}var I$={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},c4=ck(I$),ts=(function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(s){var a=s+"",n=a.indexOf("<![CDATA[");if(n==-1)return a.replace(r,function(l,c){return I$[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return t(a.slice(0,n))+a.slice(n+9,o)+t(a.slice(o+3))}})(),d4=/[&<>'"]/g,E2e=/[\u0000-\u0008\u000b-\u001f]/g;function vs(r){var e=r+"";return e.replace(d4,function(t){return c4[t]}).replace(E2e,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function xL(r){return vs(r).replace(/ /g,"_x0020_")}var D$=/[\u0000-\u001f]/g;function u4(r){var e=r+"";return e.replace(d4,function(t){return c4[t]}).replace(/\n/g,"<br/>").replace(D$,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function A2e(r){var e=r+"";return e.replace(d4,function(t){return c4[t]}).replace(D$,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}var bL=(function(){var r=/&#(\d+);/g;function e(t,s){return String.fromCharCode(parseInt(s,10))}return function(s){return s.replace(r,e)}})();function T2e(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function Ls(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function GS(r){for(var e="",t=0,s=0,a=0,n=0,o=0,l=0;t<r.length;){if(s=r.charCodeAt(t++),s<128){e+=String.fromCharCode(s);continue}if(a=r.charCodeAt(t++),s>191&&s<224){o=(s&31)<<6,o|=a&63,e+=String.fromCharCode(o);continue}if(n=r.charCodeAt(t++),s<240){e+=String.fromCharCode((s&15)<<12|(a&63)<<6|n&63);continue}o=r.charCodeAt(t++),l=((s&7)<<18|(a&63)<<12|(n&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function yL(r){var e=Gd(2*r.length),t,s,a=1,n=0,o=0,l;for(s=0;s<r.length;s+=a)a=1,(l=r.charCodeAt(s))<128?t=l:l<224?(t=(l&31)*64+(r.charCodeAt(s+1)&63),a=2):l<240?(t=(l&15)*4096+(r.charCodeAt(s+1)&63)*64+(r.charCodeAt(s+2)&63),a=3):(a=4,t=(l&7)*262144+(r.charCodeAt(s+1)&63)*4096+(r.charCodeAt(s+2)&63)*64+(r.charCodeAt(s+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[n++]=o&255,e[n++]=o>>>8,o=0),e[n++]=t%256,e[n++]=t>>>8;return e.slice(0,n).toString("ucs2")}function vL(r){return Mc(r,"binary").toString("utf8")}var u1="foo bar baz",As=Nr&&(vL(u1)==GS(u1)&&vL||yL(u1)==GS(u1)&&yL)||GS,gl=Nr?function(r){return Mc(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,s=0,a=0;t<r.length;)switch(s=r.charCodeAt(t++),!0){case s<128:e.push(String.fromCharCode(s));break;case s<2048:e.push(String.fromCharCode(192+(s>>6))),e.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,a=r.charCodeAt(t++)-56320+(s<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(s>>12))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)))}return e.join("")},vx=(function(){var r={};return function(t,s){var a=t+"|"+(s||"");return r[a]?r[a]:r[a]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",s||"")}})(),O$=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var s=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<r.length;++a)s=s.replace(r[a][0],r[a][1]);return s}})(),C2e=(function(){var r={};return function(t){return r[t]!==void 0?r[t]:r[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}})(),P2e=/<\/?(?:vt:)?variant>/g,R2e=/<(?:vt:)([^>]*)>([\s\S]*)</;function wL(r,e){var t=ar(r),s=r.match(C2e(t.baseType))||[],a=[];if(s.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+s.length+" != "+t.size);return a}return s.forEach(function(n){var o=n.replace(P2e,"").match(R2e);o&&a.push({v:As(o[2]),t:o[1]})}),a}var M$=/(^\s|\s$|\n)/;function mn(r,e){return"<"+r+(e.match(M$)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function wx(r){return la(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function Nt(r,e,t){return"<"+r+(t!=null?wx(t):"")+(e!=null?(e.match(M$)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function GE(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function I2e(r,e){switch(typeof r){case"string":var t=Nt("vt:lpwstr",vs(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Nt((r|0)==r?"vt:i4":"vt:r8",vs(String(r)));case"boolean":return Nt("vt:bool",r?"true":"false")}if(r instanceof Date)return Nt("vt:filetime",GE(r));throw new Error("Unable to serialize "+r)}function h4(r){if(Nr&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return As(su(a4(r)));throw new Error("Bad input format: expected Buffer or string")}var kx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Ba={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Yh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ei={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function D2e(r,e){for(var t=1-2*(r[e+7]>>>7),s=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),a=r[e+6]&15,n=5;n>=0;--n)a=a*256+r[e+n];return s==2047?a==0?t*(1/0):NaN:(s==0?s=-1022:(s-=1023,a+=Math.pow(2,52)),t*Math.pow(2,s-52)*a)}function O2e(r,e,t){var s=(e<0||1/e==-1/0?1:0)<<7,a=0,n=0,o=s?-e:e;isFinite(o)?o==0?a=n=0:(a=Math.floor(Math.log(o)/Math.LN2),n=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(n)||n<Math.pow(2,52))?a=-1022:(n-=Math.pow(2,52),a+=1023)):(a=2047,n=isNaN(e)?26985:0);for(var l=0;l<=5;++l,n/=256)r[t+l]=n&255;r[t+6]=(a&15)<<4|n&15,r[t+7]=a>>4|s}var kL=function(r){for(var e=[],t=10240,s=0;s<r[0].length;++s)if(r[0][s])for(var a=0,n=r[0][s].length;a<n;a+=t)e.push.apply(e,r[0][s].slice(a,a+t));return e},_L=Nr?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:Mc(e)})):kL(r)}:kL,NL=function(r,e,t){for(var s=[],a=e;a<t;a+=2)s.push(String.fromCharCode(mc(r,a)));return s.join("").replace(Xn,"")},f4=Nr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(Xn,""):NL(r,e,t)}:NL,SL=function(r,e,t){for(var s=[],a=e;a<e+t;++a)s.push(("0"+r[a].toString(16)).slice(-2));return s.join("")},F$=Nr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):SL(r,e,t)}:SL,jL=function(r,e,t){for(var s=[],a=e;a<t;a++)s.push(String.fromCharCode(am(r,a)));return s.join("")},vb=Nr?function(e,t,s){return Buffer.isBuffer(e)?e.toString("utf8",t,s):jL(e,t,s)}:jL,L$=function(r,e){var t=Ai(r,e);return t>0?vb(r,e+4,e+4+t-1):""},B$=L$,U$=function(r,e){var t=Ai(r,e);return t>0?vb(r,e+4,e+4+t-1):""},z$=U$,V$=function(r,e){var t=2*Ai(r,e);return t>0?vb(r,e+4,e+4+t-1):""},H$=V$,$$=function(e,t){var s=Ai(e,t);return s>0?f4(e,t+4,t+4+s):""},W$=$$,q$=function(r,e){var t=Ai(r,e);return t>0?vb(r,e+4,e+4+t):""},G$=q$,Y$=function(r,e){return D2e(r,e)},e2=Y$,m4=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Nr&&(B$=function(e,t){if(!Buffer.isBuffer(e))return L$(e,t);var s=e.readUInt32LE(t);return s>0?e.toString("utf8",t+4,t+4+s-1):""},z$=function(e,t){if(!Buffer.isBuffer(e))return U$(e,t);var s=e.readUInt32LE(t);return s>0?e.toString("utf8",t+4,t+4+s-1):""},H$=function(e,t){if(!Buffer.isBuffer(e))return V$(e,t);var s=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+s-1)},W$=function(e,t){if(!Buffer.isBuffer(e))return $$(e,t);var s=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+s)},G$=function(e,t){if(!Buffer.isBuffer(e))return q$(e,t);var s=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+s)},e2=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):Y$(e,t)},m4=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var am=function(r,e){return r[e]},mc=function(r,e){return r[e+1]*256+r[e]},M2e=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Ai=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},Yu=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},F2e=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function Cp(r,e){var t="",s,a,n=[],o,l,c,d;switch(e){case"dbcs":if(d=this.l,Nr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(c=0;c<r;++c)t+=String.fromCharCode(mc(this,d)),d+=2;r*=2;break;case"utf8":t=vb(this,this.l,this.l+r);break;case"utf16le":r*=2,t=f4(this,this.l,this.l+r);break;case"wstr":return Cp.call(this,r,"dbcs");case"lpstr-ansi":t=B$(this,this.l),r=4+Ai(this,this.l);break;case"lpstr-cp":t=z$(this,this.l),r=4+Ai(this,this.l);break;case"lpwstr":t=H$(this,this.l),r=4+2*Ai(this,this.l);break;case"lpp4":r=4+Ai(this,this.l),t=W$(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Ai(this,this.l),t=G$(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(o=am(this,this.l+r++))!==0;)n.push(d1(o));t=n.join("");break;case"_wstr":for(r=0,t="";(o=mc(this,this.l+r))!==0;)n.push(d1(o)),r+=2;r+=2,t=n.join("");break;case"dbcs-cont":for(t="",d=this.l,c=0;c<r;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=am(this,d),this.l=d+1,l=Cp.call(this,r-c,o?"dbcs-cont":"sbcs-cont"),n.join("")+l;n.push(d1(mc(this,d))),d+=2}t=n.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",d=this.l,c=0;c!=r;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=am(this,d),this.l=d+1,l=Cp.call(this,r-c,o?"dbcs-cont":"sbcs-cont"),n.join("")+l;n.push(d1(am(this,d))),d+=1}t=n.join("");break;default:switch(r){case 1:return s=am(this,this.l),this.l++,s;case 2:return s=(e==="i"?M2e:mc)(this,this.l),this.l+=2,s;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(s=(r>0?Yu:F2e)(this,this.l),this.l+=4,s):(a=Ai(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return r==8?a=e2(this,this.l):a=e2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;r=8;case 16:t=F$(this,this.l,r);break}}return this.l+=r,t}var L2e=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},B2e=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},U2e=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function z2e(r,e,t){var s=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)U2e(this,e.charCodeAt(a),this.l+2*a);s=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;s=e.length}else if(t==="hex"){for(;a<r;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var n=Math.min(this.l+r,this.length);for(a=0;a<Math.min(e.length,r);++a){var o=e.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<n;)this[this.l++]=0;return this}else switch(r){case 1:s=1,this[this.l]=e&255;break;case 2:s=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:s=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:s=4,L2e(this,e,this.l);break;case 8:if(s=8,t==="f"){O2e(this,e,this.l);break}case 16:break;case-4:s=4,B2e(this,e,this.l);break}return this.l+=s,this}function X$(r,e){var t=F$(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function un(r,e){r.l=e,r.read_shift=Cp,r.chk=X$,r.write_shift=z2e}function In(r,e){r.l+=e}function et(r){var e=Gd(r);return un(e,0),e}function Fc(r,e,t){if(r){var s,a,n;un(r,r.l||0);for(var o=r.length,l=0,c=0;r.l<o;){l=r.read_shift(1),l&128&&(l=(l&127)+((r.read_shift(1)&127)<<7));var d=Ax[l]||Ax[65535];for(s=r.read_shift(1),n=s&127,a=1;a<4&&s&128;++a)n+=((s=r.read_shift(1))&127)<<7*a;c=r.l+n;var u=d.f&&d.f(r,n,t);if(r.l=c,e(u,d,l))return}}}function hi(){var r=[],e=Nr?256:2048,t=function(d){var u=et(d);return un(u,0),u},s=t(e),a=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&r.push(s),s=null)},n=function(d){return s&&d<s.length-s.l?s:(a(),s=t(Math.max(d+1,e)))},o=function(){return a(),Ja(r)},l=function(d){a(),s=d,s.l==null&&(s.l=s.length),n(e)};return{next:n,push:l,end:o,_bufs:r}}function ht(r,e,t,s){var a=+e,n;if(!isNaN(a)){s||(s=Ax[a].p||(t||[]).length||0),n=1+(a>=128?1:0)+1,s>=128&&++n,s>=16384&&++n,s>=2097152&&++n;var o=r.next(n);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(s>=128)o.write_shift(1,(s&127)+128),s>>=7;else{o.write_shift(1,s);break}s>0&&m4(t)&&r.push(t)}}function Pp(r,e,t){var s=zs(r);if(e.s?(s.cRel&&(s.c+=e.s.c),s.rRel&&(s.r+=e.s.r)):(s.cRel&&(s.c+=e.c),s.rRel&&(s.r+=e.r)),!t||t.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function EL(r,e,t){var s=zs(r);return s.s=Pp(s.s,e.s,t),s.e=Pp(s.e,e.s,t),s}function Rp(r,e){if(r.cRel&&r.c<0)for(r=zs(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=zs(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=tr(r);return!r.cRel&&r.cRel!=null&&(t=$2e(t)),!r.rRel&&r.rRel!=null&&(t=V2e(t)),t}function YS(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Ys(r.s.c)+":"+(r.e.cRel?"":"$")+Ys(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+pa(r.s.r)+":"+(r.e.rRel?"":"$")+pa(r.e.r):Rp(r.s,e.biff)+":"+Rp(r.e,e.biff)}function g4(r){return parseInt(H2e(r),10)-1}function pa(r){return""+(r+1)}function V2e(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function H2e(r){return r.replace(/\$(\d+)$/,"$1")}function p4(r){for(var e=W2e(r),t=0,s=0;s!==e.length;++s)t=26*t+e.charCodeAt(s)-64;return t-1}function Ys(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function $2e(r){return r.replace(/^([A-Z])/,"$$$1")}function W2e(r){return r.replace(/^\$([A-Z])/,"$1")}function q2e(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Xs(r){for(var e=0,t=0,s=0;s<r.length;++s){var a=r.charCodeAt(s);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function tr(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function mi(r){var e=r.indexOf(":");return e==-1?{s:Xs(r),e:Xs(r)}:{s:Xs(r.slice(0,e)),e:Xs(r.slice(e+1))}}function hr(r,e){return typeof e>"u"||typeof e=="number"?hr(r.s,r.e):(typeof r!="string"&&(r=tr(r)),typeof e!="string"&&(e=tr(e)),r==e?r:r+":"+e)}function rs(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,s=0,a=0,n=r.length;for(t=0;s<n&&!((a=r.charCodeAt(s)-64)<1||a>26);++s)t=26*t+a;for(e.s.c=--t,t=0;s<n&&!((a=r.charCodeAt(s)-48)<0||a>9);++s)t=10*t+a;if(e.s.r=--t,s===n||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++s,t=0;s!=n&&!((a=r.charCodeAt(s)-64)<1||a>26);++s)t=26*t+a;for(e.e.c=--t,t=0;s!=n&&!((a=r.charCodeAt(s)-48)<0||a>9);++s)t=10*t+a;return e.e.r=--t,e}function AL(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=bo(r.z,t?Ha(e):e)}catch{}try{return r.w=bo((r.XF||{}).numFmtId||(t?14:0),t?Ha(e):e)}catch{return""+e}}function Cc(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Lc[r.v]||r.v:e==null?AL(r,r.v):AL(r,e))}function au(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",s={};return s[t]=r,{SheetNames:[t],Sheets:s}}function K$(r,e,t){var s=t||{},a=r?Array.isArray(r):s.dense,n=r||(a?[]:{}),o=0,l=0;if(n&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?Xs(s.origin):s.origin;o=c.r,l=c.c}n["!ref"]||(n["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(n["!ref"]){var u=rs(n["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[h].length;++m)if(!(typeof e[h][m]>"u")){var p={v:e[h][m]},b=o+h,x=l+m;if(d.s.r>b&&(d.s.r=b),d.s.c>x&&(d.s.c=x),d.e.r<b&&(d.e.r=b),d.e.c<x&&(d.e.c=x),e[h][m]&&typeof e[h][m]=="object"&&!Array.isArray(e[h][m])&&!(e[h][m]instanceof Date))p=e[h][m];else if(Array.isArray(p.v)&&(p.f=e[h][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(s.nullError)p.t="e",p.v=0;else if(s.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=s.dateNF||Jt[14],s.cellDates?(p.t="d",p.w=bo(p.z,Ha(p.v))):(p.t="n",p.v=Ha(p.v),p.w=bo(p.z,p.v))):p.t="s";if(a)n[b]||(n[b]=[]),n[b][x]&&n[b][x].z&&(p.z=n[b][x].z),n[b][x]=p;else{var y=tr({c:x,r:b});n[y]&&n[y].z&&(p.z=n[y].z),n[y]=p}}}return d.s.c<1e7&&(n["!ref"]=hr(d)),n}function k0(r,e){return K$(null,r,e)}function G2e(r){return r.read_shift(4,"i")}function Uo(r,e){return e||(e=et(4)),e.write_shift(4,r),e}function Pn(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function en(r,e){var t=!1;return e==null&&(t=!0,e=et(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function Y2e(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function X2e(r,e){return e||(e=et(4)),e.write_shift(2,0),e.write_shift(2,0),e}function x4(r,e){var t=r.l,s=r.read_shift(1),a=Pn(r),n=[],o={t:a,h:a};if((s&1)!==0){for(var l=r.read_shift(4),c=0;c!=l;++c)n.push(Y2e(r));o.r=n}else o.r=[{ich:0,ifnt:0}];return r.l=t+e,o}function K2e(r,e){var t=!1;return e==null&&(t=!0,e=et(15+4*r.t.length)),e.write_shift(1,0),en(r.t,e),t?e.slice(0,e.l):e}var Z2e=x4;function Q2e(r,e){var t=!1;return e==null&&(t=!0,e=et(23+4*r.t.length)),e.write_shift(1,1),en(r.t,e),e.write_shift(4,1),X2e({},e),t?e.slice(0,e.l):e}function yo(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function Xh(r,e){return e==null&&(e=et(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function Kh(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function Zh(r,e){return e==null&&(e=et(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var J2e=Pn,Z$=en;function b4(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function t2(r,e){var t=!1;return e==null&&(t=!0,e=et(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var eke=Pn,YE=b4,y4=t2;function v4(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,s=e[0]&2;r.l+=4;var a=s===0?e2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Yu(e,0)>>2;return t?a/100:a}function Q$(r,e){e==null&&(e=et(4));var t=0,s=0,a=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?s=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(s=1,t=1),s)e.write_shift(-4,((t?a:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function J$(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function tke(r,e){return e||(e=et(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var Qh=J$,_0=tke;function En(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function Oh(r,e){return(e||et(8)).write_shift(8,r,"f")}function rke(r){var e={},t=r.read_shift(1),s=t>>>1,a=r.read_shift(1),n=r.read_shift(2,"i"),o=r.read_shift(1),l=r.read_shift(1),c=r.read_shift(1);switch(r.l++,s){case 0:e.auto=1;break;case 1:e.index=a;var d=mh[a];d&&(e.rgb=Nx(d));break;case 2:e.rgb=Nx([o,l,c]);break;case 3:e.theme=a;break}return n!=0&&(e.tint=n>0?n/32767:n/32768),e}function r2(r,e){if(e||(e=et(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var s=r.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),e.write_shift(1,parseInt(s.slice(0,2),16)),e.write_shift(1,parseInt(s.slice(2,4),16)),e.write_shift(1,parseInt(s.slice(4,6),16)),e.write_shift(1,255)}return e}function ske(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function ake(r,e){e||(e=et(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}function eW(r,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},s=r.read_shift(4);switch(s){case 0:return"";case 4294967295:case 4294967294:return t[r.read_shift(4)]||""}if(s>400)throw new Error("Unsupported Clipboard: "+s.toString(16));return r.l-=4,r.read_shift(0,e==1?"lpstr":"lpwstr")}function nke(r){return eW(r,1)}function ike(r){return eW(r,2)}var w4=2,ai=3,h1=11,TL=12,s2=19,f1=64,oke=65,lke=71,cke=4108,dke=4126,Ka=80,tW=81,uke=[Ka,tW],XE={1:{n:"CodePage",t:w4},2:{n:"Category",t:Ka},3:{n:"PresentationFormat",t:Ka},4:{n:"ByteCount",t:ai},5:{n:"LineCount",t:ai},6:{n:"ParagraphCount",t:ai},7:{n:"SlideCount",t:ai},8:{n:"NoteCount",t:ai},9:{n:"HiddenCount",t:ai},10:{n:"MultimediaClipCount",t:ai},11:{n:"ScaleCrop",t:h1},12:{n:"HeadingPairs",t:cke},13:{n:"TitlesOfParts",t:dke},14:{n:"Manager",t:Ka},15:{n:"Company",t:Ka},16:{n:"LinksUpToDate",t:h1},17:{n:"CharacterCount",t:ai},19:{n:"SharedDoc",t:h1},22:{n:"HyperlinksChanged",t:h1},23:{n:"AppVersion",t:ai,p:"version"},24:{n:"DigSig",t:oke},26:{n:"ContentType",t:Ka},27:{n:"ContentStatus",t:Ka},28:{n:"Language",t:Ka},29:{n:"Version",t:Ka},255:{},2147483648:{n:"Locale",t:s2},2147483651:{n:"Behavior",t:s2},1919054434:{}},KE={1:{n:"CodePage",t:w4},2:{n:"Title",t:Ka},3:{n:"Subject",t:Ka},4:{n:"Author",t:Ka},5:{n:"Keywords",t:Ka},6:{n:"Comments",t:Ka},7:{n:"Template",t:Ka},8:{n:"LastAuthor",t:Ka},9:{n:"RevNumber",t:Ka},10:{n:"EditTime",t:f1},11:{n:"LastPrinted",t:f1},12:{n:"CreatedDate",t:f1},13:{n:"ModifiedDate",t:f1},14:{n:"PageCount",t:ai},15:{n:"WordCount",t:ai},16:{n:"CharCount",t:ai},17:{n:"Thumbnail",t:lke},18:{n:"Application",t:Ka},19:{n:"DocSecurity",t:ai},255:{},2147483648:{n:"Locale",t:s2},2147483651:{n:"Behavior",t:s2},1919054434:{}},CL={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},hke=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function fke(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var mke=fke([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),mh=zs(mke),Lc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},rW={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ZE={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},m1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function k4(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function gke(r){var e=k4();if(!r||!r.match)return e;var t={};if((r.match(Dn)||[]).forEach(function(s){var a=ar(s);switch(a[0].replace(S2e,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[a.Extension]=a.ContentType;break;case"<Override":e[ZE[a.ContentType]]!==void 0&&e[ZE[a.ContentType]].push(a.PartName);break}}),e.xmlns!==Ba.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}function sW(r,e){var t=g2e(ZE),s=[],a;s[s.length]=ya,s[s.length]=Nt("Types",null,{xmlns:Ba.CT,"xmlns:xsd":Ba.xsd,"xmlns:xsi":Ba.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Nt("Default",null,{Extension:c[0],ContentType:c[1]})}));var n=function(c){r[c]&&r[c].length>0&&(a=r[c][0],s[s.length]=Nt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:m1[c][e.bookType]||m1[c].xlsx}))},o=function(c){(r[c]||[]).forEach(function(d){s[s.length]=Nt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:m1[c][e.bookType]||m1[c].xlsx})})},l=function(c){(r[c]||[]).forEach(function(d){s[s.length]=Nt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:t[c][0]})})};return n("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(n),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var Cr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _x(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function Ip(r,e){var t={"!id":{}};if(!r)return t;e.charAt(0)!=="/"&&(e="/"+e);var s={};return(r.match(Dn)||[]).forEach(function(a){var n=ar(a);if(n[0]==="<Relationship"){var o={};o.Type=n.Type,o.Target=n.Target,o.Id=n.Id,n.TargetMode&&(o.TargetMode=n.TargetMode);var l=n.TargetMode==="External"?n.Target:lp(n.Target,e);t[l]=o,s[n.Id]=o}}),t["!id"]=s,t}function Sm(r){var e=[ya,Nt("Relationships",null,{xmlns:Ba.RELS})];return la(r["!id"]).forEach(function(t){e[e.length]=Nt("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function bs(r,e,t,s,a,n){if(a||(a={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,a.Id="rId"+e,a.Type=s,a.Target=t,[Cr.HLINK,Cr.XPATH,Cr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),r["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][a.Id]=a,r[("/"+a.Target).replace("//","/")]=a,e}var pke="application/vnd.oasis.opendocument.spreadsheet";function xke(r,e){for(var t=h4(r),s,a;s=kx.exec(t);)switch(s[3]){case"manifest":break;case"file-entry":if(a=ar(s[0],!1),a.path=="/"&&a.type!==pke)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw s}}function bke(r){var e=[ya];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function PL(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function yke(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function vke(r){var e=[ya];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(PL(r[t][0],r[t][1])),e.push(yke("",r[t][0]));return e.push(PL("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function aW(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Xw.version+"</meta:generator></office:meta></office:document-meta>"}var fo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],wke=(function(){for(var r=new Array(fo.length),e=0;e<fo.length;++e){var t=fo[e],s="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);r[e]=new RegExp("<"+s+"[^>]*>([\\s\\S]*?)</"+s+">")}return r})();function nW(r){var e={};r=As(r);for(var t=0;t<fo.length;++t){var s=fo[t],a=r.match(wke[t]);a!=null&&a.length>0&&(e[s[1]]=ts(a[1])),s[2]==="date"&&e[s[1]]&&(e[s[1]]=Us(e[s[1]]))}return e}function XS(r,e,t,s,a){a[r]!=null||e==null||e===""||(a[r]=e,e=vs(e),s[s.length]=t?Nt(r,e,t):mn(r,e))}function iW(r,e){var t=e||{},s=[ya,Nt("cp:coreProperties",null,{"xmlns:cp":Ba.CORE_PROPS,"xmlns:dc":Ba.dc,"xmlns:dcterms":Ba.dcterms,"xmlns:dcmitype":Ba.dcmitype,"xmlns:xsi":Ba.xsi})],a={};if(!r&&!t.Props)return s.join("");r&&(r.CreatedDate!=null&&XS("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:GE(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a),r.ModifiedDate!=null&&XS("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:GE(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a));for(var n=0;n!=fo.length;++n){var o=fo[n],l=t.Props&&t.Props[o[1]]!=null?t.Props[o[1]]:r?r[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&XS(o[0],l,null,s,a)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var gh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],oW=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function lW(r,e,t,s){var a=[];if(typeof r=="string")a=wL(r,s);else for(var n=0;n<r.length;++n)a=a.concat(r[n].map(function(u){return{v:u}}));var o=typeof e=="string"?wL(e,s).map(function(u){return u.v}):e,l=0,c=0;if(o.length>0)for(var d=0;d!==a.length;d+=2){switch(c=+a[d+1].v,a[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=c,t.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=c,t.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":t.Chartsheets=c,t.ChartNames=o.slice(l,l+c);break}l+=c}}function kke(r,e,t){var s={};return e||(e={}),r=As(r),gh.forEach(function(a){var n=(r.match(vx(a[0]))||[])[1];switch(a[2]){case"string":n&&(e[a[1]]=ts(n));break;case"bool":e[a[1]]=n==="true";break;case"raw":var o=r.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(s[a[1]]=o[1]);break}}),s.HeadingPairs&&s.TitlesOfParts&&lW(s.HeadingPairs,s.TitlesOfParts,e,t),e}function cW(r){var e=[],t=Nt;return r||(r={}),r.Application="SheetJS",e[e.length]=ya,e[e.length]=Nt("Properties",null,{xmlns:Ba.EXT_PROPS,"xmlns:vt":Ba.vt}),gh.forEach(function(s){if(r[s[1]]!==void 0){var a;switch(s[2]){case"string":a=vs(String(r[s[1]]));break;case"bool":a=r[s[1]]?"true":"false";break}a!==void 0&&(e[e.length]=t(s[0],a))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(s){return"<vt:lpstr>"+vs(s)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var _ke=/<[^>]+>[^<]*/g;function Nke(r,e){var t={},s="",a=r.match(_ke);if(a)for(var n=0;n!=a.length;++n){var o=a[n],l=ar(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":s=ts(l.name);break;case"</property>":s=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":t[s]=ts(u);break;case"bool":t[s]=Ls(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[s]=parseInt(u,10);break;case"r4":case"r8":case"decimal":t[s]=parseFloat(u);break;case"filetime":case"date":t[s]=Us(u);break;case"cy":case"error":t[s]=ts(u);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,c)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return t}function dW(r){var e=[ya,Nt("Properties",null,{xmlns:Ba.CUST_PROPS,"xmlns:vt":Ba.vt})];if(!r)return e.join("");var t=1;return la(r).forEach(function(a){++t,e[e.length]=Nt("property",I2e(r[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:vs(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var QE={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},KS;function Ske(r,e,t){KS||(KS=ck(QE)),e=KS[e]||e,r[e]=t}function jke(r,e){var t=[];return la(QE).map(function(s){for(var a=0;a<fo.length;++a)if(fo[a][1]==s)return fo[a];for(a=0;a<gh.length;++a)if(gh[a][1]==s)return gh[a];throw s}).forEach(function(s){if(r[s[1]]!=null){var a=e&&e.Props&&e.Props[s[1]]!=null?e.Props[s[1]]:r[s[1]];switch(s[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),t.push(mn(QE[s[1]]||s[1],a))}}),Nt("DocumentProperties",t.join(""),{xmlns:Ei.o})}function Eke(r,e){var t=["Worksheets","SheetNames"],s="CustomDocumentProperties",a=[];return r&&la(r).forEach(function(n){if(Object.prototype.hasOwnProperty.call(r,n)){for(var o=0;o<fo.length;++o)if(n==fo[o][1])return;for(o=0;o<gh.length;++o)if(n==gh[o][1])return;for(o=0;o<t.length;++o)if(n==t[o])return;var l=r[n],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Nt(xL(n),l,{"dt:dt":c}))}}),e&&la(e).forEach(function(n){if(Object.prototype.hasOwnProperty.call(e,n)&&!(r&&Object.prototype.hasOwnProperty.call(r,n))){var o=e[n],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Nt(xL(n),o,{"dt:dt":l}))}}),"<"+s+' xmlns="'+Ei.o+'">'+a.join("")+"</"+s+">"}function _4(r){var e=r.read_shift(4),t=r.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Ake(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,s=t%Math.pow(2,32),a=(t-s)/Math.pow(2,32);s*=1e7,a*=1e7;var n=s/Math.pow(2,32)|0;n>0&&(s=s%Math.pow(2,32),a+=n);var o=et(8);return o.write_shift(4,s),o.write_shift(4,a),o}function uW(r,e,t){var s=r.l,a=r.read_shift(0,"lpstr-cp");if(t)for(;r.l-s&3;)++r.l;return a}function hW(r,e,t){var s=r.read_shift(0,"lpwstr");return s}function fW(r,e,t){return e===31?hW(r):uW(r,e,t)}function JE(r,e,t){return fW(r,e,t===!1?0:4)}function Tke(r,e){if(!e)throw new Error("VtUnalignedString must have positive length");return fW(r,e,0)}function Cke(r){for(var e=r.read_shift(4),t=[],s=0;s!=e;++s){var a=r.l;t[s]=r.read_shift(0,"lpwstr").replace(Xn,""),r.l-a&2&&(r.l+=2)}return t}function Pke(r){for(var e=r.read_shift(4),t=[],s=0;s!=e;++s)t[s]=r.read_shift(0,"lpstr-cp").replace(Xn,"");return t}function Rke(r){var e=r.l,t=a2(r,tW);r[r.l]==0&&r[r.l+1]==0&&r.l-e&2&&(r.l+=2);var s=a2(r,ai);return[t,s]}function Ike(r){for(var e=r.read_shift(4),t=[],s=0;s<e/2;++s)t.push(Rke(r));return t}function RL(r,e){for(var t=r.read_shift(4),s={},a=0;a!=t;++a){var n=r.read_shift(4),o=r.read_shift(4);s[n]=r.read_shift(o,e===1200?"utf16le":"utf8").replace(Xn,"").replace(op,"!"),e===1200&&o%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),s}function mW(r){var e=r.read_shift(4),t=r.slice(r.l,r.l+e);return r.l+=e,(e&3)>0&&(r.l+=4-(e&3)&3),t}function Dke(r){var e={};return e.Size=r.read_shift(4),r.l+=e.Size+3-(e.Size-1)%4,e}function a2(r,e,t){var s=r.read_shift(2),a,n=t||{};if(r.l+=2,e!==TL&&s!==e&&uke.indexOf(e)===-1&&!((e&65534)==4126&&(s&65534)==4126))throw new Error("Expected type "+e+" saw "+s);switch(e===TL?s:e){case 2:return a=r.read_shift(2,"i"),n.raw||(r.l+=2),a;case 3:return a=r.read_shift(4,"i"),a;case 11:return r.read_shift(4)!==0;case 19:return a=r.read_shift(4),a;case 30:return uW(r,s,4).replace(Xn,"");case 31:return hW(r);case 64:return _4(r);case 65:return mW(r);case 71:return Dke(r);case 80:return JE(r,s,!n.raw).replace(Xn,"");case 81:return Tke(r,s).replace(Xn,"");case 4108:return Ike(r);case 4126:case 4127:return s==4127?Cke(r):Pke(r);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+s)}}function IL(r,e){var t=et(4),s=et(4);switch(t.write_shift(4,r==80?31:r),r){case 3:s.write_shift(-4,e);break;case 5:s=et(8),s.write_shift(8,e,"f");break;case 11:s.write_shift(4,e?1:0);break;case 64:s=Ake(e);break;case 31:case 80:for(s=et(4+2*(e.length+1)+(e.length%2?0:2)),s.write_shift(4,e.length+1),s.write_shift(0,e,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return Ja([t,s])}function DL(r,e){var t=r.l,s=r.read_shift(4),a=r.read_shift(4),n=[],o=0,l=0,c=-1,d={};for(o=0;o!=a;++o){var u=r.read_shift(4),h=r.read_shift(4);n[o]=[u,h+t]}n.sort(function(k,N){return k[1]-N[1]});var m={};for(o=0;o!=a;++o){if(r.l!==n[o][1]){var p=!0;if(o>0&&e)switch(e[n[o-1][0]].t){case 2:r.l+2===n[o][1]&&(r.l+=2,p=!1);break;case 80:r.l<=n[o][1]&&(r.l=n[o][1],p=!1);break;case 4108:r.l<=n[o][1]&&(r.l=n[o][1],p=!1);break}if((!e||o==0)&&r.l<=n[o][1]&&(p=!1,r.l=n[o][1]),p)throw new Error("Read Error: Expected address "+n[o][1]+" at "+r.l+" :"+o)}if(e){var b=e[n[o][0]];if(m[b.n]=a2(r,b.t,{raw:!0}),b.p==="version"&&(m[b.n]=String(m[b.n]>>16)+"."+("0000"+String(m[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(m[b.n]){case 0:m[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Do(l=m[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[b.n])}}else if(n[o][0]===1){if(l=m.CodePage=a2(r,w4),Do(l),c!==-1){var x=r.l;r.l=n[c][1],d=RL(r,l),r.l=x}}else if(n[o][0]===0){if(l===0){c=o,r.l=n[o+1][1];continue}d=RL(r,l)}else{var y=d[n[o][0]],w;switch(r[r.l]){case 65:r.l+=4,w=mW(r);break;case 30:r.l+=4,w=JE(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,w=JE(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,w=r.read_shift(4,"i");break;case 19:r.l+=4,w=r.read_shift(4);break;case 5:r.l+=4,w=r.read_shift(8,"f");break;case 11:r.l+=4,w=ha(r,4);break;case 64:r.l+=4,w=Us(_4(r));break;default:throw new Error("unparsed value: "+r[r.l])}m[y]=w}}return r.l=t+s,m}var gW=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Oke(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function OL(r,e,t){var s=et(8),a=[],n=[],o=8,l=0,c=et(8),d=et(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),n.push(c),a.push(d),o+=8+c.length,!e){d=et(8),d.write_shift(4,0),a.unshift(d);var u=[et(4)];for(u[0].write_shift(4,r.length),l=0;l<r.length;++l){var h=r[l][0];for(c=et(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Ja(u),n.unshift(c),o+=8+c.length}for(l=0;l<r.length;++l)if(!(e&&!e[r[l][0]])&&!(gW.indexOf(r[l][0])>-1||oW.indexOf(r[l][0])>-1)&&r[l][1]!=null){var m=r[l][1],p=0;if(e){p=+e[r[l][0]];var b=t[p];if(b.p=="version"&&typeof m=="string"){var x=m.split(".");m=(+x[0]<<16)+(+x[1]||0)}c=IL(b.t,m)}else{var y=Oke(m);y==-1&&(y=31,m=String(m)),c=IL(y,m)}n.push(c),d=et(8),d.write_shift(4,e?p:2+l),a.push(d),o+=8+c.length}var w=8*(n.length+1);for(l=0;l<n.length;++l)a[l].write_shift(4,w),w+=n[l].length;return s.write_shift(4,o),s.write_shift(4,n.length),Ja([s].concat(a).concat(n))}function ML(r,e,t){var s=r.content;if(!s)return{};un(s,0);var a,n,o,l,c=0;s.chk("feff","Byte Order: "),s.read_shift(2);var d=s.read_shift(4),u=s.read_shift(16);if(u!==Wt.utils.consts.HEADER_CLSID&&u!==t)throw new Error("Bad PropertySet CLSID "+u);if(a=s.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(n=s.read_shift(16),l=s.read_shift(4),a===1&&l!==s.l)throw new Error("Length mismatch: "+l+" !== "+s.l);a===2&&(o=s.read_shift(16),c=s.read_shift(4));var h=DL(s,e),m={SystemIdentifier:d};for(var p in h)m[p]=h[p];if(m.FMTID=n,a===1)return m;if(c-s.l==2&&(s.l+=2),s.l!==c)throw new Error("Length mismatch 2: "+s.l+" !== "+c);var b;try{b=DL(s,null)}catch{}for(p in b)m[p]=b[p];return m.FMTID=[n,o],m}function FL(r,e,t,s,a,n){var o=et(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Wt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,a?68:48);var c=OL(r,t,s);if(l.push(c),a){var d=OL(a,null,null);o.write_shift(16,n,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Ja(l)}function cd(r,e){return r.read_shift(e),null}function Mke(r,e){e||(e=et(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function Fke(r,e,t){for(var s=[],a=r.l+e;r.l<a;)s.push(t(r,a-r.l));if(a!==r.l)throw new Error("Slurp error");return s}function ha(r,e){return r.read_shift(e)===1}function $n(r,e){return e||(e=et(2)),e.write_shift(2,+!!r),e}function ja(r){return r.read_shift(2,"u")}function io(r,e){return e||(e=et(2)),e.write_shift(2,r),e}function pW(r,e){return Fke(r,e,ja)}function Lke(r){var e=r.read_shift(1),t=r.read_shift(1);return t===1?e:e===1}function xW(r,e,t){return t||(t=et(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function wb(r,e,t){var s=r.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var n=r.read_shift(1);n&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var o=s?r.read_shift(s,a):"";return o}function Bke(r){var e=r.read_shift(2),t=r.read_shift(1),s=t&4,a=t&8,n=1+(t&1),o=0,l,c={};a&&(o=r.read_shift(2)),s&&(l=r.read_shift(4));var d=n==2?"dbcs-cont":"sbcs-cont",u=e===0?"":r.read_shift(e,d);return a&&(r.l+=4*o),s&&(r.l+=l),c.t=u,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Uke(r){var e=r.t||"",t=et(3);t.write_shift(2,e.length),t.write_shift(1,1);var s=et(2*e.length);s.write_shift(2*e.length,e,"utf16le");var a=[t,s];return Ja(a)}function Mh(r,e,t){var s;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var a=r.read_shift(1);return a===0?s=r.read_shift(e,"sbcs-cont"):s=r.read_shift(e,"dbcs-cont"),s}function kb(r,e,t){var s=r.read_shift(t&&t.biff==2?1:2);return s===0?(r.l++,""):Mh(r,s,t)}function Jh(r,e,t){if(t.biff>5)return kb(r,e,t);var s=r.read_shift(1);return s===0?(r.l++,""):r.read_shift(s,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function bW(r,e,t){return t||(t=et(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function zke(r){var e=r.read_shift(1);r.l++;var t=r.read_shift(2);return r.l+=2,[e,t]}function Vke(r){var e=r.read_shift(4),t=r.l,s=!1;e>24&&(r.l+=e-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(s=!0),r.l=t);var a=r.read_shift((s?e-24:e)>>1,"utf16le").replace(Xn,"");return s&&(r.l+=24),a}function Hke(r){for(var e=r.read_shift(2),t="";e-- >0;)t+="../";var s=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=r.read_shift(4);if(a===0)return t+s.replace(/\\/g,"/");var n=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=r.read_shift(n>>1,"utf16le").replace(Xn,"");return t+o}function $ke(r,e){var t=r.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return Vke(r);case"0303000000000000c000000000000046":return Hke(r);default:throw new Error("Unsupported Moniker "+t)}}function g1(r){var e=r.read_shift(4),t=e>0?r.read_shift(e,"utf16le").replace(Xn,""):"";return t}function LL(r,e){e||(e=et(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function Wke(r,e){var t=r.l+e,s=r.read_shift(4);if(s!==2)throw new Error("Unrecognized streamVersion: "+s);var a=r.read_shift(2);r.l+=2;var n,o,l,c,d="",u,h;a&16&&(n=g1(r,t-r.l)),a&128&&(o=g1(r,t-r.l)),(a&257)===257&&(l=g1(r,t-r.l)),(a&257)===1&&(c=$ke(r,t-r.l)),a&8&&(d=g1(r,t-r.l)),a&32&&(u=r.read_shift(16)),a&64&&(h=_4(r)),r.l=t;var m=o||l||c||"";m&&d&&(m+="#"+d),m||(m="#"+d),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return u&&(p.guid=u),h&&(p.time=h),n&&(p.Tooltip=n),p}function qke(r){var e=et(512),t=0,s=r.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var a=s.indexOf("#"),n=a>-1?31:23;switch(s.charAt(0)){case"#":n=28;break;case".":n&=-3;break}e.write_shift(4,2),e.write_shift(4,n);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)e.write_shift(4,o[t]);if(n==28)s=s.slice(1),LL(s,e);else if(n&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));var l=a>-1?s.slice(0,a):s;for(e.write_shift(4,2*(l.length+1)),t=0;t<l.length;++t)e.write_shift(2,l.charCodeAt(t));e.write_shift(2,0),n&8&&LL(a>-1?s.slice(a+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));for(var c=0;s.slice(c*3,c*3+3)=="../"||s.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,s.length-3*c+1),t=0;t<s.length-3*c;++t)e.write_shift(1,s.charCodeAt(t+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function yW(r){var e=r.read_shift(1),t=r.read_shift(1),s=r.read_shift(1),a=r.read_shift(1);return[e,t,s,a]}function vW(r,e){var t=yW(r);return t[3]=0,t}function Ol(r){var e=r.read_shift(2),t=r.read_shift(2),s=r.read_shift(2);return{r:e,c:t,ixfe:s}}function Fh(r,e,t,s){return s||(s=et(6)),s.write_shift(2,r),s.write_shift(2,e),s.write_shift(2,t||0),s}function Gke(r){var e=r.read_shift(2),t=r.read_shift(2);return r.l+=8,{type:e,flags:t}}function Yke(r,e,t){return e===0?"":Jh(r,e,t)}function Xke(r,e,t){var s=t.biff>8?4:2,a=r.read_shift(s),n=r.read_shift(s,"i"),o=r.read_shift(s,"i");return[a,n,o]}function wW(r){var e=r.read_shift(2),t=v4(r);return[e,t]}function Kke(r,e,t){r.l+=4,e-=4;var s=r.l+e,a=wb(r,e,t),n=r.read_shift(2);if(s-=r.l,n!==s)throw new Error("Malformed AddinUdf: padding = "+s+" != "+n);return r.l+=n,a}function hk(r){var e=r.read_shift(2),t=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2);return{s:{c:s,r:e},e:{c:a,r:t}}}function kW(r,e){return e||(e=et(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function _W(r){var e=r.read_shift(2),t=r.read_shift(2),s=r.read_shift(1),a=r.read_shift(1);return{s:{c:s,r:e},e:{c:a,r:t}}}var Zke=_W;function NW(r){r.l+=4;var e=r.read_shift(2),t=r.read_shift(2),s=r.read_shift(2);return r.l+=12,[t,e,s]}function Qke(r){var e={};return r.l+=4,r.l+=16,e.fSharedNote=r.read_shift(2),r.l+=4,e}function Jke(r){var e={};return r.l+=4,r.cf=r.read_shift(2),e}function wn(r){r.l+=2,r.l+=r.read_shift(2)}var e_e={0:wn,4:wn,5:wn,6:wn,7:Jke,8:wn,9:wn,10:wn,11:wn,12:wn,13:Qke,14:wn,15:wn,16:wn,17:wn,18:wn,19:wn,20:wn,21:NW};function t_e(r,e){for(var t=r.l+e,s=[];r.l<t;){var a=r.read_shift(2);r.l-=2;try{s.push(e_e[a](r,t-r.l))}catch{return r.l=t,s}}return r.l!=t&&(r.l=t),s}function p1(r,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=r.read_shift(2),e-=2,e>=2&&(t.dt=r.read_shift(2),r.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return r.read_shift(e),t}function N4(r,e,t){var s=1536,a=16;switch(t.bookType){case"biff8":break;case"biff5":s=1280,a=8;break;case"biff4":s=4,a=6;break;case"biff3":s=3,a=6;break;case"biff2":s=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var n=et(a);return n.write_shift(2,s),n.write_shift(2,e),a>4&&n.write_shift(2,29282),a>6&&n.write_shift(2,1997),a>8&&(n.write_shift(2,49161),n.write_shift(2,1),n.write_shift(2,1798),n.write_shift(2,0)),n}function r_e(r,e){return e===0||r.read_shift(2),1200}function s_e(r,e,t){if(t.enc)return r.l+=e,"";var s=r.l,a=Jh(r,0,t);return r.read_shift(e+s-r.l),a}function a_e(r,e){var t=!e||e.biff==8,s=et(t?112:54);for(s.write_shift(e.biff==8?2:1,7),t&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(t?0:536870912));s.l<s.length;)s.write_shift(1,t?0:32);return s}function n_e(r,e,t){var s=t&&t.biff==8||e==2?r.read_shift(2):(r.l+=e,0);return{fDialog:s&16,fBelow:s&64,fRight:s&128}}function i_e(r,e,t){var s=r.read_shift(4),a=r.read_shift(1)&3,n=r.read_shift(1);switch(n){case 0:n="Worksheet";break;case 1:n="Macrosheet";break;case 2:n="Chartsheet";break;case 6:n="VBAModule";break}var o=wb(r,0,t);return o.length===0&&(o="Sheet1"),{pos:s,hs:a,dt:n,name:o}}function o_e(r,e){var t=!e||e.biff>=8?2:1,s=et(8+t*r.name.length);s.write_shift(4,r.pos),s.write_shift(1,r.hs||0),s.write_shift(1,r.dt),s.write_shift(1,r.name.length),e.biff>=8&&s.write_shift(1,1),s.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var a=s.slice(0,s.l);return a.l=s.l,a}function l_e(r,e){for(var t=r.l+e,s=r.read_shift(4),a=r.read_shift(4),n=[],o=0;o!=a&&r.l<t;++o)n.push(Bke(r));return n.Count=s,n.Unique=a,n}function c_e(r,e){var t=et(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var s=[],a=0;a<r.length;++a)s[a]=Uke(r[a]);var n=Ja([t].concat(s));return n.parts=[t.length].concat(s.map(function(o){return o.length})),n}function d_e(r,e){var t={};return t.dsst=r.read_shift(2),r.l+=e-2,t}function u_e(r){var e={};e.r=r.read_shift(2),e.c=r.read_shift(2),e.cnt=r.read_shift(2)-e.c;var t=r.read_shift(2);r.l+=4;var s=r.read_shift(1);return r.l+=3,s&7&&(e.level=s&7),s&32&&(e.hidden=!0),s&64&&(e.hpt=t/20),e}function h_e(r){var e=Gke(r);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=r.read_shift(4);return t!==0}function f_e(r){return r.read_shift(2),r.read_shift(4)}function BL(r,e,t){var s=0;t&&t.biff==2||(s=r.read_shift(2));var a=r.read_shift(2);t&&t.biff==2&&(s=1-(a>>15),a&=32767);var n={Unsynced:s&1,DyZero:(s&2)>>1,ExAsc:(s&4)>>2,ExDsc:(s&8)>>3};return[n,a]}function m_e(r){var e=r.read_shift(2),t=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2),n=r.read_shift(2),o=r.read_shift(2),l=r.read_shift(2),c=r.read_shift(2),d=r.read_shift(2);return{Pos:[e,t],Dim:[s,a],Flags:n,CurTab:o,FirstTab:l,Selected:c,TabRatio:d}}function g_e(){var r=et(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function p_e(r,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var s=r.read_shift(2);return{RTL:s&64}}function x_e(r){var e=et(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function b_e(){}function y_e(r,e,t){var s={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return s.name=wb(r,0,t),s}function v_e(r,e){var t=r.name||"Arial",s=e&&e.biff==5,a=s?15+t.length:16+2*t.length,n=et(a);return n.write_shift(2,r.sz*20),n.write_shift(4,0),n.write_shift(2,400),n.write_shift(4,0),n.write_shift(2,0),n.write_shift(1,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le"),n}function w_e(r){var e=Ol(r);return e.isst=r.read_shift(4),e}function k_e(r,e,t,s){var a=et(10);return Fh(r,e,s,a),a.write_shift(4,t),a}function __e(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var s=r.l+e,a=Ol(r);t.biff==2&&r.l++;var n=kb(r,s-r.l,t);return a.val=n,a}function N_e(r,e,t,s,a){var n=!a||a.biff==8,o=et(8+ +n+(1+n)*t.length);return Fh(r,e,s,o),o.write_shift(2,t.length),n&&o.write_shift(1,1),o.write_shift((1+n)*t.length,t,n?"utf16le":"sbcs"),o}function S_e(r,e,t){var s=r.read_shift(2),a=Jh(r,0,t);return[s,a]}function j_e(r,e,t,s){var a=t&&t.biff==5;s||(s=et(a?3+e.length:5+2*e.length)),s.write_shift(2,r),s.write_shift(a?1:2,e.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var n=s.length>s.l?s.slice(0,s.l):s;return n.l==null&&(n.l=n.length),n}var E_e=Jh;function UL(r,e,t){var s=r.l+e,a=t.biff==8||!t.biff?4:2,n=r.read_shift(a),o=r.read_shift(a),l=r.read_shift(2),c=r.read_shift(2);return r.l=s,{s:{r:n,c:l},e:{r:o,c}}}function A_e(r,e){var t=e.biff==8||!e.biff?4:2,s=et(2*t+6);return s.write_shift(t,r.s.r),s.write_shift(t,r.e.r+1),s.write_shift(2,r.s.c),s.write_shift(2,r.e.c+1),s.write_shift(2,0),s}function T_e(r){var e=r.read_shift(2),t=r.read_shift(2),s=wW(r);return{r:e,c:t,ixfe:s[0],rknum:s[1]}}function C_e(r,e){for(var t=r.l+e-2,s=r.read_shift(2),a=r.read_shift(2),n=[];r.l<t;)n.push(wW(r));if(r.l!==t)throw new Error("MulRK read error");var o=r.read_shift(2);if(n.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:s,c:a,C:o,rkrec:n}}function P_e(r,e){for(var t=r.l+e-2,s=r.read_shift(2),a=r.read_shift(2),n=[];r.l<t;)n.push(r.read_shift(2));if(r.l!==t)throw new Error("MulBlank read error");var o=r.read_shift(2);if(n.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:s,c:a,C:o,ixfe:n}}function R_e(r,e,t,s){var a={},n=r.read_shift(4),o=r.read_shift(4),l=r.read_shift(4),c=r.read_shift(2);return a.patternType=hke[l>>26],s.cellStyles&&(a.alc=n&7,a.fWrap=n>>3&1,a.alcV=n>>4&7,a.fJustLast=n>>7&1,a.trot=n>>8&255,a.cIndent=n>>16&15,a.fShrinkToFit=n>>20&1,a.iReadOrder=n>>22&2,a.fAtrNum=n>>26&1,a.fAtrFnt=n>>27&1,a.fAtrAlc=n>>28&1,a.fAtrBdr=n>>29&1,a.fAtrPat=n>>30&1,a.fAtrProt=n>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function I_e(r,e,t){var s={};return s.ifnt=r.read_shift(2),s.numFmtId=r.read_shift(2),s.flags=r.read_shift(2),s.fStyle=s.flags>>2&1,e-=6,s.data=R_e(r,e,s.fStyle,t),s}function zL(r,e,t,s){var a=t&&t.biff==5;s||(s=et(a?16:20)),s.write_shift(2,0),r.style?(s.write_shift(2,r.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,r.numFmtId||0),s.write_shift(2,e<<4));var n=0;return r.numFmtId>0&&a&&(n|=1024),s.write_shift(4,n),s.write_shift(4,0),a||s.write_shift(4,0),s.write_shift(2,0),s}function D_e(r){r.l+=4;var e=[r.read_shift(2),r.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function O_e(r){var e=et(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function VL(r,e,t){var s=Ol(r);(t.biff==2||e==9)&&++r.l;var a=Lke(r);return s.val=a,s.t=a===!0||a===!1?"b":"e",s}function M_e(r,e,t,s,a,n){var o=et(8);return Fh(r,e,s,o),xW(t,n,o),o}function F_e(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var s=Ol(r),a=En(r);return s.val=a,s}function L_e(r,e,t,s){var a=et(14);return Fh(r,e,s,a),Oh(t,a),a}var HL=Yke;function B_e(r,e,t){var s=r.l+e,a=r.read_shift(2),n=r.read_shift(2);if(t.sbcch=n,n==1025||n==14849)return[n,a];if(n<1||n>255)throw new Error("Unexpected SupBook type: "+n);for(var o=Mh(r,n),l=[];s>r.l;)l.push(kb(r));return[n,a,o,l]}function $L(r,e,t){var s=r.read_shift(2),a,n={fBuiltIn:s&1,fWantAdvise:s>>>1&1,fWantPict:s>>>2&1,fOle:s>>>3&1,fOleLink:s>>>4&1,cf:s>>>5&1023,fIcon:s>>>15&1};return t.sbcch===14849&&(a=Kke(r,e-2,t)),n.body=a||r.read_shift(e-2),typeof a=="string"&&(n.Name=a),n}var U_e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function WL(r,e,t){var s=r.l+e,a=r.read_shift(2),n=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(t&&t.biff==2?1:2),c=0;(!t||t.biff>=5)&&(t.biff!=5&&(r.l+=2),c=r.read_shift(2),t.biff==5&&(r.l+=2),r.l+=4);var d=Mh(r,o,t);a&32&&(d=U_e[d.charCodeAt(0)]);var u=s-r.l;t&&t.biff==2&&--u;var h=s==r.l||l===0||!(u>0)?[]:tAe(r,u,t,l);return{chKey:n,Name:d,itab:c,rgce:h}}function SW(r,e,t){if(t.biff<8)return z_e(r,e,t);for(var s=[],a=r.l+e,n=r.read_shift(t.biff>8?4:2);n--!==0;)s.push(Xke(r,t.biff>8?12:6,t));if(r.l!=a)throw new Error("Bad ExternSheet: "+r.l+" != "+a);return s}function z_e(r,e,t){r[r.l+1]==3&&r[r.l]++;var s=wb(r,e,t);return s.charCodeAt(0)==3?s.slice(1):s}function V_e(r,e,t){if(t.biff<8){r.l+=e;return}var s=r.read_shift(2),a=r.read_shift(2),n=Mh(r,s,t),o=Mh(r,a,t);return[n,o]}function H_e(r,e,t){var s=_W(r);r.l++;var a=r.read_shift(1);return e-=8,[rAe(r,e,t),a,s]}function qL(r,e,t){var s=Zke(r);switch(t.biff){case 2:r.l++,e-=7;break;case 3:case 4:r.l+=2,e-=8;break;default:r.l+=6,e-=12}return[s,JEe(r,e,t)]}function $_e(r){var e=r.read_shift(4)!==0,t=r.read_shift(4)!==0,s=r.read_shift(4);return[e,t,s]}function W_e(r,e,t){if(!(t.biff<8)){var s=r.read_shift(2),a=r.read_shift(2),n=r.read_shift(2),o=r.read_shift(2),l=Jh(r,0,t);return t.biff<8&&r.read_shift(1),[{r:s,c:a},l,o,n]}}function q_e(r,e,t){return W_e(r,e,t)}function G_e(r,e){for(var t=[],s=r.read_shift(2);s--;)t.push(hk(r));return t}function Y_e(r){var e=et(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)kW(r[t],e);return e}function X_e(r,e,t){if(t&&t.biff<8)return Z_e(r,e,t);var s=NW(r),a=t_e(r,e-22,s[1]);return{cmo:s,ft:a}}var K_e={8:function(r,e){var t=r.l+e;r.l+=10;var s=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var a=r.read_shift(1);return r.l+=a,r.l=t,{fmt:s}}};function Z_e(r,e,t){r.l+=4;var s=r.read_shift(2),a=r.read_shift(2),n=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,e-=36;var o=[];return o.push((K_e[s]||In)(r,e,t)),{cmo:[a,s,n],ft:o}}function Q_e(r,e,t){var s=r.l,a="";try{r.l+=4;var n=(t.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(n)==-1?r.l+=6:o=zke(r,6,t);var l=r.read_shift(2);r.read_shift(2),ja(r,2);var c=r.read_shift(2);r.l+=c;for(var d=1;d<r.lens.length-1;++d){if(r.l-s!=r.lens[d])throw new Error("TxO: bad continue record");var u=r[r.l],h=Mh(r,r.lens[d+1]-r.lens[d]-1);if(a+=h,a.length>=(u?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return r.l=s+e,{t:a}}catch{return r.l=s+e,{t:a}}}function J_e(r,e){var t=hk(r);r.l+=16;var s=Wke(r,e-24);return[t,s]}function eNe(r){var e=et(24),t=Xs(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(s[a],16));return Ja([e,qke(r[1])])}function tNe(r,e){r.read_shift(2);var t=hk(r),s=r.read_shift((e-10)/2,"dbcs-cont");return s=s.replace(Xn,""),[t,s]}function rNe(r){var e=r[1].Tooltip,t=et(10+2*(e.length+1));t.write_shift(2,2048);var s=Xs(r[0]);t.write_shift(2,s.r),t.write_shift(2,s.r),t.write_shift(2,s.c),t.write_shift(2,s.c);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function sNe(r){var e=[0,0],t;return t=r.read_shift(2),e[0]=CL[t]||t,t=r.read_shift(2),e[1]=CL[t]||t,e}function aNe(r){return r||(r=et(4)),r.write_shift(2,1),r.write_shift(2,1),r}function nNe(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(vW(r));return t}function iNe(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(vW(r));return t}function oNe(r){r.l+=2;var e={cxfs:0,crc:0};return e.cxfs=r.read_shift(2),e.crc=r.read_shift(4),e}function jW(r,e,t){if(!t.cellStyles)return In(r,e);var s=t&&t.biff>=12?4:2,a=r.read_shift(s),n=r.read_shift(s),o=r.read_shift(s),l=r.read_shift(s),c=r.read_shift(2);s==2&&(r.l+=2);var d={s:a,e:n,w:o,ixfe:l,flags:c};return(t.biff>=5||!t.biff)&&(d.level=c>>8&7),d}function lNe(r,e){var t=et(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var s=0;return r.hidden&&(s|=1),t.write_shift(1,s),s=r.level||0,t.write_shift(1,s),t.write_shift(2,0),t}function cNe(r,e){var t={};return e<32||(r.l+=16,t.header=En(r),t.footer=En(r),r.l+=2),t}function dNe(r,e,t){var s={area:!1};if(t.biff!=5)return r.l+=e,s;var a=r.read_shift(1);return r.l+=3,a&16&&(s.area=!0),s}function uNe(r){for(var e=et(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}var hNe=Ol,fNe=pW,mNe=kb;function gNe(r){var e=r.read_shift(2),t=r.read_shift(2),s=r.read_shift(4),a={fmt:e,env:t,len:s,data:r.slice(r.l,r.l+s)};return r.l+=s,a}function pNe(r,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var s=Ol(r);++r.l;var a=Jh(r,e-7,t);return s.t="str",s.val=a,s}function xNe(r){var e=Ol(r);++r.l;var t=En(r);return e.t="n",e.val=t,e}function bNe(r,e,t){var s=et(15);return jb(s,r,e),s.write_shift(8,t,"f"),s}function yNe(r){var e=Ol(r);++r.l;var t=r.read_shift(2);return e.t="n",e.val=t,e}function vNe(r,e,t){var s=et(9);return jb(s,r,e),s.write_shift(2,t),s}function wNe(r){var e=r.read_shift(1);return e===0?(r.l++,""):r.read_shift(e,"sbcs-cont")}function kNe(r,e){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=e-13}function _Ne(r,e,t){var s=r.l+e,a=Ol(r),n=r.read_shift(2),o=Mh(r,n,t);return r.l=s,a.t="str",a.val=o,a}var NNe=[2,3,48,49,131,139,140,245],eA=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=ck({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(l,c){var d=[],u=Gd(1);switch(c.type){case"base64":u=Ci(Fi(l));break;case"binary":u=Ci(l);break;case"buffer":case"array":u=l;break}un(u,0);var h=u.read_shift(1),m=!!(h&136),p=!1,b=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var x=0,y=521;h==2&&(x=u.read_shift(2)),u.l+=3,h!=2&&(x=u.read_shift(4)),x>1048576&&(x=1e6),h!=2&&(y=u.read_shift(2));var w=u.read_shift(2),k=c.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(k=r[u[u.l]]),u.l+=1,u.l+=2),b&&(u.l+=36);for(var N=[],T={},E=Math.min(u.length,h==2?521:y-10-(p?264:0)),I=b?32:11;u.l<E&&u[u.l]!=13;)switch(T={},T.name=xx.utils.decode(k,u.slice(u.l,u.l+I)).replace(/[\u0000\r\n].*$/g,""),u.l+=I,T.type=String.fromCharCode(u.read_shift(1)),h!=2&&!b&&(T.offset=u.read_shift(4)),T.len=u.read_shift(1),h==2&&(T.offset=u.read_shift(2)),T.dec=u.read_shift(1),T.name.length&&N.push(T),h!=2&&(u.l+=b?13:14),T.type){case"B":(!p||T.len!=8)&&c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var S=0,A=0;for(d[0]=[],A=0;A!=N.length;++A)d[0][A]=N[A].name;for(;x-- >0;){if(u[u.l]===42){u.l+=w;continue}for(++u.l,d[++S]=[],A=0,A=0;A!=N.length;++A){var P=u.slice(u.l,u.l+N[A].len);u.l+=N[A].len,un(P,0);var O=xx.utils.decode(k,P);switch(N[A].type){case"C":O.trim().length&&(d[S][A]=O.replace(/\s+$/,""));break;case"D":O.length===8?d[S][A]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):d[S][A]=O;break;case"F":d[S][A]=parseFloat(O.trim());break;case"+":case"I":d[S][A]=b?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":d[S][A]=!0;break;case"N":case"F":d[S][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[S][A]="##MEMO##"+(b?parseInt(O.trim(),10):P.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(d[S][A]=+O||0);break;case"@":d[S][A]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":d[S][A]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":d[S][A]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[S][A]=-P.read_shift(-8,"f");break;case"B":if(p&&N[A].len==8){d[S][A]=P.read_shift(8,"f");break}case"G":case"P":P.l+=N[A].len;break;case"0":if(N[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+N[A].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=N,d}function s(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=k0(t(l,d),d);return u["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,u}function a(l,c){try{return au(s(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var n={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&Do(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=hi(),h=o2(l,{header:1,raw:!0,cellDates:!0}),m=h[0],p=h.slice(1),b=l["!cols"]||[],x=0,y=0,w=0,k=1;for(x=0;x<m.length;++x){if(((b[x]||{}).DBF||{}).name){m[x]=b[x].DBF.name,++w;continue}if(m[x]!=null){if(++w,typeof m[x]=="number"&&(m[x]=m[x].toString(10)),typeof m[x]!="string")throw new Error("DBF Invalid column name "+m[x]+" |"+typeof m[x]+"|");if(m.indexOf(m[x])!==x){for(y=0;y<1024;++y)if(m.indexOf(m[x]+"_"+y)==-1){m[x]+="_"+y;break}}}}var N=rs(l["!ref"]),T=[],E=[],I=[];for(x=0;x<=N.e.c-N.s.c;++x){var S="",A="",P=0,O=[];for(y=0;y<p.length;++y)p[y][x]!=null&&O.push(p[y][x]);if(O.length==0||m[x]==null){T[x]="?";continue}for(y=0;y<O.length;++y){switch(typeof O[y]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=O[y]instanceof Date?"D":"C";break;default:A="C"}P=Math.max(P,String(O[y]).length),S=S&&S!=A?"C":A}P>250&&(P=250),A=((b[x]||{}).DBF||{}).type,A=="C"&&b[x].DBF.len>P&&(P=b[x].DBF.len),S=="B"&&A=="N"&&(S="N",I[x]=b[x].DBF.dec,P=b[x].DBF.len),E[x]=S=="C"||A=="N"?P:n[S]||0,k+=E[x],T[x]=S}var M=u.next(32);for(M.write_shift(4,318902576),M.write_shift(4,p.length),M.write_shift(2,296+32*w),M.write_shift(2,k),x=0;x<4;++x)M.write_shift(4,0);for(M.write_shift(4,0|(+e[g$]||3)<<8),x=0,y=0;x<m.length;++x)if(m[x]!=null){var L=u.next(32),B=(m[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,B,"sbcs"),L.write_shift(1,T[x]=="?"?"C":T[x],"sbcs"),L.write_shift(4,y),L.write_shift(1,E[x]||n[T[x]]||0),L.write_shift(1,I[x]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),y+=E[x]||n[T[x]]||0}var G=u.next(264);for(G.write_shift(4,13),x=0;x<65;++x)G.write_shift(4,0);for(x=0;x<p.length;++x){var X=u.next(k);for(X.write_shift(1,0),y=0;y<m.length;++y)if(m[y]!=null)switch(T[y]){case"L":X.write_shift(1,p[x][y]==null?63:p[x][y]?84:70);break;case"B":X.write_shift(8,p[x][y]||0,"f");break;case"N":var H="0";for(typeof p[x][y]=="number"&&(H=p[x][y].toFixed(I[y]||0)),w=0;w<E[y]-H.length;++w)X.write_shift(1,32);X.write_shift(1,H,"sbcs");break;case"D":p[x][y]?(X.write_shift(4,("0000"+p[x][y].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(p[x][y].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+p[x][y].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var W=String(p[x][y]!=null?p[x][y]:"").slice(0,E[y]);for(X.write_shift(1,W,"sbcs"),w=0;w<E[y]-W.length;++w)X.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:s,from_sheet:o}})(),EW=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+la(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(m,p){var b=r[p];return typeof b=="number"?sL(b):b},s=function(m,p,b){var x=p.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return x==59?m:sL(x)};r["|"]=254;function a(m,p){switch(p.type){case"base64":return n(Fi(m),p);case"binary":return n(m,p);case"buffer":return n(Nr&&Buffer.isBuffer(m)?m.toString("binary"):su(m),p);case"array":return n(Dh(m),p)}throw new Error("Unrecognized type "+p.type)}function n(m,p){var b=m.split(/[\n\r]+/),x=-1,y=-1,w=0,k=0,N=[],T=[],E=null,I={},S=[],A=[],P=[],O=0,M;for(+p.codepage>=0&&Do(+p.codepage);w!==b.length;++w){O=0;var L=b[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(e,t),B=L.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),G=B[0],X;if(L.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&T.push(L.slice(3).replace(/;;/g,";"));break;case"C":var H=!1,W=!1,ne=!1,U=!1,z=-1,Q=-1;for(k=1;k<B.length;++k)switch(B[k].charAt(0)){case"A":break;case"X":y=parseInt(B[k].slice(1))-1,W=!0;break;case"Y":for(x=parseInt(B[k].slice(1))-1,W||(y=0),M=N.length;M<=x;++M)N[M]=[];break;case"K":X=B[k].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(Bo(X))?isNaN(qm(X).getDate())||(X=Us(X)):(X=Bo(X),E!==null&&v0(E)&&(X=uk(X))),H=!0;break;case"E":U=!0;var q=jm(B[k].slice(1),{r:x,c:y});N[x][y]=[N[x][y],q];break;case"S":ne=!0,N[x][y]=[N[x][y],"S5S"];break;case"G":break;case"R":z=parseInt(B[k].slice(1))-1;break;case"C":Q=parseInt(B[k].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+L)}if(H&&(N[x][y]&&N[x][y].length==2?N[x][y][0]=X:N[x][y]=X,E=null),ne){if(U)throw new Error("SYLK shared formula cannot have own formula");var Z=z>-1&&N[z][Q];if(!Z||!Z[1])throw new Error("SYLK shared formula cannot find base");N[x][y][1]=WW(Z[1],{r:x-z,c:y-Q})}break;case"F":var J=0;for(k=1;k<B.length;++k)switch(B[k].charAt(0)){case"X":y=parseInt(B[k].slice(1))-1,++J;break;case"Y":for(x=parseInt(B[k].slice(1))-1,M=N.length;M<=x;++M)N[M]=[];break;case"M":O=parseInt(B[k].slice(1))/20;break;case"F":break;case"G":break;case"P":E=T[parseInt(B[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=B[k].slice(1).split(" "),M=parseInt(P[0],10);M<=parseInt(P[1],10);++M)O=parseInt(P[2],10),A[M-1]=O===0?{hidden:!0}:{wch:O},Yd(A[M-1]);break;case"C":y=parseInt(B[k].slice(1))-1,A[y]||(A[y]={});break;case"R":x=parseInt(B[k].slice(1))-1,S[x]||(S[x]={}),O>0?(S[x].hpt=O,S[x].hpx=Ym(O)):O===0&&(S[x].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+L)}J<1&&(E=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+L)}}return S.length>0&&(I["!rows"]=S),A.length>0&&(I["!cols"]=A),p&&p.sheetRows&&(N=N.slice(0,p.sheetRows)),[N,I]}function o(m,p){var b=a(m,p),x=b[0],y=b[1],w=k0(x,p);return la(y).forEach(function(k){w[k]=y[k]}),w}function l(m,p){return au(o(m,p),p)}function c(m,p,b,x){var y="C;Y"+(b+1)+";X"+(x+1)+";K";switch(m.t){case"n":y+=m.v||0,m.f&&!m.F&&(y+=";E"+C4(m.f,{r:b,c:x}));break;case"b":y+=m.v?"TRUE":"FALSE";break;case"e":y+=m.w||m.v;break;case"d":y+='"'+(m.w||m.v)+'"';break;case"s":y+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function d(m,p){p.forEach(function(b,x){var y="F;W"+(x+1)+" "+(x+1)+" ";b.hidden?y+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=Sx(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=jx(b.wpx)),typeof b.wch=="number"&&(y+=Math.round(b.wch))),y.charAt(y.length-1)!=" "&&m.push(y)})}function u(m,p){p.forEach(function(b,x){var y="F;";b.hidden?y+="M0;":b.hpt?y+="M"+20*b.hpt+";":b.hpx&&(y+="M"+20*Ex(b.hpx)+";"),y.length>2&&m.push(y+"R"+(x+1))})}function h(m,p){var b=["ID;PWXL;N;E"],x=[],y=rs(m["!ref"]),w,k=Array.isArray(m),N=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),m["!cols"]&&d(b,m["!cols"]),m["!rows"]&&u(b,m["!rows"]),b.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var T=y.s.r;T<=y.e.r;++T)for(var E=y.s.c;E<=y.e.c;++E){var I=tr({r:T,c:E});w=k?(m[T]||[])[E]:m[I],!(!w||w.v==null&&(!w.f||w.F))&&x.push(c(w,m,T,E))}return b.join(N)+N+x.join(N)+N+"E"+N}return{to_workbook:l,to_sheet:o,from_sheet:h}})(),AW=(function(){function r(n,o){switch(o.type){case"base64":return e(Fi(n),o);case"binary":return e(n,o);case"buffer":return e(Nr&&Buffer.isBuffer(n)?n.toString("binary"):su(n),o);case"array":return e(Dh(n),o)}throw new Error("Unrecognized type "+o.type)}function e(n,o){for(var l=n.split(`
`),c=-1,d=-1,u=0,h=[];u!==l.length;++u){if(l[u].trim()==="BOT"){h[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),p=m[0],b=m[1];++u;for(var x=l[u]||"";(x.match(/["]/g)||[]).length&1&&u<l.length-1;)x+=`
`+l[++u];switch(x=x.trim(),+p){case-1:if(x==="BOT"){h[++c]=[],d=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?h[c][d]=!0:x==="FALSE"?h[c][d]=!1:isNaN(Bo(b))?isNaN(qm(b).getDate())?h[c][d]=b:h[c][d]=Us(b):h[c][d]=Bo(b),++d;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),h[c][d++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function t(n,o){return k0(r(n,o),o)}function s(n,o){return au(t(n,o),o)}var a=(function(){var n=function(c,d,u,h,m){c.push(d),c.push(u+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,h){c.push(d+","+u),c.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var d=[],u=rs(c["!ref"]),h,m=Array.isArray(c);n(d,"TABLE",0,1,"sheetjs"),n(d,"VECTORS",0,u.e.r-u.s.r+1,""),n(d,"TUPLES",0,u.e.c-u.s.c+1,""),n(d,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){o(d,-1,0,"BOT");for(var b=u.s.c;b<=u.e.c;++b){var x=tr({r:p,c:b});if(h=m?(c[p]||[])[b]:c[x],!h){o(d,1,0,"");continue}switch(h.t){case"n":var y=h.w;!y&&h.v!=null&&(y=h.v),y==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,y,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=bo(h.z||Jt[14],Ha(Us(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var w=`\r
`,k=d.join(w);return k}})();return{to_workbook:s,to_sheet:t,from_sheet:a}})(),TW=(function(){function r(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(h,m){for(var p=h.split(`
`),b=-1,x=-1,y=0,w=[];y!==p.length;++y){var k=p[y].trim().split(":");if(k[0]==="cell"){var N=Xs(k[1]);if(w.length<=N.r)for(b=w.length;b<=N.r;++b)w[b]||(w[b]=[]);switch(b=N.r,x=N.c,k[2]){case"t":w[b][x]=r(k[3]);break;case"v":w[b][x]=+k[3];break;case"vtf":var T=k[k.length-1];case"vtc":switch(k[3]){case"nl":w[b][x]=!!+k[4];break;default:w[b][x]=+k[4];break}k[2]=="vtf"&&(w[b][x]=[w[b][x],T])}}}return m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),w}function s(h,m){return k0(t(h,m),m)}function a(h,m){return au(s(h,m),m)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var m=[],p=[],b,x="",y=mi(h["!ref"]),w=Array.isArray(h),k=y.s.r;k<=y.e.r;++k)for(var N=y.s.c;N<=y.e.c;++N)if(x=tr({r:k,c:N}),b=w?(h[k]||[])[N]:h[x],!(!b||b.v==null||b.t==="z")){switch(p=["cell",x,"t"],b.t){case"s":case"str":p.push(e(b.v));break;case"n":b.f?(p[2]="vtf",p[3]="n",p[4]=b.v,p[5]=e(b.f)):(p[2]="v",p[3]=b.v);break;case"b":p[2]="vt"+(b.f?"f":"c"),p[3]="nl",p[4]=b.v?"1":"0",p[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var T=Ha(Us(b.v));p[2]="vtc",p[3]="nd",p[4]=""+T,p[5]=b.w||bo(b.z||Jt[14],T);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(h){return[n,o,l,o,d(h),c].join(`
`)}return{to_workbook:a,to_sheet:s,from_sheet:u}})(),Gm=(function(){function r(u,h,m,p,b){b.raw?h[m][p]=u:u===""||(u==="TRUE"?h[m][p]=!0:u==="FALSE"?h[m][p]=!1:isNaN(Bo(u))?isNaN(qm(u).getDate())?h[m][p]=u:h[m][p]=Us(u):h[m][p]=Bo(u))}function e(u,h){var m=h||{},p=[];if(!u||u.length===0)return p;for(var b=u.split(/[\r\n]/),x=b.length-1;x>=0&&b[x].length===0;)--x;for(var y=10,w=0,k=0;k<=x;++k)w=b[k].indexOf(" "),w==-1?w=b[k].length:w++,y=Math.max(y,w);for(k=0;k<=x;++k){p[k]=[];var N=0;for(r(b[k].slice(0,y).trim(),p,k,N,m),N=1;N<=(b[k].length-y)/10+1;++N)r(b[k].slice(y+(N-1)*10,y+N*10).trim(),p,k,N,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var t={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function a(u){for(var h={},m=!1,p=0,b=0;p<u.length;++p)(b=u.charCodeAt(p))==34?m=!m:!m&&b in t&&(h[b]=(h[b]||0)+1);b=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&b.push([h[p],p]);if(!b.length){h=s;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&b.push([h[p],p])}return b.sort(function(x,y){return x[0]-y[0]||s[x[1]]-s[y[1]]}),t[b.pop()[1]]||44}function n(u,h){var m=h||{},p="",b=m.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):m&&m.FS?p=m.FS:p=a(u.slice(0,1024));var y=0,w=0,k=0,N=0,T=0,E=p.charCodeAt(0),I=!1,S=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var P=m.dateNF!=null?d2e(m.dateNF):null;function O(){var M=u.slice(N,T),L={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)L.t="z";else if(m.raw)L.t="s",L.v=M;else if(M.trim().length===0)L.t="s",L.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(L.t="s",L.v=M.slice(2,-1).replace(/""/g,'"')):Bje(M)?(L.t="n",L.f=M.slice(1)):(L.t="s",L.v=M);else if(M=="TRUE")L.t="b",L.v=!0;else if(M=="FALSE")L.t="b",L.v=!1;else if(!isNaN(k=Bo(M)))L.t="n",m.cellText!==!1&&(L.w=M),L.v=k;else if(!isNaN(qm(M).getDate())||P&&M.match(P)){L.z=m.dateNF||Jt[14];var B=0;P&&M.match(P)&&(M=u2e(M,m.dateNF,M.match(P)||[]),B=1),m.cellDates?(L.t="d",L.v=Us(M,B)):(L.t="n",L.v=Ha(Us(M,B))),m.cellText!==!1&&(L.w=bo(L.z,L.v instanceof Date?Ha(L.v):L.v)),m.cellNF||delete L.z}else L.t="s",L.v=M;if(L.t=="z"||(m.dense?(b[y]||(b[y]=[]),b[y][w]=L):b[tr({c:w,r:y})]=L),N=T+1,A=u.charCodeAt(N),x.e.c<w&&(x.e.c=w),x.e.r<y&&(x.e.r=y),S==E)++w;else if(w=0,++y,m.sheetRows&&m.sheetRows<=y)return!0}e:for(;T<u.length;++T)switch(S=u.charCodeAt(T)){case 34:A===34&&(I=!I);break;case E:case 10:case 13:if(!I&&O())break e;break}return T-N>0&&O(),b["!ref"]=hr(x),b}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?n(u,h):k0(e(u,h),h)}function l(u,h){var m="",p=h.type=="string"?[0,0,0,0]:L4(u,h);switch(h.type){case"base64":m=Fi(u);break;case"binary":m=u;break;case"buffer":h.codepage==65001?m=u.toString("utf8"):h.codepage&&typeof xx<"u"||(m=Nr&&Buffer.isBuffer(u)?u.toString("binary"):su(u));break;case"array":m=Dh(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=As(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=As(m):h.type=="binary"&&typeof xx<"u",m.slice(0,19)=="socialcalc:version:"?TW.to_sheet(h.type=="string"?m:As(m),h):o(m,h)}function c(u,h){return au(l(u,h),h)}function d(u){for(var h=[],m=rs(u["!ref"]),p,b=Array.isArray(u),x=m.s.r;x<=m.e.r;++x){for(var y=[],w=m.s.c;w<=m.e.c;++w){var k=tr({r:x,c:w});if(p=b?(u[x]||[])[w]:u[k],!p||p.v==null){y.push("          ");continue}for(var N=(p.w||(Cc(p),p.w)||"").slice(0,10);N.length<10;)N+=" ";y.push(N+(w===0?" ":""))}h.push(y.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}})();function SNe(r,e){var t=e||{},s=!!t.WTF;t.WTF=!0;try{var a=EW.to_workbook(r,t);return t.WTF=s,a}catch(n){if(t.WTF=s,!n.message.match(/SYLK bad record ID/)&&s)throw n;return Gm.to_workbook(r,e)}}var ph=(function(){function r(q,Z,J){if(q){un(q,q.l||0);for(var re=J.Enum||z;q.l<q.length;){var de=q.read_shift(2),Se=re[de]||re[65535],je=q.read_shift(2),Ne=q.l+je,xe=Se.f&&Se.f(q,je,J);if(q.l=Ne,Z(xe,Se,de))return}}}function e(q,Z){switch(Z.type){case"base64":return t(Ci(Fi(q)),Z);case"binary":return t(Ci(q),Z);case"buffer":case"array":return t(q,Z)}throw"Unsupported type "+Z.type}function t(q,Z){if(!q)return q;var J=Z||{},re=J.dense?[]:{},de="Sheet1",Se="",je=0,Ne={},xe=[],ze=[],se={s:{r:0,c:0},e:{r:0,c:0}},fe=J.sheetRows||0;if(q[2]==0&&(q[3]==8||q[3]==9)&&q.length>=16&&q[14]==5&&q[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(q[2]==2)J.Enum=z,r(q,function(Ue,gt,st){switch(st){case 0:J.vers=Ue,Ue>=4096&&(J.qpro=!0);break;case 6:se=Ue;break;case 204:Ue&&(Se=Ue);break;case 222:Se=Ue;break;case 15:case 51:J.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:st==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=J.dateNF||Jt[14],J.cellDates&&(Ue[1].t="d",Ue[1].v=uk(Ue[1].v))),J.qpro&&Ue[3]>je&&(re["!ref"]=hr(se),Ne[de]=re,xe.push(de),re=J.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},je=Ue[3],de=Se||"Sheet"+(je+1),Se="");var bt=J.dense?(re[Ue[0].r]||[])[Ue[0].c]:re[tr(Ue[0])];if(bt){bt.t=Ue[1].t,bt.v=Ue[1].v,Ue[1].z!=null&&(bt.z=Ue[1].z),Ue[1].f!=null&&(bt.f=Ue[1].f);break}J.dense?(re[Ue[0].r]||(re[Ue[0].r]=[]),re[Ue[0].r][Ue[0].c]=Ue[1]):re[tr(Ue[0])]=Ue[1];break}},J);else if(q[2]==26||q[2]==14)J.Enum=Q,q[2]==14&&(J.qpro=!0,q.l=0),r(q,function(Ue,gt,st){switch(st){case 204:de=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>je&&(re["!ref"]=hr(se),Ne[de]=re,xe.push(de),re=J.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},je=Ue[3],de="Sheet"+(je+1)),fe>0&&Ue[0].r>=fe)break;J.dense?(re[Ue[0].r]||(re[Ue[0].r]=[]),re[Ue[0].r][Ue[0].c]=Ue[1]):re[tr(Ue[0])]=Ue[1],se.e.c<Ue[0].c&&(se.e.c=Ue[0].c),se.e.r<Ue[0].r&&(se.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(ze[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:ze[Ue[0]]=Ue[1],Ue[0]==je&&(de=Ue[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+q[2]);if(re["!ref"]=hr(se),Ne[Se||de]=re,xe.push(Se||de),!ze.length)return{SheetNames:xe,Sheets:Ne};for(var Te={},Ce=[],Be=0;Be<ze.length;++Be)Ne[xe[Be]]?(Ce.push(ze[Be]||xe[Be]),Te[ze[Be]]=Ne[ze[Be]]||Ne[xe[Be]]):(Ce.push(ze[Be]),Te[ze[Be]]={"!ref":"A1"});return{SheetNames:Ce,Sheets:Te}}function s(q,Z){var J=Z||{};if(+J.codepage>=0&&Do(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var re=hi(),de=rs(q["!ref"]),Se=Array.isArray(q),je=[];jt(re,0,n(1030)),jt(re,6,c(de));for(var Ne=Math.min(de.e.r,8191),xe=de.s.r;xe<=Ne;++xe)for(var ze=pa(xe),se=de.s.c;se<=de.e.c;++se){xe===de.s.r&&(je[se]=Ys(se));var fe=je[se]+ze,Te=Se?(q[xe]||[])[se]:q[fe];if(!(!Te||Te.t=="z"))if(Te.t=="n")(Te.v|0)==Te.v&&Te.v>=-32768&&Te.v<=32767?jt(re,13,p(xe,se,Te.v)):jt(re,14,x(xe,se,Te.v));else{var Ce=Cc(Te);jt(re,15,h(xe,se,Ce.slice(0,239)))}}return jt(re,1),re.end()}function a(q,Z){var J=Z||{};if(+J.codepage>=0&&Do(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var re=hi();jt(re,0,o(q));for(var de=0,Se=0;de<q.SheetNames.length;++de)(q.Sheets[q.SheetNames[de]]||{})["!ref"]&&jt(re,27,U(q.SheetNames[de],Se++));var je=0;for(de=0;de<q.SheetNames.length;++de){var Ne=q.Sheets[q.SheetNames[de]];if(!(!Ne||!Ne["!ref"])){for(var xe=rs(Ne["!ref"]),ze=Array.isArray(Ne),se=[],fe=Math.min(xe.e.r,8191),Te=xe.s.r;Te<=fe;++Te)for(var Ce=pa(Te),Be=xe.s.c;Be<=xe.e.c;++Be){Te===xe.s.r&&(se[Be]=Ys(Be));var Ue=se[Be]+Ce,gt=ze?(Ne[Te]||[])[Be]:Ne[Ue];if(!(!gt||gt.t=="z"))if(gt.t=="n")jt(re,23,O(Te,Be,je,gt.v));else{var st=Cc(gt);jt(re,22,S(Te,Be,je,st.slice(0,239)))}}++je}}return jt(re,1),re.end()}function n(q){var Z=et(2);return Z.write_shift(2,q),Z}function o(q){var Z=et(26);Z.write_shift(2,4096),Z.write_shift(2,4),Z.write_shift(4,0);for(var J=0,re=0,de=0,Se=0;Se<q.SheetNames.length;++Se){var je=q.SheetNames[Se],Ne=q.Sheets[je];if(!(!Ne||!Ne["!ref"])){++de;var xe=mi(Ne["!ref"]);J<xe.e.r&&(J=xe.e.r),re<xe.e.c&&(re=xe.e.c)}}return J>8191&&(J=8191),Z.write_shift(2,J),Z.write_shift(1,de),Z.write_shift(1,re),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(1,1),Z.write_shift(1,2),Z.write_shift(4,0),Z.write_shift(4,0),Z}function l(q,Z,J){var re={s:{c:0,r:0},e:{c:0,r:0}};return Z==8&&J.qpro?(re.s.c=q.read_shift(1),q.l++,re.s.r=q.read_shift(2),re.e.c=q.read_shift(1),q.l++,re.e.r=q.read_shift(2),re):(re.s.c=q.read_shift(2),re.s.r=q.read_shift(2),Z==12&&J.qpro&&(q.l+=2),re.e.c=q.read_shift(2),re.e.r=q.read_shift(2),Z==12&&J.qpro&&(q.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function c(q){var Z=et(8);return Z.write_shift(2,q.s.c),Z.write_shift(2,q.s.r),Z.write_shift(2,q.e.c),Z.write_shift(2,q.e.r),Z}function d(q,Z,J){var re=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(re[0].c=q.read_shift(1),re[3]=q.read_shift(1),re[0].r=q.read_shift(2),q.l+=2):(re[2]=q.read_shift(1),re[0].c=q.read_shift(2),re[0].r=q.read_shift(2)),re}function u(q,Z,J){var re=q.l+Z,de=d(q,Z,J);if(de[1].t="s",J.vers==20768){q.l++;var Se=q.read_shift(1);return de[1].v=q.read_shift(Se,"utf8"),de}return J.qpro&&q.l++,de[1].v=q.read_shift(re-q.l,"cstr"),de}function h(q,Z,J){var re=et(7+J.length);re.write_shift(1,255),re.write_shift(2,Z),re.write_shift(2,q),re.write_shift(1,39);for(var de=0;de<re.length;++de){var Se=J.charCodeAt(de);re.write_shift(1,Se>=128?95:Se)}return re.write_shift(1,0),re}function m(q,Z,J){var re=d(q,Z,J);return re[1].v=q.read_shift(2,"i"),re}function p(q,Z,J){var re=et(7);return re.write_shift(1,255),re.write_shift(2,Z),re.write_shift(2,q),re.write_shift(2,J,"i"),re}function b(q,Z,J){var re=d(q,Z,J);return re[1].v=q.read_shift(8,"f"),re}function x(q,Z,J){var re=et(13);return re.write_shift(1,255),re.write_shift(2,Z),re.write_shift(2,q),re.write_shift(8,J,"f"),re}function y(q,Z,J){var re=q.l+Z,de=d(q,Z,J);if(de[1].v=q.read_shift(8,"f"),J.qpro)q.l=re;else{var Se=q.read_shift(2);T(q.slice(q.l,q.l+Se),de),q.l+=Se}return de}function w(q,Z,J){var re=Z&32768;return Z&=-32769,Z=(re?q:0)+(Z>=8192?Z-16384:Z),(re?"":"$")+(J?Ys(Z):pa(Z))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},N=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(q,Z){un(q,0);for(var J=[],re=0,de="",Se="",je="",Ne="";q.l<q.length;){var xe=q[q.l++];switch(xe){case 0:J.push(q.read_shift(8,"f"));break;case 1:Se=w(Z[0].c,q.read_shift(2),!0),de=w(Z[0].r,q.read_shift(2),!1),J.push(Se+de);break;case 2:{var ze=w(Z[0].c,q.read_shift(2),!0),se=w(Z[0].r,q.read_shift(2),!1);Se=w(Z[0].c,q.read_shift(2),!0),de=w(Z[0].r,q.read_shift(2),!1),J.push(ze+se+":"+Se+de)}break;case 3:if(q.l<q.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(q.read_shift(2));break;case 6:{for(var fe="";xe=q[q.l++];)fe+=String.fromCharCode(xe);J.push('"'+fe.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:Ne=J.pop(),je=J.pop(),J.push(["AND","OR"][xe-20]+"("+je+","+Ne+")");break;default:if(xe<32&&N[xe])Ne=J.pop(),je=J.pop(),J.push(je+N[xe]+Ne);else if(k[xe]){if(re=k[xe][1],re==69&&(re=q[q.l++]),re>J.length){console.error("WK1 bad formula parse 0x"+xe.toString(16)+":|"+J.join("|")+"|");return}var Te=J.slice(-re);J.length-=re,J.push(k[xe][0]+"("+Te.join(",")+")")}else return xe<=7?console.error("WK1 invalid opcode "+xe.toString(16)):xe<=24?console.error("WK1 unsupported op "+xe.toString(16)):xe<=30?console.error("WK1 invalid opcode "+xe.toString(16)):xe<=115?console.error("WK1 unsupported function opcode "+xe.toString(16)):console.error("WK1 unrecognized opcode "+xe.toString(16))}}J.length==1?Z[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function E(q){var Z=[{c:0,r:0},{t:"n",v:0},0];return Z[0].r=q.read_shift(2),Z[3]=q[q.l++],Z[0].c=q[q.l++],Z}function I(q,Z){var J=E(q);return J[1].t="s",J[1].v=q.read_shift(Z-4,"cstr"),J}function S(q,Z,J,re){var de=et(6+re.length);de.write_shift(2,q),de.write_shift(1,J),de.write_shift(1,Z),de.write_shift(1,39);for(var Se=0;Se<re.length;++Se){var je=re.charCodeAt(Se);de.write_shift(1,je>=128?95:je)}return de.write_shift(1,0),de}function A(q,Z){var J=E(q);J[1].v=q.read_shift(2);var re=J[1].v>>1;if(J[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return J[1].v=re,J}function P(q,Z){var J=E(q),re=q.read_shift(4),de=q.read_shift(4),Se=q.read_shift(2);if(Se==65535)return re===0&&de===3221225472?(J[1].t="e",J[1].v=15):re===0&&de===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var je=Se&32768;return Se=(Se&32767)-16446,J[1].v=(1-je*2)*(de*Math.pow(2,Se+32)+re*Math.pow(2,Se)),J}function O(q,Z,J,re){var de=et(14);if(de.write_shift(2,q),de.write_shift(1,J),de.write_shift(1,Z),re==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var Se=0,je=0,Ne=0,xe=0;return re<0&&(Se=1,re=-re),je=Math.log2(re)|0,re/=Math.pow(2,je-31),xe=re>>>0,(xe&2147483648)==0&&(re/=2,++je,xe=re>>>0),re-=xe,xe|=2147483648,xe>>>=0,re*=Math.pow(2,32),Ne=re>>>0,de.write_shift(4,Ne),de.write_shift(4,xe),je+=16383+(Se?32768:0),de.write_shift(2,je),de}function M(q,Z){var J=P(q);return q.l+=Z-14,J}function L(q,Z){var J=E(q),re=q.read_shift(4);return J[1].v=re>>6,J}function B(q,Z){var J=E(q),re=q.read_shift(8,"f");return J[1].v=re,J}function G(q,Z){var J=B(q);return q.l+=Z-10,J}function X(q,Z){return q[q.l+Z-1]==0?q.read_shift(Z,"cstr"):""}function H(q,Z){var J=q[q.l++];J>Z-1&&(J=Z-1);for(var re="";re.length<J;)re+=String.fromCharCode(q[q.l++]);return re}function W(q,Z,J){if(!(!J.qpro||Z<21)){var re=q.read_shift(1);q.l+=17,q.l+=1,q.l+=2;var de=q.read_shift(Z-21,"cstr");return[re,de]}}function ne(q,Z){for(var J={},re=q.l+Z;q.l<re;){var de=q.read_shift(2);if(de==14e3){for(J[de]=[0,""],J[de][0]=q.read_shift(2);q[q.l];)J[de][1]+=String.fromCharCode(q[q.l]),q.l++;q.l++}}return J}function U(q,Z){var J=et(5+q.length);J.write_shift(2,14e3),J.write_shift(2,Z);for(var re=0;re<q.length;++re){var de=q.charCodeAt(re);J[J.l++]=de>127?95:de}return J[J.l++]=0,J}var z={0:{n:"BOF",f:ja},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:H},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:a,to_workbook:e}})();function jNe(r){var e={},t=r.match(Dn),s=0,a=!1;if(t)for(;s!=t.length;++s){var n=ar(t[s]);switch(n[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!n.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(n.val=="1")break;e.cp=t4[parseInt(n.val,10)];break;case"<outline":if(!n.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=n.val;break;case"<sz":e.sz=n.val;break;case"<strike":if(!n.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!n.val)break;switch(n.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(n.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(n.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":n.rgb&&(e.color=n.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=n.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=n.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+n[0])}}return e}var ENe=(function(){var r=vx("t"),e=vx("rPr");function t(n){var o=n.match(r);if(!o)return{t:"s",v:""};var l={t:"s",v:ts(o[1])},c=n.match(e);return c&&(l.s=jNe(c[1])),l}var s=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(s,"").split(a).map(t).filter(function(l){return l.v})}})(),ANe=(function(){var e=/(\r\n|\n)/g;function t(a,n,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),n.push('<span style="'+l.join("")+'">'),a.b&&(n.push("<b>"),o.push("</b>")),a.i&&(n.push("<i>"),o.push("</i>")),a.strike&&(n.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(n.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function s(a){var n=[[],a.v,[]];return a.v?(a.s&&t(a.s,n[0],n[2]),n[0].join("")+n[1].replace(e,"<br/>")+n[2].join("")):""}return function(n){return n.map(s).join("")}})(),TNe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,CNe=/<(?:\w+:)?r>/,PNe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function S4(r,e){var t=e?e.cellHTML:!0,s={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(s.t=ts(As(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),s.r=As(r),t&&(s.h=u4(s.t))):r.match(CNe)&&(s.r=As(r),s.t=ts(As((r.replace(PNe,"").match(TNe)||[]).join("").replace(Dn,""))),t&&(s.h=ANe(ENe(s.r)))),s):{t:""}}var RNe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,INe=/<(?:\w+:)?(?:si|sstItem)>/g,DNe=/<\/(?:\w+:)?(?:si|sstItem)>/;function ONe(r,e){var t=[],s="";if(!r)return t;var a=r.match(RNe);if(a){s=a[2].replace(INe,"").split(DNe);for(var n=0;n!=s.length;++n){var o=S4(s[n].trim(),e);o!=null&&(t[t.length]=o)}a=ar(a[1]),t.Count=a.count,t.Unique=a.uniqueCount}return t}var MNe=/^\s|\s$|[\t\n\r]/;function CW(r,e){if(!e.bookSST)return"";var t=[ya];t[t.length]=Nt("sst",null,{xmlns:Yh[0],count:r.Count,uniqueCount:r.Unique});for(var s=0;s!=r.length;++s)if(r[s]!=null){var a=r[s],n="<si>";a.r?n+=a.r:(n+="<t",a.t||(a.t=""),a.t.match(MNe)&&(n+=' xml:space="preserve"'),n+=">"+vs(a.t)+"</t>"),n+="</si>",t[t.length]=n}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function FNe(r){return[r.read_shift(4),r.read_shift(4)]}function LNe(r,e){var t=[],s=!1;return Fc(r,function(n,o,l){switch(l){case 159:t.Count=n[0],t.Unique=n[1];break;case 19:t.push(n);break;case 160:return!0;case 35:s=!0;break;case 36:s=!1;break;default:if(o.T,!s||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),t}function BNe(r,e){return e||(e=et(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var UNe=K2e;function zNe(r){var e=hi();ht(e,159,BNe(r));for(var t=0;t<r.length;++t)ht(e,19,UNe(r[t]));return ht(e,160),e.end()}function PW(r){for(var e=[],t=r.split(""),s=0;s<t.length;++s)e[s]=t[s].charCodeAt(0);return e}function vc(r,e){var t={};return t.Major=r.read_shift(2),t.Minor=r.read_shift(2),e>=4&&(r.l+=e-4),t}function VNe(r){var e={};return e.id=r.read_shift(0,"lpp4"),e.R=vc(r,4),e.U=vc(r,4),e.W=vc(r,4),e}function HNe(r){for(var e=r.read_shift(4),t=r.l+e-4,s={},a=r.read_shift(4),n=[];a-- >0;)n.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(s.name=r.read_shift(0,"lpp4"),s.comps=n,r.l!=t)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+t);return s}function $Ne(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(HNe(r));return e}function WNe(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(r.read_shift(0,"lpp4"));return e}function qNe(r){var e={};return r.read_shift(4),r.l+=4,e.id=r.read_shift(0,"lpp4"),e.name=r.read_shift(0,"lpp4"),e.R=vc(r,4),e.U=vc(r,4),e.W=vc(r,4),e}function GNe(r){var e=qNe(r);if(e.ename=r.read_shift(0,"8lpp4"),e.blksz=r.read_shift(4),e.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function RW(r,e){var t=r.l+e,s={};s.Flags=r.read_shift(4)&63,r.l+=4,s.AlgID=r.read_shift(4);var a=!1;switch(s.AlgID){case 26126:case 26127:case 26128:a=s.Flags==36;break;case 26625:a=s.Flags==4;break;case 0:a=s.Flags==16||s.Flags==4||s.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+s.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return s.AlgIDHash=r.read_shift(4),s.KeySize=r.read_shift(4),s.ProviderType=r.read_shift(4),r.l+=8,s.CSPName=r.read_shift(t-r.l>>1,"utf16le"),r.l=t,s}function IW(r,e){var t={},s=r.l+e;return r.l+=4,t.Salt=r.slice(r.l,r.l+16),r.l+=16,t.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),t.VerifierHash=r.slice(r.l,s),r.l=s,t}function YNe(r){var e=vc(r);switch(e.Minor){case 2:return[e.Minor,XNe(r)];case 3:return[e.Minor,KNe()];case 4:return[e.Minor,ZNe(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function XNe(r){var e=r.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=r.read_shift(4),s=RW(r,t),a=IW(r,r.length-r.l);return{t:"Std",h:s,v:a}}function KNe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function ZNe(r){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var t=r.read_shift(r.length-r.l,"utf8"),s={};return t.replace(Dn,function(n){var o=ar(n);switch(Dl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){s[l]=o[l]});break;case"<dataIntegrity":s.encryptedHmacKey=o.encryptedHmacKey,s.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":s.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":s.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":s.encs.push(o);break;default:throw o[0]}}),s}function QNe(r,e){var t={},s=t.EncryptionVersionInfo=vc(r,4);if(e-=4,s.Minor!=2)throw new Error("unrecognized minor version code: "+s.Minor);if(s.Major>4||s.Major<2)throw new Error("unrecognized major version code: "+s.Major);t.Flags=r.read_shift(4),e-=4;var a=r.read_shift(4);return e-=4,t.EncryptionHeader=RW(r,a),e-=a,t.EncryptionVerifier=IW(r,e),t}function JNe(r){var e={},t=e.EncryptionVersionInfo=vc(r,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=r.read_shift(16),e.EncryptedVerifier=r.read_shift(16),e.EncryptedVerifierHash=r.read_shift(16),e}function j4(r){var e=0,t,s=PW(r),a=s.length+1,n,o,l,c,d;for(t=Gd(a),t[0]=s.length,n=1;n!=a;++n)t[n]=s[n-1];for(n=a-1;n>=0;--n)o=t[n],l=(e&16384)===0?0:1,c=e<<1&32767,d=l|c,e=d^o;return e^52811}var DW=(function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],s=function(o){return(o/2|o*128)&255},a=function(o,l){return s(o^l)},n=function(o){for(var l=e[o.length-1],c=104,d=o.length-1;d>=0;--d)for(var u=o[d],h=0;h!=7;++h)u&64&&(l^=t[c]),u*=2,--c;return l};return function(o){for(var l=PW(o),c=n(l),d=l.length,u=Gd(16),h=0;h!=16;++h)u[h]=0;var m,p,b;for((d&1)===1&&(m=c>>8,u[d]=a(r[0],m),--d,m=c&255,p=l[l.length-1],u[d]=a(p,m));d>0;)--d,m=c>>8,u[d]=a(l[d],m),--d,m=c&255,u[d]=a(l[d],m);for(d=15,b=15-l.length;b>0;)m=c>>8,u[d]=a(r[b],m),--d,--b,m=c&255,u[d]=a(l[d],m),--d,--b;return u}})(),eSe=function(r,e,t,s,a){a||(a=e),s||(s=DW(r));var n,o;for(n=0;n!=e.length;++n)o=e[n],o^=s[t],o=(o>>5|o<<3)&255,a[n]=o,++t;return[a,t,s]},tSe=function(r){var e=0,t=DW(r);return function(s){var a=eSe("",s,e,t);return e=a[1],a[0]}};function rSe(r,e,t,s){var a={key:ja(r),verificationBytes:ja(r)};return t.password&&(a.verifier=j4(t.password)),s.valid=a.verificationBytes===a.verifier,s.valid&&(s.insitu=tSe(t.password)),a}function sSe(r,e,t){var s=t||{};return s.Info=r.read_shift(2),r.l-=2,s.Info===1?s.Data=JNe(r):s.Data=QNe(r,e),s}function aSe(r,e,t){var s={Type:t.biff>=8?r.read_shift(2):0};return s.Type?sSe(r,e-2,s):rSe(r,t.biff>=8?e:e-2,t,s),s}var OW=(function(){function r(a,n){switch(n.type){case"base64":return e(Fi(a),n);case"binary":return e(a,n);case"buffer":return e(Nr&&Buffer.isBuffer(a)?a.toString("binary"):su(a),n);case"array":return e(Dh(a),n)}throw new Error("Unrecognized type "+n.type)}function e(a,n){var o=n||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,h){Array.isArray(l)&&(l[h]=[]);for(var m=/\\\w+\b/g,p=0,b,x=-1;b=m.exec(u);){switch(b[0]){case"\\cell":var y=u.slice(p,m.lastIndex-b[0].length);if(y[0]==" "&&(y=y.slice(1)),++x,y.length){var w={v:y,t:"s"};Array.isArray(l)?l[h][x]=w:l[tr({r:h,c:x})]=w}break}p=m.lastIndex}x>d.e.c&&(d.e.c=x)}),l["!ref"]=hr(d),l}function t(a,n){return au(r(a,n),n)}function s(a){for(var n=["{\\rtf1\\ansi"],o=rs(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){n.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)n.push("\\cellx"+(u+1));for(n.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=tr({r:d,c:u});l=c?(a[d]||[])[u]:a[h],!(!l||l.v==null&&(!l.f||l.F))&&(n.push(" "+(l.w||(Cc(l),l.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:s}})();function nSe(r){var e=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Nx(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}function iSe(r){var e=r[0]/255,t=r[1]/255,s=r[2]/255,a=Math.max(e,t,s),n=Math.min(e,t,s),o=a-n;if(o===0)return[0,0,e];var l=0,c=0,d=a+n;switch(c=o/(d>1?2-d:d),a){case e:l=((t-s)/o+6)%6;break;case t:l=(s-e)/o+2;break;case s:l=(e-t)/o+4;break}return[l/6,c,d/2]}function oSe(r){var e=r[0],t=r[1],s=r[2],a=t*2*(s<.5?s:1-s),n=s-a/2,o=[n,n,n],l=6*e,c;if(t!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function n2(r,e){if(e===0)return r;var t=iSe(nSe(r));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),Nx(oSe(t))}var MW=6,lSe=15,cSe=1,Sn=MW;function Sx(r){return Math.floor((r+Math.round(128/Sn)/256)*Sn)}function jx(r){return Math.floor((r-5)/Sn*100+.5)/100}function i2(r){return Math.round((r*Sn+5)/Sn*256)/256}function ZS(r){return i2(jx(Sx(r)))}function E4(r){var e=Math.abs(r-ZS(r)),t=Sn;if(e>.005)for(Sn=cSe;Sn<lSe;++Sn)Math.abs(r-ZS(r))<=e&&(e=Math.abs(r-ZS(r)),t=Sn);Sn=t}function Yd(r){r.width?(r.wpx=Sx(r.width),r.wch=jx(r.wpx),r.MDW=Sn):r.wpx?(r.wch=jx(r.wpx),r.width=i2(r.wch),r.MDW=Sn):typeof r.wch=="number"&&(r.width=i2(r.wch),r.wpx=Sx(r.width),r.MDW=Sn),r.customWidth&&delete r.customWidth}var dSe=96,FW=dSe;function Ex(r){return r*96/FW}function Ym(r){return r*FW/96}var uSe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function hSe(r,e,t,s){e.Borders=[];var a={},n=!1;(r[0].match(Dn)||[]).forEach(function(o){var l=ar(o);switch(Dl(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Ls(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Ls(l.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(s&&s.WTF&&!n)throw new Error("unrecognized "+l[0]+" in borders")}})}function fSe(r,e,t,s){e.Fills=[];var a={},n=!1;(r[0].match(Dn)||[]).forEach(function(o){var l=ar(o);switch(Dl(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(s&&s.WTF&&!n)throw new Error("unrecognized "+l[0]+" in fills")}})}function mSe(r,e,t,s){e.Fonts=[];var a={},n=!1;(r[0].match(Dn)||[]).forEach(function(o){var l=ar(o);switch(Dl(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=As(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Ls(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Ls(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Ls(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Ls(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Ls(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Ls(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Ls(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=t4[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Ls(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=mh[a.color.index];a.color.index==81&&(c=mh[1]),c||(c=mh[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&t.themeElements&&t.themeElements.clrScheme&&(a.color.rgb=n2(t.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(s&&s.WTF&&!n)throw new Error("unrecognized "+l[0]+" in fonts")}})}function gSe(r,e,t){e.NumberFmt=[];for(var s=la(Jt),a=0;a<s.length;++a)e.NumberFmt[s[a]]=Jt[s[a]];var n=r[0].match(Dn);if(n)for(a=0;a<n.length;++a){var o=ar(n[a]);switch(Dl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=ts(As(o.formatCode)),c=parseInt(o.numFmtId,10);if(e.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=l}yc(l,c)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function pSe(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var s=t[0];s<=t[1];++s)r[s]!=null&&(e[e.length]=Nt("numFmt",null,{numFmtId:s,formatCode:vs(r[s])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Nt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var x1=["numFmtId","fillId","fontId","borderId","xfId"],b1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function xSe(r,e,t){e.CellXf=[];var s,a=!1;(r[0].match(Dn)||[]).forEach(function(n){var o=ar(n),l=0;switch(Dl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(s=o,delete s[0],l=0;l<x1.length;++l)s[x1[l]]&&(s[x1[l]]=parseInt(s[x1[l]],10));for(l=0;l<b1.length;++l)s[b1[l]]&&(s[b1[l]]=Ls(s[b1[l]]));if(e.NumberFmt&&s.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[s.numFmtId]==e.NumberFmt[l]){s.numFmtId=l;break}}e.CellXf.push(s);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Ls(o.wrapText)),s.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(t&&t.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function bSe(r){var e=[];return e[e.length]=Nt("cellXfs",null),r.forEach(function(t){e[e.length]=Nt("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Nt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var ySe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,s=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,n=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,d){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=l.match(e))&&gSe(h,u,d),(h=l.match(a))&&mSe(h,u,c,d),(h=l.match(s))&&fSe(h,u,c,d),(h=l.match(n))&&hSe(h,u,c,d),(h=l.match(t))&&xSe(h,u,d),u}})();function LW(r,e){var t=[ya,Nt("styleSheet",null,{xmlns:Yh[0],"xmlns:vt":Ba.vt})],s;return r.SSF&&(s=pSe(r.SSF))!=null&&(t[t.length]=s),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=bSe(e.cellXfs))&&(t[t.length]=s),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function vSe(r,e){var t=r.read_shift(2),s=Pn(r);return[t,s]}function wSe(r,e,t){t||(t=et(6+4*e.length)),t.write_shift(2,r),en(e,t);var s=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),s}function kSe(r,e,t){var s={};s.sz=r.read_shift(2)/20;var a=ske(r);a.fItalic&&(s.italic=1),a.fCondense&&(s.condense=1),a.fExtend&&(s.extend=1),a.fShadow&&(s.shadow=1),a.fOutline&&(s.outline=1),a.fStrikeout&&(s.strike=1);var n=r.read_shift(2);switch(n===700&&(s.bold=1),r.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=r.read_shift(1);o!=0&&(s.underline=o);var l=r.read_shift(1);l>0&&(s.family=l);var c=r.read_shift(1);switch(c>0&&(s.charset=c),r.l++,s.color=rke(r),r.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=Pn(r),s}function _Se(r,e){e||(e=et(153)),e.write_shift(2,r.sz*20),ake(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),r2(r.color,e);var s=0;return s=2,e.write_shift(1,s),en(r.name,e),e.length>e.l?e.slice(0,e.l):e}var NSe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],QS,SSe=In;function GL(r,e){e||(e=et(84)),QS||(QS=ck(NSe));var t=QS[r.patternType];t==null&&(t=40),e.write_shift(4,t);var s=0;if(t!=40)for(r2({auto:1},e),r2({auto:1},e);s<12;++s)e.write_shift(4,0);else{for(;s<4;++s)e.write_shift(4,0);for(;s<12;++s)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function jSe(r,e){var t=r.l+e,s=r.read_shift(2),a=r.read_shift(2);return r.l=t,{ixfe:s,numFmtId:a}}function BW(r,e,t){t||(t=et(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var s=0;return t.write_shift(1,s),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Xg(r,e){return e||(e=et(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var ESe=In;function ASe(r,e){return e||(e=et(51)),e.write_shift(1,0),Xg(null,e),Xg(null,e),Xg(null,e),Xg(null,e),Xg(null,e),e.length>e.l?e.slice(0,e.l):e}function TSe(r,e){return e||(e=et(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),t2(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function CSe(r,e,t){var s=et(2052);return s.write_shift(4,r),t2(e,s),t2(t,s),s.length>s.l?s.slice(0,s.l):s}function PSe(r,e,t){var s={};s.NumberFmt=[];for(var a in Jt)s.NumberFmt[a]=Jt[a];s.CellXf=[],s.Fonts=[];var n=[],o=!1;return Fc(r,function(c,d,u){switch(u){case 44:s.NumberFmt[c[0]]=c[1],yc(c[1],c[0]);break;case 43:s.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=n2(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:n[n.length-1]==617&&s.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:n.push(u),o=!0;break;case 38:n.pop(),o=!1;break;default:if(d.T>0)n.push(u);else if(d.T<0)n.pop();else if(!o||t.WTF&&n[n.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),s}function RSe(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&++t}),t!=0&&(ht(r,615,Uo(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&ht(r,44,wSe(a,e[a]))}),ht(r,616))}}function ISe(r){var e=1;ht(r,611,Uo(e)),ht(r,43,_Se({sz:12,color:{theme:1},name:"Calibri",family:2})),ht(r,612)}function DSe(r){var e=2;ht(r,603,Uo(e)),ht(r,45,GL({patternType:"none"})),ht(r,45,GL({patternType:"gray125"})),ht(r,604)}function OSe(r){var e=1;ht(r,613,Uo(e)),ht(r,46,ASe()),ht(r,614)}function MSe(r){var e=1;ht(r,626,Uo(e)),ht(r,47,BW({numFmtId:0},65535)),ht(r,627)}function FSe(r,e){ht(r,617,Uo(e.length)),e.forEach(function(t){ht(r,47,BW(t,0))}),ht(r,618)}function LSe(r){var e=1;ht(r,619,Uo(e)),ht(r,48,TSe({xfId:0,name:"Normal"})),ht(r,620)}function BSe(r){var e=0;ht(r,505,Uo(e)),ht(r,506)}function USe(r){var e=0;ht(r,508,CSe(e,"TableStyleMedium9","PivotStyleMedium4")),ht(r,509)}function zSe(r,e){var t=hi();return ht(t,278),RSe(t,r.SSF),ISe(t),DSe(t),OSe(t),MSe(t),FSe(t,e.cellXfs),LSe(t),BSe(t),USe(t),ht(t,279),t.end()}var VSe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function HSe(r,e,t){e.themeElements.clrScheme=[];var s={};(r[0].match(Dn)||[]).forEach(function(a){var n=ar(a);switch(n[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":s.rgb=n.val;break;case"<a:sysClr":s.rgb=n.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":n[0].charAt(1)==="/"?(e.themeElements.clrScheme[VSe.indexOf(n[0])]=s,s={}):s.name=n[0].slice(3,n[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+n[0]+" in clrScheme")}})}function $Se(){}function WSe(){}var qSe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,GSe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,YSe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function XSe(r,e,t){e.themeElements={};var s;[["clrScheme",qSe,HSe],["fontScheme",GSe,$Se],["fmtScheme",YSe,WSe]].forEach(function(a){if(!(s=r.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](s,e,t)})}var KSe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function UW(r,e){(!r||r.length===0)&&(r=A4());var t,s={};if(!(t=r.match(KSe)))throw new Error("themeElements not found in theme");return XSe(t[0],s,e),s.raw=r,s}function A4(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[ya];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function ZSe(r,e,t){var s=r.l+e,a=r.read_shift(4);if(a!==124226){if(!t.cellStyles){r.l=s;return}var n=r.slice(r.l);r.l=s;var o;try{o=R$(n,{type:"array"})}catch{return}var l=Pi(o,"theme/theme/theme1.xml",!0);if(l)return UW(l,t)}}function QSe(r){return r.read_shift(4)}function JSe(r){var e={};switch(e.xclrType=r.read_shift(2),e.nTintShade=r.read_shift(2),e.xclrType){case 0:r.l+=4;break;case 1:e.xclrValue=eje(r,4);break;case 2:e.xclrValue=yW(r);break;case 3:e.xclrValue=QSe(r);break;case 4:r.l+=4;break}return r.l+=8,e}function eje(r,e){return In(r,e)}function tje(r,e){return In(r,e)}function rje(r){var e=r.read_shift(2),t=r.read_shift(2)-4,s=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:s[1]=JSe(r);break;case 6:s[1]=tje(r,t);break;case 14:case 15:s[1]=r.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return s}function sje(r,e){var t=r.l+e;r.l+=2;var s=r.read_shift(2);r.l+=2;for(var a=r.read_shift(2),n=[];a-- >0;)n.push(rje(r,t-r.l));return{ixfe:s,ext:n}}function aje(r,e){e.forEach(function(t){t[0]})}function nje(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Pn(r)}}function ije(r){var e=et(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),en(r.name,e),e.slice(0,e.l)}function oje(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function lje(r){var e=et(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function cje(r,e){var t=et(8+2*e.length);return t.write_shift(4,r),en(e,t),t.slice(0,t.l)}function dje(r){return r.l+=4,r.read_shift(4)!=0}function uje(r,e){var t=et(8);return t.write_shift(4,r),t.write_shift(4,1),t}function hje(r,e,t){var s={Types:[],Cell:[],Value:[]},a=t||{},n=[],o=!1,l=2;return Fc(r,function(c,d,u){switch(u){case 335:s.Types.push({name:c.name});break;case 51:c.forEach(function(h){l==1?s.Cell.push({type:s.Types[h[0]-1].name,index:h[1]}):l==0&&s.Value.push({type:s.Types[h[0]-1].name,index:h[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:n.push(u),o=!0;break;case 36:n.pop(),o=!1;break;default:if(!d.T){if(!o||a.WTF&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),s}function fje(){var r=hi();return ht(r,332),ht(r,334,Uo(1)),ht(r,335,ije({name:"XLDAPR",version:12e4,flags:3496657072})),ht(r,336),ht(r,339,cje(1,"XLDAPR")),ht(r,52),ht(r,35,Uo(514)),ht(r,4096,Uo(0)),ht(r,4097,io(1)),ht(r,36),ht(r,53),ht(r,340),ht(r,337,uje(1)),ht(r,51,lje([[1,0]])),ht(r,338),ht(r,333),r.end()}function mje(r,e,t){var s={Types:[],Cell:[],Value:[]};if(!r)return s;var a=!1,n=2,o;return r.replace(Dn,function(l){var c=ar(l);switch(Dl(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":s.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<s.Types.length;++d)s.Types[d].name==c.name&&(o=s.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":n==1?s.Cell.push({type:s.Types[c.t-1].name,index:+c.v}):n==0&&s.Value.push({type:s.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":n=1;break;case"</cellMetadata>":n=2;break;case"<valueMetadata":n=0;break;case"</valueMetadata>":n=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&t.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),s}function zW(){var r=[ya];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function gje(r){var e=[];if(!r)return e;var t=1;return(r.match(Dn)||[]).forEach(function(s){var a=ar(s);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?t=a.i:a.i=t,e.push(a);break}}),e}function pje(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=tr(t);var s=r.read_shift(1);return s&2&&(e.l="1"),s&8&&(e.a="1"),e}function xje(r,e,t){var s=[];return Fc(r,function(n,o,l){switch(l){case 63:s.push(n);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),s}function bje(r,e,t,s){if(!r)return r;var a=s||{},n=!1;Fc(r,function(l,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:n=!0;break;case 36:n=!1;break;default:if(!c.T){if(!n||a.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},a)}function yje(r,e){if(!r)return"??";var t=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}var hm=1024;function VW(r,e){for(var t=[21600,21600],s=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),a=[Nt("xml",null,{"xmlns:v":Ei.v,"xmlns:o":Ei.o,"xmlns:x":Ei.x,"xmlns:mv":Ei.mv}).replace(/\/>/,">"),Nt("o:shapelayout",Nt("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),Nt("v:shapetype",[Nt("v:stroke",null,{joinstyle:"miter"}),Nt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:s})];hm<r*1e3;)hm+=1e3;return e.forEach(function(n){var o=Xs(n[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Nt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Nt("v:fill",c,l),u={on:"t",obscured:"t"};++hm,a=a.concat(["<v:shape"+wx({id:"_x0000_s"+hm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(n[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Nt("v:shadow",null,u),Nt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",mn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),mn("x:AutoFill","False"),mn("x:Row",String(o.r)),mn("x:Column",String(o.c)),n[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function YL(r,e,t,s){var a=Array.isArray(r),n;e.forEach(function(o){var l=Xs(o.ref);if(a?(r[l.r]||(r[l.r]=[]),n=r[l.r][l.c]):n=r[o.ref],!n){n={t:"z"},a?r[l.r][l.c]=n:r[o.ref]=n;var c=rs(r["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var d=hr(c);d!==r["!ref"]&&(r["!ref"]=d)}n.c||(n.c=[]);var u={a:o.author,t:o.t,r:o.r,T:t};o.h&&(u.h=o.h);for(var h=n.c.length-1;h>=0;--h){if(!t&&n.c[h].T)return;t&&!n.c[h].T&&n.c.splice(h,1)}if(t&&s){for(h=0;h<s.length;++h)if(u.a==s[h].id){u.a=s[h].name||u.a;break}}n.c.push(u)})}function vje(r,e){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],s=[],a=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&t.push(l[1])}});var n=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return n&&n[1]&&n[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=ar(l[0]),d={author:c.authorId&&t[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=Xs(c.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!h&&!!h[1]&&S4(h[1])||{r:"",t:"",h:""};d.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),d.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=m.h),s.push(d)}}}}),s}function HW(r){var e=[ya,Nt("comments",null,{xmlns:Yh[0]})],t=[];return e.push("<authors>"),r.forEach(function(s){s[1].forEach(function(a){var n=vs(a.a);t.indexOf(n)==-1&&(t.push(n),e.push("<author>"+n+"</author>")),a.T&&a.ID&&t.indexOf("tc="+a.ID)==-1&&(t.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(s){var a=0,n=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?a=t.indexOf("tc="+s[1][0].ID):s[1].forEach(function(c){c.a&&(a=t.indexOf(vs(c.a))),n.push(c.t||"")}),e.push('<comment ref="'+s[0]+'" authorId="'+a+'"><text>'),n.length<=1)e.push(mn("t",vs(n[0]||"")));else{for(var o=`Comment:
    `+n[0]+`
`,l=1;l<n.length;++l)o+=`Reply:
    `+n[l]+`
`;e.push(mn("t",vs(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function wje(r,e){var t=[],s=!1,a={},n=0;return r.replace(Dn,function(l,c){var d=ar(l);switch(Dl(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":a.t!=null&&t.push(a);break;case"<text>":case"<text":n=c+l.length;break;case"</text>":a.t=r.slice(n,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":s=!0;break;case"</mentions>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),t}function kje(r,e,t){var s=[ya,Nt("ThreadedComments",null,{xmlns:Ba.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(a){var n="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};l==0?n=c.id:c.parentId=n,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),s.push(Nt("threadedComment",mn("text",o.t||""),c))})}),s.push("</ThreadedComments>"),s.join("")}function _je(r,e){var t=[],s=!1;return r.replace(Dn,function(n){var o=ar(n);switch(Dl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return n}),t}function Nje(r){var e=[ya,Nt("personList",null,{xmlns:Ba.TCMNT,"xmlns:x":Yh[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,s){e.push(Nt("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Sje(r){var e={};e.iauthor=r.read_shift(4);var t=Qh(r);return e.rfx=t.s,e.ref=tr(t.s),r.l+=16,e}function jje(r,e){return e==null&&(e=et(36)),e.write_shift(4,r[1].iauthor),_0(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Eje=Pn;function Aje(r){return en(r.slice(0,54))}function Tje(r,e){var t=[],s=[],a={},n=!1;return Fc(r,function(l,c,d){switch(d){case 632:s.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=s[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,t.push(a);break;case 3072:break;case 35:n=!0;break;case 36:n=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!n||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),t}function Cje(r){var e=hi(),t=[];return ht(e,628),ht(e,630),r.forEach(function(s){s[1].forEach(function(a){t.indexOf(a.a)>-1||(t.push(a.a.slice(0,54)),ht(e,632,Aje(a.a)))})}),ht(e,631),ht(e,633),r.forEach(function(s){s[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var n={s:Xs(s[0]),e:Xs(s[0])};ht(e,635,jje([n,a])),a.t&&a.t.length>0&&ht(e,637,Q2e(a)),ht(e,636),delete a.iauthor})}),ht(e,634),ht(e,629),e.end()}var Pje="application/vnd.ms-office.vbaProject";function Rje(r){var e=Wt.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(t,s){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var a=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Wt.utils.cfb_add(e,a,r.FileIndex[s].content)}}),Wt.write(e)}function Ije(r,e){e.FullPaths.forEach(function(t,s){if(s!=0){var a=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Wt.utils.cfb_add(r,a,e.FileIndex[s].content)}})}var $W=["xlsb","xlsm","xlam","biff8","xla"];function Dje(){return{"!type":"dialog"}}function Oje(){return{"!type":"dialog"}}function Mje(){return{"!type":"macro"}}function Fje(){return{"!type":"macro"}}var jm=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(s,a,n,o){var l=!1,c=!1;n.length==0?c=!0:n.charAt(0)=="["&&(c=!0,n=n.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=n.length>0?parseInt(n,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=e.c:--u,c?d+=e.r:--d,a+(l?"":"$")+Ys(u)+(c?"":"$")+pa(d)}return function(a,n){return e=n,a.replace(r,t)}})(),T4=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,C4=(function(){return function(e,t){return e.replace(T4,function(s,a,n,o,l,c){var d=p4(o)-(n?0:t.c),u=g4(c)-(l?0:t.r),h=u==0?"":l?u+1:"["+u+"]",m=d==0?"":n?d+1:"["+d+"]";return a+"R"+h+"C"+m})}})();function WW(r,e){return r.replace(T4,function(t,s,a,n,o,l){return s+(a=="$"?a+n:Ys(p4(n)+e.c))+(o=="$"?o+l:pa(g4(l)+e.r))})}function Lje(r,e,t){var s=mi(e),a=s.s,n=Xs(t),o={r:n.r-a.r,c:n.c-a.c};return WW(r,o)}function Bje(r){return r.length!=1}function XL(r){return r.replace(/_xlfn\./g,"")}function _a(r){r.l+=1}function Xd(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function qW(r,e,t){var s=2;if(t){if(t.biff>=2&&t.biff<=5)return GW(r);t.biff==12&&(s=4)}var a=r.read_shift(s),n=r.read_shift(s),o=Xd(r),l=Xd(r);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function GW(r){var e=Xd(r),t=Xd(r),s=r.read_shift(1),a=r.read_shift(1);return{s:{r:e[0],c:s,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function Uje(r,e,t){if(t.biff<8)return GW(r);var s=r.read_shift(t.biff==12?4:2),a=r.read_shift(t.biff==12?4:2),n=Xd(r),o=Xd(r);return{s:{r:s,c:n[0],cRel:n[1],rRel:n[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function YW(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return zje(r);var s=r.read_shift(t&&t.biff==12?4:2),a=Xd(r);return{r:s,c:a[0],cRel:a[1],rRel:a[2]}}function zje(r){var e=Xd(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function Vje(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Hje(r,e,t){var s=t&&t.biff?t.biff:8;if(s>=2&&s<=5)return $je(r);var a=r.read_shift(s>=12?4:2),n=r.read_shift(2),o=(n&16384)>>14,l=(n&32768)>>15;if(n&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;n>8191;)n=n-16384;return{r:a,c:n,cRel:o,rRel:l}}function $je(r){var e=r.read_shift(2),t=r.read_shift(1),s=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,s==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:s}}function Wje(r,e,t){var s=(r[r.l++]&96)>>5,a=qW(r,t.biff>=2&&t.biff<=5?6:8,t);return[s,a]}function qje(r,e,t){var s=(r[r.l++]&96)>>5,a=r.read_shift(2,"i"),n=8;if(t)switch(t.biff){case 5:r.l+=12,n=6;break;case 12:n=12;break}var o=qW(r,n,t);return[s,a,o]}function Gje(r,e,t){var s=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[s]}function Yje(r,e,t){var s=(r[r.l++]&96)>>5,a=r.read_shift(2),n=8;if(t)switch(t.biff){case 5:r.l+=12,n=6;break;case 12:n=12;break}return r.l+=n,[s,a]}function Xje(r,e,t){var s=(r[r.l++]&96)>>5,a=Uje(r,e-1,t);return[s,a]}function Kje(r,e,t){var s=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[s]}function KL(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function Zje(r,e,t){r.l+=2;for(var s=r.read_shift(t&&t.biff==2?1:2),a=[],n=0;n<=s;++n)a.push(r.read_shift(t&&t.biff==2?1:2));return a}function Qje(r,e,t){var s=r[r.l+1]&255?1:0;return r.l+=2,[s,r.read_shift(t&&t.biff==2?1:2)]}function Jje(r,e,t){var s=r[r.l+1]&255?1:0;return r.l+=2,[s,r.read_shift(t&&t.biff==2?1:2)]}function eEe(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function tEe(r,e,t){var s=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[s]}function XW(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function rEe(r){return r.read_shift(2),XW(r)}function sEe(r){return r.read_shift(2),XW(r)}function aEe(r,e,t){var s=(r[r.l]&96)>>5;r.l+=1;var a=YW(r,0,t);return[s,a]}function nEe(r,e,t){var s=(r[r.l]&96)>>5;r.l+=1;var a=Hje(r,0,t);return[s,a]}function iEe(r,e,t){var s=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var n=YW(r,0,t);return[s,a,n]}function oEe(r,e,t){var s=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(t&&t.biff<=3?1:2);return[dAe[a],QW[a],s]}function lEe(r,e,t){var s=r[r.l++],a=r.read_shift(1),n=t&&t.biff<=3?[s==88?-1:0,r.read_shift(1)]:cEe(r);return[a,(n[0]===0?QW:cAe)[n[1]]]}function cEe(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function dEe(r,e,t){r.l+=t&&t.biff==2?3:4}function uEe(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var s=r.read_shift(2),a=r.read_shift(t&&t.biff==2?1:2);return[s,a]}function hEe(r){return r.l++,Lc[r.read_shift(1)]}function fEe(r){return r.l++,r.read_shift(2)}function mEe(r){return r.l++,r.read_shift(1)!==0}function gEe(r){return r.l++,En(r)}function pEe(r,e,t){return r.l++,wb(r,e-1,t)}function xEe(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=ha(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Lc[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=En(r);break;case 2:t[1]=Jh(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function bEe(r,e,t){for(var s=r.read_shift(t.biff==12?4:2),a=[],n=0;n!=s;++n)a.push((t.biff==12?Qh:hk)(r));return a}function yEe(r,e,t){var s=0,a=0;t.biff==12?(s=r.read_shift(4),a=r.read_shift(4)):(a=1+r.read_shift(1),s=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--s,--a==0&&(a=256));for(var n=0,o=[];n!=s&&(o[n]=[]);++n)for(var l=0;l!=a;++l)o[n][l]=xEe(r,t.biff);return o}function vEe(r,e,t){var s=r.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,n=r.read_shift(a);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[s,0,n]}function wEe(r,e,t){if(t.biff==5)return kEe(r);var s=r.read_shift(1)>>>5&3,a=r.read_shift(2),n=r.read_shift(4);return[s,a,n]}function kEe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var s=r.read_shift(2);return r.l+=12,[e,t,s]}function _Ee(r,e,t){var s=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var a=r.read_shift(t&&t.biff==2?1:2);return[s,a]}function NEe(r,e,t){var s=r.read_shift(1)>>>5&3,a=r.read_shift(t&&t.biff==2?1:2);return[s,a]}function SEe(r,e,t){var s=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[s]}function jEe(r,e,t){var s=(r[r.l++]&96)>>5,a=r.read_shift(2),n=4;if(t)switch(t.biff){case 5:n=15;break;case 12:n=6;break}return r.l+=n,[s,a]}var EEe=In,AEe=In,TEe=In;function _b(r,e,t){return r.l+=2,[Vje(r)]}function P4(r){return r.l+=6,[]}var CEe=_b,PEe=P4,REe=P4,IEe=_b;function KW(r){return r.l+=2,[ja(r),r.read_shift(2)&1]}var DEe=_b,OEe=KW,MEe=P4,FEe=_b,LEe=_b,BEe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function UEe(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),s=r.read_shift(4),a=r.read_shift(2),n=r.read_shift(2),o=BEe[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:s,c:a,C:n}}function zEe(r){return r.l+=2,[r.read_shift(4)]}function VEe(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function HEe(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function $Ee(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function WEe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function qEe(r){return r.l+=4,[0,0]}var ZL={1:{n:"PtgExp",f:uEe},2:{n:"PtgTbl",f:TEe},3:{n:"PtgAdd",f:_a},4:{n:"PtgSub",f:_a},5:{n:"PtgMul",f:_a},6:{n:"PtgDiv",f:_a},7:{n:"PtgPower",f:_a},8:{n:"PtgConcat",f:_a},9:{n:"PtgLt",f:_a},10:{n:"PtgLe",f:_a},11:{n:"PtgEq",f:_a},12:{n:"PtgGe",f:_a},13:{n:"PtgGt",f:_a},14:{n:"PtgNe",f:_a},15:{n:"PtgIsect",f:_a},16:{n:"PtgUnion",f:_a},17:{n:"PtgRange",f:_a},18:{n:"PtgUplus",f:_a},19:{n:"PtgUminus",f:_a},20:{n:"PtgPercent",f:_a},21:{n:"PtgParen",f:_a},22:{n:"PtgMissArg",f:_a},23:{n:"PtgStr",f:pEe},26:{n:"PtgSheet",f:VEe},27:{n:"PtgEndSheet",f:HEe},28:{n:"PtgErr",f:hEe},29:{n:"PtgBool",f:mEe},30:{n:"PtgInt",f:fEe},31:{n:"PtgNum",f:gEe},32:{n:"PtgArray",f:Kje},33:{n:"PtgFunc",f:oEe},34:{n:"PtgFuncVar",f:lEe},35:{n:"PtgName",f:vEe},36:{n:"PtgRef",f:aEe},37:{n:"PtgArea",f:Wje},38:{n:"PtgMemArea",f:_Ee},39:{n:"PtgMemErr",f:EEe},40:{n:"PtgMemNoMem",f:AEe},41:{n:"PtgMemFunc",f:NEe},42:{n:"PtgRefErr",f:SEe},43:{n:"PtgAreaErr",f:Gje},44:{n:"PtgRefN",f:nEe},45:{n:"PtgAreaN",f:Xje},46:{n:"PtgMemAreaN",f:$Ee},47:{n:"PtgMemNoMemN",f:WEe},57:{n:"PtgNameX",f:wEe},58:{n:"PtgRef3d",f:iEe},59:{n:"PtgArea3d",f:qje},60:{n:"PtgRefErr3d",f:jEe},61:{n:"PtgAreaErr3d",f:Yje},255:{}},GEe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},YEe={1:{n:"PtgElfLel",f:KW},2:{n:"PtgElfRw",f:FEe},3:{n:"PtgElfCol",f:CEe},6:{n:"PtgElfRwV",f:LEe},7:{n:"PtgElfColV",f:IEe},10:{n:"PtgElfRadical",f:DEe},11:{n:"PtgElfRadicalS",f:MEe},13:{n:"PtgElfColS",f:PEe},15:{n:"PtgElfColSV",f:REe},16:{n:"PtgElfRadicalLel",f:OEe},25:{n:"PtgList",f:UEe},29:{n:"PtgSxName",f:zEe},255:{}},XEe={0:{n:"PtgAttrNoop",f:qEe},1:{n:"PtgAttrSemi",f:tEe},2:{n:"PtgAttrIf",f:Jje},4:{n:"PtgAttrChoose",f:Zje},8:{n:"PtgAttrGoto",f:Qje},16:{n:"PtgAttrSum",f:dEe},32:{n:"PtgAttrBaxcel",f:KL},33:{n:"PtgAttrBaxcel",f:KL},64:{n:"PtgAttrSpace",f:rEe},65:{n:"PtgAttrSpaceSemi",f:sEe},128:{n:"PtgAttrIfError",f:eEe},255:{}};function Nb(r,e,t,s){if(s.biff<8)return In(r,e);for(var a=r.l+e,n=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=yEe(r,0,s),n.push(t[o][1]);break;case"PtgMemArea":t[o][2]=bEe(r,t[o][1],s),n.push(t[o][2]);break;case"PtgExp":s&&s.biff==12&&(t[o][1][1]=r.read_shift(4),n.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return e=a-r.l,e!==0&&n.push(In(r,e)),n}function Sb(r,e,t){for(var s=r.l+e,a,n,o=[];s!=r.l;)e=s-r.l,n=r[r.l],a=ZL[n]||ZL[GEe[n]],(n===24||n===25)&&(a=(n===24?YEe:XEe)[r[r.l+1]]),!a||!a.f?In(r,e):o.push([a.n,a.f(r,e,t)]);return o}function KEe(r){for(var e=[],t=0;t<r.length;++t){for(var s=r[t],a=[],n=0;n<s.length;++n){var o=s[n];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var ZEe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function QEe(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function ZW(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var s=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!s)return"SH33TJSERR1";var a="";if(t.biff>8)switch(r[s[0]][0]){case 357:return a=s[1]==-1?"#REF":r.SheetNames[s[1]],s[1]==s[2]?a:a+":"+r.SheetNames[s[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[s[0]][0];case 355:default:return"SH33TJSSRC"+r[s[0]][0]}switch(r[s[0]][0][0]){case 1025:return a=s[1]==-1?"#REF":r.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?a:a+":"+r.SheetNames[s[2]];case 14849:return r[s[0]].slice(1).map(function(n){return n.Name}).join(";;");default:return r[s[0]][0][3]?(a=s[1]==-1?"#REF":r[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?a:a+":"+r[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function QL(r,e,t){var s=ZW(r,e,t);return s=="#REF"?s:QEe(s,t)}function Nn(r,e,t,s,a){var n=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,d,u,h=0,m=0,p,b="";if(!r[0]||!r[0][0])return"";for(var x=-1,y="",w=0,k=r[0].length;w<k;++w){var N=r[0][w];switch(N[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),x>=0){switch(r[0][x][1][0]){case 0:y=ra(" ",r[0][x][1][1]);break;case 1:y=ra("\r",r[0][x][1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][x][1][0])}d=d+y,x=-1}l.push(d+ZEe[N[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Pp(N[1][1],o,a),l.push(Rp(u,n));break;case"PtgRefN":u=t?Pp(N[1][1],t,a):N[1][1],l.push(Rp(u,n));break;case"PtgRef3d":h=N[1][1],u=Pp(N[1][2],o,a),b=QL(s,h,a),l.push(b+"!"+Rp(u,n));break;case"PtgFunc":case"PtgFuncVar":var T=N[1][0],E=N[1][1];T||(T=0),T&=127;var I=T==0?[]:l.slice(-T);l.length-=T,E==="User"&&(E=I.shift()),l.push(E+"("+I.join(",")+")");break;case"PtgBool":l.push(N[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(N[1]);break;case"PtgNum":l.push(String(N[1]));break;case"PtgStr":l.push('"'+N[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(N[1]);break;case"PtgAreaN":p=EL(N[1][1],t?{s:t}:o,a),l.push(YS(p,a));break;case"PtgArea":p=EL(N[1][1],o,a),l.push(YS(p,a));break;case"PtgArea3d":h=N[1][1],p=N[1][2],b=QL(s,h,a),l.push(b+"!"+YS(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=N[1][2];var S=(s.names||[])[m-1]||(s[0]||[])[m],A=S?S.Name:"SH33TJSNAME"+String(m);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),l.push(A);break;case"PtgNameX":var P=N[1][1];m=N[1][2];var O;if(a.biff<=5)P<0&&(P=-P),s[P]&&(O=s[P][m]);else{var M="";if(((s[P]||[])[0]||[])[0]==14849||(((s[P]||[])[0]||[])[0]==1025?s[P][m]&&s[P][m].itab>0&&(M=s.SheetNames[s[P][m].itab-1]+"!"):M=s.SheetNames[m-1]+"!"),s[P]&&s[P][m])M+=s[P][m].Name;else if(s[0]&&s[0][m])M+=s[0][m].Name;else{var L=(ZW(s,P,a)||"").split(";;");L[m-1]?M=L[m-1]:M+="SH33TJSERRX"}l.push(M);break}O||(O={Name:"SH33TJSERRY"}),l.push(O.Name);break;case"PtgParen":var B="(",G=")";if(x>=0){switch(y="",r[0][x][1][0]){case 2:B=ra(" ",r[0][x][1][1])+B;break;case 3:B=ra("\r",r[0][x][1][1])+B;break;case 4:G=ra(" ",r[0][x][1][1])+G;break;case 5:G=ra("\r",r[0][x][1][1])+G;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][x][1][0])}x=-1}l.push(B+l.pop()+G);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:N[1][1],r:N[1][0]};var X={c:t.c,r:t.r};if(s.sharedf[tr(u)]){var H=s.sharedf[tr(u)];l.push(Nn(H,o,X,s,a))}else{var W=!1;for(c=0;c!=s.arrayf.length;++c)if(d=s.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Nn(d[1],o,X,s,a)),W=!0;break}W||l.push(N[1])}break;case"PtgArray":l.push("{"+KEe(N[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+N[1].idx+"[#"+N[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(N));default:throw new Error("Unrecognized Formula Token: "+String(N))}var ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&x>=0&&ne.indexOf(r[0][w][0])==-1){N=r[0][x];var U=!0;switch(N[1][0]){case 4:U=!1;case 0:y=ra(" ",N[1][1]);break;case 5:U=!1;case 1:y=ra("\r",N[1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+N[1][0])}l.push((U?y:"")+l.pop()+(U?"":y)),x=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function JEe(r,e,t){var s=r.l+e,a=t.biff==2?1:2,n,o=r.read_shift(a);if(o==65535)return[[],In(r,e-2)];var l=Sb(r,o,t);return e!==o+a&&(n=Nb(r,e-o-a,l,t)),r.l=s,[l,n]}function eAe(r,e,t){var s=r.l+e,a=t.biff==2?1:2,n,o=r.read_shift(a);if(o==65535)return[[],In(r,e-2)];var l=Sb(r,o,t);return e!==o+a&&(n=Nb(r,e-o-a,l,t)),r.l=s,[l,n]}function tAe(r,e,t,s){var a=r.l+e,n=Sb(r,s,t),o;return a!==r.l&&(o=Nb(r,a-r.l,n,t)),[n,o]}function rAe(r,e,t){var s=r.l+e,a,n=r.read_shift(2),o=Sb(r,n,t);return n==65535?[[],In(r,e-2)]:(e!==n+2&&(a=Nb(r,s-n-2,o,t)),[o,a])}function sAe(r){var e;if(mc(r,r.l+6)!==65535)return[En(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return e=r[r.l+2]===1,r.l+=8,[e,"b"];case 2:return e=r[r.l+2],r.l+=8,[e,"e"];case 3:return r.l+=8,["","s"]}return[]}function aAe(r){if(r==null){var e=et(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return Oh(r);return Oh(0)}function JS(r,e,t){var s=r.l+e,a=Ol(r);t.biff==2&&++r.l;var n=sAe(r),o=r.read_shift(1);t.biff!=2&&(r.read_shift(1),t.biff>=5&&r.read_shift(4));var l=eAe(r,s-r.l,t);return{cell:a,val:n[0],formula:l,shared:o>>3&1,tt:n[1]}}function nAe(r,e,t,s,a){var n=Fh(e,t,a),o=aAe(r.v),l=et(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=et(r.bf.length),u=0;u<r.bf.length;++u)d[u]=r.bf[u];var h=Ja([n,o,l,d]);return h}function fk(r,e,t){var s=r.read_shift(4),a=Sb(r,s,t),n=r.read_shift(4),o=n>0?Nb(r,n,a,t):null;return[a,o]}var iAe=fk,mk=fk,oAe=fk,lAe=fk,cAe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},QW={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},dAe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function JL(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function uAe(r){var e="of:="+r.replace(T4,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function ej(r){var e=r.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function hAe(r){return r.replace(/\./,"!")}var Dp={},Em={},Op=typeof Map<"u";function R4(r,e,t){var s=0,a=r.length;if(t){if(Op?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var n=Op?t.get(e):t[e];s<n.length;++s)if(r[n[s]].t===e)return r.Count++,n[s]}}else for(;s<a;++s)if(r[s].t===e)return r.Count++,s;return r[a]={t:e},r.Count++,r.Unique++,t&&(Op?(t.has(e)||t.set(e,[]),t.get(e).push(a)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(a))),a}function gk(r,e){var t={min:r+1,max:r+1},s=-1;return e.MDW&&(Sn=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?s=jx(e.wpx):e.wch!=null&&(s=e.wch),s>-1?(t.width=i2(s),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function xh(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function nu(r,e,t){var s=t.revssf[e.z!=null?e.z:"General"],a=60,n=r.length;if(s==null&&t.ssf){for(;a<392;++a)if(t.ssf[a]==null){yc(e.z,a),t.ssf[a]=e.z,t.revssf[e.z]=s=a;break}}for(a=0;a!=n;++a)if(r[a].numFmtId===s)return a;return r[n]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},n}function JW(r,e,t,s,a,n){try{s.cellNF&&(r.z=Jt[e])}catch(l){if(s.WTF)throw l}if(!(r.t==="z"&&!s.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=Us(r.v)),(!s||s.cellText!==!1)&&r.t!=="z")try{if(Jt[e]==null&&yc(c2e[e]||"General",e),r.t==="e")r.w=r.w||Lc[r.v];else if(e===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=yx(r.v);else if(r.t==="d"){var o=Ha(r.v);(o|0)===o?r.w=o.toString(10):r.w=yx(o)}else{if(r.v===void 0)return"";r.w=Ih(r.v,Em)}else r.t==="d"?r.w=bo(e,Ha(r.v),Em):r.w=bo(e,r.v,Em)}catch(l){if(s.WTF)throw l}if(s.cellStyles&&t!=null)try{r.s=n.Fills[t],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=n2(a.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),s.WTF&&(r.s.fgColor.raw_rgb=a.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=n2(a.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),s.WTF&&(r.s.bgColor.raw_rgb=a.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(l){if(s.WTF&&n.Fills)throw l}}}function fAe(r,e,t){if(r&&r["!ref"]){var s=rs(r["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function mAe(r,e){var t=rs(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(r["!ref"]=hr(t))}var gAe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,pAe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,xAe=/<(?:\w:)?hyperlink [^>]*>/mg,bAe=/"(\w*:\w*)"/,yAe=/<(?:\w:)?col\b[^>]*[\/]?>/g,vAe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,wAe=/<(?:\w:)?pageMargins[^>]*\/>/g,eq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,kAe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,_Ae=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function NAe(r,e,t,s,a,n,o){if(!r)return r;s||(s={"!id":{}});var l=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",h=r.match(pAe);h?(d=r.slice(0,h.index),u=r.slice(h.index+h[0].length)):d=u=r;var m=d.match(eq);m?I4(m[0],l,a,t):(m=d.match(kAe))&&jAe(m[0],m[1]||"",l,a,t);var p=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var b=d.slice(p,p+50).match(bAe);b&&mAe(l,b[1])}var x=d.match(_Ae);x&&x[1]&&BAe(x[1],a);var y=[];if(e.cellStyles){var w=d.match(yAe);w&&DAe(y,w)}h&&VAe(h[1],l,e,c,n,o);var k=u.match(vAe);k&&(l["!autofilter"]=MAe(k[0]));var N=[],T=u.match(gAe);if(T)for(p=0;p!=T.length;++p)N[p]=rs(T[p].slice(T[p].indexOf('"')+1));var E=u.match(xAe);E&&PAe(l,E,s);var I=u.match(wAe);if(I&&(l["!margins"]=RAe(ar(I[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=hr(c)),e.sheetRows>0&&l["!ref"]){var S=rs(l["!ref"]);e.sheetRows<=+S.e.r&&(S.e.r=e.sheetRows-1,S.e.r>c.e.r&&(S.e.r=c.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>c.e.c&&(S.e.c=c.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),l["!fullref"]=l["!ref"],l["!ref"]=hr(S))}return y.length>0&&(l["!cols"]=y),N.length>0&&(l["!merges"]=N),l}function SAe(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+hr(r[t])+'"/>';return e+"</mergeCells>"}function I4(r,e,t,s){var a=ar(r);t.Sheets[s]||(t.Sheets[s]={}),a.codeName&&(t.Sheets[s].CodeName=ts(As(a.codeName)))}function jAe(r,e,t,s,a){I4(r.slice(0,r.indexOf(">")),t,s,a)}function EAe(r,e,t,s,a){var n=!1,o={},l=null;if(s.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[t];try{e.Workbook&&(c=e.Workbook.Sheets[t].CodeName||c)}catch{}n=!0,o.codeName=gl(vs(c))}if(r&&r["!outline"]){var d={summaryBelow:1,summaryRight:1};r["!outline"].above&&(d.summaryBelow=0),r["!outline"].left&&(d.summaryRight=0),l=(l||"")+Nt("outlinePr",null,d)}!n&&!l||(a[a.length]=Nt("sheetPr",l,o))}var AAe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],TAe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function CAe(r){var e={sheet:1};return AAe.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),TAe.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=j4(r.password).toString(16).toUpperCase()),Nt("sheetProtection",null,e)}function PAe(r,e,t){for(var s=Array.isArray(r),a=0;a!=e.length;++a){var n=ar(As(e[a]),!0);if(!n.ref)return;var o=((t||{})["!id"]||[])[n.id];o?(n.Target=o.Target,n.location&&(n.Target+="#"+ts(n.location))):(n.Target="#"+ts(n.location),o={Target:n.Target,TargetMode:"Internal"}),n.Rel=o,n.tooltip&&(n.Tooltip=n.tooltip,delete n.tooltip);for(var l=rs(n.ref),c=l.s.r;c<=l.e.r;++c)for(var d=l.s.c;d<=l.e.c;++d){var u=tr({c:d,r:c});s?(r[c]||(r[c]=[]),r[c][d]||(r[c][d]={t:"z",v:void 0}),r[c][d].l=n):(r[u]||(r[u]={t:"z",v:void 0}),r[u].l=n)}}}function RAe(r){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){r[t]&&(e[t]=parseFloat(r[t]))}),e}function IAe(r){return xh(r),Nt("pageMargins",null,r)}function DAe(r,e){for(var t=!1,s=0;s!=e.length;++s){var a=ar(e[s],!0);a.hidden&&(a.hidden=Ls(a.hidden));var n=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!t&&a.width&&(t=!0,E4(a.width)),Yd(a);n<=o;)r[n++]=zs(a)}}function OAe(r,e){for(var t=["<cols>"],s,a=0;a!=e.length;++a)(s=e[a])&&(t[t.length]=Nt("col",null,gk(a,s)));return t[t.length]="</cols>",t.join("")}function MAe(r){var e={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return e}function FAe(r,e,t,s){var a=typeof r.ref=="string"?r.ref:hr(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var n=t.Workbook.Names,o=mi(a);o.s.r==o.e.r&&(o.e.r=mi(e["!ref"]).e.r,a=hr(o));for(var l=0;l<n.length;++l){var c=n[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==s){c.Ref="'"+t.SheetNames[s]+"'!"+a;break}}return l==n.length&&n.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+t.SheetNames[s]+"'!"+a}),Nt("autoFilter",null,{ref:a})}var LAe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function BAe(r,e){e.Views||(e.Views=[{}]),(r.match(LAe)||[]).forEach(function(t,s){var a=ar(t);e.Views[s]||(e.Views[s]={}),+a.zoomScale&&(e.Views[s].zoom=+a.zoomScale),Ls(a.rightToLeft)&&(e.Views[s].RTL=!0)})}function UAe(r,e,t,s){var a={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),Nt("sheetViews",Nt("sheetView",null,a),{})}function zAe(r,e,t,s){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var a="",n=r.t,o=r.v;if(r.t!=="z")switch(r.t){case"b":a=r.v?"1":"0";break;case"n":a=""+r.v;break;case"e":a=Lc[r.v];break;case"d":s&&s.cellDates?a=Us(r.v,-1).toISOString():(r=zs(r),r.t="n",a=""+(r.v=Ha(Us(r.v)))),typeof r.z>"u"&&(r.z=Jt[14]);break;default:a=r.v;break}var l=mn("v",vs(a)),c={r:e},d=nu(s.cellXfs,r,s);switch(d!==0&&(c.s=d),r.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){l=mn("v",""+R4(s.Strings,r.v,s.revStrings)),c.t="s";break}c.t="str";break}if(r.t!=n&&(r.t=n,r.v=o),typeof r.f=="string"&&r.f){var u=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;l=Nt("f",vs(r.f),u)+(r.v!=null?l:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(c.cm=1),Nt("c",l,c)}var VAe=(function(){var r=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,s=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,n=vx("v"),o=vx("f");return function(c,d,u,h,m,p){for(var b=0,x="",y=[],w=[],k=0,N=0,T=0,E="",I,S,A=0,P=0,O,M,L=0,B=0,G=Array.isArray(p.CellXf),X,H=[],W=[],ne=Array.isArray(d),U=[],z={},Q=!1,q=!!u.sheetStubs,Z=c.split(e),J=0,re=Z.length;J!=re;++J){x=Z[J].trim();var de=x.length;if(de!==0){var Se=0;e:for(b=0;b<de;++b)switch(x[b]){case">":if(x[b-1]!="/"){++b;break e}if(u&&u.cellStyles){if(S=ar(x.slice(Se,b),!0),A=S.r!=null?parseInt(S.r,10):A+1,P=-1,u.sheetRows&&u.sheetRows<A)continue;z={},Q=!1,S.ht&&(Q=!0,z.hpt=parseFloat(S.ht),z.hpx=Ym(z.hpt)),S.hidden=="1"&&(Q=!0,z.hidden=!0),S.outlineLevel!=null&&(Q=!0,z.level=+S.outlineLevel),Q&&(U[A-1]=z)}break;case"<":Se=b;break}if(Se>=b)break;if(S=ar(x.slice(Se,b),!0),A=S.r!=null?parseInt(S.r,10):A+1,P=-1,!(u.sheetRows&&u.sheetRows<A)){h.s.r>A-1&&(h.s.r=A-1),h.e.r<A-1&&(h.e.r=A-1),u&&u.cellStyles&&(z={},Q=!1,S.ht&&(Q=!0,z.hpt=parseFloat(S.ht),z.hpx=Ym(z.hpt)),S.hidden=="1"&&(Q=!0,z.hidden=!0),S.outlineLevel!=null&&(Q=!0,z.level=+S.outlineLevel),Q&&(U[A-1]=z)),y=x.slice(b).split(r);for(var je=0;je!=y.length&&y[je].trim().charAt(0)=="<";++je);for(y=y.slice(je),b=0;b!=y.length;++b)if(x=y[b].trim(),x.length!==0){if(w=x.match(t),k=b,N=0,T=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,w!=null&&w.length===2){for(k=0,E=w[1],N=0;N!=E.length&&!((T=E.charCodeAt(N)-64)<1||T>26);++N)k=26*k+T;--k,P=k}else++P;for(N=0;N!=x.length&&x.charCodeAt(N)!==62;++N);if(++N,S=ar(x.slice(0,N),!0),S.r||(S.r=tr({r:A-1,c:P})),E=x.slice(N),I={t:""},(w=E.match(n))!=null&&w[1]!==""&&(I.v=ts(w[1])),u.cellFormula){if((w=E.match(o))!=null&&w[1]!==""){if(I.f=ts(As(w[1])).replace(/\r\n/g,`
`),u.xlfn||(I.f=XL(I.f)),w[0].indexOf('t="array"')>-1)I.F=(E.match(a)||[])[1],I.F.indexOf(":")>-1&&H.push([rs(I.F),I.F]);else if(w[0].indexOf('t="shared"')>-1){M=ar(w[0]);var Ne=ts(As(w[1]));u.xlfn||(Ne=XL(Ne)),W[parseInt(M.si,10)]=[M,Ne,S.r]}}else(w=E.match(/<f[^>]*\/>/))&&(M=ar(w[0]),W[M.si]&&(I.f=Lje(W[M.si][1],W[M.si][2],S.r)));var xe=Xs(S.r);for(N=0;N<H.length;++N)xe.r>=H[N][0].s.r&&xe.r<=H[N][0].e.r&&xe.c>=H[N][0].s.c&&xe.c<=H[N][0].e.c&&(I.F=H[N][1])}if(S.t==null&&I.v===void 0)if(I.f||I.F)I.v=0,I.t="n";else if(q)I.t="z";else continue;else I.t=S.t||"n";switch(h.s.c>P&&(h.s.c=P),h.e.c<P&&(h.e.c=P),I.t){case"n":if(I.v==""||I.v==null){if(!q)continue;I.t="z"}else I.v=parseFloat(I.v);break;case"s":if(typeof I.v>"u"){if(!q)continue;I.t="z"}else O=Dp[parseInt(I.v,10)],I.v=O.t,I.r=O.r,u.cellHTML&&(I.h=O.h);break;case"str":I.t="s",I.v=I.v!=null?As(I.v):"",u.cellHTML&&(I.h=u4(I.v));break;case"inlineStr":w=E.match(s),I.t="s",w!=null&&(O=S4(w[1]))?(I.v=O.t,u.cellHTML&&(I.h=O.h)):I.v="";break;case"b":I.v=Ls(I.v);break;case"d":u.cellDates?I.v=Us(I.v,1):(I.v=Ha(Us(I.v,1)),I.t="n");break;case"e":(!u||u.cellText!==!1)&&(I.w=I.v),I.v=rW[I.v];break}if(L=B=0,X=null,G&&S.s!==void 0&&(X=p.CellXf[S.s],X!=null&&(X.numFmtId!=null&&(L=X.numFmtId),u.cellStyles&&X.fillId!=null&&(B=X.fillId))),JW(I,L,B,u,m,p),u.cellDates&&G&&I.t=="n"&&v0(Jt[L])&&(I.t="d",I.v=uk(I.v)),S.cm&&u.xlmeta){var ze=(u.xlmeta.Cell||[])[+S.cm-1];ze&&ze.type=="XLDAPR"&&(I.D=!0)}if(ne){var se=Xs(S.r);d[se.r]||(d[se.r]=[]),d[se.r][se.c]=I}else d[S.r]=I}}}}U.length>0&&(d["!rows"]=U)}})();function HAe(r,e,t,s){var a=[],n=[],o=rs(r["!ref"]),l="",c,d="",u=[],h=0,m=0,p=r["!rows"],b=Array.isArray(r),x={r:d},y,w=-1;for(m=o.s.c;m<=o.e.c;++m)u[m]=Ys(m);for(h=o.s.r;h<=o.e.r;++h){for(n=[],d=pa(h),m=o.s.c;m<=o.e.c;++m){c=u[m]+d;var k=b?(r[h]||[])[m]:r[c];k!==void 0&&(l=zAe(k,c,r,e))!=null&&n.push(l)}(n.length>0||p&&p[h])&&(x={r:d},p&&p[h]&&(y=p[h],y.hidden&&(x.hidden=1),w=-1,y.hpx?w=Ex(y.hpx):y.hpt&&(w=y.hpt),w>-1&&(x.ht=w,x.customHeight=1),y.level&&(x.outlineLevel=y.level)),a[a.length]=Nt("row",n.join(""),x))}if(p)for(;h<p.length;++h)p&&p[h]&&(x={r:h+1},y=p[h],y.hidden&&(x.hidden=1),w=-1,y.hpx?w=Ex(y.hpx):y.hpt&&(w=y.hpt),w>-1&&(x.ht=w,x.customHeight=1),y.level&&(x.outlineLevel=y.level),a[a.length]=Nt("row","",x));return a.join("")}function tq(r,e,t,s){var a=[ya,Nt("worksheet",null,{xmlns:Yh[0],"xmlns:r":Ba.r})],n=t.SheetNames[r],o=0,l="",c=t.Sheets[n];c==null&&(c={});var d=c["!ref"]||"A1",u=rs(d);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=hr(u)}s||(s={}),c["!comments"]=[];var h=[];EAe(c,t,r,e,a),a[a.length]=Nt("dimension",null,{ref:d}),a[a.length]=UAe(c,e,r,t),e.sheetFormat&&(a[a.length]=Nt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=OAe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=HAe(c,e),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=CAe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=FAe(c["!autofilter"],c,t,r)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=SAe(c["!merges"]));var m=-1,p,b=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(p={ref:x[0]},x[1].Target.charAt(0)!="#"&&(b=bs(s,-1,vs(x[1].Target).replace(/#.*$/,""),Cr.HLINK),p["r:id"]="rId"+b),(m=x[1].Target.indexOf("#"))>-1&&(p.location=vs(x[1].Target.slice(m+1))),x[1].Tooltip&&(p.tooltip=vs(x[1].Tooltip)),a[a.length]=Nt("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=IAe(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=mn("ignoredErrors",Nt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),h.length>0&&(b=bs(s,-1,"../drawings/drawing"+(r+1)+".xml",Cr.DRAW),a[a.length]=Nt("drawing",null,{"r:id":"rId"+b}),c["!drawing"]=h),c["!comments"].length>0&&(b=bs(s,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Cr.VML),a[a.length]=Nt("legacyDrawing",null,{"r:id":"rId"+b}),c["!legacy"]=b),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function $Ae(r,e){var t={},s=r.l+e;t.r=r.read_shift(4),r.l+=4;var a=r.read_shift(2);r.l+=1;var n=r.read_shift(1);return r.l=s,n&7&&(t.level=n&7),n&16&&(t.hidden=!0),n&32&&(t.hpt=a/20),t}function WAe(r,e,t){var s=et(145),a=(t["!rows"]||[])[r]||{};s.write_shift(4,r),s.write_shift(4,0);var n=320;a.hpx?n=Ex(a.hpx)*20:a.hpt&&(n=a.hpt*20),s.write_shift(2,n),s.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),s.write_shift(1,o),s.write_shift(1,0);var l=0,c=s.l;s.l+=4;for(var d={r,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var h=-1,m=-1,p=u<<10;p<u+1<<10;++p){d.c=p;var b=Array.isArray(t)?(t[d.r]||[])[d.c]:t[tr(d)];b&&(h<0&&(h=p),m=p)}h<0||(++l,s.write_shift(4,h),s.write_shift(4,m))}var x=s.l;return s.l=c,s.write_shift(4,l),s.l=x,s.length>s.l?s.slice(0,s.l):s}function qAe(r,e,t,s){var a=WAe(s,t,e);(a.length>17||(e["!rows"]||[])[s])&&ht(r,0,a)}var GAe=Qh,YAe=_0;function XAe(){}function KAe(r,e){var t={},s=r[r.l];return++r.l,t.above=!(s&64),t.left=!(s&128),r.l+=18,t.name=J2e(r),t}function ZAe(r,e,t){t==null&&(t=et(84+4*r.length));var s=192;e&&(e.above&&(s&=-65),e.left&&(s&=-129)),t.write_shift(1,s);for(var a=1;a<3;++a)t.write_shift(1,0);return r2({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),Z$(r,t),t.slice(0,t.l)}function QAe(r){var e=yo(r);return[e]}function JAe(r,e,t){return t==null&&(t=et(8)),Xh(e,t)}function eTe(r){var e=Kh(r);return[e]}function tTe(r,e,t){return t==null&&(t=et(4)),Zh(e,t)}function rTe(r){var e=yo(r),t=r.read_shift(1);return[e,t,"b"]}function sTe(r,e,t){return t==null&&(t=et(9)),Xh(e,t),t.write_shift(1,r.v?1:0),t}function aTe(r){var e=Kh(r),t=r.read_shift(1);return[e,t,"b"]}function nTe(r,e,t){return t==null&&(t=et(5)),Zh(e,t),t.write_shift(1,r.v?1:0),t}function iTe(r){var e=yo(r),t=r.read_shift(1);return[e,t,"e"]}function oTe(r,e,t){return t==null&&(t=et(9)),Xh(e,t),t.write_shift(1,r.v),t}function lTe(r){var e=Kh(r),t=r.read_shift(1);return[e,t,"e"]}function cTe(r,e,t){return t==null&&(t=et(8)),Zh(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function dTe(r){var e=yo(r),t=r.read_shift(4);return[e,t,"s"]}function uTe(r,e,t){return t==null&&(t=et(12)),Xh(e,t),t.write_shift(4,e.v),t}function hTe(r){var e=Kh(r),t=r.read_shift(4);return[e,t,"s"]}function fTe(r,e,t){return t==null&&(t=et(8)),Zh(e,t),t.write_shift(4,e.v),t}function mTe(r){var e=yo(r),t=En(r);return[e,t,"n"]}function gTe(r,e,t){return t==null&&(t=et(16)),Xh(e,t),Oh(r.v,t),t}function rq(r){var e=Kh(r),t=En(r);return[e,t,"n"]}function pTe(r,e,t){return t==null&&(t=et(12)),Zh(e,t),Oh(r.v,t),t}function xTe(r){var e=yo(r),t=v4(r);return[e,t,"n"]}function bTe(r,e,t){return t==null&&(t=et(12)),Xh(e,t),Q$(r.v,t),t}function yTe(r){var e=Kh(r),t=v4(r);return[e,t,"n"]}function vTe(r,e,t){return t==null&&(t=et(8)),Zh(e,t),Q$(r.v,t),t}function wTe(r){var e=yo(r),t=x4(r);return[e,t,"is"]}function kTe(r){var e=yo(r),t=Pn(r);return[e,t,"str"]}function _Te(r,e,t){return t==null&&(t=et(12+4*r.v.length)),Xh(e,t),en(r.v,t),t.length>t.l?t.slice(0,t.l):t}function NTe(r){var e=Kh(r),t=Pn(r);return[e,t,"str"]}function STe(r,e,t){return t==null&&(t=et(8+4*r.v.length)),Zh(e,t),en(r.v,t),t.length>t.l?t.slice(0,t.l):t}function jTe(r,e,t){var s=r.l+e,a=yo(r);a.r=t["!row"];var n=r.read_shift(1),o=[a,n,"b"];if(t.cellFormula){r.l+=2;var l=mk(r,s-r.l,t);o[3]=Nn(l,null,a,t.supbooks,t)}else r.l=s;return o}function ETe(r,e,t){var s=r.l+e,a=yo(r);a.r=t["!row"];var n=r.read_shift(1),o=[a,n,"e"];if(t.cellFormula){r.l+=2;var l=mk(r,s-r.l,t);o[3]=Nn(l,null,a,t.supbooks,t)}else r.l=s;return o}function ATe(r,e,t){var s=r.l+e,a=yo(r);a.r=t["!row"];var n=En(r),o=[a,n,"n"];if(t.cellFormula){r.l+=2;var l=mk(r,s-r.l,t);o[3]=Nn(l,null,a,t.supbooks,t)}else r.l=s;return o}function TTe(r,e,t){var s=r.l+e,a=yo(r);a.r=t["!row"];var n=Pn(r),o=[a,n,"str"];if(t.cellFormula){r.l+=2;var l=mk(r,s-r.l,t);o[3]=Nn(l,null,a,t.supbooks,t)}else r.l=s;return o}var CTe=Qh,PTe=_0;function RTe(r,e){return e==null&&(e=et(4)),e.write_shift(4,r),e}function ITe(r,e){var t=r.l+e,s=Qh(r),a=b4(r),n=Pn(r),o=Pn(r),l=Pn(r);r.l=t;var c={rfx:s,relId:a,loc:n,display:l};return o&&(c.Tooltip=o),c}function DTe(r,e){var t=et(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));_0({s:Xs(r[0]),e:Xs(r[0])},t),y4("rId"+e,t);var s=r[1].Target.indexOf("#"),a=s==-1?"":r[1].Target.slice(s+1);return en(a||"",t),en(r[1].Tooltip||"",t),en("",t),t.slice(0,t.l)}function OTe(){}function MTe(r,e,t){var s=r.l+e,a=J$(r),n=r.read_shift(1),o=[a];if(o[2]=n,t.cellFormula){var l=iAe(r,s-r.l,t);o[1]=l}else r.l=s;return o}function FTe(r,e,t){var s=r.l+e,a=Qh(r),n=[a];if(t.cellFormula){var o=lAe(r,s-r.l,t);n[1]=o,r.l=s}else r.l=s;return n}function LTe(r,e,t){t==null&&(t=et(18));var s=gk(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(s.width||10)*256),t.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof s.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),t.write_shift(2,a),t}var sq=["left","right","top","bottom","header","footer"];function BTe(r){var e={};return sq.forEach(function(t){e[t]=En(r)}),e}function UTe(r,e){return e==null&&(e=et(48)),xh(r),sq.forEach(function(t){Oh(r[t],e)}),e}function zTe(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function VTe(r,e,t){t==null&&(t=et(30));var s=924;return(((e||{}).Views||[])[0]||{}).RTL&&(s|=32),t.write_shift(2,s),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function HTe(r){var e=et(24);return e.write_shift(4,4),e.write_shift(4,1),_0(r,e),e}function $Te(r,e){return e==null&&(e=et(66)),e.write_shift(2,r.password?j4(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function WTe(){}function qTe(){}function GTe(r,e,t,s,a,n,o){if(!r)return r;var l=e||{};s||(s={"!id":{}});var c=l.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,m=!1,p,b,x,y,w,k,N,T,E,I=[];l.biff=12,l["!row"]=0;var S=0,A=!1,P=[],O={},M=l.supbooks||a.supbooks||[[]];if(M.sharedf=O,M.arrayf=P,M.SheetNames=a.SheetNames||a.Sheets.map(function(ne){return ne.name}),!l.supbooks&&(l.supbooks=M,a.Names))for(var L=0;L<a.Names.length;++L)M[0][L+1]=a.Names[L];var B=[],G=[],X=!1;Ax[16]={n:"BrtShortReal",f:rq};var H;if(Fc(r,function(U,z,Q){if(!m)switch(Q){case 148:d=U;break;case 0:p=U,l.sheetRows&&l.sheetRows<=p.r&&(m=!0),T=pa(y=p.r),l["!row"]=p.r,(U.hidden||U.hpt||U.level!=null)&&(U.hpt&&(U.hpx=Ym(U.hpt)),G[U.r]=U);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:U[2]},U[2]){case"n":b.v=U[1];break;case"s":N=Dp[U[1]],b.v=N.t,b.r=N.r;break;case"b":b.v=!!U[1];break;case"e":b.v=U[1],l.cellText!==!1&&(b.w=Lc[b.v]);break;case"str":b.t="s",b.v=U[1];break;case"is":b.t="s",b.v=U[1].t;break}if((x=o.CellXf[U[0].iStyleRef])&&JW(b,x.numFmtId,null,l,n,o),w=U[0].c==-1?w+1:U[0].c,l.dense?(c[y]||(c[y]=[]),c[y][w]=b):c[Ys(w)+T]=b,l.cellFormula){for(A=!1,S=0;S<P.length;++S){var q=P[S];p.r>=q[0].s.r&&p.r<=q[0].e.r&&w>=q[0].s.c&&w<=q[0].e.c&&(b.F=hr(q[0]),A=!0)}!A&&U.length>3&&(b.f=U[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>w&&(u.s.c=w),u.e.r<p.r&&(u.e.r=p.r),u.e.c<w&&(u.e.c=w),l.cellDates&&x&&b.t=="n"&&v0(Jt[x.numFmtId])){var Z=ih(b.v);Z&&(b.t="d",b.v=new Date(Z.y,Z.m-1,Z.d,Z.H,Z.M,Z.S,Z.u))}H&&(H.type=="XLDAPR"&&(b.D=!0),H=void 0);break;case 1:case 12:if(!l.sheetStubs||h)break;b={t:"z",v:void 0},w=U[0].c==-1?w+1:U[0].c,l.dense?(c[y]||(c[y]=[]),c[y][w]=b):c[Ys(w)+T]=b,u.s.r>p.r&&(u.s.r=p.r),u.s.c>w&&(u.s.c=w),u.e.r<p.r&&(u.e.r=p.r),u.e.c<w&&(u.e.c=w),H&&(H.type=="XLDAPR"&&(b.D=!0),H=void 0);break;case 176:I.push(U);break;case 49:H=((l.xlmeta||{}).Cell||[])[U-1];break;case 494:var J=s["!id"][U.relId];for(J?(U.Target=J.Target,U.loc&&(U.Target+="#"+U.loc),U.Rel=J):U.relId==""&&(U.Target="#"+U.loc),y=U.rfx.s.r;y<=U.rfx.e.r;++y)for(w=U.rfx.s.c;w<=U.rfx.e.c;++w)l.dense?(c[y]||(c[y]=[]),c[y][w]||(c[y][w]={t:"z",v:void 0}),c[y][w].l=U):(k=tr({c:w,r:y}),c[k]||(c[k]={t:"z",v:void 0}),c[k].l=U);break;case 426:if(!l.cellFormula)break;P.push(U),E=l.dense?c[y][w]:c[Ys(w)+T],E.f=Nn(U[1],u,{r:p.r,c:w},M,l),E.F=hr(U[0]);break;case 427:if(!l.cellFormula)break;O[tr(U[0].s)]=U[1],E=l.dense?c[y][w]:c[Ys(w)+T],E.f=Nn(U[1],u,{r:p.r,c:w},M,l);break;case 60:if(!l.cellStyles)break;for(;U.e>=U.s;)B[U.e--]={width:U.w/256,hidden:!!(U.flags&1),level:U.level},X||(X=!0,E4(U.w/256)),Yd(B[U.e+1]);break;case 161:c["!autofilter"]={ref:hr(U)};break;case 476:c["!margins"]=U;break;case 147:a.Sheets[t]||(a.Sheets[t]={}),U.name&&(a.Sheets[t].CodeName=U.name),(U.above||U.left)&&(c["!outline"]={above:U.above,left:U.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),U.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!z.T){if(!h||l.WTF)throw new Error("Unexpected record 0x"+Q.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=hr(d||u)),l.sheetRows&&c["!ref"]){var W=rs(c["!ref"]);l.sheetRows<=+W.e.r&&(W.e.r=l.sheetRows-1,W.e.r>u.e.r&&(W.e.r=u.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>u.e.c&&(W.e.c=u.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),c["!fullref"]=c["!ref"],c["!ref"]=hr(W))}return I.length>0&&(c["!merges"]=I),B.length>0&&(c["!cols"]=B),G.length>0&&(c["!rows"]=G),c}function YTe(r,e,t,s,a,n,o){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=zs(e),e.z=e.z||Jt[14],e.v=Ha(Us(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r:t,c:s};switch(c.s=nu(a.cellXfs,e,a),e.l&&n["!links"].push([tr(c),e.l]),e.c&&n["!comments"].push([tr(c),e.c]),e.t){case"s":case"str":return a.bookSST?(l=R4(a.Strings,e.v,a.revStrings),c.t="s",c.v=l,o?ht(r,18,fTe(e,c)):ht(r,7,uTe(e,c))):(c.t="str",o?ht(r,17,STe(e,c)):ht(r,6,_Te(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?ht(r,13,vTe(e,c)):ht(r,2,bTe(e,c)):o?ht(r,16,pTe(e,c)):ht(r,5,gTe(e,c)),!0;case"b":return c.t="b",o?ht(r,15,nTe(e,c)):ht(r,4,sTe(e,c)),!0;case"e":return c.t="e",o?ht(r,14,cTe(e,c)):ht(r,3,oTe(e,c)),!0}return o?ht(r,12,tTe(e,c)):ht(r,1,JAe(e,c)),!0}function XTe(r,e,t,s){var a=rs(e["!ref"]||"A1"),n,o="",l=[];ht(r,145);var c=Array.isArray(e),d=a.e.r;e["!rows"]&&(d=Math.max(a.e.r,e["!rows"].length-1));for(var u=a.s.r;u<=d;++u){o=pa(u),qAe(r,e,a,u);var h=!1;if(u<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){u===a.s.r&&(l[m]=Ys(m)),n=l[m]+o;var p=c?(e[u]||[])[m]:e[n];if(!p){h=!1;continue}h=YTe(r,p,u,m,s,e,h)}}ht(r,146)}function KTe(r,e){!e||!e["!merges"]||(ht(r,177,RTe(e["!merges"].length)),e["!merges"].forEach(function(t){ht(r,176,PTe(t))}),ht(r,178))}function ZTe(r,e){!e||!e["!cols"]||(ht(r,390),e["!cols"].forEach(function(t,s){t&&ht(r,60,LTe(s,t))}),ht(r,391))}function QTe(r,e){!e||!e["!ref"]||(ht(r,648),ht(r,649,HTe(rs(e["!ref"]))),ht(r,650))}function JTe(r,e,t){e["!links"].forEach(function(s){if(s[1].Target){var a=bs(t,-1,s[1].Target.replace(/#.*$/,""),Cr.HLINK);ht(r,494,DTe(s,a))}}),delete e["!links"]}function eCe(r,e,t,s){if(e["!comments"].length>0){var a=bs(s,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Cr.VML);ht(r,551,y4("rId"+a)),e["!legacy"]=a}}function tCe(r,e,t,s){if(e["!autofilter"]){var a=e["!autofilter"],n=typeof a.ref=="string"?a.ref:hr(a.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,l=mi(n);l.s.r==l.e.r&&(l.e.r=mi(e["!ref"]).e.r,n=hr(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==s){d.Ref="'"+t.SheetNames[s]+"'!"+n;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+t.SheetNames[s]+"'!"+n}),ht(r,161,_0(rs(n))),ht(r,162)}}function rCe(r,e,t){ht(r,133),ht(r,137,VTe(e,t)),ht(r,138),ht(r,134)}function sCe(r,e){e["!protect"]&&ht(r,535,$Te(e["!protect"]))}function aCe(r,e,t,s){var a=hi(),n=t.SheetNames[r],o=t.Sheets[n]||{},l=n;try{t&&t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}var c=rs(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ht(a,129),(t.vbaraw||o["!outline"])&&ht(a,147,ZAe(l,o["!outline"])),ht(a,148,YAe(c)),rCe(a,o,t.Workbook),ZTe(a,o),XTe(a,o,r,e),sCe(a,o),tCe(a,o,t,r),KTe(a,o),JTe(a,o,s),o["!margins"]&&ht(a,476,UTe(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&QTe(a,o),eCe(a,o,r,s),ht(a,130),a.end()}function nCe(r){var e=[],t=r.match(/^<c:numCache>/),s;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(n){var o=n.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=t?+o[2]:o[2])});var a=ts((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(n){s=n.replace(/<.*?>/g,"")}),[e,a,s]}function iCe(r,e,t,s,a,n){var o=n||{"!type":"chart"};if(!r)return n;var l=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var m=nCe(h);u.s.r=u.s.c=0,u.e.c=l,d=Ys(l),m[0].forEach(function(p,b){o[d+pa(b)]={t:"n",v:p,z:m[1]},c=b}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(o["!ref"]=hr(u)),o}function oCe(r,e,t,s,a){if(!r)return r;s||(s={"!id":{}});var n={"!type":"chart","!drawel":null,"!rel":""},o,l=r.match(eq);return l&&I4(l[0],n,a,t),(o=r.match(/drawing r:id="(.*?)"/))&&(n["!rel"]=o[1]),s["!id"][n["!rel"]]&&(n["!drawel"]=s["!id"][n["!rel"]]),n}function lCe(r,e){r.l+=10;var t=Pn(r);return{name:t}}function cCe(r,e,t,s,a){if(!r)return r;s||(s={"!id":{}});var n={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Fc(r,function(c,d,u){switch(u){case 550:n["!rel"]=c;break;case 651:a.Sheets[t]||(a.Sheets[t]={}),c.name&&(a.Sheets[t].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),s["!id"][n["!rel"]]&&(n["!drawel"]=s["!id"][n["!rel"]]),n}var D4=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],dCe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],uCe=[],hCe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function e8(r,e){for(var t=0;t!=r.length;++t)for(var s=r[t],a=0;a!=e.length;++a){var n=e[a];if(s[n[0]]==null)s[n[0]]=n[1];else switch(n[2]){case"bool":typeof s[n[0]]=="string"&&(s[n[0]]=Ls(s[n[0]]));break;case"int":typeof s[n[0]]=="string"&&(s[n[0]]=parseInt(s[n[0]],10));break}}}function t8(r,e){for(var t=0;t!=e.length;++t){var s=e[t];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=Ls(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function aq(r){t8(r.WBProps,D4),t8(r.CalcPr,hCe),e8(r.WBView,dCe),e8(r.Sheets,uCe),Em.date1904=Ls(r.WBProps.date1904)}function fCe(r){return!r.Workbook||!r.Workbook.WBProps?"false":Ls(r.Workbook.WBProps.date1904)?"true":"false"}var mCe="][*?/\\".split("");function nq(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return mCe.forEach(function(s){if(r.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function gCe(r,e,t){r.forEach(function(s,a){nq(s);for(var n=0;n<a;++n)if(s==r[n])throw new Error("Duplicate Sheet Name: "+s);if(t){var o=e&&e[a]&&e[a].CodeName||s;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function pCe(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];gCe(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)fAe(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}var xCe=/<\w+:workbook/;function bCe(r,e){if(!r)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},s=!1,a="xmlns",n={},o=0;if(r.replace(Dn,function(c,d){var u=ar(c);switch(Dl(u[0])){case"<?xml":break;case"<workbook":c.match(xCe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),t.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],t.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":D4.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":t.WBProps[h[0]]=Ls(u[h[0]]);break;case"int":t.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:t.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(t.WBProps.CodeName=As(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],t.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=ts(As(u.name)),delete u[0],t.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":s=!0;break;case"</definedNames>":s=!1;break;case"<definedName":n={},n.Name=As(u.name),u.comment&&(n.Comment=u.comment),u.localSheetId&&(n.Sheet=+u.localSheetId),Ls(u.hidden||"0")&&(n.Hidden=!0),o=d+c.length;break;case"</definedName>":n.Ref=ts(As(r.slice(o,d))),t.Names.push(n);break;case"<definedName/>":break;case"<calcPr":delete u[0],t.CalcPr=u;break;case"<calcPr/>":delete u[0],t.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":s=!0;break;case"</AlternateContent>":s=!1;break;case"<revisionPtr":break;default:if(!s&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),Yh.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return aq(t),t}function iq(r){var e=[ya];e[e.length]=Nt("workbook",null,{xmlns:Yh[0],"xmlns:r":Ba.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(D4.forEach(function(l){r.Workbook.WBProps[l[0]]!=null&&r.Workbook.WBProps[l[0]]!=l[1]&&(s[l[0]]=r.Workbook.WBProps[l[0]])}),r.Workbook.WBProps.CodeName&&(s.codeName=r.Workbook.WBProps.CodeName,delete s.CodeName)),e[e.length]=Nt("workbookPr",null,s);var a=r.Workbook&&r.Workbook.Sheets||[],n=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",n=0;n!=r.SheetNames.length&&!(!a[n]||!a[n].Hidden);++n);n==r.SheetNames.length&&(n=0),e[e.length]='<workbookView firstSheet="'+n+'" activeTab="'+n+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",n=0;n!=r.SheetNames.length;++n){var o={name:vs(r.SheetNames[n].slice(0,31))};if(o.sheetId=""+(n+1),o["r:id"]="rId"+(n+1),a[n])switch(a[n].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Nt("sheet",null,o)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=Nt("definedName",vs(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function yCe(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=YE(r),t.name=Pn(r),t}function vCe(r,e){return e||(e=et(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),y4(r.strRelID,e),en(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function wCe(r,e){var t={},s=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var a=e>8?Pn(r):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(s&65536),t.backupFile=!!(s&64),t.checkCompatibility=!!(s&4096),t.date1904=!!(s&1),t.filterPrivacy=!!(s&8),t.hidePivotFieldList=!!(s&1024),t.promptedSolutions=!!(s&16),t.publishItems=!!(s&2048),t.refreshAllConnections=!!(s&262144),t.saveExternalLinkValues=!!(s&128),t.showBorderUnselectedTables=!!(s&4),t.showInkAnnotation=!!(s&32),t.showObjects=["all","placeholders","none"][s>>13&3],t.showPivotChartFilter=!!(s&32768),t.updateLinks=["userSet","never","always"][s>>8&3],t}function kCe(r,e){e||(e=et(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),Z$(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function _Ce(r,e){var t={};return r.read_shift(4),t.ArchID=r.read_shift(4),r.l+=e-8,t}function NCe(r,e,t){var s=r.l+e;r.l+=4,r.l+=1;var a=r.read_shift(4),n=eke(r),o=oAe(r,0,t),l=b4(r);r.l=s;var c={Name:n,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function SCe(r,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},s=[],a=!1;e||(e={}),e.biff=12;var n=[],o=[[]];return o.SheetNames=[],o.XTI=[],Ax[16]={n:"BrtFRTArchID$",f:_Ce},Fc(r,function(c,d,u){switch(u){case 156:o.SheetNames.push(c.name),t.Sheets.push(c);break;case 153:t.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=Nn(c.Ptg,null,null,o,e),delete e.SID,delete c.Ptg,n.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,c]):o[0]=[u,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;case 16:break;default:if(!d.T){if(!a||e.WTF&&s[s.length-1]!=37&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),aq(t),t.Names=n,t.supbooks=o,t}function jCe(r,e){ht(r,143);for(var t=0;t!=e.SheetNames.length;++t){var s=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,a={Hidden:s,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};ht(r,156,vCe(a))}ht(r,144)}function ECe(r,e){e||(e=et(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return en("SheetJS",e),en(Xw.version,e),en(Xw.version,e),en("7262",e),e.length>e.l?e.slice(0,e.l):e}function ACe(r,e){e||(e=et(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function TCe(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,s=0,a=-1,n=-1;s<t.length;++s)!t[s]||!t[s].Hidden&&a==-1?a=s:t[s].Hidden==1&&n==-1&&(n=s);n>a||(ht(r,135),ht(r,158,ACe(a)),ht(r,136))}}function CCe(r,e){var t=hi();return ht(t,131),ht(t,128,ECe()),ht(t,153,kCe(r.Workbook&&r.Workbook.WBProps||null)),TCe(t,r),jCe(t,r),ht(t,132),t.end()}function PCe(r,e,t){return e.slice(-4)===".bin"?SCe(r,t):bCe(r,t)}function RCe(r,e,t,s,a,n,o,l){return e.slice(-4)===".bin"?GTe(r,s,t,a,n,o,l):NAe(r,s,t,a,n,o,l)}function ICe(r,e,t,s,a,n,o,l){return e.slice(-4)===".bin"?cCe(r,s,t,a,n):oCe(r,s,t,a,n)}function DCe(r,e,t,s,a,n,o,l){return e.slice(-4)===".bin"?Mje():Fje()}function OCe(r,e,t,s,a,n,o,l){return e.slice(-4)===".bin"?Dje():Oje()}function MCe(r,e,t,s){return e.slice(-4)===".bin"?PSe(r,t,s):ySe(r,t,s)}function FCe(r,e,t){return UW(r,t)}function LCe(r,e,t){return e.slice(-4)===".bin"?LNe(r,t):ONe(r,t)}function BCe(r,e,t){return e.slice(-4)===".bin"?Tje(r,t):vje(r,t)}function UCe(r,e,t){return e.slice(-4)===".bin"?xje(r):gje(r)}function zCe(r,e,t,s){return t.slice(-4)===".bin"?bje(r,e,t,s):void 0}function VCe(r,e,t){return e.slice(-4)===".bin"?hje(r,e,t):mje(r,e,t)}function HCe(r,e,t){return(e.slice(-4)===".bin"?CCe:iq)(r)}function $Ce(r,e,t,s,a){return(e.slice(-4)===".bin"?aCe:tq)(r,t,s,a)}function WCe(r,e,t){return(e.slice(-4)===".bin"?zSe:LW)(r,t)}function qCe(r,e,t){return(e.slice(-4)===".bin"?zNe:CW)(r,t)}function GCe(r,e,t){return(e.slice(-4)===".bin"?Cje:HW)(r)}function YCe(r){return(r.slice(-4)===".bin"?fje:zW)()}var oq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,lq=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function So(r,e){var t=r.split(/\s+/),s=[];if(s[0]=t[0],t.length===1)return s;var a=r.match(oq),n,o,l,c;if(a)for(c=0;c!=a.length;++c)n=a[c].match(lq),(o=n[1].indexOf(":"))===-1?s[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?l="xmlns"+n[1].slice(6):l=n[1].slice(o+1),s[l]=n[2].slice(1,n[2].length-1));return s}function XCe(r){var e=r.split(/\s+/),t={};if(e.length===1)return t;var s=r.match(oq),a,n,o,l;if(s)for(l=0;l!=s.length;++l)a=s[l].match(lq),(n=a[1].indexOf(":"))===-1?t[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(n+1),t[o]=a[2].slice(1,a[2].length-1));return t}var Mp;function KCe(r,e){var t=Mp[r]||ts(r);return t==="General"?Ih(e):bo(t,e)}function ZCe(r,e,t,s){var a=s;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ls(s);break;case"i2":case"int":a=parseInt(s,10);break;case"r4":case"float":a=parseFloat(s);break;case"date":case"dateTime.tz":a=Us(s);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}r[ts(e)]=a}function QCe(r,e,t){if(r.t!=="z"){if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Lc[r.v]:e==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=yx(r.v):r.w=Ih(r.v):r.w=KCe(e||"General",r.v)}catch(n){if(t.WTF)throw n}try{var s=Mp[e]||e||"General";if(t.cellNF&&(r.z=s),t.cellDates&&r.t=="n"&&v0(s)){var a=ih(r.v);a&&(r.t="d",r.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(n){if(t.WTF)throw n}}}function JCe(r,e,t){if(t.cellStyles&&e.Interior){var s=e.Interior;s.Pattern&&(s.patternType=uSe[s.Pattern]||s.Pattern)}r[e.ID]=e}function e4e(r,e,t,s,a,n,o,l,c,d){var u="General",h=s.StyleID,m={};d=d||{};var p=[],b=0;for(h===void 0&&l&&(h=l.StyleID),h===void 0&&o&&(h=o.StyleID);n[h]!==void 0&&(n[h].nf&&(u=n[h].nf),n[h].Interior&&p.push(n[h].Interior),!!n[h].Parent);)h=n[h].Parent;switch(t.Type){case"Boolean":s.t="b",s.v=Ls(r);break;case"String":s.t="s",s.r=bL(ts(r)),s.v=r.indexOf("<")>-1?ts(e||r).replace(/<.*?>/g,""):s.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),s.v=(Us(r)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),s.v!==s.v?s.v=ts(r):s.v<60&&(s.v=s.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":s.v===void 0&&(s.v=+r),s.t||(s.t="n");break;case"Error":s.t="e",s.v=rW[r],d.cellText!==!1&&(s.w=r);break;default:r==""&&e==""?s.t="z":(s.t="s",s.v=bL(e||r));break}if(QCe(s,u,d),d.cellFormula!==!1)if(s.Formula){var x=ts(s.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),s.f=jm(x,a),delete s.Formula,s.ArrayRange=="RC"?s.F=jm("RC:RC",a):s.ArrayRange&&(s.F=jm(s.ArrayRange,a),c.push([rs(s.F),s.F]))}else for(b=0;b<c.length;++b)a.r>=c[b][0].s.r&&a.r<=c[b][0].e.r&&a.c>=c[b][0].s.c&&a.c<=c[b][0].e.c&&(s.F=c[b][1]);d.cellStyles&&(p.forEach(function(y){!m.patternType&&y.patternType&&(m.patternType=y.patternType)}),s.s=m),s.StyleID!==void 0&&(s.ixfe=s.StyleID)}function t4e(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function tj(r,e){var t=e||{};w0();var s=ip(h4(r));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(s=As(s));var a=s.slice(0,1024).toLowerCase(),n=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=zs(t);return o.type="string",Gm.to_workbook(s,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(gt){a.indexOf("<"+gt)>=0&&(n=!0)}),n)return U4e(s,t);Mp={"General Number":"General","General Date":Jt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Jt[15],"Short Date":Jt[14],"Long Time":Jt[19],"Medium Time":Jt[18],"Short Time":Jt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Jt[2],Standard:Jt[4],Percent:Jt[10],Scientific:Jt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],d,u={},h=[],m=t.dense?[]:{},p="",b={},x={},y=So('<Data ss:Type="String">'),w=0,k=0,N=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},I={},S="",A=0,P=[],O={},M={},L=0,B=[],G=[],X={},H=[],W,ne=!1,U=[],z=[],Q={},q=0,Z=0,J={Sheets:[],WBProps:{date1904:!1}},re={};kx.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"");for(var de="";l=kx.exec(s);)switch(l[3]=(de=l[3]).toLowerCase()){case"data":if(de=="data"){if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?e4e(s.slice(w,l.index),S,y,c[c.length-1][0]=="comment"?X:b,{c:k,r:N},E,H[k],x,U,t):(S="",y=So(l[0]),w=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(G.length>0&&(b.c=G),(!t.sheetRows||t.sheetRows>N)&&b.v!==void 0&&(t.dense?(m[N]||(m[N]=[]),m[N][k]=b):m[Ys(k)+pa(N)]=b),b.HRef&&(b.l={Target:ts(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(q=k+(parseInt(b.MergeAcross,10)|0),Z=N+(parseInt(b.MergeDown,10)|0),P.push({s:{c:k,r:N},e:{c:q,r:Z}})),!t.sheetStubs)b.MergeAcross?k=q+1:++k;else if(b.MergeAcross||b.MergeDown){for(var Se=k;Se<=q;++Se)for(var je=N;je<=Z;++je)(Se>k||je>N)&&(t.dense?(m[je]||(m[je]=[]),m[je][Se]={t:"z"}):m[Ys(Se)+pa(je)]={t:"z"});k=q+1}else++k;else b=XCe(l[0]),b.Index&&(k=+b.Index-1),k<T.s.c&&(T.s.c=k),k>T.e.c&&(T.e.c=k),l[0].slice(-2)==="/>"&&++k,G=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(N<T.s.r&&(T.s.r=N),N>T.e.r&&(T.e.r=N),l[0].slice(-2)==="/>"&&(x=So(l[0]),x.Index&&(N=+x.Index-1)),k=0,++N):(x=So(l[0]),x.Index&&(N=+x.Index-1),Q={},(x.AutoFitHeight=="0"||x.Height)&&(Q.hpx=parseInt(x.Height,10),Q.hpt=Ex(Q.hpx),z[N]=Q),x.Hidden=="1"&&(Q.hidden=!0,z[N]=Q));break;case"worksheet":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));h.push(p),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(m["!ref"]=hr(T),t.sheetRows&&t.sheetRows<=T.e.r&&(m["!fullref"]=m["!ref"],T.e.r=t.sheetRows-1,m["!ref"]=hr(T))),P.length&&(m["!merges"]=P),H.length>0&&(m["!cols"]=H),z.length>0&&(m["!rows"]=z),u[p]=m}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},N=k=0,c.push([l[3],!1]),d=So(l[0]),p=ts(d.Name),m=t.dense?[]:{},P=[],U=[],z=[],re={name:p,Hidden:0},J.Sheets.push(re);break;case"table":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),H=[],ne=!1}break;case"style":l[1]==="/"?JCe(E,I,t):I=So(l[0]);break;case"numberformat":I.nf=ts(So(l[0]).Format||"General"),Mp[I.nf]&&(I.nf=Mp[I.nf]);for(var Ne=0;Ne!=392&&Jt[Ne]!=I.nf;++Ne);if(Ne==392){for(Ne=57;Ne!=392;++Ne)if(Jt[Ne]==null){yc(I.nf,Ne);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(W=So(l[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!ne&&W.wpx>10){ne=!0,Sn=MW;for(var xe=0;xe<H.length;++xe)H[xe]&&Yd(H[xe])}ne&&Yd(W),H[W.Index-1||H.length]=W;for(var ze=0;ze<+W.Span;++ze)H[H.length]=zs(W);break;case"namedrange":if(l[1]==="/")break;J.Names||(J.Names=[]);var se=ar(l[0]),fe={Name:se.Name,Ref:jm(se.RefersTo.slice(1),{r:0,c:0})};J.Sheets.length>0&&(fe.Sheet=J.Sheets.length-1),J.Names.push(fe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?S+=s.slice(A,l.index):A=l.index+l[0].length;break;case"interior":if(!t.cellStyles)break;I.Interior=So(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Ske(O,de,s.slice(L,l.index)):L=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));t4e(X),G.push(X)}else c.push([l[3],!1]),d=So(l[0]),X={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Te=So(l[0]);m["!autofilter"]={ref:jm(Te.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return i8(s,t);var Ce=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ce=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ce=!1}break;case"excelworkbook":switch(l[3]){case"date1904":J.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ce=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ce=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(s.slice(L,l.index)){case"SheetHidden":re.Hidden=1;break;case"SheetVeryHidden":re.Hidden=2;break}else L=l.index+l[0].length;break;case"header":m["!margins"]||xh(m["!margins"]={},"xlml"),isNaN(+ar(l[0]).Margin)||(m["!margins"].header=+ar(l[0]).Margin);break;case"footer":m["!margins"]||xh(m["!margins"]={},"xlml"),isNaN(+ar(l[0]).Margin)||(m["!margins"].footer=+ar(l[0]).Margin);break;case"pagemargins":var Be=ar(l[0]);m["!margins"]||xh(m["!margins"]={},"xlml"),isNaN(+Be.Top)||(m["!margins"].top=+Be.Top),isNaN(+Be.Left)||(m["!margins"].left=+Be.Left),isNaN(+Be.Right)||(m["!margins"].right=+Be.Right),isNaN(+Be.Bottom)||(m["!margins"].bottom=+Be.Bottom);break;case"displayrighttoleft":J.Views||(J.Views=[]),J.Views[0]||(J.Views[0]={}),J.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ce=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ce=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ce=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ce=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ce=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ce=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ce=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ce=!1}break;case"smarttags":break;default:Ce=!1;break}if(Ce||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?ZCe(M,de,B,s.slice(L,l.index)):(B=l,L=l.index+l[0].length);break}if(t.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Ue={};return!t.bookSheets&&!t.bookProps&&(Ue.Sheets=u),Ue.SheetNames=h,Ue.Workbook=J,Ue.SSF=zs(Jt),Ue.Props=O,Ue.Custprops=M,Ue}function tA(r,e){switch(M4(e=e||{}),e.type||"base64"){case"base64":return tj(Fi(r),e);case"binary":case"buffer":case"file":return tj(r,e);case"array":return tj(su(r),e)}}function r4e(r,e){var t=[];return r.Props&&t.push(jke(r.Props,e)),r.Custprops&&t.push(Eke(r.Props,r.Custprops)),t.join("")}function s4e(){return""}function a4e(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(s,a){var n=[];n.push(Nt("NumberFormat",null,{"ss:Format":vs(Jt[s.numFmtId])}));var o={"ss:ID":"s"+(21+a)};t.push(Nt("Style",n.join(""),o))}),Nt("Styles",t.join(""))}function cq(r){return Nt("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+C4(r.Ref,{r:0,c:0})})}function n4e(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],s=0;s<e.length;++s){var a=e[s];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||t.push(cq(a)))}return Nt("Names",t.join(""))}function i4e(r,e,t,s){if(!r||!((s||{}).Workbook||{}).Names)return"";for(var a=s.Workbook.Names,n=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==t&&(l.Name.match(/^_xlfn\./)||n.push(cq(l)))}return n.join("")}function o4e(r,e,t,s){if(!r)return"";var a=[];if(r["!margins"]&&(a.push("<PageSetup>"),r["!margins"].header&&a.push(Nt("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&a.push(Nt("Footer",null,{"x:Margin":r["!margins"].footer})),a.push(Nt("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),a.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[t])if(s.Workbook.Sheets[t].Hidden)a.push(Nt("Visible",s.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var n=0;n<t&&!(s.Workbook.Sheets[n]&&!s.Workbook.Sheets[n].Hidden);++n);n==t&&a.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),r["!protect"]&&(a.push(mn("ProtectContents","True")),r["!protect"].objects&&a.push(mn("ProtectObjects","True")),r["!protect"].scenarios&&a.push(mn("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?a.push(mn("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&a.push(mn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){r["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Nt("WorksheetOptions",a.join(""),{xmlns:Ei.x})}function l4e(r){return r.map(function(e){var t=T2e(e.t||""),s=Nt("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Nt("Comment",s,{"ss:Author":e.a})}).join("")}function c4e(r,e,t,s,a,n,o){if(!r||r.v==null&&r.f==null)return"";var l={};if(r.f&&(l["ss:Formula"]="="+vs(C4(r.f,o))),r.F&&r.F.slice(0,e.length)==e){var c=Xs(r.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(r.l&&r.l.Target&&(l["ss:HRef"]=vs(r.l.Target),r.l.Tooltip&&(l["x:HRefScreenTip"]=vs(r.l.Tooltip))),t["!merges"])for(var d=t["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var h="",m="";switch(r.t){case"z":if(!s.sheetStubs)return"";break;case"n":h="Number",m=String(r.v);break;case"b":h="Boolean",m=r.v?"1":"0";break;case"e":h="Error",m=Lc[r.v];break;case"d":h="DateTime",m=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||Jt[14]);break;case"s":h="String",m=A2e(r.v||"");break}var p=nu(s.cellXfs,r,s);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var b=r.v!=null?m:"",x=r.t=="z"?"":'<Data ss:Type="'+h+'">'+b+"</Data>";return(r.c||[]).length>0&&(x+=l4e(r.c)),Nt("Cell",x,l)}function d4e(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Ym(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function u4e(r,e,t,s){if(!r["!ref"])return"";var a=rs(r["!ref"]),n=r["!merges"]||[],o=0,l=[];r["!cols"]&&r["!cols"].forEach(function(y,w){Yd(y);var k=!!y.width,N=gk(w,y),T={"ss:Index":w+1};k&&(T["ss:Width"]=Sx(N.width)),y.hidden&&(T["ss:Hidden"]="1"),l.push(Nt("Column",null,T))});for(var c=Array.isArray(r),d=a.s.r;d<=a.e.r;++d){for(var u=[d4e(d,(r["!rows"]||[])[d])],h=a.s.c;h<=a.e.c;++h){var m=!1;for(o=0;o!=n.length;++o)if(!(n[o].s.c>h)&&!(n[o].s.r>d)&&!(n[o].e.c<h)&&!(n[o].e.r<d)){(n[o].s.c!=h||n[o].s.r!=d)&&(m=!0);break}if(!m){var p={r:d,c:h},b=tr(p),x=c?(r[d]||[])[h]:r[b];u.push(c4e(x,b,r,e,t,s,p))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function h4e(r,e,t){var s=[],a=t.SheetNames[r],n=t.Sheets[a],o=n?i4e(n,e,r,t):"";return o.length>0&&s.push("<Names>"+o+"</Names>"),o=n?u4e(n,e,r,t):"",o.length>0&&s.push("<Table>"+o+"</Table>"),s.push(o4e(n,e,r,t)),s.join("")}function f4e(r,e){e||(e={}),r.SSF||(r.SSF=zs(Jt)),r.SSF&&(w0(),lk(r.SSF),e.revssf=dk(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],nu(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(r4e(r,e)),t.push(s4e()),t.push(""),t.push("");for(var s=0;s<r.SheetNames.length;++s)t.push(Nt("Worksheet",h4e(s,e,r),{"ss:Name":vs(r.SheetNames[s])}));return t[2]=a4e(r,e),t[3]=n4e(r),ya+Nt("Workbook",t.join(""),{xmlns:Ei.ss,"xmlns:o":Ei.o,"xmlns:x":Ei.x,"xmlns:ss":Ei.ss,"xmlns:dt":Ei.dt,"xmlns:html":Ei.html})}function m4e(r){var e={},t=r.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=nke(t),t.length-t.l<=4)return e;var s=t.read_shift(4);if(s==0||s>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(s=t.read_shift(4),s!==1907505652)||(e.UnicodeClipboardFormat=ike(t),s=t.read_shift(4),s==0||s>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var g4e=[60,1084,2066,2165,2175];function p4e(r,e,t,s,a){var n=s,o=[],l=t.slice(t.l,t.l+n);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),t.l+=n;for(var c=mc(t,t.l),d=rA[c],u=0;d!=null&&g4e.indexOf(c)>-1;)n=mc(t,t.l+2),u=t.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=t.slice(u,t.l+4+n),o.push(l),t.l+=4+n,d=rA[c=mc(t,t.l)];var h=Ja(o);un(h,0);var m=0;h.lens=[];for(var p=0;p<o.length;++p)h.lens.push(m),m+=o[p].length;if(h.length<s)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+h.length+" < "+s;return e.f(h,h.length,a)}function il(r,e,t){if(r.t!=="z"&&r.XF){var s=0;try{s=r.z||r.XF.numFmtId||0,e.cellNF&&(r.z=Jt[s])}catch(n){if(e.WTF)throw n}if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Lc[r.v]:s===0||s=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=yx(r.v):r.w=Ih(r.v):r.w=bo(s,r.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(n){if(e.WTF)throw n}if(e.cellDates&&s&&r.t=="n"&&v0(Jt[s]||String(s))){var a=ih(r.v);a&&(r.t="d",r.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function y1(r,e,t){return{v:r,ixfe:e,t}}function x4e(r,e){var t={opts:{}},s={},a=e.dense?[]:{},n={},o={},l=null,c=[],d="",u={},h,m="",p,b,x,y,w={},k=[],N,T,E=[],I=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},P=function(it){return it<8?mh[it]:it<64&&I[it-8]||mh[it]},O=function(it,ft,Dt){var Bt=ft.XF.data;if(!(!Bt||!Bt.patternType||!Dt||!Dt.cellStyles)){ft.s={},ft.s.patternType=Bt.patternType;var or;(or=Nx(P(Bt.icvFore)))&&(ft.s.fgColor={rgb:or}),(or=Nx(P(Bt.icvBack)))&&(ft.s.bgColor={rgb:or})}},M=function(it,ft,Dt){if(!(Q>1)&&!(Dt.sheetRows&&it.r>=Dt.sheetRows)){if(Dt.cellStyles&&ft.XF&&ft.XF.data&&O(it,ft,Dt),delete ft.ixfe,delete ft.XF,h=it,m=tr(it),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),it.r<o.s.r&&(o.s.r=it.r),it.c<o.s.c&&(o.s.c=it.c),it.r+1>o.e.r&&(o.e.r=it.r+1),it.c+1>o.e.c&&(o.e.c=it.c+1),Dt.cellFormula&&ft.f){for(var Bt=0;Bt<k.length;++Bt)if(!(k[Bt][0].s.c>it.c||k[Bt][0].s.r>it.r)&&!(k[Bt][0].e.c<it.c||k[Bt][0].e.r<it.r)){ft.F=hr(k[Bt][0]),(k[Bt][0].s.c!=it.c||k[Bt][0].s.r!=it.r)&&delete ft.f,ft.f&&(ft.f=""+Nn(k[Bt][1],o,it,U,L));break}}Dt.dense?(a[it.r]||(a[it.r]=[]),a[it.r][it.c]=ft):a[m]=ft}},L={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(L.password=e.password);var B,G=[],X=[],H=[],W=[],ne=!1,U=[];U.SheetNames=L.snames,U.sharedf=L.sharedf,U.arrayf=L.arrayf,U.names=[],U.XTI=[];var z=0,Q=0,q=0,Z=[],J=[],re;L.codepage=1200,Do(1200);for(var de=!1;r.l<r.length-1;){var Se=r.l,je=r.read_shift(2);if(je===0&&z===10)break;var Ne=r.l===r.length?0:r.read_shift(2),xe=rA[je];if(xe&&xe.f){if(e.bookSheets&&z===133&&je!==133)break;if(z=je,xe.r===2||xe.r==12){var ze=r.read_shift(2);if(Ne-=2,!L.enc&&ze!==je&&((ze&255)<<8|ze>>8)!==je)throw new Error("rt mismatch: "+ze+"!="+je);xe.r==12&&(r.l+=10,Ne-=10)}var se={};if(je===10?se=xe.f(r,Ne,L):se=p4e(je,xe,r,Ne,L),Q==0&&[9,521,1033,2057].indexOf(z)===-1)continue;switch(je){case 34:t.opts.Date1904=S.WBProps.date1904=se;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(L.enc||(r.l=0),L.enc=se,!e.password)throw new Error("File is password-protected");if(se.valid==null)throw new Error("Encryption scheme unsupported");if(!se.valid)throw new Error("Password is incorrect");break;case 92:L.lastuser=se;break;case 66:var fe=Number(se);switch(fe){case 21010:fe=1200;break;case 32768:fe=1e4;break;case 32769:fe=1252;break}Do(L.codepage=fe),de=!0;break;case 317:L.rrtabid=se;break;case 25:L.winlocked=se;break;case 439:t.opts.RefreshAll=se;break;case 12:t.opts.CalcCount=se;break;case 16:t.opts.CalcDelta=se;break;case 17:t.opts.CalcIter=se;break;case 13:t.opts.CalcMode=se;break;case 14:t.opts.CalcPrecision=se;break;case 95:t.opts.CalcSaveRecalc=se;break;case 15:L.CalcRefMode=se;break;case 2211:t.opts.FullCalc=se;break;case 129:se.fDialog&&(a["!type"]="dialog"),se.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),se.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:E.push(se);break;case 430:U.push([se]),U[U.length-1].XTI=[];break;case 35:case 547:U[U.length-1].push(se);break;case 24:case 536:re={Name:se.Name,Ref:Nn(se.rgce,o,null,U,L)},se.itab>0&&(re.Sheet=se.itab-1),U.names.push(re),U[0]||(U[0]=[],U[0].XTI=[]),U[U.length-1].push(se),se.Name=="_xlnm._FilterDatabase"&&se.itab>0&&se.rgce&&se.rgce[0]&&se.rgce[0][0]&&se.rgce[0][0][0]=="PtgArea3d"&&(J[se.itab-1]={ref:hr(se.rgce[0][0][1][2])});break;case 22:L.ExternCount=se;break;case 23:U.length==0&&(U[0]=[],U[0].XTI=[]),U[U.length-1].XTI=U[U.length-1].XTI.concat(se),U.XTI=U.XTI.concat(se);break;case 2196:if(L.biff<8)break;re!=null&&(re.Comment=se[1]);break;case 18:a["!protect"]=se;break;case 19:se!==0&&L.WTF&&console.error("Password verifier: "+se);break;case 133:n[se.pos]=se,L.snames.push(se.name);break;case 10:{if(--Q)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=hr(o),e.sheetRows&&e.sheetRows<=o.e.r){var Te=o.e.r;o.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=hr(o),o.e.r=Te}o.e.r++,o.e.c++}G.length>0&&(a["!merges"]=G),X.length>0&&(a["!objects"]=X),H.length>0&&(a["!cols"]=H),W.length>0&&(a["!rows"]=W),S.Sheets.push(A)}d===""?u=a:s[d]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(L.biff===8&&(L.biff={9:2,521:3,1033:4}[je]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[se.BIFFVer]||8),L.biffguess=se.BIFFVer==0,se.BIFFVer==0&&se.dt==4096&&(L.biff=5,de=!0,Do(L.codepage=28591)),L.biff==8&&se.BIFFVer==0&&se.dt==16&&(L.biff=2),Q++)break;if(a=e.dense?[]:{},L.biff<8&&!de&&(de=!0,Do(L.codepage=e.codepage||1252)),L.biff<5||se.BIFFVer==0&&se.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ce={pos:r.l-Ne,name:d};n[Ce.pos]=Ce,L.snames.push(d)}else d=(n[Se]||{name:""}).name;se.dt==32&&(a["!type"]="chart"),se.dt==64&&(a["!type"]="macro"),G=[],X=[],L.arrayf=k=[],H=[],W=[],ne=!1,A={Hidden:(n[Se]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[se.r]||[])[se.c]:a[tr({c:se.c,r:se.r})])&&++se.c,N={ixfe:se.ixfe,XF:E[se.ixfe]||{},v:se.val,t:"n"},q>0&&(N.z=Z[N.ixfe>>8&63]),il(N,e,t.opts.Date1904),M({c:se.c,r:se.r},N,e);break;case 5:case 517:N={ixfe:se.ixfe,XF:E[se.ixfe],v:se.val,t:se.t},q>0&&(N.z=Z[N.ixfe>>8&63]),il(N,e,t.opts.Date1904),M({c:se.c,r:se.r},N,e);break;case 638:N={ixfe:se.ixfe,XF:E[se.ixfe],v:se.rknum,t:"n"},q>0&&(N.z=Z[N.ixfe>>8&63]),il(N,e,t.opts.Date1904),M({c:se.c,r:se.r},N,e);break;case 189:for(var Be=se.c;Be<=se.C;++Be){var Ue=se.rkrec[Be-se.c][0];N={ixfe:Ue,XF:E[Ue],v:se.rkrec[Be-se.c][1],t:"n"},q>0&&(N.z=Z[N.ixfe>>8&63]),il(N,e,t.opts.Date1904),M({c:Be,r:se.r},N,e)}break;case 6:case 518:case 1030:{if(se.val=="String"){l=se;break}if(N=y1(se.val,se.cell.ixfe,se.tt),N.XF=E[N.ixfe],e.cellFormula){var gt=se.formula;if(gt&&gt[0]&&gt[0][0]&&gt[0][0][0]=="PtgExp"){var st=gt[0][0][1][0],bt=gt[0][0][1][1],pt=tr({r:st,c:bt});w[pt]?N.f=""+Nn(se.formula,o,se.cell,U,L):N.F=((e.dense?(a[st]||[])[bt]:a[pt])||{}).F}else N.f=""+Nn(se.formula,o,se.cell,U,L)}q>0&&(N.z=Z[N.ixfe>>8&63]),il(N,e,t.opts.Date1904),M(se.cell,N,e),l=se}break;case 7:case 519:if(l)l.val=se,N=y1(se,l.cell.ixfe,"s"),N.XF=E[N.ixfe],e.cellFormula&&(N.f=""+Nn(l.formula,o,l.cell,U,L)),q>0&&(N.z=Z[N.ixfe>>8&63]),il(N,e,t.opts.Date1904),M(l.cell,N,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(se);var zt=tr(se[0].s);if(p=e.dense?(a[se[0].s.r]||[])[se[0].s.c]:a[zt],e.cellFormula&&p){if(!l||!zt||!p)break;p.f=""+Nn(se[1],o,se[0],U,L),p.F=hr(se[0])}}break;case 1212:{if(!e.cellFormula)break;if(m){if(!l)break;w[tr(l.cell)]=se[0],p=e.dense?(a[l.cell.r]||[])[l.cell.c]:a[tr(l.cell)],(p||{}).f=""+Nn(se[0],o,h,U,L)}}break;case 253:N=y1(c[se.isst].t,se.ixfe,"s"),c[se.isst].h&&(N.h=c[se.isst].h),N.XF=E[N.ixfe],q>0&&(N.z=Z[N.ixfe>>8&63]),il(N,e,t.opts.Date1904),M({c:se.c,r:se.r},N,e);break;case 513:e.sheetStubs&&(N={ixfe:se.ixfe,XF:E[se.ixfe],t:"z"},q>0&&(N.z=Z[N.ixfe>>8&63]),il(N,e,t.opts.Date1904),M({c:se.c,r:se.r},N,e));break;case 190:if(e.sheetStubs)for(var Mt=se.c;Mt<=se.C;++Mt){var dt=se.ixfe[Mt-se.c];N={ixfe:dt,XF:E[dt],t:"z"},q>0&&(N.z=Z[N.ixfe>>8&63]),il(N,e,t.opts.Date1904),M({c:Mt,r:se.r},N,e)}break;case 214:case 516:case 4:N=y1(se.val,se.ixfe,"s"),N.XF=E[N.ixfe],q>0&&(N.z=Z[N.ixfe>>8&63]),il(N,e,t.opts.Date1904),M({c:se.c,r:se.r},N,e);break;case 0:case 512:Q===1&&(o=se);break;case 252:c=se;break;case 1054:if(L.biff==4){Z[q++]=se[1];for(var At=0;At<q+163&&Jt[At]!=se[1];++At);At>=163&&yc(se[1],q+163)}else yc(se[1],se[0]);break;case 30:{Z[q++]=se;for(var Qe=0;Qe<q+163&&Jt[Qe]!=se;++Qe);Qe>=163&&yc(se,q+163)}break;case 229:G=G.concat(se);break;case 93:X[se.cmo[0]]=L.lastobj=se;break;case 438:L.lastobj.TxO=se;break;case 127:L.lastobj.ImData=se;break;case 440:for(y=se[0].s.r;y<=se[0].e.r;++y)for(x=se[0].s.c;x<=se[0].e.c;++x)p=e.dense?(a[y]||[])[x]:a[tr({c:x,r:y})],p&&(p.l=se[1]);break;case 2048:for(y=se[0].s.r;y<=se[0].e.r;++y)for(x=se[0].s.c;x<=se[0].e.c;++x)p=e.dense?(a[y]||[])[x]:a[tr({c:x,r:y})],p&&p.l&&(p.l.Tooltip=se[1]);break;case 28:{if(L.biff<=5&&L.biff>=2)break;p=e.dense?(a[se[0].r]||[])[se[0].c]:a[tr(se[0])];var ut=X[se[2]];p||(e.dense?(a[se[0].r]||(a[se[0].r]=[]),p=a[se[0].r][se[0].c]={t:"z"}):p=a[tr(se[0])]={t:"z"},o.e.r=Math.max(o.e.r,se[0].r),o.s.r=Math.min(o.s.r,se[0].r),o.e.c=Math.max(o.e.c,se[0].c),o.s.c=Math.min(o.s.c,se[0].c)),p.c||(p.c=[]),b={a:se[1],t:ut.TxO.t},p.c.push(b)}break;case 2173:aje(E[se.ixfe],se.ext);break;case 125:{if(!L.cellStyles)break;for(;se.e>=se.s;)H[se.e--]={width:se.w/256,level:se.level||0,hidden:!!(se.flags&1)},ne||(ne=!0,E4(se.w/256)),Yd(H[se.e+1])}break;case 520:{var kt={};se.level!=null&&(W[se.r]=kt,kt.level=se.level),se.hidden&&(W[se.r]=kt,kt.hidden=!0),se.hpt&&(W[se.r]=kt,kt.hpt=se.hpt,kt.hpx=Ym(se.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||xh(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[je]]=se;break;case 161:a["!margins"]||xh(a["!margins"]={}),a["!margins"].header=se.header,a["!margins"].footer=se.footer;break;case 574:se.RTL&&(S.Views[0].RTL=!0);break;case 146:I=se;break;case 2198:B=se;break;case 140:T=se;break;case 442:d?A.CodeName=se||A.name:S.WBProps.CodeName=se||"ThisWorkbook";break}}else xe||console.error("Missing Info for XLS Record 0x"+je.toString(16)),r.l+=Ne}return t.SheetNames=la(n).sort(function(vt,it){return Number(vt)-Number(it)}).map(function(vt){return n[vt].name}),e.bookSheets||(t.Sheets=s),!t.SheetNames.length&&u["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=u)):t.Preamble=u,t.Sheets&&J.forEach(function(vt,it){t.Sheets[t.SheetNames[it]]["!autofilter"]=vt}),t.Strings=c,t.SSF=zs(Jt),L.enc&&(t.Encryption=L.enc),B&&(t.Themes=B),t.Metadata={},T!==void 0&&(t.Metadata.Country=T),U.names.length>0&&(S.Names=U.names),t.Workbook=S,t}var Fp={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function b4e(r,e,t){var s=Wt.find(r,"/!DocumentSummaryInformation");if(s&&s.size>0)try{var a=ML(s,XE,Fp.DSI);for(var n in a)e[n]=a[n]}catch(d){if(t.WTF)throw d}var o=Wt.find(r,"/!SummaryInformation");if(o&&o.size>0)try{var l=ML(o,KE,Fp.SI);for(var c in l)e[c]==null&&(e[c]=l[c])}catch(d){if(t.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(lW(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function y4e(r,e){var t=[],s=[],a=[],n=0,o,l=hL(XE,"n"),c=hL(KE,"n");if(r.Props)for(o=la(r.Props),n=0;n<o.length;++n)(Object.prototype.hasOwnProperty.call(l,o[n])?t:Object.prototype.hasOwnProperty.call(c,o[n])?s:a).push([o[n],r.Props[o[n]]]);if(r.Custprops)for(o=la(r.Custprops),n=0;n<o.length;++n)Object.prototype.hasOwnProperty.call(r.Props||{},o[n])||(Object.prototype.hasOwnProperty.call(l,o[n])?t:Object.prototype.hasOwnProperty.call(c,o[n])?s:a).push([o[n],r.Custprops[o[n]]]);var d=[];for(n=0;n<a.length;++n)gW.indexOf(a[n][0])>-1||oW.indexOf(a[n][0])>-1||a[n][1]!=null&&d.push(a[n]);s.length&&Wt.utils.cfb_add(e,"/SummaryInformation",FL(s,Fp.SI,c,KE)),(t.length||d.length)&&Wt.utils.cfb_add(e,"/DocumentSummaryInformation",FL(t,Fp.DSI,l,XE,d.length?d:null,Fp.UDI))}function dq(r,e){e||(e={}),M4(e),s4(),e.codepage&&r4(e.codepage);var t,s;if(r.FullPaths){if(Wt.find(r,"/encryption"))throw new Error("File is password-protected");t=Wt.find(r,"!CompObj"),s=Wt.find(r,"/Workbook")||Wt.find(r,"/Book")}else{switch(e.type){case"base64":r=Ci(Fi(r));break;case"binary":r=Ci(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}un(r,0),s={content:r}}var a,n;if(t&&m4e(t),e.bookProps&&!e.bookSheets)a={};else{var o=Nr?"buffer":"array";if(s&&s.content)a=x4e(s.content,e);else if((n=Wt.find(r,"PerfectOffice_MAIN"))&&n.content)a=ph.to_workbook(n.content,(e.type=o,e));else if((n=Wt.find(r,"NativeContent_MAIN"))&&n.content)a=ph.to_workbook(n.content,(e.type=o,e));else throw(n=Wt.find(r,"MN0"))&&n.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&r.FullPaths&&Wt.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Rje(r))}var l={};return r.FullPaths&&b4e(r,l,e),a.Props=a.Custprops=l,e.bookFiles&&(a.cfb=r),a}function v4e(r,e){var t=e||{},s=Wt.utils.cfb_new({root:"R"}),a="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":a="/Workbook",t.biff=8;break;case"biff5":a="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Wt.utils.cfb_add(s,a,uq(r,t)),t.biff==8&&(r.Props||r.Custprops)&&y4e(r,s),t.biff==8&&r.vbaraw&&Ije(s,Wt.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),s}var Ax={0:{f:$Ae},1:{f:QAe},2:{f:xTe},3:{f:iTe},4:{f:rTe},5:{f:mTe},6:{f:kTe},7:{f:dTe},8:{f:TTe},9:{f:ATe},10:{f:jTe},11:{f:ETe},12:{f:eTe},13:{f:yTe},14:{f:lTe},15:{f:aTe},16:{f:rq},17:{f:NTe},18:{f:hTe},19:{f:x4},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:NCe},40:{},42:{},43:{f:kSe},44:{f:vSe},45:{f:SSe},46:{f:ESe},47:{f:jSe},48:{},49:{f:G2e},50:{},51:{f:oje},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:jW},62:{f:wTe},63:{f:pje},64:{f:WTe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:In,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:zTe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:KAe},148:{f:GAe,p:16},151:{f:OTe},152:{},153:{f:wCe},154:{},155:{},156:{f:yCe},157:{},158:{},159:{T:1,f:FNe},160:{T:-1},161:{T:1,f:Qh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:CTe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:nje},336:{T:-1},337:{f:dje,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:YE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:SW},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:MTe},427:{f:FTe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:BTe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:XAe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ITe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:YE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Eje},633:{T:1},634:{T:-1},635:{T:1,f:Sje},636:{T:-1},637:{f:Z2e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:lCe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:qTe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},rA={6:{f:JS},10:{f:cd},12:{f:ja},13:{f:ja},14:{f:ha},15:{f:ha},16:{f:En},17:{f:ha},18:{f:ha},19:{f:ja},20:{f:HL},21:{f:HL},23:{f:SW},24:{f:WL},25:{f:ha},26:{},27:{},28:{f:q_e},29:{},34:{f:ha},35:{f:$L},38:{f:En},39:{f:En},40:{f:En},41:{f:En},42:{f:ha},43:{f:ha},47:{f:aSe},49:{f:y_e},51:{f:ja},60:{},61:{f:m_e},64:{f:ha},65:{f:b_e},66:{f:ja},77:{},80:{},81:{},82:{},85:{f:ja},89:{},90:{},91:{},92:{f:s_e},93:{f:X_e},94:{},95:{f:ha},96:{},97:{},99:{f:ha},125:{f:jW},128:{f:D_e},129:{f:n_e},130:{f:ja},131:{f:ha},132:{f:ha},133:{f:i_e},134:{},140:{f:sNe},141:{f:ja},144:{},146:{f:iNe},151:{},152:{},153:{},154:{},155:{},156:{f:ja},157:{},158:{},160:{f:fNe},161:{f:cNe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:C_e},190:{f:P_e},193:{f:cd},197:{},198:{},199:{},200:{},201:{},202:{f:ha},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ja},220:{},221:{f:ha},222:{},224:{f:I_e},225:{f:r_e},226:{f:cd},227:{},229:{f:G_e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:l_e},253:{f:w_e},255:{f:d_e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:pW},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ha},353:{f:cd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:B_e},431:{f:ha},432:{},433:{},434:{},437:{},438:{f:Q_e},439:{f:ha},440:{f:J_e},441:{},442:{f:kb},443:{},444:{f:ja},445:{},446:{},448:{f:cd},449:{f:f_e,r:2},450:{f:cd},512:{f:UL},513:{f:hNe},515:{f:F_e},516:{f:__e},517:{f:VL},519:{f:mNe},520:{f:u_e},523:{},545:{f:qL},549:{f:BL},566:{},574:{f:p_e},638:{f:T_e},659:{},1048:{},1054:{f:S_e},1084:{},1212:{f:H_e},2048:{f:tNe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:p1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:cd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:oNe,r:12},2173:{f:sje,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ha,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:V_e,r:12},2197:{},2198:{f:ZSe,r:12},2199:{},2200:{},2201:{},2202:{f:$_e,r:12},2203:{f:cd},2204:{},2205:{},2206:{},2207:{},2211:{f:h_e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ja},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:dNe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:nNe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:UL},1:{},2:{f:yNe},3:{f:xNe},4:{f:pNe},5:{f:VL},7:{f:wNe},8:{},9:{f:p1},11:{},22:{f:ja},30:{f:E_e},31:{},32:{},33:{f:qL},36:{},37:{f:BL},50:{f:kNe},62:{},52:{},67:{},68:{f:ja},69:{},86:{},126:{},127:{f:gNe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:_Ne},223:{},234:{},354:{},421:{},518:{f:JS},521:{f:p1},536:{f:WL},547:{f:$L},561:{},579:{},1030:{f:JS},1033:{f:p1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function jt(r,e,t,s){var a=e;if(!isNaN(a)){var n=s||(t||[]).length||0,o=r.next(4);o.write_shift(2,a),o.write_shift(2,n),n>0&&m4(t)&&r.push(t)}}function w4e(r,e,t,s){var a=(t||[]).length||0;if(a<=8224)return jt(r,e,t,a);var n=e;if(!isNaN(n)){for(var o=t.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=r.next(4);for(u.write_shift(2,n),u.write_shift(2,d),r.push(t.slice(c,c+d)),c+=d;c<a;){for(u=r.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),r.push(t.slice(c,c+d)),c+=d}}}function jb(r,e,t){return r||(r=et(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function k4e(r,e,t,s){var a=et(9);return jb(a,r,e),xW(t,s||"b",a),a}function _4e(r,e,t){var s=et(8+2*t.length);return jb(s,r,e),s.write_shift(1,t.length),s.write_shift(t.length,t,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function N4e(r,e,t,s){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Ha(Us(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?jt(r,2,vNe(t,s,a)):jt(r,3,bNe(t,s,a));return;case"b":case"e":jt(r,5,k4e(t,s,e.v,e.t));return;case"s":case"str":jt(r,4,_4e(t,s,(e.v||"").slice(0,255)));return}jt(r,1,jb(null,t,s))}function S4e(r,e,t,s){var a=Array.isArray(e),n=rs(e["!ref"]||"A1"),o,l="",c=[];if(n.e.c>255||n.e.r>16383){if(s.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");n.e.c=Math.min(n.e.c,255),n.e.r=Math.min(n.e.c,16383),o=hr(n)}for(var d=n.s.r;d<=n.e.r;++d){l=pa(d);for(var u=n.s.c;u<=n.e.c;++u){d===n.s.r&&(c[u]=Ys(u)),o=c[u]+l;var h=a?(e[d]||[])[u]:e[o];h&&N4e(r,h,d,u)}}}function j4e(r,e){for(var t=e||{},s=hi(),a=0,n=0;n<r.SheetNames.length;++n)r.SheetNames[n]==t.sheet&&(a=n);if(a==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return jt(s,t.biff==4?1033:t.biff==3?521:9,N4(r,16,t)),S4e(s,r.Sheets[r.SheetNames[a]],a,t),jt(s,10),s.end()}function E4e(r,e,t){jt(r,49,v_e({sz:12,name:"Arial"},t))}function A4e(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&jt(r,1054,j_e(a,e[a],t))})}function T4e(r,e){var t=et(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),jt(r,2151,t),t=et(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),kW(rs(e["!ref"]||"A1"),t),t.write_shift(4,4),jt(r,2152,t)}function C4e(r,e){for(var t=0;t<16;++t)jt(r,224,zL({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(s){jt(r,224,zL(s,0,e))})}function P4e(r,e){for(var t=0;t<e["!links"].length;++t){var s=e["!links"][t];jt(r,440,eNe(s)),s[1].Tooltip&&jt(r,2048,rNe(s))}delete e["!links"]}function R4e(r,e){if(e){var t=0;e.forEach(function(s,a){++t<=256&&s&&jt(r,125,lNe(gk(a,s),a))})}}function I4e(r,e,t,s,a){var n=16+nu(a.cellXfs,e,a);if(e.v==null&&!e.bf){jt(r,513,Fh(t,s,n));return}if(e.bf)jt(r,6,nAe(e,t,s,a,n));else switch(e.t){case"d":case"n":var o=e.t=="d"?Ha(Us(e.v)):e.v;jt(r,515,L_e(t,s,o,n));break;case"b":case"e":jt(r,517,M_e(t,s,e.v,n,a,e.t));break;case"s":case"str":if(a.bookSST){var l=R4(a.Strings,e.v,a.revStrings);jt(r,253,k_e(t,s,l,n))}else jt(r,516,N_e(t,s,(e.v||"").slice(0,255),n,a));break;default:jt(r,513,Fh(t,s,n))}}function D4e(r,e,t){var s=hi(),a=t.SheetNames[r],n=t.Sheets[a]||{},o=(t||{}).Workbook||{},l=(o.Sheets||[])[r]||{},c=Array.isArray(n),d=e.biff==8,u,h="",m=[],p=rs(n["!ref"]||"A1"),b=d?65536:16384;if(p.e.c>255||p.e.r>=b){if(e.WTF)throw new Error("Range "+(n["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,b-1)}jt(s,2057,N4(t,16,e)),jt(s,13,io(1)),jt(s,12,io(100)),jt(s,15,$n(!0)),jt(s,17,$n(!1)),jt(s,16,Oh(.001)),jt(s,95,$n(!0)),jt(s,42,$n(!1)),jt(s,43,$n(!1)),jt(s,130,io(1)),jt(s,128,O_e()),jt(s,131,$n(!1)),jt(s,132,$n(!1)),d&&R4e(s,n["!cols"]),jt(s,512,A_e(p,e)),d&&(n["!links"]=[]);for(var x=p.s.r;x<=p.e.r;++x){h=pa(x);for(var y=p.s.c;y<=p.e.c;++y){x===p.s.r&&(m[y]=Ys(y)),u=m[y]+h;var w=c?(n[x]||[])[y]:n[u];w&&(I4e(s,w,x,y,e),d&&w.l&&n["!links"].push([u,w.l]))}}var k=l.CodeName||l.name||a;return d&&jt(s,574,x_e((o.Views||[])[0])),d&&(n["!merges"]||[]).length&&jt(s,229,Y_e(n["!merges"])),d&&P4e(s,n),jt(s,442,bW(k)),d&&T4e(s,n),jt(s,10),s.end()}function O4e(r,e,t){var s=hi(),a=(r||{}).Workbook||{},n=a.Sheets||[],o=a.WBProps||{},l=t.biff==8,c=t.biff==5;if(jt(s,2057,N4(r,5,t)),t.bookType=="xla"&&jt(s,135),jt(s,225,l?io(1200):null),jt(s,193,Mke(2)),c&&jt(s,191),c&&jt(s,192),jt(s,226),jt(s,92,a_e("SheetJS",t)),jt(s,66,io(l?1200:1252)),l&&jt(s,353,io(0)),l&&jt(s,448),jt(s,317,uNe(r.SheetNames.length)),l&&r.vbaraw&&jt(s,211),l&&r.vbaraw){var d=o.CodeName||"ThisWorkbook";jt(s,442,bW(d))}jt(s,156,io(17)),jt(s,25,$n(!1)),jt(s,18,$n(!1)),jt(s,19,io(0)),l&&jt(s,431,$n(!1)),l&&jt(s,444,io(0)),jt(s,61,g_e()),jt(s,64,$n(!1)),jt(s,141,io(0)),jt(s,34,$n(fCe(r)=="true")),jt(s,14,$n(!0)),l&&jt(s,439,$n(!1)),jt(s,218,io(0)),E4e(s,r,t),A4e(s,r.SSF,t),C4e(s,t),l&&jt(s,352,$n(!1));var u=s.end(),h=hi();l&&jt(h,140,aNe()),l&&t.Strings&&w4e(h,252,c_e(t.Strings)),jt(h,10);var m=h.end(),p=hi(),b=0,x=0;for(x=0;x<r.SheetNames.length;++x)b+=(l?12:11)+(l?2:1)*r.SheetNames[x].length;var y=u.length+b+m.length;for(x=0;x<r.SheetNames.length;++x){var w=n[x]||{};jt(p,133,o_e({pos:y,hs:w.Hidden||0,dt:0,name:r.SheetNames[x]},t)),y+=e[x].length}var k=p.end();if(b!=k.length)throw new Error("BS8 "+b+" != "+k.length);var N=[];return u.length&&N.push(u),k.length&&N.push(k),m.length&&N.push(m),Ja(N)}function M4e(r,e){var t=e||{},s=[];r&&!r.SSF&&(r.SSF=zs(Jt)),r&&r.SSF&&(w0(),lk(r.SSF),t.revssf=dk(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,F4(t),t.cellXfs=[],nu(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var a=0;a<r.SheetNames.length;++a)s[s.length]=D4e(a,t,r);return s.unshift(O4e(r,s,t)),Ja(s)}function uq(r,e){for(var t=0;t<=r.SheetNames.length;++t){var s=r.Sheets[r.SheetNames[t]];if(!(!s||!s["!ref"])){var a=mi(s["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var n=e||{};switch(n.biff||2){case 8:case 5:return M4e(r,e);case 4:case 3:case 2:return j4e(r,e)}throw new Error("invalid type "+n.bookType+" for BIFF")}function r8(r,e){var t=e||{},s=t.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var a=r.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var n=r.match(/<\/table/i),o=a.index,l=n&&n.index||r.length,c=v2e(r.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,h=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(o=0;o<c.length;++o){var x=c[o].trim(),y=x.slice(0,3).toLowerCase();if(y=="<tr"){if(++d,t.sheetRows&&t.sheetRows<=d){--d;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var w=x.split(/<\/t[dh]>/i);for(l=0;l<w.length;++l){var k=w[l].trim();if(k.match(/<t[dh]/i)){for(var N=k,T=0;N.charAt(0)=="<"&&(T=N.indexOf(">"))>-1;)N=N.slice(T+1);for(var E=0;E<b.length;++E){var I=b[E];I.s.c==u&&I.s.r<d&&d<=I.e.r&&(u=I.e.c+1,E=-1)}var S=ar(k.slice(0,k.indexOf(">")));m=S.colspan?+S.colspan:1,((h=+S.rowspan)>1||m>1)&&b.push({s:{r:d,c:u},e:{r:d+(h||1)-1,c:u+m-1}});var A=S.t||S["data-t"]||"";if(!N.length){u+=m;continue}if(N=O$(N),p.s.r>d&&(p.s.r=d),p.e.r<d&&(p.e.r=d),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!N.length){u+=m;continue}var P={t:"s",v:N};t.raw||!N.trim().length||A=="s"||(N==="TRUE"?P={t:"b",v:!0}:N==="FALSE"?P={t:"b",v:!1}:isNaN(Bo(N))?isNaN(qm(N).getDate())||(P={t:"d",v:Us(N)},t.cellDates||(P={t:"n",v:Ha(P.v)}),P.z=t.dateNF||Jt[14]):P={t:"n",v:Bo(N)}),t.dense?(s[d]||(s[d]=[]),s[d][u]=P):s[tr({r:d,c:u})]=P,u+=m}}}}return s["!ref"]=hr(p),b.length&&(s["!merges"]=b),s}function F4e(r,e,t,s){for(var a=r["!merges"]||[],n=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>t||a[d].s.c>o)&&!(a[d].e.r<t||a[d].e.c<o)){if(a[d].s.r<t||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=tr({r:t,c:o}),h=s.dense?(r[t]||[])[o]:r[u],m=h&&h.v!=null&&(h.h||u4(h.w||(Cc(h),h.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),s.editable?m='<span contenteditable="true">'+m+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),p.id=(s.id||"sjs")+"-"+u,n.push(Nt("td",m,p))}}var b="<tr>";return b+n.join("")+"</tr>"}var L4e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',B4e="</body></html>";function U4e(r,e){var t=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return au(r8(t[0],e),e);var s=U4();return t.forEach(function(a,n){z4(s,r8(a,e),"Sheet"+(n+1))}),s}function z4e(r,e,t){var s=[];return s.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function hq(r,e){var t=e||{},s=t.header!=null?t.header:L4e,a=t.footer!=null?t.footer:B4e,n=[s],o=mi(r["!ref"]);t.dense=Array.isArray(r),n.push(z4e(r,o,t));for(var l=o.s.r;l<=o.e.r;++l)n.push(F4e(r,o,l,t));return n.push("</table>"+a),n.join("")}function fq(r,e,t){var s=t||{},a=0,n=0;if(s.origin!=null)if(typeof s.origin=="number")a=s.origin;else{var o=typeof s.origin=="string"?Xs(s.origin):s.origin;a=o.r,n=o.c}var l=e.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:n}};if(r["!ref"]){var u=mi(r["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var h=[],m=0,p=r["!rows"]||(r["!rows"]=[]),b=0,x=0,y=0,w=0,k=0,N=0;for(r["!cols"]||(r["!cols"]=[]);b<l.length&&x<c;++b){var T=l[b];if(s8(T)){if(s.display)continue;p[x]={hidden:!0}}var E=T.children;for(y=w=0;y<E.length;++y){var I=E[y];if(!(s.display&&s8(I))){var S=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):O$(I.innerHTML),A=I.getAttribute("data-z")||I.getAttribute("z");for(m=0;m<h.length;++m){var P=h[m];P.s.c==w+n&&P.s.r<x+a&&x+a<=P.e.r&&(w=P.e.c+1-n,m=-1)}N=+I.getAttribute("colspan")||1,((k=+I.getAttribute("rowspan")||1)>1||N>1)&&h.push({s:{r:x+a,c:w+n},e:{r:x+a+(k||1)-1,c:w+n+(N||1)-1}});var O={t:"s",v:S},M=I.getAttribute("data-t")||I.getAttribute("t")||"";S!=null&&(S.length==0?O.t=M||"z":s.raw||S.trim().length==0||M=="s"||(S==="TRUE"?O={t:"b",v:!0}:S==="FALSE"?O={t:"b",v:!1}:isNaN(Bo(S))?isNaN(qm(S).getDate())||(O={t:"d",v:Us(S)},s.cellDates||(O={t:"n",v:Ha(O.v)}),O.z=s.dateNF||Jt[14]):O={t:"n",v:Bo(S)})),O.z===void 0&&A!=null&&(O.z=A);var L="",B=I.getElementsByTagName("A");if(B&&B.length)for(var G=0;G<B.length&&!(B[G].hasAttribute("href")&&(L=B[G].getAttribute("href"),L.charAt(0)!="#"));++G);L&&L.charAt(0)!="#"&&(O.l={Target:L}),s.dense?(r[x+a]||(r[x+a]=[]),r[x+a][w+n]=O):r[tr({c:w+n,r:x+a})]=O,d.e.c<w+n&&(d.e.c=w+n),w+=N}}++x}return h.length&&(r["!merges"]=(r["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,x-1+a),r["!ref"]=hr(d),x>=c&&(r["!fullref"]=hr((d.e.r=l.length-b+x-1+a,d))),r}function mq(r,e){var t=e||{},s=t.dense?[]:{};return fq(s,r,e)}function V4e(r,e){return au(mq(r,e),e)}function s8(r){var e="",t=H4e(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function H4e(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function $4e(r){var e=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(s,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=ts(e.replace(/<[^>]*>/g,""));return[t]}var a8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function gq(r,e){var t=e||{},s=h4(r),a=[],n,o,l={name:""},c="",d=0,u,h,m={},p=[],b=t.dense?[]:{},x,y,w={value:""},k="",N=0,T=[],E=-1,I=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,P={},O=[],M={},L=0,B=0,G=[],X=1,H=1,W=[],ne={Names:[]},U={},z=["",""],Q=[],q={},Z="",J=0,re=!1,de=!1,Se=0;for(kx.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=kx.exec(s);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?b["!ref"]=hr(S):b["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=S.e.r&&(b["!fullref"]=b["!ref"],S.e.r=t.sheetRows-1,b["!ref"]=hr(S)),O.length&&(b["!merges"]=O),G.length&&(b["!rows"]=G),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),m[u.name]=b,de=!1):x[0].charAt(x[0].length-2)!=="/"&&(u=ar(x[0],!1),E=I=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,b=t.dense?[]:{},O=[],G=[],de=!0);break;case"table-row-group":x[1]==="/"?--A:++A;break;case"table-row":case"":if(x[1]==="/"){E+=X,X=1;break}if(h=ar(x[0],!1),h.?E=h.-1:E==-1&&(E=0),X=+h["number-rows-repeated"]||1,X<10)for(Se=0;Se<X;++Se)A>0&&(G[E+Se]={level:A});I=-1;break;case"covered-table-cell":x[1]!=="/"&&++I,t.sheetStubs&&(t.dense?(b[E]||(b[E]=[]),b[E][I]={t:"z"}):b[tr({r:E,c:I})]={t:"z"}),k="",T=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++I,w=ar(x[0],!1),H=parseInt(w["number-columns-repeated"]||"1",10),y={t:"z",v:null},w.formula&&t.cellFormula!=!1&&(y.f=JL(ts(w.formula))),(w.||w["value-type"])=="string"&&(y.t="s",y.v=ts(w["string-value"]||""),t.dense?(b[E]||(b[E]=[]),b[E][I]=y):b[tr({r:E,c:I})]=y),I+=H-1;else if(x[1]!=="/"){++I,k="",N=0,T=[],H=1;var je=X?E+X-1:E;if(I>S.e.c&&(S.e.c=I),I<S.s.c&&(S.s.c=I),E<S.s.r&&(S.s.r=E),je>S.e.r&&(S.e.r=je),w=ar(x[0],!1),Q=[],q={},y={t:w.||w["value-type"],v:null},t.cellFormula)if(w.formula&&(w.formula=ts(w.formula)),w["number-matrix-columns-spanned"]&&w["number-matrix-rows-spanned"]&&(L=parseInt(w["number-matrix-rows-spanned"],10)||0,B=parseInt(w["number-matrix-columns-spanned"],10)||0,M={s:{r:E,c:I},e:{r:E+L-1,c:I+B-1}},y.F=hr(M),W.push([M,y.F])),w.formula)y.f=JL(w.formula);else for(Se=0;Se<W.length;++Se)E>=W[Se][0].s.r&&E<=W[Se][0].e.r&&I>=W[Se][0].s.c&&I<=W[Se][0].e.c&&(y.F=W[Se][1]);switch((w["number-columns-spanned"]||w["number-rows-spanned"])&&(L=parseInt(w["number-rows-spanned"],10)||0,B=parseInt(w["number-columns-spanned"],10)||0,M={s:{r:E,c:I},e:{r:E+L-1,c:I+B-1}},O.push(M)),w["number-columns-repeated"]&&(H=parseInt(w["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Ls(w["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(w.value);break;case"percentage":y.t="n",y.v=parseFloat(w.value);break;case"currency":y.t="n",y.v=parseFloat(w.value);break;case"date":y.t="d",y.v=Us(w["date-value"]),t.cellDates||(y.t="n",y.v=Ha(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=x2e(w["time-value"])/86400,t.cellDates&&(y.t="d",y.v=uk(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(w.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",w["string-value"]!=null&&(k=ts(w["string-value"]),T=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(re=!1,y.t==="s"&&(y.v=k||"",T.length&&(y.R=T),re=N==0),U.Target&&(y.l=U),Q.length>0&&(y.c=Q,Q=[]),k&&t.cellText!==!1&&(y.w=k),re&&(y.t="z",delete y.v),(!re||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=E))for(var Ne=0;Ne<X;++Ne){if(H=parseInt(w["number-columns-repeated"]||"1",10),t.dense)for(b[E+Ne]||(b[E+Ne]=[]),b[E+Ne][I]=Ne==0?y:zs(y);--H>0;)b[E+Ne][I+H]=zs(y);else for(b[tr({r:E+Ne,c:I})]=y;--H>0;)b[tr({r:E+Ne,c:I+H})]=zs(y);S.e.c<=I&&(S.e.c=I)}H=parseInt(w["number-columns-repeated"]||"1",10),I+=H-1,H=0,y={},k="",T=[]}U={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((n=a.pop())[0]!==x[3])throw"Bad state: "+n}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((n=a.pop())[0]!==x[3])throw"Bad state: "+n;q.t=k,T.length&&(q.R=T),q.a=Z,Q.push(q)}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);Z="",J=0,k="",N=0,T=[];break;case"creator":x[1]==="/"?Z=s.slice(J,x.index):J=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((n=a.pop())[0]!==x[3])throw"Bad state: "+n}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);k="",N=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(P[l.name]=c,(n=a.pop())[0]!==x[3])throw"Bad state: "+n}else x[0].charAt(x[0].length-2)!=="/"&&(c="",l=ar(x[0],!1),a.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=ar(x[0],!1),c+=a8[x[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=ar(x[0],!1),c+=a8[x[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=s.slice(d,x.index);break}else d=x.index+x[0].length;break;case"named-range":o=ar(x[0],!1),z=ej(o["cell-range-address"]);var xe={Name:o.name,Ref:z[0]+"!"+z[1]};de&&(xe.Sheet=p.length),ne.Names.push(xe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(x[1]==="/"&&(!w||!w["string-value"])){var ze=$4e(s.slice(N,x.index));k=(k.length>0?k+`
`:"")+ze[0]}else ar(x[0],!1),N=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{z=ej(ar(x[0])["target-range-address"]),m[z[0]]["!autofilter"]={ref:z[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(U=ar(x[0],!1),!U.href)break;U.Target=ts(U.href),delete U.href,U.Target.charAt(0)=="#"&&U.Target.indexOf(".")>-1?(z=ej(U.Target.slice(1)),U.Target="#"+z[0]+"!"+z[1]):U.Target.match(/^\.\.[\\\/]/)&&(U.Target=U.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(x)}}var se={Sheets:m,SheetNames:p,Workbook:ne};return t.bookSheets&&delete se.Sheets,se}function n8(r,e){e=e||{},no(r,"META-INF/manifest.xml")&&xke(Sa(r,"META-INF/manifest.xml"),e);var t=Pi(r,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var s=gq(As(t),e);return no(r,"meta.xml")&&(s.Props=nW(Sa(r,"meta.xml"))),s}function i8(r,e){return gq(r,e)}var W4e=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+wx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return ya+e}})(),o8=(function(){var r=function(n){return vs(n).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,s=function(n,o,l){var c=[];c.push('      <table:table table:name="'+vs(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,h=mi(n["!ref"]||"A1"),m=n["!merges"]||[],p=0,b=Array.isArray(n);if(n["!cols"])for(u=0;u<=h.e.c;++u)c.push("        <table:table-column"+(n["!cols"][u]?' table:style-name="co'+n["!cols"][u].ods+'"':"")+`></table:table-column>
`);var x="",y=n["!rows"]||[];for(d=0;d<h.s.r;++d)x=y[d]?' table:style-name="ro'+y[d].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;d<=h.e.r;++d){for(x=y[d]?' table:style-name="ro'+y[d].ods+'"':"",c.push("        <table:table-row"+x+`>
`),u=0;u<h.s.c;++u)c.push(e);for(;u<=h.e.c;++u){var w=!1,k={},N="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>u)&&!(m[p].s.r>d)&&!(m[p].e.c<u)&&!(m[p].e.r<d)){(m[p].s.c!=u||m[p].s.r!=d)&&(w=!0),k["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,k["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(w){c.push(t);continue}var T=tr({r:d,c:u}),E=b?(n[d]||[])[u]:n[T];if(E&&E.f&&(k["table:formula"]=vs(uAe(E.f)),E.F&&E.F.slice(0,T.length)==T)){var I=mi(E.F);k["table:number-matrix-columns-spanned"]=I.e.c-I.s.c+1,k["table:number-matrix-rows-spanned"]=I.e.r-I.s.r+1}if(!E){c.push(e);continue}switch(E.t){case"b":N=E.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=E.v?"true":"false";break;case"n":N=E.w||String(E.v||0),k["office:value-type"]="float",k["office:value"]=E.v||0;break;case"s":case"str":N=E.v==null?"":E.v,k["office:value-type"]="string";break;case"d":N=E.w||Us(E.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=Us(E.v).toISOString(),k["table:style-name"]="ce1";break;default:c.push(e);continue}var S=r(N);if(E.l&&E.l.Target){var A=E.l.Target;A=A.charAt(0)=="#"?"#"+hAe(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),S=Nt("text:a",S,{"xlink:href":A.replace(/&/g,"&amp;")})}c.push("          "+Nt("table:table-cell",Nt("text:p",S,{}),k)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(n,o){n.push(` <office:automatic-styles>
`),n.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),n.push(`   <number:month number:style="long"/>
`),n.push(`   <number:text>/</number:text>
`),n.push(`   <number:day number:style="long"/>
`),n.push(`   <number:text>/</number:text>
`),n.push(`   <number:year/>
`),n.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var h=d["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Yd(h),h.ods=l;var m=d["!cols"][u].wpx+"px";n.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),n.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),n.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var h=d["!rows"][u].hpx+"px";n.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),n.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),n.push(`  </style:style>
`),++c}}}),n.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),n.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),n.push(`  </style:style>
`),n.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),n.push(` </office:automatic-styles>
`)};return function(o,l){var c=[ya],d=wx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=wx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(aW().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(s(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function pq(r,e){if(e.bookType=="fods")return o8(r,e);var t=l4(),s="",a=[],n=[];return s="mimetype",mr(t,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",mr(t,s,o8(r,e)),a.push([s,"text/xml"]),n.push([s,"ContentFile"]),s="styles.xml",mr(t,s,W4e(r,e)),a.push([s,"text/xml"]),n.push([s,"StylesFile"]),s="meta.xml",mr(t,s,ya+aW()),a.push([s,"text/xml"]),n.push([s,"MetadataFile"]),s="manifest.rdf",mr(t,s,vke(n)),a.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",mr(t,s,bke(a)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Lh(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function sA(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):As(su(r))}function q4e(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):Ci(gl(r))}function G4e(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var s=0;s<e.length;++s)if(r[t+s]!=e[s])continue e;return!0}return!1}function Kd(r){var e=r.reduce(function(a,n){return a+n.length},0),t=new Uint8Array(e),s=0;return r.forEach(function(a){t.set(a,s),s+=a.length}),t}function l8(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function Y4e(r,e){for(var t=(r[e+15]&127)<<7|r[e+14]>>1,s=r[e+14]&1,a=e+13;a>=e;--a)s=s*256+r[a];return(r[e+15]&128?-s:s)*Math.pow(10,t-6176)}function X4e(r,e,t){var s=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,a=t/Math.pow(10,s-6176);r[e+15]|=s>>7,r[e+14]|=(s&127)<<1;for(var n=0;a>=1;++n,a/=256)r[e+n]=a&255;r[e+15]|=t>=0?0:128}function Tx(r,e){var t=e?e[0]:0,s=r[t]&127;e:if(r[t++]>=128&&(s|=(r[t]&127)<<7,r[t++]<128||(s|=(r[t]&127)<<14,r[t++]<128)||(s|=(r[t]&127)<<21,r[t++]<128)||(s+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(s+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(s+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),s}function ps(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function ia(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function ns(r){for(var e=[],t=[0];t[0]<r.length;){var s=t[0],a=Tx(r,t),n=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(n){case 0:{for(var c=t[0];r[t[0]++]>=128;);l=r.slice(c,t[0])}break;case 5:o=4,l=r.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,l=r.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=Tx(r,t),l=r.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(n," for Field ").concat(a," at offset ").concat(s))}var d={data:l,type:n};e[a]==null?e[a]=[d]:e[a].push(d)}return e}function ln(r){var e=[];return r.forEach(function(t,s){t.forEach(function(a){a.data&&(e.push(ps(s*8+a.type)),a.type==2&&e.push(ps(a.data.length)),e.push(a.data))})}),Kd(e)}function O4(r,e){return r?.map(function(t){return e(t.data)})||[]}function ro(r){for(var e,t=[],s=[0];s[0]<r.length;){var a=Tx(r,s),n=ns(r.slice(s[0],s[0]+a));s[0]+=a;var o={id:ia(n[1][0].data),messages:[]};n[2].forEach(function(l){var c=ns(l.data),d=ia(c[3][0].data);o.messages.push({meta:c,data:r.slice(s[0],s[0]+d)}),s[0]+=d}),(e=n[3])!=null&&e[0]&&(o.merge=ia(n[3][0].data)>>>0>0),t.push(o)}return t}function Xf(r){var e=[];return r.forEach(function(t){var s=[];s[1]=[{data:ps(t.id),type:0}],s[2]=[],t.merge!=null&&(s[3]=[{data:ps(+!!t.merge),type:0}]);var a=[];t.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:ps(o.data.length)}],s[2].push({data:ln(o.meta),type:2})});var n=ln(s);e.push(ps(n.length)),e.push(n),a.forEach(function(o){return e.push(o)})}),Kd(e)}function K4e(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],s=Tx(e,t),a=[];t[0]<e.length;){var n=e[t[0]]&3;if(n==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[t[0]],l>1&&(o|=e[t[0]+1]<<8),l>2&&(o|=e[t[0]+2]<<16),l>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=l}a.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var c=0,d=0;if(n==1?(d=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(d=(e[t[0]++]>>2)+1,n==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[Kd(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=Kd(a);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function so(r){for(var e=[],t=0;t<r.length;){var s=r[t++],a=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(K4e(s,r.slice(t,t+a))),t+=a}if(t!==r.length)throw new Error("data is not a valid framed stream!");return Kd(e)}function Kf(r){for(var e=[],t=0;t<r.length;){var s=Math.min(r.length-t,268435455),a=new Uint8Array(4);e.push(a);var n=ps(s),o=n.length;e.push(n),s<=60?(o++,e.push(new Uint8Array([s-1<<2]))):s<=256?(o+=2,e.push(new Uint8Array([240,s-1&255]))):s<=65536?(o+=3,e.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(o+=4,e.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(o+=5,e.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),e.push(r.slice(t,t+s)),o+=s,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,t+=s}return Kd(e)}function Z4e(r,e,t,s){var a=Lh(r),n=a.getUint32(4,!0),o=(s>1?12:8)+l8(n&(s>1?3470:398))*4,l=-1,c=-1,d=NaN,u=new Date(2001,0,1);n&512&&(l=a.getUint32(o,!0),o+=4),o+=l8(n&(s>1?12288:4096))*4,n&16&&(c=a.getUint32(o,!0),o+=4),n&32&&(d=a.getFloat64(o,!0),o+=8),n&64&&(u.setTime(u.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var h;switch(r[2]){case 0:break;case 2:h={t:"n",v:d};break;case 3:h={t:"s",v:e[c]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(l>-1)h={t:"s",v:t[l]};else if(c>-1)h={t:"s",v:e[c]};else if(!isNaN(d))h={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return h}function Q4e(r,e,t){var s=Lh(r),a=s.getUint32(8,!0),n=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);a&1&&(c=Y4e(r,n),n+=16),a&2&&(d=s.getFloat64(n,!0),n+=8),a&4&&(u.setTime(u.getTime()+s.getFloat64(n,!0)*1e3),n+=8),a&8&&(l=s.getUint32(n,!0),n+=4),a&16&&(o=s.getUint32(n,!0),n+=4);var h;switch(r[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:e[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:t[o]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(a&31," : ").concat(r.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(a&31," : ").concat(r.slice(0,4)))}return h}function rj(r,e){var t=new Uint8Array(32),s=Lh(t),a=12,n=0;switch(t[0]=5,r.t){case"n":t[1]=2,X4e(t,a,r.v),n|=1,a+=16;break;case"b":t[1]=6,s.setFloat64(a,r.v?1:0,!0),n|=2,a+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,s.setUint32(a,e.indexOf(r.v),!0),n|=8,a+=4;break;default:throw"unsupported cell type "+r.t}return s.setUint32(8,n,!0),t.slice(0,a)}function sj(r,e){var t=new Uint8Array(32),s=Lh(t),a=12,n=0;switch(t[0]=3,r.t){case"n":t[2]=2,s.setFloat64(a,r.v,!0),n|=32,a+=8;break;case"b":t[2]=6,s.setFloat64(a,r.v?1:0,!0),n|=32,a+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,s.setUint32(a,e.indexOf(r.v),!0),n|=16,a+=4;break;default:throw"unsupported cell type "+r.t}return s.setUint32(4,n,!0),t.slice(0,a)}function J4e(r,e,t){switch(r[0]){case 0:case 1:case 2:case 3:return Z4e(r,e,t,r[0]);case 5:return Q4e(r,e,t);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function _n(r){var e=ns(r);return Tx(e[1][0].data)}function c8(r,e){var t=ns(e.data),s=ia(t[1][0].data),a=t[3],n=[];return(a||[]).forEach(function(o){var l=ns(o.data),c=ia(l[1][0].data)>>>0;switch(s){case 1:n[c]=sA(l[3][0].data);break;case 8:{var d=r[_n(l[9][0].data)][0],u=ns(d.data),h=r[_n(u[1][0].data)][0],m=ia(h.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=ns(h.data);n[c]=p[3].map(function(b){return sA(b.data)}).join("")}break}}),n}function e3e(r,e){var t,s,a,n,o,l,c,d,u,h,m,p,b,x,y=ns(r),w=ia(y[1][0].data)>>>0,k=ia(y[2][0].data)>>>0,N=((s=(t=y[8])==null?void 0:t[0])==null?void 0:s.data)&&ia(y[8][0].data)>0||!1,T,E;if((n=(a=y[7])==null?void 0:a[0])!=null&&n.data&&e!=0)T=(l=(o=y[7])==null?void 0:o[0])==null?void 0:l.data,E=(d=(c=y[6])==null?void 0:c[0])==null?void 0:d.data;else if((h=(u=y[4])==null?void 0:u[0])!=null&&h.data&&e!=1)T=(p=(m=y[4])==null?void 0:m[0])==null?void 0:p.data,E=(x=(b=y[3])==null?void 0:b[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var I=N?4:1,S=Lh(T),A=[],P=0;P<T.length/2;++P){var O=S.getUint16(P*2,!0);O<65535&&A.push([P,O])}if(A.length!=k)throw"Expected ".concat(k," cells, found ").concat(A.length);var M=[];for(P=0;P<A.length-1;++P)M[A[P][0]]=E.subarray(A[P][1]*I,A[P+1][1]*I);return A.length>=1&&(M[A[A.length-1][0]]=E.subarray(A[A.length-1][1]*I)),{R:w,cells:M}}function t3e(r,e){var t,s=ns(e.data),a=(t=s?.[7])!=null&&t[0]?ia(s[7][0].data)>>>0>0?1:0:-1,n=O4(s[5],function(o){return e3e(o,a)});return{nrows:ia(s[4][0].data)>>>0,data:n.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,d){if(o[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));o[l.R][d]=c}),o},[])}}function r3e(r,e,t){var s,a=ns(e.data),n={s:{r:0,c:0},e:{r:0,c:0}};if(n.e.r=(ia(a[6][0].data)>>>0)-1,n.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(n.e.c=(ia(a[7][0].data)>>>0)-1,n.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));t["!ref"]=hr(n);var o=ns(a[4][0].data),l=c8(r,r[_n(o[4][0].data)][0]),c=(s=o[17])!=null&&s[0]?c8(r,r[_n(o[17][0].data)][0]):[],d=ns(o[3][0].data),u=0;d[1].forEach(function(h){var m=ns(h.data),p=r[_n(m[2][0].data)][0],b=ia(p.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var x=t3e(r,p);x.data.forEach(function(y,w){y.forEach(function(k,N){var T=tr({r:u+w,c:N}),E=J4e(k,l,c);E&&(t[T]=E)})}),u+=x.nrows})}function s3e(r,e){var t=ns(e.data),s={"!ref":"A1"},a=r[_n(t[2][0].data)],n=ia(a[0].meta[1][0].data);if(n!=6001)throw new Error("6000 unexpected reference to ".concat(n));return r3e(r,a[0],s),s}function a3e(r,e){var t,s=ns(e.data),a={name:(t=s[1])!=null&&t[0]?sA(s[1][0].data):"",sheets:[]},n=O4(s[2],_n);return n.forEach(function(o){r[o].forEach(function(l){var c=ia(l.meta[1][0].data);c==6e3&&a.sheets.push(s3e(r,l))})}),a}function n3e(r,e){var t=U4(),s=ns(e.data),a=O4(s[1],_n);if(a.forEach(function(n){r[n].forEach(function(o){var l=ia(o.meta[1][0].data);if(l==2){var c=a3e(r,o);c.sheets.forEach(function(d,u){z4(t,d,u==0?c.name:c.name+"_"+u,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function aj(r){var e,t,s,a,n={},o=[];if(r.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=so(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var u;try{u=ro(d)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){n[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(s=(t=(e=n?.[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:s[1])==null?void 0:a[0].data)&&ia(n[1][0].meta[1][0].data)==1&&n[1][0];if(l||o.forEach(function(c){n[c].forEach(function(d){var u=ia(d.meta[1][0].data)>>>0;if(u==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return n3e(n,l)}function i3e(r,e,t){var s,a,n,o;if(!((s=r[6])!=null&&s[0])||!((a=r[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(n=r[8])==null?void 0:n[0])==null?void 0:o.data)&&ia(r[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=Lh(r[7][0].data),u=0,h=[],m=Lh(r[4][0].data),p=0,b=[],x=0;x<e.length;++x){if(e[x]==null){d.setUint16(x*2,65535,!0),m.setUint16(x*2,65535);continue}d.setUint16(x*2,u,!0),m.setUint16(x*2,p,!0);var y,w;switch(typeof e[x]){case"string":y=rj({t:"s",v:e[x]},t),w=sj({t:"s",v:e[x]},t);break;case"number":y=rj({t:"n",v:e[x]},t),w=sj({t:"n",v:e[x]},t);break;case"boolean":y=rj({t:"b",v:e[x]},t),w=sj({t:"b",v:e[x]},t);break;default:throw new Error("Unsupported value "+e[x])}h.push(y),u+=y.length,b.push(w),p+=w.length,++c}for(r[2][0].data=ps(c);x<r[7][0].data.length/2;++x)d.setUint16(x*2,65535,!0),m.setUint16(x*2,65535,!0);return r[6][0].data=Kd(h),r[3][0].data=Kd(b),c}function o3e(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=mi(t["!ref"]);s.s.r=s.s.c=0;var a=!1;s.e.c>9&&(a=!0,s.e.c=9),s.e.r>49&&(a=!0,s.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(hr(s)));var n=o2(t,{range:s,header:1}),o=["~Sh33tJ5~"];n.forEach(function(Z){return Z.forEach(function(J){typeof J=="string"&&o.push(J)})});var l={},c=[],d=Wt.read(e.numbers,{type:"base64"});d.FileIndex.map(function(Z,J){return[Z,d.FullPaths[J]]}).forEach(function(Z){var J=Z[0],re=Z[1];if(J.type==2&&J.name.match(/\.iwa/)){var de=J.content,Se=so(de),je=ro(Se);je.forEach(function(Ne){c.push(Ne.id),l[Ne.id]={deps:[],location:re,type:ia(Ne.messages[0].meta[1][0].data)}})}}),c.sort(function(Z,J){return Z-J});var u=c.filter(function(Z){return Z>1}).map(function(Z){return[Z,ps(Z)]});d.FileIndex.map(function(Z,J){return[Z,d.FullPaths[J]]}).forEach(function(Z){var J=Z[0];if(Z[1],!!J.name.match(/\.iwa/)){var re=ro(so(J.content));re.forEach(function(de){de.messages.forEach(function(Se){u.forEach(function(je){de.messages.some(function(Ne){return ia(Ne.meta[1][0].data)!=11006&&G4e(Ne.data,je[1])})&&l[je[0]].deps.push(de.id)})})})}});for(var h=Wt.find(d,l[1].location),m=ro(so(h.content)),p,b=0;b<m.length;++b){var x=m[b];x.id==1&&(p=x)}var y=_n(ns(p.messages[0].data)[1][0].data);for(h=Wt.find(d,l[y].location),m=ro(so(h.content)),b=0;b<m.length;++b)x=m[b],x.id==y&&(p=x);for(y=_n(ns(p.messages[0].data)[2][0].data),h=Wt.find(d,l[y].location),m=ro(so(h.content)),b=0;b<m.length;++b)x=m[b],x.id==y&&(p=x);for(y=_n(ns(p.messages[0].data)[2][0].data),h=Wt.find(d,l[y].location),m=ro(so(h.content)),b=0;b<m.length;++b)x=m[b],x.id==y&&(p=x);var w=ns(p.messages[0].data);{w[6][0].data=ps(s.e.r+1),w[7][0].data=ps(s.e.c+1);var k=_n(w[46][0].data),N=Wt.find(d,l[k].location),T=ro(so(N.content));{for(var E=0;E<T.length&&T[E].id!=k;++E);if(T[E].id!=k)throw"Bad ColumnRowUIDMapArchive";var I=ns(T[E].messages[0].data);I[1]=[],I[2]=[],I[3]=[];for(var S=0;S<=s.e.c;++S){var A=[];A[1]=A[2]=[{type:0,data:ps(S+420690)}],I[1].push({type:2,data:ln(A)}),I[2].push({type:0,data:ps(S)}),I[3].push({type:0,data:ps(S)})}I[4]=[],I[5]=[],I[6]=[];for(var P=0;P<=s.e.r;++P)A=[],A[1]=A[2]=[{type:0,data:ps(P+726270)}],I[4].push({type:2,data:ln(A)}),I[5].push({type:0,data:ps(P)}),I[6].push({type:0,data:ps(P)});T[E].messages[0].data=ln(I)}N.content=Kf(Xf(T)),N.size=N.content.length,delete w[46];var O=ns(w[4][0].data);{O[7][0].data=ps(s.e.r+1);var M=ns(O[1][0].data),L=_n(M[2][0].data);N=Wt.find(d,l[L].location),T=ro(so(N.content));{if(T[0].id!=L)throw"Bad HeaderStorageBucket";var B=ns(T[0].messages[0].data);for(P=0;P<n.length;++P){var G=ns(B[2][0].data);G[1][0].data=ps(P),G[4][0].data=ps(n[P].length),B[2][P]={type:B[2][0].type,data:ln(G)}}T[0].messages[0].data=ln(B)}N.content=Kf(Xf(T)),N.size=N.content.length;var X=_n(O[2][0].data);N=Wt.find(d,l[X].location),T=ro(so(N.content));{if(T[0].id!=X)throw"Bad HeaderStorageBucket";for(B=ns(T[0].messages[0].data),S=0;S<=s.e.c;++S)G=ns(B[2][0].data),G[1][0].data=ps(S),G[4][0].data=ps(s.e.r+1),B[2][S]={type:B[2][0].type,data:ln(G)};T[0].messages[0].data=ln(B)}N.content=Kf(Xf(T)),N.size=N.content.length;var H=_n(O[4][0].data);(function(){for(var Z=Wt.find(d,l[H].location),J=ro(so(Z.content)),re,de=0;de<J.length;++de){var Se=J[de];Se.id==H&&(re=Se)}var je=ns(re.messages[0].data);{je[3]=[];var Ne=[];o.forEach(function(se,fe){Ne[1]=[{type:0,data:ps(fe)}],Ne[2]=[{type:0,data:ps(1)}],Ne[3]=[{type:2,data:q4e(se)}],je[3].push({type:2,data:ln(Ne)})})}re.messages[0].data=ln(je);var xe=Xf(J),ze=Kf(xe);Z.content=ze,Z.size=Z.content.length})();var W=ns(O[3][0].data);{var ne=W[1][0];delete W[2];var U=ns(ne.data);{var z=_n(U[2][0].data);(function(){for(var Z=Wt.find(d,l[z].location),J=ro(so(Z.content)),re,de=0;de<J.length;++de){var Se=J[de];Se.id==z&&(re=Se)}var je=ns(re.messages[0].data);{delete je[6],delete W[7];var Ne=new Uint8Array(je[5][0].data);je[5]=[];for(var xe=0,ze=0;ze<=s.e.r;++ze){var se=ns(Ne);xe+=i3e(se,n[ze],o),se[1][0].data=ps(ze),je[5].push({data:ln(se),type:2})}je[1]=[{type:0,data:ps(s.e.c+1)}],je[2]=[{type:0,data:ps(s.e.r+1)}],je[3]=[{type:0,data:ps(xe)}],je[4]=[{type:0,data:ps(s.e.r+1)}]}re.messages[0].data=ln(je);var fe=Xf(J),Te=Kf(fe);Z.content=Te,Z.size=Z.content.length})()}ne.data=ln(U)}O[3][0].data=ln(W)}w[4][0].data=ln(O)}p.messages[0].data=ln(w);var Q=Xf(m),q=Kf(Q);return h.content=q,h.size=h.content.length,d}function xq(r){return function(t){for(var s=0;s!=r.length;++s){var a=r[s];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function M4(r){xq([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function F4(r){xq([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function l3e(r){return Cr.WS.indexOf(r)>-1?"sheet":r==Cr.CS?"chart":r==Cr.DS?"dialog":r==Cr.MS?"macro":r&&r.length?r:"sheet"}function c3e(r,e){if(!r)return 0;try{r=e.map(function(s){return s.id||(s.id=s.strRelID),[s.name,r["!id"][s.id].Target,l3e(r["!id"][s.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function d3e(r,e,t,s,a,n,o,l,c,d,u,h){try{n[s]=Ip(Pi(r,t,!0),e);var m=Sa(r,e),p;switch(l){case"sheet":p=RCe(m,e,a,c,n[s],d,u,h);break;case"chart":if(p=ICe(m,e,a,c,n[s],d,u,h),!p||!p["!drawel"])break;var b=lp(p["!drawel"].Target,e),x=_x(b),y=yje(Pi(r,b,!0),Ip(Pi(r,x,!0),b)),w=lp(y,b),k=_x(w);p=iCe(Pi(r,w,!0),w,c,Ip(Pi(r,k,!0),w),d,p);break;case"macro":p=DCe(m,e,a,c,n[s],d,u,h);break;case"dialog":p=OCe(m,e,a,c,n[s],d,u,h);break;default:throw new Error("Unrecognized sheet type "+l)}o[s]=p;var N=[];n&&n[s]&&la(n[s]).forEach(function(T){var E="";if(n[s][T].Type==Cr.CMNT){E=lp(n[s][T].Target,e);var I=BCe(Sa(r,E,!0),E,c);if(!I||!I.length)return;YL(p,I,!1)}n[s][T].Type==Cr.TCMNT&&(E=lp(n[s][T].Target,e),N=N.concat(wje(Sa(r,E,!0),c)))}),N&&N.length&&YL(p,N,!0,c.people||[])}catch(T){if(c.WTF)throw T}}function eo(r){return r.charAt(0)=="/"?r.slice(1):r}function u3e(r,e){if(w0(),e=e||{},M4(e),no(r,"META-INF/manifest.xml")||no(r,"objectdata.xml"))return n8(r,e);if(no(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof aj<"u"){if(r.FileIndex)return aj(r);var t=Wt.utils.cfb_new();return gL(r).forEach(function(G){mr(t,G,k2e(r,G))}),aj(t)}throw new Error("Unsupported NUMBERS file")}if(!no(r,"[Content_Types].xml"))throw no(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):no(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var s=gL(r),a=gke(Pi(r,"[Content_Types].xml")),n=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",Sa(r,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!Sa(r,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),n=!0}a.workbooks[0].slice(-3)=="bin"&&(n=!0);var c={},d={};if(!e.bookSheets&&!e.bookProps){if(Dp=[],a.sst)try{Dp=LCe(Sa(r,eo(a.sst)),a.sst,e)}catch(G){if(e.WTF)throw G}e.cellStyles&&a.themes.length&&(c=FCe(Pi(r,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(d=MCe(Sa(r,eo(a.style)),a.style,c,e))}a.links.map(function(G){try{var X=Ip(Pi(r,_x(eo(G))),G);return zCe(Sa(r,eo(G)),X,G,e)}catch{}});var u=PCe(Sa(r,eo(a.workbooks[0])),a.workbooks[0],e),h={},m="";a.coreprops.length&&(m=Sa(r,eo(a.coreprops[0]),!0),m&&(h=nW(m)),a.extprops.length!==0&&(m=Sa(r,eo(a.extprops[0]),!0),m&&kke(m,h,e)));var p={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(m=Pi(r,eo(a.custprops[0]),!0),m&&(p=Nke(m,e)));var b={};if((e.bookSheets||e.bookProps)&&(u.Sheets?o=u.Sheets.map(function(X){return X.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),e.bookProps&&(b.Props=h,b.Custprops=p),e.bookSheets&&typeof o<"u"&&(b.SheetNames=o),e.bookSheets?b.SheetNames:e.bookProps))return b;o={};var x={};e.bookDeps&&a.calcchain&&(x=UCe(Sa(r,eo(a.calcchain)),a.calcchain));var y=0,w={},k,N;{var T=u.Sheets;h.Worksheets=T.length,h.SheetNames=[];for(var E=0;E!=T.length;++E)h.SheetNames[E]=T[E].name}var I=n?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),A=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");no(r,A)||(A="xl/_rels/workbook."+I+".rels");var P=Ip(Pi(r,A,!0),A.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=VCe(Sa(r,eo(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=_je(Sa(r,eo(a.people[0])),e)),P&&(P=c3e(P,u.Sheets));var O=Sa(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=h.Worksheets;++y){var M="sheet";if(P&&P[y]?(k="xl/"+P[y][1].replace(/[\/]?xl\//,""),no(r,k)||(k=P[y][1]),no(r,k)||(k=A.replace(/_rels\/.*$/,"")+P[y][1]),M=P[y][2]):(k="xl/worksheets/sheet"+(y+1-O)+"."+I,k=k.replace(/sheet0\./,"sheet.")),N=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(h.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var L=!1,B=0;B!=e.sheets.length;++B)typeof e.sheets[B]=="number"&&e.sheets[B]==y&&(L=1),typeof e.sheets[B]=="string"&&e.sheets[B].toLowerCase()==h.SheetNames[y].toLowerCase()&&(L=1);if(!L)continue e}}d3e(r,k,N,h.SheetNames[y],y,w,o,M,e,u,c,d)}return b={Directory:a,Workbook:u,Props:h,Custprops:p,Deps:x,Sheets:o,SheetNames:h.SheetNames,Strings:Dp,Styles:d,Themes:c,SSF:zs(Jt)},e&&e.bookFiles&&(r.files?(b.keys=s,b.files=r.files):(b.keys=[],b.files={},r.FullPaths.forEach(function(G,X){G=G.replace(/^Root Entry[\/]/,""),b.keys.push(G),b.files[G]=r.FileIndex[X]}))),e&&e.bookVBA&&(a.vba.length>0?b.vbaraw=Sa(r,eo(a.vba[0]),!0):a.defaults&&a.defaults.bin===Pje&&(b.vbaraw=Sa(r,"xl/vbaProject.bin",!0))),b}function h3e(r,e){var t=e||{},s="Workbook",a=Wt.find(r,s);try{if(s="/!DataSpaces/Version",a=Wt.find(r,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(VNe(a.content),s="/!DataSpaces/DataSpaceMap",a=Wt.find(r,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);var n=$Ne(a.content);if(n.length!==1||n[0].comps.length!==1||n[0].comps[0].t!==0||n[0].name!=="StrongEncryptionDataSpace"||n[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Wt.find(r,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);var o=WNe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Wt.find(r,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);GNe(a.content)}catch{}if(s="/EncryptionInfo",a=Wt.find(r,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);var l=YNe(a.content);if(s="/EncryptedPackage",a=Wt.find(r,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,t.password||"",t);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,t.password||"",t);throw new Error("File is password-protected")}function f3e(r,e){return e.bookType=="ods"?pq(r,e):e.bookType=="numbers"?o3e(r,e):e.bookType=="xlsb"?m3e(r,e):g3e(r,e)}function m3e(r,e){hm=1024,r&&!r.SSF&&(r.SSF=zs(Jt)),r&&r.SSF&&(w0(),lk(r.SSF),e.revssf=dk(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Op?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",s=$W.indexOf(e.bookType)>-1,a=k4();F4(e=e||{});var n=l4(),o="",l=0;if(e.cellXfs=[],nu(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),o="docProps/core.xml",mr(n,o,iW(r.Props,e)),a.coreprops.push(o),bs(e.rels,2,o,Cr.CORE_PROPS),o="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],d=0;d<r.SheetNames.length;++d)(r.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(r.SheetNames[d]);r.Props.SheetNames=c}for(r.Props.Worksheets=r.Props.SheetNames.length,mr(n,o,cW(r.Props)),a.extprops.push(o),bs(e.rels,3,o,Cr.EXT_PROPS),r.Custprops!==r.Props&&la(r.Custprops||{}).length>0&&(o="docProps/custom.xml",mr(n,o,dW(r.Custprops)),a.custprops.push(o),bs(e.rels,4,o,Cr.CUST_PROPS)),l=1;l<=r.SheetNames.length;++l){var u={"!id":{}},h=r.Sheets[r.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+t,mr(n,o,$Ce(l-1,o,e,r,u)),a.sheets.push(o),bs(e.wbrels,-1,"worksheets/sheet"+l+"."+t,Cr.WS[0])}if(h){var p=h["!comments"],b=!1,x="";p&&p.length>0&&(x="xl/comments"+l+"."+t,mr(n,x,GCe(p,x)),a.comments.push(x),bs(u,-1,"../comments"+l+"."+t,Cr.CMNT),b=!0),h["!legacy"]&&b&&mr(n,"xl/drawings/vmlDrawing"+l+".vml",VW(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&mr(n,_x(o),Sm(u))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,mr(n,o,qCe(e.Strings,o,e)),a.strs.push(o),bs(e.wbrels,-1,"sharedStrings."+t,Cr.SST)),o="xl/workbook."+t,mr(n,o,HCe(r,o)),a.workbooks.push(o),bs(e.rels,1,o,Cr.WB),o="xl/theme/theme1.xml",mr(n,o,A4(r.Themes,e)),a.themes.push(o),bs(e.wbrels,-1,"theme/theme1.xml",Cr.THEME),o="xl/styles."+t,mr(n,o,WCe(r,o,e)),a.styles.push(o),bs(e.wbrels,-1,"styles."+t,Cr.STY),r.vbaraw&&s&&(o="xl/vbaProject.bin",mr(n,o,r.vbaraw),a.vba.push(o),bs(e.wbrels,-1,"vbaProject.bin",Cr.VBA)),o="xl/metadata."+t,mr(n,o,YCe(o)),a.metadata.push(o),bs(e.wbrels,-1,"metadata."+t,Cr.XLMETA),mr(n,"[Content_Types].xml",sW(a,e)),mr(n,"_rels/.rels",Sm(e.rels)),mr(n,"xl/_rels/workbook."+t+".rels",Sm(e.wbrels)),delete e.revssf,delete e.ssf,n}function g3e(r,e){hm=1024,r&&!r.SSF&&(r.SSF=zs(Jt)),r&&r.SSF&&(w0(),lk(r.SSF),e.revssf=dk(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Op?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",s=$W.indexOf(e.bookType)>-1,a=k4();F4(e=e||{});var n=l4(),o="",l=0;if(e.cellXfs=[],nu(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),o="docProps/core.xml",mr(n,o,iW(r.Props,e)),a.coreprops.push(o),bs(e.rels,2,o,Cr.CORE_PROPS),o="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],d=0;d<r.SheetNames.length;++d)(r.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(r.SheetNames[d]);r.Props.SheetNames=c}r.Props.Worksheets=r.Props.SheetNames.length,mr(n,o,cW(r.Props)),a.extprops.push(o),bs(e.rels,3,o,Cr.EXT_PROPS),r.Custprops!==r.Props&&la(r.Custprops||{}).length>0&&(o="docProps/custom.xml",mr(n,o,dW(r.Custprops)),a.custprops.push(o),bs(e.rels,4,o,Cr.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,l=1;l<=r.SheetNames.length;++l){var h={"!id":{}},m=r.Sheets[r.SheetNames[l-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+t,mr(n,o,tq(l-1,e,r,h)),a.sheets.push(o),bs(e.wbrels,-1,"worksheets/sheet"+l+"."+t,Cr.WS[0])}if(m){var b=m["!comments"],x=!1,y="";if(b&&b.length>0){var w=!1;b.forEach(function(k){k[1].forEach(function(N){N.T==!0&&(w=!0)})}),w&&(y="xl/threadedComments/threadedComment"+l+"."+t,mr(n,y,kje(b,u,e)),a.threadedcomments.push(y),bs(h,-1,"../threadedComments/threadedComment"+l+"."+t,Cr.TCMNT)),y="xl/comments"+l+"."+t,mr(n,y,HW(b)),a.comments.push(y),bs(h,-1,"../comments"+l+"."+t,Cr.CMNT),x=!0}m["!legacy"]&&x&&mr(n,"xl/drawings/vmlDrawing"+l+".vml",VW(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&mr(n,_x(o),Sm(h))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,mr(n,o,CW(e.Strings,e)),a.strs.push(o),bs(e.wbrels,-1,"sharedStrings."+t,Cr.SST)),o="xl/workbook."+t,mr(n,o,iq(r)),a.workbooks.push(o),bs(e.rels,1,o,Cr.WB),o="xl/theme/theme1.xml",mr(n,o,A4(r.Themes,e)),a.themes.push(o),bs(e.wbrels,-1,"theme/theme1.xml",Cr.THEME),o="xl/styles."+t,mr(n,o,LW(r,e)),a.styles.push(o),bs(e.wbrels,-1,"styles."+t,Cr.STY),r.vbaraw&&s&&(o="xl/vbaProject.bin",mr(n,o,r.vbaraw),a.vba.push(o),bs(e.wbrels,-1,"vbaProject.bin",Cr.VBA)),o="xl/metadata."+t,mr(n,o,zW()),a.metadata.push(o),bs(e.wbrels,-1,"metadata."+t,Cr.XLMETA),u.length>1&&(o="xl/persons/person.xml",mr(n,o,Nje(u)),a.people.push(o),bs(e.wbrels,-1,"persons/person.xml",Cr.PEOPLE)),mr(n,"[Content_Types].xml",sW(a,e)),mr(n,"_rels/.rels",Sm(e.rels)),mr(n,"xl/_rels/workbook."+t+".rels",Sm(e.wbrels)),delete e.revssf,delete e.ssf,n}function L4(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=Fi(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function p3e(r,e){return Wt.find(r,"EncryptedPackage")?h3e(r,e):dq(r,e)}function x3e(r,e){var t,s=r,a=e||{};return a.type||(a.type=Nr&&Buffer.isBuffer(r)?"buffer":"base64"),t=R$(s,a),u3e(t,a)}function bq(r,e){var t=0;e:for(;t<r.length;)switch(r.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return tA(r.slice(t),e);default:break e}return Gm.to_workbook(r,e)}function b3e(r,e){var t="",s=L4(r,e);switch(e.type){case"base64":t=Fi(r);break;case"binary":t=r;break;case"buffer":t=r.toString("binary");break;case"array":t=Dh(r);break;default:throw new Error("Unrecognized type "+e.type)}return s[0]==239&&s[1]==187&&s[2]==191&&(t=As(t)),e.type="binary",bq(t,e)}function y3e(r,e){var t=r;return e.type=="base64"&&(t=Fi(t)),t=xx.utils.decode(1200,t.slice(2),"str"),e.type="binary",bq(t,e)}function v3e(r){return r.match(/[^\x00-\x7F]/)?gl(r):r}function nj(r,e,t,s){return s?(t.type="string",Gm.to_workbook(r,t)):Gm.to_workbook(e,t)}function aA(r,e){s4();var t=e||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return aA(new Uint8Array(r),(t=zs(t),t.type="array",t));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var s=r,a=[0,0,0,0],n=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),Em={},t.dateNF&&(Em.dateNF=t.dateNF),t.type||(t.type=Nr&&Buffer.isBuffer(r)?"buffer":"base64"),t.type=="file"&&(t.type=Nr?"buffer":"binary",s=m2e(r),typeof Uint8Array<"u"&&!Nr&&(t.type="array")),t.type=="string"&&(n=!0,t.type="binary",t.codepage=65001,s=v3e(r)),t.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return t=zs(t),t.type="array",aA(a4(s),t)}switch((a=L4(s,t))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return p3e(Wt.read(s,t),t);break;case 9:if(a[1]<=8)return dq(s,t);break;case 60:return tA(s,t);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return SNe(s,t);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return AW.to_workbook(s,t);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?x3e(s,t):nj(r,s,t,n);case 239:return a[3]===60?tA(s,t):nj(r,s,t,n);case 255:if(a[1]===254)return y3e(s,t);if(a[1]===0&&a[2]===2&&a[3]===0)return ph.to_workbook(s,t);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return ph.to_workbook(s,t);break;case 3:case 131:case 139:case 140:return eA.to_workbook(s,t);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return OW.to_workbook(s,t);break;case 10:case 13:case 32:return b3e(s,t);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return NNe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?eA.to_workbook(s,t):nj(r,s,t,n)}function yq(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return yb(e.file,Wt.write(r,{type:Nr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Wt.write(r,e)}function w3e(r,e){var t=zs(e||{}),s=f3e(r,t);return k3e(s,t)}function k3e(r,e){var t={},s=Nr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=s;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=s;break;default:throw new Error("Unrecognized type "+e.type)}var a=r.FullPaths?Wt.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(ok(a))}return e.password&&typeof encrypt_agile<"u"?yq(encrypt_agile(a,e.password),e):e.type==="file"?yb(e.file,a):e.type=="string"?As(a):a}function _3e(r,e){var t=e||{},s=v4e(r,t);return yq(s,t)}function dl(r,e,t){t||(t="");var s=t+r;switch(e.type){case"base64":return bx(gl(s));case"binary":return gl(s);case"string":return r;case"file":return yb(e.file,s,"utf8");case"buffer":return Nr?Mc(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):dl(s,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function N3e(r,e){switch(e.type){case"base64":return bx(r);case"binary":return r;case"string":return r;case"file":return yb(e.file,r,"binary");case"buffer":return Nr?Mc(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function v1(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",s=0;s<r.length;++s)t+=String.fromCharCode(r[s]);return e.type=="base64"?bx(t):e.type=="string"?As(t):t;case"file":return yb(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function vq(r,e){s4(),pCe(r);var t=zs(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var s=vq(r,t);return t.type="array",ok(s)}var a=0;if(t.sheet&&(typeof t.sheet=="number"?a=t.sheet:a=r.SheetNames.indexOf(t.sheet),!r.SheetNames[a]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return dl(f4e(r,t),t);case"slk":case"sylk":return dl(EW.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"htm":case"html":return dl(hq(r.Sheets[r.SheetNames[a]],t),t);case"txt":return N3e(wq(r.Sheets[r.SheetNames[a]],t),t);case"csv":return dl(B4(r.Sheets[r.SheetNames[a]],t),t,"\uFEFF");case"dif":return dl(AW.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"dbf":return v1(eA.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"prn":return dl(Gm.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"rtf":return dl(OW.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"eth":return dl(TW.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"fods":return dl(pq(r,t),t);case"wk1":return v1(ph.sheet_to_wk1(r.Sheets[r.SheetNames[a]],t),t);case"wk3":return v1(ph.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),v1(uq(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),_3e(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return w3e(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function S3e(r){if(!r.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=r.file.slice(r.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(r.bookType=t.slice(1)),r.bookType=e[r.bookType]||r.bookType}}function j3e(r,e,t){var s={};return s.type="file",s.file=e,S3e(s),vq(r,s)}function E3e(r,e,t,s,a,n,o,l){var c=pa(t),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:t,enumerable:!1})}catch{m.__rowNum__=t}else m.__rowNum__=t;if(!o||r[t])for(var p=e.s.c;p<=e.e.c;++p){var b=o?r[t][p]:r[s[p]+c];if(b===void 0||b.t===void 0){if(d===void 0)continue;n[p]!=null&&(m[n[p]]=d);continue}var x=b.v;switch(b.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(n[p]!=null){if(x==null)if(b.t=="e"&&x===null)m[n[p]]=null;else if(d!==void 0)m[n[p]]=d;else if(u&&x===null)m[n[p]]=null;else continue;else m[n[p]]=u&&(b.t!=="n"||b.t==="n"&&l.rawNumbers!==!1)?x:Cc(b,x,l);x!=null&&(h=!1)}}return{row:m,isempty:h}}function o2(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},s=0,a=1,n=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},u=d.range!=null?d.range:r["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof u){case"string":c=rs(u);break;case"number":c=rs(r["!ref"]),c.s.r=u;break;default:c=u}s>0&&(a=0);var h=pa(c.s.r),m=[],p=[],b=0,x=0,y=Array.isArray(r),w=c.s.r,k=0,N={};y&&!r[w]&&(r[w]=[]);var T=d.skipHidden&&r["!cols"]||[],E=d.skipHidden&&r["!rows"]||[];for(k=c.s.c;k<=c.e.c;++k)if(!(T[k]||{}).hidden)switch(m[k]=Ys(k),t=y?r[w][k]:r[m[k]+h],s){case 1:n[k]=k-c.s.c;break;case 2:n[k]=m[k];break;case 3:n[k]=d.header[k-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),l=o=Cc(t,null,d),x=N[o]||0,!x)N[o]=1;else{do l=o+"_"+x++;while(N[l]);N[o]=x,N[l]=1}n[k]=l}for(w=c.s.r+a;w<=c.e.r;++w)if(!(E[w]||{}).hidden){var I=E3e(r,c,w,m,s,n,y,d);(I.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(p[b++]=I.row)}return p.length=b,p}var d8=/"/g;function A3e(r,e,t,s,a,n,o,l){for(var c=!0,d=[],u="",h=pa(t),m=e.s.c;m<=e.e.c;++m)if(s[m]){var p=l.dense?(r[t]||[])[m]:r[s[m]+h];if(p==null)u="";else if(p.v!=null){c=!1,u=""+(l.rawNumbers&&p.t=="n"?p.v:Cc(p,null,l));for(var b=0,x=0;b!==u.length;++b)if((x=u.charCodeAt(b))===a||x===n||x===34||l.forceQuotes){u='"'+u.replace(d8,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(c=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(d8,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function B4(r,e){var t=[],s=e??{};if(r==null||r["!ref"]==null)return"";var a=rs(r["!ref"]),n=s.FS!==void 0?s.FS:",",o=n.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,c=l.charCodeAt(0),d=new RegExp((n=="|"?"\\|":n)+"+$"),u="",h=[];s.dense=Array.isArray(r);for(var m=s.skipHidden&&r["!cols"]||[],p=s.skipHidden&&r["!rows"]||[],b=a.s.c;b<=a.e.c;++b)(m[b]||{}).hidden||(h[b]=Ys(b));for(var x=0,y=a.s.r;y<=a.e.r;++y)(p[y]||{}).hidden||(u=A3e(r,a,y,h,o,c,n,s),u!=null&&(s.strip&&(u=u.replace(d,"")),(u||s.blankrows!==!1)&&t.push((x++?l:"")+u)));return delete s.dense,t.join("")}function wq(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=B4(r,e);return t}function T3e(r){var e="",t,s="";if(r==null||r["!ref"]==null)return[];var a=rs(r["!ref"]),n="",o=[],l,c=[],d=Array.isArray(r);for(l=a.s.c;l<=a.e.c;++l)o[l]=Ys(l);for(var u=a.s.r;u<=a.e.r;++u)for(n=pa(u),l=a.s.c;l<=a.e.c;++l)if(e=o[l]+n,t=d?(r[u]||[])[l]:r[e],s="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;s=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)s=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)s=""+t.v;else if(t.t=="b")s=t.v?"TRUE":"FALSE";else if(t.w!==void 0)s="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?s="'"+t.v:s=""+t.v}}c[c.length]=e+"="+s}return c}function kq(r,e,t){var s=t||{},a=+!s.skipHeader,n=r||{},o=0,l=0;if(n&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?Xs(s.origin):s.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+e.length-1+a}};if(n["!ref"]){var h=rs(n["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+e.length-1+a)}else o==-1&&(o=0,u.e.r=e.length-1+a);var m=s.header||[],p=0;e.forEach(function(x,y){la(x).forEach(function(w){(p=m.indexOf(w))==-1&&(m[p=m.length]=w);var k=x[w],N="z",T="",E=tr({c:l+p,r:o+y+a});d=Cx(n,E),k&&typeof k=="object"&&!(k instanceof Date)?n[E]=k:(typeof k=="number"?N="n":typeof k=="boolean"?N="b":typeof k=="string"?N="s":k instanceof Date?(N="d",s.cellDates||(N="n",k=Ha(k)),T=s.dateNF||Jt[14]):k===null&&s.nullError&&(N="e",k=0),d?(d.t=N,d.v=k,delete d.w,delete d.R,T&&(d.z=T)):n[E]=d={t:N,v:k},T&&(d.z=T))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var b=pa(o);if(a)for(p=0;p<m.length;++p)n[Ys(p+l)+b]={t:"s",v:m[p]};return n["!ref"]=hr(u),n}function C3e(r,e){return kq(null,r,e)}function Cx(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var s=Xs(e);return r[s.r]||(r[s.r]=[]),r[s.r][s.c]||(r[s.r][s.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?Cx(r,tr(e)):Cx(r,tr({r:e,c:t||0}))}function P3e(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function U4(){return{SheetNames:[],Sheets:{}}}function z4(r,e,t,s){var a=1;if(!t)for(;a<=65535&&r.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&r.SheetNames.indexOf(t)>=0){var n=t.match(/(^.*?)(\d+)$/);a=n&&+n[2]||0;var o=n&&n[1]||t;for(++a;a<=65535&&r.SheetNames.indexOf(t=o+a)!=-1;++a);}if(nq(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function R3e(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var s=P3e(r,e);switch(r.Workbook.Sheets[s]||(r.Workbook.Sheets[s]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[s].Hidden=t}function I3e(r,e){return r.z=e,r}function _q(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function D3e(r,e,t){return _q(r,"#"+e,t)}function O3e(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function M3e(r,e,t,s){for(var a=typeof e!="string"?e:rs(e),n=typeof e=="string"?e:hr(e),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Cx(r,o,l);c.t="n",c.F=n,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=t,s&&(c.D=!0))}return r}var dd={encode_col:Ys,encode_row:pa,encode_cell:tr,encode_range:hr,decode_col:p4,decode_row:g4,split_cell:q2e,decode_cell:Xs,decode_range:mi,format_cell:Cc,sheet_add_aoa:K$,sheet_add_json:kq,sheet_add_dom:fq,aoa_to_sheet:k0,json_to_sheet:C3e,table_to_sheet:mq,table_to_book:V4e,sheet_to_csv:B4,sheet_to_txt:wq,sheet_to_json:o2,sheet_to_html:hq,sheet_to_formulae:T3e,sheet_to_row_object_array:o2,sheet_get_cell:Cx,book_new:U4,book_append_sheet:z4,book_set_sheet_visibility:R3e,cell_set_number_format:I3e,cell_set_hyperlink:_q,cell_set_internal_link:D3e,cell_add_comment:O3e,sheet_set_array_formula:M3e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const ij=["name","description","price","stock","category","subcategory","colors","sizes","condition","tags","manualSize","imageUrls","videoUrl","country","state","city","address","specifications"],F3e=()=>{const[r,e]=R.useState([]),[t,s]=R.useState(!1),[a,n]=R.useState([]),[o,l]=R.useState({}),[c,d]=R.useState(""),u=R.useRef(null),{alerts:h,removeAlert:m}=Vd(),{userProfile:p}=Nh(),[b,x]=R.useState(!1);if(R.useEffect(()=>{(async()=>{try{const ne=(await xt(Xe(ve,"categories"))).docs.map(re=>re.data().name);n(ne);const U=await xt(Xe(ve,"customSubcategories")),z={};U.forEach(re=>{z[re.id]=re.data().subcategories||[]}),l(z);let Q=["# VALID CATEGORIES & SUBCATEGORIES:"];ne.forEach(re=>{Q.push(`# ${re}: ${z[re]?.join(", ")||""}`)});const q=[];let Z=0;for(const re of ne){const de=z[re]||[];if(de.length!==0){for(const Se of de)if(Z>=5||(q.push([`Sample Product ${Z+1}`,`Description for sample product ${Z+1}`,1e4+Z*1e3,10+Z,re,Se,"Red|blue","M|L","New","Sample|Demo","Medium","https://dummyphotos.com/sample1.jpg|https://dummyphotos.com/sample2.jpg","","Nigeria","Lagos","Ikeja",`${10+Z} Sample Address St`,'{"brand":"SampleBrand"}'].join(",")),Z++,Z>=5))break;if(Z>=5)break}}const J=["# INSTRUCTIONS:",...Q,"# - Do NOT change the column headers.","# - Use only valid categories and subcategories as listed above.","# - For multiple values (colors, sizes, tags, imageUrls), separate with | (pipe).","# - Specifications must be valid JSON.","# - Do not add extra columns or change the order.","# - If unsure, download the latest template or check the category list in the product upload form.",ij.join(","),...q];d(J.join(`
`))}catch{d("")}})()},[]),!p||!p.isProSeller)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow text-center max-w-md mx-auto",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-orange-600",children:"Pro Seller Feature"}),i.jsx("p",{className:"mb-4 text-gray-700",children:"Bulk product upload is only available to Pro Sellers. Upgrade now to manage your inventory more efficiently!"}),i.jsx("a",{href:"/pro-seller-guide-full",className:"inline-block px-6 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 font-semibold",children:"Upgrade to Pro Seller"}),i.jsx("div",{className:"mt-6",children:i.jsx("a",{href:"/sell",className:"inline-block px-5 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold",children:"Return to Dashboard"})})]})});const y=()=>{if(!c){Ke.error("Categories are still loading. Please try again in a moment.");return}try{const H=c.split(`
`),W=ij.join(","),ne=H.findIndex(Ne=>Ne.trim().startsWith(W)),U=[];if(ne>=0)for(let Ne=ne+1;Ne<H.length;Ne++){const xe=H[Ne];!xe||xe.trim().startsWith("#")||U.push(xe.split(",").map(ze=>ze.trim()))}const Q=H.filter(Ne=>Ne.trim().startsWith("# INSTRUCTIONS:")||Ne.trim().startsWith("# -")||Ne.trim().startsWith("# ")).map(Ne=>[Ne.replace(/^#\s?/,"")]),q=H.filter(Ne=>Ne.trim().startsWith("#")&&Ne.includes(":")),Z=[["Category","Subcategories (comma separated)"]];q.forEach(Ne=>{const ze=Ne.replace(/^#\s?/,"").split(":");ze.length>=2&&Z.push([ze[0].trim(),ze.slice(1).join(":").trim()])});const J=[ij];U.forEach(Ne=>J.push(Ne));const re=dd.book_new(),de=dd.aoa_to_sheet(Q.length?Q:[["Follow the guidelines in the product upload page before uploading this template."]]),Se=dd.aoa_to_sheet(Z.length?Z:[["No categories available yet",""]]),je=dd.aoa_to_sheet(J);dd.book_append_sheet(re,de,"INSTRUCTIONS"),dd.book_append_sheet(re,Se,"VALID_CATEGORIES"),dd.book_append_sheet(re,je,"TEMPLATE"),j3e(re,"bulk_upload_template.xlsx"),Ke.success("Excel template downloaded successfully!")}catch(H){console.error("Failed to generate XLSX template",H),Ke.error("Failed to generate Excel template. Please try again.")}},w=(H,W)=>{const ne=[];for(let U=0;U<W.length;U++){const z=W[U]||[],Q={};H.forEach((q,Z)=>{let J=z[Z]??"";if(typeof J=="string"&&(J=J.trim()),q==="price"||q==="stock")J=parseFloat(J)||0;else if(["colors","sizes","tags","imageUrls"].includes(q))J=J?String(J).split("|").map(re=>re.trim()).filter(Boolean):[];else if(q==="specifications")try{J=J?typeof J=="object"?J:JSON.parse(String(J)):{}}catch{J={}}Q[q]=J}),ne.push(Q)}return ne},k=H=>{const W=H.split(/\r?\n/).filter(Boolean);if(W.length===0)return[];const ne=W[0].split(",").map(z=>z.trim()),U=[];for(let z=1;z<W.length;z++){const Q=W[z],q=[];let Z="",J=!1;for(let re=0;re<Q.length;re++){const de=Q[re];if(de==='"'){J=!J;continue}de===","&&!J?(q.push(Z),Z=""):Z+=de}q.push(Z),U.push(q)}return w(ne,U)};function N(H){return(H||"").replace(/\s+/g," ").trim().toLowerCase()}function T(H,W){const ne=N(H);return W.find(U=>N(U)===ne)||H}function E(H,W){const ne=N(H);return W.some(U=>N(U)===ne)}const I=H=>{if(!a.length||!Object.keys(o).length){Ke.error("Categories are still loading. Please wait a moment and try again.");return}const W=H.target.files[0];if(!W)return;const ne=(W.name||"").toLowerCase(),U=ne.endsWith(".csv"),z=ne.endsWith(".xlsx")||ne.endsWith(".xls");if(!U&&!z){Ke.error("Please upload a CSV or Excel (.xlsx/.xls) file");return}const Q=new FileReader;Q.onload=q=>{try{let Z=[];if(U)Z=k(q.target.result);else if(z){const re=new Uint8Array(q.target.result),de=aA(re,{type:"array"}),Se=de.SheetNames[0],je=de.Sheets[Se],Ne=dd.sheet_to_json(je,{header:1,defval:""});if(!Ne||Ne.length===0){Ke.error("Excel file appears to be empty");return}const xe=Ne[0].map(se=>String(se).trim()),ze=Ne.slice(1);Z=w(xe,ze)}const J=Z.map(re=>{const de=T(re.category,a),Se=o[de]||[];o[de]||console.warn(`Category "${de}" not found in subcategories object`,o);const je=T(re.subcategory,Se);return console.log("Categories:",a),console.log("Subcategories:",o),console.log("Product category:",re.category,"->",de,"subcategory:",re.subcategory,"->",je),{...re,category:de,subcategory:je}});e(J),Ke.success(`${J.length} products loaded successfully!`)}catch{Ke.error("Error parsing CSV file. Please check the format.")}},U?Q.readAsText(W):Q.readAsArrayBuffer(W)},S=H=>{const W={};return H.name||(W.name="Name is required"),H.description||(W.description="Description is required"),(!H.price||H.price<=0)&&(W.price="Valid price is required"),(!H.stock||H.stock<0)&&(W.stock="Stock is required"),H.category?E(H.category,a)||(W.category=`Invalid category: "${H.category}". Valid: ${a.join(", ")}`):W.category="Category is required",H.subcategory?E(H.subcategory,o[H.category]||[])||(W.subcategory=`Invalid subcategory: "${H.subcategory}". Valid: ${(o[H.category]||[]).join(", ")}`):W.subcategory="Subcategory is required",(!H.colors||H.colors.length===0)&&(W.colors="At least one color is required"),(!H.imageUrls||H.imageUrls.length===0)&&(W.imageUrls="At least one image is required"),H.country||(W.country="Country is required"),H.state||(W.state="State is required"),W},[A,P]=R.useState([]),O=(H,W,ne)=>{e(U=>U.map((z,Q)=>Q===H?{...z,[W]:ne}:z))},M=async(H,W=!1,ne)=>{const U=new FormData;U.append("file",H),U.append("isVideo",W);try{const Q=await jr.post("https://foremade-backend.onrender.com/upload",U,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4,onUploadProgress:q=>{}});if(Q.status!==200||!Q.data.url)throw new Error(`Failed to upload ${W?"video":"image"} to Cloudinary.`);return Q.data.url}catch(z){throw console.error(`${W?"Video":"Image"} upload error:`,{message:z.message,code:z.code,response:z.response?.data}),new Error(z.code==="ECONNABORTED"?"Request timed out. Please check your network or try again later.":z.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network or server status.":z.response?.data?.error||`Failed to upload ${W?"video":"image"}.`)}finally{}},L=(H,W)=>{const ne=Array.from(W);e(U=>U.map((z,Q)=>Q===H?{...z,imageFiles:ne,imageUrls:[]}:z))},B=(H,W)=>{const ne=W[0];e(U=>U.map((z,Q)=>Q===H?{...z,videoFile:ne,videoUrl:""}:z))},G=H=>{e(W=>W.filter((ne,U)=>U!==H))},X=async()=>{if(!a.length||!Object.keys(o).length){Ke.error("Categories are still loading. Please wait a moment and try again.");return}const H=r.map(J=>{const re=T(J.category,a),de=o[re]||[];o[re]||console.warn(`Category "${re}" not found in subcategories object`,o);const Se=T(J.subcategory,de);return console.log("Categories:",a),console.log("Subcategories:",o),console.log("Product category:",J.category,"->",re,"subcategory:",J.subcategory,"->",Se),{...J,category:re,subcategory:Se}}),W=H.map(S);if(P(W),W.some(J=>Object.keys(J).length>0)){Ke.error("Please fix errors before submitting.");return}s(!0);let ne=0,U=0,z=[];const Q=Ye.currentUser,q=Q?.uid||p?.uid||"",Z=Q?.displayName||p?.displayName||p?.name||"";try{const J=await Promise.all(H.map(async re=>{let de=[];re.imageFiles&&re.imageFiles.length>0?de=await Promise.all(re.imageFiles.map(Ne=>M(Ne,!1))):re.imageUrls&&re.imageUrls.length>0&&(de=re.imageUrls);let Se="";re.videoFile?Se=await M(re.videoFile,!0):re.videoUrl&&(Se=re.videoUrl);const je={...re,imageUrls:de,videoUrl:Se,sellerId:q,seller:{name:Z,id:q},sellerName:Z};return delete je.imageFiles,delete je.videoFile,je}));for(const re of J)try{await fi(Xe(ve,"products"),re),ne++}catch(de){U++,z.push(re.name||"Unnamed product"),console.error("Failed to upload product:",re,de)}ne>0&&(Ke.success(`${ne} products uploaded successfully!`),e([]),u.current&&(u.current.value="")),U>0&&Ke.error(`Failed to upload ${U} products: ${z.join(", ")}`)}catch(J){Ke.error(J.message||"Failed to upload products")}finally{s(!1)}};return i.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-4 md:p-8",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsx("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-center gap-2",children:i.jsx("a",{href:"/sell",className:"inline-block px-5 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold",children:"Return to Dashboard"})}),i.jsx("div",{className:"mb-6",children:i.jsx("a",{href:"/guidelines",className:"inline-block px-4 py-2 bg-blue-50 text-blue-700 rounded hover:bg-blue-100 font-semibold shadow",children:"View Product Upload Guidelines"})}),i.jsx("div",{className:"mb-6",children:i.jsxs("label",{className:"flex items-center gap-2 text-blue-900 font-semibold",children:[i.jsx("input",{type:"checkbox",checked:b,onChange:H=>x(H.target.checked),className:"accent-blue-600 w-4 h-4"}),"I have read and understood the ",i.jsx("a",{href:"/guidelines",className:"underline text-blue-700",children:"Product Upload Guidelines"})]})}),i.jsx(xc,{alerts:h,removeAlert:m}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bulk Product Upload"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Upload multiple products at once for faster inventory management"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx("svg",{className:"w-6 h-6 text-[#112d4e]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Download Template"}),i.jsx("p",{className:"text-sm text-[#112d4e]",children:"Get the CSV template to format your data correctly"})]})]}),i.jsx("button",{onClick:y,className:"mt-4 w-full px-4 py-2 bg-[#112d4e] text-white rounded-md hover:bg-blue-700 transition-colors",disabled:!b,title:b?"":"Please read the guidelines before proceeding.",children:"Download Excel Template (.xlsx)"})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx("svg",{className:"w-6 h-6 text-blue-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-[#112d4e]",children:"Upload CSV"}),i.jsx("p",{className:"text-sm text-[#112d4e]",children:"Upload your formatted CSV file with product data"})]})]}),i.jsx("input",{ref:u,type:"file",accept:".csv,.xlsx,.xls",onChange:I,className:"mt-4 w-full px-4 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx("svg",{className:"w-6 h-6 text-[#112d4e]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-[#112d4e]",children:"Submit for Review"}),i.jsx("p",{className:"text-sm text-[#112d4e]",children:"Submit your products for admin approval"})]})]}),i.jsx("button",{onClick:X,disabled:t||r.length===0,className:"mt-4 w-full px-4 py-2 bg-[#112d4e] text-white rounded-md hover:bg-[#112d4e] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?"Submitting...":`Submit ${r.length} Products`})]})]}),r.length>0&&i.jsx("div",{className:"space-y-6",children:r.map((H,W)=>i.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Name *"}),i.jsx("input",{type:"text",value:H.name||"",onChange:ne=>O(W,"name",ne.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[W]?.name?"border-red-500":"border-gray-300"}`}),A[W]?.name&&i.jsx("div",{className:"text-xs text-red-600",children:A[W].name})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Category *"}),i.jsx("input",{type:"text",value:H.category||"",onChange:ne=>O(W,"category",ne.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[W]?.category?"border-red-500":"border-gray-300"}`}),A[W]?.category&&i.jsx("div",{className:"text-xs text-red-600",children:A[W].category})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Description *"}),i.jsx("textarea",{value:H.description||"",onChange:ne=>O(W,"description",ne.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[W]?.description?"border-red-500":"border-gray-300"}`,rows:2}),A[W]?.description&&i.jsx("div",{className:"text-xs text-red-600",children:A[W].description})]}),i.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Price *"}),i.jsx("input",{type:"number",value:H.price||"",onChange:ne=>O(W,"price",ne.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[W]?.price?"border-red-500":"border-gray-300"}`}),A[W]?.price&&i.jsx("div",{className:"text-xs text-red-600",children:A[W].price})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Stock *"}),i.jsx("input",{type:"number",value:H.stock||"",onChange:ne=>O(W,"stock",ne.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[W]?.stock?"border-red-500":"border-gray-300"}`}),A[W]?.stock&&i.jsx("div",{className:"text-xs text-red-600",children:A[W].stock})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Colors *"}),i.jsx("input",{type:"text",value:H.colors?.join(" | ")||"",onChange:ne=>O(W,"colors",ne.target.value.split("|").map(U=>U.trim()).filter(Boolean)),className:`w-full border rounded px-2 py-1 text-sm ${A[W]?.colors?"border-red-500":"border-gray-300"}`,placeholder:"e.g. Red | blue"}),A[W]?.colors&&i.jsx("div",{className:"text-xs text-red-600",children:A[W].colors})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Sizes"}),i.jsx("input",{type:"text",value:H.sizes?.join(" | ")||"",onChange:ne=>O(W,"sizes",ne.target.value.split("|").map(U=>U.trim()).filter(Boolean)),className:"w-full border rounded px-2 py-1 text-sm",placeholder:"e.g. S | M | L"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Tags"}),i.jsx("input",{type:"text",value:H.tags?.join(" | ")||"",onChange:ne=>O(W,"tags",ne.target.value.split("|").map(U=>U.trim()).filter(Boolean)),className:"w-full border rounded px-2 py-1 text-sm",placeholder:"e.g. Audio | Portable"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Manual Size"}),i.jsx("input",{type:"text",value:H.manualSize||"",onChange:ne=>O(W,"manualSize",ne.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Condition"}),i.jsx("input",{type:"text",value:H.condition||"",onChange:ne=>O(W,"condition",ne.target.value),className:"w-full border rounded px-2 py-1 text-sm",placeholder:"e.g. New"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Subcategory"}),i.jsx("input",{type:"text",value:H.subcategory||"",onChange:ne=>O(W,"subcategory",ne.target.value),className:"w-full border rounded px-2 py-1 text-sm"}),A[W]?.subcategory&&i.jsx("div",{className:"text-xs text-red-600",children:A[W].subcategory})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Country *"}),i.jsx("input",{type:"text",value:H.country||"",onChange:ne=>O(W,"country",ne.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[W]?.country?"border-red-500":"border-gray-300"}`}),A[W]?.country&&i.jsx("div",{className:"text-xs text-red-600",children:A[W].country})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"State *"}),i.jsx("input",{type:"text",value:H.state||"",onChange:ne=>O(W,"state",ne.target.value),className:`w-full border rounded px-2 py-1 text-sm ${A[W]?.state?"border-red-500":"border-gray-300"}`}),A[W]?.state&&i.jsx("div",{className:"text-xs text-red-600",children:A[W].state})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"City"}),i.jsx("input",{type:"text",value:H.city||"",onChange:ne=>O(W,"city",ne.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Address"}),i.jsx("input",{type:"text",value:H.address||"",onChange:ne=>O(W,"address",ne.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Specifications (JSON)"}),i.jsx("textarea",{value:typeof H.specifications=="string"?H.specifications:JSON.stringify(H.specifications||{}),onChange:ne=>O(W,"specifications",ne.target.value),className:"w-full border rounded px-2 py-1 text-sm",rows:2})]})]}),i.jsxs("div",{className:"flex flex-col gap-2 w-full md:w-64",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Images *"}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:H.imageFiles&&H.imageFiles.length>0?H.imageFiles.map((ne,U)=>ne instanceof File?i.jsx("img",{src:URL.createObjectURL(ne),alt:"preview",className:"w-16 h-16 object-cover rounded border"},U):null):H.imageUrls?.map((ne,U)=>typeof ne=="string"&&ne?i.jsx("img",{src:ne,alt:"preview",className:"w-16 h-16 object-cover rounded border"},U):null)}),i.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:ne=>L(W,ne.target.files),className:"w-full"}),i.jsx("input",{type:"text",placeholder:"Or paste image URLs separated by |",value:H.imageUrls?.join(" | ")||"",onChange:ne=>O(W,"imageUrls",ne.target.value.split("|").map(U=>U.trim()).filter(Boolean)),className:"w-full mt-1 text-xs border rounded px-2 py-1"}),A[W]?.imageUrls&&i.jsx("div",{className:"text-xs text-red-600",children:A[W].imageUrls})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Video"}),H.videoFile&&i.jsx("video",{src:URL.createObjectURL(H.videoFile),controls:!0,className:"w-full h-24 object-cover rounded mb-1"}),!H.videoFile&&H.videoUrl&&i.jsx("video",{src:H.videoUrl,controls:!0,className:"w-full h-24 object-cover rounded mb-1"}),i.jsx("input",{type:"file",accept:"video/*",onChange:ne=>B(W,ne.target.files),className:"w-full"}),i.jsx("input",{type:"text",placeholder:"Or paste video URL",value:H.videoUrl||"",onChange:ne=>O(W,"videoUrl",ne.target.value),className:"w-full mt-1 text-xs border rounded px-2 py-1"})]}),i.jsx("button",{onClick:()=>G(W),type:"button",className:"mt-2 w-full px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 text-xs",children:"Remove Product"})]})]},W))}),i.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Instructions"}),i.jsxs("div",{className:"text-sm text-blue-900 space-y-2",children:[i.jsx("p",{children:" Download the Excel template (.xlsx) and fill in your product data. The file contains three sheets:"}),i.jsxs("ul",{className:"list-disc ml-6",children:[i.jsxs("li",{children:[i.jsx("b",{children:"INSTRUCTIONS"}),"  human-friendly guidance and important notes."]}),i.jsxs("li",{children:[i.jsx("b",{children:"VALID_CATEGORIES"}),"  current valid categories and subcategories you must use."]}),i.jsxs("li",{children:[i.jsx("b",{children:"TEMPLATE"}),"  header row and example rows. Use this sheet to add your products."]})]}),i.jsxs("p",{children:[" In the ",i.jsx("b",{children:"TEMPLATE"})," sheet: do not change the header row or the column order."]}),i.jsxs("p",{children:[" For fields that accept multiple values (colors, sizes, tags, imageUrls), separate values with ",i.jsx("b",{children:"|"})," (pipe). Example: ",i.jsx("code",{children:"Red|Blue|Green"}),"."]}),i.jsxs("p",{children:[" The ",i.jsx("b",{children:"specifications"})," column must contain valid JSON (e.g. ",i.jsx("code",{children:'{"brand":"Acme","material":"cotton"}'}),")."]}),i.jsxs("p",{children:[" Ensure required fields are provided: ",i.jsx("b",{children:"name, description, price, stock, category, colors, imageUrls, country, state"}),"."]}),i.jsx("p",{children:" Maximum 100 products per upload. For large inventories, split files into smaller batches."}),i.jsx("p",{children:" All uploads will be reviewed by admin before going live."}),i.jsxs("p",{children:[" If you prefer CSV, the uploader still accepts ",i.jsx("code",{children:".csv"}),", but Excel (.xlsx) is recommended for ease of editing."]})]})]})]})})]})},L3e=()=>{const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(""),[o,l]=R.useState({}),[c,d]=R.useState(""),[u,h]=R.useState(!1),{userProfile:m}=Nh(),[p,b]=R.useState({}),x=[{value:"72h",label:"3 Days",price:1500,hours:"72h"},{value:"168h",label:"7 Days",price:3500,hours:"168h"}];R.useCallback(Hh(P=>{d(P)},300),[]);const y=async()=>{try{const P=Ye.currentUser;if(!P){n("Please log in to view your products."),s(!1);return}const O=Lt(Xe(ve,"products"),Tt("sellerId","==",P.uid)),L=(await xt(O)).docs.map(B=>{const G=B.data(),X=Array.isArray(G.imageUrls)?G.imageUrls.filter(H=>typeof H=="string"&&H.startsWith("https://res.cloudinary.com/")):G.imageUrl&&typeof G.imageUrl=="string"&&G.imageUrl.startsWith("https://res.cloudinary.com/")?[G.imageUrl]:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"];return{id:B.id,...G,imageUrls:X.length>0?X:["https://res.cloudinary.com/your_cloud_name/image/upload/v1/default.jpg"],uploadDate:G.uploadDate?G.uploadDate.toDate():new Date,bumpExpiry:G.bumpExpiry?G.bumpExpiry.toDate():null,bumpDuration:G.bumpDuration||null,isBumped:G.isBumped||!1}});e(L)}catch(P){n("Failed to fetch products: "+P.message),console.error(P)}finally{s(!1)}},w=async(P,O,M)=>{try{l(q=>({...q,[O]:!0}));const L=Ye.currentUser;if(!L)throw new Error("User not authenticated");const B=M,G=x.find(q=>q.hours===M);Ke.success(`Payment successful for ${G.label} bump! Your product is now boosted.`,{position:"top-center",autoClose:3500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}),await new Promise(q=>setTimeout(q,3500));const X=new Date,H={"72h":4320*60*1e3,"168h":10080*60*1e3}[B],W=new Date(X.getTime()+H);await fi(Xe(ve,"productBumps"),{productId:O,sellerId:L.uid,bumpDuration:B,paymentIntentId:P.reference||`fallback-${Date.now()}`,startDate:X,expiry:W,timestamp:X});const ne=qe(ve,"products",O);await Oi(ne,{bumpExpiry:W,isBumped:!0,bumpDuration:B});const U=await L.getIdToken(!0),Q=await fetch("https://foremade-backend.onrender.com/api/send-bump-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify({sellerId:L.uid,productId:O,productName:r.find(q=>q.id===O)?.name||"Unnamed Product",expiryDate:W.toISOString()})});Q.ok||console.warn("Email notification failed:",await Q.text()),e(q=>q.map(Z=>Z.id===O?{...Z,bumpExpiry:W,bumpDuration:B,isBumped:!0}:Z)),Ke.success("Product bumped successfully!")}catch(L){console.error("Bump product error:",L.message),Ke.error(L.message||"Failed to bump product. Check console for details.")}finally{l(L=>({...L,[O]:!1}))}},k=()=>{Ke.info("Payment cancelled.",{position:"top-right",autoClose:3e3})},N=async P=>{const O=qe(ve,"products",P);await Oi(O,{views:(r.find(M=>M.id===P)?.views||0)+1})};R.useEffect(()=>{const P=Tl(Ye,O=>{O?y():(n("Please log in to view your products."),s(!1))});return()=>P()},[]),R.useEffect(()=>{const P=()=>{const M={};r.forEach(L=>{if(L.bumpExpiry&&new Date(L.bumpExpiry)>new Date){const B=new Date,X=new Date(L.bumpExpiry)-B;M[L.id]=X>0?X:0}}),b(M)};P();const O=setInterval(P,1e3);return()=>clearInterval(O)},[r]);const T=P=>{if(P<=0)return"Expired";const O=Math.floor(P/(1e3*60*60)),M=Math.floor(P%(1e3*60*60)/(1e3*60)),L=Math.floor(P%(1e3*60)/1e3);return`${O}:${M.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`},E=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),I=P=>P.isBumped&&P.bumpExpiry&&new Date(P.bumpExpiry)>new Date,S=()=>{y()},A=r.filter(P=>P.name?.toLowerCase().includes(c.toLowerCase()));return t?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[i.jsx(ws,{onToggle:()=>h(!u),isOpen:u}),i.jsx("div",{className:`flex-1 p-2 sm:p-4 ${u?"ml-64":"ml-0"} transition-all duration-300 md:ml-64 flex justify-center items-center`,children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-4 w-full max-w-5xl",children:Array.from({length:6}).map((P,O)=>i.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-2 sm:p-3 shadow-sm animate-pulse h-32 sm:h-40"},O))})})]}):a?i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-gray-50",children:i.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 sm:p-4 rounded-lg shadow-lg max-w-xs sm:max-w-md mx-auto",children:[i.jsx("p",{className:"text-red-700 text-sm sm:text-base mb-1 sm:mb-2",children:a}),i.jsx(Fe,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium underline text-sm sm:text-base",children:"Return to Login"})]})}):m&&!m.isProSeller?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow text-center max-w-sm sm:max-w-md mx-auto",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3 text-orange-600",children:"Pro Seller Feature"}),i.jsx("p",{className:"mb-2 sm:mb-3 text-gray-700 text-sm sm:text-base",children:"Product bump is only available to Pro Sellers. Upgrade now to boost your products' visibility!"}),i.jsx(Fe,{to:"/pro-seller-guide-full",className:"inline-block px-3 sm:px-4 py-1.5 sm:py-2 text-white rounded font-semibold",style:{backgroundColor:"#112d4e"},onMouseOver:P=>P.target.style.backgroundColor="#0d2440",onMouseOut:P=>P.target.style.backgroundColor="#112d4e",children:"Upgrade to Pro Seller"}),i.jsx("div",{className:"mt-2 sm:mt-3",children:i.jsx(Fe,{to:"/sell",className:"inline-block px-3 sm:px-4 py-1.5 sm:py-2 bg-gray-200 text-gray-900 rounded hover:bg-gray-300 font-semibold text-sm sm:text-base",children:"Return to Dashboard"})})]})}):i.jsxs("div",{className:"min-h-screen flex m-5",children:[i.jsx(ws,{onToggle:()=>h(!u),isOpen:u}),i.jsxs("div",{className:`flex-1 p-2 sm:p-4 ${u?"ml-64":"ml-0"} mt-6 transition-all duration-300 md:ml-64`,children:[i.jsxs("div",{className:"mb-4 sm:mb-6",children:[i.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Product Bump"}),i.jsx("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Boost your products' visibility with the bump feature."})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 sm:p-3",children:i.jsxs("div",{className:"p-4 flex items-center",children:[i.jsx("div",{className:"p-1 sm:p-1.5 bg-blue-100 rounded-lg",children:i.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{className:"ml-1 sm:ml-2",children:[i.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Bump Overview"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Increase visibility of your products"})]})]})}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 sm:p-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-1 sm:p-1.5 bg-blue-100 rounded-lg",children:i.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),i.jsxs("div",{className:"ml-1 sm:ml-2",children:[i.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Refresh"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Update your product list"})]})]}),i.jsx("button",{onClick:S,className:"mt-1 sm:mt-2 w-full px-2 sm:px-3 py-1 sm:py-1.5 text-white rounded-lg transition-colors text-xs sm:text-sm",style:{backgroundColor:"#112d4e"},onMouseOver:P=>P.target.style.backgroundColor="#0d2440",onMouseOut:P=>P.target.style.backgroundColor="#112d4e",children:"Refresh"})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-3",children:A.length>0?A.map(P=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 sm:p-3 shadow-md hover:shadow-lg transition duration-300",onClick:()=>N(P.id),children:[i.jsxs("div",{className:"relative aspect-square sm:aspect-[4/3] mb-1 sm:mb-2 overflow-hidden rounded-lg",children:[i.jsx("img",{src:P.imageUrls[0],alt:P.name||"Product Image",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105 cursor-pointer",onError:O=>{O.target.style.display="none",O.target.parentElement.innerHTML='<div class="absolute w-full h-full bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-500 text-xs sm:text-sm">Image N/A</span></div>'}}),I(P)&&i.jsx("span",{className:"absolute top-1 left-1 inline-flex items-center px-1 sm:px-1.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Bumped Up"})]}),i.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 truncate",children:P.name||"Unnamed Product"}),i.jsxs("p",{className:"text-gray-700 text-xs sm:text-sm mb-1",children:["Price: ",(P.price||0).toLocaleString("en-NG")]}),i.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["Uploaded: ",P.uploadDate.toLocaleDateString("en-NG",{day:"2-digit",month:"short",year:"numeric"})]}),I(P)&&p[P.id]>0&&i.jsxs("div",{className:"mt-1 sm:mt-2 p-1 sm:p-1.5 bg-green-50 border border-green-200 rounded-md",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-gray-900",children:["Time Remaining: ",T(p[P.id])]}),i.jsxs("p",{className:"text-xs mt-0.5",children:["Duration: ",x.find(O=>O.hours===P.bumpDuration)?.label||"Unknown"]}),P.bumpExpiry&&i.jsxs("p",{className:"text-xs mt-0.5",children:["Expires: ",E(P.bumpExpiry)]})]}),!I(P)&&i.jsx("div",{className:"mt-1 sm:mt-2 space-y-1 sm:space-y-1.5",children:x.map(O=>i.jsx(nV,{email:Ye.currentUser?.email,amount:O.price*100,onSuccess:M=>w(M,P.id,O.hours),onClose:k,disabled:o[P.id],buttonText:`${O.label} (${O.price.toLocaleString("en-NG")})`,className:`w-full flex items-center justify-center px-1.5 sm:px-2 py-1 rounded-lg text-xs sm:text-sm font-medium transition duration-200 ${o[P.id]?"bg-gray-200 text-gray-500 cursor-not-allowed":"text-white"}`,style:o[P.id]?{}:{backgroundColor:"#112d4e"},onMouseOver:M=>{o[P.id]||(M.target.style.backgroundColor="#0d2440")},onMouseOut:M=>{o[P.id]||(M.target.style.backgroundColor="#112d4e")},sellerId:Ye.currentUser?.uid},O.hours))}),o[P.id]&&i.jsxs("div",{className:"flex items-center justify-center py-1",children:[i.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-1 text-xs sm:text-sm text-blue-600",children:"Processing..."})]})]},P.id)):i.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center mt-4 sm:mt-6 mb-4 sm:mb-6",children:[i.jsx(Lm,{className:"w-12 sm:w-16 h-12 sm:h-16 text-gray-300"}),i.jsxs("p",{className:"text-gray-900 text-center text-sm sm:text-base mt-1 sm:mt-2",children:["No products uploaded yet.",i.jsx("br",{}),"Start by adding your first product!"]}),i.jsx(Fe,{to:"/products-upload",className:"mt-1 sm:mt-2 px-3 sm:px-4 py-1 sm:py-1.5 text-white rounded-lg transition duration-300 text-sm sm:text-base",style:{backgroundColor:"#112d4e"},onMouseOver:P=>P.target.style.backgroundColor="#0d2440",onMouseOut:P=>P.target.style.backgroundColor="#112d4e",children:"Add Your First Product"})]})}),i.jsxs("div",{className:"mt-3 sm:mt-4 bg-blue-50/50 border border-blue-100 rounded-lg p-4 sm:p-4",children:[i.jsx("h3",{className:"text-sm sm:text-base font-semibold text-blue-800 mb-1 sm:mb-2",children:"How Product Bump Works"}),i.jsxs("div",{className:"text-xs sm:text-sm text-blue-700/80 space-y-0.5 sm:space-y-1",children:[i.jsx("p",{children:" Select a product from the list below."}),i.jsx("p",{children:" Choose a bump duration (3 or 7 days) and complete payment via Paystack."}),i.jsx("p",{children:" A success message will appear, and you'll receive an email confirmation."}),i.jsx("p",{children:" Bumped products appear at the top of search results for the selected duration."})]})]})]})]})};function B3e({alerts:r,removeAlert:e}){return i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:i.jsx(go,{children:r.map(t=>i.jsxs(Ct.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:.3},className:`p-4 rounded-lg shadow-lg flex items-center gap-2 ${t.type==="error"?"bg-red-600":"bg-green-600"} text-white`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})})}function U3e(){const[r,e]=R.useState([]),t=R.useCallback((a,n="success")=>{const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}]),setTimeout(()=>e(l=>l.filter(c=>c.id!==o)),5e3)},[]),s=R.useCallback(a=>{e(n=>n.filter(o=>o.id!==a))},[]);return{alerts:r,addAlert:t,removeAlert:s}}function z3e(){const r=zr(),{alerts:e,addAlert:t,removeAlert:s}=U3e(),[a,n]=R.useState([]),[o,l]=R.useState([]),[c,d]=R.useState(""),u=R.useCallback(Hh(m=>{d(m)},300),[]),h=m=>{u(m.target.value)};return R.useEffect(()=>{if(!Ye.currentUser){t("Please log in.","error"),r("/login");return}const m=Lt(Xe(ve,"transactions"),Tt("sellerId","==",Ye.currentUser.uid)),p=yr(m,b=>{const x=b.docs.map(y=>({id:y.id,...y.data()}));n(x),l(x.filter(y=>(y.id?.toLowerCase()||"").includes(c.toLowerCase())||(y.type?.toLowerCase()||"").includes(c.toLowerCase())))},b=>{console.error("Firestore error:",b.message),t(`Failed to fetch transactions: ${b.message}`,"error")});return()=>p()},[r,c]),i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(ws,{}),i.jsx(Ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:i.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-500 flex items-center gap-2",children:[i.jsx(vm,{className:"w-8 h-8"}),"Transaction History"]})}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search by Transaction ID or Type...",onChange:h,className:"w-full p-3 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"}),i.jsx("i",{className:"bx bx-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]})}),o.length===0?i.jsx(Ct.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No transactions found."}):i.jsx(Ct.div,{className:"grid gap-4 lg:grid-cols-2",children:i.jsx(go,{children:o.map((m,p)=>i.jsxs(Ct.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3,delay:p*.1},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",m.id]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Type:"})," ",m.type||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Status:"})," ",i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${m.status==="Pending"?"bg-yellow-100 text-yellow-800":m.status==="Approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.status||"N/A"})]})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Amount:"})," ",m.country==="United Kingdom"?"":"",m.amount?.toFixed(2)||"0.00"]}),m.type==="Withdrawal"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Bank:"})," ",m.bankName||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Account:"})," ",m.accountNumber||"N/A"]})]})]})]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:[i.jsx("span",{className:"font-medium",children:"Date:"})," ",m.createdAt?.toDate?new Date(m.createdAt.toDate()).toLocaleString():"N/A"]}),m.status==="Failed"&&m.failureReason&&i.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:[i.jsx("span",{className:"font-medium",children:"Reason:"})," ",m.failureReason]})]},m.id))})}),i.jsx(B3e,{alerts:e,removeAlert:s})]})})]})}m0.register(NC,Kxe,EC,AC,Zxe,jC,SC);const Lu={background:"#fff",borderRadius:16,boxShadow:"0 2px 16px rgba(0,0,0,0.06)",width:"100%",padding:"1rem"},V3e=()=>{const[r,e]=R.useState({totalProducts:0,activeProducts:0,totalViews:0,totalSales:0,averageRating:0,topProducts:[],monthlyTrends:[]}),[t,s]=R.useState(!0),[a,n]=R.useState(""),[o,l]=R.useState("30d"),{alerts:c,removeAlert:d}=Vd(),{userProfile:u}=Nh(),h=[{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"},{value:"90d",label:"Last 90 Days"},{value:"1y",label:"Last Year"}];if(u&&!u.isProSeller)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:i.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow text-center max-w-xs sm:max-w-md mx-auto",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-orange-600",children:"Pro Seller Feature"}),i.jsx("p",{className:"mb-4 text-gray-700 text-sm sm:text-base",children:"Product analytics are only available to Pro Sellers. Upgrade now to track your performance and sales metrics!"}),i.jsx("a",{href:"/pro-seller-guide-full",className:"inline-block px-4 py-2 sm:px-6 sm:py-2 bg-orange-500 text-white rounded hover:bg-orange-600 font-semibold text-sm sm:text-base",children:"Upgrade to Pro Seller"}),i.jsx("div",{className:"mt-4 sm:mt-6",children:i.jsx("a",{href:"/sell",className:"inline-block px-4 py-2 sm:px-5 sm:py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold text-sm sm:text-base",children:"Return to Dashboard"})})]})});R.useEffect(()=>{let w;return s(!0),n(""),w=Tl(Ye,async k=>{if(!k){n("Please log in to view analytics."),s(!1);return}try{const N=k.uid,I=(await xt(Lt(Xe(ve,"products"),Tt("sellerId","==",N)))).docs.map(X=>({id:X.id,...X.data()})).map(X=>{const H=localStorage.getItem(`analytics_${X.id}`);if(H){const{views:W,sales:ne,bumpExpiry:U}=JSON.parse(H);return{...X,views:W,sales:ne,bumpExpiry:U?new Date(U):null}}return X}),S=I.length,A=I.filter(X=>X.status==="approved").length,P=I.reduce((X,H)=>X+(H.views||0),0),O=I.reduce((X,H)=>X+(H.sales||0),0),M=I.length?I.reduce((X,H)=>X+(H.rating||0),0)/I.length:0,L=[...I].sort((X,H)=>(H.sales||0)-(X.sales||0)).slice(0,5).map(X=>({name:X.name,sales:X.sales||0,views:X.views||0})),B={};I.forEach(X=>{if(X.createdAt){const H=new Date(X.createdAt),W=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}`;B[W]||(B[W]={month:W,views:0,sales:0}),B[W].views+=X.views||0,B[W].sales+=X.sales||0}});const G=Object.values(B).sort((X,H)=>X.month.localeCompare(H.month));e({totalProducts:S,activeProducts:A,totalViews:P,totalSales:O,averageRating:M,topProducts:L,monthlyTrends:G})}catch(N){n("Failed to load analytics: "+N.message)}finally{s(!1)}}),()=>w&&w()},[o]);const m=w=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(w),p=w=>new Intl.NumberFormat("en-NG").format(w);if(t)return i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[i.jsx(ws,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-2 sm:p-4 flex justify-center items-center",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 w-full max-w-4xl",children:Array.from({length:6}).map((w,k)=>i.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-2 sm:p-3 shadow-md animate-pulse h-48 sm:h-56"},k))})})]});if(a)return i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-50",children:[i.jsx(ws,{}),i.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow text-center max-w-xs sm:max-w-md mx-auto",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-red-600",children:"Error"}),i.jsx("p",{className:"mb-4 text-gray-700 text-sm sm:text-base",children:a}),i.jsx("a",{href:"/sell",className:"inline-block px-4 py-2 sm:px-5 sm:py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold text-sm sm:text-base",children:"Return to Dashboard"})]})]});const b={labels:r.topProducts.map(w=>w.name),datasets:[{label:"Sales",data:r.topProducts.map(w=>w.sales),backgroundColor:"#8884d8"}]},x={labels:r.monthlyTrends.map(w=>w.month),datasets:[{label:"Views",data:r.monthlyTrends.map(w=>w.views),borderColor:"#8884d8",backgroundColor:"rgba(136,132,216,0.2)",fill:!0,tension:.4},{label:"Sales",data:r.monthlyTrends.map(w=>w.sales),borderColor:"#82ca9d",backgroundColor:"rgba(130,202,157,0.2)",fill:!0,tension:.4}]},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{enabled:!0}},scales:{x:{ticks:{font:{size:10}}},y:{beginAtZero:!0,ticks:{font:{size:10}}}}};return i.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[i.jsx(ws,{}),i.jsxs("div",{className:"flex-1 ml-0 md:ml-64 p-2 sm:p-4",children:[i.jsx("div",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-4",children:i.jsx(Fe,{to:"/sell",className:"inline-block px-3 sm:px-4 py-1 sm:py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 font-semibold text-xs sm:text-sm",children:"Return to Dashboard"})}),i.jsx(xc,{alerts:c,removeAlert:d}),i.jsxs("div",{className:"mb-4 sm:mb-6",children:[i.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900",children:"Pro Seller Analytics"}),i.jsx("p",{className:"text-gray-600 mt-1 sm:mt-2 text-xs sm:text-base",children:"Track your performance and sales metrics"}),i.jsx("div",{className:"mt-2 sm:mt-4",children:i.jsx("select",{value:o,onChange:w=>l(w.target.value),className:"w-full sm:w-auto px-2 sm:px-3 py-1 sm:py-2 border border-gray-300 rounded-md text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:h.map(w=>i.jsx("option",{value:w.value,children:w.label},w.value))})})]}),!r.topProducts?.length&&!r.monthlyTrends?.length&&i.jsx("div",{className:"text-center text-gray-500 mb-4 sm:mb-6 text-xs sm:text-base",children:"No analytics data available yet."}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[i.jsxs("div",{style:Lu,className:"flex items-center",children:[i.jsx("div",{className:"p-1 sm:p-2 bg-blue-100 rounded-lg",children:i.jsx("svg",{className:"w-4 sm:w-6 h-4 sm:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),i.jsxs("div",{className:"ml-2 sm:ml-4",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Products"}),i.jsx("p",{className:"text-base sm:text-2xl font-bold text-gray-900",children:p(r.totalProducts)})]})]}),i.jsxs("div",{style:Lu,className:"flex items-center",children:[i.jsx("div",{className:"p-1 sm:p-2 bg-green-100 rounded-lg",children:i.jsxs("svg",{className:"w-4 sm:w-6 h-4 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),i.jsxs("div",{className:"ml-2 sm:ml-4",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Views"}),i.jsx("p",{className:"text-base sm:text-2xl font-bold text-gray-900",children:p(r.totalViews)})]})]}),i.jsxs("div",{style:Lu,className:"flex items-center",children:[i.jsx("div",{className:"p-1 sm:p-2 bg-yellow-100 rounded-lg",children:i.jsx("svg",{className:"w-4 sm:w-6 h-4 sm:h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),i.jsxs("div",{className:"ml-2 sm:ml-4",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Sales"}),i.jsx("p",{className:"text-base sm:text-2xl font-bold text-gray-900",children:m(r.totalSales)})]})]}),i.jsxs("div",{style:Lu,className:"flex items-center",children:[i.jsx("div",{className:"p-1 sm:p-2 bg-purple-100 rounded-lg",children:i.jsx("svg",{className:"w-4 sm:w-6 h-4 sm:h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),i.jsxs("div",{className:"ml-2 sm:ml-4",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Average Rating"}),i.jsx("p",{className:"text-base sm:text-2xl font-bold text-gray-900",children:r.averageRating.toFixed(1)})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[i.jsxs("div",{style:Lu,children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-4",children:"Monthly Trends"}),i.jsx("div",{className:"w-full h-40 sm:h-64 md:h-80",children:i.jsx(Ebe,{data:x,options:y})})]}),i.jsxs("div",{style:Lu,children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-4",children:"Top Products"}),i.jsx("div",{className:"w-full h-40 sm:h-64 md:h-80",children:i.jsx(CC,{data:b,options:y})})]})]}),i.jsxs("div",{style:Lu,children:[i.jsx("div",{className:"px-2 sm:px-4 py-2 sm:py-3 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Top Performing Products"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),i.jsx("th",{className:"px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),i.jsx("th",{className:"px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Sales"}),i.jsx("th",{className:"px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.topProducts.map((w,k)=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap text-sm sm:text-base font-medium text-gray-900",children:w.name}),i.jsx("td",{className:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap text-sm sm:text-base text-gray-900",children:p(w.views)}),i.jsx("td",{className:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap text-sm sm:text-base text-gray-900",children:p(w.sales)}),i.jsx("td",{className:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap text-sm sm:text-base font-medium text-gray-900",children:m(w.sales)})]},w.productId))})]})})]})]})]})},H3e=r=>[/\d{5,}/,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}\b/,/\b(?:\d{4}[- ]?){3}\d{4}\b|\b\d{16}\b/,/(contact me via|whatsapp|telegram|linkedin|call me|sms)/i,/(http|https|www\.)/i,/\b\d{10,}\b/,/(bank account|routing number|ssn|social security)/i,/(<script>|<\/script>|javascript:)/i,/(password|pin|otp)/i,/(\bfree\s+money\b|\bclick here\b|\bsubscribe\b|\boffer\b)/i].some(t=>t.test(r)),u8=()=>{const[r,e]=R.useState([]),[t,s]=R.useState(null),[a,n]=R.useState([]),[o,l]=R.useState(""),c=R.useRef(null),d=()=>c.current?.scrollIntoView({behavior:"smooth"}),u=async m=>{const p=qe(ve,"users",m),b=await wt(p);return b.exists()?b.data().name:"Unknown Buyer"};R.useEffect(()=>{if(!Ye.currentUser)return;const m=Lt(Xe(ve,"messages"),Om("createdAt","asc")),p=yr(m,async b=>{const x=b.docs.map(k=>({id:k.id,...k.data()})),y={};for(let k of x)if(k.receiverId===Ye.currentUser.uid||k.senderId===Ye.currentUser.uid){const N=k.senderId===Ye.currentUser.uid?k.receiverId:k.senderId;if(y[k.conversationId])y[k.conversationId].lastMessage=k.text;else{const T=await u(N);y[k.conversationId]={conversationId:k.conversationId,buyerId:N,buyerName:T,lastMessage:k.text}}}const w=Object.values(y);e(w),!t&&w.length>0&&s(w[0])});return()=>p()},[t]),R.useEffect(()=>{if(!t)return;const m=Lt(Xe(ve,"messages"),Om("createdAt","asc")),p=yr(m,b=>{const x=b.docs.map(y=>({id:y.id,...y.data()})).filter(y=>y.conversationId===t.conversationId);n(x),d()});return()=>p()},[t]);const h=async()=>{if(!(!o.trim()||!t)){if(H3e(o)){console.log("connot send message");return}await fi(Xe(ve,"messages"),{conversationId:t.conversationId,senderId:Ye.currentUser.uid,receiverId:t.buyerId,text:o.trim(),createdAt:new Date}),l(""),d()}};return i.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen",children:[i.jsx("div",{className:"w-full md:w-64 border-b md:border-b-0 md:border-r bg-gray-50",children:i.jsx(ws,{})}),i.jsxs("div",{className:"flex-1 flex flex-col md:flex-row",children:[i.jsx("div",{className:"w-full md:w-64 border-b md:border-b-0 md:border-r bg-gray-50 p-2 overflow-y-auto max-h-64 md:max-h-full",children:r.map(m=>i.jsxs("div",{className:`p-2 cursor-pointer rounded ${t?.conversationId===m.conversationId?"bg-teal-200":"hover:bg-gray-200"}`,onClick:()=>s(m),children:[i.jsxs("p",{className:"font-medium truncate",children:["Buyer: ",m.buyerName]}),i.jsx("p",{className:"text-sm text-gray-600 truncate",children:m.lastMessage})]},m.conversationId))}),i.jsxs("div",{className:"flex-1 flex flex-col bg-gray-100",children:[i.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-3",children:[a.map(m=>i.jsx("div",{className:`flex ${m.senderId===Ye.currentUser.uid?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`p-3 rounded-xl max-w-full sm:max-w-xs md:max-w-md break-words ${m.senderId===Ye.currentUser.uid?"bg-blue-600 text-white":"bg-white text-gray-800"}`,children:[m.text,i.jsx("div",{className:"text-xs text-gray-400 mt-1 text-right",children:m.createdAt?.toDate?m.createdAt.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Sending..."})]})},m.id)),i.jsx("div",{ref:c})]}),i.jsxs("div",{className:"p-4 border-t bg-white flex gap-2",children:[i.jsx("input",{type:"text",value:o,onChange:m=>l(m.target.value),placeholder:"Type a message",className:"flex-1 border rounded-full px-4 py-2 outline-none focus:ring-2 focus:ring-blue-400",onKeyDown:m=>m.key==="Enter"&&h()}),i.jsx("button",{onClick:h,className:"bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-700 transition",children:"Send"})]})]})]})]})},$3e=({isOpen:r,onClose:e,onConfirm:t,password:s,setPassword:a,isDeleting:n})=>i.jsx(go,{children:r&&i.jsx(Ct.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsxs(Ct.div,{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border border-orange-200 dark:border-gray-700",initial:{scale:.8,y:50,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.8,y:50,opacity:0},transition:{duration:.3,ease:"easeOut"},children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx(dE,{className:"w-12 h-12 text-red-500"})}),i.jsx("h2",{className:"text-xl font-bold text-orange-800 dark:text-orange-400 text-center mb-4",children:"Delete Your Account"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center mb-4",children:"You are about to delete your account. This action cannot be undone."}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Dz,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-400 w-5 h-5"}),i.jsx("input",{type:"password",placeholder:"Enter your password",value:s,onChange:o=>a(o.target.value),className:"w-full pl-10 pr-4 py-3 border rounded-xl text-gray-900 placeholder-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all border-gray-300",disabled:n})]})]}),i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsx("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white font-bold text-base shadow-lg hover:from-red-600 hover:to-red-700 focus:ring-4 focus:ring-red-200 transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:n||!s,children:n?"Deleting...":"Yes, Delete"}),i.jsx("button",{onClick:e,className:"px-6 py-3 rounded-xl bg-orange-100 text-orange-700 font-bold text-base shadow hover:bg-orange-200 transition border-2 border-orange-200",disabled:n,children:"No, Cancel"})]})]})})}),W3e=()=>{const[r,e]=R.useState(!1),[t,s,a]=R.useState(""),[n,o]=R.useState(!1),{alerts:l,addAlert:c,removeAlert:d}=Vd(),u=zr(),h=Ux(),m=async()=>{if(!h.currentUser){c("No user is logged in.","error");return}if(!t){c("Please enter your password to confirm deletion.","error");return}o(!0);try{const p=Qd.credential(h.currentUser.email,t);await hB(h.currentUser,p);const b=qe(ve,"users",h.currentUser.uid);await La(b).catch(x=>{throw console.error("Firestore deletion error:",x),new Error("Failed to delete user data.")}),await _Q(h.currentUser).catch(x=>{throw console.error("Auth deletion error:",x),new Error("Failed to delete user account.")}),s(""),e(!1),c("Your account has been successfully deleted.","success"),u("/")}catch(p){console.error("Account deletion error:",p),p.code==="auth/wrong-password"?c("Incorrect password. Please try again.","error"):p.code==="auth/requires-recent-login"?(c("Please log in again to authenticate this action.","error"),u("/login")):c(`Failed to delete account: ${p.message}`,"error")}finally{o(!1)}};return i.jsxs("div",{className:"min-h-screen bg-background-light py-8",children:[i.jsx(xc,{alerts:l,removeAlert:d}),i.jsx($3e,{isOpen:r,onClose:()=>{e(!1),s("")},onConfirm:m,password:t,setPassword:s,isDeleting:n}),i.jsxs("div",{className:"max-w-3xl mx-auto policy-card",children:[i.jsx("div",{className:"policy-header text-primary",children:"FOREMADE Marketplace & FOREMADEGo User Agreement"}),i.jsxs("div",{className:"policy-content",children:[i.jsxs("p",{className:"mb-2 text-secondary",children:[i.jsx("strong",{children:"Effective Date:"})," 30th July 2025"]}),i.jsxs("p",{className:"mb-2 text-secondary",children:[i.jsx("strong",{children:"Last Updated:"})," 30th July 2025"]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Scope of Agreement"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"Buyers and sellers on the FOREMADE Marketplace;"}),i.jsx("li",{children:"Delivery partners and riders using FOREMADEGo;"}),i.jsx("li",{children:"Use of the FOREMADE Wallet for receiving, holding, and withdrawing funds;"}),i.jsx("li",{children:"Any use of linked external websites and services."})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Eligibility"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"Be at least 18 years of age;"}),i.jsx("li",{children:"Have the legal capacity to enter into contracts;"}),i.jsx("li",{children:"Provide accurate and complete registration details."})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Account Registration and Security"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"You must create an account to access key services."}),i.jsx("li",{children:"You are responsible for safeguarding your account credentials and all activity under your account."}),i.jsx("li",{children:"FOREMADE reserves the right to suspend or terminate accounts due to fraud, abuse, or policy violations."})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Marketplace Use (Buying & Selling)"}),i.jsx("strong",{className:"block mb-2 text-secondary",children:"Buyers agree to:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"Review product listings thoroughly before purchase;"}),i.jsx("li",{children:"Use authorized payment methods only;"}),i.jsx("li",{children:"Raise complaints or disputes through the Platform."})]}),i.jsx("strong",{className:"block mb-2 text-secondary",children:"Sellers agree to:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"Provide accurate and honest product listings;"}),i.jsx("li",{children:"Fulfill orders within the promised timeframe;"}),i.jsx("li",{children:"Comply with all relevant product, tax, and business obligations;"}),i.jsx("li",{children:"Accept returns and issue refunds in accordance with FOREMADE guidelines."})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"FOREMADEGo (Delivery Network)"}),i.jsx("p",{className:"mb-2 text-secondary",children:"FOREMADEGo is our parcel delivery network connecting senders with approved delivery riders."}),i.jsx("strong",{className:"block mb-2 text-secondary",children:"Riders agree to:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsxs("li",{children:["Register via ",i.jsx("a",{href:"https://foremadego.com/rider/register.php",className:"policy-link",target:"_blank",rel:"noopener noreferrer",children:"Rider Registration"}),";"]}),i.jsx("li",{children:"Accept delivery jobs through the dashboard;"}),i.jsx("li",{children:"Handle deliveries professionally and on time;"}),i.jsx("li",{children:"Confirm delivery with required proof, including photos where applicable;"}),i.jsx("li",{children:"Follow all safety and service standards."})]}),i.jsx("strong",{className:"block mb-2 text-secondary",children:"Senders and recipients agree to:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"Provide accurate delivery information;"}),i.jsx("li",{children:"Avoid sending prohibited, restricted, or illegal items;"}),i.jsx("li",{children:"Cooperate with delivery personnel during handoffs."})]}),i.jsx("p",{className:"mb-4 text-secondary",children:"FOREMADE reserves the right to remove any rider or user for misconduct, policy violations, or misuse of the platform."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"FOREMADE Wallet  Fair Use and Security"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"Automated System: Powered by integrated financial technology partners to ensure fast and secure processing."}),i.jsx("li",{children:"Regulatory Compliance: Operates in connection with financial regulations applicable in your local jurisdiction."}),i.jsx("li",{children:"Real-Time Tracking: Users can view their wallet balances and transaction history at any time."}),i.jsx("li",{children:"Instant Withdrawals: Earnings can be withdrawn at any time to a verified bank account. Processing times may vary based on the financial institution."}),i.jsxs("li",{children:["Fair Use Policy:",i.jsxs("ul",{className:"list-disc ml-6 mb-2",children:[i.jsx("li",{children:"The Wallet is strictly for funds earned through transactions on FOREMADE or FOREMADEGo."}),i.jsx("li",{children:"Fraudulent activity or system manipulation may result in a freeze or closure of the account."}),i.jsx("li",{children:"FOREMADE may temporarily restrict wallet use during investigations or dispute resolution."})]})]})]}),i.jsx("p",{className:"mb-4 text-secondary",children:"All wallet data is protected using secure encryption and authentication protocols."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Fees and Payments"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"FOREMADE may charge transaction, listing, or service fees as applicable."}),i.jsx("li",{children:"All fees will be clearly displayed during your transaction or use of a service."}),i.jsx("li",{children:"FOREMADE reserves the right to update its fee structure, with notice posted on the Platform."})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Returns, Refunds, and Disputes"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"Buyers may request returns or refunds in accordance with seller policies and FOREMADE standards."}),i.jsx("li",{children:"Disputes can be raised through the platform for moderation."}),i.jsx("li",{children:"FOREMADE acts as a neutral facilitator and may take appropriate action based on the evidence provided."}),i.jsx("li",{children:"Misuse of the dispute system may result in account restrictions."})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"External Links and Third-Party Websites"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"FOREMADE and FOREMADEGo may include links to third-party services such as payment gateways or logistics tools."}),i.jsx("li",{children:"These links are provided for user convenience only."}),i.jsx("li",{children:"FOREMADE is not responsible for the content, policies, or services of any third-party website."}),i.jsx("li",{children:"Users should review third-party terms before engaging with those services."})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Intellectual Property"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"All content, branding, and features on FOREMADE and FOREMADEGo are owned by or licensed to FOREMADE Ltd."}),i.jsx("li",{children:"Sellers retain ownership of their content but grant FOREMADE a non-exclusive, royalty-free license to use it for promotion and platform functionality."}),i.jsx("li",{children:"You may not copy, distribute, or reproduce platform content without prior written consent."})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Termination and Suspension"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"Violating this Agreement;"}),i.jsx("li",{children:"Engaging in fraudulent, harmful, or illegal conduct;"}),i.jsx("li",{children:"Abusing platform systems, wallets, or other users."})]}),i.jsx("p",{className:"mb-4 text-secondary",children:"You may close your account at any time. If eligible, your remaining wallet balance will be made available for withdrawal, subject to any pending investigations or disputes."}),i.jsx("div",{className:"mt-6 flex",children:i.jsx("button",{onClick:()=>e(!0),className:"px-6 py-3 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white font-bold text-base shadow-lg hover:from-red-600 hover:to-red-700 focus:ring-4 focus:ring-red-200 transition",children:"Opt Out"})}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Limitation of Liability"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"FOREMADE is not liable for indirect, incidental, or consequential damages;"}),i.jsx("li",{children:"We are not responsible for the actions or failures of buyers, sellers, riders, or third parties;"}),i.jsx("li",{children:"Platform services are provided as is without warranties of any kind."})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Indemnity"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsx("li",{children:"Your breach of this Agreement;"}),i.jsx("li",{children:"Your use or misuse of the Platform;"}),i.jsx("li",{children:"Any product or service you list, purchase, or deliver via FOREMADE or FOREMADEGo."})]}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Governing Law"}),i.jsx("p",{className:"mb-4 text-secondary",children:"This Agreement shall be interpreted and enforced in accordance with applicable local laws, without reference to specific jurisdictions. Users are responsible for complying with laws in their region while using the platform."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Amendments"}),i.jsx("p",{className:"mb-4 text-secondary",children:"We may update or revise this Agreement from time to time. The latest version will be posted on the Platform, and continued use constitutes your acceptance of the updated terms."}),i.jsx("h2",{className:"text-xl font-bold text-primary mb-3 mt-8",children:"Contact Information"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-secondary",children:[i.jsxs("li",{children:["General Support: ",i.jsx("a",{href:"mailto:support@foremade.com",className:"policy-link",children:"support@foremade.com"})]}),i.jsxs("li",{children:["Privacy Questions: ",i.jsx("a",{href:"mailto:privacy@foremadego.com",className:"policy-link",children:"privacy@foremadego.com"})]}),i.jsxs("li",{children:["Marketplace: ",i.jsx("a",{href:"https://foremade.com",className:"policy-link",target:"_blank",rel:"noopener noreferrer",children:"foremade.com"})]}),i.jsxs("li",{children:["Delivery Platform (FOREMADEGo): ",i.jsx("a",{href:"https://foremadego.com",className:"policy-link",target:"_blank",rel:"noopener noreferrer",children:"foremadego.com"})]}),i.jsxs("li",{children:["Rider Registration: ",i.jsx("a",{href:"https://foremadego.com/rider/register.php",className:"policy-link",target:"_blank",rel:"noopener noreferrer",children:"foremadego.com/rider/register.php"})]})]}),i.jsx("p",{className:"mb-4 text-secondary font-semibold",children:"By using FOREMADE and/or FOREMADEGo, you confirm that you have read, understood, and agreed to this User Agreement."})]}),i.jsxs("footer",{className:"policy-footer",children:[" ",new Date().getFullYear()," Foremade. All rights reserved."]})]})]})},Nq="/assets/undraw_my-files_1xwx-DOxcO3os.svg",q3e=()=>i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-10",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[i.jsx("img",{src:Nq,alt:"Buyer Protection",className:"w-40 h-40 mb-4"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-blue-700 mb-2",children:"Buyer Protection Policy"}),i.jsx("p",{className:"text-gray-600 max-w-xl",children:"Your peace of mind is our priority. Learn how Foremade protects your purchases and ensures a safe shopping experience."})]}),i.jsxs("div",{className:"bg-white/90 rounded-xl shadow-lg p-6 md:p-10 border border-blue-100",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3",children:"Important"}),i.jsxs("p",{className:"mb-4",children:["If your purchase was made through a Foremade Pro Seller, please refer to our ",i.jsx("strong",{children:"Pro Refund Policy"})," instead.",i.jsx("br",{}),"Every order placed using the Buy Now button includes our Buyer Protection (added as a fee at checkout), which activates the Foremade Refund Policy. This protection ensures you're eligible for a refund if:"]}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-blue-900",children:[i.jsx("li",{children:"Your parcel never arrives"}),i.jsx("li",{children:"Your parcel arrives damaged"}),i.jsx("li",{children:"The item you receive is significantly not as described (SNAD)"})]}),i.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 mb-4 rounded",children:[i.jsx("strong",{className:"text-blue-700",children:"Please note:"})," Refunds are not guaranteed for items that don't fit or aren't your style. You may still contact the seller to request a return, but approval is at their discretion."]}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Refunds for Returns"}),i.jsx("p",{className:"mb-2",children:"A full return refund may include:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsx("li",{children:"The price of returned items"}),i.jsx("li",{children:"The Buyer Protection fee linked to returned items"}),i.jsx("li",{children:"Your original shipping fee"}),i.jsx("li",{children:"Optional services (e.g., Item or Electronics Verification)"})]}),i.jsx("p",{className:"mb-4",children:"We'll calculate the protection refund based on the items kept and refund the remaining portion. Discounts or voucher values used during purchase will be deducted proportionally from your refund."}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Partial Refunds"}),i.jsxs("p",{className:"mb-2",children:["If your item is SNAD, the seller may offer a partial refund, allowing you to keep the item while receiving part of the cost back. You'll see the offer in your chat with the seller, where you can ",i.jsx("em",{children:"accept or decline"}),". Accepted partial refunds include:"]}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsx("li",{children:"A partial item price refund"}),i.jsx("li",{children:"A proportional refund of the Buyer Protection fee"})]}),i.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4 rounded",children:"Shipping fees and optional service charges are not refunded in partial cases. Bundled purchases don't qualify for partial refundsonly full or item-specific returns."}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"How to Request a Refund"}),i.jsx("p",{className:"mb-2",children:"You must act within 2 days of being notified that your order was delivered or marked as lost:"}),i.jsxs("ol",{className:"list-decimal ml-6 mb-4",children:[i.jsxs("li",{children:["Go to your ",i.jsx("em",{children:"chat with the seller"})]}),i.jsxs("li",{children:["Press ",i.jsx("em",{children:"I have an issue"})]}),i.jsx("li",{children:"Follow the prompts to submit your refund request"})]}),i.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 mb-4 rounded",children:"This action temporarily freezes the order while we help resolve the situation. If you do nothing within the 2-day window, payment will be released to the seller."}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"What Happens Next?"}),i.jsx("p",{className:"mb-2",children:"Depending on the issue, here's how we handle it:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsx("li",{children:"Order is paused"}),i.jsx("li",{children:"Payment is held securely"}),i.jsx("li",{children:"You and the seller can work toward a solution"})]}),i.jsxs("p",{className:"mb-4",children:["You can track the status directly in the ",i.jsx("em",{children:"conversation screen"}),". If you both resolve the issue yourselves, simply press:"]}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsxs("li",{children:[i.jsx("em",{children:"Resolve this issue"})," for missing/damaged parcels"]}),i.jsxs("li",{children:[i.jsx("em",{children:"Cancel & keep order"})," for agreed resolutions"]})]}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If You're the Seller"}),i.jsx("p",{className:"mb-2",children:"If a buyer raises an SNAD claim:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsxs("li",{children:["Ask them to suspend the order by clicking ",i.jsx("em",{children:"I have an issue"})]}),i.jsx("li",{children:"You'll have 14 days to resolve the issue"}),i.jsxs("li",{children:["Review buyer's evidence and choose one option:",i.jsxs("ul",{className:"list-disc ml-6",children:[i.jsxs("li",{children:[i.jsx("em",{children:"Partial refund"})," (buyer keeps item)"]}),i.jsxs("li",{children:[i.jsx("em",{children:"Full refund"})," (buyer keeps item)"]}),i.jsx("li",{children:i.jsx("em",{children:"Request a return"})})]})]})]}),i.jsx("p",{className:"mb-2",children:"If a return is requested:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsx("li",{children:"Buyer ships the item within 5 business days"}),i.jsxs("li",{children:["Share your ",i.jsx("em",{children:"contact info"})," if required"]}),i.jsx("li",{children:"After receiving the item, confirm its condition within 2 days"}),i.jsxs("li",{children:["Press ",i.jsx("em",{children:"Everything is OK"})," to complete the return"]})]}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If You Disagree with a Claim"}),i.jsx("p",{className:"mb-2",children:"You may dispute the refund request:"}),i.jsxs("ol",{className:"list-decimal ml-6 mb-4",children:[i.jsxs("li",{children:["Press ",i.jsx("em",{children:"View issue details"})]}),i.jsxs("li",{children:["Click ",i.jsx("em",{children:"Contact Us"})]}),i.jsxs("li",{children:["Review the terms and press ",i.jsx("em",{children:"Agree"})]}),i.jsxs("li",{children:["Press ",i.jsx("em",{children:"Submit"})," to escalate to our support team"]})]}),i.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 mb-4 rounded",children:[i.jsx("strong",{children:"Note:"})," You can only dispute if you haven't already accepted a refund option."]}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If No Agreement is Reached"}),i.jsx("p",{className:"mb-4",children:"If both sides can't find a solution within 14 days, and no one reaches out for support, Foremade will step in to review the case and issue a final decision."}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Special Cases"}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Item Verified but Still SNAD"}),i.jsx("br",{}),"Follow the steps under ",i.jsx("em",{children:"I've received a SNAD item"})," to request a refund."]}),i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Device Linked to Seller's Account"})}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsx("li",{children:"Notify the seller"}),i.jsx("li",{children:"If unlinking fails, discuss a return or refund"}),i.jsxs("li",{children:["If a return is required, use the ",i.jsx("em",{children:"Return the order"})," button"]})]}),i.jsx("p",{className:"mb-4",children:"Shipping details must be accurate. If not provided, Foremade may issue a refund even without a return."})]})]})}),G3e=()=>i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-10",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[i.jsx("img",{src:Nq,alt:"Refund Policy",className:"w-40 h-40 mb-4"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-blue-700 mb-2",children:"Refund Policy"}),i.jsx("p",{className:"text-gray-600 max-w-xl",children:"Understand how Foremade handles refunds and protects your purchases."})]}),i.jsxs("div",{className:"bg-white/90 rounded-xl shadow-lg p-6 md:p-10 border border-blue-100",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3",children:"Important"}),i.jsxs("p",{className:"mb-4",children:["If your purchase was made through a Foremade ",i.jsx(Fe,{to:"/pro-seller-guide",className:"text-blue-600 underline font-semibold",children:"Pro Seller"}),", please refer to our ",i.jsx(Fe,{to:"/pro-refund-policy",className:"text-blue-600 underline font-semibold",children:"Pro Refund Policy"})," instead.",i.jsx("br",{}),"Every order placed using the Buy Now button includes our Buyer Protection (added as a fee at checkout), which activates the Foremade Refund Policy. This protection ensures you're eligible for a refund if:"]}),i.jsxs("ul",{className:"list-disc ml-6 mb-4 text-blue-900",children:[i.jsx("li",{children:"Your parcel never arrives"}),i.jsx("li",{children:"Your parcel arrives damaged"}),i.jsx("li",{children:"The item you receive is significantly not as described (SNAD)"})]}),i.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 mb-4 rounded",children:[i.jsx("strong",{className:"text-blue-700",children:"Please note:"})," Refunds are not guaranteed for items that don't fit or aren't your style. You may still contact the seller to request a return, but approval is at their discretion."]}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Refunds for Returns"}),i.jsx("p",{className:"mb-2",children:"A full return refund may include:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsx("li",{children:"The price of returned items"}),i.jsx("li",{children:"The Buyer Protection fee linked to returned items"}),i.jsx("li",{children:"Your original shipping fee"}),i.jsx("li",{children:"Optional services (e.g., Item or Electronics Verification)"})]}),i.jsx("p",{className:"mb-4",children:"We'll calculate the protection refund based on the items kept and refund the remaining portion. Discounts or voucher values used during purchase will be deducted proportionally from your refund."}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Partial Refunds"}),i.jsxs("p",{className:"mb-2",children:["If your item is SNAD, the seller may offer a partial refund, allowing you to keep the item while receiving part of the cost back. You'll see the offer in your chat with the seller, where you can ",i.jsx("em",{children:"accept or decline"}),". Accepted partial refunds include:"]}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsx("li",{children:"A partial item price refund"}),i.jsx("li",{children:"A proportional refund of the Buyer Protection fee"})]}),i.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4 rounded",children:"Shipping fees and optional service charges are not refunded in partial cases. Bundled purchases don't qualify for partial refundsonly full or item-specific returns."}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"How to Request a Refund"}),i.jsx("p",{className:"mb-2",children:"You must act within 2 days of being notified that your order was delivered or marked as lost:"}),i.jsxs("ol",{className:"list-decimal ml-6 mb-4",children:[i.jsxs("li",{children:["Go to your ",i.jsx(Fe,{to:"/orders",className:"text-blue-600 underline font-semibold",children:"chat with the seller"})]}),i.jsxs("li",{children:["Press ",i.jsx("em",{children:"I have an issue"})]}),i.jsx("li",{children:"Follow the prompts to submit your refund request"})]}),i.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 mb-4 rounded",children:"This action temporarily freezes the order while we help resolve the situation. If you do nothing within the 2-day window, payment will be released to the seller."}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"What Happens Next?"}),i.jsx("p",{className:"mb-2",children:"Depending on the issue, here's how we handle it:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsx("li",{children:"Order is paused"}),i.jsx("li",{children:"Payment is held securely"}),i.jsx("li",{children:"You and the seller can work toward a solution"})]}),i.jsxs("p",{className:"mb-4",children:["You can track the status directly in the ",i.jsx(Fe,{to:"/orders",className:"text-blue-600 underline font-semibold",children:"conversation screen"}),". If you both resolve the issue yourselves, simply press:"]}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsxs("li",{children:[i.jsx("em",{children:"Resolve this issue"})," for missing/damaged parcels"]}),i.jsxs("li",{children:[i.jsx("em",{children:"Cancel & keep order"})," for agreed resolutions"]})]}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If You're the Seller"}),i.jsx("p",{className:"mb-2",children:"If a buyer raises an SNAD claim:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsxs("li",{children:["Ask them to suspend the order by clicking ",i.jsx("em",{children:"I have an issue"})]}),i.jsx("li",{children:"You'll have 14 days to resolve the issue"}),i.jsxs("li",{children:["Review buyer's evidence and choose one option:",i.jsxs("ul",{className:"list-disc ml-6",children:[i.jsxs("li",{children:[i.jsx("em",{children:"Partial refund"})," (buyer keeps item)"]}),i.jsxs("li",{children:[i.jsx("em",{children:"Full refund"})," (buyer keeps item)"]}),i.jsx("li",{children:i.jsx("em",{children:"Request a return"})})]})]})]}),i.jsx("p",{className:"mb-2",children:"If a return is requested:"}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsx("li",{children:"Buyer ships the item within 5 business days"}),i.jsxs("li",{children:["Share your ",i.jsx("em",{children:"contact info"})," if required (",i.jsx(Fe,{to:"/support",className:"text-blue-600 underline font-semibold",children:"Contact Us"}),")"]}),i.jsx("li",{children:"After receiving the item, confirm its condition within 2 days"}),i.jsxs("li",{children:["Press ",i.jsx("em",{children:"Everything is OK"})," to complete the return"]})]}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If You Disagree with a Claim"}),i.jsx("p",{className:"mb-2",children:"You may dispute the refund request:"}),i.jsxs("ol",{className:"list-decimal ml-6 mb-4",children:[i.jsxs("li",{children:["Press ",i.jsx("em",{children:"View issue details"})]}),i.jsxs("li",{children:["Click ",i.jsx(Fe,{to:"/support",className:"text-blue-600 underline font-semibold",children:"Contact Us"})]}),i.jsxs("li",{children:["Review the terms and press ",i.jsx("em",{children:"Agree"})]}),i.jsxs("li",{children:["Press ",i.jsx("em",{children:"Submit"})," to escalate to our support team"]})]}),i.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 mb-4 rounded",children:[i.jsx("strong",{children:"Note:"})," You can only dispute if you haven't already accepted a refund option."]}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"If No Agreement is Reached"}),i.jsx("p",{className:"mb-4",children:"If both sides can't find a solution within 14 days, and no one reaches out for support, Foremade will step in to review the case and issue a final decision."}),i.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3 mt-8",children:"Special Cases"}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Item Verified but Still SNAD"}),i.jsx("br",{}),"Follow the steps under ",i.jsx("em",{children:"I've received a SNAD item"})," to request a refund."]}),i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Device Linked to Seller's Account"})}),i.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[i.jsx("li",{children:"Notify the seller"}),i.jsx("li",{children:"If unlinking fails, discuss a return or refund"}),i.jsxs("li",{children:["If a return is required, use the ",i.jsx(Fe,{to:"/orders",className:"text-blue-600 underline font-semibold",children:"Return the order"})," button"]})]}),i.jsx("p",{className:"mb-4",children:"Shipping details must be accurate. If not provided, Foremade may issue a refund even without a return."})]})]})}),Y3e={background:"#fff",borderRadius:16,boxShadow:"0 2px 16px rgba(0,0,0,0.06)",maxWidth:600,width:"100%",padding:32,margin:"0 16px"},Zf={marginBottom:32,borderBottom:"1px solid #f0f0f0",paddingBottom:24},X3e={marginBottom:0,borderBottom:"none",paddingBottom:0},K3e={color:"#003366",fontSize:32,fontWeight:800,marginBottom:8,letterSpacing:"-1px"},Bu={color:"#003366",fontSize:22,fontWeight:700,margin:"0 0 12px 0",display:"flex",alignItems:"center",gap:10},Uu={color:"#003366",marginRight:8,verticalAlign:"middle"},Z3e={color:"#181818",fontWeight:"bold"},Q3e={backgroundColor:"#f9f9f9",padding:15,borderLeft:"4px solid #ffcc00",marginTop:15,color:"#181818",borderRadius:6,fontSize:15},Qf={color:"#003366",textDecoration:"none",fontWeight:"bold",borderBottom:"1px solid #003366",transition:"background 0.2s, color 0.2s",padding:"1px 2px",borderRadius:2},oj={textDecoration:"underline",background:"#f0f6fa"},w1={background:"#003366",color:"#fff",border:"none",borderRadius:6,padding:"10px 22px",fontWeight:600,fontSize:16,cursor:"pointer",marginTop:18,marginBottom:0,transition:"background 0.2s",textDecoration:"none",display:"inline-block"};function J3e(){const[r,e]=Lr.useState(""),[t,s]=Lr.useState(!1),a=o=>e(o),n=()=>e("");return i.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[i.jsxs("div",{className:"relative",children:[i.jsx("button",{className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-[#112d4e] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-300",onClick:()=>s(!t),"aria-label":t?"Close menu":"Open menu",children:t?i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),t&&i.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>s(!1)}),i.jsx("div",{className:`${t?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed md:static top-0 left-0 h-full z-40 md:z-0 w-64 bg-[#112d4e] shadow-lg md:shadow-none transition-transform duration-300 ease-in-out`,children:i.jsx(ws,{})})]}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 flex justify-center items-start py-10 bg-gray-50",children:i.jsxs("div",{style:Y3e,children:[i.jsxs("h1",{style:K3e,children:[i.jsx(sx,{size:32,style:{display:"inline",marginRight:12,verticalAlign:"middle"}})," Product Bumps"]}),i.jsx("p",{style:{marginBottom:24,fontSize:18,color:"#181818"},children:"Get more eyes on your listings. Sell faster."}),i.jsxs("div",{style:Zf,children:[i.jsxs("h2",{style:Bu,children:[i.jsx(sx,{style:Uu,size:22}),"What is a Product Bump?"]}),i.jsxs("p",{style:{fontSize:16},children:["A ",i.jsx("strong",{children:"Product Bump"})," is a paid tool that promotes your listing on FOREMADE. It increases visibility by pushing your item higher in search results and buyer feeds for ",i.jsx("strong",{children:"3 or 7 days"}),"or until it sells."]}),i.jsxs("p",{style:{fontSize:16},children:["You can choose to bump your listing ",i.jsx("strong",{children:"locally"})," or make it visible to ",i.jsx("strong",{children:"international buyers"})," across all active FOREMADE regions."]})]}),i.jsxs("div",{style:Zf,children:[i.jsxs("h2",{style:Bu,children:[i.jsx(Fz,{style:Uu,size:22}),"Why Use a Product Bump?"]}),i.jsxs("ul",{style:{paddingLeft:20,fontSize:16,margin:0},children:[i.jsxs("li",{children:[i.jsx("strong",{children:"More Visibility:"})," Appear higher in search results and feeds."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Targeted Reach:"})," Get shown to the right buyers based on browsing history."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Performance Tracking:"})," Monitor views and interactions via your dashboard."]})]})]}),i.jsxs("div",{style:Zf,children:[i.jsxs("h2",{style:Bu,children:[i.jsx(dE,{style:Uu,size:22}),"Before You Bump"]}),i.jsxs("ul",{style:{paddingLeft:20,fontSize:16,margin:0},children:[i.jsxs("li",{children:["Ensure your listing meets our "," ",i.jsx("a",{href:"/help/listing-guidelines",style:r==="guidelines"?{...Qf,...oj}:Qf,onMouseEnter:()=>a("guidelines"),onMouseLeave:n,children:"Listing Guidelines"}),"."]}),i.jsx("li",{children:"Update your images, title, price, and description before activating a bump."}),i.jsxs("li",{children:["You can ",i.jsx("span",{style:Z3e,children:"lower"})," the price while a bump is activebut you can't raise it until the bump ends."]})]}),i.jsxs("div",{style:Q3e,children:[i.jsx(dE,{size:16,style:{display:"inline",marginRight:6,verticalAlign:"middle"}})," Lowering the price doesn't reduce the cost of the bump. No refunds are given for price changes after activation."]})]}),i.jsxs("div",{style:Zf,children:[i.jsxs("h2",{style:Bu,children:[i.jsx(Rz,{style:Uu,size:22}),"How to Apply a Bump"]}),i.jsxs("ol",{style:{paddingLeft:20,fontSize:16,margin:0},children:[i.jsxs("li",{children:["Log in to your "," ",i.jsx("a",{href:"/dashboard",style:r==="dashboard1"?{...Qf,...oj}:Qf,onMouseEnter:()=>a("dashboard1"),onMouseLeave:n,children:"Seller Dashboard"}),"."]}),i.jsx("li",{children:"Select the item you want to promote."}),i.jsxs("li",{children:["Choose ",i.jsx("strong",{children:"3 or 7-day duration"}),"."]}),i.jsxs("li",{children:["Choose ",i.jsx("strong",{children:"Local"})," or ",i.jsx("strong",{children:"International"})," visibility."]}),i.jsx("li",{children:"Pay and activate!"})]})]}),i.jsxs("div",{style:Zf,children:[i.jsxs("h2",{style:Bu,children:[i.jsx(Fde,{style:Uu,size:22}),"Bump Pricing"]}),i.jsx("p",{style:{fontSize:16},children:"Pricing depends on:"}),i.jsxs("ul",{style:{paddingLeft:20,fontSize:16,margin:0},children:[i.jsx("li",{children:"Item price"}),i.jsx("li",{children:"Bump duration (3 or 7 days)"}),i.jsx("li",{children:"Target location: Local or International"})]}),i.jsx("p",{style:{marginTop:12},children:i.jsx("a",{href:"/pricing",style:r==="pricing"?{...w1,background:"#002244",color:"#fff"}:w1,onMouseEnter:()=>a("pricing"),onMouseLeave:n,children:"View Bump Pricing"})})]}),i.jsxs("div",{style:Zf,children:[i.jsxs("h2",{style:Bu,children:[i.jsx(uue,{style:Uu,size:22}),"Frequently Asked Questions"]}),i.jsxs("div",{style:{fontSize:16},children:[i.jsxs("p",{style:{marginBottom:10},children:[i.jsx("strong",{children:"What if I cancel the sale?"}),i.jsx("br",{}),"- If you cancel it, the bump ends and is not refunded. You'll need to buy a new bump.",i.jsx("br",{}),"- If the buyer cancels, contact "," ",i.jsx("a",{href:"/contact",style:r==="contact"?{...Qf,...oj}:Qf,onMouseEnter:()=>a("contact"),onMouseLeave:n,children:"FOREMADE Support"})," for help."]}),i.jsxs("p",{style:{marginBottom:10},children:[i.jsx("strong",{children:"Can I bump any item?"}),i.jsx("br",{}),"Yes! Even items under verification can be bumped."]}),i.jsxs("p",{style:{marginBottom:10},children:[i.jsx("strong",{children:"Can I bump multiple listings?"}),i.jsx("br",{}),"Yes, as many as you wantbut only one bump per item at a time."]}),i.jsxs("p",{style:{marginBottom:0},children:[i.jsx("strong",{children:"Can bumps be transferred?"}),i.jsx("br",{}),"No. Bumps are tied to specific listings."]})]})]}),i.jsxs("div",{style:X3e,children:[i.jsxs("h2",{style:Bu,children:[i.jsx(nb,{style:Uu,size:22}),"Start Selling Smarter"]}),i.jsxs("p",{style:{fontSize:16},children:[i.jsx("a",{href:"/dashboard",style:r==="dashboard2"?{...w1,background:"#002244",color:"#fff"}:w1,onMouseEnter:()=>a("dashboard2"),onMouseLeave:n,children:"Go to your dashboard"})," ","to bump a product and increase your sales today!"]})]})]})})]})}function ePe(){zr();const[r,e]=R.useState(""),[t,s]=R.useState(null),[a,n]=R.useState(!1),[o,l]=R.useState(0),[c,d]=R.useState(!1),[u,h]=R.useState(null);R.useEffect(()=>{if(u&&(u(),h(null)),!r||!Ye.currentUser){s(null),l(0),d(!1);return}n(!0);const w=qe(ve,"orders",r),k=yr(w,N=>{if(N.exists()){const T=N.data();s({status:T.status||"Order Placed",updatedAt:T.updatedAt?.toDate()||new Date,trackingDetails:T.trackingDetails||[]}),l(0),d(!1)}else(async()=>{const E=Lt(Xe(ve,"orders"),Tt("userId","==",Ye.currentUser.uid)),S=(await xt(E)).docs.find(A=>A.data().paymentId===r||`TRK-${A.id.slice(0,8)}`===r);if(S){const A=S.data();s({status:A.status||"Order Placed",updatedAt:A.updatedAt?.toDate()||new Date,trackingDetails:A.trackingDetails||[]}),l(0),d(!1)}else s({status:"Not Found",updatedAt:new Date,trackingDetails:[]}),l(A=>A+1);n(!1)})()},N=>{console.error("Error fetching order:",N),s({status:"Error",updatedAt:new Date,trackingDetails:[]}),l(T=>T+1),n(!1)});return h(()=>k),()=>{u&&u()}},[r,Ye.currentUser]),R.useEffect(()=>{o>=2&&d(!0)},[o]);const m=w=>{w.preventDefault(),r&&Ye.currentUser&&s(null)},p=["Order Placed","Packed","Shipped","Delivered"],x=t?((w,k)=>{if(!w||w==="Not Found"||w==="Error")return 0;if(k.length>0){const N=k[k.length-1].status;return p.indexOf(N)+1||1}return p.indexOf(w)+1||1})(t.status,t.trackingDetails):0,y=x/p.length*100;return i.jsx("div",{className:"container mx-auto px-4 py-8 text-gray-800 dark:text-gray-200",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx($h,{}),i.jsx(Ct.div,{className:"md:w-3/4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-black dark:text-white mb-4",children:"Track Your Order"}),i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsx("input",{type:"text",value:r,onChange:w=>e(w.target.value),placeholder:"Track your orders (e.g., order ID or TRK-...)",className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"}),i.jsx("button",{type:"submit",disabled:a||!r||!Ye.currentUser,className:`w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition ${a||!r||!Ye.currentUser?"opacity-50 cursor-not-allowed":""}`,children:a?"Tracking...":"Track Order"})]}),c&&i.jsxs(Ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 p-4 bg-yellow-100 dark:bg-yellow-800 rounded-lg text-gray-800 dark:text-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Need Help Tracking Your Order?"}),i.jsx("p",{className:"text-sm mt-2",children:'Enter your full order ID (e.g., "order-12368738293") or tracking ID (e.g., "TRK-order12") from your order history or confirmation email. If you dont know your ID, check your "Orders" page or contact support.'}),i.jsx("button",{onClick:()=>d(!1),className:"mt-2 text-blue-600 dark:text-blue-400 hover:underline",children:"Close Guide"})]}),t&&i.jsxs(Ct.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"mt-6 space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300",children:"Order Status"}),i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"flex justify-between items-center mb-2",children:p.map((w,k)=>i.jsxs("div",{className:"flex flex-col items-center relative",children:[i.jsx(Ct.div,{className:`w-8 h-8 rounded-full flex items-center justify-center z-10 ${k<x?"bg-blue-600 text-white":k===x?"bg-blue-200 text-blue-800":"bg-gray-200 text-gray-500"}`,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:k*.1},children:k+1}),i.jsx("span",{className:"text-xs mt-1 text-gray-600 dark:text-gray-400",children:w})]},k))}),i.jsx(Ct.div,{className:"absolute top-4 left-0 h-1 bg-gray-300",style:{width:"100%"},initial:{width:0},animate:{width:"100%"},transition:{duration:1,ease:"easeInOut"}}),i.jsx(Ct.div,{className:"absolute top-4 left-0 h-1 bg-blue-500",style:{width:`${y}%`},initial:{width:0},animate:{width:`${y}%`},transition:{duration:.8,ease:"easeOut"}})]}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:["Current Step: ",x>0?p[x-1]:"Not Found"]}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Last Updated: ",t.updatedAt.toLocaleString()]}),t.trackingDetails.length>0&&i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Tracking Timeline"}),i.jsx("ul",{className:"list-disc pl-5",children:t.trackingDetails.map((w,k)=>i.jsxs(Ct.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:k*.1},className:"text-gray-600 dark:text-gray-400",children:[w.status," - ",new Date(w.timestamp).toLocaleString()]},k))})]})]})]})]})})]})})}function tPe(){const r=[{image:"https://res.cloudinary.com/dbczfoqnc/image/upload/v1751541163/products/kdcrrjozm0dq2r8a74zk.jpg",text:"Daily Deals Await!",tagline:"Limited Time Offers",description:"Grab exclusive discounts on top products before theyre gone.",link:"/daily-deals"},{image:"https://res.cloudinary.com/dbczfoqnc/image/upload/v1748369792/products/d3mt7oyewtwsswr9b9li.jpg",text:"Hot Deals Today",tagline:"Save Big Today",description:"Explore the best deals available only for a short time.",link:"/daily-deals"}],[e,t]=R.useState(0),[s,a]=R.useState(!0),[n,o]=R.useState({hours:0,minutes:0,seconds:0});R.useEffect(()=>{if(!s)return;const c=setInterval(()=>{t(d=>(d+1)%r.length)},6e3);return()=>clearInterval(c)},[e,r.length,s]),R.useEffect(()=>{const c=()=>{const u=new Date,h=new Date(u);h.setHours(23,59,59,999);const m=h-u,p=Math.floor(m/(1e3*60*60)),b=Math.floor(m%(1e3*60*60)/(1e3*60)),x=Math.floor(m%(1e3*60)/1e3);o({hours:p,minutes:b,seconds:x})};c();const d=setInterval(c,1e3);return()=>clearInterval(d)},[]);const l=c=>{t(c),a(!1),setTimeout(()=>a(!0),1e4)};return i.jsxs("div",{className:"relative overflow-hidden my-4 mx-2 sm:mx-4 lg:mx-6 rounded-2xl border border-neutral-800/30 h-[200px] xs:h-[220px] sm:h-[260px] lg:h-[300px]",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx(Ct.div,{className:"absolute inset-0 bg-gradient-to-br from-amber-600 via-orange-400/60 to-blue-900 animate-gradient-x",initial:{opacity:0},animate:{opacity:.7},transition:{duration:1}}),i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20 sm:opacity-30 transition-all duration-700 scale-110",style:{backgroundImage:`url(${r[e].image})`}}),i.jsx("div",{className:"absolute inset-0 backdrop-blur-md"})]}),i.jsx(Ct.div,{className:"relative z-10 h-full flex items-center w-full",children:i.jsx("div",{className:"w-full mx-auto px-3 xs:px-4 sm:px-8 lg:px-16 flex flex-col items-center justify-center gap-4 sm:gap-6 py-4 sm:py-6 flex-wrap",children:i.jsxs("div",{className:"text-center space-y-3 sm:space-y-4",children:[i.jsx(Ct.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"inline-flex items-center h-6 px-3 rounded-full bg-gradient-to-r from-amber-600/30 to-orange-400/20 border border-amber-500/30",children:i.jsx("span",{className:"text-xs font-medium text-amber-100 tracking-wide",children:r[e].tagline})}),i.jsx(Ct.h2,{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold leading-tight text-white drop-shadow-lg",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:r[e].text}),i.jsx(Ct.p,{className:"hidden sm:block text-sm sm:text-base text-white/90 max-w-md",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r[e].description}),i.jsxs(Ct.div,{className:"flex items-center justify-center space-x-2 sm:space-x-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[i.jsxs("div",{className:"bg-white/30 backdrop-blur-lg rounded-lg p-2 sm:p-3 border border-amber-100/30",children:[i.jsx("span",{className:"text-lg sm:text-xl font-bold text-amber-600",children:String(n.hours).padStart(2,"0")}),i.jsx("span",{className:"text-xs sm:text-sm text-white/80 ml-1",children:"Hours"})]}),i.jsx("span",{className:"text-lg sm:text-xl text-white/80 font-bold",children:":"}),i.jsxs("div",{className:"bg-white/30 backdrop-blur-lg rounded-lg p-2 sm:p-3 border border-amber-100/30",children:[i.jsx("span",{className:"text-lg sm:text-xl font-bold text-amber-600",children:String(n.minutes).padStart(2,"0")}),i.jsx("span",{className:"text-xs sm:text-sm text-white/80 ml-1",children:"Minutes"})]}),i.jsx("span",{className:"text-lg sm:text-xl text-white/80 font-bold",children:":"}),i.jsxs("div",{className:"bg-white/30 backdrop-blur-lg rounded-lg p-2 sm:p-3 border border-amber-100/30",children:[i.jsx("span",{className:"text-lg sm:text-xl font-bold text-amber-600",children:String(n.seconds).padStart(2,"0")}),i.jsx("span",{className:"text-xs sm:text-sm text-white/80 ml-1",children:"Seconds"})]})]})]})})}),i.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-2 z-20",children:r.map((c,d)=>i.jsx("button",{onClick:()=>l(d),className:"group","aria-label":`Go to slide ${d+1}`,children:i.jsx("span",{className:`block w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-200 ${e===d?"bg-amber-400 scale-125 shadow-lg shadow-amber-400/50":"bg-white/40 group-hover:bg-white/60 group-hover:scale-105"}`})},d))})]})}const h8=async(r,e=3,t=1e3)=>{for(let s=1;s<=e;s++)try{return await r()}catch(a){if(s===e)throw a;const n=t*Math.pow(2,s-1);console.warn(`Retry ${s}/${e} after ${n}ms due to: ${a.message}`),await new Promise(o=>setTimeout(o,n))}},f8="https://via.placeholder.com/200?text=No+Image";function rPe(){const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(null);return R.useEffect(()=>{(async()=>{try{s(!0),n(null);const c=(await h8(()=>xt(Xe(ve,"dailyDeals")))).docs.map(h=>({id:h.id,...h.data()}));console.log("Raw deals:",c);const d=c.filter(h=>new Date(h.endDate)>new Date);console.log("Valid deals:",d);const u=await Promise.all(d.map(async h=>{const m=await h8(()=>wt(qe(ve,"products",h.productId))),p=m.exists()?m.data():{};console.log(`Product for deal ${h.id}:`,p);const b=Array.isArray(p.imageUrls)&&p.imageUrls.length>0?p.imageUrls.find(w=>typeof w=="string"&&w.startsWith("https://res.cloudinary.com/"))||f8:p.imageUrl&&typeof p.imageUrl=="string"&&p.imageUrl.startsWith("https://res.cloudinary.com/")?p.imageUrl:f8;console.log(`Image for deal ${h.id}:`,b);const x=Number(p.price)||0,y=Number((h.discount*100).toFixed(2))||0;return{id:h.id,productId:h.productId,productName:p.name||"Unnamed Product",price:x,discountPercentage:y,imageUrl:b,description:p.description||"No description available",condition:p.condition||"",isDailyDeal:!0}}));console.log("Final deal products:",u),e(u)}catch(l){console.error("Error loading daily deals:",{message:l.message,stack:l.stack}),n("Failed to load daily deals. Please try again later.")}finally{s(!1)}})()},[]),t?i.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50 h-screen mb-10",children:i.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[i.jsx("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:i.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[i.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),i.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"})]})}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[...Array(8)].map((o,l)=>i.jsx("div",{className:"flex-shrink-0 w-full",children:i.jsx("div",{className:"bg-gray-200 rounded-lg h-[200px] xs:h-[240px] sm:h-[260px] w-full animate-pulse"})},l))})]})}):a?i.jsx("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50",children:i.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[i.jsx("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:i.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[i.jsx("i",{className:"bx bx-time text-yellow-600 text-xl xs:text-2xl"}),i.jsx("h2",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-800",children:"Daily Deals"})]})}),i.jsxs("p",{className:"text-red-600 text-sm xs:text-base p-3 xs:p-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-error-circle"}),a]})]})}):i.jsxs("section",{className:"py-4 xs:py-6 sm:py-8 bg-yellow-50 mb-16",children:[i.jsx(tPe,{}),i.jsxs("div",{className:"container mx-auto px-3 xs:px-4",children:[i.jsx("div",{className:"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6",children:i.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3",children:[i.jsx("i",{className:"bx bx-time text-yellow-600 text-3xl xs:text-3xl"}),i.jsx("h2",{className:"text-base xs:text-xl sm:text-2xl md:text-3xl lg:text-3xl font-bold text-gray-800",children:"Daily Deals"})]})}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:r.length===0?i.jsxs("p",{className:"text-gray-600 text-sm xs:text-base p-3 xs:p-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-info-circle"}),"No deals available right now. Check back later for hot offers! "]}):r.map(o=>i.jsx("div",{className:"w-full",children:i.jsxs("div",{className:"relative",children:[i.jsx(Pa,{product:{id:o.productId,name:o.productName,price:o.price,imageUrl:o.imageUrl,condition:o.condition,category:o.category||"default",variants:o.variants||[],stock:o.stock||0,sellerId:o.sellerId||"",currency:localStorage.getItem("currency")||"USD",isDailyDeal:o.isDailyDeal,discountPercentage:o.discountPercentage}}),i.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1.5 xs:px-2 py-0.5 xs:py-1 rounded-full text-[10px] xs:text-xs font-bold",children:[o.discountPercent,"% OFF"]})]})},o.id))})]})]})}function sPe(){const[r,e]=R.useState([]),[t,s]=R.useState([]),[a,n]=R.useState(!0),o="Fashion",l=["foremade fashion","clothing","accessories","footwear","jewelry","bags & wallets"],c=async()=>{try{n(!0);const d=Lt(Xe(ve,"trendingItems"),Tt("category","==",o)),h=(await xt(d)).docs.map(x=>x.data());if(h.length>0){const x=h.map(async w=>{const k=await wt(qe(ve,"products",w.productId));return k.exists()?{id:k.id,...k.data()}:null}),y=(await Promise.all(x)).filter(w=>w&&w.status==="approved");e(y);return}const m=Lt(Xe(ve,"products"),Tt("status","==","approved"),Tt("category","in",l)),b=(await xt(m)).docs.map(x=>({id:x.id,...x.data()}));e(b)}catch{Ke.error("Failed to load fashion products")}finally{n(!1)}};return R.useEffect(()=>{c(),xt(Xe(ve,"dailyDeals")).then(d=>{s(d.docs.map(u=>({id:u.id,...u.data()})))})},[]),i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-6",children:"All Trending Fashion"}),a?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((d,u)=>i.jsx("div",{className:"bg-gray-200 rounded-lg h-72 animate-pulse"},u))}):r.length===0?i.jsx("p",{className:"text-gray-600",children:"No fashion products found."}):i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(d=>i.jsx(Pa,{product:d,dailyDeals:t},d.id))})]})})}function aPe(){const[r,e]=R.useState([]),[t,s]=R.useState([]),[a,n]=R.useState(!0),o="Gadgets",l=["tablet & phones","computers & accessories","electronics","smart watches","game & fun"],c=async()=>{try{n(!0);const d=Lt(Xe(ve,"trendingItems"),Tt("category","==",o)),h=(await xt(d)).docs.map(x=>x.data());if(h.length>0){const x=h.map(async w=>{const k=await wt(qe(ve,"products",w.productId));return k.exists()?{id:k.id,...k.data()}:null}),y=(await Promise.all(x)).filter(w=>w&&w.status==="approved");e(y);return}const m=Lt(Xe(ve,"products"),Tt("status","==","approved"),Tt("category","in",l)),b=(await xt(m)).docs.map(x=>({id:x.id,...x.data()}));e(b)}catch{Ke.error("Failed to load gadgets products")}finally{n(!1)}};return R.useEffect(()=>{c(),xt(Xe(ve,"dailyDeals")).then(d=>{s(d.docs.map(u=>({id:u.id,...u.data()})))})},[]),i.jsx("section",{className:"py-8 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-6",children:"All Trending Gadgets"}),a?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((d,u)=>i.jsx("div",{className:"bg-gray-200 rounded-lg h-72 animate-pulse"},u))}):r.length===0?i.jsx("p",{className:"text-gray-600",children:"No gadgets products found."}):i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(d=>i.jsx(Pa,{product:d,dailyDeals:t},d.id))})]})})}const on=({children:r,requireAdmin:e=!1})=>{const t=Ux(),s=Ra(),a=zr(),[n,o]=R.useState(!0),[l,c]=R.useState(!1);return R.useEffect(()=>{const d=Tl(t,u=>{if(!u){console.log("No user authenticated, redirecting to login"),a("/login",{replace:!0,state:{from:s.pathname}}),o(!1);return}const h=["Foremade@icloud.com","echinecherem729@gmail.com"],m=u.email.toLowerCase(),p=h.some(b=>b.toLowerCase()===m);console.log("Authenticated user email:",u.email),console.log("Normalized user email:",m),console.log("Is admin?",p),e&&!p?(console.log("Non-admin access attempted, redirecting to login"),a("/login",{replace:!0,state:{from:s.pathname}})):c(!0),o(!1)});return()=>d()},[t,s.pathname,a,e]),console.log("Rendering ProtectedRoute, loading:",n,"hasAccess:",l),l?r:null},nPe=()=>{const{sellerId:r}=Pc(),[e,t]=R.useState(null),[s,a]=R.useState([]),[n,o]=R.useState({}),[l,c]=R.useState(!0),[d,u]=R.useState(null);return R.useEffect(()=>{r?(async()=>{try{c(!0),u(null);const m=qe(ve,"feeConfigurations","categoryFees"),p=await wt(m),b=p.exists()?p.data():{};o(b);const x=qe(ve,"users",r),y=await wt(x);if(!y.exists()){u("Seller not found.");return}const w=y.data(),k={username:w.username||`Seller ${r.slice(0,6)}`,profilePicture:w.profilePicture||`https://ui-avatars.com/api/?name=${encodeURIComponent(w.username||"Seller")}&size=128&background=112d4e&color=fff`,isProSeller:w.isProSeller||!1};t(k);const N=Lt(Xe(ve,"products"),Tt("sellerId","==",r)),E=(await xt(N)).docs.map(I=>{const S=I.data(),A=S.category||"default",P=b[A]||{minPrice:1e3,maxPrice:1/0,buyerProtectionRate:.08,handlingRate:.2},O=S.price||0,M=O+O*P.buyerProtectionRate+O*P.handlingRate;return{id:I.id,...S,imageUrls:Array.isArray(S.imageUrls)&&S.imageUrls.length>0?S.imageUrls[0]:js,totalPrice:M,category:A}});a(E)}catch(m){console.error("Error fetching seller data:",m),u("Failed to load seller data."),Ke.error("Failed to load seller data.",{position:"top-right",autoClose:3e3})}finally{c(!1)}})():(u("Invalid seller ID."),c(!1))},[r]),l?i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx(Fo,{}),i.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Loading seller data..."})]}):d?i.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[i.jsx("p",{className:"text-red-600 text-sm",children:d}),i.jsxs(Fe,{to:"/products",className:"text-blue-600 hover:underline text-sm flex items-center gap-1 justify-center mt-4","aria-label":"Back to products",children:[i.jsx("i",{className:"bx bx-arrow-back","aria-hidden":"true"}),"Back to Products"]})]}):i.jsxs("div",{className:"container mx-auto px-4 py-8 mb-10",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-store text-blue-600","aria-hidden":"true"}),"Seller Profile"]}),i.jsxs(Fe,{to:"/products",className:"text-blue-600 hover:underline text-sm flex items-center gap-1","aria-label":"Back to products",children:[i.jsx("i",{className:"bx bx-arrow-back","aria-hidden":"true"}),"Back to Products"]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8 flex items-center gap-6",children:[i.jsx("img",{src:e.profilePicture,alt:`${e.username}'s avatar`,className:"w-24 h-24 rounded-full object-cover border-2 border-blue-600",onError:h=>{h.target.src=js},loading:"lazy","aria-label":"Seller avatar"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:e.username}),e.isProSeller?i.jsx(Lz,{className:"w-5 h-5 text-amber-500","aria-label":"Pro Seller",title:"Premium Seller"}):i.jsx(zd,{className:"w-5 h-5 text-gray-500","aria-label":"Standard Seller",title:"Standard Seller"})]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," ",s.length===1?"product":"products"," listed"]}),i.jsx("p",{className:"text-sm text-amber-500 mt-3",children:e.isProSeller?"Pro Seller":"Standard Seller"})]})]}),i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-package text-blue-600","aria-hidden":"true"}),"Products by ",e.username,i.jsxs("span",{className:"ml-2 text-xs text-gray-500 cursor-help relative group","aria-label":"Prices include fees",children:[i.jsx("i",{className:"bx bx-info-circle","aria-hidden":"true"}),i.jsx("span",{className:"absolute hidden group-hover:block bg-gray-800 text-white text-xs rounded-lg p-2 -top-10 left-0 w-48 z-10",children:"Prices are inclusive of taxes etc."})]})]}),s.length===0?i.jsxs("p",{className:"text-gray-600 text-sm",children:["No products found for this seller."," ",i.jsx(Fe,{to:"/products",className:"text-blue-600 hover:underline",children:"Browse other products"})]}):i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:s.map(h=>i.jsxs(Fe,{to:`/product/${h.id}`,className:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition transform","aria-label":`View ${h.name}`,children:[i.jsx("img",{src:h.imageUrls,alt:h.name||"Product image",className:"w-full h-48 object-cover rounded-lg mb-4",onError:m=>{m.target.src=js},loading:"lazy"}),i.jsx("h3",{className:"text-base font-semibold text-gray-800 truncate",children:h.name||"Unnamed Product"}),i.jsx("p",{className:"text-sm text-gray-600",children:i.jsx(Ms,{price:h.totalPrice||0,currency:"NGN"})})]},h.id))})]})};function iPe(){const[r,e]=R.useState([]),[t,s]=R.useState(!0),[a,n]=R.useState(null),[o,l]=R.useState("asc");R.useEffect(()=>{(async()=>{if(!Ye.currentUser){n("Please log in as an admin."),s(!1);return}try{const u=Xe(ve,"users"),m=(await xt(u)).docs.map(p=>{const b=p.data(),x=b.name||b.username||"N/A";return{id:p.id,name:x,email:b.email||"Not Provided",phoneNumber:b.phoneNumber||"Not Provided"}});e(m.sort((p,b)=>p.name.localeCompare(b.name)))}catch(u){n(`Failed to fetch users: ${u.message}`),console.error("Fetch users error:",u)}finally{s(!1)}})()},[]);const c=()=>{const d=o==="asc"?"desc":"asc";l(d),e([...r].sort((u,h)=>d==="asc"?u.name.localeCompare(h.name):h.name.localeCompare(u.name)))};return t?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx(Ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:i.jsx("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10 text-center",children:i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading users..."})})})]}):a?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx(Ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:i.jsx("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10 text-center",children:i.jsx("p",{className:"text-red-600 dark:text-red-400",children:a})})})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx(Ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:i.jsxs("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 mb-6",children:"User Details"}),i.jsx("div",{className:"mb-4 p-4 bg-yellow-100 dark:bg-yellow-900 border border-yellow-300 dark:border-yellow-700 rounded-lg",children:i.jsxs("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm",children:[i.jsx("strong",{children:"Security Warning:"})," Passwords are managed by Firebase Authentication and cannot be accessed or displayed client-side due to security restrictions. To manage user passwords, implement a custom authentication system or password reset endpoint on your Render backend (","https://foremade-backend.onrender.com",")."]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-200 dark:bg-gray-700",children:[i.jsxs("th",{className:"p-3 text-sm font-semibold text-gray-700 dark:text-gray-300 cursor-pointer",onClick:c,children:["Name ",o==="asc"?"":""]}),i.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Email"}),i.jsx("th",{className:"p-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Phone Number"})]})}),i.jsx("tbody",{children:r.map(d=>i.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600",children:[i.jsx("td",{className:"p-3 text-sm text-gray-800 dark:text-gray-200",children:d.name}),i.jsx("td",{className:"p-3 text-sm text-gray-800 dark:text-gray-200",children:d.email}),i.jsx("td",{className:"p-3 text-sm text-gray-800 dark:text-gray-200",children:d.phoneNumber})]},d.id))})]})}),r.length===0&&i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center py-4",children:"No users found."})]})})]})}jr.defaults.timeout=8e4;function oPe({alerts:r,removeAlert:e}){return R.useEffect(()=>{if(r.length===0)return;const t=setTimeout(()=>r.forEach(s=>e(s.id)),5e3);return()=>clearTimeout(t)},[r,e]),i.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(t=>i.jsxs("div",{className:`p-4 rounded-lg shadow-md transform transition-all duration-300 ease-in-out animate-slide-in ${t.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"} flex items-center gap-2`,children:[i.jsx("i",{className:`bx ${t.type==="error"?"bx-error-circle":"bx-check-circle"} text-xl`}),i.jsx("span",{children:t.message}),i.jsx("button",{onClick:()=>e(t.id),className:"ml-auto text-lg font-bold hover:text-gray-200",children:""})]},t.id))})}function lPe(){const[r,e]=R.useState([]);return{alerts:r,addAlert:(a,n="info")=>{if(r.some(l=>l.message===a))return;const o=Date.now();e(l=>[...l,{id:o,message:a,type:n}])},removeAlert:a=>{e(n=>n.filter(o=>o.id!==a))}}}function cPe(){const r=zr(),{sellerId:e}=Pc(),{alerts:t,addAlert:s,removeAlert:a}=lPe(),[n,o]=R.useState(()=>{const ae=localStorage.getItem("adminProductForm");return ae?JSON.parse(ae):{sellerName:"",sellerId:"",name:"",description:"",price:"",stock:"",category:"",subcategory:"",subSubcategory:"",colors:[],sizes:[],condition:"New",productUrl:"",images:[],videos:[],tags:[],manualSize:""}}),[l,c]=R.useState(()=>{const ae=localStorage.getItem("adminLocationForm");return ae?JSON.parse(ae):{country:"",state:"",city:"",address:""}}),[d,u]=R.useState({}),[h,m]=R.useState(!1),[p,b]=R.useState(()=>{const ae=localStorage.getItem("adminProductImages");return ae?JSON.parse(ae):[]}),[x,y]=R.useState(()=>{const ae=localStorage.getItem("adminProductPreviews");return ae?JSON.parse(ae):[]}),[w,k]=R.useState(()=>{const ae=localStorage.getItem("adminProductVideos");return ae?JSON.parse(ae):[]}),[N,T]=R.useState(()=>{const ae=localStorage.getItem("adminProductVideoPreviews");return ae?JSON.parse(ae):[]}),[E,I]=R.useState({}),[S,A]=R.useState(!1),[P,O]=R.useState(0),[M,L]=R.useState(null),[B,G]=R.useState(""),[X,H]=R.useState([]),[W,ne]=R.useState(!1),[U,z]=R.useState(!1),[Q,q]=R.useState(!1),[Z,J]=R.useState(!1),[re,de]=R.useState(!1),[Se,je]=R.useState({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),[Ne,xe]=R.useState(!1),[ze,se]=R.useState([]),[fe,Te]=R.useState({}),[Ce,Be]=R.useState({}),[Ue,gt]=R.useState([]),[st,bt]=R.useState(null),[pt,zt]=R.useState(null),[Mt,dt]=R.useState(""),[At,Qe]=R.useState(1),ut=[{label:"Media",key:1},{label:"Details",key:2},{label:"Pricing",key:3},{label:"Location",key:4}],kt=ae=>ae===1?p.length>0:ae===2?n.name&&n.description&&n.sellerName&&n.sellerId:ae===3?n.price&&n.stock:ae===4?l.country&&l.state:!1;R.useEffect(()=>{kt(1)&&At<2&&Qe(2),kt(2)&&At<3&&Qe(3),kt(3)&&At<4&&Qe(4)},[p,n.name,n.description,n.sellerName,n.sellerId,n.price,n.stock,l.country,l.state]);const vt=ae=>{ae<At&&Qe(ae)},it=R.useRef(null),ft=R.useRef(null),Dt=R.useRef(null),Bt=R.useRef(null),or=R.useRef(null),Ot=[{name:"Red",hex:"#ff0000"},{name:"Orange",hex:"#FFA500"},{name:"blue",hex:"#0000ff"},{name:"Green",hex:"#008000"},{name:"Brown",hex:"#8b4513"},{name:"Black",hex:"#000000"},{name:"White",hex:"#ffffff"},{name:"Purple",hex:"#800080"},{name:"Pink",hex:"#ffc1cc"},{name:"Gray",hex:"#808080"},{name:"Yellow",hex:"#FFFF00"},{name:"Gold",hex:"#ff9a1d"},{name:"Silver",hex:"#e2f2ec"}],Xt=["S","M","L","XL","XXL"],Vr=["3","4","6","8","10","12","14","16","18","20"],vr=['3"','5"','5.5"','6"','6.5"','7"','7.5"','8"','8.5"','9"','9.5"','10"','10.5"','11"','11.5"','12"','12.5"'],Hr=["30ml","50ml","60ml","75ml","100ml"],xr=["1 to 5kg","5 to 10kg ","10 to 20kg","20kg above"],dr=["Verified","Original","Brand New","Authentic"],cr=8,Er=1,Ar=10*1024*1024,qt=30;R.useEffect(()=>{localStorage.setItem("adminLocationForm",JSON.stringify(l))},[l]),R.useEffect(()=>{const ae=yr(Xe(ve,"categories"),Me=>{const at=Me.docs.map(mt=>({id:mt.id,...mt.data()}));se(at.map(mt=>mt.name)),n.category&&!at.some(mt=>mt.name===n.category)&&(o(mt=>({...mt,category:"",subcategory:"",subSubcategory:"",sizes:[]})),s("Selected category was removed by admin.","error"))},Me=>{console.error("Error fetching categories:",Me),s("Failed to load categories.","error")}),ke=yr(Xe(ve,"customSubcategories"),Me=>{const at={};Me.forEach(mt=>{at[mt.id]=mt.data().subcategories||[]}),Te(at),n.category&&n.subcategory&&!at[n.category]?.includes(n.subcategory)&&(o(mt=>({...mt,subcategory:"",subSubcategory:"",sizes:[]})),s("Selected subcategory was removed by admin.","error"))},Me=>{console.error("Error fetching subcategories:",Me),s("Failed to load subcategories.","error")}),Oe=yr(Xe(ve,"customSubSubcategories"),Me=>{const at={};Me.forEach(mt=>{const ir=mt.id,Wr=mt.data();at[ir]={},Object.entries(Wr).forEach(([Ia,tn])=>{at[ir][Ia]=Array.isArray(tn)?tn:[]})}),Be(at),n.category&&n.subcategory&&n.subSubcategory&&!at[n.category]?.[n.subcategory]?.includes(n.subSubcategory)&&(o(mt=>({...mt,subSubcategory:"",sizes:[]})),s("Selected sub-subcategory was removed by admin.","error"))},Me=>{console.error("Error fetching sub-subcategories:",Me),s("Failed to load sub-subcategories.","error")});return(async()=>{try{const Me=qe(ve,"feeConfigurations","categoryFees"),at=await wt(Me);at.exists()?zt(at.data()):s("No fee configurations found.","error")}catch(Me){console.error("Error fetching fee configurations:",Me),s("Failed to load fee configurations.","error")}})(),()=>{ae(),ke(),Oe()}},[n.category,n.subcategory,n.subSubcategory,s]),R.useEffect(()=>{let ae=!0;const ke=Ye.onAuthStateChanged(async Oe=>{if(ae)if(L(Oe),e)try{const De=await wt(qe(ve,"users",e)),Me=De.exists()&&De.data().name||"Unknown Seller";console.log(`Seller fetched: ID=${e}, Name=${Me}`),o(at=>({...at,sellerId:e,sellerName:Me})),localStorage.setItem("adminProductForm",JSON.stringify({...n,sellerId:e,sellerName:Me}))}catch(De){console.error("Error fetching seller:",De),o(Me=>({...Me,sellerId:e,sellerName:"Unknown Seller"})),s(`Failed to load seller details for ID ${e}. Using default name.`,"warning"),localStorage.setItem("adminProductForm",JSON.stringify({...n,sellerId:e,sellerName:"Unknown Seller"}))}else s("No seller ID provided in URL.","error"),o(De=>({...De,sellerId:"",sellerName:""})),r("/admin/users")});return()=>{ae=!1,ke()}},[e,r,s,n]),R.useEffect(()=>{if(!pt||!n.category)return;const ae=parseFloat(n.price);if(!ae||isNaN(ae)){je({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0});return}const ke=pt[n.category]||{buyerProtectionRate:.08,handlingRate:.2},Oe=ae*ke.buyerProtectionRate,De=ae*ke.handlingRate,Me=ae+Oe+De,at=ae;je({productSize:n.category,buyerProtectionFee:Oe,handlingFee:De,totalEstimatedPrice:Me,sellerEarnings:at}),localStorage.setItem("adminProductForm",JSON.stringify(n))},[n.price,n.category,pt]),R.useEffect(()=>{localStorage.setItem("adminProductForm",JSON.stringify(n)),localStorage.setItem("adminProductImages",JSON.stringify(p)),localStorage.setItem("adminProductPreviews",JSON.stringify(x)),localStorage.setItem("adminProductVideos",JSON.stringify(w)),localStorage.setItem("adminProductVideoPreviews",JSON.stringify(N))},[n,p,x,w,N]),R.useEffect(()=>{dt(cs(n.description||"",{gfm:!0,breaks:!0}))},[n.description]),R.useEffect(()=>{(()=>{const ke=`${n.name} ${n.description} ${n.subSubcategory}`.toLowerCase(),Oe=[];ke.includes("leather")&&Oe.push("Leather"),(ke.includes("shoe")||ke.includes("footwear"))&&Oe.push("Footwear"),(ke.includes("phone")||ke.includes("mobile"))&&Oe.push("Smartphone"),ke.includes("fashion")&&Oe.push("Fashion"),ke.includes("vintage")&&Oe.push("Vintage"),ke.includes("smart")&&Oe.push("Smart"),gt(Oe.filter(De=>!n.tags.includes(De)))})()},[n.name,n.description,n.subSubcategory]),R.useEffect(()=>{const ae=navigator.userAgent||navigator.vendor||window.opera;xe(/android|iphone|ipad|ipod|opera mini|mobile/i.test(ae))},[]);const Pr=ae=>{const{name:ke,value:Oe}=ae.target;o(De=>({...De,[ke]:Oe,...ke==="category"?{subcategory:"",subSubcategory:"",sizes:[]}:{},...ke==="subcategory"?{subSubcategory:"",sizes:[]}:{}})),I(De=>({...De,[ke]:""}))},br=(ae,ke=!1)=>{const De=Array.from(ae).filter(mt=>mt.type.startsWith("image/")&&mt.size<=5*1024*1024);if(p.length+De.length>cr){s(`You can upload a maximum of ${cr} images.`,"error");return}if(ke&&De.length>1){s("Please upload one image at a time.","error");return}b(mt=>[...mt,...De]);const at=De.map(mt=>URL.createObjectURL(mt));y(mt=>[...mt,...at]),I(mt=>({...mt,images:""})),it.current&&(it.current.value=""),ft.current&&(ft.current.value="")},Jr=ae=>{const Oe=Array.from(ae.target.files).filter(Me=>Me.type.startsWith("video/")&&Me.size<=Ar);if(w.length+Oe.length>Er){s(`You can upload a maximum of ${Er} video.`,"error");return}const De=Me=>new Promise((at,mt)=>{const ir=document.createElement("video");ir.preload="metadata",ir.onloadedmetadata=()=>{ir.duration>qt&&mt(new Error(`Video must be under ${qt} seconds.`)),(ir.audioTracks||[]).length>0?mt(new Error("Please upload a video without audio.")):at(Me)},ir.onerror=()=>mt(new Error("Error loading video metadata.")),ir.src=URL.createObjectURL(Me)});Promise.all(Oe.map(Me=>De(Me))).then(Me=>{k(mt=>[...mt,...Me]);const at=Me.map(mt=>URL.createObjectURL(mt));T(mt=>[...mt,...at]),I(mt=>({...mt,videos:""}))}).catch(Me=>{s(Me.message,"error")}),Dt.current&&(Dt.current.value="")},Ps=ae=>br(ae.target.files),Or=ae=>br(ae.target.files,!0),ss=ae=>{ae.preventDefault(),ae.stopPropagation(),Bt.current.classList.remove("border-blue-500"),br(ae.dataTransfer.files)},$r=ae=>{ae.preventDefault(),ae.stopPropagation(),Bt.current.classList.add("border-blue-500")},Mr=ae=>{ae.preventDefault(),ae.stopPropagation(),Bt.current.classList.remove("border-blue-500")},Vs=ae=>{b(ke=>ke.filter((Oe,De)=>De!==ae)),y(ke=>ke.filter((Oe,De)=>De!==ae)),p.length<=1&&(it.current&&(it.current.value=""),ft.current&&(ft.current.value=""))},Ie=ae=>{k(ke=>ke.filter((Oe,De)=>De!==ae)),T(ke=>ke.filter((Oe,De)=>De!==ae)),w.length<=1&&Dt.current&&(Dt.current.value="")},Y=ae=>{o(ke=>{const Oe=ke.colors.includes(ae)?ke.colors.filter(De=>De!==ae):[...ke.colors,ae];return{...ke,colors:Oe}}),G(""),ne(!1)},ie=ae=>{const ke=ae.target.value;if(G(ke),ke.trim()===""){H([]),ne(!1);return}const Oe=Ot.filter(De=>De.name.toLowerCase().includes(ke.toLowerCase()));H(Oe),ne(!0)},ce=ae=>{if(ae.key==="Enter"&&B.trim()){const ke=B.trim();if(ke.length>20){s("Color name must be 20 characters or less.","error");return}o(Oe=>{const De=Oe.colors.includes(ke)?Oe.colors:[...Oe.colors,ke];return{...Oe,colors:De}}),G(""),H([]),ne(!1)}},oe=ae=>{o(ke=>({...ke,colors:ke.colors.filter(Oe=>Oe!==ae)}))},ge=ae=>{o(ke=>{const Oe=ke.sizes.includes(ae)?ke.sizes.filter(De=>De!==ae):[...ke.sizes,ae];return{...ke,sizes:Oe}})},be=ae=>{if(ae.key==="Enter"&&ae.target.value.trim()){const ke=ae.target.value.trim();o(Oe=>{const De=Oe.sizes.includes(ke)?Oe.sizes:[...Oe.sizes,ke];return{...Oe,sizes:De}}),ae.target.value=""}},he=ae=>{o(ke=>({...ke,sizes:ke.sizes.filter(Oe=>Oe!==ae)}))},ye=ae=>{o(ke=>{const Oe=ke.tags.includes(ae)?ke.tags.filter(De=>De!==ae):[...ke.tags,ae];return{...ke,tags:Oe}})},pe=ae=>{const ke=or.current;if(!ke)return;const Oe=ke.selectionStart,De=ke.selectionEnd,Me=n.description.substring(Oe,De);let at=n.description,mt=Oe,ir=De;ae==="bold"?Me?(at=at.substring(0,Oe)+`**${Me}**`+at.substring(De),mt=Oe+2,ir=De+2):(at=at.substring(0,Oe)+"****"+at.substring(Oe),mt=Oe+2,ir=Oe+2):ae==="italic"?Me?(at=at.substring(0,Oe)+`*${Me}*`+at.substring(De),mt=Oe+1,ir=De+1):(at=at.substring(0,Oe)+"**"+at.substring(Oe),mt=Oe+1,ir=Oe+1):ae==="code"&&(Me?(at=at.substring(0,Oe)+`\`${Me}\``+at.substring(De),mt=Oe+1,ir=De+1):(at=at.substring(0,Oe)+"``"+at.substring(Oe),mt=Oe+1,ir=Oe+1)),o(Wr=>({...Wr,description:at})),setTimeout(()=>{ke.selectionStart=mt,ke.selectionEnd=ir,ke.focus()},0)},we=()=>{const ae={};return n.sellerName.trim()||(ae.sellerName="Seller name is required."),n.sellerId||(ae.sellerId="Seller ID is required."),n.name.trim()||(ae.name="Product name is required."),(!n.price||isNaN(n.price)||n.price<=0)&&(ae.price="Enter a valid price greater than 0."),(!n.stock||isNaN(n.stock)||n.stock<0)&&(ae.stock="Enter a valid stock quantity (0 or more)."),(!n.category||!ze.includes(n.category))&&(ae.category="Select a valid category."),p.length===0&&(ae.images="At least one image is required."),p.length>cr&&(ae.images=`Maximum ${cr} images allowed.`),w.length>Er&&(ae.videos=`Maximum ${Er} video allowed.`),n.colors.length===0&&(ae.colors="Select at least one color."),n.category==="Clothing"&&n.subcategory&&n.sizes.length===0&&(ae.sizes="Select or enter at least one size for clothing products."),n.category==="Footwear"&&n.subcategory&&n.sizes.length===0&&(ae.sizes="Select or enter at least one size for footwear products."),n.category==="Perfumes"&&n.subcategory&&n.sizes.length===0&&(ae.sizes="Select or enter at least one size for perfume products."),ae},te=()=>{const ae={};return l.country||(ae.country="Country is required."),l.state||(ae.state="State is required."),ae},_e=async(ae,ke=!1)=>{const Oe=new FormData;Oe.append("file",ae),Oe.append("isVideo",ke);try{const Me=await jr.post("https://foremade-backend.onrender.com/upload",Oe,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4,onUploadProgress:at=>{const mt=Math.round(at.loaded*100/at.total);O(mt)}});if(Me.status!==200||!Me.data.url)throw new Error(`Failed to upload ${ke?"video":"image"} to Cloudinary.`);return Me.data.url}catch(De){throw console.error(`${ke?"Video":"Image"} upload error:`,{message:De.message,code:De.code,response:De.response?.data}),new Error(De.code==="ECONNABORTED"?"Request timed out. Please check your network or try again later.":De.code==="ERR_NETWORK"?"Cannot connect to server. Please check your network or server status.":De.response?.data?.error||`Failed to upload ${ke?"video":"image"}.`)}finally{O(0)}},le=async ae=>{if(ae.preventDefault(),I({}),u({}),A(!0),!M){s("You must be logged in to add products.","error"),A(!1),r("/login");return}const ke=we(),Oe=te();if(Object.keys(ke).length>0||Object.keys(Oe).length>0){I(ke),u(Oe),A(!1),s("Please fix the form errors.","error");return}try{const De=await Promise.all(p.map(ir=>_e(ir))),Me=w.length>0?await Promise.all(w.map(ir=>_e(ir,!0))):[];if(De.length===0)throw new Error("At least one image URL is required.");const at={sellerName:n.sellerName,sellerId:n.sellerId,seller:{name:n.sellerName,id:n.sellerId},name:n.name,description:n.description||"",price:parseFloat(n.price),stock:parseInt(n.stock,10),category:n.category.toLowerCase(),subcategory:n.subcategory||"",subSubcategory:n.subSubcategory||"",colors:n.colors,sizes:n.sizes,condition:n.condition||"New",productUrl:n.productUrl||"",imageUrls:De,videoUrls:Me,tags:n.tags,createdAt:new Date().toISOString(),reviews:[],buyerProtectionFee:Se.buyerProtectionFee,handlingFee:Se.handlingFee,totalEstimatedPrice:Se.totalEstimatedPrice,sellerEarnings:Se.sellerEarnings,manualSize:n.manualSize||"",location:{country:l.country,state:l.state,city:l.city||"",address:l.address||""},status:"approved"},mt=await fi(Xe(ve,"products"),at);console.log("Product uploaded with ID:",mt.id),m(!0),o({sellerName:"",sellerId:"",name:"",description:"",price:"",stock:"",category:"",subcategory:"",subSubcategory:"",colors:[],sizes:[],condition:"New",productUrl:"",images:[],videos:[],tags:[],manualSize:""}),c({country:"",state:"",city:"",address:""}),b([]),y([]),k([]),T([]),localStorage.removeItem("adminProductForm"),localStorage.removeItem("adminLocationForm"),localStorage.removeItem("adminProductImages"),localStorage.removeItem("adminProductPreviews"),localStorage.removeItem("adminProductVideos"),localStorage.removeItem("adminProductVideoPreviews"),it.current&&(it.current.value=""),ft.current&&(ft.current.value=""),Dt.current&&(Dt.current.value=""),H([]),ne(!1),z(!1),q(!1),J(!1),je({productSize:"",buyerProtectionFee:0,handlingFee:0,totalEstimatedPrice:0,sellerEarnings:0}),de(!1)}catch(De){console.error("Error uploading product:",{message:De.message,stack:De.stack,code:De.code}),s(De.message||"Failed to upload product.","error")}finally{A(!1)}},Ee=()=>n.category==="Clothing"&&n.subcategory?n.subcategory==="Men"?Xt:Vr:n.category==="Footwear"&&n.subcategory?vr:n.category==="Perfumes"&&n.subSubcategory?.startsWith("Oil -")?Hr:[];return M?i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsxs("div",{className:"flex-1 ml-0 md:ml-64 p-6",children:[i.jsxs("div",{className:"max-w-8xl rounded-xl mx-auto bg-white p-8",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6",children:"Upload Product for Seller"}),i.jsxs("form",{onSubmit:le,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-user text-blue-500"}),"Seller Information"]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Seller Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:n.sellerName||"No seller selected",readOnly:!0,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${E.sellerId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),E.sellerId&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),E.sellerId]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-image-add text-blue-500"}),"Product Media"]}),i.jsxs("div",{ref:Bt,onDrop:ss,onDragOver:$r,onDragLeave:Mr,children:[i.jsxs("p",{className:"text-gray-600 text-sm dark:text-gray-300",children:["Drag and drop images here or click to upload (Max ",cr," images, 5MB each)"]}),i.jsx("input",{type:"file",ref:it,onChange:Ps,accept:"image/*",multiple:!0,className:"hidden",disabled:S}),i.jsx("button",{type:"button",onClick:()=>it.current?.click(),className:"py-2 px-4 mt-4 m-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:S,children:"Select Images"}),i.jsx("input",{type:"file",ref:ft,onChange:Or,accept:"image/*",className:"hidden",disabled:S}),i.jsx("button",{type:"button",onClick:()=>ft.current?.click(),className:"py-2 px-4 mt-4 m-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:S,children:"Upload Single Image"})]}),x.length>0&&i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:x.map((ae,ke)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:ae,alt:`Preview ${ke}`,className:"w-full h-32 object-cover rounded-lg shadow-sm cursor-pointer",onClick:()=>bt({src:ae,type:"image"})}),i.jsx("button",{type:"button",onClick:()=>Vs(ke),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",disabled:S,children:i.jsx("i",{className:"bx bx-x"})})]},ke))}),E.images&&i.jsxs("p",{className:"text-red-600 text-xs mt-2 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),E.images]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Upload a video (Max ",Er,", 10MB, 30s, no audio)"]}),i.jsx("input",{type:"file",ref:Dt,onChange:Jr,accept:"video/*",className:"hidden",disabled:S}),i.jsx("button",{type:"button",onClick:()=>Dt.current?.click(),className:"mt-2 m-2 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:S,children:"Select Video"})]}),N.length>0&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:N.map((ae,ke)=>i.jsxs("div",{className:"relative group",children:[i.jsx("video",{src:ae,className:"w-full h-32 object-cover rounded-lg shadow-sm cursor-pointer",onClick:()=>bt({src:ae,type:"video"})}),i.jsx("button",{type:"button",onClick:()=>Ie(ke),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",disabled:S,children:i.jsx("i",{className:"bx bx-x"})})]},ke))}),E.videos&&i.jsxs("p",{className:"text-red-600 text-xs mt-2 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),E.videos]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-detail text-blue-500"}),"Product Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Product Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",value:n.name,onChange:Pr,placeholder:"e.g., GINSENG COFFEE",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:S}),E.name&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),E.name]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Category ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("button",{type:"button",onClick:()=>z(!U),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.category?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 flex justify-between items-center`,disabled:S,children:[i.jsx("span",{children:n.category||"Select a category"}),i.jsx("i",{className:"bx bx-chevron-down text-gray-500 dark:text-gray-400"})]}),U&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:ze.map(ae=>i.jsx("button",{type:"button",onClick:()=>{o(ke=>({...ke,category:ae,subcategory:"",subSubcategory:"",sizes:[]})),z(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:ae},ae))}),E.category&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),E.category]})]}),n.category&&fe[n.category]?.length>0&&i.jsxs("div",{className:"relative group",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Subcategory"}),i.jsxs("button",{type:"button",onClick:()=>q(!Q),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.subcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 flex justify-between items-center`,disabled:S,children:[i.jsx("span",{children:n.subcategory||"Select a subcategory"}),i.jsx("i",{className:"bx bx-chevron-down text-gray-500 dark:text-gray-400"})]}),Q&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:fe[n.category].map(ae=>i.jsx("button",{type:"button",onClick:()=>{o(ke=>({...ke,subcategory:ae,subSubcategory:"",sizes:[]})),q(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:ae},ae))})]}),n.subcategory&&Ce[n.category]?.[n.subcategory]?.length>0&&i.jsxs("div",{className:"relative group",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sub-subcategory"}),i.jsxs("button",{type:"button",onClick:()=>J(!Z),className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.subSubcategory?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 flex justify-between items-center`,disabled:S,children:[i.jsx("span",{children:n.subSubcategory||"Select a sub-subcategory"}),i.jsx("i",{className:"bx bx-chevron-down text-gray-500 dark:text-gray-400"})]}),Z&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:Ce[n.category][n.subcategory].map(ae=>i.jsx("button",{type:"button",onClick:()=>{o(ke=>({...ke,subSubcategory:ae,sizes:[]})),J(!1)},className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",children:ae},ae))})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("button",{type:"button",onClick:()=>pe("bold"),className:"p-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",title:"Bold",disabled:S,children:i.jsx("i",{className:"bx bx-bold"})}),i.jsx("button",{type:"button",onClick:()=>pe("italic"),className:"p-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",title:"Italic",disabled:S,children:i.jsx("i",{className:"bx bx-italic"})}),i.jsx("button",{type:"button",onClick:()=>pe("code"),className:"p-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",title:"Code",disabled:S,children:i.jsx("i",{className:"bx bx-code"})})]}),i.jsx("textarea",{ref:or,name:"description",value:n.description,onChange:Pr,placeholder:"Describe the product...",className:`w-full h-32 py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.description?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:S}),n.description&&i.jsx("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-800 dark:text-gray-100 prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:Mt}}),E.description&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),E.description]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-money text-blue-500"}),"Pricing & Stock"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Price (NGN) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",name:"price",value:n.price,onChange:Pr,placeholder:"e.g., 29500",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.price?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:S}),E.price&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),E.price]})]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Stock Quantity ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:Pr,placeholder:"e.g., 46",className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.stock?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:S}),E.stock&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),E.stock]})]})]}),Se.totalEstimatedPrice>0&&i.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Buyer Protection Fee: ",Se.buyerProtectionFee.toFixed(2)]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Handling Fee: ",Se.handlingFee.toFixed(2)]}),i.jsxs("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:["Total Estimated Price: ",Se.totalEstimatedPrice.toFixed(2)]}),i.jsxs("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:["Seller Earnings: ",Se.sellerEarnings.toFixed(2)]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-palette text-blue-500"}),"Colors"]}),i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Colors ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative mt-2",children:[i.jsx("input",{type:"text",value:B,onChange:ie,onKeyDown:ce,placeholder:"Type a color (e.g., Brown) and press Enter",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.colors?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:S}),W&&X.length>0&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-40 overflow-y-auto",children:X.map(ae=>i.jsxs("button",{type:"button",onClick:()=>Y(ae.name),className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[i.jsx("span",{className:"inline-block w-4 h-4 rounded-full",style:{backgroundColor:ae.hex}}),ae.name]},ae.name))})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.colors.map(ae=>i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[i.jsx("span",{children:ae}),i.jsx("button",{type:"button",onClick:()=>oe(ae),className:"text-red-500 hover:text-red-700",disabled:S,children:i.jsx("i",{className:"bx bx-x"})})]},ae))}),E.colors&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),E.colors]})]}),(n.category==="Clothing"||n.category==="Footwear"||n.category==="Perfumes")&&n.subcategory&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-ruler text-blue-500"}),"Sizes"]}),i.jsx("div",{className:"relative mt-2",children:i.jsx("input",{type:"text",onKeyDown:be,placeholder:"Type a size and press Enter",className:`w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.sizes?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:S})}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Ee().map(ae=>i.jsx("button",{type:"button",onClick:()=>ge(ae),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${n.sizes.includes(ae)?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${S?"opacity-50 cursor-not-allowed":""}`,disabled:S,children:ae},ae))}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.sizes.map(ae=>i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[i.jsx("span",{children:ae}),i.jsx("button",{type:"button",onClick:()=>he(ae),className:"text-red-500 hover:text-red-700",disabled:S,children:i.jsx("i",{className:"bx bx-x"})})]},ae))}),E.sizes&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),E.sizes]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-package text-blue-500"}),"Product Size"]}),i.jsxs("div",{className:"relative group",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Manual Size"}),i.jsxs("select",{name:"manualSize",value:n.manualSize,onChange:Pr,className:`mt-1 w-full py-2 px-3 border rounded-lg shadow-sm text-sm focus:outline-none focus:ring-2 ${E.manualSize?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"} bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,disabled:S,children:[i.jsx("option",{value:"",children:"Select a size"}),xr.map(ae=>i.jsx("option",{value:ae,children:ae},ae))]}),E.manualSize&&i.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[i.jsx("i",{className:"bx bx-error-circle"}),E.manualSize]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-purchase-tag text-blue-500"}),"Tags"]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:dr.concat(Ue).map(ae=>i.jsx("button",{type:"button",onClick:()=>ye(ae),className:`px-3 py-1 rounded-lg border text-sm transition-colors shadow-sm ${n.tags.includes(ae)?"border-blue-500 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${S?"opacity-50 cursor-not-allowed":""}`,disabled:S,children:ae},ae))}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.tags.map(ae=>i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs shadow-sm",children:[i.jsx("span",{children:ae}),i.jsx("button",{type:"button",onClick:()=>ye(ae),className:"text-red-500 hover:text-red-700",disabled:S,children:i.jsx("i",{className:"bx bx-x"})})]},ae))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-map text-blue-500"}),"Location"]}),i.jsx(hb,{locationData:l,setLocationData:c,errors:d,disabled:S})]}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:()=>r("/admin/users"),className:"py-2 px-4 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",disabled:S,children:"Cancel"}),i.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",disabled:S,children:S?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bx bx-loader bx-spin"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bx bx-upload"}),"Upload Product"]})})]})]}),P>0&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Upload Progress: ",P,"%"]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:i.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${P}%`}})})]}),h&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-md w-full",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"bx bx-check-circle text-green-500"}),"Success"]}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:["Product has been successfully uploaded for ",n.sellerName,"."]}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:()=>{m(!1),r("/admin/users")},className:"py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Users"}),i.jsx("button",{type:"button",onClick:()=>{m(!1),Qe(1)},className:"py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Upload Another Product"})]})]})}),st&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50",children:i.jsxs("div",{className:"relative max-w-4xl w-full",children:[st.type==="image"?i.jsx("img",{src:st.src,alt:"Zoomed media",className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"}):i.jsx("video",{src:st.src,controls:!0,className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"}),i.jsx("button",{type:"button",onClick:()=>bt(null),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600",children:i.jsx("i",{className:"bx bx-x text-xl"})})]})}),i.jsx(oPe,{alerts:t,removeAlert:a})]}),i.jsx("div",{className:"fixed top-4 right-4 md:static md:mt-6 max-w-4xl mx-auto",children:i.jsx("div",{className:"flex items-center gap-2 md:gap-4 bg-white dark:bg-gray-800 p-2 rounded-lg shadow-md",children:ut.map(ae=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{type:"button",onClick:()=>vt(ae.key),className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${At===ae.key?"bg-blue-600 text-white":kt(ae.key)?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"} ${At<ae.key?"cursor-not-allowed":""}`,disabled:At<ae.key||S,children:kt(ae.key)?i.jsx("i",{className:"bx bx-check"}):ae.key}),i.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-300 hidden md:block",children:ae.label}),ae.key<ut.length&&i.jsx("div",{className:`h-1 w-6 md:w-12 ${kt(ae.key)?"bg-green-500":"bg-gray-200 dark:bg-gray-700"}`})]},ae.key))})})]})]}):i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx("div",{className:"flex-1 ml-0 md:ml-64 p-6 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx("i",{className:"bx bx-loader bx-spin text-2xl"}),i.jsx("span",{children:"Loading..."})]})})]})}function dPe(){const{proSellerId:r}=Pc(),e=zr(),[t,s]=R.useState(null),[a,n]=R.useState(!1),[o,l]=R.useState({}),[c,d]=R.useState(!0),[u,h]=R.useState(null);R.useEffect(()=>{m()},[r]);const m=async()=>{d(!0);try{const w=qe(ve,"proSellers",r),k=await wt(w);if(k.exists()){const N=k.data();s(N),l(N)}else h("Pro seller not found")}catch(w){console.error("Fetch error:",w),h(`Failed to fetch pro seller details: ${w.message}`)}finally{d(!1)}},p=w=>{const{name:k,value:N,type:T,checked:E}=w.target;l(I=>({...I,[k]:T==="checkbox"?E:N}))},b=async()=>{try{const w=qe(ve,"proSellers",r);await Oi(w,o),s(o),n(!1),Ke.success("Pro seller updated successfully")}catch(w){console.error("Update error:",w),Ke.error(w.message||"Failed to update pro seller")}},x=async()=>{if(window.confirm("Are you sure you want to delete this pro seller?"))try{const w=qe(ve,"proSellers",r);await La(w),Ke.success("Pro seller deleted successfully"),e("/admin/pro-seller-requests")}catch(w){console.error("Delete error:",w),Ke.error(w.message||"Failed to delete pro seller")}};if(c)return i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx(Ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:i.jsx("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10 text-center",children:i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading pro seller details..."})})})]});if(u)return i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx(Ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:i.jsx("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10 text-center",children:i.jsx("p",{className:"text-red-600 dark:text-red-400",children:u})})})]});return i.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:[i.jsx(Ur,{}),i.jsx(Ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 ml-0 md:ml-64 p-4 md:p-6 lg:p-8",children:i.jsxs("div",{className:"max-w-8xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 lg:p-10",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 bg-clip-text text-transparent bg-gradient-to-r from-blue-900 to-amber-500 mb-6",children:"Pro Seller Details"}),i.jsxs("div",{className:"flex justify-end mb-6",children:[i.jsxs("button",{onClick:()=>n(!a),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-1 text-sm",children:[i.jsx("i",{className:"bx bx-edit"})," ",a?"Cancel":"Edit"]}),a&&i.jsxs("button",{onClick:b,className:"ml-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center gap-1 text-sm",children:[i.jsx("i",{className:"bx bx-save"})," Save"]}),i.jsxs("button",{onClick:x,className:"ml-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition flex items-center gap-1 text-sm",children:[i.jsx("i",{className:"bx bx-trash"})," Delete"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{label:"Pro Seller ID",key:"proSellerId"},{label:"User ID",key:"userId"},{label:"Business Name",key:"businessName"},{label:"Account Name",key:"accountName"},{label:"Account Number",key:"accountNumber"},{label:"Bank Name",key:"bankName"},{label:"Address",key:"address"},{label:"Email",key:"email"},{label:"Phone",key:"phone"},{label:"Manager",key:"manager"},{label:"Manager Email",key:"managerEmail"},{label:"Manager Phone",key:"managerPhone"},{label:"Reg Number",key:"regNumber"},{label:"Tax Ref",key:"taxRef"},{label:"Country",key:"country"},{label:"Business Type",key:"businessType"},{label:"Status",key:"status"},{label:"Created At",key:"createdAt",format:y},{label:"Updated At",key:"updatedAt",format:y},{label:"Description",key:"description"},{label:"Categories",key:"categories",isArray:!0},{label:"Analytics",key:"features.analytics",isBoolean:!0},{label:"Bulk Upload",key:"features.bulkUpload",isBoolean:!0},{label:"Priority Support",key:"features.prioritySupport",isBoolean:!0},{label:"Product Bumping",key:"features.productBumping",isBoolean:!0},{label:"Is Active",key:"isActive",isBoolean:!0},{label:"Account Verified",key:"extraFields.accountVerified",isBoolean:!0},{label:"Reg Verified",key:"extraFields.regVerified",isBoolean:!0},{label:"Tax Verified",key:"extraFields.taxVerified",isBoolean:!0},{label:"Website",key:"website"}].map(({label:w,key:k,format:N=I=>I,isArray:T=!1,isBoolean:E=!1})=>{const I=T?(o[k]||[]).join(", "):E?o[k]?"Yes":"No":N(o[k]);return i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:w}),a?i.jsx("input",{type:E?"checkbox":"text",name:k,value:E?void 0:o[k]||"",checked:E?!!o[k]:void 0,onChange:p,className:"mt-1 p-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}):i.jsx("p",{className:"mt-1 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-gray-100",children:I||"-"})]},k)})})]})})]});function y(w){if(!w)return"-";if(w instanceof Date)return isNaN(w.getTime())?"-":w.toLocaleDateString();const k=new Date(w);return isNaN(k.getTime())?"-":k.toLocaleDateString()}}const uPe=({children:r})=>{const e=Ra(),t=["/login","/register","/recover-password","/reset-password","/sell","/smile","/overview","/settings","/products-gallery","/products-upload","/products-upload-variant","/admin","/admin/payouts","/admin/dashboard","/admin/users","/admin/admins","/admin/edit/fees","/admin/edit/categories","/admin/sellers/payouts","/admin/products","/admin/notifications","/admin/manager","/admin/edit/banners","/admin/edit/daily-deals","/admin/pro-sellers-requests","/admin/pro-seller-details/:proSellerId","/admin/bumped-products","/admin/users-phone","/bulk-upload","/product-bump","/product-bump-info","/seller-transactions","/pro-seller-analytics","/sellers/orders","/sellers/products","/seller-onboarding","/seller-chat","/admin/sellers-wallet","/admin/transactions","/admin-upload-product/:sellerId","/dashboard"],s=[/^\/seller\/edit-product\/[^/]+$/,/^\/seller-chat\/[^/]+$/,/^\/admin\/pro-seller-details\/[^/]+$/,/^\/admin-upload-product\/[^/]+$/],a=t.includes(e.pathname)||s.some(o=>o.test(e.pathname)),n=["/profile","/about"].includes(e.pathname);return i.jsxs(i.Fragment,{children:[!a&&i.jsx(Ohe,{}),!a&&i.jsx(Kne,{}),i.jsx("main",{className:"min-h-screen bg-white text-black dark:bg-gray-900 dark:text-white",children:r}),n&&i.jsx(Lhe,{})]})};function hPe(){return i.jsx(bX,{children:i.jsx(Dne,{children:i.jsx(sae,{children:i.jsx(uPe,{children:i.jsxs(XY,{children:[i.jsx(_t,{path:"/login",element:i.jsx(cfe,{})}),i.jsx(_t,{path:"/register",element:i.jsx(hfe,{})}),i.jsx(_t,{path:"/recover-password",element:i.jsx(hwe,{})}),i.jsx(_t,{path:"/reset-password",element:i.jsx(gwe,{})}),i.jsx(_t,{path:"/pro-seller-form",element:i.jsx(Cwe,{})}),i.jsx(_t,{path:"/",element:i.jsx(afe,{})}),i.jsx(_t,{path:"/smile",element:i.jsx(Q1e,{})}),i.jsx(_t,{path:"/sell",element:i.jsx(fF,{})}),i.jsx(_t,{path:"/sellers/products",element:i.jsx(Tbe,{})}),i.jsx(_t,{path:"/products-upload",element:i.jsx(mye,{})}),i.jsx(_t,{path:"/products-upload-variant",element:i.jsx(Uye,{})}),i.jsx(_t,{path:"/products-gallery",element:i.jsx(zye,{})}),i.jsx(_t,{path:"/seller/edit-product/:productId",element:i.jsx(kwe,{})}),i.jsx(_t,{path:"/dashboard",element:i.jsx(fF,{})}),i.jsx(_t,{path:"/sellers/orders",element:i.jsx(s0e,{})}),i.jsx(_t,{path:"/seller-onboarding",element:i.jsx(Cbe,{})}),i.jsx(_t,{path:"/bulk-upload",element:i.jsx(F3e,{})}),i.jsx(_t,{path:"/product-bump",element:i.jsx(L3e,{})}),i.jsx(_t,{path:"/product-bump-info",element:i.jsx(J3e,{})}),i.jsx(_t,{path:"/seller-transactions",element:i.jsx(z3e,{})}),i.jsx(_t,{path:"/pro-seller-analytics",element:i.jsx(V3e,{})}),i.jsx(_t,{path:"/terms-conditions",element:i.jsx(Hye,{})}),i.jsx(_t,{path:"/seller-agreement",element:i.jsx(TX,{})}),i.jsx(_t,{path:"/pro-seller-guide",element:i.jsx(Dwe,{})}),i.jsx(_t,{path:"/pro-seller-guide-full",element:i.jsx(Owe,{})}),i.jsx(_t,{path:"/support",element:i.jsx(Vye,{})}),i.jsx(_t,{path:"/buyer-protection-policy",element:i.jsx(q3e,{})}),i.jsx(_t,{path:"/refund-policy",element:i.jsx(G3e,{})}),i.jsx(_t,{path:"/guidelines",element:i.jsx(CX,{})}),i.jsx(_t,{path:"/empowerment-hub",element:i.jsx(rwe,{})}),i.jsx(_t,{path:"/youth-empowerment-form",element:i.jsx(awe,{})}),i.jsx(_t,{path:"/youth-empowerment-terms",element:i.jsx(nwe,{})}),i.jsx(_t,{path:"/products",element:i.jsx(lfe,{})}),i.jsx(_t,{path:"/product/:id",element:i.jsx(xfe,{})}),i.jsx(_t,{path:"/best-selling",element:i.jsx(Wz,{})}),i.jsx(_t,{path:"/electronics",element:i.jsx(cwe,{})}),i.jsx(_t,{path:"/tablet-phones",element:i.jsx(lwe,{})}),i.jsx(_t,{path:"/smart-watches",element:i.jsx(dwe,{})}),i.jsx(_t,{path:"/privacy-policy",element:i.jsx(J1e,{})}),i.jsx(_t,{path:"/shipping-policy",element:i.jsx(PX,{})}),i.jsx(_t,{path:"/privacy-policy/:type",element:i.jsx(twe,{})}),i.jsx(_t,{path:"/privacy-policy/eu/access",element:i.jsx(owe,{})}),i.jsx(_t,{path:"/pages/other-products/:category",element:i.jsx(xwe,{})}),i.jsx(_t,{path:"/stores",element:i.jsx(wwe,{})}),i.jsx(_t,{path:"/cart",element:i.jsx(wfe,{})}),i.jsx(_t,{path:"/checkout",element:i.jsx(dme,{})}),i.jsx(_t,{path:"/favorites",element:i.jsx(kfe,{})}),i.jsx(_t,{path:"/order-confirmation",element:i.jsx(r0e,{})}),i.jsx(_t,{path:"/profile",element:i.jsx(_fe,{})}),i.jsx(_t,{path:"/orders",element:i.jsx(ume,{})}),i.jsx(_t,{path:"/address",element:i.jsx(hme,{})}),i.jsx(_t,{path:"/setting",element:i.jsx(fme,{})}),i.jsx(_t,{path:"/search",element:i.jsx(ywe,{})}),i.jsx(_t,{path:"/notifications",element:i.jsx(vwe,{})}),i.jsx(_t,{path:"/about",element:i.jsx(bwe,{})}),i.jsx(_t,{path:"/seller-chat",element:i.jsx(u8,{})}),i.jsx(_t,{path:"/seller-chat/:chatId",element:i.jsx(u8,{})}),i.jsx(_t,{path:"/seller/:sellerId",element:i.jsx(nPe,{})}),i.jsx(_t,{path:"/order-tracking",element:i.jsx(ePe,{})}),i.jsx(_t,{path:"/category/:categoryName",element:i.jsx(Ewe,{})}),i.jsx(_t,{path:"/user-agreement",element:i.jsx(W3e,{})}),i.jsx(_t,{path:"/daily-deals",element:i.jsx(rPe,{})}),i.jsx(_t,{path:"/trending-fashions",element:i.jsx(sPe,{})}),i.jsx(_t,{path:"/trending-gadgets",element:i.jsx(aPe,{})}),i.jsx(_t,{path:"/chat/:productId",element:i.jsx($ye,{})}),i.jsx(_t,{path:"/chat-overview",element:i.jsx(mme,{})}),i.jsx(_t,{path:"/admin/dashboard",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(Gye,{})})}),i.jsx(_t,{path:"/admin/transactions",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(Cve,{})})}),i.jsx(_t,{path:"/admin/users",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(eve,{})})}),i.jsx(_t,{path:"/admin/products",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(qye,{})})}),i.jsx(_t,{path:"/admin/sellers/payouts",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(sve,{})})}),i.jsx(_t,{path:"/admin/edit/fees",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(pve,{})})}),i.jsx(_t,{path:"/admin/edit/categories",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(yve,{})})}),i.jsx(_t,{path:"/admin/notifications",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(Kye,{})})}),i.jsx(_t,{path:"/admin/edit/banners",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(ove,{})})}),i.jsx(_t,{path:"/admin/edit/daily-deals",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(dve,{})})}),i.jsx(_t,{path:"/admin/manager",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(kve,{})})}),i.jsx(_t,{path:"/admin/sellers-wallet",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(Sve,{})})}),i.jsx(_t,{path:"/admin/pro-sellers-requests",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(jve,{})})}),i.jsx(_t,{path:"/admin/bumped-products",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(Eve,{})})}),i.jsx(_t,{path:"/admin/users-phone",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(iPe,{})})}),i.jsx(_t,{path:"/admin/pro-seller-details/:proSellerId",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(dPe,{})})}),i.jsx(_t,{path:"/admin-upload-product/:sellerId",element:i.jsx(on,{requireAdmin:!0,children:i.jsx(cPe,{})})}),i.jsx(_t,{path:"*",element:i.jsx(mfe,{})})]})})})})})}nY.createRoot(document.getElementById("root")).render(i.jsx(R.StrictMode,{children:i.jsx(hPe,{})}));
